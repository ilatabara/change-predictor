id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpuppet-barbican~master~I27c7081db25b1252d467f9fada3e7f04156a5536,openstack/puppet-barbican,master,I27c7081db25b1252d467f9fada3e7f04156a5536,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:24:58.000000000,2021-05-11 18:56:00.000000000,2021-05-11 18:56:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:24:58.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/7c74f5f8fa27cb55db137baf63a22dbdcfdcfa47', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I27c7081db25b1252d467f9fada3e7f04156a5536\n""}]",0,790602,7c74f5f8fa27cb55db137baf63a22dbdcfdcfa47,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I27c7081db25b1252d467f9fada3e7f04156a5536
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/02/790602/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,7c74f5f8fa27cb55db137baf63a22dbdcfdcfa47,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-aodh~master~Ibc6a1ed197c8da748551c463011b39e7c4c7f9ae,openstack/puppet-aodh,master,Ibc6a1ed197c8da748551c463011b39e7c4c7f9ae,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:24:08.000000000,2021-05-11 18:55:34.000000000,2021-05-11 18:55:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:24:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/5304b836fe99c2b11328677477e6249ad5574979', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ibc6a1ed197c8da748551c463011b39e7c4c7f9ae\n""}]",0,790601,5304b836fe99c2b11328677477e6249ad5574979,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ibc6a1ed197c8da748551c463011b39e7c4c7f9ae
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/01/790601/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5304b836fe99c2b11328677477e6249ad5574979,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-ceilometer~master~I0f84b9973598f835e2e2dfe71095ba327b61c087,openstack/puppet-ceilometer,master,I0f84b9973598f835e2e2dfe71095ba327b61c087,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:25:41.000000000,2021-05-11 18:54:28.000000000,2021-05-11 18:54:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:25:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/32cbb8a241d89489890b341bfd0918fe3ad1db47', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I0f84b9973598f835e2e2dfe71095ba327b61c087\n""}]",0,790603,32cbb8a241d89489890b341bfd0918fe3ad1db47,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I0f84b9973598f835e2e2dfe71095ba327b61c087
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/03/790603/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,32cbb8a241d89489890b341bfd0918fe3ad1db47,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fironic-python-agent-builder~master~Ieca743ff2d3ccea27b686abeeedf69b03663c491,openstack/ironic-python-agent-builder,master,Ieca743ff2d3ccea27b686abeeedf69b03663c491,Update master for stable/wallaby,MERGED,2021-05-10 11:01:34.000000000,2021-05-11 18:49:25.000000000,2021-05-11 18:46:50.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-10 11:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/60af4ec9f0b33ec71597ae01a9f2a25b255973d2', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ieca743ff2d3ccea27b686abeeedf69b03663c491\n'}, {'number': 2, 'created': '2021-05-10 11:11:31.000000000', 'files': ['releasenotes/source/unreleased.rst', 'releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/e39185c99c2befd5304202bd3530f63408905127', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ieca743ff2d3ccea27b686abeeedf69b03663c491\n'}]",0,790410,e39185c99c2befd5304202bd3530f63408905127,11,5,2,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ieca743ff2d3ccea27b686abeeedf69b03663c491
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/10/790410/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/wallaby.rst'],1,60af4ec9f0b33ec71597ae01a9f2a25b255973d2,reno-wallaby,============================ Wallaby Series Release Notes ============================ .. release-notes:: :branch: stable/wallaby ,,6,0
openstack%2Fironic-python-agent-builder~master~Ice5ba6acefbee68a9526cf482235fda0eeef5dc4,openstack/ironic-python-agent-builder,master,Ice5ba6acefbee68a9526cf482235fda0eeef5dc4,tinyIPA: remove support for iSCSI deploy,MERGED,2021-05-10 10:49:37.000000000,2021-05-11 18:48:18.000000000,2021-05-11 18:46:45.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-10 10:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/9277b3a7f129302fe539254283536df31dd27702', 'message': 'tinyIPA: remove support for iSCSI deploy\n\nChange-Id: Ice5ba6acefbee68a9526cf482235fda0eeef5dc4\n'}, {'number': 2, 'created': '2021-05-10 13:04:21.000000000', 'files': ['tinyipa/finalise-tinyipa.sh', 'tinyipa/build-tinyipa.sh', 'releasenotes/notes/tinyipa-tgt-226f74125238c239.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/0e243c4e51f918965021b34b6cdfdd829105ea71', 'message': 'tinyIPA: remove support for iSCSI deploy\n\nChange-Id: Ice5ba6acefbee68a9526cf482235fda0eeef5dc4\n'}]",1,790404,0e243c4e51f918965021b34b6cdfdd829105ea71,11,3,2,10239,,,0,"tinyIPA: remove support for iSCSI deploy

Change-Id: Ice5ba6acefbee68a9526cf482235fda0eeef5dc4
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/04/790404/1 && git format-patch -1 --stdout FETCH_HEAD,"['tinyipa/finalise-tinyipa.sh', 'tinyipa/build-tinyipa.sh', 'releasenotes/notes/tinyipa-tgt-226f74125238c239.yaml']",3,9277b3a7f129302fe539254283536df31dd27702,no-iscsi,--- upgrade: - | The tinyIPA build no longer supports the ``iscsi`` deploy interface. Please use version 2.6.0 or older for this. ,,6,10
openstack%2Fdesignate-tempest-plugin~master~If5acf4cf853af6b7dc872bc46d6747a01124ad2d,openstack/designate-tempest-plugin,master,If5acf4cf853af6b7dc872bc46d6747a01124ad2d,"New test case for a ""list export zone"", filter listed results.",MERGED,2021-04-11 15:53:11.000000000,2021-05-11 18:46:41.000000000,2021-05-11 18:45:27.000000000,"[{'_account_id': 6994}, {'_account_id': 11628}, {'_account_id': 15025}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-11 15:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/32dbabfd3279060d066c611a0c3fa0616b686a85', 'message': 'New test case for a ""list export zone"", filter listed results.\n\nThe purpose of this test is to check out that the filtering\nlisted results works as expected.\n\nChange-Id: If5acf4cf853af6b7dc872bc46d6747a01124ad2d\n'}, {'number': 2, 'created': '2021-04-25 08:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/db01c4f5b850cceff494e76048a8c0f53bbc9eeb', 'message': 'New test case for a ""list export zone"", filter listed results.\n\nThe purpose of this test is to check out that the filtering\nlisted results works as expected.\n\nChange-Id: If5acf4cf853af6b7dc872bc46d6747a01124ad2d\n'}, {'number': 3, 'created': '2021-05-04 12:30:09.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zones_exports.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/5a26edcbb1d69e0c3a5d381151b9b68918f0aa64', 'message': 'New test case for a ""list export zone"", filter listed results.\n\nThe purpose of this test is to check out that the filtering\nlisted results works as expected.\n\nChange-Id: If5acf4cf853af6b7dc872bc46d6747a01124ad2d\n'}]",2,785780,5a26edcbb1d69e0c3a5d381151b9b68918f0aa64,22,5,3,28609,,,0,"New test case for a ""list export zone"", filter listed results.

The purpose of this test is to check out that the filtering
listed results works as expected.

Change-Id: If5acf4cf853af6b7dc872bc46d6747a01124ad2d
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/80/785780/3 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_zones_exports.py', 'designate_tempest_plugin/services/dns/v2/json/zone_exports_client.py']",2,32dbabfd3279060d066c611a0c3fa0616b686a85,list_zone_exports_filter," def show_zone_export(self, uuid, params=None, headers=None): :param headers (dict): The headers to use for the request. 'zones/tasks/exports', uuid, params=params, headers=headers) def list_zone_exports(self, params=None, headers=None): :param headers (dict): The headers to use for the request. 'zones/tasks/exports', params=params, headers=headers)"," def show_zone_export(self, uuid, params=None): 'zones/tasks/exports', uuid, params=params) def list_zone_exports(self, params=None): 'zones/tasks/exports', params=params)",65,4
openstack%2Fkayobe~stable%2Ftrain~Id6690dc9a486af0ed7d42555d84cf77d6de0b6af,openstack/kayobe,stable/train,Id6690dc9a486af0ed7d42555d84cf77d6de0b6af,CI: switch to quay.io for container images,MERGED,2021-05-05 11:18:32.000000000,2021-05-11 18:45:03.000000000,2021-05-11 18:43:10.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 11:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/44547ecea11f79887e9159c6f27062f15f22bb18', 'message': 'CI: switch to quay.io for container images\n\nBased on the discussions from recent Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nThe images have already been published via Kolla CI\nfor master/Wallaby [4] and Victoria [5].\n\nThis change applies only to CI.\nThe user-facing move is yet to be discussed.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n[4] https://review.opendev.org/c/openstack/kolla/+/781130\n[5] https://review.opendev.org/c/openstack/kolla/+/781899\n\nSee related Kolla Ansible change\nI22e11a994801447526ac26fc2815a1679876225e\n\nChange-Id: Id6690dc9a486af0ed7d42555d84cf77d6de0b6af\n(cherry picked from commit 4ad010a5a60811135b43b9ac9d16c8cf01d781dc)\n'}, {'number': 2, 'created': '2021-05-05 13:43:12.000000000', 'files': ['playbooks/kayobe-overcloud-base/globals.yml.j2', 'playbooks/kayobe-seed-base/globals.yml.j2', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b26f4c1cdf9a70db267b73535e06b882a07917d0', 'message': 'CI: switch to quay.io for container images\n\nBased on the discussions from recent Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nThe images have already been published via Kolla CI\nfor master/Wallaby [4] and Victoria [5].\n\nThis change applies only to CI.\nThe user-facing move is yet to be discussed.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n[4] https://review.opendev.org/c/openstack/kolla/+/781130\n[5] https://review.opendev.org/c/openstack/kolla/+/781899\n\nSee related Kolla Ansible change\nI22e11a994801447526ac26fc2815a1679876225e\n\nChange-Id: Id6690dc9a486af0ed7d42555d84cf77d6de0b6af\n(cherry picked from commit 4ad010a5a60811135b43b9ac9d16c8cf01d781dc)\n'}]",0,789785,b26f4c1cdf9a70db267b73535e06b882a07917d0,28,4,2,14826,,,0,"CI: switch to quay.io for container images

Based on the discussions from recent Kolla meetings [1][2][3],
we established that, to avoid the DockerHub pull limit issues
in our CI, we will try using quay.io.

The images have already been published via Kolla CI
for master/Wallaby [4] and Victoria [5].

This change applies only to CI.
The user-facing move is yet to be discussed.

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102
[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137
[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50
[4] https://review.opendev.org/c/openstack/kolla/+/781130
[5] https://review.opendev.org/c/openstack/kolla/+/781899

See related Kolla Ansible change
I22e11a994801447526ac26fc2815a1679876225e

Change-Id: Id6690dc9a486af0ed7d42555d84cf77d6de0b6af
(cherry picked from commit 4ad010a5a60811135b43b9ac9d16c8cf01d781dc)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/85/789785/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/globals.yml.j2', 'playbooks/kayobe-seed-base/globals.yml.j2', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2']",14,44547ecea11f79887e9159c6f27062f15f22bb18,,"kolla_docker_namespace: ""openstack.kolla"" # use the published images from a site mirror of quay.io kolla_docker_registry: ""{{ zuul_site_mirror_fqdn }}:4447""",,82,0
openstack%2Fvalidations-common~master~I4ce22adcffec49e9cce1d9a45757aa8577f2fc71,openstack/validations-common,master,I4ce22adcffec49e9cce1d9a45757aa8577f2fc71,Disabling strict mode for ConfigParser in read_ini,MERGED,2021-04-27 01:49:22.000000000,2021-05-11 18:44:55.000000000,2021-05-11 18:44:55.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 01:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/5fb295e600a6342c32afe40ea209b5479aadc1b3', 'message': ""Disabling strict mode for ConfigParser in read_ini\n\nIt's possible that some options are duplicated as list in some config\nfile. If we don't disable strict mode, validations_read_ini will fail to\nparse a config file.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I4ce22adcffec49e9cce1d9a45757aa8577f2fc71\n""}, {'number': 2, 'created': '2021-04-27 02:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f26275d46be66061080ee0c807efc1e8038e392a', 'message': ""Disabling strict mode for ConfigParser in read_ini\n\nIt's possible that some options are duplicated as list in some config\nfile. If we don't disable strict mode, validations_read_ini will fail to\nparse a config file.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I4ce22adcffec49e9cce1d9a45757aa8577f2fc71\n""}, {'number': 3, 'created': '2021-04-27 02:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6841056f1435404956dabbd760505a421fbfd6fc', 'message': ""Disabling strict mode for ConfigParser in read_ini\n\nIt's possible that some options are duplicated as list in some config\nfile. If we don't disable strict mode, validations_read_ini will fail to\nparse a config file.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I4ce22adcffec49e9cce1d9a45757aa8577f2fc71\n""}, {'number': 4, 'created': '2021-04-27 15:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6b15aa5f72cbd174558f9c6ce9c64defb35ec64c', 'message': ""Disabling strict mode for ConfigParser in read_ini\n\nIt's possible that some options are duplicated as list in some config\nfile. If we don't disable strict mode, validations_read_ini will fail to\nparse a config file.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I4ce22adcffec49e9cce1d9a45757aa8577f2fc71\n""}, {'number': 5, 'created': '2021-04-27 19:37:07.000000000', 'files': ['validations_common/library/validations_read_ini.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/c6508ad004d321aea3bfb019dd93e91dcff53618', 'message': ""Disabling strict mode for ConfigParser in read_ini\n\nIt's possible that some options are duplicated as list in some config\nfile. If we don't disable strict mode, validations_read_ini will fail to\nparse a config file.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I4ce22adcffec49e9cce1d9a45757aa8577f2fc71\n""}]",0,788105,c6508ad004d321aea3bfb019dd93e91dcff53618,14,5,5,27419,,,0,"Disabling strict mode for ConfigParser in read_ini

It's possible that some options are duplicated as list in some config
file. If we don't disable strict mode, validations_read_ini will fail to
parse a config file.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1950544
Change-Id: I4ce22adcffec49e9cce1d9a45757aa8577f2fc71
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/05/788105/5 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/library/validations_read_ini.py'],1,5fb295e600a6342c32afe40ea209b5479aadc1b3,, config = ConfigParser.SafeConfigParser(strict=False), config = ConfigParser.SafeConfigParser(),1,1
openstack%2Fvalidations-common~master~I59ebd9e52b6fb6ab53ec9e53529d2feadc9e745e,openstack/validations-common,master,I59ebd9e52b6fb6ab53ec9e53529d2feadc9e745e,ConfigParser exeption message should be returned,MERGED,2021-04-27 02:01:48.000000000,2021-05-11 18:44:41.000000000,2021-05-11 18:44:41.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-27 02:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d5d45a9718c4cf5c7cacc6b34e814a86496483c5', 'message': 'ConfigParser exeption message should be returned\n\nWhen we fail to parse config file it would be good to know why instead\nof having a generic message. When we print the exception, the message is\npretty clear.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I59ebd9e52b6fb6ab53ec9e53529d2feadc9e745e\n'}, {'number': 2, 'created': '2021-04-27 02:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b4559d228cf6369e51e0fb409d5fa0f1d1a9d78f', 'message': 'ConfigParser exeption message should be returned\n\nWhen we fail to parse config file it would be good to know why instead\nof having a generic message. When we print the exception, the message is\npretty clear.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I59ebd9e52b6fb6ab53ec9e53529d2feadc9e745e\n'}, {'number': 3, 'created': '2021-04-27 15:19:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/bd6ff753d2d911a8b1fc96380c71a7b80fc39d5e', 'message': 'ConfigParser exeption message should be returned\n\nWhen we fail to parse config file it would be good to know why instead\nof having a generic message. When we print the exception, the message is\npretty clear.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I59ebd9e52b6fb6ab53ec9e53529d2feadc9e745e\n'}, {'number': 4, 'created': '2021-04-27 15:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/cea04ed5410f37ff5a8c35e43ee455e0c5d08846', 'message': 'ConfigParser exeption message should be returned\n\nWhen we fail to parse config file it would be good to know why instead\nof having a generic message. When we print the exception, the message is\npretty clear.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I59ebd9e52b6fb6ab53ec9e53529d2feadc9e745e\n'}, {'number': 5, 'created': '2021-04-27 19:36:27.000000000', 'files': ['validations_common/tests/library/test_validations_read_ini.py', 'validations_common/library/validations_read_ini.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a38d34dd82c52cc46a9911813c26b5e4671a1e0c', 'message': 'ConfigParser exeption message should be returned\n\nWhen we fail to parse config file it would be good to know why instead\nof having a generic message. When we print the exception, the message is\npretty clear.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1950544\nChange-Id: I59ebd9e52b6fb6ab53ec9e53529d2feadc9e745e\n'}]",5,788119,a38d34dd82c52cc46a9911813c26b5e4671a1e0c,22,8,5,27419,,,0,"ConfigParser exeption message should be returned

When we fail to parse config file it would be good to know why instead
of having a generic message. When we print the exception, the message is
pretty clear.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1950544
Change-Id: I59ebd9e52b6fb6ab53ec9e53529d2feadc9e745e
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/19/788119/4 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/library/validations_read_ini.py'],1,d5d45a9718c4cf5c7cacc6b34e814a86496483c5,broadexceptions," except (OSError, ConfigParser.ParsingError) as exc_msg: msg = f""The file '{path}' is not in a valid INI format: {exc_msg}"""," except (OSError, ConfigParser.ParsingError): msg = ""The file '{}' is not in a valid INI format."".format(path)",2,2
openstack%2Fvalidations-common~master~I2e9a4640fad0f9c44b5503d53ea2613a416c6e18,openstack/validations-common,master,I2e9a4640fad0f9c44b5503d53ea2613a416c6e18,Test for callback initiation.,MERGED,2021-03-16 16:20:26.000000000,2021-05-11 18:44:17.000000000,2021-05-11 18:44:17.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-16 16:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6e23d5f49bea58fda5b9fd1f8faa532e38e42b48', 'message': 'Test for callback initiation.\n\nChecks for presence of required atributes,\nbasic functionality of the init method\nand the current_time module function.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2e9a4640fad0f9c44b5503d53ea2613a416c6e18\n'}, {'number': 2, 'created': '2021-04-06 13:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/7402a67c2c4cbe08ed06cfe3323ffa7d0a61951f', 'message': 'Test for callback initiation.\n\nChecks for presence of required atributes,\nbasic functionality of the init method\nand the current_time module function.\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2e9a4640fad0f9c44b5503d53ea2613a416c6e18\n'}, {'number': 3, 'created': '2021-05-06 08:48:48.000000000', 'files': ['validations_common/tests/callback_plugins/test_http_json.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/29575dda05132bf8e203ba0ccc8df1efa8e61e65', 'message': 'Test for callback initiation.\n\nChecks for presence of required atributes,\nbasic functionality of the init method\nand the current_time module function.\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2e9a4640fad0f9c44b5503d53ea2613a416c6e18\n'}]",1,780922,29575dda05132bf8e203ba0ccc8df1efa8e61e65,21,6,3,32926,,,0,"Test for callback initiation.

Checks for presence of required atributes,
basic functionality of the init method
and the current_time module function.

Closes-Bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2e9a4640fad0f9c44b5503d53ea2613a416c6e18
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/22/780922/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/tests/callback_plugins/test_http_json.py'],1,6e23d5f49bea58fda5b9fd1f8faa532e38e42b48,unittests/http_json-init,"import re from unittest import mock from ansible.plugins.callback import CallbackBase def is_iso_time(time_string): """""" Checks if string represents valid time in ISO format, with the default delimiter. Regex is somewhat convoluted, but general enough to last at least until the 9999 AD. Returns: True if string matches the pattern. False otherwise. """""" match = re.match( r'\d{4}-[01][0-9]-[0-3][0-9]T[0-3][0-9](:[0-5][0-9]){2}\.\d+Z', time_string) if match: return True else: return False def test_callback_instantiation(self): """""" Verifying that the CallbackModule is instantiated properly. Test checks presence of CallbackBase in the inheritance chain, in order to ensure that folowing tests are performed with the correct assumptions. """""" callback = http_json.CallbackModule() self.assertEqual(type(callback).__mro__[2], CallbackBase) """""" Every ansible callback needs to define variable with name and version. """""" self.assertIn('CALLBACK_NAME', dir(callback)) self.assertIn('CALLBACK_VERSION', dir(callback)) self.assertIn('CALLBACK_TYPE', dir(callback)) self.assertEqual(callback.CALLBACK_NAME, 'http_json') self.assertIsInstance(callback.CALLBACK_VERSION, float) self.assertEqual(callback.CALLBACK_TYPE, 'aggregate') """""" Additionally, the 'http_json' callback performs several other operations during instantiation. """""" self.assertEqual(callback.env, {}) self.assertIsNone(callback.t0) """""" Callback time sanity check only verifies general format of the stored time to be iso format `YYYY-MM-DD HH:MM:SS.mmmmmm` with 'T' as a separator. For example: '2020-07-03T13:28:21.224103Z' """""" self.assertTrue(is_iso_time(callback.current_time))", import validations_common.library.reportentry as validationfrom unittest import mock,63,2
openstack%2Ftripleo-quickstart-extras~master~I21824bc14f4c1d55235d7b80870bac7f7edff5d4,openstack/tripleo-quickstart-extras,master,I21824bc14f4c1d55235d7b80870bac7f7edff5d4,Set flavor_min_mem as a tempestconf overrides,MERGED,2021-05-10 07:40:04.000000000,2021-05-11 18:44:08.000000000,2021-05-11 18:44:08.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-10 07:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e9c0fcc936b654cb7fa07c3d7e6a8a2f631589a7', 'message': 'Set flavor_min_mem as a tempestconf overrides\n\nFor older release like queens and stein, tempestconf-2.4.0\nis used and in all the branches we are using cirros-0.5.2\nimage which requires DEFAULT_FLAVOR_RAM to 128 not 64( which\nis defined in older release of tempestconf).\n\nWe cannot bump the tempestconf version to latest as older\nbranches depends on py2 and tempestconf uses py3.\n\nIn order to fix the issue, we can pass the\nflavor_min_mem value via tempestconf profile to 128 to\nfix the issue.\n\nCloses-Bug: #1927739\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I21824bc14f4c1d55235d7b80870bac7f7edff5d4\n'}, {'number': 2, 'created': '2021-05-11 06:45:41.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/1cc28a6886633c53ab163e2c89101f2fbaac0744', 'message': 'Set flavor_min_mem as a tempestconf overrides\n\nFor older release like queens and stein, tempestconf-2.4.0\nis used and in all the branches we are using cirros-0.5.2\nimage which requires DEFAULT_FLAVOR_RAM to 128 not 64( which\nis defined in older release of tempestconf).\n\nWe cannot bump the tempestconf version to latest as older\nbranches depends on py2 and tempestconf uses py3.\n\nIn order to fix the issue, we can pass the\nflavor_min_mem value via tempestconf profile to 128 to\nfix the issue.\n\nhttps://review.rdoproject.org/r/c/testproject/+/33649\ngetting tested here.\n\nCloses-Bug: #1927739\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I21824bc14f4c1d55235d7b80870bac7f7edff5d4\n'}]",3,790377,1cc28a6886633c53ab163e2c89101f2fbaac0744,26,9,2,12393,,,0,"Set flavor_min_mem as a tempestconf overrides

For older release like queens and stein, tempestconf-2.4.0
is used and in all the branches we are using cirros-0.5.2
image which requires DEFAULT_FLAVOR_RAM to 128 not 64( which
is defined in older release of tempestconf).

We cannot bump the tempestconf version to latest as older
branches depends on py2 and tempestconf uses py3.

In order to fix the issue, we can pass the
flavor_min_mem value via tempestconf profile to 128 to
fix the issue.

https://review.rdoproject.org/r/c/testproject/+/33649
getting tested here.

Closes-Bug: #1927739

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I21824bc14f4c1d55235d7b80870bac7f7edff5d4
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/77/790377/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,e9c0fcc936b654cb7fa07c3d7e6a8a2f631589a7,tempestconf_older, flavor-min-mem: 128,,1,0
openstack%2Ftempest~master~I9bd8b47642891a1fe42c48a0b9fe50cf9bc4e03b,openstack/tempest,master,I9bd8b47642891a1fe42c48a0b9fe50cf9bc4e03b,Fix unstability in test_subnet_details,MERGED,2021-03-10 12:37:03.000000000,2021-05-11 18:41:24.000000000,2021-05-11 18:39:18.000000000,"[{'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18894}, {'_account_id': 19118}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31291}]","[{'number': 1, 'created': '2021-03-10 12:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fbc0cbfa4bc458ca1ba69fab4344a3bcda3eb3b9', 'message': ""Fix unstability in test_subnet_details\n\nwhen the image has some dns preconfigured in /etc/resolv.conf, for example:\n\nresolv.conf\nnameserver 192.168.122.1\n\nthe test failed due to:\ntesttools.matchers._impl.MismatchError: {'1.2.3.4'} != {'1.2.3.4', '192.168.122.1'}: Looking for servers: ['1.2.3.4']. Retrieved DNS nameservers: ['192.168.122.1', '1.2.3.4'] From host: 10.0.0.234\n\nhttps: //bugs.launchpad.net/tempest/+bug/1914229\nRelated-Bug: #1914229\nChange-Id: I9bd8b47642891a1fe42c48a0b9fe50cf9bc4e03b\n""}, {'number': 2, 'created': '2021-03-10 12:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/47ab33174f9c4538e7ecdaab187ae7edf8774f1a', 'message': ""Fix unstability in test_subnet_details\n\nwhen the image has some dns preconfigured in /etc/resolv.conf, for example:\n\nresolv.conf\nnameserver 192.168.122.1\n\nthe test failed due to:\ntesttools.matchers._impl.MismatchError: {'1.2.3.4'} != {'1.2.3.4', '192.168.122.1'}: Looking for servers: ['1.2.3.4']. Retrieved DNS nameservers: ['192.168.122.1', '1.2.3.4'] From host: 10.0.0.234\n\nhttps: //bugs.launchpad.net/tempest/+bug/1914229\nRelated-Bug: #1914229\nChange-Id: I9bd8b47642891a1fe42c48a0b9fe50cf9bc4e03b\n""}, {'number': 3, 'created': '2021-03-10 22:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b0176335b901f34f5239c4ca0e8027d39bce17f', 'message': ""Fix unstability in test_subnet_details\n\nwhen the image has some dns preconfigured in /etc/resolv.conf, for example:\n\nresolv.conf\nnameserver 192.168.122.1\n\nthe test failed due to:\ntesttools.matchers._impl.MismatchError:\n{'1.2.3.4'} != {'1.2.3.4', '192.168.122.1'}: Looking for servers: ['1.2.3.4'].\nRetrieved DNS nameservers: ['192.168.122.1', '1.2.3.4'] From host: 10.0.0.234\n\nDHCP renewal is forced in the server that will cleanup the file /etc/resolv.conf\nfrom any other preconfigured DNS entry. When the DHCP server pushes the new configuration,\nthe Neutron network DNS entries are applied\n\nCloses-Bug: : #1914229\nChange-Id: I9bd8b47642891a1fe42c48a0b9fe50cf9bc4e03b\n""}, {'number': 4, 'created': '2021-03-26 10:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e215cd786526e2069fa7ccda7a2c3fc94d218408', 'message': ""Fix unstability in test_subnet_details\n\nwhen the image has some dns preconfigured in /etc/resolv.conf,\nfor example:\n\nresolv.conf\nnameserver 192.168.122.1\n\nthe test failed due to:\ntesttools.matchers._impl.MismatchError:\n{'1.2.3.4'} != {'1.2.3.4', '192.168.122.1'}: Looking for servers: ['1.2.3.4'].\nRetrieved DNS nameservers: ['192.168.122.1', '1.2.3.4'] From host: 10.0.0.234\n\nDHCP renewal is forced in the server that will cleanup the file\n/etc/resolv.conf from any other preconfigured DNS entry. When\nthe DHCP server pushes the new configuration, the Neutron network\nDNS entries are applied\n\nCloses-Bug: #1914229\nChange-Id: I9bd8b47642891a1fe42c48a0b9fe50cf9bc4e03b\n""}, {'number': 5, 'created': '2021-03-29 08:31:15.000000000', 'files': ['tempest/scenario/test_network_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3893f9db4839e38b2d720c3b1e37728a9aa0f18b', 'message': ""Fix unstability in test_subnet_details\n\nwhen the image has some dns preconfigured in /etc/resolv.conf,\nfor example:\n\nresolv.conf\nnameserver 192.168.122.1\n\nthe test failed due to:\ntesttools.matchers._impl.MismatchError:\n{'1.2.3.4'} != {'1.2.3.4', '192.168.122.1'}: Looking for servers: ['1.2.3.4'].\nRetrieved DNS nameservers: ['192.168.122.1', '1.2.3.4'] From host: 10.0.0.234\n\nDHCP renewal is forced in the server that will cleanup the file\n/etc/resolv.conf from any other preconfigured DNS entry. When\nthe DHCP server pushes the new configuration, the Neutron network\nDNS entries are applied\n\nCloses-Bug: #1914229\nChange-Id: I9bd8b47642891a1fe42c48a0b9fe50cf9bc4e03b\n""}]",8,779756,3893f9db4839e38b2d720c3b1e37728a9aa0f18b,27,9,5,29088,,,0,"Fix unstability in test_subnet_details

when the image has some dns preconfigured in /etc/resolv.conf,
for example:

resolv.conf
nameserver 192.168.122.1

the test failed due to:
testtools.matchers._impl.MismatchError:
{'1.2.3.4'} != {'1.2.3.4', '192.168.122.1'}: Looking for servers: ['1.2.3.4'].
Retrieved DNS nameservers: ['192.168.122.1', '1.2.3.4'] From host: 10.0.0.234

DHCP renewal is forced in the server that will cleanup the file
/etc/resolv.conf from any other preconfigured DNS entry. When
the DHCP server pushes the new configuration, the Neutron network
DNS entries are applied

Closes-Bug: #1914229
Change-Id: I9bd8b47642891a1fe42c48a0b9fe50cf9bc4e03b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/779756/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_basic_ops.py'],1,fbc0cbfa4bc458ca1ba69fab4344a3bcda3eb3b9,," # NOTE: Server needs to renew its dhcp lease in order to get new # definitions from subnet # NOTE(amuller): we are renewing the lease as part of the retry # because Neutron updates dnsmasq asynchronously after the # subnet-update API call returns. ssh_client.renew_lease(fixed_ip=floating_ip['fixed_ip_address'], dhcp_client=CONF.scenario.dhcp_client)",,7,0
openstack%2Frequirements~stable%2Fussuri~I323d0e2d5a924f58c2c18531ca61e578f43a64d0,openstack/requirements,stable/ussuri,I323d0e2d5a924f58c2c18531ca61e578f43a64d0,update constraint for neutron to new release 16.3.2,MERGED,2021-05-10 09:33:21.000000000,2021-05-11 18:39:47.000000000,2021-05-11 18:39:47.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-10 09:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/16ea18761f5d71e483d91a4e9491f7b548313612', 'message': 'update constraint for neutron to new release 16.3.2\n\nmeta: version: 16.3.2\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Change-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: likui <likui@yovole.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I323d0e2d5a924f58c2c18531ca61e578f43a64d0\n'}, {'number': 2, 'created': '2021-05-11 15:44:40.000000000', 'files': ['openstack_requirements/tests/test_update.py', 'openstack_requirements/tests/test_check_constraints.py', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/485a764df887e74e348674da1aeb461ab6feaaf3', 'message': 'update constraint for neutron to new release 16.3.2\n\nalso switch to unittest.mock to make flake8 happy\n\nmeta: version: 16.3.2\nmeta: diff-start: -\nmeta: series: ussuri\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Change-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: likui <likui@yovole.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I323d0e2d5a924f58c2c18531ca61e578f43a64d0\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,790389,485a764df887e74e348674da1aeb461ab6feaaf3,11,3,2,11131,,,0,"update constraint for neutron to new release 16.3.2

also switch to unittest.mock to make flake8 happy

meta: version: 16.3.2
meta: diff-start: -
meta: series: ussuri
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Change-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: likui <likui@yovole.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I323d0e2d5a924f58c2c18531ca61e578f43a64d0
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/89/790389/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,16ea18761f5d71e483d91a4e9491f7b548313612,new-release,neutron===16.3.2,neutron===16.3.1,1,1
openstack%2Fdevstack~stable%2Fvictoria~I28019331017405c06577ada88f8e9f6d9a2afc23,openstack/devstack,stable/victoria,I28019331017405c06577ada88f8e9f6d9a2afc23,Fix docs job,MERGED,2021-05-11 14:21:10.000000000,2021-05-11 18:38:06.000000000,2021-05-11 18:36:48.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 14:21:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack/commit/1d9d7c37736ab7de1b20fe234ca73014b554be70', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I28019331017405c06577ada88f8e9f6d9a2afc23\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 69a66fb62bcb77145b6eec21fc2d56d40a861d0d)\n'}]",0,790704,1d9d7c37736ab7de1b20fe234ca73014b554be70,8,3,1,6773,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Change-Id: I28019331017405c06577ada88f8e9f6d9a2afc23
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 69a66fb62bcb77145b6eec21fc2d56d40a861d0d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/04/790704/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1d9d7c37736ab7de1b20fe234ca73014b554be70,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/victoria} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fdevstack~stable%2Fussuri~I28019331017405c06577ada88f8e9f6d9a2afc23,openstack/devstack,stable/ussuri,I28019331017405c06577ada88f8e9f6d9a2afc23,Fix docs job,MERGED,2021-05-11 14:21:24.000000000,2021-05-11 18:38:04.000000000,2021-05-11 18:36:20.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 14:21:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5a06e8777b9c16eed58850864d40f3bd363b3284', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I28019331017405c06577ada88f8e9f6d9a2afc23\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 69a66fb62bcb77145b6eec21fc2d56d40a861d0d)\n'}]",0,790705,5a06e8777b9c16eed58850864d40f3bd363b3284,8,3,1,6773,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Change-Id: I28019331017405c06577ada88f8e9f6d9a2afc23
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 69a66fb62bcb77145b6eec21fc2d56d40a861d0d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/05/790705/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5a06e8777b9c16eed58850864d40f3bd363b3284,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fdevstack~stable%2Ftrain~I28019331017405c06577ada88f8e9f6d9a2afc23,openstack/devstack,stable/train,I28019331017405c06577ada88f8e9f6d9a2afc23,Fix docs job,MERGED,2021-05-11 14:21:42.000000000,2021-05-11 18:38:01.000000000,2021-05-11 18:35:57.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 14:21:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4cf48714b6e8f89c2530c88bcb0d7608ec5da537', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I28019331017405c06577ada88f8e9f6d9a2afc23\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 69a66fb62bcb77145b6eec21fc2d56d40a861d0d)\n'}]",0,790706,4cf48714b6e8f89c2530c88bcb0d7608ec5da537,8,3,1,6773,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Change-Id: I28019331017405c06577ada88f8e9f6d9a2afc23
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 69a66fb62bcb77145b6eec21fc2d56d40a861d0d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/790706/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4cf48714b6e8f89c2530c88bcb0d7608ec5da537,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Frequirements~master~Icfe13df75440eeaf6f5b1601f629c3230b119bb2,openstack/requirements,master,Icfe13df75440eeaf6f5b1601f629c3230b119bb2,Add python-linstor to global-requirements.txt,MERGED,2021-04-28 07:05:09.000000000,2021-05-11 18:37:59.000000000,2021-05-11 18:35:52.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 07:05:09.000000000', 'files': ['global-requirements.txt', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1e146c7f758d2df1abe78719cd36dc3f8a385f9b', 'message': 'Add python-linstor to global-requirements.txt\n\npython-linstor is a pure python library for accessing the Linstor API.\nIt is in use by the Linstor driver in the Cinder project.\n\nThe library is actively maintained, with new releases on every new Linstor\nrelease. It is compatible with Python 2 and 3, and since release 1.7.0\nlicensed under the LGPLv3.\n\nChange-Id: Icfe13df75440eeaf6f5b1601f629c3230b119bb2\n'}]",0,788411,1e146c7f758d2df1abe78719cd36dc3f8a385f9b,10,2,1,33067,,,0,"Add python-linstor to global-requirements.txt

python-linstor is a pure python library for accessing the Linstor API.
It is in use by the Linstor driver in the Cinder project.

The library is actively maintained, with new releases on every new Linstor
release. It is compatible with Python 2 and 3, and since release 1.7.0
licensed under the LGPLv3.

Change-Id: Icfe13df75440eeaf6f5b1601f629c3230b119bb2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/11/788411/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'upper-constraints.txt']",2,1e146c7f758d2df1abe78719cd36dc3f8a385f9b,add-linstor,python-linstor===1.7.0,,2,0
openstack%2Fdevstack~stable%2Fwallaby~I28019331017405c06577ada88f8e9f6d9a2afc23,openstack/devstack,stable/wallaby,I28019331017405c06577ada88f8e9f6d9a2afc23,Fix docs job,MERGED,2021-05-11 14:20:56.000000000,2021-05-11 18:37:58.000000000,2021-05-11 18:36:12.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 14:20:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a90141d0612d1a229567ed9c32b96dc544f8f71d', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I28019331017405c06577ada88f8e9f6d9a2afc23\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 69a66fb62bcb77145b6eec21fc2d56d40a861d0d)\n'}]",0,790703,a90141d0612d1a229567ed9c32b96dc544f8f71d,8,3,1,6773,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Change-Id: I28019331017405c06577ada88f8e9f6d9a2afc23
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 69a66fb62bcb77145b6eec21fc2d56d40a861d0d)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/03/790703/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a90141d0612d1a229567ed9c32b96dc544f8f71d,,deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fironic-python-agent-builder~stable%2Fwallaby~I406447117ebf866450044bfcfadf63a8a2cb9ac6,openstack/ironic-python-agent-builder,stable/wallaby,I406447117ebf866450044bfcfadf63a8a2cb9ac6,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-05-10 11:01:28.000000000,2021-05-11 18:17:22.000000000,2021-05-11 18:15:08.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 11:01:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/cd1b175b690b09f03e45ecdd304c73e32dd02873', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I406447117ebf866450044bfcfadf63a8a2cb9ac6\n'}]",0,790409,cd1b175b690b09f03e45ecdd304c73e32dd02873,11,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I406447117ebf866450044bfcfadf63a8a2cb9ac6
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/09/790409/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,cd1b175b690b09f03e45ecdd304c73e32dd02873,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fironic-python-agent-builder~stable%2Fwallaby~Ic453e21be0b4136e6f22f70ca33687cd48c0b3f3,openstack/ironic-python-agent-builder,stable/wallaby,Ic453e21be0b4136e6f22f70ca33687cd48c0b3f3,Update .gitreview for stable/wallaby,MERGED,2021-05-10 11:01:23.000000000,2021-05-11 18:16:17.000000000,2021-05-11 18:15:04.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 11:01:23.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/16e61328b1c75b31fb294ef496b319cd79b7aa4d', 'message': 'Update .gitreview for stable/wallaby\n\nChange-Id: Ic453e21be0b4136e6f22f70ca33687cd48c0b3f3\n'}]",0,790408,16e61328b1c75b31fb294ef496b319cd79b7aa4d,12,2,1,22816,,,0,"Update .gitreview for stable/wallaby

Change-Id: Ic453e21be0b4136e6f22f70ca33687cd48c0b3f3
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/08/790408/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,16e61328b1c75b31fb294ef496b319cd79b7aa4d,create-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fgovernance~master~Ib4e76a239ee5fd0f8fc14d452a77c83c3815d6e8,openstack/governance,master,Ib4e76a239ee5fd0f8fc14d452a77c83c3815d6e8,Starting the 'Y' release naming process,MERGED,2021-05-03 16:46:02.000000000,2021-05-11 17:57:42.000000000,2021-05-11 16:40:32.000000000,"[{'_account_id': 308}, {'_account_id': 2033}, {'_account_id': 4393}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-03 16:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/e09ef61cefd8ae0c2724c1c515da57a3618f45ae', 'message': ""Starting the 'Y' release naming process\n\nThis is to start the naming process for 'Y' release. It will\nfollow the release name process as defined in\n- https://governance.openstack.org/tc/reference/release-naming.html\n\nBelow wiki page will be used to collect the nomination from\nthe community:\n\n- https://wiki.openstack.org/wiki/Release_Naming/Y_Proposals\n\nChange-Id: Ib4e76a239ee5fd0f8fc14d452a77c83c3815d6e8\n""}, {'number': 2, 'created': '2021-05-03 17:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/37e2ea8a3388a75622d54034ec94f92b586467a9', 'message': ""Starting the 'Y' release naming process\n\nThis is to start the naming process for 'Y' release. It will\nfollow the release name process as defined in\n- https://governance.openstack.org/tc/reference/release-naming.html\n\nBelow wiki page will be used to collect the nomination from\nthe community:\n\n- https://wiki.openstack.org/wiki/Release_Naming/Y_Proposals\n\nChange-Id: Ib4e76a239ee5fd0f8fc14d452a77c83c3815d6e8\n""}, {'number': 3, 'created': '2021-05-03 17:18:51.000000000', 'files': ['reference/release-naming.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/97523e9af13512a76c90f50583b02c3894b6e248', 'message': ""Starting the 'Y' release naming process\n\nThis is to start the naming process for 'Y' release. It will\nfollow the release name process as defined in\n- https://governance.openstack.org/tc/reference/release-naming.html\n\nBelow wiki page will be used to collect the nomination from\nthe community:\n\n- https://wiki.openstack.org/wiki/Release_Naming/Y_Proposals\n\nChange-Id: Ib4e76a239ee5fd0f8fc14d452a77c83c3815d6e8\n""}]",0,789385,97523e9af13512a76c90f50583b02c3894b6e248,19,10,3,8556,,,0,"Starting the 'Y' release naming process

This is to start the naming process for 'Y' release. It will
follow the release name process as defined in
- https://governance.openstack.org/tc/reference/release-naming.html

Below wiki page will be used to collect the nomination from
the community:

- https://wiki.openstack.org/wiki/Release_Naming/Y_Proposals

Change-Id: Ib4e76a239ee5fd0f8fc14d452a77c83c3815d6e8
",git fetch https://review.opendev.org/openstack/governance refs/changes/85/789385/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/release-naming.rst'],1,e09ef61cefd8ae0c2724c1c515da57a3618f45ae,formal-vote,Y Ghanshyam Mann 2021-05-13 2021-06-10 2021-06-17 N/A,,1,0
openstack%2Fvalidations-libs~master~I7be73e3e6d4cda3aa009a80dfa81b2c9bd961b48,openstack/validations-libs,master,I7be73e3e6d4cda3aa009a80dfa81b2c9bd961b48,setup.cfg: Replace dashes with underscores,MERGED,2021-05-08 07:37:47.000000000,2021-05-11 17:08:25.000000000,2021-05-11 17:08:25.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-08 07:37:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/5815fb3c61b993111310327277a1b48eadd701ec', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7be73e3e6d4cda3aa009a80dfa81b2c9bd961b48\n""}]",0,790324,5815fb3c61b993111310327277a1b48eadd701ec,7,7,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7be73e3e6d4cda3aa009a80dfa81b2c9bd961b48
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/24/790324/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5815fb3c61b993111310327277a1b48eadd701ec,,author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/validations-libs/latest/,author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/validations-libs/latest/,2,2
openstack%2Fkayobe~master~I536a526340f6d7dea7a69372904b777292774eba,openstack/kayobe,master,I536a526340f6d7dea7a69372904b777292774eba,CI: Remove unused Docker images after overcloud upgrade,MERGED,2021-05-11 08:22:38.000000000,2021-05-11 17:06:48.000000000,2021-05-11 17:05:14.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-11 08:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/618af40f10d954cad38ae290de29d9bb585b0696', 'message': 'CI: Remove unused Docker images after overcloud upgrade\n\nOvercloud upgrade jobs often fail when running on nodes with a 38G root\ndisk. The overcloud upgrade itself generally works, but post-upgrade\ntesting fails, for example when RabbitMQ gets in alarm state due to lack\nof free disk space, which prevents Nova from functioning correctly and\nmakes it return ""Unknown Error (HTTP 504)"".\n\nChange-Id: I536a526340f6d7dea7a69372904b777292774eba\n'}, {'number': 2, 'created': '2021-05-11 09:45:11.000000000', 'files': ['playbooks/kayobe-overcloud-upgrade-base/run.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/93a8baca93b7525c41d164c13822f60672e41bdf', 'message': 'CI: Remove unused Docker images after overcloud upgrade\n\nOvercloud upgrade jobs often fail when running on nodes with a 38G root\ndisk. The overcloud upgrade itself generally works, but post-upgrade\ntesting fails, for example when RabbitMQ gets in alarm state due to lack\nof free disk space, which prevents Nova from functioning correctly and\nmakes it return ""Unknown Error (HTTP 504)"".\n\nChange-Id: I536a526340f6d7dea7a69372904b777292774eba\n'}]",0,790587,93a8baca93b7525c41d164c13822f60672e41bdf,11,4,2,15197,,,0,"CI: Remove unused Docker images after overcloud upgrade

Overcloud upgrade jobs often fail when running on nodes with a 38G root
disk. The overcloud upgrade itself generally works, but post-upgrade
testing fails, for example when RabbitMQ gets in alarm state due to lack
of free disk space, which prevents Nova from functioning correctly and
makes it return ""Unknown Error (HTTP 504)"".

Change-Id: I536a526340f6d7dea7a69372904b777292774eba
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/87/790587/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/kayobe-overcloud-upgrade-base/run.yml'],1,618af40f10d954cad38ae290de29d9bb585b0696,docker-image-prune," # Remove unused Docker images to avoid reaching full disk - name: Remove unused Docker images shell: cmd: ""docker image prune --all --force"" ",,5,0
openstack%2Ftripleo-validations~master~I1fef4b5dc1e3f0586a22a53df72dd609252deb20,openstack/tripleo-validations,master,I1fef4b5dc1e3f0586a22a53df72dd609252deb20,Update master for stable/wallaby,MERGED,2021-05-05 15:39:49.000000000,2021-05-11 17:00:37.000000000,2021-05-11 16:59:23.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-05 15:39:49.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a0e3182086887a715a3589a354b024c7a5329c73', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I1fef4b5dc1e3f0586a22a53df72dd609252deb20\n'}]",0,789904,a0e3182086887a715a3589a354b024c7a5329c73,9,7,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I1fef4b5dc1e3f0586a22a53df72dd609252deb20
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/04/789904/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,a0e3182086887a715a3589a354b024c7a5329c73,reno-wallaby, wallaby,,7,0
openstack%2Ftripleo-upgrade~stable%2Fussuri~I289a55c5dbe6369791f89bb840430053ba11f9c1,openstack/tripleo-upgrade,stable/ussuri,I289a55c5dbe6369791f89bb840430053ba11f9c1,Add STACK_NAME in OSP13 validations script.,MERGED,2021-05-11 09:19:49.000000000,2021-05-11 16:59:20.000000000,2021-05-11 16:59:20.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-05-11 09:19:49.000000000', 'files': ['templates/pre-upgrade-osp13-validation.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/26c622c7b5f06d736f1e193dae560091daa4952c', 'message': ""Add STACK_NAME in OSP13 validations script.\n\nThe script was using the overcloud_stack_name parameter. However, as\nit is being executed during the undercloud_os_upgrade stage, the stack\nname for the overcloud isn't being passed. Therefore, let's leave the\nscript as it is in the FFU docs [0].\n\n[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade\n\nChange-Id: I289a55c5dbe6369791f89bb840430053ba11f9c1\n(cherry picked from commit 32e3a9d3f65bb307e223e45e7ccf37f2eadf1789)\n""}]",0,790567,26c622c7b5f06d736f1e193dae560091daa4952c,6,3,1,6816,,,0,"Add STACK_NAME in OSP13 validations script.

The script was using the overcloud_stack_name parameter. However, as
it is being executed during the undercloud_os_upgrade stage, the stack
name for the overcloud isn't being passed. Therefore, let's leave the
script as it is in the FFU docs [0].

[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade

Change-Id: I289a55c5dbe6369791f89bb840430053ba11f9c1
(cherry picked from commit 32e3a9d3f65bb307e223e45e7ccf37f2eadf1789)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/67/790567/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/pre-upgrade-osp13-validation.sh.j2'],1,26c622c7b5f06d736f1e193dae560091daa4952c,," STACK_NAME=$(openstack stack list -f value -c 'Stack Name') ID=$(openstack workflow execution create -f value -c ID tripleo.validations.v1.run_validation ""{\""validation_name\"": $VALIDATION, \""plan\"": \""$STACK_NAME\""}"")"," ID=$(openstack workflow execution create -f value -c ID tripleo.validations.v1.run_validation ""{\""validation_name\"": $VALIDATION, \""plan\"": \""{{ overcloud_stack_name }}\""}"")",2,1
openstack%2Fnova~master~I763ff9314529b07c523b795a88f3da29a9658d4f,openstack/nova,master,I763ff9314529b07c523b795a88f3da29a9658d4f,docs: Add cross-references to image metadata properties,NEW,2021-03-18 17:52:15.000000000,2021-05-11 16:53:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-18 17:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/058c7c8d2b6b9321922c317a5eb3a287857779ee', 'message': 'docs: Add cross-references to image metadata properties\n\nThese are the few image metadata properties I stumbled upon in my quick\nsearch.\n\nChange-Id: I763ff9314529b07c523b795a88f3da29a9658d4f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-04-16 16:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/75144041dc318a6be4291a8c2e1d87646886f82a', 'message': 'docs: Add cross-references to image metadata properties\n\nThese are the few image metadata properties I stumbled upon in my quick\nsearch.\n\nChange-Id: I763ff9314529b07c523b795a88f3da29a9658d4f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2021-05-11 14:26:09.000000000', 'files': ['doc/source/admin/hw-machine-type.rst', 'doc/source/admin/uefi.rst', 'doc/source/admin/configuration/hypervisor-virtuozzo.rst', 'doc/source/admin/config-drive.rst', 'doc/source/admin/secure-boot.rst', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'doc/source/admin/configuration/schedulers.rst', 'doc/source/user/certificate-validation.rst', 'doc/source/user/rescue.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2c3b233fb74c0c319d204605804aca3bf95af0eb', 'message': 'docs: Add cross-references to image metadata properties\n\nThese are the few image metadata properties I stumbled upon in my quick\nsearch.\n\nChange-Id: I763ff9314529b07c523b795a88f3da29a9658d4f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,781531,2c3b233fb74c0c319d204605804aca3bf95af0eb,10,1,3,15334,,,0,"docs: Add cross-references to image metadata properties

These are the few image metadata properties I stumbled upon in my quick
search.

Change-Id: I763ff9314529b07c523b795a88f3da29a9658d4f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/781531/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/hw-machine-type.rst', 'doc/source/admin/uefi.rst', 'doc/source/admin/configuration/hypervisor-virtuozzo.rst', 'doc/source/admin/config-drive.rst', 'doc/source/admin/secure-boot.rst', 'doc/source/admin/configuration/hypervisor-kvm.rst', 'doc/source/admin/configuration/schedulers.rst', 'doc/source/user/certificate-validation.rst', 'doc/source/user/rescue.rst', 'doc/source/admin/configuration/hypervisor-vmware.rst']",10,058c7c8d2b6b9321922c317a5eb3a287857779ee,docs, You can also use the :nova:image-meta:`img_linked_clone` image metadata property (or legacy :nova:image-meta:`vmware_linked_clone` property) in the Image service to override the linked_clone mode on a per-image basis. :nova:image-meta:`img_linked_clone` property for the image is ignored., You can also use the ``img_linked_clone`` property (or legacy property ``vmware_linked_clone``) in the Image service to override the linked_clone mode on a per-image basis. ``img_linked_clone`` property for the image is just ignored.,61,128
openstack%2Fkayobe~master~Iacb579a46b0e9769a4c404a858d17968f74dd7e0,openstack/kayobe,master,Iacb579a46b0e9769a4c404a858d17968f74dd7e0,Adds support for configuring chrony,MERGED,2021-04-01 18:33:44.000000000,2021-05-11 16:52:59.000000000,2021-05-11 16:51:35.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-04-01 18:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/8202b592534a15afa93828d07800eab5a8ef95b5', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible inventory\nso it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\n'}, {'number': 2, 'created': '2021-04-13 12:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1c6a491186ccad8920c2014e27cf97864f1de24f', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible inventory\nso it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/78604\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 3, 'created': '2021-04-13 12:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7f36c05d87e876088b77fa74366fc2dae2c0ec0f', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible inventory\nso it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/78604\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 4, 'created': '2021-04-21 11:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fd530077dba2fd2e92b2a39bfe050612c5f34aa5', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible inventory\nso it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 5, 'created': '2021-05-06 13:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7d8b2f8995b1a3b378daa00d42744eca93753707', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible inventory\nso it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 6, 'created': '2021-05-06 14:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/54134dff558da211d1cda579fc451ee144163b09', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 7, 'created': '2021-05-06 14:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dcd9312d08248fb1f4f0222765a560e44439bb77', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 8, 'created': '2021-05-06 14:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f77b496bd21e1b7677c412025eb77e42fcf42363', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 9, 'created': '2021-05-06 17:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bac34bb146ae49b150401848c8c1de5576208c29', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 10, 'created': '2021-05-06 17:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/486698b48f1b1ebe58c2aaf21ded542be2922300', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 11, 'created': '2021-05-07 08:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f864ed4d08e9ed49a0b7b189a9ffc0f67be49875', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 12, 'created': '2021-05-07 08:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f5484a5d9e4ed9391401e8f596427434bae3bfb7', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 13, 'created': '2021-05-07 15:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e206754294d29c7bfce3acf8fac62947e6b1fb1d', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 14, 'created': '2021-05-07 16:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6db0eb428c0750ff7973d82783dcacd923a36bb9', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 15, 'created': '2021-05-07 16:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/58a88097839b5e5c6f67a88c9ac15a9c1d64b2f5', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: https://storyboard.openstack.org/#!/story/2007872\nTask: 40240\n'}, {'number': 16, 'created': '2021-05-07 16:28:12.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'ansible/time.yml', 'ansible/group_vars/all/kolla', 'ansible/roles/ntp/tasks/main.yml', 'ansible/roles/ntp/tasks/prepare.yml', 'ansible/group_vars/all/time', 'doc/source/configuration/reference/hosts.rst', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'etc/kayobe/time.yml', 'ansible/roles/ntp/tasks/deploy.yml', 'etc/kayobe/inventory/groups', 'playbooks/kayobe-overcloud-host-configure-base/overrides.yml.j2', 'ansible/timezone.yml', 'kayobe/cli/commands.py', 'ansible/roles/ntp/tasks/validate.yml', 'releasenotes/notes/install-chrony-on-the-host-283fa6fdd9cf9b4c.yaml', 'requirements.yml', 'ansible/roles/ntp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/085cf7d1759879169dddc69378ad784e1acaf524', 'message': 'Adds support for configuring chrony\n\nSome hosts in the kayobe inventory might not be in the kolla-ansible\ninventory so it makes sense for kayobe to manage NTP.\n\nChange-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040\nStory: 2007872\nTask: 40240\n'}]",54,784460,085cf7d1759879169dddc69378ad784e1acaf524,61,4,16,28048,,,0,"Adds support for configuring chrony

Some hosts in the kayobe inventory might not be in the kolla-ansible
inventory so it makes sense for kayobe to manage NTP.

Change-Id: Iacb579a46b0e9769a4c404a858d17968f74dd7e0
Depends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/786040
Story: 2007872
Task: 40240
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/60/784460/16 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'ansible/time.yml', 'ansible/group_vars/all/kolla', 'ansible/roles/ntp/tasks/main.yml', 'ansible/roles/ntp/tasks/prepare.yml', 'etc/kayobe/ntp.yml', 'ansible/group_vars/all/time', 'doc/source/configuration/reference/hosts.rst', 'etc/kayobe/time.yml', 'ansible/roles/ntp/tasks/deploy.yml', 'etc/kayobe/inventory/groups', 'ansible/timezone.yml', 'kayobe/cli/commands.py', 'ansible/roles/ntp/tasks/validate.yml', 'requirements.yml', 'ansible/roles/ntp/defaults/main.yml']",16,8202b592534a15afa93828d07800eab5a8ef95b5,feature/chrony,"--- ntp_actions: [""validate"", ""prepare"", ""deploy""] ntp_service_disable_list: - systemd-timesyncd.service - ntp.service ",,182,43
openstack%2Fdesignate-tempest-plugin~master~I6df991145b1a3a2e4e1d402dd31204a67fb45a11,openstack/designate-tempest-plugin,master,I6df991145b1a3a2e4e1d402dd31204a67fb45a11,New API test cases for a Zone test suite.,MERGED,2021-02-01 19:57:02.000000000,2021-05-11 16:50:15.000000000,2021-05-11 16:48:32.000000000,"[{'_account_id': 6681}, {'_account_id': 6994}, {'_account_id': 7616}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 13693}, {'_account_id': 13995}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 27621}, {'_account_id': 28522}, {'_account_id': 29681}]","[{'number': 1, 'created': '2021-02-01 19:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/f890291c6262389e429c60ecd94ad25b1ee57e4d', 'message': 'New API test - Get Zone Name Servers\n\nTest scenario:\n1) Create Zone\n2) Retrive Zone Name Servers and validate that not empty\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 2, 'created': '2021-02-02 09:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/16b25f1e65802efddb1423e42271815ea2441135', 'message': 'New API tests: ""Get Zone Name Servers"" and ""Create PRIMARY zone""\n\n""test_get_primary_zone_nameservers"" scenario:\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""ppol_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\nNote: the existing test was modified to cover both types: PRIMARY and SECONDARY\n""test_create_zones"" scenario:\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 3, 'created': '2021-02-02 13:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/bd685659d10bd04beef0c8769ba4fd1caba20f24', 'message': 'New API tests: ""Get Zone Name Servers"" and ""Create PRIMARY zone""\n\n""test_get_primary_zone_nameservers"" scenario:\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\nNote: the existing test was modified to cover both types: PRIMARY and SECONDARY\n""test_create_zones"" scenario:\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 4, 'created': '2021-02-03 10:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/47375e33c2de74d181a80a4f3b99414a1c0a6fed', 'message': 'New API tests: ""Get Zone Name Servers"" and ""Create PRIMARY zone""\n\n""test_get_primary_zone_nameservers"" scenario:\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\nNote: the existing test was modified to cover both types: PRIMARY and SECONDARY\n""test_create_zones"" scenario:\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 5, 'created': '2021-02-03 18:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/4e1127a703bf1ec405ebe8126a47ed184e4c03f5', 'message': 'New API tests: ""Get Zone Name Servers"" and ""Create PRIMARY zone""\n\n""test_get_primary_zone_nameservers"" scenario:\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\nNote: the existing test was modified to cover both types: PRIMARY and SECONDARY\n""test_create_zones"" scenario:\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 6, 'created': '2021-02-04 07:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7508cff99cbb5178e4cb496aaaeb2db6d302841b', 'message': 'New API tests: ""Get Zone Name Servers"" and ""Create PRIMARY zone""\n\n""test_get_primary_zone_nameservers"" scenario:\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\nNote: the existing test was modified to cover both types: PRIMARY and SECONDARY\n""test_create_zones"" scenario:\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 7, 'created': '2021-03-21 13:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a1ab9dd321198c65c576332f847e8ab7d814c53a', 'message': 'New API tests: ""Get Zone Name Servers"" and ""Create PRIMARY zone""\n\n""test_get_primary_zone_nameservers"" scenario:\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\nNote: the existing test was modified to cover both types: PRIMARY and SECONDARY\n""test_create_zones"" scenario:\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 8, 'created': '2021-03-21 14:06:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/398b6ba182c20e1a419c668fba189ea360acaf12', 'message': 'New API tests: ""Get Zone Name Servers"" and ""Create PRIMARY zone""\n\n""test_get_primary_zone_nameservers"" scenario:\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\nNote: the existing test was modified to cover both types: PRIMARY and SECONDARY\n""test_create_zones"" scenario:\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 9, 'created': '2021-03-21 16:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a1c347d2719b88328b0ba782d7c1b243fa535473', 'message': 'New API tests: ""Get Zone Name Servers"" and ""Create PRIMARY zone""\n\n""test_get_primary_zone_nameservers"" scenario:\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\nNote: the existing test was modified to cover both types: PRIMARY and SECONDARY\n""test_create_zones"" scenario:\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 10, 'created': '2021-03-29 13:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/8c05a43080e14e9806a6e9eda5961f8a96118fd5', 'message': 'New API test cases for: ""Secondary Zone"" and ""List Nameservers""\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 11, 'created': '2021-04-19 11:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/814e28d51c33c1da103d73d6edf8b734626ce9c7', 'message': 'New API test cases for a Zone test suite.\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\n""test_zone_abandon""\n1) Create a zone and make sure that the created zone is in:\n   designate database (Nameserver/BIND)\n2) Abandon a zone\n3) Make sure that the zone was removed from the designate database.\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 12, 'created': '2021-04-19 13:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7d98cb00e8973acc613e5c1a7a91e7dec70de511', 'message': 'New API test cases for a Zone test suite.\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\n""test_zone_abandon""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone\n5) Wait till a zone is removed from the Designate DB\n6) Make sure that the zone is still in Nameserver/BIND\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 13, 'created': '2021-04-19 15:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d02e450925ae95509fa884368838d2fdb9914fe9', 'message': 'New API test cases for a Zone test suite.\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\n""test_zone_abandon""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone\n5) Wait till a zone is removed from the Designate DB\n6) Make sure that the zone is still in Nameserver/BIND\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 14, 'created': '2021-04-19 17:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0911318409a991685a081f49e92898cdfe904dcc', 'message': 'New API test cases for a Zone test suite.\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\n""test_zone_abandon""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone\n5) Wait till a zone is removed from the Designate DB\n6) Make sure that the zone is still in Nameserver/BIND\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 15, 'created': '2021-04-19 18:52:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/6f7c9081bd7a345fda91c6e0aab5cfcc527fec1b', 'message': 'New API test cases for a Zone test suite.\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\n""test_zone_abandon""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone\n5) Wait till a zone is removed from the Designate DB\n6) Make sure that the zone is still in Nameserver/BIND\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 16, 'created': '2021-04-20 09:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/63af08da7928c0f991fb3597b597449254ae7545', 'message': 'New API test cases for a Zone test suite.\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\n""test_zone_abandon""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone\n5) Wait till a zone is removed from the Designate DB\n6) Make sure that the zone is still in Nameserver/BIND\n\n""test_zone_abandon_forbidden""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone as primary tenant (not admin)\n5) Make sure that the API fails with: ""403 Forbidden""\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 17, 'created': '2021-04-28 08:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a69eeb9ca68cdfe9e9720607cf4a2183f1d174c1', 'message': 'New API test cases for a Zone test suite.\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\n""test_zone_abandon""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone\n5) Wait till a zone is removed from the Designate DB\n6) Make sure that the zone is still in Nameserver/BIND\n\n""test_zone_abandon_forbidden""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone as primary tenant (not admin)\n5) Make sure that the API fails with: ""403 Forbidden""\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 18, 'created': '2021-04-29 14:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/461b66df16430abf4ea8ac12a6258d439729f1ab', 'message': 'New API test cases for a Zone test suite.\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\n""test_zone_abandon""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone\n5) Wait till a zone is removed from the Designate DB\n6) Make sure that the zone is still in Nameserver/BIND\n\n""test_zone_abandon_forbidden""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone as primary tenant (not admin)\n5) Make sure that the API fails with: ""403 Forbidden""\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 19, 'created': '2021-04-29 19:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/220018a872a0eab88ee6c02a7c37175846d8037f', 'message': 'New API test cases for a Zone test suite.\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\n""test_zone_abandon""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone\n5) Wait till a zone is removed from the Designate DB\n6) Make sure that the zone is still in Nameserver/BIND\n\n""test_zone_abandon_forbidden""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone as primary tenant (not admin)\n5) Make sure that the API fails with: ""403 Forbidden""\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}, {'number': 20, 'created': '2021-05-04 09:27:01.000000000', 'files': ['designate_tempest_plugin/common/constants.py', 'designate_tempest_plugin/services/dns/v2/json/zones_client.py', 'designate_tempest_plugin/tests/api/v2/test_zone_tasks.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py', 'designate_tempest_plugin/services/dns/json/base.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/729acd3b0877e4a095092e20fe75fa04157a640b', 'message': 'New API test cases for a Zone test suite.\n\n""test_get_primary_zone_nameservers""\n1) Create a PRIMARY Zone\n2) Retrive Zone Name Servers and validate that not empty\n3) Get zone\'s ""pool_id""\n3) Make sure that the zone\'s Name Servers retrieved in #2\nare the same as created in zone\'a pool.\n\n""test_create_zones"" scenario""\n1) Create PRIMARY zone and validate the creation\n2) Get the Name Servers created in PRIMARY zone and extract hosts list.\n   Hosts list is used to provide ""masters"" on SECONDARY zone creation\n3) Create a SECONDARY zone and validate the creation\n  # Note: the existing test was modified to cover both types:\n    PRIMARY and SECONDARY\n\n""test_manually_trigger_update_secondary_zone_negative""\n1) Create a Primary zone\n2) Get the nameservers created in #1 and make sure that\n   those nameservers are not available (pingable)\n3) Create a secondary zone\n4) Manually trigger zone update and make sure that\n   the API fails with status code 500 as Nameservers arent available.\n\n""test_zone_abandon""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone\n5) Wait till a zone is removed from the Designate DB\n6) Make sure that the zone is still in Nameserver/BIND\n\n""test_zone_abandon_forbidden""\n1) Create a zone\n2) Show a zone\n3) Make sure that the created zone is in: Nameserver/BIND\n4) Abandon a zone as primary tenant (not admin)\n5) Make sure that the API fails with: ""403 Forbidden""\n\nChange-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11\n'}]",35,773477,729acd3b0877e4a095092e20fe75fa04157a640b,88,15,20,28609,,,0,"New API test cases for a Zone test suite.

""test_get_primary_zone_nameservers""
1) Create a PRIMARY Zone
2) Retrive Zone Name Servers and validate that not empty
3) Get zone's ""pool_id""
3) Make sure that the zone's Name Servers retrieved in #2
are the same as created in zone'a pool.

""test_create_zones"" scenario""
1) Create PRIMARY zone and validate the creation
2) Get the Name Servers created in PRIMARY zone and extract hosts list.
   Hosts list is used to provide ""masters"" on SECONDARY zone creation
3) Create a SECONDARY zone and validate the creation
  # Note: the existing test was modified to cover both types:
    PRIMARY and SECONDARY

""test_manually_trigger_update_secondary_zone_negative""
1) Create a Primary zone
2) Get the nameservers created in #1 and make sure that
   those nameservers are not available (pingable)
3) Create a secondary zone
4) Manually trigger zone update and make sure that
   the API fails with status code 500 as Nameservers arent available.

""test_zone_abandon""
1) Create a zone
2) Show a zone
3) Make sure that the created zone is in: Nameserver/BIND
4) Abandon a zone
5) Wait till a zone is removed from the Designate DB
6) Make sure that the zone is still in Nameserver/BIND

""test_zone_abandon_forbidden""
1) Create a zone
2) Show a zone
3) Make sure that the created zone is in: Nameserver/BIND
4) Abandon a zone as primary tenant (not admin)
5) Make sure that the API fails with: ""403 Forbidden""

Change-Id: I6df991145b1a3a2e4e1d402dd31204a67fb45a11
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/77/773477/18 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/services/dns/v2/json/zones_client.py', 'designate_tempest_plugin/tests/api/v2/test_zones.py']",2,f890291c6262389e429c60ecd94ad25b1ee57e4d,change-773477-19," @decorators.idempotent_id('d4ce813e-64a5-11eb-9f43-74e5f9e2a801') def test_get_zone_nameservers(self): LOG.info('Create a zone') _, zone = self.client.create_zone() self.addCleanup(self.wait_zone_delete, self.client, zone['id']) _, body = self.client.show_zone_nameservers(zone['id']) LOG.info('Zone nameservers:{}'.format(body)) self.assertIsNot( 0, len(body['nameservers']), ""Received list of nameservers shouldn't be empty"") ",,37,2
openstack%2Fnova~master~I445e1e077cd0aab304d0f0abe4fff66ae7359d78,openstack/nova,master,I445e1e077cd0aab304d0f0abe4fff66ae7359d78,"docs: Add 'nova:image-meta:' directive, role",NEW,2021-03-18 17:52:15.000000000,2021-05-11 16:49:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-18 17:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb2546155283a42b31e9df1a17f317b03e83b390', 'message': ""docs: Add 'nova:image-meta:' directive, role\n\nThis allows us to cross-reference the various image metadata properties\nwe support, like we do flavor extra specs.\n\nChange-Id: I445e1e077cd0aab304d0f0abe4fff66ae7359d78\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2021-04-16 16:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1f1ba092fa60dcd97f312a4933a028965c19a8f', 'message': ""docs: Add 'nova:image-meta:' directive, role\n\nThis allows us to cross-reference the various image metadata properties\nwe support, like we do flavor extra specs.\n\nChange-Id: I445e1e077cd0aab304d0f0abe4fff66ae7359d78\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2021-05-11 14:26:09.000000000', 'files': ['doc/source/conf.py', 'doc/ext/metadata.py', 'doc/source/configuration/image-metadata.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/acc0456f7fa275c5e24de15dffd6e1c4e7eb92d3', 'message': ""docs: Add 'nova:image-meta:' directive, role\n\nThis allows us to cross-reference the various image metadata properties\nwe support, like we do flavor extra specs.\n\nChange-Id: I445e1e077cd0aab304d0f0abe4fff66ae7359d78\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,781530,acc0456f7fa275c5e24de15dffd6e1c4e7eb92d3,10,1,3,15334,,,0,"docs: Add 'nova:image-meta:' directive, role

This allows us to cross-reference the various image metadata properties
we support, like we do flavor extra specs.

Change-Id: I445e1e077cd0aab304d0f0abe4fff66ae7359d78
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/781530/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'doc/ext/metadata.py', 'doc/source/configuration/image-metadata.rst']",3,fb2546155283a42b31e9df1a17f317b03e83b390,docs,".. nova:image-meta:: hw_architecture .. versionadded:: 12.0.0 (Liberty) .. nova:image-meta:: hw_boot_menu .. nova:image-meta:: hw_cdrom_bus .. nova:image-meta:: hw_cpu_sockets .. nova:image-meta:: hw_cpu_cores .. nova:image-meta:: hw_cpu_threads .. nova:image-meta:: hw_cpu_max_sockets .. nova:image-meta:: hw_cpu_max_cores .. nova:image-meta:: hw_cpu_max_threads .. nova:image-meta:: hw_cpu_policy .. nova:image-meta:: hw_cpu_thread_policy .. nova:image-meta:: hw_cpu_realtime_mask .. nova:image-meta:: hw_disk_bus .. nova:image-meta:: hw_disk_type .. nova:image-meta:: hw_floppy_bus .. nova:image-meta:: hw_firmware_type .. nova:image-meta:: hw_machine_type .. nova:image-meta:: hw_mem_encryption .. nova:image-meta:: hw_mem_page_size .. nova:image-meta:: hw_numa_nodes .. nova:image-meta:: hw_numa_cpus .. nova:image-meta:: hw_numa_mem .. nova:image-meta:: hw_pci_numa_affinity_policy .. nova:image-meta:: hw_pointer_model .. nova:image-meta:: hw_pmu .. nova:image-meta:: hw_qemu_guest_agent .. nova:image-meta:: hw_rescue_bus .. nova:image-meta:: hw_rescue_device .. nova:image-meta:: hw_time_hpet .. nova:image-meta:: hw_serial_port_count .. nova:image-meta:: hw_scsi_model .. nova:image-meta:: hw_video_model .. nova:image-meta:: hw_video_ram .. nova:image-meta:: hw_vif_model .. nova:image-meta:: hw_vm_mode .. versionadded:: 12.0.0 (Liberty) .. nova:image-meta:: hw_watchdog_action .. nova:image-meta:: hw_vif_multiqueue_enabled .. nova:image-meta:: hw_tpm_model .. nova:image-meta:: hw_tpm_version .. nova:image-meta:: img_hv_requested_version Hypervisor supported version. For example: ``>=2.6``. The property is supported for HyperV hypervisor type only. It can be used to enable support for multiple hypervisor versions, and to prevent instances with newer HyperV tools from being provisioned on an older version of a hypervisor. If available, the property value is compared to the hypervisor version of the compute host... nova:image-meta:: img_hv_type - ``qemu`` (used for both QEMU and KVM hypervisor types).. nova:image-meta:: img_config_drive .. nova:image-meta:: img_linked_clone .. nova:image-meta:: img_owner_id .. nova:image-meta:: img_hide_hypervisor_id .. nova:image-meta:: img_signature .. nova:image-meta:: img_signature_hash_method .. nova:image-meta:: img_signature_certificate_uuid .. nova:image-meta:: img_signature_key_type .. nova:image-meta:: os_admin_user .. nova:image-meta:: os_command_line .. nova:image-meta:: os_distro .. nova:image-meta:: os_require_quiesce .. nova:image-meta:: os_secure_boot .. nova:image-meta:: os_type .. nova:image-meta:: img_bdm_v2 .. nova:image-meta:: img_block_device_mapping .. nova:image-meta:: img_mappings .. nova:image-meta:: architecture A legacy alias for :nova:image-meta:`hw_architecture`... nova:image-meta:: owner_id A legacy alias for :nova:image-meta:`img_owner_id`.. nova:image-meta:: vmware_disktype A legacy alias for :nova:image-meta:`hw_disk_type`.. nova:image-meta:: vmware_image_version A legacy alias for :nova:image-meta:`img_version`.. nova:image-meta:: vmware_ostype A legacy alias for :nova:image-meta:`os_distro`.. nova:image-meta:: auto_disk_config A legacy alias for :nova:image-meta:`hw_auto_disk_config`.. nova:image-meta:: ipxe_boot A legacy alias for :nova:image-meta:`hw_ipxe_boot`.. nova:image-meta:: xenapi_device_id A legacy alias for :nova:image-meta:`hw_device_id`.. nova:image-meta:: xenapi_image_compression_level A legacy alias for :nova:image-meta:`img_compression_level`.. nova:image-meta:: vmware_linked_clone A legacy alias for :nova:image-meta:`img_linked_clone`.. nova:image-meta:: xenapi_use_agent A legacy alias for :nova:image-meta:`img_use_agent`.. nova:image-meta:: xenapi_skip_agent_inject_ssh A legacy alias for :nova:image-meta:`os_skip_agent_inject_ssh`.. nova:image-meta:: xenapi_skip_agent_inject_files_at_boot A legacy alias for :nova:image-meta:`os_skip_agent_inject_files_at_boot`.. nova:image-meta:: cache_in_nova A legacy alias for :nova:image-meta:`img_cache_in_nova`.. nova:image-meta:: vm_mode A legacy alias for :nova:image-meta:`hw_vm_mode`.. nova:image-meta:: bittorrent A legacy alias for :nova:image-meta:`img_bittorrent`.. nova:image-meta:: mappings A legacy alias for :nova:image-meta:`img_mappings`.. nova:image-meta:: block_device_mapping A legacy alias for :nova:image-meta:`img_block_device_mapping`.. nova:image-meta:: bdm_v2 A legacy alias for :nova:image-meta:`img_bdm_v2`.. nova:image-meta:: root_device_name A legacy alias for :nova:image-meta:`img_root_device_name`.. nova:image-meta:: hypervisor_version_requires A legacy alias for :nova:image-meta:`img_hv_requested_version`.. nova:image-meta:: hypervisor_type A legacy alias for :nova:image-meta:`img_hv_type`.. nova:image-meta:: hw_rng_model :Type: String (enum) Model of Random Number Generator (RNG) device to use. .. deprecated:: 21.0.0 (Ussuri) This image metadata property is no longer used by any drivers. .. nova:image-meta:: hw_auto_disk_config .. nova:image-meta:: hw_device_id .. nova:image-meta:: hw_ipxe_boot .. nova:image-meta:: img_bittorrent .. nova:image-meta:: img_cache_in_nova .. nova:image-meta:: img_compression_level .. nova:image-meta:: img_root_device_name .. nova:image-meta:: img_use_agent .. nova:image-meta:: img_version .. nova:image-meta:: os_skip_agent_inject_files_at_boot .. nova:image-meta:: os_skip_agent_inject_ssh ",``hw_architecture````hw_boot_menu````hw_cdrom_bus````hw_cpu_sockets````hw_cpu_cores````hw_cpu_threads````hw_cpu_max_sockets````hw_cpu_max_cores````hw_cpu_max_threads````hw_cpu_policy````hw_cpu_thread_policy````hw_cpu_realtime_mask````hw_disk_bus````hw_disk_type````hw_floppy_bus````hw_firmware_type````hw_machine_type````hw_mem_encryption````hw_mem_page_size````hw_numa_nodes````hw_numa_cpus````hw_numa_mem````hw_pci_numa_affinity_policy````hw_pointer_model````hw_pmu````hw_qemu_guest_agent````hw_rescue_bus````hw_rescue_device````hw_rng_model`` :Type: String (enum) Model of Random Number Generator (RNG) device to use. .. note:: This is currently unused. ``hw_time_hpet````hw_serial_port_count````hw_scsi_model````hw_video_model````hw_video_ram````hw_vif_model````hw_vm_mode````hw_watchdog_action````hw_vif_multiqueue_enabled````hw_tpm_model````hw_tpm_version````img_hv_requested_version`` Hypervisor supported version. For example: ``>=2.6````img_hv_type`` - ``qemu````img_config_drive````img_linked_clone````img_owner_id````img_hide_hypervisor_id````img_signature````img_signature_hash_method````img_signature_certificate_uuid````img_signature_key_type````os_admin_user````os_command_line````os_distro````os_require_quiesce````os_secure_boot````os_type````img_bdm_v2````img_block_device_mapping````img_mappings````architecture`` A legacy alias for ``hw_architecture````owner_id`` A legacy alias for ``img_owner_id````vmware_disktype`` A legacy alias for ``hw_disk_type````vmware_image_version`` A legacy alias for ``img_version````vmware_ostype`` A legacy alias for ``os_distro````auto_disk_config`` A legacy alias for ``hw_auto_disk_config````ipxe_boot`` A legacy alias for ``hw_ipxe_boot````xenapi_device_id`` A legacy alias for ``hw_device_id````xenapi_image_compression_level`` A legacy alias for ``img_compression_level````vmware_linked_clone`` A legacy alias for ``img_linked_clone````xenapi_use_agent`` A legacy alias for ``img_use_agent````xenapi_skip_agent_inject_ssh`` A legacy alias for ``os_skip_agent_inject_ssh````xenapi_skip_agent_inject_files_at_boot`` A legacy alias for ``os_skip_agent_inject_files_at_boot````cache_in_nova`` A legacy alias for ``img_cache_in_nova````vm_mode`` A legacy alias for ``hw_vm_mode````bittorrent`` A legacy alias for ``img_bittorrent````mappings`` A legacy alias for ``img_mappings````block_device_mapping`` A legacy alias for ``img_block_device_mapping````bdm_v2`` A legacy alias for ``img_bdm_v2````root_device_name`` A legacy alias for ``img_root_device_name````hypervisor_version_requires`` A legacy alias for ``img_hv_requested_version````hypervisor_type`` A legacy alias for ``img_hv_type````hw_auto_disk_config````hw_device_id````hw_ipxe_boot````img_bittorrent````img_cache_in_nova````img_compression_level````img_root_device_name````img_use_agent````img_version````os_skip_agent_inject_files_at_boot````os_skip_agent_inject_ssh``,287,144
openstack%2Fcharm-guide~master~I15a8e7dfe8d7f5efaaa1e9ada1e1d7d4fc1ee880,openstack/charm-guide,master,I15a8e7dfe8d7f5efaaa1e9ada1e1d7d4fc1ee880,Update find-us page,MERGED,2021-05-10 16:41:00.000000000,2021-05-11 16:48:52.000000000,2021-05-11 16:47:35.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 16:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/72b823e3d065920b29d427395692769a9c6d2b9d', 'message': 'Update find-us page\n\nChange-Id: I15a8e7dfe8d7f5efaaa1e9ada1e1d7d4fc1ee880\n'}, {'number': 2, 'created': '2021-05-11 16:26:17.000000000', 'files': ['doc/source/find-us.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8cc1f3f64a7a0e681325e112395cec6e3d4e5006', 'message': 'Update find-us page\n\nReword and add the Juju forum\n\nThis PR will also be used to generate an OpenStack\nWallaby version of the CG\n\nChange-Id: I15a8e7dfe8d7f5efaaa1e9ada1e1d7d4fc1ee880\n'}]",0,790493,8cc1f3f64a7a0e681325e112395cec6e3d4e5006,9,2,2,30561,,,0,"Update find-us page

Reword and add the Juju forum

This PR will also be used to generate an OpenStack
Wallaby version of the CG

Change-Id: I15a8e7dfe8d7f5efaaa1e9ada1e1d7d4fc1ee880
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/93/790493/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/find-us.rst'],1,72b823e3d065920b29d427395692769a9c6d2b9d,update-find-us-page,Forum ----- Find us on the Juju Discourse site: `OpenStack`_. Mark the forum post (topic) with the ``openstack`` tag.We are present on the upstream OpenStack mailing list: `openstack-discuss`_.IRC --- IRC on Freenode also works: ``#openstack-charms`` .. _OpenStack: https://discourse.charmhub.io/c/juju/,"IRC --- Ask us questions on our IRC channel on Freenode: ``#openstack-charms``.For more lengthy discussions, converse by email on the upstream OpenStack mailing list: `openstack-discuss`_ ",11,6
openstack%2Ftempest~master~I64af1c7c7415cd4ab99b6a913fb84fecbc0a3bf1,openstack/tempest,master,I64af1c7c7415cd4ab99b6a913fb84fecbc0a3bf1,Remove unicode from code,MERGED,2021-01-04 02:59:40.000000000,2021-05-11 16:42:13.000000000,2021-05-11 16:39:32.000000000,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-01-04 02:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1459ca31b97d19e15ec87b9dba5963647bd2ae31', 'message': 'remove unicode from code\n\nChange-Id: I64af1c7c7415cd4ab99b6a913fb84fecbc0a3bf1\n'}, {'number': 2, 'created': '2021-04-02 05:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/386872d2fa3fe41fcc294705f7d25567dd8a4cac', 'message': 'Remove unicode from code\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: I64af1c7c7415cd4ab99b6a913fb84fecbc0a3bf1\n'}, {'number': 3, 'created': '2021-04-02 08:49:22.000000000', 'files': ['tempest/tests/cmd/test_cleanup_services.py', 'tempest/tests/lib/services/compute/test_networks_client.py', 'tempest/tests/lib/services/compute/test_extensions_client.py', 'doc/source/conf.py', 'tempest/api/compute/servers/test_servers.py', 'tempest/tests/lib/services/compute/test_keypairs_client.py', 'tempest/tests/lib/services/compute/test_aggregates_client.py', 'tempest/tests/lib/services/compute/test_availability_zone_client.py', 'tempest/tests/lib/services/compute/test_tenant_networks_client.py', 'tempest/tests/lib/services/compute/test_quota_classes_client.py', 'tempest/tests/lib/services/compute/test_floating_ip_pools_client.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c7845314f5602c5d7e074944fa7a391bf2de2fdd', 'message': 'Remove unicode from code\n\nIn python 3, all strings are considered as unicode string.\n\nThis patch drops the explicit unicode literal (u\'...\')\nor (u"".."") appearances from the unicode strings.\n\nChange-Id: I64af1c7c7415cd4ab99b6a913fb84fecbc0a3bf1\n'}]",0,769081,c7845314f5602c5d7e074944fa7a391bf2de2fdd,16,4,3,31412,,,0,"Remove unicode from code

In python 3, all strings are considered as unicode string.

This patch drops the explicit unicode literal (u'...')
or (u"".."") appearances from the unicode strings.

Change-Id: I64af1c7c7415cd4ab99b6a913fb84fecbc0a3bf1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/81/769081/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/cmd/test_cleanup_services.py', 'tempest/tests/lib/services/compute/test_networks_client.py', 'tempest/tests/lib/services/compute/test_extensions_client.py', 'doc/source/conf.py', 'tempest/api/compute/servers/test_servers.py', 'tempest/tests/lib/services/compute/test_keypairs_client.py', 'tempest/tests/lib/services/compute/test_aggregates_client.py', 'tempest/tests/lib/services/compute/test_availability_zone_client.py', 'tempest/tests/lib/services/compute/test_tenant_networks_client.py', 'tempest/tests/lib/services/compute/test_quota_classes_client.py', 'tempest/tests/lib/services/compute/test_floating_ip_pools_client.py', 'releasenotes/source/conf.py']",12,1459ca31b97d19e15ec87b9dba5963647bd2ae31,,"copyright = '2016, tempest Developers' 'olso.config Release Notes Documentation', 'tempest Developers', 'manual'), 'tempest Release Notes Documentation', ['tempest Developers'], 1) 'tempest Release Notes Documentation', 'tempest Developers', 'olso.configReleaseNotes',","copyright = u'2016, tempest Developers' u'olso.config Release Notes Documentation', u'tempest Developers', 'manual'), u'tempest Release Notes Documentation', [u'tempest Developers'], 1) u'tempest Release Notes Documentation', u'tempest Developers', 'olso.configReleaseNotes',",51,51
openstack%2Fdevstack~master~I28019331017405c06577ada88f8e9f6d9a2afc23,openstack/devstack,master,I28019331017405c06577ada88f8e9f6d9a2afc23,Fix docs job,MERGED,2021-05-11 10:06:27.000000000,2021-05-11 16:42:06.000000000,2021-05-11 16:40:00.000000000,"[{'_account_id': 6773}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 10:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c4d2f265daa77d5e2e9a9b4ad6f780d94cc0b413', 'message': ""Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment. While this dependency is not included in DevStack let's\nconstraint the version of Sphinx that we use.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I28019331017405c06577ada88f8e9f6d9a2afc23\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 2, 'created': '2021-05-11 12:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/821ae0e57d33c7af876fddbedee1e9a2f07f90f6', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I28019331017405c06577ada88f8e9f6d9a2afc23\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2021-05-11 13:05:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack/commit/69a66fb62bcb77145b6eec21fc2d56d40a861d0d', 'message': 'Fix docs job\n\nSphinx 4.0.0 added a new dependency [0] which is causing the job to fail\nat the moment.\n\nThis patch fix the problem by adding UC to the docs jobs.\n\n[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add\ntex-gyre font dependency)\n\nChange-Id: I28019331017405c06577ada88f8e9f6d9a2afc23\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",1,790649,69a66fb62bcb77145b6eec21fc2d56d40a861d0d,16,5,3,6773,,,0,"Fix docs job

Sphinx 4.0.0 added a new dependency [0] which is causing the job to fail
at the moment.

This patch fix the problem by adding UC to the docs jobs.

[0] https://www.sphinx-doc.org/en/master/changes.html (LaTeX: add
tex-gyre font dependency)

Change-Id: I28019331017405c06577ada88f8e9f6d9a2afc23
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/49/790649/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,c4d2f265daa77d5e2e9a9b4ad6f780d94cc0b413,fix-docs,"sphinx>=2.0.0,!=2.1.0,<=3.5.5 # BSD","sphinx>=2.0.0,!=2.1.0 # BSD",1,1
openstack%2Fkayobe~stable%2Ftrain~Iaf0dfb34750ba8b8d74a043587a2035b511de6ad,openstack/kayobe,stable/train,Iaf0dfb34750ba8b8d74a043587a2035b511de6ad,Sync the names and content of the repo-files for CentOS8,MERGED,2021-05-11 13:02:27.000000000,2021-05-11 16:32:57.000000000,2021-05-11 16:31:31.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 13:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e162fef1736bea0117a7482231360a9e2279d3b0', 'message': 'Sync the names and content of the repo-files for CentOS8\n\nSince 8.3.2011 release of CentOS the repo-files renamed and the content\nis slightly changed. This change sync the templates used in role with\nupstream changes.\n\nChange-Id: Iaf0dfb34750ba8b8d74a043587a2035b511de6ad\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit cdcb90809a2429c6e57d80a2f93fc9b6b218590c)\n(cherry picked from commit 9fdecebeff8cba152f5aa82008bd58d02875004d)\n'}, {'number': 2, 'created': '2021-05-11 13:03:56.000000000', 'files': ['ansible/roles/dnf/templates/CentOS-Base.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-BaseOS.repo.j2', 'ansible/roles/dnf/tasks/local-mirror.yml', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'ansible/roles/dnf/templates/CentOS-Extras.repo.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c39bdcddb236484311f284afbea8a4e16eafe903', 'message': 'Sync the names and content of the repo-files for CentOS8\n\nSince 8.3.2011 release of CentOS the repo-files renamed and the content\nis slightly changed. This change sync the templates used in role with\nupstream changes.\n\nChange-Id: Iaf0dfb34750ba8b8d74a043587a2035b511de6ad\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit cdcb90809a2429c6e57d80a2f93fc9b6b218590c)\n(cherry picked from commit 9fdecebeff8cba152f5aa82008bd58d02875004d)\n'}]",0,790575,c39bdcddb236484311f284afbea8a4e16eafe903,11,4,2,14826,,,0,"Sync the names and content of the repo-files for CentOS8

Since 8.3.2011 release of CentOS the repo-files renamed and the content
is slightly changed. This change sync the templates used in role with
upstream changes.

Change-Id: Iaf0dfb34750ba8b8d74a043587a2035b511de6ad
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit cdcb90809a2429c6e57d80a2f93fc9b6b218590c)
(cherry picked from commit 9fdecebeff8cba152f5aa82008bd58d02875004d)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/75/790575/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/dnf/templates/CentOS-Base.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-BaseOS.repo.j2', 'ansible/roles/dnf/tasks/local-mirror.yml', 'ansible/roles/dnf/templates/CentOS-Extras.repo.j2', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py']",8,e162fef1736bea0117a7482231360a9e2279d3b0,dnf-centos-repos-stable/train,"<<<<<<< HEAD (67b8e7 Restore upper constraints for docs and releasenotes)======= @pytest.mark.parametrize('repo', [""appstream"", ""baseos"", ""extras"", ""epel"", >>>>>>> CHANGE (9fdece Sync the names and content of the repo-files for CentOS8)",,65,58
openstack%2Ftripleo-upgrade~stable%2Fvictoria~I289a55c5dbe6369791f89bb840430053ba11f9c1,openstack/tripleo-upgrade,stable/victoria,I289a55c5dbe6369791f89bb840430053ba11f9c1,Add STACK_NAME in OSP13 validations script.,MERGED,2021-05-11 09:19:31.000000000,2021-05-11 16:13:43.000000000,2021-05-11 16:13:43.000000000,"[{'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-05-11 09:19:31.000000000', 'files': ['templates/pre-upgrade-osp13-validation.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3db892ec3a7b5c7452d782ad10d7972004a46061', 'message': ""Add STACK_NAME in OSP13 validations script.\n\nThe script was using the overcloud_stack_name parameter. However, as\nit is being executed during the undercloud_os_upgrade stage, the stack\nname for the overcloud isn't being passed. Therefore, let's leave the\nscript as it is in the FFU docs [0].\n\n[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade\n\nChange-Id: I289a55c5dbe6369791f89bb840430053ba11f9c1\n(cherry picked from commit 32e3a9d3f65bb307e223e45e7ccf37f2eadf1789)\n""}]",0,790566,3db892ec3a7b5c7452d782ad10d7972004a46061,6,2,1,6816,,,0,"Add STACK_NAME in OSP13 validations script.

The script was using the overcloud_stack_name parameter. However, as
it is being executed during the undercloud_os_upgrade stage, the stack
name for the overcloud isn't being passed. Therefore, let's leave the
script as it is in the FFU docs [0].

[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade

Change-Id: I289a55c5dbe6369791f89bb840430053ba11f9c1
(cherry picked from commit 32e3a9d3f65bb307e223e45e7ccf37f2eadf1789)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/66/790566/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/pre-upgrade-osp13-validation.sh.j2'],1,3db892ec3a7b5c7452d782ad10d7972004a46061,," STACK_NAME=$(openstack stack list -f value -c 'Stack Name') ID=$(openstack workflow execution create -f value -c ID tripleo.validations.v1.run_validation ""{\""validation_name\"": $VALIDATION, \""plan\"": \""$STACK_NAME\""}"")"," ID=$(openstack workflow execution create -f value -c ID tripleo.validations.v1.run_validation ""{\""validation_name\"": $VALIDATION, \""plan\"": \""{{ overcloud_stack_name }}\""}"")",2,1
openstack%2Ftripleo-ansible~master~Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b,openstack/tripleo-ansible,master,Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b,Computes the TSX Flags for the compute nodes,ABANDONED,2021-03-30 21:11:33.000000000,2021-05-11 16:11:17.000000000,,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}, {'_account_id': 28223}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-03-30 21:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6e012bb891dad40bedefef0ae8ca69183db32bfc', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 2, 'created': '2021-03-30 21:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bc189cb1565f8593ec083b2f5387298ab1bf89c7', 'message': ""DNM yet: Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 3, 'created': '2021-03-31 00:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2d115ba19674b30fa4617ec3a5ab7879a32dd28a', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 4, 'created': '2021-04-06 14:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4bad108c67e3093eb8d5264921e48fd91d445d61', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 5, 'created': '2021-04-06 18:44:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b20175c73ea64a1e41c0ad11c2029fb0995a34de', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 6, 'created': '2021-04-06 23:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ecd24bfe3794d61e5a862f048a448dd3bc9d8fbf', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 7, 'created': '2021-04-07 04:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42808b173699032fa66f9f4e6f8cca06b302f2a6', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 8, 'created': '2021-04-07 16:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16f6af8cbae82185d83538bd474c73bee5bc00a3', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 9, 'created': '2021-04-07 17:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9f86e69b9a07ea6f892697474e9d5dec9bcca2d', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 10, 'created': '2021-04-07 19:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6f73b3d81954c5074feb986595a6bef706aaf617', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 11, 'created': '2021-04-09 04:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69695650789edf28c63262e62dccd3a44128f01f', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 12, 'created': '2021-04-09 20:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/60e7824fd632f0c4861df50d9410d3ac9f9226e8', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 13, 'created': '2021-04-12 15:58:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fe4779f6f1342278e27da74ee1bcb91cc25c9b46', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 14, 'created': '2021-04-12 20:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2a40fade08fc79821cc4e417a4f1c574e308d6a', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/775729\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 15, 'created': '2021-04-12 20:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a23d145bd262f9312bb54141325703eda2b7f360', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 16, 'created': '2021-04-13 03:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/147be854730231ab6351543bf0b849da7b7a4c88', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 17, 'created': '2021-04-13 03:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a120ed2716f57143b22c7ecb7450e8dd184026e4', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 18, 'created': '2021-04-13 04:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/680f9856cb04b5061d737e74d1dea55117ad26c0', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 19, 'created': '2021-04-16 22:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/718347b32d67a5bd5cafda3bc667a81a5700bfca', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 20, 'created': '2021-04-16 22:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4b8597636deb0c04f2372a0c352cf6a628ce811c', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 21, 'created': '2021-04-16 22:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c18853ca5b5d020e14128a8f47062e220889b66', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 22, 'created': '2021-04-17 02:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1dbd72760f9e92098e91830c8e83fa85ba471e19', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 23, 'created': '2021-04-17 02:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9838ca510913453e13f98a87383b40f201a2d23', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 24, 'created': '2021-04-17 16:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9699227004fd5b450487c18e7717f8b7fb64336b', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 25, 'created': '2021-04-19 15:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/150dc74bed44f8eaad212c2471f76afd451e9d58', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 26, 'created': '2021-04-20 03:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6b744fd8cdf1ecb339b37db62bf2322234d25692', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 27, 'created': '2021-04-20 04:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/54d1568c03f2ff99c2eb5f6fb7aedc44948b7f05', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 28, 'created': '2021-04-20 04:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/50bf8a6994c2d49200a1b292b42a99a74bc295dc', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 29, 'created': '2021-04-20 04:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/40cef33b8de34557af5f464d025bcda03a843365', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 30, 'created': '2021-04-20 04:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84a42152450c28b779eed187d505f9008ef2f71b', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 31, 'created': '2021-04-20 05:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fdbaf52deb7f5afad8e026dcae9dbcb70d110159', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 32, 'created': '2021-04-20 05:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/635d21dd8969b0b765a52e4aa78a344b1ac27219', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 33, 'created': '2021-04-20 05:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2fc12e3ee09e0fda22253e3ebb9355d4e5429708', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 34, 'created': '2021-04-20 13:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0cb25087de1f6efd8a1b9f70f51630185d120ec7', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 35, 'created': '2021-04-20 15:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb7a44c0f58b8597c704b1cbc4e58d3a4e097e81', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 36, 'created': '2021-04-21 18:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/769cf0fa2e45efb4a4f22434c7e63e523f88ef12', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 37, 'created': '2021-04-21 19:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3467c7767797c2e90752f954ddf1e59cbec2818', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 38, 'created': '2021-04-22 00:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b6ef81176b3f22226f7fb5b6382b3d3403be24fe', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 39, 'created': '2021-04-22 00:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6bf720feb7ae2083c84ea65f78db838cbcb1ab78', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 40, 'created': '2021-04-22 04:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f9376034550e486d67d07ba1132ee83bc4a17aff', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 41, 'created': '2021-04-22 11:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f58b7c81d3601afe2095e4c3f6668c2c1570bca7', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 42, 'created': '2021-04-23 01:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/297e63cf08f72c24f9de3fc4c85164c4b1f2f418', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 43, 'created': '2021-04-23 03:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec6fd1b967516b7887e76382750f4e020a7743c4', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 44, 'created': '2021-04-23 04:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cb12d2f57217737a162fc8debef24aa0db13e39b', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 45, 'created': '2021-04-23 04:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1256f5b1bd15dd89e4e5cee07584cbb2fb08e132', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 46, 'created': '2021-04-23 12:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/36c121488c9628fc69fb2f5e961bc1e3ebe62180', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 47, 'created': '2021-04-23 23:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/719181098e602fe1564129c87fe8de566424f983', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 48, 'created': '2021-04-24 03:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6b49a92092099bf355b6f629eb935d9663c90832', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 49, 'created': '2021-04-24 03:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9f9c86840bb107bb4a770e22088c31322278f754', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 50, 'created': '2021-04-25 14:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1bcca486d3809fe715dcb6f879f64dd5f97be445', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 51, 'created': '2021-04-25 20:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cb42d93b92a8b8e831f8dadc182f7e293776ab0f', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 52, 'created': '2021-04-25 21:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f6281d3098992c3a04247362987d9e38408038a5', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 53, 'created': '2021-04-26 01:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6bace637e52a5e8bd2db3064525e54369f3453c1', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 54, 'created': '2021-04-26 13:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/41aefbcd10fb2c42bfcdd04f9c6b6f0ffd7f336e', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 55, 'created': '2021-04-26 21:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2ef31192790cdb519f9c4a5028cfebbcefbfaa1c', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 56, 'created': '2021-04-27 10:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c91fc2a9edefeec3183d6dc15f0a93abaf38b9a7', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 57, 'created': '2021-04-28 17:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ed7e9167127a48820ff6da87e9c4fea4c6bb2b7b', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 58, 'created': '2021-05-05 16:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/077d42468dfb824a81b8c5ad31899f7482257f77', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 59, 'created': '2021-05-09 12:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6eb1ddf2ff3dba17a68d66e8d1053398310cc304', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 60, 'created': '2021-05-09 14:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5d17479c21e3192a5c5c86f040a041c2977e376f', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}, {'number': 61, 'created': '2021-05-11 02:25:53.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg-train-reboot/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg-reboot/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-disabled/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg-train-reboot/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-update/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/defaults/main.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport-reboot/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport-reboot/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg-reboot/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg-train/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/vars/main.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport-train-reboot/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport-train-reboot/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg-reboot/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport-train/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport-train/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport-reboot/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/playbooks/prepare-tsx.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/Dockerfile', 'releasenotes/notes/tsx-automation-on-computes-33b70a08e9ed242d.yaml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg-reboot/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-update/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-disabled/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg-train/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/tsx_automation.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-disabled-train/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/tasks/verify-reboot.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg-train-reboot/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg-train-reboot/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport-train-reboot/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg-train/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/extra/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/scripts/podman', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/tasks/verify-noreboot.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg-train-reboot/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg-reboot/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg-train-reboot/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-nocpusupport-train/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-arg-train/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/tasks/get_tsx_facts.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/tasks/environment-reset.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-disabled-train/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/resources/tasks/verify-grub-cmdline.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-disabled/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg-train/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg-train/molecule.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-disabled-train/verify.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg-reboot/converge.yml', 'tripleo_ansible/roles/tripleo_kernel/molecule/kernelargs-tsx-noarg/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1622abd25137667ea5078b3a80cca2d86b5911ef', 'message': ""Computes the TSX Flags for the compute nodes\n\nRHEL-8.3 kernel disabled the Intel TSX (Transactional\nSynchronization Extensions) feature by default as a preemptive\nsecurity measure, but it breaks live migration from RHEL-7.9\n(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.\n\nScenarios where we need to act:\n1. Upgrade OSP13 => OSP16.2\nOn the leap upgrade of the compute node to RHEL 8.3\nif tsx=off already in kernel ARGS, don't do anything\nenable TSX on computes which have CPU flags hle|rtm\n\n2. Update from OSP16.1 => OSP16.2\nIf tsx=off already in KernelArgs, don't do anything.\n\n3. OSP 16.2 new deployments\nExplicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.\nIf a customer want to have tsx enabled it needs to be switched on via THT.\n\n4. OSP16.1 new deployments\nWe need to force tsx=off, unless explicitly enabled\n\nUpdate/Upgrade scenarios\nIf no tsx flag is added by operator, we enable it by default if the cpu\nsupports it. This is to prevent live-migration failures. If the node was\nalready deployed, (by looking for the presence of nova.conf), we defer\nreboot to the operator to prevent any unexpected reboots.\n\nNova bug documented here: https://bugzilla.redhat.com/1921070\n\nSide note on automation:\n- We believe it's important to automate this part.\n- Operators have already tons of things to think and configure\n- Most of them don't care about TSX\n- If we fail with a warning telling them to define TSX manually when\n  it's not defined, they will spend multiple hours trying to wrap\n  their head around this.\n\nCo-Authored-By: Martin Schuppert <mschuppert@redhat.com>\nRelated: https://bugzilla.redhat.com/1923165\nCloses-Bug: #1916758\n\nChange-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b\n""}]",100,783969,1622abd25137667ea5078b3a80cca2d86b5911ef,213,13,61,27419,,,0,"Computes the TSX Flags for the compute nodes

RHEL-8.3 kernel disabled the Intel TSX (Transactional
Synchronization Extensions) feature by default as a preemptive
security measure, but it breaks live migration from RHEL-7.9
(or even RHEL-8.1 or RHEL-8.2) to RHEL-8.3.

Scenarios where we need to act:
1. Upgrade OSP13 => OSP16.2
On the leap upgrade of the compute node to RHEL 8.3
if tsx=off already in kernel ARGS, don't do anything
enable TSX on computes which have CPU flags hle|rtm

2. Update from OSP16.1 => OSP16.2
If tsx=off already in KernelArgs, don't do anything.

3. OSP 16.2 new deployments
Explicitely disable tsx on new deployments starting with OSP16.2/RHEL8.4.
If a customer want to have tsx enabled it needs to be switched on via THT.

4. OSP16.1 new deployments
We need to force tsx=off, unless explicitly enabled

Update/Upgrade scenarios
If no tsx flag is added by operator, we enable it by default if the cpu
supports it. This is to prevent live-migration failures. If the node was
already deployed, (by looking for the presence of nova.conf), we defer
reboot to the operator to prevent any unexpected reboots.

Nova bug documented here: https://bugzilla.redhat.com/1921070

Side note on automation:
- We believe it's important to automate this part.
- Operators have already tons of things to think and configure
- Most of them don't care about TSX
- If we fail with a warning telling them to define TSX manually when
  it's not defined, they will spend multiple hours trying to wrap
  their head around this.

Co-Authored-By: Martin Schuppert <mschuppert@redhat.com>
Related: https://bugzilla.redhat.com/1923165
Closes-Bug: #1916758

Change-Id: Ia64010b6ae2e361f41e5585d22bd7fb9015fc83b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/783969/54 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/tsx-automation-on-computes-33b70a08e9ed242d.yaml', 'tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml']",2,6e012bb891dad40bedefef0ae8ca69183db32bfc,tsx_flag_computes,"- name: Defaulting tsx_flag set_fact: tsx_flag: """" - name: TSX CPU Flag Validation for compute nodes when: - '""nova_libvirt"" in node_services' block: - name: Extracting TSX flag from current KernelArgs set_fact: tsx_arg: ""{{ tripleo_kernel_args | regex_search('(?:\\s|^)tsx=(on|off)', '\\1') | default([''], true) | first }}"" tripleo_kernel_args: ""{{ tripleo_kernel_args | regex_replace('(?:\\s|^)tsx=(on|off)', '') }}"" # Here we extract TSX from kernel_args, and we rewrite kernel_args without tsx # We will re-append tsx flag later based on our guess # Variable description: # tsx_arg: operator provided flag # tsx_flag: computed flag # tsx_support: CPU support for TSX # nova_conf: Validating the presence of nova.conf - name: Gather custom node facts shell: | uname -r grep TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS= /etc/default/grub || echo TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS= grep TRIPLEO_HEAT_TEMPLATE_KERNEL_OVERRIDE_ARGS /etc/default/grub || echo TRIPLEO_HEAT_TEMPLATE_KERNEL_OVERRIDE_ARGS= test -f /var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf && echo ""true"" || echo ""false"" egrep ""hle|rtm"" /proc/cpuinfo register: node_infos ignore_errors: true - name: Parse custom node facts set_fact: tsx_rhel_8_2: ""{{ node_infos.stdout_lines[0] is version('4.18.0-240.el8.x86_64', '<') }}"" tsx_cmdline: ""{{ cmdline.stdout_lines[0] | regex_search('(?:\\s|^)tsx=(on|off)', '\\1') | default([''], true) | first }}"" tsx_tht_kernel_args: ""{{ node_infos.stdout_lines[1] | regex_search('(?:\\s|^)tsx=(on|off)', '\\1') | default([''], true) | first }}"" tsx_tht_kernel_args_or: ""{{ node_infos.stdout_lines[2] | regex_search('(?:\\s|^)tsx=(on|off)', '\\1') | default([''], true) | first }}"" tsx_nova_conf: ""{{ node_infos.stdout_lines[3] | bool }}"" tsx_cpu_support: ""{{ node_infos.stdout_lines | count > 4 }}"" # Let's generate an inventory of compute nodes that would be the reason why TSX is enabled everywhere # Our criterias: # - If CPU supports TSX AND # - - if ""tsx=on"" is found on either cmdline, or grub config OR # - - if compute is rhel <= 8.2 and it's deployed already - name: Determining if tsx should be enabled based on facts set_fact: tsx_computes: ""{{ tsx_computes | default([]) + [ compute_node ] }}"" loop: ""{{ groups['all'] }}"" loop_control: loop_var: compute_node when: - '""undercloud"" != compute_node' - tsx_cpu_support - '""on"" in hostvars[compute_node][""tsx_cmdline""] or ""on"" in hostvars[compute_node][""tsx_tht_kernel_args""] or ""on"" in hostvars[compute_node][""tsx_tht_kernel_args_or""] or (tsx_rhel_8_2 and tsx_nova_conf)' run_once: true - name: Defer reboot if node is already provisioned set_fact: tripleo_kernel_defer_reboot: tsx_nova_conf - name: If not, we guess what it should be when: - tsx_arg | length <= 1 set_fact: tsx_flag: ""{% if tsx_computes | default([]) | count > 0 and overcloud_server_list | count > 0 %}on{% else %}off{% endif %}"" - name: Print variables debug: msg: | tsx_arg: {{ tsx_arg }} tsx_flag: {{ tsx_flag }} tripleo_defer_reboot: {{ tripleo_kernel_defer_reboot }} tsx_rhel_8_2: {{ tsx_rhel_8_2 }} tsx_cmdline: {{ tsx_cmdline }} tsx_tht_kernel_args: {{ tsx_tht_kernel_args }} tsx_tht_kernel_args_or: {{ tsx_tht_kernel_args_or }} tsx_nova_conf: {{ tsx_nova_conf }} tsx_cpu_support: {{ tsx_cpu_support }} tsx_computes: {{ tsx_computes | default([]) }} - name: ""Ensure the kernel args ({{ tripleo_kernel_args }}) is present as GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS"" - name: ""Ensure the TSX Flag ({{ tsx_flag|default('') }}) is present as GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_OVERRIDE_ARGS"" lineinfile: dest: /etc/default/grub regexp: '^GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_OVERRIDE_ARGS.*' insertafter: '^GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS.*' line: 'GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_OVERRIDE_ARGS="" {% if tsx_flag | length > 1 %} tsx={{ tsx_flag }} {% endif %}""' line: 'GRUB_CMDLINE_LINUX=""${GRUB_CMDLINE_LINUX:+$GRUB_CMDLINE_LINUX }${GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS}${GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_OVERRIDE_ARGS}""' insertafter: '^GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_OVERRIDE_ARGS.*' - (tripleo_kernel_args|string or tsx_flag|string) - '(tripleo_kernel_args not in cmdline.stdout_lines[0] or ""tsx={{ tsx_flag }}"" not in cmdline.stdout_lines[0])'"," - name: Ensure the kernel args ( {{ tripleo_kernel_args }} ) is present as GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS line: 'GRUB_CMDLINE_LINUX=""${GRUB_CMDLINE_LINUX:+$GRUB_CMDLINE_LINUX }${GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS}""' insertafter: '^GRUB_TRIPLEO_HEAT_TEMPLATE_KERNEL_ARGS.*' - tripleo_kernel_args|string - tripleo_kernel_args not in cmdline.stdout_lines[0]",111,5
openstack%2Ftripleo-upgrade~stable%2Ftrain~I289a55c5dbe6369791f89bb840430053ba11f9c1,openstack/tripleo-upgrade,stable/train,I289a55c5dbe6369791f89bb840430053ba11f9c1,Add STACK_NAME in OSP13 validations script.,MERGED,2021-05-11 09:20:08.000000000,2021-05-11 16:05:44.000000000,2021-05-11 16:05:44.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-05-11 09:20:08.000000000', 'files': ['templates/pre-upgrade-osp13-validation.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4e1837a358132606718823968cb0865c3f33c72d', 'message': ""Add STACK_NAME in OSP13 validations script.\n\nThe script was using the overcloud_stack_name parameter. However, as\nit is being executed during the undercloud_os_upgrade stage, the stack\nname for the overcloud isn't being passed. Therefore, let's leave the\nscript as it is in the FFU docs [0].\n\n[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade\n\nChange-Id: I289a55c5dbe6369791f89bb840430053ba11f9c1\n(cherry picked from commit 32e3a9d3f65bb307e223e45e7ccf37f2eadf1789)\n""}]",0,790568,4e1837a358132606718823968cb0865c3f33c72d,7,3,1,6816,,,0,"Add STACK_NAME in OSP13 validations script.

The script was using the overcloud_stack_name parameter. However, as
it is being executed during the undercloud_os_upgrade stage, the stack
name for the overcloud isn't being passed. Therefore, let's leave the
script as it is in the FFU docs [0].

[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade

Change-Id: I289a55c5dbe6369791f89bb840430053ba11f9c1
(cherry picked from commit 32e3a9d3f65bb307e223e45e7ccf37f2eadf1789)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/68/790568/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/pre-upgrade-osp13-validation.sh.j2'],1,4e1837a358132606718823968cb0865c3f33c72d,," STACK_NAME=$(openstack stack list -f value -c 'Stack Name') ID=$(openstack workflow execution create -f value -c ID tripleo.validations.v1.run_validation ""{\""validation_name\"": $VALIDATION, \""plan\"": \""$STACK_NAME\""}"")"," ID=$(openstack workflow execution create -f value -c ID tripleo.validations.v1.run_validation ""{\""validation_name\"": $VALIDATION, \""plan\"": \""{{ overcloud_stack_name }}\""}"")",2,1
openstack%2Ftripleo-ci~master~Ifd896be20a37d96feb44aeb401a4c4af3946b925,openstack/tripleo-ci,master,Ifd896be20a37d96feb44aeb401a4c4af3946b925,Temp: containers-multinode-wallaby non-voting,MERGED,2021-05-05 19:29:14.000000000,2021-05-11 16:02:18.000000000,2021-05-06 03:34:31.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 19:29:14.000000000', 'files': ['zuul.d/multinode-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5deb96d2b853cc2f1395f2e13c7d0439979ced1e', 'message': 'Temp: containers-multinode-wallaby non-voting\n\nWhile the wallaby branch hash is being updated,\ntemp mark this job as non-voting to allow\npatches to merge.\n\nChange-Id: Ifd896be20a37d96feb44aeb401a4c4af3946b925\n'}]",0,789937,5deb96d2b853cc2f1395f2e13c7d0439979ced1e,8,3,1,9976,,,0,"Temp: containers-multinode-wallaby non-voting

While the wallaby branch hash is being updated,
temp mark this job as non-voting to allow
patches to merge.

Change-Id: Ifd896be20a37d96feb44aeb401a4c4af3946b925
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/37/789937/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/multinode-jobs.yaml'],1,5deb96d2b853cc2f1395f2e13c7d0439979ced1e,wallaby-temp-non-voting, voting: false,,1,0
openstack%2Fdesignate-tempest-plugin~master~Icca248d21ccb495d438ff828a79c0894690792f1,openstack/designate-tempest-plugin,master,Icca248d21ccb495d438ff828a79c0894690792f1,"Adding four new test cases to ""import zone"" test suite",MERGED,2021-04-04 17:08:31.000000000,2021-05-11 16:00:34.000000000,2021-05-11 15:58:29.000000000,"[{'_account_id': 6994}, {'_account_id': 7616}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29681}]","[{'number': 1, 'created': '2021-04-04 17:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/7308caf99f0e23d34683c43d1205c08173d35193', 'message': 'Adding new test cases to import zone suite\n\nChange-Id: Icca248d21ccb495d438ff828a79c0894690792f1\n'}, {'number': 2, 'created': '2021-04-05 07:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/57b478445cea70048479ecdaade3565406d75d05', 'message': 'Adding new test cases to import zone suite\n\nChange-Id: Icca248d21ccb495d438ff828a79c0894690792f1\n'}, {'number': 3, 'created': '2021-04-05 08:26:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1de1a12b1b0738ad3d321dfe08eb91f72708425b', 'message': 'Adding four new test cases to ""import zone"" test suite\n\n1) ""test_create_zone_import_invalid_ttl""\n   Use invalid TTL value to create zone import.\n   Expected: should fail.\n\n2) ""test_create_zone_import_invalid_name""\n   Use invalid name to create zone import.\n   Expected: should fail\n\n3) ""test_show_import_impersonate_another_project""\n   Use admin client to impersonate another project and to\n   show created zone imports.\n   Note: test is based on ""x-auth-sudo-project-id"" HTTP header.\n\n4) ""test_list_import_zones_all_projects""\n   Use admin client to list all created zone imports.\n   Note: test is based on ""x-auth-all-projects"" HTTP header.\n\nChange-Id: Icca248d21ccb495d438ff828a79c0894690792f1\n'}, {'number': 4, 'created': '2021-04-25 11:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0b9f4bbee2a5caa43849dca7e71cd8f90ac4af33', 'message': 'Adding four new test cases to ""import zone"" test suite\n\n1) ""test_create_zone_import_invalid_ttl""\n   Use invalid TTL value to create zone import.\n   Expected: should fail.\n\n2) ""test_create_zone_import_invalid_name""\n   Use invalid name to create zone import.\n   Expected: should fail\n\n3) ""test_show_import_impersonate_another_project""\n   Use admin client to impersonate another project and to\n   show created zone imports.\n   Note: test is based on ""x-auth-sudo-project-id"" HTTP header.\n\n4) ""test_list_import_zones_all_projects""\n   Use admin client to list all created zone imports.\n   Note: test is based on ""x-auth-all-projects"" HTTP header.\n\nChange-Id: Icca248d21ccb495d438ff828a79c0894690792f1\n'}, {'number': 5, 'created': '2021-04-26 15:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0c7ff1636503064290c39954eafbad4fc63fb1ea', 'message': 'Adding four new test cases to ""import zone"" test suite\n\n1) ""test_create_zone_import_invalid_ttl""\n   Use invalid TTL value to create zone import.\n   Expected: should fail.\n\n2) ""test_create_zone_import_invalid_name""\n   Use invalid name to create zone import.\n   Expected: should fail\n\n3) ""test_show_import_impersonate_another_project""\n   Use admin client to impersonate another project and to\n   show created zone imports.\n   Note: test is based on ""x-auth-sudo-project-id"" HTTP header.\n\n4) ""test_list_import_zones_all_projects""\n   Use admin client to list all created zone imports.\n   Note: test is based on ""x-auth-all-projects"" HTTP header.\n\nChange-Id: Icca248d21ccb495d438ff828a79c0894690792f1\n'}, {'number': 6, 'created': '2021-04-27 08:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/d3c314c6262d09a5189dcd00541063f3c470b8cd', 'message': 'Adding four new test cases to ""import zone"" test suite\n\n1) ""test_create_zone_import_invalid_ttl""\n   Use invalid TTL value to create zone import.\n   Expected: should fail.\n\n2) ""test_create_zone_import_invalid_name""\n   Use invalid name to create zone import.\n   Expected: should fail\n\n3) ""test_show_import_impersonate_another_project""\n   Use admin client to impersonate another project and to\n   show created zone imports.\n   Note: test is based on ""x-auth-sudo-project-id"" HTTP header.\n\n4) ""test_list_import_zones_all_projects""\n   Use admin client to list all created zone imports.\n   Note: test is based on ""x-auth-all-projects"" HTTP header.\n\nChange-Id: Icca248d21ccb495d438ff828a79c0894690792f1\n'}, {'number': 7, 'created': '2021-05-04 07:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/b9ee880d50f32a51a7b9641ff20424ad61d7967e', 'message': 'Adding four new test cases to ""import zone"" test suite\n\n1) ""test_create_zone_import_invalid_ttl""\n   Use invalid TTL value to create zone import.\n   Expected: should fail.\n\n2) ""test_create_zone_import_invalid_name""\n   Use invalid name to create zone import.\n   Expected: should fail\n\n3) ""test_show_import_impersonate_another_project""\n   Use admin client to impersonate another project and to\n   show created zone imports.\n   Note: test is based on ""x-auth-sudo-project-id"" HTTP header.\n\n4) ""test_list_import_zones_all_projects""\n   Use admin client to list all created zone imports.\n   Note: test is based on ""x-auth-all-projects"" HTTP header.\n\nChange-Id: Icca248d21ccb495d438ff828a79c0894690792f1\n'}, {'number': 8, 'created': '2021-05-04 07:58:17.000000000', 'files': ['designate_tempest_plugin/services/dns/v2/json/zone_imports_client.py', 'designate_tempest_plugin/common/constants.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/40322f3c6b5aa8ca6706de60123fb36ec44810d3', 'message': 'Adding four new test cases to ""import zone"" test suite\n\n1) ""test_create_zone_import_invalid_ttl""\n   Use invalid TTL value to create zone import.\n   Expected: should fail.\n\n2) ""test_create_zone_import_invalid_name""\n   Use invalid name to create zone import.\n   Expected: should fail\n\n3) ""test_show_import_impersonate_another_project""\n   Use admin client to impersonate another project and to\n   show created zone imports.\n   Note: test is based on ""x-auth-sudo-project-id"" HTTP header.\n\n4) ""test_list_import_zones_all_projects""\n   Use admin client to list all created zone imports.\n   Note: test is based on ""x-auth-all-projects"" HTTP header.\n\nChange-Id: Icca248d21ccb495d438ff828a79c0894690792f1\n'}]",10,784713,40322f3c6b5aa8ca6706de60123fb36ec44810d3,58,10,8,28609,,,0,"Adding four new test cases to ""import zone"" test suite

1) ""test_create_zone_import_invalid_ttl""
   Use invalid TTL value to create zone import.
   Expected: should fail.

2) ""test_create_zone_import_invalid_name""
   Use invalid name to create zone import.
   Expected: should fail

3) ""test_show_import_impersonate_another_project""
   Use admin client to impersonate another project and to
   show created zone imports.
   Note: test is based on ""x-auth-sudo-project-id"" HTTP header.

4) ""test_list_import_zones_all_projects""
   Use admin client to list all created zone imports.
   Note: test is based on ""x-auth-all-projects"" HTTP header.

Change-Id: Icca248d21ccb495d438ff828a79c0894690792f1
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/13/784713/5 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/services/dns/v2/json/zone_imports_client.py', 'designate_tempest_plugin/tests/api/v2/test_zones_imports.py']",2,7308caf99f0e23d34683c43d1205c08173d35193,zone_import_new_tests,"from designate_tempest_plugin import data_utils as dns_data_utils credentials = ['primary', 'admin', 'alt'] cls.admin_client = cls.os_admin.zone_imports_client zone_import = self.client.show_zone_import(zone_import_id)[1] if zone_import['zone_id']: # A zone was actually created. waiters.wait_for_zone_import_status( self.client, zone_import_id, ""COMPLETE"") self.client.delete_zone_import(zone_import['id']) self.wait_zone_delete(self.zone_client, zone_import['zone_id']) else: # Import has failed and zone wasn't created. self.client.delete_zone_import(zone_import['id']) @decorators.idempotent_id('31eaf25a-9532-11eb-a55d-74e5f9e2a801') def test_create_zone_import_invalid_ttl(self): LOG.info('Try to create a zone import using invalid TTL value') zone_import = self.client.create_zone_import( zonefile_data=dns_data_utils.rand_zonefile_data(ttl='zahlabut'))[1] self.addCleanup(self.clean_up_resources, zone_import['id']) self.assertEqual( 'ERROR', self.client.show_zone_import(zone_import['id'])[1]['status'], 'Failed, expected status is: ERROR') @decorators.idempotent_id('31eaf25a-9532-11eb-a55d-74e5f9e2a801') def test_create_zone_import_invalid_name(self): LOG.info('Try to create a zone import using invalid TTL value') zone_import = self.client.create_zone_import( zonefile_data=dns_data_utils.rand_zonefile_data(name='@@@'))[1] self.addCleanup(self.clean_up_resources, zone_import['id']) self.assertEqual( 'ERROR', self.client.show_zone_import(zone_import['id'])[1]['status'], 'Failed, expected status is: ERROR') @decorators.idempotent_id('2c1fa20e-9554-11eb-a55d-74e5f9e2a801') def test_show_import_impersonate_another_project(self): LOG.info('Import zone ""A"" using primary client') zone_import = self.client.create_zone_import()[1] self.addCleanup(self.clean_up_resources, zone_import['id']) primary_project_id = zone_import['project_id'] LOG.info('Ensure we respond with PENDING') self.assertEqual('PENDING', zone_import['status']) LOG.info('Re-Fetch the zone import with Admin client') resp_body = self.admin_client.show_zone_import(uuid=None, headers={ 'x-auth-sudo-project-id': primary_project_id})[1] LOG.info('Ensure the fetched response matches the expected one') self.assertExpected( zone_import, resp_body['imports'][0], self.excluded_keys) @decorators.idempotent_id('7bd06ec6-9556-11eb-a55d-74e5f9e2a801') def test_list_import_zones_all_projects(self): LOG.info('Create import zone ""A"" using primary client') zone_import = self.client.create_zone_import()[1] self.addCleanup(self.clean_up_resources, zone_import['id']) LOG.info('As admin user list import zones for all projects') body = self.admin_client.list_zone_imports(headers={ 'x-auth-all-projects': True})[1]['imports'] LOG.info('Ensure the fetched response includes previously ' 'created import ID') listed_zone_import_ids = [item['id'] for item in body] self.assertIn( zone_import['id'], listed_zone_import_ids, ""Failed, expected import ID:{} wasn't found in "" ""listed import IDs"".format( zone_import['id'], listed_zone_import_ids))"," waiters.wait_for_zone_import_status(self.client, zone_import_id, ""COMPLETE"") _, zone_import = self.client.show_zone_import(zone_import_id) self.client.delete_zone_import(zone_import['id']) self.wait_zone_delete(self.zone_client, zone_import['zone_id'])",79,10
openstack%2Fpuppet-horizon~master~I86d181d3e53c780a2d47ca7529f7ed087eb11a4c,openstack/puppet-horizon,master,I86d181d3e53c780a2d47ca7529f7ed087eb11a4c,Fix lint error with the latest lint packages,MERGED,2021-05-11 03:11:09.000000000,2021-05-11 15:34:49.000000000,2021-05-11 15:34:49.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 03:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/2b44adb70dcf4296fe4160d812dd53c16ff866f9', 'message': 'Fix lint error\n\nThis change fixes the following lint error which is detected since we\nremoved pin of lint packages.\n\nmanifests/init.pp:626:WARNING: class included by absolute name\n(::$class)\n\nChange-Id: I86d181d3e53c780a2d47ca7529f7ed087eb11a4c\n'}, {'number': 2, 'created': '2021-05-11 03:18:52.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/4f10f185d170bcb90bfffbc128c55864c16affa8', 'message': 'Fix lint error with the latest lint packages\n\nThis change fixes the following lint error which is detected since we\nremoved pin of lint packages.\n\nmanifests/init.pp:626:WARNING: class included by absolute name\n(::$class)\n\nChange-Id: I86d181d3e53c780a2d47ca7529f7ed087eb11a4c\n'}]",0,790547,4f10f185d170bcb90bfffbc128c55864c16affa8,10,5,2,9816,,,0,"Fix lint error with the latest lint packages

This change fixes the following lint error which is detected since we
removed pin of lint packages.

manifests/init.pp:626:WARNING: class included by absolute name
(::$class)

Change-Id: I86d181d3e53c780a2d47ca7529f7ed087eb11a4c
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/47/790547/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,2b44adb70dcf4296fe4160d812dd53c16ff866f9,puppet-lint-latest,) inherits horizon::params {,) inherits ::horizon::params {,1,1
openstack%2Fcinder~master~I20f8e500f583eb85f24a4c36f344c11c7face06c,openstack/cinder,master,I20f8e500f583eb85f24a4c36f344c11c7face06c,Modify/Move project validation methods to api_utils,MERGED,2020-09-17 10:55:12.000000000,2021-05-11 15:27:53.000000000,2021-05-11 15:23:26.000000000,"[{'_account_id': 4523}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 29705}, {'_account_id': 30615}]","[{'number': 1, 'created': '2020-09-17 10:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a53db83a373b794861e4149e37d320b9e0b0385c', 'message': 'Add project validation to volume type access\n\nSince we have a mechanism now to validate projects and check\nauthorization of users to allow/restrict access to certain operations,\nadding the same to volume type access.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n'}, {'number': 2, 'created': '2020-09-18 08:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ae53a5352d453735cc052629e0f1f0429506158', 'message': 'Add project validation to volume type access\n\nSince we have a mechanism now to validate projects and check\nauthorization of users to allow/restrict access to certain operations,\nadding the same to volume type access.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n'}, {'number': 3, 'created': '2020-09-21 11:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9cfe95a6584fc556bd8053d2c11ffd0c413d686a', 'message': 'Add project validation to volume type access\n\nSince we have a mechanism now to validate projects and check\nauthorization of users to allow/restrict access to certain operations,\nadding the same to volume type access.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n'}, {'number': 4, 'created': '2021-02-22 10:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c8a9f33f835501f7ba788389f8e947c1acb326a0', 'message': 'Add project validation to volume type access\n\nSince we have a mechanism now to validate projects and check\nauthorization of users to allow/restrict access to certain operations,\nadding the same to volume type access.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n'}, {'number': 5, 'created': '2021-02-25 07:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a6f071177b47cdca9015b4ce0ec46a8b1e85b00', 'message': 'Refactor: move project validation to api_utils\n\nAPIs like quotas, volume type access etc require project\nvalidation. Currently the method to validate it exists in\ndefault types code. moving it to api_utils will allow other\nAPIs to also reuse it.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n'}, {'number': 6, 'created': '2021-03-02 08:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cb0dfe599856ec3c43b2599f2ab3767fa8fdd87b', 'message': 'Refactor: move project validation to api_utils\n\nAPIs like quotas, volume type access etc require project\nvalidation. Currently the method to validate it exists in\ndefault types code. moving it to api_utils will allow other\nAPIs to also reuse it.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n'}, {'number': 7, 'created': '2021-03-04 14:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c4ec986f63a399662543bdb2472270265be10194', 'message': 'Refactor: move project validation to api_utils\n\nAPIs like quotas, volume type access etc require project\nvalidation. Currently the method to validate it exists in\ndefault types code. moving it to api_utils will allow other\nAPIs to also reuse it.\nAlso moving/renaming methods from quota_utils to api_utils\nsince those not used by quota anymore.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n'}, {'number': 8, 'created': '2021-03-05 10:35:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/350e21dcc1296dde881f6c27e34cc85db6b165e3', 'message': 'Refactor: move project validation to api_utils\n\nAPIs like quotas, volume type access etc require project\nvalidation. Currently the method to validate it exists in\ndefault types code. moving it to api_utils will allow other\nAPIs to also reuse it.\nAlso moving/renaming methods from quota_utils to api_utils\nsince those not used by quota anymore.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n'}, {'number': 9, 'created': '2021-03-05 15:19:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6f69ed7495191a3e42e6cbabb5e9180678ccd295', 'message': 'Refactor: move project validation to api_utils\n\nAPIs like quotas, volume type access etc require project\nvalidation. Currently the method to validate it exists in\ndefault types code. moving it to api_utils will allow other\nAPIs to also reuse it.\nAlso moving/renaming methods from quota_utils to api_utils\nsince those not used by quota anymore.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n'}, {'number': 10, 'created': '2021-03-05 22:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0894c8a78ce3e85754686a51c3298c9815f20ff', 'message': 'Refactor: move project validation to api_utils\n\nAPIs like quotas, volume type access etc require project\nvalidation. Currently the method to validate it exists in\ndefault types code. moving it to api_utils will allow other\nAPIs to also reuse it.\nAlso moving/renaming methods from quota_utils to api_utils\nsince those not used by quota anymore.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n'}, {'number': 11, 'created': '2021-03-17 07:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f5f6fffe4525c9de0249b75512c9ae5e04b0f59a', 'message': ""Modify/Move project validation methods to api_utils\n\nWe currently only validate the existence of a project on\nthe default types code so that we cannot set it for non\nexisting projects, but there are other places where we would\nbenefit from having this validation, such as volume type access,\nsetting quotas.\nTo achieve this we are moving methods from quota_utils and default_types\nto api_utils.\nThis patch also modifies the method get_project_hierarchy to get_project\nand removes related hierarchy tests since with the removal of nested quota\ndriver we don't require the hierarchy properties anymore.\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n""}, {'number': 12, 'created': '2021-03-17 07:32:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1f00a144376bf78bf2e83b1c118fb66cfafa405b', 'message': ""Modify/Move project validation methods to api_utils\n\nWe currently only validate the existence of a project on\nthe default types code so that we cannot set it for non\nexisting projects, but there are other places where we would\nbenefit from having this validation, such as volume type access,\nsetting quotas.\nTo achieve this we are moving methods from quota_utils and default_types\nto api_utils.\nThis patch also modifies the method get_project_hierarchy to get_project\nand removes related hierarchy tests since with the removal of nested quota\ndriver we don't require the hierarchy properties anymore.\n\nRelated-Bug: #1638804\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n""}, {'number': 13, 'created': '2021-04-06 10:24:01.000000000', 'files': ['cinder/tests/functional/test_default_types.py', 'cinder/api/api_utils.py', 'cinder/tests/unit/api/contrib/test_quotas.py', 'cinder/tests/unit/policies/test_default_volume_types.py', 'cinder/quota_utils.py', 'cinder/tests/unit/api/v3/test_default_types.py', 'cinder/tests/unit/test_utils.py', 'cinder/api/v3/default_types.py', 'cinder/tests/unit/test_quota_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dcf66a96a43dd1383be1e8134ef4941e5bf43c9e', 'message': ""Modify/Move project validation methods to api_utils\n\nWe currently only validate the existence of a project on\nthe default types code so that we cannot set it for non\nexisting projects, but there are other places where we would\nbenefit from having this validation, such as volume type access,\nsetting quotas.\nTo achieve this we are moving methods from quota_utils and default_types\nto api_utils.\nThis patch also modifies the method get_project_hierarchy to get_project\nand removes related hierarchy tests since with the removal of nested quota\ndriver we don't require the hierarchy properties anymore.\n\nRelated-Bug: #1638804\n\nChange-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c\n""}]",14,752431,dcf66a96a43dd1383be1e8134ef4941e5bf43c9e,293,22,13,27615,,,0,"Modify/Move project validation methods to api_utils

We currently only validate the existence of a project on
the default types code so that we cannot set it for non
existing projects, but there are other places where we would
benefit from having this validation, such as volume type access,
setting quotas.
To achieve this we are moving methods from quota_utils and default_types
to api_utils.
This patch also modifies the method get_project_hierarchy to get_project
and removes related hierarchy tests since with the removal of nested quota
driver we don't require the hierarchy properties anymore.

Related-Bug: #1638804

Change-Id: I20f8e500f583eb85f24a4c36f344c11c7face06c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/31/752431/9 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/api_utils.py', 'cinder/policies/volume_access.py', 'cinder/api/contrib/volume_type_access.py', 'cinder/api/v3/default_types.py', 'cinder/tests/unit/api/contrib/test_volume_type_access.py']",5,a53db83a373b794861e4149e37d320b9e0b0385c,752431,"from cinder.api import api_utils get_patcher = mock.patch('cinder.quota_utils.get_project_hierarchy', self._get_project) get_patcher.start() self.addCleanup(get_patcher.stop) class FakeProject(object): def __init__(self, id=fake.PROJECT_ID, domain_id=fake.DOMAIN_ID, parent_id=None, is_admin_project=False): self.id = id self.domain_id = domain_id def _get_project(self, context, id, subtree_as_ids=False, parents_as_ids=False, is_admin_project=False): return self.FakeProject(id) self.assertEqual(fake.PROJECT_ID, project_id, ""project_id"") body = {'addProjectAccess': {'project': fake.PROJECT_ID}} self.assertRaises(webob.exc.HTTPForbidden, @mock.patch.object(api_utils, 'validate_project_and_authorize') def test_add_project_access_with_already_added_access(self, mock_authorize): @mock.patch.object(api_utils, 'validate_project_and_authorize') def test_remove_project_access_with_bad_access(self, mock_authorize): self.assertRaises(webob.exc.HTTPForbidden,"," self.assertEqual(PROJ2_UUID, project_id, ""project_id"") body = {'addProjectAccess': {'project': PROJ2_UUID}} self.assertRaises(exception.PolicyNotAuthorized, def test_add_project_access_with_already_added_access(self): def test_remove_project_access_with_bad_access(self): self.assertRaises(exception.PolicyNotAuthorized,",57,31
openstack%2Fnova~master~I8d3c9bdfd2f4db968a72a44344576a560f0145fb,openstack/nova,master,I8d3c9bdfd2f4db968a72a44344576a560f0145fb,Fix typo in test_utils,MERGED,2021-05-10 19:05:44.000000000,2021-05-11 15:27:42.000000000,2021-05-11 15:24:22.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 19:05:44.000000000', 'files': ['nova/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/251e601a4d86b487723b5297abf38b967def3d5e', 'message': ""Fix typo in test_utils\n\nMissing 'c':\nfuntions -> functions\n\nChange-Id: I8d3c9bdfd2f4db968a72a44344576a560f0145fb\n""}]",0,790510,251e601a4d86b487723b5297abf38b967def3d5e,12,2,1,27478,,,0,"Fix typo in test_utils

Missing 'c':
funtions -> functions

Change-Id: I8d3c9bdfd2f4db968a72a44344576a560f0145fb
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/790510/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/test_utils.py'],1,251e601a4d86b487723b5297abf38b967def3d5e,fix-typo, def test_wrapped_functions_called_once(self): def test_wrapped_functions_called_once_raises(self): def test_wrapped_functions_can_be_reset(self):, def test_wrapped_funtions_called_once(self): def test_wrapped_funtions_called_once_raises(self): def test_wrapped_funtions_can_be_reset(self):,3,3
openstack%2Fpuppet-glare~master~Id76e00fafd171f3d77b70817c5cfd103cb207b0e,openstack/puppet-glare,master,Id76e00fafd171f3d77b70817c5cfd103cb207b0e,Retire puppet-glare - Step 2: Remove Project Content,MERGED,2021-05-06 14:55:52.000000000,2021-05-11 15:11:23.000000000,2021-05-11 15:11:23.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 14:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/20790ff15855d5045197dd3b93166ce11f755881', 'message': 'Retire puppet-glare - Step 2: Remove Project Content\n\nDepends-on: https://review.opendev.org/790056\nChange-Id: Id76e00fafd171f3d77b70817c5cfd103cb207b0e\n'}, {'number': 2, 'created': '2021-05-06 16:08:44.000000000', 'files': ['manifests/backend/swift.pp', 'manifests/db.pp', 'releasenotes/notes/deprecate_auth_uri_parameter-b669428d566004ea.yaml', 'spec/unit/type/glare_config_spec.rb', 'spec/classes/glare_db_mysql_spec.rb', 'spec/classes/glare_db_spec.rb', 'manifests/backend/rbd.pp', 'manifests/deps.pp', 'releasenotes/notes/policy-dirs-57981a0e478b88ba.yaml', 'releasenotes/notes/keystone-authtoken-service_type-551889b591678675.yaml', 'spec/unit/provider/glare_config/ini_setting_spec.rb', 'manifests/backend/cinder.pp', 'spec/classes/glare_backend_swift_spec.rb', 'manifests/logging.pp', 'spec/classes/glare_db_sync_spec.rb', 'releasenotes/notes/update_port_for_endpoint-c5d442dbbae2327e.yaml', 'spec/acceptance/glare_config_spec.rb', 'releasenotes/source/ussuri.rst', 'spec/unit/provider/glare_paste_ini/ini_setting_spec.rb', 'releasenotes/notes/policy-enforce_new_defaults-84a981495e246e1e.yaml', 'manifests/config.pp', 'releasenotes/notes/add-pool_timeout-option-for-db-a329d77a8949cdfd.yaml', 'releasenotes/notes/deprecate_idle_timeout_parameter-bb16d5b5b4300b0f.yaml', 'spec/classes/glare_backend_cinder_spec.rb', 'releasenotes/notes/migrate-policy-format-from-json-to-yaml-f8f479dd5f130eb9.yaml', 'releasenotes/notes/deprecate_pki_related_parameters-82348b0f99e90842.yaml', 'examples/init.pp', 'lib/puppet/type/glare_paste_ini.rb', 'releasenotes/notes/openstack_db_tag-87d77c06ad2a8a80.yaml', 'Gemfile', 'releasenotes/source/victoria.rst', 'manifests/db/mysql.pp', 'releasenotes/notes/remove_idle_timeout_option-a6c46e58cb532aef.yaml', 'bindep.txt', 'Rakefile', 'manifests/backend/s3.pp', 'spec/unit/type/glare_paste_ini_spec.rb', 'manifests/backend/vsphere.pp', 'spec/spec_helper_acceptance.rb', 'releasenotes/notes/dont-include-logging-init-e80f7c04ea7f49a0.yaml', 'lib/puppet/provider/glare_paste_ini/ini_setting.rb', '.zuul.yaml', 'releasenotes/notes/drop-el6-support-d9b7fef9f1e5b9bc.yaml', 'lib/puppet/provider/glare_config/ini_setting.rb', 'spec/classes/glare_keystone_authtoken_spec.rb', 'lib/puppet/provider/glare_swift_config/ini_setting.rb', 'releasenotes/notes/remove-auth-uri-40a904451accd58a.yaml', 'spec/classes/glare_keystone_auth_spec.rb', 'spec/classes/glare_backend_s3_spec.rb', 'lib/puppet/type/glare_config.rb', 'manifests/client.pp', 'releasenotes/notes/puppet4-mysql-func-8ced1e1b5d17fa28.yaml', 'releasenotes/notes/add_db_sync_timeout-198d9ff15c9f8a32.yaml', 'README.rst', 'setup.py', 'releasenotes/notes/oslo_policy-enforce_scope-268475608f74a65f.yaml', 'spec/shared_examples.rb', 'CONTRIBUTING.rst', 'releasenotes/notes/service_token_roles_required-a4e6c9d2f3f48074.yaml', 'manifests/params.pp', 'releasenotes/notes/remove_deprecated_pki_related_options-90f63c7040256792.yaml', 'releasenotes/source/rocky.rst', 'spec/classes/glare_policy_spec.rb', 'LICENSE', 'releasenotes/source/wallaby.rst', 'releasenotes/notes/add-service_token_roles-option-bdc9d3fdfc2f8d52.yaml', 'releasenotes/source/index.rst', 'releasenotes/notes/add_mysql_enable_ndb-option-8be4d4f61d03b448.yaml', 'releasenotes/notes/keystone-authtoken-interface-b271efca2905e001.yaml', 'README.md', 'metadata.json', 'spec/spec_helper.rb', 'setup.cfg', 'tox.ini', 'manifests/policy.pp', 'manifests/keystone/auth.pp', '.gitignore', 'manifests/db/sync.pp', 'spec/classes/glare_backend_vsphere_spec.rb', 'spec/classes/glare_logging_spec.rb', 'releasenotes/source/_static/.placeholder', 'releasenotes/notes/release-note-ubuntu-py3-9ec9bd0bc2ab6a00.yaml', 'releasenotes/source/stein.rst', 'spec/classes/glare_client_spec.rb', 'manifests/backend/file.pp', 'spec/classes/glare_backend_file_spec.rb', 'manifests/db/postgresql.pp', 'manifests/init.pp', 'releasenotes/notes/deprecate_database_min_pool_size-option-af66f0e6af6271ce.yaml', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'lib/puppet/type/glare_swift_config.rb', 'releasenotes/source/queens.rst', 'spec/classes/glare_db_postgresql_spec.rb', 'doc/requirements.txt', 'spec/classes/glare_backend_rbd_spec.rb', 'spec/classes/glare_init_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/ba81a153712f1ebd6f79c94f28c62eb2f04090f9', 'message': 'Retire puppet-glare - Step 2: Remove Project Content\n\nDepends-on: https://review.opendev.org/790056\nChange-Id: Id76e00fafd171f3d77b70817c5cfd103cb207b0e\n'}]",0,790081,ba81a153712f1ebd6f79c94f28c62eb2f04090f9,18,4,2,9816,,,0,"Retire puppet-glare - Step 2: Remove Project Content

Depends-on: https://review.opendev.org/790056
Change-Id: Id76e00fafd171f3d77b70817c5cfd103cb207b0e
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/81/790081/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/swift.pp', 'manifests/db.pp', 'releasenotes/notes/deprecate_auth_uri_parameter-b669428d566004ea.yaml', 'spec/unit/type/glare_config_spec.rb', 'spec/classes/glare_db_mysql_spec.rb', 'spec/classes/glare_db_spec.rb', 'manifests/backend/rbd.pp', 'manifests/deps.pp', 'releasenotes/notes/policy-dirs-57981a0e478b88ba.yaml', 'releasenotes/notes/keystone-authtoken-service_type-551889b591678675.yaml', 'spec/unit/provider/glare_config/ini_setting_spec.rb', 'manifests/backend/cinder.pp', 'spec/classes/glare_backend_swift_spec.rb', 'manifests/logging.pp', 'spec/classes/glare_db_sync_spec.rb', 'releasenotes/notes/update_port_for_endpoint-c5d442dbbae2327e.yaml', 'spec/acceptance/glare_config_spec.rb', 'releasenotes/source/ussuri.rst', 'spec/unit/provider/glare_paste_ini/ini_setting_spec.rb', 'releasenotes/notes/policy-enforce_new_defaults-84a981495e246e1e.yaml', 'manifests/config.pp', 'releasenotes/notes/add-pool_timeout-option-for-db-a329d77a8949cdfd.yaml', 'releasenotes/notes/deprecate_idle_timeout_parameter-bb16d5b5b4300b0f.yaml', 'spec/classes/glare_backend_cinder_spec.rb', 'releasenotes/notes/migrate-policy-format-from-json-to-yaml-f8f479dd5f130eb9.yaml', 'releasenotes/notes/deprecate_pki_related_parameters-82348b0f99e90842.yaml', 'examples/init.pp', 'lib/puppet/type/glare_paste_ini.rb', 'releasenotes/notes/openstack_db_tag-87d77c06ad2a8a80.yaml', 'Gemfile', 'releasenotes/source/victoria.rst', 'manifests/db/mysql.pp', 'releasenotes/notes/remove_idle_timeout_option-a6c46e58cb532aef.yaml', 'bindep.txt', 'Rakefile', 'manifests/backend/s3.pp', 'spec/unit/type/glare_paste_ini_spec.rb', 'manifests/backend/vsphere.pp', 'spec/spec_helper_acceptance.rb', 'releasenotes/notes/dont-include-logging-init-e80f7c04ea7f49a0.yaml', 'lib/puppet/provider/glare_paste_ini/ini_setting.rb', 'releasenotes/notes/drop-el6-support-d9b7fef9f1e5b9bc.yaml', 'lib/puppet/provider/glare_config/ini_setting.rb', 'spec/classes/glare_keystone_authtoken_spec.rb', 'lib/puppet/provider/glare_swift_config/ini_setting.rb', 'releasenotes/notes/remove-auth-uri-40a904451accd58a.yaml', 'spec/classes/glare_keystone_auth_spec.rb', 'spec/classes/glare_backend_s3_spec.rb', 'lib/puppet/type/glare_config.rb', 'manifests/client.pp', 'releasenotes/notes/puppet4-mysql-func-8ced1e1b5d17fa28.yaml', 'releasenotes/notes/add_db_sync_timeout-198d9ff15c9f8a32.yaml', 'setup.py', 'releasenotes/notes/oslo_policy-enforce_scope-268475608f74a65f.yaml', 'spec/shared_examples.rb', 'CONTRIBUTING.rst', 'releasenotes/notes/service_token_roles_required-a4e6c9d2f3f48074.yaml', 'manifests/params.pp', 'releasenotes/notes/remove_deprecated_pki_related_options-90f63c7040256792.yaml', 'releasenotes/source/rocky.rst', 'spec/classes/glare_policy_spec.rb', 'LICENSE', 'releasenotes/source/wallaby.rst', 'releasenotes/notes/add-service_token_roles-option-bdc9d3fdfc2f8d52.yaml', 'releasenotes/source/index.rst', 'releasenotes/notes/add_mysql_enable_ndb-option-8be4d4f61d03b448.yaml', 'releasenotes/notes/keystone-authtoken-interface-b271efca2905e001.yaml', 'README.md', 'metadata.json', 'spec/spec_helper.rb', 'setup.cfg', 'tox.ini', 'manifests/policy.pp', 'manifests/keystone/auth.pp', 'manifests/db/sync.pp', 'spec/classes/glare_backend_vsphere_spec.rb', 'spec/classes/glare_logging_spec.rb', 'releasenotes/source/_static/.placeholder', 'releasenotes/notes/release-note-ubuntu-py3-9ec9bd0bc2ab6a00.yaml', 'releasenotes/source/stein.rst', 'spec/classes/glare_client_spec.rb', 'manifests/backend/file.pp', 'spec/classes/glare_backend_file_spec.rb', 'manifests/db/postgresql.pp', 'manifests/init.pp', 'releasenotes/notes/deprecate_database_min_pool_size-option-af66f0e6af6271ce.yaml', 'releasenotes/source/unreleased.rst', 'releasenotes/source/train.rst', 'lib/puppet/type/glare_swift_config.rb', 'releasenotes/source/queens.rst', 'spec/classes/glare_db_postgresql_spec.rb', 'doc/requirements.txt', 'spec/classes/glare_backend_rbd_spec.rb', 'spec/classes/glare_init_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/source/conf.py']",96,20790ff15855d5045197dd3b93166ce11f755881,retire-puppet-glare,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. #sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. #needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. #source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. copyright = u'2016, Puppet OpenStack Developers' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. version = '' # The full version, including alpha/beta/rc tags. release = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. #language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: #today = '' # Else, today_fmt is used as the format for a strftime call. #today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. #default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. #add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). #add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. #show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # A list of ignored prefixes for module index sorting. #modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. #keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. #html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". #html_title = None # A shorter title for the navigation bar. Default is the same as html_title. #html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. #html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. #html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. #html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. #html_use_smartypants = True # Custom sidebar templates, maps document names to template names. #html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. #html_additional_pages = {} # If false, no module index is generated. #html_domain_indices = True # If false, no index is generated. #html_use_index = True # If true, the index is split into individual pages for each letter. #html_split_index = False # If true, links to the reST sources are added to the pages. #html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. #html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. #html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. #html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). #html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'puppet-glareReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'puppet-glareReleaseNotes.tex', u'puppet-glare Release Notes Documentation', u'2016, Puppet OpenStack Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. #latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. #latex_use_parts = False # If true, show page references after internal links. #latex_show_pagerefs = False # If true, show URL addresses after external links. #latex_show_urls = False # Documents to append as an appendix to all manuals. #latex_appendices = [] # If false, no module index is generated. #latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'puppet-glarereleasenotes', u'puppet-glare Release Notes Documentation', [u'2016, Puppet OpenStack Developers'], 1) ] # If true, show URL addresses after external links. #man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'puppet-glareReleaseNotes', u'puppet-glare Release Notes Documentation', u'2016, Puppet OpenStack Developers', 'puppet-glareReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. #texinfo_appendices = [] # If false, no module index is generated. #texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. #texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. #texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] # openstackdocstheme options openstackdocs_repo_name = 'openstack/puppet-glare' openstackdocs_bug_project = 'puppet-glare' openstackdocs_bug_tag = '' openstackdocs_auto_name = False ",0,4456
openstack%2Fcharm-deployment-guide~stable%2Fwallaby~Ic56787d8bc27b0808d996a4c56e1761e0b4d0f79,openstack/charm-deployment-guide,stable/wallaby,Ic56787d8bc27b0808d996a4c56e1761e0b4d0f79,Update .gitreview for wallaby branch,MERGED,2021-05-11 14:50:52.000000000,2021-05-11 15:05:38.000000000,2021-05-11 15:05:38.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 14:50:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/88fdaaf5f395c0e3a0f804b32943b8505113d889', 'message': 'Update .gitreview for wallaby branch\n\nChange-Id: Ic56787d8bc27b0808d996a4c56e1761e0b4d0f79\n'}]",0,790713,88fdaaf5f395c0e3a0f804b32943b8505113d889,6,2,1,30561,,,0,"Update .gitreview for wallaby branch

Change-Id: Ic56787d8bc27b0808d996a4c56e1761e0b4d0f79
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/13/790713/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,88fdaaf5f395c0e3a0f804b32943b8505113d889,update-gitreview-for-wallaby,defaultbranch=stable/wallaby,,1,0
openstack%2Fproject-config~master~Ic94ee1d678442ede02c4729149baae31dc72e701,openstack/project-config,master,Ic94ee1d678442ede02c4729149baae31dc72e701,Retire puppet-glare - Step 1: End project Gating,MERGED,2021-05-06 12:37:37.000000000,2021-05-11 14:56:16.000000000,2021-05-11 14:56:16.000000000,"[{'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 12:37:37.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ca5ffa13d7c3ad4f4e38a9605082c7f43d18162a', 'message': ""Retire puppet-glare - Step 1: End project Gating\n\nThe glare project has been inactive for a while and we've received any\nfeedback in the mailing list[1], The puppet-glare project will be\nretired.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022192.html\n\nChange-Id: Ic94ee1d678442ede02c4729149baae31dc72e701\n""}]",3,790056,ca5ffa13d7c3ad4f4e38a9605082c7f43d18162a,24,9,1,9816,,,0,"Retire puppet-glare - Step 1: End project Gating

The glare project has been inactive for a while and we've received any
feedback in the mailing list[1], The puppet-glare project will be
retired.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022192.html

Change-Id: Ic94ee1d678442ede02c4729149baae31dc72e701
",git fetch https://review.opendev.org/openstack/project-config refs/changes/56/790056/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,ca5ffa13d7c3ad4f4e38a9605082c7f43d18162a,retire-puppet-glare, - noop-jobs, - puppet-release-jobs,1,1
openstack%2Fkayobe-config-dev~master~I566e23410c1f8e8e23e7d9998d655f22599b8346,openstack/kayobe-config-dev,master,I566e23410c1f8e8e23e7d9998d655f22599b8346,Adds ntp group,MERGED,2021-04-13 11:54:53.000000000,2021-05-11 14:52:24.000000000,2021-05-11 14:52:24.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 11:54:53.000000000', 'files': ['etc/kayobe/inventory/groups'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/3d2c1ad23e4e8e9ddfa2688fac85fe51066e3223', 'message': 'Adds ntp group\n\nThis is required by:\n\nhttps://review.opendev.org/c/openstack/kayobe/+/784460\n\nFor CI jobs to pass.\n\nChange-Id: I566e23410c1f8e8e23e7d9998d655f22599b8346\n'}]",0,786040,3d2c1ad23e4e8e9ddfa2688fac85fe51066e3223,15,3,1,28048,,,0,"Adds ntp group

This is required by:

https://review.opendev.org/c/openstack/kayobe/+/784460

For CI jobs to pass.

Change-Id: I566e23410c1f8e8e23e7d9998d655f22599b8346
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/40/786040/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kayobe/inventory/groups'],1,3d2c1ad23e4e8e9ddfa2688fac85fe51066e3223,,# Service groups.[ntp:children] # Kayobe will configure Chrony on members of this group. seed seed-hypervisor overcloud ,# Docker groups.,7,1
openstack%2Fswift~master~I196381388b56e41c98ec9d87f08009cbf6755038,openstack/swift,master,I196381388b56e41c98ec9d87f08009cbf6755038,Update ShardRange tombstones using update_meta method,NEW,2021-05-11 13:18:35.000000000,2021-05-11 14:52:19.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 13:18:35.000000000', 'files': ['swift/common/utils.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/df16e5463adaed287c9c5d0fe5fde143ceee88b0', 'message': ""Update ShardRange tombstones using update_meta method\n\nRemoves the ShardRange.update_tombstones method in favour of\npassing tombstones as an optional argument to update_meta.\n\nAlso, when updating metadata, tombstones will be set to -1,\nrepresenting 'unknown', if a value is not given. This ensures that a\nprevious 'known' value is not retained when the metadata timestamp is\nchanged and the own_shard_range merged into the broker DB.\n\nTombstones is always set when a shard updates its root container with\nits metadata.\n\nChange-Id: I196381388b56e41c98ec9d87f08009cbf6755038\n""}]",0,790690,df16e5463adaed287c9c5d0fe5fde143ceee88b0,3,2,1,7847,,,0,"Update ShardRange tombstones using update_meta method

Removes the ShardRange.update_tombstones method in favour of
passing tombstones as an optional argument to update_meta.

Also, when updating metadata, tombstones will be set to -1,
representing 'unknown', if a value is not given. This ensures that a
previous 'known' value is not retained when the metadata timestamp is
changed and the own_shard_range merged into the broker DB.

Tombstones is always set when a shard updates its root container with
its metadata.

Change-Id: I196381388b56e41c98ec9d87f08009cbf6755038
",git fetch https://review.opendev.org/openstack/swift refs/changes/90/790690/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils.py', 'test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'test/unit/common/test_utils.py']",4,df16e5463adaed287c9c5d0fe5fde143ceee88b0,p-shard-update-tombstones," self.assertEqual(-1, sr.tombstones) self.assertEqual(-1, sr.tombstones) self.assertEqual(-1, sr.tombstones) self.assertEqual(-1, sr.tombstones) def test_update_meta_with_tombstones(self): sr.update_meta(9, 99, tombstones=1) self.assertEqual(9, sr.object_count) self.assertEqual(99, sr.bytes_used) sr.update_meta(9, 99, tombstones=3, meta_timestamp=None) self.assertEqual(9, sr.object_count) self.assertEqual(99, sr.bytes_used) sr.update_meta(9, 99, tombstones=5, meta_timestamp=ts_2) self.assertEqual(9, sr.object_count) self.assertEqual(99, sr.bytes_used) sr.update_meta(9, 99, tombstones=5, meta_timestamp=ts_3) self.assertEqual(9, sr.object_count) self.assertEqual(99, sr.bytes_used) # tombstones is reset to default -1 when not given self.assertEqual(-1, sr.tombstones) with self.assertRaises(ValueError): sr.update_meta(9, 99, tombstones='bad') sr.update_meta(11, 123, tombstones=13) sr.update_meta(0, 0, tombstones=13) sr.update_meta(1, 2) self.assertEqual(1, sr.row_count)"," def test_update_tombstones(self): sr.update_tombstones(1) sr.update_tombstones(3, None) sr.update_tombstones(5, ts_2) sr.update_tombstones(5, ts_3) def check_bad_args(*args): with self.assertRaises(ValueError): sr.update_tombstones(*args) check_bad_args('bad') check_bad_args(10, 'bad') sr.update_tombstones(13) sr.update_meta(0, 0)",42,38
openstack%2Fcharm-deployment-guide~stable%2Fwallaby~Iae01d8f3dabf2dbafe92f5b0940ea7d02b0d73fd,openstack/charm-deployment-guide,stable/wallaby,Iae01d8f3dabf2dbafe92f5b0940ea7d02b0d73fd,Formatting issues and backport,MERGED,2021-05-11 14:30:43.000000000,2021-05-11 14:46:35.000000000,2021-05-11 14:45:06.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 14:30:43.000000000', 'files': ['deploy-guide/source/app-managing-power-events.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/2be8037f5998f92ee57504af18e0cdf3e6a896ef', 'message': 'Formatting issues and backport\n\nFix some formatting issue on the power-events page.\n\nThis PR will also be used to generate an OpenStack\nWallaby version of the CDG.\n\nChange-Id: Iae01d8f3dabf2dbafe92f5b0940ea7d02b0d73fd\n(cherry picked from commit 0716dfc63163a03656fce3d9d07eed4270c9352f)\n'}]",0,790723,2be8037f5998f92ee57504af18e0cdf3e6a896ef,7,2,1,30561,,,0,"Formatting issues and backport

Fix some formatting issue on the power-events page.

This PR will also be used to generate an OpenStack
Wallaby version of the CDG.

Change-Id: Iae01d8f3dabf2dbafe92f5b0940ea7d02b0d73fd
(cherry picked from commit 0716dfc63163a03656fce3d9d07eed4270c9352f)
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/23/790723/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-managing-power-events.rst'],1,2be8037f5998f92ee57504af18e0cdf3e6a896ef,formatting-issues-power-events-stable/wallaby,"---------------------------------------------------------------------------------------------- ``/var/snap/etcd/common/etcd.conf.yml`` by setting ``force-new-cluster`` to 'true'. ``/var/snap/etcd/common/etcd.conf.yml`` by setting ``force-new-cluster`` to 'false'... code-block:: none.. code-block:: none.. code-block:: console Cluster status of node 'rabbit@ip-172-31-13-243' [{nodes,[{disc,['rabbit@ip-172-31-13-243']}]}, {running_nodes,['rabbit@ip-172-31-13-243']}, {cluster_name,<<""rabbit@ip-172-31-13-243.ec2.internal"">>}, {partitions,[]}, {alarms,[{'rabbit@ip-172-31-13-243',[]}]}].. code-block:: none juju run-action --wait rabbitmq-server/0 pause juju run-action --wait rabbitmq-server/1 cluster-status juju run-action --wait rabbitmq-server/0 pause juju run-action --wait rabbitmq-server/1 cluster-status.. code-block:: none------------","++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ `/var/snap/etcd/common/etcd.conf.yml` by setting `force-new-cluster` to 'true'. `/var/snap/etcd/common/etcd.conf.yml` by setting `force-new-cluster` to 'false'... code::.. code::.. code:: Cluster status of node 'rabbit@ip-172-31-13-243' [{nodes,[{disc,['rabbit@ip-172-31-13-243']}]}, {running_nodes,['rabbit@ip-172-31-13-243']}, {cluster_name,<<""rabbit@ip-172-31-13-243.ec2.internal"">>}, {partitions,[]}, {alarms,[{'rabbit@ip-172-31-13-243',[]}]}].. code:: juju run-action --wait rabbitmq-server/0 pause juju run-action --wait rabbitmq-server/1 cluster-status juju run-action --wait rabbitmq-server/0 pause juju run-action --wait rabbitmq-server/1 cluster-status.. code::++++++++++++",25,25
openstack%2Fkolla-ansible~stable%2Fvictoria~Iff7bb02d2906604eeace608029f0a032e82a9689,openstack/kolla-ansible,stable/victoria,Iff7bb02d2906604eeace608029f0a032e82a9689,ovn: make DVR work on VLAN tenant networks,ABANDONED,2021-05-11 10:25:29.000000000,2021-05-11 14:28:18.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 10:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c13390b007fc9788ab4db7683eed3e9b7252f34', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1]\non computes [1].\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/785131\nChange-Id: Iff7bb02d2906604eeace608029f0a032e82a9689\n'}, {'number': 2, 'created': '2021-05-11 13:39:30.000000000', 'files': ['ansible/roles/ovn/defaults/main.yml', 'releasenotes/notes/ovn_dvr_vlan-e3464ddf17837655.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe250125332c4856be4697c11a8dbfebf47a156d', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [2]\non computes [1].\n\nThis change is a stable/victoria version of 780919 change [2]\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n[2]: https://review.opendev.org/c/openstack/kolla-ansible/+/780919\n\nCo-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/785131\nChange-Id: Iff7bb02d2906604eeace608029f0a032e82a9689\n'}]",0,790656,fe250125332c4856be4697c11a8dbfebf47a156d,9,4,2,23084,,,0,"ovn: make DVR work on VLAN tenant networks

In order for DVR to work on VLAN tenant networks we need to configure
external_ids:ovn-chassis-mac-mappings with per node generated MAC [2]
on computes [1].

This change is a stable/victoria version of 780919 change [2]

[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57
[2]: https://review.opendev.org/c/openstack/kolla-ansible/+/780919

Co-Authored-By: Michal Nasiadka <mnasiadka@gmail.com>

Depends-On: https://review.opendev.org/c/openstack/neutron/+/785131
Change-Id: Iff7bb02d2906604eeace608029f0a032e82a9689
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/790656/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/ovn/defaults/main.yml', 'ansible/roles/ovn/tasks/bootstrap.yml', 'releasenotes/notes/ovn_dvr_vlan-e3464ddf17837655.yaml']",3,5c13390b007fc9788ab4db7683eed3e9b7252f34,ovn_chassis_gw_check,--- features: OVN deployment will now configure ``external_ids:ovn-chassis-mac-mappings`` to make DVR work on VLAN tenant networks. ,,14,0
openstack%2Fnova~master~I26022c76de09a41d8c3359fe7d67e04e4e2c13f8,openstack/nova,master,I26022c76de09a41d8c3359fe7d67e04e4e2c13f8,test: Remove checks for SQLite < 3.7,ABANDONED,2021-04-14 17:43:16.000000000,2021-05-11 14:28:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-14 17:43:16.000000000', 'files': ['nova/test.py', 'nova/tests/unit/db/test_db_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a9caf24448d2352e091ddc89b000c1ebc30fd00a', 'message': ""test: Remove checks for SQLite < 3.7\n\nSQLite 3.7 was released in July 2010 [1] and replaced by 3.8 in August\n2013 [2]. There's no valid reason to check for such an old version any\nlonger. Remove this logic.\n\n[1] https://sqlite.org/changes.html#version_3_7_0\n[2] https://sqlite.org/changes.html#version_3_8_0\n\nChange-Id: I26022c76de09a41d8c3359fe7d67e04e4e2c13f8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,786294,a9caf24448d2352e091ddc89b000c1ebc30fd00a,8,1,1,15334,,,0,"test: Remove checks for SQLite < 3.7

SQLite 3.7 was released in July 2010 [1] and replaced by 3.8 in August
2013 [2]. There's no valid reason to check for such an old version any
longer. Remove this logic.

[1] https://sqlite.org/changes.html#version_3_7_0
[2] https://sqlite.org/changes.html#version_3_8_0

Change-Id: I26022c76de09a41d8c3359fe7d67e04e4e2c13f8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/786294/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/test.py', 'nova/tests/unit/db/test_db_api.py']",2,a9caf24448d2352e091ddc89b000c1ebc30fd00a,bp/remove-sqlalchemy-migrate, def test_archive_deleted_rows_for_migrations(self):, def _check_sqlite_version_less_than_3_7(self): def test_archive_deleted_rows_for_migrations(self): self._check_sqlite_version_less_than_3_7(),1,13
openstack%2Ftripleo-ansible~master~Ic323fccd4e30ee5a5b490a4a137735426f39ca66,openstack/tripleo-ansible,master,Ic323fccd4e30ee5a5b490a4a137735426f39ca66,tripleo_ovn_mac_addresses - ignore no neutron,MERGED,2021-05-07 07:50:00.000000000,2021-05-11 14:22:07.000000000,2021-05-08 01:11:29.000000000,"[{'_account_id': 8833}, {'_account_id': 11082}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-07 07:50:00.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a7f74ac996317a1ed87923cac4561a8c2546f53', 'message': 'tripleo_ovn_mac_addresses - ignore no neutron\n\nIf neutron service or auth options are not present,\ni.e standalone deployment without static_mappings.\nThen simply exit ok, and do nothing.\n\nStandalone never had an ovn bridge mac address\ninterface prior to this anyway. So doing nothing\nshould be ok.\n\nCloses-Bug: #1927556\nChange-Id: Ic323fccd4e30ee5a5b490a4a137735426f39ca66\n'}]",9,790204,2a7f74ac996317a1ed87923cac4561a8c2546f53,22,5,1,24245,,,0,"tripleo_ovn_mac_addresses - ignore no neutron

If neutron service or auth options are not present,
i.e standalone deployment without static_mappings.
Then simply exit ok, and do nothing.

Standalone never had an ovn bridge mac address
interface prior to this anyway. So doing nothing
should be ok.

Closes-Bug: #1927556
Change-Id: Ic323fccd4e30ee5a5b490a4a137735426f39ca66
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/790204/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_ovn_mac_addresses.py'],1,2a7f74ac996317a1ed87923cac4561a8c2546f53,bug/1927556,"import keystoneauth1.exceptions as kauth1_exc try: _, conn = openstack_cloud_from_module(module) if conn.identity.find_service('neutron') is None: result['success'] = True module.exit_json(**result) except kauth1_exc.MissingRequiredOptions: result['success'] = True module.exit_json(**result)"," _, conn = openstack_cloud_from_module(module)",10,1
openstack%2Fopenstack-ansible-os_masakari~stable%2Fvictoria~I21c7c8cc90cb10afcc224c7cfb9c8c628e5a308b,openstack/openstack-ansible-os_masakari,stable/victoria,I21c7c8cc90cb10afcc224c7cfb9c8c628e5a308b,Replace deprecated host param for monitors,MERGED,2021-05-11 07:21:24.000000000,2021-05-11 14:17:56.000000000,2021-05-11 14:16:24.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-11 07:21:24.000000000', 'files': ['templates/masakarimonitors.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/42167284f700b70dac06c1c30220b31fdffd160f', 'message': 'Replace deprecated host param for monitors\n\nDefinition of the host parameter has been deprecated in favor\nof the hostname, which by default set to socket.gethostname().\n\nSince instancemonitor started using hostname param, it should equal\nto the names compute has in `compute service list`\n\nTo make this change backportable, we explicitly replace parameter to\navoid confusion about missing parameter.\n\nChange-Id: I21c7c8cc90cb10afcc224c7cfb9c8c628e5a308b\n(cherry picked from commit 146824fd05389f6159d82661988331026ebc0938)\n'}]",0,790558,42167284f700b70dac06c1c30220b31fdffd160f,9,4,1,28619,,,0,"Replace deprecated host param for monitors

Definition of the host parameter has been deprecated in favor
of the hostname, which by default set to socket.gethostname().

Since instancemonitor started using hostname param, it should equal
to the names compute has in `compute service list`

To make this change backportable, we explicitly replace parameter to
avoid confusion about missing parameter.

Change-Id: I21c7c8cc90cb10afcc224c7cfb9c8c628e5a308b
(cherry picked from commit 146824fd05389f6159d82661988331026ebc0938)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/58/790558/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/masakarimonitors.conf.j2'],1,42167284f700b70dac06c1c30220b31fdffd160f,789241-stable/victoria,hostname = {{ ansible_facts['hostname'] }},host = {{ ansible_host }},1,1
openstack%2Fkolla-ansible~stable%2Fussuri~I2f832d73138b4c9f29e3c71e2463293eab71483a,openstack/kolla-ansible,stable/ussuri,I2f832d73138b4c9f29e3c71e2463293eab71483a,"Fix ""Restart mariadb-clustercheck container"" during config gen",MERGED,2021-05-11 07:51:08.000000000,2021-05-11 14:14:24.000000000,2021-05-11 14:12:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 07:51:08.000000000', 'files': ['ansible/roles/mariadb/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc66b7115647ba03603697efdf9800c02035514f', 'message': 'Fix ""Restart mariadb-clustercheck container"" during config gen\n\nThe handler was firing even when we were only generating config.\nThis is an issue because the services may not have been deployed.\n\nTrivialFix\n\nChange-Id: I2f832d73138b4c9f29e3c71e2463293eab71483a\n(cherry picked from commit ce012bcb09595c941462fc7a2903df1373d677c3)\n'}]",0,790561,fc66b7115647ba03603697efdf9800c02035514f,9,4,1,30491,,,0,"Fix ""Restart mariadb-clustercheck container"" during config gen

The handler was firing even when we were only generating config.
This is an issue because the services may not have been deployed.

TrivialFix

Change-Id: I2f832d73138b4c9f29e3c71e2463293eab71483a
(cherry picked from commit ce012bcb09595c941462fc7a2903df1373d677c3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/790561/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/handlers/main.yml'],1,fc66b7115647ba03603697efdf9800c02035514f,," when: - kolla_action != ""config""",,2,0
openstack%2Fkolla-ansible~stable%2Fvictoria~I2f832d73138b4c9f29e3c71e2463293eab71483a,openstack/kolla-ansible,stable/victoria,I2f832d73138b4c9f29e3c71e2463293eab71483a,"Fix ""Restart mariadb-clustercheck container"" during config gen",MERGED,2021-05-11 07:48:15.000000000,2021-05-11 14:14:21.000000000,2021-05-11 14:12:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 07:48:15.000000000', 'files': ['ansible/roles/mariadb/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/570f46d218514550f420288041a6651fcd192e95', 'message': 'Fix ""Restart mariadb-clustercheck container"" during config gen\n\nThe handler was firing even when we were only generating config.\nThis is an issue because the services may not have been deployed.\n\nTrivialFix\n\nChange-Id: I2f832d73138b4c9f29e3c71e2463293eab71483a\n(cherry picked from commit ce012bcb09595c941462fc7a2903df1373d677c3)\n'}]",0,790560,570f46d218514550f420288041a6651fcd192e95,9,4,1,30491,,,0,"Fix ""Restart mariadb-clustercheck container"" during config gen

The handler was firing even when we were only generating config.
This is an issue because the services may not have been deployed.

TrivialFix

Change-Id: I2f832d73138b4c9f29e3c71e2463293eab71483a
(cherry picked from commit ce012bcb09595c941462fc7a2903df1373d677c3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/790560/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/handlers/main.yml'],1,570f46d218514550f420288041a6651fcd192e95,," when: - kolla_action != ""config""",,2,0
openstack%2Fbarbican-tempest-plugin~master~I3e8534fdc91a9e94fa82ce6504f36f3d0b5aed6c,openstack/barbican-tempest-plugin,master,I3e8534fdc91a9e94fa82ce6504f36f3d0b5aed6c,Add stable/wallaby jobs on master gate,MERGED,2021-04-29 23:55:34.000000000,2021-05-11 14:07:06.000000000,2021-05-11 14:07:06.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-29 23:55:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/e3cafb209476bd662a926cdb292dbbf09156c065', 'message': 'Add stable/wallaby jobs on master gate\n\nStable/wallaby is released so we should add\ntheir job on master gate to keep branchless tempest\nplugins compatible to stable branch.\n\nRef: Tempest plugins guide for stable branch testing:\n- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html\n\nChange-Id: I3e8534fdc91a9e94fa82ce6504f36f3d0b5aed6c\n'}]",0,788851,e3cafb209476bd662a926cdb292dbbf09156c065,9,3,1,8556,,,0,"Add stable/wallaby jobs on master gate

Stable/wallaby is released so we should add
their job on master gate to keep branchless tempest
plugins compatible to stable branch.

Ref: Tempest plugins guide for stable branch testing:
- https://docs.openstack.org/tempest/latest/stable_branch_testing_policy.html

Change-Id: I3e8534fdc91a9e94fa82ce6504f36f3d0b5aed6c
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/51/788851/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e3cafb209476bd662a926cdb292dbbf09156c065,wallaby-stable-jobs, - barbican-tempest-plugin-simple-crypto-wallaby name: barbican-tempest-plugin-simple-crypto-wallaby parent: barbican-tempest-plugin-simple-crypto override-checkout: stable/wallaby - job:,,6,0
openstack%2Fdesignate-tempest-plugin~master~Ib76f30671b5695f73ccd6fe6b7eaa8932b126411,openstack/designate-tempest-plugin,master,Ib76f30671b5695f73ccd6fe6b7eaa8932b126411,"New API test - ""Get Designate Limits""",MERGED,2021-03-16 14:55:47.000000000,2021-05-11 13:59:24.000000000,2021-05-11 13:57:52.000000000,"[{'_account_id': 6994}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28609}, {'_account_id': 29681}]","[{'number': 1, 'created': '2021-03-16 14:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/737e674519fafe04041cb31432c7cb8b01dfae5f', 'message': 'Testing ""API test for Get Project Limits""\n\nChange-Id: Ib76f30671b5695f73ccd6fe6b7eaa8932b126411\n'}, {'number': 2, 'created': '2021-03-17 11:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/0edbc206e8da90ba3b63d37f57786fe687af2a54', 'message': 'New API test - ""Get Designate Limits""\n\nTest scenario:\n  Initiate API query to retrieve Designate Limits.\n  Ensure that all expected fields presents in received data.\n\nChange-Id: Ib76f30671b5695f73ccd6fe6b7eaa8932b126411\n'}, {'number': 3, 'created': '2021-04-26 15:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/78f88d8770d400151b3c6fd048719f5c2e919a94', 'message': 'New API test - ""Get Designate Limits""\n\nTest scenario:\n  Initiate API query to retrieve Designate Limits.\n  Ensure that all expected fields presents in received data.\n\nChange-Id: Ib76f30671b5695f73ccd6fe6b7eaa8932b126411\n'}, {'number': 4, 'created': '2021-05-04 03:54:50.000000000', 'files': ['designate_tempest_plugin/clients.py', 'designate_tempest_plugin/tests/api/v2/test_designate_limits.py', 'designate_tempest_plugin/services/dns/v2/json/designate_limit_client.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/868a840c4fcf84c1808e9c9bfeb13872aca0beee', 'message': 'New API test - ""Get Designate Limits""\n\nTest scenario:\n  Initiate API query to retrieve Designate Limits.\n  Ensure that all expected fields presents in received data.\n\nChange-Id: Ib76f30671b5695f73ccd6fe6b7eaa8932b126411\n'}]",4,780871,868a840c4fcf84c1808e9c9bfeb13872aca0beee,25,10,4,28609,,,0,"New API test - ""Get Designate Limits""

Test scenario:
  Initiate API query to retrieve Designate Limits.
  Ensure that all expected fields presents in received data.

Change-Id: Ib76f30671b5695f73ccd6fe6b7eaa8932b126411
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/71/780871/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/api/v2/test_project_limits.py', 'designate_tempest_plugin/clients.py', 'designate_tempest_plugin/services/dns/v2/json/project_limit_client.py']",3,737e674519fafe04041cb31432c7cb8b01dfae5f,project_limit,"# Copyright 2021 RedHat|IBM # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from designate_tempest_plugin.services.dns.v2.json import base class ProjectLimitClient(base.DnsClientV2Base): @base.handle_errors def list_project_limits(self, headers=None): """"""Show the limits for the current project :param headers: (dict): The headers to use for the request. :return: Dictionary of limits """""" return self._list_request( 'limits', headers=headers)[1] ",,120,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18,openstack/tripleo-ansible,stable/wallaby,Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18,Remove redhat-8.2.yml var file,MERGED,2021-05-06 06:03:06.000000000,2021-05-11 13:52:36.000000000,2021-05-11 13:52:36.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 06:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/60e83688f3a510e6c1e2509152f3b416a6ac7fab', 'message': 'Remove redhat-8.2.yml var file\n\nThis will not work when an operator wants to upgrades from osp-16.1 to\nosp-16.2:\n16.2 is targeting rhel-8.4 with container-tools:3.0, providing a newer\npodman version.\n\nDuring the upgrade process, we end in a state where we\'re still running\nrhel-8.2, with container-tools:3.0 enabled - leading to an issue when it\ncomes to the podman version we can get.\n\nRemoving this file (and backporting this change down to stable/train)\nwill allow a swift and smooth fix.\n\nAs a last word, this ""last security"" isn\'t that useful anymore, since we\nhave a task that ensures we have the correct module stream[1][2].\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/undercloud/undercloud-upgrade.yaml#L67\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L261\n\nCloses-Bug: #1927242\nChange-Id: Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18\n(cherry picked from commit 3304f4ab3591a87e5dd273a0f1559ed0f828342f)\n'}, {'number': 2, 'created': '2021-05-10 07:21:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/vars/redhat-8.2.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d42023b88ab59f6fb7685ba1b83b1b90fcac834a', 'message': 'Remove redhat-8.2.yml var file\n\nThis will not work when an operator wants to upgrades from osp-16.1 to\nosp-16.2:\n16.2 is targeting rhel-8.4 with container-tools:3.0, providing a newer\npodman version.\n\nDuring the upgrade process, we end in a state where we\'re still running\nrhel-8.2, with container-tools:3.0 enabled - leading to an issue when it\ncomes to the podman version we can get.\n\nRemoving this file (and backporting this change down to stable/train)\nwill allow a swift and smooth fix.\n\nAs a last word, this ""last security"" isn\'t that useful anymore, since we\nhave a task that ensures we have the correct module stream[1][2].\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/undercloud/undercloud-upgrade.yaml#L67\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L261\n\nCloses-Bug: #1927242\nChange-Id: Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18\n(cherry picked from commit 3304f4ab3591a87e5dd273a0f1559ed0f828342f)\n'}]",0,789864,d42023b88ab59f6fb7685ba1b83b1b90fcac834a,19,4,2,28223,,,0,"Remove redhat-8.2.yml var file

This will not work when an operator wants to upgrades from osp-16.1 to
osp-16.2:
16.2 is targeting rhel-8.4 with container-tools:3.0, providing a newer
podman version.

During the upgrade process, we end in a state where we're still running
rhel-8.2, with container-tools:3.0 enabled - leading to an issue when it
comes to the podman version we can get.

Removing this file (and backporting this change down to stable/train)
will allow a swift and smooth fix.

As a last word, this ""last security"" isn't that useful anymore, since we
have a task that ensures we have the correct module stream[1][2].

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/undercloud/undercloud-upgrade.yaml#L67
[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L261

Closes-Bug: #1927242
Change-Id: Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18
(cherry picked from commit 3304f4ab3591a87e5dd273a0f1559ed0f828342f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/789864/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/vars/redhat-8.2.yml'],1,60e83688f3a510e6c1e2509152f3b416a6ac7fab,16.2-on-rhel-8.2,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. _tripleo_podman_packages: - podman-1.6.4 _tripleo_buildah_packages: - buildah-1.11.6 _tripleo_podman_purge_packages: - docker - docker-ce ",0,26
openstack%2Fbarbican~master~I5f4746bc4d40b76c562c39c2254f3b8381b4b52f,openstack/barbican,master,I5f4746bc4d40b76c562c39c2254f3b8381b4b52f,setup.cfg: Replace dashes with underscores,MERGED,2021-04-26 06:35:54.000000000,2021-05-11 13:49:33.000000000,2021-05-11 13:48:12.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2021-04-26 06:35:54.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6662fc9eca3bb95a55436852c3569d978bcae975', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I5f4746bc4d40b76c562c39c2254f3b8381b4b52f\n""}]",0,787916,6662fc9eca3bb95a55436852c3569d978bcae975,8,3,1,30092,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I5f4746bc4d40b76c562c39c2254f3b8381b4b52f
",git fetch https://review.opendev.org/openstack/barbican refs/changes/16/787916/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6662fc9eca3bb95a55436852c3569d978bcae975,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/barbican/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/barbican/latest/ python-requires = >=3.6,4,4
openstack%2Ftripleo-ansible~master~Idd6906d24b46ebd6687ea079178dab438460921e,openstack/tripleo-ansible,master,Idd6906d24b46ebd6687ea079178dab438460921e,"Revert ""Temporarily disable no_log for podmans info task""",MERGED,2021-05-06 13:30:15.000000000,2021-05-11 13:44:34.000000000,2021-05-11 13:44:34.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 13:30:15.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/delete_orphan.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/start_order.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29d275578a65c0a6495f7db9b826e063199051a1', 'message': 'Revert ""Temporarily disable no_log for podmans info task""\n\nThis reverts commit 1136ca69fee750792584ac6bb1975b7da2aae75f.\n\nReason for revert: it was a temporary, let\'s work on permanent solution\n\nChange-Id: Idd6906d24b46ebd6687ea079178dab438460921e\n'}]",0,789873,29d275578a65c0a6495f7db9b826e063199051a1,8,7,1,10969,,,0,"Revert ""Temporarily disable no_log for podmans info task""

This reverts commit 1136ca69fee750792584ac6bb1975b7da2aae75f.

Reason for revert: it was a temporary, let's work on permanent solution

Change-Id: Idd6906d24b46ebd6687ea079178dab438460921e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/73/789873/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/delete_orphan.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/start_order.yml']",2,29d275578a65c0a6495f7db9b826e063199051a1,debug," no_log: ""{{ tripleo_container_manage_hide_sensitive_logs | bool }}"""," # Temporarily disable no_log for this task to debug #1926649 no_log: false # ""{{ tripleo_container_manage_hide_sensitive_logs | bool }}""",2,4
openstack%2Fwhitebox-tempest-plugin~master~I08b769dc3cfe52329093c5953768b023b0f40b9f,openstack/whitebox-tempest-plugin,master,I08b769dc3cfe52329093c5953768b023b0f40b9f,Add SR-IOV Live Migration Test,MERGED,2021-01-28 20:20:55.000000000,2021-05-11 13:31:59.000000000,2021-05-11 13:31:59.000000000,"[{'_account_id': 8864}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27478}, {'_account_id': 30788}]","[{'number': 1, 'created': '2021-01-28 20:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/99350e6a05336c3d508531e9f0ebf3f0c08b6bb1', 'message': 'Add SR-IOV Live Migration Test\n\nAdded new test class to test_sriov, SRIOVMigration. Since there are\ncommon helper methods between SRIOVMigration and SRIOVNumaAffinity a new\nparent class was created for the two test classes, SRIOVBase.\nSRIOVMigration adds two new test methods\ntest_sriov_direct_live_migration and test_sriov_macvtap_live_migration\nwhich follow the exact same procedure but use different port types,\ndirect and macvtap respectively.\n\nTests creates two servers, migrates them to a new host, confirms the xml\nparameters describing the port correct, and the number of allocated\npci_devices in the pci_devices database table is accurate. It then\nmigrates the servers back to the source host and rechecks the same set\nof criteria.\n\nChange-Id: I08b769dc3cfe52329093c5953768b023b0f40b9f\n'}, {'number': 2, 'created': '2021-01-28 20:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/e19356a769ac75bf14d698541b6c8bd8da6b9f4b', 'message': 'Add SR-IOV Live Migration Test\n\nAdded new test class to test_sriov, SRIOVMigration. Since there are\ncommon helper methods between SRIOVMigration and SRIOVNumaAffinity a new\nparent class was created for the two test classes, SRIOVBase.\nSRIOVMigration adds two new test methods\ntest_sriov_direct_live_migration and test_sriov_macvtap_live_migration\nwhich follow the exact same procedure but use different port types,\ndirect and macvtap respectively.\n\nTests creates two servers, migrates them to a new host, confirms the xml\nparameters describing the port correct, and the number of allocated\npci_devices in the pci_devices database table is accurate. It then\nmigrates the servers back to the source host and rechecks the same set\nof criteria.\n\nChange-Id: I08b769dc3cfe52329093c5953768b023b0f40b9f\n'}, {'number': 3, 'created': '2021-02-17 00:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/54898cb57388d34eaf4dbc4ed198d73bc6ab4cf0', 'message': 'Add SR-IOV Live Migration Test\n\nAdded new test class to test_sriov, SRIOVMigration. Since there are\ncommon helper methods between SRIOVMigration and SRIOVNumaAffinity a new\nparent class was created for the two test classes, SRIOVBase.\nSRIOVMigration adds two new test methods\ntest_sriov_direct_live_migration and test_sriov_macvtap_live_migration\nwhich follow the exact same procedure but use different port types,\ndirect and macvtap respectively.\n\nTests creates a server, migrates it to a new host, confirms the xml\nparameters describing the port correct, and the number of allocated\npci_devices in the pci_devices database table is accurate. It then\nmigrates the servers back to the source host and rechecks the same set\nof criteria.\n\nChange-Id: I08b769dc3cfe52329093c5953768b023b0f40b9f\n'}, {'number': 4, 'created': '2021-04-07 17:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/36212cb2f852e5494c68076206442c8add4315bb', 'message': 'Add SR-IOV Live Migration Test\n\nAdded new test class to test_sriov, SRIOVMigration. Since there are\ncommon helper methods between SRIOVMigration and SRIOVNumaAffinity a new\nparent class was created for the two test classes, SRIOVBase.\nSRIOVMigration adds two new test methods\ntest_sriov_direct_live_migration and test_sriov_macvtap_live_migration\nwhich follow the exact same procedure but use different port types,\ndirect and macvtap respectively.\n\nTests creates a server, migrates it to a new host, confirms the xml\nparameters describing the port correct, and the number of allocated\npci_devices in the pci_devices database table is accurate. It then\nmigrates the servers back to the source host and rechecks the same set\nof criteria.\n\nChange-Id: I08b769dc3cfe52329093c5953768b023b0f40b9f\n'}, {'number': 5, 'created': '2021-04-15 20:17:17.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_sriov.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/4c6f3b688126f7ec9ef447611dfe693b23e5046f', 'message': 'Add SR-IOV Live Migration Test\n\nAdded new test class to test_sriov, SRIOVMigration. Since there are\ncommon helper methods between SRIOVMigration and SRIOVNumaAffinity a new\nparent class was created for the two test classes, SRIOVBase.\nSRIOVMigration adds two new test methods\ntest_sriov_direct_live_migration and test_sriov_macvtap_live_migration\nwhich follow the exact same procedure but use different port types,\ndirect and macvtap respectively.\n\nTests creates a server, migrates it to a new host, confirms the xml\nparameters describing the port correct, and the number of allocated\npci_devices in the pci_devices database table is accurate. It then\nmigrates the servers back to the source host and rechecks the same set\nof criteria.\n\nChange-Id: I08b769dc3cfe52329093c5953768b023b0f40b9f\n'}]",67,772939,4c6f3b688126f7ec9ef447611dfe693b23e5046f,30,7,5,31033,,,0,"Add SR-IOV Live Migration Test

Added new test class to test_sriov, SRIOVMigration. Since there are
common helper methods between SRIOVMigration and SRIOVNumaAffinity a new
parent class was created for the two test classes, SRIOVBase.
SRIOVMigration adds two new test methods
test_sriov_direct_live_migration and test_sriov_macvtap_live_migration
which follow the exact same procedure but use different port types,
direct and macvtap respectively.

Tests creates a server, migrates it to a new host, confirms the xml
parameters describing the port correct, and the number of allocated
pci_devices in the pci_devices database table is accurate. It then
migrates the servers back to the source host and rechecks the same set
of criteria.

Change-Id: I08b769dc3cfe52329093c5953768b023b0f40b9f
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/39/772939/5 && git format-patch -1 --stdout FETCH_HEAD,['whitebox_tempest_plugin/api/compute/test_sriov.py'],1,99350e6a05336c3d508531e9f0ebf3f0c08b6bb1,sriov_live_migration,"<<<<<<< HEAD======= class SRIOVBase(base.BaseWhiteboxComputeTest): >>>>>>> 2fc81a6... Add SR-IOV Live Migration Test @classmethod def skip_checks(cls): super(SRIOVBase, cls).skip_checks() if getattr(CONF.whitebox_hardware, 'sriov_physnet', None) is None: raise cls.skipException('Requires sriov_physnet parameter ' 'to be set in order to execute test ' 'cases.') @classmethod def setup_clients(cls): super(SRIOVBase, cls).setup_clients() cls.networks_client = cls.os_admin.networks_client cls.subnets_client = cls.os_admin.subnets_client cls.ports_client = cls.os_admin.ports_client def _get_expected_xml_interface_type(self, port): """"""Return expected domain xml interface type basec on port vnic_type :param port: dictionary with port details :return str: the xml interface type. """""" vnic_type = port['port']['binding:vnic_type'] # NOTE: SR-IOV Port binding vnic type has been known to cause confusion # when mapping the value to the underlying instance XML. A vnic_type # that is direct is a 'hostdev' or Host device assignment that is # is passing the device directly from the host to the guest. A # vnic_type that is macvtap or 'direct' in the guest xml, is using the # macvtap driver to attach a guests NIC directly to a specified # physical interface on the host. if vnic_type == 'direct': return 'hostdev' elif vnic_type == 'macvtap': return 'direct' def _create_sriov_net(self): """"""Create an IPv4 L2 vlan network and subnet. Physical network provider comes from sriov_physnet provided in tempest config :return net A dictionary describing details about the created network """""" name_net = data_utils.rand_name(self.__class__.__name__) vlan_id = \ CONF.network_feature_enabled.provider_net_base_segmentation_id physical_net = CONF.whitebox_hardware.sriov_physnet net_dict = { 'shared': True, 'provider:network_type': 'vlan', 'provider:physical_network': physical_net, 'provider:segmentation_id': vlan_id } net = self.networks_client.create_network(name=name_net, **net_dict) self.addCleanup(self.networks_client.delete_network, net['network']['id']) subnet = self.subnets_client.create_subnet( network_id=net['network']['id'], cidr=CONF.network.project_network_cidr, ip_version=4 ) self.addCleanup( self.subnets_client.delete_subnet, subnet['subnet']['id'] ) return net def _create_sriov_port(self, net, vnic_type=None): """"""Create an sr-iov port with a vnic_type provided by tempest config :param net: dictionary with network details :return port: dictionary with details about newly created port """""" if vnic_type is None: vnic_type = {'binding:vnic_type': CONF.network.port_vnic_type} port = self.ports_client.create_port(network_id=net['network']['id'], **vnic_type) self.addCleanup(self.ports_client.delete_port, port['port']['id']) return port def _get_xml_interface_devices(self, server_id, port, interface_type): """"""Returns xml interface element that matches provided port mac and interface type. It is technically possible to have multiple ports with the same MAC address in an instance, so method functionality may break in the future. :param server_id: str, id of the instance to analyze :param port: dictionary describing port to find :param interface_type: str, interface type to look for in the xml return intf: A list of xml elements that match the port search criteria """""" root = self.get_server_xml(server_id) mac = port['port']['mac_address'] interface_list = root.findall( ""./devices/interface[@type='%s']/mac[@address='%s'].."" % (interface_type, mac) ) return interface_list def _validate_vf_port_xml_attributes(self, server_id, port): """"""Validates port count and vlan are accurate in server's XML :param server_id: str, id of the instance to analyze :param port: dictionary describing port to find """""" net_vlan = \ CONF.network_feature_enabled.provider_net_base_segmentation_id interface_type = self._get_expected_xml_interface_type(port) interface_list = self._get_xml_interface_devices( server_id, port, interface_type ) self.assertEqual(len(interface_list), 1, 'Expect to find one ' 'and only one instance of interface but ' 'instead found %d instances' % len(interface_list)) interface = interface_list[0] interface_vlan = interface.find(""./vlan/tag"").get('id', None) self.assertEqual(net_vlan, interface_vlan, 'Interface should ' 'have vlan tag %s but instead it is tagged ' 'with %s' % (net_vlan, interface_vlan)) def _get_port_attribute(self, port_id, attribute): """"""Get a specific attribute for provided port id :param port_id, str the port id to search for :param attribute, str the attribute or key to check from the returned port dictionary :return str, the port attribute value """""" body = self.ports_client.show_port(port_id) port = body['port'] return port[attribute] def _get_pci_device_info(self, column, value): """"""Returns all pci_device's address, status, and dev_type that match query criteria. :param column str, the column in the pci_devices table to search :param value str, the specific value in the column to query for return json, all pci_devices that match specified query """""" db_client = clients.DatabaseClient() db = CONF.whitebox_database.nova_cell1_db_name with db_client.cursor(db) as cursor: result = cursor.execute('SELECT address,status,dev_type FROM ' 'pci_devices WHERE %s = ""%s""' % (column, value)) self.assertGreater(result, 0) data = cursor.fetchall() return data def _verify_neutron_port_binding(self, port_id, server_id, dev_type): """"""Verifies db metrics are accurate for the state of the provided port_id :param port_id str, the port id to request from the ports client :param server_id str, the guest id to check :param dev_type str, the device type to check for 'type-VF' or 'type-PF' """""" binding_profile = self._get_port_attribute(port_id, 'binding:profile') pci_info = self._get_pci_device_info('instance_uuid', server_id) for pf in pci_info: self.assertEqual(""allocated"", pf['status'], 'Physical function %s ' 'is in status %s and not in status allocated' % (pf['address'], pf['status'])) self.assertIn(str(pf['address']), str(binding_profile), 'PCI ' 'device information in Nova and and Binding profile ' 'information in Neutron mismatch') self.assertEqual(dev_type, pf['dev_type'], 'Expected PCI device ' 'type to be %s but instead it is %s' % (pf['dev_type'], dev_type)) class SRIOVNumaAffinity(SRIOVBase): min_microversion = '2.74' required = {'hw:cpu_policy': 'dedicated', 'hw:pci_numa_affinity_policy': 'required'} preferred = {'hw:cpu_policy': 'dedicated', 'hw:pci_numa_affinity_policy': 'preferred'} class SRIOVMigration(SRIOVBase): min_microversion = '2.74' def setUp(self): super(SRIOVMigration, self).setUp() self.network = self._create_sriov_net() @classmethod def skip_checks(cls): super(SRIOVMigration, cls).skip_checks() if (CONF.compute.min_compute_nodes < 2 or CONF.whitebox.max_compute_nodes > 2): raise cls.skipException('Exactly 2 compute nodes required.') def _get_pci_status_count(self, status): """"""Return the number of pci devices that match the status argument :param status: str, value to query from the pci_devices table return int, the number of rows that match the provided status """""" db_client = clients.DatabaseClient() db = CONF.whitebox_database.nova_cell1_db_name with db_client.cursor(db) as cursor: result = cursor.execute('select COUNT(*) from pci_devices WHERE ' 'status = ""%s""' % status) self.assertGreater(result, 0) data = cursor.fetchall() return data[0]['COUNT(*)'] def _base_test_live_migration(self, vnic_type, dev_type): """"""Parent test class that perform sr-iov live migration :param vnic_type: str, vnic_type to use when creating sr-iov port :param dev_type str, the device type to create for 'type-VF' or 'type-PF' """""" hostname1, hostname2 = self.list_compute_hosts() port_a = self._create_sriov_port( net=self.network, vnic_type={'binding:vnic_type': vnic_type} ) flavor = self.create_flavor() server_a = self.create_test_server( clients=self.os_admin, flavor=flavor['id'], networks=[{'port': port_a['port']['id']}], host=hostname1 ) # Migrate server_a to the second host self.live_migrate(server_a['id'], hostname2, 'ACTIVE') port_b = self._create_sriov_port( net=self.network, vnic_type={'binding:vnic_type': vnic_type} ) server_b = self.create_test_server( clients=self.os_admin, flavor=flavor['id'], networks=[{'port': port_b['port']['id']}], host=hostname1 ) # Migrate server_b to the same second host self.live_migrate(server_b['id'], hostname2, 'ACTIVE') # Based on the expected port parameters confirm # of both servers for server, port in zip([server_a, server_b], [port_a, port_b]): port = self.ports_client.show_port(port['port']['id']) self._validate_vf_port_xml_attributes(server['id'], port) self._verify_neutron_port_binding( port['port']['id'], server['id'], dev_type ) # Validate the total allocation of pci devices remains 2 after # instance migrations allocation_count = self._get_pci_status_count('allocated') self.assertEqual(allocation_count, 2, 'Total allocated pci devices ' 'after first migration should be 2 but instead ' 'is %s' % allocation_count) # Migrate both servers back to the original host for srv_id in [server_a['id'], server_b['id']]: self.live_migrate(srv_id, hostname1, 'ACTIVE') # Validate xml port information for both servers remains accurate # after migration back to the original host for server, port in zip([server_a, server_b], [port_a, port_b]): port = self.ports_client.show_port(port['port']['id']) self._validate_vf_port_xml_attributes(server['id'], port) self._verify_neutron_port_binding( port['port']['id'], server['id'], dev_type ) # Confirm total port allocations still remains the same after final # migration allocation_count = self._get_pci_status_count('allocated') self.assertEqual(allocation_count, 2, 'Total allocated pci devices ' 'after second migration should be 2 but instead ' 'is %s' % allocation_count) # Resource cleanup does not take into effect until all test methods # for class have finalized. Deleting servers to free up port # allocations so they do not impact other live migration tests from # this test class. self.delete_server(server_a['id']) self.delete_server(server_b['id']) def test_sriov_direct_live_migration(self): """"""Verify sriov live migration using direct type ports """""" self._base_test_live_migration(vnic_type='direct', dev_type='type-VF') def test_sriov_macvtap_live_migration(self): """"""Verify sriov live migration using macvtap type ports """""" self._base_test_live_migration(vnic_type='macvtap', dev_type='type-VF')"," def _get_expected_xml_interface_type(self, port): """"""Return expected domain xml interface type based on port vnic_type :param port: dictionary with port details :return str: the xml interface type. """""" vnic_type = port['port']['binding:vnic_type'] # NOTE: SR-IOV Port binding vnic type has been known to cause confusion # when mapping the value to the underlying instance XML. A vnic_type # that is direct is a 'hostdev' or Host device assignment that is # is passing the device directly from the host to the guest. A # vnic_type that is macvtap or 'direct' in the guest xml, is using the # macvtap driver to attach a guests NIC directly to a specified # physical interface on the host. if vnic_type == 'direct': return 'hostdev' elif vnic_type == 'macvtap': return 'direct' def _create_sriov_net(self): """"""Create an IPv4 L2 vlan network and subnet. Physical network provider comes from sriov_physnet provided in tempest config :return net A dictionary describing details about the created network """""" name_net = data_utils.rand_name(self.__class__.__name__) vlan_id = \ CONF.network_feature_enabled.provider_net_base_segmentation_id physical_net = CONF.whitebox_hardware.sriov_physnet net_dict = { 'shared': True, 'provider:network_type': 'vlan', 'provider:physical_network': physical_net, 'provider:segmentation_id': vlan_id } net = self.networks_client.create_network(name=name_net, **net_dict) self.addCleanup(self.networks_client.delete_network, net['network']['id']) subnet = self.subnets_client.create_subnet( network_id=net['network']['id'], cidr=CONF.network.project_network_cidr, ip_version=4 ) self.addCleanup( self.subnets_client.delete_subnet, subnet['subnet']['id'] ) return net def _create_sriov_port(self, net): """"""Create an sr-iov port with a vnic_type provided by tempest config :param net: dictionary with network details :return port: dictionary with details about newly created port """""" vnic_type = {'binding:vnic_type': CONF.network.port_vnic_type} port = self.ports_client.create_port(network_id=net['network']['id'], **vnic_type) self.addCleanup(self.ports_client.delete_port, port['port']['id']) return port def _get_xml_interface_devices(self, server_id, port, interface_type): """"""Returns xml interface element that matches provided port mac and interface type. It is technically possible to have multiple ports with the same MAC address in an instance, so method functionality may break in the future. :param server_id: str, id of the instance to analyze :param port: dictionary describing port to find :param interface_type: str, interface type to look for in the xml return intf: A list of xml elements that match the port search criteria """""" root = self.get_server_xml(server_id) mac = port['port']['mac_address'] interface_list = root.findall( ""./devices/interface[@type='%s']/mac[@address='%s'].."" % (interface_type, mac) ) return interface_list ",322,85
openstack%2Fansible-collections-openstack~master~I0026b3bdd785a32b7d701ed6ac146853c0cdd162,openstack/ansible-collections-openstack,master,I0026b3bdd785a32b7d701ed6ac146853c0cdd162,Add non-voting train TripleO jobs,MERGED,2021-05-10 11:17:10.000000000,2021-05-11 13:07:42.000000000,2021-05-11 13:07:42.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 11:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/03dbf29b14f71ba48fded5fb6649b730c5311d95', 'message': ""Add non-voting train TripleO jobs\n\nBecause we use modules starting from train, let's check we don't\nbreak anything in train branch for TripleO.\nUse non-voting more for informational purpose, since old branches\njobs can be unstable.\n\nChange-Id: I0026b3bdd785a32b7d701ed6ac146853c0cdd162\n""}, {'number': 2, 'created': '2021-05-11 09:16:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2027eb1f4659f408de6a32237cd56a5a46e9e41d', 'message': ""Add non-voting train TripleO jobs\n\nBecause we use modules starting from train, let's check we don't\nbreak anything in train branch for TripleO.\nUse non-voting more for informational purpose, since old branches\njobs can be unstable.\n\nChange-Id: I0026b3bdd785a32b7d701ed6ac146853c0cdd162\n""}]",0,790417,2027eb1f4659f408de6a32237cd56a5a46e9e41d,8,2,2,10969,,,0,"Add non-voting train TripleO jobs

Because we use modules starting from train, let's check we don't
break anything in train branch for TripleO.
Use non-voting more for informational purpose, since old branches
jobs can be unstable.

Change-Id: I0026b3bdd785a32b7d701ed6ac146853c0cdd162
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/17/790417/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,03dbf29b14f71ba48fded5fb6649b730c5311d95,,- job: name: tripleo-ci-centos-8-content-provider-train-osa parent: tripleo-ci-centos-8-content-provider-osa voting: false override-checkout: stable/train vars: branch_override: stable/train - job: name: tripleo-ci-centos-8-standalone-train-osa parent: tripleo-ci-centos-8-standalone-osa voting: false override-checkout: stable/train vars: branch_override: stable/train - tripleo-ci-centos-8-content-provider-train-osa: dependencies: *deps_unit_lint - tripleo-ci-centos-8-standalone-train-osa: dependencies: - tox-pep8 - openstack-tox-linters-ansible-2.9 - openstack-tox-linters-ansible-2.11 - tripleo-ci-centos-8-content-provider-train-osa,,24,0
openstack%2Foctavia~stable%2Fvictoria~Idb3ad20b8539bfdb788981a8634317257d83b238,openstack/octavia,stable/victoria,Idb3ad20b8539bfdb788981a8634317257d83b238,Fix empty Batch Member Update to unlock objects,MERGED,2021-04-26 14:55:46.000000000,2021-05-11 13:03:32.000000000,2021-05-11 13:01:44.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-04-26 14:55:46.000000000', 'files': ['octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'releasenotes/notes/Fix-noop-batch-member-update-issue-09b76787553e7752.yaml', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/drivers/amphora_driver/v1/driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1cb53e1492da132e23bd20b890648159ac962e13', 'message': 'Fix empty Batch Member Update to unlock objects\n\nMove the decision up one layer to the API controller.\nThe amphora driver should now just do as it is told.\n\nChange-Id: Idb3ad20b8539bfdb788981a8634317257d83b238\nStory: 2008731\nTask: 42083\n(cherry picked from commit 00e3f8349d353b1912a994b26926de4e0ed88258)\n'}]",0,788018,1cb53e1492da132e23bd20b890648159ac962e13,15,5,1,6469,,,0,"Fix empty Batch Member Update to unlock objects

Move the decision up one layer to the API controller.
The amphora driver should now just do as it is told.

Change-Id: Idb3ad20b8539bfdb788981a8634317257d83b238
Story: 2008731
Task: 42083
(cherry picked from commit 00e3f8349d353b1912a994b26926de4e0ed88258)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/18/788018/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/api/drivers/amphora_driver/v1/test_amphora_driver.py', 'octavia/tests/unit/api/drivers/amphora_driver/v2/test_amphora_driver.py', 'releasenotes/notes/Fix-noop-batch-member-update-issue-09b76787553e7752.yaml', 'octavia/api/drivers/amphora_driver/v2/driver.py', 'octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/api/drivers/amphora_driver/v1/driver.py']",7,1cb53e1492da132e23bd20b890648159ac962e13,," payload = {'old_member_ids': [m.id for m in deleted_members], 'new_member_ids': [m.member_id for m in new_members], 'updated_members': updated_members} self.client.cast({}, 'batch_update_members', **payload)"," if deleted_members or new_members or updated_members: payload = {'old_member_ids': [m.id for m in deleted_members], 'new_member_ids': [m.member_id for m in new_members], 'updated_members': updated_members} self.client.cast({}, 'batch_update_members', **payload) else: LOG.info(""Member batch update is a noop, returning early."")",40,19
openstack%2Fhorizon~master~Iba4215b2e3a414d1794faa05be31bf69e0e48bec,openstack/horizon,master,Iba4215b2e3a414d1794faa05be31bf69e0e48bec,Change with_data=False for swift_get_container,MERGED,2021-03-30 15:51:03.000000000,2021-05-11 12:47:52.000000000,2021-05-11 12:45:49.000000000,"[{'_account_id': 841}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-30 15:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7d85baca4c40ad3e13234c257acd4f885c84c07e', 'message': ""Change with_data=False for swift_get_container\n\nThis function is only used in the Container get\nmethod which retrieves details about a container.\n\nIt's not used for listing data in the container\neven though with_data was True doing a GET instead\nof a HEAD on the container.\n\nThis indirectly also fixes the Ceph bug [1] in the\nSwift API implementation that doesn't expose metadata\ncorrectly for a GET but does for a HEAD.\n\n[1] https://tracker.ceph.com/issues/47861\n\nChange-Id: Iba4215b2e3a414d1794faa05be31bf69e0e48bec\n""}, {'number': 2, 'created': '2021-04-06 14:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1e798f62858a3e545e0f0feb060e786b7da4afb2', 'message': ""Change with_data=False for swift_get_container\n\nThis function is only used in the Container get\nmethod which retrieves details about a container.\n\nIt's not used for listing data in the container\neven though with_data was True doing a GET instead\nof a HEAD on the container.\n\nThis indirectly also fixes the Ceph bug [1] in the\nSwift API implementation that doesn't expose metadata\ncorrectly for a GET but does for a HEAD.\n\n[1] https://tracker.ceph.com/issues/47861\n\nChange-Id: Iba4215b2e3a414d1794faa05be31bf69e0e48bec\n""}, {'number': 3, 'created': '2021-04-07 14:26:45.000000000', 'files': ['openstack_dashboard/api/swift.py', 'openstack_dashboard/test/unit/api/test_swift.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/c87f0e7a90d05f9355bd58165c25561dedae36d5', 'message': ""Change with_data=False for swift_get_container\n\nThis function is only used in the Container get\nmethod which retrieves details about a container.\n\nIt's not used for listing data in the container\neven though with_data was True doing a GET instead\nof a HEAD on the container.\n\nThis indirectly also fixes the Ceph bug [1] in the\nSwift API implementation that doesn't expose metadata\ncorrectly for a GET but does for a HEAD.\n\n[1] https://tracker.ceph.com/issues/47861\n\nChange-Id: Iba4215b2e3a414d1794faa05be31bf69e0e48bec\n""}]",0,783900,c87f0e7a90d05f9355bd58165c25561dedae36d5,19,3,3,16137,,,0,"Change with_data=False for swift_get_container

This function is only used in the Container get
method which retrieves details about a container.

It's not used for listing data in the container
even though with_data was True doing a GET instead
of a HEAD on the container.

This indirectly also fixes the Ceph bug [1] in the
Swift API implementation that doesn't expose metadata
correctly for a GET but does for a HEAD.

[1] https://tracker.ceph.com/issues/47861

Change-Id: Iba4215b2e3a414d1794faa05be31bf69e0e48bec
",git fetch https://review.opendev.org/openstack/horizon refs/changes/00/783900/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/swift.py'],1,7d85baca4c40ad3e13234c257acd4f885c84c07e,,"def swift_get_container(request, container_name, with_data=False):","def swift_get_container(request, container_name, with_data=True):",1,1
openstack%2Fpuppet-manila~master~Ib6fbb55f5e3ecdc0d6423a8e91afb921b5a42401,openstack/puppet-manila,master,Ib6fbb55f5e3ecdc0d6423a8e91afb921b5a42401,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 06:50:23.000000000,2021-05-11 12:46:32.000000000,2021-05-11 12:46:32.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 06:50:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/f0ec3d84886200c4f3e537003b4efeaf414801d6', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib6fbb55f5e3ecdc0d6423a8e91afb921b5a42401\n""}]",0,790555,f0ec3d84886200c4f3e537003b4efeaf414801d6,9,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib6fbb55f5e3ecdc0d6423a8e91afb921b5a42401
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/55/790555/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f0ec3d84886200c4f3e537003b4efeaf414801d6,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-glance~master~Ie2b6bee1a8d2221f0eefd5f55b005875762be539,openstack/puppet-glance,master,Ie2b6bee1a8d2221f0eefd5f55b005875762be539,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 09:27:57.000000000,2021-05-11 12:44:54.000000000,2021-05-11 12:44:54.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 09:27:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/a956fcc5e3db9734297bc04721a372fd335c1b8e', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ie2b6bee1a8d2221f0eefd5f55b005875762be539\n""}]",0,790607,a956fcc5e3db9734297bc04721a372fd335c1b8e,7,3,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie2b6bee1a8d2221f0eefd5f55b005875762be539
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/07/790607/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a956fcc5e3db9734297bc04721a372fd335c1b8e,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fopenstack-ansible~stable%2Ftrain~Ie15d3231391fab4ea7f6acdf0a8def2f98e5b144,openstack/openstack-ansible,stable/train,Ie15d3231391fab4ea7f6acdf0a8def2f98e5b144,Bump SHAs for stable/train,MERGED,2021-05-09 18:12:22.000000000,2021-05-11 12:44:16.000000000,2021-05-11 12:42:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-09 18:12:22.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/211e8ce69286ebd4ba5bc0bae2353498dee0012d', 'message': 'Bump SHAs for stable/train\n\nChange-Id: Ie15d3231391fab4ea7f6acdf0a8def2f98e5b144\n'}]",0,790359,211e8ce69286ebd4ba5bc0bae2353498dee0012d,8,3,1,28619,,,0,"Bump SHAs for stable/train

Change-Id: Ie15d3231391fab4ea7f6acdf0a8def2f98e5b144
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/59/790359/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,211e8ce69286ebd4ba5bc0bae2353498dee0012d,bump_osa, version: 6999118fb6dbc13921f22ef611ae6e0e04e6c1a4, version: 871ad6d71a0b700f826d25159865e1430704d4e7,47,47
openstack%2Fpuppet-cinder~master~I0dd3ca45d56ed9acfac8b19faa656f1823bd026d,openstack/puppet-cinder,master,I0dd3ca45d56ed9acfac8b19faa656f1823bd026d,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 07:01:02.000000000,2021-05-11 12:41:46.000000000,2021-05-11 12:41:46.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 07:01:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/cdb0e11673284c82a4a2585d738576934cdd69a8', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I0dd3ca45d56ed9acfac8b19faa656f1823bd026d\n""}]",0,790580,cdb0e11673284c82a4a2585d738576934cdd69a8,8,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I0dd3ca45d56ed9acfac8b19faa656f1823bd026d
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/80/790580/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,cdb0e11673284c82a4a2585d738576934cdd69a8,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fkolla~stable%2Ftrain~I2b084ea78b236623b174473f411bae04e624a3e9,openstack/kolla,stable/train,I2b084ea78b236623b174473f411bae04e624a3e9,CI: drop bashism from template overrides,MERGED,2021-05-10 12:34:33.000000000,2021-05-11 12:14:37.000000000,2021-05-11 12:13:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-10 12:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a545fb473d7cd252cd3ce7fbe573faa81eeffedc', 'message': 'CI: drop bashism from template overrides\n\n[[ is bash only\n\nIn many distributions /bin/sh == bash but not in Debian and derived\nwhere it is dash (very simple POSIX shell).\n\nChange-Id: I2b084ea78b236623b174473f411bae04e624a3e9\n(cherry picked from commit f0c3567740be342355b39a7c7d3ca341d5a4ec0f)\n'}, {'number': 2, 'created': '2021-05-11 05:39:20.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/326201932f93fc18371c2c5385fbf55ceb5d882d', 'message': 'CI: drop bashism from template overrides\n\n[[ is bash only\n\nIn many distributions /bin/sh == bash but not in Debian and derived\nwhere it is dash (very simple POSIX shell).\n\nChange-Id: I2b084ea78b236623b174473f411bae04e624a3e9\n(cherry picked from commit f0c3567740be342355b39a7c7d3ca341d5a4ec0f)\n'}]",0,790436,326201932f93fc18371c2c5385fbf55ceb5d882d,18,4,2,30491,,,0,"CI: drop bashism from template overrides

[[ is bash only

In many distributions /bin/sh == bash but not in Debian and derived
where it is dash (very simple POSIX shell).

Change-Id: I2b084ea78b236623b174473f411bae04e624a3e9
(cherry picked from commit f0c3567740be342355b39a7c7d3ca341d5a4ec0f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/790436/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,a545fb473d7cd252cd3ce7fbe573faa81eeffedc,,RUN if [ -f /usr/etc/npmrc ]; then \,RUN if [[ -f /usr/etc/npmrc ]]; then \,1,1
openstack%2Fneutron~master~I3eeecbc18cbd3b715b9070d1cb667f93c01bc35c,openstack/neutron,master,I3eeecbc18cbd3b715b9070d1cb667f93c01bc35c,Fix the increase of fd caused by HA port not recycled,ABANDONED,2021-05-10 12:21:54.000000000,2021-05-11 12:11:18.000000000,,"[{'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 12:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df33fe47970a33b81755e84599b59d00d325bd18', 'message': 'Fix the increase of fd caused by HA port not recycled\n\nAdding ha port cleanup causes the ha port\nin the bridge device to be removed normally\n\nCloses-Bug: #1927926\nChange-Id: I3eeecbc18cbd3b715b9070d1cb667f93c01bc35c\n'}, {'number': 2, 'created': '2021-05-10 12:46:07.000000000', 'files': ['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/l3/namespaces.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/00762cbc3394f82c60e79d0f4046a73ae405f52d', 'message': 'Fix the increase of fd caused by HA port not recycled\n\nAdding ha port cleanup causes the ha port\nin the bridge device to be removed normally\n\nCloses-Bug: #1927926\nChange-Id: I3eeecbc18cbd3b715b9070d1cb667f93c01bc35c\n'}]",3,790428,00762cbc3394f82c60e79d0f4046a73ae405f52d,11,4,2,33423,,,0,"Fix the increase of fd caused by HA port not recycled

Adding ha port cleanup causes the ha port
in the bridge device to be removed normally

Closes-Bug: #1927926
Change-Id: I3eeecbc18cbd3b715b9070d1cb667f93c01bc35c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/790428/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/l3/test_agent.py', 'neutron/agent/l3/namespaces.py']",2,df33fe47970a33b81755e84599b59d00d325bd18,fix-bug-#1927926,"HA_DEV_PREFIX = 'ha-' elif d.name.startswith(HA_DEV_PREFIX): self.driver.unplug(d.name, namespace=self.name, prefix=HA_DEV_PREFIX)",,13,4
openstack%2Ftacker~master~Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a,openstack/tacker,master,Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a,[DNM] Check FT for removing restriction of scalegroup naming,ABANDONED,2021-04-20 11:27:12.000000000,2021-05-11 12:03:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-20 11:27:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7154857eb6ced019dac1e3490fc21caec371e092', 'message': '[DNM] Check FT for Healing Improvement whether it passes in Zuul\n\nChange-Id: Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a\n'}, {'number': 2, 'created': '2021-04-21 01:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/615cf79da69ca5b3bb15d16121eae726cb63d8dc', 'message': '[DNM] Check FT for Healing Improvement whether it passes in Zuul\n\nChange-Id: Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a\n'}, {'number': 3, 'created': '2021-04-28 05:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/c5c9993a91a1ca42f3ae16f8c923e6f79a5b0cd9', 'message': '[DNM] Check FT for Healing Improvement whether it passes in Zuul\n\nChange-Id: Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a\n'}, {'number': 4, 'created': '2021-04-29 14:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9819041d68acafb4093459020c1d9afe1ccc3ebd', 'message': '[DNM] Check FT for Healing Update whether it passes in Zuul\n\nChange-Id: Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a\n'}, {'number': 5, 'created': '2021-04-29 14:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/11c435e5803dbe1b9e42cbc85110afab71b38c4c', 'message': '[DNM] Check FT for Healing Update whether it passes in Zuul\n\nChange-Id: Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a\n'}, {'number': 6, 'created': '2021-05-07 10:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6bbcad457b998c0a252abded5c4193691bc0d94d', 'message': '[DNM] Check FT for removing restriction of scalegroup naming\n\nChange-Id: Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a\n'}, {'number': 7, 'created': '2021-05-11 00:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/67f5d49d69ed33d19f7d49372ae0d01352250861', 'message': '[DNM] Check FT for removing restriction of scalegroup naming\n\nChange-Id: Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a\n'}, {'number': 8, 'created': '2021-05-11 05:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/89db5c65b6eb00268fc93e385fb95f364baa4faa', 'message': '[DNM] Check FT for removing restriction of scalegroup naming\n\nChange-Id: Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a\n'}, {'number': 9, 'created': '2021-05-11 10:43:33.000000000', 'files': ['tacker/tests/etc/samples/etsi/nfv/functional4/BaseHOT/simple/helloworld3.yaml', 'tacker/vnflcm/utils.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/UserData/__init__.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/TOSCA-Metadata/TOSCA.meta', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/BaseHOT/simple/nested/VDU1.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/UserData/lcm_user_data.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/Definitions/helloworld3_types.yaml', 'tacker/tests/unit/conductor/test_conductor_server.py', 'tacker/tests/unit/vnflcm/fakes.py', 'tacker/tests/etc/samples/etsi/nfv/functional5/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/Definitions/helloworld3_df_simple.yaml', 'tacker/tests/etc/samples/etsi/nfv/functional3/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/BaseHOT/simple/helloworld3.yaml', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/Definitions/helloworld3_top.vnfd.yaml', 'tacker/tests/functional/sol_separated_nfvo/vnflcm/test_vnf_instance_with_user_data_nfvo_separate.py', 'tacker/tests/etc/samples/etsi/nfv/user_data_sample_normal_scaling/BaseHOT/simple/nested/VDU2.yaml', 'tacker/conductor/conductor_server.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/faf77916838cfe4c39fc08a99cee8b7e67b5bfb3', 'message': '[DNM] Check FT for removing restriction of scalegroup naming\n\nChange-Id: Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a\n'}]",0,787186,faf77916838cfe4c39fc08a99cee8b7e67b5bfb3,21,1,9,32219,,,0,"[DNM] Check FT for removing restriction of scalegroup naming

Change-Id: Ie4a0a54694dfb2ee3f9e60990499d739d3256d6a
",git fetch https://review.opendev.org/openstack/tacker refs/changes/86/787186/3 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py']",3,7154857eb6ced019dac1e3490fc21caec371e092,DNMPatch," res_details = resources.get(resource_name) if res_details.get('resource_type') == \ NOVA_SERVER_RESOURCE: return stack_id, resources yield stack_uuid, resource['physical_resource_id'] for stack_uuid, physical_resource_id in \ {""resource"": physical_resource_id, resource_name=physical_resource_id, mark_unhealthy=True, resource_status_reason=cause) ""resource"": physical_resource_id,"," return stack_id, resources yield stack_uuid, resource['resource_name'] for stack_uuid, resource_name in \ {""resource"": resource_name, resource_name=resource_name, mark_unhealthy=True, resource_status_reason=cause) ""resource"": resource_name,",101,10
openstack%2Fkuryr-kubernetes~stable%2Fvictoria~I7e0458c4071e4a43ab4d158429e05c67cd897a3c,openstack/kuryr-kubernetes,stable/victoria,I7e0458c4071e4a43ab4d158429e05c67cd897a3c,Fix NPs for OVN LBs with hairpin traffic,ABANDONED,2021-05-11 11:47:21.000000000,2021-05-11 12:03:15.000000000,,[],"[{'number': 1, 'created': '2021-05-11 11:47:21.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c0a9aa611a42356f847202a6c85430ded7644198', 'message': ""Fix NPs for OVN LBs with hairpin traffic\n\nIn case of hairpin LB traffic (member of the LB calls the LB and the\nrequest is directed back to the same member) OVN replaces the source-ip\nof the request with the LB IP. This means that pods with network\npolicies applied may have that traffic blocked when it should be\nallowed.\n\nTo fix that this commit makes sure that SGs used for NPs include ingress\nrules for each of the Service in it's namespace. It's not ideal but\nseems to be a fair compromise between opening as little traffic as\npossible and increasing number of security groups and rules.\n\nAs this commit makes sure all the NPs in the namespaces are reanalyzed\nevery time a Service is created or deleted, a little fixes in order to\nsupport that are also made.\n\nChange-Id: I7e0458c4071e4a43ab4d158429e05c67cd897a3c\nCloses-Bug: 1923452\n(cherry picked from commit e84a6a707ebd4c3d75a9dce34394d065e6499bc9)\n(cherry picked from commit 643effc3403bf80581588ea67136240eb36a54db)\n""}]",0,790574,c0a9aa611a42356f847202a6c85430ded7644198,2,0,1,11600,,,0,"Fix NPs for OVN LBs with hairpin traffic

In case of hairpin LB traffic (member of the LB calls the LB and the
request is directed back to the same member) OVN replaces the source-ip
of the request with the LB IP. This means that pods with network
policies applied may have that traffic blocked when it should be
allowed.

To fix that this commit makes sure that SGs used for NPs include ingress
rules for each of the Service in it's namespace. It's not ideal but
seems to be a fair compromise between opening as little traffic as
possible and increasing number of security groups and rules.

As this commit makes sure all the NPs in the namespaces are reanalyzed
every time a Service is created or deleted, a little fixes in order to
support that are also made.

Change-Id: I7e0458c4071e4a43ab4d158429e05c67cd897a3c
Closes-Bug: 1923452
(cherry picked from commit e84a6a707ebd4c3d75a9dce34394d065e6499bc9)
(cherry picked from commit 643effc3403bf80581588ea67136240eb36a54db)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/74/790574/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_utils.py']",13,c0a9aa611a42356f847202a6c85430ded7644198,fix-ovn-hairpin-stable/wallaby-stable/victoria,"from oslo_config import cfgfrom kuryr_kubernetes.controller.drivers import utilsCONF = cfg.CONF def test_is_network_policy_enabled(self): CONF.set_override('enabled_handlers', ['fake_handler'], group='kubernetes') CONF.set_override('service_security_groups_driver', 'foo', group='kubernetes') self.assertFalse(utils.is_network_policy_enabled()) CONF.set_override('enabled_handlers', ['policy'], group='kubernetes') CONF.set_override('service_security_groups_driver', 'foo', group='kubernetes') self.assertFalse(utils.is_network_policy_enabled()) CONF.set_override('enabled_handlers', ['policy'], group='kubernetes') self.addCleanup(CONF.clear_override, 'enabled_handlers', group='kubernetes') CONF.set_override('service_security_groups_driver', 'policy', group='kubernetes') self.addCleanup(CONF.clear_override, 'service_security_groups_driver', group='kubernetes') self.assertTrue(utils.is_network_policy_enabled())",from kuryr_kubernetes.controller.drivers import utils,337,84
openstack%2Fopenstack-helm-infra~master~Ia24693c58a5d122144cc54f4c6210738eca1e761,openstack/openstack-helm-infra,master,Ia24693c58a5d122144cc54f4c6210738eca1e761,Ensure Airship-UCP containers are restricted from acquiring new privilege,ABANDONED,2021-05-10 14:21:41.000000000,2021-05-11 11:51:25.000000000,,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 14:21:41.000000000', 'files': ['mariadb/values.yaml', 'postgresql/values.yaml', 'rabbitmq/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ad73bc76b140d04e23fcc0a665c624256ed6c95', 'message': 'Ensure Airship-UCP containers are restricted from acquiring new privilege\n\nChange-Id: Ia24693c58a5d122144cc54f4c6210738eca1e761\n'}]",1,790467,1ad73bc76b140d04e23fcc0a665c624256ed6c95,4,2,1,32353,,,0,"Ensure Airship-UCP containers are restricted from acquiring new privilege

Change-Id: Ia24693c58a5d122144cc54f4c6210738eca1e761
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/67/790467/1 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/values.yaml', 'postgresql/values.yaml', 'rabbitmq/values.yaml']",3,1ad73bc76b140d04e23fcc0a665c624256ed6c95,, runAsUser: 999 allowPrivilegeEscalation: false runAsUser: 999 allowPrivilegeEscalation: false runAsUser: 999 allowPrivilegeEscalation: false, runAsUser: 0 runAsUser: 0 runAsUser: 0,11,7
openstack%2Ftripleo-repos~master~Ib305c35a8eeced4c401213f20da42dde0a49997b,openstack/tripleo-repos,master,Ib305c35a8eeced4c401213f20da42dde0a49997b,Fixup license classifier in setup.cfg preventing pypi upload,MERGED,2021-05-07 11:32:24.000000000,2021-05-11 11:51:02.000000000,2021-05-11 11:51:02.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-05-07 11:32:24.000000000', 'files': ['tripleo-get-hash/setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/aaf9dc7306515ab2ac31ed3c7359ac2cea69bd81', 'message': 'Fixup license classifier in setup.cfg preventing pypi upload\n\nWithout this I could not upload to pypi [1] and since am here\nalso fixup the project url (linked via [1]).\n\n[1] https://pypi.org/project/tripleo-get-hash/0.1.1.dev30/\n\nChange-Id: Ib305c35a8eeced4c401213f20da42dde0a49997b\n'}]",1,790226,aaf9dc7306515ab2ac31ed3c7359ac2cea69bd81,11,6,1,8449,,,0,"Fixup license classifier in setup.cfg preventing pypi upload

Without this I could not upload to pypi [1] and since am here
also fixup the project url (linked via [1]).

[1] https://pypi.org/project/tripleo-get-hash/0.1.1.dev30/

Change-Id: Ib305c35a8eeced4c401213f20da42dde0a49997b
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/26/790226/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo-get-hash/setup.cfg'],1,aaf9dc7306515ab2ac31ed3c7359ac2cea69bd81,,url = https://opendev.org/openstack/tripleo-repos/src/branch/master/tripleo-get-hash,"url = https://opendev.org/openstack/tripleo-repos/tripleo-get-hash/ License :: OSI Approved :: Apache License, Version 2.0",1,2
openstack%2Fopenstack-tempest-skiplist~master~I4dcc9a81ed0ad15f017ff1b9fe5216f8de34962c,openstack/openstack-tempest-skiplist,master,I4dcc9a81ed0ad15f017ff1b9fe5216f8de34962c,Added missing wallaby release for sc10 skipped job,MERGED,2021-05-10 08:16:18.000000000,2021-05-11 11:42:06.000000000,2021-05-11 11:40:54.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-05-10 08:16:18.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/91cfa4b30c39dc546d76d732163fae163a3187cf', 'message': 'Added missing wallaby release for sc10 skipped job\n\nSince wallaby release was missing from the tempest\nskip schema so it was failing to generate the actual skip list\nfor the sc10 wallaby job.\n\nBy Adding the release with lp, fixes the issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I4dcc9a81ed0ad15f017ff1b9fe5216f8de34962c\n'}]",0,790381,91cfa4b30c39dc546d76d732163fae163a3187cf,10,7,1,12393,,,0,"Added missing wallaby release for sc10 skipped job

Since wallaby release was missing from the tempest
skip schema so it was failing to generate the actual skip list
for the sc10 wallaby job.

By Adding the release with lp, fixes the issue.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I4dcc9a81ed0ad15f017ff1b9fe5216f8de34962c
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/81/790381/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,91cfa4b30c39dc546d76d732163fae163a3187cf,, - name: 'wallaby' reason: 'port 60092/8085 did not begin passing traffic within the timeout period' lp: 'https://bugs.launchpad.net/tripleo/+bug/1914600',,4,0
openstack%2Fkuryr-kubernetes~stable%2Fwallaby~I7e0458c4071e4a43ab4d158429e05c67cd897a3c,openstack/kuryr-kubernetes,stable/wallaby,I7e0458c4071e4a43ab4d158429e05c67cd897a3c,Fix NPs for OVN LBs with hairpin traffic,MERGED,2021-05-06 12:19:51.000000000,2021-05-11 11:38:58.000000000,2021-05-11 11:37:44.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-06 12:19:51.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/643effc3403bf80581588ea67136240eb36a54db', 'message': ""Fix NPs for OVN LBs with hairpin traffic\n\nIn case of hairpin LB traffic (member of the LB calls the LB and the\nrequest is directed back to the same member) OVN replaces the source-ip\nof the request with the LB IP. This means that pods with network\npolicies applied may have that traffic blocked when it should be\nallowed.\n\nTo fix that this commit makes sure that SGs used for NPs include ingress\nrules for each of the Service in it's namespace. It's not ideal but\nseems to be a fair compromise between opening as little traffic as\npossible and increasing number of security groups and rules.\n\nAs this commit makes sure all the NPs in the namespaces are reanalyzed\nevery time a Service is created or deleted, a little fixes in order to\nsupport that are also made.\n\nChange-Id: I7e0458c4071e4a43ab4d158429e05c67cd897a3c\nCloses-Bug: 1923452\n(cherry picked from commit e84a6a707ebd4c3d75a9dce34394d065e6499bc9)\n""}]",0,789871,643effc3403bf80581588ea67136240eb36a54db,10,4,1,11600,,,0,"Fix NPs for OVN LBs with hairpin traffic

In case of hairpin LB traffic (member of the LB calls the LB and the
request is directed back to the same member) OVN replaces the source-ip
of the request with the LB IP. This means that pods with network
policies applied may have that traffic blocked when it should be
allowed.

To fix that this commit makes sure that SGs used for NPs include ingress
rules for each of the Service in it's namespace. It's not ideal but
seems to be a fair compromise between opening as little traffic as
possible and increasing number of security groups and rules.

As this commit makes sure all the NPs in the namespaces are reanalyzed
every time a Service is created or deleted, a little fixes in order to
support that are also made.

Change-Id: I7e0458c4071e4a43ab4d158429e05c67cd897a3c
Closes-Bug: 1923452
(cherry picked from commit e84a6a707ebd4c3d75a9dce34394d065e6499bc9)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/71/789871/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy_security_groups.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_network_policy.py', 'kuryr_kubernetes/constants.py', 'kuryr_kubernetes/controller/handlers/kuryrnetwork.py', 'kuryr_kubernetes/controller/handlers/lbaas.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/handlers/kuryrnetworkpolicy.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_kuryrnetwork.py', 'kuryr_kubernetes/controller/drivers/network_policy.py', 'kuryr_kubernetes/controller/handlers/kuryrport.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_utils.py']",13,643effc3403bf80581588ea67136240eb36a54db,fix-ovn-hairpin-stable/wallaby,"from oslo_config import cfgfrom kuryr_kubernetes.controller.drivers import utilsCONF = cfg.CONF def test_is_network_policy_enabled(self): CONF.set_override('enabled_handlers', ['fake_handler'], group='kubernetes') CONF.set_override('service_security_groups_driver', 'foo', group='kubernetes') self.assertFalse(utils.is_network_policy_enabled()) CONF.set_override('enabled_handlers', ['policy'], group='kubernetes') CONF.set_override('service_security_groups_driver', 'foo', group='kubernetes') self.assertFalse(utils.is_network_policy_enabled()) CONF.set_override('enabled_handlers', ['policy'], group='kubernetes') self.addCleanup(CONF.clear_override, 'enabled_handlers', group='kubernetes') CONF.set_override('service_security_groups_driver', 'policy', group='kubernetes') self.addCleanup(CONF.clear_override, 'service_security_groups_driver', group='kubernetes') self.assertTrue(utils.is_network_policy_enabled())",from kuryr_kubernetes.controller.drivers import utils,201,91
openstack%2Fkuryr-kubernetes~master~Id86a96a662c071533e187fa1b6d87783a844086a,openstack/kuryr-kubernetes,master,Id86a96a662c071533e187fa1b6d87783a844086a,Log pyroute2 RuntimeError details,MERGED,2021-04-15 11:01:30.000000000,2021-05-11 11:38:49.000000000,2021-05-11 11:37:39.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-04-15 11:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/250f2c1391f4d2d333345e84149de421423eca1a', 'message': 'Log pyroute2 RuntimeError details\n\npyroute2 has a curious way of reporting details of RuntimeError raised\nwhen an IPDB transaction fails - it just sets the .debug property of the\nexception to a dictionary containing additional info. This is not\nprinted by default, meaning that we end up with ambiguous RuntimeError\nin the logs when anything wrong happens.\n\nThis commit improves this by making sure we print traceback included in\nthat additional info.\n\nChange-Id: Id86a96a662c071533e187fa1b6d87783a844086a\n'}, {'number': 2, 'created': '2021-04-22 11:21:33.000000000', 'files': ['kuryr_kubernetes/cni/utils.py', 'kuryr_kubernetes/cni/binding/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5eaafbc8251aff1237a67a7e24592e078f68bd69', 'message': 'Log pyroute2 RuntimeError details\n\npyroute2 has a curious way of reporting details of RuntimeError raised\nwhen an IPDB transaction fails - it just sets the .debug property of the\nexception to a dictionary containing additional info. This is not\nprinted by default, meaning that we end up with ambiguous RuntimeError\nin the logs when anything wrong happens.\n\nThis commit improves this by making sure we print traceback included in\nthat additional info.\n\nChange-Id: Id86a96a662c071533e187fa1b6d87783a844086a\n'}]",0,786388,5eaafbc8251aff1237a67a7e24592e078f68bd69,18,5,2,11600,,,0,"Log pyroute2 RuntimeError details

pyroute2 has a curious way of reporting details of RuntimeError raised
when an IPDB transaction fails - it just sets the .debug property of the
exception to a dictionary containing additional info. This is not
printed by default, meaning that we end up with ambiguous RuntimeError
in the logs when anything wrong happens.

This commit improves this by making sure we print traceback included in
that additional info.

Change-Id: Id86a96a662c071533e187fa1b6d87783a844086a
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/88/786388/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/cni/utils.py', 'kuryr_kubernetes/cni/binding/base.py']",2,250f2c1391f4d2d333345e84149de421423eca1a,log-ipdb,from kuryr_kubernetes.cni import utils as cni_utils@cni_utils.log_ipdb@cni_utils.log_ipdb@cni_utils.log_ipdb,,27,0
openstack%2Fironic-python-agent-builder~stable%2Fwallaby~I61b77ceb6c58b5db451ccbbdfec9d92b4fa5bc89,openstack/ironic-python-agent-builder,stable/wallaby,I61b77ceb6c58b5db451ccbbdfec9d92b4fa5bc89,Fix python2 compatible ipa creations,MERGED,2021-05-10 14:37:15.000000000,2021-05-11 11:33:22.000000000,2021-05-11 11:31:45.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 14:37:15.000000000', 'files': ['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/117d5ef7be1e0fb13da3358c5098a48758ca832f', 'message': 'Fix python2 compatible ipa creations\n\nOld default versions of setuptools may have issues parsinq requirements.\nTo keep compatibility with Python 2.x we need to upgrade setuptools in\nvirtualenvs still using that version.\n\nChange-Id: I61b77ceb6c58b5db451ccbbdfec9d92b4fa5bc89\n(cherry picked from commit 69107b7d0481da1e5467ecec2e0bec27518ef1e6)\n'}]",0,790438,117d5ef7be1e0fb13da3358c5098a48758ca832f,9,2,1,23851,,,0,"Fix python2 compatible ipa creations

Old default versions of setuptools may have issues parsinq requirements.
To keep compatibility with Python 2.x we need to upgrade setuptools in
virtualenvs still using that version.

Change-Id: I61b77ceb6c58b5db451ccbbdfec9d92b4fa5bc89
(cherry picked from commit 69107b7d0481da1e5467ecec2e0bec27518ef1e6)
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/38/790438/1 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install'],1,117d5ef7be1e0fb13da3358c5098a48758ca832f,fix-centos7-job-stable/wallaby,"# Upgrade setuptools package for openSuse and in virtualenvs using Python 2.x # NOTE(rpittau): if we want to keep compatibility with Python 2.x, we need to # upgrade setuptools in the virtualenv as the default installed has issues # when parsing requirements. if [ ""$DISTRO_NAME"" == ""opensuse"" ] || [ $IPA_PYTHON_VERSION == 2 ]; then","# Upgrade setuptools package for openSuse if [ ""$DISTRO_NAME"" == ""opensuse"" ]; then",5,2
openstack%2Fkayobe~stable%2Fussuri~Iaf0dfb34750ba8b8d74a043587a2035b511de6ad,openstack/kayobe,stable/ussuri,Iaf0dfb34750ba8b8d74a043587a2035b511de6ad,Sync the names and content of the repo-files for CentOS8,MERGED,2021-05-07 14:01:24.000000000,2021-05-11 11:32:40.000000000,2021-05-11 11:31:15.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 16198}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-05-07 14:01:24.000000000', 'files': ['ansible/roles/dnf/templates/CentOS-Base.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-BaseOS.repo.j2', 'ansible/roles/dnf/tasks/local-mirror.yml', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'ansible/roles/dnf/templates/CentOS-Extras.repo.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9fdecebeff8cba152f5aa82008bd58d02875004d', 'message': 'Sync the names and content of the repo-files for CentOS8\n\nSince 8.3.2011 release of CentOS the repo-files renamed and the content\nis slightly changed. This change sync the templates used in role with\nupstream changes.\n\nChange-Id: Iaf0dfb34750ba8b8d74a043587a2035b511de6ad\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit cdcb90809a2429c6e57d80a2f93fc9b6b218590c)\n'}]",0,790247,9fdecebeff8cba152f5aa82008bd58d02875004d,35,7,1,14200,,,0,"Sync the names and content of the repo-files for CentOS8

Since 8.3.2011 release of CentOS the repo-files renamed and the content
is slightly changed. This change sync the templates used in role with
upstream changes.

Change-Id: Iaf0dfb34750ba8b8d74a043587a2035b511de6ad
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit cdcb90809a2429c6e57d80a2f93fc9b6b218590c)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/47/790247/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/dnf/templates/CentOS-Base.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-BaseOS.repo.j2', 'ansible/roles/dnf/tasks/local-mirror.yml', 'ansible/roles/dnf/templates/CentOS-Extras.repo.j2', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py']",8,9fdecebeff8cba152f5aa82008bd58d02875004d,dnf-centos-repos,"@pytest.mark.parametrize('repo', [""appstream"", ""baseos"", ""extras"", ""epel"",","@pytest.mark.parametrize('repo', [""AppStream"", ""BaseOS"", ""Extras"", ""epel"",",62,59
openstack%2Fmagnum-ui~master~I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3,openstack/magnum-ui,master,I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3,Add overlay2 to Docker storage driver dropdown,MERGED,2021-04-22 13:15:46.000000000,2021-05-11 11:04:26.000000000,2021-05-11 11:03:16.000000000,"[{'_account_id': 6484}, {'_account_id': 16352}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2021-04-22 13:15:46.000000000', 'files': ['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js'], 'web_link': 'https://opendev.org/openstack/magnum-ui/commit/565614ff35deb9e7316299c812782aa7dcf3b57b', 'message': 'Add overlay2 to Docker storage driver dropdown\n\nChange-Id: I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3\n'}]",1,787555,565614ff35deb9e7316299c812782aa7dcf3b57b,10,5,1,16137,,,0,"Add overlay2 to Docker storage driver dropdown

Change-Id: I382a56ddf4ecf7e76b1a0ecb4446754c1ceecce3
",git fetch https://review.opendev.org/openstack/magnum-ui refs/changes/55/787555/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum_ui/static/dashboard/container-infra/cluster-templates/workflow/workflow.service.js'],1,565614ff35deb9e7316299c812782aa7dcf3b57b,," {value: ""overlay"", name: gettext(""Overlay"")}, {value: ""overlay2"", name: gettext(""Overlay2"")}"," {value: ""overlay"", name: gettext(""Overlay"")}",2,1
openstack%2Frequirements~master~I1aa27771e6495c38fa1dd29fc29993730a37cc44,openstack/requirements,master,I1aa27771e6495c38fa1dd29fc29993730a37cc44,Updated from generate-constraints,MERGED,2021-01-29 06:22:03.000000000,2021-05-11 10:49:05.000000000,2021-02-01 01:52:02.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-29 06:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8095effb79951e02ac9e5aae36ffd77148a1c766', 'message': 'Updated from generate-constraints\n\nChange-Id: I1aa27771e6495c38fa1dd29fc29993730a37cc44\n'}, {'number': 2, 'created': '2021-01-30 06:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/84b6c7ec1e8ddb1e1dba7c9d9101fc87a31a05b7', 'message': 'Updated from generate-constraints\n\nChange-Id: I1aa27771e6495c38fa1dd29fc29993730a37cc44\n'}, {'number': 3, 'created': '2021-01-31 06:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/700b747af0ce505db61e817bb5b4529d9f6b505a', 'message': 'Updated from generate-constraints\n\nChange-Id: I1aa27771e6495c38fa1dd29fc29993730a37cc44\n'}, {'number': 4, 'created': '2021-01-31 19:55:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0c2f0a59fc421a7ef42fe29f7730815bda1b9e3b', 'message': 'Updated from generate-constraints\n\nChange-Id: I1aa27771e6495c38fa1dd29fc29993730a37cc44\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",1,772975,0c2f0a59fc421a7ef42fe29f7730815bda1b9e3b,24,2,4,11131,,,0,"Updated from generate-constraints

Change-Id: I1aa27771e6495c38fa1dd29fc29993730a37cc44
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/75/772975/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8095effb79951e02ac9e5aae36ffd77148a1c766,openstack/requirements/constraints/noclob,mock===4.0.3httpcore===0.12.3amqp===5.0.5boto3===1.16.62construct===2.10.58botocore===1.19.62pyzmq===22.0.0oslo.db===8.5.0pkg-resources===0.0.0execnet===1.8.0fasteners===0.16virtualenv===20.4.0,mock===3.0.5httpcore===0.12.2amqp===5.0.3boto3===1.16.60construct===2.10.57botocore===1.19.60pyzmq===21.0.2oslo.db===8.4.0execnet===1.7.1fasteners===0.14.1virtualenv===20.2.1setuptools===52.0.0,12,12
openstack%2Fkolla-ansible~master~I1ba60fa51ecc86c74d05898b897d7b84c70707ef,openstack/kolla-ansible,master,I1ba60fa51ecc86c74d05898b897d7b84c70707ef,cleanup no longer needed task for cinder,MERGED,2021-05-10 11:38:46.000000000,2021-05-11 10:41:04.000000000,2021-05-11 10:37:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-10 11:38:46.000000000', 'files': ['ansible/roles/cinder/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f94c7beab164a021381b77c251f85f19dd5e71bb', 'message': ""cleanup no longer needed task for cinder\n\nwe don't need this task anymore.\n\nChange-Id: I1ba60fa51ecc86c74d05898b897d7b84c70707ef\n""}]",0,790422,f94c7beab164a021381b77c251f85f19dd5e71bb,9,3,1,26285,,,0,"cleanup no longer needed task for cinder

we don't need this task anymore.

Change-Id: I1ba60fa51ecc86c74d05898b897d7b84c70707ef
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/790422/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/tasks/upgrade.yml'],1,f94c7beab164a021381b77c251f85f19dd5e71bb,cleanup-task,," # TODO(wuchunyang): Remove this task in 'X' cycle. - name: Remove Cinder v2 service become: true kolla_toolbox: module_name: ""os_keystone_service"" module_args: name: ""cinderv2"" service_type: ""volumev2"" description: ""Openstack Block Storage"" region_name: ""{{ openstack_region_name }}"" auth: ""{{ openstack_auth }}"" interface: ""{{ openstack_interface }}"" cacert: ""{{ openstack_cacert }}"" state: ""absent"" run_once: True",0,16
openstack%2Fkolla-ansible~stable%2Fwallaby~I2f832d73138b4c9f29e3c71e2463293eab71483a,openstack/kolla-ansible,stable/wallaby,I2f832d73138b4c9f29e3c71e2463293eab71483a,"Fix ""Restart mariadb-clustercheck container"" during config gen",MERGED,2021-05-11 07:47:57.000000000,2021-05-11 10:39:51.000000000,2021-05-11 10:38:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 07:47:57.000000000', 'files': ['ansible/roles/mariadb/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cb38206dcbc29cf36a382d830b52943c0345a00c', 'message': 'Fix ""Restart mariadb-clustercheck container"" during config gen\n\nThe handler was firing even when we were only generating config.\nThis is an issue because the services may not have been deployed.\n\nTrivialFix\n\nChange-Id: I2f832d73138b4c9f29e3c71e2463293eab71483a\n(cherry picked from commit ce012bcb09595c941462fc7a2903df1373d677c3)\n'}]",0,790559,cb38206dcbc29cf36a382d830b52943c0345a00c,10,4,1,30491,,,0,"Fix ""Restart mariadb-clustercheck container"" during config gen

The handler was firing even when we were only generating config.
This is an issue because the services may not have been deployed.

TrivialFix

Change-Id: I2f832d73138b4c9f29e3c71e2463293eab71483a
(cherry picked from commit ce012bcb09595c941462fc7a2903df1373d677c3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/790559/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/handlers/main.yml'],1,cb38206dcbc29cf36a382d830b52943c0345a00c,," when: - kolla_action != ""config""",,2,0
openstack%2Fkolla-ansible~master~Ibb67811d7b086ef9ef4c695ae589171af0c4d657,openstack/kolla-ansible,master,Ibb67811d7b086ef9ef4c695ae589171af0c4d657,Use @type instead of type,MERGED,2021-05-10 14:58:20.000000000,2021-05-11 10:39:49.000000000,2021-05-11 10:37:34.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-10 14:58:20.000000000', 'files': ['ansible/roles/common/templates/conf/output/00-local.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe66477475cd19884ee355561f31a3f001c610e9', 'message': 'Use @type instead of type\n\nThis is a follow up on the change with the following ID:\n\nI337f42e174393f68b43e876ef075a74c887a5314\n\nTrivialFix\n\nChange-Id: Ibb67811d7b086ef9ef4c695ae589171af0c4d657\n'}]",0,790470,fe66477475cd19884ee355561f31a3f001c610e9,9,3,1,28048,,,0,"Use @type instead of type

This is a follow up on the change with the following ID:

I337f42e174393f68b43e876ef075a74c887a5314

TrivialFix

Change-Id: Ibb67811d7b086ef9ef4c695ae589171af0c4d657
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/70/790470/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/common/templates/conf/output/00-local.conf.j2'],1,fe66477475cd19884ee355561f31a3f001c610e9,, @type elasticsearch @type elasticsearch, type elasticsearch type elasticsearch,2,2
openstack%2Fkolla-ansible~stable%2Ftrain~Ic1ac8656f28c3835e091637014f075ac5479d390,openstack/kolla-ansible,stable/train,Ic1ac8656f28c3835e091637014f075ac5479d390,Negative seqno need to be considered when comparing seqno,MERGED,2021-05-10 17:04:57.000000000,2021-05-11 10:39:47.000000000,2021-05-11 10:37:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-10 17:04:57.000000000', 'files': ['ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f3268ac5d8228527387ce401bd2f7acdceb99f52', 'message': ""Negative seqno need to be considered when comparing seqno\n\nNeed to consider Negative seqno to compare in some cases,\nbut the task does not support to do that, we need to make it work.\n\n1.we use mariabackup to restore datas on control1, delete the\nmariadb data on control2 and control3, and then use cluster recovery,\n as a result that the seqno of the other two nodes will be '-1'.\n\n2. add one more control node into our existing mariadb cluster,\nand then use cluster recovery, the seqno of the new node will be '-1'.\n\nChange-Id: Ic1ac8656f28c3835e091637014f075ac5479d390\n(cherry picked from commit 068f3fea50d17c63ac527b84a7a3d39c6f6cb5e2)\n""}]",0,790445,f3268ac5d8228527387ce401bd2f7acdceb99f52,10,3,1,30491,,,0,"Negative seqno need to be considered when comparing seqno

Need to consider Negative seqno to compare in some cases,
but the task does not support to do that, we need to make it work.

1.we use mariabackup to restore datas on control1, delete the
mariadb data on control2 and control3, and then use cluster recovery,
 as a result that the seqno of the other two nodes will be '-1'.

2. add one more control node into our existing mariadb cluster,
and then use cluster recovery, the seqno of the new node will be '-1'.

Change-Id: Ic1ac8656f28c3835e091637014f075ac5479d390
(cherry picked from commit 068f3fea50d17c63ac527b84a7a3d39c6f6cb5e2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/790445/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/tasks/recover_cluster.yml'],1,f3268ac5d8228527387ce401bd2f7acdceb99f52,, {{ hostvars[inventory_hostname]['seqno'] }} =~ ^-?[0-9]+$ && {{ hostvars[item]['seqno'] }} =~ ^-?[0-9]+$ &&, {{ hostvars[inventory_hostname]['seqno'] }} =~ ^[0-9]+$ && {{ hostvars[item]['seqno'] }} =~ ^[0-9]+$ &&,1,1
openstack%2Fopenstack-helm~master~Iec07b3b447051726ce218e5f31c8bf583731a90c,openstack/openstack-helm,master,Iec07b3b447051726ce218e5f31c8bf583731a90c,"Implement ""CSRF_COOKIE_HTTPONLY"" option support in horizon",MERGED,2021-04-06 16:50:29.000000000,2021-05-11 10:37:19.000000000,2021-04-10 09:28:48.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30449}, {'_account_id': 30746}]","[{'number': 1, 'created': '2021-04-06 16:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1675552fb562189801df420d087ff61d5ea87e60', 'message': '[DNM] csrf_cookie_httponly testing\n\nChange-Id: Iec07b3b447051726ce218e5f31c8bf583731a90c\n'}, {'number': 2, 'created': '2021-04-07 09:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/86ba9def0417246ee1f14da8a625a4b98a1be30b', 'message': '[DNM] csrf_cookie_httponly testing\n\nChange-Id: Iec07b3b447051726ce218e5f31c8bf583731a90c\n'}, {'number': 3, 'created': '2021-04-08 17:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e26b9b58a611a742f6b85e3b69acc8572eea344f', 'message': 'Implement ""CSRF_COOKIE_HTTPONLY"" option support in horizon\n\nThe HTTP only flag protects the session cookies from\ncross-site scripting. \n\nChange-Id: Iec07b3b447051726ce218e5f31c8bf583731a90c\n'}, {'number': 4, 'created': '2021-04-09 14:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/64742723d55fff4e458e08563831746d2e1bc4b2', 'message': 'Implement ""CSRF_COOKIE_HTTPONLY"" option support in horizon\n\nThe HTTP only flag protects the session cookies from\ncross-site scripting.\n\nChange-Id: Iec07b3b447051726ce218e5f31c8bf583731a90c\n'}, {'number': 5, 'created': '2021-04-09 15:51:56.000000000', 'files': ['horizon/values_overrides/tls.yaml', 'horizon/Chart.yaml', 'releasenotes/notes/horizon.yaml', 'horizon/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/64cf176bef8317e295a6278308ac4e4f469cceaa', 'message': 'Implement ""CSRF_COOKIE_HTTPONLY"" option support in horizon\n\nThe HTTP only flag protects the session cookies from\ncross-site scripting.\n\nChange-Id: Iec07b3b447051726ce218e5f31c8bf583731a90c\n'}]",7,785015,64cf176bef8317e295a6278308ac4e4f469cceaa,24,5,5,31479,,,0,"Implement ""CSRF_COOKIE_HTTPONLY"" option support in horizon

The HTTP only flag protects the session cookies from
cross-site scripting.

Change-Id: Iec07b3b447051726ce218e5f31c8bf583731a90c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/785015/3 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/values_overrides/tls.yaml', 'horizon/values.yaml']",2,1675552fb562189801df420d087ff61d5ea87e60,," csrf_cookie_httponly: ""False"" CSRF_COOKIE_HTTPONLY = {{ .Values.conf.horizon.local_settings.config.csrf_cookie_httponly }}",,3,0
openstack%2Fkuryr-libnetwork~master~Ief784b30ea4786b283f38b85950b7788592f67e8,openstack/kuryr-libnetwork,master,Ief784b30ea4786b283f38b85950b7788592f67e8,Dropping lower constraints testing,NEW,2021-05-02 02:29:03.000000000,2021-05-11 10:35:12.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-02 02:29:03.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/53087dde7a221137987a4422feb3a6d6c47023ae', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Ief784b30ea4786b283f38b85950b7788592f67e8\n'}]",0,789076,53087dde7a221137987a4422feb3a6d6c47023ae,4,3,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Ief784b30ea4786b283f38b85950b7788592f67e8
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/76/789076/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,53087dde7a221137987a4422feb3a6d6c47023ae,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,129
openstack%2Fvenus-tempest-plugin~master~I2199bf6d2e1321b6d9a78a051443e3db6d1e03dd,openstack/venus-tempest-plugin,master,I2199bf6d2e1321b6d9a78a051443e3db6d1e03dd,setup.cfg: Replace dashes with underscores,MERGED,2021-05-11 07:37:57.000000000,2021-05-11 10:29:54.000000000,2021-05-11 10:29:54.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-05-11 07:37:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus-tempest-plugin/commit/9beb8e5d461463a7a99bc1ac0c0faf32d4cd8ce2', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I2199bf6d2e1321b6d9a78a051443e3db6d1e03dd\n""}]",0,790583,9beb8e5d461463a7a99bc1ac0c0faf32d4cd8ce2,6,2,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I2199bf6d2e1321b6d9a78a051443e3db6d1e03dd
",git fetch https://review.opendev.org/openstack/venus-tempest-plugin refs/changes/83/790583/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9beb8e5d461463a7a99bc1ac0c0faf32d4cd8ce2,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/ python-requires = >=3.6,4,4
openstack%2Fvenus-specs~master~I2293a9f4d99a3ba1ea960629f8567470148f8c57,openstack/venus-specs,master,I2293a9f4d99a3ba1ea960629f8567470148f8c57,setup.cfg: Replace dashes with underscores,MERGED,2021-05-07 12:22:23.000000000,2021-05-11 10:29:37.000000000,2021-05-11 10:29:37.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-05-07 12:22:23.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus-specs/commit/903acda79f9e34640b694893fc5eb0bca347ce65', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I2293a9f4d99a3ba1ea960629f8567470148f8c57\n""}]",0,790232,903acda79f9e34640b694893fc5eb0bca347ce65,6,2,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I2293a9f4d99a3ba1ea960629f8567470148f8c57
",git fetch https://review.opendev.org/openstack/venus-specs refs/changes/32/790232/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,903acda79f9e34640b694893fc5eb0bca347ce65,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/venus-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/venus-specs/,3,3
openstack%2Fopenstack-tempest-skiplist~master~I6fd70dc1c9838b773266e18c597de72e97d4a946,openstack/openstack-tempest-skiplist,master,I6fd70dc1c9838b773266e18c597de72e97d4a946,Skip test_shelve_unshelve_server in train,MERGED,2021-05-07 11:19:18.000000000,2021-05-11 10:29:15.000000000,2021-05-07 15:54:51.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-07 11:19:18.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/a98c81ef6756c44f0842a6078a770922cf826248', 'message': 'Skip test_shelve_unshelve_server in train\n\nIssue[1] is affecting 16.2 related BZ details missing backports,\nSkipping this on train(while issue is worked upon) as there is no\neasy way to skip on 16.2 only.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1953098\n\nChange-Id: I6fd70dc1c9838b773266e18c597de72e97d4a946\n'}]",0,790222,a98c81ef6756c44f0842a6078a770922cf826248,11,3,1,29775,,,0,"Skip test_shelve_unshelve_server in train

Issue[1] is affecting 16.2 related BZ details missing backports,
Skipping this on train(while issue is worked upon) as there is no
easy way to skip on 16.2 only.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1953098

Change-Id: I6fd70dc1c9838b773266e18c597de72e97d4a946
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/22/790222/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,a98c81ef6756c44f0842a6078a770922cf826248,, - name: 'train' reason: 'Failing OVB and API tests' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1953098',,3,0
openstack%2Fos-client-config~master~I254d8459ef87845859c2da2635530029f24d19cf,openstack/os-client-config,master,I254d8459ef87845859c2da2635530029f24d19cf,Replace assertItemsEqual with assertCountEqual,NEW,2020-11-10 11:37:14.000000000,2021-05-11 10:12:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-11-10 11:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/698157de97ad330ca0eecf69840be2d14884e0fe', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I254d8459ef87845859c2da2635530029f24d19cf\n""}, {'number': 2, 'created': '2020-11-27 03:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/17651d0da85b8e0521f2feda352ebe9e99d0701e', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I254d8459ef87845859c2da2635530029f24d19cf\n""}, {'number': 3, 'created': '2020-11-27 05:37:44.000000000', 'files': ['os_client_config/tests/test_config.py', 'os_client_config/tests/test_cloud_config.py'], 'web_link': 'https://opendev.org/openstack/os-client-config/commit/a475276a05baf2751edf7dc12a1add5b24dfb0cd', 'message': ""Replace assertItemsEqual with assertCountEqual\n\nassertItemsEqual was removed from Python's unittest.TestCase in\nPython 3.3 [1][2]. We have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I254d8459ef87845859c2da2635530029f24d19cf\n""}]",0,762119,a475276a05baf2751edf7dc12a1add5b24dfb0cd,10,2,3,32029,,,0,"Replace assertItemsEqual with assertCountEqual

assertItemsEqual was removed from Python's unittest.TestCase in
Python 3.3 [1][2]. We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I254d8459ef87845859c2da2635530029f24d19cf
",git fetch https://review.opendev.org/openstack/os-client-config refs/changes/19/762119/2 && git format-patch -1 --stdout FETCH_HEAD,['os_client_config/tests/test_config.py'],1,698157de97ad330ca0eecf69840be2d14884e0fe,assertItemsEqual," self.assertCountEqual(user_clouds, configured_clouds)"," self.assertItemsEqual(user_clouds, configured_clouds)",1,1
openstack%2Fansible-role-pki~master~Ie6f52fb824d1b11a85a5dbd020fee41af6d16d1d,openstack/ansible-role-pki,master,Ie6f52fb824d1b11a85a5dbd020fee41af6d16d1d,WIP - Experiment with molecule testing,NEW,2021-05-11 08:43:15.000000000,2021-05-11 10:03:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-11 08:43:15.000000000', 'files': ['molecule/default/vars/managed_ca.yml', 'molecule/default/vars/external_ca.yml', 'molecule/default/verify.yml', 'molecule/default/roots/ExampleCorpIntermediate/csr/ca_csr-1000.csr', 'molecule/default/roots/ExampleCorpIntermediate/certs/ExampleCorpIntermediate-1000.crt.info', 'molecule/default/roots/ExampleCorpRoot/certs/ExampleCorpRoot.crt', 'requirements.txt', 'molecule/default/roots/ExampleCorpRoot/private/ExampleCorpRoot.key.pem', 'molecule/default/roots/ExampleCorpIntermediate/certs/ExampleCorpIntermediate.crt', 'molecule/default/roots/ExampleCorpIntermediate/private/ExampleCorpIntermediate.key.pem', 'molecule/default/molecule.yml', 'molecule/default/roots/ExampleCorpRoot/csr/ca_csr-1000.csr', 'molecule/default/roots/ExampleCorpIntermediate/serial', 'molecule/default/roots/ExampleCorpRoot/serial'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/3b9fdcc5fa0f3faa51fef88420935b50d6ebe79e', 'message': 'WIP - Experiment with molecule testing\n\nChange-Id: Ie6f52fb824d1b11a85a5dbd020fee41af6d16d1d\n'}]",0,790594,3b9fdcc5fa0f3faa51fef88420935b50d6ebe79e,3,2,1,31542,,,0,"WIP - Experiment with molecule testing

Change-Id: Ie6f52fb824d1b11a85a5dbd020fee41af6d16d1d
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/94/790594/1 && git format-patch -1 --stdout FETCH_HEAD,"['molecule/default/vars/managed_ca.yml', 'molecule/default/vars/external_ca.yml', 'molecule/default/verify.yml', 'molecule/default/roots/ExampleCorpIntermediate/csr/ca_csr-1000.csr', 'molecule/default/roots/ExampleCorpIntermediate/certs/ExampleCorpIntermediate-1000.crt.info', 'molecule/default/roots/ExampleCorpRoot/certs/ExampleCorpRoot.crt', 'requirements.txt', 'molecule/default/roots/ExampleCorpRoot/private/ExampleCorpRoot.key.pem', 'molecule/default/roots/ExampleCorpIntermediate/certs/ExampleCorpIntermediate.crt', 'molecule/default/roots/ExampleCorpIntermediate/private/ExampleCorpIntermediate.key.pem', 'molecule/default/molecule.yml', 'molecule/default/roots/ExampleCorpRoot/csr/ca_csr-1000.csr', 'molecule/default/roots/ExampleCorpIntermediate/serial', 'molecule/default/roots/ExampleCorpRoot/serial']",14,3b9fdcc5fa0f3faa51fef88420935b50d6ebe79e,osa/pki,1000,,476,0
openstack%2Fopenstacksdk~master~I2fac79a9c5260405f4602583efce7a4d61af5ed2,openstack/openstacksdk,master,I2fac79a9c5260405f4602583efce7a4d61af5ed2,Adjust image _base_proxy condition,MERGED,2021-04-29 13:32:36.000000000,2021-05-11 09:56:25.000000000,2021-05-11 09:54:07.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-29 13:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4025056758f907d1fba206660a8499078c2d3796', 'message': 'Adjust image _base_proxy condition\n\nIt makes no sense in running get_image when image is None. Intended\nbehaviour here would be recieving image object, when we were provided\nwith name or id\n\nChange-Id: I2fac79a9c5260405f4602583efce7a4d61af5ed2\n'}, {'number': 2, 'created': '2021-05-04 15:12:02.000000000', 'files': ['openstack/image/_base_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/722669d05a081e441394461551fed2380e6cf08b', 'message': 'Adjust image _base_proxy condition\n\nIt makes no sense in running get_image when image is None. Intended\nbehaviour here would be recieving image object, when we were provided\nwith name or id\n\nChange-Id: I2fac79a9c5260405f4602583efce7a4d61af5ed2\n'}]",2,788739,722669d05a081e441394461551fed2380e6cf08b,16,3,2,28619,,,0,"Adjust image _base_proxy condition

It makes no sense in running get_image when image is None. Intended
behaviour here would be recieving image object, when we were provided
with name or id

Change-Id: I2fac79a9c5260405f4602583efce7a4d61af5ed2
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/39/788739/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/image/_base_proxy.py'],1,4025056758f907d1fba206660a8499078c2d3796,," if image is isinstance(image, str):", if image is None:,1,1
openstack%2Fironic-python-agent~master~I33a83968c9f87cf795ec7ec922bce98b52c5181c,openstack/ironic-python-agent,master,I33a83968c9f87cf795ec7ec922bce98b52c5181c,Burn-in: Add memory step,MERGED,2021-04-30 12:25:36.000000000,2021-05-11 09:40:25.000000000,2021-05-11 09:31:54.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 12:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0c74b0d39364839ef5e9979ed5e7a2a5515c3763', 'message': ""Burn-in: Add memory step\n\nAdd a clean step for memory burn-in via stress-ng. Get basic\nrun parameters from the node's driver_info.\n\nStory: #2007523\nTask: #42383\n\nChange-Id: I33a83968c9f87cf795ec7ec922bce98b52c5181c\n""}, {'number': 2, 'created': '2021-05-01 08:47:17.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/burnin.py', 'releasenotes/notes/add_burnin_memory-4099ca42bd3b99db.yaml', 'doc/source/admin/hardware_managers.rst', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_burnin.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/5c222560f07fff9478b063d401f4415e1139f496', 'message': ""Burn-in: Add memory step\n\nAdd a clean step for memory burn-in via stress-ng. Get basic\nrun parameters from the node's driver_info.\n\nStory: #2007523\nTask: #42383\n\nChange-Id: I33a83968c9f87cf795ec7ec922bce98b52c5181c\n""}]",3,788941,5c222560f07fff9478b063d401f4415e1139f496,13,3,2,11292,,,0,"Burn-in: Add memory step

Add a clean step for memory burn-in via stress-ng. Get basic
run parameters from the node's driver_info.

Story: #2007523
Task: #42383

Change-Id: I33a83968c9f87cf795ec7ec922bce98b52c5181c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/41/788941/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/burnin.py', 'doc/source/admin/hardware_managers.rst', 'releasenotes/notes/add_burnin_memory-4099ca42bd3b99db.yaml', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_burnin.py']",6,0c74b0d39364839ef5e9979ed5e7a2a5515c3763,story_2007523," @mock.patch.object(utils, 'execute', autospec=True) def test_stress_ng_vm_default(self, mock_execute): node = {'driver_info': {}} mock_execute.return_value = (['out', 'err']) burnin.stress_ng_vm(node) mock_execute.assert_called_once_with( 'stress-ng', '--vm', 0, '--vm-bytes', '98%', '--timeout', 86400, '--metrics-brief') @mock.patch.object(utils, 'execute', autospec=True) def test_stress_ng_vm_non_default(self, mock_execute): node = {'driver_info': {'agent_burnin_vm_vm': 2, 'agent_burnin_vm_vm-bytes': '25%', 'agent_burnin_vm_timeout': 120}} mock_execute.return_value = (['out', 'err']) burnin.stress_ng_vm(node) mock_execute.assert_called_once_with( 'stress-ng', '--vm', 2, '--vm-bytes', '25%', '--timeout', 120, '--metrics-brief') @mock.patch.object(utils, 'execute', autospec=True) def test_stress_ng_vm_no_stress_ng(self, mock_execute): node = {'driver_info': {}} mock_execute.side_effect = (['out', 'err'], processutils.ProcessExecutionError()) burnin.stress_ng_vm(node) self.assertRaises(processutils.ProcessExecutionError, burnin.stress_ng_vm, node)",,99,0
openstack%2Fpuppet-octavia~stable%2Fwallaby~I38bb6932d280433174ea2139090f770cffba6fbc,openstack/puppet-octavia,stable/wallaby,I38bb6932d280433174ea2139090f770cffba6fbc,Fix a typo in parameter description,MERGED,2021-05-11 05:50:44.000000000,2021-05-11 09:39:52.000000000,2021-05-11 09:39:52.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-11 05:50:44.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/de98237632b52c6f0d998c300b8bb9d9cd35cd8f', 'message': 'Fix a typo in parameter description\n\nChange-Id: I38bb6932d280433174ea2139090f770cffba6fbc\n(cherry picked from commit 3c37baefdc75efb708dfa8d4f46a9c699503104a)\n'}]",0,790557,de98237632b52c6f0d998c300b8bb9d9cd35cd8f,6,4,1,9816,,,0,"Fix a typo in parameter description

Change-Id: I38bb6932d280433174ea2139090f770cffba6fbc
(cherry picked from commit 3c37baefdc75efb708dfa8d4f46a9c699503104a)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/57/790557/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,de98237632b52c6f0d998c300b8bb9d9cd35cd8f,typo-stable/wallaby,# (optional) Enable the oslo middleware healthcheck endpoint.,# (optional) Enable the oslo middleware healthcheck endppint.,1,1
openstack%2Fironic~master~I04be5a5a8fa962bafa68f0ea93ee127b1610c20f,openstack/ironic,master,I04be5a5a8fa962bafa68f0ea93ee127b1610c20f,[doc] Update documentation about force_persistent_boot_device,MERGED,2021-05-10 17:25:46.000000000,2021-05-11 09:39:00.000000000,2021-05-11 09:32:07.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-10 17:25:46.000000000', 'files': ['doc/source/admin/interfaces/boot.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/754f15c92dbd0e29e5960b92231141dd417f445f', 'message': '[doc] Update documentation about force_persistent_boot_device\n\nApparently, this was missed when the new options were introduced.\n\nStory: #2004846\n\nChange-Id: I04be5a5a8fa962bafa68f0ea93ee127b1610c20f\n'}]",0,790501,754f15c92dbd0e29e5960b92231141dd417f445f,9,3,1,11292,,,0,"[doc] Update documentation about force_persistent_boot_device

Apparently, this was missed when the new options were introduced.

Story: #2004846

Change-Id: I04be5a5a8fa962bafa68f0ea93ee127b1610c20f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/790501/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/interfaces/boot.rst'],1,754f15c92dbd0e29e5960b92231141dd417f445f,doc_boot_dev,"For (i)PXE booting, Ironic uses non-persistent boot order changes for clean/deploy by default. For some drivers, persistent changes are far more costly than non-persisent ones, so this approach can bring a performance benefit. In order to control this behavior, however, Ironic provides the ``force_persistent_boot_device`` flag in the node's ``driver_info``. It allows the values ``Default`` (make all changes but the last one upon deployment non-persistent), ``Always`` (make all changes persistent), and ``Never`` (make all boot order changes non-persistent). For example in order to have only persistent changes one would need to set something like:: $ openstack baremetal node set --driver-info force_persistent_boot_device='Always' <node> It is recommended to check if the node's state has not changed as there.. note:: The values 'True'/'False' for the option 'force_persistent_boot_device' in the node's driver info for the (i)PXE drivers are deprecated and support for them may be removed in a future release. The former default value 'False' is replaced by the new value 'Default', the value 'True' is replaced by 'Always'.","Ironic uses non-persistent boot for cleaning/deploying phases as default. For some drivers, a persistent change is far more costly than a non-persistent one, so this can bring performance improvements. Set the flag ``force_persistent_boot_device`` to ``True`` in the node's ``driver_info``:: $ baremetal node set --driver-info force_persistent_boot_device=True <node> It's recommended to check if the node's state has not changed as thereOnce the flag is present, the next cleaning and deploy steps will be done with persistent boot for that node.",19,9
openstack%2Fironic-prometheus-exporter~stable%2Fvictoria~I6b2f93d3448e4d1af254ff75e49787e82ee78763,openstack/ironic-prometheus-exporter,stable/victoria,I6b2f93d3448e4d1af254ff75e49787e82ee78763,Point ipa-builder to stable/wallaby,MERGED,2021-05-10 14:13:23.000000000,2021-05-11 09:38:46.000000000,2021-05-11 09:32:46.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 14:13:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-prometheus-exporter/commit/f2ca86aa71a7eaf3d699d6cdc521d8cb6f178bed', 'message': ""Point ipa-builder to stable/wallaby\n\nSince ironic-python-agent-bulder has stable branches starting from\nwallaby, we need to point all the older branches to stable/wallaby,\nunless they're already pinned to an older version.\n\nChange-Id: I6b2f93d3448e4d1af254ff75e49787e82ee78763\n""}]",0,790462,f2ca86aa71a7eaf3d699d6cdc521d8cb6f178bed,8,3,1,23851,,,0,"Point ipa-builder to stable/wallaby

Since ironic-python-agent-bulder has stable branches starting from
wallaby, we need to point all the older branches to stable/wallaby,
unless they're already pinned to an older version.

Change-Id: I6b2f93d3448e4d1af254ff75e49787e82ee78763
",git fetch https://review.opendev.org/openstack/ironic-prometheus-exporter refs/changes/62/790462/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f2ca86aa71a7eaf3d699d6cdc521d8cb6f178bed,ipa-builder-stable, - name: openstack/ironic-python-agent-builder override-checkout: stable/wallaby, - openstack/ironic-python-agent-builder,2,1
openstack%2Fironic-python-agent~master~I9078ef37f1e94382c645ae98ce724ac9ed87c287,openstack/ironic-python-agent,master,I9078ef37f1e94382c645ae98ce724ac9ed87c287,Software RAID: RAID the ESPs,MERGED,2021-04-16 12:42:30.000000000,2021-05-11 09:38:36.000000000,2021-05-11 09:31:36.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-16 12:42:30.000000000', 'files': ['releasenotes/notes/software-raid-raid-ESPs-25a2aa117b99620a.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/c2d04dc1566bb947d0e6afd040b82be55c925b11', 'message': 'Software RAID: RAID the ESPs\n\nFor software RAID in UEFI mode, we create ESPs on all holder disks\nand copy the bootloader there. Since there is no mechanism to keep\nthe ESPs in sync, e.g. on kernel upgrades or when kernel parameters\nare updated, the ESPs will get out of sync eventually. This may lead\nto a situation where a node boots with outdated parameters or does\nnot have any of the installed kernels in the boot menu anymore.\nThis change proposes to RAID the ESPs. While the UEFI firmware will\nfind an ESP partition (one leg of the mirror), the node will see\nan md device and all subsequent updates will go to all member disks.\n\nAlso, remove the source ESP after copying in order to avoid mount\nconfusion (same UUID!).\n\nStory: #2008745\nTask: #42103\nChange-Id: I9078ef37f1e94382c645ae98ce724ac9ed87c287\n'}]",0,786641,c2d04dc1566bb947d0e6afd040b82be55c925b11,9,4,1,11292,,,0,"Software RAID: RAID the ESPs

For software RAID in UEFI mode, we create ESPs on all holder disks
and copy the bootloader there. Since there is no mechanism to keep
the ESPs in sync, e.g. on kernel upgrades or when kernel parameters
are updated, the ESPs will get out of sync eventually. This may lead
to a situation where a node boots with outdated parameters or does
not have any of the installed kernels in the boot menu anymore.
This change proposes to RAID the ESPs. While the UEFI firmware will
find an ESP partition (one leg of the mirror), the node will see
an md device and all subsequent updates will go to all member disks.

Also, remove the source ESP after copying in order to avoid mount
confusion (same UUID!).

Story: #2008745
Task: #42103
Change-Id: I9078ef37f1e94382c645ae98ce724ac9ed87c287
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/41/786641/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/software-raid-raid-ESPs-25a2aa117b99620a.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",3,c2d04dc1566bb947d0e6afd040b82be55c925b11,upstream_story_2008745," Create either a RAIDed EFI partition or bios boot partitions for software RAID, according to both target boot mode and disk holders partition table types. :returns: the path to the ESP md device when target boot mode is uefi, nothing otherwise. efi_partitions = [] efi_partitions.append(target_part) # RAID the ESPs, metadata=1.0 is mandatory to be able to boot md_device = '/dev/md/esp' LOG.debug(""Creating md device {} for the ESPs on {}"".format( md_device, efi_partitions)) utils.execute('mdadm', '--create', md_device, '--force', '--run', '--metadata=1.0', '--level', '1', '--raid-devices', len(efi_partitions), *efi_partitions) if efi_part: # Blockdev copy the source ESP and erase it LOG.debug(""Relocating EFI %s to %s"", efi_part, md_device) utils.execute('cp', efi_part, md_device) LOG.debug(""Erasing EFI partition %s"", efi_part) utils.execute('wipefs', '-a', efi_part) else: fslabel = 'efi-part' ilib_utils.mkfs(fs='vfat', path=md_device, label=fslabel) return md_device efi_partition = None efi_partition = efi_part efi_partition = _prepare_boot_partitions_for_softraid( if efi_partition: efi_partition, efi_partition_mount_point) if efi_partition: LOG.warning(""GRUB2 will be installed for UEFI on efi partition "" ""Secure Boot signed binaries."", efi_partition) utils.execute('mount', efi_partition, efi_partition_mount_point) efi_mounted = True # FIXME(rg): does not work in cross boot mode case (target # boot mode differs from ramdisk one) # Probe for the correct target (depends on the arch, example # --target=x86_64-efi) utils.execute('chroot %(path)s /bin/sh -c ' '""%(bin)s-install""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={ 'PATH': path_variable }) # Also run grub-install with --removable, this installs grub to # the EFI fallback path. Useful if the NVRAM wasn't written # correctly, was reset or if testing with virt as libvirt # resets the NVRAM on instance start. # This operation is essentially a copy operation. Use of the # --removable flag, per the grub-install source code changes # the default file to be copied, destination file name, and # prevents NVRAM from being updated. # We only run grub2_install for uefi if we can't verify the # uefi bits utils.execute('chroot %(path)s /bin/sh -c ' '""%(bin)s-install --removable""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={ 'PATH': path_variable }) utils.execute('umount', efi_partition_mount_point, attempts=3, delay_on_retry=True) efi_mounted = False utils.execute('mount', efi_partition, efi_partition, :param efi_partition: The partitions upon wich to write the preserved assets to. efi_partition,def _preserve_efi_assets(path, efi_assets_folder, efi_partition, :param efi_partition: The partition upon which to write the perserved assets to. efi_partition. utils.execute('mount', '-t', 'vfat', efi_partition, efi_partition_mount_point) shutil.copytree(save_efi, efi_assets_folder) LOG.debug('Files preserved to %(disk)s for %(part)s. ' 'Files: %(filelist)s From: %(from)s', {'disk': efi_partition, 'part': efi_partition_mount_point, 'filelist': os.listdir(efi_assets_folder), 'from': save_efi}) utils.execute('umount', efi_partition_mount_point)"," Create either efi partitions or bios boot partitions for softraid, according to both target boot mode and disk holders partition table types. :returns: the efi partition paths on softraid disk holders when target boot mode is uefi, empty list otherwise. efi_partitions = [] if efi_part: LOG.debug(""Relocating EFI %s to holder part %s"", efi_part, target_part) # Blockdev copy utils.execute(""cp"", efi_part, target_part) else: # Creating a label is just to make life easier if number == 0: fslabel = 'efi-part' else: # bak, label is limited to 11 chars fslabel = 'efi-part-b' ilib_utils.mkfs(fs='vfat', path=target_part, label=fslabel) efi_partitions.append(target_part) # TBD: Would not hurt to destroy source efi part when defined, # for clarity. # Just an empty list if not uefi boot mode, nvm, not used anyway return efi_partitions efi_partitions = None efi_partitions = [efi_part] efi_partitions = _prepare_boot_partitions_for_softraid( if efi_partitions: efi_partitions, efi_partition_mount_point) if efi_partitions: LOG.warning(""GRUB2 will be installed for UEFI on efi partitions "" ""Secure Boot signed binaries."", efi_partitions) for efi_partition in efi_partitions: utils.execute( 'mount', efi_partition, efi_partition_mount_point) efi_mounted = True # FIXME(rg): does not work in cross boot mode case (target # boot mode differs from ramdisk one) # Probe for the correct target (depends on the arch, example # --target=x86_64-efi) utils.execute('chroot %(path)s /bin/sh -c ' '""%(bin)s-install""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={ 'PATH': path_variable }) # Also run grub-install with --removable, this installs grub to # the EFI fallback path. Useful if the NVRAM wasn't written # correctly, was reset or if testing with virt as libvirt # resets the NVRAM on instance start. # This operation is essentially a copy operation. Use of the # --removable flag, per the grub-install source code changes # the default file to be copied, destination file name, and # prevents NVRAM from being updated. # We only run grub2_install for uefi if we can't verify the # uefi bits utils.execute('chroot %(path)s /bin/sh -c ' '""%(bin)s-install --removable""' % {'path': path, 'bin': binary_name}, shell=True, env_variables={ 'PATH': path_variable }) utils.execute('umount', efi_partition_mount_point, attempts=3, delay_on_retry=True) efi_mounted = False utils.execute('mount', efi_partitions[0], efi_partitions, :param efi_partitions: The list of partitions upon wich to write the preserved assets to. efi_partitions,def _preserve_efi_assets(path, efi_assets_folder, efi_partitions, :param efi_partitions: The list of partitions upon which to write the perserved assets to. efi_partitions list. # Loop through partitions because software RAID. for efi_part in efi_partitions: utils.execute('mount', '-t', 'vfat', efi_part, efi_partition_mount_point) shutil.copytree(save_efi, efi_assets_folder) LOG.debug('Files preserved to %(disk)s for %(part)s. ' 'Files: %(filelist)s From: %(from)s', {'disk': efi_part, 'part': efi_partition_mount_point, 'filelist': os.listdir(efi_assets_folder), 'from': save_efi}) utils.execute('umount', efi_partition_mount_point)",124,126
openstack%2Fironic-inspector~stable%2Fvictoria~I396a45f8ce22ab1af33e3716bc4748e8ce8d3065,openstack/ironic-inspector,stable/victoria,I396a45f8ce22ab1af33e3716bc4748e8ce8d3065,Point ipa-builder to stable/wallaby,MERGED,2021-05-10 14:10:28.000000000,2021-05-11 09:38:25.000000000,2021-05-11 09:32:40.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 14:10:28.000000000', 'files': ['zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7ebc8fa6a5446cc52fd5c609115f6db661905838', 'message': ""Point ipa-builder to stable/wallaby\n\nSince ironic-python-agent-bulder has stable branches starting from\nwallaby, we need to point all the older branches to stable/wallaby,\nunless they're already pinned to an older version.\n\nChange-Id: I396a45f8ce22ab1af33e3716bc4748e8ce8d3065\n""}]",0,790461,7ebc8fa6a5446cc52fd5c609115f6db661905838,9,3,1,23851,,,0,"Point ipa-builder to stable/wallaby

Since ironic-python-agent-bulder has stable branches starting from
wallaby, we need to point all the older branches to stable/wallaby,
unless they're already pinned to an older version.

Change-Id: I396a45f8ce22ab1af33e3716bc4748e8ce8d3065
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/61/790461/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-inspector-jobs.yaml'],1,7ebc8fa6a5446cc52fd5c609115f6db661905838,ipa-builder-stable, - name: openstack/ironic-python-agent-builder override-checkout: stable/wallaby, - openstack/ironic-python-agent-builder,2,1
openstack%2Fpuppet-panko~master~Ifea35800fa55726be3dda34cc46658b36c21808f,openstack/puppet-panko,master,Ifea35800fa55726be3dda34cc46658b36c21808f,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-11 09:37:34.000000000,2021-05-11 09:38:01.000000000,,[],"[{'number': 1, 'created': '2021-05-11 09:37:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/93a0d91164819d8f7fc3600f59d74934819ba8d0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ifea35800fa55726be3dda34cc46658b36c21808f\n""}]",0,790623,93a0d91164819d8f7fc3600f59d74934819ba8d0,2,0,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ifea35800fa55726be3dda34cc46658b36c21808f
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/23/790623/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,93a0d91164819d8f7fc3600f59d74934819ba8d0,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-murano~master~If0ecaecf1a0accccf161256292831255efc37159,openstack/puppet-murano,master,If0ecaecf1a0accccf161256292831255efc37159,setup.cfg: Replace dashes with underscores,MERGED,2021-05-03 08:34:11.000000000,2021-05-11 09:33:34.000000000,2021-05-11 09:33:34.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 08:34:11.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/b26f87db1d80d34a290a621f7f6611f46418dad5', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: If0ecaecf1a0accccf161256292831255efc37159\n""}]",0,789156,b26f87db1d80d34a290a621f7f6611f46418dad5,8,3,1,31828,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: If0ecaecf1a0accccf161256292831255efc37159
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/56/789156/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b26f87db1d80d34a290a621f7f6611f46418dad5,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fpuppet-murano~master~I2de11755d8103f30d7189aae4f19ffe55fd99625,openstack/puppet-murano,master,I2de11755d8103f30d7189aae4f19ffe55fd99625,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-11 09:32:02.000000000,2021-05-11 09:32:50.000000000,,[],"[{'number': 1, 'created': '2021-05-11 09:32:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/fff67496fa6a4a09f5cfecce68122c2d2f643d52', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I2de11755d8103f30d7189aae4f19ffe55fd99625\n""}]",0,790616,fff67496fa6a4a09f5cfecce68122c2d2f643d52,2,0,1,9816,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I2de11755d8103f30d7189aae4f19ffe55fd99625
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/16/790616/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fff67496fa6a4a09f5cfecce68122c2d2f643d52,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fkayobe~stable%2Fussuri~I9df2f98772c143a9662fd5c123cc9f6d5410c5e5,openstack/kayobe,stable/ussuri,I9df2f98772c143a9662fd5c123cc9f6d5410c5e5,Remove unnecessary requirements from tox.ini,MERGED,2021-05-10 20:22:17.000000000,2021-05-11 09:28:42.000000000,2021-05-11 09:27:27.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-10 20:22:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/dc1f134895cd410d0c6c29f0d2ae3e9e33fb2467', 'message': 'Remove unnecessary requirements from tox.ini\n\nrequirements.txt is unnecessary when running `tox -e releasenotes` since\nrelease notes requirements are in doc/requirements.txt. This PS removes\nthe requirements.txt from tox.ini and reuses [docs] deps.\n\nSync from kolla-ansible and kolla.\n\nChange-Id: I9df2f98772c143a9662fd5c123cc9f6d5410c5e5\n(cherry picked from commit 9475050cc7227ecdb600139e832839686dfae2a2)\n'}]",0,790517,dc1f134895cd410d0c6c29f0d2ae3e9e33fb2467,10,6,1,15197,,,0,"Remove unnecessary requirements from tox.ini

requirements.txt is unnecessary when running `tox -e releasenotes` since
release notes requirements are in doc/requirements.txt. This PS removes
the requirements.txt from tox.ini and reuses [docs] deps.

Sync from kolla-ansible and kolla.

Change-Id: I9df2f98772c143a9662fd5c123cc9f6d5410c5e5
(cherry picked from commit 9475050cc7227ecdb600139e832839686dfae2a2)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/17/790517/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,dc1f134895cd410d0c6c29f0d2ae3e9e33fb2467,,deps = {[testenv:docs]deps}, -r{toxinidir}/requirements.txtdeps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -r{toxinidir}/requirements.txt -r{toxinidir}/doc/requirements.txt,1,5
openstack%2Fpuppet-vitrage~master~I9294d3535da992139bd858396b4b9b8788849687,openstack/puppet-vitrage,master,I9294d3535da992139bd858396b4b9b8788849687,setup.cfg: Replace dashes with underscores,MERGED,2021-05-04 07:49:20.000000000,2021-05-11 09:27:23.000000000,2021-05-11 09:27:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 07:49:20.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/d9415e4dc95c8fb38c6a1260c8dfa63fa9d09533', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I9294d3535da992139bd858396b4b9b8788849687\n""}]",0,789505,d9415e4dc95c8fb38c6a1260c8dfa63fa9d09533,8,3,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I9294d3535da992139bd858396b4b9b8788849687
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/05/789505/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d9415e4dc95c8fb38c6a1260c8dfa63fa9d09533,setup-cfg,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/puppet-openstack-guide/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/puppet-openstack-guide/latest,3,3
openstack%2Fansible-collections-openstack~master~I85ad4281906a6d4aec4dceb4e6fc985e8c60f1a8,openstack/ansible-collections-openstack,master,I85ad4281906a6d4aec4dceb4e6fc985e8c60f1a8,Configure only one tripleo job,MERGED,2021-05-10 22:04:55.000000000,2021-05-11 09:11:07.000000000,2021-05-11 09:11:07.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 22:04:55.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/ca6824bffecc13d70e36a2344e5cb9c7c8e58000', 'message': 'Configure only one tripleo job\n\nBecause we run only one job, no need to set content provider.\nChange-Id: I85ad4281906a6d4aec4dceb4e6fc985e8c60f1a8\n'}]",0,790523,ca6824bffecc13d70e36a2344e5cb9c7c8e58000,6,2,1,10969,,,0,"Configure only one tripleo job

Because we run only one job, no need to set content provider.
Change-Id: I85ad4281906a6d4aec4dceb4e6fc985e8c60f1a8
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/23/790523/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ca6824bffecc13d70e36a2344e5cb9c7c8e58000,newooo, name: tripleo-ci-centos-8-standalone-osa parent: tripleo-ci-centos-8-standalone vars: consumer_job: false build_container_images: true - tripleo-ci-centos-8-standalone-osa: # Set voting to true when TripleO CI is back voting: false dependencies: *deps_unit_lint - tripleo-ci-centos-8-standalone-osa, name: tripleo-ci-centos-8-content-provider-osa parent: tripleo-ci-centos-8-content-provider- job: name: tripleo-ci-centos-8-standalone-osa parent: tripleo-ci-centos-8-standalone files: *ooo_files vars: consumer_job: true build_container_images: false remove_tags: - build - tripleo-ci-centos-8-content-provider-osa: dependencies: *deps_unit_lint - tripleo-ci-centos-8-standalone-osa: dependencies: - tox-pep8 - openstack-tox-linters-ansible-2.9 - openstack-tox-linters-ansible-2.11 - tripleo-ci-centos-8-content-provider-osa - tripleo-ci-centos-8-content-provider-osa - tripleo-ci-centos-8-standalone-osa: dependencies: - tripleo-ci-centos-8-content-provider-osa ,9,24
openstack%2Fswift~master~I552d23ab60954ac32fe31e7f85e6d9e58fa25da3,openstack/swift,master,I552d23ab60954ac32fe31e7f85e6d9e58fa25da3,Quarantine stale EC fragments,ABANDONED,2021-04-13 17:43:41.000000000,2021-05-11 09:03:07.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-13 17:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/db6ab15605ecf4baafaa8e5879c0d52aa1f89f28', 'message': 'WIP: Quarantine solitary EC fragments\n\nCloses-Bug: 1655608\nChange-Id: I552d23ab60954ac32fe31e7f85e6d9e58fa25da3\n'}, {'number': 2, 'created': '2021-04-16 15:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/41915f14add2c1203acd1bbfcc136076e9924867', 'message': 'WIP: Quarantine stale EC fragments\n\nTODO:\n - add internal client call to check container listing\n - improve logs to detail what mix of bad responses we got\n - unit test mixed timestamps\n - add probe test\n\nCloses-Bug: 1655608\nChange-Id: I552d23ab60954ac32fe31e7f85e6d9e58fa25da3\n'}, {'number': 3, 'created': '2021-04-20 18:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0aa76dc493eca9e3763621ca27ae13b83cd6e437', 'message': 'WIP: Quarantine stale EC fragments\n\nTODO:\n- make number of handoffs configurable\n- unit test with mixed timestamps\n- add probe test\n\nCloses-Bug: 1655608\nChange-Id: I552d23ab60954ac32fe31e7f85e6d9e58fa25da3\n'}, {'number': 4, 'created': '2021-04-21 13:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/05d3963e3b620cce2122512e1193f5b9ead372e5', 'message': 'WIP: Quarantine stale EC fragments\n\nTODO:\n- unit test with mixed timestamps\n- add probe test\n\nCloses-Bug: 1655608\nChange-Id: I552d23ab60954ac32fe31e7f85e6d9e58fa25da3\n'}, {'number': 5, 'created': '2021-04-21 18:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c4540e58aef03352fbe0cc9e637a26144cdf0074', 'message': 'WIP: Quarantine stale EC fragments\n\nTODO:\n- unit test with mixed timestamps\n- probe test?\n\nCloses-Bug: 1655608\nChange-Id: I552d23ab60954ac32fe31e7f85e6d9e58fa25da3\n'}, {'number': 6, 'created': '2021-04-26 15:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/660c676ac9561d164b450df16841d87e70ed1b6f', 'message': ""Quarantine stale EC fragments\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are issued in batches equal to the total number\nof fragments for the policy. The maximum number of batches issued can\nbe set using the new reconstructor 'quarantine_handoff_batches' config\noption.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'quarantine_handoff_batches' defaults to 1.\n\nCloses-Bug: 1655608\nChange-Id: I552d23ab60954ac32fe31e7f85e6d9e58fa25da3\n""}, {'number': 7, 'created': '2021-04-27 11:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/60dae671b93a48cdde71e1ed5037d91d0cc79647', 'message': ""Quarantine stale EC fragments\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are issued in batches equal to the total number\nof fragments for the policy. The maximum number of batches issued can\nbe set using the new reconstructor 'quarantine_handoff_batches' config\noption.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'quarantine_handoff_batches' defaults to 1.\n\nCloses-Bug: 1655608\nChange-Id: I552d23ab60954ac32fe31e7f85e6d9e58fa25da3\n""}, {'number': 8, 'created': '2021-04-29 22:12:16.000000000', 'files': ['test/unit/common/test_storage_policy.py', 'swift/obj/reconstructor.py', 'swift/obj/ssync_sender.py', 'swift/common/storage_policy.py', 'test/unit/obj/test_ssync.py', 'etc/object-server.conf-sample', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2eb5ec86fc09f795450fdb93226377ba0b05e9fc', 'message': ""Quarantine stale EC fragments\n\nIf the reconstructor finds a fragment that appears to be stale then it\nwill now quarantine the fragment.  Fragments are considered stale if\ninsufficient fragments at the same timestamp can be found to rebuild\nmissing fragments, and the number found is less than or equal to a new\nreconstructor 'quarantine_threshold' config option.\n\nBefore quarantining a fragment the reconstructor will attempt to fetch\nfragments from handoff nodes in addition to the usual primary nodes.\nThe handoff requests are issued in batches equal to the total number\nof fragments for the policy. The maximum number of batches issued can\nbe set using the new reconstructor 'quarantine_handoff_batches' config\noption.\n\n'quarantine_threshold' defaults to zero i.e. no fragments will be\nquarantined. 'quarantine_handoff_batches' defaults to 1.\n\nCloses-Bug: 1655608\nChange-Id: I552d23ab60954ac32fe31e7f85e6d9e58fa25da3\n""}]",41,786084,2eb5ec86fc09f795450fdb93226377ba0b05e9fc,32,2,8,7847,,,0,"Quarantine stale EC fragments

If the reconstructor finds a fragment that appears to be stale then it
will now quarantine the fragment.  Fragments are considered stale if
insufficient fragments at the same timestamp can be found to rebuild
missing fragments, and the number found is less than or equal to a new
reconstructor 'quarantine_threshold' config option.

Before quarantining a fragment the reconstructor will attempt to fetch
fragments from handoff nodes in addition to the usual primary nodes.
The handoff requests are issued in batches equal to the total number
of fragments for the policy. The maximum number of batches issued can
be set using the new reconstructor 'quarantine_handoff_batches' config
option.

'quarantine_threshold' defaults to zero i.e. no fragments will be
quarantined. 'quarantine_handoff_batches' defaults to 1.

Closes-Bug: 1655608
Change-Id: I552d23ab60954ac32fe31e7f85e6d9e58fa25da3
",git fetch https://review.opendev.org/openstack/swift refs/changes/84/786084/8 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/reconstructor.py', 'swift/obj/ssync_sender.py', 'test/unit/obj/test_reconstructor.py']",3,db6ab15605ecf4baafaa8e5879c0d52aa1f89f28,p-lonely-frag,"from swift.common.exceptions import DiskFileError, DiskFileQuarantined obj_name = b'o' # subclass overrides this self.obj_path = b'/a/c/' + self.obj_name os.makedirs(os.path.join(self.devices, 'sda1')) self.frag_index = 2 df_mgr = self.reconstructor._df_router[self.policy] self.df = df_mgr.get_diskfile('sda1', 9, 'a', 'c', self.obj_name, policy=self.policy) write_diskfile(self.df, self.obj_timestamp, data='', frag_index=self.frag_index) self.df.open() self.logger.clear() job, node, self.df) job, node, self.df) job, node, self.df) job, node, self.df) job, node, self.df) job, node, self.df) job, node, self.df) job, node, self.df) job, node, self.df) job, node, self.df) job, node, self.df) job, node, self.df) job, node, self.df) debug_log_lines[0], debug_log_lines) def test_reconstruct_fa_finds_lonely_frag(self): job = { 'partition': 0, 'policy': self.policy, } part_nodes = self.policy.object_ring.get_part_nodes(0) node = part_nodes[self.frag_index + 1] node['backend_index'] = self.policy.get_backend_index(node['index']) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] etag = md5(test_data, usedforsecurity=False).hexdigest() ec_archive_bodies = encode_frag_archive_bodies(self.policy, test_data) # instead of popping the broken body, we'll just leave it in the list # of responses and take away something else. lonely_frag = ec_archive_bodies[self.frag_index] def make_header(body): headers = get_header_frag_index(self, body) headers.update({'X-Object-Sysmeta-Ec-Etag': etag}) return headers responses = [(200, lonely_frag, make_header(lonely_frag))] + \ [(404, None, None)] * 26 codes, body_iter, headers = zip(*responses) with mocked_http_conn(*codes, body_iter=body_iter, headers=headers, timestamps=[self.obj_timestamp.internal] * 27): with self.assertRaises(DiskFileQuarantined): self.reconstructor.reconstruct_fa(job, node, self.df) error_lines = self.logger.get_lines_for_level('error') self.assertEqual(2, len(error_lines), error_lines) self.assertIn('Unable to get enough responses (1/10)', error_lines[0]) self.assertIn('Unable to get enough responses (26 error responses)', error_lines[1]) warning_lines = self.logger.get_lines_for_level('warning') self.assertEqual(1, len(warning_lines), warning_lines) self.assertIn('Quarantined object', warning_lines[0]) job, node, self.df) job, node, self.df) job, node, self.df) obj_name = b'o\xc3\xa8'","from swift.common.exceptions import DiskFileError obj_path = b'/a/c/o' # subclass overrides this job, node, self.obj_metadata) job, node, dict(self.obj_metadata)) job, node, dict(self.obj_metadata)) job, node, dict(self.obj_metadata)) job, node, self.obj_metadata) job, node, self.obj_metadata) job, node, self.obj_metadata) job, node, dict(self.obj_metadata)) job, node, dict(self.obj_metadata)) job, node, dict(self.obj_metadata)) job, node, dict(self.obj_metadata)) job, node, self.obj_metadata) job, node, self.obj_metadata) debug_log_lines[0]) job, node, self.obj_metadata) job, node, self.obj_metadata) job, node, self.obj_metadata) obj_path = b'/a/c/o\xc3\xa8'",213,134
openstack%2Fkolla~stable%2Fwallaby~Ie8eec4cb4e29e7f659228e2792c13c01dfb4a41c,openstack/kolla,stable/wallaby,Ie8eec4cb4e29e7f659228e2792c13c01dfb4a41c,docs: update supported OS distros,MERGED,2021-05-11 05:40:10.000000000,2021-05-11 08:50:21.000000000,2021-05-11 08:47:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-11 05:40:10.000000000', 'files': ['doc/source/support_matrix.rst', 'doc/source/admin/image-building.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7726bbe2d49856c2498d8b1aa4b6f1c2fcaf3997', 'message': 'docs: update supported OS distros\n\n* correct base container image info\n* show RHEL as deprecated\n\nChange-Id: Ie8eec4cb4e29e7f659228e2792c13c01dfb4a41c\n(cherry picked from commit b69240ca4b7a1268854d6a39b279a3ebe183ca4e)\n'}]",0,790556,7726bbe2d49856c2498d8b1aa4b6f1c2fcaf3997,8,3,1,30491,,,0,"docs: update supported OS distros

* correct base container image info
* show RHEL as deprecated

Change-Id: Ie8eec4cb4e29e7f659228e2792c13c01dfb4a41c
(cherry picked from commit b69240ca4b7a1268854d6a39b279a3ebe183ca4e)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/56/790556/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support_matrix.rst', 'doc/source/admin/image-building.rst']",2,7726bbe2d49856c2498d8b1aa4b6f1c2fcaf3997,,"By default, the above command would build all images based on a CentOS Stream image.- rhel (deprecated)","By default, the above command would build all images based on CentOS image.- rhel",11,10
openstack%2Fbifrost~stable%2Fvictoria~Iac249796b2353a4b77e835515c136996da3eb57b,openstack/bifrost,stable/victoria,Iac249796b2353a4b77e835515c136996da3eb57b,Point ipa-builder to stable/wallaby,MERGED,2021-05-10 13:26:39.000000000,2021-05-11 08:50:17.000000000,2021-05-11 08:47:12.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 13:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f3128f8f33a7421b209ea32e73f02f851bec9bbf', 'message': ""Point ipa-builder to stable/wallaby\n\nSince ironic-python-agent-bulder has stable branches starting from\nwallaby, we need to point all the older branches to stable/wallaby,\nunless they're already pinned to an older version.\n\nChange-Id: Iac249796b2353a4b77e835515c136996da3eb57b\n""}, {'number': 2, 'created': '2021-05-10 13:59:34.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/defaults/main.yml', 'zuul.d/bifrost-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/f2e6bb825a70df029cb4b15fb72bcbdad2cc543e', 'message': ""Point ipa-builder to stable/wallaby\n\nSince ironic-python-agent-bulder has stable branches starting from\nwallaby, we need to point all the older branches to stable/wallaby,\nunless they're already pinned to an older version.\n\nChange-Id: Iac249796b2353a4b77e835515c136996da3eb57b\n""}]",4,790435,f2e6bb825a70df029cb4b15fb72bcbdad2cc543e,12,3,2,23851,,,0,"Point ipa-builder to stable/wallaby

Since ironic-python-agent-bulder has stable branches starting from
wallaby, we need to point all the older branches to stable/wallaby,
unless they're already pinned to an older version.

Change-Id: Iac249796b2353a4b77e835515c136996da3eb57b
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/35/790435/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/bifrost-jobs.yaml'],1,f3128f8f33a7421b209ea32e73f02f851bec9bbf,ipa-builder-stable, - name: openstack/ironic-python-agent-builder override-checkout: stable/wallaby, - openstack/ironic-python-agent-builder,2,1
openstack%2Fcharm-vault~master~Ia8194247d5d553e72e694b4e2c649bd418d2adf4,openstack/charm-vault,master,Ia8194247d5d553e72e694b4e2c649bd418d2adf4,Rebuild for picking up layer-basic#193,MERGED,2021-05-06 19:49:32.000000000,2021-05-11 08:45:02.000000000,2021-05-11 08:45:02.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-06 19:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/943239d3ab81dbf5ca66583c22152480716421b5', 'message': 'Rebuild for picking up layer-basic#193\n\nFixes pip install wheelhouse failure on Hirsute.\nhttps://github.com/juju-solutions/layer-basic/pull/193\n\nChange-Id: Ia8194247d5d553e72e694b4e2c649bd418d2adf4\n'}, {'number': 2, 'created': '2021-05-07 19:50:45.000000000', 'files': ['rebuild', 'src/wheelhouse.txt'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/9c7c04e8fdbbc301ce45820a9015ff04f500b1a1', 'message': 'Rebuild for picking up layer-basic#193\n\nFixes pip install wheelhouse failure on Hirsute.\nhttps://github.com/juju-solutions/layer-basic/pull/193\n\nAlso pin ops!=1.2.0 due to that version of the ops (operator)\nlibrary not working with xenial [1].\n\n[1] https://github.com/canonical/operator/issues/517\n\nChange-Id: Ia8194247d5d553e72e694b4e2c649bd418d2adf4\n'}]",0,790150,9c7c04e8fdbbc301ce45820a9015ff04f500b1a1,20,5,2,31289,,,0,"Rebuild for picking up layer-basic#193

Fixes pip install wheelhouse failure on Hirsute.
https://github.com/juju-solutions/layer-basic/pull/193

Also pin ops!=1.2.0 due to that version of the ops (operator)
library not working with xenial [1].

[1] https://github.com/canonical/operator/issues/517

Change-Id: Ia8194247d5d553e72e694b4e2c649bd418d2adf4
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/50/790150/2 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,943239d3ab81dbf5ca66583c22152480716421b5,rebuild-layerbasic-193,7a6f1089-fc21-402d-9cfb-21a1d714620d,bee1368a-64d9-11eb-aa25-5f38d0366b65,1,1
openstack%2Fironic~stable%2Fvictoria~I90a0d4d75fb4581805f11e79ca7185cfdb66f77a,openstack/ironic,stable/victoria,I90a0d4d75fb4581805f11e79ca7185cfdb66f77a,Point ipa-builder to stable/wallaby,MERGED,2021-05-10 13:30:11.000000000,2021-05-11 08:43:05.000000000,2021-05-11 08:39:39.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 13:30:11.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0df78f600c43153ba7f2fd1cd0c40d1cf4fdfeaa', 'message': ""Point ipa-builder to stable/wallaby\n\nSince ironic-python-agent-bulder has stable branches starting from\nwallaby, we need to point all the older branches to stable/wallaby,\nunless they're already pinned to an older version.\n\nChange-Id: I90a0d4d75fb4581805f11e79ca7185cfdb66f77a\n""}]",0,790456,0df78f600c43153ba7f2fd1cd0c40d1cf4fdfeaa,14,3,1,23851,,,0,"Point ipa-builder to stable/wallaby

Since ironic-python-agent-bulder has stable branches starting from
wallaby, we need to point all the older branches to stable/wallaby,
unless they're already pinned to an older version.

Change-Id: I90a0d4d75fb4581805f11e79ca7185cfdb66f77a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/56/790456/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,0df78f600c43153ba7f2fd1cd0c40d1cf4fdfeaa,ipa-builder-stable, - name: opendev.org/openstack/ironic-python-agent-builder override-checkout: stable/wallaby - name: opendev.org/openstack/ironic-python-agent-builder override-checkout: stable/wallaby - name: opendev.org/openstack/ironic-python-agent-builder override-checkout: stable/wallaby - name: opendev.org/openstack/ironic-python-agent-builder override-checkout: stable/wallaby, - openstack/ironic-python-agent-builder - openstack/ironic-python-agent-builder - openstack/ironic-python-agent-builder - openstack/ironic-python-agent-builder,8,4
openstack%2Fneutron~master~I6294098008fbebb2e64922b3aaa085c1361d48a2,openstack/neutron,master,I6294098008fbebb2e64922b3aaa085c1361d48a2,Deprecate [designate] admin_* parameters,MERGED,2021-05-06 14:48:49.000000000,2021-05-11 08:41:21.000000000,2021-05-11 08:38:32.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11628}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 14:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6215c07c622beda5ec66f76146e937fe6b1a229b', 'message': ""Deprecate [designate] auth_* parameters\n\nThe auth_* parameters are implementing the same functionality as\nkeystoneauth parameters alghouth these doesn't fully implement required\nparameters for Keystone v3 identity but are still based on Keystone v2\nidentity.\nThis change deprecates these parameters so that we can remove\nsuch redundant and outdated definitions in a future release.\n\nCloses-Bug: #1927494\nChange-Id: I6294098008fbebb2e64922b3aaa085c1361d48a2\n""}, {'number': 2, 'created': '2021-05-06 15:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e8293100cbca96e54c252a173922237e2efbbd4', 'message': ""Deprecate [designate] auth_* parameters\n\nThe auth_* parameters are implementing the same functionality as\nkeystoneauth parameters alghouth these doesn't fully implement required\nparameters for Keystone v3 identity but are still based on Keystone v2\nidentity.\nThis change deprecates these parameters so that we can remove\nsuch redundant and outdated definitions in a future release.\n\nCloses-Bug: #1927494\nChange-Id: I6294098008fbebb2e64922b3aaa085c1361d48a2\n""}, {'number': 3, 'created': '2021-05-06 15:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d276cb5ec32242ea74d4eb7abe5ac3da04b23166', 'message': ""Deprecate [designate] auth_* parameters\n\nThe auth_* parameters are implementing the same functionality as\nkeystoneauth parameters alghouth these doesn't fully implement required\nparameters for Keystone v3 identity but are still based on Keystone v2\nidentity.\nThis change deprecates these parameters so that we can remove\nsuch redundant and outdated definitions in a future release.\n\nCloses-Bug: #1927494\nChange-Id: I6294098008fbebb2e64922b3aaa085c1361d48a2\n""}, {'number': 4, 'created': '2021-05-06 16:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b21ed012bb4ab79e4a71cde2e644def9bf6d5a84', 'message': ""Deprecate [designate] admin_* parameters\n\nThe admin_* parameters are implementing the same functionality as\nkeystoneauth parameters alghouth these doesn't fully implement required\nparameters for Keystone v3 identity but are still based on Keystone v2\nidentity.\nThis change deprecates these parameters so that we can remove\nsuch redundant and outdated definitions in a future release.\n\nCloses-Bug: #1927494\nChange-Id: I6294098008fbebb2e64922b3aaa085c1361d48a2\n""}, {'number': 5, 'created': '2021-05-06 16:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70d1546c89b6ab0840319692fce9bcbdd5615162', 'message': ""Deprecate [designate] admin_* parameters\n\nThe admin_* parameters are implementing the same functionality as\nkeystoneauth parameters alghouth these don't provide all parameters for\nKeystone v3 identity but are still based on Keystone v2 identity.\nThis change deprecates these parameters so that we can remove\nsuch redundant and outdated definitions in a future release.\n\nCloses-Bug: #1927494\nChange-Id: I6294098008fbebb2e64922b3aaa085c1361d48a2\n""}, {'number': 6, 'created': '2021-05-07 06:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5366217fadf2b15c86f2ad015a7f9a929e10d53e', 'message': ""Deprecate [designate] admin_* parameters\n\nThe admin_* parameters are implementing the same functionality as\nkeystoneauth parameters alghouth these don't provide all parameters for\nKeystone v3 identity but are still based on Keystone v2 identity.\nThis change deprecates these parameters so that we can remove\nsuch redundant and outdated definitions in a future release.\n\nCloses-Bug: #1927494\nChange-Id: I6294098008fbebb2e64922b3aaa085c1361d48a2\n""}, {'number': 7, 'created': '2021-05-10 23:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c06817284a6a5d470a219b7675a993e07576d3d1', 'message': ""Deprecate [designate] admin_* parameters\n\nThe admin_* parameters are implementing the same functionality as\nkeystoneauth parameters alghouth these don't provide all parameters for\nKeystone v3 identity but are still based on Keystone v2 identity.\nThis change deprecates these parameters so that we can remove\nsuch redundant and outdated definitions in a future release.\n\nCloses-Bug: #1927494\nChange-Id: I6294098008fbebb2e64922b3aaa085c1361d48a2\n""}, {'number': 8, 'created': '2021-05-11 03:09:29.000000000', 'files': ['releasenotes/notes/deprecate-designate-auth-opts-c2b1050a0360981c.yaml', 'neutron/services/externaldns/drivers/designate/driver.py', 'neutron/conf/services/extdns_designate_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/adfd853267ca529816f4c17a145d9e70e8abfac5', 'message': ""Deprecate [designate] admin_* parameters\n\nThe admin_* parameters are implementing the same functionality as\nkeystoneauth parameters alghouth these don't provide all parameters for\nKeystone v3 identity but are still based on Keystone v2 identity.\nThis change deprecates these parameters so that we can remove\nsuch redundant and outdated definitions in a future release.\n\nCloses-Bug: #1927494\nChange-Id: I6294098008fbebb2e64922b3aaa085c1361d48a2\n""}]",9,790080,adfd853267ca529816f4c17a145d9e70e8abfac5,54,7,8,9816,,,0,"Deprecate [designate] admin_* parameters

The admin_* parameters are implementing the same functionality as
keystoneauth parameters alghouth these don't provide all parameters for
Keystone v3 identity but are still based on Keystone v2 identity.
This change deprecates these parameters so that we can remove
such redundant and outdated definitions in a future release.

Closes-Bug: #1927494
Change-Id: I6294098008fbebb2e64922b3aaa085c1361d48a2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/790080/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-designate-auth-opts-c2b1050a0360981c.yaml', 'neutron/conf/services/extdns_designate_driver.py', 'neutron/services/externaldns/drivers/designate/driver.py']",3,6215c07c622beda5ec66f76146e937fe6b1a229b,bug/1927494, warning('[designate] admin_* parameters have been deprecated and will ' 'be removed in a future release. Set [designate] auth_type ' 'and required keystoneauth parameters.'),,31,0
openstack%2Fcharm-layer-openstack~master~I565fb534612a06d76e6688ed4f06ad64bc42e512,openstack/charm-layer-openstack,master,I565fb534612a06d76e6688ed4f06ad64bc42e512,Ensure endpoints are populated within actions,MERGED,2021-05-11 08:06:10.000000000,2021-05-11 08:41:17.000000000,2021-05-11 08:41:17.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-05-11 08:06:10.000000000', 'files': ['actions/os_actions.py'], 'web_link': 'https://opendev.org/openstack/charm-layer-openstack/commit/207bac8bec837edc6a4d6003f51d5b59d2d75adb', 'message': 'Ensure endpoints are populated within actions\n\nWhen actions are run the reactive run_at{start,exit} methods are not\nimplicit run. This means that some data associated with endpoints\nis missing. For example reactive.Endpoint.all_joined_units is always\nNone.\n\nChange-Id: I565fb534612a06d76e6688ed4f06ad64bc42e512\n'}]",0,790585,207bac8bec837edc6a4d6003f51d5b59d2d75adb,7,3,1,12549,,,0,"Ensure endpoints are populated within actions

When actions are run the reactive run_at{start,exit} methods are not
implicit run. This means that some data associated with endpoints
is missing. For example reactive.Endpoint.all_joined_units is always
None.

Change-Id: I565fb534612a06d76e6688ed4f06ad64bc42e512
",git fetch https://review.opendev.org/openstack/charm-layer-openstack refs/changes/85/790585/1 && git format-patch -1 --stdout FETCH_HEAD,['actions/os_actions.py'],1,207bac8bec837edc6a4d6003f51d5b59d2d75adb,populate-eps-on-action,"import charmhelpers.core as ch_core # Manually trigger any register atstart events to ensure all endpoints # are correctly setup, Bug #1916008. ch_core.hookenv._run_atstart() ch_core.hookenv._run_atexit()",,5,0
openstack%2Fpython-heatclient~master~I9b1898c9bd0f5fa66e1905f5e6350fe31964e584,openstack/python-heatclient,master,I9b1898c9bd0f5fa66e1905f5e6350fe31964e584,Remove babel.cfg,ABANDONED,2020-12-01 02:00:42.000000000,2021-05-11 08:26:46.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2020-12-01 02:00:42.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/4cb30a613071d08e21135e855f438a421ad58b6e', 'message': 'Remove babel.cfg\n\nRemove babel.cfg and the translation bits from setup.cfg, those are not\nneeded anymore.\n\nChange-Id: I9b1898c9bd0f5fa66e1905f5e6350fe31964e584\n'}]",0,764869,4cb30a613071d08e21135e855f438a421ad58b6e,6,2,1,32029,,,0,"Remove babel.cfg

Remove babel.cfg and the translation bits from setup.cfg, those are not
needed anymore.

Change-Id: I9b1898c9bd0f5fa66e1905f5e6350fe31964e584
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/69/764869/1 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,4cb30a613071d08e21135e855f438a421ad58b6e,babel,,[extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = heatclient/locale/heatclient.pot [compile_catalog] directory = heatclient/locale domain = heatclient [update_catalog] domain = heatclient output_dir = heatclient/locale input_file = heatclient/locale/heatclient.pot,0,14
openstack%2Fpuppet-cinder~master~I1237cd3ce7490d4027e539ec0551ead0939dbb98,openstack/puppet-cinder,master,I1237cd3ce7490d4027e539ec0551ead0939dbb98,Support more Glance parmaeters,MERGED,2021-05-08 15:41:10.000000000,2021-05-11 07:57:33.000000000,2021-05-11 07:56:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 15:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/47c87e4f8466e4ed032f79dd4ebbd625c1abce2f', 'message': 'Support more Glance parmaeters\n\nChange-Id: I1237cd3ce7490d4027e539ec0551ead0939dbb98\n'}, {'number': 2, 'created': '2021-05-08 16:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/bc68bdd1ab4507376da69de9738d79f0ab629164', 'message': 'Support more Glance parmaeters\n\nChange-Id: I1237cd3ce7490d4027e539ec0551ead0939dbb98\n'}, {'number': 3, 'created': '2021-05-08 16:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a7167316ed1364b1bff7a4dd4c89fd4b4f0460df', 'message': 'Support more Glance parmaeters\n\nChange-Id: I1237cd3ce7490d4027e539ec0551ead0939dbb98\n'}, {'number': 4, 'created': '2021-05-11 03:31:47.000000000', 'files': ['spec/classes/cinder_glance_spec.rb', 'manifests/glance.pp', 'releasenotes/notes/glance-opts-26bd0abe8173cc8c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e63efab4156fbdcb8332bbbadcd2e94d1862120b', 'message': 'Support more Glance parmaeters\n\nChange-Id: I1237cd3ce7490d4027e539ec0551ead0939dbb98\n'}]",0,790338,e63efab4156fbdcb8332bbbadcd2e94d1862120b,15,4,4,9816,,,0,"Support more Glance parmaeters

Change-Id: I1237cd3ce7490d4027e539ec0551ead0939dbb98
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/38/790338/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/glance.pp', 'spec/classes/cinder_glance_spec.rb', 'releasenotes/notes/glance-opts-26bd0abe8173cc8c.yaml']",3,47c87e4f8466e4ed032f79dd4ebbd625c1abce2f,glance-opts,--- features: - | The following parameters have been added to the ``cinder::glance`` class. - ``allowed_direct_url_schemes`` - ``verify_glance_signatures`` - ``glance_catalog_info`` - ``glance_core_properties`` ,,52,1
openstack%2Fpuppet-cinder~master~I6e602e84c778413f4f655d732e012a95eedef184,openstack/puppet-cinder,master,I6e602e84c778413f4f655d732e012a95eedef184,Improve unit test coverage of cinder::glance,MERGED,2021-05-08 15:33:40.000000000,2021-05-11 07:56:01.000000000,2021-05-11 07:56:01.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 15:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/e5bcca1fd90062d2c8ce717f1e1731cf3e2e196d', 'message': ""Improve unit test coverage of cinder::glance\n\nCurrently unit tests of cinder::glance only test defaults and doesn't\nhave enough use case to test all parameters.\nThis change adds some more test cases so that all parameters are\nproperly tested.\n\nChange-Id: I6e602e84c778413f4f655d732e012a95eedef184\n""}, {'number': 2, 'created': '2021-05-08 16:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/74d34d71a1834b592f3c42447b3ea8d7ff7c2207', 'message': ""Improve unit test coverage of cinder::glance\n\nCurrently unit tests of cinder::glance only test defaults and doesn't\nhave enough use case to test all parameters.\nThis change adds some more test cases so that all parameters are\nproperly tested.\n\nChange-Id: I6e602e84c778413f4f655d732e012a95eedef184\n""}, {'number': 3, 'created': '2021-05-08 16:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/28207512a23422ce81c06498069b21a368ca003f', 'message': ""Improve unit test coverage of cinder::glance\n\nCurrently unit tests of cinder::glance only test defaults and doesn't\nhave enough use case to test all parameters.\nThis change adds some more test cases so that all parameters are\nproperly tested.\n\nChange-Id: I6e602e84c778413f4f655d732e012a95eedef184\n""}, {'number': 4, 'created': '2021-05-11 03:31:47.000000000', 'files': ['spec/classes/cinder_glance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/defeaf5370fb5d421b8579bd30070f275669d9e7', 'message': ""Improve unit test coverage of cinder::glance\n\nCurrently unit tests of cinder::glance only test defaults and doesn't\nhave enough use case to test all parameters.\nThis change adds some more test cases so that all parameters are\nproperly tested.\n\nChange-Id: I6e602e84c778413f4f655d732e012a95eedef184\n""}]",0,790337,defeaf5370fb5d421b8579bd30070f275669d9e7,16,4,4,9816,,,0,"Improve unit test coverage of cinder::glance

Currently unit tests of cinder::glance only test defaults and doesn't
have enough use case to test all parameters.
This change adds some more test cases so that all parameters are
properly tested.

Change-Id: I6e602e84c778413f4f655d732e012a95eedef184
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/37/790337/4 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/cinder_glance_spec.rb'],1,e5bcca1fd90062d2c8ce717f1e1731cf3e2e196d,glance-opts," shared_examples 'cinder::glance' do context 'with defaults' do let :params do {} end it 'configures cinder.conf with defaults' do is_expected.to contain_cinder_config('DEFAULT/glance_api_servers').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/glance_num_retries').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/glance_api_insecure').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/glance_api_ssl_compression').with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config('DEFAULT/glance_request_timeout').with_value('<SERVICE DEFAULT>') end context 'with parameters overridden' do let :params do { :glance_api_servers => '10.0.0.1:9292', :glance_num_retries => 3, :glance_api_insecure => false, :glance_api_ssl_compression => false, :glance_request_timeout => 300, } end it 'configures cinder.conf with defaults' do is_expected.to contain_cinder_config('DEFAULT/glance_api_servers').with_value('10.0.0.1:9292') is_expected.to contain_cinder_config('DEFAULT/glance_num_retries').with_value('3') is_expected.to contain_cinder_config('DEFAULT/glance_api_insecure').with_value(false) is_expected.to contain_cinder_config('DEFAULT/glance_api_ssl_compression').with_value(false) is_expected.to contain_cinder_config('DEFAULT/glance_request_timeout').with_value(300) end context 'with parameters in array' do let :params do { :glance_api_servers => ['10.0.0.1:9292','10.0.0.2:9292'] } end it 'should configure parameters in comma-separated list' do is_expected.to contain_cinder_config('DEFAULT/glance_api_servers').with_value('10.0.0.1:9292,10.0.0.2:9292') end end it_behaves_like 'cinder::glance'"," let :default_params do { :glance_api_servers => '<SERVICE DEFAULT>', :glance_num_retries => '<SERVICE DEFAULT>', :glance_api_insecure => '<SERVICE DEFAULT>', :glance_api_ssl_compression => '<SERVICE DEFAULT>', :glance_request_timeout => '<SERVICE DEFAULT>' } end let :params do {} end shared_examples 'cinder with glance' do let :p do default_params.merge(params) it 'configures cinder.conf with default params' do is_expected.to contain_cinder_config('DEFAULT/glance_api_servers').with_value(p[:glance_api_servers]) is_expected.to contain_cinder_config('DEFAULT/glance_num_retries').with_value(p[:glance_num_retries]) is_expected.to contain_cinder_config('DEFAULT/glance_api_insecure').with_value(p[:glance_api_insecure]) is_expected.to contain_cinder_config('DEFAULT/glance_api_ssl_compression').with_value(p[:glance_api_ssl_compression]) is_expected.to contain_cinder_config('DEFAULT/glance_request_timeout').with_value(p[:glance_request_timeout]) context 'configure cinder with one glance server' do before :each do params.merge!(:glance_api_servers => '10.0.0.1:9292') end it 'should configure one glance server' do is_expected.to contain_cinder_config('DEFAULT/glance_api_servers').with_value(p[:glance_api_servers]) end end context 'configure cinder with two glance servers' do before :each do params.merge!(:glance_api_servers => ['10.0.0.1:9292','10.0.0.2:9292']) end it 'should configure two glance servers' do is_expected.to contain_cinder_config('DEFAULT/glance_api_servers').with_value(p[:glance_api_servers].join(',')) end end let (:facts) do facts.merge(OSDefaults.get_facts({:os_workers => 8})) end it_behaves_like 'cinder with glance'",41,43
openstack%2Fpuppet-cinder~master~If287c7f725d2d4c8e0e31e1267487fddce1fd510,openstack/puppet-cinder,master,If287c7f725d2d4c8e0e31e1267487fddce1fd510,Update default of cinder::glance::glance_api_servers,MERGED,2021-05-08 15:26:31.000000000,2021-05-11 07:55:58.000000000,2021-05-11 07:55:58.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 15:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/7552c5cf42c3ce5d0d16c7849a932bb2dae84169', 'message': ""Update default of cinder::glance::glance_api_servers\n\nThis change replace the current default value, undef, by\n$::os_service_default, to make it more clear that the parameter is not\nconfigured by default.\nThis doesn't cause any change with behavior because setting undef\nresults in unsetting the parameter.\n\nChange-Id: If287c7f725d2d4c8e0e31e1267487fddce1fd510\n""}, {'number': 2, 'created': '2021-05-08 16:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/95efbc13b501c5cdac0afa3a85e29076fa47d823', 'message': 'Update default of cinder::glance::glance_api_servers\n\nThis change ensures that the glance_api_servers is removed by default.\nThe current default(undef) makes an empty value set in config file,\nwhich is effectively same as the service default(None).\n\nChange-Id: If287c7f725d2d4c8e0e31e1267487fddce1fd510\n'}, {'number': 3, 'created': '2021-05-11 03:31:47.000000000', 'files': ['spec/classes/cinder_glance_spec.rb', 'manifests/glance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/2b17605c6ac1522a40949f9556e514e2b4e55dfc', 'message': 'Update default of cinder::glance::glance_api_servers\n\nThis change ensures that the glance_api_servers is removed by default.\nThe current default(undef) makes an empty value set in config file,\nwhich is effectively same as the service default(None).\n\nChange-Id: If287c7f725d2d4c8e0e31e1267487fddce1fd510\n'}]",0,790336,2b17605c6ac1522a40949f9556e514e2b4e55dfc,13,4,3,9816,,,0,"Update default of cinder::glance::glance_api_servers

This change ensures that the glance_api_servers is removed by default.
The current default(undef) makes an empty value set in config file,
which is effectively same as the service default(None).

Change-Id: If287c7f725d2d4c8e0e31e1267487fddce1fd510
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/36/790336/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/glance.pp', 'spec/classes/cinder_glance_spec.rb']",2,7552c5cf42c3ce5d0d16c7849a932bb2dae84169,glance-opts," :glance_api_servers => '<SERVICE DEFAULT>', is_expected.to contain_cinder_config('DEFAULT/glance_api_servers').with_value(p[:glance_api_servers])",,4,2
openstack%2Ftripleo-upgrade~master~I289a55c5dbe6369791f89bb840430053ba11f9c1,openstack/tripleo-upgrade,master,I289a55c5dbe6369791f89bb840430053ba11f9c1,Add STACK_NAME in OSP13 validations script.,MERGED,2021-05-07 09:02:06.000000000,2021-05-11 07:49:35.000000000,2021-05-11 07:49:35.000000000,"[{'_account_id': 6816}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 09:02:06.000000000', 'files': ['templates/pre-upgrade-osp13-validation.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/32e3a9d3f65bb307e223e45e7ccf37f2eadf1789', 'message': ""Add STACK_NAME in OSP13 validations script.\n\nThe script was using the overcloud_stack_name parameter. However, as\nit is being executed during the undercloud_os_upgrade stage, the stack\nname for the overcloud isn't being passed. Therefore, let's leave the\nscript as it is in the FFU docs [0].\n\n[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade\n\nChange-Id: I289a55c5dbe6369791f89bb840430053ba11f9c1\n""}]",0,790211,32e3a9d3f65bb307e223e45e7ccf37f2eadf1789,11,3,1,26343,,,0,"Add STACK_NAME in OSP13 validations script.

The script was using the overcloud_stack_name parameter. However, as
it is being executed during the undercloud_os_upgrade stage, the stack
name for the overcloud isn't being passed. Therefore, let's leave the
script as it is in the FFU docs [0].

[0] - https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.1/html-single/framework_for_upgrades_13_to_16.1/index#validating-red-hat-openstack-platform-oldvernum-before-the-upgrade

Change-Id: I289a55c5dbe6369791f89bb840430053ba11f9c1
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/11/790211/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/pre-upgrade-osp13-validation.sh.j2'],1,32e3a9d3f65bb307e223e45e7ccf37f2eadf1789,," STACK_NAME=$(openstack stack list -f value -c 'Stack Name') ID=$(openstack workflow execution create -f value -c ID tripleo.validations.v1.run_validation ""{\""validation_name\"": $VALIDATION, \""plan\"": \""$STACK_NAME\""}"")"," ID=$(openstack workflow execution create -f value -c ID tripleo.validations.v1.run_validation ""{\""validation_name\"": $VALIDATION, \""plan\"": \""{{ overcloud_stack_name }}\""}"")",2,1
openstack%2Fopenstack-ansible-os_masakari~master~I04790eabe9680a5b2d19a3e721920e5c8f00aa9e,openstack/openstack-ansible-os_masakari,master,I04790eabe9680a5b2d19a3e721920e5c8f00aa9e,setup.cfg: Replace dashes with underscores,MERGED,2021-04-28 03:19:15.000000000,2021-05-11 07:40:49.000000000,2021-05-11 07:39:38.000000000,"[{'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 30623}]","[{'number': 1, 'created': '2021-04-28 03:19:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_masakari/commit/5ec76a586c4a392b27a3cd4e2f8fc5cdab12ef40', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I04790eabe9680a5b2d19a3e721920e5c8f00aa9e\n""}]",0,788399,5ec76a586c4a392b27a3cd4e2f8fc5cdab12ef40,8,4,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I04790eabe9680a5b2d19a3e721920e5c8f00aa9e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_masakari refs/changes/99/788399/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5ec76a586c4a392b27a3cd4e2f8fc5cdab12ef40,,description_file = author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-ansible-os_masakari/latest/ ,description-file = author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-ansible-os_masakari/latest/ ,3,3
openstack%2Fvenus-tempest-plugin~master~Ic1887c8c1e3a9bdc2db47583dd54a811d7f570cb,openstack/venus-tempest-plugin,master,Ic1887c8c1e3a9bdc2db47583dd54a811d7f570cb,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-07 12:25:38.000000000,2021-05-11 07:38:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-07 12:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus-tempest-plugin/commit/92e5a5e42ee7d3b95a47b148bbc09447db0fa554', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic1887c8c1e3a9bdc2db47583dd54a811d7f570cb\n""}, {'number': 2, 'created': '2021-05-11 07:34:48.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus-tempest-plugin/commit/1ec8f18b388402f9ab3675b125a3559707aa874b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic1887c8c1e3a9bdc2db47583dd54a811d7f570cb\n""}]",0,790233,1ec8f18b388402f9ab3675b125a3559707aa874b,8,1,2,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic1887c8c1e3a9bdc2db47583dd54a811d7f570cb
",git fetch https://review.opendev.org/openstack/venus-tempest-plugin refs/changes/33/790233/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,92e5a5e42ee7d3b95a47b148bbc09447db0fa554,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/ python-requires = >=3.6,4,4
openstack%2Fvenus~master~I0785cf2c7c0d828d653bd6f20f3e804275014f99,openstack/venus,master,I0785cf2c7c0d828d653bd6f20f3e804275014f99,delete mysql storage and use config file store data,MERGED,2021-05-11 05:58:47.000000000,2021-05-11 07:08:53.000000000,2021-05-11 07:08:53.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-05-11 05:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/89253b45ef8074fcc7605cc8e03f694fce9447e2', 'message': 'delete mysql storage and use config file store data\n\nChange-Id: I0785cf2c7c0d828d653bd6f20f3e804275014f99\n'}, {'number': 2, 'created': '2021-05-11 06:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/venus/commit/cbd6d0359bfd7bcd6904f522f19532e3d94b8c26', 'message': 'delete mysql storage and use config file store data\n\nChange-Id: I0785cf2c7c0d828d653bd6f20f3e804275014f99\n'}, {'number': 3, 'created': '2021-05-11 06:45:54.000000000', 'files': ['venus/task/backends/__init__.py', 'venus/modules/custom_config/controller.py', 'venus/db/sqlalchemy/migrate_repo/manage.py', 'venus/modules/custom_config/action.py', 'venus/db/sqlalchemy/migrate_repo/__init__.py', 'etc/venus/venus.conf', 'venus/db/sqlalchemy/migrate_repo/versions/__init__.py', 'venus/task/backends/sql.py', 'venus/task/core/delete_es_index_task.py', 'venus/db/migration.py', 'venus/db/sqlalchemy/migrate_repo/versions/001_venus_init.py', 'venus/modules/custom_config/backends/sql.py', 'venus/cmd/manage.py', 'venus/conf/elasticsearch.py', 'venus/db/sqlalchemy/migrate_repo/migrate.cfg', 'venus/db/common.py', 'venus/modules/custom_config/backends/__init__.py', 'venus/modules/custom_config/backends/models.py', 'venus/db/sqlalchemy/api.py', 'venus/db/base.py', 'venus/db/sqlalchemy/__init__.py', 'venus/db/sqlalchemy/migrate_repo/README', 'venus/task/timer.py', 'venus/db/__init__.py', 'venus/task/backends/models.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/4f7515ed2e0664102fbd4197473a917b591144ce', 'message': 'delete mysql storage and use config file store data\n\nChange-Id: I0785cf2c7c0d828d653bd6f20f3e804275014f99\n'}]",6,790552,4f7515ed2e0664102fbd4197473a917b591144ce,10,2,3,30455,,,0,"delete mysql storage and use config file store data

Change-Id: I0785cf2c7c0d828d653bd6f20f3e804275014f99
",git fetch https://review.opendev.org/openstack/venus refs/changes/52/790552/2 && git format-patch -1 --stdout FETCH_HEAD,"['venus/cmd/manage.py', 'venus/conf/elasticsearch.py', 'venus/db/sqlalchemy/migrate_repo/migrate.cfg', 'venus/modules/custom_config/controller.py', 'venus/db/sqlalchemy/migrate_repo/manage.py', 'venus/db/common.py', 'venus/db/sqlalchemy/api.py', 'venus/db/base.py', 'venus/db/sqlalchemy/__init__.py', 'venus/modules/custom_config/action.py', 'venus/db/sqlalchemy/migrate_repo/__init__.py', 'venus/db/sqlalchemy/migrate_repo/README', 'etc/venus/venus.conf', 'venus/db/sqlalchemy/migrate_repo/versions/__init__.py', 'venus/task/core/delete_es_index_task.py', 'venus/db/__init__.py', 'venus/db/migration.py', 'venus/db/sqlalchemy/migrate_repo/versions/001_venus_init.py', 'venus/modules/custom_config/backends/sql.py']",19,89253b45ef8074fcc7605cc8e03f694fce9447e2,, return 30 ,"from venus.db.common import _create_facade_lazily from venus.modules.custom_config.backends import models def get_session(**kwargs): facade = _create_facade_lazily() return facade.get_session(**kwargs) session = get_session() with session.begin(): config = session.query(models.CustomConfig).filter_by( id=id).first() if config is None: return None else: return config.value def set_config(self, id, value): session = get_session() with session.begin(): config = session.query(models.CustomConfig).filter_by( id=id).first() if config is None: s_instance = models.CustomConfig( id=id, value=value, update_time=time.strftime('%Y-%m-%d %H:%M:%S', time.localtime(time.time()))) session.add(s_instance) else: config.value = value config.update_time = time.strftime('%Y-%m-%d %H:%M:%S', time.localtime(time.time())) ",9,535
openstack%2Fironic~master~Ida2d1003eb99f012be0eca6ebde4fe2f935b2880,openstack/ironic,master,Ida2d1003eb99f012be0eca6ebde4fe2f935b2880,Upgrade guide: remove ancient versions and group with Installation,MERGED,2021-05-10 09:02:08.000000000,2021-05-11 06:54:35.000000000,2021-05-11 06:51:54.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-10 09:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c4252ce0100e28ca8e18d4c21fb9e66759616c4b', 'message': 'Upgrade guide: remove ancient versions and group with Installation\n\nChange-Id: Ida2d1003eb99f012be0eca6ebde4fe2f935b2880\n'}, {'number': 2, 'created': '2021-05-10 15:18:24.000000000', 'files': ['doc/source/admin/upgrade-guide.rst', 'doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b92fa285a9b6284e56cc3f905ab9f2b0d38f299a', 'message': 'Upgrade guide: remove ancient versions and group with Installation\n\nChange-Id: Ida2d1003eb99f012be0eca6ebde4fe2f935b2880\n'}]",0,790386,b92fa285a9b6284e56cc3f905ab9f2b0d38f299a,13,3,2,10239,,,0,"Upgrade guide: remove ancient versions and group with Installation

Change-Id: Ida2d1003eb99f012be0eca6ebde4fe2f935b2880
",git fetch https://review.opendev.org/openstack/ironic refs/changes/86/790386/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/upgrade-guide.rst', 'doc/source/index.rst']",2,c4252ce0100e28ca8e18d4c21fb9e66759616c4b,ancient-upgrade,, Upgrade Guide ============= .. toctree:: :maxdepth: 2 ,1,128
openstack%2Fsecurity-specs~master~Ia1991c1687e43a6c9725d50e5e4d14a5d0487f53,openstack/security-specs,master,Ia1991c1687e43a6c9725d50e5e4d14a5d0487f53,remove unicode from code,MERGED,2021-01-05 09:21:21.000000000,2021-05-11 06:42:18.000000000,2021-05-11 06:39:58.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-05 09:21:21.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/security-specs/commit/90184ace78b05db513a479f44751992867355d08', 'message': 'remove unicode from code\n\nChange-Id: Ia1991c1687e43a6c9725d50e5e4d14a5d0487f53\n'}]",0,769277,90184ace78b05db513a479f44751992867355d08,7,2,1,32020,,,0,"remove unicode from code

Change-Id: Ia1991c1687e43a6c9725d50e5e4d14a5d0487f53
",git fetch https://review.opendev.org/openstack/security-specs refs/changes/77/769277/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,90184ace78b05db513a479f44751992867355d08,,"project = 'security-specs' copyright = '%s, OpenStack Foundation' % datetime.date.today().year '%s Documentation' % project, 'OpenStack Foundation', 'manual'),","project = u'security-specs' copyright = u'%s, OpenStack Foundation' % datetime.date.today().year u'%s Documentation' % project, u'OpenStack Foundation', 'manual'),",4,4
openstack%2Fpyeclib~master~I35454f050c8fb24795182fb3fe55c3bb4076e6fc,openstack/pyeclib,master,I35454f050c8fb24795182fb3fe55c3bb4076e6fc,Stop using a mutable default param in fragments_needed,MERGED,2021-05-07 23:09:44.000000000,2021-05-11 06:41:04.000000000,2021-05-11 06:41:04.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 23:09:44.000000000', 'files': ['pyeclib/ec_iface.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/c3313b3ebc342f96b04e2dcd9a394715ec659951', 'message': 'Stop using a mutable default param in fragments_needed\n\nChange-Id: I35454f050c8fb24795182fb3fe55c3bb4076e6fc\n'}]",0,790310,c3313b3ebc342f96b04e2dcd9a394715ec659951,10,2,1,15343,,,0,"Stop using a mutable default param in fragments_needed

Change-Id: I35454f050c8fb24795182fb3fe55c3bb4076e6fc
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/10/790310/1 && git format-patch -1 --stdout FETCH_HEAD,['pyeclib/ec_iface.py'],1,c3313b3ebc342f96b04e2dcd9a394715ec659951,, exclude_indexes=None): if exclude_indexes is None: exclude_indexes = [], exclude_indexes=[]):,3,1
openstack%2Fcontributor-guide~master~I28ae50d9a47f8934095016b69a024bf4efb74ca7,openstack/contributor-guide,master,I28ae50d9a47f8934095016b69a024bf4efb74ca7,remove unicode from code,MERGED,2021-01-07 02:36:10.000000000,2021-05-11 06:40:04.000000000,2021-05-11 06:37:00.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-07 02:36:10.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/contributor-guide/commit/86b9134ace5f123f2717527376221cdf6860619f', 'message': 'remove unicode from code\n\nChange-Id: I28ae50d9a47f8934095016b69a024bf4efb74ca7\n'}]",0,769644,86b9134ace5f123f2717527376221cdf6860619f,7,2,1,32921,,,0,"remove unicode from code

Change-Id: I28ae50d9a47f8934095016b69a024bf4efb74ca7
",git fetch https://review.opendev.org/openstack/contributor-guide refs/changes/44/769644/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,86b9134ace5f123f2717527376221cdf6860619f,,"project = 'contributor-guide' copyright = '2017, OpenStack Developers' '%s Documentation' % project, 'OpenStack Developers', 'manual'),","project = u'contributor-guide' copyright = u'2017, OpenStack Developers' u'%s Documentation' % project, u'OpenStack Developers', 'manual'),",4,4
openstack%2Ftrove~master~Id9f5a0e54052f5541cb0d82d208923c11dfb73eb,openstack/trove,master,Id9f5a0e54052f5541cb0d82d208923c11dfb73eb,Add PDF building,NEW,2021-01-23 10:01:06.000000000,2021-05-11 04:40:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-01-23 10:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/2b0b690621825ba0479fa0be5033530fbc44d190', 'message': ""Add PDF building\n\nThis commit adds PDF documentation build target 'pdf-docs' that will\nbuild PDF versions of our docs. As per the Train community goal:\n\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\n\nChange-Id: Id9f5a0e54052f5541cb0d82d208923c11dfb73eb\n""}, {'number': 2, 'created': '2021-01-24 07:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0c48be608266b25668c500ac6335c9b2b34f53a6', 'message': ""Add PDF building\n\nThis commit adds PDF documentation build target 'pdf-docs' that will\nbuild PDF versions of our docs. As per the Train community goal:\n\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\n\nChange-Id: Id9f5a0e54052f5541cb0d82d208923c11dfb73eb\n""}, {'number': 3, 'created': '2021-05-11 02:32:05.000000000', 'files': ['test-requirements.txt', 'doc/source/conf.py', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/1b97191b7401228952f5bde9cd1b4e596b9a7f0b', 'message': ""Add PDF building\n\nThis commit adds PDF documentation build target 'pdf-docs' that will\nbuild PDF versions of our docs. As per the Train community goal:\n\nhttps://governance.openstack.org/tc/goals/train/pdf-doc-generation.html\n\nChange-Id: Id9f5a0e54052f5541cb0d82d208923c11dfb73eb\n""}]",0,772151,1b97191b7401228952f5bde9cd1b4e596b9a7f0b,6,1,3,32029,,,0,"Add PDF building

This commit adds PDF documentation build target 'pdf-docs' that will
build PDF versions of our docs. As per the Train community goal:

https://governance.openstack.org/tc/goals/train/pdf-doc-generation.html

Change-Id: Id9f5a0e54052f5541cb0d82d208923c11dfb73eb
",git fetch https://review.opendev.org/openstack/trove refs/changes/51/772151/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/source/conf.py', 'tox.ini']",3,2b0b690621825ba0479fa0be5033530fbc44d190,pdf-docs,[testenv:pdf-docs] basepython = python3 whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,10,0
openstack%2Fvenus~master~I78e592b83a4d3d155fa7462350708dcc69bb0fb0,openstack/venus,master,I78e592b83a4d3d155fa7462350708dcc69bb0fb0,format the requirements.txt file,MERGED,2021-05-11 03:04:50.000000000,2021-05-11 03:21:44.000000000,2021-05-11 03:21:44.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-05-11 03:04:50.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/venus/commit/9c01bf17db8fcfbf4326a3784b4ebaf994a17673', 'message': 'format the requirements.txt file\n\nChange-Id: I78e592b83a4d3d155fa7462350708dcc69bb0fb0\n'}]",0,790546,9c01bf17db8fcfbf4326a3784b4ebaf994a17673,6,2,1,30455,,,0,"format the requirements.txt file

Change-Id: I78e592b83a4d3d155fa7462350708dcc69bb0fb0
",git fetch https://review.opendev.org/openstack/venus refs/changes/46/790546/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,9c01bf17db8fcfbf4326a3784b4ebaf994a17673,,,,0,1
openstack%2Fvenus~master~Ie9455a03b08396640cb5ed0b29ab8a04322930cf,openstack/venus,master,Ie9455a03b08396640cb5ed0b29ab8a04322930cf,add supported python version,MERGED,2021-05-11 01:56:08.000000000,2021-05-11 02:10:19.000000000,2021-05-11 02:10:19.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-05-11 01:56:08.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus/commit/3820d3bd58993b36e91670fcc8d98f9cf88c1ad9', 'message': 'add supported python version\n\nChange-Id: Ie9455a03b08396640cb5ed0b29ab8a04322930cf\n'}]",0,790542,3820d3bd58993b36e91670fcc8d98f9cf88c1ad9,11,2,1,30455,,,0,"add supported python version

Change-Id: Ie9455a03b08396640cb5ed0b29ab8a04322930cf
",git fetch https://review.opendev.org/openstack/venus refs/changes/42/790542/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,3820d3bd58993b36e91670fcc8d98f9cf88c1ad9,, Programming Language :: Python :: 3.7 Programming Language :: Python :: 3.9,,2,0
openstack%2Fcharm-deployment-guide~master~Iae01d8f3dabf2dbafe92f5b0940ea7d02b0d73fd,openstack/charm-deployment-guide,master,Iae01d8f3dabf2dbafe92f5b0940ea7d02b0d73fd,Formatting issues and backport,MERGED,2021-05-10 17:18:31.000000000,2021-05-11 01:56:32.000000000,2021-05-11 01:55:26.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 17:18:31.000000000', 'files': ['deploy-guide/source/app-managing-power-events.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0716dfc63163a03656fce3d9d07eed4270c9352f', 'message': 'Formatting issues and backport\n\nFix some formatting issue on the power-events page.\n\nThis PR will also be used to generate an OpenStack\nWallaby version of the CDG.\n\nChange-Id: Iae01d8f3dabf2dbafe92f5b0940ea7d02b0d73fd\n'}]",0,790500,0716dfc63163a03656fce3d9d07eed4270c9352f,7,2,1,30561,,,0,"Formatting issues and backport

Fix some formatting issue on the power-events page.

This PR will also be used to generate an OpenStack
Wallaby version of the CDG.

Change-Id: Iae01d8f3dabf2dbafe92f5b0940ea7d02b0d73fd
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/00/790500/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-managing-power-events.rst'],1,0716dfc63163a03656fce3d9d07eed4270c9352f,formatting-issues-power-events,"---------------------------------------------------------------------------------------------- ``/var/snap/etcd/common/etcd.conf.yml`` by setting ``force-new-cluster`` to 'true'. ``/var/snap/etcd/common/etcd.conf.yml`` by setting ``force-new-cluster`` to 'false'... code-block:: none.. code-block:: none.. code-block:: console Cluster status of node 'rabbit@ip-172-31-13-243' [{nodes,[{disc,['rabbit@ip-172-31-13-243']}]}, {running_nodes,['rabbit@ip-172-31-13-243']}, {cluster_name,<<""rabbit@ip-172-31-13-243.ec2.internal"">>}, {partitions,[]}, {alarms,[{'rabbit@ip-172-31-13-243',[]}]}].. code-block:: none juju run-action --wait rabbitmq-server/0 pause juju run-action --wait rabbitmq-server/1 cluster-status juju run-action --wait rabbitmq-server/0 pause juju run-action --wait rabbitmq-server/1 cluster-status.. code-block:: none------------","++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ `/var/snap/etcd/common/etcd.conf.yml` by setting `force-new-cluster` to 'true'. `/var/snap/etcd/common/etcd.conf.yml` by setting `force-new-cluster` to 'false'... code::.. code::.. code:: Cluster status of node 'rabbit@ip-172-31-13-243' [{nodes,[{disc,['rabbit@ip-172-31-13-243']}]}, {running_nodes,['rabbit@ip-172-31-13-243']}, {cluster_name,<<""rabbit@ip-172-31-13-243.ec2.internal"">>}, {partitions,[]}, {alarms,[{'rabbit@ip-172-31-13-243',[]}]}].. code:: juju run-action --wait rabbitmq-server/0 pause juju run-action --wait rabbitmq-server/1 cluster-status juju run-action --wait rabbitmq-server/0 pause juju run-action --wait rabbitmq-server/1 cluster-status.. code::++++++++++++",25,25
openstack%2Fswift~master~I9f8e1d1b0f05f98a9e6e97318fc95994505be982,openstack/swift,master,I9f8e1d1b0f05f98a9e6e97318fc95994505be982,Replace getargspec with getfullargspec,ABANDONED,2021-05-10 10:25:18.000000000,2021-05-11 01:48:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-10 10:25:18.000000000', 'files': ['test/unit/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/62066faf8edf12b74cac50f67d14b8a0922f3d1c', 'message': 'Replace getargspec with getfullargspec\n\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I9f8e1d1b0f05f98a9e6e97318fc95994505be982\n'}]",0,790397,62066faf8edf12b74cac50f67d14b8a0922f3d1c,3,1,1,32029,,,0,"Replace getargspec with getfullargspec

inspect.getargspec() is deprecated since py3

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: I9f8e1d1b0f05f98a9e6e97318fc95994505be982
",git fetch https://review.opendev.org/openstack/swift refs/changes/97/790397/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/__init__.py'],1,62066faf8edf12b74cac50f67d14b8a0922f3d1c,inspect, argspec = inspect.getfullargspec(give_conn_fn) if argspec.varkw or 'connection_id' in argspec.args:, argspec = inspect.getargspec(give_conn_fn) if argspec.keywords or 'connection_id' in argspec.args:,2,2
openstack%2Fpuppet-manila~master~Ie2e2d93176da896da77d777f9cf1e692247e4d7f,openstack/puppet-manila,master,Ie2e2d93176da896da77d777f9cf1e692247e4d7f,Add support for Ganesha options,MERGED,2021-05-08 06:05:34.000000000,2021-05-11 00:58:25.000000000,2021-05-11 00:57:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 06:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/27b1d07fb6baaaa7f0d0ec8cae618b91f4f4819a', 'message': 'Add support for Ganesha options\n\nSome share drivers like CephFS uses nfs-ganesha to provide NFS\ninterface. This change introduces a new resource type so that users\ncan set additional parameters for nfs-ganesha usage for some share\ndrivers.\n\nChange-Id: Ie2e2d93176da896da77d777f9cf1e692247e4d7f\n'}, {'number': 2, 'created': '2021-05-08 06:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/cb2e5640656ef583a93b02543ac4d34bb0cd6c80', 'message': 'Add support for Ganesha options\n\nSome share drivers like CephFS uses nfs-ganesha to provide NFS\ninterface. This change introduces a new resource type so that users\ncan set additional parameters for nfs-ganesha usage for some share\ndrivers.\n\nChange-Id: Ie2e2d93176da896da77d777f9cf1e692247e4d7f\n'}, {'number': 3, 'created': '2021-05-08 06:44:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/218ad6a6fe7b3206c600020fdf3f5df6d814f800', 'message': 'Add support for Ganesha options\n\nSome share drivers like CephFS uses nfs-ganesha to provide NFS\ninterface. This change introduces a new resource type so that users\ncan set additional parameters for nfs-ganesha usage for some share\ndrivers.\n\nChange-Id: Ie2e2d93176da896da77d777f9cf1e692247e4d7f\n'}, {'number': 4, 'created': '2021-05-08 10:31:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/b78f9ad394a76d898555d52a127b02a0494aff4f', 'message': 'Add support for Ganesha options\n\nSome share drivers like CephFS uses nfs-ganesha to provide NFS\ninterface. This change introduces a new resource type so that users\ncan set additional parameters for nfs-ganesha usage for some share\ndrivers.\n\nChange-Id: Ie2e2d93176da896da77d777f9cf1e692247e4d7f\n'}, {'number': 5, 'created': '2021-05-08 14:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/7c0be75ca007b61f7447a14980f29d419f46e520', 'message': 'Add support for Ganesha options\n\nSome share drivers like CephFS uses nfs-ganesha to provide NFS\ninterface. This change introduces a new resource type so that users\ncan set additional parameters for nfs-ganesha usage for some share\ndrivers.\n\nChange-Id: Ie2e2d93176da896da77d777f9cf1e692247e4d7f\n'}, {'number': 6, 'created': '2021-05-08 15:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/17b570a067231e2bc406beb30acd30443882f538', 'message': 'Add support for Ganesha options\n\nSome share drivers like CephFS uses nfs-ganesha to provide NFS\ninterface. This change introduces a new resource type so that users\ncan set additional parameters for nfs-ganesha usage for some share\ndrivers.\n\nChange-Id: Ie2e2d93176da896da77d777f9cf1e692247e4d7f\n'}, {'number': 7, 'created': '2021-05-08 17:07:48.000000000', 'files': ['manifests/backend/ganesha.pp', 'spec/defines/manila_backend_ganesha_spec.rb', 'releasenotes/notes/backend-ganesha-opts-1879e014a3796efd.yaml', 'manifests/ganesha.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/95dba69923a4f3c38d9b7732a23cba1f344b3c15', 'message': 'Add support for Ganesha options\n\nSome share drivers like CephFS uses nfs-ganesha to provide NFS\ninterface. This change introduces a new resource type so that users\ncan set additional parameters for nfs-ganesha usage for some share\ndrivers.\n\nChange-Id: Ie2e2d93176da896da77d777f9cf1e692247e4d7f\n'}]",0,790317,95dba69923a4f3c38d9b7732a23cba1f344b3c15,22,3,7,9816,,,0,"Add support for Ganesha options

Some share drivers like CephFS uses nfs-ganesha to provide NFS
interface. This change introduces a new resource type so that users
can set additional parameters for nfs-ganesha usage for some share
drivers.

Change-Id: Ie2e2d93176da896da77d777f9cf1e692247e4d7f
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/17/790317/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/ganesha.pp', 'spec/defines/manila_backend_ganesha_spec.rb', 'manifests/ganesha.pp', 'releasenotes/notes/backend-ganesha-opts-1879e014a3796efd.yaml']",4,27b1d07fb6baaaa7f0d0ec8cae618b91f4f4819a,ganesha-opts,--- features: - | The ``manila::backend::ganesha`` resource type has been added. This allows configuring Ganesha share which is supported by some drivers like CephFS. ,,144,16
openstack%2Fopenstacksdk~stable%2Fstein~I91345ebf509238ca1f800cb595818c023cc56b0d,openstack/openstacksdk,stable/stein,I91345ebf509238ca1f800cb595818c023cc56b0d,Switch nodepool test to containers,MERGED,2021-04-28 07:39:33.000000000,2021-05-10 23:43:27.000000000,2021-05-10 23:41:04.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-28 07:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1a97054bad12eb51acdb4752604d867dbbabe9a4', 'message': 'Switch nodepool test to containers\n\nThe nodepool-functional-container-openstack-siblings builds nodepool\ncontainer images (with openstacksdk and other ""siblings"" of nodepool\nfrom source) and runs the build/boot tests with that.\n\nThe container builds of these tools are what OpenDev uses in\nproduction, so this is more practical testing than installing by parts\non a bare Bionic system.  This allows us to remove the job duplication\nin nodepool.\n\nBackport note: this backport uses centos-8 stream job, which was\nintroduced with 97ccea4683bfd607393b00f9a0cb83620f69b363.  This should\nallow us to remove the non-container versions of these jobs from\nnodepool tree\n\nCherry-picked from 5db7d5573a1afaed7d7b5805f3832e02354ee6a4\nNeeded-By: https://review.opendev.org/c/zuul/nodepool/+/788406\nChange-Id: I91345ebf509238ca1f800cb595818c023cc56b0d\n'}, {'number': 2, 'created': '2021-05-04 23:09:59.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8171ad0cbe3182a891dc9db2f0fa14ca8ac6690a', 'message': 'Switch nodepool test to containers\n\nThe nodepool-functional-container-openstack-siblings builds nodepool\ncontainer images (with openstacksdk and other ""siblings"" of nodepool\nfrom source) and runs the build/boot tests with that.\n\nThe container builds of these tools are what OpenDev uses in\nproduction, so this is more practical testing than installing by parts\non a bare Bionic system.  This allows us to remove the job duplication\nin nodepool.\n\nBackport note: this backport uses centos-8 stream job, which was\nintroduced with 97ccea4683bfd607393b00f9a0cb83620f69b363.  This should\nallow us to remove the non-container versions of these jobs from\nnodepool tree.\n\nFuther backport notes:\n\nThis branch required a few extras to get the gate in a state we can\ncommit:\n\n * tox pep8 dependencies pinned to the versions when they last worked\n * several devstack jobs made non-voting, removed.  I bet they all\n   fail from the same root cause, but I don\'t know what that is, and\n   I doubt anyone wants to debug this.\n * bifrost xenial job turned -nv, see\n    Ife258aa7229afed0099036bb2051be73f695b547\n\nCherry-picked from 5db7d5573a1afaed7d7b5805f3832e02354ee6a4\nNeeded-By: https://review.opendev.org/c/zuul/nodepool/+/788406\nChange-Id: I91345ebf509238ca1f800cb595818c023cc56b0d\n'}]",0,788414,8171ad0cbe3182a891dc9db2f0fa14ca8ac6690a,22,3,2,7118,,,0,"Switch nodepool test to containers

The nodepool-functional-container-openstack-siblings builds nodepool
container images (with openstacksdk and other ""siblings"" of nodepool
from source) and runs the build/boot tests with that.

The container builds of these tools are what OpenDev uses in
production, so this is more practical testing than installing by parts
on a bare Bionic system.  This allows us to remove the job duplication
in nodepool.

Backport note: this backport uses centos-8 stream job, which was
introduced with 97ccea4683bfd607393b00f9a0cb83620f69b363.  This should
allow us to remove the non-container versions of these jobs from
nodepool tree.

Futher backport notes:

This branch required a few extras to get the gate in a state we can
commit:

 * tox pep8 dependencies pinned to the versions when they last worked
 * several devstack jobs made non-voting, removed.  I bet they all
   fail from the same root cause, but I don't know what that is, and
   I doubt anyone wants to debug this.
 * bifrost xenial job turned -nv, see
    Ife258aa7229afed0099036bb2051be73f695b547

Cherry-picked from 5db7d5573a1afaed7d7b5805f3832e02354ee6a4
Needed-By: https://review.opendev.org/c/zuul/nodepool/+/788406
Change-Id: I91345ebf509238ca1f800cb595818c023cc56b0d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/14/788414/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1a97054bad12eb51acdb4752604d867dbbabe9a4,change-788414-1, - opendev-buildset-registry - nodepool-build-image-siblings - dib-nodepool-functional-openstack-centos-8-stream-src - opendev-buildset-registry - nodepool-build-image-siblings - dib-nodepool-functional-openstack-centos-8-stream-src, - nodepool-functional-openstack-src - nodepool-functional-openstack-src,6,2
openstack%2Fmetalsmith~stable%2Fvictoria~I19b297a56f588ee8ae0ca79714f9f7da3e4b3cfb,openstack/metalsmith,stable/victoria,I19b297a56f588ee8ae0ca79714f9f7da3e4b3cfb,Point ipa-builder to stable/wallaby,MERGED,2021-05-10 14:14:48.000000000,2021-05-10 22:56:30.000000000,2021-05-10 22:54:11.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 14:14:48.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/e3045e207f007cd4ffc5d264ad17fcfa73d07daf', 'message': ""Point ipa-builder to stable/wallaby\n\nSince ironic-python-agent-bulder has stable branches starting from\nwallaby, we need to point all the older branches to stable/wallaby,\nunless they're already pinned to an older version.\n\nChange-Id: I19b297a56f588ee8ae0ca79714f9f7da3e4b3cfb\n""}]",0,790463,e3045e207f007cd4ffc5d264ad17fcfa73d07daf,8,3,1,23851,,,0,"Point ipa-builder to stable/wallaby

Since ironic-python-agent-bulder has stable branches starting from
wallaby, we need to point all the older branches to stable/wallaby,
unless they're already pinned to an older version.

Change-Id: I19b297a56f588ee8ae0ca79714f9f7da3e4b3cfb
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/63/790463/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e3045e207f007cd4ffc5d264ad17fcfa73d07daf,ipa-builder-stable, - name: openstack/ironic-python-agent-builder override-checkout: stable/wallaby, - openstack/ironic-python-agent-builder,2,1
openstack%2Fpython-neutronclient~master~I2ae460a7a7f01d7346d5e51ec6ccb44c22d0c53e,openstack/python-neutronclient,master,I2ae460a7a7f01d7346d5e51ec6ccb44c22d0c53e,Replace getargspec with getfullargspec,MERGED,2021-05-10 10:09:56.000000000,2021-05-10 22:31:54.000000000,2021-05-10 22:30:40.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 10:09:56.000000000', 'files': ['neutronclient/tests/unit/test_client_extension.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/2c2a1f4de7b6e3a1b8f3e3ff0fc5b23b5f0f4f7a', 'message': 'Replace getargspec with getfullargspec\n\ninspect.getargspec() is deprecated since py3\n\n[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec\n\nChange-Id: I2ae460a7a7f01d7346d5e51ec6ccb44c22d0c53e\n'}]",0,790395,2c2a1f4de7b6e3a1b8f3e3ff0fc5b23b5f0f4f7a,8,3,1,32029,,,0,"Replace getargspec with getfullargspec

inspect.getargspec() is deprecated since py3

[1] https://docs.python.org/3/library/inspect.html#inspect.getargspec

Change-Id: I2ae460a7a7f01d7346d5e51ec6ccb44c22d0c53e
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/95/790395/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/tests/unit/test_client_extension.py'],1,2c2a1f4de7b6e3a1b8f3e3ff0fc5b23b5f0f4f7a,inspect, argspec = inspect.getfullargspec(method), argspec = inspect.getargspec(method),1,1
openstack%2Fpuppet-cinder~master~Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f,openstack/puppet-cinder,master,Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f,Deprecate the redundant cinder::backend_host parameter,MERGED,2021-05-02 12:01:41.000000000,2021-05-10 22:26:54.000000000,2021-05-10 22:25:16.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 12:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a0343786add47e89d8c66e6ab7c2ea3f0bb46b78', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is not used in the cinder class\nitselfu but is used to only override the cinder::backends::backend_host\nparameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 2, 'created': '2021-05-02 14:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0f29618c46687e2c7d02e51a81ddbaada8a416ea', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is not used in the cinder class\nitselfu but is used to only override the cinder::backends::backend_host\nparameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 3, 'created': '2021-05-03 01:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/cfa892523f1a4cf23cb72d40215dd4969e3422ea', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is not used in the cinder class\nitselfu but is used to only override the cinder::backends::backend_host\nparameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 4, 'created': '2021-05-03 14:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a60894116880ff025d86f693e51447466aaf40f0', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is redundant, because it is not used\nin the cinder class where the parameter is defined but is used to\noverride the cinder::backends::backend_host parameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 5, 'created': '2021-05-03 14:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/9594345fa96ce7cce7c8ef22ea96eaef49d80b84', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is redundant, because it is not used\nin the cinder class where the parameter is defined but is used to only\noverride the cinder::backends::backend_host parameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 6, 'created': '2021-05-03 16:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/0deb76b20edd7d8956b45fa5ad08f9c2919c7753', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is redundant, because it is not used\nin the cinder class where the parameter is defined but is used to only\noverride the cinder::backends::backend_host parameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 7, 'created': '2021-05-03 16:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ab7b0446b18694b413deaf43ee934d0755c1d562', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is redundant, because it is not used\nin the cinder class where the parameter is defined but is used to only\noverride the cinder::backends::backend_host parameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 8, 'created': '2021-05-03 16:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/5fff863bc2182095d338f70c5b2a27b8ddedb772', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is redundant, because it is not used\nin the cinder class where the parameter is defined but is used to only\noverride the cinder::backends::backend_host parameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 9, 'created': '2021-05-03 16:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/b7c901a0b4d899f402ffac24490d3c185159161f', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is redundant, because it is not used\nin the cinder class where the parameter is defined but is used to only\noverride the cinder::backends::backend_host parameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 10, 'created': '2021-05-04 07:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/37f43ad7f07a751973b7e1552715d34bb388e650', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is redundant, because it is not used\nin the cinder class where the parameter is defined but is used to only\noverride the cinder::backends::backend_host parameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 11, 'created': '2021-05-04 14:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ec965215b2f24b288786e71f2480273d2857826e', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is redundant, because it is not used\nin the cinder class where the parameter is defined but is used to only\noverride the cinder::backends::backend_host parameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 12, 'created': '2021-05-04 14:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/2799f7619339cb627bdc3ccc0c4378d40958ad51', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is redundant, because it is not used\nin the cinder class where the parameter is defined but is used to only\noverride the cinder::backends::backend_host parameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}, {'number': 13, 'created': '2021-05-05 23:23:30.000000000', 'files': ['releasenotes/notes/deprecate-cinder-backend_host-8998890a80cbf783.yaml', 'spec/classes/cinder_backends_spec.rb', 'manifests/init.pp', 'manifests/backends.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8e233cfb92ba158416b425ec86aca8ba9ecb66bf', 'message': 'Deprecate the redundant cinder::backend_host parameter\n\nThe cinder::backend_host parameter is redundant, because it is not used\nin the cinder class where the parameter is defined but is used to only\noverride the cinder::backends::backend_host parameter.\n\nChange-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f\n'}]",7,789088,8e233cfb92ba158416b425ec86aca8ba9ecb66bf,31,3,13,9816,,,0,"Deprecate the redundant cinder::backend_host parameter

The cinder::backend_host parameter is redundant, because it is not used
in the cinder class where the parameter is defined but is used to only
override the cinder::backends::backend_host parameter.

Change-Id: Ife5f8bdcfd4e982b7ffa5532b2a23d48c65d501f
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/88/789088/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-cinder-backend_host-8998890a80cbf783.yaml', 'manifests/init.pp']",2,a0343786add47e89d8c66e6ab7c2ea3f0bb46b78,backend_host," $backend_host = undef, if $backend_host != undef { warning('The backend_host parameter is deprecated. \ Use the cinder::backends::backend_host parameter instead') } "," $backend_host = undef, # NOTE(abishop): $backend_host is not written here because it is not a valid # DEFAULT option. It is only recognized in the backend sections. Instead, # for backward compatibility, backends.pp references this parameter.",12,4
openstack%2Fneutron-lib~master~I13fe66532101f32059ead9d68c84e4c6a5843959,openstack/neutron-lib,master,I13fe66532101f32059ead9d68c84e4c6a5843959,api-ref: trivial: fix requiered -> required typo,MERGED,2021-05-07 15:29:36.000000000,2021-05-10 22:01:03.000000000,2021-05-10 21:59:47.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 15:29:36.000000000', 'files': ['api-ref/source/v2/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/40cc71c6f6b3529c3a80f69ff27679f87ad106a9', 'message': 'api-ref: trivial: fix requiered -> required typo\n\nChange-Id: I13fe66532101f32059ead9d68c84e4c6a5843959\n'}]",0,790277,40cc71c6f6b3529c3a80f69ff27679f87ad106a9,8,3,1,8864,,,0,"api-ref: trivial: fix requiered -> required typo

Change-Id: I13fe66532101f32059ead9d68c84e4c6a5843959
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/77/790277/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/parameters.yaml'],1,40cc71c6f6b3529c3a80f69ff27679f87ad106a9,," scheduling. Values: ``None``, ``required``, ``preferred`` or ``legacy``. scheduling. Values: ``None``, ``required``, ``preferred`` or ``legacy``."," scheduling. Values: ``None``, ``requiered``, ``preferred`` or ``legacy``. scheduling. Values: ``None``, ``requiered``, ``preferred`` or ``legacy``.",2,2
openstack%2Fpuppet-cinder~master~I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e,openstack/puppet-cinder,master,I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e,Fix handling of the backend_host parameter,MERGED,2021-05-02 12:01:41.000000000,2021-05-10 21:59:10.000000000,2021-05-10 21:57:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 12:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/45a2ba5920def51fff6e932dc56652941b0def49', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}, {'number': 2, 'created': '2021-05-02 14:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/9301396ac72a2e49677e12b2ad038a5bd6dcbc17', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}, {'number': 3, 'created': '2021-05-03 01:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/63d43e4ed5c52979bdcc58c2f3bdbe8e6a11f5c9', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}, {'number': 4, 'created': '2021-05-03 16:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/264dd2d67d85fc628246b4f3b68bffd95aca9b77', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}, {'number': 5, 'created': '2021-05-03 16:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ee36175c03fc1ceeda391b09b15eee7a5088b4dd', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}, {'number': 6, 'created': '2021-05-03 16:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1c2549455ec202c38f9b7158853aee2b24d7da95', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}, {'number': 7, 'created': '2021-05-03 16:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c03077d79d5a073cabae507f5ff07f7c5bd7800b', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}, {'number': 8, 'created': '2021-05-04 07:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/b3a7090760ec2f5ced0ed7b028fa0783c78707dd', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}, {'number': 9, 'created': '2021-05-04 14:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d0bdaea835acb4698bd628850996a18a3c7a43e7', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}, {'number': 10, 'created': '2021-05-04 14:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/971b0ba3945f5ca044323ee150708b031a06186a', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}, {'number': 11, 'created': '2021-05-05 23:17:37.000000000', 'files': ['releasenotes/notes/cinder-backend_host-bac88f58b0ce8343.yaml', 'manifests/init.pp', 'manifests/backends.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/5449d242f4fc77e27357331d22719c3f99dcf8c7', 'message': 'Fix handling of the backend_host parameter\n\nCurrently the cinder::backend_host parameter is ignored unless\nhieradata is used to define its value because hiera function is used\ninstead of pick function.\nThis change ensures that the cinder::backend_host parameter is honored\neven if the parameter is defined in a manifest file.\n\nChange-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e\n'}]",7,789087,5449d242f4fc77e27357331d22719c3f99dcf8c7,36,4,11,9816,,,0,"Fix handling of the backend_host parameter

Currently the cinder::backend_host parameter is ignored unless
hieradata is used to define its value because hiera function is used
instead of pick function.
This change ensures that the cinder::backend_host parameter is honored
even if the parameter is defined in a manifest file.

Change-Id: I9fb8cc2e7185b66dfac868f2fa3a8e1668a17d4e
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/87/789087/9 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_backends_spec.rb', 'manifests/init.pp', 'manifests/backends.pp']",3,45a2ba5920def51fff6e932dc56652941b0def49,backend_host,"# Defaults to pick('cinder::backend_host', $::os_service_default) $backend_host = pick('cinder::backend_host', $::os_service_default), $enabled_backends.each |$backend| { # Avoid colliding with code in backend/rbd.pp unless defined(Cinder_config[""${backend}/backend_host""]) { cinder_config { ""${backend}/backend_host"": value => $backend_host;","# Defaults to hiera('cinder::backend_host', undef) $backend_host = hiera('cinder::backend_host', undef) if $backend_host { $enabled_backends.each |$backend| { # Avoid colliding with code in backend/rbd.pp unless defined(Cinder_config[""${backend}/backend_host""]) { cinder_config { ""${backend}/backend_host"": value => $backend_host; }",12,14
openstack%2Fironic~master~Id3a17c913b609963c9277ef25c9035365c8d9ab6,openstack/ironic,master,Id3a17c913b609963c9277ef25c9035365c8d9ab6,Point ipa-builder to stable/wallaby,ABANDONED,2021-05-10 13:15:49.000000000,2021-05-10 21:55:39.000000000,,[{'_account_id': 23851}],"[{'number': 1, 'created': '2021-05-10 13:15:49.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e5e43b46a6dd5b04da291aa5d583a9ed26a300f3', 'message': ""Point ipa-builder to stable/wallaby\n\nSince ironic-python-agent-bulder has stable branches starting from\nwallaby, we need to point all the older branches to stable/wallaby,\nunless they're already pinned to an older version.\n\nChange-Id: Id3a17c913b609963c9277ef25c9035365c8d9ab6\n""}]",0,790433,e5e43b46a6dd5b04da291aa5d583a9ed26a300f3,4,1,1,23851,,,0,"Point ipa-builder to stable/wallaby

Since ironic-python-agent-bulder has stable branches starting from
wallaby, we need to point all the older branches to stable/wallaby,
unless they're already pinned to an older version.

Change-Id: Id3a17c913b609963c9277ef25c9035365c8d9ab6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/790433/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,e5e43b46a6dd5b04da291aa5d583a9ed26a300f3,ipa-builder-stable, - name: opendev.org/openstack/ironic-python-agent-builder override-checkout: stable/wallaby - name: opendev.org/openstack/ironic-python-agent-builder override-checkout: stable/wallaby - name: opendev.org/openstack/ironic-python-agent-builder override-checkout: stable/wallaby - name: opendev.org/openstack/ironic-python-agent-builder override-checkout: stable/wallaby, - opendev.org/openstack/ironic-python-agent-builder - opendev.org/openstack/ironic-python-agent-builder - opendev.org/openstack/ironic-python-agent-builder - opendev.org/openstack/ironic-python-agent-builder,8,4
openstack%2Fcinder~master~Icf27ea898507ffec5e410788efcdca3649a73c99,openstack/cinder,master,Icf27ea898507ffec5e410788efcdca3649a73c99,Fix PowerFlex volume type conversion,MERGED,2020-09-28 15:58:01.000000000,2021-05-10 21:41:56.000000000,2021-05-10 16:36:17.000000000,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13671}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21570}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 29122}, {'_account_id': 29705}, {'_account_id': 30615}, {'_account_id': 31016}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-09-28 15:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/745031d189c9a99fc52e01a2296c0c80352e817f', 'message': 'Fix PowerFlex volume type conversion\n\nFix bug with volume migration when volume can be migrated without\nconversion of its type.\n\nChange-Id: Icf27ea898507ffec5e410788efcdca3649a73c99\nCloses-Bug: #1897598\n'}, {'number': 2, 'created': '2021-02-16 14:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d51dbe91ea2ef4a2c2430267f68a4353980bfc70', 'message': 'Fix PowerFlex volume type conversion\n\nFix bug with PowerFlex storage-assisted volume migration when volume\ncan be migrated without conversion of its type.\n\nChange-Id: Icf27ea898507ffec5e410788efcdca3649a73c99\nCloses-Bug: #1897598\n'}, {'number': 3, 'created': '2021-04-14 05:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/82cda2cf318f506ea4a7fcfbb216006999e0916b', 'message': 'Fix PowerFlex volume type conversion\n\nFix bug with PowerFlex storage-assisted volume migration\nwhen volume migration was performed without conversion of\nvolume type in cases where it should have been converted\nto/from thin/thick provisioned.\n\nChange-Id: Icf27ea898507ffec5e410788efcdca3649a73c99\nCloses-Bug: #1897598\n'}, {'number': 4, 'created': '2021-05-04 08:11:12.000000000', 'files': ['cinder/volume/drivers/dell_emc/powerflex/driver.py', 'releasenotes/notes/bug-1897598-powerflex-volume-type-conversion.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cded69efe04530deafdd7cc75ec77a60d24ea9b0', 'message': 'Fix PowerFlex volume type conversion\n\nFix bug with PowerFlex storage-assisted volume migration\nwhen volume migration was performed without conversion of\nvolume type in cases where it should have been converted\nto/from thin/thick provisioned.\n\nChange-Id: Icf27ea898507ffec5e410788efcdca3649a73c99\nCloses-Bug: #1897598\n'}]",20,754785,cded69efe04530deafdd7cc75ec77a60d24ea9b0,174,38,4,31016,,,0,"Fix PowerFlex volume type conversion

Fix bug with PowerFlex storage-assisted volume migration
when volume migration was performed without conversion of
volume type in cases where it should have been converted
to/from thin/thick provisioned.

Change-Id: Icf27ea898507ffec5e410788efcdca3649a73c99
Closes-Bug: #1897598
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/754785/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/powerflex/driver.py', 'releasenotes/notes/bug-1897598-powerflex-volume-type-conversion.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py']",3,745031d189c9a99fc52e01a2296c0c80352e817f,bug/1897598," # |Volume Type|Real provisioning|Conversion|Compression|Pool support thick| ('ThinProvisioned', 'ThinProvisioned', 'NoConversion', 'None', False), ('ThinProvisioned', 'ThickProvisioned', 'ThickToThin', 'None', True), ('ThickProvisioned', 'ThinProvisioned', 'NoConversion', 'None', False), ('ThickProvisioned', 'ThinProvisioned', 'ThinToThick', 'None', True), ('ThinProvisioned', 'ThinProvisioned', 'NoConversion', 'Normal', False), ('ThinProvisioned', 'ThickProvisioned', 'ThickToThin', 'Normal', False), ('ThinProvisioned', 'ThickProvisioned', 'ThickToThin', 'None', False)"," # |Volume type|Real provisioning|Conversion|Compression|Pool support thick| ('thin', 'ThinProvisioned', 'NoConversion', 'None', False), ('thin', 'ThickProvisioned', 'ThickToThin', 'None', True), ('thick', 'ThinProvisioned', 'NoConversion', 'None', False), ('thick', 'ThinProvisioned', 'ThinToThick', 'None', True), ('compressed', 'ThinProvisioned', 'NoConversion', 'Normal', False), ('compressed', 'ThickProvisioned', 'ThickToThin', 'Normal', False), ('compressed', 'ThickProvisioned', 'ThickToThin', 'None', False)",19,11
openstack%2Fneutron~master~I1485948b251e451895f8e773cc34be1221cf650d,openstack/neutron,master,I1485948b251e451895f8e773cc34be1221cf650d,Add physnet name case sensitivity limitation to the qos doc,MERGED,2021-05-07 16:25:54.000000000,2021-05-10 21:30:49.000000000,2021-05-10 21:28:39.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 16:25:54.000000000', 'files': ['doc/source/admin/config-qos-min-bw.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dcd277f4f1f6fa0b5d9568e03ece608e3bf34390', 'message': 'Add physnet name case sensitivity limitation to the qos doc\n\nChange-Id: I1485948b251e451895f8e773cc34be1221cf650d\n'}]",0,790280,dcd277f4f1f6fa0b5d9568e03ece608e3bf34390,10,5,1,9708,,,0,"Add physnet name case sensitivity limitation to the qos doc

Change-Id: I1485948b251e451895f8e773cc34be1221cf650d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/790280/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-qos-min-bw.rst'],1,dcd277f4f1f6fa0b5d9568e03ece608e3bf34390,,* Neutron allows physnet names to be case sensitive. So physnet0 and Physnet0 are treated as different physnets. Physnets are mapped to traits in Placement for scheduling purposes. However Placement traits are case insensitive and normalized to full capital. Therefore the scheduling treats physnet0 and Physnet0 as the same physnet. It is advised not to use physnet names that are only differ by case. ,,7,0
openstack%2Fpuppet-neutron~master~I49998e3aa5c8d7b47c79764587594ee66c34bb24,openstack/puppet-neutron,master,I49998e3aa5c8d7b47c79764587594ee66c34bb24,Escape hyphen in neutron_agent_sriov_numvfs regexp,MERGED,2021-05-05 13:45:48.000000000,2021-05-10 21:21:52.000000000,2021-05-10 21:21:52.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 13:45:48.000000000', 'files': ['lib/puppet/type/neutron_agent_sriov_numvfs.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5cff5cdfd5d2b5ce27152e49458c8fcd44e3888b', 'message': 'Escape hyphen in neutron_agent_sriov_numvfs regexp\n\nChange-Id: I49998e3aa5c8d7b47c79764587594ee66c34bb24\n'}]",0,789834,5cff5cdfd5d2b5ce27152e49458c8fcd44e3888b,8,3,1,16137,,,0,"Escape hyphen in neutron_agent_sriov_numvfs regexp

Change-Id: I49998e3aa5c8d7b47c79764587594ee66c34bb24
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/34/789834/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/type/neutron_agent_sriov_numvfs.rb'],1,5cff5cdfd5d2b5ce27152e49458c8fcd44e3888b,, newvalues(/^[a-z0-9\-_]+:[0-9]+$/), newvalues(/^[a-z0-9-_]+:[0-9]+$/),1,1
openstack%2Fpuppet-nova~master~I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351,openstack/puppet-nova,master,I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351,Fixing section ovsdb_connection,MERGED,2021-05-04 21:26:48.000000000,2021-05-10 21:16:51.000000000,2021-05-10 21:16:51.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 18511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 21:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6b33e30968d58652da3db8c89e257d2f952a0c8d', 'message': ""Removing unused DEFAULT/ovsdb_connection\n\nThis setting is not in use by nova and wasn't since at least 2016 [1]\n\nThe correct setting should be `vif_plug_ovs/ovsdb_connection`\n\nThis should be included in another patch alongside the other vif plugins\nsettings.\n\n[1] https://review.opendev.org/c/openstack/os-vif/+/275281\n\nChange-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351\n""}, {'number': 2, 'created': '2021-05-06 02:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/202c71a8a234185442092b4784fae457421051d4', 'message': 'Fixing section ovsdb_connection\n\nThe correct setting should be `vif_plug_ovs/ovsdb_connection`\n\nChange-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351\n'}, {'number': 3, 'created': '2021-05-06 13:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/91eae0d63e2620ee860e20ccb41d44d828b7e315', 'message': 'Fixing section ovsdb_connection\n\nThe correct setting should be `vif_plug_ovs/ovsdb_connection`\n\nChange-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351\n'}, {'number': 4, 'created': '2021-05-07 11:07:28.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b72f98538cad05be8b2c42a46dec78fe0b288008', 'message': 'Fixing section ovsdb_connection\n\nThe correct setting should be `vif_plug_ovs/ovsdb_connection`\n\nChange-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351\n'}]",4,789633,b72f98538cad05be8b2c42a46dec78fe0b288008,24,4,4,27419,,,0,"Fixing section ovsdb_connection

The correct setting should be `vif_plug_ovs/ovsdb_connection`

Change-Id: I59b7b15301c7faca8ec87cbc22c6fd2b2e64c351
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/33/789633/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,6b33e30968d58652da3db8c89e257d2f952a0c8d,automated_config_validation,," is_expected.to contain_nova_config('DEFAULT/ovsdb_connection').with_value('<SERVICE DEFAULT>') :ovsdb_connection => 'tcp:127.0.0.1:6640', is_expected.to contain_nova_config('DEFAULT/ovsdb_connection').with_value('tcp:127.0.0.1:6640')",0,10
openstack%2Fpuppet-neutron~master~Ib28b1ffd27db28daf6724193bf2717edbe53526d,openstack/puppet-neutron,master,Ib28b1ffd27db28daf6724193bf2717edbe53526d,Remove the ovsdb_interface parameter,MERGED,2021-05-08 05:24:06.000000000,2021-05-10 20:36:52.000000000,2021-05-10 20:35:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 05:24:06.000000000', 'files': ['releasenotes/notes/remove-ovsdb_interface-3d367bcc90efae16.yaml', 'manifests/agents/ml2/ovs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/b6dd86573b59884d21b1b048f139cec72bd56cfa', 'message': 'Remove the ovsdb_interface parameter\n\n... because it was deprecated during the Ussuri cycle[1] and has had\nno effect since then.\n\n[1] 3568ccf3d7b055fcf014ac36cbf880278648e4bc\n\nChange-Id: Ib28b1ffd27db28daf6724193bf2717edbe53526d\n'}]",0,790314,b6dd86573b59884d21b1b048f139cec72bd56cfa,8,3,1,9816,,,0,"Remove the ovsdb_interface parameter

... because it was deprecated during the Ussuri cycle[1] and has had
no effect since then.

[1] 3568ccf3d7b055fcf014ac36cbf880278648e4bc

Change-Id: Ib28b1ffd27db28daf6724193bf2717edbe53526d
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/14/790314/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-ovsdb_interface-3d367bcc90efae16.yaml', 'manifests/agents/ml2/ovs.pp']",2,b6dd86573b59884d21b1b048f139cec72bd56cfa,ovsdb_interface,,"# DEPRECATED # # [*ovsdb_interface*] # (optional) The interface for interacting with the OVSDB # Allowed values: vsctl, native # Defaults to undef # # DEPRECATED $ovsdb_interface = undef, # TODO(tobias.urdin): Remove in V release. if $ovsdb_interface != undef { warning('ovsdb_interface is deprecated and has no effect') } neutron_agent_ovs { 'ovs/ovsdb_interface': ensure => absent; 'ovs/of_interface': ensure => absent; } ",5,18
openstack%2Fpuppet-neutron~master~I54d5761c4111d2f47efec7e185390a8dd06a6ea3,openstack/puppet-neutron,master,I54d5761c4111d2f47efec7e185390a8dd06a6ea3,Remove XenAPI parameters from neutron::rootwrap,MERGED,2021-05-08 05:35:32.000000000,2021-05-10 20:26:50.000000000,2021-05-10 20:25:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 05:35:32.000000000', 'files': ['manifests/rootwrap.pp', 'releasenotes/notes/remove-xenapi-cac3e15a8745e424.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/327bc154d5955de3150d5c51c31aab1047f84755', 'message': 'Remove XenAPI parameters from neutron::rootwrap\n\n... because these parameter were deprecated during the previous cycle.\n\nChange-Id: I54d5761c4111d2f47efec7e185390a8dd06a6ea3\n'}]",0,790315,327bc154d5955de3150d5c51c31aab1047f84755,10,3,1,9816,,,0,"Remove XenAPI parameters from neutron::rootwrap

... because these parameter were deprecated during the previous cycle.

Change-Id: I54d5761c4111d2f47efec7e185390a8dd06a6ea3
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/15/790315/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/rootwrap.pp', 'releasenotes/notes/remove-xenapi-cac3e15a8745e424.yaml']",2,327bc154d5955de3150d5c51c31aab1047f84755,remove-xenapi,--- upgrade: - | The following parameters of the ``neutron::rootwrap`` class have been removed. - ``xenapi_connection_url`` - ``xenapi_connection_username`` - ``xenapi_connection_password`` ,,10,34
openstack%2Fkayobe~stable%2Ftrain~I469b65e9dd6a52572dc94604bbe1811a07a29c46,openstack/kayobe,stable/train,I469b65e9dd6a52572dc94604bbe1811a07a29c46,Restore upper constraints for docs and releasenotes,MERGED,2021-05-10 15:25:50.000000000,2021-05-10 20:22:55.000000000,2021-05-10 20:13:18.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-05-10 15:25:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3cd8bcf11b763f0601776c3710e75c3752683755', 'message': ""Restore upper constraints for docs and releasenotes\n\nWithout upper constraints, we install the newly released Sphinx 4.0.0\nwhich breaks with:\n\nExtension error (openstackdocstheme.ext):\nHandler <function _builder_inited at 0x7ff877d4f2f0> for event\n'builder-inited' threw an exception (exception: make_link_role() missing\n1 required positional argument: 'caption')\n\nChange-Id: I469b65e9dd6a52572dc94604bbe1811a07a29c46\n""}, {'number': 2, 'created': '2021-05-10 15:57:15.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/67b8e7867af32746b386f08bc7478240b72d6754', 'message': ""Restore upper constraints for docs and releasenotes\n\nWithout upper constraints, we install the newly released Sphinx 4.0.0,\nwhich breaks with:\n\nExtension error (openstackdocstheme.ext):\nHandler <function _builder_inited at 0x7ff877d4f2f0> for event\n'builder-inited' threw an exception (exception: make_link_role() missing\n1 required positional argument: 'caption')\n\nWhen using upper constraints, tox fails with:\n\nERROR: Cannot install cliff<2.15.0 and >=2.5.0 because these package versions have conflicting dependencies.\n\nThe conflict is caused by:\n    The user requested cliff<2.15.0 and >=2.5.0\n    The user requested (constraint) cliff===2.16.0\n\nStop using requirements.txt to avoid this issue. This is already the\ncase in stable/victoria and newer branches [1].\n\n[1] https://review.opendev.org/c/openstack/kayobe/+/752686\n\nChange-Id: I469b65e9dd6a52572dc94604bbe1811a07a29c46\n""}]",0,790475,67b8e7867af32746b386f08bc7478240b72d6754,13,4,2,15197,,,0,"Restore upper constraints for docs and releasenotes

Without upper constraints, we install the newly released Sphinx 4.0.0,
which breaks with:

Extension error (openstackdocstheme.ext):
Handler <function _builder_inited at 0x7ff877d4f2f0> for event
'builder-inited' threw an exception (exception: make_link_role() missing
1 required positional argument: 'caption')

When using upper constraints, tox fails with:

ERROR: Cannot install cliff<2.15.0 and >=2.5.0 because these package versions have conflicting dependencies.

The conflict is caused by:
    The user requested cliff<2.15.0 and >=2.5.0
    The user requested (constraint) cliff===2.16.0

Stop using requirements.txt to avoid this issue. This is already the
case in stable/victoria and newer branches [1].

[1] https://review.opendev.org/c/openstack/kayobe/+/752686

Change-Id: I469b65e9dd6a52572dc94604bbe1811a07a29c46
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/75/790475/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3cd8bcf11b763f0601776c3710e75c3752683755,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train},,2,0
openstack%2Fpuppet-openstack-integration~master~I412ad1696b67d59bbb29a52b7133718de6123f37,openstack/puppet-openstack-integration,master,I412ad1696b67d59bbb29a52b7133718de6123f37,Updated from Puppet OpenStack modules constraints,MERGED,2021-05-07 06:09:36.000000000,2021-05-10 19:40:07.000000000,2021-05-10 19:40:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 06:09:36.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/69ae5c28ef0dcd016f26a3cf265bb6513928de07', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I412ad1696b67d59bbb29a52b7133718de6123f37\n'}]",0,790203,69ae5c28ef0dcd016f26a3cf265bb6513928de07,7,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I412ad1696b67d59bbb29a52b7133718de6123f37
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/03/790203/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,69ae5c28ef0dcd016f26a3cf265bb6513928de07,openstack/puppet/constraints, :ref => 'v11.1.0', :ref => 'v11.0.0',1,1
openstack%2Ftripleo-ci-health-queries~master~Iaf13ca3210e714e4ce859f9cecf8c407ba5e8c2b,openstack/tripleo-ci-health-queries,master,Iaf13ca3210e714e4ce859f9cecf8c407ba5e8c2b,Add regex -based query,MERGED,2021-05-06 16:13:41.000000000,2021-05-10 19:38:00.000000000,2021-05-10 19:38:00.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-05-06 16:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/0edbe352b3ab734415faa0b2953f72468768b3de', 'message': 'Add regex -based query\n\nTaking string from bug:\nhttps://bugs.launchpad.net/tripleo/+bug/1926764\n\nChange-Id: Iaf13ca3210e714e4ce859f9cecf8c407ba5e8c2b\n'}, {'number': 2, 'created': '2021-05-10 13:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/614c9f166cc4b60d3e8bbd922442f7772ca85b42', 'message': 'Add regex -based query\n\nTaking string from bug:\nhttps://bugs.launchpad.net/tripleo/+bug/1926764\n\nChange-Id: Iaf13ca3210e714e4ce859f9cecf8c407ba5e8c2b\n'}, {'number': 3, 'created': '2021-05-10 15:20:50.000000000', 'files': ['output/sova-pattern-generated.json', 'output/elastic-recheck/1926764.yaml', 'samples/errors-testing.err', 'src/data/queries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci-health-queries/commit/2adebed2f772454b57ecf34b47a19a4333421dbd', 'message': 'Add regex -based query\n\nTaking string from bug:\nhttps://bugs.launchpad.net/tripleo/+bug/1926764\n\nChange-Id: Iaf13ca3210e714e4ce859f9cecf8c407ba5e8c2b\n'}]",0,790097,2adebed2f772454b57ecf34b47a19a4333421dbd,11,3,3,9976,,,0,"Add regex -based query

Taking string from bug:
https://bugs.launchpad.net/tripleo/+bug/1926764

Change-Id: Iaf13ca3210e714e4ce859f9cecf8c407ba5e8c2b
",git fetch https://review.opendev.org/openstack/tripleo-ci-health-queries refs/changes/97/790097/1 && git format-patch -1 --stdout FETCH_HEAD,"['output/sova-pattern-generated.json', 'samples/errors-testing.err', 'src/data/queries.yml']",3,0edbe352b3ab734415faa0b2953f72468768b3de,regex-missing-file," - id: missing_file_keepalive pattern: ""Exception: [Errno 2] No such file or directory:"" regex: ""Exception \\[.+\\] No such file or directory:"" url: https://bugs.launchpad.net/tripleo/+bug/1926764",,16,0
openstack%2Fpuppet-oslo~master~I11484961efe207cefbac775a7847b4fd9bec8dc2,openstack/puppet-oslo,master,I11484961efe207cefbac775a7847b4fd9bec8dc2,Add support for key manager options,MERGED,2021-01-27 11:46:46.000000000,2021-05-10 19:23:40.000000000,2021-05-10 19:23:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-27 11:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/3a1e82c2e639d269d9c12085ac49f4d73922560d', 'message': 'WIP: Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}, {'number': 2, 'created': '2021-01-27 11:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/a23a7d911a981789ab567e456601d414aaf87767', 'message': 'WIP: Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}, {'number': 3, 'created': '2021-05-08 04:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/e09cf7b1b8bedadf17fb651c10570f99cbf435f2', 'message': 'Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}, {'number': 4, 'created': '2021-05-08 04:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/309f7318c8aecade85e7e2f0107acabc2fb19490', 'message': 'Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}, {'number': 5, 'created': '2021-05-08 04:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/5ef7d95549c3438887953ad206bcf8aeda1c0098', 'message': 'Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}, {'number': 6, 'created': '2021-05-08 06:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/b3b71790d1688c4be80f4a8915c193921cc7e876', 'message': 'Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}, {'number': 7, 'created': '2021-05-08 07:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/056a0807210ff9de7408fc40894dc7837bf842b0', 'message': 'Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}, {'number': 8, 'created': '2021-05-08 10:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/815697319562f36bffab444cbdab141d34b62ec9', 'message': 'Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}, {'number': 9, 'created': '2021-05-08 12:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/84a8cb245102e717d3c7444b4ddb1cc013093d20', 'message': 'Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}, {'number': 10, 'created': '2021-05-08 13:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/31c9876897405421cc2e9b5b66501f8df755e89d', 'message': 'Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}, {'number': 11, 'created': '2021-05-08 14:34:53.000000000', 'files': ['manifests/key_manager.pp', 'manifests/key_manager/barbican.pp', 'spec/defines/oslo_key_manager_spec.rb', 'spec/defines/oslo_key_manager_barbican_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/1e4a48a5fe4e1bd584fd4f099021dfee60891c88', 'message': 'Add support for key manager options\n\nThis change implements support for key manager options which are\nimplemented in the castellan library and currently used by nova,\ncinder and glance.\n\nChange-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2\n'}]",0,772676,1e4a48a5fe4e1bd584fd4f099021dfee60891c88,24,3,11,9816,,,0,"Add support for key manager options

This change implements support for key manager options which are
implemented in the castellan library and currently used by nova,
cinder and glance.

Change-Id: I11484961efe207cefbac775a7847b4fd9bec8dc2
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/76/772676/11 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/key_manager.pp', 'manifests/key_manager/barbican.pp']",2,3a1e82c2e639d269d9c12085ac49f4d73922560d,keymgr-opts,"# == Define: oslo::key_manager::barbican # # Setup and configure Barbican Key Manager options # # === Parameters # # [*config*] # (Optional) The resource type used to apply configuration parameters. # Defaults to $name # # [*barbican_endpoint*] # (Optional) Use this endpoint to connect to Barbican. # Defaults to $::os_service_default # # [*barbican_api_version*] # (Optional) Version of the Barbican API. # Defaults to $::os_service_default # # [*auth_endpoint*] # (Optional) Use this endpoint to connect to Keystone. # Defaults to $::os_service_default # # [*retry_delay*] # (Optional) Number of seconds to wait before retrying poll for key creation # completion. # Defaults to $::os_service_default # # [*number_of_retries*] # (Optional) Number of times to retry poll fo key creation completion. # Defaults to $::os_service_default # # [*barbican_endpoint_type*] # (Optional) Specifies the type of endpoint. # Defaults to $::os_service_default # define oslo::key_manager::barbican ( $config = $name, $barbican_endpoint = $::os_service_default, $barbican_api_version = $::os_service_default, $auth_endpoint = $::os_service_default, $retry_delay = $::os_service_default, $number_of_retries = $::os_service_default, $barbican_endpoint_type = $::os_service_default, ) { barbican_options = { 'barbican/barbican_endpoint' => { value => $barbican_endpoint_real }; 'barbican/barbican_api_version' => { value => $barbican_api_version }; 'barbican/auth_endpoint' => { value => $auth_endpoint_real }; 'barbican/retry_delay' => { value => $retry_delay }; 'barbican/number_of_retries' => { value => $number_of_retries }; 'barbican/barbican_endpoint_type' => { value => $barbican_endpoint_type }; } create_resource($config, $barbican_options) } ",,81,0
openstack%2Fpuppet-designate~master~I4adb76c27c25fc95c67b8b4e7c0ac8d0407c51f2,openstack/puppet-designate,master,I4adb76c27c25fc95c67b8b4e7c0ac8d0407c51f2,Remove deprecated support for non-hash value,MERGED,2021-05-04 08:08:51.000000000,2021-05-10 19:20:57.000000000,2021-05-10 19:19:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 08:08:51.000000000', 'files': ['manifests/pool_target.pp', 'releasenotes/notes/pool_target-options-has-4b45a278816b6ade.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/bce4d6ec98249d99bd7f2e922aed5f311e46fbca', 'message': 'Remove deprecated support for non-hash value\n\nUsage of a non-hash value for designate::pool_target::options was\ndeprecated a long ago[1], so can be removed now.\nThis allows us to remove the deprecated is_hash function.\n\n[1] bd2f0d3fbc09b2a6186b0effb46a6c5e0bdbaa41\n\nChange-Id: I4adb76c27c25fc95c67b8b4e7c0ac8d0407c51f2\n'}]",0,789517,bce4d6ec98249d99bd7f2e922aed5f311e46fbca,10,3,1,9816,,,0,"Remove deprecated support for non-hash value

Usage of a non-hash value for designate::pool_target::options was
deprecated a long ago[1], so can be removed now.
This allows us to remove the deprecated is_hash function.

[1] bd2f0d3fbc09b2a6186b0effb46a6c5e0bdbaa41

Change-Id: I4adb76c27c25fc95c67b8b4e7c0ac8d0407c51f2
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/17/789517/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/pool_target.pp', 'releasenotes/notes/pool_target-options-has-4b45a278816b6ade.yaml']",2,bce4d6ec98249d99bd7f2e922aed5f311e46fbca,pool_target,--- upgrade: - | The ``designate::pool_target::options`` parameter now only accepts a hash value. ,,7,6
openstack%2Fpuppet-aodh~stable%2Fussuri~Ie3111d5a168e8d15f3e04d410a5a5c30b44324c2,openstack/puppet-aodh,stable/ussuri,Ie3111d5a168e8d15f3e04d410a5a5c30b44324c2,Manage aodh-expirer package by aodh::expirer class,MERGED,2021-05-08 04:09:52.000000000,2021-05-10 19:18:54.000000000,2021-05-10 19:16:43.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 04:09:52.000000000', 'files': ['releasenotes/notes/expirer-package-a318c98f11722956.yaml', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/fe6ca076f352cb6469a26cfeac553f711dfc1a26', 'message': 'Manage aodh-expirer package by aodh::expirer class\n\nSince aodh-expirer command is included in a different package, we need\nto manage that package as well in the corresponding class.\n\nChange-Id: Ie3111d5a168e8d15f3e04d410a5a5c30b44324c2\n(cherry picked from commit 007d3a82f6bd72361066ea731a94a67c1b4d5f2b)\n'}]",0,790268,fe6ca076f352cb6469a26cfeac553f711dfc1a26,8,3,1,9816,,,0,"Manage aodh-expirer package by aodh::expirer class

Since aodh-expirer command is included in a different package, we need
to manage that package as well in the corresponding class.

Change-Id: Ie3111d5a168e8d15f3e04d410a5a5c30b44324c2
(cherry picked from commit 007d3a82f6bd72361066ea731a94a67c1b4d5f2b)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/68/790268/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/expirer-package-a318c98f11722956.yaml', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp']",3,fe6ca076f352cb6469a26cfeac553f711dfc1a26,expirer-package-stable/ussuri,"# [*package_ensure*] # (optional) ensure state for package. # Defaults to 'present' # $ensure = 'present', $package_ensure = 'present', $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0, ensure_resource( 'package', [$::aodh::params::expirer_package_name], { ensure => $package_ensure, tag => ['openstack', 'aodh-package'] } ) "," $ensure = 'present', $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0,",44,7
openstack%2Fpuppet-aodh~stable%2Fussuri~I8c0e806112b947fccc6b0a6e47c3e0d3722a3e84,openstack/puppet-aodh,stable/ussuri,I8c0e806112b947fccc6b0a6e47c3e0d3722a3e84,Add support for aodh-expirer cron job,MERGED,2021-05-08 04:09:08.000000000,2021-05-10 19:17:56.000000000,2021-05-10 19:16:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 04:09:08.000000000', 'files': ['releasenotes/notes/expirer-a53e68fe61ff3f17.yaml', 'manifests/params.pp', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/127fba460858d633a015147c51e18b61ecf699c3', 'message': 'Add support for aodh-expirer cron job\n\nChange-Id: I8c0e806112b947fccc6b0a6e47c3e0d3722a3e84\n(cherry picked from commit 89da4b14fa7512a9cc0afd9748c5b1c539834091)\n'}]",0,790267,127fba460858d633a015147c51e18b61ecf699c3,8,3,1,9816,,,0,"Add support for aodh-expirer cron job

Change-Id: I8c0e806112b947fccc6b0a6e47c3e0d3722a3e84
(cherry picked from commit 89da4b14fa7512a9cc0afd9748c5b1c539834091)
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/67/790267/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/expirer-a53e68fe61ff3f17.yaml', 'manifests/params.pp', 'spec/classes/aodh_expirer_spec.rb', 'manifests/expirer.pp']",4,127fba460858d633a015147c51e18b61ecf699c3,expirer-stable/ussuri,"# # == Class: aodh::expirer # # Setups Aodh Expirer service to enable TTL feature. # # === Parameters # # [*ensure*] # (optional) The state of cron job. # Defaults to present. # # [*minute*] # (optional) Defaults to '1'. # # [*hour*] # (optional) Defaults to '0'. # # [*monthday*] # (optional) Defaults to '*'. # # [*month*] # (optional) Defaults to '*'. # # [*weekday*] # (optional) Defaults to '*'. # # [*maxdelay*] # (optional) In Seconds. Should be a positive integer. # Induces a random delay before running the cronjob to avoid running # all cron jobs at the same time on all hosts this job is configured. # Defaults to 0. # class aodh::expirer ( $ensure = 'present', $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0, ) { include aodh::params include aodh::deps if $maxdelay == 0 { $sleep = '' } else { $sleep = ""sleep `expr \${RANDOM} \\% ${maxdelay}`; "" } cron { 'aodh-expirer': ensure => $ensure, command => ""${sleep}${aodh::params::expirer_command}"", environment => 'PATH=/bin:/usr/bin:/usr/sbin SHELL=/bin/sh', user => 'aodh', minute => $minute, hour => $hour, monthday => $monthday, month => $month, weekday => $weekday, require => Anchor['aodh::install::end'], } } ",,136,0
openstack%2Fkolla-ansible~master~Ib993b387d681921d804f654bea780a1481b2b0d0,openstack/kolla-ansible,master,Ib993b387d681921d804f654bea780a1481b2b0d0,Do not write octavia_amp_ssh_key if auto_config disabled,MERGED,2021-05-07 12:34:19.000000000,2021-05-10 19:17:32.000000000,2021-05-10 19:15:52.000000000,"[{'_account_id': 14826}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-07 12:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a50b7e9bf847084c017fe15f9420b7bfd3d8dea', 'message': 'Do not write octavia_amp_ssh_key if auto_config disabled\n\nThis task is writing private key from passwords to\n/etc/kolla/octavia-worker/{{ octavia_amp_ssh_key_name }} even\nif user disabled octavia auto configure.\n\nThis patch is adding conditional for this task and skipping\nit if octavia_auto_configure: ""no"".\n\nCloses-Bug: #1927727\n\nChange-Id: Ib993b387d681921d804f654bea780a1481b2b0d0\n'}, {'number': 2, 'created': '2021-05-10 10:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e4893297ca3523bac99c73182eb4fc1999bd719', 'message': 'Do not write octavia_amp_ssh_key if auto_config disabled\n\nThis task is writing private key from passwords to\n/etc/kolla/octavia-worker/{{ octavia_amp_ssh_key_name }} even\nif user disabled octavia auto configure.\n\nThis patch is adding conditional for this task and skipping\nit if octavia_auto_configure: ""no"".\n\nCloses-Bug: #1927727\n\nChange-Id: Ib993b387d681921d804f654bea780a1481b2b0d0\n'}, {'number': 3, 'created': '2021-05-10 11:13:44.000000000', 'files': ['ansible/roles/octavia/tasks/config.yml', 'releasenotes/notes/bug-1927727-4437103de59e85e5.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/41fe771bccd6ba2ad9b19f35af7351a508781d27', 'message': 'Do not write octavia_amp_ssh_key if auto_config disabled\n\nThis task is writing private key from passwords to\n/etc/kolla/octavia-worker/{{ octavia_amp_ssh_key_name }} even\nif user disabled octavia auto configure.\n\nThis patch is adding conditional for this task and skipping\nit if octavia_auto_configure: ""no"".\n\nCloses-Bug: #1927727\n\nChange-Id: Ib993b387d681921d804f654bea780a1481b2b0d0\n'}]",0,790234,41fe771bccd6ba2ad9b19f35af7351a508781d27,18,5,3,27339,,,0,"Do not write octavia_amp_ssh_key if auto_config disabled

This task is writing private key from passwords to
/etc/kolla/octavia-worker/{{ octavia_amp_ssh_key_name }} even
if user disabled octavia auto configure.

This patch is adding conditional for this task and skipping
it if octavia_auto_configure: ""no"".

Closes-Bug: #1927727

Change-Id: Ib993b387d681921d804f654bea780a1481b2b0d0
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/790234/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/tasks/config.yml'],1,2a50b7e9bf847084c017fe15f9420b7bfd3d8dea,bug/1927727, when: - inventory_hostname in groups[octavia_services['octavia-worker']['group']] - octavia_auto_configure | bool, when: inventory_hostname in groups[octavia_services['octavia-worker']['group']],3,1
openstack%2Fkolla~master~Ie8eec4cb4e29e7f659228e2792c13c01dfb4a41c,openstack/kolla,master,Ie8eec4cb4e29e7f659228e2792c13c01dfb4a41c,docs: update supported OS distros,MERGED,2021-04-30 16:36:09.000000000,2021-05-10 19:17:22.000000000,2021-05-10 19:16:05.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-30 16:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ed4efadd968e5f88a7270e7de5fdbf17f14a38c5', 'message': 'WIP: docs: update supported OS distros\n\nChange-Id: Ie8eec4cb4e29e7f659228e2792c13c01dfb4a41c\n'}, {'number': 2, 'created': '2021-04-30 16:53:44.000000000', 'files': ['doc/source/support_matrix.rst', 'doc/source/admin/image-building.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b69240ca4b7a1268854d6a39b279a3ebe183ca4e', 'message': 'docs: update supported OS distros\n\n* correct base container image info\n* show RHEL as deprecated\n\nChange-Id: Ie8eec4cb4e29e7f659228e2792c13c01dfb4a41c\n'}]",0,788985,b69240ca4b7a1268854d6a39b279a3ebe183ca4e,9,2,2,14826,,,0,"docs: update supported OS distros

* correct base container image info
* show RHEL as deprecated

Change-Id: Ie8eec4cb4e29e7f659228e2792c13c01dfb4a41c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/788985/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support_matrix.rst', 'doc/source/admin/image-building.rst']",2,ed4efadd968e5f88a7270e7de5fdbf17f14a38c5,,"By default, the above command would build all images based on a CentOS Stream image.","By default, the above command would build all images based on CentOS image.",10,9
openstack%2Fos-net-config~master~I7f97b2f76abf77521e1e03d201198db0593241bb,openstack/os-net-config,master,I7f97b2f76abf77521e1e03d201198db0593241bb,Add Python3 xena unit tests,MERGED,2021-05-05 15:31:45.000000000,2021-05-10 19:04:11.000000000,2021-05-10 19:01:51.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:31:45.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/352227b43157c880be82bc862b4fc03f5674cccb', 'message': 'Add Python3 xena unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for xena.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: I7f97b2f76abf77521e1e03d201198db0593241bb\n'}]",0,789880,352227b43157c880be82bc862b4fc03f5674cccb,8,3,1,22816,,,0,"Add Python3 xena unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for xena.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: I7f97b2f76abf77521e1e03d201198db0593241bb
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/80/789880/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,352227b43157c880be82bc862b4fc03f5674cccb,add-xena-python-jobtemplates, - openstack-python3-xena-jobs, - openstack-python3-wallaby-jobs,1,1
openstack%2Fkolla~master~I721001f877f6ec2f9a2e425c088a2e22177d2e5b,openstack/kolla,master,I721001f877f6ec2f9a2e425c088a2e22177d2e5b,gnocchi-base: numpy provides aarch64 binary wheels,MERGED,2021-05-08 09:05:34.000000000,2021-05-10 18:52:28.000000000,2021-05-10 18:51:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-08 09:05:34.000000000', 'files': ['docker/gnocchi/gnocchi-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9bad71d7c3fe3cdd1b128925554c4fdec1420a7f', 'message': 'gnocchi-base: numpy provides aarch64 binary wheels\n\nThere is no need to install libraries to build Numpy as we have binary\nwheel provided by numpy upstream.\n\nChange-Id: I721001f877f6ec2f9a2e425c088a2e22177d2e5b\n'}]",0,790327,9bad71d7c3fe3cdd1b128925554c4fdec1420a7f,9,3,1,24072,,,0,"gnocchi-base: numpy provides aarch64 binary wheels

There is no need to install libraries to build Numpy as we have binary
wheel provided by numpy upstream.

Change-Id: I721001f877f6ec2f9a2e425c088a2e22177d2e5b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/27/790327/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/gnocchi/gnocchi-base/Dockerfile.j2'],1,9bad71d7c3fe3cdd1b128925554c4fdec1420a7f,,," # on x86-64 pip grabs precompiled numpy/scipy - on aarch64/ppc64le # it needs to be built {% if base_arch != 'x86_64' %} {% set gnocchi_base_packages = gnocchi_base_packages + [ 'blas-devel', 'lapack-devel' ] %} {% endif %} # on x86-64 pip grabs precompiled numpy/scipy - on aarch64/ppc64le # it needs to be built {% if base_arch != 'x86_64' %} {% set gnocchi_base_packages = gnocchi_base_packages + [ 'libblas-dev', 'liblapack-dev' ] %} {% endif %} ",0,20
openstack%2Fkolla-ansible~master~I2f832d73138b4c9f29e3c71e2463293eab71483a,openstack/kolla-ansible,master,I2f832d73138b4c9f29e3c71e2463293eab71483a,"Fix ""Restart mariadb-clustercheck container"" during config gen",MERGED,2021-01-21 11:55:30.000000000,2021-05-10 18:52:10.000000000,2021-05-10 18:50:41.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-01-21 11:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/968f6ad2cd09de3216db575b38af1d6c802b3b3e', 'message': 'Fix ""Restart mariadb-clustercheck container"" during config gen\n\nThe handler was firing even when we were only generating config.\nThis is an issue because the services may not have been deployed.\n\nTrivialFix\nChange-Id: I10819d79711cc19719a8eec776240fbda5a6fd03\n\nChange-Id: I2f832d73138b4c9f29e3c71e2463293eab71483a\n'}, {'number': 2, 'created': '2021-01-21 12:07:53.000000000', 'files': ['ansible/roles/mariadb/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ce012bcb09595c941462fc7a2903df1373d677c3', 'message': 'Fix ""Restart mariadb-clustercheck container"" during config gen\n\nThe handler was firing even when we were only generating config.\nThis is an issue because the services may not have been deployed.\n\nTrivialFix\n\nChange-Id: I2f832d73138b4c9f29e3c71e2463293eab71483a\n'}]",0,771799,ce012bcb09595c941462fc7a2903df1373d677c3,18,4,2,28048,,,0,"Fix ""Restart mariadb-clustercheck container"" during config gen

The handler was firing even when we were only generating config.
This is an issue because the services may not have been deployed.

TrivialFix

Change-Id: I2f832d73138b4c9f29e3c71e2463293eab71483a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/99/771799/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/handlers/main.yml'],1,968f6ad2cd09de3216db575b38af1d6c802b3b3e,," when: - kolla_action != ""config""",,2,0
openstack%2Fswift~master~I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05,openstack/swift,master,I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05,relinker: Add /recon/relinker endpoint and drop progress stats,MERGED,2021-03-10 06:35:03.000000000,2021-05-10 18:44:18.000000000,2021-05-10 18:41:57.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-10 06:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ec241a3723e4b990f538d4abea8251fab7b4daa1', 'message': 'WIP: relinker: Add /recon/relink endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relink.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relink\n\nTo gather get live relinking progress data.\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 2, 'created': '2021-03-11 02:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2c21dafa1cb74c7e9fd497447421d5fe23f3926a', 'message': 'relinker: Add /recon/relink endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relink.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relink\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relink |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 3, 'created': '2021-03-11 06:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2c7966bc724d56a98698ef4e24e88631cf74c46e', 'message': 'relinker: Add /recon/relink endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relink.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relink\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relink |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 4, 'created': '2021-03-11 10:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8de910bec02d907ddb8b5e432c0735a79d9c2669', 'message': 'relinker: Add /recon/relink endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relink.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relink\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relink |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 5, 'created': '2021-03-12 02:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9ca40858e0b271efe9f2da428ae2384de8bec151', 'message': 'relinker: Add /recon/relink endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relink.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relink\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relink |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 6, 'created': '2021-03-13 00:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4d9a13549354947d1377570c405cdefdb80c31c8', 'message': 'relinker: Add /recon/relink endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relink.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relink\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relink |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 7, 'created': '2021-03-14 22:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/96393db2f5db3670573a3e6dbc40cc4e3f60214b', 'message': 'relinker: Add /recon/relink endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relink.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relink\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relink |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 8, 'created': '2021-03-15 00:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e2cf6ee07104b428177d45b258c0faf1bb96bb5c', 'message': 'relinker: Add /recon/relink endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relink.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relink\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relink |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 9, 'created': '2021-03-17 23:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a5cfd342fda4c8bd0982f3f734c1db0c0ac3aae5', 'message': 'relinker: Add /recon/relink endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relink.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relink\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relink |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 10, 'created': '2021-03-19 02:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8aa713f3208a1c333b15b1f999e1aac9cec5db58', 'message': 'relinker: Add /recon/relink endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relink.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relink\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relink |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 11, 'created': '2021-03-22 02:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6367d6da3a6930fba8501791a182d0678b425959', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 12, 'created': '2021-03-22 06:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d09cb426f391cae6963186b0b4b5c04cdaf9700d', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 13, 'created': '2021-03-23 05:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c027b81da5a7b6f03a5437c7be5820e4ee8c6974', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 14, 'created': '2021-03-24 01:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e8880851678c28c3812e6904b89f2ac24ea9dd05', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 15, 'created': '2021-03-26 03:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/368c931c4ebc833e76854e0b4335c9f7d43259f7', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 16, 'created': '2021-03-31 01:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/77b6c7b115aae5d3eb946591192f19cc0dff817c', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""0"": {\n              ""sdb3"": {\n                  ""parts_done"": 507,\n                  ""step"": ""relink"",\n                  ""timestamp"": 1615426132.162105,\n                  ""total_parts"": 507\n              },\n              ""sdb7"": {\n                  ""parts_done"": 426,\n                  ""step"": ""relink"",\n                  ""timestamp"": 1615426134.692052,\n                  ""total_parts"": 512\n              }\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 17, 'created': '2021-03-31 01:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ab0d851f5db4be45e1e100dc90f6b460241d1c9f', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""0"": {\n              ""sdb3"": {\n                  ""parts_done"": 507,\n                  ""step"": ""relink"",\n                  ""timestamp"": 1615426132.162105,\n                  ""total_parts"": 507\n              },\n              ""sdb7"": {\n                  ""parts_done"": 426,\n                  ""step"": ""relink"",\n                  ""timestamp"": 1615426134.692052,\n                  ""total_parts"": 512\n              }\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 18, 'created': '2021-03-31 04:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b9b6fc8ca26dd78cdb2c81583dd39465b99b6121', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 19, 'created': '2021-04-06 09:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/421022a103f5bf749dc4e545bfc9f2628d9e0f9d', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n      ""start_time"": 1615426134.692052,\n      ""total_time"": 300.0,\n      ""stats"": {\n                ""errors"": 0,\n                ""files"": 1,\n                ""hash_dirs"": 1,\n                ""linked"": 0,\n                ""policies"": 1,\n                ""removed"": 1},\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 20, 'created': '2021-04-09 05:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ee5f8a0105ce5f4391209dcd42f25ad6db9517c8', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n      ""start_time"": 1615426134.692052,\n      ""total_time"": 300.0,\n      ""stats"": {\n                ""errors"": 0,\n                ""files"": 1,\n                ""hash_dirs"": 1,\n                ""linked"": 0,\n                ""policies"": 1,\n                ""removed"": 1},\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 21, 'created': '2021-04-12 00:32:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b59449401ef30240b76f2549d4d1758fd19de10c', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""part_power"": 8,\n          ""next_part_power"": 9,\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426132.162105,\n              ""total_parts"": 507\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""timestamp"": 1615426134.692052,\n              ""total_parts"": 512\n          }\n      }\n      ""start_time"": 1615426134.692052,\n      ""total_time"": 300.0,\n      ""stats"": {\n                ""errors"": 0,\n                ""files"": 1,\n                ""hash_dirs"": 1,\n                ""linked"": 0,\n                ""policies"": 1,\n                ""removed"": 1},\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 22, 'created': '2021-04-13 07:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9835e54c5a5edfe9295544f33ffe3f04c5bfb970', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""part_power"": 8,\n          ""next_part_power"": 9,\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""total_parts"": 507,\n              ""start_time"": 1618293045.634361,\n              ""total_time"": 3.657404899597168,\n              ""timestamp"": 1615426132.162105\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""total_parts"": 512,\n              ""start_time"": 1618293045.634361,\n              ""total_time"": 3.657404899597168,\n              ""timestamp"": 1615426134.692052\n          }\n      }\n      ""start_time"": 1615426134.692052,\n      ""total_time"": 300.0,\n      ""stats"": {\n          ""aggregate"": {\n              ""errors"": 0,\n              ""files"": 394,\n              ""hash_dirs"": 394,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.288847\n          },\n          ""stats_21239"": {\n              ""errors"": 0,\n              ""files"": 191,\n              ""hash_dirs"": 191,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.092572\n          },\n          ""stats_21240"": {\n              ""errors"": 0,\n              ""files"": 203,\n              ""hash_dirs"": 203,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.288847\n          }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 23, 'created': '2021-04-14 06:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2cfb0fd43a9da5b7050a39898943fb7ac466d011', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""part_power"": 8,\n          ""next_part_power"": 9,\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""total_parts"": 507,\n              ""start_time"": 1618293045.634361,\n              ""total_time"": 3.657404899597168,\n              ""timestamp"": 1615426132.162105\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""total_parts"": 512,\n              ""start_time"": 1618293045.634361,\n              ""total_time"": 3.657404899597168,\n              ""timestamp"": 1615426134.692052\n          }\n      }\n      ""start_time"": 1615426134.692052,\n      ""total_time"": 300.0,\n      ""stats"": {\n          ""aggregate"": {\n              ""errors"": 0,\n              ""files"": 394,\n              ""hash_dirs"": 394,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.288847\n          },\n          ""stats_21239"": {\n              ""errors"": 0,\n              ""files"": 191,\n              ""hash_dirs"": 191,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.092572\n          },\n          ""stats_21240"": {\n              ""errors"": 0,\n              ""files"": 203,\n              ""hash_dirs"": 203,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.288847\n          }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 24, 'created': '2021-04-14 06:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5b355b34ab8c457b2f09734e3a5a6a17330932c9', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""part_power"": 8,\n          ""next_part_power"": 9,\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""total_parts"": 507,\n              ""start_time"": 1618293045.634361,\n              ""total_time"": 3.657404899597168,\n              ""timestamp"": 1615426132.162105\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""total_parts"": 512,\n              ""start_time"": 1618293045.634361,\n              ""total_time"": 3.657404899597168,\n              ""timestamp"": 1615426134.692052\n          }\n      }\n      ""start_time"": 1615426134.692052,\n      ""total_time"": 300.0,\n      ""stats"": {\n          ""aggregate"": {\n              ""errors"": 0,\n              ""files"": 394,\n              ""hash_dirs"": 394,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.288847\n          },\n          ""stats_21239"": {\n              ""errors"": 0,\n              ""files"": 191,\n              ""hash_dirs"": 191,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.092572\n          },\n          ""stats_21240"": {\n              ""errors"": 0,\n              ""files"": 203,\n              ""hash_dirs"": 203,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.288847\n          }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 25, 'created': '2021-04-15 07:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/aad814e5163dbc8843adce04d120be6b558a0124', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""part_power"": 8,\n          ""next_part_power"": 9,\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""total_parts"": 507,\n              ""start_time"": 1618293045.634361,\n              ""total_time"": 3.657404899597168,\n              ""timestamp"": 1615426132.162105\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""total_parts"": 512,\n              ""start_time"": 1618293045.634361,\n              ""total_time"": 3.657404899597168,\n              ""timestamp"": 1615426134.692052\n          },\n          ""aggregate"": {\n              ""discovered_parts"": 1019,\n              ""parts_done"": 933,\n              ""timestamp"": 1615426134.692052,\n              ""total_combined_time"": 7.314809799\n          }\n      },\n      ""progress-1"": {\n          ""next_part_power"": 11,\n          ""part_power"": 10,\n          ""sdb4"": {\n              ""parts_done"": 173,\n              ""start_time"": 1618469144.268084,\n              ""step"": ""relink"",\n              ""timestamp"": 1618469147.743934,\n              ""total_parts"": 173,\n              ""total_time"": 3.4758310317993164\n          },\n          ""sdb8"": {\n              ""parts_done"": 170,\n              ""start_time"": 1618469144.268603,\n              ""step"": ""relink"",\n              ""timestamp"": 1618469147.558214,\n              ""total_parts"": 170,\n              ""total_time"": 3.289529800415039\n          },\n          ""aggregate"": {\n              ""discovered_parts"": 343,\n              ""parts_done"": 343,\n              ""timestamp"": 1618469147.743934,\n              ""total_combined_time"": 6.7653608322143555\n          }\n      },\n      ""start_time"": 1615426134.692052,\n      ""total_time"": 300.0,\n      ""stats"": {\n          ""aggregate"": {\n              ""errors"": 0,\n              ""files"": 394,\n              ""hash_dirs"": 394,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.288847\n          },\n          ""stats_21239"": {\n              ""errors"": 0,\n              ""files"": 191,\n              ""hash_dirs"": 191,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.092572\n          },\n          ""stats_21240"": {\n              ""errors"": 0,\n              ""files"": 203,\n              ""hash_dirs"": 203,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.288847\n          }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 26, 'created': '2021-04-19 03:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8b37fcf15616316528db63f907d42aea73ae9d9d', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""progress"": {\n          ""part_power"": 8,\n          ""next_part_power"": 9,\n          ""sdb3"": {\n              ""parts_done"": 507,\n              ""step"": ""relink"",\n              ""total_parts"": 507,\n              ""start_time"": 1618293045.634361,\n              ""total_time"": 3.657404899597168,\n              ""timestamp"": 1615426132.162105\n          },\n          ""sdb7"": {\n              ""parts_done"": 426,\n              ""step"": ""relink"",\n              ""total_parts"": 512,\n              ""start_time"": 1618293045.634361,\n              ""total_time"": 3.657404899597168,\n              ""timestamp"": 1615426134.692052\n          },\n          ""aggregate"": {\n              ""discovered_parts"": 1019,\n              ""parts_done"": 933,\n              ""timestamp"": 1615426134.692052,\n              ""total_combined_time"": 7.314809799\n          }\n      },\n      ""progress-1"": {\n          ""next_part_power"": 11,\n          ""part_power"": 10,\n          ""sdb4"": {\n              ""parts_done"": 173,\n              ""start_time"": 1618469144.268084,\n              ""step"": ""relink"",\n              ""timestamp"": 1618469147.743934,\n              ""total_parts"": 173,\n              ""total_time"": 3.4758310317993164\n          },\n          ""sdb8"": {\n              ""parts_done"": 170,\n              ""start_time"": 1618469144.268603,\n              ""step"": ""relink"",\n              ""timestamp"": 1618469147.558214,\n              ""total_parts"": 170,\n              ""total_time"": 3.289529800415039\n          },\n          ""aggregate"": {\n              ""discovered_parts"": 343,\n              ""parts_done"": 343,\n              ""timestamp"": 1618469147.743934,\n              ""total_combined_time"": 6.7653608322143555\n          }\n      },\n      ""start_time"": 1615426134.692052,\n      ""total_time"": 300.0,\n      ""stats"": {\n          ""aggregate"": {\n              ""errors"": 0,\n              ""files"": 394,\n              ""hash_dirs"": 394,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.288847\n          },\n          ""stats_21239"": {\n              ""errors"": 0,\n              ""files"": 191,\n              ""hash_dirs"": 191,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.092572\n          },\n          ""stats_21240"": {\n              ""errors"": 0,\n              ""files"": 203,\n              ""hash_dirs"": 203,\n              ""linked"": 0,\n              ""policies"": 1,\n              ""removed"": 0,\n              ""timestamp"": 1618293049.288847\n          }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 27, 'created': '2021-04-21 11:24:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cf3e752a1aab89d5fff0fc836529ac39e499442d', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""aggregate"": {\n          ""parts_done"": 1029,\n          ""policies"": {\n              ""1"": {\n                  ""parts_done"": 1029,\n                  ""start_time"": 1618998724.845616,\n                  ""stats"": {\n                      ""errors"": 0,\n                      ""files"": 1630,\n                      ""hash_dirs"": 1630,\n                      ""linked"": 1630,\n                      ""removed"": 0\n                  },\n                  ""timestamp"": 1618998730.24672,\n                  ""total_parts"": 1029,\n                  ""total_time"": 5.400741815567017\n              }\n          },\n          ""start_time"": 1618998724.845616,\n          ""stats"": {\n              ""errors"": 0,\n              ""files"": 1630,\n              ""hash_dirs"": 1630,\n              ""linked"": 1630,\n              ""policies"": 1,\n              ""removed"": 0\n          },\n          ""timestamp"": 1618998730.24672,\n          ""total_parts"": 1029,\n          ""total_time"": 5.400741815567017\n      },\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 523,\n                      ""start_time"": 1618998724.845946,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 836,\n                          ""hash_dirs"": 836,\n                          ""linked"": 836,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 523,\n                      ""total_time"": 5.400741815567017\n                  }\n              },\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 28, 'created': '2021-04-22 07:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2956fcf626f5006d8506487a4eba692c3c7f351d', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""aggregate"": {\n          ""parts_done"": 1029,\n          ""policies"": {\n              ""1"": {\n                  ""parts_done"": 1029,\n                  ""start_time"": 1618998724.845616,\n                  ""stats"": {\n                      ""errors"": 0,\n                      ""files"": 1630,\n                      ""hash_dirs"": 1630,\n                      ""linked"": 1630,\n                      ""removed"": 0\n                  },\n                  ""timestamp"": 1618998730.24672,\n                  ""total_parts"": 1029,\n                  ""total_time"": 5.400741815567017\n              }\n          },\n          ""start_time"": 1618998724.845616,\n          ""stats"": {\n              ""errors"": 0,\n              ""files"": 1630,\n              ""hash_dirs"": 1630,\n              ""linked"": 1630,\n              ""policies"": 1,\n              ""removed"": 0\n          },\n          ""timestamp"": 1618998730.24672,\n          ""total_parts"": 1029,\n          ""total_time"": 5.400741815567017\n      },\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 523,\n                      ""start_time"": 1618998724.845946,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 836,\n                          ""hash_dirs"": 836,\n                          ""linked"": 836,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 523,\n                      ""total_time"": 5.400741815567017\n                  }\n              },\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      }\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 29, 'created': '2021-04-26 03:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/bf3594311e67b47b8d9ab34bf5aefe7db91b1b3e', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""aggregate"": {\n          ""parts_done"": 1029,\n          ""policies"": {\n              ""1"": {\n                  ""parts_done"": 1029,\n                  ""start_time"": 1618998724.845616,\n                  ""stats"": {\n                      ""errors"": 0,\n                      ""files"": 1630,\n                      ""hash_dirs"": 1630,\n                      ""linked"": 1630,\n                      ""removed"": 0\n                  },\n                  ""timestamp"": 1618998730.24672,\n                  ""total_parts"": 1029,\n                  ""total_time"": 5.400741815567017\n              }\n          },\n          ""start_time"": 1618998724.845616,\n          ""stats"": {\n              ""errors"": 0,\n              ""files"": 1630,\n              ""hash_dirs"": 1630,\n              ""linked"": 1630,\n              ""policies"": 1,\n              ""removed"": 0\n          },\n          ""timestamp"": 1618998730.24672,\n          ""total_parts"": 1029,\n          ""total_time"": 5.400741815567017\n      },\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 523,\n                      ""start_time"": 1618998724.845946,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 836,\n                          ""hash_dirs"": 836,\n                          ""linked"": 836,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 523,\n                      ""total_time"": 5.400741815567017\n                  }\n              },\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      }\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n  }\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 30, 'created': '2021-04-26 04:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cbed96294f376464021d3994bf8f17996434118b', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""aggregate"": {\n          ""parts_done"": 1029,\n          ""policies"": {\n              ""1"": {\n                  ""parts_done"": 1029,\n                  ""start_time"": 1618998724.845616,\n                  ""stats"": {\n                      ""errors"": 0,\n                      ""files"": 1630,\n                      ""hash_dirs"": 1630,\n                      ""linked"": 1630,\n                      ""removed"": 0\n                  },\n                  ""timestamp"": 1618998730.24672,\n                  ""total_parts"": 1029,\n                  ""total_time"": 5.400741815567017\n              }\n          },\n          ""start_time"": 1618998724.845616,\n          ""stats"": {\n              ""errors"": 0,\n              ""files"": 1630,\n              ""hash_dirs"": 1630,\n              ""linked"": 1630,\n              ""policies"": 1,\n              ""removed"": 0\n          },\n          ""timestamp"": 1618998730.24672,\n          ""total_parts"": 1029,\n          ""total_time"": 5.400741815567017\n      },\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 31, 'created': '2021-04-27 07:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b70819635d5c9ce0a29d9a9b0bb82197cbab86ab', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 32, 'created': '2021-04-28 02:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/441160dd4f6719c335146b3d8a13448fb643c274', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nAlso, add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests\nby mocking recon_cache_path, so that errors are not logged due\nto dump_recon_cache exceptions.\n\nMock recon_cache_path more widely and assert no error logs more\nwidely.\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 33, 'created': '2021-04-28 07:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/00de6d5191f78fe694b26205868894b0f52b299a', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nAlso, add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests\nby mocking recon_cache_path, so that errors are not logged due\nto dump_recon_cache exceptions.\n\nMock recon_cache_path more widely and assert no error logs more\nwidely.\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 34, 'created': '2021-04-29 01:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b1646a0c63e2b623fb3ade73c2856bee3b98a3bf', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nAlso, add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests\nby mocking recon_cache_path, so that errors are not logged due\nto dump_recon_cache exceptions.\n\nMock recon_cache_path more widely and assert no error logs more\nwidely.\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 35, 'created': '2021-04-29 17:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0e91c39cc002e93bbd5fe41ebf079431c960614a', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nAlso, add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests\nby mocking recon_cache_path, so that errors are not logged due\nto dump_recon_cache exceptions.\n\nMock recon_cache_path more widely and assert no error logs more\nwidely.\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 36, 'created': '2021-04-30 04:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cd359b94cdad0b56528cc97eb39be157fb478a3d', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nAlso, add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests\nby mocking recon_cache_path, so that errors are not logged due\nto dump_recon_cache exceptions.\n\nMock recon_cache_path more widely and assert no error logs more\nwidely.\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 37, 'created': '2021-04-30 07:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2fad8e44627d07829aa7bb369d7641c4ce3dce16', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nAlso, add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests\nby mocking recon_cache_path, so that errors are not logged due\nto dump_recon_cache exceptions.\n\nMock recon_cache_path more widely and assert no error logs more\nwidely.\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 38, 'created': '2021-05-03 05:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3b71653c272e6a900271be573f76e3e4a3740405', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nAlso, add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests\nby mocking recon_cache_path, so that errors are not logged due\nto dump_recon_cache exceptions.\n\nMock recon_cache_path more widely and assert no error logs more\nwidely.\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 39, 'created': '2021-05-05 22:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/be16528597a9f5b0a51e4e9d56df2e07f275e7c2', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nAlso, add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests\nby mocking recon_cache_path, so that errors are not logged due\nto dump_recon_cache exceptions.\n\nMock recon_cache_path more widely and assert no error logs more\nwidely.\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}, {'number': 40, 'created': '2021-05-10 15:15:25.000000000', 'files': ['swift/common/middleware/recon.py', 'swift/common/utils.py', 'test/unit/__init__.py', 'test/unit/common/middleware/test_recon.py', 'test/unit/cli/test_relinker.py', 'swift/cli/relinker.py', 'test/unit/common/test_utils.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/4ce907a4ae97b150fa994237ebffd73ee8ac694d', 'message': 'relinker: Add /recon/relinker endpoint and drop progress stats\n\nTo further benefit the stats capturing for the relinker, drop partition\nprogress to a new relinker.recon recon cache and add a new recon endpoint:\n\n  GET /recon/relinker\n\nTo gather get live relinking progress data:\n\n  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool\n  {\n      ""devices"": {\n          ""sdb3"": {\n              ""parts_done"": 523,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 1630,\n                          ""hash_dirs"": 1630,\n                          ""linked"": 1630,\n                          ""policies"": 1,\n                          ""removed"": 0\n                      },\n                      ""timestamp"": 1618998730.24672,\n                      ""total_parts"": 1029,\n                      ""total_time"": 5.400741815567017\n                  }},\n              ""start_time"": 1618998724.845946,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 836,\n                  ""hash_dirs"": 836,\n                  ""linked"": 836,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.24672,\n              ""total_parts"": 523,\n              ""total_time"": 5.400741815567017\n          },\n          ""sdb7"": {\n              ""parts_done"": 506,\n              ""policies"": {\n                  ""1"": {\n                      ""next_part_power"": 11,\n                      ""part_power"": 10,\n                      ""parts_done"": 506,\n                      ""start_time"": 1618998724.845616,\n                      ""stats"": {\n                          ""errors"": 0,\n                          ""files"": 794,\n                          ""hash_dirs"": 794,\n                          ""linked"": 794,\n                          ""removed"": 0\n                      },\n                      ""step"": ""relink"",\n                      ""timestamp"": 1618998730.166175,\n                      ""total_parts"": 506,\n                      ""total_time"": 5.320528984069824\n                  }\n              },\n              ""start_time"": 1618998724.845616,\n              ""stats"": {\n                  ""errors"": 0,\n                  ""files"": 794,\n                  ""hash_dirs"": 794,\n                  ""linked"": 794,\n                  ""removed"": 0\n              },\n              ""timestamp"": 1618998730.166175,\n              ""total_parts"": 506,\n              ""total_time"": 5.320528984069824\n          }\n      },\n      ""workers"": {\n          ""100"": {\n              ""drives"": [""sda1""],\n              ""return_code"": 0,\n              ""timestamp"": 1618998730.166175}\n      }}\n\nAlso, add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests\nby mocking recon_cache_path, so that errors are not logged due\nto dump_recon_cache exceptions.\n\nMock recon_cache_path more widely and assert no error logs more\nwidely.\n\nChange-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05\n'}]",248,779655,4ce907a4ae97b150fa994237ebffd73ee8ac694d,128,5,40,7233,,,0,"relinker: Add /recon/relinker endpoint and drop progress stats

To further benefit the stats capturing for the relinker, drop partition
progress to a new relinker.recon recon cache and add a new recon endpoint:

  GET /recon/relinker

To gather get live relinking progress data:

  $ curl http://127.0.0.3:6030/recon/relinker |python -mjson.tool
  {
      ""devices"": {
          ""sdb3"": {
              ""parts_done"": 523,
              ""policies"": {
                  ""1"": {
                      ""next_part_power"": 11,
                      ""start_time"": 1618998724.845616,
                      ""stats"": {
                          ""errors"": 0,
                          ""files"": 1630,
                          ""hash_dirs"": 1630,
                          ""linked"": 1630,
                          ""policies"": 1,
                          ""removed"": 0
                      },
                      ""timestamp"": 1618998730.24672,
                      ""total_parts"": 1029,
                      ""total_time"": 5.400741815567017
                  }},
              ""start_time"": 1618998724.845946,
              ""stats"": {
                  ""errors"": 0,
                  ""files"": 836,
                  ""hash_dirs"": 836,
                  ""linked"": 836,
                  ""removed"": 0
              },
              ""timestamp"": 1618998730.24672,
              ""total_parts"": 523,
              ""total_time"": 5.400741815567017
          },
          ""sdb7"": {
              ""parts_done"": 506,
              ""policies"": {
                  ""1"": {
                      ""next_part_power"": 11,
                      ""part_power"": 10,
                      ""parts_done"": 506,
                      ""start_time"": 1618998724.845616,
                      ""stats"": {
                          ""errors"": 0,
                          ""files"": 794,
                          ""hash_dirs"": 794,
                          ""linked"": 794,
                          ""removed"": 0
                      },
                      ""step"": ""relink"",
                      ""timestamp"": 1618998730.166175,
                      ""total_parts"": 506,
                      ""total_time"": 5.320528984069824
                  }
              },
              ""start_time"": 1618998724.845616,
              ""stats"": {
                  ""errors"": 0,
                  ""files"": 794,
                  ""hash_dirs"": 794,
                  ""linked"": 794,
                  ""removed"": 0
              },
              ""timestamp"": 1618998730.166175,
              ""total_parts"": 506,
              ""total_time"": 5.320528984069824
          }
      },
      ""workers"": {
          ""100"": {
              ""drives"": [""sda1""],
              ""return_code"": 0,
              ""timestamp"": 1618998730.166175}
      }}

Also, add a constant DEFAULT_RECON_CACHE_PATH to help fix failing tests
by mocking recon_cache_path, so that errors are not logged due
to dump_recon_cache exceptions.

Mock recon_cache_path more widely and assert no error logs more
widely.

Change-Id: I625147dadd44f008a7c48eb5d6ac1c54c4c0ef05
",git fetch https://review.opendev.org/openstack/swift refs/changes/55/779655/39 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/recon.py', 'swift/cli/relinker.py']",2,ec241a3723e4b990f538d4abea8251fab7b4daa1,relinker_extra_stats_ptg," RateLimitedIterator, lock_path, dump_recon_cache, load_recon_cache, \ TimestampRECON_FILE = 'relink.recon' DEFAULT_RECON_PROGRESS_STATS = { 'progress': [{'device': '', 'step': '', 'parts_done': 0, 'total_parts': 0, 'timestamp': None}] }def hook_post_partition(logger, conf, states, step, policy, diskfile_manager, num_total_parts = len(states[""state""]) recon_cache = load_recon_cache(conf['recon_cache']) device_progress = {'step': step, 'parts_done': num_parts_done, 'total_parts': num_total_parts, 'timestamp': Timestamp.now().timestamp} if not recon_cache.get('progress'): recon_cache['progress'] = {} recon_cache['progress'][device] = device_progress dump_recon_cache(recon_cache, conf['recon_cache']) device, step, num_parts_done, num_total_parts)) relink_hook_post_partition = partial(hook_post_partition, logger, conf, cleanup_hook_post_partition = partial(hook_post_partition, logger, conf, parser.add_argument(""--recon-cache-path"", default=None, help='Set the path to the recon cache') recon_cache_path = (args.recon_cache_path or conf.get('recon_cache_path', '/var/cache/swift')) 'recon_cache_path': recon_cache_path, 'recon_cache': os.path.join(recon_cache_path, RECON_FILE)"," RateLimitedIterator, lock_pathdef hook_post_partition(logger, states, step, policy, diskfile_manager, device, step, num_parts_done, len(states[""state""]))) relink_hook_post_partition = partial(hook_post_partition, logger, cleanup_hook_post_partition = partial(hook_post_partition, logger,",42,5
openstack%2Fkolla~stable%2Ftrain~Ic5abc4b87fd76f87aba383abf43e95ba70629fcb,openstack/kolla,stable/train,Ic5abc4b87fd76f87aba383abf43e95ba70629fcb,[CI] Trust only infra mirrors and fix APT mirrors,MERGED,2021-05-07 18:25:41.000000000,2021-05-10 18:41:11.000000000,2021-05-10 18:39:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-07 18:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c10f8af5daf96bfd3ccbeef9f301c4e66b0e533b', 'message': ""[CI] Trust only infra mirrors\n\nInfra mirrors get their indices rebuilt to avoid broken\nindices (due to partial update).\nUnfortunately, this wipes out the cryptographic signatures.\nOur approach so far was disabling apt security features globally.\nHowever, this is not a valid choice for external repos.\nIt hid an issue we introduced with new RabbitMQ repos missing\nproper keys installed in the image.\nThis caused permanent failures outside of our CI.\n\nOur process should be as close as possible to users' experience.\nThis patch makes CI trust only the mirrors that have their indices\nrebuilt (so infra mirrors).\n\nChange-Id: Ic5abc4b87fd76f87aba383abf43e95ba70629fcb\n(cherry picked from commit c364c8be85f4653bf7af1c7ac0378823553e7441)\n(cherry picked from commit 4a482380408d107c59119b379add34f4b8e87ad7)\n""}, {'number': 2, 'created': '2021-05-07 18:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0b924fb65a8f6edc34cd2466232d2d3ba48f91db', 'message': ""[CI] Trust only infra mirrors\n\nInfra mirrors get their indices rebuilt to avoid broken\nindices (due to partial update).\nUnfortunately, this wipes out the cryptographic signatures.\nOur approach so far was disabling apt security features globally.\nHowever, this is not a valid choice for external repos.\nIt hid an issue we introduced with new RabbitMQ repos missing\nproper keys installed in the image.\nThis caused permanent failures outside of our CI.\n\nOur process should be as close as possible to users' experience.\nThis patch makes CI trust only the mirrors that have their indices\nrebuilt (so infra mirrors).\n\nChange-Id: Ic5abc4b87fd76f87aba383abf43e95ba70629fcb\n(cherry picked from commit c364c8be85f4653bf7af1c7ac0378823553e7441)\n(cherry picked from commit 4a482380408d107c59119b379add34f4b8e87ad7)\n""}, {'number': 3, 'created': '2021-05-07 18:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/14152de981be61f615d292477310974a892fc01a', 'message': ""[CI] Trust only infra mirrors\n\nInfra mirrors get their indices rebuilt to avoid broken\nindices (due to partial update).\nUnfortunately, this wipes out the cryptographic signatures.\nOur approach so far was disabling apt security features globally.\nHowever, this is not a valid choice for external repos.\nIt hid an issue we introduced with new RabbitMQ repos missing\nproper keys installed in the image.\nThis caused permanent failures outside of our CI.\n\nOur process should be as close as possible to users' experience.\nThis patch makes CI trust only the mirrors that have their indices\nrebuilt (so infra mirrors).\n\nChange-Id: Ic5abc4b87fd76f87aba383abf43e95ba70629fcb\n(cherry picked from commit c364c8be85f4653bf7af1c7ac0378823553e7441)\n(cherry picked from commit 4a482380408d107c59119b379add34f4b8e87ad7)\n""}, {'number': 4, 'created': '2021-05-07 18:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/79cd44156b5d26ae2c12fc3b9bbcd8695271704e', 'message': ""[CI] Trust only infra mirrors\n\nInfra mirrors get their indices rebuilt to avoid broken\nindices (due to partial update).\nUnfortunately, this wipes out the cryptographic signatures.\nOur approach so far was disabling apt security features globally.\nHowever, this is not a valid choice for external repos.\nIt hid an issue we introduced with new RabbitMQ repos missing\nproper keys installed in the image.\nThis caused permanent failures outside of our CI.\n\nOur process should be as close as possible to users' experience.\nThis patch makes CI trust only the mirrors that have their indices\nrebuilt (so infra mirrors).\n\nFor Train, fixed missing override parts as well.\n\nChange-Id: Ic5abc4b87fd76f87aba383abf43e95ba70629fcb\n(cherry picked from commit c364c8be85f4653bf7af1c7ac0378823553e7441)\n(cherry picked from commit 4a482380408d107c59119b379add34f4b8e87ad7)\n""}, {'number': 5, 'created': '2021-05-10 12:23:15.000000000', 'files': ['docker/base/Dockerfile.j2', 'tests/templates/template_overrides.j2', 'releasenotes/notes/ubuntu-uses-mirrors-now-0858d579944eea48.yaml', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3b378b0a10570b91549a23055863d14e869768b5', 'message': ""[CI] Trust only infra mirrors and fix APT mirrors\n\nInfra mirrors get their indices rebuilt to avoid broken\nindices (due to partial update).\nUnfortunately, this wipes out the cryptographic signatures.\nOur approach so far was disabling apt security features globally.\nHowever, this is not a valid choice for external repos.\nIt hid an issue we introduced with new RabbitMQ repos missing\nproper keys installed in the image.\nThis caused permanent failures outside of our CI.\n\nOur process should be as close as possible to users' experience.\nThis patch makes CI trust only the mirrors that have their indices\nrebuilt (so infra mirrors).\n\nFor Train, fixed missing override parts as well.\nAnd it includes also:\n  - I8209770ca1353fd89aacef0859ca3a373645c6b2\n  - Icb745f628c1c50d9f20df022b08ddc46fccc270c\n  - Id3b55ac470a977be7ee7decdef3b49e8d89a130f\n\nChange-Id: Ic5abc4b87fd76f87aba383abf43e95ba70629fcb\nCo-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>\n(cherry picked from commit c364c8be85f4653bf7af1c7ac0378823553e7441)\n(cherry picked from commit 4a482380408d107c59119b379add34f4b8e87ad7)\n""}]",0,790261,3b378b0a10570b91549a23055863d14e869768b5,19,5,5,30491,,,0,"[CI] Trust only infra mirrors and fix APT mirrors

Infra mirrors get their indices rebuilt to avoid broken
indices (due to partial update).
Unfortunately, this wipes out the cryptographic signatures.
Our approach so far was disabling apt security features globally.
However, this is not a valid choice for external repos.
It hid an issue we introduced with new RabbitMQ repos missing
proper keys installed in the image.
This caused permanent failures outside of our CI.

Our process should be as close as possible to users' experience.
This patch makes CI trust only the mirrors that have their indices
rebuilt (so infra mirrors).

For Train, fixed missing override parts as well.
And it includes also:
  - I8209770ca1353fd89aacef0859ca3a373645c6b2
  - Icb745f628c1c50d9f20df022b08ddc46fccc270c
  - Id3b55ac470a977be7ee7decdef3b49e8d89a130f

Change-Id: Ic5abc4b87fd76f87aba383abf43e95ba70629fcb
Co-Authored-By: Marcin Juszkiewicz <marcin.juszkiewicz@linaro.org>
(cherry picked from commit c364c8be85f4653bf7af1c7ac0378823553e7441)
(cherry picked from commit 4a482380408d107c59119b379add34f4b8e87ad7)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/790261/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,c10f8af5daf96bfd3ccbeef9f301c4e66b0e533b,ci-trust-only-infra-mirrors-stable/wallaby-stable/victoria-stable/ussuri-stable/train,"<<<<<<< HEAD (c9b0e2 rabbitmq: Move to packagecloud)======= >>>>>>> CHANGE (4a4823 [CI] Trust only infra mirrors)<<<<<<< HEAD (c9b0e2 rabbitmq: Move to packagecloud)======= RUN sed -i -e ""s|http://deb.debian.org|[trusted=yes] http://{{ nodepool_mirror_host }}|"" \ -e ""s|http://security.debian.org|[trusted=yes] http://{{ nodepool_mirror_host }}|"" \ /etc/apt/sources.list {% raw %} {% elif base_distro == ""ubuntu"" %} {% endraw %} RUN sed -i -e ""s|mirror://mirrors.ubuntu.com/mirrors.txt|[trusted=yes] http://{{ nodepool_mirror_host }}/ubuntu/|"" \ -e ""s|http://ubuntu-cloud.archive.canonical.com/ubuntu|[trusted=yes] http://{{ nodepool_mirror_host }}/ubuntu-cloud-archive|"" \ -e ""s|http://ports.ubuntu.com|[trusted=yes] http://{{ nodepool_mirror_host }}/ubuntu-ports|"" \ /etc/apt/sources.list >>>>>>> CHANGE (4a4823 [CI] Trust only infra mirrors)<<<<<<< HEAD (c9b0e2 rabbitmq: Move to packagecloud)======= {% if base_distro == ""debian"" %} >>>>>>> CHANGE (4a4823 [CI] Trust only infra mirrors)<<<<<<< HEAD (c9b0e2 rabbitmq: Move to packagecloud)======= RUN sed -i -e ""s|\[trusted=yes\] http://{{ nodepool_mirror_host }}|http://deb.debian.org|"" \ -e ""s|\[trusted=yes\] http://{{ nodepool_mirror_host }}|http://security.debian.org|"" \ /etc/apt/sources.list {% raw %} {% elif base_distro == ""ubuntu"" %} {% endraw %} RUN sed -i -e ""s|\[trusted=yes\] http://{{ nodepool_mirror_host }}/ubuntu/|mirror://mirrors.ubuntu.com/mirrors.txt|"" \ -e ""s|\[trusted=yes\] http://{{ nodepool_mirror_host }}/ubuntu-cloud-archive|http://ubuntu-cloud.archive.canonical.com/ubuntu|"" \ -e ""s|\[trusted=yes\] http://{{ nodepool_mirror_host }}/ubuntu-ports|http://ports.ubuntu.com|"" \ >>>>>>> CHANGE (4a4823 [CI] Trust only infra mirrors)",,34,0
openstack%2Fpuppet-openstack_spec_helper~master~I02baa1151c8718f8d3225376fb0f3a38c57841a0,openstack/puppet-openstack_spec_helper,master,I02baa1151c8718f8d3225376fb0f3a38c57841a0,"Revert ""Pin lint packages to create stable/victoria branches""",MERGED,2020-11-09 13:57:22.000000000,2021-05-10 18:34:55.000000000,2021-05-10 18:34:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-09 13:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/29936d812db450b96165dbb767dad78ff3a40b99', 'message': 'Revert ""Pin lint packages to create stable/victoria branches""\n\nThe stable/victoria branch has been created, so we can unpin lint\npackages so that we can ensure that master codes follow the lastest\nlint rules.\n\nThis reverts commit 2bc66551238722ea5f0899c7aebb328e9a568e51.\n\nChange-Id: I02baa1151c8718f8d3225376fb0f3a38c57841a0\n'}, {'number': 2, 'created': '2021-05-03 16:10:18.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c0c701892a9dc26f55d21edce42996d94b656172', 'message': 'Revert ""Pin lint packages to create stable/victoria branches""\n\nThe stable/victoria branch has been created, so we can unpin lint\npackages so that we can ensure that master codes follow the lastest\nlint rules.\n\nThis reverts commit 2bc66551238722ea5f0899c7aebb328e9a568e51.\n\nChange-Id: I02baa1151c8718f8d3225376fb0f3a38c57841a0\n'}]",0,761925,c0c701892a9dc26f55d21edce42996d94b656172,10,3,2,9816,,,0,"Revert ""Pin lint packages to create stable/victoria branches""

The stable/victoria branch has been created, so we can unpin lint
packages so that we can ensure that master codes follow the lastest
lint rules.

This reverts commit 2bc66551238722ea5f0899c7aebb328e9a568e51.

Change-Id: I02baa1151c8718f8d3225376fb0f3a38c57841a0
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/25/761925/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,29936d812db450b96165dbb767dad78ff3a40b99,unpin-lint, spec.add_dependency 'metadata-json-lint' spec.add_dependency 'puppet-lint-param-docs' spec.add_dependency 'puppet-lint-unquoted_string-check' spec.add_dependency 'puppet-lint-absolute_classname-check' spec.add_dependency 'puppet-lint-leading_zero-check'," spec.add_dependency 'metadata-json-lint', ['= 2.4.0'] spec.add_dependency 'puppet-lint-param-docs', ['= 1.5.1'] spec.add_dependency 'puppet-lint-unquoted_string-check', ['= 2.0.0'] spec.add_dependency 'puppet-lint-absolute_classname-check', ['= 2.0.0'] spec.add_dependency 'puppet-lint-leading_zero-check', ['= 0.1.1']",5,5
openstack%2Fpuppet-octavia~master~I38bb6932d280433174ea2139090f770cffba6fbc,openstack/puppet-octavia,master,I38bb6932d280433174ea2139090f770cffba6fbc,Fix a typo in parameter description,MERGED,2021-05-08 14:31:22.000000000,2021-05-10 18:34:07.000000000,2021-05-10 18:34:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-08 14:31:22.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/3c37baefdc75efb708dfa8d4f46a9c699503104a', 'message': 'Fix a typo in parameter description\n\nChange-Id: I38bb6932d280433174ea2139090f770cffba6fbc\n'}]",0,790334,3c37baefdc75efb708dfa8d4f46a9c699503104a,7,3,1,9816,,,0,"Fix a typo in parameter description

Change-Id: I38bb6932d280433174ea2139090f770cffba6fbc
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/34/790334/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,3c37baefdc75efb708dfa8d4f46a9c699503104a,typo,# (optional) Enable the oslo middleware healthcheck endpoint.,# (optional) Enable the oslo middleware healthcheck endppint.,1,1
openstack%2Fkolla-ansible~stable%2Fussuri~Ic1ac8656f28c3835e091637014f075ac5479d390,openstack/kolla-ansible,stable/ussuri,Ic1ac8656f28c3835e091637014f075ac5479d390,Negative seqno need to be considered when comparing seqno,MERGED,2021-05-05 10:10:37.000000000,2021-05-10 18:23:52.000000000,2021-05-10 18:22:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-05 10:10:37.000000000', 'files': ['ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3dbe8e82a0915cea9d661ffb502cad83cd869607', 'message': ""Negative seqno need to be considered when comparing seqno\n\nNeed to consider Negative seqno to compare in some cases,\nbut the task does not support to do that, we need to make it work.\n\n1.we use mariabackup to restore datas on control1, delete the\nmariadb data on control2 and control3, and then use cluster recovery,\n as a result that the seqno of the other two nodes will be '-1'.\n\n2. add one more control node into our existing mariadb cluster,\nand then use cluster recovery, the seqno of the new node will be '-1'.\n\nChange-Id: Ic1ac8656f28c3835e091637014f075ac5479d390\n(cherry picked from commit 068f3fea50d17c63ac527b84a7a3d39c6f6cb5e2)\n""}]",0,789746,3dbe8e82a0915cea9d661ffb502cad83cd869607,9,3,1,14826,,,0,"Negative seqno need to be considered when comparing seqno

Need to consider Negative seqno to compare in some cases,
but the task does not support to do that, we need to make it work.

1.we use mariabackup to restore datas on control1, delete the
mariadb data on control2 and control3, and then use cluster recovery,
 as a result that the seqno of the other two nodes will be '-1'.

2. add one more control node into our existing mariadb cluster,
and then use cluster recovery, the seqno of the new node will be '-1'.

Change-Id: Ic1ac8656f28c3835e091637014f075ac5479d390
(cherry picked from commit 068f3fea50d17c63ac527b84a7a3d39c6f6cb5e2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/789746/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/tasks/recover_cluster.yml'],1,3dbe8e82a0915cea9d661ffb502cad83cd869607,, {{ hostvars[inventory_hostname]['seqno'] }} =~ ^-?[0-9]+$ && {{ hostvars[item]['seqno'] }} =~ ^-?[0-9]+$ &&, {{ hostvars[inventory_hostname]['seqno'] }} =~ ^[0-9]+$ && {{ hostvars[item]['seqno'] }} =~ ^[0-9]+$ &&,1,1
openstack%2Fkolla-ansible~stable%2Fvictoria~Ic1ac8656f28c3835e091637014f075ac5479d390,openstack/kolla-ansible,stable/victoria,Ic1ac8656f28c3835e091637014f075ac5479d390,Negative seqno need to be considered when comparing seqno,MERGED,2021-05-05 10:10:31.000000000,2021-05-10 18:20:08.000000000,2021-05-10 18:18:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-05 10:10:31.000000000', 'files': ['ansible/roles/mariadb/tasks/recover_cluster.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5bdeef89b626d0047278bcaf98db989881ef199d', 'message': ""Negative seqno need to be considered when comparing seqno\n\nNeed to consider Negative seqno to compare in some cases,\nbut the task does not support to do that, we need to make it work.\n\n1.we use mariabackup to restore datas on control1, delete the\nmariadb data on control2 and control3, and then use cluster recovery,\n as a result that the seqno of the other two nodes will be '-1'.\n\n2. add one more control node into our existing mariadb cluster,\nand then use cluster recovery, the seqno of the new node will be '-1'.\n\nChange-Id: Ic1ac8656f28c3835e091637014f075ac5479d390\n(cherry picked from commit 068f3fea50d17c63ac527b84a7a3d39c6f6cb5e2)\n""}]",0,789745,5bdeef89b626d0047278bcaf98db989881ef199d,9,3,1,14826,,,0,"Negative seqno need to be considered when comparing seqno

Need to consider Negative seqno to compare in some cases,
but the task does not support to do that, we need to make it work.

1.we use mariabackup to restore datas on control1, delete the
mariadb data on control2 and control3, and then use cluster recovery,
 as a result that the seqno of the other two nodes will be '-1'.

2. add one more control node into our existing mariadb cluster,
and then use cluster recovery, the seqno of the new node will be '-1'.

Change-Id: Ic1ac8656f28c3835e091637014f075ac5479d390
(cherry picked from commit 068f3fea50d17c63ac527b84a7a3d39c6f6cb5e2)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/789745/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/mariadb/tasks/recover_cluster.yml'],1,5bdeef89b626d0047278bcaf98db989881ef199d,, {{ hostvars[inventory_hostname]['seqno'] }} =~ ^-?[0-9]+$ && {{ hostvars[item]['seqno'] }} =~ ^-?[0-9]+$ &&, {{ hostvars[inventory_hostname]['seqno'] }} =~ ^[0-9]+$ && {{ hostvars[item]['seqno'] }} =~ ^[0-9]+$ &&,1,1
openstack%2Fopenstacksdk~feature%2Fr1~I2f4dda93652fb0800d89ce4a9e6d9b67e696bbd6,openstack/openstacksdk,feature/r1,I2f4dda93652fb0800d89ce4a9e6d9b67e696bbd6,Merge remote-tracking branch 'origin/master' into feature/r1,MERGED,2021-05-10 15:37:37.000000000,2021-05-10 18:13:50.000000000,2021-05-10 18:12:19.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-10 15:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/92acd5732f0369afd1afe3b14efa4ec7a6b04cd5', 'message': ""Merge remote-tracking branch 'origin/master' into merge_r1\n\nChange-Id: I2f4dda93652fb0800d89ce4a9e6d9b67e696bbd6\n""}, {'number': 2, 'created': '2021-05-10 15:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4e730f4dffba3c75d9b6b7adb19f84bc1cfbee2e', 'message': ""Merge remote-tracking branch 'origin/master' into feature/r1\n\nChange-Id: I2f4dda93652fb0800d89ce4a9e6d9b67e696bbd6\n""}]",0,790478,4e730f4dffba3c75d9b6b7adb19f84bc1cfbee2e,8,2,2,27900,,,0,"Merge remote-tracking branch 'origin/master' into feature/r1

Change-Id: I2f4dda93652fb0800d89ce4a9e6d9b67e696bbd6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/78/790478/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,92acd5732f0369afd1afe3b14efa4ec7a6b04cd5,merge_r1,,,0,0
openstack%2Foctavia-tempest-plugin~master~I4f6c16a164e08996581ba60a48ba7c480b5c4902,openstack/octavia-tempest-plugin,master,I4f6c16a164e08996581ba60a48ba7c480b5c4902,Modified test_traffic_ops for failover testing,NEW,2021-01-18 16:40:01.000000000,2021-05-10 18:12:03.000000000,,"[{'_account_id': 1131}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28609}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-01-18 16:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/460c0ea8ad0dc373e56e9a3baea788281b2e05ba', 'message': 'Modified test_traffic_ops for loadbalancer failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 2, 'created': '2021-01-18 16:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/16b43933bafef396f8966b4d003141df3d3afb83', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 3, 'created': '2021-01-19 13:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3a2923fb09b413fe6eaa754b3d2d8cf615a3b612', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 4, 'created': '2021-01-24 10:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1d64780bbc9b10acd6d3befa28b7c440da6f25a1', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 5, 'created': '2021-01-24 14:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2dc9df5ecb96bc6da9a0962c64d5a221d5628bf3', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\nMerged _test_basic_traffic and _test_disturbed_traffic into a single method\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 6, 'created': '2021-01-25 07:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/da03009af3db3bbd3b97de6bf16d8e2000416754', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\nMerged _test_basic_traffic and _test_disturbed_traffic into a single method\nfixed typo on line 207\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 7, 'created': '2021-01-26 09:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/16249c63d41da8e3a0186ba498694718c87a36c9', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\nMerged _test_basic_traffic and _test_disturbed_traffic into a single method\nfixed typo on line 207\nfixed udp port clash on line 262\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 8, 'created': '2021-01-26 13:51:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/47823f0728bb386cf23cf6f41d60bf85dfc44112', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n* Merged _test_basic_traffic and _test_disturbed_traffic into a single method\n* fixed typo on line 207\n* fixed udp port clash on line 262\n* fixed typo on line 263\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 9, 'created': '2021-01-26 16:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b6d34cb5f28ea8140aca9cc51ae7734450c93c9a', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n* Merged _test_basic_traffic and _test_disturbed_traffic into a single method\n* fixed typo on line 207\n* fixed udp port clash on line 262\n* fixed typo on line 263\n* corrected the class name on line 263\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 10, 'created': '2021-01-27 14:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/11bf25563fae6ea544919afa51388e82145fae1e', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n* Merged _test_basic_traffic and _test_disturbed_traffic into a single method\n* fixed typo on line 207\n* fixed udp port clash on line 262\n* fixed typo on line 263\n* corrected the class name on line 263\n* corrected the invocation of the dsturb_func\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 11, 'created': '2021-02-10 09:26:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ce889fca1f34456f1dcdecabd27e88e08603599a', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 12, 'created': '2021-02-10 14:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d5152bc50a255d1b500ab4c6c187e3bd1b8eb00d', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 13, 'created': '2021-03-10 09:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/2267e7c3b89ce89ce5b2c92d18975699f847e6e3', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 14, 'created': '2021-04-07 09:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c614c22d985ff2823d5f17d6049a7bfce3a615d2', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 15, 'created': '2021-05-02 09:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/560e9025e636fa1e0306c9f677f961571b84ab8d', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 16, 'created': '2021-05-06 08:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/959188d585e55b38243decaeb5c3526af5482f02', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\nswitched all self.lb_id to clc.lb_id\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 17, 'created': '2021-05-06 08:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/750db84e2b210e64fbdc9c170af5df152478a099', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\nswitched all self.lb_id to cls.lb_id\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 18, 'created': '2021-05-10 09:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/800daa3293d74e4082a1214f8f7e2bd39edeb03d', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\nreverted to version 15\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 19, 'created': '2021-05-10 09:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5254431d3d12215d46e8256f2e880c7d0a16fb18', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\nActually reverted to version 15 and built from there\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}, {'number': 20, 'created': '2021-05-10 15:36:42.000000000', 'files': ['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/1f708addb01b7f2a3ad9de95affe3f95a8c74ea9', 'message': 'Modified test_traffic_ops for failover testing\n\nA new method ""_test_disturbed_traffic"" has been added\nthat sets up a load balancer pool and then executes\na fuction that has been passed as a parameter\nto cause a disturbance of the load blancer pool\nand then tests that the pool has recovered.\nNew Test:\ntest_failover_udp\nthat tests that a load balancer pool\ncan recover from a load balancer failover\nActually reverted to version 15 and rebuilt from there\n\nChange-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902\n'}]",65,771251,1f708addb01b7f2a3ad9de95affe3f95a8c74ea9,49,5,20,32137,,,0,"Modified test_traffic_ops for failover testing

A new method ""_test_disturbed_traffic"" has been added
that sets up a load balancer pool and then executes
a fuction that has been passed as a parameter
to cause a disturbance of the load blancer pool
and then tests that the pool has recovered.
New Test:
test_failover_udp
that tests that a load balancer pool
can recover from a load balancer failover
Actually reverted to version 15 and rebuilt from there

Change-Id: I4f6c16a164e08996581ba60a48ba7c480b5c4902
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/51/771251/20 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py'],1,460c0ea8ad0dc373e56e9a3baea788281b2e05ba,change-771251-19,"from octavia_tempest_plugin.services import load_balancer def _test_disturbed_traffic( self, protocol, protocol_port, listener_id, pool_id, persistent=True, traffic_member_count=2, source_port=None, delay=None, disturb_func=None): """"""Tests sending traffic through a loadbalancer with a disturbance * Set up members on a loadbalancer. * Test traffic to ensure it is balanced properly. * Run the disturbance function. * Test traffic to ensure it is balanced properly. """""" # Set up Member 1 for Webserver 1 member1_name = data_utils.rand_name(""lb_member_member1-traffic"") member1_kwargs = { const.POOL_ID: pool_id, const.NAME: member1_name, const.ADMIN_STATE_UP: True, const.ADDRESS: self.webserver1_ip, const.PROTOCOL_PORT: 80, } if self.lb_member_1_subnet: member1_kwargs[const.SUBNET_ID] = self.lb_member_1_subnet[const.ID] member1 = self.mem_member_client.create_member(**member1_kwargs) self.addCleanup( self.mem_member_client.cleanup_member, member1[const.ID], pool_id=pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Set up Member 2 for Webserver 2 member2_name = data_utils.rand_name(""lb_member_member2-traffic"") member2_kwargs = { const.POOL_ID: pool_id, const.NAME: member2_name, const.ADMIN_STATE_UP: True, const.ADDRESS: self.webserver2_ip, const.PROTOCOL_PORT: 80, } if self.lb_member_2_subnet: member2_kwargs[const.SUBNET_ID] = self.lb_member_2_subnet[const.ID] member2 = self.mem_member_client.create_member(**member2_kwargs) self.addCleanup( self.mem_member_client.cleanup_member, member2[const.ID], pool_id=pool_id, lb_client=self.mem_lb_client, lb_id=self.lb_id) waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Send some traffic self.check_members_balanced( self.lb_vip_address, protocol_port=protocol_port, persistent=persistent, protocol=protocol, traffic_member_count=traffic_member_count, source_port=source_port, delay=delay) # run the disturbance function disturb_func() # wait for the loadbalancer to stabilize waiters.wait_for_status( self.mem_lb_client.show_loadbalancer, self.lb_id, const.PROVISIONING_STATUS, const.ACTIVE, CONF.load_balancer.check_interval, CONF.load_balancer.check_timeout) # Send some traffic self.check_members_balanced( self.lb_vip_address, protocol_port=protocol_port, persistent=persistent, protocol=protocol, traffic_member_count=traffic_member_count, source_port=source_port, delay=delay) @testtools.skipIf(CONF.load_balancer.test_with_noop, 'Traffic tests will not work in noop mode.') @decorators.idempotent_id('63c25c45-b832-42b7-840a-ec803e2f201d') def test_failover_udp_traffic(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.1'): raise self.skipException('UDP listener support is only available ' 'in Octavia API version 2.1 or newer') listener_id, pool_id = self._listener_pool_create(const.UDP, 8080) lb_failover = load_balancer.loadbalance_client.failover_loadbalancer self._test_disturbed_traffic(const.UDP, 8080, listener_id, pool_id, disturb_func=lb_failover) ",,95,0
openstack%2Fopenstacksdk~master~Idcd6f329dcffd87f70771378ddbb686fd95c6184,openstack/openstacksdk,master,Idcd6f329dcffd87f70771378ddbb686fd95c6184,Fix get_server_password method,MERGED,2021-05-08 19:51:00.000000000,2021-05-10 18:09:52.000000000,2021-05-10 18:08:15.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-08 19:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/08029eda958e9cace197e5b7e40d363e970a528f', 'message': 'This change fixes the get_server_password method\nwhere a typo (or mistake) prevents making the actual\nproxy request.\n\nAlso, we need to process the Response object,\ncheck for any exceptions and return\nencrypted password string - what the user expects.\n\nStory: 2008889\nTask: 42449\nChange-Id: Idcd6f329dcffd87f70771378ddbb686fd95c6184\n'}, {'number': 2, 'created': '2021-05-10 13:45:38.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6269f8cf9fc472da10d5c7700801fb925f41d215', 'message': 'Fix get_server_password method\n\nThis change fixes the get_server_password method\nwhere a typo (or mistake) prevents making the actual\nproxy request.\n\nAlso, we need to process the Response object,\ncheck for any exceptions and return\nencrypted password string - what the user expects.\n\nStory: 2008889\nTask: 42449\nChange-Id: Idcd6f329dcffd87f70771378ddbb686fd95c6184\n'}]",1,790342,6269f8cf9fc472da10d5c7700801fb925f41d215,12,4,2,30171,,,0,"Fix get_server_password method

This change fixes the get_server_password method
where a typo (or mistake) prevents making the actual
proxy request.

Also, we need to process the Response object,
check for any exceptions and return
encrypted password string - what the user expects.

Story: 2008889
Task: 42449
Change-Id: Idcd6f329dcffd87f70771378ddbb686fd95c6184
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/42/790342/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/compute/v2/_proxy.py']",2,08029eda958e9cace197e5b7e40d363e970a528f,bug/2008889, return server.get_password(self), return server.get_password(self._session),7,2
openstack%2Fopenstacksdk~master~I6f8d58705db3c71abffd0e939d692bb02b8b1f32,openstack/openstacksdk,master,I6f8d58705db3c71abffd0e939d692bb02b8b1f32,Adding retype_volume to BlockStorageCloudMixin,MERGED,2021-02-17 21:06:23.000000000,2021-05-10 18:03:25.000000000,2021-05-10 17:47:43.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 24407}, {'_account_id': 27900}, {'_account_id': 32854}]","[{'number': 1, 'created': '2021-02-17 21:06:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5254e0cbbd71d98cb1eb011bb043bf0b8de08837', 'message': 'Adding retype_volume to BlockStorageCloudMixin\n\nWe are missing some ""/action"" operations for volumes so this patch\nadds the ability to retype volumes to the sdk.\n\nSigned-off-by: Thiago Brito <thiago.brito@windriver.com>\nChange-Id: I6f8d58705db3c71abffd0e939d692bb02b8b1f32\n'}, {'number': 2, 'created': '2021-02-26 15:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f37513ce27f6a969ab4822c8adec800f54dbd672', 'message': 'Adding retype_volume to BlockStorageCloudMixin\n\nWe are missing some ""/action"" operations for volumes so this patch\nadds the ability to retype volumes to the sdk.\n\nSigned-off-by: Thiago Brito <thiago.brito@windriver.com>\nChange-Id: I6f8d58705db3c71abffd0e939d692bb02b8b1f32\n'}, {'number': 3, 'created': '2021-04-27 18:08:07.000000000', 'files': ['openstack/block_storage/v3/volume.py', 'openstack/tests/unit/block_storage/v3/test_volume.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/34d23cd12720559ecb95b3783837d06746ea5518', 'message': 'Adding retype_volume to BlockStorageCloudMixin\n\nWe are missing some ""/action"" operations for volumes so this patch\nadds the ability to retype volumes to the sdk.\n\nSigned-off-by: Thiago Brito <thiago.brito@windriver.com>\nChange-Id: I6f8d58705db3c71abffd0e939d692bb02b8b1f32\n'}]",0,776272,34d23cd12720559ecb95b3783837d06746ea5518,23,5,3,32349,,,0,"Adding retype_volume to BlockStorageCloudMixin

We are missing some ""/action"" operations for volumes so this patch
adds the ability to retype volumes to the sdk.

Signed-off-by: Thiago Brito <thiago.brito@windriver.com>
Change-Id: I6f8d58705db3c71abffd0e939d692bb02b8b1f32
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/72/776272/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_volume.py', 'openstack/cloud/_block_storage.py']",2,5254e0cbbd71d98cb1eb011bb043bf0b8de08837,retype_volume," def retype_volume(self, name_or_id, new_type, migration_policy=""never""): """"""Retype the volume. :param name_or_id: Name, unique ID of the volume or a volume dict. :param new_type: The new volume type that volume is changed with. :param migration_policy: Specify if the volume should be migrated when it is re-typed. Possible values are on-demand or never. Default: never. :raises: OpenStackCloudTimeout if wait time exceeded. :raises: OpenStackCloudException on operation error. """""" volume = self.get_volume(name_or_id) if not volume: raise exc.OpenStackCloudException( ""Volume {name_or_id} does not exist"".format( name_or_id=name_or_id)) resp = self.block_storage.post( 'volumes/{id}/action'.format(id=volume['id']), json={ 'os-retype': { 'new_type': new_type, 'migration_policy': migration_policy } } ) proxy._json_response( resp, error_message=""Error setting new type for volume {volume}"".format( volume=volume['id']) ) ",,83,0
openstack%2Fos-net-config~master~I7437f51a6c7b2bb53831974e80a41ad9dcb83182,openstack/os-net-config,master,I7437f51a6c7b2bb53831974e80a41ad9dcb83182,Update master for stable/wallaby,MERGED,2021-05-05 15:31:42.000000000,2021-05-10 18:03:23.000000000,2021-05-10 18:01:56.000000000,"[{'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 15:31:42.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f4e599a26c4badc8f5cb38656e09a93666aeb010', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I7437f51a6c7b2bb53831974e80a41ad9dcb83182\n'}]",0,789879,f4e599a26c4badc8f5cb38656e09a93666aeb010,8,3,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I7437f51a6c7b2bb53831974e80a41ad9dcb83182
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/79/789879/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,f4e599a26c4badc8f5cb38656e09a93666aeb010,reno-wallaby, wallaby,,7,0
openstack%2Fansible-role-redhat-subscription~master~Ib373c4b44b0ee5a80752081b1883433eb9045765,openstack/ansible-role-redhat-subscription,master,Ib373c4b44b0ee5a80752081b1883433eb9045765,setup.cfg: Replace dashes with underscores,MERGED,2021-05-04 08:23:43.000000000,2021-05-10 18:00:37.000000000,2021-05-10 18:00:37.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 08:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/39161d27385cc8667cada74d3bb72ed5b2dc700a', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: Ib373c4b44b0ee5a80752081b1883433eb9045765\n'}, {'number': 2, 'created': '2021-05-04 08:24:03.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/75cc7f61c46cfeb58d240c065de06968cf9616a9', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib373c4b44b0ee5a80752081b1883433eb9045765\n""}]",0,789522,75cc7f61c46cfeb58d240c065de06968cf9616a9,8,3,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib373c4b44b0ee5a80752081b1883433eb9045765
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/22/789522/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,39161d27385cc8667cada74d3bb72ed5b2dc700a,,description_file =author_email = sdoran@redhat.com home_page = https://github.com/openstack/ansible-role-redhat-subscriptionsetup_hooks =,description-file =author-email = sdoran@redhat.com home-page = https://github.com/openstack/ansible-role-redhat-subscriptionsetup-hooks =,4,4
openstack%2Fkolla-ansible~master~Ib85cc2cb10e3c97de9f7d608e75694a0fc2714c2,openstack/kolla-ansible,master,Ib85cc2cb10e3c97de9f7d608e75694a0fc2714c2,octavia: Fix duplicate api_settings,MERGED,2021-05-07 08:31:25.000000000,2021-05-10 17:47:23.000000000,2021-05-09 16:20:41.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-07 08:31:25.000000000', 'files': ['ansible/roles/octavia/templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e5ab32afafdde49a8dbad18f8126ffc29ee9ed66', 'message': 'octavia: Fix duplicate api_settings\n\nChange-Id: Ib85cc2cb10e3c97de9f7d608e75694a0fc2714c2\n'}]",4,790208,e5ab32afafdde49a8dbad18f8126ffc29ee9ed66,12,3,1,22629,,,0,"octavia: Fix duplicate api_settings

Change-Id: Ib85cc2cb10e3c97de9f7d608e75694a0fc2714c2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/790208/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/templates/octavia.conf.j2'],1,e5ab32afafdde49a8dbad18f8126ffc29ee9ed66,,enabled_provider_drivers = '{{ octavia_provider_drivers }}',[api_settings] enabled_provider_drivers = '{{ octavia_provider_drivers }}' ,1,3
openstack%2Fopenstacksdk~master~Ib45a47ef5563d2ca0690420ec859356ea887447a,openstack/openstacksdk,master,Ib45a47ef5563d2ca0690420ec859356ea887447a,Add support for API Extensions,MERGED,2021-04-28 18:36:21.000000000,2021-05-10 17:19:35.000000000,2021-05-10 17:18:04.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-28 18:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2eb4ab534b3317fa07f6700f2199304dc936fdde', 'message': 'WIP: Add support for API Extensions\n\nIntroduct the extensions resource, its attributes,\nand API Calls for interacting with API Extensions.\n\nTask: 41810 Story: 2008619\n\nSigned-off-by: James Palmer <jpalmer7698@gmail.com>\nChange-Id: Ib45a47ef5563d2ca0690420ec859356ea887447a\n'}, {'number': 2, 'created': '2021-05-06 14:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ae5867e2d4659ad45ae9c84cdc7c8325c78b1cb8', 'message': 'WIP: Add support for API Extensions\n\nIntroduct the extensions resource, its attributes,\nand API Calls for interacting with API Extensions.\n\nTask: 41810 Story: 2008619\n\nSigned-off-by: James Palmer <jpalmer7698@gmail.com>\nChange-Id: Ib45a47ef5563d2ca0690420ec859356ea887447a\n'}, {'number': 3, 'created': '2021-05-06 15:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/331087987e878e3a009c55f150540c9701b48b22', 'message': 'Add support for API Extensions\n\nIntroduct the extensions resource, its attributes,\nand API Calls for interacting with API Extensions.\n\nTask: 41810 Story: 2008619\n\nSigned-off-by: James Palmer <jpalmer7698@gmail.com>\nChange-Id: Ib45a47ef5563d2ca0690420ec859356ea887447a\n'}, {'number': 4, 'created': '2021-05-06 16:28:54.000000000', 'files': ['openstack/block_storage/v3/extension.py', 'openstack/tests/functional/block_storage/v3/test_extension.py', 'openstack/tests/unit/block_storage/v3/test_proxy.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/tests/unit/block_storage/v3/test_extension.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bcdeb001d717cb209c3e6a1b19c5ba5b56b7364c', 'message': 'Add support for API Extensions\n\nIntroduct the extensions resource, its attributes,\nand API Calls for interacting with API Extensions.\n\nTask: 41810 Story: 2008619\n\nSigned-off-by: James Palmer <jpalmer7698@gmail.com>\nChange-Id: Ib45a47ef5563d2ca0690420ec859356ea887447a\n'}]",5,788568,bcdeb001d717cb209c3e6a1b19c5ba5b56b7364c,14,2,4,33036,,,0,"Add support for API Extensions

Introduct the extensions resource, its attributes,
and API Calls for interacting with API Extensions.

Task: 41810 Story: 2008619

Signed-off-by: James Palmer <jpalmer7698@gmail.com>
Change-Id: Ib45a47ef5563d2ca0690420ec859356ea887447a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/68/788568/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/block_storage/v3/extension.py', 'openstack/tests/functional/block_storage/v3/test_extension.py', 'openstack/block_storage/v3/_proxy.py', 'openstack/tests/unit/block_storage/v3/test_extension.py']",4,2eb4ab534b3317fa07f6700f2199304dc936fdde,extensions_resource,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.block_storage.v3 import extension from openstack.tests.unit import base EXTENSION = { ""alias"": ""os-hosts"", ""description"": ""Admin-only host administration."", ""links"": [], ""name"": ""Hosts"", ""namespace"": """", ""updated"": ""2011-06-29T00:00:00+00:00"", } class TestExtension(base.TestCase): def test_basic(self): extension_resource = extension.Extension() self.assertEqual('extensions', extension_resource.resources_key) self.assertEqual('/extensions', extension_resource.base_path) self.assertFalse(extension_resource.allow_create) self.assertFalse(extension_resource.allow_fetch) self.assertFalse(extension_resource.allow_commit) self.assertFalse(extension_resource.allow_delete) self.assertTrue(extension_resource.allow_list) def test_make_resource_filter(self): extension_resource = extension.Extension(**EXTENSION) self.assertEqual(EXTENSION['alias'], extension_resource.alias) self.assertEqual(EXTENSION['description'], extension_resource.description) self.assertEqual(EXTENSION['links'], extension_resource.links) self.assertEqual(EXTENSION['name'], extension_resource.name) self.assertEqual(EXTENSION['namespace'], extension_resource.namespace) self.assertEqual(EXTENSION['updated'], extension_resource.updated) ",,120,0
openstack%2Fopenstacksdk~master~I6fc527205aa8bc2c226f5649b894b8a1de7525a2,openstack/openstacksdk,master,I6fc527205aa8bc2c226f5649b894b8a1de7525a2,setup.cfg: Replace dashes with underscores,MERGED,2021-04-29 12:22:25.000000000,2021-05-10 17:09:36.000000000,2021-05-10 17:06:51.000000000,"[{'_account_id': 7634}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-29 12:22:25.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d72e60819d5b117797906eaeaebbe463ade1ea27', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I6fc527205aa8bc2c226f5649b894b8a1de7525a2\n""}]",0,788730,d72e60819d5b117797906eaeaebbe463ade1ea27,9,4,1,31412,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I6fc527205aa8bc2c226f5649b894b8a1de7525a2
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/30/788730/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d72e60819d5b117797906eaeaebbe463ade1ea27,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstacksdk/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstacksdk/,3,3
openstack%2Fopenstacksdk~master~I2b3b17f13744c05bdafb2367fb45cc6b39845807,openstack/openstacksdk,master,I2b3b17f13744c05bdafb2367fb45cc6b39845807,Fix MFA authorization,MERGED,2021-04-30 17:43:57.000000000,2021-05-10 17:08:25.000000000,2021-05-10 17:06:02.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-30 17:43:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bdd5878d0f9e7ac014ac95dcf7a661aed7ab9979', 'message': 'Fix MFA authorization\n\nThis is absolutely impractical to force users to code TOTP token in the\nclouds.yaml. With this change it is possible to pass passcode\ndynamically, what will especially be helping OSC with --os-passcode to\npass the MFA code.\n\nChange-Id: I2b3b17f13744c05bdafb2367fb45cc6b39845807\n'}, {'number': 2, 'created': '2021-05-10 10:00:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/89a072866f0d568cd451f8e13e31a74b697ee03a', 'message': 'Fix MFA authorization\n\nThis is absolutely impractical to force users to code TOTP token in the\nclouds.yaml. With this change it is possible to pass passcode\ndynamically, what will especially be helping OSC with --os-passcode to\npass the MFA code.\n\nChange-Id: I2b3b17f13744c05bdafb2367fb45cc6b39845807\n'}, {'number': 3, 'created': '2021-05-10 13:59:42.000000000', 'files': ['openstack/config/loader.py', 'openstack/tests/unit/config/test_config.py', 'doc/source/user/config/configuration.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3958422a869a1342b313a2d201d10911167c526f', 'message': 'Fix MFA authorization\n\nThis is absolutely impractical to force users to code TOTP token in the\nclouds.yaml. With this change it is possible to pass passcode\ndynamically, what will especially be helping OSC with --os-passcode to\npass the MFA code.\n\nChange-Id: I2b3b17f13744c05bdafb2367fb45cc6b39845807\n'}]",4,788989,3958422a869a1342b313a2d201d10911167c526f,18,3,3,27900,,,0,"Fix MFA authorization

This is absolutely impractical to force users to code TOTP token in the
clouds.yaml. With this change it is possible to pass passcode
dynamically, what will especially be helping OSC with --os-passcode to
pass the MFA code.

Change-Id: I2b3b17f13744c05bdafb2367fb45cc6b39845807
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/89/788989/3 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/config/loader.py', 'openstack/tests/unit/config/test_config.py']",2,bdd5878d0f9e7ac014ac95dcf7a661aed7ab9979,," def test_get_one_infer_passcode(self): single_conf = base._write_yaml({ 'clouds': { 'mfa': { 'auth_type': 'v3multifactor', 'auth_methods': ['v3password', 'v3totp'], 'auth': { 'auth_url': 'fake_url', 'username': 'testuser', 'password': 'testpass', 'project_name': 'testproject', 'project_domain_name': 'projectdomain', 'user_domain_name': 'udn' }, 'region_name': 'test-region', } } }) c = config.OpenStackConfig(config_files=[single_conf]) cc = c.get_one(cloud='mfa', passcode='123') self.assertEqual('123', cc.auth['passcode']) ",,29,0
openstack%2Fopenstacksdk~stable%2Fwallaby~I25dabfde27b843df1c91c7fc37a1fe8d207b8010,openstack/openstacksdk,stable/wallaby,I25dabfde27b843df1c91c7fc37a1fe8d207b8010,Don't send empty remote_address_group_id for security groups,MERGED,2021-04-24 09:56:12.000000000,2021-05-10 17:08:06.000000000,2021-05-10 17:06:36.000000000,"[{'_account_id': 6816}, {'_account_id': 7118}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-24 09:56:12.000000000', 'files': ['openstack/network/v2/security_group_rule.py', 'releasenotes/notes/remote-address-group-id-6291816888cb3de7.yaml', 'openstack/tests/unit/cloud/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f7c55645505027ac16d8e11f05ee5b2768c85a06', 'message': ""Don't send empty remote_address_group_id for security groups\n\nWe are seeing an error raised by older Neutron's\n\n 400: Client Error for url: <cloud>/v2.0/security-group-rules,\n Unrecognized attribute(s) 'remote_address_group_id'\n\nThis field was added unconditionally with\nI50374c339ab7685a6e74f25f9521b8810c532e13 but, per above, appears to\ncause problems for older Neutron instances.\n\nTo work around this, remove the argument from the body when blank by\noverriding the _prepare_request function of SecurityGroupRule.\n\nTwo tests where this are used are updated; one checks the body is not\nsent when None and the other is modified to send a\nremote_address_group_id value to validate the other path.\n\nStory: #2008577\nTask: #41729\nChange-Id: I25dabfde27b843df1c91c7fc37a1fe8d207b8010\n(cherry picked from commit b562d779e60337926c011b147256ba81cc1e6f88)\n""}]",0,787838,f7c55645505027ac16d8e11f05ee5b2768c85a06,10,5,1,13252,,,0,"Don't send empty remote_address_group_id for security groups

We are seeing an error raised by older Neutron's

 400: Client Error for url: <cloud>/v2.0/security-group-rules,
 Unrecognized attribute(s) 'remote_address_group_id'

This field was added unconditionally with
I50374c339ab7685a6e74f25f9521b8810c532e13 but, per above, appears to
cause problems for older Neutron instances.

To work around this, remove the argument from the body when blank by
overriding the _prepare_request function of SecurityGroupRule.

Two tests where this are used are updated; one checks the body is not
sent when None and the other is modified to send a
remote_address_group_id value to validate the other path.

Story: #2008577
Task: #41729
Change-Id: I25dabfde27b843df1c91c7fc37a1fe8d207b8010
(cherry picked from commit b562d779e60337926c011b147256ba81cc1e6f88)
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/38/787838/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/network/v2/security_group_rule.py', 'releasenotes/notes/remote-address-group-id-6291816888cb3de7.yaml', 'openstack/tests/unit/cloud/test_security_groups.py']",3,f7c55645505027ac16d8e11f05ee5b2768c85a06,remote-address-group-id-stable/wallaby," remote_address_group_id='1234-5678', # This is not sent in body if == None so should not be in the # JSON; see SecurityGroupRule where it is removed. expected_args.pop('remote_address_group_id') "," remote_address_group_id=None,",23,1
openstack%2Fgrenade~master~Icea0fbbd3e389800d7fcfdd6ecd11f3b05b2a892,openstack/grenade,master,Icea0fbbd3e389800d7fcfdd6ecd11f3b05b2a892,Changed minversion in tox to 3.18.0,MERGED,2021-05-06 14:35:24.000000000,2021-05-10 16:38:57.000000000,2021-05-10 16:36:55.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-06 14:35:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/grenade/commit/c7f6f5d1fa65de982d733ead59b08dbac4339744', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Icea0fbbd3e389800d7fcfdd6ecd11f3b05b2a892\n""}]",0,790079,c7f6f5d1fa65de982d733ead59b08dbac4339744,8,4,1,33379,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Icea0fbbd3e389800d7fcfdd6ecd11f3b05b2a892
",git fetch https://review.opendev.org/openstack/grenade refs/changes/79/790079/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c7f6f5d1fa65de982d733ead59b08dbac4339744,,minversion = 3.18.0allowlist_externals = bashallowlist_externals =,minversion = 2.0whitelist_externals = bashwhitelist_externals =,3,3
openstack%2Fwhitebox-tempest-plugin~master~I954af0724274ec6f606a7a46d39a7ef9f528809f,openstack/whitebox-tempest-plugin,master,I954af0724274ec6f606a7a46d39a7ef9f528809f,Changed minversion in tox to 3.18.0,MERGED,2021-05-10 12:20:11.000000000,2021-05-10 16:20:36.000000000,2021-05-10 16:20:36.000000000,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 31033}]","[{'number': 1, 'created': '2021-05-10 12:20:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/65b530c85755cebe9d4e18cc5a71d1d580a7ac64', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I954af0724274ec6f606a7a46d39a7ef9f528809f\n""}]",0,790427,65b530c85755cebe9d4e18cc5a71d1d580a7ac64,7,4,1,33379,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I954af0724274ec6f606a7a46d39a7ef9f528809f
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/27/790427/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,65b530c85755cebe9d4e18cc5a71d1d580a7ac64,,minversion = 3.18.0allowlist_externals = *,minversion = 2.3.1whitelist_externals = *,2,2
openstack%2Fopenstacksdk~master~I1a2d7effbf634c0501c36c2b528eb5e3ceff1958,openstack/openstacksdk,master,I1a2d7effbf634c0501c36c2b528eb5e3ceff1958,Add support for project options,MERGED,2021-05-06 16:11:30.000000000,2021-05-10 16:18:27.000000000,2021-05-10 16:16:40.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-05-06 16:11:30.000000000', 'files': ['openstack/identity/v3/project.py', 'openstack/tests/unit/identity/v3/test_project.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/ed566ac2ac6f43a4ee890f51255ddfc256bf38ff', 'message': 'Add support for project options\n\nOptions are currently not supported as an attribute of the\nidentity.project.\n\nChange-Id: I1a2d7effbf634c0501c36c2b528eb5e3ceff1958\n'}]",0,790095,ed566ac2ac6f43a4ee890f51255ddfc256bf38ff,8,3,1,27900,,,0,"Add support for project options

Options are currently not supported as an attribute of the
identity.project.

Change-Id: I1a2d7effbf634c0501c36c2b528eb5e3ceff1958
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/95/790095/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/identity/v3/project.py', 'openstack/tests/unit/identity/v3/test_project.py']",2,ed566ac2ac6f43a4ee890f51255ddfc256bf38ff,," 'options': { 'foo': 'bar' } self.assertDictEqual(EXAMPLE['options'], sot.options)",,7,0
openstack%2Fkuryr-kubernetes~master~Id899688aee86873d3a38638031592ea3e492b2d5,openstack/kuryr-kubernetes,master,Id899688aee86873d3a38638031592ea3e492b2d5,Fix typo in kuryport.py file,MERGED,2021-05-05 02:21:57.000000000,2021-05-10 16:11:48.000000000,2021-05-10 16:08:32.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-05 02:21:57.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrport.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2327d3908c55a19998c61c4e802b5a66d28e8040', 'message': 'Fix typo in kuryport.py file\n\nChange-Id: Id899688aee86873d3a38638031592ea3e492b2d5\n'}]",1,789694,2327d3908c55a19998c61c4e802b5a66d28e8040,17,5,1,33250,,,0,"Fix typo in kuryport.py file

Change-Id: Id899688aee86873d3a38638031592ea3e492b2d5
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/94/789694/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/kuryrport.py'],1,2327d3908c55a19998c61c4e802b5a66d28e8040,branch_mykuryr," # object which apparently is still running. # it. So this exception could be safely ignored for the current LOG.debug('Updating CRD %s', kuryrport_crd[""metadata""][""name""])"," # object which apperantely is still running. # it. So this exception could be safetly ignored for the current LOG.debug('Updatting CRD %s', kuryrport_crd[""metadata""][""name""])",3,3
openstack%2Fkuryr-kubernetes~master~Ic83148d51bf2cc1b2a8c8e5bf8ba3c28e6fa588f,openstack/kuryr-kubernetes,master,Ic83148d51bf2cc1b2a8c8e5bf8ba3c28e6fa588f,Update GO version,MERGED,2021-04-29 10:48:41.000000000,2021-05-10 16:10:33.000000000,2021-05-10 16:08:24.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-04-29 10:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/260b4136c8bece230bb25ceb5adb9b40fc9c1cef', 'message': 'Upgrade GO version\n\nThis commit upgrades GO Version to 1.18\n\nCloses-bug: #1922235\nDepends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/787690\nChange-Id: Ic83148d51bf2cc1b2a8c8e5bf8ba3c28e6fa588f\n'}, {'number': 2, 'created': '2021-04-30 11:52:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/16e50f75ed385b9f113e1572b5fae6dcf5aac712', 'message': 'Update GO version\n\nThis commit updates the GO Version to 1.16\n\nCloses-bug: #1922235\nDepends-On: https://review.opendev.org/c/openstack/kuryr-kubernetes/+/787690\nChange-Id: Ic83148d51bf2cc1b2a8c8e5bf8ba3c28e6fa588f\n'}, {'number': 3, 'created': '2021-04-30 13:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d37bbc8cf39d9c3894905f271fa9b1e635e73b03', 'message': 'Update GO version\n\nThis commit updates the GO Version to 1.16\n\nChange-Id: Ic83148d51bf2cc1b2a8c8e5bf8ba3c28e6fa588f\n'}, {'number': 4, 'created': '2021-05-03 11:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/c854009127c720c22dfbe254d00a998f2745a745', 'message': 'Update GO version\n\nThis commit updates the GO Version to 1.16\n\nChange-Id: Ic83148d51bf2cc1b2a8c8e5bf8ba3c28e6fa588f\n'}, {'number': 5, 'created': '2021-05-07 13:16:05.000000000', 'files': ['cni.Dockerfile'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/06c6fa2b6503e02fcec6bcd11cc2ee4c52812750', 'message': 'Update GO version\n\nThis commit updates the GO Version to 1.16\n\nChange-Id: Ic83148d51bf2cc1b2a8c8e5bf8ba3c28e6fa588f\n'}]",4,788713,06c6fa2b6503e02fcec6bcd11cc2ee4c52812750,34,4,5,33240,,,0,"Update GO version

This commit updates the GO Version to 1.16

Change-Id: Ic83148d51bf2cc1b2a8c8e5bf8ba3c28e6fa588f
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/13/788713/2 && git format-patch -1 --stdout FETCH_HEAD,['cni.Dockerfile'],1,260b4136c8bece230bb25ceb5adb9b40fc9c1cef,go_build,FROM quay.io/kuryr/golang:1.18 as builder,FROM quay.io/kuryr/golang:1.15 as builder,1,1
openstack%2Ftripleo-heat-templates~master~I65cc547830542349c27b3b55176a091649a46acc,openstack/tripleo-heat-templates,master,I65cc547830542349c27b3b55176a091649a46acc,Switch to distributed object expirer,ABANDONED,2021-03-24 13:54:10.000000000,2021-05-10 15:59:26.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-24 13:54:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c93af4accd3fd2be2d9a4635fc2be0e167f8f741', 'message': 'Switch to distributed object expirer\n\nobject-expirer.conf has been removed from packages with\nhttps://github.com/rdo-packages/swift-distgit/commit/0014419a4958e39c652a74d6cff8f46464bce8ad.\n\nCloses-Bug: #1920924\nChange-Id: I65cc547830542349c27b3b55176a091649a46acc\n'}, {'number': 2, 'created': '2021-03-24 15:55:56.000000000', 'files': ['deployment/swift/swift-storage-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/607dd57ea7bd4fb5c0f325e6764a923a6551583a', 'message': 'Switch to distributed object expirer\n\nChanges the image and command for object-expirer.\nPackaging has changed with\nhttps://github.com/rdo-packages/swift-distgit/commit/0014419a4958e39c652a74d6cff8f46464bce8ad.\n\nCloses-Bug: #1920924\nChange-Id: I65cc547830542349c27b3b55176a091649a46acc\n'}]",5,782746,607dd57ea7bd4fb5c0f325e6764a923a6551583a,11,3,2,8833,,,0,"Switch to distributed object expirer

Changes the image and command for object-expirer.
Packaging has changed with
https://github.com/rdo-packages/swift-distgit/commit/0014419a4958e39c652a74d6cff8f46464bce8ad.

Closes-Bug: #1920924
Change-Id: I65cc547830542349c27b3b55176a091649a46acc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/46/782746/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/swift/swift-storage-container-puppet.yaml'],1,c93af4accd3fd2be2d9a4635fc2be0e167f8f741,, command: /usr/bin/swift-object-expirer /etc/swift/object-server.conf, command: /usr/bin/swift-object-expirer /etc/swift/object-expirer.conf,1,1
openstack%2Fcharm-deployment-guide~master~I6314e113a4d81ee7990650a3b3ff675a57d41e72,openstack/charm-deployment-guide,master,I6314e113a4d81ee7990650a3b3ff675a57d41e72,Refresh install openstack page to Wallaby,MERGED,2021-05-03 02:02:23.000000000,2021-05-10 15:53:54.000000000,2021-05-10 15:52:44.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 02:02:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f475b1497de7c9bad491285a8057c71115d65af4', 'message': ""Refresh install openstack page to Wallaby\n\nPerform a manual install and update 'juju status'\noutput.\n\nUpdate software versions:\n\n* OpenStack Wallaby\n* Juju 2.9.0\n* MAAS 2.9.2\n\nInclude worker-multiplier option for six charms as\nper openstack-base bundle\n\nReword Dashboard section as per recent openstack-base\nbundle commit\n\nAdd source option to ceph-radosgw deployment\n\nMinor rewording\n\nChange-Id: I6314e113a4d81ee7990650a3b3ff675a57d41e72\n""}, {'number': 2, 'created': '2021-05-04 21:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/ad65b9e991dffe892e82be6b9298a85a2e4cf8c3', 'message': ""Refresh install openstack page to Wallaby\n\nPerform a manual install and update 'juju status'\noutput.\n\nUpdate software versions:\n\n* OpenStack Wallaby\n* Juju 2.9.0\n* MAAS 2.9.2\n\nAdd 'worker-multiplier', 'expected-osd-count', and\n'expected-mon-count' options to the appropriate charms\nas per the openstack-base bundle\n\nReword Dashboard section as per recent openstack-base\nbundle commit\n\nAdd source option to ceph-radosgw deployment\n\nMinor rewording\n\nChange-Id: I6314e113a4d81ee7990650a3b3ff675a57d41e72\n""}, {'number': 3, 'created': '2021-05-05 20:26:51.000000000', 'files': ['deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-openstack-juju-status.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/install-overview.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3b73c33af937957fef9492cf1f15eb26e9279466', 'message': ""Refresh install openstack page to Wallaby\n\nPerform a manual install and update 'juju status'\noutput.\n\nUpdate software versions:\n\n* OpenStack Wallaby\n* Juju 2.9.0\n* MAAS 2.9.2\n\nAdd 'worker-multiplier', 'expected-osd-count', and\n'monitor-count' options to the appropriate charms\nas per the openstack-base bundle\n\nReword Dashboard section as per recent openstack-base\nbundle commit\n\nAdd source option to ceph-radosgw deployment\n\nMinor rewording\n\nChange-Id: I6314e113a4d81ee7990650a3b3ff675a57d41e72\n""}]",0,789122,3b73c33af937957fef9492cf1f15eb26e9279466,12,2,3,30561,,,0,"Refresh install openstack page to Wallaby

Perform a manual install and update 'juju status'
output.

Update software versions:

* OpenStack Wallaby
* Juju 2.9.0
* MAAS 2.9.2

Add 'worker-multiplier', 'expected-osd-count', and
'monitor-count' options to the appropriate charms
as per the openstack-base bundle

Reword Dashboard section as per recent openstack-base
bundle commit

Add source option to ceph-radosgw deployment

Minor rewording

Change-Id: I6314e113a4d81ee7990650a3b3ff675a57d41e72
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/22/789122/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/install-juju.rst', 'deploy-guide/source/install-openstack-juju-status.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/install-overview.rst']",4,f475b1497de7c9bad491285a8057c71115d65af4,refresh-install-openstack-for-wallaby,* **MAAS 2.9.2** * **Juju 2.9.0** * **OpenStack Wallaby**,* **MAAS 2.9.1** * **Juju 2.8.7** * **OpenStack Victoria**,238,212
openstack%2Fironic~master~I60787243fdc6ed2741522355ec79970bdb912f41,openstack/ironic,master,I60787243fdc6ed2741522355ec79970bdb912f41,Delete unavailable py2 package,MERGED,2021-05-10 08:30:31.000000000,2021-05-10 15:47:19.000000000,2021-05-10 15:01:01.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-10 08:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/118ed3f131f07f4e9fffe760fee36e157947d7aa', 'message': 'Delete unavailable py2 package\n\nThe openstack Ussuri and Victoria versions no longer support the\nCentos7 and pyrhon2 environment packages. Correct the missing\nproblems in the latest document\n\nChange-Id: I60787243fdc6ed2741522355ec79970bdb912f41\n'}, {'number': 2, 'created': '2021-05-10 09:48:05.000000000', 'files': ['doc/source/install/configure-tenant-networks.rst', 'doc/source/install/include/configure-ironic-api-mod_wsgi.inc', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/enabling-https.rst', 'doc/source/install/configure-compute.rst', 'doc/source/install/include/configure-ironic-api.inc', 'doc/source/install/install-obs.rst', 'doc/source/install/configure-cleaning.rst', 'doc/source/install/install-rdo.rst', 'doc/source/install/configure-pxe.rst', 'doc/source/admin/console.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/35dea078974261e83f594e798855893401a53511', 'message': 'Delete unavailable py2 package\n\nThe openstack Ussuri and Victoria versions no longer support the\nCentos7 and pyrhon2 environment packages. Correct the missing\nproblems in the latest document\n\nChange-Id: I60787243fdc6ed2741522355ec79970bdb912f41\n'}]",6,790384,35dea078974261e83f594e798855893401a53511,15,3,2,31506,,,0,"Delete unavailable py2 package

The openstack Ussuri and Victoria versions no longer support the
Centos7 and pyrhon2 environment packages. Correct the missing
problems in the latest document

Change-Id: I60787243fdc6ed2741522355ec79970bdb912f41
",git fetch https://review.opendev.org/openstack/ironic refs/changes/84/790384/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/configure-tenant-networks.rst', 'doc/source/install/include/configure-ironic-api-mod_wsgi.inc', 'doc/source/install/install-ubuntu.rst', 'doc/source/install/enabling-https.rst', 'doc/source/install/configure-compute.rst', 'doc/source/install/include/configure-ironic-api.inc', 'doc/source/install/install-obs.rst', 'doc/source/install/configure-cleaning.rst', 'doc/source/install/install-rdo.rst', 'doc/source/install/configure-pxe.rst', 'doc/source/admin/console.rst']",11,118ed3f131f07f4e9fffe760fee36e157947d7aa,, RHEL8/CentOS8/Fedora:: RHEL8/CentOS8/Fedora:: RHEL8/CentOS8/Fedora::, RHEL7/CentOS7:: sudo yum install shellinabox Fedora:: RHEL7/CentOS7:: sudo yum install openssl Fedora:: RHEL7/CentOS7:: sudo yum install socat Fedora::,29,61
openstack%2Fironic~master~Ida21f21d6435c0d7fa46cb5b1161f034ad8956ee,openstack/ironic,master,Ida21f21d6435c0d7fa46cb5b1161f034ad8956ee,Avoid unnecessary validation in boot interfaces,MERGED,2021-05-04 15:26:36.000000000,2021-05-10 15:46:11.000000000,2021-05-10 15:44:30.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-04 15:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/84d89aa5c450cc05e597c15c8f0f398e43fcc603', 'message': ""[WIP] Avoid unnecessary validation in boot interfaces\n\nInterfaces should only validate values they're going to use. Boot\ninterfaces do not care about image properties when local boot is used\n(which is the default), so they shouldn't validate them. The deploy\ninterface has to provide validation for images.\n\nThis change fixes PXE, iPXE and redfish-virtual-media, although other\nboot interfaces may need a similar change.\n\nAlso refactor unit tests for redfish-virtual-media.\n\nStory: #2008874\nTask: #42418\nChange-Id: Ida21f21d6435c0d7fa46cb5b1161f034ad8956ee\n""}, {'number': 2, 'created': '2021-05-04 16:11:47.000000000', 'files': ['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/tests/unit/drivers/modules/test_pxe.py', 'releasenotes/notes/boot-validate-6b4b6b40c8e27273.yaml', 'ironic/drivers/modules/redfish/boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e6bb99cd8ff94a24c3f2108e649c7ca39189d220', 'message': ""Avoid unnecessary validation in boot interfaces\n\nInterfaces should only validate values they're going to use. Boot\ninterfaces do not care about image properties when local boot is used\n(which is the default), so they shouldn't validate them. The deploy\ninterface has to provide validation for images.\n\nThis change fixes PXE, iPXE and redfish-virtual-media, although other\nboot interfaces may need a similar change. We also need to refactor\nhandling instance_info in deploy_utils, but that can wait until the\niSCSI deploy removal.\n\nAlso refactor unit tests for redfish-virtual-media.\n\nStory: #2008874\nTask: #42418\nChange-Id: Ida21f21d6435c0d7fa46cb5b1161f034ad8956ee\n""}]",0,789591,e6bb99cd8ff94a24c3f2108e649c7ca39189d220,15,3,2,10239,,,0,"Avoid unnecessary validation in boot interfaces

Interfaces should only validate values they're going to use. Boot
interfaces do not care about image properties when local boot is used
(which is the default), so they shouldn't validate them. The deploy
interface has to provide validation for images.

This change fixes PXE, iPXE and redfish-virtual-media, although other
boot interfaces may need a similar change. We also need to refactor
handling instance_info in deploy_utils, but that can wait until the
iSCSI deploy removal.

Also refactor unit tests for redfish-virtual-media.

Story: #2008874
Task: #42418
Change-Id: Ida21f21d6435c0d7fa46cb5b1161f034ad8956ee
",git fetch https://review.opendev.org/openstack/ironic refs/changes/91/789591/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/pxe_base.py', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/tests/unit/drivers/modules/redfish/test_boot.py', 'ironic/drivers/modules/redfish/boot.py']",4,84d89aa5c450cc05e597c15c8f0f398e43fcc603,boot-validate, # NOTE(dtantsur): if we're are writing an image with local boot # the boot interface does not care about image parameters and # must not validate them. if (not task.driver.storage.should_write_image(task) or deploy_utils.get_boot_option(node) == 'local'): return self._validate_instance_info(task), if task.driver.storage.should_write_image(task): self._validate_instance_info(task),57,88
openstack%2Frequirements~stable%2Fvictoria~I58c32c70a360834955dfb7097d46eb0aa6291e3e,openstack/requirements,stable/victoria,I58c32c70a360834955dfb7097d46eb0aa6291e3e,update constraint for neutron to new release 17.1.2,MERGED,2021-05-10 09:32:27.000000000,2021-05-10 15:38:38.000000000,2021-05-10 15:38:38.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-10 09:32:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/378861b438e22ed6a5507516842689adb8e196f1', 'message': 'update constraint for neutron to new release 17.1.2\n\nmeta: version: 17.1.2\nmeta: diff-start: -\nmeta: series: victoria\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>\nmeta: release:Change-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce\nmeta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: likui <likui@yovole.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I58c32c70a360834955dfb7097d46eb0aa6291e3e\n'}]",0,790388,378861b438e22ed6a5507516842689adb8e196f1,8,3,1,11131,,,0,"update constraint for neutron to new release 17.1.2

meta: version: 17.1.2
meta: diff-start: -
meta: series: victoria
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Commit: Bernard Cafarelli <bcafarel@redhat.com>
meta: release:Change-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce
meta: release:Code-Review+1: Slawek Kaplonski <skaplons@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: likui <likui@yovole.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I58c32c70a360834955dfb7097d46eb0aa6291e3e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/88/790388/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,378861b438e22ed6a5507516842689adb8e196f1,new-release,neutron===17.1.2,neutron===17.1.1,1,1
openstack%2Frequirements~stable%2Fwallaby~I9837880d9219228afba0350b2c0dab1ff5a60cba,openstack/requirements,stable/wallaby,I9837880d9219228afba0350b2c0dab1ff5a60cba,update constraint for tripleo-common to new release 15.2.0,MERGED,2021-05-10 08:17:22.000000000,2021-05-10 15:36:01.000000000,2021-05-10 15:36:01.000000000,"[{'_account_id': 8449}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-10 08:17:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4065d29765562061aef11056036a76fcc1153073', 'message': 'update constraint for tripleo-common to new release 15.2.0\n\nmeta: version: 15.2.0\nmeta: diff-start: -\nmeta: series: wallaby\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Marios Andreou <marios@redhat.com>\nmeta: release:Commit: Marios Andreou <marios@redhat.com>\nmeta: release:Change-Id: I312bf5904de392acb3febcca6ab640a7b7b7a7e9\nmeta: release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I9837880d9219228afba0350b2c0dab1ff5a60cba\n'}]",0,790382,4065d29765562061aef11056036a76fcc1153073,10,5,1,11131,,,0,"update constraint for tripleo-common to new release 15.2.0

meta: version: 15.2.0
meta: diff-start: -
meta: series: wallaby
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Marios Andreou <marios@redhat.com>
meta: release:Commit: Marios Andreou <marios@redhat.com>
meta: release:Change-Id: I312bf5904de392acb3febcca6ab640a7b7b7a7e9
meta: release:Code-Review+1: yatin <ykarel@redhat.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I9837880d9219228afba0350b2c0dab1ff5a60cba
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/790382/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4065d29765562061aef11056036a76fcc1153073,new-release,tripleo-common===15.2.0,tripleo-common===15.1.0,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I24b3d4cb3c527ec794b7195e1e692d84f16504a6,openstack/python-tripleoclient,stable/wallaby,I24b3d4cb3c527ec794b7195e1e692d84f16504a6,Update TOX_CONSTRAINTS_FILE for stable/wallaby,MERGED,2021-04-15 17:22:45.000000000,2021-05-10 15:12:26.000000000,2021-05-10 15:10:53.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-15 17:22:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4c685a72df53f2b09521ad445d95c3a157a41958', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/wallaby\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/wallaby branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I24b3d4cb3c527ec794b7195e1e692d84f16504a6\n'}]",0,786471,4c685a72df53f2b09521ad445d95c3a157a41958,13,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/wallaby

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/wallaby branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I24b3d4cb3c527ec794b7195e1e692d84f16504a6
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/71/786471/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4c685a72df53f2b09521ad445d95c3a157a41958,create-wallaby, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/wallaby}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fopenstacksdk~master~Ia7d2fd0b0e824b09d151b4eee6395a2c0debcd6d,openstack/openstacksdk,master,Ia7d2fd0b0e824b09d151b4eee6395a2c0debcd6d,Fix import order in message and workflow unit tests,MERGED,2021-05-07 11:00:20.000000000,2021-05-10 15:04:39.000000000,2021-05-10 15:01:44.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 11:00:20.000000000', 'files': ['openstack/tests/unit/workflow/test_execution.py', 'openstack/tests/unit/message/test_version.py', 'openstack/tests/unit/workflow/test_version.py', 'tox.ini', 'openstack/tests/unit/workflow/test_workflow.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8b343e38f068945cad4ed904c8e679a6da0b8351', 'message': 'Fix import order in message and workflow unit tests\n\nRemove tox filters\n\nChange-Id: Ia7d2fd0b0e824b09d151b4eee6395a2c0debcd6d\n'}]",0,790219,8b343e38f068945cad4ed904c8e679a6da0b8351,7,2,1,23851,,,0,"Fix import order in message and workflow unit tests

Remove tox filters

Change-Id: Ia7d2fd0b0e824b09d151b4eee6395a2c0debcd6d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/19/790219/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/workflow/test_execution.py', 'openstack/tests/unit/message/test_version.py', 'openstack/tests/unit/workflow/test_version.py', 'tox.ini', 'openstack/tests/unit/workflow/test_workflow.py']",5,8b343e38f068945cad4ed904c8e679a6da0b8351,apply-import-order,,,3,6
openstack%2Fironic-python-agent~master~Ie3bd49add9a57fabbcdcbae4b73309066b620d02,openstack/ironic-python-agent,master,Ie3bd49add9a57fabbcdcbae4b73309066b620d02,Fix NVMe Partition image on UEFI,MERGED,2021-04-27 18:12:47.000000000,2021-05-10 15:04:20.000000000,2021-05-10 15:00:21.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 18:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cfb99061aff4e1a8c1ec25a69487ea5c38a7d9a3', 'message': ""Fix NVMe Partition image on UEFI\n\nThe _manage_uefi code has a check where it attempts to just\nidentify the precise partition number of the device, in order\nfor configuration to be parsed and passed. However, the same code\ndid not handle the existence of a `p1` partition instead of just a\npartition #1. This is because the device naming format is different\nwith NVMe and Software RAID.\n\nLikely, this wasn't an issue with software raid due to how complex the\ncode interaction is, but the docs also indicate to use only whole disk\nimages in that case.\n\nrhbz# 1954096\n\nChange-Id: Ie3bd49add9a57fabbcdcbae4b73309066b620d02\n""}, {'number': 2, 'created': '2021-05-04 15:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/734f443cbd4a93d251381ab7cfa46ddd135a9d49', 'message': ""Fix NVMe Partition image on UEFI\n\nThe _manage_uefi code has a check where it attempts to just\nidentify the precise partition number of the device, in order\nfor configuration to be parsed and passed. However, the same code\ndid not handle the existence of a `p1` partition instead of just a\npartition #1. This is because the device naming format is different\nwith NVMe and Software RAID.\n\nLikely, this wasn't an issue with software raid due to how complex the\ncode interaction is, but the docs also indicate to use only whole disk\nimages in that case.\n\nThis patch was pulled down my one RH's professional services folks\nwho has confirmed it does indeed fix the issue at hand. This is noted\nas a public comment on the Red Hat bugzilla.\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1954096\n\nStory: 2008881\nTask: 42426\nrhbz# 1954096\nChange-Id: Ie3bd49add9a57fabbcdcbae4b73309066b620d02\n""}, {'number': 3, 'created': '2021-05-04 16:44:49.000000000', 'files': ['releasenotes/notes/fix-nvme-partition-image-handling-b8487133a188fd32.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fe825fa97ed1f3c9fa8b1461b63ab133fec20b72', 'message': ""Fix NVMe Partition image on UEFI\n\nThe _manage_uefi code has a check where it attempts to just\nidentify the precise partition number of the device, in order\nfor configuration to be parsed and passed. However, the same code\ndid not handle the existence of a `p1` partition instead of just a\npartition #1. This is because the device naming format is different\nwith NVMe and Software RAID.\n\nLikely, this wasn't an issue with software raid due to how complex the\ncode interaction is, but the docs also indicate to use only whole disk\nimages in that case.\n\nThis patch was pulled down my one RH's professional services folks\nwho has confirmed it does indeed fix the issue at hand. This is noted\nas a public comment on the Red Hat bugzilla.\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1954096\n\nStory: 2008881\nTask: 42426\nRelated: rhbz#1954096\nChange-Id: Ie3bd49add9a57fabbcdcbae4b73309066b620d02\n""}]",7,788338,fe825fa97ed1f3c9fa8b1461b63ab133fec20b72,17,3,3,11655,,,0,"Fix NVMe Partition image on UEFI

The _manage_uefi code has a check where it attempts to just
identify the precise partition number of the device, in order
for configuration to be parsed and passed. However, the same code
did not handle the existence of a `p1` partition instead of just a
partition #1. This is because the device naming format is different
with NVMe and Software RAID.

Likely, this wasn't an issue with software raid due to how complex the
code interaction is, but the docs also indicate to use only whole disk
images in that case.

This patch was pulled down my one RH's professional services folks
who has confirmed it does indeed fix the issue at hand. This is noted
as a public comment on the Red Hat bugzilla.
https://bugzilla.redhat.com/show_bug.cgi?id=1954096

Story: 2008881
Task: 42426
Related: rhbz#1954096
Change-Id: Ie3bd49add9a57fabbcdcbae4b73309066b620d02
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/38/788338/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-nvme-partition-image-handling-b8487133a188fd32.yaml', 'ironic_python_agent/tests/unit/extensions/test_image.py', 'ironic_python_agent/extensions/image.py']",3,cfb99061aff4e1a8c1ec25a69487ea5c38a7d9a3,," try: efi_partition = int(partition.replace(device, """")) except ValueError: # NVMe Devices get a partitioning scheme that is different from # traditional block devices like SCSI/SATA efi_partition = int(partition.replace(device + 'p', """"))"," efi_partition = int(partition.replace(device, """"))",51,1
openstack%2Fironic~master~I8f1909523f2e8c314bd7e6f62ac29a90d7585abd,openstack/ironic,master,I8f1909523f2e8c314bd7e6f62ac29a90d7585abd,Document the custom-agent deploy interface,MERGED,2021-05-05 14:06:29.000000000,2021-05-10 15:03:29.000000000,2021-05-10 15:00:44.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-05 14:06:29.000000000', 'files': ['doc/source/admin/interfaces/deploy.rst', 'doc/source/admin/node-deployment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/53d06a797c72a7f826ea2889aa6883a717256e6c', 'message': 'Document the custom-agent deploy interface\n\nFollow-up to commit e85a36fe36db166e3f37212aa8261ac72e34e66a.\n\nChange-Id: I8f1909523f2e8c314bd7e6f62ac29a90d7585abd\n'}]",0,789840,53d06a797c72a7f826ea2889aa6883a717256e6c,9,3,1,10239,,,0,"Document the custom-agent deploy interface

Follow-up to commit e85a36fe36db166e3f37212aa8261ac72e34e66a.

Change-Id: I8f1909523f2e8c314bd7e6f62ac29a90d7585abd
",git fetch https://review.opendev.org/openstack/ironic refs/changes/40/789840/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/interfaces/deploy.rst', 'doc/source/admin/node-deployment.rst']",2,53d06a797c72a7f826ea2889aa6883a717256e6c,custom-agent-deploy,"Excluding the default steps --------------------------- Starting with the Xena release, you can use the new :ref:`custom-agent-deploy` interface to exclude the default step ``write_image`` and skip bootloader installation in the ``prepare_instance_boot`` step. ",,20,0
openstack%2Fopenstacksdk~master~I2e5e8f0910ab1ff9dffaecfd7fef64e29b3df91c,openstack/openstacksdk,master,I2e5e8f0910ab1ff9dffaecfd7fef64e29b3df91c,Fix import order in load_balancer unit tests,MERGED,2021-05-06 09:39:43.000000000,2021-05-10 15:03:26.000000000,2021-05-10 15:01:40.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 09:39:43.000000000', 'files': ['openstack/tests/unit/load_balancer/test_pool.py', 'openstack/tests/unit/load_balancer/test_provider.py', 'openstack/tests/unit/load_balancer/test_flavor_profile.py', 'openstack/tests/unit/load_balancer/test_availability_zone.py', 'openstack/tests/unit/load_balancer/test_listener.py', 'openstack/tests/unit/load_balancer/test_quota.py', 'openstack/tests/unit/load_balancer/test_health_monitor.py', 'openstack/tests/unit/load_balancer/test_l7rule.py', 'openstack/tests/unit/load_balancer/test_version.py', 'openstack/tests/unit/load_balancer/test_member.py', 'openstack/tests/unit/load_balancer/test_availability_zone_profile.py', 'openstack/tests/unit/load_balancer/test_l7policy.py', 'openstack/tests/unit/load_balancer/test_flavor.py', 'tox.ini', 'openstack/tests/unit/load_balancer/test_amphora.py', 'openstack/tests/unit/load_balancer/test_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2598947d8b6864660d5daf30c389d92d5c991c0a', 'message': 'Fix import order in load_balancer unit tests\n\nRemove filter from tox.ini\n\nChange-Id: I2e5e8f0910ab1ff9dffaecfd7fef64e29b3df91c\n'}]",0,790025,2598947d8b6864660d5daf30c389d92d5c991c0a,7,2,1,23851,,,0,"Fix import order in load_balancer unit tests

Remove filter from tox.ini

Change-Id: I2e5e8f0910ab1ff9dffaecfd7fef64e29b3df91c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/25/790025/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/load_balancer/test_pool.py', 'openstack/tests/unit/load_balancer/test_provider.py', 'openstack/tests/unit/load_balancer/test_flavor_profile.py', 'openstack/tests/unit/load_balancer/test_availability_zone.py', 'openstack/tests/unit/load_balancer/test_listener.py', 'openstack/tests/unit/load_balancer/test_quota.py', 'openstack/tests/unit/load_balancer/test_health_monitor.py', 'openstack/tests/unit/load_balancer/test_l7rule.py', 'openstack/tests/unit/load_balancer/test_version.py', 'openstack/tests/unit/load_balancer/test_member.py', 'openstack/tests/unit/load_balancer/test_availability_zone_profile.py', 'openstack/tests/unit/load_balancer/test_l7policy.py', 'openstack/tests/unit/load_balancer/test_flavor.py', 'tox.ini', 'openstack/tests/unit/load_balancer/test_amphora.py', 'openstack/tests/unit/load_balancer/test_proxy.py']",16,2598947d8b6864660d5daf30c389d92d5c991c0a,apply-import-order,import uuid,import uuid,26,16
openstack%2Fironic-python-agent~master~I14fd4164991fb94263757244f716b6bfe8edf875,openstack/ironic-python-agent,master,I14fd4164991fb94263757244f716b6bfe8edf875,Burn-in: Add CPU step,MERGED,2021-04-27 08:49:43.000000000,2021-05-10 15:03:13.000000000,2021-05-10 15:00:14.000000000,"[{'_account_id': 10239}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-27 08:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/a2d3e366af247835b4bd3bf5a204a0931726d0f4', 'message': ""[WIP] Burn-in: Add CPU step\n\nAdd a clean step for CPU burn-in via stress-ng. Get basic\nrun parameters from the node's driver_info.\n\n(Lacks tests and reno.)\n\nStory: #2007523\nTask: #42382\n\nChange-Id: I14fd4164991fb94263757244f716b6bfe8edf875\n""}, {'number': 2, 'created': '2021-04-27 13:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/0a1a8665fff8073b5c869e8085b0c432ef91537f', 'message': ""[WIP] Burn-in: Add CPU step\n\nAdd a clean step for CPU burn-in via stress-ng. Get basic\nrun parameters from the node's driver_info.\n\n(Lacks tests and reno.)\n\nStory: #2007523\nTask: #42382\n\nChange-Id: I14fd4164991fb94263757244f716b6bfe8edf875\n""}, {'number': 3, 'created': '2021-04-27 13:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/20245590aabe83f2d8f5fe789eabb757a6a16c05', 'message': ""[WIP] Burn-in: Add CPU step\n\nAdd a clean step for CPU burn-in via stress-ng. Get basic\nrun parameters from the node's driver_info.\n\n(Lacks tests and reno.)\n\nStory: #2007523\nTask: #42382\n\nChange-Id: I14fd4164991fb94263757244f716b6bfe8edf875\n""}, {'number': 4, 'created': '2021-04-27 15:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/fa0d27427a9ac1b63d91d49de67423e8d9e58784', 'message': ""[WIP] Burn-in: Add CPU step\n\nAdd a clean step for CPU burn-in via stress-ng. Get basic\nrun parameters from the node's driver_info.\n\n(Lacks tests and reno.)\n\nStory: #2007523\nTask: #42382\n\nChange-Id: I14fd4164991fb94263757244f716b6bfe8edf875\n""}, {'number': 5, 'created': '2021-04-27 15:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4e73611c73b675b37adf0e223e7e3e6a5110bbf1', 'message': ""[WIP] Burn-in: Add CPU step\n\nAdd a clean step for CPU burn-in via stress-ng. Get basic\nrun parameters from the node's driver_info.\n\nStory: #2007523\nTask: #42382\n\nChange-Id: I14fd4164991fb94263757244f716b6bfe8edf875\n""}, {'number': 6, 'created': '2021-04-29 17:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f5fbc7a33599830aea2c609a8642ca1bb444e9d1', 'message': ""Burn-in: Add CPU step\n\nAdd a clean step for CPU burn-in via stress-ng. Get basic\nrun parameters from the node's driver_info.\n\nStory: #2007523\nTask: #42382\n\nChange-Id: I14fd4164991fb94263757244f716b6bfe8edf875\n""}, {'number': 7, 'created': '2021-04-30 11:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b38049fa928456b515fdefb794d26055b120aa14', 'message': ""Burn-in: Add CPU step\n\nAdd a clean step for CPU burn-in via stress-ng. Get basic\nrun parameters from the node's driver_info.\n\nStory: #2007523\nTask: #42382\n\nChange-Id: I14fd4164991fb94263757244f716b6bfe8edf875\n""}, {'number': 8, 'created': '2021-05-01 08:47:17.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/burnin.py', 'releasenotes/notes/add_burnin_cpu-9acbb36048246a6b.yaml', 'doc/source/admin/hardware_managers.rst', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_burnin.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6702fcaa43fda3384415f8e6c2848b8abc6ff15e', 'message': ""Burn-in: Add CPU step\n\nAdd a clean step for CPU burn-in via stress-ng. Get basic\nrun parameters from the node's driver_info.\n\nStory: #2007523\nTask: #42382\n\nChange-Id: I14fd4164991fb94263757244f716b6bfe8edf875\n""}]",17,788211,6702fcaa43fda3384415f8e6c2848b8abc6ff15e,25,4,8,11292,,,0,"Burn-in: Add CPU step

Add a clean step for CPU burn-in via stress-ng. Get basic
run parameters from the node's driver_info.

Story: #2007523
Task: #42382

Change-Id: I14fd4164991fb94263757244f716b6bfe8edf875
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/11/788211/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'doc/source/admin/hardware_managers.rst']",2,a2d3e366af247835b4bd3bf5a204a0931726d0f4,story_2007523,``deploy.burnin_cpu`` Stress-test the CPUs of a node via stress-ng for a configurable amount of time. Disabled by default.,,36,0
openstack%2Fopenstacksdk~master~I775d7d37d543e306cd870b56a071f8afbbdd5bb6,openstack/openstacksdk,master,I775d7d37d543e306cd870b56a071f8afbbdd5bb6,Fix import order in compute unit tests,MERGED,2021-04-22 13:10:11.000000000,2021-05-10 14:45:05.000000000,2021-05-10 14:43:24.000000000,"[{'_account_id': 10239}, {'_account_id': 18511}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 13:10:11.000000000', 'files': ['openstack/tests/unit/compute/v2/test_server_group.py', 'openstack/tests/unit/compute/v2/test_keypair.py', 'openstack/tests/unit/compute/v2/test_service.py', 'openstack/tests/unit/compute/v2/test_availability_zone.py', 'openstack/tests/unit/compute/v2/test_server_diagnostics.py', 'openstack/tests/unit/compute/v2/test_extension.py', 'openstack/tests/unit/compute/v2/test_flavor.py', 'openstack/tests/unit/compute/v2/test_server_remote_console.py', 'openstack/tests/unit/compute/v2/test_hypervisor.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/compute/v2/test_image.py', 'openstack/tests/unit/compute/test_version.py', 'openstack/tests/unit/compute/v2/test_server_interface.py', 'tox.ini', 'openstack/tests/unit/compute/v2/test_volume_attachment.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c49bbafb89fa3bbcbdaa8c4c478aa57460bcdf5c', 'message': 'Fix import order in compute unit tests\n\nChange-Id: I775d7d37d543e306cd870b56a071f8afbbdd5bb6\n'}]",0,787553,c49bbafb89fa3bbcbdaa8c4c478aa57460bcdf5c,9,3,1,23851,,,0,"Fix import order in compute unit tests

Change-Id: I775d7d37d543e306cd870b56a071f8afbbdd5bb6
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/53/787553/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/compute/v2/test_server_group.py', 'openstack/tests/unit/compute/v2/test_keypair.py', 'openstack/tests/unit/compute/v2/test_service.py', 'openstack/tests/unit/compute/v2/test_availability_zone.py', 'openstack/tests/unit/compute/v2/test_server_diagnostics.py', 'openstack/tests/unit/compute/v2/test_extension.py', 'openstack/tests/unit/compute/v2/test_flavor.py', 'openstack/tests/unit/compute/v2/test_server_remote_console.py', 'openstack/tests/unit/compute/v2/test_hypervisor.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'openstack/tests/unit/compute/v2/test_image.py', 'openstack/tests/unit/compute/test_version.py', 'openstack/tests/unit/compute/v2/test_server_interface.py', 'tox.ini', 'openstack/tests/unit/compute/v2/test_volume_attachment.py']",15,c49bbafb89fa3bbcbdaa8c4c478aa57460bcdf5c,apply-import-order,from openstack.compute.v2 import volume_attachment,from openstack.compute.v2 import volume_attachment,16,14
openstack%2Ftripleo-specs~master~Iffc50562682f77232297a26e8c013d201210759e,openstack/tripleo-specs,master,Iffc50562682f77232297a26e8c013d201210759e,Add TripleO First Principles policy,MERGED,2021-04-19 21:21:30.000000000,2021-05-10 14:29:25.000000000,2021-05-10 14:28:14.000000000,"[{'_account_id': 6681}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 7414}, {'_account_id': 11082}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 27419}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-19 21:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/c06ec2ce0ac135ec8761514675e63a6991c94410', 'message': 'Add TripleO First Principles policy\n\nChange-Id: Iffc50562682f77232297a26e8c013d201210759e\n'}, {'number': 2, 'created': '2021-04-21 21:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/312bd74f2d2afcd07a52586df051c974f42d3706', 'message': 'Add TripleO First Principles policy\n\nChange-Id: Iffc50562682f77232297a26e8c013d201210759e\n'}, {'number': 3, 'created': '2021-04-23 17:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/bb2f2c7f1b764a3da3d60e40c7a63b92a71eedeb', 'message': 'Add TripleO First Principles policy\n\nChange-Id: Iffc50562682f77232297a26e8c013d201210759e\n'}, {'number': 4, 'created': '2021-04-26 15:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/7e9d08e17e2a2e0803148abc63bf8eac9e37fff8', 'message': 'Add TripleO First Principles policy\n\nChange-Id: Iffc50562682f77232297a26e8c013d201210759e\n'}, {'number': 5, 'created': '2021-04-28 18:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/c893c1a6d81ccae794c45b41c7ea68518828ecca', 'message': 'Add TripleO First Principles policy\n\nChange-Id: Iffc50562682f77232297a26e8c013d201210759e\n'}, {'number': 6, 'created': '2021-04-28 18:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/3b542b8e921a6d042a07a28ce0e4ab62242f3cc9', 'message': 'Add TripleO First Principles policy\n\nChange-Id: Iffc50562682f77232297a26e8c013d201210759e\n'}, {'number': 7, 'created': '2021-04-29 21:01:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/d69bf735799eb09587b320d08b8bd20e0013c478', 'message': 'Add TripleO First Principles policy\n\nChange-Id: Iffc50562682f77232297a26e8c013d201210759e\n'}, {'number': 8, 'created': '2021-05-05 12:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/2da25accc9d6b14706e2fac382515d048d402d55', 'message': 'Add TripleO First Principles policy\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Iffc50562682f77232297a26e8c013d201210759e\n'}, {'number': 9, 'created': '2021-05-05 23:42:46.000000000', 'files': ['specs/policy/first-principles.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/f30c5e2e2abe53f79b1f357b5826026fcad55d84', 'message': 'Add TripleO First Principles policy\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Iffc50562682f77232297a26e8c013d201210759e\n'}]",121,786980,f30c5e2e2abe53f79b1f357b5826026fcad55d84,82,13,9,7144,,,0,"Add TripleO First Principles policy

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: Iffc50562682f77232297a26e8c013d201210759e
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/80/786980/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/policy/first-principles.rst'],1,c06ec2ce0ac135ec8761514675e63a6991c94410,,".. ======================== TripleO First Principles ======================== The TripleO first princples are a set of principles that guide decision making around future direction with TripleO. The principles are used to evaluate choices around changes in direction and architecture. Every impactful decision does not necessarily have to follow all the principles, but we use them to make informed decisions about tradeoffs when necessary. Problem Description =================== When evaluating technical direction within TripleO, a better and more consistent method is needed to weigh pros and cons of choices. Defining the princples is a step towards addressing that need. Policy ====== #. [UndercloudMigrate] No Undercloud Left Behind #. TripleO itself as the deployment tool can be upgraded. We do not immediately propose what the upgrade will look like or the technology stack, but we will offer an upgrade path or a migration path. #. [OvercloudMigrate] No Overcloud Left Behind #. An overcloud deployed with TripleO can be upgraded to the next major version with either an in place upgrade or migration. #. [DefinedInterfaces] TripleO will have a defined interface specification. #. We will document clear boundaries between internal and external (partner/customer) interfaces. #. We will document what is officially supported or not. #. Components of the framework can be easily deployed and tested in isolation such as per service or per interface. #. The interface will offer update and upgrade tasks as first class citizens #. The interface will offer validation tasks as first class citizens #. [HardwareSoftwareSeparation] Separation between hardware provisioning and software configuration. #. Baremetal and network management is decoupled from the software deployment. #. [PlatformAgnostic] Platform agnostic deployment tooling. #. TripleO is sufficiently isolated from the platform in a way that allows for use in a variety of environments (baremetal/virtual/containerized/OS version). #. The developer experience is such that it can easily be run in isolation on developer workstations #. [DeploymentToolingScope] The deployment tool has a defined scope #. Data collection tool. #. Responsible for collecting host and state information and posting to a centralized repository. #. Handles writes to central repository (e.g. read information from repository, do aggregation, post to central repository) #. A configuration tool to configure services and hardware as part of the deployment #. Manages Configuration #. Files #. Directories #. Service (containerized or non-containerized) state #. Executes commands related to configuration of a service #. Isolated run time that is invoked independently by the orchestration tool #. Single execution state management #. Input is configuration data/tasks/etc #. At the end of the the state should be applied as expected #. Idempotent #. Read-only communication with centralized data repository for configuration data #. The deployment process depends on an orchestration tool to handle various task executions. #. Task graph manager #. Task transport and execution tracker #. Aware of hosts and work to be executed on the hosts #. Ephemeral #. Efficient execution #. Scale and reliability/durability are first class citizens #. [CI/CDTooling] TripleO functionality should be considered within the context of being directly invoked as part of a CI/CD pipeline. #. [DebuggableFramework] Diagnosis of deployment/configuration failures within the framework should be quick and simple. Interfaces should be provided to enable debuggability of service failures. #. [BaseOSBootstrap] TripleO can start from a base OS and go to full cloud #. It should be able to start at any point after base OS, but should be able to handle the initial OS bootstrap #. [PerServiceManagement] TripleO can manage individual services in isolation, and express and rely on dependencies and ordering between services. #. [Predictable/Reproducible/Idempotent] The deployment is predictable #. The operator can determine what changes will occur before actually applying those changes. #. The deployment is reproducible in that the operator can re-run the deployment with the same set of inputs and achieve the same results across different environments. #. The deployment is idempotent in that the operator can re-run the deployment with the same set of inputs and the deployment will not change other than when it was first deployed. Alternatives & History ====================== Many, if not all, the principles are already well agreed upon and understood as core to TripleO. Writing them down as policy makes them more discoverable and official. Historically, there have been instances when decisions have been guided by desired technical implementation or outcomes. Recording the princples does not necessarily mean those decisions would stop, but it does allow for a more reasonable way to think about the tradeoffs. We do not need to adopt any principles, or record them. However, there is no harm in doing so. Implementation ============== Author(s) --------- Primary author: James Slagle <jslagle@redhat.com> Other contributors: <launchpad-id or None> Milestones ---------- None. Work Items ---------- None. References ========== None. Revision History ================ .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - v0.0.1 - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,179,0
openstack%2Fnova~master~Idd8b4640e3445fa2ede347d42aed895f6b0a2712,openstack/nova,master,Idd8b4640e3445fa2ede347d42aed895f6b0a2712,"libvirt: Auto-detect UEFI, secure boot support",ABANDONED,2019-09-17 11:58:18.000000000,2021-05-10 14:06:19.000000000,,"[{'_account_id': 6962}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-17 11:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/519012e7d17b56d1556f692118754219cda9062f', 'message': 'libvirt: Add methods to detect firmware auto-selection and SB\n\nIn this change:\n\n  - Introduce a method to detect support for firmware auto-detection,\n    via checking for the presence of \'efi\' getDomainCapabilities().\n\n    Here we take advantage of the two config classes we introduced in\n    the previous change: LibvirtConfigDomainCapsOS() and\n    LibvirtConfigDomainCapsOSLoader().\n\n  - Also introduce a method to detect the support of Secure Boot\n\nPrerequisite for firmware auto-selection and Secure Boot support\n----------------------------------------------------------------\n\nFor libvirt to be able to auto-select the firmware (and to identify an\nOVMF binary with Secure Boot support), two criteria need to be fulfilled\n-- the get_domain_capabilities(), which is a wrapper for libvirt\ngetDomainCapabilities() API:\n\n(1) Should return the value ""efi"" for the \'firmware\' enum:\n\n      <os supported=\'yes\'>\n        <enum name=\'firmware\'>\n          <value>bios</value>\n          <value>efi</value>\n        </enum>\n      ...\n      </os>\n\n    This means that libvirt is new enough to use ""<os firmware=\'efi\'>""\n    in the guest XML.  And that UEFI boot is possible.\n\n(2) Should return the value ""yes"" for the \'secure\' enum:\n\n      <os supported=\'yes\'>\n         <enum name=\'firmware\'>\n           <value>bios</value>\n           <value>efi</value>\n         </enum>\n         <loader supported=\'yes\'>\n           ...\n           <enum name=\'secure\'>\n             <value>yes</value>\n             <value>no</value>\n           </enum>\n         </loader>\n      </os>\n\n    The value ""yes"" for the \'secure\' enum means that libvirt has\n    detected a ""firmware descriptor file""[*] that has path to an OVMF\n    binary that supports Secure Boot, and lists its architecture and\n    supported machine type.\n\n[*] It is a small JSON document (shipped by your distro) that describes\n    details about a given BIOS or UEFI binary on the host, e.g. the\n    fimware binary path, its architecture, supported machine types,\n    NVRAM template, etc.\n\nFirmware auto-detection in action\n---------------------------------\n\nOnce the above two conditions are satisfied, if you provide this XML to\nthe guest (which is asking for Secure Boot):\n\n  <os firmware=\'efi\'>\n    <type arch=\'x86_64\' machine=\'q35\'>hvm</type>\n    <loader secure=\'yes\'/>\n    <boot dev=\'hd\'/>\n  </os>\n\nThen, libvirt will automatically detect (a) the _correct_ OVMF binary\nthat is capable of Secure Boot; and (b) the NVRAM template associated\nwith the detected firmware image, copies it into a guest\'s private path\nand tells it to use it.  I.e. libvirt turns the above ""implicit"" XML to\nthe below explicit:\n\n  <os>\n    <type arch=\'x86_64\' machine=\'pc-q35-4.0\'>hvm</type>\n    <loader readonly=\'yes\' secure=\'yes\' type=\'pflash\'>/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd</loader>\n    <nvram template=\'/usr/share/edk2/ovmf/OVMF_VARS.secboot.fd\'>/var/lib/libvirt/qemu/nvram/sb-f30-b_VARS.fd</nvram>\n    <boot dev=\'hd\'/>\n  </os>\n\nRefer to the documentation here:\nhttps://libvirt.org/formatdomaincaps.html#elementsOSBIOS\n\nblueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Idd8b4640e3445fa2ede347d42aed895f6b0a2712\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2020-03-04 16:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de2f47b80ee68ef5b40480e9fe06ba7792475315', 'message': 'libvirt: Add methods to detect firmware auto-selection and SB\n\nIn this change:\n\n  - Introduce a method to detect support for firmware auto-detection,\n    via checking for the presence of \'efi\' getDomainCapabilities().\n\n    Here we take advantage of the two config classes we introduced in\n    the previous change: LibvirtConfigDomainCapsOS() and\n    LibvirtConfigDomainCapsOSLoader().\n\n  - Also introduce a method to detect the support of Secure Boot\n\nPrerequisite for firmware auto-selection and Secure Boot support\n----------------------------------------------------------------\n\nFor libvirt to be able to auto-select the firmware (and to identify an\nOVMF binary with Secure Boot support), two criteria need to be fulfilled\n-- the get_domain_capabilities(), which is a wrapper for libvirt\ngetDomainCapabilities() API:\n\n(1) Should return the value ""efi"" for the \'firmware\' enum:\n\n      <os supported=\'yes\'>\n        <enum name=\'firmware\'>\n          <value>bios</value>\n          <value>efi</value>\n        </enum>\n      ...\n      </os>\n\n    This means that libvirt is new enough to use ""<os firmware=\'efi\'>""\n    in the guest XML.  And that UEFI boot is possible.\n\n(2) Should return the value ""yes"" for the \'secure\' enum:\n\n      <os supported=\'yes\'>\n         <enum name=\'firmware\'>\n           <value>bios</value>\n           <value>efi</value>\n         </enum>\n         <loader supported=\'yes\'>\n           ...\n           <enum name=\'secure\'>\n             <value>yes</value>\n             <value>no</value>\n           </enum>\n         </loader>\n      </os>\n\n    The value ""yes"" for the \'secure\' enum means that libvirt has\n    detected a ""firmware descriptor file""[*] that has path to an OVMF\n    binary that supports Secure Boot, and lists its architecture and\n    supported machine type.\n\n[*] It is a small JSON document (shipped by your distro) that describes\n    details about a given BIOS or UEFI binary on the host, e.g. the\n    fimware binary path, its architecture, supported machine types,\n    NVRAM template, etc.\n\nFirmware auto-detection in action\n---------------------------------\n\nOnce the above two conditions are satisfied, if you provide this XML to\nthe guest (which is asking for Secure Boot):\n\n  <os firmware=\'efi\'>\n    <type arch=\'x86_64\' machine=\'q35\'>hvm</type>\n    <loader secure=\'yes\'/>\n    <boot dev=\'hd\'/>\n  </os>\n\nThen, libvirt will automatically detect (a) the _correct_ OVMF binary\nthat is capable of Secure Boot; and (b) the NVRAM template associated\nwith the detected firmware image, copies it into a guest\'s private path\nand tells it to use it.  I.e. libvirt turns the above ""implicit"" XML to\nthe below explicit:\n\n  <os>\n    <type arch=\'x86_64\' machine=\'pc-q35-4.0\'>hvm</type>\n    <loader readonly=\'yes\' secure=\'yes\' type=\'pflash\'>/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd</loader>\n    <nvram template=\'/usr/share/edk2/ovmf/OVMF_VARS.secboot.fd\'>/var/lib/libvirt/qemu/nvram/sb-f30-b_VARS.fd</nvram>\n    <boot dev=\'hd\'/>\n  </os>\n\nRefer to the documentation here:\nhttps://libvirt.org/formatdomaincaps.html#elementsOSBIOS\n\nblueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Idd8b4640e3445fa2ede347d42aed895f6b0a2712\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2021-02-15 18:33:44.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_host.py', 'nova/virt/libvirt/host.py', 'nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d43f39621b3d2b9c3191c5ec3f66f29e7b6c1cf5', 'message': 'libvirt: Auto-detect UEFI, secure boot support\n\nIntroduce a method to detect support for firmware auto-detection, via\nchecking for the presence of \'efi\' in getDomainCapabilities(). Here we\ntake advantage of the two config classes we introduced in the previous\nchange: LibvirtConfigDomainCapsOS() and\nLibvirtConfigDomainCapsOSLoader().\n\nFor libvirt to be able to auto-select the firmware (and to identify an\nOVMF binary with Secure Boot support), two criteria need to be\nfulfilled. First, the get_domain_capabilities(), which is a wrapper for\nlibvirt getDomainCapabilities() API, should return the value ""efi"" for\nthe \'firmware\' enum. This indicates that libvirt is new enough to use\n""<os firmware=\'efi\'>"" in the guest XML and that UEFI boot is possible.\n\n    <os supported=\'yes\'>\n      <enum name=\'firmware\'>\n        <value>bios</value>\n        <value>efi</value>\n      </enum>\n    ...\n    </os>\n\nIn addition, it should return the value ""yes"" for the \'secure\' enum:\n\n    <os supported=\'yes\'>\n       <enum name=\'firmware\'>\n         <value>bios</value>\n         <value>efi</value>\n       </enum>\n       <loader supported=\'yes\'>\n         ...\n         <enum name=\'secure\'>\n           <value>yes</value>\n           <value>no</value>\n         </enum>\n       </loader>\n    </os>\n\nThe value ""yes"" for the \'secure\' enum means that libvirt has detected a\n""firmware descriptor file"", that has path to an OVMF binary that\nsupports Secure Boot, and lists its architecture and supported machine\ntype. These firmware descriptor files are small JSON document shipped by\nyour distro that describes details about a given BIOS or UEFI binary on\nthe host, e.g. the fimware binary path, its architecture, supported\nmachine types, NVRAM template, etc.\n\nOnce the above two conditions are satisfied, if you provide this XML to\nthe guest (which is asking for Secure Boot):\n\n  <os firmware=\'efi\'>\n    <type arch=\'x86_64\' machine=\'q35\'>hvm</type>\n    <loader secure=\'yes\'/>\n    <boot dev=\'hd\'/>\n  </os>\n\nThen, libvirt will automatically detect (a) the _correct_ OVMF binary\nthat is capable of Secure Boot; and (b) the NVRAM template associated\nwith the detected firmware image, copies it into a guest\'s private path\nand tells it to use it.  I.e. libvirt turns the above ""implicit"" XML to\nthe below explicit:\n\n  <os>\n    <type arch=\'x86_64\' machine=\'pc-q35-4.0\'>hvm</type>\n    <loader readonly=\'yes\' secure=\'yes\' type=\'pflash\'>/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd</loader>\n    <nvram template=\'/usr/share/edk2/ovmf/OVMF_VARS.secboot.fd\'>/var/lib/libvirt/qemu/nvram/sb-f30-b_VARS.fd</nvram>\n    <boot dev=\'hd\'/>\n  </os>\n\nRefer to the libvirt documentation [1] for more information.\n\n[1] https://libvirt.org/formatdomaincaps.html#elementsOSBIOS\n\nBlueprint: allow-secure-boot-for-qemu-kvm-guests\nChange-Id: Idd8b4640e3445fa2ede347d42aed895f6b0a2712\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",0,682627,d43f39621b3d2b9c3191c5ec3f66f29e7b6c1cf5,32,13,3,6962,,,0,"libvirt: Auto-detect UEFI, secure boot support

Introduce a method to detect support for firmware auto-detection, via
checking for the presence of 'efi' in getDomainCapabilities(). Here we
take advantage of the two config classes we introduced in the previous
change: LibvirtConfigDomainCapsOS() and
LibvirtConfigDomainCapsOSLoader().

For libvirt to be able to auto-select the firmware (and to identify an
OVMF binary with Secure Boot support), two criteria need to be
fulfilled. First, the get_domain_capabilities(), which is a wrapper for
libvirt getDomainCapabilities() API, should return the value ""efi"" for
the 'firmware' enum. This indicates that libvirt is new enough to use
""<os firmware='efi'>"" in the guest XML and that UEFI boot is possible.

    <os supported='yes'>
      <enum name='firmware'>
        <value>bios</value>
        <value>efi</value>
      </enum>
    ...
    </os>

In addition, it should return the value ""yes"" for the 'secure' enum:

    <os supported='yes'>
       <enum name='firmware'>
         <value>bios</value>
         <value>efi</value>
       </enum>
       <loader supported='yes'>
         ...
         <enum name='secure'>
           <value>yes</value>
           <value>no</value>
         </enum>
       </loader>
    </os>

The value ""yes"" for the 'secure' enum means that libvirt has detected a
""firmware descriptor file"", that has path to an OVMF binary that
supports Secure Boot, and lists its architecture and supported machine
type. These firmware descriptor files are small JSON document shipped by
your distro that describes details about a given BIOS or UEFI binary on
the host, e.g. the fimware binary path, its architecture, supported
machine types, NVRAM template, etc.

Once the above two conditions are satisfied, if you provide this XML to
the guest (which is asking for Secure Boot):

  <os firmware='efi'>
    <type arch='x86_64' machine='q35'>hvm</type>
    <loader secure='yes'/>
    <boot dev='hd'/>
  </os>

Then, libvirt will automatically detect (a) the _correct_ OVMF binary
that is capable of Secure Boot; and (b) the NVRAM template associated
with the detected firmware image, copies it into a guest's private path
and tells it to use it.  I.e. libvirt turns the above ""implicit"" XML to
the below explicit:

  <os>
    <type arch='x86_64' machine='pc-q35-4.0'>hvm</type>
    <loader readonly='yes' secure='yes' type='pflash'>/usr/share/edk2/ovmf/OVMF_CODE.secboot.fd</loader>
    <nvram template='/usr/share/edk2/ovmf/OVMF_VARS.secboot.fd'>/var/lib/libvirt/qemu/nvram/sb-f30-b_VARS.fd</nvram>
    <boot dev='hd'/>
  </os>

Refer to the libvirt documentation [1] for more information.

[1] https://libvirt.org/formatdomaincaps.html#elementsOSBIOS

Blueprint: allow-secure-boot-for-qemu-kvm-guests
Change-Id: Idd8b4640e3445fa2ede347d42aed895f6b0a2712
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/682627/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/host.py'],1,519012e7d17b56d1556f692118754219cda9062f,bp/allow-secure-boot-for-qemu-kvm-guests," def firmware_auto_selection_available(self, arch): """"""Returns if libvirt is new enough to support firmware auto-selection, by probing the getDomainCapabilities() API """""" domain_caps = self.get_domain_capabilities() for arch in domain_caps: for machine_type in domain_caps[arch]: LOG.debug(""Checking if libvirt is new enough to support "" ""firmware auto-selection for QEMU/KVM "" ""for arch %s and machine type %s"", arch, machine_type) # NOTE(kchamart): We want to check that # get_domain_capabilities(), when invoked with 'q35' # machine type returns the value ""efi"" for the # 'firmware' enum. # # (Refer to the <os> ... </os> element output in `virsh # domcapabilities --machine q35 --arch x86_64`; this # requires libvirt 5.4.0 and QEMU 2.4.0.) for firmware in domain_caps[arch][machine_type]._os.firmwares: efi_available = isinstance(firmware, vconfig.LibvirtConfigDomainCapsOS) if (efi_available and firmware[1] == ""efi""): LOG.info(""Firmware auto-selection support "" ""for QEMU/KVM detected"") return True LOG.debug(""No firmware auto-selection support is detected for "" ""(arch, machine_type)"") def secure_boot_for_qemu_kvm_available(self, arch): """"""Returns if Secure Boot for QEMU/KVM available """""" domain_caps = self.get_domain_capabilities() if self.firmware_auto_selection_available(): for arch in domain_caps: enums = domain_caps[arch][machine_type]._os.loader.enums for enum in domain_caps[arch][machine_type]._os.loader.enums: secure_attrib_available = isinstance(enum, vconfig.LibvirtConfigDomainCapsOSLoader) # NOTE(kchamart): Here we are ensuring that # get_domain_capabilities(), for 'q35' machine type, # returns the value ""yes"" for the 'secure' enum # (which is part of the 'loader' element). # # This means, libvirt has detected a firmware # ""descriptor file"" that describes (a) the path to # the OVMF binary that supports Secure Boot; (b) the # machine type and architecture of the said OVMF # binary. # # FIXME: What if ""yes"" is the _second_ element in # the list? if (secure_attrib_available and enums['secure'][0] == ""yes""): LOG.info(""Secure Boot support for "" "" QEMU/KVM detected"") return True LOG.debug(""No Secure Boot support is detected for "" ""any (arch, machine_type)"")",,67,0
openstack%2Fdevstack-plugin-ceph~master~I4bc8f70dd208e39c41d68bb82cf54ccaea9f6ebf,openstack/devstack-plugin-ceph,master,I4bc8f70dd208e39c41d68bb82cf54ccaea9f6ebf,Changed minversion in tox to 3.18.0,MERGED,2021-05-07 10:15:36.000000000,2021-05-10 14:03:26.000000000,2021-05-10 13:59:56.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-05-07 10:15:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/c6de66193950bbdf6734700aabb7d54ad5e59e01', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 python in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I4bc8f70dd208e39c41d68bb82cf54ccaea9f6ebf\n""}]",0,790215,c6de66193950bbdf6734700aabb7d54ad5e59e01,8,3,1,33379,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 python in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I4bc8f70dd208e39c41d68bb82cf54ccaea9f6ebf
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/15/790215/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c6de66193950bbdf6734700aabb7d54ad5e59e01,,minversion = 3.18.0allowlist_externals = bashallowlist_externals = rmallowlist_externals =,minversion = 1.6whitelist_externals = bashwhitelist_externals = rmwhitelist_externals =,4,4
openstack%2Fskyline-console~master~Iba9432b0b915353275bd3d16e4921dd5e5ee85d3,openstack/skyline-console,master,Iba9432b0b915353275bd3d16e4921dd5e5ee85d3,Add Zuul support for new repository,MERGED,2021-05-10 10:48:51.000000000,2021-05-10 14:00:12.000000000,2021-05-10 14:00:12.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 10:48:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e022d711a131bf531ddc2b0f1845428d6add8a01', 'message': 'Add Zuul support for new repository\n\nBefore adding any code, add basic Zuul support for the repository\n(noop-tests) so that it can pass Zuul checks and gating.\n\nChange-Id: Iba9432b0b915353275bd3d16e4921dd5e5ee85d3\n'}]",0,790403,e022d711a131bf531ddc2b0f1845428d6add8a01,6,2,1,308,,,0,"Add Zuul support for new repository

Before adding any code, add basic Zuul support for the repository
(noop-tests) so that it can pass Zuul checks and gating.

Change-Id: Iba9432b0b915353275bd3d16e4921dd5e5ee85d3
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/03/790403/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e022d711a131bf531ddc2b0f1845428d6add8a01,init-zuul,- project: templates: - noop-jobs ,,3,0
openstack%2Fskyline-apiserver~master~Ib728f83fedd08c989c38f02672f700fe133b39f5,openstack/skyline-apiserver,master,Ib728f83fedd08c989c38f02672f700fe133b39f5,Add Zuul support for new repository,MERGED,2021-05-10 10:47:52.000000000,2021-05-10 13:57:53.000000000,2021-05-10 13:57:53.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 10:47:52.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/f18ff7924996db7b0c43c9fd7a3aba949c165225', 'message': 'Add Zuul support for new repository\n\nBefore adding any code, add basic Zuul support for the repository\n(noop-tests) so that it can pass Zuul checks and gating.\n\nChange-Id: Ib728f83fedd08c989c38f02672f700fe133b39f5\n'}]",0,790402,f18ff7924996db7b0c43c9fd7a3aba949c165225,6,2,1,308,,,0,"Add Zuul support for new repository

Before adding any code, add basic Zuul support for the repository
(noop-tests) so that it can pass Zuul checks and gating.

Change-Id: Ib728f83fedd08c989c38f02672f700fe133b39f5
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/02/790402/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f18ff7924996db7b0c43c9fd7a3aba949c165225,init-zuul,- project: templates: - noop-jobs ,,3,0
openstack%2Fkolla~stable%2Fussuri~I2b084ea78b236623b174473f411bae04e624a3e9,openstack/kolla,stable/ussuri,I2b084ea78b236623b174473f411bae04e624a3e9,CI: drop bashism from template overrides,MERGED,2021-05-10 09:05:38.000000000,2021-05-10 13:52:48.000000000,2021-05-10 13:51:26.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-10 09:05:38.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8ec3f577a0c7e35d1c318ff3827ca7bbb0e9b261', 'message': 'CI: drop bashism from template overrides\n\n[[ is bash only\n\nIn many distributions /bin/sh == bash but not in Debian and derived\nwhere it is dash (very simple POSIX shell).\n\nChange-Id: I2b084ea78b236623b174473f411bae04e624a3e9\n(cherry picked from commit f0c3567740be342355b39a7c7d3ca341d5a4ec0f)\n'}]",0,790274,8ec3f577a0c7e35d1c318ff3827ca7bbb0e9b261,10,4,1,14826,,,0,"CI: drop bashism from template overrides

[[ is bash only

In many distributions /bin/sh == bash but not in Debian and derived
where it is dash (very simple POSIX shell).

Change-Id: I2b084ea78b236623b174473f411bae04e624a3e9
(cherry picked from commit f0c3567740be342355b39a7c7d3ca341d5a4ec0f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/74/790274/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,8ec3f577a0c7e35d1c318ff3827ca7bbb0e9b261,,RUN if [ -f /usr/etc/npmrc ]; then \,RUN if [[ -f /usr/etc/npmrc ]]; then \,1,1
openstack%2Fkolla-ansible~master~Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94,openstack/kolla-ansible,master,Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94,DNM: Debug UCA Wallaby Ubuntu upgrade,ABANDONED,2021-04-29 06:46:12.000000000,2021-05-10 13:47:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-29 06:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e74622177b9fc806ec4fa786bcb9bbd6f956f05c', 'message': 'DNM: Debug UCA Wallaby Ubuntu upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308/\nChange-Id: Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94\n'}, {'number': 2, 'created': '2021-04-29 08:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/119c8e42a8366548fc6b028a95e60c7490322d89', 'message': 'DNM: Debug UCA Wallaby Ubuntu upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308/\nChange-Id: Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94\n'}, {'number': 3, 'created': '2021-04-29 09:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3ebd3d82693df64d07889e5d7993206eb949decd', 'message': 'DNM: Debug UCA Wallaby Ubuntu upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308/\nChange-Id: Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94\n'}, {'number': 4, 'created': '2021-04-29 10:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fe23f893c0a62481dc637f1ae79fc3ed0f59a09b', 'message': 'DNM: Debug UCA Wallaby Ubuntu upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308/\nChange-Id: Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94\n'}, {'number': 5, 'created': '2021-04-29 13:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c40f45f575166ab3e0a78a412d574c830b6fa871', 'message': 'DNM: Debug UCA Wallaby Ubuntu upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308/\nChange-Id: Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94\n'}, {'number': 6, 'created': '2021-04-29 13:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0aa6fe1586f91058489f4c3d338c48d1087c247c', 'message': 'DNM: Debug UCA Wallaby Ubuntu upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308/\nChange-Id: Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94\n'}, {'number': 7, 'created': '2021-04-30 06:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa7a1e9ba2efd012d3d543bc96cd0bbcd477995e', 'message': 'DNM: Debug UCA Wallaby Ubuntu upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308/\nChange-Id: Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94\n'}, {'number': 8, 'created': '2021-04-30 10:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74b96937c9c61bcf1cd14c8e25f55a1207ac24c6', 'message': 'DNM: Debug UCA Wallaby Ubuntu upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308/\nChange-Id: Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94\n'}, {'number': 9, 'created': '2021-04-30 13:08:07.000000000', 'files': ['zuul.d/project.yaml', 'tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9544d6cd4861ceabdf92cb800d7bab6a77b25c3', 'message': 'DNM: Debug UCA Wallaby Ubuntu upgrade\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308/\nChange-Id: Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94\n'}]",0,788682,f9544d6cd4861ceabdf92cb800d7bab6a77b25c3,20,1,9,22629,,,0,"DNM: Debug UCA Wallaby Ubuntu upgrade

Depends-On: https://review.opendev.org/c/openstack/kolla/+/782308/
Change-Id: Ifec6d8b0782bd4922fd3e73a1512e0d049df8f94
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/788682/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tests/test-core-openstack.sh']",2,e74622177b9fc806ec4fa786bcb9bbd6f956f05c,," echo ""DEBUG: Check l3 agent namespaces"" iptables -t nat -L -v ip netns list for netns in $(ip netns list); do ip netns $netns exec ip a l ip netns $netns exec ip r l done ",,8,52
openstack%2Foslo.policy~master~I8162d5c413de6a73614443fdcd30ee472cb81035,openstack/oslo.policy,master,I8162d5c413de6a73614443fdcd30ee472cb81035,Ussuri+ is python3 only and update python to python3,MERGED,2021-05-06 01:44:17.000000000,2021-05-10 13:37:53.000000000,2021-05-10 13:36:39.000000000,"[{'_account_id': 6928}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-06 01:44:17.000000000', 'files': ['oslo_policy/shell.py'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/4eb58a81cbecfed3ed7c8c28ff50c1e7eb877d51', 'message': 'Ussuri+ is python3 only and update python to python3\n\nChange-Id: I8162d5c413de6a73614443fdcd30ee472cb81035\n'}]",0,789968,4eb58a81cbecfed3ed7c8c28ff50c1e7eb877d51,9,4,1,31827,,,0,"Ussuri+ is python3 only and update python to python3

Change-Id: I8162d5c413de6a73614443fdcd30ee472cb81035
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/68/789968/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_policy/shell.py'],1,4eb58a81cbecfed3ed7c8c28ff50c1e7eb877d51,,#!/usr/bin/env python3,#!/usr/bin/env python,1,1
openstack%2Fkolla~stable%2Fwallaby~I2b084ea78b236623b174473f411bae04e624a3e9,openstack/kolla,stable/wallaby,I2b084ea78b236623b174473f411bae04e624a3e9,CI: drop bashism from template overrides,MERGED,2021-05-10 08:58:14.000000000,2021-05-10 13:32:16.000000000,2021-05-10 13:24:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-10 08:58:14.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e7a71f17db4aa3cce87757d0d0903edbbeca810b', 'message': 'CI: drop bashism from template overrides\n\n[[ is bash only\n\nIn many distributions /bin/sh == bash but not in Debian and derived\nwhere it is dash (very simple POSIX shell).\n\nChange-Id: I2b084ea78b236623b174473f411bae04e624a3e9\n(cherry picked from commit f0c3567740be342355b39a7c7d3ca341d5a4ec0f)\n'}]",0,790272,e7a71f17db4aa3cce87757d0d0903edbbeca810b,11,5,1,14826,,,0,"CI: drop bashism from template overrides

[[ is bash only

In many distributions /bin/sh == bash but not in Debian and derived
where it is dash (very simple POSIX shell).

Change-Id: I2b084ea78b236623b174473f411bae04e624a3e9
(cherry picked from commit f0c3567740be342355b39a7c7d3ca341d5a4ec0f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/72/790272/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,e7a71f17db4aa3cce87757d0d0903edbbeca810b,,RUN if [ -f /usr/etc/npmrc ]; then \,RUN if [[ -f /usr/etc/npmrc ]]; then \,1,1
openstack%2Fcompute-hyperv~master~Icfb86dbde500d053e160ef652dd597571bdcd040,openstack/compute-hyperv,master,Icfb86dbde500d053e160ef652dd597571bdcd040,setup.cfg: Replace dashes with underscores,MERGED,2021-05-10 11:04:13.000000000,2021-05-10 13:32:04.000000000,2021-05-10 13:32:04.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 11:04:13.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/fc24385ee4c63393a98abea42cbde3f509e881ba', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Icfb86dbde500d053e160ef652dd597571bdcd040\n""}]",0,790412,fc24385ee4c63393a98abea42cbde3f509e881ba,6,2,1,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Icfb86dbde500d053e160ef652dd597571bdcd040
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/12/790412/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,fc24385ee4c63393a98abea42cbde3f509e881ba,,description_file =author_email = info@cloudbasesolutions.com home_page = http://www.cloudbase.it/python_requires = >=3.6,description-file =author-email = info@cloudbasesolutions.com home-page = http://www.cloudbase.it/python-requires = >=3.6,4,4
openstack%2Fkolla~stable%2Fvictoria~I2b084ea78b236623b174473f411bae04e624a3e9,openstack/kolla,stable/victoria,I2b084ea78b236623b174473f411bae04e624a3e9,CI: drop bashism from template overrides,MERGED,2021-05-10 08:58:20.000000000,2021-05-10 13:26:23.000000000,2021-05-10 13:24:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-10 08:58:20.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1366332e59ffef4121dced126ef7d19a8b12a72f', 'message': 'CI: drop bashism from template overrides\n\n[[ is bash only\n\nIn many distributions /bin/sh == bash but not in Debian and derived\nwhere it is dash (very simple POSIX shell).\n\nChange-Id: I2b084ea78b236623b174473f411bae04e624a3e9\n(cherry picked from commit f0c3567740be342355b39a7c7d3ca341d5a4ec0f)\n'}]",0,790273,1366332e59ffef4121dced126ef7d19a8b12a72f,10,5,1,14826,,,0,"CI: drop bashism from template overrides

[[ is bash only

In many distributions /bin/sh == bash but not in Debian and derived
where it is dash (very simple POSIX shell).

Change-Id: I2b084ea78b236623b174473f411bae04e624a3e9
(cherry picked from commit f0c3567740be342355b39a7c7d3ca341d5a4ec0f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/73/790273/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,1366332e59ffef4121dced126ef7d19a8b12a72f,,RUN if [ -f /usr/etc/npmrc ]; then \,RUN if [[ -f /usr/etc/npmrc ]]; then \,1,1
openstack%2Ftaskflow~master~Ic58a1e2c0c3b456c3506f99d97e2db1c57423812,openstack/taskflow,master,Ic58a1e2c0c3b456c3506f99d97e2db1c57423812,setup.cfg: Replace dashes with underscores,MERGED,2021-04-27 08:37:01.000000000,2021-05-10 13:04:36.000000000,2021-05-10 13:03:18.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-27 08:37:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/205c10864094150b69e4ae73c6db9bc50bccbd07', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ic58a1e2c0c3b456c3506f99d97e2db1c57423812\n""}]",0,788207,205c10864094150b69e4ae73c6db9bc50bccbd07,8,3,1,31027,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ic58a1e2c0c3b456c3506f99d97e2db1c57423812
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/07/788207/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,205c10864094150b69e4ae73c6db9bc50bccbd07,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/taskflow/latest/python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/taskflow/latest/python-requires = >=3.6,4,4
openstack%2Foslo.config~stable%2Fwallaby~I20016e299077a7b678ecabceacb21cc0c7d306c8,openstack/oslo.config,stable/wallaby,I20016e299077a7b678ecabceacb21cc0c7d306c8,Add the version parameter.,MERGED,2021-05-06 10:03:07.000000000,2021-05-10 12:52:59.000000000,2021-05-10 12:51:27.000000000,"[{'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-06 10:03:07.000000000', 'files': ['oslo_config/types.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/67a071f052aae734600376138e5d0294b46071bc', 'message': 'Add the version parameter.\n\nCall the parent with the version parameter.\n\nChange-Id: I20016e299077a7b678ecabceacb21cc0c7d306c8\n(cherry picked from commit 1f16007ce897e31e5d6735a427046d0cd43c949a)\n'}]",0,790032,67a071f052aae734600376138e5d0294b46071bc,8,3,1,31245,,,0,"Add the version parameter.

Call the parent with the version parameter.

Change-Id: I20016e299077a7b678ecabceacb21cc0c7d306c8
(cherry picked from commit 1f16007ce897e31e5d6735a427046d0cd43c949a)
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/32/790032/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/types.py'],1,67a071f052aae734600376138e5d0294b46071bc,wallaby," super(HostDomain, self).__init__(version=version, type_name=type_name)"," super(HostDomain, self).__init__(type_name=type_name)",1,1
openstack%2Fironic~stable%2Fvictoria~I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8,openstack/ironic,stable/victoria,I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8,Fix deployment when executing a command fails after the command starts,MERGED,2021-05-07 17:07:09.000000000,2021-05-10 12:22:33.000000000,2021-05-10 12:20:40.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-07 17:07:09.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/agent-last-command-4ec6967c995ba84a.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6787142617e93dabdbdc73eecbf9fdc0b6ec2e29', 'message': ""Fix deployment when executing a command fails after the command starts\n\nIf the agent accepts a command, but is unable to reply to Ironic (which\nsporadically happens before of the eventlet's TLS implementation), we\ncurrently retry the request and fail because the command is already\nexecuting. Ironic now detects this situation by checking the list of\nexecuting commands after receiving a connection error. If the requested\ncommand is last one, we assume that the command request succeeded.\n\nIdeally, we should pass a request ID to IPA and then compare it. Such\na change would affect the API contract between the agent and Ironic\nand thus would not be backportable.\n\nChange-Id: I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8\n(cherry picked from commit abfe383cc32d63dd3df2b90f0feace08d73b8364)\n""}]",0,790283,6787142617e93dabdbdc73eecbf9fdc0b6ec2e29,12,4,1,10239,,,0,"Fix deployment when executing a command fails after the command starts

If the agent accepts a command, but is unable to reply to Ironic (which
sporadically happens before of the eventlet's TLS implementation), we
currently retry the request and fail because the command is already
executing. Ironic now detects this situation by checking the list of
executing commands after receiving a connection error. If the requested
command is last one, we assume that the command request succeeded.

Ideally, we should pass a request ID to IPA and then compare it. Such
a change would affect the API contract between the agent and Ironic
and thus would not be backportable.

Change-Id: I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8
(cherry picked from commit abfe383cc32d63dd3df2b90f0feace08d73b8364)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/790283/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/agent-last-command-4ec6967c995ba84a.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,6787142617e93dabdbdc73eecbf9fdc0b6ec2e29,," self.assertTrue(self.client.session.get.called) def test__command_fail_connect_no_command_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.client.session.post.assert_called_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertEqual(3, self.client.session.post.call_count) self.assertTrue(self.client.session.get.called) def test__command_fail_connect_wrong_command_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [ {'command_name': 'meow', 'command_status': 'RUNNING'}, ] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.client.session.post.assert_called_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertEqual(3, self.client.session.post.call_count) self.assertTrue(self.client.session.get.called) def test__command_fail_connect_command_not_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [ {'command_name': 'bar', 'command_status': 'FINISHED'}, ] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.client.session.post.assert_called_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertEqual(3, self.client.session.post.call_count) self.assertTrue(self.client.session.get.called) def test__command_fail_connect_command_is_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [ {'command_name': 'bar', 'command_status': 'RUNNING'}, ] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) result = self.client._command(self.node, method, params) self.assertEqual({'command_name': 'bar', 'command_status': 'RUNNING'}, result) self.client.session.post.assert_called_once_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertTrue(self.client.session.get.called)",,203,21
openstack%2Fironic~stable%2Fwallaby~I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8,openstack/ironic,stable/wallaby,I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8,Fix deployment when executing a command fails after the command starts,MERGED,2021-05-07 17:02:22.000000000,2021-05-10 12:22:14.000000000,2021-05-10 12:20:35.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-07 17:02:22.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/agent-last-command-4ec6967c995ba84a.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fce4cc11bc0a270283898d9357a73b0ca85994c9', 'message': ""Fix deployment when executing a command fails after the command starts\n\nIf the agent accepts a command, but is unable to reply to Ironic (which\nsporadically happens before of the eventlet's TLS implementation), we\ncurrently retry the request and fail because the command is already\nexecuting. Ironic now detects this situation by checking the list of\nexecuting commands after receiving a connection error. If the requested\ncommand is last one, we assume that the command request succeeded.\n\nIdeally, we should pass a request ID to IPA and then compare it. Such\na change would affect the API contract between the agent and Ironic\nand thus would not be backportable.\n\nChange-Id: I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8\n(cherry picked from commit abfe383cc32d63dd3df2b90f0feace08d73b8364)\n""}]",0,790282,fce4cc11bc0a270283898d9357a73b0ca85994c9,13,4,1,10239,,,0,"Fix deployment when executing a command fails after the command starts

If the agent accepts a command, but is unable to reply to Ironic (which
sporadically happens before of the eventlet's TLS implementation), we
currently retry the request and fail because the command is already
executing. Ironic now detects this situation by checking the list of
executing commands after receiving a connection error. If the requested
command is last one, we assume that the command request succeeded.

Ideally, we should pass a request ID to IPA and then compare it. Such
a change would affect the API contract between the agent and Ironic
and thus would not be backportable.

Change-Id: I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8
(cherry picked from commit abfe383cc32d63dd3df2b90f0feace08d73b8364)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/82/790282/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/agent-last-command-4ec6967c995ba84a.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,fce4cc11bc0a270283898d9357a73b0ca85994c9,," self.assertTrue(self.client.session.get.called) def test__command_fail_connect_no_command_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.client.session.post.assert_called_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertEqual(3, self.client.session.post.call_count) self.assertTrue(self.client.session.get.called) def test__command_fail_connect_wrong_command_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [ {'command_name': 'meow', 'command_status': 'RUNNING'}, ] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.client.session.post.assert_called_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertEqual(3, self.client.session.post.call_count) self.assertTrue(self.client.session.get.called) def test__command_fail_connect_command_not_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [ {'command_name': 'bar', 'command_status': 'FINISHED'}, ] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.client.session.post.assert_called_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertEqual(3, self.client.session.post.call_count) self.assertTrue(self.client.session.get.called) def test__command_fail_connect_command_is_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [ {'command_name': 'bar', 'command_status': 'RUNNING'}, ] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) result = self.client._command(self.node, method, params) self.assertEqual({'command_name': 'bar', 'command_status': 'RUNNING'}, result) self.client.session.post.assert_called_once_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertTrue(self.client.session.get.called)",,203,21
openstack%2Fkolla~stable%2Ftrain~I8209770ca1353fd89aacef0859ca3a373645c6b2,openstack/kolla,stable/train,I8209770ca1353fd89aacef0859ca3a373645c6b2,Ubuntu: use local APT mirrors if possible,ABANDONED,2021-05-07 18:44:01.000000000,2021-05-10 12:16:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-07 18:44:01.000000000', 'files': ['tests/templates/template_overrides.j2', 'releasenotes/notes/ubuntu-uses-mirrors-now-0858d579944eea48.yaml', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f4d7c2ee279cfb76e3a19a044bfc2aec7dce7c46', 'message': 'Ubuntu: use local APT mirrors if possible\n\nAPT has a way to fetch mirror list and autoselect best mirror.\n\nChange-Id: I8209770ca1353fd89aacef0859ca3a373645c6b2\n(cherry picked from commit 02c7efd42d072107d086f3d0885e4a19073cec5a)\n'}]",0,790264,f4d7c2ee279cfb76e3a19a044bfc2aec7dce7c46,6,4,1,30491,,,0,"Ubuntu: use local APT mirrors if possible

APT has a way to fetch mirror list and autoselect best mirror.

Change-Id: I8209770ca1353fd89aacef0859ca3a373645c6b2
(cherry picked from commit 02c7efd42d072107d086f3d0885e4a19073cec5a)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/790264/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/templates/template_overrides.j2', 'releasenotes/notes/ubuntu-uses-mirrors-now-0858d579944eea48.yaml', 'docker/base/sources.list.ubuntu']",3,f4d7c2ee279cfb76e3a19a044bfc2aec7dce7c46,faster-ubuntu-repos-stable/train,deb mirror://mirrors.ubuntu.com/mirrors.txt bionic main universe deb mirror://mirrors.ubuntu.com/mirrors.txt bionic-updates main universe deb mirror://mirrors.ubuntu.com/mirrors.txt bionic-security main universe,deb http://archive.ubuntu.com/ubuntu/ bionic main universe deb http://archive.ubuntu.com/ubuntu/ bionic-updates main universe deb http://archive.ubuntu.com/ubuntu/ bionic-security main universe,9,4
openstack%2Fkolla~stable%2Ftrain~Icb745f628c1c50d9f20df022b08ddc46fccc270c,openstack/kolla,stable/train,Icb745f628c1c50d9f20df022b08ddc46fccc270c,CI: use Debian/Ubuntu mirrors in base image,ABANDONED,2021-05-07 18:39:58.000000000,2021-05-10 12:16:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-07 18:39:58.000000000', 'files': ['docker/base/Dockerfile.j2', 'tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/afa1e286100646fe5daa9a9e60dabc5ec6fb95f5', 'message': ""CI: use Debian/Ubuntu mirrors in base image\n\nSo far we built 'base' image using upstream mirrors and then replaced\nthem with OpenStack infra ones. Let do that right after we copy own\nAPT sources.list file.\n\nChange-Id: Icb745f628c1c50d9f20df022b08ddc46fccc270c\n(cherry picked from commit ad03d7eaa25c31b201ec1c7dc2596f67bbe4fdaf)\n""}]",0,790263,afa1e286100646fe5daa9a9e60dabc5ec6fb95f5,6,3,1,30491,,,0,"CI: use Debian/Ubuntu mirrors in base image

So far we built 'base' image using upstream mirrors and then replaced
them with OpenStack infra ones. Let do that right after we copy own
APT sources.list file.

Change-Id: Icb745f628c1c50d9f20df022b08ddc46fccc270c
(cherry picked from commit ad03d7eaa25c31b201ec1c7dc2596f67bbe4fdaf)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/63/790263/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'tests/templates/template_overrides.j2']",2,afa1e286100646fe5daa9a9e60dabc5ec6fb95f5,,{% block base_debian_after_sources_list %} /etc/apt/sources.list /etc/apt/sources.list,{% block base_footer %} ## TODO(yoctozepto): replace base repo earlier as well (like RHEL-based do) /etc/apt/sources.list \ && apt-get update /etc/apt/sources.list \ && apt-get update,5,6
openstack%2Fkolla~stable%2Ftrain~Id3b55ac470a977be7ee7decdef3b49e8d89a130f,openstack/kolla,stable/train,Id3b55ac470a977be7ee7decdef3b49e8d89a130f,Use Debian mirror in CI jobs,ABANDONED,2021-05-07 18:37:42.000000000,2021-05-10 12:16:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-07 18:37:42.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/abba3d0035b731f4fc90c3260cc8f140f96c585d', 'message': 'Use Debian mirror in CI jobs\n\nThere is Debian mirror on each CI worker so we should use it.\n\nChange-Id: Id3b55ac470a977be7ee7decdef3b49e8d89a130f\n(cherry picked from commit 2cf3f2309a2a774f65d403b90d1950cab001863f)\n'}]",0,790262,abba3d0035b731f4fc90c3260cc8f140f96c585d,9,3,1,30491,,,0,"Use Debian mirror in CI jobs

There is Debian mirror on each CI worker so we should use it.

Change-Id: Id3b55ac470a977be7ee7decdef3b49e8d89a130f
(cherry picked from commit 2cf3f2309a2a774f65d403b90d1950cab001863f)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/790262/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,abba3d0035b731f4fc90c3260cc8f140f96c585d,,"## TODO(yoctozepto): replace base repo earlier as well (like RHEL-based do) {% if base_distro == ""debian"" %}RUN sed -i -e ""s|http://deb.debian.org|http://{{ nodepool_mirror_host }}|"" \ -e ""s|http://security.debian.org|http://{{ nodepool_mirror_host }}|"" \ /etc/apt/sources.list \ && apt-get update {% raw %} {% elif base_distro == ""ubuntu"" %} {% endraw %} ","{% if base_distro == ""ubuntu"" %}## TODO(yoctozepto): replace base repo earlier as well (like RHEL-based do)",11,2
openstack%2Fkolla~master~I320d0795ce11ca00398cec6183ed140d31d3fd80,openstack/kolla,master,I320d0795ce11ca00398cec6183ed140d31d3fd80,centos: do not install CentOS Rabbitmq repo twice on AArch64,MERGED,2021-04-28 09:35:07.000000000,2021-05-10 12:14:11.000000000,2021-05-10 12:12:48.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-28 09:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/135a7079a412c40dc4846f908533cbcd01aefed0', 'message': 'centos: do not install CentOS Rabbitmq twice on AArch64\n\nChange-Id: I320d0795ce11ca00398cec6183ed140d31d3fd80\n'}, {'number': 2, 'created': '2021-05-01 09:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/01727c605a0a95469f5fbe4c5394542ddaea3167', 'message': 'centos: do not install CentOS Rabbitmq repo twice on AArch64\n\nChange-Id: I320d0795ce11ca00398cec6183ed140d31d3fd80\n'}, {'number': 3, 'created': '2021-05-03 18:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b4e657bfa86d69a735585f379bf53eea21d40e74', 'message': 'centos: do not install CentOS Rabbitmq repo twice on AArch64\n\nChange-Id: I320d0795ce11ca00398cec6183ed140d31d3fd80\n'}, {'number': 4, 'created': '2021-05-08 08:57:31.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/038074097727340e7a507a4693af0794797a849d', 'message': 'centos: do not install CentOS Rabbitmq repo twice on AArch64\n\nChange-Id: I320d0795ce11ca00398cec6183ed140d31d3fd80\n'}]",1,788462,038074097727340e7a507a4693af0794797a849d,27,4,4,24072,,,0,"centos: do not install CentOS Rabbitmq repo twice on AArch64

Change-Id: I320d0795ce11ca00398cec6183ed140d31d3fd80
",git fetch https://review.opendev.org/openstack/kolla refs/changes/62/788462/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,135a7079a412c40dc4846f908533cbcd01aefed0,,,{% elif base_arch == 'aarch64' %} {% set base_centos_yum_repo_packages = base_centos_yum_repo_packages + [ 'centos-release-rabbitmq-38' ] %},0,4
openstack%2Fkolla-ansible~stable%2Fwallaby~Ib85cc2cb10e3c97de9f7d608e75694a0fc2714c2,openstack/kolla-ansible,stable/wallaby,Ib85cc2cb10e3c97de9f7d608e75694a0fc2714c2,octavia: Fix duplicate api_settings,MERGED,2021-05-10 08:57:59.000000000,2021-05-10 12:04:21.000000000,2021-05-10 12:02:55.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-05-10 08:57:59.000000000', 'files': ['ansible/roles/octavia/templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71811d9473772ef30f219cd562a234bdefd9c1fb', 'message': 'octavia: Fix duplicate api_settings\n\nChange-Id: Ib85cc2cb10e3c97de9f7d608e75694a0fc2714c2\n(cherry picked from commit e5ab32afafdde49a8dbad18f8126ffc29ee9ed66)\n'}]",0,790271,71811d9473772ef30f219cd562a234bdefd9c1fb,9,3,1,14826,,,0,"octavia: Fix duplicate api_settings

Change-Id: Ib85cc2cb10e3c97de9f7d608e75694a0fc2714c2
(cherry picked from commit e5ab32afafdde49a8dbad18f8126ffc29ee9ed66)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/790271/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/templates/octavia.conf.j2'],1,71811d9473772ef30f219cd562a234bdefd9c1fb,,enabled_provider_drivers = '{{ octavia_provider_drivers }}',[api_settings] enabled_provider_drivers = '{{ octavia_provider_drivers }}' ,1,3
openstack%2Fopenstacksdk~master~I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7,openstack/openstacksdk,master,I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7,Switch networking function in cloud layer to proxy,ABANDONED,2020-12-11 19:48:58.000000000,2021-05-10 11:36:50.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-11 19:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/934a5b6f1f2f4a1cf6757ce91bccdb765ddec947', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 2, 'created': '2021-01-13 18:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2f2c978ff1a12e22276ee05d5c7dd1dd005f895a', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 3, 'created': '2021-01-14 17:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3fa9a1b56ded68bc783fa2ed8ced626da2904a03', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 4, 'created': '2021-01-15 10:52:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/41acc0e90bfda1505aa67c98d7e8d6830305d478', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 5, 'created': '2021-01-15 12:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e531d6b3784c8508ea2ce370752713620d232fa4', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 6, 'created': '2021-01-15 14:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c2fc5ac5578a30e01ff7df2d622f7dba97b2a6ba', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 7, 'created': '2021-01-18 12:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8b0c91981b96a32a3a1c4eef47a4f0d88a40f18e', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 8, 'created': '2021-01-18 18:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/94185c56f56d0aa26696b971f99944c2ac708b23', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 9, 'created': '2021-03-03 09:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9d84bbfe54d542d253215e2f2fa5a8df56c750fc', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 10, 'created': '2021-03-03 10:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9d32711cc50706063034e4423e62d4f69b33746d', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 11, 'created': '2021-03-03 10:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b39a30d412c6c5d1fb518b8b3e33847d3026f078', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 12, 'created': '2021-03-03 10:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/7e7fed79c6ad15563bf1c0f92a5874aa636ea496', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 13, 'created': '2021-03-03 14:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cf93e77f52795be461d5ffaee77bde23f35ad124', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}, {'number': 14, 'created': '2021-03-05 12:57:39.000000000', 'files': ['openstack/tests/unit/cloud/test_fwaas.py', 'openstack/tests/unit/cloud/test_subnet.py', 'openstack/tests/unit/cloud/test_floating_ip_neutron.py', 'openstack/tests/unit/cloud/test_caching.py', 'openstack/tests/unit/cloud/test_quotas.py', 'openstack/cloud/_network_common.py', 'openstack/tests/unit/cloud/test_baremetal_node.py', 'openstack/tests/functional/cloud/test_router.py', 'openstack/tests/unit/cloud/test_network.py', 'openstack/tests/unit/cloud/test_create_server.py', 'openstack/cloud/_normalize.py', 'releasenotes/notes/use-proxy-layer-dfc3764d52bc1f2a.yaml', 'openstack/tests/functional/cloud/test_quotas.py', 'openstack/tests/unit/cloud/test_port.py', 'openstack/tests/unit/cloud/test_router.py', 'openstack/cloud/_floating_ip.py', 'openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/220cf3df52c40cfa6ec7a6275bdb28ebc649376d', 'message': 'Switch networking function in cloud layer to proxy\n\nWe need to complete rework of our cloud layer to rely on proxy layer\ninstead of reimplementing direct API calls. This time networking\nfunctions are touched.\n\nChange-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7\n'}]",8,766783,220cf3df52c40cfa6ec7a6275bdb28ebc649376d,27,2,14,27900,,,0,"Switch networking function in cloud layer to proxy

We need to complete rework of our cloud layer to rely on proxy layer
instead of reimplementing direct API calls. This time networking
functions are touched.

Change-Id: I23dc30abc8977c8ff14f5e7b9c9940af0d0894c7
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/83/766783/10 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_network.py', 'openstack/tests/unit/cloud/test_floating_ip_neutron.py', 'openstack/cloud/_normalize.py', 'openstack/resource.py', 'openstack/tests/unit/cloud/test_qos_policy.py', 'openstack/cloud/_floating_ip.py', 'openstack/cloud/_network.py']",7,934a5b6f1f2f4a1cf6757ce91bccdb765ddec947,," for extension in self.network.extensions(): return list(f._to_munch() for f in self.network.networks(**filters)) return list(self.network.routers(**filters)) return list(self.network.subnets(**filters)) return list(self.network.ports(**filters)) return list( f._to_munch(original_names=False) for f in self.network.qos_rule_types(**filters)) return self.network.get_qos_rule_type(rule_type)._to_munch() return list( f._to_munch(original_names=False) for f in self.network.qos_policies(**filters)) return self.network.get_network(id) return self.network.get_subnet(id) return self.network.get_port(id) network['project_id'] = project_id network = self.network.create_network(**network)._to_munch() return network network = self.network.update_network(network, **kwargs)._to_munch() return network self.network.delete_network(network) self.network.set_quota(proj, **kwargs) return self.network.get_quota(proj, details) self.network.delete_quota(proj) return self.network.create_qos_policy(**kwargs)._to_munch( original_names=False) return self.network.update_qos_policy( curr_policy, **kwargs)._to_munch(original_names=False) self.network.delete_qos_policy(policy) return list(self.network.qos_bandwidth_limit_rules( qos_policy=policy, **filters)) return self.network.get_qos_bandwidth_limit_rule( rule_id, policy) return self.network.create_qos_bandwidth_limit_rule(**kwargs) return self.network.update_qos_bandwidth_limit_rule( qos_rule=curr_rule, qos_policy=policy, **kwargs) self.network.delete_qos_bandwidth_limit_rule( rule_id, policy, ignore_missing=False) except exceptions.ResourceNotFound: return list(self.network.qos_dscp_marking_rules(**filters)) return self.network.get_qos_dscp_marking_rule(rule_id, policy) return self.network.create_qos_dscp_marking_rule( policy, dscp_mark=dscp_mark) return self.network.update_qos_dscp_marking_rule( curr_rule, policy, **kwargs) self.network.delete_qos_dscp_marking_rule( rule_id, policy, ignore_missing=False) except exceptions.ResourceNotFound: return list(self.network.qos_minimum_bandwidth_rules(**filters)) return self.network.get_qos_minimum_bandwidth_rule(rule_id, policy) return self.network.create_qos_minimum_bandwidth_rule(policy, **kwargs) return self.network.update_qos_minimum_bandwidth_rule( curr_rule, policy, **kwargs) self.network.delete_qos_minimum_bandwidth_rule( rule_id, policy, ignore_missing=False) except exceptions.ResourceNotFound: return self.network.add_interface_to_router( router=router, subnet_id=subnet_id, port_id=port_id ) if not subnet_id and not port_id: self.network.remove_interface_from_router( router=router, subnet_id=subnet_id, port_id=port_id ) return self.network.create_router(**router) return self.network.update_router(**router) router = self.find_router(name_or_id) self.network.delete_router(router) return self.network.create_subnet(**subnet) subnet = self.find_subnet(name_or_id) self.network.delete_subnet(subnet) return self.network.update_subnet(curr_subnet, **subnet) return self.network.create_port(**kwargs) return self.network.update_port(port, **kwargs) port = self.network.find_port(name_or_id) self.network.delete_port(port) "," resp = self.network.get('/extensions.json') data = proxy._json_response( resp, error_message=""Error fetching extension list for neutron"") for extension in self._get_and_munchify('extensions', data): data = self.network.get(""/networks.json"", params=filters) return self._get_and_munchify('networks', data) if not filters: filters = {} resp = self.network.get(""/routers.json"", params=filters) data = proxy._json_response( resp, error_message=""Error fetching router list"") return self._get_and_munchify('routers', data) data = self.network.get(""/subnets.json"", params=filters) return self._get_and_munchify('subnets', data) resp = self.network.get(""/ports.json"", params=filters) data = proxy._json_response( resp, error_message=""Error fetching port list"") return self._get_and_munchify('ports', data) resp = self.network.get(""/qos/rule-types.json"", params=filters) data = proxy._json_response( resp, error_message=""Error fetching QoS rule types list"") return self._get_and_munchify('rule_types', data) resp = self.network.get( ""/qos/rule-types/{rule_type}.json"".format(rule_type=rule_type)) data = proxy._json_response( resp, error_message=""Error fetching QoS details of {rule_type} "" ""rule type"".format(rule_type=rule_type)) return self._get_and_munchify('rule_type', data) resp = self.network.get(""/qos/policies.json"", params=filters) data = proxy._json_response( resp, error_message=""Error fetching QoS policies list"") return self._get_and_munchify('policies', data) resp = self.network.get('/networks/{id}'.format(id=id)) data = proxy._json_response( resp, error_message=""Error getting network with ID {id}"".format(id=id) ) network = self._get_and_munchify('network', data) return network resp = self.network.get('/subnets/{id}'.format(id=id)) data = proxy._json_response( resp, error_message=""Error getting subnet with ID {id}"".format(id=id) ) subnet = self._get_and_munchify('subnet', data) return subnet resp = self.network.get('/ports/{id}'.format(id=id)) data = proxy._json_response( resp, error_message=""Error getting port with ID {id}"".format(id=id) ) port = self._get_and_munchify('port', data) return port network['tenant_id'] = project_id data = self.network.post(""/networks.json"", json={'network': network}) return self._get_and_munchify('network', data) data = proxy._json_response(self.network.put( ""/networks/{net_id}.json"".format(net_id=network.id), json={""network"": kwargs}), error_message=""Error updating network {0}"".format(name_or_id)) return self._get_and_munchify('network', data) exceptions.raise_from_response(self.network.delete( ""/networks/{network_id}.json"".format(network_id=network['id']))) exceptions.raise_from_response( self.network.put( '/quotas/{project_id}.json'.format(project_id=proj.id), json={'quota': kwargs}), error_message=(""Error setting Neutron's quota for "" ""project {0}"".format(proj.id))) url = '/quotas/{project_id}'.format(project_id=proj.id) if details: url = url + ""/details"" url = url + "".json"" data = proxy._json_response( self.network.get(url), error_message=(""Error fetching Neutron's quota for "" ""project {0}"".format(proj.id))) return self._get_and_munchify('quota', data) exceptions.raise_from_response( self.network.delete( '/quotas/{project_id}.json'.format(project_id=proj.id)), error_message=(""Error deleting Neutron's quota for "" ""project {0}"".format(proj.id))) data = self.network.post(""/qos/policies.json"", json={'policy': kwargs}) return self._get_and_munchify('policy', data) data = self.network.put( ""/qos/policies/{policy_id}.json"".format( policy_id=curr_policy['id']), json={'policy': kwargs}) return self._get_and_munchify('policy', data) exceptions.raise_from_response(self.network.delete( ""/qos/policies/{policy_id}.json"".format(policy_id=policy['id']))) resp = self.network.get( ""/qos/policies/{policy_id}/bandwidth_limit_rules.json"".format( policy_id=policy['id']), params=filters) data = proxy._json_response( resp, error_message=""Error fetching QoS bandwidth limit rules from "" ""{policy}"".format(policy=policy['id'])) return self._get_and_munchify('bandwidth_limit_rules', data) resp = self.network.get( ""/qos/policies/{policy_id}/bandwidth_limit_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id)) data = proxy._json_response( resp, error_message=""Error fetching QoS bandwidth limit rule {rule_id} "" ""from {policy}"".format(rule_id=rule_id, policy=policy['id'])) return self._get_and_munchify('bandwidth_limit_rule', data) data = self.network.post( ""/qos/policies/{policy_id}/bandwidth_limit_rules"".format( policy_id=policy['id']), json={'bandwidth_limit_rule': kwargs}) return self._get_and_munchify('bandwidth_limit_rule', data) data = self.network.put( ""/qos/policies/{policy_id}/bandwidth_limit_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id), json={'bandwidth_limit_rule': kwargs}) return self._get_and_munchify('bandwidth_limit_rule', data) exceptions.raise_from_response(self.network.delete( ""/qos/policies/{policy}/bandwidth_limit_rules/{rule}.json"". format(policy=policy['id'], rule=rule_id))) except exc.OpenStackCloudURINotFound: resp = self.network.get( ""/qos/policies/{policy_id}/dscp_marking_rules.json"".format( policy_id=policy['id']), params=filters) data = proxy._json_response( resp, error_message=""Error fetching QoS DSCP marking rules from "" ""{policy}"".format(policy=policy['id'])) return self._get_and_munchify('dscp_marking_rules', data) resp = self.network.get( ""/qos/policies/{policy_id}/dscp_marking_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id)) data = proxy._json_response( resp, error_message=""Error fetching QoS DSCP marking rule {rule_id} "" ""from {policy}"".format(rule_id=rule_id, policy=policy['id'])) return self._get_and_munchify('dscp_marking_rule', data) body = { 'dscp_mark': dscp_mark } data = self.network.post( ""/qos/policies/{policy_id}/dscp_marking_rules"".format( policy_id=policy['id']), json={'dscp_marking_rule': body}) return self._get_and_munchify('dscp_marking_rule', data) data = self.network.put( ""/qos/policies/{policy_id}/dscp_marking_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id), json={'dscp_marking_rule': kwargs}) return self._get_and_munchify('dscp_marking_rule', data) exceptions.raise_from_response(self.network.delete( ""/qos/policies/{policy}/dscp_marking_rules/{rule}.json"". format(policy=policy['id'], rule=rule_id))) except exc.OpenStackCloudURINotFound: resp = self.network.get( ""/qos/policies/{policy_id}/minimum_bandwidth_rules.json"".format( policy_id=policy['id']), params=filters) data = proxy._json_response( resp, error_message=""Error fetching QoS minimum bandwidth rules from "" ""{policy}"".format(policy=policy['id'])) return self._get_and_munchify('minimum_bandwidth_rules', data) resp = self.network.get( ""/qos/policies/{policy_id}/minimum_bandwidth_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id)) data = proxy._json_response( resp, error_message=""Error fetching QoS minimum_bandwidth rule {rule_id}"" "" from {policy}"".format(rule_id=rule_id, policy=policy['id'])) return self._get_and_munchify('minimum_bandwidth_rule', data) data = self.network.post( ""/qos/policies/{policy_id}/minimum_bandwidth_rules"".format( policy_id=policy['id']), json={'minimum_bandwidth_rule': kwargs}) return self._get_and_munchify('minimum_bandwidth_rule', data) data = self.network.put( ""/qos/policies/{policy_id}/minimum_bandwidth_rules/{rule_id}.json"". format(policy_id=policy['id'], rule_id=rule_id), json={'minimum_bandwidth_rule': kwargs}) return self._get_and_munchify('minimum_bandwidth_rule', data) exceptions.raise_from_response(self.network.delete( ""/qos/policies/{policy}/minimum_bandwidth_rules/{rule}.json"". format(policy=policy['id'], rule=rule_id))) except exc.OpenStackCloudURINotFound: json_body = {} if subnet_id: json_body['subnet_id'] = subnet_id if port_id: json_body['port_id'] = port_id return proxy._json_response( self.network.put( ""/routers/{router_id}/add_router_interface.json"".format( router_id=router['id']), json=json_body), error_message=""Error attaching interface to router {0}"".format( router['id'])) json_body = {} if subnet_id: json_body['subnet_id'] = subnet_id if port_id: json_body['port_id'] = port_id if not json_body: exceptions.raise_from_response( self.network.put( ""/routers/{router_id}/remove_router_interface.json"".format( router_id=router['id']), json=json_body), error_message=""Error detaching interface from router {0}"".format( router['id'])) data = proxy._json_response( self.network.post(""/routers.json"", json={""router"": router}), error_message=""Error creating router {0}"".format(name)) return self._get_and_munchify('router', data) resp = self.network.put( ""/routers/{router_id}.json"".format(router_id=curr_router['id']), json={""router"": router}) data = proxy._json_response( resp, error_message=""Error updating router {0}"".format(name_or_id)) return self._get_and_munchify('router', data) router = self.get_router(name_or_id) exceptions.raise_from_response(self.network.delete( ""/routers/{router_id}.json"".format(router_id=router['id']), error_message=""Error deleting router {0}"".format(name_or_id))) response = self.network.post(""/subnets.json"", json={""subnet"": subnet}) return self._get_and_munchify('subnet', response) subnet = self.get_subnet(name_or_id) exceptions.raise_from_response(self.network.delete( ""/subnets/{subnet_id}.json"".format(subnet_id=subnet['id']))) response = self.network.put( ""/subnets/{subnet_id}.json"".format(subnet_id=curr_subnet['id']), json={""subnet"": subnet}) return self._get_and_munchify('subnet', response) data = proxy._json_response( self.network.post(""/ports.json"", json={'port': kwargs}), error_message=""Error creating port for network {0}"".format( network_id)) return self._get_and_munchify('port', data) data = proxy._json_response( self.network.put( ""/ports/{port_id}.json"".format(port_id=port['id']), json={""port"": kwargs}), error_message=""Error updating port {0}"".format(name_or_id)) return self._get_and_munchify('port', data) port = self.get_port(name_or_id=name_or_id) exceptions.raise_from_response( self.network.delete( ""/ports/{port_id}.json"".format(port_id=port['id'])), error_message=""Error deleting port {0}"".format(name_or_id))",213,376
openstack%2Fopenstacksdk~master~I981892aaba8d3f476a5d1ad71d22ab82b8798975,openstack/openstacksdk,master,I981892aaba8d3f476a5d1ad71d22ab82b8798975,Add access to the resource attribute by server-side name,ABANDONED,2021-03-03 10:00:29.000000000,2021-05-10 11:36:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-03 10:00:29.000000000', 'files': ['openstack/tests/unit/test_resource.py', 'openstack/resource.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/34c2d20e544eea62bc9f798eca850d5dd6db8783', 'message': 'Add access to the resource attribute by server-side name\n\nIn order to keep backward compatibility while we are switching more and\nmore things to the proxy layer add possibility to get attribute (in dict\nstyle only) by server-side attribute name. While we do this inform user\nnot to use this anymore.\n\nChange-Id: I981892aaba8d3f476a5d1ad71d22ab82b8798975\n'}]",0,778398,34c2d20e544eea62bc9f798eca850d5dd6db8783,5,1,1,27900,,,0,"Add access to the resource attribute by server-side name

In order to keep backward compatibility while we are switching more and
more things to the proxy layer add possibility to get attribute (in dict
style only) by server-side attribute name. While we do this inform user
not to use this anymore.

Change-Id: I981892aaba8d3f476a5d1ad71d22ab82b8798975
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/98/778398/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/test_resource.py', 'openstack/resource.py']",2,34c2d20e544eea62bc9f798eca850d5dd6db8783,,"import warnings if not real_item: # In order to maintain backwards compatibility where we were # returning Munch (and server side names) and Resource object with # normalized attributes we can offer dict access via server side # names. for attr, component in self._attributes_iterator(tuple([Body])): if component.name == name: warnings.warn( 'Access to ""%s[%s]"" is deprecated. ' 'Please access using ""%s.%s"" attribute.' % (self.__class__, name, self.__class__, attr), DeprecationWarning) return getattr(self, attr)",,24,0
openstack%2Fopenstacksdk~master~I19c4b76258eb22897b3ae5d9573b01ea4ce8022b,openstack/openstacksdk,master,I19c4b76258eb22897b3ae5d9573b01ea4ce8022b,Stop sending tenant_id to Neutron,ABANDONED,2021-01-15 15:40:37.000000000,2021-05-10 11:36:20.000000000,,"[{'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-15 15:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/56e1fd677b1f72121c36cd8c98a86e092b4e9427', 'message': 'Stop sending tenant_id to Neutron\n\nFor a long time we are supporting both tenant_id and project_id for most\nof the networking resources. tenant_id is deprecated since long time\nalready and we should stop sending it ourselves to Neutron, while\nleaving it as attribute where it was present.\n\nChange-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b\n'}, {'number': 2, 'created': '2021-01-18 12:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/cf5ed1bb6d4324294992dd1466a2db5465e3a159', 'message': 'Stop sending tenant_id to Neutron\n\nFor a long time we are supporting both tenant_id and project_id for most\nof the networking resources. tenant_id is deprecated since long time\nalready and we should stop sending it ourselves to Neutron, while\nleaving it as attribute where it was present.\n\nChange-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b\n'}, {'number': 3, 'created': '2021-01-19 11:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b62c36ce0a51e2c2d6517c9791887ecc7e9423ad', 'message': 'Stop sending tenant_id to Neutron\n\nFor a long time we are supporting both tenant_id and project_id for most\nof the networking resources. tenant_id is deprecated since long time\nalready and we should stop sending it ourselves to Neutron, while\nleaving it as attribute where it was present.\n\nChange-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b\n'}, {'number': 4, 'created': '2021-03-03 10:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/726cb4c33576ccf23dda0a3a9974f3e89323a8eb', 'message': 'Stop sending tenant_id to Neutron\n\nFor a long time we are supporting both tenant_id and project_id for most\nof the networking resources. tenant_id is deprecated since long time\nalready and we should stop sending it ourselves to Neutron, while\nleaving it as attribute where it was present.\n\nChange-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b\n'}, {'number': 5, 'created': '2021-03-03 11:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2d708085c3db6bd91a8a69d6444f9776409329ab', 'message': 'Stop sending tenant_id to Neutron\n\nFor a long time we are supporting both tenant_id and project_id for most\nof the networking resources. tenant_id is deprecated since long time\nalready and we should stop sending it ourselves to Neutron, while\nleaving it as attribute where it was present.\n\nChange-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b\n'}, {'number': 6, 'created': '2021-03-03 17:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3dee164ef4afcd8a7c54c05c7630db1c302dcb7a', 'message': 'Stop sending tenant_id to Neutron\n\nFor a long time we are supporting both tenant_id and project_id for most\nof the networking resources. tenant_id is deprecated since long time\nalready and we should stop sending it ourselves to Neutron, while\nleaving it as attribute where it was present.\n\nChange-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b\n'}, {'number': 7, 'created': '2021-03-04 07:57:03.000000000', 'files': ['openstack/tests/unit/network/v2/test_auto_allocated_topology.py', 'openstack/network/v2/pool_member.py', 'openstack/network/v2/port.py', 'openstack/tests/unit/network/v2/test_subnet.py', 'openstack/network/v2/security_group_rule.py', 'openstack/network/v2/subnet_pool.py', 'openstack/network/v2/address_group.py', 'openstack/network/v2/health_monitor.py', 'openstack/tests/unit/network/v2/test_health_monitor.py', 'releasenotes/notes/stop-using-tenant-id-42eb35139ba9eeff.yaml', 'openstack/network/v2/network_ip_availability.py', 'openstack/network/v2/security_group.py', 'openstack/tests/unit/cloud/test_router.py', 'openstack/tests/unit/network/v2/test_security_group.py', 'openstack/network/v2/subnet.py', 'openstack/network/v2/metering_label_rule.py', 'openstack/tests/unit/network/v2/test_qos_policy.py', 'openstack/tests/unit/network/v2/test_pool.py', 'openstack/tests/unit/network/v2/test_trunk.py', 'openstack/network/v2/pool.py', 'openstack/tests/unit/network/v2/test_pool_member.py', 'openstack/tests/unit/network/v2/test_metering_label.py', 'openstack/network/v2/floating_ip.py', 'openstack/tests/unit/network/v2/test_service_profile.py', 'openstack/tests/unit/network/v2/test_router.py', 'openstack/tests/unit/network/v2/test_network_ip_availability.py', 'openstack/network/v2/quota.py', 'openstack/network/v2/service_profile.py', 'openstack/tests/unit/network/v2/test_quota.py', 'openstack/network/v2/rbac_policy.py', 'openstack/tests/unit/network/v2/test_floating_ip.py', 'openstack/tests/unit/network/v2/test_security_group_rule.py', 'openstack/tests/unit/network/v2/test_load_balancer.py', 'openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_vpn_service.py', 'openstack/tests/unit/network/v2/test_address_group.py', 'openstack/tests/unit/network/v2/test_network.py', 'openstack/tests/unit/network/v2/test_subnet_pool.py', 'openstack/tests/unit/network/v2/test_metering_label_rule.py', 'openstack/tests/unit/network/v2/test_rbac_policy.py', 'openstack/network/v2/vpn_service.py', 'openstack/network/v2/address_scope.py', 'openstack/network/v2/trunk.py', 'openstack/network/v2/network.py', 'openstack/network/v2/metering_label.py', 'openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/auto_allocated_topology.py', 'openstack/network/v2/qos_policy.py', 'openstack/network/v2/load_balancer.py', 'openstack/tests/unit/network/v2/test_address_scope.py', 'openstack/cloud/_network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/641a2d02f856b20a0e5e389bbb6093ea325577c8', 'message': 'Stop sending tenant_id to Neutron\n\nFor a long time we are supporting both tenant_id and project_id for most\nof the networking resources. tenant_id is deprecated since long time\nalready and we should stop sending it ourselves to Neutron, while\nleaving it as attribute where it was present.\n\nChange-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b\n'}]",7,770952,641a2d02f856b20a0e5e389bbb6093ea325577c8,18,2,7,27900,,,0,"Stop sending tenant_id to Neutron

For a long time we are supporting both tenant_id and project_id for most
of the networking resources. tenant_id is deprecated since long time
already and we should stop sending it ourselves to Neutron, while
leaving it as attribute where it was present.

Change-Id: I19c4b76258eb22897b3ae5d9573b01ea4ce8022b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/52/770952/5 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/network/v2/test_auto_allocated_topology.py', 'openstack/network/v2/pool_member.py', 'openstack/network/v2/port.py', 'openstack/tests/unit/network/v2/test_subnet.py', 'openstack/network/v2/security_group_rule.py', 'openstack/network/v2/subnet_pool.py', 'openstack/network/v2/address_group.py', 'openstack/network/v2/health_monitor.py', 'openstack/tests/unit/network/v2/test_health_monitor.py', 'releasenotes/notes/stop-using-tenant-id-42eb35139ba9eeff.yaml', 'openstack/network/v2/network_ip_availability.py', 'openstack/network/v2/security_group.py', 'openstack/tests/unit/cloud/test_router.py', 'openstack/tests/unit/network/v2/test_security_group.py', 'openstack/network/v2/subnet.py', 'openstack/network/v2/metering_label_rule.py', 'openstack/tests/unit/network/v2/test_qos_policy.py', 'openstack/tests/unit/network/v2/test_pool.py', 'openstack/tests/unit/network/v2/test_trunk.py', 'openstack/network/v2/pool.py', 'openstack/tests/unit/network/v2/test_pool_member.py', 'openstack/tests/unit/network/v2/test_metering_label.py', 'openstack/network/v2/floating_ip.py', 'openstack/tests/unit/network/v2/test_service_profile.py', 'openstack/tests/unit/network/v2/test_router.py', 'openstack/tests/unit/network/v2/test_network_ip_availability.py', 'openstack/network/v2/quota.py', 'openstack/network/v2/service_profile.py', 'openstack/tests/unit/network/v2/test_quota.py', 'openstack/network/v2/rbac_policy.py', 'openstack/tests/unit/network/v2/test_floating_ip.py', 'openstack/tests/unit/network/v2/test_security_group_rule.py', 'openstack/tests/unit/network/v2/test_load_balancer.py', 'openstack/network/v2/router.py', 'openstack/tests/unit/network/v2/test_vpn_service.py', 'openstack/tests/unit/network/v2/test_address_group.py', 'openstack/tests/unit/network/v2/test_network.py', 'openstack/tests/unit/network/v2/test_subnet_pool.py', 'openstack/tests/unit/network/v2/test_metering_label_rule.py', 'openstack/tests/unit/network/v2/test_rbac_policy.py', 'openstack/network/v2/vpn_service.py', 'openstack/network/v2/address_scope.py', 'openstack/network/v2/trunk.py', 'openstack/network/v2/network.py', 'openstack/network/v2/metering_label.py', 'openstack/tests/unit/network/v2/test_port.py', 'openstack/network/v2/auto_allocated_topology.py', 'openstack/network/v2/qos_policy.py', 'openstack/network/v2/load_balancer.py', 'openstack/tests/unit/network/v2/test_address_scope.py', 'openstack/cloud/_network.py']",51,56e1fd677b1f72121c36cd8c98a86e092b4e9427,, router['project_id'] = project_id, router['tenant_id'] = project_id,120,114
openstack%2Fkayobe~stable%2Fussuri~Id6690dc9a486af0ed7d42555d84cf77d6de0b6af,openstack/kayobe,stable/ussuri,Id6690dc9a486af0ed7d42555d84cf77d6de0b6af,CI: switch to quay.io for container images,MERGED,2021-05-05 11:01:30.000000000,2021-05-10 11:23:15.000000000,2021-05-10 11:21:54.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 11:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1fa048ff9acd4e456fe1a2ed4f1010a551b5c353', 'message': 'CI: switch to quay.io for container images\n\nBased on the discussions from recent Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nThe images have already been published via Kolla CI\nfor master/Wallaby [4] and Victoria [5].\n\nThis change applies only to CI.\nThe user-facing move is yet to be discussed.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n[4] https://review.opendev.org/c/openstack/kolla/+/781130\n[5] https://review.opendev.org/c/openstack/kolla/+/781899\n\nSee related Kolla Ansible change\nI22e11a994801447526ac26fc2815a1679876225e\n\nChange-Id: Id6690dc9a486af0ed7d42555d84cf77d6de0b6af\n(cherry picked from commit 4ad010a5a60811135b43b9ac9d16c8cf01d781dc)\n'}, {'number': 2, 'created': '2021-05-05 13:41:03.000000000', 'files': ['playbooks/kayobe-overcloud-base/globals.yml.j2', 'playbooks/kayobe-seed-base/globals.yml.j2', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0059a8cfa8e981f63c72724128d0d4749b4b1a57', 'message': 'CI: switch to quay.io for container images\n\nBased on the discussions from recent Kolla meetings [1][2][3],\nwe established that, to avoid the DockerHub pull limit issues\nin our CI, we will try using quay.io.\n\nThe images have already been published via Kolla CI\nfor master/Wallaby [4] and Victoria [5].\n\nThis change applies only to CI.\nThe user-facing move is yet to be discussed.\n\n[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102\n[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137\n[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50\n[4] https://review.opendev.org/c/openstack/kolla/+/781130\n[5] https://review.opendev.org/c/openstack/kolla/+/781899\n\nSee related Kolla Ansible change\nI22e11a994801447526ac26fc2815a1679876225e\n\nChange-Id: Id6690dc9a486af0ed7d42555d84cf77d6de0b6af\n(cherry picked from commit 4ad010a5a60811135b43b9ac9d16c8cf01d781dc)\n'}]",0,789781,0059a8cfa8e981f63c72724128d0d4749b4b1a57,10,3,2,14826,,,0,"CI: switch to quay.io for container images

Based on the discussions from recent Kolla meetings [1][2][3],
we established that, to avoid the DockerHub pull limit issues
in our CI, we will try using quay.io.

The images have already been published via Kolla CI
for master/Wallaby [4] and Victoria [5].

This change applies only to CI.
The user-facing move is yet to be discussed.

[1] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-17-15.00.log.html#l-102
[2] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-24-15.00.log.html#l-137
[3] http://eavesdrop.openstack.org/meetings/kolla/2021/kolla.2021-03-31-15.01.log.html#l-50
[4] https://review.opendev.org/c/openstack/kolla/+/781130
[5] https://review.opendev.org/c/openstack/kolla/+/781899

See related Kolla Ansible change
I22e11a994801447526ac26fc2815a1679876225e

Change-Id: Id6690dc9a486af0ed7d42555d84cf77d6de0b6af
(cherry picked from commit 4ad010a5a60811135b43b9ac9d16c8cf01d781dc)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/81/789781/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-overcloud-base/globals.yml.j2', 'playbooks/kayobe-seed-base/globals.yml.j2', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-seed-base/overrides.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-upgrade-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-overcloud-base/overrides.yml.j2', 'playbooks/kayobe-seed-upgrade-base/globals.yml.j2', 'playbooks/kayobe-overcloud-upgrade-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/overrides.yml.j2']",14,1fa048ff9acd4e456fe1a2ed4f1010a551b5c353,,"kolla_docker_namespace: ""openstack.kolla"" # use the published images from a site mirror of quay.io kolla_docker_registry: ""{{ zuul_site_mirror_fqdn }}:4447""",,82,0
openstack%2Fkayobe~master~I6f21c76a0308db3783d8fa0f28e7a47febabd09e,openstack/kayobe,master,I6f21c76a0308db3783d8fa0f28e7a47febabd09e,docs: aio: add note with link to automated setup,MERGED,2021-04-27 13:10:48.000000000,2021-05-10 11:23:12.000000000,2021-05-10 11:21:57.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 13:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/eab52faa387fc407e67594f213ed413cc80cc0de', 'message': 'docs: aio: add note with link to automated setup\n\nChange-Id: I6f21c76a0308db3783d8fa0f28e7a47febabd09e\n'}, {'number': 2, 'created': '2021-04-27 14:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ccd3756fbc86ebb77f8f54a89977c33faf689696', 'message': 'docs: aio: add note with link to automated setup\n\nChange-Id: I6f21c76a0308db3783d8fa0f28e7a47febabd09e\n'}, {'number': 3, 'created': '2021-04-28 08:41:55.000000000', 'files': ['doc/source/configuration/scenarios/all-in-one/overcloud.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4d886ff176585daa7377d8fd6c11a766ea57c33d', 'message': 'docs: aio: add note with link to automated setup\n\nChange-Id: I6f21c76a0308db3783d8fa0f28e7a47febabd09e\n'}]",0,788291,4d886ff176585daa7377d8fd6c11a766ea57c33d,12,3,3,22629,,,0,"docs: aio: add note with link to automated setup

Change-Id: I6f21c76a0308db3783d8fa0f28e7a47febabd09e
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/91/788291/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/scenarios/all-in-one/overcloud.rst'],1,eab52faa387fc407e67594f213ed413cc80cc0de,,".. note:: If you are looking for an all-in-one environment for test or development, see :ref:`contributor-automated` ",,4,0
openstack%2Fnova~master~I0055d13b055e34372a8186008ba75be68aa2edf9,openstack/nova,master,I0055d13b055e34372a8186008ba75be68aa2edf9,Fix bond_mode enum 802.1ad -> 802.3ad,MERGED,2021-04-29 15:49:35.000000000,2021-05-10 11:22:35.000000000,2021-05-01 00:32:42.000000000,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 15:49:35.000000000', 'files': ['doc/api_schemas/network_data.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/0b05b838a47f4c05ecf8443ec48a6d6b2670f579', 'message': 'Fix bond_mode enum 802.1ad -> 802.3ad\n\nThis seems to me a clerical error made a long time ago in the spec [1].\nThe 802.1ad values does not seems to be a valid bonding mode but 802.3ad\ndoes.\n\nThis patch fixes the schema in the nova doc. No test are changed as nova\ndoes not generate this part of the network metadata.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/kilo/approved/metadata-service-network-info.html#rest-api-impact\n\nChange-Id: I0055d13b055e34372a8186008ba75be68aa2edf9\nCloses-Bug: #1925388\n'}]",1,788790,0b05b838a47f4c05ecf8443ec48a6d6b2670f579,12,3,1,9708,,,0,"Fix bond_mode enum 802.1ad -> 802.3ad

This seems to me a clerical error made a long time ago in the spec [1].
The 802.1ad values does not seems to be a valid bonding mode but 802.3ad
does.

This patch fixes the schema in the nova doc. No test are changed as nova
does not generate this part of the network metadata.

[1] https://specs.openstack.org/openstack/nova-specs/specs/kilo/approved/metadata-service-network-info.html#rest-api-impact

Change-Id: I0055d13b055e34372a8186008ba75be68aa2edf9
Closes-Bug: #1925388
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/788790/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/api_schemas/network_data.json'],1,0b05b838a47f4c05ecf8443ec48a6d6b2670f579,bug/1925388," ""802.3ad"", ""802.3ad"""," ""802.1ad"", ""802.1ad""",2,2
openstack%2Ftripleo-ci~master~Ic1374c81273034bce536af80afd4260adfb180bb,openstack/tripleo-ci,master,Ic1374c81273034bce536af80afd4260adfb180bb,Add train standalone job for using in OS modules repo,ABANDONED,2021-05-10 11:12:09.000000000,2021-05-10 11:14:07.000000000,,[],"[{'number': 1, 'created': '2021-05-10 11:12:09.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5eb57875d55a587f9cafaf739de874c4cfeb01b4', 'message': 'Add train standalone job for using in OS modules repo\n\nWe need to check OS modules for compatibility with train branch\nof TripleO (and for SDK that is shipped with it). Create a train\nstandalone job to run on ansible-collections-openstack repository.\n\nChange-Id: Ic1374c81273034bce536af80afd4260adfb180bb\n'}]",0,790415,5eb57875d55a587f9cafaf739de874c4cfeb01b4,2,0,1,10969,,,0,"Add train standalone job for using in OS modules repo

We need to check OS modules for compatibility with train branch
of TripleO (and for SDK that is shipped with it). Create a train
standalone job to run on ansible-collections-openstack repository.

Change-Id: Ic1374c81273034bce536af80afd4260adfb180bb
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/15/790415/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,5eb57875d55a587f9cafaf739de874c4cfeb01b4,, - job: name: tripleo-ci-centos-8-standalone-train parent: tripleo-ci-centos-8-standalone override-checkout: stable/train vars: branch_override: stable/train,,7,0
openstack%2Fkuryr-kubernetes~master~I64bcfe8f9c5795f1724aa1e3b7278660f79fa7f6,openstack/kuryr-kubernetes,master,I64bcfe8f9c5795f1724aa1e3b7278660f79fa7f6,Clean up usage of ubuntu bionic on crio job,MERGED,2021-05-04 15:47:31.000000000,2021-05-10 11:07:25.000000000,2021-05-10 11:05:03.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 15:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/19a942e9d499f8ef60c8d611705ed3d946e30562', 'message': 'Clean up usage of ubuntu bionic on crio job\n\nAs Devstack is dropping support for Ubuntu Bionic in favor\nof Focal and the bionic node is not needed anymore on the crio\ngate with the change os repos to kubic OBS project[1], we can\nremove the nodeset definition.\n\n[1] https://github.com/openstack/devstack-plugin-container/commit/d4de1bb9905aebff7e3620d08aa65dc334d435b8\n\nChange-Id: I64bcfe8f9c5795f1724aa1e3b7278660f79fa7f6\n'}, {'number': 2, 'created': '2021-05-06 10:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d79acb518881876cb23c792aefd93d9d0c30197a', 'message': 'Clean up usage of ubuntu bionic on crio job\n\nAs Devstack is dropping support for Ubuntu Bionic in favor\nof Focal and the bionic node is not needed anymore on the crio\ngate with the change os repos to kubic OBS project[1], we can\nremove the nodeset definition. This commit also updates default\ncrio version used to match the version used on the k8s cluster.\n\n[1] https://github.com/openstack/devstack-plugin-container/commit/d4de1bb9905aebff7e3620d08aa65dc334d435b8\n\nChange-Id: I64bcfe8f9c5795f1724aa1e3b7278660f79fa7f6\n'}, {'number': 3, 'created': '2021-05-06 15:58:05.000000000', 'files': ['.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4e7c330d65c532c55b33b2bc7430e67a725c7fcc', 'message': 'Clean up usage of ubuntu bionic on crio job\n\nAs Devstack is dropping support for Ubuntu Bionic in favor\nof Focal and the bionic node is not needed anymore on the crio\ngate with the change os repos to kubic OBS project[1], we can\nremove the nodeset definition.\n\n[1] https://github.com/openstack/devstack-plugin-container/commit/d4de1bb9905aebff7e3620d08aa65dc334d435b8\n\nChange-Id: I64bcfe8f9c5795f1724aa1e3b7278660f79fa7f6\n'}]",1,789595,4e7c330d65c532c55b33b2bc7430e67a725c7fcc,26,3,3,27032,,,0,"Clean up usage of ubuntu bionic on crio job

As Devstack is dropping support for Ubuntu Bionic in favor
of Focal and the bionic node is not needed anymore on the crio
gate with the change os repos to kubic OBS project[1], we can
remove the nodeset definition.

[1] https://github.com/openstack/devstack-plugin-container/commit/d4de1bb9905aebff7e3620d08aa65dc334d435b8

Change-Id: I64bcfe8f9c5795f1724aa1e3b7278660f79fa7f6
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/95/789595/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/octavia.yaml'],1,19a942e9d499f8ef60c8d611705ed3d946e30562,remove-nodeset,, nodeset: openstack-single-node-bionic,0,1
openstack%2Freleases~master~Ia899b39dbc68b245e1b84518363de5420af500c0,openstack/releases,master,Ia899b39dbc68b245e1b84518363de5420af500c0,ironic-python-agent-builder release model change,MERGED,2021-05-04 14:48:33.000000000,2021-05-10 10:56:49.000000000,2021-05-10 10:56:49.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-04 14:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0449b786b773d83caa9d213fcae50734018138b7', 'message': 'ironic-python-agent-builder release model change\n\nDuring the recent xena ptg, the ironic community had a discussion about\nthe need to move the ironic-python-agent-builder project from an\nindependent model to the standard release model.\n\nWhen we initially split the builder from ironic-python-agent, we decided\nagainst it, but considering some problems we encountered during the\nroad, the ironic community seems to be in favor of the change.\nThe reasons for this are mainly to strictly align the image building\nproject to ironic-python-agent releases, and ease dealing with the\noccasional upgrade of tinycore linux, the base image used to build the\n""tinyipa"" ironic-python-agent ramdisk.\n\nWe decided to split them at some point, and we\'d like to keep them\nseparated, but we realized that it would make sense to keep them synced\nby branch.\n\nThe ironic contributor suffered CI pain over the\npast year where code handling distributions has broken several times.\nLargely these breaks have had to be navigated around with specific\nversion pinning, and settings changes, because we were unable to fix\nsomething a release or two back inside the tooling, in this case\nironic-python-agent-builder. In other words, if the ironic team had that\ncapability and those branches/tags, we would have been less in a world of\npain because we wouldn\'t have had to make changes on every job/branch\nacross every repository where we were hitting issues with ipa-b. Reduction\nof pain is why this change is being proposed.\n\nWe should also notice that the Kolla team also use ipa-builder and they\nfaced similar issues with Kayobe.\n\nThese changes propose to cut ipa-builder for Wallaby in a retro active\nmanner (Wallaby is already out at this point).\n\nThese changes use the same model that the one used by\nironic-python-agent.\n\nThese changes also init ipa-builder for Xena.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-April/022032.html\n\nChange-Id: Ia899b39dbc68b245e1b84518363de5420af500c0\n'}, {'number': 2, 'created': '2021-05-04 15:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e65682caa4592dd105c319d461bc6bd4a0f0eaea', 'message': 'ironic-python-agent-builder release model change\n\nDuring the recent xena ptg, the ironic community had a discussion about\nthe need to move the ironic-python-agent-builder project from an\nindependent model to the standard release model.\n\nWhen we initially split the builder from ironic-python-agent, we decided\nagainst it, but considering some problems we encountered during the\nroad, the ironic community seems to be in favor of the change.\nThe reasons for this are mainly to strictly align the image building\nproject to ironic-python-agent releases, and ease dealing with the\noccasional upgrade of tinycore linux, the base image used to build the\n""tinyipa"" ironic-python-agent ramdisk.\n\nWe decided to split them at some point, and we\'d like to keep them\nseparated, but we realized that it would make sense to keep them synced\nby branch.\n\nThe ironic contributor suffered CI pain over the\npast year where code handling distributions has broken several times.\nLargely these breaks have had to be navigated around with specific\nversion pinning, and settings changes, because we were unable to fix\nsomething a release or two back inside the tooling, in this case\nironic-python-agent-builder. In other words, if the ironic team had that\ncapability and those branches/tags, we would have been less in a world of\npain because we wouldn\'t have had to make changes on every job/branch\nacross every repository where we were hitting issues with ipa-b. Reduction\nof pain is why this change is being proposed.\n\nWe should also notice that the Kolla team also use ipa-builder and they\nfaced similar issues with Kayobe.\n\nThese changes propose to cut ipa-builder for Wallaby in a retro active\nmanner (Wallaby is already out at this point).\n\nThese changes use the same model that the one used by\nironic-python-agent.\n\nThese changes also init ipa-builder for Xena.\n\nThese changes keep the independent files for the sake of a proper\nhistory (previous releases history of ipa-builder).\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-April/022032.html\n\nChange-Id: Ia899b39dbc68b245e1b84518363de5420af500c0\n'}, {'number': 3, 'created': '2021-05-05 13:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9ee65fbbc2a8487705bef313ff90ae6e6b34f098', 'message': 'ironic-python-agent-builder release model change\n\nDuring the recent xena ptg, the ironic community had a discussion about\nthe need to move the ironic-python-agent-builder project from an\nindependent model to the standard release model.\n\nWhen we initially split the builder from ironic-python-agent, we decided\nagainst it, but considering some problems we encountered during the\nroad, the ironic community seems to be in favor of the change.\nThe reasons for this are mainly to strictly align the image building\nproject to ironic-python-agent releases, and ease dealing with the\noccasional upgrade of tinycore linux, the base image used to build the\n""tinyipa"" ironic-python-agent ramdisk.\n\nWe decided to split them at some point, and we\'d like to keep them\nseparated, but we realized that it would make sense to keep them synced\nby branch.\n\nThe ironic contributor suffered CI pain over the\npast year where code handling distributions has broken several times.\nLargely these breaks have had to be navigated around with specific\nversion pinning, and settings changes, because we were unable to fix\nsomething a release or two back inside the tooling, in this case\nironic-python-agent-builder. In other words, if the ironic team had that\ncapability and those branches/tags, we would have been less in a world of\npain because we wouldn\'t have had to make changes on every job/branch\nacross every repository where we were hitting issues with ipa-b. Reduction\nof pain is why this change is being proposed.\n\nWe should also notice that the Kolla team also use ipa-builder and they\nfaced similar issues with Kayobe.\n\nThese changes propose to cut ipa-builder for Wallaby in a retro active\nmanner (Wallaby is already out at this point).\n\nThese changes use the same model that the one used by\nironic-python-agent.\n\nThese changes create a new tag (2.7.0) based on the same hash that the\nprevious independent version (2.6.0), mostly to properly init the series\nwith a meaningful version number, avoid misleading with future bugfix\nreleases versionned with a minor bump, create the wallaby branch from the\nright point, avoid errors with our tooling related to missing tags for a\nseries.\n\nThese changes also init ipa-builder for Xena.\n\nThese changes keep the independent files for the sake of a proper\nhistory (previous releases history of ipa-builder).\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-April/022032.html\n\nChange-Id: Ia899b39dbc68b245e1b84518363de5420af500c0\n'}, {'number': 4, 'created': '2021-05-05 13:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4ae8d6e46b162e40fe5b1962e99053ef2d0f5ddb', 'message': 'ironic-python-agent-builder release model change\n\nDuring the recent xena ptg, the ironic community had a discussion about\nthe need to move the ironic-python-agent-builder project from an\nindependent model to the standard release model.\n\nWhen we initially split the builder from ironic-python-agent, we decided\nagainst it, but considering some problems we encountered during the\nroad, the ironic community seems to be in favor of the change.\nThe reasons for this are mainly to strictly align the image building\nproject to ironic-python-agent releases, and ease dealing with the\noccasional upgrade of tinycore linux, the base image used to build the\n""tinyipa"" ironic-python-agent ramdisk.\n\nWe decided to split them at some point, and we\'d like to keep them\nseparated, but we realized that it would make sense to keep them synced\nby branch.\n\nThe ironic contributor suffered CI pain over the\npast year where code handling distributions has broken several times.\nLargely these breaks have had to be navigated around with specific\nversion pinning, and settings changes, because we were unable to fix\nsomething a release or two back inside the tooling, in this case\nironic-python-agent-builder. In other words, if the ironic team had that\ncapability and those branches/tags, we would have been less in a world of\npain because we wouldn\'t have had to make changes on every job/branch\nacross every repository where we were hitting issues with ipa-b. Reduction\nof pain is why this change is being proposed.\n\nWe should also notice that the Kolla team also use ipa-builder and they\nfaced similar issues with Kayobe.\n\nThese changes propose to cut ipa-builder for Wallaby in a retro active\nmanner (Wallaby is already out at this point).\n\nThese changes use the same model that the one used by\nironic-python-agent.\n\nThese changes create a new tag (2.7.0) based on the same hash that the\nprevious independent version (2.6.0), mostly to properly init the series\nwith a meaningful version number, avoid misleading with future bugfix\nreleases versionned with a minor bump, create the wallaby branch from the\nright point, avoid errors with our tooling related to missing tags for a\nseries.\n\nThese changes also init ipa-builder for Xena.\n\nThese changes keep the independent files for the sake of a proper\nhistory (previous releases history of ipa-builder).\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-April/022032.html\n\nChange-Id: Ia899b39dbc68b245e1b84518363de5420af500c0\n'}, {'number': 5, 'created': '2021-05-07 09:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5f91b982b4c039b87dddf271eb8958dd28c3cf3c', 'message': 'ironic-python-agent-builder release model change\n\nDuring the recent xena ptg, the ironic community had a discussion about\nthe need to move the ironic-python-agent-builder project from an\nindependent model to the standard release model.\n\nWhen we initially split the builder from ironic-python-agent, we decided\nagainst it, but considering some problems we encountered during the\nroad, the ironic community seems to be in favor of the change.\nThe reasons for this are mainly to strictly align the image building\nproject to ironic-python-agent releases, and ease dealing with the\noccasional upgrade of tinycore linux, the base image used to build the\n""tinyipa"" ironic-python-agent ramdisk.\n\nWe decided to split them at some point, and we\'d like to keep them\nseparated, but we realized that it would make sense to keep them synced\nby branch.\n\nThe ironic contributor suffered CI pain over the\npast year where code handling distributions has broken several times.\nLargely these breaks have had to be navigated around with specific\nversion pinning, and settings changes, because we were unable to fix\nsomething a release or two back inside the tooling, in this case\nironic-python-agent-builder. In other words, if the ironic team had that\ncapability and those branches/tags, we would have been less in a world of\npain because we wouldn\'t have had to make changes on every job/branch\nacross every repository where we were hitting issues with ipa-b. Reduction\nof pain is why this change is being proposed.\n\nWe should also notice that the Kolla team also use ipa-builder and they\nfaced similar issues with Kayobe.\n\nThese changes propose to cut ipa-builder for Wallaby in a retro active\nmanner (Wallaby is already out at this point).\n\nThese changes use the same model that the one used by\nironic-python-agent.\n\nThese changes create a new tag (2.7.0) based on the same hash that the\nprevious independent version (2.6.0), mostly to properly init the series\nwith a meaningful version number, avoid misleading with future bugfix\nreleases versionned with a minor bump, create the wallaby branch from the\nright point, avoid errors with our tooling related to missing tags for a\nseries.\n\nThese changes also init ipa-builder for Xena.\n\nThese changes keep the independent files for the sake of a proper\nhistory (previous releases history of ipa-builder).\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-April/022032.html\n\nChange-Id: Ia899b39dbc68b245e1b84518363de5420af500c0\n'}, {'number': 6, 'created': '2021-05-07 10:54:51.000000000', 'files': ['deliverables/xena/ironic-python-agent-builder.yaml', 'deliverables/_independent/ironic-python-agent-builder.yaml', 'deliverables/wallaby/ironic-python-agent-builder.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e96978a74ad7bac2175cd1b4069b07c6f3641133', 'message': 'ironic-python-agent-builder release model change\n\nDuring the recent xena ptg, the ironic community had a discussion about\nthe need to move the ironic-python-agent-builder project from an\nindependent model to the standard release model.\n\nWhen we initially split the builder from ironic-python-agent, we decided\nagainst it, but considering some problems we encountered during the\nroad, the ironic community seems to be in favor of the change.\nThe reasons for this are mainly to strictly align the image building\nproject to ironic-python-agent releases, and ease dealing with the\noccasional upgrade of tinycore linux, the base image used to build the\n""tinyipa"" ironic-python-agent ramdisk.\n\nWe decided to split them at some point, and we\'d like to keep them\nseparated, but we realized that it would make sense to keep them synced\nby branch.\n\nThe ironic contributor suffered CI pain over the\npast year where code handling distributions has broken several times.\nLargely these breaks have had to be navigated around with specific\nversion pinning, and settings changes, because we were unable to fix\nsomething a release or two back inside the tooling, in this case\nironic-python-agent-builder. In other words, if the ironic team had that\ncapability and those branches/tags, we would have been less in a world of\npain because we wouldn\'t have had to make changes on every job/branch\nacross every repository where we were hitting issues with ipa-b. Reduction\nof pain is why this change is being proposed.\n\nWe should also notice that the Kolla team also use ipa-builder and they\nfaced similar issues with Kayobe.\n\nThese changes propose to cut ipa-builder for Wallaby in a retro active\nmanner (Wallaby is already out at this point).\n\nThese changes use the same model that the one used by\nironic-python-agent.\n\nThese changes create a new tag (2.7.0) based on the same hash that the\nprevious independent version (2.6.0), mostly to properly init the series\nwith a meaningful version number, avoid misleading with future bugfix\nreleases versionned with a minor bump, create the wallaby branch from the\nright point, avoid errors with our tooling related to missing tags for a\nseries.\n\nThese changes also init ipa-builder for Xena.\n\nhttp://lists.openstack.org/pipermail/openstack-discuss/2021-April/022032.html\n\nChange-Id: Ia899b39dbc68b245e1b84518363de5420af500c0\n'}]",5,789587,e96978a74ad7bac2175cd1b4069b07c6f3641133,30,7,6,28522,,,0,"ironic-python-agent-builder release model change

During the recent xena ptg, the ironic community had a discussion about
the need to move the ironic-python-agent-builder project from an
independent model to the standard release model.

When we initially split the builder from ironic-python-agent, we decided
against it, but considering some problems we encountered during the
road, the ironic community seems to be in favor of the change.
The reasons for this are mainly to strictly align the image building
project to ironic-python-agent releases, and ease dealing with the
occasional upgrade of tinycore linux, the base image used to build the
""tinyipa"" ironic-python-agent ramdisk.

We decided to split them at some point, and we'd like to keep them
separated, but we realized that it would make sense to keep them synced
by branch.

The ironic contributor suffered CI pain over the
past year where code handling distributions has broken several times.
Largely these breaks have had to be navigated around with specific
version pinning, and settings changes, because we were unable to fix
something a release or two back inside the tooling, in this case
ironic-python-agent-builder. In other words, if the ironic team had that
capability and those branches/tags, we would have been less in a world of
pain because we wouldn't have had to make changes on every job/branch
across every repository where we were hitting issues with ipa-b. Reduction
of pain is why this change is being proposed.

We should also notice that the Kolla team also use ipa-builder and they
faced similar issues with Kayobe.

These changes propose to cut ipa-builder for Wallaby in a retro active
manner (Wallaby is already out at this point).

These changes use the same model that the one used by
ironic-python-agent.

These changes create a new tag (2.7.0) based on the same hash that the
previous independent version (2.6.0), mostly to properly init the series
with a meaningful version number, avoid misleading with future bugfix
releases versionned with a minor bump, create the wallaby branch from the
right point, avoid errors with our tooling related to missing tags for a
series.

These changes also init ipa-builder for Xena.

http://lists.openstack.org/pipermail/openstack-discuss/2021-April/022032.html

Change-Id: Ia899b39dbc68b245e1b84518363de5420af500c0
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/789587/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/ironic-python-agent-builder.yaml', 'deliverables/wallaby/ironic-python-agent-builder.yaml']",2,0449b786b773d83caa9d213fcae50734018138b7,move-ipa-builder,--- storyboard: openstack/ironic-python-agent-builder release-model: cycle-with-intermediary stable-branch-type: std-with-versions release-type: python-pypi team: ironic type: other repository-settings: openstack/ironic-python-agent-builder: {} releases: - version: 2.7.0 projects: - repo: openstack/ironic-python-agent-builder hash: 1355d790ef5e3c5e6620bf07ea7f34480474949b branches: - name: stable/wallaby location: 2.7.0 release-notes: https://docs.openstack.org/releasenotes/ironic-python-agent-builder/wallaby.html ,,27,0
openstack%2Ftosca-parser~master~I62b0a03148dd75e7f91232c32fe4fb495a0b8946,openstack/tosca-parser,master,I62b0a03148dd75e7f91232c32fe4fb495a0b8946,Use py3 as the default runtime for tox,NEW,2021-04-20 05:44:20.000000000,2021-05-10 10:54:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-20 05:44:20.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/3fcc696e68a8b3649e140969e24972d232adecb1', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I62b0a03148dd75e7f91232c32fe4fb495a0b8946\n'}]",0,787073,3fcc696e68a8b3649e140969e24972d232adecb1,3,2,1,30384,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I62b0a03148dd75e7f91232c32fe4fb495a0b8946
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/73/787073/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3fcc696e68a8b3649e140969e24972d232adecb1,,"envlist = py3,pep8","envlist = py37,pep8",1,1
openstack%2Ftripleo-common~stable%2Fqueens~I2ce9f8b7f5ac7c60c6e8484f98c6e459701dca92,openstack/tripleo-common,stable/queens,I2ce9f8b7f5ac7c60c6e8484f98c6e459701dca92,Add a check for different CPU architectures,ABANDONED,2020-09-29 03:21:18.000000000,2021-05-10 10:42:10.000000000,,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2020-09-29 03:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3bef87df3dc066af258cb56358b8c60fdc0a1bf7', 'message': 'Add a check for different CPU architectures\n\nAdding a check for different CPU architectures to validations.py\nThis check is getting the cpu_arch value from Ironic and making\na determination of the image name based on that information.\n\nChange-Id: I2ce9f8b7f5ac7c60c6e8484f98c6e459701dca92\nCloses-Bug: 1897658\n'}, {'number': 2, 'created': '2020-09-29 04:00:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd0a9721a26b08d561ab33f59c93650c60d512d5', 'message': 'Add a check for different CPU architectures\n\nAdding a check for different CPU architectures to validations.py\nThis check is getting the cpu_arch value from Ironic and making\na determination of the image name based on that information.\n\nChange-Id: I2ce9f8b7f5ac7c60c6e8484f98c6e459701dca92\nCloses-Bug: 1897658\n'}, {'number': 3, 'created': '2020-09-30 22:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6917c80fcaec6dd87fad6e0593b32809f32e3360', 'message': 'Add a check for different CPU architectures\n\nAdding a check for different CPU architectures to validations.py\nThis check is getting the cpu_arch value from Ironic and making\na determination of the image name based on that information.\n\nChange-Id: I2ce9f8b7f5ac7c60c6e8484f98c6e459701dca92\nCloses-Bug: 1897658\n'}, {'number': 4, 'created': '2020-09-30 22:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/86e751e9e9781fc53ec032ce6a5567766209a1a5', 'message': 'Add a check for different CPU architectures\n\nAdding a check for different CPU architectures to validations.py\nThis check is getting the cpu_arch value from Ironic and making\na determination of the image name based on that information.\n\nChange-Id: I2ce9f8b7f5ac7c60c6e8484f98c6e459701dca92\nCloses-Bug: 1897658\n'}, {'number': 5, 'created': '2020-09-30 22:14:23.000000000', 'files': ['tripleo_common/actions/validations.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c9969c94b7dae9673eb26a2c7889909fa1c01379', 'message': 'Add a check for different CPU architectures\n\nAdding a check for different CPU architectures to validations.py\nThis check is getting the cpu_arch value from Ironic and making\na determination of the image name based on that information.\n\nChange-Id: I2ce9f8b7f5ac7c60c6e8484f98c6e459701dca92\nCloses-Bug: 1897658\n'}]",6,754885,c9969c94b7dae9673eb26a2c7889909fa1c01379,22,6,5,30073,,,0,"Add a check for different CPU architectures

Adding a check for different CPU architectures to validations.py
This check is getting the cpu_arch value from Ironic and making
a determination of the image name based on that information.

Change-Id: I2ce9f8b7f5ac7c60c6e8484f98c6e459701dca92
Closes-Bug: 1897658
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/85/754885/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/validations.py'],1,3bef87df3dc066af258cb56358b8c60fdc0a1bf7,1897658," self.sysArch = self.node['properties'].get('cpu_arch'): if self.sysArch != ""x86_64"": self.kernel_id = self.sysArch + ""-"" + self.kernel_id self.ramdisk_id = self.sysArch + ""-"" + self.ramdisk_id ",,6,0
openstack%2Fironic~master~I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8,openstack/ironic,master,I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8,Fix deployment when executing a command fails after the command starts,MERGED,2021-05-07 08:40:32.000000000,2021-05-10 10:38:03.000000000,2021-05-10 10:36:07.000000000,"[{'_account_id': 15519}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 25820}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-07 08:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f55e596e0e61b5c93eeb936bac771fb267b4eca9', 'message': ""Fix deployment when executing a command fails after the command starts\n\nIf the agent accepts a command, but is unable to reply to Ironic (which\nsporadically happens before of the eventlet's TLS implementation), we\ncurrently retry the request and fail because the command is already\nexecuting. Ironic now detects this situation by checking the list of\nexecuting commands after receiving a connection error. If the requested\ncommand is executing, we assume that the command request succeeded.\n\nChange-Id: I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8\n""}, {'number': 2, 'created': '2021-05-07 12:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7dc8d0545cf1cce3600c7ecf5e6f75de96fed3f6', 'message': ""Fix deployment when executing a command fails after the command starts\n\nIf the agent accepts a command, but is unable to reply to Ironic (which\nsporadically happens before of the eventlet's TLS implementation), we\ncurrently retry the request and fail because the command is already\nexecuting. Ironic now detects this situation by checking the list of\nexecuting commands after receiving a connection error. If the requested\ncommand is last one, we assume that the command request succeeded.\n\nChange-Id: I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8\n""}, {'number': 3, 'created': '2021-05-07 14:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/62e3002e88336f5aaa3ac0b8df36146051cfe955', 'message': ""Fix deployment when executing a command fails after the command starts\n\nIf the agent accepts a command, but is unable to reply to Ironic (which\nsporadically happens before of the eventlet's TLS implementation), we\ncurrently retry the request and fail because the command is already\nexecuting. Ironic now detects this situation by checking the list of\nexecuting commands after receiving a connection error. If the requested\ncommand is last one, we assume that the command request succeeded.\n\nChange-Id: I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8\n""}, {'number': 4, 'created': '2021-05-07 15:51:12.000000000', 'files': ['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/agent-last-command-4ec6967c995ba84a.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/abfe383cc32d63dd3df2b90f0feace08d73b8364', 'message': ""Fix deployment when executing a command fails after the command starts\n\nIf the agent accepts a command, but is unable to reply to Ironic (which\nsporadically happens before of the eventlet's TLS implementation), we\ncurrently retry the request and fail because the command is already\nexecuting. Ironic now detects this situation by checking the list of\nexecuting commands after receiving a connection error. If the requested\ncommand is last one, we assume that the command request succeeded.\n\nIdeally, we should pass a request ID to IPA and then compare it. Such\na change would affect the API contract between the agent and Ironic\nand thus would not be backportable.\n\nChange-Id: I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8\n""}]",1,790210,abfe383cc32d63dd3df2b90f0feace08d73b8364,30,6,4,10239,,,0,"Fix deployment when executing a command fails after the command starts

If the agent accepts a command, but is unable to reply to Ironic (which
sporadically happens before of the eventlet's TLS implementation), we
currently retry the request and fail because the command is already
executing. Ironic now detects this situation by checking the list of
executing commands after receiving a connection error. If the requested
command is last one, we assume that the command request succeeded.

Ideally, we should pass a request ID to IPA and then compare it. Such
a change would affect the API contract between the agent and Ironic
and thus would not be backportable.

Change-Id: I2ea21c9ec440fa7ddf8578cf7b34d6d0ebbb5dc8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/10/790210/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_client.py', 'releasenotes/notes/agent-last-command-4ec6967c995ba84a.yaml', 'ironic/tests/unit/drivers/modules/test_agent_client.py']",3,f55e596e0e61b5c93eeb936bac771fb267b4eca9,agent-last-command," self.assertTrue(self.client.session.get.called) def test__command_fail_connect_no_command_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.client.session.post.assert_called_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertEqual(3, self.client.session.post.call_count) self.assertTrue(self.client.session.get.called) def test__command_fail_connect_wrong_command_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [ {'command_name': 'meow', 'command_status': 'RUNNING'}, ] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.client.session.post.assert_called_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertEqual(3, self.client.session.post.call_count) self.assertTrue(self.client.session.get.called) def test__command_fail_connect_command_is_not_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [ {'command_name': 'bar', 'command_status': 'FINISHED'}, ] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) e = self.assertRaises(exception.AgentConnectionFailed, self.client._command, self.node, method, params) self.assertEqual('Connection to agent failed: Failed to connect to ' 'the agent running on node %(node)s for invoking ' 'command %(method)s. Error: %(error)s' % {'method': method, 'node': self.node.uuid, 'error': error}, str(e)) self.client.session.post.assert_called_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertEqual(3, self.client.session.post.call_count) self.assertTrue(self.client.session.get.called) def test__command_fail_connect_command_is_running(self): error = 'Boom' self.client.session.post.side_effect = requests.ConnectionError(error) self.client.session.get.return_value.json.return_value = { 'commands': [ {'command_name': 'bar', 'command_status': 'RUNNING'}, ] } method = 'foo.bar' params = {} url = self.client._get_command_url(self.node) self.client._get_command_body(method, params) result = self.client._command(self.node, method, params) self.assertEqual({'command_name': 'bar', 'command_status': 'RUNNING'}, result) self.client.session.post.assert_called_once_with( url, data=mock.ANY, params={'wait': 'false'}, timeout=60, verify=True) self.assertTrue(self.client.session.get.called)",,196,21
openstack%2Fpyeclib~master~Ia3bbea67c65b33262307085c48fc3401988bbc93,openstack/pyeclib,master,Ia3bbea67c65b33262307085c48fc3401988bbc93,Fix reconstruct docstring,MERGED,2021-05-07 23:08:39.000000000,2021-05-10 10:21:56.000000000,2021-05-10 10:21:56.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 23:08:39.000000000', 'files': ['pyeclib/ec_iface.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/5355c0268b3e633a91ae912ff394440ea3fc3f7d', 'message': 'Fix reconstruct docstring\n\nChange-Id: Ia3bbea67c65b33262307085c48fc3401988bbc93\n'}]",0,790309,5355c0268b3e633a91ae912ff394440ea3fc3f7d,6,2,1,15343,,,0,"Fix reconstruct docstring

Change-Id: Ia3bbea67c65b33262307085c48fc3401988bbc93
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/09/790309/1 && git format-patch -1 --stdout FETCH_HEAD,['pyeclib/ec_iface.py'],1,5355c0268b3e633a91ae912ff394440ea3fc3f7d,,, :param destination_index: the index of the element to reconstruct,0,1
openstack%2Fironic-python-agent~master~I99e960ba7685e9016429a2acf062d339cd8dd798,openstack/ironic-python-agent,master,I99e960ba7685e9016429a2acf062d339cd8dd798,[DNM] Try very long write_image,ABANDONED,2021-05-07 08:00:19.000000000,2021-05-10 10:15:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-07 08:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/48343568ec4243c356e5d1e3f523a4bdbfcd658a', 'message': '[DNM] Try very long write_image\n\nChange-Id: I99e960ba7685e9016429a2acf062d339cd8dd798\n'}, {'number': 2, 'created': '2021-05-07 08:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8b80892d0b1d42019f92464502a8f85670886e81', 'message': '[DNM] Try very long write_image\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/790210\nChange-Id: I99e960ba7685e9016429a2acf062d339cd8dd798\n'}, {'number': 3, 'created': '2021-05-07 10:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/33783e08da8e8a8fe80d930bb06eb0068a298d82', 'message': '[DNM] Try very long write_image\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/790210\nChange-Id: I99e960ba7685e9016429a2acf062d339cd8dd798\n'}, {'number': 4, 'created': '2021-05-07 12:13:52.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/api/app.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/84540a3bbc7ffa3cfdf1e1c2471678eaf739df01', 'message': '[DNM] Try very long write_image\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/790210\nChange-Id: I99e960ba7685e9016429a2acf062d339cd8dd798\n'}]",0,790205,84540a3bbc7ffa3cfdf1e1c2471678eaf739df01,13,1,4,10239,,,0,"[DNM] Try very long write_image

Depends-On: https://review.opendev.org/c/openstack/ironic/+/790210
Change-Id: I99e960ba7685e9016429a2acf062d339cd8dd798
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/05/790205/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/deploy.py'],1,48343568ec4243c356e5d1e3f523a4bdbfcd658a,test, import time if step['step'] == 'write_image': time.sleep(60) ,,4,0
openstack%2Fswift~master~I8bbed8cb80b2796907492a39cd5b2d7069e1ca55,openstack/swift,master,I8bbed8cb80b2796907492a39cd5b2d7069e1ca55,reconstructor: gather rebuild fragments by x-data-timestamp,MERGED,2021-05-07 12:40:48.000000000,2021-05-10 10:07:37.000000000,2021-05-07 21:47:48.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 12:40:48.000000000', 'files': ['swift/obj/reconstructor.py', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/eeaac713fd9d593336e636af19228e3c17ac8b0e', 'message': 'reconstructor: gather rebuild fragments by x-data-timestamp\n\nFix the reconstructor fragment rebuild to gather other fragments in\nbuckets keyed by x-backend-data-timestamp rather than\nx-backend-timestamp. The former is the actual .data file timestamp;\nthe latter can vary when .meta files have been written to some but not\nall fragment hash dirs, causing rebuild to fail.\n\nChange-Id: I8bbed8cb80b2796907492a39cd5b2d7069e1ca55\nCloses-Bug: 1927720\n'}]",1,790235,eeaac713fd9d593336e636af19228e3c17ac8b0e,8,2,1,7847,,,0,"reconstructor: gather rebuild fragments by x-data-timestamp

Fix the reconstructor fragment rebuild to gather other fragments in
buckets keyed by x-backend-data-timestamp rather than
x-backend-timestamp. The former is the actual .data file timestamp;
the latter can vary when .meta files have been written to some but not
all fragment hash dirs, causing rebuild to fail.

Change-Id: I8bbed8cb80b2796907492a39cd5b2d7069e1ca55
Closes-Bug: 1927720
",git fetch https://review.opendev.org/openstack/swift refs/changes/35/790235/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/reconstructor.py', 'test/unit/obj/test_reconstructor.py']",2,eeaac713fd9d593336e636af19228e3c17ac8b0e,p-lonely-frags-v2," def test_reconstruct_fa_mixed_meta_timestamps_works(self): # verify scenario where all fragments have same data timestamp but some # have different meta timestamp job = { 'partition': 0, 'policy': self.policy, } part_nodes = self.policy.object_ring.get_part_nodes(0) node = part_nodes[4] node['backend_index'] = self.policy.get_backend_index(node['index']) test_data = (b'rebuild' * self.policy.ec_segment_size)[:-777] etag = md5(test_data, usedforsecurity=False).hexdigest() ec_archive_bodies = encode_frag_archive_bodies(self.policy, test_data) broken_body = ec_archive_bodies.pop(4) ts_data = next(self.ts_iter) # all frags .data timestamp ts_meta = next(self.ts_iter) # some frags .meta timestamp ts_cycle = itertools.cycle((ts_data, ts_meta)) responses = list() for body in ec_archive_bodies: ts = next(ts_cycle) # vary timestamp between data and meta headers = get_header_frag_index(self, body) headers.update({'X-Object-Sysmeta-Ec-Etag': etag, 'X-Timestamp': ts.normal, 'X-Backend-Timestamp': ts.internal, 'X-Backend-Data-Timestamp': ts_data.internal, 'X-Backend-Durable-Timestamp': ts_data.internal}) responses.append((200, body, headers)) codes, body_iter, headers_iter = zip(*responses) with mocked_http_conn(*codes, body_iter=body_iter, headers=headers_iter): df = self.reconstructor.reconstruct_fa( job, node, dict(self.obj_metadata)) fixed_body = b''.join(df.reader()) self.assertEqual(len(fixed_body), len(broken_body)) self.assertEqual( md5(fixed_body, usedforsecurity=False).hexdigest(), md5(broken_body, usedforsecurity=False).hexdigest()) ', frag index 0 (missing X-Backend-Data-Timestamp and ' 'X-Backend-Timestamp)')"," ', frag index 0 (missing X-Backend-Timestamp)')",49,5
openstack%2Fkayobe~master~Ie3c7829f5f7b021014fd1a38c509bc9890c345eb,openstack/kayobe,master,Ie3c7829f5f7b021014fd1a38c509bc9890c345eb,Change upgrade process to include host configuration,NEW,2021-03-25 17:03:27.000000000,2021-05-10 09:55:43.000000000,,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 17:03:27.000000000', 'files': ['doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3354c1f032b4ac9377fee11ee6628fcc09e33022', 'message': 'Change upgrade process to include host configuration\n\nKayobe host configuration should be run during the upgrade process to\nensure any updated host configuration is applied. For example,\nkolla-ansible may change the way Docker is set up. Skipping this step\ncan cause issues as Docker packages or configuration become outdated.\n\nChange-Id: Ie3c7829f5f7b021014fd1a38c509bc9890c345eb\n'}]",3,783053,3354c1f032b4ac9377fee11ee6628fcc09e33022,8,4,1,15197,,,0,"Change upgrade process to include host configuration

Kayobe host configuration should be run during the upgrade process to
ensure any updated host configuration is applied. For example,
kolla-ansible may change the way Docker is set up. Skipping this step
can cause issues as Docker packages or configuration become outdated.

Change-Id: Ie3c7829f5f7b021014fd1a38c509bc9890c345eb
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/783053/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrading.rst'],1,3354c1f032b4ac9377fee11ee6628fcc09e33022,upgrade-host-configure,"Upgrading Host Configuration ---------------------------- It may be necessary to apply an updated host configuration:: (kayobe) $ kayobe seed hypervisor host configure Upgrading Host Configuration ---------------------------- It may be necessary to apply an updated host configuration:: (kayobe) $ kayobe seed host configure .. note:: This may update Docker packages or its configuration, which may cause containerised services to be restarted. Upgrading Host Configuration ---------------------------- It may be necessary to apply an updated host configuration:: (kayobe) $ kayobe overcloud host configure .. note:: This may update Docker packages or its configuration, which may cause containerised services to be restarted. ",,31,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I4fc2cb451589dfec82c343868667020f8dcee901,openstack/kolla-ansible,stable/wallaby,I4fc2cb451589dfec82c343868667020f8dcee901,ovn: omit unnecessary bridge mappings,MERGED,2021-05-07 10:31:11.000000000,2021-05-10 09:53:02.000000000,2021-05-10 09:51:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-07 10:31:11.000000000', 'files': ['ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1e5709150d8ac0d8c469985f5cbcfae29e4aee25', 'message': 'ovn: omit unnecessary bridge mappings\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nChange-Id: I4fc2cb451589dfec82c343868667020f8dcee901\n(cherry picked from commit 999b5cfb2b0a9e45a6fc3ee53df2a10fa1599c31)\n'}]",0,790172,1e5709150d8ac0d8c469985f5cbcfae29e4aee25,9,3,1,22629,,,0,"ovn: omit unnecessary bridge mappings

Co-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>

Change-Id: I4fc2cb451589dfec82c343868667020f8dcee901
(cherry picked from commit 999b5cfb2b0a9e45a6fc3ee53df2a10fa1599c31)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/72/790172/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovn/tasks/bootstrap.yml'],1,1e5709150d8ac0d8c469985f5cbcfae29e4aee25,," value: ""{{ item.value if item.state | default('present') == 'present' else omit }}"" - { name: ovn-bridge-mappings, value: ""{{ ovn_mappings }}"", state: ""{{ 'present' if (inventory_hostname in groups['ovn-controller-network'] or computes_need_external_bridge | bool) else 'absent' }}"" }"," value: ""{{ item.value }}"" - { name: ovn-bridge-mappings, value: ""{{ ovn_mappings if ovn_mappings != '' else omit }}"", state: ""{{ 'present' if (inventory_hostname in groups['ovn-controller-network'] or computes_need_external_bridge | bool) else 'absent' }}"" }",2,2
openstack%2Fpuppet-ceph~master~I0a654e411ba9d658cb81446c16e745ca8a67b293,openstack/puppet-ceph,master,I0a654e411ba9d658cb81446c16e745ca8a67b293,Support number of OSD per device,ABANDONED,2021-04-12 11:25:44.000000000,2021-05-10 09:38:16.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-12 11:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/b1cae642021c86eacf1df8b8242548ff05290ba1', 'message': 'Support number of OSD per device\n\nUpstream strongly recommends setting-up more than one OSD\nper physical device. This patch adds support for that.\n\nChange-Id: I0a654e411ba9d658cb81446c16e745ca8a67b293\n'}, {'number': 2, 'created': '2021-04-12 16:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/96a046c4a55b05d7293821c904f32723bf998f22', 'message': 'Support number of OSD per device\n\nUpstream strongly recommends setting-up more than one OSD\nper physical device. This patch adds support for that.\n\nChange-Id: I0a654e411ba9d658cb81446c16e745ca8a67b293\n'}, {'number': 3, 'created': '2021-04-12 22:17:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/cbfbb75f08a818b094c2ab2814fa268008330b93', 'message': 'Support number of OSD per device\n\nUpstream strongly recommends setting-up more than one OSD\nper physical device. This patch adds support for that.\n\nChange-Id: I0a654e411ba9d658cb81446c16e745ca8a67b293\n'}, {'number': 4, 'created': '2021-04-14 11:25:18.000000000', 'files': ['spec/defines/ceph_osd_spec.rb', 'manifests/osd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/5dadb4625eb5c4564c58a10e6d2693c6baf1206e', 'message': 'Support number of OSD per device\n\nUpstream strongly recommends setting-up more than one OSD\nper physical device. This patch adds support for that.\n\nChange-Id: I0a654e411ba9d658cb81446c16e745ca8a67b293\n'}]",1,785854,5dadb4625eb5c4564c58a10e6d2693c6baf1206e,12,2,4,6476,,,0,"Support number of OSD per device

Upstream strongly recommends setting-up more than one OSD
per physical device. This patch adds support for that.

Change-Id: I0a654e411ba9d658cb81446c16e745ca8a67b293
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/54/785854/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/osd.pp'],1,b1cae642021c86eacf1df8b8242548ff05290ba1,osd-per-device," $osds_per_device = 2,#test ${fsid} = $(ceph-volume lvm list ${data} |grep 'cluster fsid' | awk -F'fsid' '{print \$2}'|tr -d ' ') ceph-volume lvm list ${data} |grep 'cluster fsid' | awk -F'fsid' '{print \$2}'|tr -d ' ' | grep ${fsid}if [ $osds_per_device -gt 1 ]; then ceph-volume lvm batch --prepare ${osd_type} ${dmcrypt_options} --osds-per-device ${osds_per_device} ${data} ${journal_opts} --yes else ceph-volume lvm prepare ${osd_type} ${cluster_option}${dmcrypt_options} ${fsid_option} --data ${data} ${journal_opts} ficeph-volume lvm list ${data} | grep 'osd fsid'|awk -F 'osd fsid' '{print \$2}'|tr -d ' ' > /tmp/myfsid ceph-volume lvm list ${data} | grep 'osd id'|awk -F 'osd id' '{print \$2}'|tr -d ' ' > /tmp/myosdid paste /tmp/myosdid /tmp/myfsid > /tmp/myline cat /tmp/myline | while read myline;do ceph-volume lvm activate \$myline doneceph-volume lvm list ${data} | grep 'osd id'|awk -F 'osd id' '{print \$2}'|tr -d ' ' > /tmp/myosdid cat /tmp/myosdid | while read myosdid;do ps -fCceph-osd|grep \""\\--id \$myosdid \"";doneceph-volume lvm list ${data} | grep 'osd id'|awk -F 'osd id' '{print \$2}'|tr -d ' ' > /tmp/myosdid cat /tmp/myosdid | while read id;dofi;done","test ${fsid} = $(ceph-volume lvm list ${data} |grep 'cluster fsid' | awk -F'fsid' '{print \$2}'|tr -d ' ')ceph-volume lvm prepare ${osd_type} ${cluster_option}${dmcrypt_options} ${fsid_option} --data ${data} ${journal_opts}id=$(ceph-volume lvm list ${data} | grep 'osd id'|awk -F 'osd id' '{print \$2}'|tr -d ' ') fsid=$(ceph-volume lvm list ${data} | grep 'osd fsid'|awk -F 'osd fsid' '{print \$2}'|tr -d ' ') ceph-volume lvm activate \$id \$fsidid=$(ceph-volume lvm list ${data} | grep 'osd id'|awk -F 'osd id' '{print \$2}'|tr -d ' ') ps -fCceph-osd|grep \""\\--id \$id \""id=$(ceph-volume lvm list ${data} | grep 'osd id'|awk -F 'osd id' '{print \$2}'|tr -d ' ')fi",20,9
openstack%2Fironic-python-agent-builder~master~I5a121329188ebcdb002ba229156cf529da2bd17e,openstack/ironic-python-agent-builder,master,I5a121329188ebcdb002ba229156cf529da2bd17e,setup.cfg: Replace dashes with underscores,MERGED,2021-05-08 01:14:34.000000000,2021-05-10 09:12:55.000000000,2021-05-10 09:11:50.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-08 01:14:34.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/9032aad2d30784a0f3a93dcee36e6f2de03aad29', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5a121329188ebcdb002ba229156cf529da2bd17e\n""}]",0,790313,9032aad2d30784a0f3a93dcee36e6f2de03aad29,8,3,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5a121329188ebcdb002ba229156cf529da2bd17e
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/13/790313/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9032aad2d30784a0f3a93dcee36e6f2de03aad29,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ironic-python-agent-builder/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ironic-python-agent-builder/latest/,3,3
openstack%2Freleases~master~I1f0303eceb9de95de443f999a43d048f31e5f0ce,openstack/releases,master,I1f0303eceb9de95de443f999a43d048f31e5f0ce,"Neutron stable releases (Train, Ussuri, Victoria)",MERGED,2021-05-07 13:03:12.000000000,2021-05-10 09:12:47.000000000,2021-05-10 09:12:47.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-07 13:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/eedfe6e781e7833c10dff24fb8423c8340e198a1', 'message': 'Neutron stable releases (Train, Ussuri, Victoria)\n\nTo go along with Wallaby official release, this is also the last train\ntag before EM transition\n\nChange-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce\n'}, {'number': 2, 'created': '2021-05-07 14:03:53.000000000', 'files': ['deliverables/train/neutron.yaml', 'deliverables/victoria/neutron.yaml', 'deliverables/train/networking-ovn.yaml', 'deliverables/ussuri/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7f5b7457828782481a88987aa042d151df4b3a90', 'message': 'Neutron stable releases (Train, Ussuri, Victoria)\n\nTo go along with Wallaby official release\n\nThis is also the last train tag before EM transition for neutron and\nnetworking-ovn (no need for newer tags in other stadium projects)\n\nChange-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce\n'}]",0,790238,7f5b7457828782481a88987aa042d151df4b3a90,15,6,2,21798,,,0,"Neutron stable releases (Train, Ussuri, Victoria)

To go along with Wallaby official release

This is also the last train tag before EM transition for neutron and
networking-ovn (no need for newer tags in other stadium projects)

Change-Id: I1f0303eceb9de95de443f999a43d048f31e5f0ce
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/790238/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/neutron.yaml', 'deliverables/victoria/neutron.yaml', 'deliverables/ussuri/neutron.yaml']",3,eedfe6e781e7833c10dff24fb8423c8340e198a1,, - version: 16.3.2 projects: - repo: openstack/neutron hash: 95343978756ebebcb1d841ac75cda77216a16835,,12,0
openstack%2Fkolla-ansible~master~I3a3ccde5b9ef2afb4c3e9206f13827687880cb57,openstack/kolla-ansible,master,I3a3ccde5b9ef2afb4c3e9206f13827687880cb57,ovn: make DVR work on VLAN tenant networks,MERGED,2021-03-16 16:10:30.000000000,2021-05-10 09:10:59.000000000,2021-05-07 10:26:23.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-16 16:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/31df9c63eac955fcd6eab35b07b55329ad664f87', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1].\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n'}, {'number': 2, 'created': '2021-03-16 16:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1b9c36dff84b39ec198219a667d4b5d107dc1e53', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1].\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n'}, {'number': 3, 'created': '2021-03-22 13:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73a46f35032423a8d6f49ac87772ccede7a7f0c6', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1]\non computes [1].\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n'}, {'number': 4, 'created': '2021-03-22 13:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6a199b3053955854d8dac692abcd3a40e42fd21e', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1]\non computes [1].\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/782250\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n'}, {'number': 5, 'created': '2021-04-27 11:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f6ceb72d310bf05e568f8e21c794e3bd04343e0e', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1]\non computes [1].\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/782250\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n'}, {'number': 6, 'created': '2021-04-27 12:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/354ee28d851273a96f40f37d074951b8d2613953', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1]\non computes [1].\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/782250\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n'}, {'number': 7, 'created': '2021-05-06 09:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d6029d2d33f99b216afb6565d400c599fba93cd1', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1]\non computes [1].\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/782250\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n'}, {'number': 8, 'created': '2021-05-06 10:17:59.000000000', 'files': ['releasenotes/notes/ovn_dvr_vlan-f36a6868cfd4776e.yaml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aff99355d25242003f699480325bc4c31ee60d6e', 'message': 'ovn: make DVR work on VLAN tenant networks\n\nIn order for DVR to work on VLAN tenant networks we need to configure\nexternal_ids:ovn-chassis-mac-mappings with per node generated MAC [1]\non computes [1].\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/782250\nChange-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57\n'}]",9,780919,aff99355d25242003f699480325bc4c31ee60d6e,35,6,8,22629,,,0,"ovn: make DVR work on VLAN tenant networks

In order for DVR to work on VLAN tenant networks we need to configure
external_ids:ovn-chassis-mac-mappings with per node generated MAC [1]
on computes [1].

[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57

Co-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>

Depends-On: https://review.opendev.org/c/openstack/neutron/+/782250
Change-Id: I3a3ccde5b9ef2afb4c3e9206f13827687880cb57
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/19/780919/8 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovn_dvr_vlan-f36a6868cfd4776e.yaml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/ovn/tasks/bootstrap.yml']",3,31df9c63eac955fcd6eab35b07b55329ad664f87,ovn_chassis_gw_check," ovn_macs: ""{% for bridge in neutron_bridge_name.split(',') %}physnet{{ loop.index0 + 1 }}:{{ ovn_base_mac | random_mac(seed=inventory_hostname) }}{% if not loop.last %},{% endif %}{% endfor %}"" - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", when: ""{{ inventory_hostname in groups['ovn-controller-network'] or computes_need_external_bridge | bool }}"" }",,9,0
openstack%2Fironic-python-agent-builder~master~Id3dc4eaad9b698241ad70a69f93b8463bc15de0d,openstack/ironic-python-agent-builder,master,Id3dc4eaad9b698241ad70a69f93b8463bc15de0d,Fix build error on aarch64,MERGED,2021-04-28 02:30:10.000000000,2021-05-10 09:05:20.000000000,2021-05-07 16:32:03.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-28 02:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/b1d4c2002f79bef642f36cdafb588ab5dead3891', 'message': 'Fix build error on aarch64\n\nFix ""error: invalid command \'bdist_wheel\'"" when building on aarch64.\n\nFor aarch64 platform it might need to build wheels for the install\npython packages, as not all the python packages provide aarch64\nplatform wheels in PyPi. So install wheel package for building wheels.\n\nTask: #41701\nStory: #2008562\nChange-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d\n'}, {'number': 2, 'created': '2021-04-29 03:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/6c3dfbdc8e4dc75a2ee3017773bdb4e3a5bb533a', 'message': 'Fix build error on aarch64\n\nFix ""error: invalid command \'bdist_wheel\'"" when building on aarch64.\n\nFor aarch64 platform it might need to build wheels for the install\npython packages, as not all the python packages provide aarch64\nplatform wheels in PyPi. So install wheel package for building wheels.\n\nTask: #41701\nStory: #2008562\nChange-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d\n'}, {'number': 3, 'created': '2021-04-29 09:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/5416439799da07a04001880447c03711bb417bb7', 'message': 'Fix build error on aarch64\n\nFix ""error: invalid command \'bdist_wheel\'"" when building on aarch64.\n\nFor aarch64 platform it might need to build wheels for the install\npython packages, as not all the python packages provide aarch64\nplatform wheels in PyPi. So install wheel package for building wheels.\n\nTask: #41701\nStory: #2008562\nChange-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d\n'}, {'number': 4, 'created': '2021-05-04 10:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/ae5f630af057892c7b4dbad9d57b015af7e09439', 'message': 'Fix build error on aarch64\n\nFix ""error: invalid command \'bdist_wheel\'"" when building on aarch64.\n\nFor aarch64 platform it might need to build wheels for the install\npython packages, as not all the python packages provide aarch64\nplatform wheels in PyPi. So install wheel package for building wheels.\n\nTask: #41701\nStory: #2008562\nChange-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d\n'}, {'number': 5, 'created': '2021-05-06 01:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/9d099c2c6d409cda7b37becb050ac9df5f26591b', 'message': 'Fix build error on aarch64\n\nFix ""error: invalid command \'bdist_wheel\'"" when building on aarch64.\n\nFor aarch64 platform it might need to build wheels for the install\npython packages, as not all the python packages provide aarch64\nplatform wheels in PyPi. So install wheel package for building wheels.\n\nTask: #41701\nStory: #2008562\nChange-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d\n'}, {'number': 6, 'created': '2021-05-06 11:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/bb543aa03f5b290166efe5b8640e1d61045bc74a', 'message': 'Fix build error on aarch64\n\nFix ""error: invalid command \'bdist_wheel\'"" when building on aarch64.\n\nFor aarch64 platform, it seems it always tries to build wheels first for\npython packages which have no wheels in PyPi. Although it will install\nthe source packages successfully at last.\n\nTask: #41701\nStory: #2008562\nChange-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d\n'}, {'number': 7, 'created': '2021-05-07 00:52:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/a881228f3ed776e9ad20b12d262782121e1c5102', 'message': 'Fix build error on aarch64\n\nFix ""error: invalid command \'bdist_wheel\'"" when building on aarch64.\n\nFor aarch64 platform, it seems it always tries to build wheels first for\npython packages which have no wheels in PyPi. Although it will install\nthe source packages successfully at last.\n\nTask: #41701\nStory: #2008562\nChange-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d\n'}, {'number': 8, 'created': '2021-05-07 01:24:24.000000000', 'files': ['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/6c74417da132d73b129cc58f83da694171df2832', 'message': 'Fix build error on aarch64\n\nFix ""error: invalid command \'bdist_wheel\'"" when building on aarch64.\n\nFor aarch64 platform, it seems it always tries to build wheels first for\npython packages which have no wheels in PyPi. Although it will install\nthe source packages successfully at last.\n\nTask: #41701\nStory: #2008562\nChange-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d\n'}]",13,788388,6c74417da132d73b129cc58f83da694171df2832,44,4,8,22997,,,0,"Fix build error on aarch64

Fix ""error: invalid command 'bdist_wheel'"" when building on aarch64.

For aarch64 platform, it seems it always tries to build wheels first for
python packages which have no wheels in PyPi. Although it will install
the source packages successfully at last.

Task: #41701
Story: #2008562
Change-Id: Id3dc4eaad9b698241ad70a69f93b8463bc15de0d
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/88/788388/6 && git format-patch -1 --stdout FETCH_HEAD,['dib/ironic-python-agent-ramdisk/install.d/ironic-python-agent-ramdisk-source-install/60-ironic-python-agent-ramdisk-install'],1,b1d4c2002f79bef642f36cdafb588ab5dead3891,story/2008562,"# Install wheel in case it needs to build wheels. E.g. for aarch64 platform # it might need to build wheels for the install python packages, as not all # the python packages provide aarch64 platform wheels in PyPi. $VENVDIR/bin/pip install wheel ",,5,0
openstack%2Freleases~master~I312bf5904de392acb3febcca6ab640a7b7b7a7e9,openstack/releases,master,I312bf5904de392acb3febcca6ab640a7b7b7a7e9,Release tripleo-common stable/wallaby,MERGED,2021-05-10 06:42:10.000000000,2021-05-10 08:06:57.000000000,2021-05-10 08:06:57.000000000,"[{'_account_id': 13861}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-10 06:42:10.000000000', 'files': ['deliverables/wallaby/tripleo-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2ccb2fe2415fba974582be7eddfcb99027bed31c', 'message': 'Release tripleo-common stable/wallaby\n\nThis makes a feature release for stable/wallaby tripleo-common\nWe need this to unblock tripleo stable/wallaby gate [1]\n\n[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/790130/3#message-c7a3d77de65070a4bd959eb9c7d07e82b93012f5\n\nChange-Id: I312bf5904de392acb3febcca6ab640a7b7b7a7e9\n'}]",1,790373,2ccb2fe2415fba974582be7eddfcb99027bed31c,10,4,1,8449,,,0,"Release tripleo-common stable/wallaby

This makes a feature release for stable/wallaby tripleo-common
We need this to unblock tripleo stable/wallaby gate [1]

[1] https://review.opendev.org/c/openstack/python-tripleoclient/+/790130/3#message-c7a3d77de65070a4bd959eb9c7d07e82b93012f5

Change-Id: I312bf5904de392acb3febcca6ab640a7b7b7a7e9
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/790373/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/tripleo-common.yaml'],1,2ccb2fe2415fba974582be7eddfcb99027bed31c,, - version: 15.2.0 projects: - repo: openstack/tripleo-common hash: 8ed7631a3fadad56618578558da2c9ca60c49733,,4,0
openstack%2Fswift~master~Idda300769a61974c3b778f59fb4e0b0b505985b3,openstack/swift,master,Idda300769a61974c3b778f59fb4e0b0b505985b3,metrics: Add some obj PUT metrics to the obj server,NEW,2021-05-10 05:26:59.000000000,2021-05-10 06:43:33.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-10 05:26:59.000000000', 'files': ['swift/obj/server.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/9b2a5c1fe47cd995cb0fb2c9b6322371cbbcc64c', 'message': 'metrics: Add some obj PUT metrics to the obj server\n\nThis patch adds the following metrics:\n\n  PUT.new - incremented for new objects\n  PUT.replaced - incremented when an object replaces an existing object.\n  PIT.replaced_deleted - incremented when an object replaces a deleted obj\n\nThe idea is this may give an idea of types of workflows used in a\ncluster. And with it may help decide tunings and/or future directions of\nthings. Like mostly PUT.replaced might mean a delta replication might be\na big win etc._deleted - incremented when an object is put over a\ndeleted obj.\n\nThe idea is this may give an idea of types of workflows used in the\ncluster. And with it may help decide tunings and/or future directions of\nthings. Like mostly PUT.replaced might mean a delta replication might be\na big win etc.\n\nChange-Id: Idda300769a61974c3b778f59fb4e0b0b505985b3\n'}]",0,790371,9b2a5c1fe47cd995cb0fb2c9b6322371cbbcc64c,3,2,1,7233,,,0,"metrics: Add some obj PUT metrics to the obj server

This patch adds the following metrics:

  PUT.new - incremented for new objects
  PUT.replaced - incremented when an object replaces an existing object.
  PIT.replaced_deleted - incremented when an object replaces a deleted obj

The idea is this may give an idea of types of workflows used in a
cluster. And with it may help decide tunings and/or future directions of
things. Like mostly PUT.replaced might mean a delta replication might be
a big win etc._deleted - incremented when an object is put over a
deleted obj.

The idea is this may give an idea of types of workflows used in the
cluster. And with it may help decide tunings and/or future directions of
things. Like mostly PUT.replaced might mean a delta replication might be
a big win etc.

Change-Id: Idda300769a61974c3b778f59fb4e0b0b505985b3
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/790371/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/server.py'],1,9b2a5c1fe47cd995cb0fb2c9b6322371cbbcc64c,extra_obj_put_metrics," is_deleted = False is_deleted = True return disk_file, fsize, orig_metadata, is_deleted disk_file, fsize, orig_metadata, was_deleted = self._pre_create_checks( if orig_metadata: self.logger.increment(""PUT.replaced"") elif was_deleted: self.logger.increment(""PUT.replaced_deleted"") else: self.logger.increment(""PUT.new"")"," return disk_file, fsize, orig_metadata disk_file, fsize, orig_metadata = self._pre_create_checks(",10,2
openstack%2Fceilometer~master~I02970561ffb71161d107db8ae4b9fabe8f9ad06d,openstack/ceilometer,master,I02970561ffb71161d107db8ae4b9fabe8f9ad06d,Use TOX_CONSTRAINTS_FILE,ABANDONED,2021-03-15 10:04:34.000000000,2021-05-10 06:17:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-15 10:04:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/3a9c99ae3308df9bc4707021f360ee70b5434511', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\nThis allows to use lower-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>\n\nChange-Id: I02970561ffb71161d107db8ae4b9fabe8f9ad06d\n'}]",0,780525,3a9c99ae3308df9bc4707021f360ee70b5434511,7,1,1,32029,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file
This allows to use lower-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>

Change-Id: I02970561ffb71161d107db8ae4b9fabe8f9ad06d
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/25/780525/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3a9c99ae3308df9bc4707021f360ee70b5434511,tox, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Ftripleo-common~master~I167b88e217e8ea63af3eae367e2292d836e3e826,openstack/tripleo-common,master,I167b88e217e8ea63af3eae367e2292d836e3e826,Use TOX_CONSTRAINTS_FILE,ABANDONED,2020-11-03 08:42:02.000000000,2021-05-10 06:16:35.000000000,,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-11-03 08:42:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d1644be3cba3517bfa9d2d9f5dc4b84cbe74ca87', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\n-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file\n\nChange-Id: I167b88e217e8ea63af3eae367e2292d836e3e826\n'}]",0,761085,d1644be3cba3517bfa9d2d9f5dc4b84cbe74ca87,6,4,1,32029,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

-https://zuul-ci.org/docs/zuul-jobs/python-roles.html#rolevar-tox.tox_constraints_file

Change-Id: I167b88e217e8ea63af3eae367e2292d836e3e826
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/85/761085/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d1644be3cba3517bfa9d2d9f5dc4b84cbe74ca87,tox, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fvalidations-common~master~I3a768d6d6aae142e2bdf2514c88188a5ffb64992,openstack/validations-common,master,I3a768d6d6aae142e2bdf2514c88188a5ffb64992,Zuul runs tests in py36 only,ABANDONED,2021-04-08 09:36:18.000000000,2021-05-10 05:58:34.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-08 09:36:18.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/a2627e2c1efca527a8e424b7245c8c35ebc9e562', 'message': 'Zuul runs tests in py36 only\n\nPython 3.6 is the oldest version of python\nsupported by the package, and newer, supported,\nminor versions do not break any substantial functionality\nby design, while introducing new features.\n\nTherefore we do not need to run unit tests for\neach minor version. As all possible issues affecting\nversions >3.6 would necessarily be related to features\nintroduced in versions >3.6.\n\nVictoria Zuul test template was removed from .zuul.yaml.\nThe pep8 test environment was folded into linters in tox.ini.\nZuul is now explicitly running tests only in one, oldest supported,\npython environment, Python 3.6.\n\nPEP387: https://www.python.org/dev/peps/pep-0387/\nhttps://docs.python.org/3/whatsnew/3.7.html#porting-to-python-37\nhttps://docs.python.org/3/whatsnew/3.8.html#porting-to-python-3-8\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I3a768d6d6aae142e2bdf2514c88188a5ffb64992\n'}]",0,785355,a2627e2c1efca527a8e424b7245c8c35ebc9e562,6,6,1,32926,,,0,"Zuul runs tests in py36 only

Python 3.6 is the oldest version of python
supported by the package, and newer, supported,
minor versions do not break any substantial functionality
by design, while introducing new features.

Therefore we do not need to run unit tests for
each minor version. As all possible issues affecting
versions >3.6 would necessarily be related to features
introduced in versions >3.6.

Victoria Zuul test template was removed from .zuul.yaml.
The pep8 test environment was folded into linters in tox.ini.
Zuul is now explicitly running tests only in one, oldest supported,
python environment, Python 3.6.

PEP387: https://www.python.org/dev/peps/pep-0387/
https://docs.python.org/3/whatsnew/3.7.html#porting-to-python-37
https://docs.python.org/3/whatsnew/3.8.html#porting-to-python-3-8

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I3a768d6d6aae142e2bdf2514c88188a5ffb64992
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/55/785355/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,a2627e2c1efca527a8e424b7245c8c35ebc9e562,zuul/optimization, {[testenv:pep8]commands},,3,1
openstack%2Fswift~master~I41b86c19c243220b7f1c01c6ecee52835de972b6,openstack/swift,master,I41b86c19c243220b7f1c01c6ecee52835de972b6,Consider tombstone count before shrinking a shard,MERGED,2021-03-24 17:51:02.000000000,2021-05-10 05:50:53.000000000,2021-05-10 05:49:18.000000000,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-24 17:51:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/cf50542967fefcc042201f0c99e324c81fbc1e53', 'message': 'WIP: Enhance reclaim to estimate remaining tombstones\n\nDrive-by: the batched reclaim would previously take batches of size\nRECLAIM_PAGE_SIZE + 1 from the database: fixed this to be\nRECLAIM_PAGE_SIZE.\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n'}, {'number': 2, 'created': '2021-03-25 20:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/da21d2858e4bbc67bbb78e439a17d494e0cff592', 'message': 'WIP: Enhance reclaim to estimate remaining tombstones\n\nDrive-by: the batched reclaim would previously take batches of size\nRECLAIM_PAGE_SIZE + 1 from the database: fixed this to be\nRECLAIM_PAGE_SIZE.\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n'}, {'number': 3, 'created': '2021-04-07 19:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8bda5c3f6efcdd803284c0d65261129921dc9ae3', 'message': 'WIP: Enhance reclaim to estimate remaining tombstones\n\nTODO:\n- unit test ShardRange changes\n- unit test backend changes (merging shard ranges)\n- fix probe tests\n- docstrings\n\nDrive-by: the batched reclaim would previously take batches of size\nRECLAIM_PAGE_SIZE + 1 from the database: fixed this to be\nRECLAIM_PAGE_SIZE.\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n'}, {'number': 4, 'created': '2021-04-08 18:01:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a5b6c5faec0d30134b4e2fb92017de5f8fa35f40', 'message': 'WIP: Enhance reclaim to estimate remaining tombstones\n\nTODO:\n- docstrings\n- test broker get/merge shard range retries\n- relocate TestTombstoneReclainer to test_db.py?\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n'}, {'number': 5, 'created': '2021-04-09 15:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/00e6bbdf28030b50a011e4e49ca9eb867858f05f', 'message': ""Consider tombstone count before shrinking a shard\n\nPreviously a shard might be shrunk if its object_count was fell below\nthe shrink_threshold. However, it is possible that a shard with few\nobjects has a large number of tombstones, which would result in a\nlarger than anticipated replication of rows to the acceptor shard.\n\nWith this patch, a shard's row count (i.e. the sum of tombstones and\nobjects) must be below the shrink_threshold before the shard will be\nconsidered for shrinking.\n\nA number of changes are made to enable tombstone count to be used in\nshrinking decisions:\n\n - DatabaseBroker reclaim is enhanced to count remaining tombstones\n   after rows have been reclaimed. A new TombstoneReclaimer class is\n   added to encapsulate the reclaim process and tombstone count.\n - ShardRange has new 'tombstones' and 'row_count' attributes.\n - A 'tombstones' column is added to the Containerbroker shard_range\n   table.\n - The sharder performs a reclaim prior to reporting shard container\n   stats to the root container so that the tombstone count can be\n   included.\n - The sharder uses 'row_count' rather than 'object_count' when\n   evaluating if a shard range is a shrink candidate.\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n""}, {'number': 6, 'created': '2021-04-09 15:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/548dd9f266a49f377808328d03823159a267818b', 'message': ""Consider tombstone count before shrinking a shard\n\nPreviously a shard might be shrunk if its object_count was fell below\nthe shrink_threshold. However, it is possible that a shard with few\nobjects has a large number of tombstones, which would result in a\nlarger than anticipated replication of rows to the acceptor shard.\n\nWith this patch, a shard's row count (i.e. the sum of tombstones and\nobjects) must be below the shrink_threshold before the shard will be\nconsidered for shrinking.\n\nA number of changes are made to enable tombstone count to be used in\nshrinking decisions:\n\n - DatabaseBroker reclaim is enhanced to count remaining tombstones\n   after rows have been reclaimed. A new TombstoneReclaimer class is\n   added to encapsulate the reclaim process and tombstone count.\n - ShardRange has new 'tombstones' and 'row_count' attributes.\n - A 'tombstones' column is added to the Containerbroker shard_range\n   table.\n - The sharder performs a reclaim prior to reporting shard container\n   stats to the root container so that the tombstone count can be\n   included.\n - The sharder uses 'row_count' rather than 'object_count' when\n   evaluating if a shard range is a shrink candidate.\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n""}, {'number': 7, 'created': '2021-04-12 08:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fd2e7aa8db5f9f81e90481d87231283451b20704', 'message': ""Consider tombstone count before shrinking a shard\n\nPreviously a shard might be shrunk if its object_count was fell below\nthe shrink_threshold. However, it is possible that a shard with few\nobjects has a large number of tombstones, which would result in a\nlarger than anticipated replication of rows to the acceptor shard.\n\nWith this patch, a shard's row count (i.e. the sum of tombstones and\nobjects) must be below the shrink_threshold before the shard will be\nconsidered for shrinking.\n\nA number of changes are made to enable tombstone count to be used in\nshrinking decisions:\n\n - DatabaseBroker reclaim is enhanced to count remaining tombstones\n   after rows have been reclaimed. A new TombstoneReclaimer class is\n   added to encapsulate the reclaim process and tombstone count.\n - ShardRange has new 'tombstones' and 'row_count' attributes.\n - A 'tombstones' column is added to the Containerbroker shard_range\n   table.\n - The sharder performs a reclaim prior to reporting shard container\n   stats to the root container so that the tombstone count can be\n   included.\n - The sharder uses 'row_count' rather than 'object_count' when\n   evaluating if a shard range is a shrink candidate.\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n""}, {'number': 8, 'created': '2021-04-19 10:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6e7ea3fe136118cdcaebb021363d3bb53689b4bc', 'message': ""Consider tombstone count before shrinking a shard\n\nPreviously a shard might be shrunk if its object_count was fell below\nthe shrink_threshold. However, it is possible that a shard with few\nobjects has a large number of tombstones, which would result in a\nlarger than anticipated replication of rows to the acceptor shard.\n\nWith this patch, a shard's row count (i.e. the sum of tombstones and\nobjects) must be below the shrink_threshold before the shard will be\nconsidered for shrinking.\n\nA number of changes are made to enable tombstone count to be used in\nshrinking decisions:\n\n - DatabaseBroker reclaim is enhanced to count remaining tombstones\n   after rows have been reclaimed. A new TombstoneReclaimer class is\n   added to encapsulate the reclaim process and tombstone count.\n - ShardRange has new 'tombstones' and 'row_count' attributes.\n - A 'tombstones' column is added to the Containerbroker shard_range\n   table.\n - The sharder performs a reclaim prior to reporting shard container\n   stats to the root container so that the tombstone count can be\n   included.\n - The sharder uses 'row_count' rather than 'object_count' when\n   evaluating if a shard range is a shrink candidate.\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n""}, {'number': 9, 'created': '2021-04-29 09:29:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1e28dfcfc9aa85e2e62a8eed5cf68b65d69ab215', 'message': ""Consider tombstone count before shrinking a shard\n\nPreviously a shard might be shrunk if its object_count was fell below\nthe shrink_threshold. However, it is possible that a shard with few\nobjects has a large number of tombstones, which would result in a\nlarger than anticipated replication of rows to the acceptor shard.\n\nWith this patch, a shard's row count (i.e. the sum of tombstones and\nobjects) must be below the shrink_threshold before the shard will be\nconsidered for shrinking.\n\nA number of changes are made to enable tombstone count to be used in\nshrinking decisions:\n\n - DatabaseBroker reclaim is enhanced to count remaining tombstones\n   after rows have been reclaimed. A new TombstoneReclaimer class is\n   added to encapsulate the reclaim process and tombstone count.\n - ShardRange has new 'tombstones' and 'row_count' attributes.\n - A 'tombstones' column is added to the Containerbroker shard_range\n   table.\n - The sharder performs a reclaim prior to reporting shard container\n   stats to the root container so that the tombstone count can be\n   included.\n - The sharder uses 'row_count' rather than 'object_count' when\n   evaluating if a shard range is a shrink candidate.\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n""}, {'number': 10, 'created': '2021-05-07 14:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b678c2abd7b40b392e49c4ff4125b66956151210', 'message': ""Consider tombstone count before shrinking a shard\n\nPreviously a shard might be shrunk if its object_count was fell below\nthe shrink_threshold. However, it is possible that a shard with few\nobjects has a large number of tombstones, which would result in a\nlarger than anticipated replication of rows to the acceptor shard.\n\nWith this patch, a shard's row count (i.e. the sum of tombstones and\nobjects) must be below the shrink_threshold before the shard will be\nconsidered for shrinking.\n\nA number of changes are made to enable tombstone count to be used in\nshrinking decisions:\n\n - DatabaseBroker reclaim is enhanced to count remaining tombstones\n   after rows have been reclaimed. A new TombstoneReclaimer class is\n   added to encapsulate the reclaim process and tombstone count.\n - ShardRange has new 'tombstones' and 'row_count' attributes.\n - A 'tombstones' column is added to the Containerbroker shard_range\n   table.\n - The sharder performs a reclaim prior to reporting shard container\n   stats to the root container so that the tombstone count can be\n   included.\n - The sharder uses 'row_count' rather than 'object_count' when\n   evaluating if a shard range is a shrink candidate.\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n""}, {'number': 11, 'created': '2021-05-07 17:41:29.000000000', 'files': ['test/unit/container/test_sharder.py', 'test/probe/test_sharder.py', 'test/unit/common/test_db.py', 'test/unit/container/test_backend.py', 'test/unit/account/test_backend.py', 'swift/common/db.py', 'swift/common/utils.py', 'swift/cli/manage_shard_ranges.py', 'swift/common/db_replicator.py', 'test/unit/cli/test_manage_shard_ranges.py', 'swift/container/sharder.py', 'swift/container/backend.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bcecddd517229c9671a2494c9efed257c0833525', 'message': ""Consider tombstone count before shrinking a shard\n\nPreviously a shard might be shrunk if its object_count was fell below\nthe shrink_threshold. However, it is possible that a shard with few\nobjects has a large number of tombstones, which would result in a\nlarger than anticipated replication of rows to the acceptor shard.\n\nWith this patch, a shard's row count (i.e. the sum of tombstones and\nobjects) must be below the shrink_threshold before the shard will be\nconsidered for shrinking.\n\nA number of changes are made to enable tombstone count to be used in\nshrinking decisions:\n\n - DatabaseBroker reclaim is enhanced to count remaining tombstones\n   after rows have been reclaimed. A new TombstoneReclaimer class is\n   added to encapsulate the reclaim process and tombstone count.\n - ShardRange has new 'tombstones' and 'row_count' attributes.\n - A 'tombstones' column is added to the Containerbroker shard_range\n   table.\n - The sharder performs a reclaim prior to reporting shard container\n   stats to the root container so that the tombstone count can be\n   included.\n - The sharder uses 'row_count' rather than 'object_count' when\n   evaluating if a shard range is a shrink candidate.\n\nChange-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6\n""}]",40,782832,bcecddd517229c9671a2494c9efed257c0833525,41,3,11,7847,,,0,"Consider tombstone count before shrinking a shard

Previously a shard might be shrunk if its object_count was fell below
the shrink_threshold. However, it is possible that a shard with few
objects has a large number of tombstones, which would result in a
larger than anticipated replication of rows to the acceptor shard.

With this patch, a shard's row count (i.e. the sum of tombstones and
objects) must be below the shrink_threshold before the shard will be
considered for shrinking.

A number of changes are made to enable tombstone count to be used in
shrinking decisions:

 - DatabaseBroker reclaim is enhanced to count remaining tombstones
   after rows have been reclaimed. A new TombstoneReclaimer class is
   added to encapsulate the reclaim process and tombstone count.
 - ShardRange has new 'tombstones' and 'row_count' attributes.
 - A 'tombstones' column is added to the Containerbroker shard_range
   table.
 - The sharder performs a reclaim prior to reporting shard container
   stats to the root container so that the tombstone count can be
   included.
 - The sharder uses 'row_count' rather than 'object_count' when
   evaluating if a shard range is a shrink candidate.

Change-Id: I41b86c19c243220b7f1c01c6ecee52835de972b6
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/782832/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/db.py', 'test/unit/container/test_backend.py']",2,cf50542967fefcc042201f0c99e324c81fbc1e53,p-shard-shrinking-use-tombstones,"from swift.common.db import DatabaseAlreadyExists, GreenDBConnection, \ TombstoneReclaimer class TracingReclaimer(TombstoneReclaimer): def _reclaim(self, conn): trace.append( (self.age_timestamp, self.marker, count_reclaimable(conn, self.age_timestamp))) return super(TracingReclaimer, self)._reclaim(conn) with mock.patch( 'swift.common.db.TombstoneReclaimer', TracingReclaimer), \ mock.patch('swift.common.db.RECLAIM_PAGE_SIZE', 11): class TestTombstoneReclaimer(unittest.TestCase): def setUp(self): self.policy_indexes = list(p.idx for p in POLICIES) def _make_object(self, broker, obj_name, ts, deleted): pidx = random.choice(self.policy_indexes) if deleted: broker.delete_object(obj_name, ts.internal, pidx) else: broker.put_object(obj_name, ts.internal, 0, 'text/plain', 'etag', storage_policy_index=pidx) def _count_reclaimable(self, broker, reclaim_age): with broker.get() as conn: return conn.execute( ""SELECT count(*) FROM object "" ""WHERE deleted = 1 AND created_at < ?"", (reclaim_age,) ).fetchone()[0] def _setup_active_reclaimable(self): broker = ContainerBroker(':memory:', account='test_account', container='test_container') broker.initialize(Timestamp('1').internal, 0) now = time() top_of_the_minute = now - (now % 60) # namespace: # a-* has 70 'active' tombstones followed by 70 reclaimable # b-* has 70 'active' tombstones followed by 70 reclaimable for i in range(0, 560, 4): self._make_object(broker, 'a_%3d' % i, Timestamp(top_of_the_minute - (i * 60)), True) self._make_object(broker, 'a_%3d' % (i + 1), Timestamp(top_of_the_minute - ((i + 1) * 60)), False) self._make_object(broker, 'b_%3d' % i, Timestamp(top_of_the_minute - ((i + 2) * 60)), True) self._make_object(broker, 'b_%3d' % (i + 1), Timestamp(top_of_the_minute - ((i + 3) * 60)), False) # divide the set of timestamps exactly in half for reclaim reclaim_age = top_of_the_minute + 1 - (560 / 2 * 60) self.assertEqual(140, self._count_reclaimable(broker, reclaim_age)) tombstones = self._count_reclaimable(broker, top_of_the_minute + 1) self.assertEqual(280, tombstones) return broker, top_of_the_minute, reclaim_age def _setup_reclaimable_active(self): broker = ContainerBroker(':memory:', account='test_account', container='test_container') broker.initialize(Timestamp('1').internal, 0) now = time() top_of_the_minute = now - (now % 60) # namespace: # a-* has 70 reclaimable followed by 70 'active' tombstones # b-* has 70 reclaimable followed by 70 'active' tombstones for i in range(0, 560, 4): self._make_object(broker, 'a_%3d' % (560 - i), Timestamp(top_of_the_minute - (i * 60)), True) self._make_object(broker, 'a_%3d' % (559 - i), Timestamp(top_of_the_minute - ((i + 1) * 60)), False) self._make_object(broker, 'b_%3d' % (560 - i), Timestamp(top_of_the_minute - ((i + 2) * 60)), True) self._make_object(broker, 'b_%3d' % (559 - i), Timestamp(top_of_the_minute - ((i + 3) * 60)), False) # divide the set of timestamps exactly in half for reclaim reclaim_age = top_of_the_minute + 1 - (560 / 2 * 60) self.assertEqual(140, self._count_reclaimable(broker, reclaim_age)) tombstones = self._count_reclaimable(broker, top_of_the_minute + 1) self.assertEqual(280, tombstones) return broker, top_of_the_minute, reclaim_age def test_reclaim_tombstone_stats(self): broker, totm, reclaim_age = self._setup_active_reclaimable() with mock.patch('swift.common.db.RECLAIM_PAGE_SIZE', 122): reclaimer = TombstoneReclaimer(broker, reclaim_age) reclaimer.reclaim() self.assertEqual(0, self._count_reclaimable(broker, reclaim_age)) tombstones = self._count_reclaimable(broker, totm + 1) self.assertEqual(140, tombstones) # in this scenario definite == actual tombstone count (140) self.assertEqual(140, reclaimer.definite_tombstones) self.assertEqual(86, reclaimer.possible_tombstones) # threshold above definite+possible, no need to improve estimate estimate = reclaimer.refine_tombstone_estimate(227) self.assertEqual(226, estimate) # threshold less than definite: no point making estimate of # definite+possible more accurate since it cannot be less than # threshold estimate = reclaimer.refine_tombstone_estimate(139) self.assertEqual(226, estimate) # threshold between actual and definite+possible: estimate will get to # below threshold # definite + possible iterates through: # 140 + 86 # 140 + 43 # 140 + 22 = 162 which is < 166 so accept as estimate estimate = reclaimer.refine_tombstone_estimate(166) self.assertEqual(162, estimate) # threshold == actual: in this case estimate will get as close to # definite as possible estimate = reclaimer.refine_tombstone_estimate(140) self.assertEqual(141, estimate) def test_reclaim_tombstone_stats_with_leftover(self): broker, totm, reclaim_age = self._setup_reclaimable_active() with mock.patch('swift.common.db.RECLAIM_PAGE_SIZE', 122): reclaimer = TombstoneReclaimer(broker, reclaim_age) reclaimer.reclaim() self.assertEqual(0, self._count_reclaimable(broker, reclaim_age)) tombstones = self._count_reclaimable(broker, totm + 1) self.assertEqual(140, tombstones) # in this scenario definite (104) < actual tombstone count (140) self.assertEqual(104, reclaimer.definite_tombstones) self.assertEqual(122, reclaimer.possible_tombstones) # threshold above definite+possible, no need to improve estimate estimate = reclaimer.refine_tombstone_estimate(227) self.assertEqual(226, estimate) # threshold less than definite: no point making estimate of # definite+possible more accurate since it cannot be less than # threshold estimate = reclaimer.refine_tombstone_estimate(103) self.assertEqual(226, estimate) # threshold between actual and definite+possible: estimate will get to # below threshold # definite + possible iterates through: # 104 + 122 # 104 + 61 which is < 166 so accept as estimate estimate = reclaimer.refine_tombstone_estimate(166) self.assertEqual(165, estimate) # threshold == actual: in this case estimate will get as close to # definite as possible estimate = reclaimer.refine_tombstone_estimate(140) self.assertEqual(141, estimate) def test_reclaim_tombstone_stats_limited_batches(self): broker, totm, reclaim_age = self._setup_reclaimable_active() with mock.patch('swift.common.db.RECLAIM_PAGE_SIZE', 122): reclaimer = TombstoneReclaimer(broker, reclaim_age) reclaimer.reclaim() # in this scenario definite (104) < actual tombstone count (140) self.assertEqual(104, reclaimer.definite_tombstones) self.assertEqual(122, reclaimer.possible_tombstones) # definite + possible iterates through: # 104 + 122 # 104 + 61 # 135 + 31 # 135 + 16 ... no more batches so return this estimate with mock.patch('swift.common.db.MAX_TOMBSTONE_ESTIMATION_BATCHES', 3): estimate = reclaimer.refine_tombstone_estimate(140) self.assertEqual(151, estimate)","from swift.common.db import DatabaseAlreadyExists, GreenDBConnection orig__reclaim = broker._reclaim def tracing_reclaim(conn, age_timestamp, marker): trace.append((age_timestamp, marker, count_reclaimable(conn, age_timestamp))) return orig__reclaim(conn, age_timestamp, marker) with mock.patch.object(broker, '_reclaim', new=tracing_reclaim), \ mock.patch('swift.common.db.RECLAIM_PAGE_SIZE', 10):",271,42
openstack%2Ftripleo-quickstart-extras~master~Ia3f839a3c5e4e4b59898c11561fe7ef7126bba5f,openstack/tripleo-quickstart-extras,master,Ia3f839a3c5e4e4b59898c11561fe7ef7126bba5f,Update to Cirros 0.5.2 ahead of switching to the q35 machine type,MERGED,2021-04-09 08:48:12.000000000,2021-05-10 05:44:56.000000000,2021-04-27 19:50:54.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-04-09 08:48:12.000000000', 'files': ['roles/validate-simple/defaults/main.yml', 'playbooks/tasks/tempest.yml', 'roles/validate-tempest/defaults/main.yml', 'roles/nodepool-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d9a1e8c3d62304c269ef2c2a2b03d47b23c43747', 'message': 'Update to Cirros 0.5.2 ahead of switching to the q35 machine type\n\nBefore switching the default machine type of instances to q35 in\ntripleo-heat-templates via I9f60a73577ae7cd712e2a8285abc0c0788906112 we\nfirst need to ensure that Cirros is updated to 0.5.2 that includes the\nahci module [1][2].\n\nAs set out in I12e0bdb3699e5343592ab834468ba6b2fcdcaaf4 for devstack and\nIad1adbc23b31dd54a96299e7a8a4b622c15eed8d for Nova this is required to\nallow Cirros based instances to see the now SATA based config drive\ncdroms attached to them during a Tempest run.\n\n[1] https://github.com/cirros-dev/cirros/releases/tag/0.5.2\n[2] https://github.com/cirros-dev/cirros/pull/65\n\nChange-Id: Ia3f839a3c5e4e4b59898c11561fe7ef7126bba5f\n'}]",0,785575,d9a1e8c3d62304c269ef2c2a2b03d47b23c43747,12,7,1,10135,,,0,"Update to Cirros 0.5.2 ahead of switching to the q35 machine type

Before switching the default machine type of instances to q35 in
tripleo-heat-templates via I9f60a73577ae7cd712e2a8285abc0c0788906112 we
first need to ensure that Cirros is updated to 0.5.2 that includes the
ahci module [1][2].

As set out in I12e0bdb3699e5343592ab834468ba6b2fcdcaaf4 for devstack and
Iad1adbc23b31dd54a96299e7a8a4b622c15eed8d for Nova this is required to
allow Cirros based instances to see the now SATA based config drive
cdroms attached to them during a Tempest run.

[1] https://github.com/cirros-dev/cirros/releases/tag/0.5.2
[2] https://github.com/cirros-dev/cirros/pull/65

Change-Id: Ia3f839a3c5e4e4b59898c11561fe7ef7126bba5f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/75/785575/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-simple/defaults/main.yml', 'playbooks/tasks/tempest.yml', 'roles/validate-tempest/defaults/main.yml', 'roles/nodepool-setup/defaults/main.yml']",4,d9a1e8c3d62304c269ef2c2a2b03d47b23c43747,NovaHWMachineType_q35,nodepool_cirros_url: http://download.cirros-cloud.net/0.5.2/cirros-0.5.2-x86_64-disk.img nodepool_cirros_dest: /opt/cache/files/cirros-0.5.2-x86_64-disk.img nodepool_cirros_checksum: md5:b874c39491a2377b8490f5f1e89761a4,nodepool_cirros_url: http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img nodepool_cirros_dest: /opt/cache/files/cirros-0.4.0-x86_64-disk.img nodepool_cirros_checksum: md5:443b7623e27ecf03dc9e01ee93f67afe,10,10
openstack%2Fdiskimage-builder~master~Iafd18bce5910693f82db9339178330a0ae72cd30,openstack/diskimage-builder,master,Iafd18bce5910693f82db9339178330a0ae72cd30,Search for block-device-${ARCH}.yaml before default,ABANDONED,2021-05-03 03:36:36.000000000,2021-05-10 04:45:58.000000000,,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 03:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9bbef59acfaf96b9164b4e43114b62706fec151e', 'message': 'Search for block-device-${ARCH}.yaml before default\n\nWhen determining which block device yaml file to load, search order is\nnon-deterministic, and searching stops as soon as one\nblock-device-${ARCH}.yaml or block-device-default.yaml is found.\n\nThis causes a problem for element overcloud-partition-uefi[1] which\ndepends on element block-device-efi. Sometimes block-device-efi is\nsearched first, so the wrong block-device-default.yaml is used.\n\nThis change gives precedence to finding a block-device-${ARCH}.yaml\nfirst, so that overcloud-partition-uefi can ensure its block-device\nfile is used by renaming its block-device-default.yaml to\nblock-device-amd64.yaml.\n\n[1] https://opendev.org/openstack/tripleo-image-elements/src/branch/master/elements/overcloud-partition-uefi\nBlueprint: whole-disk-default\n\nChange-Id: Iafd18bce5910693f82db9339178330a0ae72cd30\n'}, {'number': 2, 'created': '2021-05-09 22:00:19.000000000', 'files': ['diskimage_builder/lib/common-functions'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ffbbb3cd336373d10e16dfab71603e306abc0257', 'message': 'Search for block-device-${ARCH}.yaml before default\n\nWhen determining which block device yaml file to load, search order is\nnon-deterministic, and searching stops as soon as one\nblock-device-${ARCH}.yaml or block-device-default.yaml is found.\n\nThis causes a problem for element overcloud-partition-uefi[1] which\ndepends on element block-device-efi. Sometimes block-device-efi is\nsearched first, so the wrong block-device-default.yaml is used.\n\nThis change gives precedence to finding a block-device-${ARCH}.yaml\nfirst, so that overcloud-partition-uefi can ensure its block-device\nfile is used by renaming its block-device-default.yaml to\nblock-device-amd64.yaml.\n\n[1] https://opendev.org/openstack/tripleo-image-elements/src/branch/master/elements/overcloud-partition-uefi\nBlueprint: whole-disk-default\n\nChange-Id: Iafd18bce5910693f82db9339178330a0ae72cd30\n'}]",0,789127,ffbbb3cd336373d10e16dfab71603e306abc0257,11,3,2,4571,,,0,"Search for block-device-${ARCH}.yaml before default

When determining which block device yaml file to load, search order is
non-deterministic, and searching stops as soon as one
block-device-${ARCH}.yaml or block-device-default.yaml is found.

This causes a problem for element overcloud-partition-uefi[1] which
depends on element block-device-efi. Sometimes block-device-efi is
searched first, so the wrong block-device-default.yaml is used.

This change gives precedence to finding a block-device-${ARCH}.yaml
first, so that overcloud-partition-uefi can ensure its block-device
file is used by renaming its block-device-default.yaml to
block-device-amd64.yaml.

[1] https://opendev.org/openstack/tripleo-image-elements/src/branch/master/elements/overcloud-partition-uefi
Blueprint: whole-disk-default

Change-Id: Iafd18bce5910693f82db9339178330a0ae72cd30
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/27/789127/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/lib/common-functions'],1,9bbef59acfaf96b9164b4e43114b62706fec151e,bp/whole-disk-default," fi done echo ""Searching elements for block-device-default.yaml ..."" for i in ${!image_elements[@]}; do local cfg cfg=${image_elements[$i]}/block-device-default.yaml if [ -e ${cfg} ]; then cp ${cfg} ${config_yaml} echo ""Using block-device config: ${cfg}"" $xtrace return"," # XXX: first match wins? else cfg=${image_elements[$i]}/block-device-default.yaml if [ -e ${cfg} ]; then cp ${cfg} ${config_yaml} echo ""Using block-device config: ${cfg}"" $xtrace return fi",11,9
openstack%2Fvenus-dashboard~master~I601b2c9165efbf42dd6d8988712c34e5d42dd179,openstack/venus-dashboard,master,I601b2c9165efbf42dd6d8988712c34e5d42dd179,add .gitignore file,MERGED,2021-05-10 03:14:09.000000000,2021-05-10 03:15:35.000000000,2021-05-10 03:15:35.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-05-10 03:14:09.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/venus-dashboard/commit/cd6a5069c1c298a28c4484ac2297f9499106d845', 'message': 'add .gitignore file\n\nChange-Id: I601b2c9165efbf42dd6d8988712c34e5d42dd179\n'}]",0,790367,cd6a5069c1c298a28c4484ac2297f9499106d845,6,2,1,30455,,,0,"add .gitignore file

Change-Id: I601b2c9165efbf42dd6d8988712c34e5d42dd179
",git fetch https://review.opendev.org/openstack/venus-dashboard refs/changes/67/790367/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,cd6a5069c1c298a28c4484ac2297f9499106d845,,*.py[cod] # C extensions *.so #IntelJ Idea .idea/ # Translations *.mo ,,12,0
openstack%2Fvenus-tempest-plugin~master~I169035f6d7365dfb6f5a2fb28eab437f761779d5,openstack/venus-tempest-plugin,master,I169035f6d7365dfb6f5a2fb28eab437f761779d5,change descibe of the project,MERGED,2021-05-10 02:31:02.000000000,2021-05-10 02:34:20.000000000,2021-05-10 02:34:20.000000000,"[{'_account_id': 22348}, {'_account_id': 30455}]","[{'number': 1, 'created': '2021-05-10 02:31:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/venus-tempest-plugin/commit/35b842de23578d9d246530fb66091d2d052a9ee5', 'message': 'change descibe of the project\n\nChange-Id: I169035f6d7365dfb6f5a2fb28eab437f761779d5\n'}]",0,790366,35b842de23578d9d246530fb66091d2d052a9ee5,6,2,1,30455,,,0,"change descibe of the project

Change-Id: I169035f6d7365dfb6f5a2fb28eab437f761779d5
",git fetch https://review.opendev.org/openstack/venus-tempest-plugin refs/changes/66/790366/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,35b842de23578d9d246530fb66091d2d052a9ee5,,summary = OpenStack Log Management Service Tempest Plugin,summary = OpenStack Acceleration Tempest Plugin,1,1
openstack%2Fdiskimage-builder~master~I4e821aa2ce7feb8841ef31da56de1a31aa9218b5,openstack/diskimage-builder,master,I4e821aa2ce7feb8841ef31da56de1a31aa9218b5,Add containerfile element,MERGED,2019-12-19 23:01:15.000000000,2021-05-10 01:52:38.000000000,2021-05-10 01:50:40.000000000,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-12-19 23:01:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fe0021ada6c9803d7776d722d370b8b1d48cd2c5', 'message': 'Add containerfile element\n\nThis is a base element which uses a containerfile (Dockerfile) to\nbuild a container image, then the filesystem is extracted from that\nimage and forms the root of the dib image.\n\nYou can add as little or as much to the dockerfile as desired.\n\nChange-Id: I4e821aa2ce7feb8841ef31da56de1a31aa9218b5\n'}, {'number': 2, 'created': '2020-01-07 23:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cb890aba5b9647a51f77402379108e2ba44343c0', 'message': 'Add containerfile element\n\nThis is a base element which uses a containerfile (Dockerfile) to\nbuild a container image, then the filesystem is extracted from that\nimage and forms the root of the dib image.\n\nYou can add as little or as much to the dockerfile as desired.\n\nChange-Id: I4e821aa2ce7feb8841ef31da56de1a31aa9218b5\n'}, {'number': 3, 'created': '2020-03-18 20:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/20b2d7b1fda4e874e32b365d7f82c406d1f50ed5', 'message': 'Add containerfile element\n\nThis is a base element which uses a containerfile (Dockerfile) to\nbuild a container image, then the filesystem is extracted from that\nimage and forms the root of the dib image.\n\nYou can add as little or as much to the dockerfile as desired.\n\nChange-Id: I4e821aa2ce7feb8841ef31da56de1a31aa9218b5\n'}, {'number': 4, 'created': '2020-03-18 22:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/129c5af46be8da1f33ef0b868964d959c4d99fd2', 'message': 'Add containerfile element\n\nThis is a base element which uses a containerfile (Dockerfile) to\nbuild a container image, then the filesystem is extracted from that\nimage and forms the root of the dib image.\n\nYou can add as little or as much to the dockerfile as desired.\n\nChange-Id: I4e821aa2ce7feb8841ef31da56de1a31aa9218b5\n'}, {'number': 5, 'created': '2020-03-19 16:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a79a43455c4bdfb427082b6955d681c61903a89b', 'message': 'Add containerfile element\n\nThis is a base element which uses a containerfile (Dockerfile) to\nbuild a container image, then the filesystem is extracted from that\nimage and forms the root of the dib image.\n\nYou can add as little or as much to the dockerfile as desired.\n\nChange-Id: I4e821aa2ce7feb8841ef31da56de1a31aa9218b5\n'}, {'number': 6, 'created': '2020-10-08 02:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/250394b452237fa2ad10f02d0bb51bfc11d63fc2', 'message': 'Add containerfile element\n\nThis is a base element which uses a containerfile (Dockerfile) to\nbuild a container image, then the filesystem is extracted from that\nimage and forms the root of the dib image.\n\nYou can add as little or as much to the dockerfile as desired.\n\nChange-Id: I4e821aa2ce7feb8841ef31da56de1a31aa9218b5\n'}, {'number': 7, 'created': '2020-10-08 02:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/04aaed6ae21b0670d9f8f19539e4665d7f145f7b', 'message': 'Add containerfile element\n\nThis is a base element which uses a containerfile (Dockerfile) to\nbuild a container image, then the filesystem is extracted from that\nimage and forms the root of the dib image.\n\nYou can add as little or as much to the dockerfile as desired.\n\nChange-Id: I4e821aa2ce7feb8841ef31da56de1a31aa9218b5\n'}, {'number': 8, 'created': '2021-05-07 03:59:14.000000000', 'files': ['diskimage_builder/elements/containerfile/root.d/08-containerfile', 'diskimage_builder/elements/containerfile/test-elements/focal-build-succeeds/element-deps', 'diskimage_builder/elements/containerfile/test-elements/focal-build-succeeds/environment.d/10-set-file.bash', 'playbooks/dib-functests/run.yaml', 'diskimage_builder/elements/containerfile/element-provides', 'diskimage_builder/elements/containerfile/test-elements/focal-build-succeeds/README.rst', 'diskimage_builder/elements/containerfile/test-elements/focal-build-succeeds/environment.d/10-set-distro.bash', 'diskimage_builder/elements/containerfile/test-elements/focal-build-succeeds/test-output-formats', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/containerfile/README.rst', 'diskimage_builder/elements/containerfile/test-elements/focal-build-succeeds/files/Dockerfile'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/edff63218619c1d466ebbfbc14fde1774c44ddfc', 'message': 'Add containerfile element\n\nThis is a base element which uses a containerfile (Dockerfile) to\nbuild a container image, then the filesystem is extracted from that\nimage and forms the root of the dib image.\n\nYou can add as little or as much to the dockerfile as desired.\n\nChange-Id: I4e821aa2ce7feb8841ef31da56de1a31aa9218b5\n'}]",10,700083,edff63218619c1d466ebbfbc14fde1774c44ddfc,62,5,8,1,,,0,"Add containerfile element

This is a base element which uses a containerfile (Dockerfile) to
build a container image, then the filesystem is extracted from that
image and forms the root of the dib image.

You can add as little or as much to the dockerfile as desired.

Change-Id: I4e821aa2ce7feb8841ef31da56de1a31aa9218b5
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/83/700083/8 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/containerfile/root.d/08-containerfile', 'diskimage_builder/elements/containerfile/test-elements/bionic-build-succeeds/files/Dockerfile', 'diskimage_builder/elements/containerfile/element-provides', 'diskimage_builder/elements/containerfile/test-elements/bionic-build-succeeds/element-deps', 'diskimage_builder/elements/containerfile/test-elements/bionic-build-succeeds/environment.d/10-set-file.bash', 'diskimage_builder/elements/containerfile/README.rst', 'diskimage_builder/elements/containerfile/test-elements/bionic-build-succeeds/README.rst', 'diskimage_builder/elements/containerfile/test-elements/bionic-build-succeeds/test-output-formats']",8,fe0021ada6c9803d7776d722d370b8b1d48cd2c5,change-722148-22,tar ,,61,0
openstack%2Fdiskimage-builder~master~Id81ab9d668fce46349d1abd4fb19cf51a9c1ee17,openstack/diskimage-builder,master,Id81ab9d668fce46349d1abd4fb19cf51a9c1ee17,Install epel-release from URL,MERGED,2021-01-27 11:14:48.000000000,2021-05-10 01:29:52.000000000,2021-05-10 01:28:32.000000000,"[{'_account_id': 7118}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-01-27 11:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6e7b6d3ae734fbc3d74bcc5a7094bf3e24c0711d', 'message': 'Install epel-release for RHEL from URL\n\nThe epel-release is not available for RHEL 7, so the\npackage python3-PyYAML was not installed.\n\nChange-Id: Id81ab9d668fce46349d1abd4fb19cf51a9c1ee17\n'}, {'number': 2, 'created': '2021-01-27 11:33:53.000000000', 'files': ['diskimage_builder/elements/yum/pre-install.d/01-00-centos-python3'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5da3ec0f06e05d2c0244e00c09d7d61157d71396', 'message': 'Install epel-release from URL\n\nThe epel-release is not available for RHEL 7, so the\npackage python3-PyYAML was not installed.\n\nChange-Id: Id81ab9d668fce46349d1abd4fb19cf51a9c1ee17\n'}]",0,772652,5da3ec0f06e05d2c0244e00c09d7d61157d71396,17,4,2,20676,,,0,"Install epel-release from URL

The epel-release is not available for RHEL 7, so the
package python3-PyYAML was not installed.

Change-Id: Id81ab9d668fce46349d1abd4fb19cf51a9c1ee17
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/52/772652/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/yum/pre-install.d/01-00-centos-python3'],1,6e7b6d3ae734fbc3d74bcc5a7094bf3e24c0711d,, yum install -y python3 # NOTE(dpawlik) The epel-release package is not available in RHEL. yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm, yum install -y python3 epel-release,3,1
openstack%2Fnova~master~I02b2b851a74f24816d2f782a66d94de81ee527b0,openstack/nova,master,I02b2b851a74f24816d2f782a66d94de81ee527b0,zuul: Replace grenade and nova-grenade-multinode with grenade-multinode,MERGED,2021-03-05 11:35:58.000000000,2021-05-10 00:09:09.000000000,2021-04-29 15:58:26.000000000,"[{'_account_id': 4393}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-03-05 11:35:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/309760a4904843405238458cb7e930d2462c3442', 'message': 'WIP zuul: Replace nova-grenade-multinode with grenade-multinode\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n'}, {'number': 2, 'created': '2021-03-05 12:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a784b416eedc98bb2c4fe373c151fd476f2ffbae', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job.\n\nHowever it was missed that the Nova project also listed a grenade job in\nit's own check and gate queues so it continued to be used.\n\nThis change replaces nova-grenade-multinode job with the zuulv3 native\ngrenade-multinode in Nova while also removing the single node grenade\njob entirely. This both avoids duplication between the grenade jobs\nwhile also moving the remaining job to zuulv3.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n""}, {'number': 3, 'created': '2021-03-08 14:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cec6311294bd7259794da4a9afcfc0088c60cf18', 'message': ""WIP zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job.\n\nHowever it was missed that the Nova project also listed a grenade job in\nit's own check and gate queues so it continued to be used.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n""}, {'number': 4, 'created': '2021-03-10 10:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b3cf19743b5beb08fb524eca214a1f64184bf21', 'message': ""WIP zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job.\n\nHowever it was missed that the Nova project also listed a grenade job in\nit's own check and gate queues so it continued to be used.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n""}, {'number': 5, 'created': '2021-03-10 13:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/574528f7f2f949b08ab62ec76c6aa2360a99704b', 'message': ""WIP zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job.\n\nHowever it was missed that the Nova project also listed a grenade job in\nit's own check and gate queues so it continued to be used.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n""}, {'number': 6, 'created': '2021-03-12 10:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a896d93c34f18bd3145060c4f1a82ff1e4ec679e', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job.\n\nHowever it was missed that the Nova project also listed a grenade job in\nit's own check and gate queues so it continued to be used.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n""}, {'number': 7, 'created': '2021-03-19 16:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df0f983767659f81e7439b7ea9a173703e8eb622', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job.\n\nHowever it was missed that the Nova project also listed a grenade job in\nit's own check and gate queues so it continued to be used.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n""}, {'number': 8, 'created': '2021-04-06 09:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/123addd9855d987c076673e60556b0ba569b0443', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n""}, {'number': 9, 'created': '2021-04-09 09:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49e74002fd020ece1d343ea84ffca54aa6d7100b', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n""}, {'number': 10, 'created': '2021-04-22 15:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c5a39fa50e3c4d204666fcbe7d694f83cc5b08bc', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n""}, {'number': 11, 'created': '2021-04-29 10:08:06.000000000', 'files': ['playbooks/legacy/nova-live-migration/run.yaml', 'gate/live_migration/hooks/nfs.sh', 'gate/live_migration/hooks/utils.sh', 'playbooks/legacy/nova-grenade-multinode/run.yaml', 'playbooks/legacy/nova-grenade-multinode/post.yaml', 'gate/live_migration/hooks/ceph.sh', '.zuul.yaml', 'playbooks/legacy/nova-live-migration/post.yaml', 'gate/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/91e53e4c2b90ea57aeac4ec522dd7c8c54961d09', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n""}]",4,778885,91e53e4c2b90ea57aeac4ec522dd7c8c54961d09,86,6,11,10135,,,0,"zuul: Replace grenade and nova-grenade-multinode with grenade-multinode

If2608406776e0d5a06b726e65b55881e70562d18 dropped the single node
grenade job from the integrated-gate-compute template as it duplicates
the existing grenade-multinode job. However it doesn't remove the
remianing single node grenade job still present in the Nova project.

This change replaces the dsvm based nova-grenade-multinode job with the
zuulv3 native grenade-multinode based job.

Various legacy playbooks and hook scripts are also removed as they are
no longer used. Note that this does result in a loss of coverage for
ceph that should be replaced as soon as a zuulv3 native ceph based
multinode job is available.

Change-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/85/778885/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/nova-live-migration/run.yaml', 'gate/live_migration/hooks/nfs.sh', 'gate/live_migration/hooks/utils.sh', 'playbooks/legacy/nova-grenade-multinode/run.yaml', 'playbooks/legacy/nova-grenade-multinode/post.yaml', 'gate/live_migration/hooks/ceph.sh', '.zuul.yaml', 'playbooks/legacy/nova-live-migration/post.yaml', 'gate/live_migration/hooks/run_tests.sh']",9,309760a4904843405238458cb7e930d2462c3442,native-zuulv3-migration,,"#!/bin/bash # Live migration dedicated ci job will be responsible for testing different # environments based on underlying storage, used for ephemerals. # This hook allows to inject logic of environment reconfiguration in ci job. # Base scenario for this would be: # # 1. test with all local storage (use default for volumes) # 2. test with NFS for root + ephemeral disks # 3. test with Ceph for root + ephemeral disks # 4. test with Ceph for volumes and root + ephemeral disk set -xe cd $BASE/new/tempest source $BASE/new/devstack/functions source $BASE/new/devstack/functions-common source $BASE/new/devstack/lib/nova source $WORKSPACE/devstack-gate/functions.sh source $BASE/new/nova/gate/live_migration/hooks/utils.sh source $BASE/new/nova/gate/live_migration/hooks/nfs.sh source $BASE/new/nova/gate/live_migration/hooks/ceph.sh primary_node=$(cat /etc/nodepool/primary_node_private) SUBNODES=$(cat /etc/nodepool/sub_nodes_private) SERVICE_HOST=$primary_node STACK_USER=${STACK_USER:-stack} echo '1. test with all local storage (use default for volumes)' echo 'NOTE: test_volume_backed_live_migration is skipped due to https://bugs.launchpad.net/nova/+bug/1524898' echo 'NOTE: test_live_block_migration_paused is skipped due to https://bugs.launchpad.net/nova/+bug/1901739' run_tempest ""block migration test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration|test_live_block_migration_paused))"" # TODO(mriedem): Run $BASE/new/nova/gate/test_evacuate.sh for local storage #all tests bellow this line use shared storage, need to update tempest.conf echo 'disabling block_migration in tempest' $ANSIBLE primary --become -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migration_for_live_migration value=False"" echo '2. NFS testing is skipped due to setup failures with Ubuntu 16.04' #echo '2. test with NFS for root + ephemeral disks' #nfs_setup #nfs_configure_tempest #nfs_verify_setup #run_tempest ""NFS shared storage test"" ""live_migration"" #nfs_teardown # The nova-grenade-multinode job also runs resize and cold migration tests # so we check for a grenade-only variable. if [[ -n ""$GRENADE_NEW_BRANCH"" ]]; then echo '3. test cold migration and resize' run_tempest ""cold migration and resize test"" ""test_resize_server|test_cold_migration|test_revert_cold_migration"" else echo '3. cold migration and resize is skipped for non-grenade jobs' fi echo '4. test with Ceph for root + ephemeral disks' # Discover and set variables for the OS version so the devstack-plugin-ceph # scripts can find the correct repository to install the ceph packages. GetOSVersion USE_PYTHON3=${USE_PYTHON3:-True} prepare_ceph GLANCE_API_CONF=${GLANCE_API_CONF:-/etc/glance/glance-api.conf} configure_and_start_glance configure_and_start_nova run_tempest ""Ceph nova&glance test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration))"" set +e #echo '5. test with Ceph for volumes and root + ephemeral disk' #configure_and_start_cinder #run_tempest ""Ceph nova&glance&cinder test"" ""live_migration"" ",1,516
openstack%2Fneutron~master~Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1,openstack/neutron,master,Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1,Add enable_dhcp filter in get_network_info rpc,MERGED,2016-03-07 06:22:29.000000000,2021-05-08 22:04:13.000000000,2021-05-08 22:01:59.000000000,"[{'_account_id': 3}, {'_account_id': 105}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1561}, {'_account_id': 1653}, {'_account_id': 5170}, {'_account_id': 5948}, {'_account_id': 6524}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 6951}, {'_account_id': 7249}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8124}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 9681}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10184}, {'_account_id': 10980}, {'_account_id': 11975}, {'_account_id': 14208}, {'_account_id': 14212}, {'_account_id': 14323}, {'_account_id': 14571}, {'_account_id': 15309}, {'_account_id': 15752}, {'_account_id': 16688}, {'_account_id': 17523}, {'_account_id': 20066}, {'_account_id': 22348}, {'_account_id': 32667}]","[{'number': 1, 'created': '2016-03-07 06:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4165a11cb26b1c2a34ca0e588d97a7f6878a251', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enabe_dhcp to make a more critical filter avoid needless\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 2, 'created': '2016-03-07 16:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/70457572fee7ac746f5b79ab15f2ba91d7200204', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enabe_dhcp to make a more critical filter avoid needless\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 3, 'created': '2016-03-09 15:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bf75caf416723fd7cbcfba8674956ccab5a0549', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enabe_dhcp to make a more critical filter avoid needless\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 4, 'created': '2016-03-11 01:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77fe629d04a6005f2158560a9bd883048c9d2656', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enabe_dhcp to make a more critical filter avoid needless\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 5, 'created': '2016-03-25 14:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb910cb6ec5dcd15b87d9d46500ad67d4270b400', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enabe_dhcp to make a more critical filter avoid needless\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 6, 'created': '2021-04-08 15:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a40cd0242a4f4a7cc1691c741298f284c9d7e2a', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enable_dhcp, to make a filter to avoid unnecessary\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 7, 'created': '2021-04-09 09:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/077663373ace4782869a651e1aded89d795e5ed3', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enable_dhcp, to make a filter to avoid unnecessary\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 8, 'created': '2021-04-09 11:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/840e3bc6f185166312db824ed9d2ea67825f0b3c', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enable_dhcp, to make a filter to avoid unnecessary\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 9, 'created': '2021-04-10 16:53:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16b5349c5b7f812e1e5da887e78d279691ec1e3d', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enable_dhcp, to make a filter to avoid unnecessary\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 10, 'created': '2021-04-14 11:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe8cf073355e3ed2f897d1f059000121ce95e072', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enable_dhcp, to make a filter to avoid unnecessary\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 11, 'created': '2021-04-14 13:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/748207e16e3ba32888a38ab2f7537b240e6f71fa', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enable_dhcp, to make a filter to avoid unnecessary\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}, {'number': 12, 'created': '2021-04-15 14:36:34.000000000', 'files': ['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/agent/dhcp/agent.py', 'neutron/tests/unit/api/rpc/handlers/test_dhcp_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1483b63ffaf933903abf7317b03a99195a71c98a', 'message': 'Add enable_dhcp filter in get_network_info rpc\n\nAdd enable_dhcp, to make a filter to avoid unnecessary\nnet_info data transfer through rpc.\n\nChange-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1\nCloses-Bug: #1552614\n'}]",19,289165,1483b63ffaf933903abf7317b03a99195a71c98a,230,36,12,17523,,,0,"Add enable_dhcp filter in get_network_info rpc

Add enable_dhcp, to make a filter to avoid unnecessary
net_info data transfer through rpc.

Change-Id: Ibcef366f5b1f4b7da4f47f1f538a17111da0faa1
Closes-Bug: #1552614
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/289165/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/api/rpc/handlers/dhcp_rpc.py', 'neutron/agent/linux/dhcp.py']",2,c4165a11cb26b1c2a34ca0e588d97a7f6878a251,bug/1552614, dhcp_enabled_subnet_ids = [s.id for s in self.network.subnets], # if a subnet is specified to have dhcp disabled if not subnet.enable_dhcp: continue dhcp_enabled_subnet_ids = [s.id for s in self.network.subnets if s.enable_dhcp],2,6
openstack%2Fopenstack-ansible~stable%2Fussuri~I8157c744a58a8ade56776e8cb29956a8abed081c,openstack/openstack-ansible,stable/ussuri,I8157c744a58a8ade56776e8cb29956a8abed081c,Add custom user-agent for git clones from opendev.org,MERGED,2021-05-04 09:18:55.000000000,2021-05-08 19:14:41.000000000,2021-05-08 19:13:19.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-04 09:18:55.000000000', 'files': ['scripts/log-collect.sh', 'scripts/get-ansible-role-requirements.yml', 'tests/roles/bootstrap-host/tasks/main.yml', 'scripts/bootstrap-ansible.sh', 'tests/roles/bootstrap-host/tasks/prepare_git_useragent.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a59f1793519a7710e78e6bc236b4069861355c81', 'message': 'Add custom user-agent for git clones from opendev.org\n\nThere has been one confirmed denial-of-service against the opendev\ngit servers due to an openstack-ansible deployment failing to\ncorrectly use cached wheels from the repo server and instead clone\nand build the source code for each openstack service on each target\nhost.\n\nWhilst we wait for further information to understand the root cause\nof that DOS, it is possible to adjust the user-agent that git uses\non a per-domain basis.\n\nThis patch sets the user-agent to a string which identifies that\nOSA is responsible for git operations, which version of OSA is\nin use, and if the host is a deploy host or an AIO build.\n\nChange-Id: I8157c744a58a8ade56776e8cb29956a8abed081c\n(cherry picked from commit 672b720b591c8b56d1bb8318a1dd947b128a9dee)\n'}]",0,789537,a59f1793519a7710e78e6bc236b4069861355c81,12,3,1,25023,,,0,"Add custom user-agent for git clones from opendev.org

There has been one confirmed denial-of-service against the opendev
git servers due to an openstack-ansible deployment failing to
correctly use cached wheels from the repo server and instead clone
and build the source code for each openstack service on each target
host.

Whilst we wait for further information to understand the root cause
of that DOS, it is possible to adjust the user-agent that git uses
on a per-domain basis.

This patch sets the user-agent to a string which identifies that
OSA is responsible for git operations, which version of OSA is
in use, and if the host is a deploy host or an AIO build.

Change-Id: I8157c744a58a8ade56776e8cb29956a8abed081c
(cherry picked from commit 672b720b591c8b56d1bb8318a1dd947b128a9dee)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/789537/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/log-collect.sh', 'scripts/get-ansible-role-requirements.yml', 'tests/roles/bootstrap-host/tasks/main.yml', 'scripts/bootstrap-ansible.sh', 'tests/roles/bootstrap-host/tasks/prepare_git_useragent.yml']",5,a59f1793519a7710e78e6bc236b4069861355c81,,"--- # Copyright 2021, BBC R&D # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Find the git version command: cmd: ""git --version"" register: _git_version changed_when: false tags: - skip_ansible_lint - name: Set the git user agent for the AIO git_config: scope: system name: http.https://opendev.org/.userAgent value: ""{{ 'git/' ~ _git_version.stdout.split(' ')[2] ~ ' (osa/' ~ lookup('env', 'OSA_VERSION') ~ '/aio)' }}"" ",,51,1
openstack%2Fmasakari~master~Ia76c436755bec986f3702292c939b3cb6b15e8ed,openstack/masakari,master,Ia76c436755bec986f3702292c939b3cb6b15e8ed,setup.cfg: Replace dashes with underscores,MERGED,2021-04-28 02:50:41.000000000,2021-05-08 18:37:22.000000000,2021-05-08 18:36:05.000000000,"[{'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30623}]","[{'number': 1, 'created': '2021-04-28 02:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/f8daa6329a5345254aaa1226f8fa325c3f2821c9', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: Ia76c436755bec986f3702292c939b3cb6b15e8ed\n""}, {'number': 2, 'created': '2021-04-28 02:55:56.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari/commit/1f35f8e3ee2740208d9db9e83502623ee585e5bd', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia76c436755bec986f3702292c939b3cb6b15e8ed\n""}]",0,788391,1f35f8e3ee2740208d9db9e83502623ee585e5bd,9,4,2,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia76c436755bec986f3702292c939b3cb6b15e8ed
",git fetch https://review.opendev.org/openstack/masakari refs/changes/91/788391/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f8daa6329a5345254aaa1226f8fa325c3f2821c9,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/masakari/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/masakari/latest/,3,3
openstack%2Fpython-masakariclient~master~Ia2b0e0df7e7cda55f05d9fee9db6a11c26f7a3ca,openstack/python-masakariclient,master,Ia2b0e0df7e7cda55f05d9fee9db6a11c26f7a3ca,setup.cfg: Replace dashes with underscores,MERGED,2021-04-28 03:10:36.000000000,2021-05-08 18:34:57.000000000,2021-05-08 18:33:51.000000000,"[{'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30623}]","[{'number': 1, 'created': '2021-04-28 03:10:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-masakariclient/commit/75a4c80f10fed9cbf12788a80e981f68411bbc63', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia2b0e0df7e7cda55f05d9fee9db6a11c26f7a3ca\n""}]",0,788395,75a4c80f10fed9cbf12788a80e981f68411bbc63,8,4,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia2b0e0df7e7cda55f05d9fee9db6a11c26f7a3ca
",git fetch https://review.opendev.org/openstack/python-masakariclient refs/changes/95/788395/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,75a4c80f10fed9cbf12788a80e981f68411bbc63,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://www.openstack.org/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://www.openstack.org/ python-requires = >=3.6,4,4
openstack%2Fmasakari-monitors~master~I66440018ae3e16962639976b00c9f65475d8223e,openstack/masakari-monitors,master,I66440018ae3e16962639976b00c9f65475d8223e,setup.cfg: Replace dashes with underscores,MERGED,2021-04-28 02:55:01.000000000,2021-05-08 18:32:39.000000000,2021-05-08 18:31:29.000000000,"[{'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30623}]","[{'number': 1, 'created': '2021-04-28 02:55:01.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/b558651cd0d50983bc472506f5d530b03cbba0db', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I66440018ae3e16962639976b00c9f65475d8223e\n""}]",0,788392,b558651cd0d50983bc472506f5d530b03cbba0db,10,4,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I66440018ae3e16962639976b00c9f65475d8223e
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/92/788392/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,b558651cd0d50983bc472506f5d530b03cbba0db,,description_file =author_email = openstack-dev@lists.openstack.org home_page = http://www.openstack.org/ python_requires = >=3.6,description-file =author-email = openstack-dev@lists.openstack.org home-page = http://www.openstack.org/ python-requires = >=3.6,4,4
openstack%2Fmasakari-dashboard~master~Iab9ad0d154b3e88eb56237580378dfcbe45b54e9,openstack/masakari-dashboard,master,Iab9ad0d154b3e88eb56237580378dfcbe45b54e9,setup.cfg: Replace dashes with underscores,MERGED,2021-04-28 03:02:44.000000000,2021-05-08 18:30:42.000000000,2021-05-08 18:29:36.000000000,"[{'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30623}]","[{'number': 1, 'created': '2021-04-28 03:02:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari-dashboard/commit/42600382466f881d8d1357efa23aa9a06b491450', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Iab9ad0d154b3e88eb56237580378dfcbe45b54e9\n""}]",0,788393,42600382466f881d8d1357efa23aa9a06b491450,8,4,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Iab9ad0d154b3e88eb56237580378dfcbe45b54e9
",git fetch https://review.opendev.org/openstack/masakari-dashboard refs/changes/93/788393/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,42600382466f881d8d1357efa23aa9a06b491450,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/masakari-dashboardbuild_dir = doc/build source_dir = doc/source warning_is_error = 1,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/masakari-dashboardbuild-dir = doc/build source-dir = doc/source warning-is-error = 1,6,6
openstack%2Fmasakari-specs~master~I1a7054a3fff7a4af9c4f9eb734099483d909ecb8,openstack/masakari-specs,master,I1a7054a3fff7a4af9c4f9eb734099483d909ecb8,setup.cfg: Replace dashes with underscores,MERGED,2021-04-28 03:06:10.000000000,2021-05-08 18:30:03.000000000,2021-05-08 18:28:54.000000000,"[{'_account_id': 7634}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30623}]","[{'number': 1, 'created': '2021-04-28 03:06:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/e084350b67f466923a706722023449c27eb986f4', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1a7054a3fff7a4af9c4f9eb734099483d909ecb8\n""}]",0,788394,e084350b67f466923a706722023449c27eb986f4,8,4,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I1a7054a3fff7a4af9c4f9eb734099483d909ecb8
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/94/788394/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,e084350b67f466923a706722023449c27eb986f4,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://opendev.org/openstack/masakari-specs,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://opendev.org/openstack/masakari-specs,3,3
openstack%2Fmasakari~master~I24f0313f52423e674f9085216727acfb9fe3b4ba,openstack/masakari,master,I24f0313f52423e674f9085216727acfb9fe3b4ba,Ussuri+ is python3 only and update python to python3,MERGED,2021-05-06 02:15:40.000000000,2021-05-08 18:28:52.000000000,2021-05-08 18:27:39.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-06 02:15:40.000000000', 'files': ['masakari/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/b547219c296ed262b945891f35706a2e476310d6', 'message': 'Ussuri+ is python3 only and update python to python3\n\nChange-Id: I24f0313f52423e674f9085216727acfb9fe3b4ba\n'}]",0,789976,b547219c296ed262b945891f35706a2e476310d6,7,2,1,31827,,,0,"Ussuri+ is python3 only and update python to python3

Change-Id: I24f0313f52423e674f9085216727acfb9fe3b4ba
",git fetch https://review.opendev.org/openstack/masakari refs/changes/76/789976/1 && git format-patch -1 --stdout FETCH_HEAD,['masakari/cmd/manage.py'],1,b547219c296ed262b945891f35706a2e476310d6,,#!/usr/bin/env python3,#!/usr/bin/env python,1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I1a6da2e92cc994240f53e8d702f61d941b6a37f7,openstack/python-tripleoclient,stable/wallaby,I1a6da2e92cc994240f53e8d702f61d941b6a37f7,Use environment files when building image params,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 18:27:53.000000000,2021-05-08 18:25:36.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/995b7bc9c4c1ca635e96edc97785230a50a6d1f2', 'message': 'Use environment files when building image params\n\nAlso moves deployed-server-environment.yaml before\nthe user environments as it resets\nOS::TripleO::DeployedServer::ControlPlanePort.\n\nRegression from I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\n\nCloses-Bug: #1926758\nChange-Id: I1a6da2e92cc994240f53e8d702f61d941b6a37f7\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d3c9bcfa36e6055b8b950126a6df9e4c4effb78d', 'message': 'Use environment files when building image params\n\nAlso moves deployed-server-environment.yaml before\nthe user environments as it resets\nOS::TripleO::DeployedServer::ControlPlanePort.\n\nRegression from I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\n\nCloses-Bug: #1926758\nChange-Id: I1a6da2e92cc994240f53e8d702f61d941b6a37f7\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/588eece6b579bc0f0ab989aeaae944bd6a9e6262', 'message': 'Use environment files when building image params\n\nAlso moves deployed-server-environment.yaml before\nthe user environments as it resets\nOS::TripleO::DeployedServer::ControlPlanePort.\n\nRegression from I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\n\nCloses-Bug: #1926758\nChange-Id: I1a6da2e92cc994240f53e8d702f61d941b6a37f7\n'}]",0,790129,588eece6b579bc0f0ab989aeaae944bd6a9e6262,14,5,3,7144,,,0,"Use environment files when building image params

Also moves deployed-server-environment.yaml before
the user environments as it resets
OS::TripleO::DeployedServer::ControlPlanePort.

Regression from I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735

Closes-Bug: #1926758
Change-Id: I1a6da2e92cc994240f53e8d702f61d941b6a37f7
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/29/790129/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,995b7bc9c4c1ca635e96edc97785230a50a6d1f2,unlock-wallaby," if parsed_args.deployed_server: created_env_files.append( os.path.join( new_tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) if parsed_args.environment_files: created_env_files.extend(parsed_args.environment_files) "," if parsed_args.deployed_server: created_env_files.append( os.path.join( new_tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) if parsed_args.environment_files: created_env_files.extend(parsed_args.environment_files) ",11,10
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I32387f19346697655355e15b3cf4ff41bd303b08,openstack/python-tripleoclient,stable/wallaby,I32387f19346697655355e15b3cf4ff41bd303b08,Check if both swift and rgw are enabled during Upgrade Prepare,MERGED,2021-05-04 20:53:52.000000000,2021-05-08 18:26:43.000000000,2021-05-08 18:25:32.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-04 20:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1e605326c11da36efa48e0750686f12561d450c4', 'message': 'Check if both swift and rgw are enabled during Upgrade Prepare\n\nAs per [1] RGW is now deployed by default when the cephadm envs\nare included. However, during the upgrade procedure we should\nwarn users if both services are enabled, failing early during\nthe update or upgrade prepare step and suggesting that the\ncephadm-rbd-only env should be added to make sure Swift is kept\nand RGW is not automatically included in the heat stack.\nThis change introduces this kind of check, and an exception is\nraised if the stack already exists, Ceph is deployed by TripleO\nand swift is found in the previosly created stack.\n\n[1] https://review.opendev.org/786827\n\nChange-Id: I32387f19346697655355e15b3cf4ff41bd303b08\n(cherry picked from commit c78ab588125116fb336f095e4514f354d9b8867c)\n'}, {'number': 2, 'created': '2021-05-05 04:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ea4d6fc79b1069254d76f7386091afeaede50f5d', 'message': 'Check if both swift and rgw are enabled during Upgrade Prepare\n\nAs per [1] RGW is now deployed by default when the cephadm envs\nare included. However, during the upgrade procedure we should\nwarn users if both services are enabled, failing early during\nthe update or upgrade prepare step and suggesting that the\ncephadm-rbd-only env should be added to make sure Swift is kept\nand RGW is not automatically included in the heat stack.\nThis change introduces this kind of check, and an exception is\nraised if the stack already exists, Ceph is deployed by TripleO\nand swift is found in the previosly created stack.\n\n[1] https://review.opendev.org/786827\n\nChange-Id: I32387f19346697655355e15b3cf4ff41bd303b08\n(cherry picked from commit c78ab588125116fb336f095e4514f354d9b8867c)\n'}, {'number': 3, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3ca87c3521d7a5144ac7070599ae224fce7b2cc3', 'message': 'Check if both swift and rgw are enabled during Upgrade Prepare\n\nAs per [1] RGW is now deployed by default when the cephadm envs\nare included. However, during the upgrade procedure we should\nwarn users if both services are enabled, failing early during\nthe update or upgrade prepare step and suggesting that the\ncephadm-rbd-only env should be added to make sure Swift is kept\nand RGW is not automatically included in the heat stack.\nThis change introduces this kind of check, and an exception is\nraised if the stack already exists, Ceph is deployed by TripleO\nand swift is found in the previosly created stack.\n\n[1] https://review.opendev.org/786827\n\nChange-Id: I32387f19346697655355e15b3cf4ff41bd303b08\n'}, {'number': 4, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5724fefb16edf37260af97e33964a6e73f086912', 'message': 'Check if both swift and rgw are enabled during Upgrade Prepare\n\nAs per [1] RGW is now deployed by default when the cephadm envs\nare included. However, during the upgrade procedure we should\nwarn users if both services are enabled, failing early during\nthe update or upgrade prepare step and suggesting that the\ncephadm-rbd-only env should be added to make sure Swift is kept\nand RGW is not automatically included in the heat stack.\nThis change introduces this kind of check, and an exception is\nraised if the stack already exists, Ceph is deployed by TripleO\nand swift is found in the previosly created stack.\n\n[1] https://review.opendev.org/786827\n\nChange-Id: I32387f19346697655355e15b3cf4ff41bd303b08\n'}, {'number': 5, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/93340622b8e931d6d238a611027aa101b55c7df5', 'message': 'Check if both swift and rgw are enabled during Upgrade Prepare\n\nAs per [1] RGW is now deployed by default when the cephadm envs\nare included. However, during the upgrade procedure we should\nwarn users if both services are enabled, failing early during\nthe update or upgrade prepare step and suggesting that the\ncephadm-rbd-only env should be added to make sure Swift is kept\nand RGW is not automatically included in the heat stack.\nThis change introduces this kind of check, and an exception is\nraised if the stack already exists, Ceph is deployed by TripleO\nand swift is found in the previosly created stack.\n\n[1] https://review.opendev.org/786827\n\nChange-Id: I32387f19346697655355e15b3cf4ff41bd303b08\n'}]",0,789630,93340622b8e931d6d238a611027aa101b55c7df5,26,7,5,25402,,,0,"Check if both swift and rgw are enabled during Upgrade Prepare

As per [1] RGW is now deployed by default when the cephadm envs
are included. However, during the upgrade procedure we should
warn users if both services are enabled, failing early during
the update or upgrade prepare step and suggesting that the
cephadm-rbd-only env should be added to make sure Swift is kept
and RGW is not automatically included in the heat stack.
This change introduces this kind of check, and an exception is
raised if the stack already exists, Ceph is deployed by TripleO
and swift is found in the previosly created stack.

[1] https://review.opendev.org/786827

Change-Id: I32387f19346697655355e15b3cf4ff41bd303b08
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/30/789630/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",4,1e605326c11da36efa48e0750686f12561d450c4,," # upgrades: check if swift is deployed utils.check_swift_and_rgw(stack, env, self.__class__.__name__)",,96,9
openstack%2Fproject-config~master~If2a4c4a9b2a426194981f09995fbb2694c496318,openstack/project-config,master,If2a4c4a9b2a426194981f09995fbb2694c496318,Add audit armada app project to StarlingX,MERGED,2021-05-07 14:25:06.000000000,2021-05-08 17:39:34.000000000,2021-05-08 17:17:26.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 26026}, {'_account_id': 28410}]","[{'number': 1, 'created': '2021-05-07 14:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ad1da960b4d97afc21138dd65e39ab4219439281', 'message': 'Add audit armada app project to StarlingX\n\nStory: 2008849\nTask: 42443\n\nSigned-off-by: Carmen Rata <carmen.rata@windriver.com>\nChange-Id: If2a4c4a9b2a426194981f09995fbb2694c496318\n'}, {'number': 2, 'created': '2021-05-07 14:43:39.000000000', 'files': ['gerrit/acls/starlingx/audit-armada-app.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/534af1943b3dd07eb7abfd94cd8152ef0c5b2d57', 'message': 'Add audit armada app project to StarlingX\n\nStory: 2008849\nTask: 42443\n\nSigned-off-by: Carmen Rata <carmen.rata@windriver.com>\nChange-Id: If2a4c4a9b2a426194981f09995fbb2694c496318\n'}]",0,790250,534af1943b3dd07eb7abfd94cd8152ef0c5b2d57,11,6,2,31646,,,0,"Add audit armada app project to StarlingX

Story: 2008849
Task: 42443

Signed-off-by: Carmen Rata <carmen.rata@windriver.com>
Change-Id: If2a4c4a9b2a426194981f09995fbb2694c496318
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/790250/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/starlingx/audit-armada-app.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,ad1da960b4d97afc21138dd65e39ab4219439281,add-audit-armada-app, - starlingx/audit-armada-app,,24,0
openstack%2Fproject-config~master~Ic3585b1d33bf6e789607ba245b3dddb06c497179,openstack/project-config,master,Ic3585b1d33bf6e789607ba245b3dddb06c497179,Modify OpenStackSDK acl,MERGED,2021-05-07 13:39:25.000000000,2021-05-08 17:28:00.000000000,2021-05-08 17:13:34.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 13:39:25.000000000', 'files': ['gerrit/acls/openstack/openstacksdk.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/896c3d30b81fd413118f2b009798960bd56c7431', 'message': 'Modify OpenStackSDK acl\n\nAdd ability for merging between feature and master branch for\nOpenStackSDK\n\nChange-Id: Ic3585b1d33bf6e789607ba245b3dddb06c497179\n'}]",0,790244,896c3d30b81fd413118f2b009798960bd56c7431,7,2,1,27900,,,0,"Modify OpenStackSDK acl

Add ability for merging between feature and master branch for
OpenStackSDK

Change-Id: Ic3585b1d33bf6e789607ba245b3dddb06c497179
",git fetch https://review.opendev.org/openstack/project-config refs/changes/44/790244/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/openstacksdk.config'],1,896c3d30b81fd413118f2b009798960bd56c7431,,"[access ""refs/for/refs/*""] pushMerge = group openstacksdk-core ",,3,0
openstack%2Fproject-config~master~Ia92fcb251f4c37510d343b1a963a6e4f8efb06a4,openstack/project-config,master,Ia92fcb251f4c37510d343b1a963a6e4f8efb06a4,Add skyline project,MERGED,2021-05-03 13:39:49.000000000,2021-05-08 17:24:19.000000000,2021-05-08 17:11:44.000000000,"[{'_account_id': 5263}, {'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}]","[{'number': 1, 'created': '2021-05-03 13:39:49.000000000', 'files': ['gerrit/acls/skyline/skyline.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7df1247e212c47a274ce9c9d856fef1a46304ed2', 'message': 'Add skyline project\n\n99cloud has been proposing the Skyline project, a modern dashboard for\nOpenStack. This has been discussed during the Xena PTG with the Horizon\nteam and it was decided to set it up as a parallel project for now, with\nclose connections to the Horizon team.\n\n99cloud will clean up its current proof-of-concept code, post it under\ntwo repositories (skyline-apiserver and skyline-console), start openly\ncollaborating around it, and in the future propose it to the TC for\nfuture inclusion in OpenStack. In the mean time, those repositories\nwill be set up under the ""skyline"" namespace.\n\nFor more details on Skyline, see:\nhttps://www.youtube.com/watch?v=Ro8tROYKDlE\n\nChange-Id: Ia92fcb251f4c37510d343b1a963a6e4f8efb06a4\n'}]",0,789284,7df1247e212c47a274ce9c9d856fef1a46304ed2,10,4,1,308,,,0,"Add skyline project

99cloud has been proposing the Skyline project, a modern dashboard for
OpenStack. This has been discussed during the Xena PTG with the Horizon
team and it was decided to set it up as a parallel project for now, with
close connections to the Horizon team.

99cloud will clean up its current proof-of-concept code, post it under
two repositories (skyline-apiserver and skyline-console), start openly
collaborating around it, and in the future propose it to the TC for
future inclusion in OpenStack. In the mean time, those repositories
will be set up under the ""skyline"" namespace.

For more details on Skyline, see:
https://www.youtube.com/watch?v=Ro8tROYKDlE

Change-Id: Ia92fcb251f4c37510d343b1a963a6e4f8efb06a4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/84/789284/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/skyline/skyline.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,7df1247e212c47a274ce9c9d856fef1a46304ed2,skyline, - skyline/skyline-apiserver - skyline/skyline-console,,21,0
openstack%2Fkolla~master~I2b084ea78b236623b174473f411bae04e624a3e9,openstack/kolla,master,I2b084ea78b236623b174473f411bae04e624a3e9,CI: drop bashism from template overrides,MERGED,2021-05-04 09:32:50.000000000,2021-05-08 16:09:14.000000000,2021-05-08 16:08:00.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-04 09:32:50.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f0c3567740be342355b39a7c7d3ca341d5a4ec0f', 'message': 'CI: drop bashism from template overrides\n\n[[ is bash only\n\nIn many distributions /bin/sh == bash but not in Debian and derived\nwhere it is dash (very simple POSIX shell).\n\nChange-Id: I2b084ea78b236623b174473f411bae04e624a3e9\n'}]",0,789541,f0c3567740be342355b39a7c7d3ca341d5a4ec0f,18,3,1,24072,,,0,"CI: drop bashism from template overrides

[[ is bash only

In many distributions /bin/sh == bash but not in Debian and derived
where it is dash (very simple POSIX shell).

Change-Id: I2b084ea78b236623b174473f411bae04e624a3e9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/789541/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,f0c3567740be342355b39a7c7d3ca341d5a4ec0f,,RUN if [ -f /usr/etc/npmrc ]; then \,RUN if [[ -f /usr/etc/npmrc ]]; then \,1,1
openstack%2Fneutron~stable%2Fussuri~I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd,openstack/neutron,stable/ussuri,I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd,Improve Subnet update performance,MERGED,2021-05-05 07:29:57.000000000,2021-05-08 11:34:10.000000000,2021-05-08 11:32:26.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 07:29:57.000000000', 'files': ['neutron/db/ipam_backend_mixin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c88d83ca8b4b7097351fc6e7ffc6865a4f8a1995', 'message': 'Improve Subnet update performance\n\nDB plugin gets subnet object and this obj could be passed to IPAM\nto save 2 subnet DB requests.\n\nChange-Id: I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd\n(cherry picked from commit e8909a65d420a276f32fd421b3d5c673ec6857ea)\n'}]",0,789669,c88d83ca8b4b7097351fc6e7ffc6865a4f8a1995,35,3,1,5948,,,0,"Improve Subnet update performance

DB plugin gets subnet object and this obj could be passed to IPAM
to save 2 subnet DB requests.

Change-Id: I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd
(cherry picked from commit e8909a65d420a276f32fd421b3d5c673ec6857ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/789669/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_backend_mixin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py']",3,c88d83ca8b4b7097351fc6e7ffc6865a4f8a1995,subnet_update_opt-stable/ussuri," def update_db_subnet(self, context, id, s, old_pools, subnet_obj=None): subnet = subnet_obj or obj_subnet.Subnet.get_object(context, id=id) context, id, s, old_pools, subnet_obj=subnet_obj)"," def update_db_subnet(self, context, id, s, old_pools): subnet = obj_subnet.Subnet.get_object(context, id=id) context, id, s, old_pools)",8,7
openstack%2Fneutron~stable%2Fwallaby~I7caa8827d22103600ca685a58294640fc831dbd9,openstack/neutron,stable/wallaby,I7caa8827d22103600ca685a58294640fc831dbd9,Physical NIC RP should be child of agent RP,MERGED,2021-05-05 08:09:36.000000000,2021-05-08 11:34:01.000000000,2021-05-08 11:32:34.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 08:09:36.000000000', 'files': ['neutron/agent/common/placement_report.py', 'neutron/tests/unit/agent/common/test_placement_report.py', 'tools/bug-1921150-re-parent-device-rps.sql', 'releasenotes/notes/bug-1921150-c02692e548a3750e.yaml', 'neutron/services/placement_report/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3be39433cb43bcaceb36a04d2accd6ff9a3aa8b', 'message': 'Physical NIC RP should be child of agent RP\n\nIn the fix for #1853840 I made a mistake and since then we created\nthe physical NIC resource providers as a child of the hypervisor\nresource provider instead of the agent resource provider. Here:\n\nhttps://review.opendev.org/c/openstack/neutron/+/696600/3/neutron/agent/common/placement_report.py#159\n\nThis *did not* break the minimum bandwidth aware scheduling.\nBut still there are multiple problems:\n\n1) If you created your physical NIC RPs before the fix for #1853840\n   but upgraded to after the fix for #1853840, then resource syncs\n   will throw an error in neutron-server at each physical NIC RP\n   update. That pollutes the logs and wastes some resources since\n   the prohibited update will be forever retried.\n\n2) If you created your physical NIC RPs after the fix for #1853840\n   then your physical NIC RPs have the wrong parent. Which again\n   does not break minimum bandwidth aware scheduling. But it may pose\n   problems for later features wanting to build on the originally\n   planned RP tree structure.\n\n3) Cleanup of decommissioned RPs is a bit different than expected.\n   This cleanup was always left to the admin, so it only affects a\n   manual process.\n\nThe proper RP structure was and should be the following:\n\nThe hypervisor RP(s) must be the root(s).\nAs a child of each hypervisor RP, there should be an agent RP.\nThe physical NIC RPs should be the children of the agent RPs.\n\nUnfortunately at the moment the Placement API generically prohibits\nupdate of the parent resource provider id in a PUT request:\n\nhttps://docs.openstack.org/api-ref/placement/?expanded=update-resource-provider-detail#update-resource-provider\n\nTherefore without a later Placement change we cannot fix the RPs\nalready created with the wrong parent. However we can fix the RPs\nto be created later. We do that here. We also fix a bug in the unit\ntests that allowed the wrong parent to pass unnoticed. Plus we\nadd an extra log message to direct the user seeing the pollution\nin the logs to the proper bug report.\n\nThere may be a follow up patch later, because not all RP re-parenting\noperations are problematic, therefore we are thinking of relaxing\nthis blanket prohibition in Placement. When Placement allows updates\nto the parent id we can fix RPs already created with the wrong parent\ntoo.\n\nChange-Id: I7caa8827d22103600ca685a58294640fc831dbd9\nCloses-Bug: #1921150\nCo-Authored-By: ""Balazs Gibizer"" <balazs.gibizer@est.tech>\nRelated-Bug: #1853840\n(cherry picked from commit 7f35e4e857f7c6e83c635125ce9b42df6e10a510)\n'}]",0,789674,d3be39433cb43bcaceb36a04d2accd6ff9a3aa8b,39,6,1,9708,,,0,"Physical NIC RP should be child of agent RP

In the fix for #1853840 I made a mistake and since then we created
the physical NIC resource providers as a child of the hypervisor
resource provider instead of the agent resource provider. Here:

https://review.opendev.org/c/openstack/neutron/+/696600/3/neutron/agent/common/placement_report.py#159

This *did not* break the minimum bandwidth aware scheduling.
But still there are multiple problems:

1) If you created your physical NIC RPs before the fix for #1853840
   but upgraded to after the fix for #1853840, then resource syncs
   will throw an error in neutron-server at each physical NIC RP
   update. That pollutes the logs and wastes some resources since
   the prohibited update will be forever retried.

2) If you created your physical NIC RPs after the fix for #1853840
   then your physical NIC RPs have the wrong parent. Which again
   does not break minimum bandwidth aware scheduling. But it may pose
   problems for later features wanting to build on the originally
   planned RP tree structure.

3) Cleanup of decommissioned RPs is a bit different than expected.
   This cleanup was always left to the admin, so it only affects a
   manual process.

The proper RP structure was and should be the following:

The hypervisor RP(s) must be the root(s).
As a child of each hypervisor RP, there should be an agent RP.
The physical NIC RPs should be the children of the agent RPs.

Unfortunately at the moment the Placement API generically prohibits
update of the parent resource provider id in a PUT request:

https://docs.openstack.org/api-ref/placement/?expanded=update-resource-provider-detail#update-resource-provider

Therefore without a later Placement change we cannot fix the RPs
already created with the wrong parent. However we can fix the RPs
to be created later. We do that here. We also fix a bug in the unit
tests that allowed the wrong parent to pass unnoticed. Plus we
add an extra log message to direct the user seeing the pollution
in the logs to the proper bug report.

There may be a follow up patch later, because not all RP re-parenting
operations are problematic, therefore we are thinking of relaxing
this blanket prohibition in Placement. When Placement allows updates
to the parent id we can fix RPs already created with the wrong parent
too.

Change-Id: I7caa8827d22103600ca685a58294640fc831dbd9
Closes-Bug: #1921150
Co-Authored-By: ""Balazs Gibizer"" <balazs.gibizer@est.tech>
Related-Bug: #1853840
(cherry picked from commit 7f35e4e857f7c6e83c635125ce9b42df6e10a510)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/789674/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/placement_report.py', 'neutron/tests/unit/agent/common/test_placement_report.py', 'tools/bug-1921150-re-parent-device-rps.sql', 'neutron/services/placement_report/plugin.py', 'releasenotes/notes/bug-1921150-c02692e548a3750e.yaml']",5,d3be39433cb43bcaceb36a04d2accd6ff9a3aa8b,bug/1921150,"--- issues: - | When using the minimim-bandwidth QoS feature due to bug https://launchpad.net/bugs/1921150 physical NIC resource providers were for some time created with the wrong parent (i.e. the hypervisor RP). This is now partially fixed and new resource providers are created now with the expected parent (i.e. the agent RP). However Placement does not allow re-parenting an already existing resource provider, therefore the following Placement DB update may be needed after the fix for bug 1921150 is applied: neutron/tools/bug-1921150-re-parent-device-rps.sql Until all resource providers have the proper parent, neutron-server will retry the re-parenting update, which will be rejected every time, therefore expect polluted logs and some wasted load on Placement. However please note that the bandwidth-aware scheduling is supposed to work even with the wrongly parented resource providers. ",,86,11
openstack%2Fkolla-ansible~master~I24433d22df4819725949b5589b7c03e14294033a,openstack/kolla-ansible,master,I24433d22df4819725949b5589b7c03e14294033a,[DNM] Debug UCA Wallaby Ubuntu upgrade (Radek edition),ABANDONED,2021-05-06 19:14:20.000000000,2021-05-08 10:04:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 19:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a9222026056aaa56ec2624f8a69745a8b74fdd5', 'message': '[DNM] Debug UCA Wallaby Ubuntu upgrade (Radek edition)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308\nChange-Id: I24433d22df4819725949b5589b7c03e14294033a\n'}, {'number': 2, 'created': '2021-05-07 07:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/358713f31209ce37ea38e36f1644a8d3707312fb', 'message': '[DNM] Debug UCA Wallaby Ubuntu upgrade (Radek edition)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308\nChange-Id: I24433d22df4819725949b5589b7c03e14294033a\n'}, {'number': 3, 'created': '2021-05-07 08:35:11.000000000', 'files': ['tests/templates/globals-default.j2', 'tests/test-ovn.sh', 'zuul.d/project.yaml', 'tests/test-core-openstack.sh', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aeaba607ff8194808729b0aab6e2b428a5301249', 'message': '[DNM] Debug UCA Wallaby Ubuntu upgrade (Radek edition)\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/782308\nChange-Id: I24433d22df4819725949b5589b7c03e14294033a\n'}]",0,790148,aeaba607ff8194808729b0aab6e2b428a5301249,16,1,3,30491,,,0,"[DNM] Debug UCA Wallaby Ubuntu upgrade (Radek edition)

Depends-On: https://review.opendev.org/c/openstack/kolla/+/782308
Change-Id: I24433d22df4819725949b5589b7c03e14294033a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/790148/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'tests/test-core-openstack.sh', 'zuul.d/jobs.yaml']",3,9a9222026056aaa56ec2624f8a69745a8b74fdd5,dnm-ubuntu, name: kolla-ansible-ubuntu-source-linuxbridge-upgrade parent: kolla-ansible-linuxbridge-base nodeset: kolla-ansible-focal timeout: 9000 vars: base_distro: ubuntu install_type: source is_upgrade: yes tls_enabled: true - job: name: kolla-ansible-ubuntu-source-ovn-upgrade parent: kolla-ansible-ovn-base nodeset: kolla-ansible-focal timeout: 9000 vars: base_distro: ubuntu install_type: source is_upgrade: yes tls_enabled: true - job:,,31,59
openstack%2Fkolla~stable%2Fwallaby~I031128d38e32c23147ad70e429b9aff66df3b8da,openstack/kolla,stable/wallaby,I031128d38e32c23147ad70e429b9aff66df3b8da,[release] Use UCA Wallaby,MERGED,2021-05-07 19:35:55.000000000,2021-05-08 10:04:20.000000000,2021-05-08 10:03:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-07 19:35:55.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b2e6babf1a0c36ca0156ae9bbed65d433f09b1e8', 'message': '[release] Use UCA Wallaby\n\nopenvswitch has been pinned to 2.13.1 due to upgrade\nissues with 2.15.0\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n(cherry picked from commit c028639af80f552304d45c48c25c1a27af10bb0c)\n'}]",0,790265,b2e6babf1a0c36ca0156ae9bbed65d433f09b1e8,11,5,1,30491,,,0,"[release] Use UCA Wallaby

openvswitch has been pinned to 2.13.1 due to upgrade
issues with 2.15.0

Change-Id: I031128d38e32c23147ad70e429b9aff66df3b8da
(cherry picked from commit c028639af80f552304d45c48c25c1a27af10bb0c)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/790265/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/apt_preferences.ubuntu', 'docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le', 'docker/base/sources.list.ubuntu']",4,b2e6babf1a0c36ca0156ae9bbed65d433f09b1e8,prepare-for-kolla-wallaby-release-stable/wallaby,deb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/wallaby main,deb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/victoria main,7,3
openstack%2Fpuppet-nova~master~Id41e597ef4339cbe39ef3056fc6ed665afc7819d,openstack/puppet-nova,master,Id41e597ef4339cbe39ef3056fc6ed665afc7819d,Add remove_unused_original_minimum_age_seconds option,ABANDONED,2020-09-02 00:10:37.000000000,2021-05-08 08:01:09.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-09-02 00:10:37.000000000', 'files': ['releasenotes/notes/remove_unused_original_minimum_age_seconds-bbc6936d2d80911b.yaml', 'manifests/compute.pp', 'spec/classes/nova_compute_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/df243fc8b5791fd4d0e9f7ae40c54bae12edaf3e', 'message': 'Add remove_unused_original_minimum_age_seconds option\n\nThis is useful for controlling how long pre-cached[1] images remain on a compute\nhost.\n\n[1] https://docs.openstack.org/nova/ussuri/admin/image-caching.html#image-pre-caching\n\nChange-Id: Id41e597ef4339cbe39ef3056fc6ed665afc7819d\n'}]",0,749412,df243fc8b5791fd4d0e9f7ae40c54bae12edaf3e,5,3,1,23811,,,0,"Add remove_unused_original_minimum_age_seconds option

This is useful for controlling how long pre-cached[1] images remain on a compute
host.

[1] https://docs.openstack.org/nova/ussuri/admin/image-caching.html#image-pre-caching

Change-Id: Id41e597ef4339cbe39ef3056fc6ed665afc7819d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/12/749412/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_unused_original_minimum_age_seconds-bbc6936d2d80911b.yaml', 'manifests/compute.pp', 'spec/classes/nova_compute_spec.rb']",3,df243fc8b5791fd4d0e9f7ae40c54bae12edaf3e,, it { is_expected.to contain_nova_config('DEFAULT/remove_unused_original_minimum_age_seconds').with_value('<SERVICE_DEFAULT>') } :remove_unused_original_minimum_age_seconds: => 100 it { is_expected.to contain_nova_config('DEFAULT/remove_unused_original_minimum_age_seconds').with_value(100) } ,,18,0
openstack%2Fcharm-ironic-api~master~I5fa17bd0969745ad11aa90a101ca7f01868b7c75,openstack/charm-ironic-api,master,I5fa17bd0969745ad11aa90a101ca7f01868b7c75,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:45:16.000000000,2021-05-08 07:27:42.000000000,2021-05-08 07:27:42.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/44059fc2891e21aad60137c0567fc83fc7443653', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I5fa17bd0969745ad11aa90a101ca7f01868b7c75\n'}, {'number': 2, 'created': '2021-03-30 12:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/c38d73f5c021d0aa3a9f1e73fe969f1e80876e0d', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I5fa17bd0969745ad11aa90a101ca7f01868b7c75\n'}, {'number': 3, 'created': '2021-04-14 12:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/493998f3da3cb892d34ce07b7d8506078e6902db', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I5fa17bd0969745ad11aa90a101ca7f01868b7c75\n'}, {'number': 4, 'created': '2021-04-15 17:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/3042cb9edccd0dfb2144e502dad69c39e78065f7', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I5fa17bd0969745ad11aa90a101ca7f01868b7c75\n'}, {'number': 5, 'created': '2021-04-16 20:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/e1d82120a1bff2310e9d1a0db89923164523e684', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I5fa17bd0969745ad11aa90a101ca7f01868b7c75\n'}, {'number': 6, 'created': '2021-05-06 09:51:33.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/109c87bfb23834e0552fe58bf4ffeaae7a881caf', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I5fa17bd0969745ad11aa90a101ca7f01868b7c75\n'}]",0,778651,109c87bfb23834e0552fe58bf4ffeaae7a881caf,40,4,6,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I5fa17bd0969745ad11aa90a101ca7f01868b7c75
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/51/778651/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",3,44059fc2891e21aad60137c0567fc83fc7443653,wallaby-bundles,- hirsute-wallaby- focal-wallaby- focal-ussuri - hirsute-wallaby,- bionic-ussuri - groovy-victoria,570,2
openstack%2Fopenstacksdk~master~I818684c133a17bde8da109bc6ebf4c92293e9e9b,openstack/openstacksdk,master,I818684c133a17bde8da109bc6ebf4c92293e9e9b,Remove references to 'sys.version_info',MERGED,2021-04-30 08:36:21.000000000,2021-05-08 06:44:21.000000000,2021-05-08 06:40:53.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-04-30 08:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/02830923e5f89c47f507385b1671b9cfd13ca284', 'message': ""Remove references to 'sys.version_info'\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: I818684c133a17bde8da109bc6ebf4c92293e9e9b\n""}, {'number': 2, 'created': '2021-05-08 00:46:10.000000000', 'files': ['openstack/tests/unit/test_utils.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b42fbbde661a32279d007f87becf762bf3ba8d4b', 'message': ""Remove references to 'sys.version_info'\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: I818684c133a17bde8da109bc6ebf4c92293e9e9b\n""}]",1,788903,b42fbbde661a32279d007f87becf762bf3ba8d4b,10,3,2,31412,,,0,"Remove references to 'sys.version_info'

We support Python 3.6 as a minimum now, making these checks no-ops.

Change-Id: I818684c133a17bde8da109bc6ebf4c92293e9e9b
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/03/788903/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tests/unit/test_utils.py'],1,02830923e5f89c47f507385b1671b9cfd13ca284,,," @skipIf(sys.version_info.major == 2, ""hashlib.md5 does not raise TypeError here in py2"")",0,2
openstack%2Fneutron~stable%2Fussuri~I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae,openstack/neutron,stable/ussuri,I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae,Provide the rpc_response_max_timeout parameter to metadata-agent,MERGED,2021-05-01 16:08:54.000000000,2021-05-08 05:45:14.000000000,2021-05-08 05:43:26.000000000,"[{'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-01 16:08:54.000000000', 'files': ['neutron/opts.py', 'neutron/agent/metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce2a1dc8a0f9b91761be64a5d405f16de390e1f3', 'message': 'Provide the rpc_response_max_timeout parameter to metadata-agent\n\nThe rpc_response_max_timeout parameter is used in comminucation over\nmessaging queue, thus should be available for metadata-agent which\ncommunicate with neutron-server over messaging queue.\n\nChange-Id: I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae\nCloses-Bug: #1920842\n(cherry picked from commit 7f5711f77b79fdaffd91f6ef299783b058d18ace)\n'}]",0,789005,ce2a1dc8a0f9b91761be64a5d405f16de390e1f3,56,4,1,30609,,,0,"Provide the rpc_response_max_timeout parameter to metadata-agent

The rpc_response_max_timeout parameter is used in comminucation over
messaging queue, thus should be available for metadata-agent which
communicate with neutron-server over messaging queue.

Change-Id: I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae
Closes-Bug: #1920842
(cherry picked from commit 7f5711f77b79fdaffd91f6ef299783b058d18ace)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/789005/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/agent/metadata_agent.py']",2,ce2a1dc8a0f9b91761be64a5d405f16de390e1f3,bug/1920842-stable/victoria-stable/ussuri,"from neutron.conf import service as service_conf service_conf.register_service_opts(service_conf.RPC_EXTRA_OPTS, cfg.CONF) ",,5,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~Id0575ece56462f78439bc6ff99e9bb971eebb0ac,openstack/tripleo-ansible,stable/wallaby,Id0575ece56462f78439bc6ff99e9bb971eebb0ac,Add retries to containers listing,MERGED,2021-05-07 22:17:54.000000000,2021-05-08 04:31:55.000000000,2021-05-08 04:30:09.000000000,"[{'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-07 22:17:54.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2f9110938b79afb9b9abbf162406f7be48100c5', 'message': 'Add retries to containers listing\n\nTo avoid failure in container listing add 4 retries with 1 sec\ndelay between.\nSee podman issue: https://github.com/containers/podman/issues/10225\nCloses-Bug: #1926649\n\nMark tripleo-ansible-centos-8-molecule-tripleo-modules as non voting,\nfor later investigation and fix:\nhttps://zuul.opendev.org/t/openstack/builds?job_name=\ntripleo-ansible-centos-8-molecule-tripleo-modules&project=openstack/tripleo-ansible\nChange-Id: Id0575ece56462f78439bc6ff99e9bb971eebb0ac\n(cherry picked from commit 84f18e73af3dfda9e1c5f89cd0a88a772ff383cb)\n'}]",0,790266,f2f9110938b79afb9b9abbf162406f7be48100c5,9,5,1,7144,,,0,"Add retries to containers listing

To avoid failure in container listing add 4 retries with 1 sec
delay between.
See podman issue: https://github.com/containers/podman/issues/10225
Closes-Bug: #1926649

Mark tripleo-ansible-centos-8-molecule-tripleo-modules as non voting,
for later investigation and fix:
https://zuul.opendev.org/t/openstack/builds?job_name=
tripleo-ansible-centos-8-molecule-tripleo-modules&project=openstack/tripleo-ansible
Change-Id: Id0575ece56462f78439bc6ff99e9bb971eebb0ac
(cherry picked from commit 84f18e73af3dfda9e1c5f89cd0a88a772ff383cb)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/790266/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py']",2,f2f9110938b79afb9b9abbf162406f7be48100c5,,"import time retry = 0 retry_limit = 4 # This should not fail in regular circumstances, so retry again # https://github.com/containers/podman/issues/10225 while rc != 0 and retry <= retry_limit: module.log(msg=""Unable to get list of containers: %s"" % err) time.sleep(1) retry += 1 rc, out, err = module.run_command(all_names) if rc != 0: module.fail_json(msg=""Unable to get list of containers during"" "" %s retries"" % retry_limit)"," if rc != 0: module.fail_json(msg=""Unable to get list of containers: %s"" % err)",14,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I4dc6e90ab488c1f291e4143b11dfb88883cb4f71,openstack/python-tripleoclient,stable/wallaby,I4dc6e90ab488c1f291e4143b11dfb88883cb4f71,Extra space was causing indentation errors,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 03:57:06.000000000,2021-05-08 03:55:50.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b1104d42a6f91a48082ce2cd27ec85b289075bc8', 'message': 'Extra space was causing indentation errors\n\nPart of the docs immediatelly followin was\nslightly malformed, as the rst syntax formatted it\nas a quasi-note.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4dc6e90ab488c1f291e4143b11dfb88883cb4f71\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca987d1f189475b1e3d1ff7bcf700a65aa4881f4', 'message': 'Extra space was causing indentation errors\n\nPart of the docs immediatelly followin was\nslightly malformed, as the rst syntax formatted it\nas a quasi-note.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4dc6e90ab488c1f291e4143b11dfb88883cb4f71\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/660fe244eb1d97716b373eeb5ab1613655537b6a', 'message': 'Extra space was causing indentation errors\n\nPart of the docs immediatelly followin was\nslightly malformed, as the rst syntax formatted it\nas a quasi-note.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4dc6e90ab488c1f291e4143b11dfb88883cb4f71\n'}]",0,790128,660fe244eb1d97716b373eeb5ab1613655537b6a,13,3,3,7144,,,0,"Extra space was causing indentation errors

Part of the docs immediatelly followin was
slightly malformed, as the rst syntax formatted it
as a quasi-note.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I4dc6e90ab488c1f291e4143b11dfb88883cb4f71
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/28/790128/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,b1104d42a6f91a48082ce2cd27ec85b289075bc8,unlock-wallaby, 'openstack stack list\n', 'openstack stack list\n ',1,1
openstack%2Ftripleo-common~stable%2Fwallaby~Ie14e58c999210760170d01c1873883d423fe4ada,openstack/tripleo-common,stable/wallaby,Ie14e58c999210760170d01c1873883d423fe4ada,Add rhosp-release rpm in rhel images,MERGED,2021-05-05 13:20:39.000000000,2021-05-08 03:57:02.000000000,2021-05-08 03:55:53.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 13:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/024a6a13e89bce5bd3390fd7de8bac0d85fd7524', 'message': ""Add rhosp-release rpm in rhel images\n\nCurrently, In RHOSP17: task[1] fails while installing rpm if overcloud\nnodes don't have repos.\nIt is expected that overcloud node contain all required things\nwith image build.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml#L39\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1954108\n\nChange-Id: Ie14e58c999210760170d01c1873883d423fe4ada\n(cherry picked from commit f7cfed9e5c81cb320d6a5577332c9ad822fda29d)\n""}, {'number': 2, 'created': '2021-05-05 13:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/41ab81e92e4fa9d60ea93ba4214bc995d1c01ab6', 'message': ""Add rhosp-release rpm in rhel images\n\nCurrently, In RHOSP17: task[1] fails while installing rpm if overcloud\nnodes don't have repos.\nIt is expected that overcloud node contain all required things\nwith image build.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml#L39\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1954108\n\nChange-Id: Ie14e58c999210760170d01c1873883d423fe4ada\n(cherry picked from commit f7cfed9e5c81cb320d6a5577332c9ad822fda29d)\n""}, {'number': 3, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c8e085268f52f6e539535cb6df684661a0e1f299', 'message': ""Add rhosp-release rpm in rhel images\n\nCurrently, In RHOSP17: task[1] fails while installing rpm if overcloud\nnodes don't have repos.\nIt is expected that overcloud node contain all required things\nwith image build.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml#L39\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1954108\n\nChange-Id: Ie14e58c999210760170d01c1873883d423fe4ada\n""}, {'number': 4, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7c7f6030338039270738c451d067131d415e9568', 'message': ""Add rhosp-release rpm in rhel images\n\nCurrently, In RHOSP17: task[1] fails while installing rpm if overcloud\nnodes don't have repos.\nIt is expected that overcloud node contain all required things\nwith image build.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml#L39\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1954108\n\nChange-Id: Ie14e58c999210760170d01c1873883d423fe4ada\n""}, {'number': 5, 'created': '2021-05-06 21:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5d67dd7130b8cb569b9248e80188d528136961ce', 'message': ""Add rhosp-release rpm in rhel images\n\nCurrently, In RHOSP17: task[1] fails while installing rpm if overcloud\nnodes don't have repos.\nIt is expected that overcloud node contain all required things\nwith image build.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml#L39\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1954108\n\nChange-Id: Ie14e58c999210760170d01c1873883d423fe4ada\n""}, {'number': 6, 'created': '2021-05-07 11:16:48.000000000', 'files': ['image-yaml/overcloud-images-ceph-rhel8.yaml', 'image-yaml/overcloud-images-rhel8.yaml', 'image-yaml/overcloud-hardened-images-uefi-rhel8.yaml', 'image-yaml/overcloud-hardened-images-rhel8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ed7631a3fadad56618578558da2c9ca60c49733', 'message': ""Add rhosp-release rpm in rhel images\n\nCurrently, In RHOSP17: task[1] fails while installing rpm if overcloud\nnodes don't have repos.\nIt is expected that overcloud node contain all required things\nwith image build.\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml#L39\nRelated-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1954108\n\nChange-Id: Ie14e58c999210760170d01c1873883d423fe4ada\n""}]",2,789809,8ed7631a3fadad56618578558da2c9ca60c49733,31,7,6,29775,,,0,"Add rhosp-release rpm in rhel images

Currently, In RHOSP17: task[1] fails while installing rpm if overcloud
nodes don't have repos.
It is expected that overcloud node contain all required things
with image build.

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/tripleo_ansible/roles/tripleo_bootstrap/tasks/main.yml#L39
Related-Bug: https://bugzilla.redhat.com/show_bug.cgi?id=1954108

Change-Id: Ie14e58c999210760170d01c1873883d423fe4ada
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/09/789809/6 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-ceph-rhel8.yaml', 'image-yaml/overcloud-images-rhel8.yaml', 'image-yaml/overcloud-hardened-images-uefi-rhel8.yaml', 'image-yaml/overcloud-hardened-images-rhel8.yaml']",4,024a6a13e89bce5bd3390fd7de8bac0d85fd7524,, packages: - rhosp-release,,13,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Iee10fff5dac9aeae6703ddc5c7938d0d2d6c801e,openstack/python-tripleoclient,stable/wallaby,Iee10fff5dac9aeae6703ddc5c7938d0d2d6c801e,Simplify undercloud upgrade,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:58:51.000000000,2021-05-08 02:56:33.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7613a7e6f30fc29e79bbb4d0eaf18134a852be40', 'message': 'Simplify undercloud upgrade\n\nRemoves the redundant confirmation prompt with the same message\nafter the package update and simplifies the code.\n\nChange-Id: Iee10fff5dac9aeae6703ddc5c7938d0d2d6c801e\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/93a38b19a45846835ca5337b56298e2fa2acea4b', 'message': 'Simplify undercloud upgrade\n\nRemoves the redundant confirmation prompt with the same message\nafter the package update and simplifies the code.\n\nChange-Id: Iee10fff5dac9aeae6703ddc5c7938d0d2d6c801e\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fb366c6a4c329abb58dbda726326e157079ebeda', 'message': 'Simplify undercloud upgrade\n\nRemoves the redundant confirmation prompt with the same message\nafter the package update and simplifies the code.\n\nChange-Id: Iee10fff5dac9aeae6703ddc5c7938d0d2d6c801e\n'}]",0,790127,fb366c6a4c329abb58dbda726326e157079ebeda,12,4,3,7144,,,0,"Simplify undercloud upgrade

Removes the redundant confirmation prompt with the same message
after the package update and simplifies the code.

Change-Id: Iee10fff5dac9aeae6703ddc5c7938d0d2d6c801e
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/27/790127/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,7613a7e6f30fc29e79bbb4d0eaf18134a852be40,unlock-wallaby," mock_subprocess.assert_called_with( ['sudo', '--preserve-env', 'openstack', 'tripleo', 'deploy', '--standalone', '--standalone-role', 'Undercloud', '--stack', 'undercloud', '--local-domain=localdomain', '--local-ip=192.168.24.1/24', '--templates=/usr/share/openstack-tripleo-heat-templates/', '--networks-file=/usr/share/openstack-tripleo-heat-templates/' 'network_data_undercloud.yaml', '--upgrade', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'lifecycle/undercloud-upgrade-prepare.yaml', '--heat-native', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'undercloud.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'use-dns-for-vips.yaml', '-e', '/home/stack/foo.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/ironic.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/ironic-inspector.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-remove-novajoin.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'disable-telemetry.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'public-tls-undercloud.yaml', '--public-virtual-ip', '192.168.24.2', '--control-virtual-ip', '192.168.24.3', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'ssl/tls-endpoints-public-ip.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-haproxy.yaml', # TODO(cjeanner) drop once we have proper oslo.privsep '--deployment-user', 'stack', '--output-dir=/home/stack', '--cleanup', '-e', '/home/stack/tripleo-config-generated-env-files/' 'undercloud_parameters.yaml', '--log-file=install-undercloud.log', '-e', '/usr/share/openstack-tripleo-heat-templates/' 'undercloud-stack-vstate-dropin.yaml']) mock_subprocess.assert_not_called()"," mock_subprocess.assert_called_with([ 'openstack', 'undercloud', 'upgrade', '--skip-package-updates', '--no-validations']) mock_subprocess.assert_called_with([ 'openstack', 'undercloud', 'upgrade', '--skip-package-updates', '--force-stack-update', '--no-validations', '--inflight-validations', '--dry-run', '--yes', '--debug'])",57,45
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I7a94e0f72ed42b70468a361536bfbf88d158dc14,openstack/python-tripleoclient,stable/wallaby,I7a94e0f72ed42b70468a361536bfbf88d158dc14,Handle exceptions in finally clause,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:57:57.000000000,2021-05-08 02:55:55.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c69805f4c9fea4f0dc1ce7c7f639939539a70372', 'message': 'Handle exceptions in finally clause\n\nThe ""finally"" clause for overcloud deploy is updated to handle\nexceptions raised by statements so that later code in the block will be\nassured of executing.\n\nChange-Id: I7a94e0f72ed42b70468a361536bfbf88d158dc14\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/05c564aaa189e0142d224c7949ab41908c37d602', 'message': 'Handle exceptions in finally clause\n\nThe ""finally"" clause for overcloud deploy is updated to handle\nexceptions raised by statements so that later code in the block will be\nassured of executing.\n\nChange-Id: I7a94e0f72ed42b70468a361536bfbf88d158dc14\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e8ebcc3c7ee2ee97f99f1eb18b6f63dd6cf4f8fb', 'message': 'Handle exceptions in finally clause\n\nThe ""finally"" clause for overcloud deploy is updated to handle\nexceptions raised by statements so that later code in the block will be\nassured of executing.\n\nChange-Id: I7a94e0f72ed42b70468a361536bfbf88d158dc14\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,790121,e8ebcc3c7ee2ee97f99f1eb18b6f63dd6cf4f8fb,14,4,3,7144,,,0,"Handle exceptions in finally clause

The ""finally"" clause for overcloud deploy is updated to handle
exceptions raised by statements so that later code in the block will be
assured of executing.

Change-Id: I7a94e0f72ed42b70468a361536bfbf88d158dc14
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/790121/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,c69805f4c9fea4f0dc1ce7c7f639939539a70372,unlock-wallaby," try: # Run postconfig on create or force if (stack_create or parsed_args.force_postconfig and not parsed_args.skip_postconfig): self._deploy_postconfig(stack, parsed_args) except Exception as e: self.log.error('Exception during postconfig') self.log.error(e) try: # Copy clouds.yaml to the cloud user directory user = \ getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user) except Exception as e: self.log.error('Exception creating clouds.yaml') self.log.error(e) try: utils.create_tempest_deployer_input( output_dir=self.working_dir) except Exception as e: self.log.error('Exception creating tempest configuration.') self.log.error(e) try: if parsed_args.heat_type != 'installed': self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher, backup_db=True) except Exception as e: self.log.error('Exception stopping ephemeral Heat') self.log.error(e) try: if parsed_args.output_dir: ansible_dir = config_download_dir else: ansible_dir = None utils.archive_deploy_artifacts(self.log, parsed_args.stack, self.working_dir, ansible_dir) except Exception as e: self.log.error('Exception archiving deploy artifacts') self.log.error(e)"," # Run postconfig on create or force. Use force to makes sure # endpoints are created with deploy reruns and upgrades if (stack_create or parsed_args.force_postconfig and not parsed_args.skip_postconfig): self._deploy_postconfig(stack, parsed_args) # Copy clouds.yaml to the cloud user directory user = \ getpwuid(os.stat(constants.CLOUD_HOME_DIR).st_uid).pw_name utils.copy_clouds_yaml(user) utils.create_tempest_deployer_input(output_dir=self.working_dir) if parsed_args.heat_type != 'installed': self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher, backup_db=True) if parsed_args.output_dir: ansible_dir = config_download_dir else: ansible_dir = None utils.archive_deploy_artifacts(self.log, parsed_args.stack, self.working_dir, ansible_dir)",41,20
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,openstack/python-tripleoclient,stable/wallaby,I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,Fix network environment validation,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:56:30.000000000,2021-05-08 02:56:30.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 32240}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/557ceec07d0815ead06b3313819e14749aeb4fcf', 'message': ""Fix network environment validation\n\nNetwork environment validation fails when accessing value\nwith the key 'os_net_config' from the nic-config files.\nFix the dictionary keys needed to fetch the network\nconfig from nic_data.\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f\n""}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/87d7949252b4fd9fc6d2311c61e51f8165815a83', 'message': ""Fix network environment validation\n\nNetwork environment validation fails when accessing value\nwith the key 'os_net_config' from the nic-config files.\nFix the dictionary keys needed to fetch the network\nconfig from nic_data.\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f\n""}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d2eb9889735a576bc972d66112e6c9cdabc0f3db', 'message': ""Fix network environment validation\n\nNetwork environment validation fails when accessing value\nwith the key 'os_net_config' from the nic-config files.\nFix the dictionary keys needed to fetch the network\nconfig from nic_data.\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f\n""}]",0,790126,d2eb9889735a576bc972d66112e6c9cdabc0f3db,13,4,3,7144,,,0,"Fix network environment validation

Network environment validation fails when accessing value
with the key 'os_net_config' from the nic-config files.
Fix the dictionary keys needed to fetch the network
config from nic_data.

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/26/790126/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/v1/overcloud_netenv_validate.py']",2,557ceec07d0815ead06b3313819e14749aeb4fcf,unlock-wallaby, 'str_replace']['params']['$network_config']['network_config'], 'os_net_config']['network_config'],7,3
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ieeb0e15533de0eb6fc7ba099cd381182bdb7bc68,openstack/python-tripleoclient,stable/wallaby,Ieeb0e15533de0eb6fc7ba099cd381182bdb7bc68,Make Python Interpreter option for Ansible Validation Run,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:56:26.000000000,2021-05-08 02:56:26.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/68821709608508df15a98f6c808b293d17a848fd', 'message': 'Make Python Interpreter option for Ansible Validation Run\n\nThis patch adds the --python-interpreter argument to the ValidatorRun\nsubcommand and allows the user to specify their own python interpreter.\n\nNote: This argument was only added in Train by [1] some months ago and\nthis patch adds it in previous branches.\n\n[1] https://opendev.org/openstack/python-tripleoclient/commit/8b336981a801857205581029a7668ee0112f8ea5\n\nAuthored-By: Mathieu Bultel <mbultel@redhat.com>\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ieeb0e15533de0eb6fc7ba099cd381182bdb7bc68\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f1058dbc5a10c1892a0ad5b0ebd51812ab071abc', 'message': 'Make Python Interpreter option for Ansible Validation Run\n\nThis patch adds the --python-interpreter argument to the ValidatorRun\nsubcommand and allows the user to specify their own python interpreter.\n\nNote: This argument was only added in Train by [1] some months ago and\nthis patch adds it in previous branches.\n\n[1] https://opendev.org/openstack/python-tripleoclient/commit/8b336981a801857205581029a7668ee0112f8ea5\n\nAuthored-By: Mathieu Bultel <mbultel@redhat.com>\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ieeb0e15533de0eb6fc7ba099cd381182bdb7bc68\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/17ee9ea448112c5e4430995c27b5b319abd1c374', 'message': 'Make Python Interpreter option for Ansible Validation Run\n\nThis patch adds the --python-interpreter argument to the ValidatorRun\nsubcommand and allows the user to specify their own python interpreter.\n\nNote: This argument was only added in Train by [1] some months ago and\nthis patch adds it in previous branches.\n\n[1] https://opendev.org/openstack/python-tripleoclient/commit/8b336981a801857205581029a7668ee0112f8ea5\n\nAuthored-By: Mathieu Bultel <mbultel@redhat.com>\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: Ieeb0e15533de0eb6fc7ba099cd381182bdb7bc68\n'}]",0,790125,17ee9ea448112c5e4430995c27b5b319abd1c374,11,3,3,7144,,,0,"Make Python Interpreter option for Ansible Validation Run

This patch adds the --python-interpreter argument to the ValidatorRun
subcommand and allows the user to specify their own python interpreter.

Note: This argument was only added in Train by [1] some months ago and
this patch adds it in previous branches.

[1] https://opendev.org/openstack/python-tripleoclient/commit/8b336981a801857205581029a7668ee0112f8ea5

Authored-By: Mathieu Bultel <mbultel@redhat.com>
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: Ieeb0e15533de0eb6fc7ba099cd381182bdb7bc68
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/25/790125/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,68821709608508df15a98f6c808b293d17a848fd,unlock-wallaby," parser.add_argument( '--python-interpreter', action='store', default=""/usr/libexec/platform-python"", help=_(""Python interpreter for Ansible execution. "") ) python_interpreter=parsed_args.python_interpreter,",,8,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I750d780a8b091804fbde77db3d275c081d13bdf8,openstack/python-tripleoclient,stable/wallaby,I750d780a8b091804fbde77db3d275c081d13bdf8,Quote -e arg in ansible-playbook-command.sh,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:56:12.000000000,2021-05-08 02:56:12.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/35006d3e83a6e2e6e8bf1a2efefd279efe3dad27', 'message': 'Quote -e arg in ansible-playbook-command.sh\n\nWhen ansible-playbook-command.sh is generated, the argument to -e is an\ninlined JSON dict. In order for the script to parse this a s ginle\nargument, it needs to be single quoted.\n\nChange-Id: I750d780a8b091804fbde77db3d275c081d13bdf8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/047d84a4521f18e2bf3ea4ca2b587e2a35c157ee', 'message': 'Quote -e arg in ansible-playbook-command.sh\n\nWhen ansible-playbook-command.sh is generated, the argument to -e is an\ninlined JSON dict. In order for the script to parse this a s ginle\nargument, it needs to be single quoted.\n\nChange-Id: I750d780a8b091804fbde77db3d275c081d13bdf8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9d9d2c6fbacfd2fd0e7af570418b8d80ed54a867', 'message': 'Quote -e arg in ansible-playbook-command.sh\n\nWhen ansible-playbook-command.sh is generated, the argument to -e is an\ninlined JSON dict. In order for the script to parse this a s ginle\nargument, it needs to be single quoted.\n\nChange-Id: I750d780a8b091804fbde77db3d275c081d13bdf8\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,790124,9d9d2c6fbacfd2fd0e7af570418b8d80ed54a867,12,2,3,7144,,,0,"Quote -e arg in ansible-playbook-command.sh

When ansible-playbook-command.sh is generated, the argument to -e is an
inlined JSON dict. In order for the script to parse this a s ginle
argument, it needs to be single quoted.

Change-Id: I750d780a8b091804fbde77db3d275c081d13bdf8
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/790124/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,35006d3e83a6e2e6e8bf1a2efefd279efe3dad27,unlock-wallaby," args = '{} ""$@""\n'.format(' '.join(runner_config.command)) # Single quote the dict passed to -e args = re.sub('({.*})', '\'\\1\'', args) f.write(args)"," f.write('{} ""$@""\n'.format(' '.join(runner_config.command)))",4,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I83ad02817ace364eb4bc596127cfd7d6699c32aa,openstack/python-tripleoclient,stable/wallaby,I83ad02817ace364eb4bc596127cfd7d6699c32aa,Use consistent working dir for ansible-runner,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:56:02.000000000,2021-05-08 02:56:02.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5be97c2a9b0ef61265417fc84c7295202dde3299', 'message': 'Use consistent working dir for ansible-runner\n\nInstead of using tmp dirs for ansible-runner, use the consistent working\ndirectory, which allows for saving the output for debugging and\nreproducability.\n\nChange-Id: I83ad02817ace364eb4bc596127cfd7d6699c32aa\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/af0876b00cba110852fd4c9a90b955bf58200bb6', 'message': 'Use consistent working dir for ansible-runner\n\nInstead of using tmp dirs for ansible-runner, use the consistent working\ndirectory, which allows for saving the output for debugging and\nreproducability.\n\nChange-Id: I83ad02817ace364eb4bc596127cfd7d6699c32aa\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b4baeb062ba12b264acadf185dbf0e3cf95d83e8', 'message': 'Use consistent working dir for ansible-runner\n\nInstead of using tmp dirs for ansible-runner, use the consistent working\ndirectory, which allows for saving the output for debugging and\nreproducability.\n\nChange-Id: I83ad02817ace364eb4bc596127cfd7d6699c32aa\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,790123,b4baeb062ba12b264acadf185dbf0e3cf95d83e8,13,4,3,7144,,,0,"Use consistent working dir for ansible-runner

Instead of using tmp dirs for ansible-runner, use the consistent working
directory, which allows for saving the output for debugging and
reproducability.

Change-Id: I83ad02817ace364eb4bc596127cfd7d6699c32aa
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/23/790123/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/utils.py', 'tripleoclient/tests/fakes.py', 'tripleoclient/v1/overcloud_deploy.py']",6,5be97c2a9b0ef61265417fc84c7295202dde3299,unlock-wallaby," heat_type=parsed_args.heat_type, working_dir=self.working_dir)", heat_type=parsed_args.heat_type),65,37
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I5b38abd4c5ce0631f3f701a6fe907ffb7b0bbdf2,openstack/python-tripleoclient,stable/wallaby,I5b38abd4c5ce0631f3f701a6fe907ffb7b0bbdf2,Handle nodes with no ctlplane IP's during deny list handling,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:55:58.000000000,2021-05-08 02:55:58.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0bc0eb026b52c4c1817a804084762e78172a02ef', 'message': ""Handle nodes with no ctlplane IP's during deny list handling\n\nThe deny list of IP addresses is returned as a list of empty strings,\ne.g. ['', '', ...] in the case where nothing is denied.\n\nThis creates an issue for nodes that have no ctlplane IP addresses, such\nas when using deployed-server and all services are moved to other\nnetworks other than the ctlplane, and the ctlplane port for those nodes\nare noop'd or not set in DeployedServerPortMap. In that case, the\nctlplane IP for those nodes is also returned as an empty string, in\nwhich case the code was trying to process the node as denied since it\nfound a match of empty string in the list.\n\nThis change adds a simple check that the denied IP is not none, in which\ncase the deny logic handling is skipped.\n\nChange-Id: I5b38abd4c5ce0631f3f701a6fe907ffb7b0bbdf2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ff6de10da183b9af3bc4c8273874a1cfe1de6b7e', 'message': ""Handle nodes with no ctlplane IP's during deny list handling\n\nThe deny list of IP addresses is returned as a list of empty strings,\ne.g. ['', '', ...] in the case where nothing is denied.\n\nThis creates an issue for nodes that have no ctlplane IP addresses, such\nas when using deployed-server and all services are moved to other\nnetworks other than the ctlplane, and the ctlplane port for those nodes\nare noop'd or not set in DeployedServerPortMap. In that case, the\nctlplane IP for those nodes is also returned as an empty string, in\nwhich case the code was trying to process the node as denied since it\nfound a match of empty string in the list.\n\nThis change adds a simple check that the denied IP is not none, in which\ncase the deny logic handling is skipped.\n\nChange-Id: I5b38abd4c5ce0631f3f701a6fe907ffb7b0bbdf2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e21e00c8d661f7f0ddf729b56c05d536bca80b4', 'message': ""Handle nodes with no ctlplane IP's during deny list handling\n\nThe deny list of IP addresses is returned as a list of empty strings,\ne.g. ['', '', ...] in the case where nothing is denied.\n\nThis creates an issue for nodes that have no ctlplane IP addresses, such\nas when using deployed-server and all services are moved to other\nnetworks other than the ctlplane, and the ctlplane port for those nodes\nare noop'd or not set in DeployedServerPortMap. In that case, the\nctlplane IP for those nodes is also returned as an empty string, in\nwhich case the code was trying to process the node as denied since it\nfound a match of empty string in the list.\n\nThis change adds a simple check that the denied IP is not none, in which\ncase the deny logic handling is skipped.\n\nChange-Id: I5b38abd4c5ce0631f3f701a6fe907ffb7b0bbdf2\nSigned-off-by: James Slagle <jslagle@redhat.com>\n""}]",0,790122,6e21e00c8d661f7f0ddf729b56c05d536bca80b4,11,3,3,7144,,,0,"Handle nodes with no ctlplane IP's during deny list handling

The deny list of IP addresses is returned as a list of empty strings,
e.g. ['', '', ...] in the case where nothing is denied.

This creates an issue for nodes that have no ctlplane IP addresses, such
as when using deployed-server and all services are moved to other
networks other than the ctlplane, and the ctlplane port for those nodes
are noop'd or not set in DeployedServerPortMap. In that case, the
ctlplane IP for those nodes is also returned as an empty string, in
which case the code was trying to process the node as denied since it
found a match of empty string in the list.

This change adds a simple check that the denied IP is not none, in which
case the deny logic handling is skipped.

Change-Id: I5b38abd4c5ce0631f3f701a6fe907ffb7b0bbdf2
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/22/790122/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,0bc0eb026b52c4c1817a804084762e78172a02ef,unlock-wallaby, if not bcip: continue,,2,0
openstack%2Fcharm-nova-compute~master~I66fa27f3f5e29d83cfea0f1afb33374303ab4669,openstack/charm-nova-compute,master,I66fa27f3f5e29d83cfea0f1afb33374303ab4669,Add apparmor rule to support /usr/sbin,MERGED,2021-04-26 13:53:09.000000000,2021-05-08 02:37:26.000000000,2021-05-07 20:38:31.000000000,"[{'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 32930}]","[{'number': 1, 'created': '2021-04-26 13:53:09.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/120235f3590d3a1272061320a4f76a06f407ff34', 'message': 'Add apparmor rule to support /usr/sbin\n\nIt seems that as of Disco *1 /sbin is a symlink to /usr/sbin. This\npatch adds support for file in either location.\n\n*1 https://lists.ubuntu.com/archives/ubuntu-devel-announce/2018-November/001253.html\n\nChange-Id: I66fa27f3f5e29d83cfea0f1afb33374303ab4669\nCloses-Bug: #1925511\n'}]",6,788000,120235f3590d3a1272061320a4f76a06f407ff34,26,6,1,12549,,,0,"Add apparmor rule to support /usr/sbin

It seems that as of Disco *1 /sbin is a symlink to /usr/sbin. This
patch adds support for file in either location.

*1 https://lists.ubuntu.com/archives/ubuntu-devel-announce/2018-November/001253.html

Change-Id: I66fa27f3f5e29d83cfea0f1afb33374303ab4669
Closes-Bug: #1925511
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/00/788000/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,120235f3590d3a1272061320a4f76a06f407ff34,bug/1925511," /{usr/,}sbin/blockdev rix, /{usr/,}sbin/brctl rix, /{usr/,}sbin/iscsiadm rix, /{usr/,}sbin/ldconfig rix, /{usr/,}sbin/ldconfig.real rix, /{usr/,}sbin/mkfs rix, /{usr/,}sbin/mkfs.fat rix, /{usr/,}sbin/hdparm rix, /{usr/,}sbin/xtables-multi rix, /{usr/,}sbin/mkswap rix, /{usr/,}sbin/multipath rix, /{usr/,}sbin/multipathd rix, /{usr/,}sbin/e2label rix, /{usr/,}sbin/tune2fs rix,"," /sbin/blockdev rix, /sbin/brctl rix, /sbin/iscsiadm rix, /sbin/ldconfig rix, /sbin/ldconfig.real rix, /sbin/mkfs rix, /sbin/mkfs.fat rix, /sbin/hdparm rix, /sbin/xtables-multi rix, /sbin/mkswap rix, /sbin/multipath rix, /sbin/multipathd rix, /sbin/e2label rix, /sbin/tune2fs rix,",14,14
openstack%2Fnova~master~I2eef86fc97d0bcb624fc93e6d4455c72a76680e9,openstack/nova,master,I2eef86fc97d0bcb624fc93e6d4455c72a76680e9,Remove get_device_profile_request_groups function in cyborg.py,NEW,2021-03-12 09:19:01.000000000,2021-05-08 02:29:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-03-12 09:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8ed23e365fb51b6845ce14178e473549d84a67f0', 'message': 'Remove get_device_profile_request_groups function in cyborg.py\n\nBetter to use get_device_profile_groups function in cyborg class.\n\nChange-Id: I2eef86fc97d0bcb624fc93e6d4455c72a76680e9\n'}, {'number': 2, 'created': '2021-05-08 00:52:00.000000000', 'files': ['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/accelerator/cyborg.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/36bd1d4b74c8f8aa55fb92ff87a328ddb831986d', 'message': 'Remove get_device_profile_request_groups function in cyborg.py\n\nBetter to use get_device_profile_groups function in cyborg class.\n\nChange-Id: I2eef86fc97d0bcb624fc93e6d4455c72a76680e9\n'}]",0,780206,36bd1d4b74c8f8aa55fb92ff87a328ddb831986d,20,1,2,31412,,,0,"Remove get_device_profile_request_groups function in cyborg.py

Better to use get_device_profile_groups function in cyborg class.

Change-Id: I2eef86fc97d0bcb624fc93e6d4455c72a76680e9
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/780206/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/conductor/test_conductor.py', 'nova/conductor/manager.py', 'nova/accelerator/cyborg.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",5,8ed23e365fb51b6845ce14178e473549d84a67f0,, @mock.patch('nova.accelerator.cyborg._CyborgClient.' 'get_device_profile_groups') mock_get_dp.assert_called_once_with(dp_name)," @mock.patch('nova.accelerator.cyborg.get_device_profile_request_groups') mock_get_dp.assert_called_once_with(self.context, dp_name)",21,20
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a,openstack/python-tripleoclient,stable/wallaby,Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a,Automatically run overcloud export when using ephemeral heat,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:27:52.000000000,2021-05-08 02:25:48.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2a33ad096a03f9b3a85aae3e5224cbae8fa0942b', 'message': ""Automatically run overcloud export when using ephemeral heat\n\nThe overcloud export environment will be automatically created when\nusing ephemeral heat. Since the stack is ephemeral, we need to go ahead\nand do the export before stopping Heat. While we backup the heat db so\nwe have the stack saved if needed, it's just eaiser and eliminates a\nmanual step to do the export if we do it automatically.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a\n""}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6442518e2b6ba4c55eab084fd88547aea5cee638', 'message': ""Automatically run overcloud export when using ephemeral heat\n\nThe overcloud export environment will be automatically created when\nusing ephemeral heat. Since the stack is ephemeral, we need to go ahead\nand do the export before stopping Heat. While we backup the heat db so\nwe have the stack saved if needed, it's just eaiser and eliminates a\nmanual step to do the export if we do it automatically.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a\n""}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/overcloud_export.py', 'tripleoclient/utils.py', 'tripleoclient/export.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/83a59f02d4181c973b40d834d4b278cb1e8bea12', 'message': ""Automatically run overcloud export when using ephemeral heat\n\nThe overcloud export environment will be automatically created when\nusing ephemeral heat. Since the stack is ephemeral, we need to go ahead\nand do the export before stopping Heat. While we backup the heat db so\nwe have the stack saved if needed, it's just eaiser and eliminates a\nmanual step to do the export if we do it automatically.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a\n""}]",0,790120,83a59f02d4181c973b40d834d4b278cb1e8bea12,14,4,3,7144,,,0,"Automatically run overcloud export when using ephemeral heat

The overcloud export environment will be automatically created when
using ephemeral heat. Since the stack is ephemeral, we need to go ahead
and do the export before stopping Heat. While we backup the heat db so
we have the stack saved if needed, it's just eaiser and eliminates a
manual step to do the export if we do it automatically.

Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: Idc326cb7baa54a7d2d01a2be002dfffa6a59ef6a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/20/790120/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_export.py', 'tripleoclient/utils.py', 'tripleoclient/export.py', 'tripleoclient/v1/overcloud_deploy.py']",4,2a33ad096a03f9b3a85aae3e5224cbae8fa0942b,unlock-wallaby," try: if (parsed_args.heat_type != 'installed' and parsed_args.config_download): # Create overcloud export data = utils.export_overcloud( self.orchestration_client, parsed_args.stack, True, False, config_download_dir) export_file = os.path.join( self.working_dir, ""%s-export.yaml"" % parsed_args.stack) # write the exported data with open(export_file, 'w') as f: yaml.safe_dump(data, f, default_flow_style=False) os.chmod(export_file, 0o600) except Exception as e: self.log.error('Exception creating overcloud export.') self.log.error(e) ",,42,13
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I195743213b931460b9a1addf2ffd590679a5495b,openstack/python-tripleoclient,stable/wallaby,I195743213b931460b9a1addf2ffd590679a5495b,Add heat launcher db backup/restore,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:27:02.000000000,2021-05-08 02:25:42.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/38a1bd38563772dab13c3f3e0fd97cdd32ba8f71', 'message': 'Add heat launcher db backup/restore\n\nAdd a database restore/backup. to when heat launcher is\nstarted/stopped. The behavior is toggled with the class parameters\nrestore_db/backup_db.\n\nChange-Id: I195743213b931460b9a1addf2ffd590679a5495b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a68b13b3fb014c0b2f244e8094d60e7939561a6a', 'message': 'Add heat launcher db backup/restore\n\nAdd a database restore/backup. to when heat launcher is\nstarted/stopped. The behavior is toggled with the class parameters\nrestore_db/backup_db.\n\nChange-Id: I195743213b931460b9a1addf2ffd590679a5495b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/heat_launcher.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/726b3a86f7f245dd20057814905278d578e20d9d', 'message': 'Add heat launcher db backup/restore\n\nAdd a database restore/backup. to when heat launcher is\nstarted/stopped. The behavior is toggled with the class parameters\nrestore_db/backup_db.\n\nChange-Id: I195743213b931460b9a1addf2ffd590679a5495b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,790118,726b3a86f7f245dd20057814905278d578e20d9d,14,4,3,7144,,,0,"Add heat launcher db backup/restore

Add a database restore/backup. to when heat launcher is
started/stopped. The behavior is toggled with the class parameters
restore_db/backup_db.

Change-Id: I195743213b931460b9a1addf2ffd590679a5495b
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/18/790118/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/heat_launcher.py', 'tripleoclient/v1/overcloud_deploy.py']",2,38a1bd38563772dab13c3f3e0fd97cdd32ba8f71,unlock-wallaby," restore_db = (parsed_args.setup_only or parsed_args.config_download_only) utils.launch_heat(self.heat_launcher, restore_db=restore_db) utils.rm_heat(self.heat_launcher, backup_db=True) utils.rm_heat(self.heat_launcher, backup_db=True)", utils.launch_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher),43,21
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I5503a0bb632e7ab03e2c6c5fecec617899179525,openstack/python-tripleoclient,stable/wallaby,I5503a0bb632e7ab03e2c6c5fecec617899179525,Add enable_neutron and enable_heat,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:25:45.000000000,2021-05-08 02:25:45.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7cb4b95fded81dc4cc091bf018ab5b3b80b89159', 'message': 'Add enable_neutron and enable_heat\n\nThese new configuration options can be used to optionally disable these\nservices when using ephemeral Heat.\n\nDepends-On: I2c9cf50363579d4e18aaeaf783770ca7a4266622\nChange-Id: I5503a0bb632e7ab03e2c6c5fecec617899179525\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/01128380e09cb7c8dfbfe2df37905906ae75e965', 'message': 'Add enable_neutron and enable_heat\n\nThese new configuration options can be used to optionally disable these\nservices when using ephemeral Heat.\n\nDepends-On: I2c9cf50363579d4e18aaeaf783770ca7a4266622\nChange-Id: I5503a0bb632e7ab03e2c6c5fecec617899179525\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/add-enable_neutron_heat-8d799d8ffc76f6da.yaml', 'tripleoclient/tests/config/test_config_standalone.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/769788f1b27d1e0c8a4842018d661cfadddf053c', 'message': 'Add enable_neutron and enable_heat\n\nThese new configuration options can be used to optionally disable these\nservices when using ephemeral Heat.\n\nDepends-On: I2c9cf50363579d4e18aaeaf783770ca7a4266622\nChange-Id: I5503a0bb632e7ab03e2c6c5fecec617899179525\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,790119,769788f1b27d1e0c8a4842018d661cfadddf053c,13,4,3,7144,,,0,"Add enable_neutron and enable_heat

These new configuration options can be used to optionally disable these
services when using ephemeral Heat.

Depends-On: I2c9cf50363579d4e18aaeaf783770ca7a4266622
Change-Id: I5503a0bb632e7ab03e2c6c5fecec617899179525
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/19/790119/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/config/standalone.py', 'tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/add-enable_neutron_heat-8d799d8ffc76f6da.yaml', 'tripleoclient/tests/config/test_config_standalone.py', 'tripleoclient/tests/config/test_config_undercloud.py', 'tripleoclient/v1/overcloud_deploy.py']",7,7cb4b95fded81dc4cc091bf018ab5b3b80b89159,unlock-wallaby, if not conn.endpoint_for('network'): return dict() ,,39,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735,openstack/python-tripleoclient,stable/wallaby,I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735,Support using ephemeral Heat,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:06:10.000000000,2021-05-08 02:04:01.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2e33310f8544e02ebe1552a8a68953f84af4ab7c', 'message': 'Support using ephemeral Heat\n\nThis patch begins to add support for using the ephemeral Heat process\nto the overcloud deploy command.\n\nThe functionality is enabled with the newly added --heat-type cli arg,\nwhich can be used to select the heat type to be used by the deployment\nplaybooks and modules.  The options are:\n\ninstalled: current behavior using Heat installed on the undercloud\npod: ephemeral Heat podman pod (heat-api/engine)\ncontainer: ephemeral Heat podman container (heat-all)\nnative: ephemeral Heat native heat-all process\n\nThe default is ""installed"" initially to preserve the existing\nfunctionality.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nImplements: blueprint ephemeral-heat-overcloud\nChange-Id: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/03992850b94af4b3302214e0f2812238307003aa', 'message': 'Support using ephemeral Heat\n\nThis patch begins to add support for using the ephemeral Heat process\nto the overcloud deploy command.\n\nThe functionality is enabled with the newly added --heat-type cli arg,\nwhich can be used to select the heat type to be used by the deployment\nplaybooks and modules.  The options are:\n\ninstalled: current behavior using Heat installed on the undercloud\npod: ephemeral Heat podman pod (heat-api/engine)\ncontainer: ephemeral Heat podman container (heat-all)\nnative: ephemeral Heat native heat-all process\n\nThe default is ""installed"" initially to preserve the existing\nfunctionality.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nImplements: blueprint ephemeral-heat-overcloud\nChange-Id: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'releasenotes/notes/add-heat-type-cli-arg-2fa4f47a835aafea.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0e6f6f0b899fed49aed742f9101c8714bea787b1', 'message': 'Support using ephemeral Heat\n\nThis patch begins to add support for using the ephemeral Heat process\nto the overcloud deploy command.\n\nThe functionality is enabled with the newly added --heat-type cli arg,\nwhich can be used to select the heat type to be used by the deployment\nplaybooks and modules.  The options are:\n\ninstalled: current behavior using Heat installed on the undercloud\npod: ephemeral Heat podman pod (heat-api/engine)\ncontainer: ephemeral Heat podman container (heat-all)\nnative: ephemeral Heat native heat-all process\n\nThe default is ""installed"" initially to preserve the existing\nfunctionality.\n\nSigned-off-by: James Slagle <jslagle@redhat.com>\nImplements: blueprint ephemeral-heat-overcloud\nChange-Id: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735\n'}]",0,790117,0e6f6f0b899fed49aed742f9101c8714bea787b1,14,4,3,7144,,,0,"Support using ephemeral Heat

This patch begins to add support for using the ephemeral Heat process
to the overcloud deploy command.

The functionality is enabled with the newly added --heat-type cli arg,
which can be used to select the heat type to be used by the deployment
playbooks and modules.  The options are:

installed: current behavior using Heat installed on the undercloud
pod: ephemeral Heat podman pod (heat-api/engine)
container: ephemeral Heat podman container (heat-all)
native: ephemeral Heat native heat-all process

The default is ""installed"" initially to preserve the existing
functionality.

Signed-off-by: James Slagle <jslagle@redhat.com>
Implements: blueprint ephemeral-heat-overcloud
Change-Id: I8fb6ca088b1052488ff4f9ada4d3ab29c0be4735
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/790117/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/constants.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/heat_launcher.py', 'releasenotes/notes/add-heat-type-cli-arg-2fa4f47a835aafea.yaml', 'tripleoclient/v1/overcloud_deploy.py']",8,2e33310f8544e02ebe1552a8a68953f84af4ab7c,unlock-wallaby," def _update_parameters(self, args, parameters, tht_root, user_tht_root): if args.heat_type != 'installed': heat = None else: heat = self.orchestration_client # Check for existing passwords file password_params_path = os.path.join( self.working_dir, constants.PASSWORDS_ENV_FORMAT.format(args.stack)) if os.path.exists(password_params_path): with open(password_params_path, 'r') as f: passwords_env = yaml.safe_load(f.read()) else: passwords_env = None None, heat, args.stack, passwords_env=passwords_env) # Save generated passwords file with open(password_params_path, 'w') as f: f.write(yaml.safe_dump(dict(parameter_defaults=password_params))) os.chmod(password_params_path, 0o600) ('NovaComputeLibvirtType', 'libvirt_type'), def create_template_dirs(self, parsed_args): return new_tht_root, tht_root def create_params_and_env_files(self, new_tht_root, user_tht_root, parsed_args): os.path.join(new_tht_root, constants.DEFAULT_RESOURCE_REGISTRY)) created_env_files.extend( self._provision_baremetal(parsed_args, new_tht_root)) _, env = utils.process_multiple_environments( created_env_files, new_tht_root, user_tht_root, cleanup=(not parsed_args.no_cleanup)) default_image_params = plan_utils.default_image_params() image_params = {} if not parsed_args.disable_container_prepare: image_params = kolla_builder.container_images_prepare_multi( env, roles.get_roles_data(parsed_args.roles_file, new_tht_root), dry_run=True) if image_params: default_image_params.update(image_params) parameters.update(default_image_params) self._update_parameters( parsed_args, parameters, new_tht_root, user_tht_root) return parameters, created_env_files def deploy_tripleo_heat_templates(self, stack, parsed_args, new_tht_root, user_tht_root, parameters, created_env_files): """"""Deploy the fixed templates in TripleO Heat Templates"""""" self.log.info(""Processing templates in the directory {0}"".format( os.path.abspath(new_tht_root))) stack_is_new = stack is None parameters['StackAction'] = 'CREATE' if stack_is_new else 'UPDATE' parameters, new_tht_root, parsed_args.stack) os.path.join( new_tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) new_tht_root, parsed_args.stack) created_env_files, new_tht_root, user_tht_root, 'derived_parameters.yaml', new_tht_root) self.clients, parsed_args.stack, new_tht_root, env_files, created_env_files, new_tht_root, user_tht_root, self._copy_env_files(env_files, new_tht_root) new_tht_root, stack, parser.add_argument( '--heat-type', action='store', default='installed', choices=['system', 'pod', 'container', 'native'], help=_('The type of Heat process to use to execute ' 'the deployment.\n' 'installed (Default): Use the system installed ' 'Heat.\n' 'pod: Use an ephemeral Heat pod.\n' 'container: Use an ephemeral Heat container.\n' 'native: Use an ephemeral Heat process.') ) parser.add_argument( '--rm-heat', action='store_true', default=False, help=_('If specified and --heat-type is container or pod ' 'any existing container or pod of a previous ' 'ephemeral Heat process will be deleted first. ' 'Ignored if --heat-type is native.') ) parser.add_argument( '--skip-heat-pull', action='store_true', default=False, help=_('When --heat-type is pod or container, assume ' 'the container image has already been pulled ') ) self.heat_launcher = None stack = None stack_create = None new_tht_root, user_tht_root = \ self.create_template_dirs(parsed_args) parameters, created_env_files = \ self.create_params_and_env_files( new_tht_root, user_tht_root, parsed_args) if parsed_args.heat_type != 'installed': self.log.info(""Using tripleo-deploy with "" ""ephemeral heat-all for stack operation"") api_container_image = parameters['ContainerHeatApiImage'] engine_container_image = \ parameters['ContainerHeatEngineImage'] self.heat_launcher = utils.get_heat_launcher( parsed_args.heat_type, api_container_image=api_container_image, engine_container_image=engine_container_image, heat_dir=os.path.join(self.working_dir, 'heat-launcher'), use_tmp_dir=False, rm_heat=parsed_args.rm_heat, skip_heat_pull=parsed_args.skip_heat_pull) self.orchestration_client = \ utils.launch_heat(self.heat_launcher) self.clients.orchestration = self.orchestration_client try: if parsed_args.heat_type == 'installed': stack = utils.get_stack(self.orchestration_client, parsed_args.stack) stack_create = stack is None if stack_create: self.log.info(""No stack found, "" ""will be doing a stack create"") else: self.log.info(""Stack found, "" ""will be doing a stack update"") if not (parsed_args.config_download_only or parsed_args.setup_only): self.deploy_tripleo_heat_templates( stack, parsed_args, new_tht_root, user_tht_root, parameters, created_env_files) except Exception: if parsed_args.heat_type != 'installed' and self.heat_launcher: self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher) raise stack=stack.stack_name, heat_type=parsed_args.heat_type) config_download_dir = parsed_args.output_dir or \ os.path.join(self.working_dir, ""config-download"") verbosity=utils.playbook_verbosity(self=self), heat_type=parsed_args.heat_type verbosity=utils.playbook_verbosity(self=self), heat_type=parsed_args.heat_type if parsed_args.heat_type != 'installed': self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher) "," def _update_parameters(self, args, stack, tht_root, user_tht_root): parameters = {} stack_is_new = stack is None parameters['StackAction'] = 'CREATE' if stack_is_new else 'UPDATE' # We need the processed env for the image parameters atm env_files = [] env_files.append( os.path.join(tht_root, constants.DEFAULT_RESOURCE_REGISTRY)) if args.environment_directories: env_files.extend(utils.load_environment_directories( args.environment_directories)) if args.environment_files: env_files.extend(args.environment_files) _, env = utils.process_multiple_environments( env_files, tht_root, user_tht_root, cleanup=(not args.no_cleanup)) default_image_params = plan_utils.default_image_params() image_params = {} if not args.disable_container_prepare: image_params = kolla_builder.container_images_prepare_multi( env, roles.get_roles_data(args.roles_file, tht_root), dry_run=True) if image_params: default_image_params.update(image_params) parameters.update(default_image_params) None, self.orchestration_client, args.stack) if stack_is_new: new_stack_args = ( ('NovaComputeLibvirtType', 'libvirt_type'), ) param_args = param_args + new_stack_args def _deploy_tripleo_heat_templates_tmpdir(self, stack, parsed_args): self._deploy_tripleo_heat_templates(stack, parsed_args, new_tht_root, tht_root) def _deploy_tripleo_heat_templates(self, stack, parsed_args, tht_root, user_tht_root): """"""Deploy the fixed templates in TripleO Heat Templates"""""" self.log.info(""Processing templates in the directory {0}"".format( os.path.abspath(tht_root))) os.path.join(tht_root, constants.DEFAULT_RESOURCE_REGISTRY)) created_env_files.extend( self._provision_baremetal(parsed_args, tht_root)) parameters.update(self._update_parameters( parsed_args, stack, tht_root, user_tht_root)) parameters, tht_root, parsed_args.stack) os.path.join(tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) tht_root, parsed_args.stack) created_env_files, tht_root, user_tht_root, 'derived_parameters.yaml', tht_root) self.clients, parsed_args.stack, tht_root, env_files, created_env_files, tht_root, user_tht_root, self._copy_env_files(env_files, tht_root) tht_root, stack, stack = utils.get_stack(self.orchestration_client, parsed_args.stack) stack_create = stack is None if stack_create: self.log.info(""No stack found, will be doing a stack create"") else: self.log.info(""Stack found, will be doing a stack update"") if not parsed_args.config_download_only: self._deploy_tripleo_heat_templates_tmpdir(stack, parsed_args) stack=stack.stack_name) verbosity=utils.playbook_verbosity(self=self) config_download_dir = parsed_args.output_dir or \ os.path.join(self.working_dir, ""config-download"") verbosity=utils.playbook_verbosity(self=self)",319,191
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Id5415a94f71cbed5fad9856fd68e109979ffd491,openstack/python-tripleoclient,stable/wallaby,Id5415a94f71cbed5fad9856fd68e109979ffd491,Don't allow Redis/OvnDBs VIP in resource_registry,MERGED,2021-05-06 16:47:06.000000000,2021-05-08 02:05:10.000000000,2021-05-08 02:03:58.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/27f1a34e34d65f6b16a622c962338d3e40a3ee4f', 'message': ""Don't allow Redis/OvnDBs VIP in resource_registry\n\nIn the depends-on change the Redis and OvnDBs VIP is\nrefactored to the respective service templates.\n\nThis adds a validation to raise a ConfigurationError\nin case the resource registry contains the deprecated\nresoirce definitions:\n  OS::TripleO::Network::Ports::RedisVipPort\n  OS::TripleO::Network::Ports::OVNDBsVipPort\n\nDepends-On: https://review.opendev.org/777259\nChange-Id: Id5415a94f71cbed5fad9856fd68e109979ffd491\n""}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8667255c8864d2847bc8465f0cc80c9f1e7174ad', 'message': ""Don't allow Redis/OvnDBs VIP in resource_registry\n\nIn the depends-on change the Redis and OvnDBs VIP is\nrefactored to the respective service templates.\n\nThis adds a validation to raise a ConfigurationError\nin case the resource registry contains the deprecated\nresoirce definitions:\n  OS::TripleO::Network::Ports::RedisVipPort\n  OS::TripleO::Network::Ports::OVNDBsVipPort\n\nDepends-On: https://review.opendev.org/777259\nChange-Id: Id5415a94f71cbed5fad9856fd68e109979ffd491\n""}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8c90a0c70aad443706b104243fc89cac11eace48', 'message': ""Don't allow Redis/OvnDBs VIP in resource_registry\n\nIn the depends-on change the Redis and OvnDBs VIP is\nrefactored to the respective service templates.\n\nThis adds a validation to raise a ConfigurationError\nin case the resource registry contains the deprecated\nresoirce definitions:\n  OS::TripleO::Network::Ports::RedisVipPort\n  OS::TripleO::Network::Ports::OVNDBsVipPort\n\nDepends-On: https://review.opendev.org/777259\nChange-Id: Id5415a94f71cbed5fad9856fd68e109979ffd491\n""}]",0,790116,8c90a0c70aad443706b104243fc89cac11eace48,23,4,3,7144,,,0,"Don't allow Redis/OvnDBs VIP in resource_registry

In the depends-on change the Redis and OvnDBs VIP is
refactored to the respective service templates.

This adds a validation to raise a ConfigurationError
in case the resource registry contains the deprecated
resoirce definitions:
  OS::TripleO::Network::Ports::RedisVipPort
  OS::TripleO::Network::Ports::OVNDBsVipPort

Depends-On: https://review.opendev.org/777259
Change-Id: Id5415a94f71cbed5fad9856fd68e109979ffd491
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/790116/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",4,27f1a34e34d65f6b16a622c962338d3e40a3ee4f,unlock-wallaby," # check migration to service vips managed by servce utils.check_service_vips_migrated_to_service(stack, env)",,62,6
openstack%2Fnova~master~I5ca2439c948687022f8d88df978bc7ee77199fcc,openstack/nova,master,I5ca2439c948687022f8d88df978bc7ee77199fcc,Remove references to 'sys.version_info',MERGED,2021-04-21 11:04:25.000000000,2021-05-08 01:57:57.000000000,2021-05-03 14:21:55.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-04-21 11:04:25.000000000', 'files': ['doc/ext/feature_matrix.py', 'nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/unit/virt/libvirt/test_guest.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bab3c8f3cba87b75d271308ef35dada18afaa03b', 'message': ""Remove references to 'sys.version_info'\n\nWe support Python 3.6 as a minimum now, making these checks no-ops.\n\nChange-Id: I5ca2439c948687022f8d88df978bc7ee77199fcc\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,787348,bab3c8f3cba87b75d271308ef35dada18afaa03b,70,5,1,15334,,,0,"Remove references to 'sys.version_info'

We support Python 3.6 as a minimum now, making these checks no-ops.

Change-Id: I5ca2439c948687022f8d88df978bc7ee77199fcc
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/787348/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/ext/feature_matrix.py', 'nova/console/websocketproxy.py', 'nova/tests/unit/console/test_websocketproxy.py', 'nova/tests/unit/virt/libvirt/test_guest.py']",4,bab3c8f3cba87b75d271308ef35dada18afaa03b,trivial,,"import sys if sys.version_info > (3,): long = int ",5,53
openstack%2Fheat-agents~master~I45f877a07a6ffb84f630b998f32e4befb4bdffe9,openstack/heat-agents,master,I45f877a07a6ffb84f630b998f32e4befb4bdffe9,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 03:04:25.000000000,2021-05-08 00:50:15.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 03:04:25.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/35d13eeaa2d3d132794e0aa81528158fd1ad9e99', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I45f877a07a6ffb84f630b998f32e4befb4bdffe9\n""}]",0,787052,35d13eeaa2d3d132794e0aa81528158fd1ad9e99,4,2,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I45f877a07a6ffb84f630b998f32e4befb4bdffe9
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/52/787052/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,35d13eeaa2d3d132794e0aa81528158fd1ad9e99,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fheat-tempest-plugin~master~Ieba8a4a17b65089670cfba19905acc7c15c1f364,openstack/heat-tempest-plugin,master,Ieba8a4a17b65089670cfba19905acc7c15c1f364,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 03:03:21.000000000,2021-05-08 00:49:56.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 03:03:21.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/235e2324b9cf131629dc8d132fcc5dc0f6c8a7c5', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Ieba8a4a17b65089670cfba19905acc7c15c1f364\n""}]",0,787051,235e2324b9cf131629dc8d132fcc5dc0f6c8a7c5,4,2,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ieba8a4a17b65089670cfba19905acc7c15c1f364
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/51/787051/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,235e2324b9cf131629dc8d132fcc5dc0f6c8a7c5,,"envlist = py3,pep8","envlist = py37,pep8",1,1
openstack%2Fheat-dashboard~master~I8f5f1e46ad96976b4bc1a0deeab7ec2160c7d213,openstack/heat-dashboard,master,I8f5f1e46ad96976b4bc1a0deeab7ec2160c7d213,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 03:02:28.000000000,2021-05-08 00:49:32.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 03:02:28.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/5afb425209a131674627f37a1272ffdf7d2ba635', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I8f5f1e46ad96976b4bc1a0deeab7ec2160c7d213\n""}]",0,787050,5afb425209a131674627f37a1272ffdf7d2ba635,4,2,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I8f5f1e46ad96976b4bc1a0deeab7ec2160c7d213
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/50/787050/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5afb425209a131674627f37a1272ffdf7d2ba635,,"envlist = py3,pep8,releasenotes","envlist = py36,py37,pep8,releasenotes",1,1
openstack%2Fheat-translator~master~Ib1f3018a483a5c2cc7e5e4484c5dcbd9ed86c274,openstack/heat-translator,master,Ib1f3018a483a5c2cc7e5e4484c5dcbd9ed86c274,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 03:20:38.000000000,2021-05-08 00:49:17.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 03:20:38.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-translator/commit/890171d554a5771fe0c2bcce83cbb1a481b8a822', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Ib1f3018a483a5c2cc7e5e4484c5dcbd9ed86c274\n""}]",0,787057,890171d554a5771fe0c2bcce83cbb1a481b8a822,4,2,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ib1f3018a483a5c2cc7e5e4484c5dcbd9ed86c274
",git fetch https://review.opendev.org/openstack/heat-translator refs/changes/57/787057/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,890171d554a5771fe0c2bcce83cbb1a481b8a822,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fstorlets~master~I7edd842327fd8fba67701b4a8d6fe3d94748cc8b,openstack/storlets,master,I7edd842327fd8fba67701b4a8d6fe3d94748cc8b,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 01:33:47.000000000,2021-05-08 00:44:14.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 01:33:47.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/storlets/commit/9f5a8a98e58b5aa208e6ac237ac8e849c0b1dfd6', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I7edd842327fd8fba67701b4a8d6fe3d94748cc8b\n""}]",0,787007,9f5a8a98e58b5aa208e6ac237ac8e849c0b1dfd6,4,2,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I7edd842327fd8fba67701b4a8d6fe3d94748cc8b
",git fetch https://review.opendev.org/openstack/storlets refs/changes/07/787007/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9f5a8a98e58b5aa208e6ac237ac8e849c0b1dfd6,,"envlist = py27,py3,pep8","envlist = py27,py36,py38,pep8",1,1
openstack%2Fpython-novaclient~master~Iff4786b998978e579918ff8dd1b83da6cebcf1ec,openstack/python-novaclient,master,Iff4786b998978e579918ff8dd1b83da6cebcf1ec,Dropping lower constraints testing,ABANDONED,2021-04-25 02:47:54.000000000,2021-05-08 00:43:13.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-25 02:47:54.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/cb7001c66e04c075515dd6baae4472ae9f995dc9', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Iff4786b998978e579918ff8dd1b83da6cebcf1ec\n'}]",0,787860,cb7001c66e04c075515dd6baae4472ae9f995dc9,4,2,1,31412,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Iff4786b998978e579918ff8dd1b83da6cebcf1ec
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/60/787860/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,cb7001c66e04c075515dd6baae4472ae9f995dc9,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,106
openstack%2Fheat~master~Iffef519ab3d3a48e2c60b91a157c8e336b25a3c5,openstack/heat,master,Iffef519ab3d3a48e2c60b91a157c8e336b25a3c5,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 03:00:09.000000000,2021-05-08 00:42:11.000000000,,"[{'_account_id': 12404}, {'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 03:00:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/5e7a9866b0b5985d727bf4151e774a563a2fd2bd', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Iffef519ab3d3a48e2c60b91a157c8e336b25a3c5\n""}]",1,787048,5e7a9866b0b5985d727bf4151e774a563a2fd2bd,6,3,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Iffef519ab3d3a48e2c60b91a157c8e336b25a3c5
",git fetch https://review.opendev.org/openstack/heat refs/changes/48/787048/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5e7a9866b0b5985d727bf4151e774a563a2fd2bd,,"envlist = py3,pep8","envlist = py36,py37,py38,pep8",1,1
openstack%2Fneutron-lib~master~I7abff46a11f84ddc74d5e29daaee40d41db9a188,openstack/neutron-lib,master,I7abff46a11f84ddc74d5e29daaee40d41db9a188,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 01:43:48.000000000,2021-05-08 00:39:31.000000000,,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 01:43:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ce34c11c7da3b6cdb5c223c92f53ea37b11ac271', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I7abff46a11f84ddc74d5e29daaee40d41db9a188\n""}]",0,787011,ce34c11c7da3b6cdb5c223c92f53ea37b11ac271,4,3,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I7abff46a11f84ddc74d5e29daaee40d41db9a188
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/11/787011/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ce34c11c7da3b6cdb5c223c92f53ea37b11ac271,,"envlist = py3,pep8","envlist = py38,pep8",1,1
openstack%2Fnova~master~Id34c8ed85de592c760a42d6bd8e5ad5f70309e34,openstack/nova,master,Id34c8ed85de592c760a42d6bd8e5ad5f70309e34,Dropping lower constraints testing,ABANDONED,2021-04-25 03:15:26.000000000,2021-05-08 00:39:00.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-25 03:15:26.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/acbbb7fca2a37bcaac26a2c4ffad911de7aa2b79', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: Id34c8ed85de592c760a42d6bd8e5ad5f70309e34\n'}]",0,787866,acbbb7fca2a37bcaac26a2c4ffad911de7aa2b79,8,2,1,31412,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: Id34c8ed85de592c760a42d6bd8e5ad5f70309e34
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/787866/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,acbbb7fca2a37bcaac26a2c4ffad911de7aa2b79,,, [testenv:lower-constraints] usedevelop = False deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,173
openstack%2Ftripleo-validations~stable%2Ftrain~I2cf2280e4a4599f60c0cce550358f9cf3a20f802,openstack/tripleo-validations,stable/train,I2cf2280e4a4599f60c0cce550358f9cf3a20f802,Validation should use the public endpoint,MERGED,2021-04-30 00:24:59.000000000,2021-05-08 00:22:39.000000000,2021-05-08 00:22:39.000000000,"[{'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-30 00:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/95ef8c0e48bdf43183c88e7ebb579813ed01d9b1', 'message': ""Validation should use the public endpoint\n\nIt was erroneous to use the admin endpoint as it's not accessible from\nthe undercloud anymore.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1921114\nChange-Id: I2cf2280e4a4599f60c0cce550358f9cf3a20f802\n(cherry picked from commit 7e5f0acbe2ed630e3a251c2db74a88833a9fa07f)\n(cherry picked from commit d7b344b5d1caf55d9c34bc8cf813463f2de2e3d7)\n(cherry picked from commit 55dad79081a88c309308dc85e585944aff83ea38)\n""}, {'number': 2, 'created': '2021-04-30 00:36:23.000000000', 'files': ['roles/overcloud_service_status/tasks/os_service.yml', 'roles/overcloud_service_status/resources/scripts/http_server.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/07ffeb147a59593517dbe15116e40c4ad77413ad', 'message': ""Validation should use the public endpoint\n\nIt was erroneous to use the admin endpoint as it's not accessible from\nthe undercloud anymore.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1921114\n\nConflict:\n  roles/overcloud_service_status/resources/scripts/http_server.py\n\nNOTE(dvd): Train supports python2 so the url formatting is a bit\ndifferent.\n\nChange-Id: I2cf2280e4a4599f60c0cce550358f9cf3a20f802\n(cherry picked from commit 7e5f0acbe2ed630e3a251c2db74a88833a9fa07f)\n(cherry picked from commit d7b344b5d1caf55d9c34bc8cf813463f2de2e3d7)\n(cherry picked from commit 55dad79081a88c309308dc85e585944aff83ea38)\n""}]",0,788769,07ffeb147a59593517dbe15116e40c4ad77413ad,12,7,2,27419,,,0,"Validation should use the public endpoint

It was erroneous to use the admin endpoint as it's not accessible from
the undercloud anymore.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1921114

Conflict:
  roles/overcloud_service_status/resources/scripts/http_server.py

NOTE(dvd): Train supports python2 so the url formatting is a bit
different.

Change-Id: I2cf2280e4a4599f60c0cce550358f9cf3a20f802
(cherry picked from commit 7e5f0acbe2ed630e3a251c2db74a88833a9fa07f)
(cherry picked from commit d7b344b5d1caf55d9c34bc8cf813463f2de2e3d7)
(cherry picked from commit 55dad79081a88c309308dc85e585944aff83ea38)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/69/788769/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud_service_status/tasks/os_service.yml', 'roles/overcloud_service_status/resources/scripts/http_server.py']",2,95ef8c0e48bdf43183c88e7ebb579813ed01d9b1,,"<<<<<<< HEAD (7bb61c Merge ""More detail in arg validation"" into stable/train)======= ""url"": f""{server_url}:{server_port}/cinder"", ""interface"": ""public"", >>>>>>> CHANGE (55dad7 Validation should use the public endpoint)<<<<<<< HEAD (7bb61c Merge ""More detail in arg validation"" into stable/train)======= ""url"": f""{server_url}:{server_port}/cinder"", ""interface"": ""public"", >>>>>>> CHANGE (55dad7 Validation should use the public endpoint)<<<<<<< HEAD (7bb61c Merge ""More detail in arg validation"" into stable/train)======= ""url"": f""{server_url}:{server_port}/cinder"", ""interface"": ""public"", >>>>>>> CHANGE (55dad7 Validation should use the public endpoint)<<<<<<< HEAD (7bb61c Merge ""More detail in arg validation"" into stable/train)======= ""url"": f""{server_url}:{server_port}/nova"", ""interface"": ""public"", >>>>>>> CHANGE (55dad7 Validation should use the public endpoint)<<<<<<< HEAD (7bb61c Merge ""More detail in arg validation"" into stable/train)======= ""url"": f""{server_url}:{server_port}/nova"", ""interface"": ""public"", >>>>>>> CHANGE (55dad7 Validation should use the public endpoint)<<<<<<< HEAD (7bb61c Merge ""More detail in arg validation"" into stable/train)======= ""url"": f""{server_url}:{server_port}/nova"", ""interface"": ""public"", >>>>>>> CHANGE (55dad7 Validation should use the public endpoint)",,32,2
openstack%2Fpyeclib~master~Ie72e992842b9af36c41761c3c722b5a4809e5637,openstack/pyeclib,master,Ie72e992842b9af36c41761c3c722b5a4809e5637,DO NOT MERGE - testing new gate job,ABANDONED,2017-04-05 19:58:24.000000000,2021-05-08 00:14:36.000000000,,"[{'_account_id': 3}, {'_account_id': 9625}]","[{'number': 1, 'created': '2017-04-05 19:58:24.000000000', 'files': ['test/test_pyeclib_api.py'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/e15c95bd768095cff93e561d941f8327c908543e', 'message': 'DO NOT MERGE - testing new gate job\n\nChange-Id: Ie72e992842b9af36c41761c3c722b5a4809e5637\n'}]",0,453847,e15c95bd768095cff93e561d941f8327c908543e,5,2,1,9625,,,0,"DO NOT MERGE - testing new gate job

Change-Id: Ie72e992842b9af36c41761c3c722b5a4809e5637
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/47/453847/1 && git format-patch -1 --stdout FETCH_HEAD,['test/test_pyeclib_api.py'],1,e15c95bd768095cff93e561d941f8327c908543e,, def test_against_libec_master(self): self.assertTrue(True) ,,3,0
openstack%2Fpyeclib~master~Ib992dacb5aae61ff642c29ca5a0dd228cd121821,openstack/pyeclib,master,Ib992dacb5aae61ff642c29ca5a0dd228cd121821,Zuul: add file extension to playbook path,ABANDONED,2017-11-29 00:32:56.000000000,2021-05-08 00:13:48.000000000,,"[{'_account_id': 1}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-29 00:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/c89eee3e7afbc3092cdcb6b961d981e5e454b584', 'message': 'Zuul: add file extension to playbook path\n\nZuul now supports including the file extension on the playbook path\nand omitting the extension is now deprecrated.  Update references\nto include the extension.\n\nChange-Id: Ib992dacb5aae61ff642c29ca5a0dd228cd121821\n'}, {'number': 2, 'created': '2017-11-29 00:41:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/pyeclib/commit/e90dc37524a52aaeb183b7b792e4d2fb814fa653', 'message': 'Zuul: add file extension to playbook path\n\nZuul now supports including the file extension on the playbook path\nand omitting the extension is now deprecrated.  Update references\nto include the extension.\n\nChange-Id: Ib992dacb5aae61ff642c29ca5a0dd228cd121821\n'}]",0,523618,e90dc37524a52aaeb183b7b792e4d2fb814fa653,7,2,2,1,,,0,"Zuul: add file extension to playbook path

Zuul now supports including the file extension on the playbook path
and omitting the extension is now deprecrated.  Update references
to include the extension.

Change-Id: Ib992dacb5aae61ff642c29ca5a0dd228cd121821
",git fetch https://review.opendev.org/openstack/pyeclib refs/changes/18/523618/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c89eee3e7afbc3092cdcb6b961d981e5e454b584,zuulv3-paths, run: playbooks/legacy/pyeclib-tox-py27-centos-7/run.yaml post-run: playbooks/legacy/pyeclib-tox-py27-centos-7/post.yaml run: playbooks/legacy/libec-pyeclib-unit-centos-7/run.yaml run: playbooks/legacy/libec-pyeclib-unit/run.yaml, run: playbooks/legacy/pyeclib-tox-py27-centos-7/run post-run: playbooks/legacy/pyeclib-tox-py27-centos-7/post run: playbooks/legacy/libec-pyeclib-unit-centos-7/run run: playbooks/legacy/libec-pyeclib-unit/run,4,4
openstack%2Fcinder~stable%2Ftrain~I84629cde6d27d6889a30d7c13d99f57c660adde7,openstack/cinder,stable/train,I84629cde6d27d6889a30d7c13d99f57c660adde7,[SVF]:Fix clone fcmap not being deleted in cleanup,MERGED,2021-03-08 09:23:07.000000000,2021-05-07 22:28:48.000000000,2021-05-07 22:27:21.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32036}]","[{'number': 1, 'created': '2021-03-08 09:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4066b34fb004915294f4faf7486ae3dbcc4d4ef9', 'message': '[SVF]:Fix clone fcmap not being deleted in cleanup\n\n[Spectrum Virtualize Family] check_vdisk_fc_mappings is not deleting\nclone fc maps, if the flashcopy status is in copying autodelete is set\nto on and copy progress is 100%. when multiple clones and snapshots\nare created using common source volume, deleting the source volume\nis not removing all the fcmaps involved in mapping with source volume.\n\nThis patch fixes the issue by removing the clone fcmap and then\nremoving the snapshot fcmap when the source has more than one fcmap.\n\nCloses-Bug: #1890254\n\nChange-Id: I84629cde6d27d6889a30d7c13d99f57c660adde7\n(cherry picked from commit 3570a79a16127fd42216aa40b4f492e40533f0ed)\n(cherry picked from commit 6e592a8dd49a85f8658ffeeb8c95a9d39f1d8507)\n(cherry picked from commit c469c1294d5a09f926905414f505d6e84ebaf506)\n'}, {'number': 2, 'created': '2021-03-08 11:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/108aeff0f27e72197a6c263595148d65583dafb3', 'message': '[SVF]:Fix clone fcmap not being deleted in cleanup\n\n[Spectrum Virtualize Family] check_vdisk_fc_mappings is not deleting\nclone fc maps, if the flashcopy status is in copying autodelete is set\nto on and copy progress is 100%. when multiple clones and snapshots\nare created using common source volume, deleting the source volume\nis not removing all the fcmaps involved in mapping with source volume.\n\nThis patch fixes the issue by removing the clone fcmap and then\nremoving the snapshot fcmap when the source has more than one fcmap.\n\nCloses-Bug: #1890254\n\nChange-Id: I84629cde6d27d6889a30d7c13d99f57c660adde7\n(cherry picked from commit 3570a79a16127fd42216aa40b4f492e40533f0ed)\n(cherry picked from commit 6e592a8dd49a85f8658ffeeb8c95a9d39f1d8507)\n(cherry picked from commit c469c1294d5a09f926905414f505d6e84ebaf506)\n'}, {'number': 3, 'created': '2021-05-07 06:19:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6979dd01257ba9c40399d21dc6ff84a0152adf1', 'message': '[SVF]:Fix clone fcmap not being deleted in cleanup\n\n[Spectrum Virtualize Family] check_vdisk_fc_mappings is not deleting\nclone fc maps, if the flashcopy status is in copying autodelete is set\nto on and copy progress is 100%. when multiple clones and snapshots\nare created using common source volume, deleting the source volume\nis not removing all the fcmaps involved in mapping with source volume.\n\nThis patch fixes the issue by removing the clone fcmap and then\nremoving the snapshot fcmap when the source has more than one fcmap.\n\nCloses-Bug: #1890254\n\nChange-Id: I84629cde6d27d6889a30d7c13d99f57c660adde7\n(cherry picked from commit 3570a79a16127fd42216aa40b4f492e40533f0ed)\n(cherry picked from commit 6e592a8dd49a85f8658ffeeb8c95a9d39f1d8507)\n(cherry picked from commit c469c1294d5a09f926905414f505d6e84ebaf506)\n'}, {'number': 4, 'created': '2021-05-07 14:49:20.000000000', 'files': ['releasenotes/notes/bug-1890254-clone-fcmap-is-not-deleting-in-cleanup-f5bbb467be1b889d.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d10e63bdf38fd174a2e367abc12e98bb415fae5', 'message': '[SVF]:Fix clone fcmap not being deleted in cleanup\n\n[Spectrum Virtualize Family] check_vdisk_fc_mappings is not deleting\nclone fc maps, if the flashcopy status is in copying autodelete is set\nto on and copy progress is 100%. when multiple clones and snapshots\nare created using common source volume, deleting the source volume\nis not removing all the fcmaps involved in mapping with source volume.\n\nThis patch fixes the issue by removing the clone fcmap and then\nremoving the snapshot fcmap when the source has more than one fcmap.\n\nCloses-Bug: #1890254\n\nChange-Id: I84629cde6d27d6889a30d7c13d99f57c660adde7\n(cherry picked from commit 3570a79a16127fd42216aa40b4f492e40533f0ed)\n(cherry picked from commit 6e592a8dd49a85f8658ffeeb8c95a9d39f1d8507)\n(cherry picked from commit c469c1294d5a09f926905414f505d6e84ebaf506)\n'}]",0,779141,1d10e63bdf38fd174a2e367abc12e98bb415fae5,55,5,4,32171,,,0,"[SVF]:Fix clone fcmap not being deleted in cleanup

[Spectrum Virtualize Family] check_vdisk_fc_mappings is not deleting
clone fc maps, if the flashcopy status is in copying autodelete is set
to on and copy progress is 100%. when multiple clones and snapshots
are created using common source volume, deleting the source volume
is not removing all the fcmaps involved in mapping with source volume.

This patch fixes the issue by removing the clone fcmap and then
removing the snapshot fcmap when the source has more than one fcmap.

Closes-Bug: #1890254

Change-Id: I84629cde6d27d6889a30d7c13d99f57c660adde7
(cherry picked from commit 3570a79a16127fd42216aa40b4f492e40533f0ed)
(cherry picked from commit 6e592a8dd49a85f8658ffeeb8c95a9d39f1d8507)
(cherry picked from commit c469c1294d5a09f926905414f505d6e84ebaf506)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/779141/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1890254-clone-fcmap-is-not-deleting-in-cleanup-f5bbb467be1b889d.yaml', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",3,4066b34fb004915294f4faf7486ae3dbcc4d4ef9,bug/1890254-stable/ussuri-stable/train," @cinder_utils.trace def _check_delete_vdisk_fc_mappings(self, name, allow_snaps=True, allow_fctgt=False): progress = attrs['progress'] LOG.debug('Loopcall: source: %s, target: %s, copy_rate: %s, ' 'status: %s, progress: %s, mapid: %s', source, target, copy_rate, status, progress, map_id) if allow_fctgt and target == name and status == 'copying': try: self.ssh.stopfcmap(map_id) except exception.VolumeBackendAPIException as ex: LOG.warning(ex) wait_for_copy = True try: attrs = self._get_flashcopy_mapping_attributes(map_id) except exception.VolumeBackendAPIException as ex: LOG.warning(ex) wait_for_copy = True continue try: if status in ['copying', 'prepared']: self.ssh.stopfcmap(map_id) # Need to wait for the fcmap to change to # stopped state before remove fcmap wait_for_copy = True elif status in ['stopping', 'preparing']: wait_for_copy = True else: self.ssh.rmfcmap(map_id) except exception.VolumeBackendAPIException as ex: LOG.warning(ex) try: if status == 'prepared': self.ssh.stopfcmap(map_id) self.ssh.rmfcmap(map_id) elif status in ['idle_or_copied', 'stopped']: # Prepare failed or stopped self.ssh.rmfcmap(map_id) elif (status in ['copying', 'prepared'] and progress == '100'): self.ssh.stopfcmap(map_id) else: wait_for_copy = True except exception.VolumeBackendAPIException as ex: LOG.warning(ex) @cinder_utils.trace def _check_vdisk_fc_mappings(self, name, allow_snaps=True, allow_fctgt=False): """"""FlashCopy mapping check helper."""""" # if this is a remove disk we need to be down to one fc clone mapping_ids = self._get_vdisk_fc_mappings(name) if len(mapping_ids) > 1 and allow_fctgt: LOG.debug('Loopcall: vdisk %s has ' 'more than one fc map. Waiting.', name) for map_id in mapping_ids: attrs = self._get_flashcopy_mapping_attributes(map_id) if not attrs: continue source = attrs['source_vdisk_name'] target = attrs['target_vdisk_name'] copy_rate = attrs['copy_rate'] status = attrs['status'] progress = attrs['progress'] LOG.debug('Loopcall: source: %s, target: %s, copy_rate: %s, ' 'status: %s, progress: %s, mapid: %s', source, target, copy_rate, status, progress, map_id) if copy_rate != '0' and source == name: try: if status in ['copying'] and progress == '100': self.ssh.stopfcmap(map_id) elif status == 'idle_or_copied' and progress == '100': # wait for auto-delete of fcmap. continue elif status in ['idle_or_copied', 'stopped']: # Prepare failed or stopped self.ssh.rmfcmap(map_id) # handle VolumeBackendAPIException to let it go through # next attempts in case of any cli exception. except exception.VolumeBackendAPIException as ex: LOG.warning(ex) return return self._check_delete_vdisk_fc_mappings( name, allow_snaps=allow_snaps, allow_fctgt=allow_fctgt) self.ssh.stopfcmap(map_id)"," def _check_vdisk_fc_mappings(self, name, allow_snaps=True, allow_fctgt=False): LOG.debug('Loopcall: _check_vdisk_fc_mappings(), vdisk %s.', name) if allow_fctgt and target == name and status == 'copying': self.ssh.stopfcmap(map_id) attrs = self._get_flashcopy_mapping_attributes(map_id) if status in ['copying', 'prepared']: self.ssh.stopfcmap(map_id) # Need to wait for the fcmap to change to # stopped state before remove fcmap elif status in ['stopping', 'preparing']: wait_for_copy = True else: self.ssh.rmfcmap(map_id) if status == 'prepared': self.ssh.stopfcmap(map_id) self.ssh.rmfcmap(map_id) elif status in ['idle_or_copied', 'stopped']: # Prepare failed or stopped self.ssh.rmfcmap(map_id) else: self.ssh.stopfcmap(map_id, split=True)",257,22
openstack%2Fpython-cinderclient~master~Ibbbfb20c86bb2ea0d3d74f6a6a1bc913874f67ad,openstack/python-cinderclient,master,Ibbbfb20c86bb2ea0d3d74f6a6a1bc913874f67ad,Run functional job on Ubuntu Focal,MERGED,2021-04-29 22:09:43.000000000,2021-05-07 22:01:18.000000000,2021-05-07 21:59:20.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 22:09:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/f54b873ca3f9900e17b42f3600a20a36abe2b1a7', 'message': 'Run functional job on Ubuntu Focal\n\nDevstack is planning to remove the Ubuntu\nBionic support.\n- https://review.opendev.org/c/openstack/devstack/+/788754\n\nBefore that we need to switch Bionic job to focal.\ndevstack-tox-functional define the latest nodeset which is\nsingle node focal currently so removing nodeset setting from\npython-cinderclient functional jobs.\n\nChange-Id: Ibbbfb20c86bb2ea0d3d74f6a6a1bc913874f67ad\n'}]",0,788834,f54b873ca3f9900e17b42f3600a20a36abe2b1a7,7,2,1,8556,,,0,"Run functional job on Ubuntu Focal

Devstack is planning to remove the Ubuntu
Bionic support.
- https://review.opendev.org/c/openstack/devstack/+/788754

Before that we need to switch Bionic job to focal.
devstack-tox-functional define the latest nodeset which is
single node focal currently so removing nodeset setting from
python-cinderclient functional jobs.

Change-Id: Ibbbfb20c86bb2ea0d3d74f6a6a1bc913874f67ad
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/34/788834/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f54b873ca3f9900e17b42f3600a20a36abe2b1a7,drop-bionic,, nodeset: openstack-single-node-bionic nodeset: openstack-single-node-focal,0,2
openstack%2Ftripleo-ansible~master~Id0575ece56462f78439bc6ff99e9bb971eebb0ac,openstack/tripleo-ansible,master,Id0575ece56462f78439bc6ff99e9bb971eebb0ac,Add retries to containers listing,MERGED,2021-05-05 17:26:22.000000000,2021-05-07 21:59:30.000000000,2021-05-07 21:57:22.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-05-05 17:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6531f638e5d70cefdcbbc6d929ab070e93d5b29c', 'message': 'Add retries to containers listing\n\nTo avoid failure in container listing add 4 retries with 1 sec\ndelay between.\nSee podman issue: https://github.com/containers/podman/issues/10225\nCloses-Bug: #1926649\n\nChange-Id: Id0575ece56462f78439bc6ff99e9bb971eebb0ac\n'}, {'number': 2, 'created': '2021-05-06 12:36:09.000000000', 'files': ['zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/modules/podman_container_info.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84f18e73af3dfda9e1c5f89cd0a88a772ff383cb', 'message': 'Add retries to containers listing\n\nTo avoid failure in container listing add 4 retries with 1 sec\ndelay between.\nSee podman issue: https://github.com/containers/podman/issues/10225\nCloses-Bug: #1926649\n\nMark tripleo-ansible-centos-8-molecule-tripleo-modules as non voting,\nfor later investigation and fix:\nhttps://zuul.opendev.org/t/openstack/builds?job_name=\ntripleo-ansible-centos-8-molecule-tripleo-modules&project=openstack/tripleo-ansible\nChange-Id: Id0575ece56462f78439bc6ff99e9bb971eebb0ac\n'}]",0,789928,84f18e73af3dfda9e1c5f89cd0a88a772ff383cb,24,7,2,10969,,,0,"Add retries to containers listing

To avoid failure in container listing add 4 retries with 1 sec
delay between.
See podman issue: https://github.com/containers/podman/issues/10225
Closes-Bug: #1926649

Mark tripleo-ansible-centos-8-molecule-tripleo-modules as non voting,
for later investigation and fix:
https://zuul.opendev.org/t/openstack/builds?job_name=
tripleo-ansible-centos-8-molecule-tripleo-modules&project=openstack/tripleo-ansible
Change-Id: Id0575ece56462f78439bc6ff99e9bb971eebb0ac
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/28/789928/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container_info.py'],1,6531f638e5d70cefdcbbc6d929ab070e93d5b29c,,"import time retry = 0 retry_limit = 4 # This should not fail in regular circumstances, so retry again # https://github.com/containers/podman/issues/10225 while rc != 0 and retry <= retry_limit: module.log(msg=""Unable to get list of containers: %s"" % err) time.sleep(1) retry += 1 rc, out, err = module.run_command(all_names) if rc != 0: module.fail_json(msg=""Unable to get list of containers during"" "" %s retries"" % retry_limit)"," if rc != 0: module.fail_json(msg=""Unable to get list of containers: %s"" % err)",12,1
openstack%2Fkolla~stable%2Ftrain~I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec,openstack/kolla,stable/train,I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec,Fix Mistral source images to respect upper-constraints,MERGED,2021-01-29 20:01:41.000000000,2021-05-07 21:49:33.000000000,2021-05-07 21:48:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2021-01-29 20:01:41.000000000', 'files': ['releasenotes/notes/mistral-respect-uc-77aea99b5c6506ba.yaml', 'docker/mistral/mistral-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/44138213470992a15c473c08c10bbaccb2627d9e', 'message': 'Fix Mistral source images to respect upper-constraints\n\nBackport to all supported branches.\n\nChange-Id: I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec\n(cherry picked from commit 004d9eb5d575fcb140b4d90fb30ced0a81dd3e66)\n'}]",0,773014,44138213470992a15c473c08c10bbaccb2627d9e,30,3,1,30491,,,0,"Fix Mistral source images to respect upper-constraints

Backport to all supported branches.

Change-Id: I4a13bbe959e3324f05d5cf78a3be2415eb2ba7ec
(cherry picked from commit 004d9eb5d575fcb140b4d90fb30ced0a81dd3e66)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/14/773014/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mistral-respect-uc-77aea99b5c6506ba.yaml', 'docker/mistral/mistral-base/Dockerfile.j2']",2,44138213470992a15c473c08c10bbaccb2627d9e,mistral-respect-uc-stable/victoria-stable/ussuri-stable/train," && {{ macros.install_pip(mistral_base_pip_packages | customizable(""pip_packages"")) }} \"," && {{ macros.install_pip(mistral_base_pip_packages | customizable(""pip_packages""), constraints = false) }} \",5,1
openstack%2Fneutron~master~I0299fa11a7afefbd2999f81cd4ed3beed572009c,openstack/neutron,master,I0299fa11a7afefbd2999f81cd4ed3beed572009c,"Replace ""get_routing_table"" with ""list_ip_routes""",MERGED,2021-04-30 10:48:23.000000000,2021-05-07 21:47:45.000000000,2021-05-07 21:46:07.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 10:48:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4eb227323db116dfc271d3009dc6873bbfb98d0', 'message': 'Replace ""get_routing_table"" with ""list_ip_routes""\n\n""get_routing_table"" uses ""pyroute2.IPDB"" that has been deprecated.\n""list_ip_routes"" has been improved to be able to read multipath\nroutes.\n\nChange-Id: I0299fa11a7afefbd2999f81cd4ed3beed572009c\nCloses-Bug: #1926476\n'}, {'number': 2, 'created': '2021-04-30 16:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cd6e47d3615b3b5c5ba82cb165589c678ee19ab', 'message': 'Replace ""get_routing_table"" with ""list_ip_routes""\n\n""get_routing_table"" uses ""pyroute2.IPDB"" that has been deprecated.\n""list_ip_routes"" has been improved to be able to read multipath\nroutes.\n\nCloses-Bug: #1926476\n\nChange-Id: I0299fa11a7afefbd2999f81cd4ed3beed572009c\n'}, {'number': 3, 'created': '2021-05-01 17:40:18.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/tests/functional/privileged/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c511964d70324c6974740eed245044f0fe77841e', 'message': 'Replace ""get_routing_table"" with ""list_ip_routes""\n\n""get_routing_table"" uses ""pyroute2.IPDB"" that has been deprecated.\n""list_ip_routes"" has been improved to be able to read multipath\nroutes.\n\nCloses-Bug: #1926476\n\nChange-Id: I0299fa11a7afefbd2999f81cd4ed3beed572009c\n'}]",3,788936,c511964d70324c6974740eed245044f0fe77841e,43,3,3,16688,,,0,"Replace ""get_routing_table"" with ""list_ip_routes""

""get_routing_table"" uses ""pyroute2.IPDB"" that has been deprecated.
""list_ip_routes"" has been improved to be able to read multipath
routes.

Closes-Bug: #1926476

Change-Id: I0299fa11a7afefbd2999f81cd4ed3beed572009c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/788936/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/privileged/agent/linux/test_ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py', 'neutron/privileged/agent/linux/ip_lib.py']",6,d4eb227323db116dfc271d3009dc6873bbfb98d0,bug/1926476,def get_scope_name(scope):,"def _get_scope_name(scope):@privileged.default.entrypoint def get_routing_table(ip_version, namespace=None): """"""Return a list of dictionaries, each representing a route. :param ip_version: IP version of routes to return, for example 4 :param namespace: The name of the namespace from which to get the routes :return: a list of dictionaries, each representing a route. The dictionary format is: {'destination': cidr, 'nexthop': ip, 'device': device_name, 'scope': scope} """""" family = _IP_VERSION_FAMILY_MAP[ip_version] try: netns = pyroute2.NetNS(namespace, flags=0) if namespace else None except OSError as e: if e.errno == errno.ENOENT: raise NetworkNamespaceNotFound(netns_name=namespace) raise routes = [] with pyroute2.IPDB(nl=netns) as ipdb: ipdb_routes = ipdb.routes ipdb_interfaces = ipdb.interfaces for route in ipdb_routes: if route['family'] != family: continue dst = route['dst'] nexthop = route.get('gateway') oif = route.get('oif') scope = _get_scope_name(route['scope']) # If there is not a valid outgoing interface id, check if # this is a multipath route (i.e. same destination with # multiple outgoing interfaces) if oif: device = ipdb_interfaces[oif]['ifname'] rt = _make_route_dict(dst, nexthop, device, scope) routes.append(rt) elif route.get('multipath'): for mpr in route['multipath']: oif = mpr['oif'] device = ipdb_interfaces[oif]['ifname'] rt = _make_route_dict(dst, nexthop, device, scope) routes.append(rt) return routes scope=_get_scope_name(scope))",70,452
openstack%2Fcharm-vault~master~Ic98d69f8193b6207e1fa32e8bf9b684cd4e7aa69,openstack/charm-vault,master,Ic98d69f8193b6207e1fa32e8bf9b684cd4e7aa69,Fix actions to return immediately running on non-leader unit,MERGED,2021-02-22 13:43:55.000000000,2021-05-07 21:07:19.000000000,2021-05-07 21:07:19.000000000,"[{'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-22 13:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/8dd080638ece77761e6385b4681ed050d6725225', 'message': 'Fix actions to return immediately running on non-leader unit\n\nCloses-Bug: #1915853\nChange-Id: Ic98d69f8193b6207e1fa32e8bf9b684cd4e7aa69\n'}, {'number': 2, 'created': '2021-03-01 19:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/4e3e7af6f973104cad4febb7c453d86fed5c6fd2', 'message': 'Fix actions to return immediately running on non-leader unit\n\nCloses-Bug: #1915853\nChange-Id: Ic98d69f8193b6207e1fa32e8bf9b684cd4e7aa69\n'}, {'number': 3, 'created': '2021-03-02 00:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/7c1dab1cf3c27b522e3d1e26f6d1fb6dca3edde1', 'message': 'Fix actions to return immediately running on non-leader unit\n\nCloses-Bug: #1915853\nChange-Id: Ic98d69f8193b6207e1fa32e8bf9b684cd4e7aa69\n'}, {'number': 4, 'created': '2021-03-02 00:13:16.000000000', 'files': ['src/actions/actions.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/6bed87a9e3dbe5653943ee6ddbdf62c17b87586b', 'message': 'Fix actions to return immediately running on non-leader unit\n\nCloses-Bug: #1915853\nChange-Id: Ic98d69f8193b6207e1fa32e8bf9b684cd4e7aa69\n'}]",3,776935,6bed87a9e3dbe5653943ee6ddbdf62c17b87586b,22,6,4,32930,,,0,"Fix actions to return immediately running on non-leader unit

Closes-Bug: #1915853
Change-Id: Ic98d69f8193b6207e1fa32e8bf9b684cd4e7aa69
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/35/776935/4 && git format-patch -1 --stdout FETCH_HEAD,['src/actions/actions.py'],1,8dd080638ece77761e6385b4681ed050d6725225,bug/1915853, return return,,2,0
openstack%2Frbd-iscsi-client~master~I35e4dc1b9af91741176784886a84c55fbd4cd11c,openstack/rbd-iscsi-client,master,I35e4dc1b9af91741176784886a84c55fbd4cd11c,Format as a Cinder-related OpenStack project,MERGED,2021-02-09 23:57:07.000000000,2021-05-07 20:56:30.000000000,2021-05-07 20:53:05.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-09 23:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rbd-iscsi-client/commit/a1f8c1673b52245a0984b234b02b36ed974a1759', 'message': 'Format as a Cinder-related OpenStack project\n\n- rearrange docs and add doc/requirements.txt\n- add releasenotes directory and reno setup files\n- update some requirements\n- add lower-constraints\n- update tox.ini\n- add .zuul.yaml\n\nChange-Id: I35e4dc1b9af91741176784886a84c55fbd4cd11c\n'}, {'number': 2, 'created': '2021-02-10 03:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rbd-iscsi-client/commit/4f2785258f4b7985cfafc5ca70e67d56d6e67e56', 'message': 'Format as a Cinder-related OpenStack project\n\n- rearrange docs and add doc/requirements.txt\n- add releasenotes directory and reno setup files\n- update some requirements\n- add lower-constraints\n- update tox.ini\n- add .zuul.yaml\n\nChange-Id: I35e4dc1b9af91741176784886a84c55fbd4cd11c\n'}, {'number': 3, 'created': '2021-03-01 14:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rbd-iscsi-client/commit/6d66e025824cfa24ad73c561739b6b85735619e6', 'message': 'Format as a Cinder-related OpenStack project\n\n- rearrange docs and add doc/requirements.txt\n- add releasenotes directory and reno setup files\n- update some requirements\n- add lower-constraints\n- update tox.ini\n- add .zuul.yaml\n\nChange-Id: I35e4dc1b9af91741176784886a84c55fbd4cd11c\n'}, {'number': 4, 'created': '2021-04-16 22:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rbd-iscsi-client/commit/df978637aab0fe301b5bdd547086b0c9a1a48612', 'message': ""Format as a Cinder-related OpenStack project\n\n- rearrange docs and add doc/requirements.txt\n- add releasenotes directory and reno setup files\n- update some requirements\n- add lower-constraints\n- update tox.ini\n- minor changes for doc8 and pep8\n- add .zuul.yaml\n\nTechnical debt: the tox 'pylint' testenv doesn't work;\nsee comments in tox.ini\n\nChange-Id: I35e4dc1b9af91741176784886a84c55fbd4cd11c\n""}, {'number': 5, 'created': '2021-04-21 02:08:45.000000000', 'files': ['doc/source/contributing.rst', '.gitignore', '.gitreview', 'test-requirements.txt', 'Makefile', 'doc/source/history.rst', 'README.rst', 'doc/source/contributor/contributing.rst', 'tools/lintstack.py', 'CONTRIBUTING.rst', 'requirements.txt', 'doc/source/_extra/.placeholder', 'HISTORY.rst', '.travis.yml', 'LICENSE', 'rbd_iscsi_client/__init__.py', '.zuul.yaml', 'babel.cfg', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/index.rst', 'doc/source/installation.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'doc/source/_static/.placeholder', 'doc/requirements.txt', 'doc/source/contributor/getting-started.rst', 'setup.cfg', 'tox.ini', 'HACKING.rst', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/rbd-iscsi-client/commit/63da3ebb54606d8c70a1804fbd39a4a998bc01aa', 'message': ""Format as a Cinder-related OpenStack project\n\n- rearrange docs and add doc/requirements.txt\n- add releasenotes directory and reno setup files\n- update some requirements\n- add lower-constraints\n- update tox.ini\n- minor changes for doc8 and pep8\n- add .zuul.yaml\n\nTechnical debt: the tox 'pylint' testenv doesn't work;\nsee comments in tox.ini\n\nChange-Id: I35e4dc1b9af91741176784886a84c55fbd4cd11c\n""}]",16,774748,63da3ebb54606d8c70a1804fbd39a4a998bc01aa,26,6,5,5314,,,0,"Format as a Cinder-related OpenStack project

- rearrange docs and add doc/requirements.txt
- add releasenotes directory and reno setup files
- update some requirements
- add lower-constraints
- update tox.ini
- minor changes for doc8 and pep8
- add .zuul.yaml

Technical debt: the tox 'pylint' testenv doesn't work;
see comments in tox.ini

Change-Id: I35e4dc1b9af91741176784886a84c55fbd4cd11c
",git fetch https://review.opendev.org/openstack/rbd-iscsi-client refs/changes/48/774748/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', '.gitignore', '.gitreview', 'test-requirements.txt', 'Makefile', 'doc/source/history.rst', 'README.rst', 'doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'requirements.txt', 'doc/source/_extra/.placeholder', 'HISTORY.rst', '.travis.yml', 'LICENSE', 'rbd_iscsi_client/__init__.py', '.zuul.yaml', 'babel.cfg', 'doc/source/conf.py', 'lower-constraints.txt', 'releasenotes/source/index.rst', 'releasenotes/source/unreleased.rst', 'doc/source/index.rst', 'doc/source/_static/.placeholder', 'doc/requirements.txt', 'doc/source/contributor/getting-started.rst', 'setup.cfg', 'tox.ini', 'HACKING.rst', 'releasenotes/source/conf.py']",29,a1f8c1673b52245a0984b234b02b36ed974a1759,os-project-setup,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # # Refer to the Sphinx documentation for advice on configuring this file: # # http://www.sphinx-doc.org/en/stable/config.html # -- General configuration ------------------------------------------------ # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'reno.sphinxext', 'openstackdocstheme', ] # The suffix of source filenames. source_suffix = '.rst' # The master toctree document. master_doc = 'index' # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'native' # General information about the project. copyright = u'2021, Cinder Contributors' # Release notes are unversioned, so we don't need to set version and release version = '' release = '' # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # -- Options for openstackdocstheme ------------------------------------------- openstackdocs_repo_name = 'openstack/rbd-iscsi-client' openstackdocs_bug_project = 'rbd-iscsi-client' openstackdocs_bug_tag = '' ",,520,317
openstack%2Ftripleo-common~stable%2Fwallaby~I463eb84a84e37b1a782c06ae74cf5c943e273bcd,openstack/tripleo-common,stable/wallaby,I463eb84a84e37b1a782c06ae74cf5c943e273bcd,Add interface-names to overcloud-hardened-images-uefi-rhel8,MERGED,2021-05-05 13:50:45.000000000,2021-05-07 20:52:04.000000000,2021-05-07 20:50:40.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-05 13:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e0fef2b408b32b03d3eaa4797837c0d8843c4e90', 'message': 'Add interface-names to overcloud-hardened-images-uefi-rhel8\n\nThis was missing from change ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5\nwhich added this element to every other rhel8 image yaml file.\n\nRelated-Bug: 1841441\nChange-Id: I463eb84a84e37b1a782c06ae74cf5c943e273bcd\n(cherry picked from commit 4a2e95d143d26a3f58f5235f3e8f630f0b708c32)\n'}, {'number': 2, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e380443d7da005470e44905e25878615eda925b0', 'message': 'Add interface-names to overcloud-hardened-images-uefi-rhel8\n\nThis was missing from change ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5\nwhich added this element to every other rhel8 image yaml file.\n\nRelated-Bug: 1841441\nChange-Id: I463eb84a84e37b1a782c06ae74cf5c943e273bcd\n'}, {'number': 3, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/58e9f3728d4d7313ebf5482400094435df16e48d', 'message': 'Add interface-names to overcloud-hardened-images-uefi-rhel8\n\nThis was missing from change ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5\nwhich added this element to every other rhel8 image yaml file.\n\nRelated-Bug: 1841441\nChange-Id: I463eb84a84e37b1a782c06ae74cf5c943e273bcd\n'}, {'number': 4, 'created': '2021-05-06 21:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2acbbf15659bde55b1772d21155a0b5aba58cefb', 'message': 'Add interface-names to overcloud-hardened-images-uefi-rhel8\n\nThis was missing from change ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5\nwhich added this element to every other rhel8 image yaml file.\n\nRelated-Bug: 1841441\nChange-Id: I463eb84a84e37b1a782c06ae74cf5c943e273bcd\n'}, {'number': 5, 'created': '2021-05-07 11:16:48.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi-rhel8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59583c466443f19dce1e6cd7d198c01fa4281aec', 'message': 'Add interface-names to overcloud-hardened-images-uefi-rhel8\n\nThis was missing from change ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5\nwhich added this element to every other rhel8 image yaml file.\n\nRelated-Bug: 1841441\nChange-Id: I463eb84a84e37b1a782c06ae74cf5c943e273bcd\n'}]",0,789813,59583c466443f19dce1e6cd7d198c01fa4281aec,27,11,5,29775,,,0,"Add interface-names to overcloud-hardened-images-uefi-rhel8

This was missing from change ff9fe2edfb940bf983c880bbfb4d6e95ccdce7c5
which added this element to every other rhel8 image yaml file.

Related-Bug: 1841441
Change-Id: I463eb84a84e37b1a782c06ae74cf5c943e273bcd
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/789813/5 && git format-patch -1 --stdout FETCH_HEAD,['image-yaml/overcloud-hardened-images-uefi-rhel8.yaml'],1,e0fef2b408b32b03d3eaa4797837c0d8843c4e90,bug/1841441-stable/wallaby, elements: - interface-names,,2,0
openstack%2Ftripleo-common~stable%2Fwallaby~I23157ad3a96553047a52f10ed203f71366da49ef,openstack/tripleo-common,stable/wallaby,I23157ad3a96553047a52f10ed203f71366da49ef,Drop SkopeoImageUploader,MERGED,2021-05-06 16:47:01.000000000,2021-05-07 20:51:07.000000000,2021-05-07 20:49:33.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/10a1bfac3aac2437d21e33f73f81c38e0356220c', 'message': ""Drop SkopeoImageUploader\n\nThis removes the skopeo based container image uploader which was\ndeprecated back in stein. It doesn't work with our image-serve registry\nso let's drop this code and dependency.\n\nChange-Id: I23157ad3a96553047a52f10ed203f71366da49ef\n""}, {'number': 2, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/beae3e67a0049f3641859d3109de180324ca0c05', 'message': ""Drop SkopeoImageUploader\n\nThis removes the skopeo based container image uploader which was\ndeprecated back in stein. It doesn't work with our image-serve registry\nso let's drop this code and dependency.\n\nChange-Id: I23157ad3a96553047a52f10ed203f71366da49ef\n""}, {'number': 3, 'created': '2021-05-06 21:29:01.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'releasenotes/notes/remove-skopeo-image-uploader-51e7574cc386a3e9.yaml', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d70280eb9948df080297242de1b2749c3c05e16d', 'message': ""Drop SkopeoImageUploader\n\nThis removes the skopeo based container image uploader which was\ndeprecated back in stein. It doesn't work with our image-serve registry\nso let's drop this code and dependency.\n\nChange-Id: I23157ad3a96553047a52f10ed203f71366da49ef\n""}]",0,790103,d70280eb9948df080297242de1b2749c3c05e16d,16,5,3,7144,,,0,"Drop SkopeoImageUploader

This removes the skopeo based container image uploader which was
deprecated back in stein. It doesn't work with our image-serve registry
so let's drop this code and dependency.

Change-Id: I23157ad3a96553047a52f10ed203f71366da49ef
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/790103/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'releasenotes/notes/remove-skopeo-image-uploader-51e7574cc386a3e9.yaml', 'tripleo_common/image/image_uploader.py']",3,10a1bfac3aac2437d21e33f73f81c38e0356220c,unlock-wallaby,," 'skopeo': SkopeoImageUploader(),class SkopeoImageUploader(BaseImageUploader): """"""Upload images using skopeo copy"""""" def upload_image(self, task): t = task LOG.info('[%s] Got imagename' % t.image_name) source_image_local_url = parse.urlparse('containers-storage:%s' % t.source_image) target_image_local_url = parse.urlparse('containers-storage:%s' % t.target_image) target_username, target_password = self.credentials_for_registry( t.target_image_url.netloc) target_session = self.authenticate( t.target_image_url, username=target_username, password=target_password ) image_exists = False try: image_exists = self._image_exists(t.target_image, target_session) except Exception: LOG.warning('[%s] Failed to check if the target ' 'image exists' % t.target_image) pass if t.modify_role and image_exists: LOG.warning('[%s] Skipping upload for modified ' 'image' % t.target_image) target_session.close() return [] # Keep the target session open yet source_username, source_password = self.credentials_for_registry( t.source_image_url.netloc) source_session = self.authenticate( t.source_image_url, username=source_username, password=source_password ) try: source_inspect = self._inspect( t.source_image_url, session=source_session) source_layers = source_inspect.get('Layers', []) self._cross_repo_mount( t.target_image_url, self.image_layers, source_layers, session=target_session) except Exception: LOG.error('[%s] Failed uploading the target ' 'image' % t.target_image) raise finally: source_session.close() target_session.close() to_cleanup = [] if t.modify_role: # Copy from source registry to local storage self._copy( t.source_image_url, source_image_local_url, ) if t.cleanup in (CLEANUP_FULL, CLEANUP_PARTIAL): to_cleanup = [t.source_image] self.run_modify_playbook( t.modify_role, t.modify_vars, t.source_image, t.target_image_source_tag, t.append_tag, container_build_tool='buildah') if t.cleanup == CLEANUP_FULL: to_cleanup.append(t.target_image) # Copy from local storage to target registry self._copy( target_image_local_url, t.target_image_url, ) LOG.warning('[%s] Completed modify and upload for ' 'image' % t.image_name) else: self._copy( t.source_image_url, t.target_image_url, ) LOG.warning('[%s] Completed upload for image' % t.image_name) for layer in source_layers: self.image_layers.setdefault(layer, t.target_image_url) return to_cleanup @classmethod @tenacity.retry( # Retry up to 5 times with jittered exponential backoff reraise=True, wait=tenacity.wait_random_exponential(multiplier=1, max=10), stop=tenacity.stop_after_attempt(5) ) def _copy(cls, source_url, target_url): source = source_url.geturl() target = target_url.geturl() LOG.info('Copying from %s to %s' % (source, target)) cmd = ['skopeo', 'copy'] if source_url.netloc in [cls.insecure_registries, cls.no_verify_registries]: cmd.append('--src-tls-verify=false') if target_url.netloc in [cls.insecure_registries, cls.no_verify_registries]: cmd.append('--dest-tls-verify=false') cmd.append(source) cmd.append(target) LOG.info('Running %s' % ' '.join(cmd)) env = os.environ.copy() try: process = subprocess.Popen(cmd, env=env, stdout=subprocess.PIPE, universal_newlines=True) out, err = process.communicate() LOG.info(out) if process.returncode != 0: raise ImageUploaderException('Error copying image:\n%s\n%s' % (' '.join(cmd), err)) except KeyboardInterrupt: raise Exception('Action interrupted with ctrl+c') return out def _delete(self, image_url, session=None): insecure = self.is_insecure_registry(registry_host=image_url.netloc) image = image_url.geturl() LOG.info('[%s] Deleting image' % image) cmd = ['skopeo', 'delete'] if insecure: cmd.append('--tls-verify=false') cmd.append(image) LOG.info('Running %s' % ' '.join(cmd)) env = os.environ.copy() try: process = subprocess.Popen(cmd, env=env, stdout=subprocess.PIPE, universal_newlines=True) out, err = process.communicate() LOG.info(out.decode('utf-8')) if process.returncode != 0: raise ImageUploaderException('Error deleting image:\n%s\n%s' % (' '.join(cmd), err)) except KeyboardInterrupt: raise Exception('Action interrupted with ctrl+c') return out def cleanup(self, local_images): if not local_images: return [] for image in sorted(local_images): if not image: continue LOG.warning('[%s] Removing local copy of image' % image) image_url = parse.urlparse('containers-storage:%s' % image) self._delete(image_url) def run_tasks(self): if not self.upload_tasks: return local_images = [] # Pull a single image first, to avoid duplicate pulls of the # same base layers local_images.extend(upload_task(args=self.upload_tasks.pop())) # workers will be half the CPU count, to a minimum of 2 workers = max(2, (processutils.get_worker_count() - 1)) with futures.ThreadPoolExecutor(max_workers=workers) as p: for result in p.map(upload_task, self.upload_tasks): local_images.extend(result) LOG.info('result %s' % local_images) # Do cleanup after all the uploads so common layers don't get deleted # repeatedly self.cleanup(local_images) ",5,448
openstack%2Ftripleo-common~stable%2Fwallaby~I01b066aefa6b7d6bd0cf69dbe5327db6934d6d6e,openstack/tripleo-common,stable/wallaby,I01b066aefa6b7d6bd0cf69dbe5327db6934d6d6e,Remove Keepalived service,MERGED,2021-05-06 16:47:01.000000000,2021-05-07 20:49:55.000000000,2021-05-07 20:49:55.000000000,"[{'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3a28e41979581a3d8de8012b1606da2d1f4e2451', 'message': 'Remove Keepalived service\n\nThe Keepalived servier has been remove completely so any definition for\nthe service can be removed now.\n\nRelated-Bug: #1926314\nDepends-on: https://review.opendev.org/788200\nDepends-on: https://review.opendev.org/788095\nChange-Id: I01b066aefa6b7d6bd0cf69dbe5327db6934d6d6e\n'}, {'number': 2, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/186a88f4e0ae0cc716479ed412191c01797bb234', 'message': 'Remove Keepalived service\n\nThe Keepalived servier has been remove completely so any definition for\nthe service can be removed now.\n\nRelated-Bug: #1926314\nDepends-on: https://review.opendev.org/788200\nDepends-on: https://review.opendev.org/788095\nChange-Id: I01b066aefa6b7d6bd0cf69dbe5327db6934d6d6e\n'}, {'number': 3, 'created': '2021-05-06 21:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ae2814ea453c240f271dda9083a7810f5acff668', 'message': 'Remove Keepalived service\n\nThe Keepalived servier has been remove completely so any definition for\nthe service can be removed now.\n\nRelated-Bug: #1926314\nDepends-on: https://review.opendev.org/788200\nDepends-on: https://review.opendev.org/788095\nChange-Id: I01b066aefa6b7d6bd0cf69dbe5327db6934d6d6e\n'}, {'number': 4, 'created': '2021-05-07 11:16:48.000000000', 'files': ['tripleo_common/tests/inventory_data/merged_static.yaml', 'tripleo_common/tests/inventory_data/overcloud_static.yaml', 'container-images/tripleo_containers.yaml.j2', 'tripleo_common/tests/inventory_data/cell1_static.yaml', 'tripleo_common/tests/inventory_data/single_dynamic.json', 'container-images/tcib/base/keepalived/keepalived.yaml', 'tripleo_common/tests/inventory_data/merged_dynamic.json', 'tripleo_common/tests/inventory_data/cell1_dynamic.json', 'container-images/tripleo_containers.yaml', 'tripleo_common/tests/inventory_data/overcloud_dynamic.json', 'tripleo_common/tests/inventory_data/single_static.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3d3ccdb7452fa6f737bcd86c0311b4f5bf1e315a', 'message': 'Remove Keepalived service\n\nThe Keepalived servier has been remove completely so any definition for\nthe service can be removed now.\n\nRelated-Bug: #1926314\nDepends-on: https://review.opendev.org/788200\nDepends-on: https://review.opendev.org/788095\nChange-Id: I01b066aefa6b7d6bd0cf69dbe5327db6934d6d6e\n'}]",0,790107,3d3ccdb7452fa6f737bcd86c0311b4f5bf1e315a,15,4,4,7144,,,0,"Remove Keepalived service

The Keepalived servier has been remove completely so any definition for
the service can be removed now.

Related-Bug: #1926314
Depends-on: https://review.opendev.org/788200
Depends-on: https://review.opendev.org/788095
Change-Id: I01b066aefa6b7d6bd0cf69dbe5327db6934d6d6e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/790107/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/inventory_data/merged_static.yaml', 'tripleo_common/tests/inventory_data/overcloud_static.yaml', 'container-images/tripleo_containers.yaml.j2', 'tripleo_common/tests/inventory_data/cell1_static.yaml', 'container-images/tcib/base/keepalived/keepalived.yaml', 'tripleo_common/tests/inventory_data/merged_dynamic.json', 'tripleo_common/tests/inventory_data/single_dynamic.json', 'tripleo_common/tests/inventory_data/cell1_dynamic.json', 'container-images/tripleo_containers.yaml', 'tripleo_common/tests/inventory_data/overcloud_dynamic.json', 'tripleo_common/tests/inventory_data/single_static.yaml']",11,3a28e41979581a3d8de8012b1606da2d1f4e2451,unlock-wallaby,,keepalived: children: - overcloud_keepalived overcloud_keepalived: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin,0,98
openstack%2Ftripleo-common~stable%2Fwallaby~If7307bfd61456aaebd28aae20ac5c9025c25d68c,openstack/tripleo-common,stable/wallaby,If7307bfd61456aaebd28aae20ac5c9025c25d68c,Update artifact tooling for swiftless underclouds,MERGED,2021-05-06 16:47:01.000000000,2021-05-07 20:49:40.000000000,2021-05-07 20:49:40.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7295bb9f92b46dd09adfddd48c24e6f88872dbc4', 'message': ""Update artifact tooling for swiftless underclouds\n\nThis change updates the artifact tooling to ensure that we're not\nassuming we have access to a Swift deployment on the undercloud.\nThe tooling will now sync files locally and push them to target\nhost(s) during deployment time.\n\nDepends-On: I5d18cf334c1bc4011db968fbeb4f9e41869611cd\nChange-Id: If7307bfd61456aaebd28aae20ac5c9025c25d68c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4179459f05a16573e5c9d7db02dfa749ebe2b4f7', 'message': ""Update artifact tooling for swiftless underclouds\n\nThis change updates the artifact tooling to ensure that we're not\nassuming we have access to a Swift deployment on the undercloud.\nThe tooling will now sync files locally and push them to target\nhost(s) during deployment time.\n\nDepends-On: I5d18cf334c1bc4011db968fbeb4f9e41869611cd\nChange-Id: If7307bfd61456aaebd28aae20ac5c9025c25d68c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2021-05-06 21:29:01.000000000', 'files': ['scripts/upload-artifacts', 'releasenotes/notes/DeployArtifactURLs-Simplified-e3993493022653ab.yaml', 'scripts/upload-swift-artifacts', 'scripts/upload-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dc55e3255adc7ba5fe026dd32a3e4875efa2997c', 'message': ""Update artifact tooling for swiftless underclouds\n\nThis change updates the artifact tooling to ensure that we're not\nassuming we have access to a Swift deployment on the undercloud.\nThe tooling will now sync files locally and push them to target\nhost(s) during deployment time.\n\nDepends-On: I5d18cf334c1bc4011db968fbeb4f9e41869611cd\nChange-Id: If7307bfd61456aaebd28aae20ac5c9025c25d68c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,790105,dc55e3255adc7ba5fe026dd32a3e4875efa2997c,15,4,3,7144,,,0,"Update artifact tooling for swiftless underclouds

This change updates the artifact tooling to ensure that we're not
assuming we have access to a Swift deployment on the undercloud.
The tooling will now sync files locally and push them to target
host(s) during deployment time.

Depends-On: I5d18cf334c1bc4011db968fbeb4f9e41869611cd
Change-Id: If7307bfd61456aaebd28aae20ac5c9025c25d68c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/790105/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upload-artifacts', 'releasenotes/notes/DeployArtifactURLs-Simplified-e3993493022653ab.yaml', 'scripts/upload-swift-artifacts', 'scripts/upload-puppet-modules']",4,7295bb9f92b46dd09adfddd48c24e6f88872dbc4,unlock-wallaby,"# Script to upload directory tarball of puppet modules to a artifact container. echo "" -c <container> -- Artifact container to use."" echo ""Upload a directory tarball of puppet modules to a artifact container"": ${CONTAINER_NAME:?No artifact --container was specified}upload-artifacts -f ""$PUPPET_MODULES_TMP/puppet-modules.tar.gz"" \ -c ""$CONTAINER_NAME"" \ --environment ""$ENVIRONMENT_FILE"" \ --seconds ""$SECONDS""","# Script to upload directory tarball of puppet modules to a swift container. echo "" -c <container> -- Swift container to use."" echo ""Upload a directory tarball of puppet modules to a swift container"": ${CONTAINER_NAME:?No swift --container was specified}upload-swift-artifacts -f ""$PUPPET_MODULES_TMP/puppet-modules.tar.gz"" \ -c ""$CONTAINER_NAME"" \ --environment ""$ENVIRONMENT_FILE"" \ --seconds ""$SECONDS""",151,8
openstack%2Ftripleo-common~stable%2Fwallaby~Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c,openstack/tripleo-common,stable/wallaby,Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c,Also catch keystoneauth1.exceptions.catalog.EndpointNotFound,MERGED,2021-05-06 16:47:01.000000000,2021-05-07 20:49:36.000000000,2021-05-07 20:49:36.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b9996578ad81e8536866cfd6ede0e54c27a83dcc', 'message': 'Also catch keystoneauth1.exceptions.catalog.EndpointNotFound\n\nWhen generating the ansible inventory and querying for heat or neutron\ndata, keystoneauth1.exceptions.catalog.EndpointNotFound also needs to be\ncaught as an exception in the case either service is not installed and\nthe endpoints do not exist.\n\nChange-Id: Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fdd71163eedc4e82c13795ac4a0c8b4a9e803d95', 'message': 'Also catch keystoneauth1.exceptions.catalog.EndpointNotFound\n\nWhen generating the ansible inventory and querying for heat or neutron\ndata, keystoneauth1.exceptions.catalog.EndpointNotFound also needs to be\ncaught as an exception in the case either service is not installed and\nthe endpoints do not exist.\n\nChange-Id: Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 3, 'created': '2021-05-06 21:29:01.000000000', 'files': ['tripleo_common/inventory.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/81f1fef025814e65bd327b8f0c0ee87970cb870f', 'message': 'Also catch keystoneauth1.exceptions.catalog.EndpointNotFound\n\nWhen generating the ansible inventory and querying for heat or neutron\ndata, keystoneauth1.exceptions.catalog.EndpointNotFound also needs to be\ncaught as an exception in the case either service is not installed and\nthe endpoints do not exist.\n\nChange-Id: Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,790104,81f1fef025814e65bd327b8f0c0ee87970cb870f,17,4,3,7144,,,0,"Also catch keystoneauth1.exceptions.catalog.EndpointNotFound

When generating the ansible inventory and querying for heat or neutron
data, keystoneauth1.exceptions.catalog.EndpointNotFound also needs to be
caught as an exception in the case either service is not installed and
the endpoints do not exist.

Change-Id: Ia6de5fc45cdcc5725b1177092e9acf00abf7ab1c
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/04/790104/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/inventory.py'],1,b9996578ad81e8536866cfd6ede0e54c27a83dcc,unlock-wallaby,"import keystoneauth1 except (HTTPNotFound, keystoneauth1.exceptions.catalog.EndpointNotFound): except (HTTPNotFound, keystoneauth1.exceptions.catalog.EndpointNotFound): except (openstack.connection.exceptions.EndpointNotFound, keystoneauth1.exceptions.catalog.EndpointNotFound):", except HTTPNotFound: except HTTPNotFound: except openstack.connection.exceptions.EndpointNotFound:,7,3
openstack%2Fcinder~master~I67108dd63efffa83637731ac2dab49768f12e6ae,openstack/cinder,master,I67108dd63efffa83637731ac2dab49768f12e6ae,PowerMax Docs - Wallaby documentation,MERGED,2021-04-06 15:08:56.000000000,2021-05-07 19:58:37.000000000,2021-05-07 19:54:24.000000000,"[{'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-04-06 15:08:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9cec0733e613109eec336e966c58b2db8e38f3cc', 'message': 'PowerMax Docs - Wallaby documentation\n\nUpdating version, multipathing, Unisphere failover and\nManageable volumes sections.\n\nChange-Id: I67108dd63efffa83637731ac2dab49768f12e6ae\n'}, {'number': 2, 'created': '2021-04-08 17:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/908a0fd8f1b11fe8d29ee50d186e28cd75df6ede', 'message': 'PowerMax Docs - Wallaby documentation\n\nUpdating version, multipathing, Unisphere failover and\nManageable volumes sections.\n\nChange-Id: I67108dd63efffa83637731ac2dab49768f12e6ae\n'}, {'number': 3, 'created': '2021-04-22 13:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4775da8fab4cc44191d8e552392b7de8d0b905cc', 'message': 'PowerMax Docs - Wallaby documentation\n\nUpdating version, multipathing, Unisphere failover and\nManageable volumes sections.\n\nChange-Id: I67108dd63efffa83637731ac2dab49768f12e6ae\n'}, {'number': 4, 'created': '2021-04-22 13:41:37.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd6ce63065be8f191af88f79337629b55d7c3de3', 'message': 'PowerMax Docs - Wallaby documentation\n\nUpdating version, multipathing, Unisphere failover and\nManageable volumes sections.\n\nChange-Id: I67108dd63efffa83637731ac2dab49768f12e6ae\n'}]",8,784972,fd6ce63065be8f191af88f79337629b55d7c3de3,72,4,4,12670,,,0,"PowerMax Docs - Wallaby documentation

Updating version, multipathing, Unisphere failover and
Manageable volumes sections.

Change-Id: I67108dd63efffa83637731ac2dab49768f12e6ae
",git fetch https://review.opendev.org/openstack/cinder refs/changes/72/784972/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powermax-driver.rst'],1,9cec0733e613109eec336e966c58b2db8e38f3cc,powermax-wallaby-release-notes,"The array operating system software, Solutions Enabler 9.2.1 series, and Unisphere for PowerMax 9.2.1 series are required to run Dell EMC PowerMax(login is required). See the ``Dell EMC Solutions Enabler 9.2.1 Installation | Wallaby | 9.2.1 | 5978.669 | +-----------+------------------------+-------------+ 9.2.1 Installation and Configuration Guide`` on `Dell EMC Support`_ for Follow instructions in ``Dell EMC Solutions Enabler 9.2.1 Installation PowerMax). See ``Dell EMC Solutions Enabler 9.2.1 Installation and10. Multi-pathing support ------------------------- - Install ``open-iscsi`` on all nodes on your system if on an iSCSI setup.On Ubuntu iSCSI:On Ubuntu FC .. code-block:: console # service multipath-tools restart CentOS iSCSI: On openSUSE, SUSE Linux Enterprise Server, Red Hat Enterprise Linux, and CentOS FC: .. code-block:: console # systemctl restart multipath-tools The following configuration changes need to be made in ``cinder.conf`` under the PowerMax backend stanza in order to support the failover to secondary Unisphere. Cinder services will need to be restarted for changes to take effect. [POWERMAX_1] ... Replication naming conventions ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ .. table:: Replication naming conventions +----------------------------+---------------------------------+--------------------+ | Default storage group | Attached child storage group | Replication Type | +============================+=================================+====================+ | OS-[SRP]-[SL]-[WL]-SG | OS-[HOST]-[SRP]-[SL/WL]-[PG] | None | +----------------------------+---------------------------------+--------------------+ | OS-[SRP]-[SL]-[WL]-RE-SG | OS-[HOST]-[SRP]-[SL/WL]-[PG]-RE | Synchronous | +----------------------------+---------------------------------+--------------------+ | OS-[SRP]-[SL]-[WL]-RA-SG | OS-[HOST]-[SRP]-[SL/WL]-[PG]-RA | Asynchronous | +----------------------------+---------------------------------+--------------------+ | OS-[SRP]-[SL]-[WL]-RM-SG | OS-[HOST]-[SRP]-[SL/WL]-[PG]-RM | Metro | +----------------------------+---------------------------------+--------------------+ .. note:: A mix of ``RDF1+TDEV`` and ``TDEV`` volumes should not exist in the same storage group. If this inadvertently happens, then remove the volume that should not be there. For example, Remove ``TDEV`` from ``OS-[SRP]-[SL]-[WL]-RA-SG``, remove ``RDF1+TDEV`` from ``OS-[HOST]-[SRP]-[SL/WL]-[PG]``. - Volume should not be in more than one storage group.","The array operating system software, Solutions Enabler 9.2.x series, and Unisphere for PowerMax 9.2.x series are required to run Dell EMC PowerMax(login is required). See the ``Dell EMC Solutions Enabler 9.2.x Installation 9.2.x Installation and Configuration Guide`` on `Dell EMC Support`_ for Follow instructions in ``Dell EMC Solutions Enabler 9.2.x Installation PowerMax). See ``Dell EMC Solutions Enabler 9.2.x Installation and10. iSCSI multi-pathing support ------------------------------- - Install ``open-iscsi`` on all nodes on your systemOn Ubuntu:CentOS:The following configuration changes need to be made in ``cinder.conf`` in order to support the failover to secondary Unisphere. Cinder services will need to be restarted for changes to take effect.",63,14
openstack%2Fcinder~master~Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4,openstack/cinder,master,Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4,"zuul: fixes for the A/A job (nodeset, variables)",MERGED,2021-05-05 07:26:30.000000000,2021-05-07 19:57:16.000000000,2021-05-07 19:54:06.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 07:26:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2c2370671b8eeada8bef851d952dd65fa8145ed4', 'message': 'zuul: fixes for the A/A job (nodeset, variables)\n\n- set the parent job to the multinode variant of the base\n  devstack-plugin-ceph tempest job. This way the nodeset\n  is set automatically based on what devstack supports\n  (currently focal, instead of the replaced bionic);\n- set the devstack variable TEMPEST_VOLUME_REVERT_TO_SNAPSHOT\n  (available since stein) instead of directly setting\n  the tempest configuration.\n\nChange-Id: Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4\n'}]",0,789717,2c2370671b8eeada8bef851d952dd65fa8145ed4,43,3,1,10459,,,0,"zuul: fixes for the A/A job (nodeset, variables)

- set the parent job to the multinode variant of the base
  devstack-plugin-ceph tempest job. This way the nodeset
  is set automatically based on what devstack supports
  (currently focal, instead of the replaced bionic);
- set the devstack variable TEMPEST_VOLUME_REVERT_TO_SNAPSHOT
  (available since stein) instead of directly setting
  the tempest configuration.

Change-Id: Ic32d56b2f3a2c3f1f3345ba49f7b82b6c344f9f4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/17/789717/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2c2370671b8eeada8bef851d952dd65fa8145ed4,cinder-aa-focal, parent: devstack-plugin-ceph-multinode-tempest-py3 devstack_localrc: TEMPEST_VOLUME_REVERT_TO_SNAPSHOT: True, nodeset: openstack-two-node-bionic parent: devstack-plugin-ceph-tempest-py3 test-config: $TEMPEST_CONFIG: volume-feature-enabled: volume_revert: True,3,6
openstack%2Fopenstack-ansible-rabbitmq_server~master~Ia4bcc7a9421d16a8bc35340e1a31a3eb15519369,openstack/openstack-ansible-rabbitmq_server,master,Ia4bcc7a9421d16a8bc35340e1a31a3eb15519369,Fix service restart when using tags,MERGED,2021-05-05 11:27:05.000000000,2021-05-07 19:50:01.000000000,2021-05-07 19:48:52.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-05-05 11:27:05.000000000', 'files': ['tasks/rabbitmq_post_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/fb93d2862d310ac829722015cbde8edcbde1ed63', 'message': 'Fix service restart when using tags\n\nIf an adjustment to the rabbit config is made which rewrites the\nconfig file, and the playbook is run with\n--tags rabbitmq-config,rabbitmq_server-config then the new config\nfile will be written but the service is not restarted.\n\nThis patch adds tag inheritance to the include_tasks for service\nrestarts to ensure that the service is restarted if the just the\nconfig is updated.\n\nChange-Id: Ia4bcc7a9421d16a8bc35340e1a31a3eb15519369\n'}]",0,789788,fb93d2862d310ac829722015cbde8edcbde1ed63,8,3,1,25023,,,0,"Fix service restart when using tags

If an adjustment to the rabbit config is made which rewrites the
config file, and the playbook is run with
--tags rabbitmq-config,rabbitmq_server-config then the new config
file will be written but the service is not restarted.

This patch adds tag inheritance to the include_tasks for service
restarts to ensure that the service is restarted if the just the
config is updated.

Change-Id: Ia4bcc7a9421d16a8bc35340e1a31a3eb15519369
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/88/789788/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/rabbitmq_post_install.yml'],1,fb93d2862d310ac829722015cbde8edcbde1ed63,,- include_tasks: file: rabbitmq_restart.yml apply: tags: rabbitmq-config when: rabbit_config is changed or rabbitmq_plugin is changed or (cookie_set is defined and cookie_set is changed) or rabbitmq_upgrade | bool tags: - rabbitmq-config- include_tasks: file: rabbitmq_restart.yml apply: tags: rabbitmq-config tags: - rabbitmq-config,- include_tasks: rabbitmq_restart.yml when: rabbit_config is changed or rabbitmq_plugin is changed or cookie_set is changed or rabbitmq_upgrade | bool- include_tasks: rabbitmq_restart.yml,13,3
openstack%2Fopenstack-helm-infra~master~Ieb2861d6fbc435e24e20d13c7b358c751890b4c4,openstack/openstack-helm-infra,master,Ieb2861d6fbc435e24e20d13c7b358c751890b4c4,Prevent mariadb from split brain while cluster is in reboot state,MERGED,2021-04-30 05:47:58.000000000,2021-05-07 19:39:11.000000000,2021-05-07 19:37:56.000000000,"[{'_account_id': 18256}, {'_account_id': 18511}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24780}, {'_account_id': 28025}, {'_account_id': 30449}, {'_account_id': 30705}, {'_account_id': 30777}]","[{'number': 1, 'created': '2021-04-30 05:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c005e89a7ba15886cea2ba654e4dfedc10268983', 'message': 'Prevent mariadb from splitbrain while cluster is in reboot state\n\nThe current start logic when existing cluster state is reboot can\nlead to a split brain condition under certain circumstances.  This\npatchset adds some additional step to ensure cluster is set to\nlive state once leader node is ready to start, instead of relying\non slave nodes to handle.  Also add some simple retry when there\nis collusion detected while trying to write to configmap.\n\nChange-Id: Ieb2861d6fbc435e24e20d13c7b358c751890b4c4\n'}, {'number': 2, 'created': '2021-04-30 14:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/500207db49fb0dcb7f6b4b67f034c292ac5643e3', 'message': 'Prevent mariadb from splitbrain while cluster is in reboot state\n\nThe current start logic when existing cluster state is reboot can\nlead to a split brain condition under certain circumstances.  This\npatchset adds some additional step to ensure cluster is set to\nlive state once leader node is ready to start, instead of relying\non slave nodes to handle.  Also add some simple retry when there\nis collusion detected while trying to write to configmap.\n\nChange-Id: Ieb2861d6fbc435e24e20d13c7b358c751890b4c4\n'}, {'number': 3, 'created': '2021-05-01 06:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d27629e68449817fbbd71225a17a234fdc437b1a', 'message': 'Prevent mariadb from split brain while cluster is in reboot state\n\nThe current start logic when existing cluster state is reboot can\nlead to a split brain condition under certain circumstances.  This\npatchset adds some additional step to ensure cluster is set to\nlive state once leader node is ready to start, instead of relying\non slave nodes to handle.  Also add some simple retry when there\nis collision detected while trying to write to configmap.\n\nThe existing hair-trigger that will put the cluster state from\n""live"" into ""reboot"" can use some fine tuning, but updating it\nproperly should require additional investigation and testing,\nhence should be done as a separate activity outside the scope\nof this patchset.\n\nChange-Id: Ieb2861d6fbc435e24e20d13c7b358c751890b4c4\n'}, {'number': 4, 'created': '2021-05-02 05:19:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/391ad93969f7d0fb45d2ac58fde06790376af9c2', 'message': 'Prevent mariadb from split brain while cluster is in reboot state\n\nThe current start logic when existing cluster state is reboot can\nlead to a split brain condition under certain circumstances.  This\npatchset adds some additional step to ensure cluster is set to\nlive state once leader node is ready to start, instead of relying\non slave nodes to handle.  Also add some simple retry when there\nis collision detected while trying to write to configmap.\n\nThe existing hair-trigger that will put the cluster state from\n""live"" into ""reboot"" can use some fine tuning, but updating it\nproperly should require additional investigation and testing,\nhence should be done as a separate activity outside the scope\nof this patchset.\n\nChange-Id: Ieb2861d6fbc435e24e20d13c7b358c751890b4c4\n'}, {'number': 5, 'created': '2021-05-05 21:35:16.000000000', 'files': ['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/templates/bin/_start.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5a8aabaee346ea6f484e2d7622aa0290c1786659', 'message': 'Prevent mariadb from split brain while cluster is in reboot state\n\nThe current start logic when existing cluster state is reboot can\nlead to a split brain condition under certain circumstances.  This\npatchset adds some additional step to ensure cluster is set to\nlive state once leader node is ready to start, instead of relying\non slave nodes to handle.  Also add some simple retry when there\nis collision detected while trying to write to configmap.\n\nThe existing hair-trigger that will put the cluster state from\n""live"" into ""reboot"" can use some fine tuning, but updating it\nproperly should require additional investigation and testing,\nhence should be done as a separate activity outside the scope\nof this patchset.\n\nChange-Id: Ieb2861d6fbc435e24e20d13c7b358c751890b4c4\n'}]",28,788886,5a8aabaee346ea6f484e2d7622aa0290c1786659,53,10,5,18250,,,0,"Prevent mariadb from split brain while cluster is in reboot state

The current start logic when existing cluster state is reboot can
lead to a split brain condition under certain circumstances.  This
patchset adds some additional step to ensure cluster is set to
live state once leader node is ready to start, instead of relying
on slave nodes to handle.  Also add some simple retry when there
is collision detected while trying to write to configmap.

The existing hair-trigger that will put the cluster state from
""live"" into ""reboot"" can use some fine tuning, but updating it
properly should require additional investigation and testing,
hence should be done as a separate activity outside the scope
of this patchset.

Change-Id: Ieb2861d6fbc435e24e20d13c7b358c751890b4c4
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/86/788886/3 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/Chart.yaml', 'releasenotes/notes/mariadb.yaml', 'mariadb/templates/bin/_start.py.tpl']",3,c005e89a7ba15886cea2ba654e4dfedc10268983,mariadb-prevent-splitbrain," # Do a couple of retry in case of 409 only for i in range(3): try: api_response = k8s_api_instance.patch_namespaced_config_map( name=state_configmap_name, namespace=pod_namespace, body=configmap_patch) return True except kubernetes.client.rest.ApiException as error: if error.status == 409: # This status code indicates a collision trying to write to the # config map while another instance is also trying the same. logger.warning(""Collision writing configmap: {0}"".format(error)) # This often happens when the replicas were started at the same # time, and tends to be persistent. Sleep briefly to break the # synchronization. time.sleep(1) else: logger.error(""Failed to set configmap: {0}"".format(error)) return error return True # Node ready to start MariaDB, update cluster state to live and remove # reboot node info, if set previously. if cluster == 'new': set_configmap_annotation( key='openstackhelm.openstack.org/cluster.state', value='live') set_configmap_annotation( key='openstackhelm.openstack.org/reboot.node', value='') "," try: api_response = k8s_api_instance.patch_namespaced_config_map( name=state_configmap_name, namespace=pod_namespace, body=configmap_patch) return True except kubernetes.client.rest.ApiException as error: if error.status == 409: # This status code indicates a collision trying to write to the # config map while another instance is also trying the same. logger.warning(""Collision writing configmap: {0}"".format(error)) # This often happens when the replicas were started at the same # time, and tends to be persistent. Sleep briefly to break the # synchronization. time.sleep(1) return True else: logger.error(""Failed to set configmap: {0}"".format(error)) return error set_configmap_annotation( key='openstackhelm.openstack.org/cluster.state', value='live')",31,22
openstack%2Fkolla~master~I031128d38e32c23147ad70e429b9aff66df3b8da,openstack/kolla,master,I031128d38e32c23147ad70e429b9aff66df3b8da,[release] Use UCA Wallaby,MERGED,2021-03-22 17:55:35.000000000,2021-05-07 19:33:45.000000000,2021-05-07 19:32:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2021-03-22 17:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b518828d8fd49b6710458bc4cdf6d6f5acd416b2', 'message': 'base: use UCA Wallaby\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n'}, {'number': 2, 'created': '2021-04-09 06:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fc873e88c749c444ea20c27c9de57c65feb57103', 'message': 'base: use UCA Wallaby\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n'}, {'number': 3, 'created': '2021-04-19 19:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/015c7908cf07faa17920198c0b6581a8503111de', 'message': '[release] Use UCA Wallaby\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n'}, {'number': 4, 'created': '2021-04-19 19:54:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/29d48b5777f62627cc747681d036971d7358ee94', 'message': '[release] Use UCA Wallaby\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n'}, {'number': 5, 'created': '2021-04-20 12:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9f010c2d793eb65d8fb11962c953e4dc3725d351', 'message': '[release] Use UCA Wallaby\n\nHorizon disabled due to LP#1925081 (packages conflict)\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n'}, {'number': 6, 'created': '2021-04-22 20:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b568068dd5815ef138970e07e35802b4766e1a35', 'message': '[release] Use UCA Wallaby\n\nHorizon disabled due to LP#1925081 (packages conflict)\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n'}, {'number': 7, 'created': '2021-04-23 18:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/750bb0e9655fcaec5c0c73430d1b6ff38d5345a0', 'message': '[release] Use UCA Wallaby\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n'}, {'number': 8, 'created': '2021-04-28 18:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0b4701fd83627bb1c5a925632dd64189689d6bd5', 'message': '[release] Use UCA Wallaby\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n'}, {'number': 9, 'created': '2021-04-28 21:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/05ff661beb59bd1b4fa973312f7f8e7291aca03f', 'message': '[release] Use UCA Wallaby\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n'}, {'number': 10, 'created': '2021-05-07 13:07:27.000000000', 'files': ['docker/base/apt_preferences.ubuntu', 'docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c028639af80f552304d45c48c25c1a27af10bb0c', 'message': '[release] Use UCA Wallaby\n\nopenvswitch has been pinned to 2.13.1 due to upgrade\nissues with 2.15.0\n\nChange-Id: I031128d38e32c23147ad70e429b9aff66df3b8da\n'}]",0,782308,c028639af80f552304d45c48c25c1a27af10bb0c,102,7,10,24072,,,0,"[release] Use UCA Wallaby

openvswitch has been pinned to 2.13.1 due to upgrade
issues with 2.15.0

Change-Id: I031128d38e32c23147ad70e429b9aff66df3b8da
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/782308/8 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le', 'docker/base/sources.list.ubuntu']",3,b518828d8fd49b6710458bc4cdf6d6f5acd416b2,prepare-for-kolla-wallaby-release,deb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/wallaby main,deb http://ubuntu-cloud.archive.canonical.com/ubuntu focal-updates/victoria main,3,3
openstack%2Fneutron~stable%2Fvictoria~Ia198d45f49bddda549a0e70a3374b8339f88887b,openstack/neutron,stable/victoria,Ia198d45f49bddda549a0e70a3374b8339f88887b,Rely on worker count for HashRing caching,MERGED,2021-04-13 18:14:13.000000000,2021-05-07 19:30:47.000000000,2021-05-07 19:28:54.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2021-04-13 18:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c5469e7ab33e095deb09c9cee6089cc0df75164', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}, {'number': 2, 'created': '2021-05-03 12:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b7dfab5a85e1bb2a48964ad18f4af9c2b76662c', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}, {'number': 3, 'created': '2021-05-06 14:31:44.000000000', 'files': ['neutron/tests/unit/common/ovn/test_hash_ring_manager.py', 'neutron/tests/functional/base.py', 'neutron/common/ovn/hash_ring_manager.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f30f2dfff722ea65c811b4b99243fae51a2d688', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}]",2,786097,1f30f2dfff722ea65c811b4b99243fae51a2d688,33,5,3,5756,,,0,"Rely on worker count for HashRing caching

The current code looks at a hash ring node's created_at/updated_at
fields and tries to determine whether the node has been updated
based on whether updated_at - created_at > 1 second (due to the
method that initially fills them being different by microseconds).
Unfortunately, due to the notify() method being called which calls
the hash ring node's touch_node(), a node can be updated in under
a second, meaning we will prevent caching for much longer than
we intend.

When using sqlite in-memory db, this continually re-creating the
Hash Ring objects for every event that is processed is exposing an
issue where rows that should be in the db just *aren't*.

This patch instead limits the hash ring nodes to api workers and
prevents caching only until the number of nodes == number of api
workers on the host. The switch from spawning hash ring nodes
where !is_maintenance to is_api_worker is primarily because it
seems to be difficult to get a list of *all* workers from which to
subtract the maintenance worker so that _wait_startup_before_caching
can wait for that specific number of workers. In practice, this
means that RpcWorker and ServiceWorker workers would not process
HashRing events.

A note on bug 1903008: While this change will greatly reduce the
likelihood of this issue taking place, we still have some work to
do in order to fully understand why it rubs the database backend
in the wrong way. Thus, we will make this change 'related to'
instead of closing the bug.

Related-Bug: #1894117
Related-Bug: #1903008
Change-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b
(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/786097/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/common/ovn/test_hash_ring_manager.py', 'neutron/tests/functional/base.py', 'neutron/common/ovn/hash_ring_manager.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",5,0c5469e7ab33e095deb09c9cee6089cc0df75164,,"import neutron.wsgi @staticmethod def should_post_fork_initialize(worker_class): return worker_class in (neutron.wsgi.WorkerService, worker.MaintenanceWorker) def post_fork_initialize(self, resource, event, trigger, payload=None): # Initialize API/Maintenance workers with OVN IDL connections worker_class = ovn_utils.get_method_class(trigger) if not self.should_post_fork_initialize(worker_class): return if worker_class == neutron.wsgi.WorkerService: if worker_class == worker.MaintenanceWorker:"," def post_fork_initialize(self, resource, event, trigger, payload=None): # NOTE(rtheis): This will initialize all workers (API, RPC, # plugin service and OVN) with OVN IDL connections. is_maintenance = (ovn_utils.get_method_class(trigger) == worker.MaintenanceWorker) if not is_maintenance: if is_maintenance:",43,32
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Id9b5c621c25158bb72559c3d3c52a62c840b3a6a,openstack/python-tripleoclient,stable/wallaby,Id9b5c621c25158bb72559c3d3c52a62c840b3a6a,Add commands to extract|provision net vips,MERGED,2021-05-06 16:47:06.000000000,2021-05-07 18:54:23.000000000,2021-05-07 18:51:51.000000000,"[{'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2995ef8f5dfb46858140c9556f0dabef24d3ad34', 'message': 'Add commands to extract|provision net vips\n\nAdd command to extract Virtual IPs information from\na deployed overcloud. This writes a \'vip_data\' file\nthat should be used when managing neutron Virtual IP\nresources ""outside"" the overcloud Heat stack.\n\nAdd command to provision Virtual IPs using \'vip_data\'\nfile as input. This command will output a\n\'vip_environment\' file with the resource_registry and\nparamters to replace the neutron resources in the\novercloud Heat stack.\n\nDepends-On: https://review.opendev.org/774857\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: Id9b5c621c25158bb72559c3d3c52a62c840b3a6a\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e5b7a955c068e354b86ffcfa5128aeaea83ab1dd', 'message': 'Add commands to extract|provision net vips\n\nAdd command to extract Virtual IPs information from\na deployed overcloud. This writes a \'vip_data\' file\nthat should be used when managing neutron Virtual IP\nresources ""outside"" the overcloud Heat stack.\n\nAdd command to provision Virtual IPs using \'vip_data\'\nfile as input. This command will output a\n\'vip_environment\' file with the resource_registry and\nparamters to replace the neutron resources in the\novercloud Heat stack.\n\nDepends-On: https://review.opendev.org/774857\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: Id9b5c621c25158bb72559c3d3c52a62c840b3a6a\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['setup.cfg', 'tripleoclient/v2/overcloud_network.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a161e88fa78ee551d60c541ef4f7221a3bd362d5', 'message': 'Add commands to extract|provision net vips\n\nAdd command to extract Virtual IPs information from\na deployed overcloud. This writes a \'vip_data\' file\nthat should be used when managing neutron Virtual IP\nresources ""outside"" the overcloud Heat stack.\n\nAdd command to provision Virtual IPs using \'vip_data\'\nfile as input. This command will output a\n\'vip_environment\' file with the resource_registry and\nparamters to replace the neutron resources in the\novercloud Heat stack.\n\nDepends-On: https://review.opendev.org/774857\nPartial-Implements: blueprint network-data-v2-ports\nChange-Id: Id9b5c621c25158bb72559c3d3c52a62c840b3a6a\n'}]",0,790115,a161e88fa78ee551d60c541ef4f7221a3bd362d5,14,3,3,7144,,,0,"Add commands to extract|provision net vips

Add command to extract Virtual IPs information from
a deployed overcloud. This writes a 'vip_data' file
that should be used when managing neutron Virtual IP
resources ""outside"" the overcloud Heat stack.

Add command to provision Virtual IPs using 'vip_data'
file as input. This command will output a
'vip_environment' file with the resource_registry and
paramters to replace the neutron resources in the
overcloud Heat stack.

Depends-On: https://review.opendev.org/774857
Partial-Implements: blueprint network-data-v2-ports
Change-Id: Id9b5c621c25158bb72559c3d3c52a62c840b3a6a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/15/790115/3 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tripleoclient/v2/overcloud_network.py']",2,2995ef8f5dfb46858140c9556f0dabef24d3ad34,unlock-wallaby," class OvercloudVirtualIPsExtract(command.Command): log = logging.getLogger(__name__ + "".OvercloudVirtualIPsExtract"") def get_parser(self, prog_name): parser = super(OvercloudVirtualIPsExtract, self).get_parser(prog_name) parser.add_argument('--stack', dest='stack', required=True, help=_('Name of heat stack ' '(default=Env: OVERCLOUD_STACK_NAME)'), default=utils.env('OVERCLOUD_STACK_NAME', default='overcloud')) parser.add_argument('-o', '--output', required=True, metavar='<vip_data.yaml>', help=_('The output file path describing the ' 'Virtual IP deployment')) parser.add_argument('-y', '--yes', default=False, action='store_true', help=_('Skip yes/no prompt for existing files ' '(assume yes).')) return parser def take_action(self, parsed_args): self.log.debug(""take_action(%s)"" % parsed_args) output_path = os.path.abspath(parsed_args.output) overwrite = parsed_args.yes if (os.path.exists(output_path) and not overwrite and not oooutils.prompt_user_for_confirmation( 'Overwrite existing file %s [y/N]?' % parsed_args.output, self.log)): raise oscexc.CommandError(""Will not overwrite existing file:"" "" %s"" % parsed_args.output) else: overwrite = True extra_vars = { ""stack_name"": parsed_args.stack, ""output"": output_path, ""overwrite"": overwrite } with oooutils.TempDirs() as tmp: oooutils.run_ansible_playbook( playbook='cli-overcloud-network-vip-extract.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=oooutils.playbook_verbosity(self=self), extra_vars=extra_vars, ) class OvercloudVirtualIPsProvision(command.Command): log = logging.getLogger(__name__ + "".OvercloudVirtualIPsProvision"") def get_parser(self, prog_name): parser = super(OvercloudVirtualIPsProvision, self).get_parser( prog_name) parser.add_argument('vip_file', metavar='<vip_data.yaml>', help=_('Configuration file describing the network ' 'deployment.')) parser.add_argument('--stack', dest='stack', required=True, help=_('Name of heat stack ' '(default=Env: OVERCLOUD_STACK_NAME)'), default=utils.env('OVERCLOUD_STACK_NAME', default='overcloud')) parser.add_argument('-o', '--output', required=True, metavar='<vip_environment.yaml>', help=_('The output Virtual IP environment file ' 'path.')) parser.add_argument('-y', '--yes', default=False, action='store_true', help=_('Skip yes/no prompt for existing files ' '(assume yes).')) return parser def take_action(self, parsed_args): self.log.debug(""take_action(%s)"" % parsed_args) vip_file_path = os.path.abspath(parsed_args.vip_file) output_path = os.path.abspath(parsed_args.output) if not os.path.exists(vip_file_path): raise oscexc.CommandError( ""Virtual IPs configuration file does not exist:"" "" %s"" % parsed_args.networks_file) overwrite = parsed_args.yes if (os.path.exists(output_path) and not overwrite and not oooutils.prompt_user_for_confirmation( 'Overwrite existing file %s [y/N]?' % parsed_args.output, self.log)): raise oscexc.CommandError(""Will not overwrite existing file:"" "" %s"" % parsed_args.output) else: overwrite = True extra_vars = { ""stack_name"": parsed_args.stack, ""vip_data_path"": vip_file_path, ""vip_deployed_path"": output_path, ""overwrite"": overwrite } with oooutils.TempDirs() as tmp: oooutils.run_ansible_playbook( playbook='cli-overcloud-network-vip-provision.yaml', inventory='localhost,', workdir=tmp, playbook_dir=constants.ANSIBLE_TRIPLEO_PLAYBOOKS, verbosity=oooutils.playbook_verbosity(self=self), extra_vars=extra_vars, )",,121,0
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I09c886fe6bada721caac61d25d9a0915cf9aff02,openstack/python-tripleoclient,stable/wallaby,I09c886fe6bada721caac61d25d9a0915cf9aff02,overcloud node extract add network info,MERGED,2021-05-06 16:47:06.000000000,2021-05-07 18:53:07.000000000,2021-05-07 18:51:47.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/541e2a4a8fa4901261be053da8db8bc65cd045cf', 'message': 'overcloud node extract add network info\n\nExtend the command which extract overcloud node\ninformation to also include network information.\n\nThe command now requires the --roles-file used\nwhen deploying the overcloud to be passed because\nthis is the source for these options:\n * default_route_networks\n * networks_skip_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772359\nChange-Id: I09c886fe6bada721caac61d25d9a0915cf9aff02\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c39fd0489b044e7b4d1f08a4d5192fb66da945e0', 'message': 'overcloud node extract add network info\n\nExtend the command which extract overcloud node\ninformation to also include network information.\n\nThe command now requires the --roles-file used\nwhen deploying the overcloud to be passed because\nthis is the source for these options:\n * default_route_networks\n * networks_skip_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772359\nChange-Id: I09c886fe6bada721caac61d25d9a0915cf9aff02\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ab31ba607351fdb202eee28ae916f98ebf32b53e', 'message': 'overcloud node extract add network info\n\nExtend the command which extract overcloud node\ninformation to also include network information.\n\nThe command now requires the --roles-file used\nwhen deploying the overcloud to be passed because\nthis is the source for these options:\n * default_route_networks\n * networks_skip_config\n\nPartial-Implements: blueprint network-data-v2-ports\nDepends-On: https://review.opendev.org/772359\nChange-Id: I09c886fe6bada721caac61d25d9a0915cf9aff02\n'}]",0,790114,ab31ba607351fdb202eee28ae916f98ebf32b53e,14,4,3,7144,,,0,"overcloud node extract add network info

Extend the command which extract overcloud node
information to also include network information.

The command now requires the --roles-file used
when deploying the overcloud to be passed because
this is the source for these options:
 * default_route_networks
 * networks_skip_config

Partial-Implements: blueprint network-data-v2-ports
Depends-On: https://review.opendev.org/772359
Change-Id: I09c886fe6bada721caac61d25d9a0915cf9aff02
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/14/790114/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_node.py']",3,541e2a4a8fa4901261be053da8db8bc65cd045cf,unlock-wallaby,"import ipaddressfrom openstack import exceptions as openstack_exc self.network_client = self.clients.network parser.add_argument('--roles-file', '-r', dest='roles_file', required=True, help=_('Role data definition file')) def _get_subnet_from_net_name_and_ip(self, net_name, ip_addr): try: network = self.network_client.find_network(net_name) except openstack_exc.DuplicateResource: raise oscexc.CommandError( ""Unable to extract role networks. Duplicate network resources "" ""with name %s detected."" % net_name) if network is None: raise oscexc.CommandError(""Unable to extract role networks. "" ""Network %s not found."" % net_name) for subnet_id in network.subnet_ids: subnet = self.network_client.get_subnet(subnet_id) if (ipaddress.ip_address(ip_addr) in ipaddress.ip_network(subnet.cidr)): subnet_name = subnet.name return subnet_name raise oscexc.CommandError(""Unable to extract role networks. Could not "" ""find subnet for IP address %(ip)s on "" ""network %(net)s."" % {'ip': ip_addr, 'net': net_name}) roles_file = os.path.abspath(parsed_args.roles_file) with open(roles_file, 'r') as fd: role_data = yaml.safe_load(fd.read()) # Convert role_data to a dict role_data = {x['name']: x for x in role_data} role_net_ip_map = oooutils.get_stack_output_item( stack, 'RoleNetIpMap') or {} data = [] for role_name, entries in host_vars.items(): if role_name not in role_data: raise oscexc.CommandError( ""Unable to extract. Invalid role file. Role {} is not "" ""defined in roles file {}"".format(role_name, roles_file)) role = collections.OrderedDict() role['name'] = role_name role['count'] = role_count hostname_format = parameters.get('%sHostnameFormat' % role_name) if hostname_format: role['hostname_format'] = hostname_format defaults = role['defaults'] = {} # Add networks to the role default section role_networks = defaults['networks'] = [] for net_name, ips in role_net_ip_map[role_name].items(): subnet_name = self._get_subnet_from_net_name_and_ip(net_name, ips[0]) if net_name == constants.CTLPLANE_NET_NAME: role_networks.append({'network': net_name, 'subnet': subnet_name, 'vif': True}) else: role_networks.append({'network': net_name, 'subnet': subnet_name}) # Add network config to role defaults section net_conf = defaults['network_config'] = {} net_conf['template'] = parameters.get( role_name + 'NetworkConfigTemplate') if parameters.get(role_name + 'NetworkDeploymentActions'): net_conf['network_deployment_actions'] = parameters.get( role_name + 'NetworkDeploymentActions') else: net_conf['network_deployment_actions'] = parameters.get( 'NetworkDeploymentActions', ['CREATE']) if isinstance(net_conf['network_deployment_actions'], str): net_conf['network_deployment_actions'] = net_conf[ 'network_deployment_actions'].split(',') # The NetConfigDataLookup parameter is of type: json, but when # not set it returns as string '{}' ncdl = parameters.get('NetConfigDataLookup') if isinstance(ncdl, str): ncdl = json.loads(ncdl) if ncdl: net_conf['net_config_data_lookup'] = ncdl if parameters.get('DnsSearchDomains'): net_conf['dns_search_domains'] = parameters.get( 'DnsSearchDomains') net_conf['physical_bridge_name'] = parameters.get( 'NeutronPhysicalBridge', 'br-ex') net_conf['public_interface_name'] = parameters.get( 'NeutronPublicInterface', 'nic1') if role_data[role_name].get('default_route_networks'): net_conf['default_route_network'] = role_data[role_name].get( 'default_route_networks') if role_data[role_name].get('networks_skip_config'): net_conf['networks_skip_config'] = role_data[role_name].get( 'networks_skip_config') # Add individual instances instances = role['instances'] = [] for entry in sorted(entries): instance = {'hostname': entry} if entry in hostname_node_map: instance['name'] = hostname_node_map[entry] instances.append(instance) data.append(role) # Write the file header file_data = six.StringIO() file_data.write('# Generated with the following on %s\n#\n' % datetime.datetime.now().isoformat()) file_data.write('# openstack %s\n#\n\n' % ' '.join(self.app.command_options)) # Write the data if data: yaml.dump(data, file_data, RoleDataDumper, width=120, default_flow_style=False) fp.write(file_data.getvalue()) self.app.stdout.write(file_data.getvalue()) class RoleDataDumper(yaml.SafeDumper): def represent_ordered_dict(self, data): return self.represent_dict(data.items()) RoleDataDumper.add_representer(collections.OrderedDict, RoleDataDumper.represent_ordered_dict)"," role_data = six.StringIO() role_data.write('# Generated with the following on %s\n#\n' % datetime.datetime.now().isoformat()) role_data.write('# openstack %s\n#\n\n' % ' '.join(self.app.command_options)) for role, entries in host_vars.items(): role_data.write('- name: %s\n' % role) role_data.write(' count: %s\n' % role_count) hostname_format = parameters.get('%sHostnameFormat' % role) if hostname_format: role_data.write(' hostname_format: ""%s""\n' % hostname_format) role_data.write(' instances:\n') for entry in sorted(entries): role_data.write(' - hostname: %s\n' % entry) if entry in hostname_node_map: role_data.write(' name: %s\n' % hostname_node_map[entry]) fp.write(role_data.getvalue()) self.app.stdout.write(role_data.getvalue())",271,21
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I18220825dbf5e793809c51c075be27cfe23deb39,openstack/python-tripleoclient,stable/wallaby,I18220825dbf5e793809c51c075be27cfe23deb39,Remove deploy_args for podman.yaml as its default,MERGED,2021-05-06 16:47:06.000000000,2021-05-07 18:52:05.000000000,2021-05-07 18:48:57.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/70ac3b096ec488d3962c42a05df4afa31f4d9daa', 'message': 'Remove deploy_args for podman.yaml as its default\n\nRemoving deploy_args += podman.yaml from undercloud_config.py\nand minion_config.py as its default now in tht[1].\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud-resource-registry-puppet.j2.yaml#L303-L304\n\nChange-Id: I18220825dbf5e793809c51c075be27cfe23deb39\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5268b68ab75a5c26dea55a6cde07579dee0dd037', 'message': 'Remove deploy_args for podman.yaml as its default\n\nRemoving deploy_args += podman.yaml from undercloud_config.py\nand minion_config.py as its default now in tht[1].\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud-resource-registry-puppet.j2.yaml#L303-L304\n\nChange-Id: I18220825dbf5e793809c51c075be27cfe23deb39\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/minion_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/292a8710643a1004b261e28de243fedad34bf052', 'message': 'Remove deploy_args for podman.yaml as its default\n\nRemoving deploy_args += podman.yaml from undercloud_config.py\nand minion_config.py as its default now in tht[1].\n\n[1] https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud-resource-registry-puppet.j2.yaml#L303-L304\n\nChange-Id: I18220825dbf5e793809c51c075be27cfe23deb39\n'}]",1,790108,292a8710643a1004b261e28de243fedad34bf052,15,4,3,7144,,,0,"Remove deploy_args for podman.yaml as its default

Removing deploy_args += podman.yaml from undercloud_config.py
and minion_config.py as its default now in tht[1].

[1] https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud-resource-registry-puppet.j2.yaml#L303-L304

Change-Id: I18220825dbf5e793809c51c075be27cfe23deb39
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/790108/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/v1/minion_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py', 'tripleoclient/tests/v1/undercloud/minion/test_config.py']",4,70ac3b096ec488d3962c42a05df4afa31f4d9daa,unlock-wallaby,," 'environments/podman.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/' '-e', '/foo/environments/podman.yaml',",10,35
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I799885c169acef9c6a772950e0fcaf09c5a97077,openstack/python-tripleoclient,stable/wallaby,I799885c169acef9c6a772950e0fcaf09c5a97077,Base for improvement of validator test coverage,MERGED,2021-05-06 16:47:06.000000000,2021-05-07 18:49:41.000000000,2021-05-07 18:49:41.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d1a5655f529c68502652930b860f01cad41ed011', 'message': 'Base for improvement of validator test coverage\n\nMoves test_tripleo_validator.py into v1 dir.\nConstants used for tests moved to the fakes module.\n\nMock import guard added, in order to preferrentially import\nnew mock package instead of legacy.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I799885c169acef9c6a772950e0fcaf09c5a97077\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a26f14bd88db8efc76ae8274a8f558cf20521d16', 'message': 'Base for improvement of validator test coverage\n\nMoves test_tripleo_validator.py into v1 dir.\nConstants used for tests moved to the fakes module.\n\nMock import guard added, in order to preferrentially import\nnew mock package instead of legacy.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I799885c169acef9c6a772950e0fcaf09c5a97077\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/v1/test_tripleo_validator.py', 'tripleoclient/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/94b58403743f282a24a3cf53b010d9281caafdf5', 'message': 'Base for improvement of validator test coverage\n\nMoves test_tripleo_validator.py into v1 dir.\nConstants used for tests moved to the fakes module.\n\nMock import guard added, in order to preferrentially import\nnew mock package instead of legacy.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I799885c169acef9c6a772950e0fcaf09c5a97077\n'}]",0,790113,94b58403743f282a24a3cf53b010d9281caafdf5,11,6,3,7144,,,0,"Base for improvement of validator test coverage

Moves test_tripleo_validator.py into v1 dir.
Constants used for tests moved to the fakes module.

Mock import guard added, in order to preferrentially import
new mock package instead of legacy.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I799885c169acef9c6a772950e0fcaf09c5a97077
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/13/790113/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/tripleo/test_tripleo_validator.py', 'tripleoclient/tests/v1/test_tripleo_validator.py', 'tripleoclient/tests/fakes.py']",3,d1a5655f529c68502652930b860f01cad41ed011,unlock-wallaby,"VALIDATIONS_LIST = [{ 'description': 'My Validation One Description', 'groups': ['prep', 'pre-deployment'], 'id': 'my_val1', 'name': 'My Validition One Name', 'parameters': {} }, { 'description': 'My Validation Two Description', 'groups': ['prep', 'pre-introspection'], 'id': 'my_val2', 'name': 'My Validition Two Name', 'parameters': {'min_value': 8} }] GROUPS_LIST = [ ('group1', 'Group1 description'), ('group2', 'Group2 description'), ('group3', 'Group3 description'), ] VALIDATIONS_LOGS_CONTENTS_LIST = [{ 'plays': [{ 'play': { 'duration': { 'end': '2019-11-25T13:40:17.538611Z', 'start': '2019-11-25T13:40:14.404623Z', 'time_elapsed': '0:00:03.753' }, 'host': 'undercloud', 'id': '008886df-d297-1eaa-2a74-000000000008', 'validation_id': '512e', 'validation_path': '/usr/share/ansible/validation-playbooks' }, 'tasks': [ { 'hosts': { 'undercloud': { '_ansible_no_log': False, 'action': 'command', 'changed': False, 'cmd': [u'ls', '/sys/class/block/'], 'delta': '0:00:00.018913', 'end': '2019-11-25 13:40:17.120368', 'invocation': { 'module_args': { '_raw_params': 'ls /sys/class/block/', '_uses_shell': False, 'argv': None, 'chdir': None, 'creates': None, 'executable': None, 'removes': None, 'stdin': None, 'stdin_add_newline': True, 'strip_empty_ends': True, 'warn': True } }, 'rc': 0, 'start': '2019-11-25 13:40:17.101455', 'stderr': '', 'stderr_lines': [], 'stdout': 'vda', 'stdout_lines': [u'vda'] } }, 'task': { 'duration': { 'end': '2019-11-25T13:40:17.336687Z', 'start': '2019-11-25T13:40:14.529880Z' }, 'id': '008886df-d297-1eaa-2a74-00000000000d', 'name': 'advanced-format-512e-support : List the available drives' } }, { 'hosts': { 'undercloud': { 'action': 'advanced_format', 'changed': False, 'msg': 'All items completed', 'results': [{ '_ansible_item_label': 'vda', '_ansible_no_log': False, 'ansible_loop_var': 'item', 'changed': False, 'item': 'vda', 'skip_reason': 'Conditional result was False', 'skipped': True }], 'skipped': True } }, 'task': { 'duration': { 'end': '2019-11-25T13:40:17.538611Z', 'start': '2019-11-25T13:40:17.341704Z' }, 'id': '008886df-d297-1eaa-2a74-00000000000e', 'name': 'advanced-format-512e-support: Detect the drive' } } ] }], 'stats': { 'undercloud': { 'changed': 0, 'failures': 0, 'ignored': 0, 'ok': 1, 'rescued': 0, 'skipped': 1, 'unreachable': 0 } }, 'validation_output': [] }] ",,284,279
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ib9b98943110a225f6e60d42d836e1e190b97349c,openstack/python-tripleoclient,stable/wallaby,Ib9b98943110a225f6e60d42d836e1e190b97349c,Removing todo from undercloud_preflight since 753845 is merged,MERGED,2021-05-06 16:47:06.000000000,2021-05-07 18:49:26.000000000,2021-05-07 18:49:26.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d46bae944aed339124d404ca4a4bc380828b39bb', 'message': ""Removing todo from undercloud_preflight since 753845 is merged\n\nhttps://review.opendev.org/753845 is merged, we don't have to handle the log\npath anymore.\n\nChange-Id: Ib9b98943110a225f6e60d42d836e1e190b97349c\n""}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d7252442004a5769b9f19a95030f2b7f8a270059', 'message': ""Removing todo from undercloud_preflight since 753845 is merged\n\nhttps://review.opendev.org/753845 is merged, we don't have to handle the log\npath anymore.\n\nChange-Id: Ib9b98943110a225f6e60d42d836e1e190b97349c\n""}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46013bb56795a2a4a0eaa5da440e50588bad1505', 'message': ""Removing todo from undercloud_preflight since 753845 is merged\n\nhttps://review.opendev.org/753845 is merged, we don't have to handle the log\npath anymore.\n\nChange-Id: Ib9b98943110a225f6e60d42d836e1e190b97349c\n""}]",0,790112,46013bb56795a2a4a0eaa5da440e50588bad1505,10,3,3,7144,,,0,"Removing todo from undercloud_preflight since 753845 is merged

https://review.opendev.org/753845 is merged, we don't have to handle the log
path anymore.

Change-Id: Ib9b98943110a225f6e60d42d836e1e190b97349c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/790112/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,d46bae944aed339124d404ca4a4bc380828b39bb,unlock-wallaby,,"from validations_libs import constants as v_consts # @matbu: todo: removed this when [1] will be merged # [1] https://review.opendev.org/753845 v_consts.VALIDATION_ANSIBLE_ARTIFACT_PATH = ""{}/artifacts"".format(tmp)",0,4
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Ia4f135fe02e1112d4493b39b8faca6d7dcc6c79a,openstack/python-tripleoclient,stable/wallaby,Ia4f135fe02e1112d4493b39b8faca6d7dcc6c79a,Pass ansible ssh_user variable to the run action,MERGED,2021-05-06 16:47:06.000000000,2021-05-07 18:49:23.000000000,2021-05-07 18:49:23.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dec6e62eb93de5c6b31b20b94fd06c782d9951cb', 'message': 'Pass ansible ssh_user variable to the run action\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/784960\nChange-Id: Ia4f135fe02e1112d4493b39b8faca6d7dcc6c79a\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4064709527c0fb4103548bb235ed4b089f65fe0d', 'message': 'Pass ansible ssh_user variable to the run action\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/784960\nChange-Id: Ia4f135fe02e1112d4493b39b8faca6d7dcc6c79a\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4d75dd5d841696d30c172b12b3e65c9f89709e8a', 'message': 'Pass ansible ssh_user variable to the run action\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/784960\nChange-Id: Ia4f135fe02e1112d4493b39b8faca6d7dcc6c79a\n'}]",2,790111,4d75dd5d841696d30c172b12b3e65c9f89709e8a,13,5,3,7144,,,0,"Pass ansible ssh_user variable to the run action

Depends-On: https://review.opendev.org/c/openstack/validations-libs/+/784960
Change-Id: Ia4f135fe02e1112d4493b39b8faca6d7dcc6c79a
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/11/790111/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_validator.py'],1,dec6e62eb93de5c6b31b20b94fd06c782d9951cb,unlock-wallaby," quiet=quiet_mode, ssh_user=parsed_args.ssh_user)", quiet=quiet_mode),2,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Idded7faba1ff6c811b94503c559029aeeaca6a06,openstack/python-tripleoclient,stable/wallaby,Idded7faba1ff6c811b94503c559029aeeaca6a06,Use a consistent working directory for tripleo deploy,MERGED,2021-05-06 16:47:06.000000000,2021-05-07 18:49:16.000000000,2021-05-07 18:49:16.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5cf62faf04e987507831ffffd0637dc16cf80218', 'message': 'Use a consistent working directory for tripleo deploy\n\nWhen\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/775302\nmerged, it changed the function signature of\nutils.archive_deploy_artifacts, but the tripleo deploy code was not\nupdated to pass the right arguments. This caused the templates directory\nto be considered the working directory and the artifact tarball was\ngenerated in that directory, and then promptly deleted during the\ncleanup phase.\n\nThis patch updates tripleo deploy to pass the right arguments to\narchive_deploy_artifacts, and also use a consistent working directory\nbased on the stack name under ~/tripleo-deploy instead of defaulting to\nthe home dir. This is a cleaner approach than just leaving all the files\nin the home dir, especially given that tripleo deploy can deploy\nmultiple stacks, and if the same directory was used as the default,\nthere would be file collisions.\n\nCloses-Bug: #1921975\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Idded7faba1ff6c811b94503c559029aeeaca6a06\n'}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9f38397bd4092615c7d6512642ec15467ad4cf55', 'message': 'Use a consistent working directory for tripleo deploy\n\nWhen\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/775302\nmerged, it changed the function signature of\nutils.archive_deploy_artifacts, but the tripleo deploy code was not\nupdated to pass the right arguments. This caused the templates directory\nto be considered the working directory and the artifact tarball was\ngenerated in that directory, and then promptly deleted during the\ncleanup phase.\n\nThis patch updates tripleo deploy to pass the right arguments to\narchive_deploy_artifacts, and also use a consistent working directory\nbased on the stack name under ~/tripleo-deploy instead of defaulting to\nthe home dir. This is a cleaner approach than just leaving all the files\nin the home dir, especially given that tripleo deploy can deploy\nmultiple stacks, and if the same directory was used as the default,\nthere would be file collisions.\n\nCloses-Bug: #1921975\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Idded7faba1ff6c811b94503c559029aeeaca6a06\n'}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/tests/fixture_data/deployment.py', 'tripleoclient/config/base.py', 'tripleoclient/config/minion.py', 'tripleoclient/v1/minion_config.py', 'releasenotes/notes/tripleo-deploy-working-dir-e0cdf80a82ac256d.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9f1c1ccce67aa10520e27fc45e697c924e8f7f0e', 'message': 'Use a consistent working directory for tripleo deploy\n\nWhen\nhttps://review.opendev.org/c/openstack/python-tripleoclient/+/775302\nmerged, it changed the function signature of\nutils.archive_deploy_artifacts, but the tripleo deploy code was not\nupdated to pass the right arguments. This caused the templates directory\nto be considered the working directory and the artifact tarball was\ngenerated in that directory, and then promptly deleted during the\ncleanup phase.\n\nThis patch updates tripleo deploy to pass the right arguments to\narchive_deploy_artifacts, and also use a consistent working directory\nbased on the stack name under ~/tripleo-deploy instead of defaulting to\nthe home dir. This is a cleaner approach than just leaving all the files\nin the home dir, especially given that tripleo deploy can deploy\nmultiple stacks, and if the same directory was used as the default,\nthere would be file collisions.\n\nCloses-Bug: #1921975\nSigned-off-by: James Slagle <jslagle@redhat.com>\nChange-Id: Idded7faba1ff6c811b94503c559029aeeaca6a06\n'}]",0,790110,9f1c1ccce67aa10520e27fc45e697c924e8f7f0e,11,3,3,7144,,,0,"Use a consistent working directory for tripleo deploy

When
https://review.opendev.org/c/openstack/python-tripleoclient/+/775302
merged, it changed the function signature of
utils.archive_deploy_artifacts, but the tripleo deploy code was not
updated to pass the right arguments. This caused the templates directory
to be considered the working directory and the artifact tarball was
generated in that directory, and then promptly deleted during the
cleanup phase.

This patch updates tripleo deploy to pass the right arguments to
archive_deploy_artifacts, and also use a consistent working directory
based on the stack name under ~/tripleo-deploy instead of defaulting to
the home dir. This is a cleaner approach than just leaving all the files
in the home dir, especially given that tripleo deploy can deploy
multiple stacks, and if the same directory was used as the default,
there would be file collisions.

Closes-Bug: #1921975
Signed-off-by: James Slagle <jslagle@redhat.com>
Change-Id: Idded7faba1ff6c811b94503c559029aeeaca6a06
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/10/790110/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/utils.py', 'tripleoclient/tests/fixture_data/deployment.py', 'tripleoclient/config/base.py', 'tripleoclient/config/minion.py', 'tripleoclient/v1/minion_config.py', 'releasenotes/notes/tripleo-deploy-working-dir-e0cdf80a82ac256d.yaml']",8,5cf62faf04e987507831ffffd0637dc16cf80218,unlock-wallaby,"--- features: - The ""openstack tripleo deploy"" and ""openstack undercloud install"" commands now save their generated artifacts from the deployment under a single consistent directory, which by default is located at ~/tripleo-deploy/<stack>. For the undercloud, this location is ~/tripleo-deploy/undercloud. The directory can be overridden with the --output-dir option. ",,50,26
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I962bed846b2cae7206c76f883f9294d366031245,openstack/python-tripleoclient,stable/wallaby,I962bed846b2cae7206c76f883f9294d366031245,Use ceph_mon_network to find Ceph monitor IPs for export,MERGED,2021-05-06 16:47:06.000000000,2021-05-07 18:49:01.000000000,2021-05-07 18:49:01.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0b5d142084fa5801313d8b51414c0b29c322cdd3', 'message': ""Use ceph_mon_network to find Ceph monitor IPs for export\n\nWhen 'openstack overcloud export ceph' is run, do not assume\nthe storage_ip will be set. Instead, find the ceph_mon_network\nname in the service_net_map, e.g. 'storage' or 'ctlplane', and\nthen use that network name to get the IP from the inventory.\n\nCloses-Bug: #1922788\nChange-Id: I962bed846b2cae7206c76f883f9294d366031245\n""}, {'number': 2, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3cef6a9365d003d6b5e1a9c9185975a7d20d30f5', 'message': ""Use ceph_mon_network to find Ceph monitor IPs for export\n\nWhen 'openstack overcloud export ceph' is run, do not assume\nthe storage_ip will be set. Instead, find the ceph_mon_network\nname in the service_net_map, e.g. 'storage' or 'ctlplane', and\nthen use that network name to get the IP from the inventory.\n\nCloses-Bug: #1922788\nChange-Id: I962bed846b2cae7206c76f883f9294d366031245\n""}, {'number': 3, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/tests/test_export.py', 'tripleoclient/export.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd2fd5f1a28b83ce4652f42d83d7c1917fc27fc0', 'message': ""Use ceph_mon_network to find Ceph monitor IPs for export\n\nWhen 'openstack overcloud export ceph' is run, do not assume\nthe storage_ip will be set. Instead, find the ceph_mon_network\nname in the service_net_map, e.g. 'storage' or 'ctlplane', and\nthen use that network name to get the IP from the inventory.\n\nCloses-Bug: #1922788\nChange-Id: I962bed846b2cae7206c76f883f9294d366031245\n""}]",0,790109,bd2fd5f1a28b83ce4652f42d83d7c1917fc27fc0,12,4,3,7144,,,0,"Use ceph_mon_network to find Ceph monitor IPs for export

When 'openstack overcloud export ceph' is run, do not assume
the storage_ip will be set. Instead, find the ceph_mon_network
name in the service_net_map, e.g. 'storage' or 'ctlplane', and
then use that network name to get the IP from the inventory.

Closes-Bug: #1922788
Change-Id: I962bed846b2cae7206c76f883f9294d366031245
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/790109/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_export.py', 'tripleoclient/export.py']",2,0b5d142084fa5801313d8b51414c0b29c322cdd3,unlock-wallaby,"def export_ceph_net_key(stack, config_download_dir=constants.DEFAULT_WORK_DIR): file = os.path.join(config_download_dir, stack, ""global_vars.yaml"") with open(file, 'r') as ff: try: global_data = yaml.safe_load(ff) except Exception as e: LOG.error( _('Could not read file %s') % file) LOG.error(e) return str(global_data['service_net_map']['ceph_mon_network']) + '_ip' def export_storage_ips(stack, config_download_dir=constants.DEFAULT_WORK_DIR, ceph_net_key=''): if len(ceph_net_key) == 0: ceph_net_key = export_ceph_net_key(stack, config_download_dir) ip = inventory_data[mon_role]['hosts'][hostname][ceph_net_key]","def export_storage_ips(stack, config_download_dir=constants.DEFAULT_WORK_DIR): ip = inventory_data[mon_role]['hosts'][hostname]['storage_ip']",39,5
openstack%2Ftripleo-ci~master~I22aca766019e293e8a9478cae29de392dac9412c,openstack/tripleo-ci,master,I22aca766019e293e8a9478cae29de392dac9412c,"Revert ""Adds tripleo-get-hash module get tripleo-ci hash info from tag""",MERGED,2021-05-07 10:40:28.000000000,2021-05-07 18:48:52.000000000,2021-05-07 18:48:52.000000000,"[{'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-05-07 10:40:28.000000000', 'files': ['tripleo-get-hash/tripleo_get_hash/exceptions.py', 'tripleo-get-hash/requirements.txt', 'tripleo-get-hash/tripleo_get_hash/constants.py', 'tripleo-get-hash/setup.py', 'tripleo-get-hash/tripleo_get_hash/__init__.py', 'tripleo-get-hash/tripleo_get_hash/__main__.py', 'tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py', 'tripleo-get-hash/config.yaml', 'tripleo-get-hash/setup.cfg', 'tripleo-get-hash/test/test_tripleo_get_hash_info.py', 'tripleo-get-hash/LICENSE', 'tripleo-get-hash/README.md', 'tripleo-get-hash/test/fakes.py', 'tripleo-get-hash/test-requirements.txt', 'zuul.d/layout.yaml', 'tripleo-get-hash/test/__init__.py', 'tox.ini', 'tripleo-get-hash/test/test_tripleo_get_hash.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/57d0c4696898adb0fa5c4d8d6d83d4745da2f4da', 'message': 'Revert ""Adds tripleo-get-hash module get tripleo-ci hash info from tag""\n\nThis reverts commit 4cf80d855a1fc51f2a080750c098cfd54cc8cf4c.\n\nReason for revert: The code is now merged into tripleo-repos at https://review.opendev.org/c/openstack/tripleo-repos/+/789535\n\nChange-Id: I22aca766019e293e8a9478cae29de392dac9412c\n'}]",0,790173,57d0c4696898adb0fa5c4d8d6d83d4745da2f4da,10,16,1,8449,,,0,"Revert ""Adds tripleo-get-hash module get tripleo-ci hash info from tag""

This reverts commit 4cf80d855a1fc51f2a080750c098cfd54cc8cf4c.

Reason for revert: The code is now merged into tripleo-repos at https://review.opendev.org/c/openstack/tripleo-repos/+/789535

Change-Id: I22aca766019e293e8a9478cae29de392dac9412c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/73/790173/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo-get-hash/tripleo_get_hash/exceptions.py', 'tripleo-get-hash/requirements.txt', 'tripleo-get-hash/tripleo_get_hash/constants.py', 'tripleo-get-hash/setup.py', 'tripleo-get-hash/tripleo_get_hash/__init__.py', 'tripleo-get-hash/tripleo_get_hash/__main__.py', 'tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py', 'tripleo-get-hash/config.yaml', 'tripleo-get-hash/setup.cfg', 'tripleo-get-hash/test/test_tripleo_get_hash_info.py', 'tripleo-get-hash/LICENSE', 'tripleo-get-hash/README.md', 'tripleo-get-hash/test/fakes.py', 'tripleo-get-hash/test-requirements.txt', 'zuul.d/layout.yaml', 'tripleo-get-hash/test/__init__.py', 'tox.ini', 'tripleo-get-hash/test/test_tripleo_get_hash.py']",18,57d0c4696898adb0fa5c4d8d6d83d4745da2f4da,Id7c7192bec43052af50e37196ff5761c6baa4ffe,,"# Copyright 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # import requests_mock import sys import unittest from unittest import mock from unittest.mock import mock_open import yaml import tripleo_get_hash.exceptions as exc import tripleo_get_hash.__main__ as tgh import test.fakes as test_fakes @mock.patch('builtins.open', new_callable=mock_open, read_data=test_fakes.CONFIG_FILE) class TestGetHash(unittest.TestCase): """"""In this class we test the CLI invocations for this module. The builtin 'open' function is mocked at a class level so we can mock the config.yaml with the contents of the fakes.CONFIG_FILE """""" def test_centos_8_current_tripleo_stable(self, mock_config): with requests_mock.Mocker() as req_mock: req_mock.get( 'https://trunk.rdoproject.org/centos8-victoria/current-tripleo/delorean.repo.md5', text=test_fakes.TEST_REPO_MD5, ) args = ['--os-version', 'centos8', '--release', 'victoria'] sys.argv[1:] = args main_res = tgh.main() self.assertEqual(main_res.full_hash, test_fakes.TEST_REPO_MD5) self.assertEqual( 'https://trunk.rdoproject.org/centos8-victoria/current-tripleo/delorean.repo.md5', main_res.dlrn_url, ) self.assertEqual('centos8', main_res.os_version) self.assertEqual('victoria', main_res.release) def test_verbose_logging_on(self, mock_config): args = ['--verbose'] debug_msgs = [] with requests_mock.Mocker() as req_mock: req_mock.get( 'https://trunk.rdoproject.org/centos8-master/current-tripleo/delorean.repo.md5', text=test_fakes.TEST_REPO_MD5, ) with self.assertLogs() as captured: sys.argv[1:] = args tgh.main() debug_msgs = [ record.message for record in captured.records if record.levelname == 'DEBUG' ] self.assertIn('Logging level set to DEBUG', debug_msgs) def test_verbose_logging_off(self, mock_config): debug_msgs = [] with requests_mock.Mocker() as req_mock: req_mock.get( 'https://trunk.rdoproject.org/centos8-master/current-tripleo/delorean.repo.md5', text=test_fakes.TEST_REPO_MD5, ) args = ['--tag', 'current-tripleo', '--os-version', 'centos8'] with self.assertLogs() as captured: sys.argv[1:] = args tgh.main() debug_msgs = [ record.message for record in captured.records if record.levelname == 'DEBUG' ] self.assertEqual(debug_msgs, []) def test_invalid_unknown_components(self, mock_config): args = ['--component', 'nosuchcomponent'] sys.argv[1:] = args self.assertRaises(SystemExit, lambda: tgh.main()) def test_valid_tripleo_ci_components(self, mock_config): config_file = open(""fake_config_file"") # open is mocked at class level config_yaml = yaml.safe_load(config_file.read()) config_file.close() # interate for each of config components for component in config_yaml['tripleo_ci_components']: with requests_mock.Mocker() as req_mock: req_mock.get( ""https://trunk.rdoproject.org/centos8-master/component/{}/current-tripleo/commit.yaml"".format( component ), text=test_fakes.TEST_COMMIT_YAML_COMPONENT, ) args = ['--component', ""{}"".format(component)] sys.argv[1:] = args main_res = tgh.main() self.assertEqual( ""https://trunk.rdoproject.org/centos8-master/component/{}/current-tripleo/commit.yaml"".format( component ), main_res.dlrn_url, ) self.assertEqual(""{}"".format(component), main_res.component) def test_invalid_component_centos7(self, mock_config): args = ['--os-version', 'centos7', '--component', 'tripleo'] sys.argv[1:] = args self.assertRaises(exc.TripleOHashInvalidParameter, lambda: tgh.main()) def test_invalid_os_version(self, mock_config): args = ['--os-version', 'rhelos99', '--component', 'tripleo'] sys.argv[1:] = args self.assertRaises(SystemExit, lambda: tgh.main()) def test_invalid_unknown_tag(self, mock_config): args = ['--tag', 'nosuchtag'] sys.argv[1:] = args self.assertRaises(SystemExit, lambda: tgh.main()) def test_valid_rdo_named_tags(self, mock_config): config_file = open(""fake_config_file"") # open is mocked at class level config_yaml = yaml.safe_load(config_file.read()) config_file.close() # iterate for each of config named tags for tag in config_yaml['rdo_named_tags']: with requests_mock.Mocker() as req_mock: req_mock.get( ""https://trunk.rdoproject.org/centos8-master/{}/delorean.repo.md5"".format( tag ), text=test_fakes.TEST_REPO_MD5, ) args = ['--tag', ""{}"".format(tag)] sys.argv[1:] = args main_res = tgh.main() self.assertEqual( ""https://trunk.rdoproject.org/centos8-master/{}/delorean.repo.md5"".format( tag ), main_res.dlrn_url, ) self.assertEqual(tag, main_res.tag) def test_override_dlrn_url(self, mock_config): with requests_mock.Mocker() as req_mock: req_mock.get( 'https://awoo.com/awoo/centos8-master/current-tripleo/delorean.repo.md5', text=test_fakes.TEST_REPO_MD5, ) args = ['--dlrn-url', 'https://awoo.com/awoo'] sys.argv[1:] = args main_res = tgh.main() self.assertEqual( 'https://awoo.com/awoo/centos8-master/current-tripleo/delorean.repo.md5', main_res.dlrn_url, ) def test_override_os_version_release_rhel8(self, mock_config): with requests_mock.Mocker() as req_mock: req_mock.get( 'https://awoo.com/awoo/rhel8-osp16-2/current-tripleo/delorean.repo.md5', text=test_fakes.TEST_REPO_MD5, ) args = [ '--dlrn-url', 'https://awoo.com/awoo', '--os-version', 'rhel8', '--release', 'osp16-2', ] sys.argv[1:] = args main_res = tgh.main() self.assertEqual('rhel8', main_res.os_version) self.assertEqual('osp16-2', main_res.release) self.assertEqual( 'https://awoo.com/awoo/rhel8-osp16-2/current-tripleo/delorean.repo.md5', main_res.dlrn_url, ) if __name__ == '__main__': unittest.main() ",0,1057
openstack%2Fkayobe~master~Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3,openstack/kayobe,master,Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3,[DNM] Add jobs testing support for multiple environments,NEW,2021-02-01 15:05:04.000000000,2021-05-07 18:36:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-01 15:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cad48a3dd98005544ef3f764f800a138bd14a526', 'message': '[DNM] Set environment for testing\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 2, 'created': '2021-02-02 16:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/00d584f58b6d6e9ae0762edf14192564179607dd', 'message': '[DNM] Set environment for testing\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 3, 'created': '2021-03-15 14:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9ef4695e4acef765f43b3833deebfa9fbd92ce42', 'message': '[DNM] Set environment for testing\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 4, 'created': '2021-03-17 15:12:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c494c9c4f762cce7b657f6b0329bdf791f1c4512', 'message': '[DNM] Set environment for testing\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 5, 'created': '2021-03-17 15:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cda6db519228654463551cc35d4407e9d5812c12', 'message': '[DNM] Set environment for testing\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/752469/\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 6, 'created': '2021-03-17 20:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6a46d25333eb89f38c8c15e5fcce776927ce0994', 'message': '[DNM] Set environment for testing\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/752469/\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 7, 'created': '2021-03-18 08:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0c43f90c221098286105134d99213e4ff44da722', 'message': '[DNM] Set environment for testing\n\nDepends-On: https://review.opendev.org/c/openstack/kayobe-config-dev/+/752469/\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 8, 'created': '2021-03-24 15:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/79751c87d14b43f6d14ef35881965b840a60d28e', 'message': '[DNM] Set environment for testing\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 9, 'created': '2021-03-24 15:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/36c1c2f6f008c8b0cfcd6eeb59f6f94361a09b25', 'message': '[DNM] Set environment for testing\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 10, 'created': '2021-03-24 16:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4ae606a6f3e452590f976959de8da7c13fd7fc80', 'message': '[DNM] Set environment for testing\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 11, 'created': '2021-03-24 16:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/09898c9d57fdeeeb3e548947416d58ad92425635', 'message': '[DNM] Set environment for testing\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 12, 'created': '2021-03-24 17:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5afc41335cb496bbf121726eb73376c87357b855', 'message': '[DNM] Set environment for testing\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 13, 'created': '2021-03-24 18:01:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/d86ccc38283aad20245bb885ff2ad509df8497f3', 'message': '[DNM] Set environment for testing\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 14, 'created': '2021-03-25 13:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0ff73aabcc4643aa9a127442d845b6b53592648a', 'message': '[DNM] Add jobs testing support for multiple environments\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 15, 'created': '2021-03-25 15:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cd6329f32eb403308bed894f2aa9af127250cb06', 'message': '[DNM] Add jobs testing support for multiple environments\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 16, 'created': '2021-03-25 16:53:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e340125290ea51cd20bf2c732cb1b3fe34d70a7f', 'message': '[DNM] Add jobs testing support for multiple environments\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 17, 'created': '2021-03-25 21:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bd2c25b8255409479f5753eed8aa2e90c4a1425b', 'message': '[DNM] Add jobs testing support for multiple environments\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 18, 'created': '2021-03-26 08:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e79e9efe6278c9c60336204ec3874cf431c20365', 'message': '[DNM] Add jobs testing support for multiple environments\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}, {'number': 19, 'created': '2021-05-07 16:45:15.000000000', 'files': ['playbooks/kayobe-seed-base/run.yml', 'playbooks/kayobe-seed-base/pre.yml', 'dev/functions', 'playbooks/kayobe-seed-vm-base/run.yml', 'playbooks/kayobe-overcloud-host-configure-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml', 'playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-overcloud-base/run.yml', 'playbooks/kayobe-overcloud-host-configure-base/run.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f636fd17d30d8202c11e5cb3a0dac0587d8dd569', 'message': '[DNM] Add jobs testing support for multiple environments\n\nChange-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3\n'}]",2,773411,f636fd17d30d8202c11e5cb3a0dac0587d8dd569,41,1,19,15197,,,0,"[DNM] Add jobs testing support for multiple environments

Change-Id: Id446d038f2a47b5ad9d8adeb223f3d132c7a56b3
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/11/773411/15 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/kayobe-seed-upgrade-base/run.yml', 'playbooks/kayobe-overcloud-base/pre.yml', 'playbooks/kayobe-seed-upgrade-base/pre.yml', 'playbooks/kayobe-seed-base/pre.yml', 'playbooks/kayobe-overcloud-host-configure-base/run.yml', 'playbooks/kayobe-seed-vm-base/pre.yml', 'playbooks/kayobe-overcloud-upgrade-base/run.yml']",7,cad48a3dd98005544ef3f764f800a138bd14a526,multiple-environments," vars: kayobe_environment: ""all-in-one"" - etc/kayobe/environments/{{ kayobe_environment }}/kolla/passwords.yml", - etc/kayobe/kolla/passwords.yml,24,11
openstack%2Fkuryr-kubernetes~master~I6e6a396d0e0467ec424bb403064a19cb4f1a586e,openstack/kuryr-kubernetes,master,I6e6a396d0e0467ec424bb403064a19cb4f1a586e,Fix readiness quota check,MERGED,2021-05-05 15:25:57.000000000,2021-05-07 18:27:16.000000000,2021-05-07 18:25:49.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-05 15:25:57.000000000', 'files': ['kuryr_kubernetes/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/673fb5d9b214f26ce7c7f9ca65c544df4400d2b5', 'message': 'Fix readiness quota check\n\nDue to coding error I not only switched ""used"" with ""limit"" in our\nquota check messages but also made it impossible for the check to fail.\nThis commit fixes it.\n\nCloses-Bug: 1927241\nChange-Id: I6e6a396d0e0467ec424bb403064a19cb4f1a586e\n'}]",0,789877,673fb5d9b214f26ce7c7f9ca65c544df4400d2b5,23,4,1,11600,,,0,"Fix readiness quota check

Due to coding error I not only switched ""used"" with ""limit"" in our
quota check messages but also made it impossible for the check to fail.
This commit fixes it.

Closes-Bug: 1927241
Change-Id: I6e6a396d0e0467ec424bb403064a19cb4f1a586e
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/77/789877/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/utils.py'],1,673fb5d9b214f26ce7c7f9ca65c544df4400d2b5,fix-quota-check," if availability <= 0: resource, resource_quota['used'], resource_quota['limit']) elif availability <= 3: LOG.warning(""Neutron quota low for %s. Used %d out of %d limit."", resource, resource_quota['used'], resource_quota['limit'])"," if availability <= 3: LOG.warning(""Neutron quota low for %s. Used %d out of %d limit."", resource, resource_quota['limit'], resource_quota['used']) elif availability <= 0: resource, resource_quota['limit'], resource_quota['used'])",5,5
openstack%2Fcharm-ironic-conductor~master~I255df773bd1e034f77756c20d24981c2b438cc3c,openstack/charm-ironic-conductor,master,I255df773bd1e034f77756c20d24981c2b438cc3c,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:51:52.000000000,2021-05-07 18:21:30.000000000,2021-05-07 18:21:30.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/04f5ffa4b69fa88ed0cf380fce535afabdb80fe4', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I255df773bd1e034f77756c20d24981c2b438cc3c\n'}, {'number': 2, 'created': '2021-03-30 12:36:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/0fbcff169545d07ff9415d3b4cf567eece3ddcaf', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I255df773bd1e034f77756c20d24981c2b438cc3c\n'}, {'number': 3, 'created': '2021-04-14 12:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/193233bceca4384cb8736b1160ba6401b5926331', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I255df773bd1e034f77756c20d24981c2b438cc3c\n'}, {'number': 4, 'created': '2021-04-15 17:38:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/ae1d99b35b563b1cfed8261cfb331f50b93780dc', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I255df773bd1e034f77756c20d24981c2b438cc3c\n'}, {'number': 5, 'created': '2021-05-06 10:04:49.000000000', 'files': ['osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/861d12af6cd7c6bd59afe6e15bada66419be63fc', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I255df773bd1e034f77756c20d24981c2b438cc3c\n'}]",0,778653,861d12af6cd7c6bd59afe6e15bada66419be63fc,46,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I255df773bd1e034f77756c20d24981c2b438cc3c
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/53/778653/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",5,04f5ffa4b69fa88ed0cf380fce535afabdb80fe4,wallaby-bundles,- hirsute-wallaby- focal-wallaby- focal-ussuri - hirsute-wallaby,- bionic-ussuri - groovy-victoria,574,2
openstack%2Fkolla-ansible~stable%2Fvictoria~I551f93c9bf1ad6712b53c316074ae1df84e4352b,openstack/kolla-ansible,stable/victoria,I551f93c9bf1ad6712b53c316074ae1df84e4352b,masakari: fix minor issues with instance monitor,MERGED,2021-05-05 10:21:44.000000000,2021-05-07 18:20:47.000000000,2021-05-07 18:19:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-05 10:21:44.000000000', 'files': ['releasenotes/notes/masakari-instancemonitor-fixes-dc13e5234456d4c5.yaml', 'ansible/roles/masakari/tasks/clone.yml', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/masakari/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5618537964acde73e3c01c12ce010a777b4e5c39', 'message': ""masakari: fix minor issues with instance monitor\n\n* Don't generate masakari.conf for instance monitor\n* Don't generate masakari-monitors.conf for API or engine\n* Use a consistent name for dimensions -\n  masakari_instancemonitor_dimensions\n* Fix source code paths in dev mode\n\nChange-Id: I551f93c9bf1ad6712b53c316074ae1df84e4352b\n(cherry picked from commit 0b0dd35837a22cad8313dd8df6806dc316919a2f)\n""}]",0,789749,5618537964acde73e3c01c12ce010a777b4e5c39,14,3,1,14826,,,0,"masakari: fix minor issues with instance monitor

* Don't generate masakari.conf for instance monitor
* Don't generate masakari-monitors.conf for API or engine
* Use a consistent name for dimensions -
  masakari_instancemonitor_dimensions
* Fix source code paths in dev mode

Change-Id: I551f93c9bf1ad6712b53c316074ae1df84e4352b
(cherry picked from commit 0b0dd35837a22cad8313dd8df6806dc316919a2f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/789749/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/masakari-instancemonitor-fixes-dc13e5234456d4c5.yaml', 'ansible/roles/masakari/tasks/clone.yml', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/masakari/defaults/main.yml']",4,5618537964acde73e3c01c12ce010a777b4e5c39,," dimensions: ""{{ masakari_instancemonitor_dimensions }}""# NOTE(mgoddard): Allow masakari_monitors_dimensions for backwards # compatibility. masakari_instancemonitor_dimensions: ""{{ masakari_monitors_dimensions | default(default_container_dimensions) }}"" - ""{{ kolla_dev_repos_directory ~ '/masakari-monitors/masakarimonitors:/var/lib/kolla/venv/lib/python' ~ distro_python_version ~ '/site-packages/masakarimonitors' if masakari_dev_mode | bool else '' }}""masakari_monitors_git_repository: ""{{ kolla_dev_repos_git }}/masakari-monitors"""," dimensions: ""{{ masakari_monitors_dimensions }}""masakari_monitors_dimensions: ""{{ default_container_dimensions }}"" - ""{{ kolla_dev_repos_directory ~ '/masakari/masakari:/var/lib/kolla/venv/lib/python' ~ distro_python_version ~ '/site-packages/masakari' if masakari_dev_mode | bool else '' }}""masakari_monitors_git_repository: ""{{ kolla_dev_repos_git }}/masakarimonitors""",38,19
openstack%2Fcharm-designate~master~I327cf71fe81a1808b7ca08bd190ee2423f3beff3,openstack/charm-designate,master,I327cf71fe81a1808b7ca08bd190ee2423f3beff3,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:10:21.000000000,2021-05-07 18:05:26.000000000,2021-05-07 18:05:26.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/c1478ff89498ce9edf717a4687d7dd373fe5a1cb', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I327cf71fe81a1808b7ca08bd190ee2423f3beff3\n'}, {'number': 2, 'created': '2021-04-15 17:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/845103f830f61d41e0a8331fb2450649ef0880ef', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I327cf71fe81a1808b7ca08bd190ee2423f3beff3\n'}, {'number': 3, 'created': '2021-05-06 10:22:11.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/852d0a4d32c23aa1367f19967bcde60833ffd326', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I327cf71fe81a1808b7ca08bd190ee2423f3beff3\n'}]",0,778640,852d0a4d32c23aa1367f19967bcde60833ffd326,30,3,3,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I327cf71fe81a1808b7ca08bd190ee2423f3beff3
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/40/778640/3 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,c1478ff89498ce9edf717a4687d7dd373fe5a1cb,wallaby-bundles, - focal-wallaby - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,256,2
openstack%2Fcharm-openstack-dashboard~master~Iea8564df7d5f1236864bc9bcbc719350384df1e7,openstack/charm-openstack-dashboard,master,Iea8564df7d5f1236864bc9bcbc719350384df1e7,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 17:38:19.000000000,2021-05-07 17:59:29.000000000,2021-05-07 09:30:25.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 17:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/8aa4b1897e89b020d9eb4caafb07aaf33167b45e', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Iea8564df7d5f1236864bc9bcbc719350384df1e7\n'}, {'number': 2, 'created': '2021-03-30 17:57:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/405a5f909898278181af5a89b325d7a7e583379c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync\n\nChange-Id: Iea8564df7d5f1236864bc9bcbc719350384df1e7\n'}, {'number': 3, 'created': '2021-04-07 11:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/aa415db2e90017de1ae112b26f0b6c2aaa83f514', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync\n\nChange-Id: Iea8564df7d5f1236864bc9bcbc719350384df1e7\n'}, {'number': 4, 'created': '2021-04-16 09:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/b5e47e7e37d44072f21dab1c231f18a7c0a41ee1', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Iea8564df7d5f1236864bc9bcbc719350384df1e7\n'}, {'number': 5, 'created': '2021-05-06 10:19:31.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/861a4779dbbe4bc409ad76c373753aa8ec04dab2', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Iea8564df7d5f1236864bc9bcbc719350384df1e7\n'}]",0,779016,861a4779dbbe4bc409ad76c373753aa8ec04dab2,39,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Libraries sync

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Iea8564df7d5f1236864bc9bcbc719350384df1e7
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/16/779016/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",4,8aa4b1897e89b020d9eb4caafb07aaf33167b45e,wallaby-bundles,variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' - 'virt-type=kvm is workaround while awaiting new release of python-libjuju' machines: '0': constraints: virt-type=kvm mem=3072M '1': constraints: virt-type=kvm mem=3072M '2': constraints: virt-type=kvm mem=3072M '3': constraints: virt-type=kvm '4': constraints: virt-type=kvm mem=3072M applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router openstack-dashboard-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' openstack-dashboard: charm: ../../../openstack-dashboard num_units: 1 options: openstack-origin: *openstack-origin to: - '4' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'openstack-dashboard:shared-db' - 'openstack-dashboard-mysql-router:shared-db' - - 'openstack-dashboard-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'openstack-dashboard:identity-service' - 'keystone:identity-service' ,,146,2
openstack%2Fopenstack-ansible~stable%2Ftrain~I8157c744a58a8ade56776e8cb29956a8abed081c,openstack/openstack-ansible,stable/train,I8157c744a58a8ade56776e8cb29956a8abed081c,Add custom user-agent for git clones from opendev.org,MERGED,2021-05-04 09:21:05.000000000,2021-05-07 17:41:52.000000000,2021-05-07 17:40:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-04 09:21:05.000000000', 'files': ['scripts/log-collect.sh', 'scripts/get-ansible-role-requirements.yml', 'tests/roles/bootstrap-host/tasks/main.yml', 'scripts/bootstrap-ansible.sh', 'tests/roles/bootstrap-host/tasks/prepare_git_useragent.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/299be3bb80f625093bb9bd43cfc9a210723fe806', 'message': 'Add custom user-agent for git clones from opendev.org\n\nThere has been one confirmed denial-of-service against the opendev\ngit servers due to an openstack-ansible deployment failing to\ncorrectly use cached wheels from the repo server and instead clone\nand build the source code for each openstack service on each target\nhost.\n\nWhilst we wait for further information to understand the root cause\nof that DOS, it is possible to adjust the user-agent that git uses\non a per-domain basis.\n\nThis patch sets the user-agent to a string which identifies that\nOSA is responsible for git operations, which version of OSA is\nin use, and if the host is a deploy host or an AIO build.\n\nChange-Id: I8157c744a58a8ade56776e8cb29956a8abed081c\n(cherry picked from commit 672b720b591c8b56d1bb8318a1dd947b128a9dee)\n'}]",0,789538,299be3bb80f625093bb9bd43cfc9a210723fe806,8,3,1,25023,,,0,"Add custom user-agent for git clones from opendev.org

There has been one confirmed denial-of-service against the opendev
git servers due to an openstack-ansible deployment failing to
correctly use cached wheels from the repo server and instead clone
and build the source code for each openstack service on each target
host.

Whilst we wait for further information to understand the root cause
of that DOS, it is possible to adjust the user-agent that git uses
on a per-domain basis.

This patch sets the user-agent to a string which identifies that
OSA is responsible for git operations, which version of OSA is
in use, and if the host is a deploy host or an AIO build.

Change-Id: I8157c744a58a8ade56776e8cb29956a8abed081c
(cherry picked from commit 672b720b591c8b56d1bb8318a1dd947b128a9dee)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/38/789538/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/log-collect.sh', 'scripts/get-ansible-role-requirements.yml', 'tests/roles/bootstrap-host/tasks/main.yml', 'scripts/bootstrap-ansible.sh', 'tests/roles/bootstrap-host/tasks/prepare_git_useragent.yml']",5,299be3bb80f625093bb9bd43cfc9a210723fe806,,"--- # Copyright 2021, BBC R&D # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Find the git version command: cmd: ""git --version"" register: _git_version changed_when: false tags: - skip_ansible_lint - name: Set the git user agent for the AIO git_config: scope: system name: http.https://opendev.org/.userAgent value: ""{{ 'git/' ~ _git_version.stdout.split(' ')[2] ~ ' (osa/' ~ lookup('env', 'OSA_VERSION') ~ '/aio)' }}"" ",,51,1
openstack%2Ftripleo-common~stable%2Fwallaby~I154901314ba4da1b502299a98b29c7c2bd39c9f4,openstack/tripleo-common,stable/wallaby,I154901314ba4da1b502299a98b29c7c2bd39c9f4,Add Redfish properties when enrolling with 'idrac',MERGED,2021-05-06 16:47:01.000000000,2021-05-07 17:08:06.000000000,2021-05-07 14:48:54.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23847}, {'_account_id': 32126}]","[{'number': 1, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/60d667a8c9603866c4481d9d7827189d28f7f7ac', 'message': ""Add Redfish properties when enrolling with 'idrac'\n\nThis change adds Redfish properties, along with Web Services Management\n(WS-Man) properties, when enrolling an ironic node with the 'idrac'\nhardware type.\n\nCloses-Bug: #1914995\nChange-Id: I154901314ba4da1b502299a98b29c7c2bd39c9f4\n""}, {'number': 2, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4325f39e0114fae8844b49b2dd4b62a4c3014c0d', 'message': ""Add Redfish properties when enrolling with 'idrac'\n\nThis change adds Redfish properties, along with Web Services Management\n(WS-Man) properties, when enrolling an ironic node with the 'idrac'\nhardware type.\n\nCloses-Bug: #1914995\nDepends-On: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68\nChange-Id: I154901314ba4da1b502299a98b29c7c2bd39c9f4\n""}, {'number': 3, 'created': '2021-05-06 21:29:01.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06f1b4c294acc626b402203a658d2972b06e0bcf', 'message': ""Add Redfish properties when enrolling with 'idrac'\n\nThis change adds Redfish properties, along with Web Services Management\n(WS-Man) properties, when enrolling an ironic node with the 'idrac'\nhardware type.\n\nCloses-Bug: #1914995\nChange-Id: I154901314ba4da1b502299a98b29c7c2bd39c9f4\n""}]",3,790099,06f1b4c294acc626b402203a658d2972b06e0bcf,21,6,3,7144,,,0,"Add Redfish properties when enrolling with 'idrac'

This change adds Redfish properties, along with Web Services Management
(WS-Man) properties, when enrolling an ironic node with the 'idrac'
hardware type.

Closes-Bug: #1914995
Change-Id: I154901314ba4da1b502299a98b29c7c2bd39c9f4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/99/790099/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py']",2,60d667a8c9603866c4481d9d7827189d28f7f7ac,unlock-wallaby,"# Copyright (c) 2021 Dell Inc. or its subsidiaries.class iDRACDriverInfo(DriverInfo): def __init__(self): super(iDRACDriverInfo, self).__init__( 'drac', mapping={}, hardware_type='idrac', ) self._drac_driverinfo = PrefixedDriverInfo('drac', has_port=True, hardware_type='idrac') self._redfish_driverinfo = RedfishDriverInfo() def convert_key(self, key): for driver_info in [self._drac_driverinfo, self._redfish_driverinfo]: new_key = driver_info.convert_key(key) if new_key: return new_key def convert(self, fields): """"""Convert fields from instackenv.json format to ironic names."""""" result = self.DEFAULTS.copy() for key, value in fields.items(): for driver_info in [self._drac_driverinfo, self._redfish_driverinfo]: new_key = driver_info.convert_key(key) if new_key is not None: if (key == 'pm_addr' and driver_info is self._drac_driverinfo): new_value = self._build_drac_address(value) else: new_value = value result[new_key] = new_value return result def _build_drac_address(self, value): value = re.sub(r'https?://', '', value, count=1, flags=re.I) result = value.split(':')[0] return result.rstrip('/') def unique_id_from_fields(self, fields): fields['pm_addr'] = self._build_drac_address(fields['pm_addr']) return self._drac_driverinfo.unique_id_from_fields(fields) def unique_id_from_node(self, node): return self._drac_driverinfo.unique_id_from_node(node) r'^.*_drac$': PrefixedDriverInfo('drac', has_port=True, hardware_type='idrac'), r'^idrac$': iDRACDriverInfo(),"," r'^(idrac|.*_drac)$': PrefixedDriverInfo('drac', has_port=True, hardware_type='idrac'),",138,3
openstack%2Fkayobe-config-dev~master~I065d484d2d128e85a77b89b749874dd8b6197984,openstack/kayobe-config-dev,master,I065d484d2d128e85a77b89b749874dd8b6197984,DNM: Test multiple environments,ABANDONED,2020-09-17 13:48:17.000000000,2021-05-07 16:47:11.000000000,,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-17 13:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/5b89f5ed416c7018ee46cb3b51dabf8e28d81550', 'message': 'DNM: Test multiple environments\n\nDepends-On: https://review.opendev.org/734867\nChange-Id: I065d484d2d128e85a77b89b749874dd8b6197984\n'}, {'number': 2, 'created': '2020-09-17 15:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/2c19e717961154abb7fdbb30da76629b730f46af', 'message': 'DNM: Test multiple environments\n\nDepends-On: https://review.opendev.org/734867\nChange-Id: I065d484d2d128e85a77b89b749874dd8b6197984\n'}, {'number': 3, 'created': '2021-01-13 10:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/98efddf33f43f686a4351f412f73e84aa945f959', 'message': 'DNM: Test multiple environments\n\nDepends-On: https://review.opendev.org/734867\nChange-Id: I065d484d2d128e85a77b89b749874dd8b6197984\n'}, {'number': 4, 'created': '2021-01-13 10:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/c6708ffcb9e52900aab07337feb19163c18e1aa2', 'message': 'DNM: Test multiple environments\n\nDepends-On: https://review.opendev.org/734867\nChange-Id: I065d484d2d128e85a77b89b749874dd8b6197984\n'}, {'number': 5, 'created': '2021-01-13 10:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/9ffaeb8b86502cdb9af9e0fbcf62714ec0413d77', 'message': 'DNM: Test multiple environments\n\nDepends-On: https://review.opendev.org/734867\nChange-Id: I065d484d2d128e85a77b89b749874dd8b6197984\n'}, {'number': 6, 'created': '2021-02-01 15:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/6e458dd663af21b367a974cb393eb3fe3d0af570', 'message': 'DNM: Test multiple environments\n\nDepends-On: https://review.opendev.org/734867\nDepends-On: https://review.opendev.org/773411\nChange-Id: I065d484d2d128e85a77b89b749874dd8b6197984\n'}, {'number': 7, 'created': '2021-03-15 13:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/87803b8fb6615461ac28fda3268275c24e18e74e', 'message': 'DNM: Test multiple environments\n\nDepends-On: https://review.opendev.org/734867\nDepends-On: https://review.opendev.org/773411\nChange-Id: I065d484d2d128e85a77b89b749874dd8b6197984\n'}, {'number': 8, 'created': '2021-03-17 15:34:39.000000000', 'files': ['etc/kayobe/environments/all-in-one/compute.yml', 'etc/kayobe/environments/all-in-one/inspector.yml', 'etc/kayobe/environments/all-in-one/opensm.yml', 'etc/kayobe/environments/all-in-one/docker.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/overcloud/ansible-python-interpreter', 'kayobe-env', 'etc/kayobe/environments/all-in-one/idrac.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/controllers/network-interfaces', 'etc/kayobe/environments/all-in-one/ipa.yml', 'etc/kayobe/environments/all-in-one/nova.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/seed/ansible-python-interpreter', 'etc/kayobe/environments/all-in-one/dell-switch-bmp.yml', 'etc/kayobe/environments/all-in-one/ntp.yml', 'etc/kayobe/environments/all-in-one/controllers.yml', 'etc/kayobe/environments/all-in-one/globals.yml', 'etc/kayobe/environments/all-in-one/monasca.yml', 'etc/kayobe/environments/all-in-one/dns.yml', 'etc/kayobe/environments/all-in-one/monitoring.yml', 'etc/kayobe/environments/all-in-one/time.yml', 'etc/kayobe/environments/all-in-one/bmc.yml', 'etc/kayobe/environments/all-in-one/inventory/hosts', 'etc/kayobe/environments/all-in-one/seed-hypervisor.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/storage/network-interfaces', 'etc/kayobe/environments/all-in-one/inventory/group_vars/seed-hypervisor/ansible-python-interpreter', 'etc/kayobe/environments/all-in-one/inventory/group_vars/seed-hypervisor/network-interfaces', 'etc/kayobe/environments/all-in-one/networks.yml', 'etc/kayobe/environments/all-in-one/overcloud.yml', 'etc/kayobe/environments/all-in-one/kolla/globals.yml', 'etc/kayobe/environments/all-in-one/seed.yml', 'etc/kayobe/environments/all-in-one/docker-registry.yml', 'etc/kayobe/environments/all-in-one/swift.yml', 'etc/kayobe/environments/all-in-one/ironic.yml', 'etc/kayobe/environments/all-in-one/pip.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/compute/network-interfaces', 'etc/kayobe/environments/all-in-one/kolla/config/ironic.conf', 'etc/kayobe/environments/all-in-one/grafana.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/seed/network-interfaces', 'etc/kayobe/environments/all-in-one/hooks/.gitkeep', 'etc/kayobe/environments/all-in-one/users.yml', 'etc/kayobe/environments/all-in-one/inventory/groups', 'etc/kayobe/environments/all-in-one/neutron.yml', 'etc/kayobe/environments/all-in-one/bifrost.yml', 'etc/kayobe/environments/all-in-one/ssh.yml', 'etc/kayobe/environments/all-in-one/storage.yml', 'etc/kayobe/environments/all-in-one/kolla.yml', 'etc/kayobe/environments/all-in-one/network-allocation.yml', 'etc/kayobe/environments/all-in-one/openstack.yml', 'etc/kayobe/environments/all-in-one/dnf.yml', 'zuul.d/project.yaml', 'etc/kayobe/environments/all-in-one/seed-vm.yml'], 'web_link': 'https://opendev.org/openstack/kayobe-config-dev/commit/d2f78a3042fc654d974f020c5ea74c5e370a7f87', 'message': 'DNM: Test multiple environments\n\nChange-Id: I065d484d2d128e85a77b89b749874dd8b6197984\n'}]",0,752469,d2f78a3042fc654d974f020c5ea74c5e370a7f87,26,3,8,14826,,,0,"DNM: Test multiple environments

Change-Id: I065d484d2d128e85a77b89b749874dd8b6197984
",git fetch https://review.opendev.org/openstack/kayobe-config-dev refs/changes/69/752469/7 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/environments/all-in-one/compute.yml', 'etc/kayobe/environments/all-in-one/inspector.yml', 'etc/kayobe/environments/all-in-one/kolla/config/bifrost/bifrost.yml', 'etc/kayobe/environments/all-in-one/opensm.yml', 'etc/kayobe/environments/all-in-one/docker.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/overcloud/ansible-python-interpreter', 'kayobe-env', 'etc/kayobe/environments/all-in-one/idrac.yml', 'etc/kayobe/environments/all-in-one/kolla/inventory/group_vars/controllers', 'etc/kayobe/environments/all-in-one/inventory/group_vars/controllers/network-interfaces', 'etc/kayobe/environments/all-in-one/ipa.yml', 'etc/kayobe/environments/all-in-one/nova.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/seed/ansible-python-interpreter', 'etc/kayobe/environments/all-in-one/dell-switch-bmp.yml', 'etc/kayobe/environments/all-in-one/ntp.yml', 'etc/kayobe/environments/all-in-one/controllers.yml', 'etc/kayobe/environments/all-in-one/globals.yml', 'etc/kayobe/environments/all-in-one/monasca.yml', 'etc/kayobe/environments/all-in-one/dns.yml', 'etc/kayobe/environments/all-in-one/monitoring.yml', 'etc/kayobe/environments/all-in-one/time.yml', 'etc/kayobe/environments/all-in-one/bmc.yml', 'etc/kayobe/environments/all-in-one/inventory/hosts', 'etc/kayobe/environments/all-in-one/seed-hypervisor.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/storage/network-interfaces', 'etc/kayobe/environments/all-in-one/inventory/group_vars/seed-hypervisor/ansible-python-interpreter', 'etc/kayobe/environments/all-in-one/inventory/group_vars/seed-hypervisor/network-interfaces', 'etc/kayobe/environments/all-in-one/networks.yml', 'etc/kayobe/environments/all-in-one/overcloud.yml', 'etc/kayobe/environments/all-in-one/kolla/globals.yml', 'etc/kayobe/environments/all-in-one/seed.yml', 'etc/kayobe/environments/all-in-one/kolla/passwords.yml', 'etc/kayobe/environments/all-in-one/docker-registry.yml', 'etc/kayobe/environments/all-in-one/swift.yml', 'etc/kayobe/environments/all-in-one/ironic.yml', 'etc/kayobe/environments/all-in-one/pip.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/compute/network-interfaces', 'etc/kayobe/environments/all-in-one/grafana.yml', 'etc/kayobe/environments/all-in-one/inventory/group_vars/seed/network-interfaces', 'etc/kayobe/environments/all-in-one/hooks/.gitkeep', 'etc/kayobe/environments/all-in-one/users.yml', 'etc/kayobe/environments/all-in-one/yum-cron.yml', 'etc/kayobe/environments/all-in-one/inventory/groups', 'etc/kayobe/environments/all-in-one/inventory/hosts.example', 'etc/kayobe/environments/all-in-one/neutron.yml', 'etc/kayobe/environments/all-in-one/bifrost.yml', 'etc/kayobe/environments/all-in-one/ssh.yml', 'etc/kayobe/environments/all-in-one/storage.yml', 'etc/kayobe/environments/all-in-one/kolla.yml', 'etc/kayobe/environments/all-in-one/network-allocation.yml', 'etc/kayobe/environments/all-in-one/openstack.yml', 'etc/kayobe/environments/all-in-one/dnf.yml', 'etc/kayobe/environments/all-in-one/yum.yml', 'etc/kayobe/environments/all-in-one/seed-vm.yml', 'etc/kayobe/environments/all-in-one/ceph.yml']",55,5b89f5ed416c7018ee46cb3b51dabf8e28d81550,multiple-environments,,,501,0
openstack%2Fvalidations-libs~master~Ie79062e85351ed545c33001866773bf38fdf8517,openstack/validations-libs,master,Ie79062e85351ed545c33001866773bf38fdf8517,Retrieve n latest validation results,MERGED,2021-04-30 08:27:23.000000000,2021-05-07 16:44:13.000000000,2021-05-07 16:42:48.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-30 08:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/62d6188a2cca09d37622540e85755da1dd3c22db', 'message': 'Retrieve n latest validation results\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 2, 'created': '2021-04-30 08:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/65ea1a4ce99a154f62b31f0ce242d5b1b375af00', 'message': 'Retrieve n latest validation results\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 3, 'created': '2021-04-30 08:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a024978ece655c023c681c92f2ffeb4dc5c3eaa9', 'message': 'Retrieve n latest validation results\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 4, 'created': '2021-04-30 13:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9e610e765e3b0adeae095fb2b135600da03ea7a4', 'message': 'Retrieve n latest validation results\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 5, 'created': '2021-04-30 14:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/004d8a86c8943ea3f8fa9f2451cd14c995369874', 'message': 'Retrieve n latest validation results\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 6, 'created': '2021-04-30 15:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/124974852feb9557ef3eb3b07ef71cd2536bf1ff', 'message': 'Retrieve n latest validation results\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 7, 'created': '2021-05-03 11:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e90cfdaef669dde6092d848f6931b756f226032d', 'message': 'Retrieve n latest validation results\n\nNew optional parameter for the CLI limiting\nnumber of validation results returned by history subcommand.\n\nResolves: rhbz#1944872\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 8, 'created': '2021-05-05 09:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6d25b1749c826dd6e9c65cbc86dad83e5994534d', 'message': 'Retrieve n latest validation results\n\nNew optional parameter for the CLI limiting\nnumber of validation results returned by history subcommand.\n\nResolves: rhbz#1944872\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 9, 'created': '2021-05-05 10:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/4e20ceb3898c37d6f1832ee699cf9e9da35740b1', 'message': 'Retrieve n latest validation results\n\nNew optional parameter for the CLI limiting\nnumber of validation results returned by history subcommand.\n\nResolves: rhbz#1944872\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 10, 'created': '2021-05-05 12:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/2932967b9f0e8be154f1e3dca2b426c4ec49feac', 'message': 'Retrieve n latest validation results\n\nNew optional parameter for the CLI limiting\nnumber of validation results returned by history subcommand.\n\nNumber of validations shown will be limited to 15\nif the `--limit` arg is passed to the command.\n\nBehavior without the `--limit` remains the same.\n\nResolves: rhbz#1944872\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 11, 'created': '2021-05-06 09:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/01f4e7806f633d657a920b73040503d8af9bdda1', 'message': 'Retrieve n latest validation results\n\nNew optional parameter for the CLI limiting\nnumber of validation results returned by history subcommand.\n\nNumber of validations shown will be limited to 15\nif the `--limit` arg is passed to the command.\n\nBehavior without the `--limit` remains the same.\n\nResolves: rhbz#1944872\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 12, 'created': '2021-05-06 12:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/522cee798e66167e44ed98aab7b1c08c3330135f', 'message': 'Retrieve n latest validation results\n\nNew optional parameter for the CLI limiting\nnumber of validation results returned by history subcommand.\n\nResolves: rhbz#1944872\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 13, 'created': '2021-05-07 09:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/36015c4bf988da35a71dbaf52e88f57b301a31c2', 'message': 'Retrieve n latest validation results\n\nNew optional parameter for the CLI limiting\nnumber of validation results returned by history subcommand.\n\nResolves: rhbz#1944872\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 14, 'created': '2021-05-07 10:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/b4b46f3e190899f1923037dcdaa5dad364cd0a1e', 'message': 'Retrieve n latest validation results\n\nNew optional parameter for the CLI limiting\nnumber of validation results returned by history subcommand.\n\nResolves: rhbz#1944872\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}, {'number': 15, 'created': '2021-05-07 10:38:05.000000000', 'files': ['validations_libs/validation_actions.py', 'validations_libs/cli/history.py', 'validations_libs/tests/test_validation_actions.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/6bfdb04137477b7d646539de8c492d48eb645b9c', 'message': 'Retrieve n latest validation results\n\nNew optional parameter for the CLI limiting\nnumber of validation results returned by history subcommand.\n\nResolves: rhbz#1944872\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ie79062e85351ed545c33001866773bf38fdf8517\n'}]",10,788902,6bfdb04137477b7d646539de8c492d48eb645b9c,42,8,15,32926,,,0,"Retrieve n latest validation results

New optional parameter for the CLI limiting
number of validation results returned by history subcommand.

Resolves: rhbz#1944872

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ie79062e85351ed545c33001866773bf38fdf8517
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/02/788902/15 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_actions.py', 'validations_libs/cli/history.py']",2,62d6188a2cca09d37622540e85755da1dd3c22db,history/limit," parser.add_argument('--limit', dest='history_limit', type=int, help=('Display <n> most recent' 'runs of <validation>')) return actions.show_history( validation_ids=parsed_args.validation, history_limit=parsed_args.history_limit)", return actions.show_history(parsed_args.validation),19,3
openstack%2Fswift~master~I5691bf644ade9fd7f7490f91add388a1d5a4aaa2,openstack/swift,master,I5691bf644ade9fd7f7490f91add388a1d5a4aaa2,relinker: let --workers accept auto,MERGED,2021-05-07 02:19:37.000000000,2021-05-07 16:42:31.000000000,2021-05-07 16:41:03.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 02:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/eae71b4e364eb8d897fd0985efd1d338a6026fc0', 'message': ""relinker: let --workers accept auto\n\nCurrently from the relinker cli we allow a --workers parameter but it\ncurrently _must_ be an int. However, if someone wants to override a\nstatic int worker value from the config back to the 'auto' this results\nin a VALUE error.\n\nThis patch changes the argparse type check for the worker param to use\nconfig_auto_int_value, so a value of 'auto' will be accepted.\n\nBecause the argparse type validation function expects a single param to\ncheck functools.partial is used to specify an 'auto' default. The\nparallel_process function is in charge of translating 'auto' to\nlen(devices) to this works perfectly.\n\nCloses-Bug: #1926757\nChange-Id: I5691bf644ade9fd7f7490f91add388a1d5a4aaa2\n""}, {'number': 2, 'created': '2021-05-07 04:51:49.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f140de75e4e63ae0d101a2903a737e5727e7d794', 'message': ""relinker: let --workers accept auto\n\nCurrently from the relinker cli we allow a --workers parameter but it\ncurrently _must_ be an int. However, if someone wants to override a\nstatic int worker value from the config back to the 'auto' this results\nin a VALUE error.\n\nThis patch changes the argparse type check for the worker param to use\nconfig_auto_int_value, via a small shim, so a value of 'auto' will be\naccepted.\n\nCloses-Bug: #1926757\nChange-Id: I5691bf644ade9fd7f7490f91add388a1d5a4aaa2\n""}]",1,790200,f140de75e4e63ae0d101a2903a737e5727e7d794,12,2,2,7233,,,0,"relinker: let --workers accept auto

Currently from the relinker cli we allow a --workers parameter but it
currently _must_ be an int. However, if someone wants to override a
static int worker value from the config back to the 'auto' this results
in a VALUE error.

This patch changes the argparse type check for the worker param to use
config_auto_int_value, via a small shim, so a value of 'auto' will be
accepted.

Closes-Bug: #1926757
Change-Id: I5691bf644ade9fd7f7490f91add388a1d5a4aaa2
",git fetch https://review.opendev.org/openstack/swift refs/changes/00/790200/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",2,eae71b4e364eb8d897fd0985efd1d338a6026fc0,relinker_cli_auto,"from functools import partial auto_int_value = partial(config_auto_int_value, default='auto') '--workers', default=None, type=auto_int_value, help=("," '--workers', default=None, type=non_negative_int, help=(",79,3
openstack%2Ftripleo-quickstart-extras~master~Ia2853a3c58a65efc4ea244e44707405550f81710,openstack/tripleo-quickstart-extras,master,Ia2853a3c58a65efc4ea244e44707405550f81710,Remove ssh reference from downstream dist-git url,MERGED,2021-05-06 11:51:41.000000000,2021-05-07 16:33:33.000000000,2021-05-07 16:33:33.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-06 11:51:41.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a633da7a899a250e59076372fd8b289a956cae1f', 'message': 'Remove ssh reference from downstream dist-git url\n\nWhen DLRN tries to clone the spec file using downstream\ndist-git server, it uses git+ssh in clone url which requires\nhost key verification which is not possible in downstream\nCI jobs, so replacing git+ssh with git will fix the issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia2853a3c58a65efc4ea244e44707405550f81710\n'}]",0,790046,a633da7a899a250e59076372fd8b289a956cae1f,13,6,1,12393,,,0,"Remove ssh reference from downstream dist-git url

When DLRN tries to clone the spec file using downstream
dist-git server, it uses git+ssh in clone url which requires
host key verification which is not possible in downstream
CI jobs, so replacing git+ssh with git will fix the issue.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ia2853a3c58a65efc4ea244e44707405550f81710
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/46/790046/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,a633da7a899a250e59076372fd8b289a956cae1f,downstream_packaging,"- name: Remove ssh reference from dist-git url shell: > sed -i -e ""s|osp-distgit: git+ssh|osp-distgit: git|g"" packages.yml args: chdir: ""{{ build_repo_dir }}/DLRN/{{ rdoinfo_repo_name }}"" when: ansible_distribution in ['RedHat'] ",,7,0
openstack%2Ftripleo-quickstart-extras~master~I2d66e082594e65d3c3ada8b5511d4a12b4888948,openstack/tripleo-quickstart-extras,master,I2d66e082594e65d3c3ada8b5511d4a12b4888948,Make sure /usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT actually exists,MERGED,2021-05-06 11:09:36.000000000,2021-05-07 16:33:29.000000000,2021-05-07 16:33:29.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-06 11:09:36.000000000', 'files': ['roles/build-test-packages/tasks/dlrn-build.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8754de0abb3f3c25bdaea442ee23415519472471', 'message': 'Make sure /usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT actually exists\n\nCurrently when ansible tries to create the dummy file\n/usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT so time /usr/share/rhn\ndir does not exists leading to failure of task.\n\nIn order to fix, we need to make sure directory needs to be present\nthere and if not, create it and then create the file.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2d66e082594e65d3c3ada8b5511d4a12b4888948\n'}]",0,790040,8754de0abb3f3c25bdaea442ee23415519472471,11,6,1,12393,,,0,"Make sure /usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT actually exists

Currently when ansible tries to create the dummy file
/usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT so time /usr/share/rhn
dir does not exists leading to failure of task.

In order to fix, we need to make sure directory needs to be present
there and if not, create it and then create the file.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I2d66e082594e65d3c3ada8b5511d4a12b4888948
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/40/790040/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/dlrn-build.yml'],1,8754de0abb3f3c25bdaea442ee23415519472471,downstream_packaging," export CERTPATH=""/usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT"" export CERTDIR=$(dirname $CERTPATH) [ ! -d $CERTDIR ] && mkdir -p $CERTDIR touch $CERTPATH", touch /usr/share/rhn/RHN-ORG-TRUSTED-SSL-CERT,4,1
openstack%2Ftripleo-common~stable%2Fwallaby~I546d76b813cd60d0e26c0183fb37b9672afc413e,openstack/tripleo-common,stable/wallaby,I546d76b813cd60d0e26c0183fb37b9672afc413e,Remove rhel7/centos7 image yaml,MERGED,2021-05-06 16:47:01.000000000,2021-05-07 16:22:07.000000000,2021-05-07 16:20:55.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/43a43d8f534933c39cb94dc490dac7f195bb7149', 'message': 'Remove rhel7/centos7 image yaml\n\nSupport for centos7 was dropped in Ussuri, and downstream has been\nrhel8 based since Train. This change removes the image yaml file for\nthese unsupported OS versions.\n\nChange-Id: I546d76b813cd60d0e26c0183fb37b9672afc413e\n'}, {'number': 2, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4703a635e36e25005131cec1c1ae07a47d409d41', 'message': 'Remove rhel7/centos7 image yaml\n\nSupport for centos7 was dropped in Ussuri, and downstream has been\nrhel8 based since Train. This change removes the image yaml file for\nthese unsupported OS versions.\n\nChange-Id: I546d76b813cd60d0e26c0183fb37b9672afc413e\n'}, {'number': 3, 'created': '2021-05-06 21:29:01.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi-rhel7.yaml', 'image-yaml/overcloud-images-centos7.yaml', 'image-yaml/overcloud-realtime-compute-rhel7.yaml', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'image-yaml/overcloud-realtime-compute-centos7.yaml', 'image-yaml/overcloud-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos7.yaml', 'image-yaml/overcloud-hardened-images-rhel7.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/15c41eaa464df93e62200050e0fb77b75bc5c4a0', 'message': 'Remove rhel7/centos7 image yaml\n\nSupport for centos7 was dropped in Ussuri, and downstream has been\nrhel8 based since Train. This change removes the image yaml file for\nthese unsupported OS versions.\n\nChange-Id: I546d76b813cd60d0e26c0183fb37b9672afc413e\n'}]",0,790102,15c41eaa464df93e62200050e0fb77b75bc5c4a0,16,4,3,7144,,,0,"Remove rhel7/centos7 image yaml

Support for centos7 was dropped in Ussuri, and downstream has been
rhel8 based since Train. This change removes the image yaml file for
these unsupported OS versions.

Change-Id: I546d76b813cd60d0e26c0183fb37b9672afc413e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/790102/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi-rhel7.yaml', 'image-yaml/overcloud-images-centos7.yaml', 'image-yaml/overcloud-hardened-images-centos7.yaml', 'image-yaml/overcloud-realtime-compute-rhel7.yaml', 'image-yaml/overcloud-realtime-compute-centos7.yaml', 'image-yaml/overcloud-images-rhel7.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos7.yaml', 'image-yaml/overcloud-hardened-images-rhel7.yaml']",8,43a43d8f534933c39cb94dc490dac7f195bb7149,unlock-wallaby,,disk_images: - imagename: overcloud-hardened-full type: qcow2 distro: rhel elements: - dhcp-all-interfaces environment: DIB_RELEASE: '7' ,0,94
openstack%2Ftripleo-common~stable%2Fwallaby~I7aa77bb691440eb92e03ec101fe1685fcad97e25,openstack/tripleo-common,stable/wallaby,I7aa77bb691440eb92e03ec101fe1685fcad97e25,"Revert ""Include both Ceph Octopus and Pacific in the content provider""",MERGED,2021-05-06 16:47:01.000000000,2021-05-07 16:20:11.000000000,2021-05-07 16:17:42.000000000,"[{'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/81106b5c75c3e9f0dc896e63cc2a0dbdd00aecc4', 'message': 'Revert ""Include both Ceph Octopus and Pacific in the content provider""\n\nThis reverts commit b2860cacde0dd1f09bc96d4d278b1fbe1bba334d.\n\nChange-Id: I7aa77bb691440eb92e03ec101fe1685fcad97e25\n'}, {'number': 2, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/749c35ae5dc7727aab49cbfc1c51d83310ef75a9', 'message': 'Revert ""Include both Ceph Octopus and Pacific in the content provider""\n\nThis reverts commit b2860cacde0dd1f09bc96d4d278b1fbe1bba334d.\n\nChange-Id: I7aa77bb691440eb92e03ec101fe1685fcad97e25\n'}, {'number': 3, 'created': '2021-05-06 21:29:01.000000000', 'files': ['tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ce452ba5963b73f8207d55d7ac5b57e0458ebd23', 'message': 'Revert ""Include both Ceph Octopus and Pacific in the content provider""\n\nThis reverts commit b2860cacde0dd1f09bc96d4d278b1fbe1bba334d.\n\nChange-Id: I7aa77bb691440eb92e03ec101fe1685fcad97e25\n'}]",0,790101,ce452ba5963b73f8207d55d7ac5b57e0458ebd23,17,4,3,7144,,,0,"Revert ""Include both Ceph Octopus and Pacific in the content provider""

This reverts commit b2860cacde0dd1f09bc96d4d278b1fbe1bba334d.

Change-Id: I7aa77bb691440eb92e03ec101fe1685fcad97e25
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/790101/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml']",2,81106b5c75c3e9f0dc896e63cc2a0dbdd00aecc4,unlock-wallaby,,- imagename: quay.ceph.io/ceph-ci/daemon:v5.0.7-stable-5.0-octopus-centos-8-x86_64 image_source: ceph,0,13
openstack%2Ftripleo-common~stable%2Fwallaby~Ia00caf064921da362395afbfeb1b0259ff244c4a,openstack/tripleo-common,stable/wallaby,Ia00caf064921da362395afbfeb1b0259ff244c4a,Include both Ceph Octopus and Pacific in the content provider,MERGED,2021-05-06 16:47:01.000000000,2021-05-07 16:19:09.000000000,2021-05-07 16:17:37.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/08e95293f9c8198d30db4d34e4aeef728a0ca926', 'message': 'Include both Ceph Octopus and Pacific in the content provider\n\nI9d38c1dbadb968f8c7721c69c57002f159cea619 changed the default\nCeph container to Pacific but it took time for multiple patches\nto merge so there was a period of time a job was asking for a\ncontainer which was different from what was available. This patch\nmakes both available in the content provider (brings Ocotpus back)\nuntil the transition is complete and then it can be reverted. It\nestablishes a pattern for how to make these transitions in the\nfuture.\n\nCloses-Bug: #1923529\nChange-Id: Ia00caf064921da362395afbfeb1b0259ff244c4a\n'}, {'number': 2, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6c3a32fe69c70f2d394e36e5411aec626648dcb5', 'message': 'Include both Ceph Octopus and Pacific in the content provider\n\nI9d38c1dbadb968f8c7721c69c57002f159cea619 changed the default\nCeph container to Pacific but it took time for multiple patches\nto merge so there was a period of time a job was asking for a\ncontainer which was different from what was available. This patch\nmakes both available in the content provider (brings Ocotpus back)\nuntil the transition is complete and then it can be reverted. It\nestablishes a pattern for how to make these transitions in the\nfuture.\n\nCloses-Bug: #1923529\nChange-Id: Ia00caf064921da362395afbfeb1b0259ff244c4a\n'}, {'number': 3, 'created': '2021-05-06 21:29:01.000000000', 'files': ['tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/619e7da5c4031cdaf145b22155ae832cc8e6dca9', 'message': 'Include both Ceph Octopus and Pacific in the content provider\n\nI9d38c1dbadb968f8c7721c69c57002f159cea619 changed the default\nCeph container to Pacific but it took time for multiple patches\nto merge so there was a period of time a job was asking for a\ncontainer which was different from what was available. This patch\nmakes both available in the content provider (brings Ocotpus back)\nuntil the transition is complete and then it can be reverted. It\nestablishes a pattern for how to make these transitions in the\nfuture.\n\nCloses-Bug: #1923529\nChange-Id: Ia00caf064921da362395afbfeb1b0259ff244c4a\n'}]",0,790100,619e7da5c4031cdaf145b22155ae832cc8e6dca9,17,5,3,7144,,,0,"Include both Ceph Octopus and Pacific in the content provider

I9d38c1dbadb968f8c7721c69c57002f159cea619 changed the default
Ceph container to Pacific but it took time for multiple patches
to merge so there was a period of time a job was asking for a
container which was different from what was available. This patch
makes both available in the content provider (brings Ocotpus back)
until the transition is complete and then it can be reverted. It
establishes a pattern for how to make these transitions in the
future.

Closes-Bug: #1923529
Change-Id: Ia00caf064921da362395afbfeb1b0259ff244c4a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/790100/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_kolla_builder.py', 'container-images/tripleo_containers.yaml']",2,08e95293f9c8198d30db4d34e4aeef728a0ca926,unlock-wallaby,- imagename: quay.ceph.io/ceph-ci/daemon:v5.0.7-stable-5.0-octopus-centos-8-x86_64 image_source: ceph,,13,0
openstack%2Fcinder~stable%2Ftrain~I5e35de28007558267f9215cbac03a38d7c74612c,openstack/cinder,stable/train,I5e35de28007558267f9215cbac03a38d7c74612c,Add support for RBD fast-diff feature for backups stored in Ceph,MERGED,2021-03-31 13:22:20.000000000,2021-05-07 16:15:25.000000000,2021-05-07 16:13:45.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 32291}, {'_account_id': 32755}]","[{'number': 1, 'created': '2021-03-31 13:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78deab9fffb0d32cdb6454b8a66f8f3826764614', 'message': 'Add support for RBD fast-diff feature for backups stored in Ceph\n\n    This change enables the FAST_DIFF feature for backup images stored\n    via Ceph RBD. It is enabled together with EXCLUSIVE_LOCK and\n    OBJECT_MAP as required.\n\n    With FAST_DIFF enabled, the generation of diffs between images and\n    snapshots as well as determining the actual data usage of a snapshot\n    is speed up significantly.\n\nCloses-Bug #1907964\n\nChange-Id: I5e35de28007558267f9215cbac03a38d7c74612c\n(cherry picked from commit 0e8807388209086ee60e1c9f11a48ed6191e4178)\n'}, {'number': 2, 'created': '2021-04-05 07:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ddcb3e853acc3d05a4acf1240fe299867cc20676', 'message': 'Add support for RBD fast-diff feature for backups stored in Ceph\n\n    This change enables the FAST_DIFF feature for backup images stored\n    via Ceph RBD. It is enabled together with EXCLUSIVE_LOCK and\n    OBJECT_MAP as required.\n\n    With FAST_DIFF enabled, the generation of diffs between images and\n    snapshots as well as determining the actual data usage of a snapshot\n    is sped up significantly.\n\nCloses-Bug #1907964\n\nChange-Id: I5e35de28007558267f9215cbac03a38d7c74612c\n(cherry picked from commit 572afdde942cfad8068e58f441da4167222cfe7b)\n'}, {'number': 3, 'created': '2021-04-20 08:51:52.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py', 'releasenotes/notes/bug-1907964-9277e5ddec2abeda.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/df0e702c10f98754c0f4091a3e36fc284c5d7d69', 'message': 'Add support for RBD fast-diff feature for backups stored in Ceph\n\n    This change enables the FAST_DIFF feature for backup images stored\n    via Ceph RBD. It is enabled together with EXCLUSIVE_LOCK and\n    OBJECT_MAP as required.\n\n    With FAST_DIFF enabled, the generation of diffs between images and\n    snapshots as well as determining the actual data usage of a snapshot\n    is sped up significantly.\n\nCloses-Bug #1907964\n\nChange-Id: I5e35de28007558267f9215cbac03a38d7c74612c\n(cherry picked from commit 0e8807388209086ee60e1c9f11a48ed6191e4178)\n(cherry picked from commit cbf9def32b31bcc3d4894d05e6fe665005006492)\n(cherry picked from commit 610b59b272ba6207c3c50bf191d198cc4f4b4118)\n'}]",0,784041,df0e702c10f98754c0f4091a3e36fc284c5d7d69,71,9,3,31321,,,0,"Add support for RBD fast-diff feature for backups stored in Ceph

    This change enables the FAST_DIFF feature for backup images stored
    via Ceph RBD. It is enabled together with EXCLUSIVE_LOCK and
    OBJECT_MAP as required.

    With FAST_DIFF enabled, the generation of diffs between images and
    snapshots as well as determining the actual data usage of a snapshot
    is sped up significantly.

Closes-Bug #1907964

Change-Id: I5e35de28007558267f9215cbac03a38d7c74612c
(cherry picked from commit 0e8807388209086ee60e1c9f11a48ed6191e4178)
(cherry picked from commit cbf9def32b31bcc3d4894d05e6fe665005006492)
(cherry picked from commit 610b59b272ba6207c3c50bf191d198cc4f4b4118)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/41/784041/3 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py', 'releasenotes/notes/bug-1907964-9277e5ddec2abeda.yaml']",3,78deab9fffb0d32cdb6454b8a66f8f3826764614,cinder-backup-stable/train,"--- fixes: - | RBD driver `bug #1907964 <https://bugs.launchpad.net/cinder/+bug/1907964>`_: Add support for fast-diff on backup images stored in Ceph. Provided fast-diff is supported by the backend it will automatically be enabled and used. With fast-diff enabled, the generation of diffs between images and snapshots as well as determining the actual data usage of a snapshot is speed up significantly.",,56,17
openstack%2Fneutron-lib~master~I80dc865e5f21243f903450077ee2a644c8c44dd7,openstack/neutron-lib,master,I80dc865e5f21243f903450077ee2a644c8c44dd7,Neutron-Classifier service plugin,ABANDONED,2019-07-10 12:39:35.000000000,2021-05-07 16:12:29.000000000,,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18051}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-10 12:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c2dae2367877b62c1b7582ec6f05582a14cb7db3', 'message': ""[POC] Neutron-Classifier service plugin\n\nNeutron classifier's exceptions and plugin resource definition.\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 2, 'created': '2019-07-30 13:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ddf1ceebf1ac08ecc4211242b4b3540f941a3e7a', 'message': ""[POC] Neutron-Classifier service plugin\n\nNeutron classifier's exceptions and plugin resource definition.\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 3, 'created': '2019-08-12 09:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5f9498a2ea4a0ce54ec894c770906f4824179db9', 'message': ""[POC] Neutron-Classifier service plugin\n\nNeutron classifier's exceptions and plugin resource definition.\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 4, 'created': '2019-10-02 12:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/de5d1e77d8ca199f8fcb3f55e9c06e0ac95b3e97', 'message': ""[POC] Neutron-Classifier service plugin\n\nNeutron classifier's exceptions and plugin resource definition.\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 5, 'created': '2019-10-08 17:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ed8bcdf2c979180686ed7964fded526f739c575e', 'message': ""[POC] Neutron-Classifier service plugin\n\nNeutron classifier's exceptions and plugin resource definition.\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 6, 'created': '2019-12-19 17:29:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/50ba4ee55d88efd72f8368c61089aa888bb88bd7', 'message': ""[POC] Neutron-Classifier service plugin\n\nNeutron classifier's exceptions and plugin resource definition.\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 7, 'created': '2020-01-17 18:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ca23ed4d6b23c48f5539d593c205c057ea97c2d1', 'message': ""Neutron-Classifier service plugin\n\nNeutron classifier's exceptions, plugin resource definition,\napi-ref and release notes\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 8, 'created': '2020-01-20 18:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2493ef4a4ffaaecf248e0ba88d53d9037ee6f27b', 'message': ""Neutron-Classifier service plugin\n\nNeutron classifier's exceptions, plugin resource definition,\napi-ref and release notes\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 9, 'created': '2020-01-27 17:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/47a407230de798fcf5be28cc61c881ffa02708de', 'message': ""Neutron-Classifier service plugin\n\nNeutron classifier's exceptions, plugin resource definition,\napi-ref and release notes\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 10, 'created': '2020-01-29 13:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0879fefdabe4234052489a601d72b06554a4f8a6', 'message': ""Neutron-Classifier service plugin\n\nNeutron classifier's exceptions, plugin resource definition,\napi-ref and release notes\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 11, 'created': '2020-01-31 10:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4b7ef0399881193871fe808574c633482892d787', 'message': ""Neutron-Classifier service plugin\n\nNeutron classifier's exceptions, plugin resource definition,\napi-ref and release notes\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 12, 'created': '2020-01-31 12:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/837c294c1fa85bb007763e1528b9ec5d93ccffe4', 'message': ""Neutron-Classifier service plugin\n\nNeutron classifier's exceptions, plugin resource definition,\napi-ref and release notes\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}, {'number': 13, 'created': '2020-02-13 10:40:44.000000000', 'files': ['api-ref/source/v2/samples/classifier/classification-list-response.json', 'api-ref/source/v2/samples/classifier/classification-type-response.json', 'api-ref/source/v2/samples/classifier/classification-show-response.json', 'api-ref/source/v2/samples/classifier/classification-create-response.json', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/classifier/classification-create-request.json', 'api-ref/source/v2/samples/classifier/classification-group-update-request.json', 'api-ref/source/v2/samples/classifier/classification-group-update-response.json', 'api-ref/source/v2/index.rst', 'releasenotes/notes/classification-framework.yaml', 'api-ref/source/v2/samples/classifier/classification-group-create-request.json', 'api-ref/source/v2/samples/classifier/classification-update-request.json', 'api-ref/source/v2/samples/classifier/classification-update-response.json', 'api-ref/source/v2/samples/classifier/classification-group-create-response.json', 'api-ref/source/v2/parameters.yaml', 'api-ref/source/v2/samples/classifier/classification-group-list-response.json', 'api-ref/source/v2/samples/classifier/classification-group-show-response.json', 'neutron_lib/exceptions/classification.py', 'neutron_lib/constants.py', 'neutron_lib/api/definitions/classification.py', 'api-ref/source/v2/classifier.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/31a2f6371010c66f3909da205727228c33beb3c1', 'message': ""Neutron-Classifier service plugin\n\nNeutron classifier's exceptions, plugin resource definition,\napi-ref and release notes\n\nChange-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7\n""}]",69,670049,31a2f6371010c66f3909da205727228c33beb3c1,52,6,13,18051,,,0,"Neutron-Classifier service plugin

Neutron classifier's exceptions, plugin resource definition,
api-ref and release notes

Change-Id: I80dc865e5f21243f903450077ee2a644c8c44dd7
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/49/670049/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/exceptions/classification.py', 'neutron_lib/api/definitions/classification.py']",2,c2dae2367877b62c1b7582ec6f05582a14cb7db3,bp/neutron-classifier-neutron-qos,"# Copyright 2019 Intel Corporation. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.api import converters from neutron_lib.db import constants as const def validate_string(String): if String is None: String = '' return String NAME = ""Neutron Classifier"" API_PREFIX = ""/ccf"" CLASSIFICATION_GROUP_RESOURCE_MAP = { 'id': { 'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'name': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': '', 'validate': {'type:string': const.NAME_FIELD_SIZE}}, 'description': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': '', 'validate': {'type:string': const.DESCRIPTION_FIELD_SIZE}, 'convert_to': validate_string}, 'project_id': { 'allow_post': True, 'allow_put': False, 'required_by_policy': True, 'validate': {'type:string': const.PROJECT_ID_FIELD_SIZE}, 'is_visible': True}, 'shared': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': False, 'convert_to': converters.convert_to_boolean}, 'operator': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': 'AND', 'validate': {'type:string': const.NAME_FIELD_SIZE}, 'convert_to': validate_string}, 'classification': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': [], 'convert_to': converters.convert_to_list}, 'classification_group': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': []}, } CLASSIFICATION_RESOURCE_MAP = { 'id': { 'allow_post': False, 'allow_put': False, 'validate': {'type:uuid': None}, 'is_visible': True, 'primary_key': True}, 'name': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:string': const.NAME_FIELD_SIZE}, 'convert_to': validate_string}, 'description': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:string': const.DESCRIPTION_FIELD_SIZE}, 'convert_to': validate_string}, 'project_id': { 'allow_post': True, 'allow_put': False, 'required_by_policy': True, 'validate': {'type:string': const.PROJECT_ID_FIELD_SIZE}, 'is_visible': True}, 'shared': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': False, 'convert_to': converters.convert_to_boolean}, 'c_type': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:string': const.NAME_FIELD_SIZE}, 'convert_to': validate_string}, 'negated': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': False, 'convert_to': converters.convert_to_boolean}, 'definition': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'convert_to': converters.convert_none_to_empty_dict}, } CLASSIFICATION_TYPE_RESOURCE_MAP = { 'type': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': None, 'validate': {'type:string': const.NAME_FIELD_SIZE}, 'convert_to': validate_string}, 'supported_parameters': { 'allow_post': True, 'allow_put': True, 'is_visible': True, 'default': [], 'convert_to': converters.convert_to_list}, } RESOURCE_ATTRIBUTE_MAP = { 'classification_type': CLASSIFICATION_TYPE_RESOURCE_MAP, 'classification_groups': CLASSIFICATION_GROUP_RESOURCE_MAP, 'classifications': CLASSIFICATION_RESOURCE_MAP, } ",,167,0
openstack%2Fneutron-lib~master~I545876a82d0b31630dcd9568cdc637c0c7f65d14,openstack/neutron-lib,master,I545876a82d0b31630dcd9568cdc637c0c7f65d14,tmp commit 2,ABANDONED,2020-05-09 03:37:53.000000000,2021-05-07 16:11:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-09 03:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f8b94380c1b761b955dbd52102620138a4eb9719', 'message': 'tmp commit\n\nChange-Id: I545876a82d0b31630dcd9568cdc637c0c7f65d14\n'}, {'number': 2, 'created': '2020-05-09 03:42:43.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/66227f9efe5786509fd73962b52e79d39dc85a9b', 'message': 'tmp commit 2\n\nChange-Id: I545876a82d0b31630dcd9568cdc637c0c7f65d14\n'}]",0,726499,66227f9efe5786509fd73962b52e79d39dc85a9b,4,1,2,30804,,,0,"tmp commit 2

Change-Id: I545876a82d0b31630dcd9568cdc637c0c7f65d14
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/99/726499/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,f8b94380c1b761b955dbd52102620138a4eb9719,, #tmp,,2,0
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fussuri~I4f82bb1a08d01f30c45444f52db357e47245fe31,openstack/openstack-ansible-openstack_hosts,stable/ussuri,I4f82bb1a08d01f30c45444f52db357e47245fe31,Add custom user-agent for git clones from opendev.org,MERGED,2021-05-04 10:22:58.000000000,2021-05-07 16:06:44.000000000,2021-05-07 16:05:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-04 10:22:58.000000000', 'files': ['tasks/main.yml', 'tasks/openstack_gitconfig.yml', 'templates/gitconfig.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/af22637b74a6ae3bdf76e612d2dc3c03d7e224a0', 'message': ""Add custom user-agent for git clones from opendev.org\n\nThere has been one confirmed denial-of-service against the opendev\ngit servers due to an openstack-ansible deployment failing to\ncorrectly use cached wheels from the repo server and instead clone\nand build the source code for each openstack service on each target\nhost.\n\nWhilst we wait for further information to understand the root cause\nof that DOS, it is possible to adjust the user-agent that git uses\non a per-domain basis.\n\nA previous patch [1] creates a user-agent string very early during\nthe setup of a deployment host, or all-in-one environment, but not\nany other nodes in a multinode environment. This patch addresses\ncreating /etc/gitconfig for all hosts in a multinode environment.\n\nIf git is not installed on a host (which would be the default state\nfor hosts other than the deploy host and repo server) a placeholder\n/etc/gitconfig is written in case later in the deployment the\npython_venv_build role installs git and clones openstack services\nfrom source code to install into a venv without use of the repo\nserver container. The repo server should normally clone once for\neach service deployed for the whole environment.\n\nThe user-agent, where possible, contains the git version string,\nthe openstack-ansible version string and the OSA 'component' to\naid understanding traffic patterns seen at the opendev.org git servers.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/786596\n(cherry picked from commit f2220c4fe05ac41c512280b9be2c586acdb9ddd3)\n\nChange-Id: I4f82bb1a08d01f30c45444f52db357e47245fe31\n""}]",0,789545,af22637b74a6ae3bdf76e612d2dc3c03d7e224a0,8,3,1,25023,,,0,"Add custom user-agent for git clones from opendev.org

There has been one confirmed denial-of-service against the opendev
git servers due to an openstack-ansible deployment failing to
correctly use cached wheels from the repo server and instead clone
and build the source code for each openstack service on each target
host.

Whilst we wait for further information to understand the root cause
of that DOS, it is possible to adjust the user-agent that git uses
on a per-domain basis.

A previous patch [1] creates a user-agent string very early during
the setup of a deployment host, or all-in-one environment, but not
any other nodes in a multinode environment. This patch addresses
creating /etc/gitconfig for all hosts in a multinode environment.

If git is not installed on a host (which would be the default state
for hosts other than the deploy host and repo server) a placeholder
/etc/gitconfig is written in case later in the deployment the
python_venv_build role installs git and clones openstack services
from source code to install into a venv without use of the repo
server container. The repo server should normally clone once for
each service deployed for the whole environment.

The user-agent, where possible, contains the git version string,
the openstack-ansible version string and the OSA 'component' to
aid understanding traffic patterns seen at the opendev.org git servers.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/786596
(cherry picked from commit f2220c4fe05ac41c512280b9be2c586acdb9ddd3)

Change-Id: I4f82bb1a08d01f30c45444f52db357e47245fe31
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/45/789545/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/openstack_gitconfig.yml', 'templates/gitconfig.j2']",3,af22637b74a6ae3bdf76e612d2dc3c03d7e224a0,,"[http ""https://opendev.org/""] userAgent = git/unknown (osa/{{ lookup('env', 'OSA_VERSION') }}/{{ component | default('undefined') }}) ",,45,0
openstack%2Fnetworking-bgpvpn~stable%2Ftrain~I2b5fcb89fef2345fe35068407c885af038b420ab,openstack/networking-bgpvpn,stable/train,I2b5fcb89fef2345fe35068407c885af038b420ab,WIP: make l-c job non-voting,ABANDONED,2021-05-06 13:29:25.000000000,2021-05-07 16:02:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 13:29:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/18cca729794516c3109dd5cfec2395bd0a8223a0', 'message': 'WIP: make l-c job non-voting\n\nChange-Id: I2b5fcb89fef2345fe35068407c885af038b420ab\n'}]",0,790064,18cca729794516c3109dd5cfec2395bd0a8223a0,3,1,1,8313,,,0,"WIP: make l-c job non-voting

Change-Id: I2b5fcb89fef2345fe35068407c885af038b420ab
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/64/790064/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,18cca729794516c3109dd5cfec2395bd0a8223a0,disable_lc, voting: false voting: false,,2,0
openstack%2Fnetworking-bgpvpn~stable%2Fvictoria~I63234413c5caa5d9ce0cb61ba27b242efc8d1bf2,openstack/networking-bgpvpn,stable/victoria,I63234413c5caa5d9ce0cb61ba27b242efc8d1bf2,WIP: make l-c job non-voting,ABANDONED,2021-05-06 13:25:30.000000000,2021-05-07 16:01:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 13:25:30.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/353ed5c932bf927fb4c90a6dbb31fb6cc235d07f', 'message': 'WIP: make l-c job non-voting\n\nChange-Id: I63234413c5caa5d9ce0cb61ba27b242efc8d1bf2\n'}]",0,790062,353ed5c932bf927fb4c90a6dbb31fb6cc235d07f,3,1,1,8313,,,0,"WIP: make l-c job non-voting

Change-Id: I63234413c5caa5d9ce0cb61ba27b242efc8d1bf2
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/62/790062/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,353ed5c932bf927fb4c90a6dbb31fb6cc235d07f,disable_lc, voting: false voting: false,,2,0
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fvictoria~I4f82bb1a08d01f30c45444f52db357e47245fe31,openstack/openstack-ansible-openstack_hosts,stable/victoria,I4f82bb1a08d01f30c45444f52db357e47245fe31,Add custom user-agent for git clones from opendev.org,MERGED,2021-05-04 10:21:24.000000000,2021-05-07 15:55:42.000000000,2021-05-07 15:54:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-04 10:21:24.000000000', 'files': ['tasks/main.yml', 'tasks/openstack_gitconfig.yml', 'templates/gitconfig.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d7d230079470ac65e1941ac292284b2abf1b9de0', 'message': ""Add custom user-agent for git clones from opendev.org\n\nThere has been one confirmed denial-of-service against the opendev\ngit servers due to an openstack-ansible deployment failing to\ncorrectly use cached wheels from the repo server and instead clone\nand build the source code for each openstack service on each target\nhost.\n\nWhilst we wait for further information to understand the root cause\nof that DOS, it is possible to adjust the user-agent that git uses\non a per-domain basis.\n\nA previous patch [1] creates a user-agent string very early during\nthe setup of a deployment host, or all-in-one environment, but not\nany other nodes in a multinode environment. This patch addresses\ncreating /etc/gitconfig for all hosts in a multinode environment.\n\nIf git is not installed on a host (which would be the default state\nfor hosts other than the deploy host and repo server) a placeholder\n/etc/gitconfig is written in case later in the deployment the\npython_venv_build role installs git and clones openstack services\nfrom source code to install into a venv without use of the repo\nserver container. The repo server should normally clone once for\neach service deployed for the whole environment.\n\nThe user-agent, where possible, contains the git version string,\nthe openstack-ansible version string and the OSA 'component' to\naid understanding traffic patterns seen at the opendev.org git servers.\n\n[1] https://review.opendev.org/c/openstack/openstack-ansible/+/786596\n\nChange-Id: I4f82bb1a08d01f30c45444f52db357e47245fe31\n(cherry picked from commit f2220c4fe05ac41c512280b9be2c586acdb9ddd3)\n""}]",0,789544,d7d230079470ac65e1941ac292284b2abf1b9de0,8,3,1,25023,,,0,"Add custom user-agent for git clones from opendev.org

There has been one confirmed denial-of-service against the opendev
git servers due to an openstack-ansible deployment failing to
correctly use cached wheels from the repo server and instead clone
and build the source code for each openstack service on each target
host.

Whilst we wait for further information to understand the root cause
of that DOS, it is possible to adjust the user-agent that git uses
on a per-domain basis.

A previous patch [1] creates a user-agent string very early during
the setup of a deployment host, or all-in-one environment, but not
any other nodes in a multinode environment. This patch addresses
creating /etc/gitconfig for all hosts in a multinode environment.

If git is not installed on a host (which would be the default state
for hosts other than the deploy host and repo server) a placeholder
/etc/gitconfig is written in case later in the deployment the
python_venv_build role installs git and clones openstack services
from source code to install into a venv without use of the repo
server container. The repo server should normally clone once for
each service deployed for the whole environment.

The user-agent, where possible, contains the git version string,
the openstack-ansible version string and the OSA 'component' to
aid understanding traffic patterns seen at the opendev.org git servers.

[1] https://review.opendev.org/c/openstack/openstack-ansible/+/786596

Change-Id: I4f82bb1a08d01f30c45444f52db357e47245fe31
(cherry picked from commit f2220c4fe05ac41c512280b9be2c586acdb9ddd3)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/44/789544/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'tasks/openstack_gitconfig.yml', 'templates/gitconfig.j2']",3,d7d230079470ac65e1941ac292284b2abf1b9de0,,"[http ""https://opendev.org/""] userAgent = git/unknown (osa/{{ lookup('env', 'OSA_VERSION') }}/{{ component | default('undefined') }}) ",,45,0
openstack%2Ftripleo-quickstart-extras~master~If5e2cd36eef858cb1ed36aad73ab2693948eda1f,openstack/tripleo-quickstart-extras,master,If5e2cd36eef858cb1ed36aad73ab2693948eda1f,"Revert ""Use osp_release if it is defined""",MERGED,2021-05-04 16:19:54.000000000,2021-05-07 15:10:41.000000000,2021-05-07 15:10:41.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-04 16:19:54.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3d41b1a180d5f2ed855c293d4b164b33aa40efa7', 'message': 'Revert ""Use osp_release if it is defined""\n\nThis reverts commit 9437ea74f2086fd5567e2468461ce2e3f9268a27.\n\nReason for revert: this opened a gap in osp testing where we now have to be explicit for osp releases.. which has caused many skipped tests to execute.\n\nChange-Id: If5e2cd36eef858cb1ed36aad73ab2693948eda1f\n'}]",0,789450,3d41b1a180d5f2ed855c293d4b164b33aa40efa7,21,4,1,9592,,,0,"Revert ""Use osp_release if it is defined""

This reverts commit 9437ea74f2086fd5567e2468461ce2e3f9268a27.

Reason for revert: this opened a gap in osp testing where we now have to be explicit for osp releases.. which has caused many skipped tests to execute.

Change-Id: If5e2cd36eef858cb1ed36aad73ab2693948eda1f
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/50/789450/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,3d41b1a180d5f2ed855c293d4b164b33aa40efa7,osp-release," list_skipped_release: ""{{ release }}"""," list_skipped_release: ""{{ (osp_release is defined) | ternary(osp_release, release) }}""",1,1
openstack%2Fcharm-ceph-proxy~master~If8377415db4d23d5c54712f6a2616642e19f021d,openstack/charm-ceph-proxy,master,If8377415db4d23d5c54712f6a2616642e19f021d,Batch update to land Ubuntu Groovy support into the charms,ABANDONED,2020-10-12 09:21:23.000000000,2021-05-07 15:07:48.000000000,,"[{'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-12 09:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/0bb60ffdd1d34116bfe2b0a9387780542bd9a146', 'message': 'Batch update to land Ubuntu Groovy support into the charms\n\nCherry-Pick from https://github.com/juju/charm-helpers/commit/09752a15274b1bf0f42b422eb82fcf29fe4082c5\n\nChange-Id: If8377415db4d23d5c54712f6a2616642e19f021d\n'}, {'number': 2, 'created': '2020-10-13 14:13:15.000000000', 'files': ['charmhelpers/core/host_factory/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/f95a74b56cb273f1d908c9d9651fc16469b7737f', 'message': 'Batch update to land Ubuntu Groovy support into the charms\n\nCherry-Pick from https://github.com/juju/charm-helpers/commit/09752a15274b1bf0f42b422eb82fcf29fe4082c5\n\nChange-Id: If8377415db4d23d5c54712f6a2616642e19f021d\n'}]",0,757495,f95a74b56cb273f1d908c9d9651fc16469b7737f,18,6,2,20634,,,0,"Batch update to land Ubuntu Groovy support into the charms

Cherry-Pick from https://github.com/juju/charm-helpers/commit/09752a15274b1bf0f42b422eb82fcf29fe4082c5

Change-Id: If8377415db4d23d5c54712f6a2616642e19f021d
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/95/757495/2 && git format-patch -1 --stdout FETCH_HEAD,['charmhelpers/core/host_factory/ubuntu.py'],1,0bb60ffdd1d34116bfe2b0a9387780542bd9a146,enable-groovy," 'focal', 'groovy'", 'focal',2,1
openstack%2Fpuppet-neutron~master~Ib5a1322ff71c3174d2667362e098133ebbd4b9e2,openstack/puppet-neutron,master,Ib5a1322ff71c3174d2667362e098133ebbd4b9e2,Remove deprecated domain_id parameters,MERGED,2021-04-29 13:50:38.000000000,2021-05-07 15:00:10.000000000,2021-05-07 14:58:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 13:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/eb8f5377a56d409c778a971312b9c68fb4b08054', 'message': 'Remove deprecated domain_id parameters\n\nThis change cleans up remainig domain_id parameters which were\ndeprecated during the Ussuri cycle[1].\n\n[1] dfeccd674988f34edea5ca7b95bdeea827bab000\n\nChange-Id: Ib5a1322ff71c3174d2667362e098133ebbd4b9e2\n'}, {'number': 2, 'created': '2021-05-06 13:14:15.000000000', 'files': ['spec/classes/neutron_server_placement_spec.rb', 'manifests/server/placement.pp', 'manifests/agents/ml2/networking_baremetal.pp', 'releasenotes/notes/remove-deprecated-domain_id-0e2553556573da61.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4b39bef363b8e47ba9c2d3fd161e76e3bea8b836', 'message': 'Remove deprecated domain_id parameters\n\nThis change cleans up remainig domain_id parameters which were\ndeprecated during the Ussuri cycle[1].\n\n[1] dfeccd674988f34edea5ca7b95bdeea827bab000\n\nChange-Id: Ib5a1322ff71c3174d2667362e098133ebbd4b9e2\n'}]",0,788745,4b39bef363b8e47ba9c2d3fd161e76e3bea8b836,11,3,2,9816,,,0,"Remove deprecated domain_id parameters

This change cleans up remainig domain_id parameters which were
deprecated during the Ussuri cycle[1].

[1] dfeccd674988f34edea5ca7b95bdeea827bab000

Change-Id: Ib5a1322ff71c3174d2667362e098133ebbd4b9e2
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/45/788745/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_server_placement_spec.rb', 'manifests/server/placement.pp', 'manifests/agents/ml2/networking_baremetal.pp', 'releasenotes/notes/remove-deprecated-domain_id-0e2553556573da61.yaml']",4,eb8f5377a56d409c778a971312b9c68fb4b08054,domain_id,--- upgrade: - | The following deprecated parameters have been removed. - ``neutron::ml2::server::placement::project_domain_id`` - ``neutron::ml2::server::placement::user_domain_id`` - ``neutron::ml2::networking_baremetal::project_domain_id`` - ``neutron::ml2::networking_baremetal::user_domain_id`` ,,10,54
openstack%2Fkuryr-kubernetes~master~I40c3d36df3f7b2db683d226f5fb9edf08d2c27c8,openstack/kuryr-kubernetes,master,I40c3d36df3f7b2db683d226f5fb9edf08d2c27c8,setup.cfg: Replace dashes with underscores,MERGED,2021-05-05 09:23:36.000000000,2021-05-07 14:46:15.000000000,2021-05-07 14:44:46.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-05 09:23:36.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/91207a23f86abde40992eb3e007bdc48a48c6117', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I40c3d36df3f7b2db683d226f5fb9edf08d2c27c8\n""}]",0,789767,91207a23f86abde40992eb3e007bdc48a48c6117,8,5,1,31825,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I40c3d36df3f7b2db683d226f5fb9edf08d2c27c8
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/67/789767/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,91207a23f86abde40992eb3e007bdc48a48c6117,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/kuryr-kubernetes/latest,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/kuryr-kubernetes/latest,3,3
openstack%2Ftripleo-common~stable%2Fwallaby~I2c3e9088bf92146b07d46288c2264368e15aa63b,openstack/tripleo-common,stable/wallaby,I2c3e9088bf92146b07d46288c2264368e15aa63b,Add utils for local_orchestration_client,MERGED,2021-05-05 18:12:29.000000000,2021-05-07 14:43:59.000000000,2021-05-07 14:42:25.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 18:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ac2242803d69001c92da164b9254f62785dd498d', 'message': 'Add utils for local_orchestration_client\n\nAdd a utils/heat.py which can be used by both tripleoclient and\ntripleo-ansible to launch and configure a heatclient for ephemeral Heat.\n\nChange-Id: I2c3e9088bf92146b07d46288c2264368e15aa63b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit ebe43cd8db4140469b70858276e38fcbdf91b885)\n'}, {'number': 2, 'created': '2021-05-05 19:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/73e888c90d2b7e270cb6ab951fafa6ae723db504', 'message': 'Add utils for local_orchestration_client\n\nAdd a utils/heat.py which can be used by both tripleoclient and\ntripleo-ansible to launch and configure a heatclient for ephemeral Heat.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/789787\nChange-Id: I2c3e9088bf92146b07d46288c2264368e15aa63b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n(cherry picked from commit ebe43cd8db4140469b70858276e38fcbdf91b885)\n'}, {'number': 3, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a3a936f1f79486c6d072cadcb269019ce0d40d8c', 'message': 'Add utils for local_orchestration_client\n\nAdd a utils/heat.py which can be used by both tripleoclient and\ntripleo-ansible to launch and configure a heatclient for ephemeral Heat.\n\nChange-Id: I2c3e9088bf92146b07d46288c2264368e15aa63b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 4, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/261e175d3782cbe05953612756a33e24b350446d', 'message': 'Add utils for local_orchestration_client\n\nAdd a utils/heat.py which can be used by both tripleoclient and\ntripleo-ansible to launch and configure a heatclient for ephemeral Heat.\n\nChange-Id: I2c3e9088bf92146b07d46288c2264368e15aa63b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 5, 'created': '2021-05-06 21:29:01.000000000', 'files': ['tripleo_common/utils/heat.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/18542e2741449600140891ae1d15aa69fac17b66', 'message': 'Add utils for local_orchestration_client\n\nAdd a utils/heat.py which can be used by both tripleoclient and\ntripleo-ansible to launch and configure a heatclient for ephemeral Heat.\n\nDepends-On: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68\nChange-Id: I2c3e9088bf92146b07d46288c2264368e15aa63b\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",0,789862,18542e2741449600140891ae1d15aa69fac17b66,27,4,5,9592,,,0,"Add utils for local_orchestration_client

Add a utils/heat.py which can be used by both tripleoclient and
tripleo-ansible to launch and configure a heatclient for ephemeral Heat.

Depends-On: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68
Change-Id: I2c3e9088bf92146b07d46288c2264368e15aa63b
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/62/789862/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/heat.py'],1,ac2242803d69001c92da164b9254f62785dd498d,ephemeral-heat-stable/wallaby,"# Copyright (c) 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import logging import os from osc_lib import utils as osc_lib_utils LOG = logging.getLogger(__name__) heatclient = None class EphemeralHeatClient(object): """"""A Heat client shim class to be used with ephemeral Heat. When the heat client is used to talk to the Heat API, the environment will be set with the correct variable configuration to configure Keystone for auth type none and to use a direct endpoint. After the client is finished, the environment is restored. This is necessary so that the entire system environment is not reconfigured for auth_type=none for the duration of the tripleoclient execution. :param heat: Heat client :type heat: `heatclient.heatclient` """""" def __init__(self, heat, host, port): self.heat = heat self.host = host self.port = port os.environ['OS_HEAT_TYPE'] = 'ephemeral' os.environ['OS_HEAT_HOST'] = host os.environ['OS_HEAT_PORT'] = str(port) def save_environment(self): self.environ = os.environ.copy() for v in ('OS_USER_DOMAIN_NAME', 'OS_PROJECT_DOMAIN_NAME', 'OS_PROJECT_NAME'): os.environ.pop(v, None) os.environ['OS_AUTH_TYPE'] = ""none"" os.environ['OS_ENDPOINT'] = self.heat.http_client.endpoint def restore_environment(self): os.environ = self.environ.copy() def __getattr__(self, attr): self.save_environment() try: val = getattr(self.heat, attr) finally: self.restore_environment() return val def local_orchestration_client(host=""127.0.0.1"", api_port=8006): """"""Returns a local orchestration service client"""""" API_VERSIONS = { '1': 'heatclient.v1.client.Client', } heat_client = osc_lib_utils.get_client_class( 'tripleoclient', '1', API_VERSIONS) LOG.debug('Instantiating local_orchestration client for ' 'host %s, port %s: %s', host, api_port, heat_client) endpoint = 'http://%s:%s/v1/admin' % (host, api_port) client = heat_client( endpoint=endpoint, username='admin', password='fake', region_name='regionOne', token='fake', ) global heatclient heatclient = EphemeralHeatClient(client, host, api_port) return heatclient ",,97,0
openstack%2Fcharm-neutron-api-plugin-ironic~master~I1f142c3aedb333a4a258be21aad9cb2a44ece46c,openstack/charm-neutron-api-plugin-ironic,master,I1f142c3aedb333a4a258be21aad9cb2a44ece46c,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 13:52:19.000000000,2021-05-07 14:43:02.000000000,2021-05-07 08:13:29.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 13:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/dfbfb0c961dafe38eabd3230686434d26ec6d379', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I1f142c3aedb333a4a258be21aad9cb2a44ece46c\n'}, {'number': 2, 'created': '2021-03-30 16:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/2f074343ec6a1640b97cdd347fdc37b78cc7186b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I1f142c3aedb333a4a258be21aad9cb2a44ece46c\n'}, {'number': 3, 'created': '2021-04-15 18:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/016c23743ef2d2963ec1c9b46a6b8b238c2cd6d8', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I1f142c3aedb333a4a258be21aad9cb2a44ece46c\n'}, {'number': 4, 'created': '2021-05-06 09:54:16.000000000', 'files': ['osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ironic/commit/864496b2f2086c665bc3859ed01a0663c863f721', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I1f142c3aedb333a4a258be21aad9cb2a44ece46c\n'}]",0,778921,864496b2f2086c665bc3859ed01a0663c863f721,29,3,4,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I1f142c3aedb333a4a258be21aad9cb2a44ece46c
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ironic refs/changes/21/778921/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",6,dfbfb0c961dafe38eabd3230686434d26ec6d379,wallaby-bundles,- hirsute-wallaby- focal-wallaby - hirsute-wallaby, - groovy-victoria,576,2
openstack%2Fnetworking-bgpvpn~stable%2Fussuri~I663f94120dc930905def8c32823bfc08e806003d,openstack/networking-bgpvpn,stable/ussuri,I663f94120dc930905def8c32823bfc08e806003d,WIP: make l-c job non-voting,ABANDONED,2021-05-06 13:27:35.000000000,2021-05-07 14:42:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 13:27:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a004e79fdcda51ead91d6b0ca68f6c655e578b13', 'message': 'WIP: make l-c job non-voting\n\nChange-Id: I663f94120dc930905def8c32823bfc08e806003d\n'}]",0,790063,a004e79fdcda51ead91d6b0ca68f6c655e578b13,3,1,1,8313,,,0,"WIP: make l-c job non-voting

Change-Id: I663f94120dc930905def8c32823bfc08e806003d
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/63/790063/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a004e79fdcda51ead91d6b0ca68f6c655e578b13,disable_lc, voting: false voting: false,,2,0
openstack%2Fpython-tripleoclient~master~I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,openstack/python-tripleoclient,master,I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f,Fix network environment validation,MERGED,2021-04-26 16:57:41.000000000,2021-05-07 14:18:03.000000000,2021-05-03 13:40:32.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-26 16:57:41.000000000', 'files': ['tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/930abb12b355fa6fcf2dded780e2031be24c2964', 'message': ""Fix network environment validation\n\nNetwork environment validation fails when accessing value\nwith the key 'os_net_config' from the nic-config files.\nFix the dictionary keys needed to fetch the network\nconfig from nic_data.\n\nSigned-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>\nChange-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f\n""}]",1,788046,930abb12b355fa6fcf2dded780e2031be24c2964,9,3,1,32240,,,0,"Fix network environment validation

Network environment validation fails when accessing value
with the key 'os_net_config' from the nic-config files.
Fix the dictionary keys needed to fetch the network
config from nic_data.

Signed-off-by: Yadnesh Kulkarni <ykulkarn@redhat.com>
Change-Id: I2ec628dd9c9cf14c0cd9d8ba30f53ac18efe115f
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/788046/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_netenv_validate/test_overcloud_netenv_validate.py', 'tripleoclient/v1/overcloud_netenv_validate.py']",2,930abb12b355fa6fcf2dded780e2031be24c2964,bug/1923612, 'str_replace']['params']['$network_config']['network_config'], 'os_net_config']['network_config'],7,3
openstack%2Ftripleo-ansible~stable%2Ftrain~Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18,openstack/tripleo-ansible,stable/train,Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18,Remove redhat-8.2.yml var file,MERGED,2021-05-06 06:06:37.000000000,2021-05-07 14:05:47.000000000,2021-05-07 14:05:47.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 06:06:37.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/vars/redhat-8.2.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3c614f938e010ad47679358a7e9ee407aa5792d3', 'message': 'Remove redhat-8.2.yml var file\n\nThis will not work when an operator wants to upgrades from osp-16.1 to\nosp-16.2:\n16.2 is targeting rhel-8.4 with container-tools:3.0, providing a newer\npodman version.\n\nDuring the upgrade process, we end in a state where we\'re still running\nrhel-8.2, with container-tools:3.0 enabled - leading to an issue when it\ncomes to the podman version we can get.\n\nRemoving this file (and backporting this change down to stable/train)\nwill allow a swift and smooth fix.\n\nAs a last word, this ""last security"" isn\'t that useful anymore, since we\nhave a task that ensures we have the correct module stream[1][2].\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/undercloud/undercloud-upgrade.yaml#L67\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L261\n\nCloses-Bug: #1927242\nChange-Id: Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18\n(cherry picked from commit 3304f4ab3591a87e5dd273a0f1559ed0f828342f)\n'}]",0,790002,3c614f938e010ad47679358a7e9ee407aa5792d3,18,4,1,28223,,,0,"Remove redhat-8.2.yml var file

This will not work when an operator wants to upgrades from osp-16.1 to
osp-16.2:
16.2 is targeting rhel-8.4 with container-tools:3.0, providing a newer
podman version.

During the upgrade process, we end in a state where we're still running
rhel-8.2, with container-tools:3.0 enabled - leading to an issue when it
comes to the podman version we can get.

Removing this file (and backporting this change down to stable/train)
will allow a swift and smooth fix.

As a last word, this ""last security"" isn't that useful anymore, since we
have a task that ensures we have the correct module stream[1][2].

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/undercloud/undercloud-upgrade.yaml#L67
[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L261

Closes-Bug: #1927242
Change-Id: Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18
(cherry picked from commit 3304f4ab3591a87e5dd273a0f1559ed0f828342f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/02/790002/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-podman/vars/redhat-8.2.yml'],1,3c614f938e010ad47679358a7e9ee407aa5792d3,16.2-on-rhel-8.2,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. _tripleo_podman_packages: - podman-1.6.4 _tripleo_buildah_packages: - buildah-1.11.6 _tripleo_podman_purge_packages: - docker - docker-ce ",0,26
openstack%2Fpython-mistralclient~master~Ib24ca3dc88902132c693bd1272b7b28fff937eff,openstack/python-mistralclient,master,Ib24ca3dc88902132c693bd1272b7b28fff937eff,Remove containers-multinode from the zuul jobs,NEW,2021-05-07 13:58:22.000000000,2021-05-07 13:58:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-07 13:58:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/53de29690cfd186edfc67340a625a43b53d2c55b', 'message': ""Remove containers-multinode from the zuul jobs\n\nMistral is no longer used in tripleo so that job doesn't reflect on\nthe state of mistralclient\n\nChange-Id: Ib24ca3dc88902132c693bd1272b7b28fff937eff\n""}]",0,790245,53de29690cfd186edfc67340a625a43b53d2c55b,2,1,1,15895,,,0,"Remove containers-multinode from the zuul jobs

Mistral is no longer used in tripleo so that job doesn't reflect on
the state of mistralclient

Change-Id: Ib24ca3dc88902132c693bd1272b7b28fff937eff
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/45/790245/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,53de29690cfd186edfc67340a625a43b53d2c55b,,," # TripleO jobs that deploy Mistral. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario003-multinode-oooq-container will # run in Pike and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-containers-multinode:",0,8
openstack%2Fcharm-keystone-kerberos~master~Idce6d1f3118a6797ea10e6cba05cc99c628c852b,openstack/charm-keystone-kerberos,master,Idce6d1f3118a6797ea10e6cba05cc99c628c852b,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:57:20.000000000,2021-05-07 13:51:42.000000000,2021-05-07 13:51:42.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/3b83bb3c286013a0843752b9f5f924c9c459c772', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Idce6d1f3118a6797ea10e6cba05cc99c628c852b\n'}, {'number': 2, 'created': '2021-03-30 12:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/b6f7d2d8df4fc49a78e64f5d5c0e124832f2c766', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Idce6d1f3118a6797ea10e6cba05cc99c628c852b\n'}, {'number': 3, 'created': '2021-04-14 12:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/2824248d7ab28a2b76c39ad37f529359b8ba598b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Idce6d1f3118a6797ea10e6cba05cc99c628c852b\n'}, {'number': 4, 'created': '2021-04-15 17:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/203345aa1df665799b9392995aac28ebd75fefdf', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Idce6d1f3118a6797ea10e6cba05cc99c628c852b\n'}, {'number': 5, 'created': '2021-05-06 09:55:52.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-kerberos/commit/4778d0b7e95ab3a7b263b04b88dc624a5552303e', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Idce6d1f3118a6797ea10e6cba05cc99c628c852b\n'}]",0,778657,4778d0b7e95ab3a7b263b04b88dc624a5552303e,36,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Idce6d1f3118a6797ea10e6cba05cc99c628c852b
",git fetch https://review.opendev.org/openstack/charm-keystone-kerberos refs/changes/57/778657/5 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,3b83bb3c286013a0843752b9f5f924c9c459c772,wallaby-bundles, - focal-ussuri - focal-wallaby - hirsute-wallaby - hirsute-wallaby, - bionic-train - groovy-victoria,137,3
openstack%2Fcharm-ceilometer~master~I1369b5eaf4efd18043e665d5fc5bd2f21e567970,openstack/charm-ceilometer,master,I1369b5eaf4efd18043e665d5fc5bd2f21e567970,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-03 19:31:15.000000000,2021-05-07 13:49:40.000000000,2021-05-07 13:49:40.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-03 19:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/3aa01bdd5795039b034529b8a54d6f47b294e851', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby supporto.\n\nChange-Id: I1369b5eaf4efd18043e665d5fc5bd2f21e567970\n'}, {'number': 2, 'created': '2021-03-30 11:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9e656a16cfa1e9819cb63164bf48e20f0ab95b53', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby supporto.\n\nSync charm-helpers for wallable identifiers\n\nChange-Id: I1369b5eaf4efd18043e665d5fc5bd2f21e567970\n'}, {'number': 3, 'created': '2021-04-07 13:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/9ecd9d40a35fa582025352df2267514aac7d3e8b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby supporto.\n\nSync charm-helpers for wallable identifiers\n\nChange-Id: I1369b5eaf4efd18043e665d5fc5bd2f21e567970\n'}, {'number': 4, 'created': '2021-04-16 09:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/d781e779ddae1c4ba279b373f6922f0b7d3727d2', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby supporto.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nSync charm-helpers for wallable identifiers\n\nChange-Id: I1369b5eaf4efd18043e665d5fc5bd2f21e567970\n'}, {'number': 5, 'created': '2021-05-06 11:16:26.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/4c8670c598ab34cfc508c1b3b4b8608da8238640', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby supporto.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nSync charm-helpers for wallable identifiers\n\nChange-Id: I1369b5eaf4efd18043e665d5fc5bd2f21e567970\n'}]",0,778560,4c8670c598ab34cfc508c1b3b4b8608da8238640,33,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby supporto.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Sync charm-helpers for wallable identifiers

Change-Id: I1369b5eaf4efd18043e665d5fc5bd2f21e567970
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/60/778560/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",3,3aa01bdd5795039b034529b8a54d6f47b294e851,wallaby-bundles,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': # This machine is for memcached that isn't focal enabled. series: bionic '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': '16': '17': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router gnocchi-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' memcached: charm: cs:~memcached-team/memcached num_units: 1 # the memcached charm doesn't support focal yet. series: bionic to: - '4' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *openstack-origin to: - '5' - '6' - '7' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *openstack-origin to: - '8' - '9' - '10' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '11' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '12' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin to: - '13' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '14' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin to: - '15' ceilometer: num_units: 1 to: - '16' gnocchi: charm: cs:~openstack-charmers-next/gnocchi num_units: 1 options: openstack-origin: *openstack-origin to: - '17' ceilometer-agent: charm: cs:~openstack-charmers-next/ceilometer-agent relations: - - 'ceilometer:amqp' - 'rabbitmq-server:amqp' - - 'ceilometer:identity-notifications' - 'keystone:identity-notifications' - - 'ceilometer:ceilometer-service' - 'ceilometer-agent:ceilometer-service' - - 'ceilometer:metric-service' - 'gnocchi:metric-service' - - 'ceilometer:identity-credentials' - 'keystone:identity-credentials' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'ceilometer-agent:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:nova-ceilometer' - 'ceilometer-agent:nova-ceilometer' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - 'ceph-mon:osd' - 'ceph-osd:mon' - - 'gnocchi:shared-db' - 'gnocchi-mysql-router:shared-db' - - 'gnocchi-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'gnocchi:storage-ceph' - 'ceph-mon:client' - - 'gnocchi:coordinator-memcached' - 'memcached:cache' - - 'gnocchi:identity-service' - 'keystone:identity-service' ",,480,1
openstack%2Fkuryr-kubernetes~master~I11b9b87faacba4321ef54a48edd7f13df18e1df7,openstack/kuryr-kubernetes,master,I11b9b87faacba4321ef54a48edd7f13df18e1df7,Remove unnecessary use of set around a generator.,MERGED,2021-04-25 12:11:41.000000000,2021-05-07 13:11:37.000000000,2021-05-07 13:10:03.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-04-25 12:11:41.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f2eceb3a39e2537d59091a9ca341527c4cb73c2b', 'message': 'Remove unnecessary use of set around a generator.\n\nIt is unnecessary to use list, set, dict around a generator expression\nto get object of that type, since there are comprehensions for these types.\n\nChange-Id: I11b9b87faacba4321ef54a48edd7f13df18e1df7\n'}]",2,787878,f2eceb3a39e2537d59091a9ca341527c4cb73c2b,12,5,1,33375,,,0,"Remove unnecessary use of set around a generator.

It is unnecessary to use list, set, dict around a generator expression
to get object of that type, since there are comprehensions for these types.

Change-Id: I11b9b87faacba4321ef54a48edd7f13df18e1df7
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/78/787878/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/utils.py'],1,f2eceb3a39e2537d59091a9ca341527c4cb73c2b,darshna-fix, ids = list({net.id for net in subnets.values()}), ids = list(set(net.id for net in subnets.values())),1,1
openstack%2Fpuppet-neutron~master~I0cc67aaa3d50c67cc8d91b8dc2252932e8e4d79e,openstack/puppet-neutron,master,I0cc67aaa3d50c67cc8d91b8dc2252932e8e4d79e,Add support for [designate] region_name,ABANDONED,2021-05-07 11:20:35.000000000,2021-05-07 13:03:08.000000000,,"[{'_account_id': 9816}, {'_account_id': 16137}]","[{'number': 1, 'created': '2021-05-07 11:20:35.000000000', 'files': ['manifests/designate.pp', 'releasenotes/notes/designate-region_name-01ec733a0aa8947f.yaml', 'spec/classes/neutron_designate_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c2040822ba3d0c613090d0ab92392cde8a4a301a', 'message': 'Add support for [designate] region_name\n\nThe [designate] region_name parameter is required if a deployment has\nmultiple keystone regions.\n\nChange-Id: I0cc67aaa3d50c67cc8d91b8dc2252932e8e4d79e\n'}]",0,790223,c2040822ba3d0c613090d0ab92392cde8a4a301a,5,2,1,9816,,,0,"Add support for [designate] region_name

The [designate] region_name parameter is required if a deployment has
multiple keystone regions.

Change-Id: I0cc67aaa3d50c67cc8d91b8dc2252932e8e4d79e
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/23/790223/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/designate.pp', 'releasenotes/notes/designate-region_name-01ec733a0aa8947f.yaml', 'spec/classes/neutron_designate_spec.rb']",3,c2040822ba3d0c613090d0ab92392cde8a4a301a,designate-region," should contain_neutron_config('designate/region_name').with_value('<SERVICE DEFAULT>') :region_name => 'regionOne', should contain_neutron_config('designate/region_name').with_value('regionOne')",,14,0
openstack%2Fneutron~stable%2Ftrain~I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd,openstack/neutron,stable/train,I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd,Improve Subnet update performance,MERGED,2021-05-05 07:30:32.000000000,2021-05-07 12:58:26.000000000,2021-05-07 12:56:41.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 07:30:32.000000000', 'files': ['neutron/db/ipam_backend_mixin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e50ecfb4d0a037b249f095b24ed1a6267fa8936b', 'message': 'Improve Subnet update performance\n\nDB plugin gets subnet object and this obj could be passed to IPAM\nto save 2 subnet DB requests.\n\nChange-Id: I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd\n(cherry picked from commit e8909a65d420a276f32fd421b3d5c673ec6857ea)\n'}]",0,789670,e50ecfb4d0a037b249f095b24ed1a6267fa8936b,36,3,1,5948,,,0,"Improve Subnet update performance

DB plugin gets subnet object and this obj could be passed to IPAM
to save 2 subnet DB requests.

Change-Id: I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd
(cherry picked from commit e8909a65d420a276f32fd421b3d5c673ec6857ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/789670/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_backend_mixin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py']",3,e50ecfb4d0a037b249f095b24ed1a6267fa8936b,subnet_update_opt-stable/train," def update_db_subnet(self, context, id, s, old_pools, subnet_obj=None): subnet = subnet_obj or obj_subnet.Subnet.get_object(context, id=id) context, id, s, old_pools, subnet_obj=subnet_obj)"," def update_db_subnet(self, context, id, s, old_pools): subnet = obj_subnet.Subnet.get_object(context, id=id) context, id, s, old_pools)",8,7
openstack%2Fneutron~stable%2Fwallaby~I791026058b37f06d1a19b5fb6823b9dbb2a3eca5,openstack/neutron,stable/wallaby,I791026058b37f06d1a19b5fb6823b9dbb2a3eca5,[OVN] Check for lock in check_for_mcast_flood_reports,MERGED,2021-05-04 14:06:50.000000000,2021-05-07 12:58:18.000000000,2021-05-07 12:56:55.000000000,"[{'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 14:06:50.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc00c0959b8b5bb9e5c860be14cfb10e2c80f348', 'message': '[OVN] Check for lock in check_for_mcast_flood_reports\n\nThe maintenance method check_for_mcast_flood_reports() was not checking\nif that instance of the maintenance task has a valid lock before trying\nto execute a transaction.\n\nThis patch adds such check so instances of the maintenance task without\na valid lock will just return.\n\nChange-Id: I791026058b37f06d1a19b5fb6823b9dbb2a3eca5\nCloses-Bug: #1927077\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 317407fe61b76b8f0c250ce6fb18d93dd0b667d0)\n'}]",0,789579,fc00c0959b8b5bb9e5c860be14cfb10e2c80f348,25,4,1,6773,,,0,"[OVN] Check for lock in check_for_mcast_flood_reports

The maintenance method check_for_mcast_flood_reports() was not checking
if that instance of the maintenance task has a valid lock before trying
to execute a transaction.

This patch adds such check so instances of the maintenance task without
a valid lock will just return.

Change-Id: I791026058b37f06d1a19b5fb6823b9dbb2a3eca5
Closes-Bug: #1927077
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 317407fe61b76b8f0c250ce6fb18d93dd0b667d0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/789579/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'],1,fc00c0959b8b5bb9e5c860be14cfb10e2c80f348,, if not self.has_lock: return ,,3,0
openstack%2Fneutron~stable%2Ftrain~Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,openstack/neutron,stable/train,Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61,trivial: Make driver_controller's _attrs_to_driver py3 compatible,MERGED,2021-05-05 06:58:01.000000000,2021-05-07 12:53:57.000000000,2021-05-07 12:52:27.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 06:58:01.000000000', 'files': ['neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a89be81928b11caa1ff18095104b7b54bb0af84c', 'message': 'trivial: Make driver_controller\'s _attrs_to_driver py3 compatible\n\nIn python3 dict.values() doesn\'t return list but instead dict_values,\nit must be converted to list to ""enjoy"" list operations like insert.\nAdd unit tests to be sure.\n\nCloses-Bug: #1923423\nChange-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61\n(cherry picked from commit e270ac2ee65c02bdb099d11af7f1d2fb62ad0f61)\n(cherry picked from commit 3ec596f9ef0b539ea3868960bc3bfa145d4b6e21)\n(cherry picked from commit 321162a65337881f0f5bf44dc7c6639cabbe3a02)\n(cherry picked from commit f15fb6831a12fc5a7d4256c8a96bfde3c3feb5a8)\n'}]",0,789666,a89be81928b11caa1ff18095104b7b54bb0af84c,12,3,1,8313,,,0,"trivial: Make driver_controller's _attrs_to_driver py3 compatible

In python3 dict.values() doesn't return list but instead dict_values,
it must be converted to list to ""enjoy"" list operations like insert.
Add unit tests to be sure.

Closes-Bug: #1923423
Change-Id: Ie270ac2ee65c02bdb099d11af7f1d2fb62ad0f61
(cherry picked from commit e270ac2ee65c02bdb099d11af7f1d2fb62ad0f61)
(cherry picked from commit 3ec596f9ef0b539ea3868960bc3bfa145d4b6e21)
(cherry picked from commit 321162a65337881f0f5bf44dc7c6639cabbe3a02)
(cherry picked from commit f15fb6831a12fc5a7d4256c8a96bfde3c3feb5a8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/789666/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/tests/unit/services/l3_router/service_providers/test_driver_controller.py']",2,a89be81928b11caa1ff18095104b7b54bb0af84c,bug/1923423-stable/wallaby-stable/victoria-stable/ussuri-stable/train,"from neutron.services.l3_router.service_providers import single_node def test___attrs_to_driver(self): test_dc = driver_controller.DriverController(self.fake_l3) test_dc.default_provider = 'single_node' self.assertIsInstance(test_dc._attrs_to_driver({}), single_node.SingleNodeDriver) test_dc.default_provider = 'ha' with mock.patch.object(driver_controller, ""_is_driver_compatible"", return_value=False): self.assertRaises(NotImplementedError, test_dc._attrs_to_driver, {}) ",,14,1
openstack%2Fnetworking-odl~master~I11e2508dced505dbba13f95650f1ba9d696be6e9,openstack/networking-odl,master,I11e2508dced505dbba13f95650f1ba9d696be6e9,Dropping lower constraints testing,ABANDONED,2021-05-02 02:20:32.000000000,2021-05-07 12:48:53.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-02 02:20:32.000000000', 'files': ['lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fc4974def4351c8067a41005d7d066c9e2b4acb6', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I11e2508dced505dbba13f95650f1ba9d696be6e9\n'}]",0,789074,fc4974def4351c8067a41005d7d066c9e2b4acb6,4,2,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I11e2508dced505dbba13f95650f1ba9d696be6e9
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/74/789074/1 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'tox.ini']",2,fc4974def4351c8067a41005d7d066c9e2b4acb6,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt ,0,225
openstack%2Fpython-cloudkittyclient~stable%2Fwallaby~Ieda9b224c07f653678661ab78ff66023aa8d3bf1,openstack/python-cloudkittyclient,stable/wallaby,Ieda9b224c07f653678661ab78ff66023aa8d3bf1,Fix formatting of release note,MERGED,2021-04-19 16:16:26.000000000,2021-05-07 12:47:21.000000000,2021-05-07 12:45:40.000000000,"[{'_account_id': 7042}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-04-19 16:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/14cfd192192353ba315e8b8cbd06d8ade90070f8', 'message': 'Fix formatting of release note\n\nSingle backtick is italic, double backtick is code.\n\nChange-Id: Ieda9b224c07f653678661ab78ff66023aa8d3bf1\n'}, {'number': 2, 'created': '2021-04-20 16:29:06.000000000', 'files': ['releasenotes/notes/fix-create_threshold-method-validation-f193e883e82214c9.yaml'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/628c2406c6016026131c8a3db7f82c52b123ce1a', 'message': 'Fix formatting of release note\n\nSingle backtick is italic, double backtick is code.\n\nChange-Id: Ieda9b224c07f653678661ab78ff66023aa8d3bf1\n'}]",0,786916,628c2406c6016026131c8a3db7f82c52b123ce1a,10,9,2,15197,,,0,"Fix formatting of release note

Single backtick is italic, double backtick is code.

Change-Id: Ieda9b224c07f653678661ab78ff66023aa8d3bf1
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/16/786916/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-create_threshold-method-validation-f193e883e82214c9.yaml'],1,14cfd192192353ba315e8b8cbd06d8ade90070f8,," Fix ``create_threshold`` method when using cost as 0. When using 0 as the cost, the ``create_threshold`` method"," Fix `create_threshold` method when using cost as 0. When using 0 as the cost, the `create_threshold` method",2,2
openstack%2Fmasakari~master~Ief15dd78f1f8103c6ba4062b4d14813b6ec3e9d0,openstack/masakari,master,Ief15dd78f1f8103c6ba4062b4d14813b6ec3e9d0,[DNM] Test SQLAlchemy 1.4,ABANDONED,2021-05-07 11:04:10.000000000,2021-05-07 12:44:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-07 11:04:10.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/masakari/commit/b4c390891824a340214b51afc7fefb35cb134cc5', 'message': '[DNM] Test SQLAlchemy 1.4\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/788339\nChange-Id: Ief15dd78f1f8103c6ba4062b4d14813b6ec3e9d0\n'}]",0,790220,b4c390891824a340214b51afc7fefb35cb134cc5,3,1,1,30491,,,0,"[DNM] Test SQLAlchemy 1.4

Depends-On: https://review.opendev.org/c/openstack/requirements/+/788339
Change-Id: Ief15dd78f1f8103c6ba4062b4d14813b6ec3e9d0
",git fetch https://review.opendev.org/openstack/masakari refs/changes/20/790220/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b4c390891824a340214b51afc7fefb35cb134cc5,dnm-sqlalchemy-14, testme: yeah,,1,0
openstack%2Fcloudkitty-dashboard~stable%2Fwallaby~I28d6d1ac1a9d8db4accc4cadc5da261cb86330fd,openstack/cloudkitty-dashboard,stable/wallaby,I28d6d1ac1a9d8db4accc4cadc5da261cb86330fd,Respect endpoint type specified in Horizon,MERGED,2021-05-07 09:28:10.000000000,2021-05-07 12:38:58.000000000,2021-05-07 12:37:42.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-05-07 09:28:10.000000000', 'files': ['releasenotes/notes/keystone-endpoint-type-b5646c052e65c848.yaml', 'cloudkittydashboard/api/cloudkitty.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/31c6d8c3164a1386fd0ada8e1d24fb58180c3214', 'message': 'Respect endpoint type specified in Horizon\n\nThe CloudKitty dashboard now inherits the interface type from Horizon.\nThis allows for easier testing, like in an all-in-one to use the\ninternalURL.\n\nChange-Id: I28d6d1ac1a9d8db4accc4cadc5da261cb86330fd\nStory: 2008879\nTask: 42441\n(cherry picked from commit 19ead1f0723845a7ebee511dace691da5f28c268)\n'}]",0,790171,31c6d8c3164a1386fd0ada8e1d24fb58180c3214,8,3,1,18279,,,0,"Respect endpoint type specified in Horizon

The CloudKitty dashboard now inherits the interface type from Horizon.
This allows for easier testing, like in an all-in-one to use the
internalURL.

Change-Id: I28d6d1ac1a9d8db4accc4cadc5da261cb86330fd
Story: 2008879
Task: 42441
(cherry picked from commit 19ead1f0723845a7ebee511dace691da5f28c268)
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/71/790171/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-endpoint-type-b5646c052e65c848.yaml', 'cloudkittydashboard/api/cloudkitty.py']",2,31c6d8c3164a1386fd0ada8e1d24fb58180c3214,," interface = getattr(settings, 'OPENSTACK_ENDPOINT_TYPE', 'publicURL') 'interface': interface,",,8,0
openstack%2Fcloudkitty-dashboard~stable%2Fvictoria~I28d6d1ac1a9d8db4accc4cadc5da261cb86330fd,openstack/cloudkitty-dashboard,stable/victoria,I28d6d1ac1a9d8db4accc4cadc5da261cb86330fd,Respect endpoint type specified in Horizon,MERGED,2021-05-07 09:27:38.000000000,2021-05-07 12:38:51.000000000,2021-05-07 12:37:36.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-05-07 09:27:38.000000000', 'files': ['releasenotes/notes/keystone-endpoint-type-b5646c052e65c848.yaml', 'cloudkittydashboard/api/cloudkitty.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/2a24f55f83a070c9f6207cb4caba314820665ce3', 'message': 'Respect endpoint type specified in Horizon\n\nThe CloudKitty dashboard now inherits the interface type from Horizon.\nThis allows for easier testing, like in an all-in-one to use the\ninternalURL.\n\nChange-Id: I28d6d1ac1a9d8db4accc4cadc5da261cb86330fd\nStory: 2008879\nTask: 42440\n(cherry picked from commit 19ead1f0723845a7ebee511dace691da5f28c268)\n'}]",0,790170,2a24f55f83a070c9f6207cb4caba314820665ce3,8,3,1,18279,,,0,"Respect endpoint type specified in Horizon

The CloudKitty dashboard now inherits the interface type from Horizon.
This allows for easier testing, like in an all-in-one to use the
internalURL.

Change-Id: I28d6d1ac1a9d8db4accc4cadc5da261cb86330fd
Story: 2008879
Task: 42440
(cherry picked from commit 19ead1f0723845a7ebee511dace691da5f28c268)
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/70/790170/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-endpoint-type-b5646c052e65c848.yaml', 'cloudkittydashboard/api/cloudkitty.py']",2,2a24f55f83a070c9f6207cb4caba314820665ce3,," interface = getattr(settings, 'OPENSTACK_ENDPOINT_TYPE', 'publicURL') 'interface': interface,",,8,0
openstack%2Ftripleo-ansible~master~Ib80d8c69d63b2eeb047794e40f0a7987f7dfa481,openstack/tripleo-ansible,master,Ib80d8c69d63b2eeb047794e40f0a7987f7dfa481,Add support for pmd auto balance parameters in open_vswitch,ABANDONED,2021-05-07 10:32:20.000000000,2021-05-07 12:27:27.000000000,,[],"[{'number': 1, 'created': '2021-05-07 10:32:20.000000000', 'files': ['doc/source/roles/role-tripleo-ovs-dpdk.rst', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/converge.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/tests/test_positive.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c39c0e448449387c3573a2e21f43c680f7bf9a38', 'message': 'Add support for pmd auto balance parameters in open_vswitch\n\nThis patch enables the end user to customize PMD load threshold\n(pmd-auto-lb-load-threshold), variance improvement threshold\n(pmd-auto-lb-improvement-threshold), minimum time between 2 consecutive\nPMD auto load balancing iterations(pmd-auto-lb-rebal-interval) and\ntoggle pmd auto balance on and off(pmd-auto-lb), rather than using\nthe default values.\n\nChange-Id: Ib80d8c69d63b2eeb047794e40f0a7987f7dfa481\n'}]",0,790217,c39c0e448449387c3573a2e21f43c680f7bf9a38,2,0,1,14972,,,0,"Add support for pmd auto balance parameters in open_vswitch

This patch enables the end user to customize PMD load threshold
(pmd-auto-lb-load-threshold), variance improvement threshold
(pmd-auto-lb-improvement-threshold), minimum time between 2 consecutive
PMD auto load balancing iterations(pmd-auto-lb-rebal-interval) and
toggle pmd auto balance on and off(pmd-auto-lb), rather than using
the default values.

Change-Id: Ib80d8c69d63b2eeb047794e40f0a7987f7dfa481
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/17/790217/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/roles/role-tripleo-ovs-dpdk.rst', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/converge.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/tasks/config.yml', 'tripleo_ansible/roles/tripleo_ovs_dpdk/molecule/positive/tests/test_positive.py', 'tripleo_ansible/roles/tripleo_ovs_dpdk/defaults/main.yml']",6,c39c0e448449387c3573a2e21f43c680f7bf9a38,pmd_auto_lb,"tripleo_ovs_dpdk_pmd_auto_lb: false tripleo_ovs_dpdk_pmd_load_threshold: """" tripleo_ovs_dpdk_pmd_improvement_threshold: """" tripleo_ovs_dpdk_pmd_rebal_interval: """"",,159,0
openstack%2Fcloudkitty~stable%2Fvictoria~Ic92234325ebabb17a2f205550a461891b646503a,openstack/cloudkitty,stable/victoria,Ic92234325ebabb17a2f205550a461891b646503a,Fix typo in policy rule description,MERGED,2021-05-05 14:25:49.000000000,2021-05-07 12:23:31.000000000,2021-05-07 12:18:56.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-05-05 14:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/49d5fc6a516c7bc8de80bcb1f1b9edd5d5ce5937', 'message': 'Fix typo in policy rule description\n\nChange-Id: Ic92234325ebabb17a2f205550a461891b646503a\n(cherry picked from commit 43c95fec34c0686c1bd9f7af95437ac1b1c5e64f)\n'}, {'number': 2, 'created': '2021-05-07 06:16:28.000000000', 'files': ['cloudkitty/common/policies/v1/rating.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/48c8a86bb6feb7e56db689a3db475b2d88db2648', 'message': 'Fix typo in policy rule description\n\nChange-Id: Ic92234325ebabb17a2f205550a461891b646503a\n(cherry picked from commit 43c95fec34c0686c1bd9f7af95437ac1b1c5e64f)\n'}]",0,789857,48c8a86bb6feb7e56db689a3db475b2d88db2648,12,3,2,18279,,,0,"Fix typo in policy rule description

Change-Id: Ic92234325ebabb17a2f205550a461891b646503a
(cherry picked from commit 43c95fec34c0686c1bd9f7af95437ac1b1c5e64f)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/57/789857/2 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/common/policies/v1/rating.py'],1,49d5fc6a516c7bc8de80bcb1f1b9edd5d5ce5937,," description='Return the list of loaded modules in Cloudkitty.',"," description='Reture the list of loaded modules in Cloudkitty.',",1,1
openstack%2Fcloudkitty~stable%2Ftrain~I3e34927e8ab88f25d2975b4dbac89b52a7d94c98,openstack/cloudkitty,stable/train,I3e34927e8ab88f25d2975b4dbac89b52a7d94c98,Fix default admin_or_owner policy expression,MERGED,2021-04-07 13:05:19.000000000,2021-05-07 12:23:15.000000000,2021-05-07 12:18:50.000000000,"[{'_account_id': 15197}, {'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-04-07 13:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/880dd4ce5f2cb45b705ae90b3198226bdc38b3fe', 'message': 'Fix default admin_or_owner policy expression\n\nBy default not even an admin can use the get_summary endpoint with\nall_tenants=True or using a tenant_id parameter. This commit fixes that.\n\nThis rule is now the same as how cinder defines admin_or_owner.\n\nChange-Id: I3e34927e8ab88f25d2975b4dbac89b52a7d94c98\n(cherry picked from commit 2a985c94ee920c1d0baec5d0c02204788c130b33)\n'}, {'number': 2, 'created': '2021-04-15 07:26:48.000000000', 'files': ['cloudkitty/common/policies/base.py', 'doc/source/_static/cloudkitty.policy.yaml.sample'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f2c4fd963d8d23205ca69207dbc5f8237f4be005', 'message': 'Fix default admin_or_owner policy expression\n\nBy default not even an admin can use the get_summary endpoint with\nall_tenants=True or using a tenant_id parameter. This commit fixes that.\n\nThis rule is now the same as how cinder defines admin_or_owner.\n\nChange-Id: I3e34927e8ab88f25d2975b4dbac89b52a7d94c98\n(cherry picked from commit 2a985c94ee920c1d0baec5d0c02204788c130b33)\n'}]",0,785173,f2c4fd963d8d23205ca69207dbc5f8237f4be005,11,4,2,15197,,,0,"Fix default admin_or_owner policy expression

By default not even an admin can use the get_summary endpoint with
all_tenants=True or using a tenant_id parameter. This commit fixes that.

This rule is now the same as how cinder defines admin_or_owner.

Change-Id: I3e34927e8ab88f25d2975b4dbac89b52a7d94c98
(cherry picked from commit 2a985c94ee920c1d0baec5d0c02204788c130b33)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/73/785173/2 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/common/policies/base.py', 'doc/source/_static/cloudkitty.policy.yaml.sample']",2,880dd4ce5f2cb45b705ae90b3198226bdc38b3fe,,"#""admin_or_owner"": ""is_admin:True or (role:admin and is_admin_project:True) or tenant:%(tenant_id)s"" # Return the list of loaded modules in Cloudkitty.","## #""admin_or_owner"": ""is_admin:True or tenant:%(tenant_id)s"" ## Reture the list of loaded modules in Cloudkitty.",5,6
openstack%2Fkuryr-libnetwork~master~Ie4e3366ad01e219971595464122a6b262e55cb91,openstack/kuryr-libnetwork,master,Ie4e3366ad01e219971595464122a6b262e55cb91,setup.cfg: Replace dashes with underscores,MERGED,2021-05-06 03:01:44.000000000,2021-05-07 12:22:25.000000000,2021-05-07 12:21:01.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-06 03:01:44.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/dbb7a4dff64326d547243ce092d5064a13bfabb0', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ie4e3366ad01e219971595464122a6b262e55cb91\n""}]",0,789991,dbb7a4dff64326d547243ce092d5064a13bfabb0,9,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie4e3366ad01e219971595464122a6b262e55cb91
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/91/789991/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,dbb7a4dff64326d547243ce092d5064a13bfabb0,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/kuryr-libnetwork/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/kuryr-libnetwork/latest/ python-requires = >=3.6,4,4
openstack%2Fcloudkitty~stable%2Fussuri~I3e34927e8ab88f25d2975b4dbac89b52a7d94c98,openstack/cloudkitty,stable/ussuri,I3e34927e8ab88f25d2975b4dbac89b52a7d94c98,Fix default admin_or_owner policy expression,MERGED,2021-04-07 12:59:21.000000000,2021-05-07 12:22:18.000000000,2021-05-07 12:18:29.000000000,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 18279}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-04-07 12:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/df3e724eabca1060556dfab1a90f425a47249580', 'message': 'Fix default admin_or_owner policy expression\n\nBy default not even an admin can use the get_summary endpoint with\nall_tenants=True or using a tenant_id parameter. This commit fixes that.\n\nThis rule is now the same as how cinder defines admin_or_owner.\n\nChange-Id: I3e34927e8ab88f25d2975b4dbac89b52a7d94c98\n(cherry picked from commit 2a985c94ee920c1d0baec5d0c02204788c130b33)\n'}, {'number': 2, 'created': '2021-04-15 07:27:34.000000000', 'files': ['cloudkitty/common/policies/base.py', 'doc/source/_static/cloudkitty.policy.yaml.sample'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/f585666ea93707b0dbe62d9e73f686058247e2bc', 'message': 'Fix default admin_or_owner policy expression\n\nBy default not even an admin can use the get_summary endpoint with\nall_tenants=True or using a tenant_id parameter. This commit fixes that.\n\nThis rule is now the same as how cinder defines admin_or_owner.\n\nChange-Id: I3e34927e8ab88f25d2975b4dbac89b52a7d94c98\n(cherry picked from commit 2a985c94ee920c1d0baec5d0c02204788c130b33)\n'}]",0,785170,f585666ea93707b0dbe62d9e73f686058247e2bc,11,11,2,15197,,,0,"Fix default admin_or_owner policy expression

By default not even an admin can use the get_summary endpoint with
all_tenants=True or using a tenant_id parameter. This commit fixes that.

This rule is now the same as how cinder defines admin_or_owner.

Change-Id: I3e34927e8ab88f25d2975b4dbac89b52a7d94c98
(cherry picked from commit 2a985c94ee920c1d0baec5d0c02204788c130b33)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/70/785170/1 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/common/policies/base.py', 'doc/source/_static/cloudkitty.policy.yaml.sample']",2,df3e724eabca1060556dfab1a90f425a47249580,,"#""admin_or_owner"": ""is_admin:True or (role:admin and is_admin_project:True) or project_id:%(project_id)s"" # Return the list of loaded modules in Cloudkitty.","## #""admin_or_owner"": ""is_admin:True or project_id:%(project_id)s"" ## Reture the list of loaded modules in Cloudkitty.",5,6
openstack%2Fcloudkitty~stable%2Ftrain~I66011e9f737982c61fb6cc2e0103d6c9d2a7a171,openstack/cloudkitty,stable/train,I66011e9f737982c61fb6cc2e0103d6c9d2a7a171,CI: Fix multiple failures,MERGED,2021-04-14 19:36:38.000000000,2021-05-07 12:22:15.000000000,2021-05-07 12:18:46.000000000,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-04-14 19:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ec18d79aee1e5eab1b27b2307d3b23a46d7b6ccf', 'message': 'Drop lower-constraints job\n\nThe lower-constraints job is failing in stable/victoria and older stable\nbranches. OpenStack projects are allowed to drop lower-constraints\ntesting when it becomes too difficult to maintain.\n\nChange-Id: I66011e9f737982c61fb6cc2e0103d6c9d2a7a171\n(cherry picked from commit 04f4c78b45995c1789088435e4051083c02167b5)\n'}, {'number': 2, 'created': '2021-04-15 06:30:23.000000000', 'files': ['test-requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9f450019389f68b8a1a691f34ad016890c0f9712', 'message': 'CI: Fix multiple failures\n\n1) Drop lower-constraints job\n\nThe lower-constraints job is failing in stable/victoria and older stable\nbranches. OpenStack projects are allowed to drop lower-constraints\ntesting when it becomes too difficult to maintain.\n\n2) Cap bandit dependency on Python 2.7\n\nThe (yanked) 1.6.3 release of bandit dropped support for Python 2.\n\nChange-Id: I66011e9f737982c61fb6cc2e0103d6c9d2a7a171\n(cherry picked from commit 04f4c78b45995c1789088435e4051083c02167b5)\n'}]",0,786314,9f450019389f68b8a1a691f34ad016890c0f9712,10,10,2,15197,,,0,"CI: Fix multiple failures

1) Drop lower-constraints job

The lower-constraints job is failing in stable/victoria and older stable
branches. OpenStack projects are allowed to drop lower-constraints
testing when it becomes too difficult to maintain.

2) Cap bandit dependency on Python 2.7

The (yanked) 1.6.3 release of bandit dropped support for Python 2.

Change-Id: I66011e9f737982c61fb6cc2e0103d6c9d2a7a171
(cherry picked from commit 04f4c78b45995c1789088435e4051083c02167b5)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/14/786314/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ec18d79aee1e5eab1b27b2307d3b23a46d7b6ccf,,, - openstack-lower-constraints-jobs,0,1
openstack%2Fcloudkitty~stable%2Fvictoria~I66011e9f737982c61fb6cc2e0103d6c9d2a7a171,openstack/cloudkitty,stable/victoria,I66011e9f737982c61fb6cc2e0103d6c9d2a7a171,Drop lower-constraints job,MERGED,2021-04-12 09:09:02.000000000,2021-05-07 12:22:14.000000000,2021-05-07 12:18:02.000000000,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 18279}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-04-12 09:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/639a48e5d33182ef8610ddc4663bf5b415e97cc9', 'message': 'Drop lower-constraints job in stable branches\n\nThe lower-constraints job is failing in all supported stable branches.\nOpenStack projects are allowed to drop lower-constraints testing when it\nbecomes too difficult to maintain.\n\nChange-Id: I66011e9f737982c61fb6cc2e0103d6c9d2a7a171\n'}, {'number': 2, 'created': '2021-04-12 11:15:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/04f4c78b45995c1789088435e4051083c02167b5', 'message': 'Drop lower-constraints job\n\nThe lower-constraints job is failing in stable/victoria and older stable\nbranches. OpenStack projects are allowed to drop lower-constraints\ntesting when it becomes too difficult to maintain.\n\nChange-Id: I66011e9f737982c61fb6cc2e0103d6c9d2a7a171\n'}]",0,785835,04f4c78b45995c1789088435e4051083c02167b5,11,11,2,15197,,,0,"Drop lower-constraints job

The lower-constraints job is failing in stable/victoria and older stable
branches. OpenStack projects are allowed to drop lower-constraints
testing when it becomes too difficult to maintain.

Change-Id: I66011e9f737982c61fb6cc2e0103d6c9d2a7a171
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/35/785835/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,639a48e5d33182ef8610ddc4663bf5b415e97cc9,,, - openstack-lower-constraints-jobs,0,1
openstack%2Fcloudkitty~stable%2Fwallaby~Ic92234325ebabb17a2f205550a461891b646503a,openstack/cloudkitty,stable/wallaby,Ic92234325ebabb17a2f205550a461891b646503a,Fix typo in policy rule description,MERGED,2021-05-05 14:24:26.000000000,2021-05-07 12:22:11.000000000,2021-05-07 12:19:14.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-05-05 14:24:26.000000000', 'files': ['cloudkitty/common/policies/v1/rating.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/c8f095c8f186b2ace179b5d1d0105203c71c9ef1', 'message': 'Fix typo in policy rule description\n\nChange-Id: Ic92234325ebabb17a2f205550a461891b646503a\n(cherry picked from commit 43c95fec34c0686c1bd9f7af95437ac1b1c5e64f)\n'}]",0,789815,c8f095c8f186b2ace179b5d1d0105203c71c9ef1,8,3,1,18279,,,0,"Fix typo in policy rule description

Change-Id: Ic92234325ebabb17a2f205550a461891b646503a
(cherry picked from commit 43c95fec34c0686c1bd9f7af95437ac1b1c5e64f)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/15/789815/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/common/policies/v1/rating.py'],1,c8f095c8f186b2ace179b5d1d0105203c71c9ef1,," description='Return the list of loaded modules in Cloudkitty.',"," description='Reture the list of loaded modules in Cloudkitty.',",1,1
openstack%2Fcloudkitty~stable%2Fvictoria~I3e34927e8ab88f25d2975b4dbac89b52a7d94c98,openstack/cloudkitty,stable/victoria,I3e34927e8ab88f25d2975b4dbac89b52a7d94c98,Fix default admin_or_owner policy expression,MERGED,2021-04-07 12:55:56.000000000,2021-05-07 12:18:05.000000000,2021-05-07 12:18:05.000000000,"[{'_account_id': 15197}, {'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-04-07 12:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/79c4da3ed4aa0ac817ee74da63970c1d1eb1bf22', 'message': 'Fix default admin_or_owner policy expression\n\nBy default not even an admin can use the get_summary endpoint with\nall_tenants=True or using a tenant_id parameter. This commit fixes that.\n\nThis rule is now the same as how cinder defines admin_or_owner.\n\nChange-Id: I3e34927e8ab88f25d2975b4dbac89b52a7d94c98\n(cherry picked from commit 2a985c94ee920c1d0baec5d0c02204788c130b33)\n'}, {'number': 2, 'created': '2021-04-15 07:28:46.000000000', 'files': ['cloudkitty/common/policies/base.py', 'doc/source/_static/cloudkitty.policy.yaml.sample'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/2db1435e7e1c68992e987992155bfe15b63bbb4f', 'message': 'Fix default admin_or_owner policy expression\n\nBy default not even an admin can use the get_summary endpoint with\nall_tenants=True or using a tenant_id parameter. This commit fixes that.\n\nThis rule is now the same as how cinder defines admin_or_owner.\n\nChange-Id: I3e34927e8ab88f25d2975b4dbac89b52a7d94c98\n(cherry picked from commit 2a985c94ee920c1d0baec5d0c02204788c130b33)\n'}]",0,785132,2db1435e7e1c68992e987992155bfe15b63bbb4f,10,4,2,15197,,,0,"Fix default admin_or_owner policy expression

By default not even an admin can use the get_summary endpoint with
all_tenants=True or using a tenant_id parameter. This commit fixes that.

This rule is now the same as how cinder defines admin_or_owner.

Change-Id: I3e34927e8ab88f25d2975b4dbac89b52a7d94c98
(cherry picked from commit 2a985c94ee920c1d0baec5d0c02204788c130b33)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/32/785132/2 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/common/policies/base.py', 'doc/source/_static/cloudkitty.policy.yaml.sample']",2,79c4da3ed4aa0ac817ee74da63970c1d1eb1bf22,admin-or-owner-stable/victoria,"#""admin_or_owner"": ""is_admin:True or (role:admin and is_admin_project:True) or project_id:%(project_id)s""# Return the list of loaded modules in Cloudkitty.","#""admin_or_owner"": ""is_admin:True or project_id:%(project_id)s""# Reture the list of loaded modules in Cloudkitty.",5,3
openstack%2Fneutron~stable%2Fussuri~If65925ded1b5df2bfdcfba50445ff7d821c725d8,openstack/neutron,stable/ussuri,If65925ded1b5df2bfdcfba50445ff7d821c725d8,ovn-migration: UNDERCLOUD_NODE_USER variable,MERGED,2021-05-05 11:25:44.000000000,2021-05-07 12:02:29.000000000,2021-05-07 11:59:33.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 11:25:44.000000000', 'files': ['doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c542b27bb981c00f20315953067d9971fb0d6597', 'message': ""ovn-migration: UNDERCLOUD_NODE_USER variable\n\nThe undercloud node user is configurable in TripleO and isn't always set\nto heat-admin. This patch introduces an environment variable for cases\nwhere user is different.\n\nCloses-bug: 1927213\n\nChange-Id: If65925ded1b5df2bfdcfba50445ff7d821c725d8\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 7bb5fb2de1a2bd5afb2ddfa5291ffdeead28f6a8)\n""}]",0,789798,c542b27bb981c00f20315953067d9971fb0d6597,9,3,1,8655,,,0,"ovn-migration: UNDERCLOUD_NODE_USER variable

The undercloud node user is configurable in TripleO and isn't always set
to heat-admin. This patch introduces an environment variable for cases
where user is different.

Closes-bug: 1927213

Change-Id: If65925ded1b5df2bfdcfba50445ff7d821c725d8
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 7bb5fb2de1a2bd5afb2ddfa5291ffdeead28f6a8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/789798/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",2,c542b27bb981c00f20315953067d9971fb0d6597,ovn-migration-stable/ussuri,# user on the nodes in the undercloud : ${UNDERCLOUD_NODE_USER:=heat-admin} echo $node ansible_ssh_user=$UNDERCLOUD_NODE_USER ansible_become=true >> hosts_for_migration echo $node_name ansible_host=$node_ip ansible_ssh_user=$UNDERCLOUD_NODE_USER ansible_become=true ovn_controller=true >> hosts_for_migrationremote_user=$UNDERCLOUD_NODE_USER, echo $node ansible_ssh_user=heat-admin ansible_become=true >> hosts_for_migration echo $node_name ansible_host=$node_ip ansible_ssh_user=heat-admin ansible_become=true ovn_controller=true >> hosts_for_migrationremote_user=heat-admin,9,3
openstack%2Fneutron~stable%2Fussuri~I68b9a586d1d7ec75820fedcb8e51d1c49ae871ae,openstack/neutron,stable/ussuri,I68b9a586d1d7ec75820fedcb8e51d1c49ae871ae,ovn: Do not set reside-on-redirect-chassis on distributed FIP,MERGED,2021-05-06 10:16:20.000000000,2021-05-07 12:01:14.000000000,2021-05-07 11:59:09.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 10:16:20.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2611e10a1e3fc79ded5a9bee5f5f7abfb47f81f8', 'message': 'ovn: Do not set reside-on-redirect-chassis on distributed FIP\n\nSince [1] and [2] OVN supports DVR on VLAN networks with usage of\nexternal-ids:ovn-chassis-mac-mappings, but reside-on-redirect-chassis\nneeds to be unset when distributed floating IP is enabled.\n\n[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57\n[2]: https://github.com/ovn-org/ovn/commit/522911269f1422e1274cbfbe53035a3bb8f573eb\n\nCloses-Bug: #1920976\nChange-Id: I68b9a586d1d7ec75820fedcb8e51d1c49ae871ae\n(cherry picked from commit 828765412789a15a5f375060cfab7628c65e9d5d)\n(cherry picked from commit b956411b6c398a51a7e385f560a2c72aa29b0edd)\n'}]",0,789868,2611e10a1e3fc79ded5a9bee5f5f7abfb47f81f8,10,3,1,22629,,,0,"ovn: Do not set reside-on-redirect-chassis on distributed FIP

Since [1] and [2] OVN supports DVR on VLAN networks with usage of
external-ids:ovn-chassis-mac-mappings, but reside-on-redirect-chassis
needs to be unset when distributed floating IP is enabled.

[1]: https://github.com/ovn-org/ovn/commit/1fed74cfc1a1e3b29cf86eab2e96048813019b57
[2]: https://github.com/ovn-org/ovn/commit/522911269f1422e1274cbfbe53035a3bb8f573eb

Closes-Bug: #1920976
Change-Id: I68b9a586d1d7ec75820fedcb8e51d1c49ae871ae
(cherry picked from commit 828765412789a15a5f375060cfab7628c65e9d5d)
(cherry picked from commit b956411b6c398a51a7e385f560a2c72aa29b0edd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/789868/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,2611e10a1e3fc79ded5a9bee5f5f7abfb47f81f8,, if (network.get(pnet.NETWORK_TYPE) == const.TYPE_VLAN and not ovn_conf.is_ovn_distributed_floating_ip()):, if network.get(pnet.NETWORK_TYPE) == const.TYPE_VLAN:,2,1
openstack%2Fneutron~stable%2Fvictoria~If65925ded1b5df2bfdcfba50445ff7d821c725d8,openstack/neutron,stable/victoria,If65925ded1b5df2bfdcfba50445ff7d821c725d8,ovn-migration: UNDERCLOUD_NODE_USER variable,MERGED,2021-05-05 11:24:59.000000000,2021-05-07 12:01:09.000000000,2021-05-07 11:59:24.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 11:24:59.000000000', 'files': ['doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a03a3f8fc4da54123df582af943b31697deea3a', 'message': ""ovn-migration: UNDERCLOUD_NODE_USER variable\n\nThe undercloud node user is configurable in TripleO and isn't always set\nto heat-admin. This patch introduces an environment variable for cases\nwhere user is different.\n\nCloses-bug: 1927213\n\nChange-Id: If65925ded1b5df2bfdcfba50445ff7d821c725d8\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 7bb5fb2de1a2bd5afb2ddfa5291ffdeead28f6a8)\n""}]",0,789797,1a03a3f8fc4da54123df582af943b31697deea3a,9,3,1,8655,,,0,"ovn-migration: UNDERCLOUD_NODE_USER variable

The undercloud node user is configurable in TripleO and isn't always set
to heat-admin. This patch introduces an environment variable for cases
where user is different.

Closes-bug: 1927213

Change-Id: If65925ded1b5df2bfdcfba50445ff7d821c725d8
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 7bb5fb2de1a2bd5afb2ddfa5291ffdeead28f6a8)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/789797/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/migration.rst', 'tools/ovn_migration/tripleo_environment/ovn_migration.sh']",2,1a03a3f8fc4da54123df582af943b31697deea3a,ovn-migration-stable/victoria,# user on the nodes in the undercloud : ${UNDERCLOUD_NODE_USER:=heat-admin} echo $node ansible_ssh_user=$UNDERCLOUD_NODE_USER ansible_become=true >> hosts_for_migration echo $node_name ansible_host=$node_ip ansible_ssh_user=$UNDERCLOUD_NODE_USER ansible_become=true ovn_controller=true >> hosts_for_migrationremote_user=$UNDERCLOUD_NODE_USER, echo $node ansible_ssh_user=heat-admin ansible_become=true >> hosts_for_migration echo $node_name ansible_host=$node_ip ansible_ssh_user=heat-admin ansible_become=true ovn_controller=true >> hosts_for_migrationremote_user=heat-admin,9,3
openstack%2Fneutron~master~I3624228238babc64fe02bf0cc56eb0c1f6d35e73,openstack/neutron,master,I3624228238babc64fe02bf0cc56eb0c1f6d35e73,use payloads for SEGMENT events,MERGED,2019-07-19 19:56:20.000000000,2021-05-07 12:01:01.000000000,2021-05-07 11:58:53.000000000,"[{'_account_id': 5367}, {'_account_id': 5948}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32667}]","[{'number': 1, 'created': '2019-07-19 19:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3eb4509a50aec44ab28f1366e3829628f5560a50', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events. Unit tests are also updated as needed\nto handle the switch.\n\nNeutronLibImpact\n\nChange-Id: I3624228238babc64fe02bf0cc56eb0c1f6d35e73\n'}, {'number': 2, 'created': '2019-07-22 17:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9797225af47845143715281310958919ce4dd81', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events. Unit tests are also updated as needed\nto handle the switch.\n\nNeutronLibImpact\n\nChange-Id: I3624228238babc64fe02bf0cc56eb0c1f6d35e73\n'}, {'number': 3, 'created': '2019-07-23 15:36:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/163e36018cd807d0ab7108edc1aa0e4d111f160c', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events. Unit tests are also updated as needed\nto handle the switch.\n\nNeutronLibImpact\n\nChange-Id: I3624228238babc64fe02bf0cc56eb0c1f6d35e73\n'}, {'number': 4, 'created': '2019-08-27 19:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2bfeb14171f33d59f045a9de455e01d3a5ec918', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events. Unit tests are also updated as needed\nto handle the switch.\n\nNeutronLibImpact\n\nChange-Id: I3624228238babc64fe02bf0cc56eb0c1f6d35e73\n'}, {'number': 5, 'created': '2021-05-04 11:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da1d5d138cd01a529ea78578d3024b7c605d9a34', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events. Unit tests are also updated as needed\nto handle the switch.\n\nNeutronLibImpact\n\nChange-Id: I3624228238babc64fe02bf0cc56eb0c1f6d35e73\n'}, {'number': 6, 'created': '2021-05-04 14:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0c283adabe8395156778d591534d40f61117d40', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events. Unit tests are also updated as needed\nto handle the switch.\n\nNeutronLibImpact\n\nChange-Id: I3624228238babc64fe02bf0cc56eb0c1f6d35e73\n'}, {'number': 7, 'created': '2021-05-05 09:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a57a97c26c21a4510c2cd1b1782a1b8e0f9c080f', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events. Unit tests are also updated as needed\nto handle the switch.\n\nNeutronLibImpact\n\nChange-Id: I3624228238babc64fe02bf0cc56eb0c1f6d35e73\n'}, {'number': 8, 'created': '2021-05-05 12:18:02.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/services/segments/db.py', 'neutron/db/segments_db.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d97f3edb2c99bb1f5f42f0adb5202b4bc2f10f0', 'message': 'use payloads for SEGMENT events\n\nThis patch switches over to payload style of callbacks for the remaining\nSEGMENT based callback events. Unit tests are also updated as needed\nto handle the switch.\n\nNeutronLibImpact\n\nChange-Id: I3624228238babc64fe02bf0cc56eb0c1f6d35e73\n'}]",2,671853,2d97f3edb2c99bb1f5f42f0adb5202b4bc2f10f0,47,10,8,5367,,,0,"use payloads for SEGMENT events

This patch switches over to payload style of callbacks for the remaining
SEGMENT based callback events. Unit tests are also updated as needed
to handle the switch.

NeutronLibImpact

Change-Id: I3624228238babc64fe02bf0cc56eb0c1f6d35e73
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/671853/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/services/segments/db.py', 'neutron/db/segments_db.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/plugins/ml2/plugin.py']",5,3eb4509a50aec44ab28f1366e3829628f5560a50,segment_callback," events.AFTER_CREATE, events.AFTER_DELETE)) def _handle_segment_change(self, rtype, event, trigger, payload=None): segment = payload.latest_state context = payload.context"," @registry.receives(resources.SEGMENT, [events.AFTER_DELETE]) def _handle_after_delete_segment_change( self, rtype, event, trigger, payload=None): # TODO(boden); refactor into _handle_segment_change once all # event types use payloads return self._handle_segment_change( rtype, event, trigger, payload.context, payload.latest_state) events.AFTER_CREATE)) def _handle_segment_change(self, rtype, event, trigger, context, segment):",36,35
openstack%2Fkuryr-kubernetes~master~I54e9f18f45b59c3ff6f3cc40e549ab9fd91d4391,openstack/kuryr-kubernetes,master,I54e9f18f45b59c3ff6f3cc40e549ab9fd91d4391,Remove redundant parentheses,MERGED,2021-05-05 02:05:07.000000000,2021-05-07 11:55:13.000000000,2021-05-05 08:41:01.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-05-05 02:05:07.000000000', 'files': ['kuryr_kubernetes/controller/handlers/kuryrport.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2d78b7ab1cb4799b6f1c00e8c40ff549f8d986c7', 'message': 'Remove redundant parentheses\n\nChange-Id: I54e9f18f45b59c3ff6f3cc40e549ab9fd91d4391\n'}]",1,789685,2d78b7ab1cb4799b6f1c00e8c40ff549f8d986c7,9,4,1,33250,,,0,"Remove redundant parentheses

Change-Id: I54e9f18f45b59c3ff6f3cc40e549ab9fd91d4391
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/85/789685/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/kuryrport.py'],1,2d78b7ab1cb4799b6f1c00e8c40ff549f8d986c7,branch_mykuryr, if 'deletionTimestamp' not in pod['metadata']:, if ('deletionTimestamp' not in pod['metadata']):,1,1
openstack%2Fcloudkitty~stable%2Fussuri~I66011e9f737982c61fb6cc2e0103d6c9d2a7a171,openstack/cloudkitty,stable/ussuri,I66011e9f737982c61fb6cc2e0103d6c9d2a7a171,Drop lower-constraints job,MERGED,2021-04-14 19:36:08.000000000,2021-05-07 11:48:28.000000000,2021-05-07 11:45:55.000000000,"[{'_account_id': 7042}, {'_account_id': 15197}, {'_account_id': 16532}, {'_account_id': 18279}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 23173}, {'_account_id': 25277}, {'_account_id': 28356}, {'_account_id': 29503}]","[{'number': 1, 'created': '2021-04-14 19:36:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/7bfd8ec213bfa2946a8b7af70490f8ea8af9dead', 'message': 'Drop lower-constraints job\n\nThe lower-constraints job is failing in stable/victoria and older stable\nbranches. OpenStack projects are allowed to drop lower-constraints\ntesting when it becomes too difficult to maintain.\n\nChange-Id: I66011e9f737982c61fb6cc2e0103d6c9d2a7a171\n(cherry picked from commit 04f4c78b45995c1789088435e4051083c02167b5)\n'}]",0,786313,7bfd8ec213bfa2946a8b7af70490f8ea8af9dead,9,11,1,15197,,,0,"Drop lower-constraints job

The lower-constraints job is failing in stable/victoria and older stable
branches. OpenStack projects are allowed to drop lower-constraints
testing when it becomes too difficult to maintain.

Change-Id: I66011e9f737982c61fb6cc2e0103d6c9d2a7a171
(cherry picked from commit 04f4c78b45995c1789088435e4051083c02167b5)
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/13/786313/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,7bfd8ec213bfa2946a8b7af70490f8ea8af9dead,,, - openstack-lower-constraints-jobs,0,1
openstack%2Fkayobe~stable%2Fwallaby~I3c4d81f59bb61fdd23234777b8d839adecfe86f2,openstack/kayobe,stable/wallaby,I3c4d81f59bb61fdd23234777b8d839adecfe86f2,Ubuntu: add documentation & release note,MERGED,2021-05-06 10:44:03.000000000,2021-05-07 11:48:26.000000000,2021-05-07 11:47:04.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 10:44:03.000000000', 'files': ['doc/source/deployment.rst', 'doc/source/support-matrix.rst', 'doc/source/configuration/reference/hosts.rst', 'doc/source/configuration/reference/index.rst', 'doc/source/installation.rst', 'doc/source/configuration/reference/network.rst', 'doc/source/resources.rst', 'doc/source/configuration/reference/kolla.rst', 'doc/source/contributor/automated.rst', 'doc/source/administration/seed.rst', 'doc/source/configuration/reference/ironic-python-agent.rst', 'doc/source/configuration/reference/os-distribution.rst', 'doc/source/configuration/scenarios/all-in-one/overcloud.rst', 'releasenotes/notes/ubuntu-e74f49ea72f69869.yaml', 'doc/source/administration/overcloud.rst', 'doc/source/configuration/reference/bifrost.rst', 'doc/source/configuration/scenarios/all-in-one/index.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7a56c95a4ed769512d43a41e1b8ff1d055a99a07', 'message': 'Ubuntu: add documentation & release note\n\nChange-Id: I3c4d81f59bb61fdd23234777b8d839adecfe86f2\nStory: 2004960\nTask: 42324\n(cherry picked from commit dfdff656f5ede05ee9ddd147dae64e672b8732a7)\n'}]",0,789869,7a56c95a4ed769512d43a41e1b8ff1d055a99a07,8,3,1,14826,,,0,"Ubuntu: add documentation & release note

Change-Id: I3c4d81f59bb61fdd23234777b8d839adecfe86f2
Story: 2004960
Task: 42324
(cherry picked from commit dfdff656f5ede05ee9ddd147dae64e672b8732a7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/69/789869/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/deployment.rst', 'doc/source/support-matrix.rst', 'doc/source/configuration/reference/hosts.rst', 'doc/source/configuration/reference/index.rst', 'doc/source/installation.rst', 'doc/source/configuration/reference/network.rst', 'doc/source/resources.rst', 'doc/source/configuration/reference/kolla.rst', 'doc/source/contributor/automated.rst', 'doc/source/administration/seed.rst', 'doc/source/configuration/reference/ironic-python-agent.rst', 'doc/source/configuration/reference/os-distribution.rst', 'doc/source/configuration/scenarios/all-in-one/overcloud.rst', 'releasenotes/notes/ubuntu-e74f49ea72f69869.yaml', 'doc/source/administration/overcloud.rst', 'doc/source/configuration/reference/bifrost.rst', 'doc/source/configuration/scenarios/all-in-one/index.rst']",17,7a56c95a4ed769512d43a41e1b8ff1d055a99a07,ubuntu-docs-stable/wallaby,* a single host running a :ref:`supported operating system <support-matrix-supported-os>` (VM or bare metal),* a single CentOS 8 host (VM or bare metal),133,62
openstack%2Ftripleo-common~stable%2Fwallaby~I9adc416e36a1126a0a466d453430f08cd2dafe2b,openstack/tripleo-common,stable/wallaby,I9adc416e36a1126a0a466d453430f08cd2dafe2b,Update master for stable/wallaby,ABANDONED,2021-05-06 16:47:01.000000000,2021-05-07 11:16:30.000000000,,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22816}]","[{'number': 1, 'created': '2021-05-06 16:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1d0c9c6eeec051341a0f4d7df2d24250aedb0d51', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I9adc416e36a1126a0a466d453430f08cd2dafe2b\n'}, {'number': 2, 'created': '2021-05-06 20:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e24d8e9cd52e39b69d71ac0a46af2e3847ffc7ba', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I9adc416e36a1126a0a466d453430f08cd2dafe2b\n'}, {'number': 3, 'created': '2021-05-06 21:29:01.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/59e505a4083560edc7918f12eb583d9aa1b9f52f', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: I9adc416e36a1126a0a466d453430f08cd2dafe2b\n'}]",0,790106,59e505a4083560edc7918f12eb583d9aa1b9f52f,7,3,3,7144,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: I9adc416e36a1126a0a466d453430f08cd2dafe2b
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/790106/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,1d0c9c6eeec051341a0f4d7df2d24250aedb0d51,, wallaby,,7,0
openstack%2Fkolla-ansible~stable%2Fussuri~I551f93c9bf1ad6712b53c316074ae1df84e4352b,openstack/kolla-ansible,stable/ussuri,I551f93c9bf1ad6712b53c316074ae1df84e4352b,masakari: fix minor issues with instance monitor,MERGED,2021-05-05 10:21:51.000000000,2021-05-07 11:16:29.000000000,2021-05-07 11:15:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-05 10:21:51.000000000', 'files': ['releasenotes/notes/masakari-instancemonitor-fixes-dc13e5234456d4c5.yaml', 'ansible/roles/masakari/tasks/clone.yml', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/masakari/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37c24be00563284708418b7d82562789b0d81efe', 'message': ""masakari: fix minor issues with instance monitor\n\n* Don't generate masakari.conf for instance monitor\n* Don't generate masakari-monitors.conf for API or engine\n* Use a consistent name for dimensions -\n  masakari_instancemonitor_dimensions\n* Fix source code paths in dev mode\n\nChange-Id: I551f93c9bf1ad6712b53c316074ae1df84e4352b\n(cherry picked from commit 0b0dd35837a22cad8313dd8df6806dc316919a2f)\n""}]",0,789750,37c24be00563284708418b7d82562789b0d81efe,9,3,1,14826,,,0,"masakari: fix minor issues with instance monitor

* Don't generate masakari.conf for instance monitor
* Don't generate masakari-monitors.conf for API or engine
* Use a consistent name for dimensions -
  masakari_instancemonitor_dimensions
* Fix source code paths in dev mode

Change-Id: I551f93c9bf1ad6712b53c316074ae1df84e4352b
(cherry picked from commit 0b0dd35837a22cad8313dd8df6806dc316919a2f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/789750/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/masakari-instancemonitor-fixes-dc13e5234456d4c5.yaml', 'ansible/roles/masakari/tasks/clone.yml', 'ansible/roles/masakari/tasks/config.yml', 'ansible/roles/masakari/defaults/main.yml']",4,37c24be00563284708418b7d82562789b0d81efe,," dimensions: ""{{ masakari_instancemonitor_dimensions }}""# NOTE(mgoddard): Allow masakari_monitors_dimensions for backwards # compatibility. masakari_instancemonitor_dimensions: ""{{ masakari_monitors_dimensions | default(default_container_dimensions) }}"" - ""{{ kolla_dev_repos_directory ~ '/masakari-monitors/masakarimonitors:/var/lib/kolla/venv/lib/python' ~ distro_python_version ~ '/site-packages/masakarimonitors' if masakari_dev_mode | bool else '' }}""masakari_monitors_git_repository: ""{{ kolla_dev_repos_git }}/masakari-monitors"""," dimensions: ""{{ masakari_monitors_dimensions }}""masakari_monitors_dimensions: ""{{ default_container_dimensions }}"" - ""{{ kolla_dev_repos_directory ~ '/masakari/masakari:/var/lib/kolla/venv/lib/python' ~ distro_python_version ~ '/site-packages/masakari' if masakari_dev_mode | bool else '' }}""masakari_monitors_git_repository: ""{{ kolla_dev_repos_git }}/masakarimonitors""",38,19
openstack%2Fkolla-ansible~stable%2Fvictoria~Ia5d53fb60d34c1509c6cdb905cbd0a93dd1c8b3d,openstack/kolla-ansible,stable/victoria,Ia5d53fb60d34c1509c6cdb905cbd0a93dd1c8b3d,Fix cyborg api doesn't listen on api interface,MERGED,2021-05-07 01:29:34.000000000,2021-05-07 11:07:37.000000000,2021-05-07 11:05:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-07 01:29:34.000000000', 'files': ['ansible/roles/cyborg/templates/cyborg.conf.j2', 'releasenotes/notes/fix-cyborg-host-config-dee1d79476b94981.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2357c97939bcb13a0a650840d2fe4624dae69e50', 'message': 'Fix cyborg api doesn\'t listen on api interface\n\nhost -> host_ip[0]\nRemove deprecated configuration notification_topics.\n\nWARNING oslo_config.cfg [-] Deprecated: Option ""notification_topics""\nfrom group ""DEFAULT"" is deprecated. Use option ""topics"" from\ngroup ""oslo_messaging_notifications"".\n\n[0]https://docs.openstack.org/cyborg/latest/configuration/sample-config.html\n\nChange-Id: Ia5d53fb60d34c1509c6cdb905cbd0a93dd1c8b3d\n(cherry picked from commit 76579b80a1586b2c8d29555f47b01f5e58be655b)\n'}]",0,790167,2357c97939bcb13a0a650840d2fe4624dae69e50,9,3,1,26285,,,0,"Fix cyborg api doesn't listen on api interface

host -> host_ip[0]
Remove deprecated configuration notification_topics.

WARNING oslo_config.cfg [-] Deprecated: Option ""notification_topics""
from group ""DEFAULT"" is deprecated. Use option ""topics"" from
group ""oslo_messaging_notifications"".

[0]https://docs.openstack.org/cyborg/latest/configuration/sample-config.html

Change-Id: Ia5d53fb60d34c1509c6cdb905cbd0a93dd1c8b3d
(cherry picked from commit 76579b80a1586b2c8d29555f47b01f5e58be655b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/790167/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cyborg/templates/cyborg.conf.j2', 'releasenotes/notes/fix-cyborg-host-config-dee1d79476b94981.yaml']",2,2357c97939bcb13a0a650840d2fe4624dae69e50,fix-wrong-config-stable/victoria,--- fixes: - | Fix cyborg api doesn't listen on api interface. change host to host_ip in cyborg.conf. See the `cyborg documentation <https://docs.openstack.org/cyborg/latest/configuration/sample-config.html>`__ ,,7,2
openstack%2Fkayobe~stable%2Fvictoria~Iaf0dfb34750ba8b8d74a043587a2035b511de6ad,openstack/kayobe,stable/victoria,Iaf0dfb34750ba8b8d74a043587a2035b511de6ad,Sync the names and content of the repo-files for CentOS8,MERGED,2021-05-06 13:59:58.000000000,2021-05-07 11:07:33.000000000,2021-05-07 11:06:16.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}, {'_account_id': 30568}]","[{'number': 1, 'created': '2021-05-06 13:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b3d19cdefb7f950eacca162c5db667db9f2fd3b7', 'message': 'Sync the names and content of the repo-files for CentOS8\n\nSince 8.3.2011 release of CentOS the repo-files renamed and the content\nis slightly changed. This change sync the templates used in role with\nupstream changes.\n\nChange-Id: Iaf0dfb34750ba8b8d74a043587a2035b511de6ad\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2021-05-06 14:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f9258b093cf20a634687faf019dac88b90a21f07', 'message': 'Sync the names and content of the repo-files for CentOS8\n\nSince 8.3.2011 release of CentOS the repo-files renamed and the content\nis slightly changed. This change sync the templates used in role with\nupstream changes.\n\nChange-Id: Iaf0dfb34750ba8b8d74a043587a2035b511de6ad\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2021-05-06 14:37:01.000000000', 'files': ['ansible/roles/dnf/templates/CentOS-Base.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-BaseOS.repo.j2', 'ansible/roles/dnf/tasks/local-mirror.yml', 'playbooks/kayobe-overcloud-host-configure-base/tests/test_overcloud_host_configure.py', 'ansible/roles/dnf/templates/CentOS-Extras.repo.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/cdcb90809a2429c6e57d80a2f93fc9b6b218590c', 'message': 'Sync the names and content of the repo-files for CentOS8\n\nSince 8.3.2011 release of CentOS the repo-files renamed and the content\nis slightly changed. This change sync the templates used in role with\nupstream changes.\n\nChange-Id: Iaf0dfb34750ba8b8d74a043587a2035b511de6ad\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",1,790071,cdcb90809a2429c6e57d80a2f93fc9b6b218590c,15,7,3,14200,,,0,"Sync the names and content of the repo-files for CentOS8

Since 8.3.2011 release of CentOS the repo-files renamed and the content
is slightly changed. This change sync the templates used in role with
upstream changes.

Change-Id: Iaf0dfb34750ba8b8d74a043587a2035b511de6ad
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/71/790071/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/dnf/templates/CentOS-Base.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-Extras.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-AppStream.repo.j2', 'ansible/roles/dnf/templates/CentOS-Linux-BaseOS.repo.j2', 'ansible/roles/dnf/tasks/local-mirror.yml', 'ansible/roles/dnf/templates/CentOS-Extras.repo.j2']",7,b3d19cdefb7f950eacca162c5db667db9f2fd3b7,dnf-centos-repos,,"# CentOS-Extras.repo # # The mirror system uses the connecting IP address of the client and the # update status of each mirror to pick mirrors that are updated to and # geographically close to the client. You should use this for CentOS updates # unless you are manually picking other mirrors. # # If the mirrorlist= does not work for you, as a fall back you can try the # remarked out baseurl= line instead. # # #additional packages that may be useful [extras] name=CentOS-$releasever - Extras baseurl=http://{{ dnf_centos_mirror_host }}/{{ dnf_centos_mirror_directory }}/$releasever/extras/$basearch/os/ gpgcheck=1 enabled=1 gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-centosofficial fastestmirror=0 ",54,61
openstack%2Frpm-packaging~master~I5f26447b378e2f705fcc4b37a2a7a3a419e02fa5,openstack/rpm-packaging,master,I5f26447b378e2f705fcc4b37a2a7a3a419e02fa5,designate: Add dnspython as build requirement,MERGED,2021-04-28 08:14:31.000000000,2021-05-07 11:06:09.000000000,2021-05-07 11:06:09.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-28 08:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/192d089ddb50991e5ebe859c7877aede303c4a5f', 'message': 'designate: Add dnspython as build requirement\n\nWithout it, it fails to build the documentation.\n\nChange-Id: I5f26447b378e2f705fcc4b37a2a7a3a419e02fa5\n'}, {'number': 2, 'created': '2021-05-07 10:37:14.000000000', 'files': ['openstack/designate/designate.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6c536e8784df7a5c648063309bfe165e3a097e53', 'message': 'designate: Add dnspython as build requirement\n\nWithout it, it fails to build the documentation.\n\nChange-Id: I5f26447b378e2f705fcc4b37a2a7a3a419e02fa5\n'}]",0,788427,6c536e8784df7a5c648063309bfe165e3a097e53,13,7,2,13294,,,0,"designate: Add dnspython as build requirement

Without it, it fails to build the documentation.

Change-Id: I5f26447b378e2f705fcc4b37a2a7a3a419e02fa5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/27/788427/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/designate/designate.spec.j2'],1,192d089ddb50991e5ebe859c7877aede303c4a5f,,BuildRequires: {{ py3('dnspython') }},,1,0
openstack%2Ftacker~master~I18c5adeddeb17dc78264d598274bf15ec3b2d729,openstack/tacker,master,I18c5adeddeb17dc78264d598274bf15ec3b2d729,DevStack job with heat-translator/tosca-parser master,MERGED,2021-04-21 08:17:36.000000000,2021-05-07 10:51:04.000000000,2021-05-07 10:48:56.000000000,"[{'_account_id': 841}, {'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}]","[{'number': 1, 'created': '2021-04-21 08:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7a342cf64cdab0095478c736e09dac82a943797e', 'message': 'DevStack job with heat-translator/tosca-parser master\n\nChange-Id: I18c5adeddeb17dc78264d598274bf15ec3b2d729\n'}, {'number': 2, 'created': '2021-04-21 13:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/348603a4a100422916cbcbfa25ee2b6e4ab0fde1', 'message': 'DevStack job with heat-translator/tosca-parser master\n\nChange-Id: I18c5adeddeb17dc78264d598274bf15ec3b2d729\n'}, {'number': 3, 'created': '2021-04-27 10:57:59.000000000', 'files': ['.zuul.yaml', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/tacker/commit/828a34d486173e098c469d3764d38f699eb094dd', 'message': 'DevStack job with heat-translator/tosca-parser master\n\nChange-Id: I18c5adeddeb17dc78264d598274bf15ec3b2d729\n'}]",3,787322,828a34d486173e098c469d3764d38f699eb094dd,20,6,3,841,,,0,"DevStack job with heat-translator/tosca-parser master

Change-Id: I18c5adeddeb17dc78264d598274bf15ec3b2d729
",git fetch https://review.opendev.org/openstack/tacker refs/changes/22/787322/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'devstack/plugin.sh', 'devstack/settings']",3,7a342cf64cdab0095478c736e09dac82a943797e,libs-from-master,"GITREPO[""heat-translator""]=${HEAT_TRANSLATOR_REPO:-${GIT_BASE}/openstack/heat-translator.git} GITBRANCH[""heat-translator""]=${HEAT_TRANSLATOR_BRANCH:-$TARGET_BRANCH} GITDIR[""heat-translator""]=$DEST/heat-translator GITREPO[""tosca-parser""]=${TOSCA_PARSER_REPO:-${GIT_BASE}/openstack/tosca-parser.git} GITBRANCH[""tosca-parser""]=${TOSCA_PARSER_BRANCH:-$TARGET_BRANCH} GITDIR[""tosca-parser""]=$DEST/tosca-parser ",,28,3
openstack%2Frpm-packaging~master~I4c08133a54f6ee4c964917307c5362ae430bafa4,openstack/rpm-packaging,master,I4c08133a54f6ee4c964917307c5362ae430bafa4,keystonemiddleware: drop mock,MERGED,2021-05-02 17:20:02.000000000,2021-05-07 10:45:58.000000000,2021-05-07 10:45:58.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-02 17:20:02.000000000', 'files': ['openstack/keystonemiddleware/keystonemiddleware.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d65ac8a342958ae85927aa84aef2267b20d91c0f', 'message': 'keystonemiddleware: drop mock\n\nChange-Id: I4c08133a54f6ee4c964917307c5362ae430bafa4\n'}]",0,789101,d65ac8a342958ae85927aa84aef2267b20d91c0f,10,6,1,6593,,,0,"keystonemiddleware: drop mock

Change-Id: I4c08133a54f6ee4c964917307c5362ae430bafa4
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/01/789101/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/keystonemiddleware/keystonemiddleware.spec.j2'],1,d65ac8a342958ae85927aa84aef2267b20d91c0f,,,BuildRequires: {{ py3('mock') }},0,1
openstack%2Frpm-packaging~stable%2Fwallaby~I9a882d85e488f9ec971b33335e60c112fc2e4c6c,openstack/rpm-packaging,stable/wallaby,I9a882d85e488f9ec971b33335e60c112fc2e4c6c,Switch to stable/wallaby tarballs (1/2),MERGED,2021-04-29 12:38:42.000000000,2021-05-07 10:45:54.000000000,2021-05-07 10:45:54.000000000,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 27380}]","[{'number': 1, 'created': '2021-04-29 12:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5c4ef7e7e2a5b46bd69c56e3c70b07771cebafae', 'message': ""Switch to stable/wallaby tarballs (1/2)\n\nFor those projects with stable/wallaby branches, let's switch to\nusing them as soon as possible.\n\nSeveral changes are included to be able to build packages with\nthe stable/wallaby tarballs:\n\n- designate: cherry-pick https://review.opendev.org/c/openstack/rpm-packaging/+/788427\n- magnum: cherry-pick https://review.opendev.org/c/openstack/rpm-packaging/+/788422\n\nChange-Id: I9a882d85e488f9ec971b33335e60c112fc2e4c6c\n""}, {'number': 2, 'created': '2021-05-06 08:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/97c569a8e5a5e21e0770ec3e1290e40585904be9', 'message': ""Switch to stable/wallaby tarballs (1/2)\n\nFor those projects with stable/wallaby branches, let's switch to\nusing them as soon as possible.\n\nSeveral changes are included to be able to build packages with\nthe stable/wallaby tarballs:\n\n- designate: cherry-pick https://review.opendev.org/c/openstack/rpm-packaging/+/788427\n- magnum: cherry-pick https://review.opendev.org/c/openstack/rpm-packaging/+/788422\n\nChange-Id: I9a882d85e488f9ec971b33335e60c112fc2e4c6c\n""}, {'number': 3, 'created': '2021-05-06 11:15:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6942ffafc79fc53f5937b95495f1b37e5e0fb484', 'message': ""Switch to stable/wallaby tarballs (1/2)\n\nFor those projects with stable/wallaby branches, let's switch to\nusing them as soon as possible.\n\nSeveral changes are included to be able to build packages with\nthe stable/wallaby tarballs:\n\n- designate: cherry-pick https://review.opendev.org/c/openstack/rpm-packaging/+/788427\n- magnum: cherry-pick https://review.opendev.org/c/openstack/rpm-packaging/+/788422\n\nChange-Id: I9a882d85e488f9ec971b33335e60c112fc2e4c6c\n""}, {'number': 4, 'created': '2021-05-07 09:51:26.000000000', 'files': ['openstack/freezer-api/freezer-api.spec.j2', 'openstack/designate/designate.spec.j2', 'openstack/heat-dashboard/heat-dashboard.spec.j2', 'openstack/cyborg/cyborg.spec.j2', 'openstack/barbican/barbican.spec.j2', 'openstack/heat/heat.spec.j2', 'openstack/magnum-ui/magnum-ui.spec.j2', 'openstack/cinder/cinder.spec.j2', 'openstack/ironic-python-agent/ironic-python-agent.spec.j2', 'openstack/magnum/magnum.spec.j2', 'openstack/freezer-web-ui/freezer-web-ui.spec.j2', 'openstack/keystone/keystone.spec.j2', 'openstack/ec2-api/ec2-api.spec.j2', 'openstack/ironic-inspector/ironic-inspector.spec.j2', 'openstack/ironic/ironic.spec.j2', 'openstack/glance/glance.spec.j2', 'openstack/horizon/horizon.spec.j2', 'openstack/freezer/freezer.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d36a83193ddd158ab7abb57eeb5291c0baa02b69', 'message': ""Switch to stable/wallaby tarballs (1/2)\n\nFor those projects with stable/wallaby branches, let's switch to\nusing them as soon as possible.\n\nSeveral changes are included to be able to build packages with\nthe stable/wallaby tarballs:\n\n- designate: cherry-pick https://review.opendev.org/c/openstack/rpm-packaging/+/788427\n- magnum: cherry-pick https://review.opendev.org/c/openstack/rpm-packaging/+/788422\n\nChange-Id: I9a882d85e488f9ec971b33335e60c112fc2e4c6c\n""}]",0,788731,d36a83193ddd158ab7abb57eeb5291c0baa02b69,22,5,4,13294,,,0,"Switch to stable/wallaby tarballs (1/2)

For those projects with stable/wallaby branches, let's switch to
using them as soon as possible.

Several changes are included to be able to build packages with
the stable/wallaby tarballs:

- designate: cherry-pick https://review.opendev.org/c/openstack/rpm-packaging/+/788427
- magnum: cherry-pick https://review.opendev.org/c/openstack/rpm-packaging/+/788422

Change-Id: I9a882d85e488f9ec971b33335e60c112fc2e4c6c
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/31/788731/4 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/freezer-api/freezer-api.spec.j2', 'openstack/designate/designate.spec.j2', 'openstack/heat-dashboard/heat-dashboard.spec.j2', 'openstack/cyborg/cyborg.spec.j2', 'openstack/barbican/barbican.spec.j2', 'openstack/heat/heat.spec.j2', 'openstack/magnum-ui/magnum-ui.spec.j2', 'openstack/cinder/cinder.spec.j2', 'openstack/ironic-python-agent/ironic-python-agent.spec.j2', 'openstack/magnum/magnum.spec.j2', 'openstack/freezer-web-ui/freezer-web-ui.spec.j2', 'openstack/keystone/keystone.spec.j2', 'openstack/ec2-api/ec2-api.spec.j2', 'openstack/ironic-inspector/ironic-inspector.spec.j2', 'openstack/ironic/ironic.spec.j2', 'openstack/glance/glance.spec.j2', 'openstack/horizon/horizon.spec.j2', 'openstack/freezer/freezer.spec.j2']",18,5c4ef7e7e2a5b46bd69c56e3c70b07771cebafae,,{% set source = fetch_source('https://tarballs.openstack.org/freezer/freezer-stable-wallaby.tar.gz') %},{% set source = fetch_source('https://tarballs.openstack.org/freezer/freezer-master.tar.gz') %},20,18
openstack%2Frpm-packaging~master~I8be984f6f141009d70cca0034d56c0d0d64c9fa1,openstack/rpm-packaging,master,I8be984f6f141009d70cca0034d56c0d0d64c9fa1,magnum: set EDITOR to /bin/true,MERGED,2021-04-28 07:57:59.000000000,2021-05-07 10:45:50.000000000,2021-05-07 10:45:50.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27380}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-28 07:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2d80e7fe2c42d6f0f4dfc5caabe09407abafa7b8', 'message': 'magnum: add vim as a build requirement\n\nOne of the unit tests for magnum is trying to find the vim executable.\n\nChange-Id: I8be984f6f141009d70cca0034d56c0d0d64c9fa1\n'}, {'number': 2, 'created': '2021-05-06 07:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e5a9d722be2326df4f678d5fc781a5cc4a5a7e08', 'message': 'magnum: add vim as a build requirement\n\nOne of the unit tests for magnum is trying to find the vim executable.\n\nChange-Id: I8be984f6f141009d70cca0034d56c0d0d64c9fa1\n'}, {'number': 3, 'created': '2021-05-07 09:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/16c7b89971e85ea39236f06f1622bcab62fe973e', 'message': 'magnum: add vim as a build requirement\n\nOne of the unit tests for magnum is trying to find the vim executable.\n\nNOTE(dmllr) reenable SUSE testing\n\nChange-Id: I8be984f6f141009d70cca0034d56c0d0d64c9fa1\n'}, {'number': 4, 'created': '2021-05-07 09:21:11.000000000', 'files': ['openstack/magnum/magnum.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/8ad2aee60eb5e4c8e6b73c26fcf350b8d01ecd37', 'message': 'magnum: set EDITOR to /bin/true\n\ncmd2 is trying to lookup vim using which unless there is a $EDITOR\npointing to a valid location already.\n\nNOTE(dmllr) reenable SUSE testing\n\nChange-Id: I8be984f6f141009d70cca0034d56c0d0d64c9fa1\n'}]",0,788422,8ad2aee60eb5e4c8e6b73c26fcf350b8d01ecd37,28,7,4,13294,,,0,"magnum: set EDITOR to /bin/true

cmd2 is trying to lookup vim using which unless there is a $EDITOR
pointing to a valid location already.

NOTE(dmllr) reenable SUSE testing

Change-Id: I8be984f6f141009d70cca0034d56c0d0d64c9fa1
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/22/788422/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/magnum/magnum.spec.j2'],1,2d80e7fe2c42d6f0f4dfc5caabe09407abafa7b8,,BuildRequires: vim,,1,0
openstack%2Ftripleo-ci~master~Id7c7192bec43052af50e37196ff5761c6baa4ffe,openstack/tripleo-ci,master,Id7c7192bec43052af50e37196ff5761c6baa4ffe,Adds tripleo-get-hash module get tripleo-ci hash info from tag,MERGED,2021-04-01 12:56:00.000000000,2021-05-07 10:40:28.000000000,2021-04-29 22:08:24.000000000,"[{'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30750}, {'_account_id': 31075}]","[{'number': 1, 'created': '2021-04-01 12:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/39c92f99d4f775bb65bc73c777949e69d7aa1eff', 'message': 'WIP tripleo-get-hash.py\n\nPosting early sketch for discussion in tripleo-ci scrum\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 2, 'created': '2021-04-02 12:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/26aad3d986a35216b915d179e42479a7ca8da2d1', 'message': 'WIP tripleo-get-hash.py\n\nPosting early sketch for discussion in tripleo-ci scrum\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 3, 'created': '2021-04-02 13:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e36b87d70e200df2134324e1766d6563f4556357', 'message': 'WIP tripleo-get-hash.py\n\nPosting early sketch for discussion in tripleo-ci scrum\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 4, 'created': '2021-04-02 13:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3c45b491e5862d300c22eb2bd8bfa7a3938449db', 'message': 'WIP tripleo-get-hash.py\n\nPosting early sketch for discussion in tripleo-ci scrum\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 5, 'created': '2021-04-05 15:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/46cb81c73808e93f72bb80625e02aa7b613dff0e', 'message': 'WIP tripleo-get-hash.py get tripleo-ci hash info from tag\n\nIdea is to replace the current ansible role and back scripts\nthat fetch the hash for us in CI jobs.\nThis small utility will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 6, 'created': '2021-04-06 15:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/de95bb10bf74fa917e9006e8db7a8ca07bb5b0ad', 'message': 'WIP tripleo-get-hash.py get tripleo-ci hash info from tag\n\nIdea is to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis small utility will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 7, 'created': '2021-04-07 11:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23a3c5bdc2722e29e9f5afa9b26d85545ef36da6', 'message': 'WIP tripleo-get-hash.py get tripleo-ci hash info from tag\n\nIdea is to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis small utility will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 8, 'created': '2021-04-08 13:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/62061e18dacd0aa991e742f7923f607f7c2ae5ee', 'message': 'WIP tripleo-get-hash.py get tripleo-ci hash info from tag\n\nIdea is to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis small utility will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 9, 'created': '2021-04-09 12:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4a229f1c79c5576d22292ceb46d72adbbc89eb19', 'message': 'WIP tripleo-get-hash.py get tripleo-ci hash info from tag\n\nIdea is to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis small utility will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 10, 'created': '2021-04-09 12:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/446b5312cd59f8a733e5ddd352e2dabd62998f0f', 'message': 'WIP tripleo-get-hash module get tripleo-ci hash info from tag\n\nIdea is to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis small utility will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 11, 'created': '2021-04-12 15:55:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fc8d76ae4ab62b72b616e1de9891e18e1d577685', 'message': 'WIP tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis small utility will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 12, 'created': '2021-04-13 12:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b04cc9e40c5ba9b2b4940b2ff172caead03f0cf1', 'message': 'WIP tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis small utility will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 13, 'created': '2021-04-14 11:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/459805770499d10b14cd24b6f3d41df114abed33', 'message': 'WIP tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis small utility will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 14, 'created': '2021-04-15 09:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/973c4bc6019575f400f5d048f3bbce980f034e9e', 'message': 'WIP tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 15, 'created': '2021-04-15 11:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7aa39ddbacf88f92d6f5fa8b61da492c93a33be5', 'message': 'WIP tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 16, 'created': '2021-04-16 12:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ae681eafbb7f7f92f93d59a44555bd0764d98bff', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 17, 'created': '2021-04-20 10:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/11b6902211855806a294efb571c7132701a2e52b', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 18, 'created': '2021-04-21 11:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a8e05ae54ee6bbf1bdc1a3abb6702109d3594b42', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 19, 'created': '2021-04-22 11:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bbd0f9f08fee78dd751c61d0006deca358cd3dc5', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 20, 'created': '2021-04-26 10:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/15f01182ac3debb877466860118c3242defe4c8c', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 21, 'created': '2021-04-27 11:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3b99ae829eb81c22e87c43c1d4c911ff6f580e01', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}, {'number': 22, 'created': '2021-04-29 09:35:16.000000000', 'files': ['tripleo-get-hash/tripleo_get_hash/exceptions.py', 'tripleo-get-hash/requirements.txt', 'tripleo-get-hash/tripleo_get_hash/constants.py', 'tripleo-get-hash/setup.py', 'tripleo-get-hash/tripleo_get_hash/__init__.py', 'tripleo-get-hash/tripleo_get_hash/__main__.py', 'tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py', 'tripleo-get-hash/config.yaml', 'tripleo-get-hash/setup.cfg', 'tripleo-get-hash/test/test_tripleo_get_hash_info.py', 'tripleo-get-hash/LICENSE', 'tripleo-get-hash/README.md', 'tripleo-get-hash/test/fakes.py', 'tripleo-get-hash/test-requirements.txt', 'zuul.d/layout.yaml', 'tripleo-get-hash/test/__init__.py', 'tox.ini', 'tripleo-get-hash/test/test_tripleo_get_hash.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4cf80d855a1fc51f2a080750c098cfd54cc8cf4c', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\nChange-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe\n'}]",148,784392,4cf80d855a1fc51f2a080750c098cfd54cc8cf4c,139,17,22,8449,,,0,"Adds tripleo-get-hash module get tripleo-ci hash info from tag

We want to replace the current ansible role and bash scripts
that fetch the hash for us in tripleo CI jobs.
This tripleo-get-hash module will be packaged to pypi, then used in
an ansible python module to replace the current ansible invocations
of get-hash.

Change-Id: Id7c7192bec43052af50e37196ff5761c6baa4ffe
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/92/784392/19 && git format-patch -1 --stdout FETCH_HEAD,['get_hash/tripleo-get-hash.py'],1,39c92f99d4f775bb65bc73c777949e69d7aa1eff,Id7c7192bec43052af50e37196ff5761c6baa4ffe,"# https://projects.engineering.redhat.com/browse/TRIPLEOCI-411 # tripleo-get-hash.py 'one get-hash to rule them all' import argparse import logging import urllib.request logging.basicConfig(level=logging.DEBUG) log = logging.getLogger('tripleo-get-hash.py') log.setLevel(logging.DEBUG) BASE_DLRN_URL='https://trunk.rdoproject.org/' #https://trunk.rdoproject.org/centos8/current-tripleo/delorean.repo.md5 def get_hash(centos, component, release, tag): if centos == '7': repo_url = ""%s/centos7-%s/%s/commit.yaml"" % ( BASE_DLRN_URL, release, tag) elif component != None: repo_url = ""%s/centos8-%s/component/%s/%s/commit.yaml"" % ( BASE_DLRN_URL, release, component, tag) else: repo_url=""%s/centos8-%s/%s/delorean.repo.md5"" % ( BASE_DLRN_URL, release, tag) with urllib.request.urlopen(repo_url) as response: hash_result = response.read() return hash_result def main(): parser = argparse.ArgumentParser(description='tripleo-get-hash.py') parser.add_argument('--centos', default='8', choices=['7', '8'], help=( 'The centos version to use defaults to 8')) parser.add_argument('--component') parser.add_argument('--tag', default='current-tripleo', choices=['current-tripleo', 'tripleo-ci-testing', 'current', 'consistent', 'component-ci-testing'], help=('The known tag to retrieve the hash_info for')) parser.add_argument('--release', required=True, help=('The release of ' 'OpenStack you want the hash info for'), choices=['master', 'train', 'ussuri', 'victoria', 'wallaby']) parser.add_argument('--hash-file-location', default='~/hash_info.sh') args = parser.parse_args() repo_hash = get_hash(args.centos, args.component, args.release, args.tag) print(""wow %s"" % repo_hash) if __name__ == ""__main__"": main() ",,48,0
openstack%2Fcharm-neutron-gateway~master~I26d558bc7f1847459a1d510c887a3128637a10ce,openstack/charm-neutron-gateway,master,I26d558bc7f1847459a1d510c887a3128637a10ce,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 14:06:45.000000000,2021-05-07 10:34:11.000000000,2021-05-07 08:31:00.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 14:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/cb735b469d129a4e38fddee9e960ff9db1fa1b0a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I26d558bc7f1847459a1d510c887a3128637a10ce\n'}, {'number': 2, 'created': '2021-03-30 17:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/5c2b9bf12211163c101dcf5ae5e613eab8dc89cd', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I26d558bc7f1847459a1d510c887a3128637a10ce\n'}, {'number': 3, 'created': '2021-04-07 12:01:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/f94fa1840b160b2d8a66c3338b71186c94038441', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I26d558bc7f1847459a1d510c887a3128637a10ce\n'}, {'number': 4, 'created': '2021-04-12 12:31:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/19fbaf9f717e3225871c74d8f1a1041cf639eb36', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I26d558bc7f1847459a1d510c887a3128637a10ce\n'}, {'number': 5, 'created': '2021-04-16 09:53:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/5d54403cba5f91c959b334990eaee835893b1845', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I26d558bc7f1847459a1d510c887a3128637a10ce\n'}, {'number': 6, 'created': '2021-05-06 10:26:31.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/3394e7178095770546c1c70d84fe4830a17db042', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I26d558bc7f1847459a1d510c887a3128637a10ce\n'}]",0,778927,3394e7178095770546c1c70d84fe4830a17db042,37,4,6,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Libraries sync.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I26d558bc7f1847459a1d510c887a3128637a10ce
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/27/778927/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",4,cb735b469d129a4e38fddee9e960ff9db1fa1b0a,wallaby-bundles,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: &series focal machines: 0: constraints: ""mem=3072M"" 1: constraints: ""mem=3072M"" 2: constraints: ""mem=3072M"" 3: {} 4: {} 5: {} 6: {} 7: {} 8: {} 9: constraints: ""root-disk=20G mem=4G"" 10: constraints: ""root-disk=20G mem=4G"" 11: {} 12: {} 13: {} # We specify machine placements for these to improve iteration # time, given that machine ""0"" comes up way before machine ""7"" applications: neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: options: source: *openstack-origin to: - '3' neutron-api: charm: cs:~openstack-charmers-next/neutron-api series: *series num_units: 1 options: manage-neutron-plugin-legacy-mode: true flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin to: - '4' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '5' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '6' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch neutron-gateway: charm: ""../../../neutron-gateway"" num_units: 1 options: bridge-mappings: physnet1:br-ex openstack-origin: *openstack-origin to: - '7' ovn-dedicated-chassis: charm: cs:~openstack-charmers-next/ovn-dedicated-chassis num_units: 1 options: # start new units paused to allow unit by unit OVS to OVN migration new-units-paused: true to: # NOTE: We deliberately colocate the ovn-dedicated-chassis with the # neutron-gateway for migration test purposes. - '7' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: *openstack-origin to: - '8' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 2 options: openstack-origin: *openstack-origin to: - '9' - '10' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '11' vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router vault: charm: cs:~openstack-charmers-next/vault num_units: 1 to: - '12' ovn-central: charm: cs:~openstack-charmers-next/ovn-central num_units: 3 options: source: *openstack-origin to: - '13' neutron-api-plugin-ovn: charm: cs:~openstack-charmers-next/neutron-api-plugin-ovn ovn-chassis: charm: cs:~openstack-charmers-next/ovn-chassis options: # start new units paused to allow unit by unit OVS to OVN migration new-units-paused: true relations: - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:neutron-plugin-api' - 'neutron-gateway:neutron-plugin-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'neutron-openvswitch:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' # We need to defer the addition of the neutron-api-plugin-ovn subordinate # relation to the functional test as the test will first validate the legacy # Neutron ML2+OVS topology, migrate it to OVN and then confirm connectivity # post migration. # # - - neutron-api-plugin-ovn:neutron-plugin # - neutron-api:neutron-plugin-api-subordinate - - ovn-central:certificates - vault:certificates - - ovn-central:ovsdb-cms - neutron-api-plugin-ovn:ovsdb-cms - - ovn-chassis:nova-compute - nova-compute:neutron-plugin - - ovn-chassis:certificates - vault:certificates - - ovn-chassis:ovsdb - ovn-central:ovsdb - - ovn-dedicated-chassis:certificates - vault:certificates - - ovn-dedicated-chassis:ovsdb - ovn-central:ovsdb - - vault:certificates - neutron-api-plugin-ovn:certificates - - vault:shared-db - vault-mysql-router:shared-db - - vault-mysql-router:db-router - mysql-innodb-cluster:db-router ",,542,2
openstack%2Fkolla-ansible~master~I4fc2cb451589dfec82c343868667020f8dcee901,openstack/kolla-ansible,master,I4fc2cb451589dfec82c343868667020f8dcee901,ovn: omit unnecessary bridge mappings,MERGED,2021-05-06 09:38:37.000000000,2021-05-07 10:27:47.000000000,2021-05-07 10:26:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-06 09:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/acd1e1bd1d30880858f03b1839e151ba38064481', 'message': 'ovn: omit unnecessary bridge mappings\n\nChange-Id: I4fc2cb451589dfec82c343868667020f8dcee901\n'}, {'number': 2, 'created': '2021-05-06 09:44:59.000000000', 'files': ['ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/999b5cfb2b0a9e45a6fc3ee53df2a10fa1599c31', 'message': 'ovn: omit unnecessary bridge mappings\n\nCo-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>\n\nChange-Id: I4fc2cb451589dfec82c343868667020f8dcee901\n'}]",0,790024,999b5cfb2b0a9e45a6fc3ee53df2a10fa1599c31,10,3,2,22629,,,0,"ovn: omit unnecessary bridge mappings

Co-Authored-By: Bartosz Bezak <bartosz@stackhpc.com>

Change-Id: I4fc2cb451589dfec82c343868667020f8dcee901
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/790024/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ovn/tasks/bootstrap.yml'],1,acd1e1bd1d30880858f03b1839e151ba38064481,," value: ""{{ item.value if item.state | default('present') == 'present' else omit }}"" - { name: ovn-bridge-mappings, value: ""{{ ovn_mappings }}"", state: ""{{ 'present' if (inventory_hostname in groups['ovn-controller-network'] or computes_need_external_bridge | bool) else 'absent' }}"" }"," value: ""{{ item.value }}"" - { name: ovn-bridge-mappings, value: ""{{ ovn_mappings if ovn_mappings != '' else omit }}"", state: ""{{ 'present' if (inventory_hostname in groups['ovn-controller-network'] or computes_need_external_bridge | bool) else 'absent' }}"" }",2,2
openstack%2Fkolla~stable%2Ftrain~I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,openstack/kolla,stable/train,I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,rabbitmq: Move to packagecloud,MERGED,2021-04-26 17:08:02.000000000,2021-05-07 10:10:11.000000000,2021-05-07 10:08:48.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-26 17:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4cda22a89442c4d0da6c224fb40ae15208885c54', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}, {'number': 2, 'created': '2021-04-26 17:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1858ff0e600f434a1e796258505317987414df97', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}, {'number': 3, 'created': '2021-04-27 07:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b20694c3580135a09700eaaa722bfe37f51fdd38', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nFor Train, fixes also the order of rpm gpg key imports and\nyum operations (otherwise CentOS 8 [with dnf] fails because repos\nare enabled early and keys are missing).\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}, {'number': 4, 'created': '2021-05-06 10:17:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/448ef34e3f8637c8ae18dc70de220a271f343ab2', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nFor Train, fixes also the order of rpm gpg key imports and\nyum operations (otherwise CentOS 8 [with dnf] fails because repos\nare enabled early and keys are missing).\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}, {'number': 5, 'created': '2021-05-06 10:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/726927adf2e231264e2b6b2048edfab77f71fc41', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nFor Train, fixes also the order of rpm gpg key imports and\nyum operations (otherwise CentOS 8 [with dnf] fails because repos\nare enabled early and keys are missing).\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}, {'number': 6, 'created': '2021-05-06 10:55:44.000000000', 'files': ['releasenotes/notes/rabbitmq-packagecloud-c009ff6d0d2bd02d.yaml', 'docker/rabbitmq-3.7.24/Dockerfile.j2', 'docker/base/Dockerfile.j2', 'docker/rabbitmq-3.7.24/rabbitmq_rabbitmq-server.repo', 'docker/rabbitmq-3.7.24/rabbitmq_rabbitmq-erlang.repo', 'docker/rabbitmq/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9b0e2ae402345a606a90878a643ee5560615c1a', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nFor Train, fixes also the order of rpm gpg key imports and\nyum operations (otherwise CentOS 8 [with dnf] fails because repos\nare enabled early and keys are missing).\nAnd it also pins erlang version where required.\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}]",0,787985,c9b0e2ae402345a606a90878a643ee5560615c1a,33,4,6,30491,,,0,"rabbitmq: Move to packagecloud

bintray is being shut down 1st of May 2021, rabbitmq docs direct
users to packagecloud - so let's move.

For Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340
(base: drop Linaro OBS key for CentOS and Ubuntu)

For Train, fixes also the order of rpm gpg key imports and
yum operations (otherwise CentOS 8 [with dnf] fails because repos
are enabled early and keys are missing).
And it also pins erlang version where required.

Change-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f
(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/85/787985/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq-packagecloud-c009ff6d0d2bd02d.yaml', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/sources.list.debian', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo', 'docker/base/sources.list.ubuntu']",7,4cda22a89442c4d0da6c224fb40ae15208885c54,,<<<<<<< HEAD (56a570 base: configure curl before first use)======= #deb https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/ bionic main # erlang repo #deb http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu bionic main >>>>>>> CHANGE (c366a5 rabbitmq: Move to packagecloud),,143,1
openstack%2Freleases~master~Ia9e4cab5a22aa9e9d0e13c4a1f9313c3fcb1ec66,openstack/releases,master,Ia9e4cab5a22aa9e9d0e13c4a1f9313c3fcb1ec66,setup.cfg: Replace dashes with underscores,MERGED,2021-05-04 09:28:10.000000000,2021-05-07 09:55:42.000000000,2021-05-07 09:55:42.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-04 09:28:10.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/releases/commit/a817310dc855dca9c5c0ae77b8ac73953d8ddf8a', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ia9e4cab5a22aa9e9d0e13c4a1f9313c3fcb1ec66\n""}]",3,789539,a817310dc855dca9c5c0ae77b8ac73953d8ddf8a,9,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ia9e4cab5a22aa9e9d0e13c4a1f9313c3fcb1ec66
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/789539/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a817310dc855dca9c5c0ae77b8ac73953d8ddf8a,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://www.openstack.org/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://www.openstack.org/,3,3
openstack%2Freleases~master~Ia6e400e19674ae6476440128a4fbfc05847fbc31,openstack/releases,master,Ia6e400e19674ae6476440128a4fbfc05847fbc31,add release liaison for cyborg,MERGED,2021-05-06 03:02:38.000000000,2021-05-07 09:55:23.000000000,2021-05-07 09:55:23.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-06 03:02:38.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1e3a067c422ad01f726615279f4c0256d4b38e0b', 'message': 'add release liaison for cyborg\n\nChange-Id: Ia6e400e19674ae6476440128a4fbfc05847fbc31\n'}]",0,789992,1e3a067c422ad01f726615279f4c0256d4b38e0b,7,3,1,25738,,,0,"add release liaison for cyborg

Change-Id: Ia6e400e19674ae6476440128a4fbfc05847fbc31
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/789992/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,1e3a067c422ad01f726615279f4c0256d4b38e0b,, - name: 'Xinran Wang' irc: xinranwang email: xin-ran.wang@intel.com,,3,0
openstack%2Fcharm-cinder-ceph~master~Ib3056ce7f712514b035d9af95a6a6ac7f834531c,openstack/charm-cinder-ceph,master,Ib3056ce7f712514b035d9af95a6a6ac7f834531c,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 10:41:08.000000000,2021-05-07 09:54:37.000000000,2021-05-07 09:54:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 10:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/0e6dfcddc84b66f112fa6ce513bdf17c71c89889', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Ib3056ce7f712514b035d9af95a6a6ac7f834531c\n'}, {'number': 2, 'created': '2021-03-30 11:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/ba52daa314113412b1f5089d332c3cf5eb31fa83', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nChange-Id: Ib3056ce7f712514b035d9af95a6a6ac7f834531c\n'}, {'number': 3, 'created': '2021-04-07 12:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/c57781b2dbf3c199fcbdad1dd4c09886d35ab9ee', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nChange-Id: Ib3056ce7f712514b035d9af95a6a6ac7f834531c\n'}, {'number': 4, 'created': '2021-04-16 09:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/673514b421bf0d650c85eb060f5acead163142e3', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Ib3056ce7f712514b035d9af95a6a6ac7f834531c\n'}, {'number': 5, 'created': '2021-05-06 10:24:50.000000000', 'files': ['tests/bundles/focal-wallaby-ec.yaml', 'tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/hirsute-wallaby-ec.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/1326664ee18ff0379e93dcac5c7f06be74cbcd39', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Ib3056ce7f712514b035d9af95a6a6ac7f834531c\n'}]",0,778636,1326664ee18ff0379e93dcac5c7f06be74cbcd39,34,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Sync libraries.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Ib3056ce7f712514b035d9af95a6a6ac7f834531c
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/36/778636/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-wallaby-ec.yaml', 'tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml', 'tests/bundles/hirsute-wallaby-ec.yaml']",5,0e6dfcddc84b66f112fa6ce513bdf17c71c89889,wallaby-bundles,variables: openstack-origin: &openstack-origin distro series: &series hirsute machines: 0: 1: 2: 3: 4: 5: 6: 7: 8: 9: 10: 11: 12: 13: 14: 15: 16: # for the nova-compute unit 17: constraints: mem=4G cores=4 root-disk=20G 18: 19: 20: applications: nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 6 storage: osd-devices: '10G' options: osd-devices: '/dev/test-non-existent' source: *openstack-origin to: - '3' - '4' - '5' - '18' - '19' - '20' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: monitor-count: '3' source: *openstack-origin to: - '6' - '7' - '8' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 to: - '9' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron debug: true to: - '10' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 constraints: mem=1G options: openstack-origin: *openstack-origin to: - '11' neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true neutron-plugin: ovs openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true to: - '12' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '13' neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex to: - '14' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '15' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: *openstack-origin block-device: None glance-api-version: 2 to: - '16' cinder-ceph: charm: ../../../cinder-ceph options: pool-type: erasure-coded ec-profile-k: 4 ec-profile-m: 2 nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 storage: ephemeral-device: '40G' options: openstack-origin: *openstack-origin config-flags: auto_assign_floating_ip=False enable-live-migration: false aa-profile-mode: enforce debug: true to: - '17' relations: - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'glance:ceph' - 'ceph-mon:client' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:image-service' - 'glance:image-service' - - 'cinder-ceph:storage-backend' - 'cinder:storage-backend' - - 'nova-compute:ceph-access' - 'cinder-ceph:ceph-access' - - 'ceph-mon:client' - 'cinder-ceph:ceph' - - 'ceph-mon:osd' - 'ceph-osd:mon' ,,1122,2
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I9d9dea09a36914cffaef1d251c49f3c4fea4fa68,openstack/python-tripleoclient,stable/wallaby,I9d9dea09a36914cffaef1d251c49f3c4fea4fa68,Remove leftover for undercloud keepalived service,MERGED,2021-04-30 12:40:51.000000000,2021-05-07 09:49:26.000000000,2021-05-07 09:46:49.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 10969}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-04-30 12:40:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ccc34588f690f6398a52a7cfbb4d0db58c5ce1d3', 'message': ""Remove leftover for undercloud keepalived service\n\nCurrently environments/services/undercloud-keepalived.yaml is included\nwhen undercloud SSL is enabled but this file is no longer effective\nsince the Keepalived service was removed from undercloud role data[1].\n\n[1] c712355e4bae4ef2fc1b83e5603c0364dbd50a78\n\nBecause VIPs are managed by os-net-config now and we don't expect any\nsituation where users requires keepalived running in undercloud,\nthis change simply removes all remaining implementation for undercloud\nkeepalived service.\n\nCloses-Bug: #1926314\nChange-Id: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68\n(cherry picked from commit b02acaa6e17e8c3d1ab29ab30fa21e8b65ba8b43)\n""}, {'number': 2, 'created': '2021-05-06 16:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b6087f6c752bcecbb242d9b79bddb2d26b3838ae', 'message': ""Remove leftover for undercloud keepalived service\n\nCurrently environments/services/undercloud-keepalived.yaml is included\nwhen undercloud SSL is enabled but this file is no longer effective\nsince the Keepalived service was removed from undercloud role data[1].\n\n[1] c712355e4bae4ef2fc1b83e5603c0364dbd50a78\n\nBecause VIPs are managed by os-net-config now and we don't expect any\nsituation where users requires keepalived running in undercloud,\nthis change simply removes all remaining implementation for undercloud\nkeepalived service.\n\nCloses-Bug: #1926314\nChange-Id: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68\n""}, {'number': 3, 'created': '2021-05-06 20:54:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0580002848103f39a1d599c31e857922058c1ad3', 'message': ""Remove leftover for undercloud keepalived service\n\nCurrently environments/services/undercloud-keepalived.yaml is included\nwhen undercloud SSL is enabled but this file is no longer effective\nsince the Keepalived service was removed from undercloud role data[1].\n\n[1] c712355e4bae4ef2fc1b83e5603c0364dbd50a78\n\nBecause VIPs are managed by os-net-config now and we don't expect any\nsituation where users requires keepalived running in undercloud,\nthis change simply removes all remaining implementation for undercloud\nkeepalived service.\n\nCloses-Bug: #1926314\nChange-Id: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68\n""}, {'number': 4, 'created': '2021-05-07 01:17:34.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a447a5fbbdeb343e1815793bfbab1216e51903d3', 'message': ""Remove leftover for undercloud keepalived service\n\nCurrently environments/services/undercloud-keepalived.yaml is included\nwhen undercloud SSL is enabled but this file is no longer effective\nsince the Keepalived service was removed from undercloud role data[1].\n\n[1] c712355e4bae4ef2fc1b83e5603c0364dbd50a78\n\nBecause VIPs are managed by os-net-config now and we don't expect any\nsituation where users requires keepalived running in undercloud,\nthis change simply removes all remaining implementation for undercloud\nkeepalived service.\n\nCloses-Bug: #1926314\nChange-Id: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68\n(cherry picked from commit b02acaa6e17e8c3d1ab29ab30fa21e8b65ba8b43)\n""}]",0,788922,a447a5fbbdeb343e1815793bfbab1216e51903d3,35,9,4,8833,,,0,"Remove leftover for undercloud keepalived service

Currently environments/services/undercloud-keepalived.yaml is included
when undercloud SSL is enabled but this file is no longer effective
since the Keepalived service was removed from undercloud role data[1].

[1] c712355e4bae4ef2fc1b83e5603c0364dbd50a78

Because VIPs are managed by os-net-config now and we don't expect any
situation where users requires keepalived running in undercloud,
this change simply removes all remaining implementation for undercloud
keepalived service.

Closes-Bug: #1926314
Change-Id: I9d9dea09a36914cffaef1d251c49f3c4fea4fa68
(cherry picked from commit b02acaa6e17e8c3d1ab29ab30fa21e8b65ba8b43)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/22/788922/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py']",2,ccc34588f690f6398a52a7cfbb4d0db58c5ce1d3,bug/1926314-stable/wallaby," 'services/undercloud-haproxy.yaml', '/usertht/environments/services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml', 'services/undercloud-haproxy.yaml',"," 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', '/usertht/environments/services/undercloud-haproxy.yaml', '-e', '/usertht/environments/services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml', 'services/undercloud-haproxy.yaml', '-e', '/usr/share/openstack-tripleo-heat-templates/environments/' 'services/undercloud-keepalived.yaml',",13,58
openstack%2Fpython-tripleoclient~master~I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4,openstack/python-tripleoclient,master,I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4,Allow user environments override generated ones,MERGED,2021-05-05 16:03:10.000000000,2021-05-07 09:48:23.000000000,2021-05-07 09:46:34.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 16:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e30ea7f08693698b356aaaefcdf6f1f41e468ae2', 'message': 'Allow user environments override generated ones\n\nWe generate some parameters using the user environments like\nthe one for image parameters. However, user environments may\nhave parameters to override some of those. Make sure the ones\nin user environments takes precedence by adding the user\nenvironments at the end.\n\nAdditional changes:\n\n- Refactors to use the correct image for ephemeral heat\n- Removes ntp server check as we never checked for\n  ControllerCount in all environment files and also use\n  a hard-coded role name.\n\nRelated-Bug: #1926758\nChange-Id: I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4\n'}, {'number': 2, 'created': '2021-05-06 10:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5b2d56e2180f483eceba599724b8cabc8d134146', 'message': 'Allow user environments override generated ones\n\nWe generate some parameters using the user environments like\nthe one for image parameters. However, user environments may\nhave parameters to override some of those. Make sure the ones\nin user environments takes precedence by adding the user\nenvironments at the end.\n\nAdditional changes:\n\n- Refactors to use the correct image for ephemeral heat\n- Removes ntp server check as we never checked for\n  ControllerCount in all environment files and also use\n  a hard-coded role name.\n\nRelated-Bug: #1926758\nChange-Id: I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4\n'}, {'number': 3, 'created': '2021-05-06 13:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d4ec4d4a3157ef90a6c82007fbdf7a6c121339cb', 'message': 'Allow user environments override generated ones\n\nWe generate some parameters using the user environments like\nthe one for image parameters. However, user environments may\nhave parameters to override some of those. Make sure the ones\nin user environments takes precedence by adding the user\nenvironments at the end.\n\nAdditional changes:\n\n- Refactors to use the correct image for ephemeral heat\n- Removes ntp server check as we never checked for\n  ControllerCount in all environment files and also use\n  a hard-coded role name.\n\nRelated-Bug: #1926758\nChange-Id: I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4\n'}, {'number': 4, 'created': '2021-05-06 15:38:39.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0b9e9a43c85d41ffb9f19c1180b607d3d70ad96e', 'message': 'Allow user environments override generated ones\n\nWe generate some parameters using the user environments like\nthe one for image parameters. However, user environments may\nhave parameters to override some of those. Make sure the ones\nin user environments takes precedence by adding the user\nenvironments at the end.\n\nAdditional changes:\n\n- Refactors to use the correct image for ephemeral heat\n- Removes ntp server check as we never checked for\n  ControllerCount in all environment files and also use\n  a hard-coded role name.\n\nRelated-Bug: #1926758\nChange-Id: I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4\n'}]",2,789917,0b9e9a43c85d41ffb9f19c1180b607d3d70ad96e,21,4,4,8833,,,0,"Allow user environments override generated ones

We generate some parameters using the user environments like
the one for image parameters. However, user environments may
have parameters to override some of those. Make sure the ones
in user environments takes precedence by adding the user
environments at the end.

Additional changes:

- Refactors to use the correct image for ephemeral heat
- Removes ntp server check as we never checked for
  ControllerCount in all environment files and also use
  a hard-coded role name.

Related-Bug: #1926758
Change-Id: I6e6ee98cb6a06bd830eb712f67e1cd0d9c13a1f4
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/17/789917/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,e30ea7f08693698b356aaaefcdf6f1f41e468ae2,," def _heat_deploy(self, stack, stack_name, template_path, def build_image_params(self, env_files, parsed_args, new_tht_root, user_tht_root): if parsed_args.environment_directories: env_files.extend(utils.load_environment_directories( if parsed_args.environment_files: env_files.extend(parsed_args.environment_files) env_files, new_tht_root, user_tht_root, return default_image_params def create_env_files(self, stack, parsed_args, new_tht_root, user_tht_root): self.log.debug(""Creating Environment files"") created_env_files = [] created_env_files.append( os.path.join(new_tht_root, constants.DEFAULT_RESOURCE_REGISTRY)) parameters = self.build_image_params( created_env_files, parsed_args, new_tht_root, user_tht_root) if parsed_args.deployed_server: created_env_files.append( os.path.join( new_tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) created_env_files.extend( self._provision_baremetal(parsed_args, new_tht_root)) if parsed_args.environment_directories: created_env_files.extend(utils.load_environment_directories( parsed_args.environment_directories)) if parsed_args.environment_files: created_env_files.extend(parsed_args.environment_files) return created_env_files def deploy_tripleo_heat_templates(self, stack, parsed_args, new_tht_root, user_tht_root, created_env_files): """"""Deploy the fixed templates in TripleO Heat Templates"""""" self.log.info(""Processing templates in the directory {0}"".format( os.path.abspath(new_tht_root))) deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter if parsed_args.heat_type != 'installed': self.setup_ephemeral_heat(env.get['parameter_defaults']) parsed_args.stack, env_files, stack_name, env_files, timeout, def setup_ephemeral_heat(self, parsed_args, parameters): self.log.info(""Using tripleo-deploy with "" ""ephemeral heat-all for stack operation"") api_container_image = parameters['ContainerHeatApiImage'] engine_container_image = \ parameters['ContainerHeatEngineImage'] restore_db = (parsed_args.setup_only or parsed_args.config_download_only) self.heat_launcher = utils.get_heat_launcher( parsed_args.heat_type, api_container_image=api_container_image, engine_container_image=engine_container_image, heat_dir=os.path.join(self.working_dir, 'heat-launcher'), use_tmp_dir=False, rm_heat=parsed_args.rm_heat, skip_heat_pull=parsed_args.skip_heat_pull) self.orchestration_client = \ utils.launch_heat(self.heat_launcher, restore_db=restore_db) self.clients.orchestration = self.orchestration_client if parsed_args.heat_type == 'installed': stack = utils.get_stack(self.orchestration_client, parsed_args.stack) stack_create = stack is None if stack_create: self.log.info(""No stack found, "" ""will be doing a stack create"") else: self.log.info(""Stack found, "" ""will be doing a stack update"") created_env_files = self.create_env_files( stack, parsed_args, new_tht_root, user_tht_root) stack, parsed_args, new_tht_root, user_tht_root, created_env_files)"," def _heat_deploy(self, stack, stack_name, template_path, parameters, def create_params_and_env_files(self, new_tht_root, user_tht_root, parsed_args): self.log.debug(""Creating Environment files"") created_env_files = [] created_env_files.append( os.path.join(new_tht_root, constants.DEFAULT_RESOURCE_REGISTRY)) if parsed_args.environment_directories: created_env_files.extend(utils.load_environment_directories( if parsed_args.deployed_server: created_env_files.append( os.path.join( new_tht_root, constants.DEPLOYED_SERVER_ENVIRONMENT)) if parsed_args.environment_files: created_env_files.extend(parsed_args.environment_files) created_env_files.extend( self._provision_baremetal(parsed_args, new_tht_root)) created_env_files, new_tht_root, user_tht_root, image_params = {} parameters = {} parameters.update(default_image_params) return parameters, created_env_files def deploy_tripleo_heat_templates(self, stack, parsed_args, new_tht_root, user_tht_root, parameters, created_env_files): """"""Deploy the fixed templates in TripleO Heat Templates"""""" self.log.info(""Processing templates in the directory {0}"".format( os.path.abspath(new_tht_root))) deployment_options = {} if parsed_args.deployment_python_interpreter: deployment_options['ansible_python_interpreter'] = \ parsed_args.deployment_python_interpreter # FIXME(shardy) It'd be better to validate this via mistral # e.g part of the plan create/update workflow number_controllers = int(parameters.get('ControllerCount', 0)) if number_controllers > 1: if not env.get('parameter_defaults').get('NtpServer'): raise exceptions.InvalidConfiguration( 'Specify --ntp-server as parameter or NtpServer in ' 'environments when using multiple controllers ' '(with HA).') parsed_args.stack, parameters, env_files, stack_name, parameters, parameters, env_files, timeout, parameters, created_env_files = \ self.create_params_and_env_files( new_tht_root, user_tht_root, parsed_args) if parsed_args.heat_type != 'installed': self.log.info(""Using tripleo-deploy with "" ""ephemeral heat-all for stack operation"") api_container_image = parameters['ContainerHeatApiImage'] engine_container_image = \ parameters['ContainerHeatEngineImage'] restore_db = (parsed_args.setup_only or parsed_args.config_download_only) self.heat_launcher = utils.get_heat_launcher( parsed_args.heat_type, api_container_image=api_container_image, engine_container_image=engine_container_image, heat_dir=os.path.join(self.working_dir, 'heat-launcher'), use_tmp_dir=False, rm_heat=parsed_args.rm_heat, skip_heat_pull=parsed_args.skip_heat_pull) self.orchestration_client = \ utils.launch_heat(self.heat_launcher, restore_db=restore_db) self.clients.orchestration = self.orchestration_client if parsed_args.heat_type == 'installed': stack = utils.get_stack(self.orchestration_client, parsed_args.stack) stack_create = stack is None if stack_create: self.log.info(""No stack found, "" ""will be doing a stack create"") else: self.log.info(""Stack found, "" ""will be doing a stack update"") stack, parsed_args, new_tht_root, user_tht_root, parameters, created_env_files)",119,179
openstack%2Ftripleo-ci~master~Ie3130c20496e1e77531e2f5a156e53ae31c7da26,openstack/tripleo-ci,master,Ie3130c20496e1e77531e2f5a156e53ae31c7da26,Fix irrelevant_files for dependant jobs,MERGED,2021-05-06 12:24:28.000000000,2021-05-07 09:47:09.000000000,2021-05-07 09:47:09.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 12:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4b33fe96ed1cbc3c5c4f4c659ca00595218c2642', 'message': 'Fix irrelevant_files for dependant jobs\n\n1. tripleo-ci-base-standalone-centos-8: has setup.py in irrelevant-files\ntripleo-ci-centos-8-content-provider inherits from\ntripleo-ci-base-standalone-centos-8 - so has setup.py in irrelevant files\nas well\n\n2. tripleo-ci-base-standalone-centos-8 does NOT have setup.py in irrelevant-files\ntripleo-ci-centos-8-standalone does NOT have setup.py in irrelevant-files\n\n3. so tripleo-ci-centos-8-standalone wants to run on setup.py,\nbut it depends on content-provider which does NOT run on setup.py\n(see point 1)\n\nRemove setup.py from irrelevant-files of content provider to fix it.\n\nChange-Id: Ie3130c20496e1e77531e2f5a156e53ae31c7da26\n'}, {'number': 2, 'created': '2021-05-06 12:25:44.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/98871d63fe4aac9be0855f81582fdab03c3b8d96', 'message': 'Fix irrelevant_files for dependant jobs\n\n1. tripleo-ci-base-standalone-centos-8: has setup.py in irrelevant-files\ntripleo-ci-centos-8-content-provider inherits from\ntripleo-ci-base-standalone-centos-8 - so has setup.py in irrelevant files\nas well\n\n2. tripleo-ci-base-standalone-centos-8 does NOT have setup.py in irrelevant-files\ntripleo-ci-centos-8-standalone does NOT have setup.py in irrelevant-files\n\n3. so tripleo-ci-centos-8-standalone wants to run on setup.py,\nbut it depends on content-provider which does NOT run on setup.py\n(see point 1)\n\nRemove setup.py from irrelevant-files of content provider\n(actually its parent job) to fix it.\n\nChange-Id: Ie3130c20496e1e77531e2f5a156e53ae31c7da26\n'}]",3,790054,98871d63fe4aac9be0855f81582fdab03c3b8d96,10,7,2,10969,,,0,"Fix irrelevant_files for dependant jobs

1. tripleo-ci-base-standalone-centos-8: has setup.py in irrelevant-files
tripleo-ci-centos-8-content-provider inherits from
tripleo-ci-base-standalone-centos-8 - so has setup.py in irrelevant files
as well

2. tripleo-ci-base-standalone-centos-8 does NOT have setup.py in irrelevant-files
tripleo-ci-centos-8-standalone does NOT have setup.py in irrelevant-files

3. so tripleo-ci-centos-8-standalone wants to run on setup.py,
but it depends on content-provider which does NOT run on setup.py
(see point 1)

Remove setup.py from irrelevant-files of content provider
(actually its parent job) to fix it.

Change-Id: Ie3130c20496e1e77531e2f5a156e53ae31c7da26
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/54/790054/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,4b33fe96ed1cbc3c5c4f4c659ca00595218c2642,,, - ^setup.*$,0,1
openstack%2Fcharm-neutron-api~master~If5d64191925c5b568c0224c59b0c851e3c8f3e50,openstack/charm-neutron-api,master,If5d64191925c5b568c0224c59b0c851e3c8f3e50,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 12:47:35.000000000,2021-05-07 09:32:57.000000000,2021-05-06 18:49:23.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 12:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/d13e01474737845be27446325e5b41104a5b02b7', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: If5d64191925c5b568c0224c59b0c851e3c8f3e50\n'}, {'number': 2, 'created': '2021-03-30 16:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/1ab274b17b23635ac8b14588dc43b4593100b436', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync\n\nChange-Id: If5d64191925c5b568c0224c59b0c851e3c8f3e50\n'}, {'number': 3, 'created': '2021-04-07 12:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/b4cf59ad9088e131fd0ae2452d0df198bce51d2a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync\n\nChange-Id: If5d64191925c5b568c0224c59b0c851e3c8f3e50\n'}, {'number': 4, 'created': '2021-04-16 09:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/d0da13a3075a4b39e85db16031bc6e5a2171d562', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: If5d64191925c5b568c0224c59b0c851e3c8f3e50\n'}, {'number': 5, 'created': '2021-05-06 10:25:50.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/48f87deff37b6bf6a7c6b11059e077e8635294bd', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: If5d64191925c5b568c0224c59b0c851e3c8f3e50\n'}]",0,778905,48f87deff37b6bf6a7c6b11059e077e8635294bd,38,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Libraries sync

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: If5d64191925c5b568c0224c59b0c851e3c8f3e50
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/05/778905/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",3,d13e01474737845be27446325e5b41104a5b02b7,wallaby-bundles,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: &series focal applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin neutron-api: charm: cs:~openstack-charmers-next/neutron-api series: *series num_units: 1 options: manage-neutron-plugin-legacy-mode: True flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin relations: - - neutron-api:amqp - rabbitmq-server:amqp - - neutron-api:identity-service - keystone:identity-service - [""keystone:shared-db"", ""keystone-mysql-router:shared-db""] - [""neutron-api:shared-db"", ""neutron-mysql-router:shared-db""] - [""keystone-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""neutron-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] ",,90,2
openstack%2Fcharm-hacluster~master~I84c6210e0db2596cb4ba12ba641b56b6e73b5419,openstack/charm-hacluster,master,I84c6210e0db2596cb4ba12ba641b56b6e73b5419,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:33:59.000000000,2021-05-07 08:46:37.000000000,2021-05-07 08:46:37.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/5e5837a615198dd31a65fe190a90f1491326f11d', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I84c6210e0db2596cb4ba12ba641b56b6e73b5419\n'}, {'number': 2, 'created': '2021-03-30 12:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/982ddb2a5ede4a4e4162e4453578e32d05a70cbc', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibaries sync.\n\nChange-Id: I84c6210e0db2596cb4ba12ba641b56b6e73b5419\n'}, {'number': 3, 'created': '2021-04-07 13:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/1485bba9fd851189139b58a8ecba3b881c053045', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibaries sync.\n\nChange-Id: I84c6210e0db2596cb4ba12ba641b56b6e73b5419\n'}, {'number': 4, 'created': '2021-04-16 09:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/21ee856092f414bf2c89e04030eeea0cb13b93f8', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibaries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I84c6210e0db2596cb4ba12ba641b56b6e73b5419\n'}, {'number': 5, 'created': '2021-05-06 10:15:26.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-hacluster/commit/7431fd21f15f96fd6891cd58f5cf2abb3cda9d3d', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibaries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I84c6210e0db2596cb4ba12ba641b56b6e73b5419\n'}]",0,778646,7431fd21f15f96fd6891cd58f5cf2abb3cda9d3d,31,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Libaries sync.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I84c6210e0db2596cb4ba12ba641b56b6e73b5419
",git fetch https://review.opendev.org/openstack/charm-hacluster refs/changes/46/778646/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-ussuri.yaml', 'osci.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-ussuri.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/groovy-victoria.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",17,5e5837a615198dd31a65fe190a90f1491326f11d,wallaby-bundles,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 3 options: token-expiration: 60 openstack-origin: *openstack-origin to: - '3' - '4' - '5' hacluster: charm: ../../../hacluster subordinate-to: - keystone relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'hacluster:ha' - 'keystone:ha' - - ""keystone-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" ",,113,3
openstack%2Fcharm-swift-storage~master~I33460b286d635ed000c94e1d8e8f55ad4ff7dd83,openstack/charm-swift-storage,master,I33460b286d635ed000c94e1d8e8f55ad4ff7dd83,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 18:51:30.000000000,2021-05-07 08:36:38.000000000,2021-05-07 08:36:38.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 18:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/af6fe18ee36fc7931b3a21bb9eee5d69f6f2cd4c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I33460b286d635ed000c94e1d8e8f55ad4ff7dd83\n'}, {'number': 2, 'created': '2021-03-30 18:49:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/3746fd962fbbe1d5287e0a429a6b1138d4e94062', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I33460b286d635ed000c94e1d8e8f55ad4ff7dd83\n'}, {'number': 3, 'created': '2021-04-07 12:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/68fae94340ea253bbff442d04798850565f8eff8', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I33460b286d635ed000c94e1d8e8f55ad4ff7dd83\n'}, {'number': 4, 'created': '2021-04-16 11:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/509a763695e5164abe1bcd3629bc66d471e5f0bd', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I33460b286d635ed000c94e1d8e8f55ad4ff7dd83\n'}, {'number': 5, 'created': '2021-05-06 10:21:32.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/a173cc6a5bc7ace9adeef29ff60a07d6c5f5eb66', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I33460b286d635ed000c94e1d8e8f55ad4ff7dd83\n'}]",0,779030,a173cc6a5bc7ace9adeef29ff60a07d6c5f5eb66,31,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Libraries sync.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I33460b286d635ed000c94e1d8e8f55ad4ff7dd83
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/30/779030/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",4,af6fe18ee36fc7931b3a21bb9eee5d69f6f2cd4c,wallaby-bundles,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' swift-proxy: charm: cs:~openstack-charmers-next/swift-proxy num_units: 1 options: zone-assignment: manual replicas: 1 swift-hash: fdfef9d4-8b06-11e2-8ac0-531c923c8fae openstack-origin: *openstack-origin to: - '4' glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '5' swift-storage: charm: swift-storage num_units: 1 storage: block-devices: 'cinder,10G' options: zone: 1 openstack-origin: *openstack-origin to: - '6' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'swift-proxy:identity-service' - 'keystone:identity-service' - - 'swift-storage:swift-storage' - 'swift-proxy:swift-storage' - - 'glance:object-store' - 'swift-proxy:object-store' ",,215,1
openstack%2Fcharm-neutron-api-plugin-ovn~master~I53c243eac27a21948cc60b9f11125faec3f3ec36,openstack/charm-neutron-api-plugin-ovn,master,I53c243eac27a21948cc60b9f11125faec3f3ec36,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 13:56:22.000000000,2021-05-07 08:35:18.000000000,2021-05-07 08:35:18.000000000,"[{'_account_id': 18511}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 13:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/af393fa64f614c30906f40e3e19566ce4fdf24aa', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I53c243eac27a21948cc60b9f11125faec3f3ec36\n'}, {'number': 2, 'created': '2021-03-30 17:25:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/2fafbb635886713172fbe6e1651cb0c75e453a5f', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I53c243eac27a21948cc60b9f11125faec3f3ec36\n'}, {'number': 3, 'created': '2021-04-15 18:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/ce62aa0aa0c348b02d382037177d79bebc48a100', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I53c243eac27a21948cc60b9f11125faec3f3ec36\n'}, {'number': 4, 'created': '2021-05-06 10:23:31.000000000', 'files': ['osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/6183b4c40844eb5c4a54b71aeec3afe77a797660', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I53c243eac27a21948cc60b9f11125faec3f3ec36\n'}]",0,778924,6183b4c40844eb5c4a54b71aeec3afe77a797660,30,5,4,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I53c243eac27a21948cc60b9f11125faec3f3ec36
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/24/778924/4 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",6,af393fa64f614c30906f40e3e19566ce4fdf24aa,wallaby-bundles,- focal-wallaby- hirsute-wallaby - hirsute-wallaby, - groovy-victoria,308,2
openstack%2Fkolla-ansible~stable%2Fvictoria~I34e103e5da97e33d8525a5d99bf28f3099274e34,openstack/kolla-ansible,stable/victoria,I34e103e5da97e33d8525a5d99bf28f3099274e34,Pin ansible to <2.10.0 in test-requirements,MERGED,2021-05-06 17:38:13.000000000,2021-05-07 08:35:14.000000000,2021-05-07 08:33:38.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-06 17:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/164a7e8f47991bbbdecb627c7b9e39c6ed204c56', 'message': 'Pin ansible to <3.0 in test-requirements\n\nChange-Id: I34e103e5da97e33d8525a5d99bf28f3099274e34\n'}, {'number': 2, 'created': '2021-05-06 19:05:41.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/985d78222568a91219ca3cc7ab19a6d04b9ad9f5', 'message': 'Pin ansible to <2.10.0 in test-requirements\n\nChange-Id: I34e103e5da97e33d8525a5d99bf28f3099274e34\n'}]",0,790134,985d78222568a91219ca3cc7ab19a6d04b9ad9f5,10,3,2,27339,,,0,"Pin ansible to <2.10.0 in test-requirements

Change-Id: I34e103e5da97e33d8525a5d99bf28f3099274e34
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/790134/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,164a7e8f47991bbbdecb627c7b9e39c6ed204c56,,"ansible>=2.9.0,<3.0 # GPLv3",ansible>=2.9.0 # GPLv3,1,1
openstack%2Fcharm-nova-compute~master~I238e8a36b033594c67ffcefa325998f2eba2a659,openstack/charm-nova-compute,master,I238e8a36b033594c67ffcefa325998f2eba2a659,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 14:23:30.000000000,2021-05-07 08:30:35.000000000,2021-05-07 08:30:35.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 14:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/f3112b5694a44bf7a8a063144f464974d7283231', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I238e8a36b033594c67ffcefa325998f2eba2a659\n'}, {'number': 2, 'created': '2021-03-30 17:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/64f0a3794571758c312bb28a54e91790bbd7fd3c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I238e8a36b033594c67ffcefa325998f2eba2a659\n'}, {'number': 3, 'created': '2021-04-07 11:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/8fdff2ad79f1867bb288e541b26e865b442246a5', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I238e8a36b033594c67ffcefa325998f2eba2a659\n'}, {'number': 4, 'created': '2021-04-16 09:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/4112a64cd6f80434bf520f3e3aa60bebcb4b4e69', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I238e8a36b033594c67ffcefa325998f2eba2a659\n'}, {'number': 5, 'created': '2021-05-06 10:16:49.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/d1bd93b6c5ea11185f466bcef463f8d5c11fdffe', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I238e8a36b033594c67ffcefa325998f2eba2a659\n'}]",0,778938,d1bd93b6c5ea11185f466bcef463f8d5c11fdffe,29,4,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Libraries sync.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I238e8a36b033594c67ffcefa325998f2eba2a659
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/38/778938/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",4,f3112b5694a44bf7a8a063144f464974d7283231,wallaby-bundles,variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': constraints: mem=4096M cores=4 '11': '12': '13': '14': '15': '16': '17': '18': '19': applications: nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 6 storage: osd-devices: '10G' options: source: *openstack-origin to: - '11' - '12' - '13' - '14' - '15' - '16' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *openstack-origin monitor-count: '3' to: - '17' - '18' - '19' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron debug: true to: - '4' neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true to: - '5' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '6' neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex to: - '7' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '8' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '9' nova-compute: charm: ../../../nova-compute num_units: 1 storage: ephemeral-device: '40G' options: openstack-origin: *openstack-origin config-flags: auto_assign_floating_ip=False enable-live-migration: false aa-profile-mode: enforce debug: true pool-type: erasure-coded ec-profile-k: 4 ec-profile-m: 2 libvirt-image-backend: rbd to: - '10' relations: - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'nova-compute:ceph' - 'ceph-mon:client' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' ,,512,2
openstack%2Fcharm-heat~master~I812173ba3ac085fcd1e0d2b4635b29c8b5a377e6,openstack/charm-heat,master,I812173ba3ac085fcd1e0d2b4635b29c8b5a377e6,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:36:10.000000000,2021-05-07 08:29:08.000000000,2021-05-07 08:29:08.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/adc8db27823775037b9524415d992b8ef2bacf6c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I812173ba3ac085fcd1e0d2b4635b29c8b5a377e6\n'}, {'number': 2, 'created': '2021-03-30 12:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/f709326efcfdf7a7c15caf5597546e63d0729910', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I812173ba3ac085fcd1e0d2b4635b29c8b5a377e6\n'}, {'number': 3, 'created': '2021-04-10 15:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/d7d61f8535c846acb7e3afe2e716a2b4df1e4c34', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I812173ba3ac085fcd1e0d2b4635b29c8b5a377e6\n'}, {'number': 4, 'created': '2021-04-16 09:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/c80af97cfcdec50c9be831628b2f9b9193df854b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I812173ba3ac085fcd1e0d2b4635b29c8b5a377e6\n'}, {'number': 5, 'created': '2021-05-06 10:14:07.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/c7cb7bb4afdbb981ff466e48f8d937d834884a79', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I812173ba3ac085fcd1e0d2b4635b29c8b5a377e6\n'}]",0,778647,c7cb7bb4afdbb981ff466e48f8d937d834884a79,28,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Libraries sync.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I812173ba3ac085fcd1e0d2b4635b29c8b5a377e6
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/47/778647/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",3,adc8db27823775037b9524415d992b8ef2bacf6c,wallaby-bundles,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: &series focal machines: 0: constraints: ""mem=3072M"" 1: constraints: ""mem=3072M"" 2: constraints: ""mem=3072M"" 3: 4: 5: 6: 7: constraints: ""root-disk=20G mem=4G cores=4"" 8: 9: 10: 11: constaints: ""mem=2048M"" 12: constaints: ""mem=2048M"" # We specify machine placements for these to improve iteration # time, given that machine ""0"" comes up way before machine ""7"" applications: heat-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '4' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '5' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin api-rate-limit-rules: ""( POST, '*', .*, 9999, MINUTE );"" network-manager: Neutron to: - '6' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin config-flags: 'auto_assign_floating_ip=False' enable-live-migration: ""False"" to: - '7' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin debug: ""True"" to: - '8' neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin to: - '9' neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true neutron-plugin: ovs openstack-origin: *openstack-origin to: - '10' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch heat: charm: ../../../heat num_units: 2 constraints: mem=2048 options: openstack-origin: *openstack-origin debug: ""True"" verbose: ""True"" to: - '11' - '12' relations: - - 'heat:amqp' - 'rabbitmq-server:amqp' - - 'heat:identity-service' - 'keystone:identity-service' - - ""heat:shared-db"" - ""heat-mysql-router:shared-db"" - - ""heat-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - ""nova-cloud-controller:shared-db"" - ""nova-cloud-controller-mysql-router:shared-db"" - - ""nova-cloud-controller-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - ""placement:shared-db"" - ""placement-mysql-router:shared-db"" - - ""placement-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - ""keystone:shared-db"" - ""keystone-mysql-router:shared-db"" - - ""keystone-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'glance:identity-service' - 'keystone:identity-service' - - ""glance:shared-db"" - ""glance-mysql-router:shared-db"" - - ""glance-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - ""neutron-api:shared-db"" - ""neutron-api-mysql-router:shared-db"" - - ""neutron-api-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' ",,456,2
openstack%2Fcharm-keystone~master~Id837ffa7bdc3ed4ed739824785d658522dc9e328,openstack/charm-keystone,master,Id837ffa7bdc3ed4ed739824785d658522dc9e328,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:54:50.000000000,2021-05-07 08:25:54.000000000,2021-05-07 08:25:54.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/4b403b1512df45f2c8bae527ac79c333191f2835', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Id837ffa7bdc3ed4ed739824785d658522dc9e328\n'}, {'number': 2, 'created': '2021-03-30 12:38:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/8c643c03ac2ec03f2d8a3d5424de23047c0362f4', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries\n\nChange-Id: Id837ffa7bdc3ed4ed739824785d658522dc9e328\n'}, {'number': 3, 'created': '2021-04-07 11:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/85090b1607e350e36dac4b9c57c87853c48588f5', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries\n\nChange-Id: Id837ffa7bdc3ed4ed739824785d658522dc9e328\n'}, {'number': 4, 'created': '2021-04-16 09:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/aa7ffcd3f47fbddf4d69ea97d7de57bbc7b88b8a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Id837ffa7bdc3ed4ed739824785d658522dc9e328\n'}, {'number': 5, 'created': '2021-05-06 10:12:40.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/f8439f48ef182fdcc79505269b5153f865ef84ff', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: Id837ffa7bdc3ed4ed739824785d658522dc9e328\n'}]",0,778656,f8439f48ef182fdcc79505269b5153f865ef84ff,32,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Sync libraries

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: Id837ffa7bdc3ed4ed739824785d658522dc9e328
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/56/778656/5 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",3,4b403b1512df45f2c8bae527ac79c333191f2835,wallaby-bundles,variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': applications: glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: ../../../keystone num_units: 3 options: openstack-origin: *openstack-origin token-provider: 'fernet' token-expiration: 300 to: - '3' - '4' - '5' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '6' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' ,,140,2
openstack%2Fcharm-glance-simplestreams-sync~master~I2a09dc92ae59ed43c87c3c24def1240c117482fd,openstack/charm-glance-simplestreams-sync,master,I2a09dc92ae59ed43c87c3c24def1240c117482fd,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:22:29.000000000,2021-05-07 08:24:35.000000000,2021-05-07 08:24:35.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/9ed0afa9dbc1708009f457a970bd2fd7e500f65f', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I2a09dc92ae59ed43c87c3c24def1240c117482fd\n'}, {'number': 2, 'created': '2021-03-30 12:01:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/6cc23142f6f7242c98c279acd3d6a2a8d41042af', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nChange-Id: I2a09dc92ae59ed43c87c3c24def1240c117482fd\n'}, {'number': 3, 'created': '2021-04-07 12:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/f3a0b38f28cff7e3f8cca8d2674e7f86a51b69b8', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nChange-Id: I2a09dc92ae59ed43c87c3c24def1240c117482fd\n'}, {'number': 4, 'created': '2021-04-16 09:46:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/5e9441c2e3b7cb383d5c596265692ebca1249c99', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I2a09dc92ae59ed43c87c3c24def1240c117482fd\n'}, {'number': 5, 'created': '2021-05-06 10:11:27.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/9d5de4d077d05f47f3719587449d1ff99103f9ed', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync libraries.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I2a09dc92ae59ed43c87c3c24def1240c117482fd\n'}]",0,778643,9d5de4d077d05f47f3719587449d1ff99103f9ed,27,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Sync libraries.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I2a09dc92ae59ed43c87c3c24def1240c117482fd
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/43/778643/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",4,9ed0afa9dbc1708009f457a970bd2fd7e500f65f,wallaby-bundles,"variables: source: &source cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': '1': '2': '3': '4': '5': '6': '7': '8': constraints: ""mem=2048"" '9': constraints: ""mem=2048"" '10': constraints: ""mem=2048"" '11': '12': '13': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *source to: - '0' - '1' - '2' vault: charm: cs:~openstack-charmers-next/vault num_units: 1 to: - '3' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *source to: - '4' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *source to: - '5' glance-simplestreams-sync: charm: ../../glance-simplestreams-sync num_units: 1 to: - '6' ceph-radosgw: charm: cs:~openstack-charmers-next/ceph-radosgw num_units: 1 options: source: *source to: - '7' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *source to: - '8' - '9' - '10' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *source to: - '11' - '12' - '13' relations: - ['keystone:certificates', 'vault:certificates'] - ['glance:certificates', 'vault:certificates'] - ['glance-simplestreams-sync:certificates', 'vault:certificates'] - ['glance:identity-service', 'keystone:identity-service'] - ['glance-simplestreams-sync:identity-service', 'keystone:identity-service'] - ['keystone:shared-db','keystone-mysql-router:shared-db'] - ['glance:shared-db','glance-mysql-router:shared-db'] - ['vault:shared-db','vault-mysql-router:shared-db'] - ['keystone-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['glance-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['vault-mysql-router:db-router','mysql-innodb-cluster:db-router'] - ['ceph-osd:mon', 'ceph-mon:osd'] - ['ceph-radosgw:mon', 'ceph-mon:radosgw'] - ['ceph-radosgw:identity-service', 'keystone:identity-service'] - ['ceph-radosgw:certificates', 'vault:certificates'] ",,249,3
openstack%2Fneutron~stable%2Fussuri~I1213f59fe643807f303e3ad7f24925fa333a5512,openstack/neutron,stable/ussuri,I1213f59fe643807f303e3ad7f24925fa333a5512,Pass existing DB obj to save DB requests,MERGED,2021-04-22 08:44:16.000000000,2021-05-07 08:23:26.000000000,2021-05-07 08:21:23.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 08:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cfe20348174d0301594afdbb977777292127a19', 'message': 'Pass existing DB obj to save DB requests\n\nOn port and network update ML2 plugin gets a db object\nand can pass it to db_base_plugin_v2 when doing super call.\n\nChange-Id: I1213f59fe643807f303e3ad7f24925fa333a5512\n(cherry picked from commit 02f4eca1ae43b89775171f4f70be54075b95c9dd)\n'}, {'number': 2, 'created': '2021-04-22 13:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/886a9c7c1d90570012de17be5b15c9952436eba5', 'message': 'Pass existing DB obj to save DB requests\n\nOn port and network update ML2 plugin gets a db object\nand can pass it to db_base_plugin_v2 when doing super call.\n\nChange-Id: I1213f59fe643807f303e3ad7f24925fa333a5512\n(cherry picked from commit 02f4eca1ae43b89775171f4f70be54075b95c9dd)\n'}, {'number': 3, 'created': '2021-05-05 14:18:49.000000000', 'files': ['neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0133aa103ee4b8c8238d76e86aa254d77963d3c8', 'message': 'Pass existing DB obj to save DB requests\n\nOn port and network update ML2 plugin gets a db object\nand can pass it to db_base_plugin_v2 when doing super call.\n\nChange-Id: I1213f59fe643807f303e3ad7f24925fa333a5512\n(cherry picked from commit 02f4eca1ae43b89775171f4f70be54075b95c9dd)\n'}]",7,787488,0133aa103ee4b8c8238d76e86aa254d77963d3c8,51,4,3,5948,,,0,"Pass existing DB obj to save DB requests

On port and network update ML2 plugin gets a db object
and can pass it to db_base_plugin_v2 when doing super call.

Change-Id: I1213f59fe643807f303e3ad7f24925fa333a5512
(cherry picked from commit 02f4eca1ae43b89775171f4f70be54075b95c9dd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/787488/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_v2.py', 'neutron/plugins/ml2/plugin.py']",2,7cfe20348174d0301594afdbb977777292127a19,small_opt-stable/ussuri," updated_network = super(Ml2Plugin, self).update_network( context, id, network, db_network=db_network) port, db_port=port_db)"," updated_network = super(Ml2Plugin, self).update_network(context, id, network) port)",12,8
openstack%2Fcharm-ceilometer-agent~master~Ie73cc2223e51b741272c32e4d4a9d4a21949e37c,openstack/charm-ceilometer-agent,master,Ie73cc2223e51b741272c32e4d4a9d4a21949e37c,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-03 19:46:09.000000000,2021-05-07 08:21:50.000000000,2021-05-07 08:21:50.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-03 19:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/50f8301018e8f8ed55e0c95daedc0e4b0416975e', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: Ie73cc2223e51b741272c32e4d4a9d4a21949e37c\n'}, {'number': 2, 'created': '2021-03-30 11:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/ea9c59c1e686905e70bfa4cbf92c197a88874362', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync charmhelpers.\n\nChange-Id: Ie73cc2223e51b741272c32e4d4a9d4a21949e37c\n'}, {'number': 3, 'created': '2021-04-07 13:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/7c6db0d9d6490a9afe1e3eb29a0c3dd462d71163', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nSync charmhelpers.\n\nChange-Id: Ie73cc2223e51b741272c32e4d4a9d4a21949e37c\n'}, {'number': 4, 'created': '2021-04-16 09:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/bde4858265096e2a19accb88435e3ab531d63720', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nSync charmhelpers.\n\nChange-Id: Ie73cc2223e51b741272c32e4d4a9d4a21949e37c\n'}, {'number': 5, 'created': '2021-05-06 09:58:50.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/dd5f8e6bc2fb81859e0d5066570a7c89667c264a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nSync charmhelpers.\n\nChange-Id: Ie73cc2223e51b741272c32e4d4a9d4a21949e37c\n'}]",0,778562,dd5f8e6bc2fb81859e0d5066570a7c89667c264a,27,3,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Sync charmhelpers.

Change-Id: Ie73cc2223e51b741272c32e4d4a9d4a21949e37c
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/62/778562/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",3,50f8301018e8f8ed55e0c95daedc0e4b0416975e,wallaby-bundles,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': # machine for memcached; doesn't have a focal version yet. series: bionic '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': '16': '17': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router gnocchi-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' memcached: charm: cs:~memcached-team/memcached num_units: 1 # hold at bionic as no focal version of the charm yet series: bionic to: - '4' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 options: source: *openstack-origin storage: osd-devices: 'cinder,10G' to: - '5' - '6' - '7' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *openstack-origin to: - '8' - '9' - '10' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '11' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '12' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin to: - '13' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin to: - '14' ceilometer: charm: cs:~openstack-charmers-next/ceilometer num_units: 1 options: openstack-origin: *openstack-origin to: - '15' gnocchi: charm: cs:~openstack-charmers-next/gnocchi num_units: 1 options: openstack-origin: *openstack-origin to: - '16' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 constraints: mem=1G options: openstack-origin: *openstack-origin to: - '17' ceilometer-agent: {} relations: - - 'ceilometer:amqp' - 'rabbitmq-server:amqp' - - 'ceilometer:identity-notifications' - 'keystone:identity-notifications' - - 'ceilometer:ceilometer-service' - 'ceilometer-agent:ceilometer-service' - - 'ceilometer:metric-service' - 'gnocchi:metric-service' - - 'ceilometer:identity-credentials' - 'keystone:identity-credentials' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'ceilometer-agent:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:nova-ceilometer' - 'ceilometer-agent:nova-ceilometer' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'ceph-mon:osd' - 'ceph-osd:mon' - - 'gnocchi:shared-db' - 'gnocchi-mysql-router:shared-db' - - 'gnocchi-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'gnocchi:storage-ceph' - 'ceph-mon:client' - - 'gnocchi:coordinator-memcached' - 'memcached:cache' - - 'gnocchi:identity-service' - 'keystone:identity-service' ",,487,2
openstack%2Fkolla-ansible~stable%2Fwallaby~I04bafaebba44d162adb908839cdad6f5bb6ee8f7,openstack/kolla-ansible,stable/wallaby,I04bafaebba44d162adb908839cdad6f5bb6ee8f7,Add Monasca Grafana deprecation notice,MERGED,2021-04-28 09:30:35.000000000,2021-05-07 08:13:15.000000000,2021-05-07 08:11:55.000000000,"[{'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-04-28 09:30:35.000000000', 'files': ['releasenotes/notes/deprecate-monasca-grafana-f5bfc61a5d453a8e.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ccbdf3c2304c76e0191ef774b6d2f1bd3dd80f5', 'message': 'Add Monasca Grafana deprecation notice\n\nChange-Id: I04bafaebba44d162adb908839cdad6f5bb6ee8f7\n(cherry picked from commit 8a1e9e984bb109a02bc650b9674fd19e15f7fbf7)\n'}]",0,788438,8ccbdf3c2304c76e0191ef774b6d2f1bd3dd80f5,8,3,1,30491,,,0,"Add Monasca Grafana deprecation notice

Change-Id: I04bafaebba44d162adb908839cdad6f5bb6ee8f7
(cherry picked from commit 8a1e9e984bb109a02bc650b9674fd19e15f7fbf7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/38/788438/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-monasca-grafana-f5bfc61a5d453a8e.yaml'],1,8ccbdf3c2304c76e0191ef774b6d2f1bd3dd80f5,feature/use_vanilla_grafana_for_monasca-stable/wallaby,"--- deprecations: - | The Monasca Fork of Grafana is deprecated due to lack of maintenance and will be removed in the Xena release. Instead, support will be provided to allow Monasca users to migrate to the vanilla Grafana service with the Monasca datasource. ",,7,0
openstack%2Fkolla~stable%2Fstein~I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,openstack/kolla,stable/stein,I499251d13ca77aea2215f8a879b7bb8dd51f1c9f,rabbitmq: Move to packagecloud,ABANDONED,2021-05-06 19:10:30.000000000,2021-05-07 07:50:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-06 19:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f2e8b88d148e04370c0a64fa3dc62bbb88eacf8', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}, {'number': 2, 'created': '2021-05-06 19:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/716c0aebf72b1b49d78eb4ffc9c0137c6f83ac75', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nFor Train, fixes also the order of rpm gpg key imports and\nyum operations (otherwise CentOS 8 [with dnf] fails because repos\nare enabled early and keys are missing).\nAnd it also pins erlang version where required.\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}, {'number': 3, 'created': '2021-05-06 21:28:45.000000000', 'files': ['releasenotes/notes/rabbitmq-packagecloud-c009ff6d0d2bd02d.yaml', 'docker/base/Dockerfile.j2', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e086d68dba2d63b09ff25d1a96ca9f955e00f759', 'message': ""rabbitmq: Move to packagecloud\n\nbintray is being shut down 1st of May 2021, rabbitmq docs direct\nusers to packagecloud - so let's move.\n\nFor Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340\n(base: drop Linaro OBS key for CentOS and Ubuntu)\n\nFor Train, fixes also the order of rpm gpg key imports and\nyum operations (otherwise CentOS 8 [with dnf] fails because repos\nare enabled early and keys are missing).\nAnd it also pins erlang version where required.\n\nChange-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f\n(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)\n""}]",0,790157,e086d68dba2d63b09ff25d1a96ca9f955e00f759,16,3,3,27420,,,0,"rabbitmq: Move to packagecloud

bintray is being shut down 1st of May 2021, rabbitmq docs direct
users to packagecloud - so let's move.

For Victoria and below, includes I6a3ba599af3deedd450b4ffff6b86a0c04628340
(base: drop Linaro OBS key for CentOS and Ubuntu)

For Train, fixes also the order of rpm gpg key imports and
yum operations (otherwise CentOS 8 [with dnf] fails because repos
are enabled early and keys are missing).
And it also pins erlang version where required.

Change-Id: I499251d13ca77aea2215f8a879b7bb8dd51f1c9f
(cherry picked from commit 641b936bc7fd33203a80bb3827fce7c44d010476)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/790157/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rabbitmq-packagecloud-c009ff6d0d2bd02d.yaml', 'docker/base/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/rabbitmq_rabbitmq-server.repo', 'docker/base/rabbitmq_rabbitmq-erlang.repo', 'docker/base/sources.list.ubuntu']",6,3f2e8b88d148e04370c0a64fa3dc62bbb88eacf8,change-790157-2,<<<<<<< HEAD (1bc50e Fix url for get_pip macro)======= #deb https://packagecloud.io/rabbitmq/rabbitmq-server/ubuntu/ focal main >>>>>>> CHANGE (641b93 rabbitmq: Move to packagecloud) <<<<<<< HEAD (1bc50e Fix url for get_pip macro)======= # erlang repo #deb http://ppa.launchpad.net/rabbitmq/rabbitmq-erlang/ubuntu focal main # erlang repo - aarch64 only #deb https://obs.linaro.org/repos/home:/marcin.juszkiewicz/ubuntu-focal ./ # MariaDB repo #deb http://downloads.mariadb.com/MariaDB/mariadb-10.3/repo/ubuntu focal main >>>>>>> CHANGE (641b93 rabbitmq: Move to packagecloud),,207,0
openstack%2Fnetworking-ovn~stable%2Ftrain~If65925ded1b5df2bfdcfba50445ff7d821c725d8,openstack/networking-ovn,stable/train,If65925ded1b5df2bfdcfba50445ff7d821c725d8,ovn-migration: UNDERCLOUD_NODE_USER variable,MERGED,2021-05-05 11:30:18.000000000,2021-05-07 07:15:54.000000000,2021-05-07 07:14:30.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 11:30:18.000000000', 'files': ['doc/source/install/migration.rst', 'migration/tripleo_environment/ovn_migration.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bac17378aa8481ed189172722b53d7bc97606f60', 'message': ""ovn-migration: UNDERCLOUD_NODE_USER variable\n\nThe undercloud node user is configurable in TripleO and isn't always set\nto heat-admin. This patch introduces an environment variable for cases\nwhere user is different.\n\nCloses-bug: 1927213\n\nChange-Id: If65925ded1b5df2bfdcfba50445ff7d821c725d8\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n(cherry picked from commit 7bb5fb2de1a2bd5afb2ddfa5291ffdeead28f6a8)\n""}]",0,789792,bac17378aa8481ed189172722b53d7bc97606f60,8,3,1,8655,,,0,"ovn-migration: UNDERCLOUD_NODE_USER variable

The undercloud node user is configurable in TripleO and isn't always set
to heat-admin. This patch introduces an environment variable for cases
where user is different.

Closes-bug: 1927213

Change-Id: If65925ded1b5df2bfdcfba50445ff7d821c725d8
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
(cherry picked from commit 7bb5fb2de1a2bd5afb2ddfa5291ffdeead28f6a8)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/92/789792/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/migration.rst', 'migration/tripleo_environment/ovn_migration.sh']",2,bac17378aa8481ed189172722b53d7bc97606f60,ovn-migration,# user on the nodes in the undercloud : ${UNDERCLOUD_NODE_USER:=heat-admin} echo $node ansible_ssh_user=$UNDERCLOUD_NODE_USER ansible_become=true >> hosts_for_migration echo $node_name ansible_host=$node_ip ansible_ssh_user=$UNDERCLOUD_NODE_USER ansible_become=true ovn_controller=true >> hosts_for_migrationremote_user=$UNDERCLOUD_NODE_USER, echo $node ansible_ssh_user=heat-admin ansible_become=true >> hosts_for_migration echo $node_name ansible_host=$node_ip ansible_ssh_user=heat-admin ansible_become=true ovn_controller=true >> hosts_for_migrationremote_user=heat-admin,9,3
openstack%2Fwatcher-dashboard~master~I9308030b0a16f9a7e085b3e64230cd92dda6ad83,openstack/watcher-dashboard,master,I9308030b0a16f9a7e085b3e64230cd92dda6ad83,Dropping lower constraints testing,MERGED,2021-05-03 01:10:40.000000000,2021-05-07 07:04:08.000000000,2021-05-03 13:01:34.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-05-03 01:10:40.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/427afe1f75665592c53b8597d46b9e25078627fa', 'message': 'Dropping lower constraints testing\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I9308030b0a16f9a7e085b3e64230cd92dda6ad83\n'}]",0,789109,427afe1f75665592c53b8597d46b9e25078627fa,11,3,1,30384,,,0,"Dropping lower constraints testing

We facing errors related to the new pip resolver, this
topic was discussed on the ML and QA team proposed to
to test lower-constraints [1].

I propose to drop this test because the complexity and recurring pain needed
to maintain that now exceeds the benefits provided by this mechanismes.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html

Change-Id: I9308030b0a16f9a7e085b3e64230cd92dda6ad83
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/09/789109/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,427afe1f75665592c53b8597d46b9e25078627fa,,,[testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,0,131
openstack%2Finstack-undercloud~stable%2Fqueens~I6d3d221886ee042efaf74a023dd2cdc5ee28b911,openstack/instack-undercloud,stable/queens,I6d3d221886ee042efaf74a023dd2cdc5ee28b911,[queens-only] undercloud upgrade can fail when upgrading rabbitmq to major release,ABANDONED,2021-05-06 09:24:54.000000000,2021-05-07 06:07:46.000000000,,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 09:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/18701d0ca24632ebadd87a15ec851562057aa0e0', 'message': ""[queens-only] undercloud upgrade can fail when upgrading rabbitmq to major release\n\nWhen we upgrade from rabbit from rabbitmq-server.noarch 0:3.6.15-4.el7ost to\nrabbitmq-server.x86_64 0:3.7.28-2.el7ost the UC upgrade can fail with:\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,339 INFO: dib-run-parts Wed May 5 18:39:42 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + RESTART_RABBITMQ=\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + systemctl is-active rabbitmq-server\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: active\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: + RESTART_RABBITMQ=yes\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,354 INFO: + systemctl stop rabbitmq-server\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + xargs -r kill\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,290 INFO: + systemctl try-restart 'epmd@*'\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: Failed to try-restart epmd@0.0.0.0.service: Unit is not loaded properly: Invalid argument.\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: See system logs and 'systemctl status epmd@0.0.0.0.service' for details.\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,305 INFO: [2021-05-05 18:39:47,304] (os-refresh-config) [ERROR] during configure phase. [Command '['dib-run-parts', '/usr/libexec/os-refresh-config/configure.d']' returned non-zero exit status 1]\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO:\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO: [2021-05-05 18:39:47,305] (os-refresh-config) [ERROR] Aborting...\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,317 DEBUG: An exception occurred\n\nThis is because systemctl try-restart 'epmd@*' will try to operate on\nunits from the old rabbitmq package that are still lingering around.\nLet's call systemctl daemon-reload before the try-restart.\n\nTested and the UC upgrade worked correctly:\n2021-05-06 09:18:08,116 INFO: dib-run-parts Thu May  6 09:18:08 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd\n2021-05-06 09:18:08,118 INFO: + RESTART_RABBITMQ=\n2021-05-06 09:18:08,118 INFO: + systemctl is-active rabbitmq-server\n2021-05-06 09:18:08,123 INFO: active\n2021-05-06 09:18:08,123 INFO: + RESTART_RABBITMQ=yes\n2021-05-06 09:18:08,123 INFO: + systemctl stop rabbitmq-server\n2021-05-06 09:18:12,614 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'\n2021-05-06 09:18:12,614 INFO: + xargs -r kill\n2021-05-06 09:18:12,618 INFO: + systemctl daemon-reload\n2021-05-06 09:18:12,703 INFO: + systemctl try-restart 'epmd@*'\n2021-05-06 09:18:12,716 INFO: + '[' -n yes ']'\n2021-05-06 09:18:12,716 INFO: + systemctl start rabbitmq-server\n2021-05-06 09:18:15,018 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 40-stop-running-epmd completed\n2021-05-06 09:18:15,019 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/50-puppet-stack-config\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: I6d3d221886ee042efaf74a023dd2cdc5ee28b911\nCloses-Bug: #1927335\n""}, {'number': 2, 'created': '2021-05-06 13:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/1cba147c2ef292d0f01f358f6d750547c412ca03', 'message': ""[queens-only] undercloud upgrade can fail when upgrading rabbitmq to major release\n\nWhen we upgrade from rabbit from rabbitmq-server.noarch 0:3.6.15-4.el7ost to\nrabbitmq-server.x86_64 0:3.7.28-2.el7ost the UC upgrade can fail with:\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,339 INFO: dib-run-parts Wed May 5 18:39:42 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + RESTART_RABBITMQ=\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + systemctl is-active rabbitmq-server\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: active\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: + RESTART_RABBITMQ=yes\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,354 INFO: + systemctl stop rabbitmq-server\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + xargs -r kill\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,290 INFO: + systemctl try-restart 'epmd@*'\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: Failed to try-restart epmd@0.0.0.0.service: Unit is not loaded properly: Invalid argument.\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: See system logs and 'systemctl status epmd@0.0.0.0.service' for details.\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,305 INFO: [2021-05-05 18:39:47,304] (os-refresh-config) [ERROR] during configure phase. [Command '['dib-run-parts', '/usr/libexec/os-refresh-config/configure.d']' returned non-zero exit status 1]\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO:\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO: [2021-05-05 18:39:47,305] (os-refresh-config) [ERROR] Aborting...\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,317 DEBUG: An exception occurred\n\nThis is because systemctl try-restart 'epmd@*' will try to operate on\nunits from the old rabbitmq package that are still lingering around.\nLet's call systemctl daemon-reload before the try-restart.\nAnd also tell systemd to stop those epmd services for extra robustness,\nas we really really want those services to be stopped.\n\nTested and the UC upgrade worked correctly:\n2021-05-06 09:18:08,116 INFO: dib-run-parts Thu May  6 09:18:08 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd\n2021-05-06 09:18:08,118 INFO: + RESTART_RABBITMQ=\n2021-05-06 09:18:08,118 INFO: + systemctl is-active rabbitmq-server\n2021-05-06 09:18:08,123 INFO: active\n2021-05-06 09:18:08,123 INFO: + RESTART_RABBITMQ=yes\n2021-05-06 09:18:08,123 INFO: + systemctl stop rabbitmq-server\n2021-05-06 09:18:12,614 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'\n2021-05-06 09:18:12,614 INFO: + xargs -r kill\n2021-05-06 09:18:12,618 INFO: + systemctl daemon-reload\n2021-05-06 09:18:12,703 INFO: + systemctl try-restart 'epmd@*'\n2021-05-06 09:18:12,716 INFO: + '[' -n yes ']'\n2021-05-06 09:18:12,716 INFO: + systemctl start rabbitmq-server\n2021-05-06 09:18:15,018 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 40-stop-running-epmd completed\n2021-05-06 09:18:15,019 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/50-puppet-stack-config\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: I6d3d221886ee042efaf74a023dd2cdc5ee28b911\nCloses-Bug: #1927335\n""}, {'number': 3, 'created': '2021-05-06 14:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/362c18d6cc2886215533a2adf0cfc4e4110d3530', 'message': ""[queens-only] undercloud upgrade can fail when upgrading rabbitmq to major release\n\nWhen we upgrade from rabbit from rabbitmq-server.noarch 0:3.6.15-4.el7ost to\nrabbitmq-server.x86_64 0:3.7.28-2.el7ost the UC upgrade can fail with:\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,339 INFO: dib-run-parts Wed May 5 18:39:42 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + RESTART_RABBITMQ=\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + systemctl is-active rabbitmq-server\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: active\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: + RESTART_RABBITMQ=yes\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,354 INFO: + systemctl stop rabbitmq-server\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + xargs -r kill\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,290 INFO: + systemctl try-restart 'epmd@*'\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: Failed to try-restart epmd@0.0.0.0.service: Unit is not loaded properly: Invalid argument.\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: See system logs and 'systemctl status epmd@0.0.0.0.service' for details.\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,305 INFO: [2021-05-05 18:39:47,304] (os-refresh-config) [ERROR] during configure phase. [Command '['dib-run-parts', '/usr/libexec/os-refresh-config/configure.d']' returned non-zero exit status 1]\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO:\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO: [2021-05-05 18:39:47,305] (os-refresh-config) [ERROR] Aborting...\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,317 DEBUG: An exception occurred\n\nThis is because systemctl try-restart 'epmd@*' will try to operate on\nunits from the old rabbitmq package that are still lingering around.\nLet's call systemctl daemon-reload before the try-restart.\nAnd also tell systemd to stop those epmd services for extra robustness,\nas we really really want those services to be stopped.\n\nTested and the UC upgrade worked correctly:\n2021-05-06 09:18:08,116 INFO: dib-run-parts Thu May  6 09:18:08 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd\n2021-05-06 09:18:08,118 INFO: + RESTART_RABBITMQ=\n2021-05-06 09:18:08,118 INFO: + systemctl is-active rabbitmq-server\n2021-05-06 09:18:08,123 INFO: active\n2021-05-06 09:18:08,123 INFO: + RESTART_RABBITMQ=yes\n2021-05-06 09:18:08,123 INFO: + systemctl stop rabbitmq-server\n2021-05-06 09:18:12,614 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'\n2021-05-06 09:18:12,614 INFO: + xargs -r kill\n2021-05-06 09:18:12,618 INFO: + systemctl daemon-reload\n2021-05-06 09:18:12,703 INFO: + systemctl try-restart 'epmd@*'\n2021-05-06 09:18:12,716 INFO: + '[' -n yes ']'\n2021-05-06 09:18:12,716 INFO: + systemctl start rabbitmq-server\n2021-05-06 09:18:15,018 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 40-stop-running-epmd completed\n2021-05-06 09:18:15,019 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/50-puppet-stack-config\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: I6d3d221886ee042efaf74a023dd2cdc5ee28b911\nCloses-Bug: #1927335\n""}, {'number': 4, 'created': '2021-05-06 15:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/7eb97551262d3f80f935bf67ca05dd3abb57c636', 'message': ""[queens-only] undercloud upgrade can fail when upgrading rabbitmq to major release\n\nWhen we upgrade from rabbit from rabbitmq-server.noarch 0:3.6.15-4.el7ost to\nrabbitmq-server.x86_64 0:3.7.28-2.el7ost the UC upgrade can fail with:\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,339 INFO: dib-run-parts Wed May 5 18:39:42 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + RESTART_RABBITMQ=\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + systemctl is-active rabbitmq-server\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: active\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: + RESTART_RABBITMQ=yes\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,354 INFO: + systemctl stop rabbitmq-server\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + xargs -r kill\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,290 INFO: + systemctl try-restart 'epmd@*'\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: Failed to try-restart epmd@0.0.0.0.service: Unit is not loaded properly: Invalid argument.\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: See system logs and 'systemctl status epmd@0.0.0.0.service' for details.\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,305 INFO: [2021-05-05 18:39:47,304] (os-refresh-config) [ERROR] during configure phase. [Command '['dib-run-parts', '/usr/libexec/os-refresh-config/configure.d']' returned non-zero exit status 1]\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO:\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO: [2021-05-05 18:39:47,305] (os-refresh-config) [ERROR] Aborting...\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,317 DEBUG: An exception occurred\n\nThis is because systemctl try-restart 'epmd@*' will try to operate on\nunits from the old rabbitmq package that are still lingering around.\nLet's call systemctl daemon-reload before the try-restart.\nAnd also tell systemd to stop those epmd services for extra robustness,\nas we really really want those services to be stopped.\nWe also stop/disable the epmd@0.0.0.0.socket explicitely as it is a remnant of\nthe old rabbit and is not used with newer version. In any case it gets\nrecreated by the rabbitmq-server.service\n\nTested and the UC upgrade worked correctly:\n2021-05-06 09:18:08,116 INFO: dib-run-parts Thu May  6 09:18:08 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd\n2021-05-06 09:18:08,118 INFO: + RESTART_RABBITMQ=\n2021-05-06 09:18:08,118 INFO: + systemctl is-active rabbitmq-server\n2021-05-06 09:18:08,123 INFO: active\n2021-05-06 09:18:08,123 INFO: + RESTART_RABBITMQ=yes\n2021-05-06 09:18:08,123 INFO: + systemctl stop rabbitmq-server\n2021-05-06 09:18:12,614 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'\n2021-05-06 09:18:12,614 INFO: + xargs -r kill\n2021-05-06 09:18:12,618 INFO: + systemctl daemon-reload\n2021-05-06 09:18:12,703 INFO: + systemctl try-restart 'epmd@*'\n2021-05-06 09:18:12,716 INFO: + '[' -n yes ']'\n2021-05-06 09:18:12,716 INFO: + systemctl start rabbitmq-server\n2021-05-06 09:18:15,018 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 40-stop-running-epmd completed\n2021-05-06 09:18:15,019 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/50-puppet-stack-config\n\nWe also ran a second minor upgrade test.\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: I6d3d221886ee042efaf74a023dd2cdc5ee28b911\nCloses-Bug: #1927335\n""}, {'number': 5, 'created': '2021-05-06 15:01:51.000000000', 'files': ['elements/undercloud-install/os-refresh-config/configure.d/40-stop-running-epmd'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/df3920c27d274970b0af2848b5aacbe681e494c2', 'message': ""[queens-only] undercloud upgrade can fail when upgrading rabbitmq to major release\n\nWhen we upgrade from rabbit from rabbitmq-server.noarch 0:3.6.15-4.el7ost to\nrabbitmq-server.x86_64 0:3.7.28-2.el7ost the UC upgrade can fail with:\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,339 INFO: dib-run-parts Wed May 5 18:39:42 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + RESTART_RABBITMQ=\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + systemctl is-active rabbitmq-server\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: active\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: + RESTART_RABBITMQ=yes\n2021-05-05 18:39:42 | 2021-05-05 18:39:42,354 INFO: + systemctl stop rabbitmq-server\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + xargs -r kill\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,290 INFO: + systemctl try-restart 'epmd@*'\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: Failed to try-restart epmd@0.0.0.0.service: Unit is not loaded properly: Invalid argument.\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: See system logs and 'systemctl status epmd@0.0.0.0.service' for details.\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,305 INFO: [2021-05-05 18:39:47,304] (os-refresh-config) [ERROR] during configure phase. [Command '['dib-run-parts', '/usr/libexec/os-refresh-config/configure.d']' returned non-zero exit status 1]\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO:\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO: [2021-05-05 18:39:47,305] (os-refresh-config) [ERROR] Aborting...\n2021-05-05 18:39:47 | 2021-05-05 18:39:47,317 DEBUG: An exception occurred\n\nThis is because systemctl try-restart 'epmd@*' will try to operate on\nunits from the old rabbitmq package that are still lingering around.\nLet's call systemctl daemon-reload before the try-restart.\nAnd also tell systemd to stop those epmd services for extra robustness,\nas we really really want those services to be stopped.\nWe also stop/disable the epmd@0.0.0.0.socket explicitely as it is a remnant of\nthe old rabbit and is not used with newer version. In any case it gets\nrecreated by the rabbitmq-server.service\n\nTested and the UC upgrade worked correctly:\n2021-05-06 09:18:08,116 INFO: dib-run-parts Thu May  6 09:18:08 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd\n2021-05-06 09:18:08,118 INFO: + RESTART_RABBITMQ=\n2021-05-06 09:18:08,118 INFO: + systemctl is-active rabbitmq-server\n2021-05-06 09:18:08,123 INFO: active\n2021-05-06 09:18:08,123 INFO: + RESTART_RABBITMQ=yes\n2021-05-06 09:18:08,123 INFO: + systemctl stop rabbitmq-server\n2021-05-06 09:18:12,614 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'\n2021-05-06 09:18:12,614 INFO: + xargs -r kill\n2021-05-06 09:18:12,618 INFO: + systemctl daemon-reload\n2021-05-06 09:18:12,703 INFO: + systemctl try-restart 'epmd@*'\n2021-05-06 09:18:12,716 INFO: + '[' -n yes ']'\n2021-05-06 09:18:12,716 INFO: + systemctl start rabbitmq-server\n2021-05-06 09:18:15,018 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 40-stop-running-epmd completed\n2021-05-06 09:18:15,019 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/50-puppet-stack-config\n\nWe also ran a second minor upgrade test.\n\nCo-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>\n\nChange-Id: I6d3d221886ee042efaf74a023dd2cdc5ee28b911\nCloses-Bug: #1927335\n""}]",1,790021,df3920c27d274970b0af2848b5aacbe681e494c2,15,5,5,20172,,,0,"[queens-only] undercloud upgrade can fail when upgrading rabbitmq to major release

When we upgrade from rabbit from rabbitmq-server.noarch 0:3.6.15-4.el7ost to
rabbitmq-server.x86_64 0:3.7.28-2.el7ost the UC upgrade can fail with:
2021-05-05 18:39:42 | 2021-05-05 18:39:42,339 INFO: dib-run-parts Wed May 5 18:39:42 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd
2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + RESTART_RABBITMQ=
2021-05-05 18:39:42 | 2021-05-05 18:39:42,346 INFO: + systemctl is-active rabbitmq-server
2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: active
2021-05-05 18:39:42 | 2021-05-05 18:39:42,353 INFO: + RESTART_RABBITMQ=yes
2021-05-05 18:39:42 | 2021-05-05 18:39:42,354 INFO: + systemctl stop rabbitmq-server
2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'
2021-05-05 18:39:47 | 2021-05-05 18:39:47,271 INFO: + xargs -r kill
2021-05-05 18:39:47 | 2021-05-05 18:39:47,290 INFO: + systemctl try-restart 'epmd@*'
2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: Failed to try-restart epmd@0.0.0.0.service: Unit is not loaded properly: Invalid argument.
2021-05-05 18:39:47 | 2021-05-05 18:39:47,304 INFO: See system logs and 'systemctl status epmd@0.0.0.0.service' for details.
2021-05-05 18:39:47 | 2021-05-05 18:39:47,305 INFO: [2021-05-05 18:39:47,304] (os-refresh-config) [ERROR] during configure phase. [Command '['dib-run-parts', '/usr/libexec/os-refresh-config/configure.d']' returned non-zero exit status 1]
2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO:
2021-05-05 18:39:47 | 2021-05-05 18:39:47,306 INFO: [2021-05-05 18:39:47,305] (os-refresh-config) [ERROR] Aborting...
2021-05-05 18:39:47 | 2021-05-05 18:39:47,317 DEBUG: An exception occurred

This is because systemctl try-restart 'epmd@*' will try to operate on
units from the old rabbitmq package that are still lingering around.
Let's call systemctl daemon-reload before the try-restart.
And also tell systemd to stop those epmd services for extra robustness,
as we really really want those services to be stopped.
We also stop/disable the epmd@0.0.0.0.socket explicitely as it is a remnant of
the old rabbit and is not used with newer version. In any case it gets
recreated by the rabbitmq-server.service

Tested and the UC upgrade worked correctly:
2021-05-06 09:18:08,116 INFO: dib-run-parts Thu May  6 09:18:08 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/40-stop-running-epmd
2021-05-06 09:18:08,118 INFO: + RESTART_RABBITMQ=
2021-05-06 09:18:08,118 INFO: + systemctl is-active rabbitmq-server
2021-05-06 09:18:08,123 INFO: active
2021-05-06 09:18:08,123 INFO: + RESTART_RABBITMQ=yes
2021-05-06 09:18:08,123 INFO: + systemctl stop rabbitmq-server
2021-05-06 09:18:12,614 INFO: + pgrep -u rabbitmq -f 'epmd.*-daemon'
2021-05-06 09:18:12,614 INFO: + xargs -r kill
2021-05-06 09:18:12,618 INFO: + systemctl daemon-reload
2021-05-06 09:18:12,703 INFO: + systemctl try-restart 'epmd@*'
2021-05-06 09:18:12,716 INFO: + '[' -n yes ']'
2021-05-06 09:18:12,716 INFO: + systemctl start rabbitmq-server
2021-05-06 09:18:15,018 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 40-stop-running-epmd completed
2021-05-06 09:18:15,019 INFO: dib-run-parts Thu May  6 09:18:15 UTC 2021 Running /usr/libexec/os-refresh-config/configure.d/50-puppet-stack-config

We also ran a second minor upgrade test.

Co-Authored-By: Sofer Athlan-Guyot <sathlang@redhat.com>

Change-Id: I6d3d221886ee042efaf74a023dd2cdc5ee28b911
Closes-Bug: #1927335
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/21/790021/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/undercloud-install/os-refresh-config/configure.d/40-stop-running-epmd'],1,18701d0ca24632ebadd87a15ec851562057aa0e0,queens-upgrade,systemctl daemon-reload ,,2,0
openstack%2Fneutron~stable%2Fussuri~I59b0f99463ab00743f19016a890561916df900ed,openstack/neutron,stable/ussuri,I59b0f99463ab00743f19016a890561916df900ed,designate: allow PTR zone creation to fail,MERGED,2021-05-05 06:40:00.000000000,2021-05-07 06:06:27.000000000,2021-05-07 06:03:30.000000000,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 06:40:00.000000000', 'files': ['neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bfb42dfa02e0da488cfff1dff4fc7449b95619b9', 'message': 'designate: allow PTR zone creation to fail\n\nWhen multiple PTR records are created at the same time, Neutron may try\nto create the same zone multiple times, resulting in a conflict. Ignore\nthe resulting error instead and try to create the record anyway.\n\nChange-Id: I59b0f99463ab00743f19016a890561916df900ed\nCloses-Bug: 1891309\n(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)\n'}]",0,789661,bfb42dfa02e0da488cfff1dff4fc7449b95619b9,22,4,1,11975,,,0,"designate: allow PTR zone creation to fail

When multiple PTR records are created at the same time, Neutron may try
to create the same zone multiple times, resulting in a conflict. Ignore
the resulting error instead and try to create the record anyway.

Change-Id: I59b0f99463ab00743f19016a890561916df900ed
Closes-Bug: 1891309
(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/789661/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/externaldns/drivers/designate/driver.py'],1,bfb42dfa02e0da488cfff1dff4fc7449b95619b9,bug/1891309-stable/wallaby-stable/victoria-stable/ussuri,"from oslo_log import logLOG = log.getLogger(__name__) # Note(jh): If multiple PTRs get created at the same time, # the creation of the zone may fail with a conflict because # it has already been created by a parallel job. So we # ignore that error and try to create the recordset # anyway. That call will still fail in the end if something # is really broken. See bug 1891309. try: designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description) except d_exc.Conflict: LOG.debug('Conflict when trying to create PTR zone %s,' ' assuming it exists.', in_addr_zone_name) pass"," designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description)",18,3
openstack%2Fdiskimage-builder~master~I48d280192d3713e09571842d5515da2dcc637d08,openstack/diskimage-builder,master,I48d280192d3713e09571842d5515da2dcc637d08,setup.cfg: Replace dashes with underscores,MERGED,2021-05-05 02:12:03.000000000,2021-05-07 05:22:45.000000000,2021-05-07 05:21:30.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-05-05 02:12:03.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/661bb85b781575e45d151a475b65d5f61404a6db', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I48d280192d3713e09571842d5515da2dcc637d08\n""}]",0,789688,661bb85b781575e45d151a475b65d5f61404a6db,11,4,1,32326,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I48d280192d3713e09571842d5515da2dcc637d08
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/88/789688/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,661bb85b781575e45d151a475b65d5f61404a6db,,description_file =author_email = openstack-discuss@lists.openstack.orghome_page = https://docs.openstack.org/diskimage-builder/latest/python_requires = >=3.5,description-file =author-email = openstack-discuss@lists.openstack.orghome-page = https://docs.openstack.org/diskimage-builder/latest/python-requires = >=3.5,4,4
openstack%2Fdiskimage-builder~master~I38820085177fbc7044df20f3652fda9030b57700,openstack/diskimage-builder,master,I38820085177fbc7044df20f3652fda9030b57700,WIP: boot test of containerfile image,NEW,2020-04-22 21:50:07.000000000,2021-05-07 05:15:44.000000000,,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-04-22 21:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/1bf6930256653d3e52456f7eafe0f62f5fa79575', 'message': 'WIP: boot test of containerfile image\n\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 2, 'created': '2020-04-23 12:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/564f9c88184fb432ce1334bb95fa92fcf3e13db8', 'message': 'WIP: boot test of containerfile image\n\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 3, 'created': '2020-04-23 16:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/632dc6d424c9c39e545bd13d00161ed32dbf3396', 'message': 'WIP: boot test of containerfile image\n\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 4, 'created': '2020-10-08 02:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7eea30ed132809a572002443b1c0ec0a23258449', 'message': 'WIP: boot test of containerfile image\n\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 5, 'created': '2020-10-08 02:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/faa07325fdf74491641d971ab731484854236006', 'message': 'WIP: boot test of containerfile image\n\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 6, 'created': '2020-10-08 02:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f791fe92c380c0e2c54b923dfc2280756160790c', 'message': 'WIP: boot test of containerfile image\n\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 7, 'created': '2020-10-08 03:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/587958af04b4bcf4051596d685238acc8c765773', 'message': 'WIP: boot test of containerfile image\n\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 8, 'created': '2020-10-08 04:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b7a85eda35868b6c40c9dca00c5b62484f55d1aa', 'message': 'WIP: boot test of containerfile image\n\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 9, 'created': '2020-10-08 07:00:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a9ba58dd10ee1e731d2cce64e3d5986422fe7bba', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 10, 'created': '2020-10-14 00:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5e291c41706dbf64df2ff772274d3aaf6b3bdd23', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 11, 'created': '2020-10-14 01:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e09d75a0b8a8fc83b738d704137c3816023569da', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 12, 'created': '2020-10-14 03:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5f6de8a8f57539833054d55cf766f9a4f8810cff', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 13, 'created': '2020-10-14 05:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d3032ed6501c8ab21211191c0774d5cc34cb59db', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 14, 'created': '2020-10-15 22:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c9f4af38ca7670706614d81cda77e4b038e54f3f', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 15, 'created': '2020-10-16 01:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/f0e4e883fea112e61243982c17e2d29434c9f8c8', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 16, 'created': '2020-11-11 22:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6b594f52ae87685a1903022e6f087460404df317', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 17, 'created': '2020-11-12 00:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/6534e8c3ff708d01d83f36c95351d6eae6d0c5f5', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 18, 'created': '2020-11-12 02:34:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/05be313a30a19302f468c6cb5d3bedb7611607bf', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 19, 'created': '2020-11-12 04:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7ea59ccf7e97703ffa0ea82e463bad85d56fd005', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 20, 'created': '2020-11-12 06:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b701ef147ed907ffb37de87cc259ff0665345fe9', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 21, 'created': '2020-11-13 03:13:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/176fee852799ef55f24e1f28d5fdfffe164d6bd3', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 22, 'created': '2020-11-13 05:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fc0da045229026d92b8d4f7446fe0ba11234d81f', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}, {'number': 23, 'created': '2021-05-07 03:59:14.000000000', 'files': ['diskimage_builder/elements/fedora-minimal-container/package-installs.yaml', 'diskimage_builder/elements/ubuntu-minimal-container/element-deps', 'diskimage_builder/elements/fedora-minimal-container/element-deps', 'diskimage_builder/elements/containerfile/root.d/08-containerfile', 'diskimage_builder/elements/ubuntu-minimal-container/containerfiles/xenial', 'diskimage_builder/elements/fedora-minimal-container/README.rst', 'diskimage_builder/elements/fedora-minimal-container/environment.d/11-yum-dnf.bash', 'diskimage_builder/elements/fedora-minimal-container/environment.d/10-01-fedora-distro-name.bash', 'diskimage_builder/elements/ubuntu-minimal-container/containerfiles/bionic', 'diskimage_builder/elements/ubuntu-minimal-container/environment.d/11-ubuntu-kernel.bash', '.zuul.d/jobs.yaml', 'diskimage_builder/elements/fedora-minimal-container/test-elements/build-succeeds/element-deps', 'diskimage_builder/elements/fedora-minimal-container/test-elements/build-succeeds/README.rst', 'diskimage_builder/elements/ubuntu-minimal-container/README.rst', 'diskimage_builder/elements/ubuntu-minimal-container/package-installs.yaml', '.zuul.d/project.yaml', 'diskimage_builder/elements/fedora-minimal-container/element-provides', 'diskimage_builder/elements/ubuntu-minimal-container/containerfiles/focal', 'diskimage_builder/elements/fedora-minimal-container/pkg-map', 'diskimage_builder/elements/ubuntu-minimal-container/element-provides', 'diskimage_builder/elements/fedora-minimal-container/containerfiles/33'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/b78818b7b4febb31eefa6af12da58137de6d2d2b', 'message': 'WIP: boot test of containerfile image\n\nDepends-On: https://review.opendev.org/756643\nChange-Id: I38820085177fbc7044df20f3652fda9030b57700\n'}]",2,722148,b78818b7b4febb31eefa6af12da58137de6d2d2b,149,6,23,1,,,0,"WIP: boot test of containerfile image

Depends-On: https://review.opendev.org/756643
Change-Id: I38820085177fbc7044df20f3652fda9030b57700
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/48/722148/13 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', 'playbooks/dib-functests/containerfiles/bionic', '.zuul.d/jobs.yaml']",3,1bf6930256653d3e52456f7eafe0f62f5fa79575,change-722148-22," name: dib-nodepool-functional-openstack-ubuntu-bionic-containerfile description: | Test building and booting an Ubuntu bionic image from a containerfile with Nodepool and OpenStack (using released libraries) parent: nodepool-functional-openstack-base pre-run: playbooks/dib-nodepool/debootstrap.yaml vars: nodepool_debug: true nodepool_extra_packages: - debootstrap nodepool_diskimage: base_element: containerfile release: 'bionic' mirror: ""http://{{ zuul_site_mirror_fqdn }}/ubuntu"" env-vars: DIB_CONTAINER_FILE: ""{{ ansible_user_dir }}/{{ zuul.projects['opendev.org/openstack/diskimage-builder'].src_dir }}/playbooks/dib-functests/containerfiles/bionic"" - job:",,21,0
openstack%2Fcharm-rabbitmq-server~master~I7c4e4bfed4b61dd19bcab06f39a2d54a1d74f237,openstack/charm-rabbitmq-server,master,I7c4e4bfed4b61dd19bcab06f39a2d54a1d74f237,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 18:33:12.000000000,2021-05-07 04:44:31.000000000,2021-05-06 18:51:23.000000000,"[{'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 18:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/51876c1e969f733261bc67434025e8c5c1ae8922', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I7c4e4bfed4b61dd19bcab06f39a2d54a1d74f237\n'}, {'number': 2, 'created': '2021-03-30 18:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/28aed82682e5a018498720fcac4ff93670309d93', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I7c4e4bfed4b61dd19bcab06f39a2d54a1d74f237\n'}, {'number': 3, 'created': '2021-04-01 10:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/67272bd2481324595b3b9f822f7eb31e520b45d5', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I7c4e4bfed4b61dd19bcab06f39a2d54a1d74f237\n'}, {'number': 4, 'created': '2021-04-07 11:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/fa9bf012ebde5032bc86a3cf6a33f3b5f49be514', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nChange-Id: I7c4e4bfed4b61dd19bcab06f39a2d54a1d74f237\n'}, {'number': 5, 'created': '2021-04-16 11:14:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/f365b775376adb82b470bbc8e67080586ab8b4ec', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I7c4e4bfed4b61dd19bcab06f39a2d54a1d74f237\n'}, {'number': 6, 'created': '2021-05-06 10:27:54.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/453b8e979be36493beddae973431a1edd8e3942f', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nLibraries sync.\n\nhisute-wallaby test is disabled (moved to dev) due to [1] as bundle may\nreference a reactive charm.\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I7c4e4bfed4b61dd19bcab06f39a2d54a1d74f237\n'}]",0,779026,453b8e979be36493beddae973431a1edd8e3942f,43,4,6,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

Libraries sync.

hisute-wallaby test is disabled (moved to dev) due to [1] as bundle may
reference a reactive charm.

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I7c4e4bfed4b61dd19bcab06f39a2d54a1d74f237
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/26/779026/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/hirsute-wallaby.yaml', 'tests/bundles/focal-wallaby.yaml']",3,51876c1e969f733261bc67434025e8c5c1ae8922,wallaby-bundles,"variables: openstack-origin: &openstack-origin cloud:focal-wallaby series: focal comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': series: bionic # nagios not supported on focal yet applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: ""../../../rabbitmq-server"" num_units: 3 constraints: cpu-cores=2 options: min-cluster-size: 3 max-cluster-tries: 6 ssl: ""off"" management_plugin: ""False"" stats_cron_schedule: ""*/1 * * * *"" source: *openstack-origin to: - '3' - '4' - '5' cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: *openstack-origin to: - '6' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin admin-password: openstack to: - '7' nagios: charm: cs:nagios series: bionic # not supported on focal yet num_units: 1 to: - '8' nrpe: charm: cs:nrpe relations: - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nrpe:nrpe-external-master' - 'rabbitmq-server:nrpe-external-master' - - 'nrpe:monitors' - 'nagios:monitors' ",,207,1
openstack%2Fopenstacksdk~master~I68a70ba6e87e1a4af80bc303de43db37162cdc6d,openstack/openstacksdk,master,I68a70ba6e87e1a4af80bc303de43db37162cdc6d,Revert tags query_params back to tag,MERGED,2021-05-05 13:05:03.000000000,2021-05-07 03:58:18.000000000,2021-05-07 03:57:00.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-05 13:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9c5fc4c8c6ffa094e8b675d517d97f09dbe9388d', 'message': 'Revert tags option back to tag\n\nThis partially reverts commit 38a3409410f7194017c7cfa86efb50ee040369fc\n\nChange-Id: I68a70ba6e87e1a4af80bc303de43db37162cdc6d\n'}, {'number': 2, 'created': '2021-05-05 13:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f03ee8a64dbf54d8503e7b0464f4498a671ab17a', 'message': 'Revert tags option back to tag\n\nThis partially reverts commit 38a3409410f7194017c7cfa86efb50ee040369fc\n\nChange-Id: I68a70ba6e87e1a4af80bc303de43db37162cdc6d\n'}, {'number': 3, 'created': '2021-05-05 14:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a241ab74f90b814d5bd82e477fe687ca55ee3cc4', 'message': 'Revert tags option back to tag\n\nThis partially reverts commit 38a3409410f7194017c7cfa86efb50ee040369fc\n\nChange-Id: I68a70ba6e87e1a4af80bc303de43db37162cdc6d\n'}, {'number': 4, 'created': '2021-05-05 14:29:17.000000000', 'files': ['openstack/image/v2/image.py', 'openstack/tests/unit/image/v2/test_image.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b6c4c50c2b03457ab14952598481f35e4c06979e', 'message': 'Revert tags query_params back to tag\n\nThis partially reverts commit 38a3409410f7194017c7cfa86efb50ee040369fc\n\nChange-Id: I68a70ba6e87e1a4af80bc303de43db37162cdc6d\n'}]",3,789827,b6c4c50c2b03457ab14952598481f35e4c06979e,22,4,4,28619,,,0,"Revert tags query_params back to tag

This partially reverts commit 38a3409410f7194017c7cfa86efb50ee040369fc

Change-Id: I68a70ba6e87e1a4af80bc303de43db37162cdc6d
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/27/789827/4 && git format-patch -1 --stdout FETCH_HEAD,['openstack/image/v2/image.py'],1,9c5fc4c8c6ffa094e8b675d517d97f09dbe9388d,789827," ""sort_key"", ""sort_dir"", ""sort"", ""tag"", tags = resource.Body('tag')"," ""sort_key"", ""sort_dir"", ""sort"", ""tags"", tags = resource.Body('tags')",2,2
openstack%2Fneutron-tempest-plugin~master~I82f3c5320c5b324167a8c22966e16828090ab4b7,openstack/neutron-tempest-plugin,master,I82f3c5320c5b324167a8c22966e16828090ab4b7,Fix test to prevent network leak,MERGED,2021-05-05 16:49:04.000000000,2021-05-07 03:33:38.000000000,2021-05-07 03:33:38.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 16:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6aa06d719887b80ec38c8872756b2dbe756549fc', 'message': '[1927249] Fix tes to prevent network leak\n\nFix the test case such that the original network ID\n is used during the clean up of the network\n\nhttps: //bugs.launchpad.net/tempest/+bug/1927249\nChange-Id: I82f3c5320c5b324167a8c22966e16828090ab4b7\n'}, {'number': 2, 'created': '2021-05-05 16:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/283558456c20378d3353373388f8208c4ffddf40', 'message': '[1927249] Fix test to prevent network leak\n\nFix the test case such that the original network ID\n is used during the clean up of the network\n\nhttps: //bugs.launchpad.net/tempest/+bug/1927249\nChange-Id: I82f3c5320c5b324167a8c22966e16828090ab4b7\n'}, {'number': 3, 'created': '2021-05-06 13:07:46.000000000', 'files': ['neutron_tempest_plugin/api/test_ports_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/73cebc9782594a1ccbfe969c61bf554e6fad8721', 'message': 'Fix test to prevent network leak\n\nFix the test case such that the original network ID\nis used during the clean up of the network.\n\nCloses-Bug: #1927249\nChange-Id: I82f3c5320c5b324167a8c22966e16828090ab4b7\n'}]",5,789927,73cebc9782594a1ccbfe969c61bf554e6fad8721,17,5,3,30515,,,0,"Fix test to prevent network leak

Fix the test case such that the original network ID
is used during the clean up of the network.

Closes-Bug: #1927249
Change-Id: I82f3c5320c5b324167a8c22966e16828090ab4b7
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/27/789927/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/api/test_ports_negative.py'],1,6aa06d719887b80ec38c8872756b2dbe756549fc,b1927249, # Copy and restore net ID so the cleanup will delete correct net original_network_id = network['id'] network['id'] = original_network_id,,3,0
openstack%2Fironic~stable%2Fwallaby~I6ecbe8ae4c775f5a39b68ff698bde655795e5db7,openstack/ironic,stable/wallaby,I6ecbe8ae4c775f5a39b68ff698bde655795e5db7,Provide an option to not cache bootable iso ramdisks,MERGED,2021-05-05 21:04:25.000000000,2021-05-07 02:16:06.000000000,2021-05-06 10:12:45.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 21:04:25.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_image_utils.py', 'releasenotes/notes/option-no-cache-http-ramdisk-62fc29cdd1d5b152.yaml', 'ironic/drivers/modules/image_utils.py', 'ironic/conf/deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/659eef72ee59fdeb639577c8499406f59644a433', 'message': 'Provide an option to not cache bootable iso ramdisks\n\nThe behavior when a bootable iso is provided behind an http server is\nto download and serve the image from the conductor; the image is\nremoved only when the node is undeployed.\nIn certain cases, for example on large deployments, this could cause\nundesired behaviors, like the conductor nodes running out of disk storage.\nWe provide an option to avoid this event directly using the original url of\nthe bootable iso that is then served directly by the external http server\nwhere it is hosted.\n\nChange-Id: I6ecbe8ae4c775f5a39b68ff698bde655795e5db7\n(cherry picked from commit 4874f3c44e7b49714ca4fb158d2551b8f6f5fee4)\n'}]",0,789863,659eef72ee59fdeb639577c8499406f59644a433,18,3,1,23851,,,0,"Provide an option to not cache bootable iso ramdisks

The behavior when a bootable iso is provided behind an http server is
to download and serve the image from the conductor; the image is
removed only when the node is undeployed.
In certain cases, for example on large deployments, this could cause
undesired behaviors, like the conductor nodes running out of disk storage.
We provide an option to avoid this event directly using the original url of
the bootable iso that is then served directly by the external http server
where it is hosted.

Change-Id: I6ecbe8ae4c775f5a39b68ff698bde655795e5db7
(cherry picked from commit 4874f3c44e7b49714ca4fb158d2551b8f6f5fee4)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/789863/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_image_utils.py', 'releasenotes/notes/option-no-cache-http-ramdisk-62fc29cdd1d5b152.yaml', 'ironic/drivers/modules/image_utils.py', 'ironic/conf/deploy.py']",4,659eef72ee59fdeb639577c8499406f59644a433,no-cache-http-ramdisk-stable/wallaby," cfg.StrOpt('ramdisk_image_download_source', choices=[('http', _('In case the ramdisk is already a bootable ' 'iso, using this option it will be ' 'directly provided by an external HTTP ' 'service using its full url.')), ('local', _('This is the default behavior. ' 'The image is downloaded, prepared and ' 'cached locally, to be served from ' 'the conductor.'))], default='local', mutable=True, help=_('Specifies whether a boot iso image should be served ' 'from its own original location using the image source ' 'url directly, or if ironic should cache the image on ' 'the conductor and serve it from ironic\'s own http ' 'server.')),",,70,1
openstack%2Fopenstack-helm~master~I5a3d250b8882389a0fbca6a181a16d9ff46c2949,openstack/openstack-helm,master,I5a3d250b8882389a0fbca6a181a16d9ff46c2949,setup.cfg: Replace dashes with underscores,MERGED,2021-05-03 07:31:59.000000000,2021-05-07 02:03:20.000000000,2021-05-07 02:01:40.000000000,"[{'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 07:31:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/23419b11f28d8d361e7881fb74698f580a6ee043', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated options in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without this, we see 'UserWarning' messages like the following on new enough versions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I5a3d250b8882389a0fbca6a181a16d9ff46c2949\n""}]",0,789137,23419b11f28d8d361e7881fb74698f580a6ee043,8,4,1,30449,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without this, we see 'UserWarning' messages like the following on new enough versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I5a3d250b8882389a0fbca6a181a16d9ff46c2949
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/37/789137/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,23419b11f28d8d361e7881fb74698f580a6ee043,Replace_dashes,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-helm/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-helm/latest/,3,3
openstack%2Fkolla-ansible~master~Ia5d53fb60d34c1509c6cdb905cbd0a93dd1c8b3d,openstack/kolla-ansible,master,Ia5d53fb60d34c1509c6cdb905cbd0a93dd1c8b3d,Fix cyborg api doesn't listen on api interface,MERGED,2021-03-10 13:31:52.000000000,2021-05-07 01:27:01.000000000,2021-04-07 09:54:15.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 30491}, {'_account_id': 31506}]","[{'number': 1, 'created': '2021-03-10 13:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/93731b16a7578401017f53f71613fc12a2dc2ba0', 'message': 'Fix wrong configurations\n\nhost -> host_ip[0]\nRemove deprecated configuration notification_topics.\n\nWARNING oslo_config.cfg [-] Deprecated: Option ""notification_topics""\nfrom group ""DEFAULT"" is deprecated. Use option ""topics"" from\ngroup ""oslo_messaging_notifications"".\n\n[0]https://docs.openstack.org/cyborg/latest/configuration/sample-config.html\n\nChange-Id: Ia5d53fb60d34c1509c6cdb905cbd0a93dd1c8b3d\n'}, {'number': 2, 'created': '2021-03-26 13:41:13.000000000', 'files': ['ansible/roles/cyborg/templates/cyborg.conf.j2', 'releasenotes/notes/fix-cyborg-host-config-dee1d79476b94981.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76579b80a1586b2c8d29555f47b01f5e58be655b', 'message': 'Fix cyborg api doesn\'t listen on api interface\n\nhost -> host_ip[0]\nRemove deprecated configuration notification_topics.\n\nWARNING oslo_config.cfg [-] Deprecated: Option ""notification_topics""\nfrom group ""DEFAULT"" is deprecated. Use option ""topics"" from\ngroup ""oslo_messaging_notifications"".\n\n[0]https://docs.openstack.org/cyborg/latest/configuration/sample-config.html\n\nChange-Id: Ia5d53fb60d34c1509c6cdb905cbd0a93dd1c8b3d\n'}]",1,779764,76579b80a1586b2c8d29555f47b01f5e58be655b,19,6,2,26285,,,0,"Fix cyborg api doesn't listen on api interface

host -> host_ip[0]
Remove deprecated configuration notification_topics.

WARNING oslo_config.cfg [-] Deprecated: Option ""notification_topics""
from group ""DEFAULT"" is deprecated. Use option ""topics"" from
group ""oslo_messaging_notifications"".

[0]https://docs.openstack.org/cyborg/latest/configuration/sample-config.html

Change-Id: Ia5d53fb60d34c1509c6cdb905cbd0a93dd1c8b3d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/64/779764/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cyborg/templates/cyborg.conf.j2'],1,93731b16a7578401017f53f71613fc12a2dc2ba0,fix-wrong-config,host_ip = {{ api_interface_address }},notification_topics = notificationshost = {{ api_interface_address }},1,2
openstack%2Fmasakari~master~Ib5cd805ead6862fe3b83e55946ba79f39c579a8f,openstack/masakari,master,Ib5cd805ead6862fe3b83e55946ba79f39c579a8f,not wait when error occurs in stop or start.,ABANDONED,2021-05-07 01:24:00.000000000,2021-05-07 01:24:50.000000000,,[],"[{'number': 1, 'created': '2021-05-07 01:24:00.000000000', 'files': ['masakari/engine/drivers/taskflow/instance_failure.py', 'masakari/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/e10477bfdefd6f8a3b87941b92e8d9cbf7c9e14c', 'message': 'not wait when error occurs in stop or start.\n\nWhen processing instance failure notification, if an error occurs wen start or stop instance, thread still waits until loopingcall timeout.\n\nChange-Id: Ib5cd805ead6862fe3b83e55946ba79f39c579a8f\n'}]",0,790197,e10477bfdefd6f8a3b87941b92e8d9cbf7c9e14c,2,0,1,32722,,,0,"not wait when error occurs in stop or start.

When processing instance failure notification, if an error occurs wen start or stop instance, thread still waits until loopingcall timeout.

Change-Id: Ib5cd805ead6862fe3b83e55946ba79f39c579a8f
",git fetch https://review.opendev.org/openstack/masakari refs/changes/97/790197/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/engine/drivers/taskflow/instance_failure.py', 'masakari/exception.py']",2,e10477bfdefd6f8a3b87941b92e8d9cbf7c9e14c,," class InstanceStartFailed(MasakariException): msg_fmt = _(""Failed to start instance %(instance_uuid)s"") class InstanceStopFailed(MasakariException): msg_fmt = _(""Failed to stop instance %(instance_uuid)s"")",,30,0
openstack%2Fswift~master~I68dabf94024957c2fb8c93050d473c6ae02f3f46,openstack/swift,master,I68dabf94024957c2fb8c93050d473c6ae02f3f46,Quarantine stale EC fragments - test follow up.,ABANDONED,2021-05-03 04:48:57.000000000,2021-05-07 01:23:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-03 04:48:57.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/obj/test_ssync.py', 'test/unit/common/test_utils.py', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0c24c641bb93b5500175f206a3a29da822680298', 'message': 'Quarantine stale EC fragments - test follow up.\n\nChange-Id: I68dabf94024957c2fb8c93050d473c6ae02f3f46\n'}]",1,789129,0c24c641bb93b5500175f206a3a29da822680298,4,1,1,7233,,,0,"Quarantine stale EC fragments - test follow up.

Change-Id: I68dabf94024957c2fb8c93050d473c6ae02f3f46
",git fetch https://review.opendev.org/openstack/swift refs/changes/29/789129/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/obj/test_ssync.py', 'test/unit/common/test_utils.py', 'test/unit/obj/test_reconstructor.py']",4,0c24c641bb93b5500175f206a3a29da822680298,wip-lonely-frags-node-iter," do_test('10', 11, 10) do_test('12', 11, 12) def test_reconstruct_fa_quarantine_threshold_one_rnc_just_number(self): def do_test(rnc_num): if rnc_num < self.policy.object_ring.replicas: num_other_resps = self.policy.object_ring.replicas - 2 else: num_other_resps = rnc_num - 2 other_responses = [(404, None, None)] * num_other_resps conf = {'quarantine_threshold': 1, 'reclaim_age': 0, 'request_node_count': str(rnc_num)} # set ring get_more_nodes to yield enough handoffs self.policy.object_ring.max_more_nodes = ( 2 * self.policy.object_ring.replicas) exc = self._do_test_reconstruct_insufficient_frags( conf, 1, other_responses) self.assertIsInstance(exc, DiskFileQuarantined) self._assert_diskfile_quarantined() self._verify_error_lines(1, other_responses, 1) for x in range(0, 3 * self.policy.object_ring.replicas): do_test(x) ",,28,1
openstack%2Fopenstack-zuul-jobs~master~Id2b838f854f3e4165a0b5e9af3e441eccf477b99,openstack/openstack-zuul-jobs,master,Id2b838f854f3e4165a0b5e9af3e441eccf477b99,[dnm] pypa/cryptograhpy testing,ABANDONED,2020-07-22 01:16:39.000000000,2021-05-07 01:14:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-22 01:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c8a08c8d9267d2fad3a9fef94c7c96593ec97432', 'message': '[dnm] pypa/cryptograhpy testing\n\nThis will not live here, but just for testing\n\nChange-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99\n'}, {'number': 2, 'created': '2020-07-22 01:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e2c70a940efc79d5791902b8784ae381fadfbd35', 'message': '[dnm] pypa/cryptograhpy testing\n\nThis will not live here, but just for testing\n\nChange-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99\n'}, {'number': 3, 'created': '2020-07-22 01:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2ac758ac83ec7f0cf558e2bda2046a332cb811fe', 'message': '[dnm] pypa/cryptograhpy testing\n\nThis will not live here, but just for testing\n\nChange-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99\n'}, {'number': 4, 'created': '2020-07-22 01:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9a2ebdd9911c7efdaa0de14d7919dbb20b06238e', 'message': '[dnm] pypa/cryptograhpy testing\n\nThis will not live here, but just for testing\n\nChange-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99\n'}, {'number': 5, 'created': '2020-07-22 02:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a410e46f64e8288cd47fa1b502ac98a1233e938f', 'message': '[dnm] pypa/cryptograhpy testing\n\nThis will not live here, but just for testing\n\nChange-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99\n'}, {'number': 6, 'created': '2020-07-22 02:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/823cda8039bfc9885ccf748e6f869f31ca85bfa9', 'message': '[dnm] pypa/cryptograhpy testing\n\nThis will not live here, but just for testing\n\nChange-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99\n'}, {'number': 7, 'created': '2020-07-22 03:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a2611c6cf0366bc6850abbe87c75fe8d849a17a1', 'message': '[dnm] pypa/cryptograhpy testing\n\nThis will not live here, but just for testing\n\nChange-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99\n'}, {'number': 8, 'created': '2020-07-22 03:26:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ef33c071f0d91dc9a6ea781c5decdc2b93846fe1', 'message': '[dnm] pypa/cryptograhpy testing\n\nThis will not live here, but just for testing\n\nChange-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99\n'}, {'number': 9, 'created': '2020-07-22 03:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ae094db41fc7b7545cb6f7dbb2a3844aa1ad91c1', 'message': '[dnm] pypa/cryptograhpy testing\n\nThis will not live here, but just for testing\n\nChange-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99\n'}, {'number': 10, 'created': '2020-07-22 03:42:38.000000000', 'files': ['playbooks/pyca-cryptography/main.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8218a28c42da319cba5f66d72219352442e713d4', 'message': '[dnm] pypa/cryptograhpy testing\n\nThis will not live here, but just for testing\n\nChange-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99\n'}]",4,742323,8218a28c42da319cba5f66d72219352442e713d4,21,1,10,7118,,,0,"[dnm] pypa/cryptograhpy testing

This will not live here, but just for testing

Change-Id: Id2b838f854f3e4165a0b5e9af3e441eccf477b99
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/23/742323/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/pypa-cryptography/main.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,c8a08c8d9267d2fad3a9fef94c7c96593ec97432,crypography-arm64, - job: name: pypa-cryptography-base abstract: true description: | Run pypa/cryptography unit testing run: playbooks/pypa-cryptography/main.yaml required-projects: - name: pypa/cryptography - job: name: pypa-cryptography-ubuntu-focal-arm64 nodeset: ubuntu-focal-arm64,,43,0
openstack%2Fglance~master~I3231365bc0b8d931fb28bd124552fbda21a45a89,openstack/glance,master,I3231365bc0b8d931fb28bd124552fbda21a45a89,setup.cfg: Replace dashes with underscores,ABANDONED,2021-05-07 00:41:47.000000000,2021-05-07 01:05:44.000000000,,[],"[{'number': 1, 'created': '2021-05-07 00:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/511ba1a27684828ebcad2180e2ad8be914da1b35', 'message': 'setup.cfg: Replace dashes with underscores\n\nChange-Id: I3231365bc0b8d931fb28bd124552fbda21a45a89\n'}, {'number': 2, 'created': '2021-05-07 00:42:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance/commit/813a58de95522f3beb7aece14850719dff95f74f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I3231365bc0b8d931fb28bd124552fbda21a45a89\n""}]",0,790194,813a58de95522f3beb7aece14850719dff95f74f,3,0,2,33161,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I3231365bc0b8d931fb28bd124552fbda21a45a89
",git fetch https://review.opendev.org/openstack/glance refs/changes/94/790194/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,511ba1a27684828ebcad2180e2ad8be914da1b35,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/glance/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/glance/latest/ python-requires = >=3.6,4,4
openstack%2Fmasakari~master~I328f761539cff659e4ce094993af028e4b6f8b74,openstack/masakari,master,I328f761539cff659e4ce094993af028e4b6f8b74,not wait when error occurs in stop or start.,ABANDONED,2021-05-06 13:02:28.000000000,2021-05-07 01:02:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-06 13:02:28.000000000', 'files': ['masakari/engine/drivers/taskflow/instance_failure.py', 'masakari/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/f17375786100787dae82690243ba5d1cfad0e297', 'message': 'not wait when error occurs in stop or start.\n\nWhen processing instance failure notification, if an error occurs wen start or stop instance, thread still waits until loopingcall timeout.\n\nChange-Id: I328f761539cff659e4ce094993af028e4b6f8b74\n'}]",8,790061,f17375786100787dae82690243ba5d1cfad0e297,3,1,1,32722,,,0,"not wait when error occurs in stop or start.

When processing instance failure notification, if an error occurs wen start or stop instance, thread still waits until loopingcall timeout.

Change-Id: I328f761539cff659e4ce094993af028e4b6f8b74
",git fetch https://review.opendev.org/openstack/masakari refs/changes/61/790061/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/engine/drivers/taskflow/instance_failure.py', 'masakari/exception.py']",2,f17375786100787dae82690243ba5d1cfad0e297,," class InstanceStartFailed(MasakariException): msg_fmt = _(""Failed to start instance %(instance_uuid)s"") class InstanceStopFailed(MasakariException): msg_fmt = _(""Failed to stop instance %(instance_uuid)s"")",,25,0
openstack%2Fopenstack-helm~master~Ia522f1839756dc5d359f3b3d6396b51ad33e82bf,openstack/openstack-helm,master,Ia522f1839756dc5d359f3b3d6396b51ad33e82bf,DNM - Testing linter,ABANDONED,2021-04-21 20:44:03.000000000,2021-05-07 00:59:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-21 20:44:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/beef1326c29357919d3ade88c8fb3fb55fcfaddf', 'message': 'DNM - Testing linter\n\nChange-Id: Ia522f1839756dc5d359f3b3d6396b51ad33e82bf\n'}, {'number': 2, 'created': '2021-04-21 20:50:03.000000000', 'files': ['keystone/templates/job-db-sync.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3fd31e126647f1775fa774cf07fe235ec7e760c2', 'message': 'DNM - Testing linter\n\nChange-Id: Ia522f1839756dc5d359f3b3d6396b51ad33e82bf\n'}]",0,787441,3fd31e126647f1775fa774cf07fe235ec7e760c2,5,1,2,21420,,,0,"DNM - Testing linter

Change-Id: Ia522f1839756dc5d359f3b3d6396b51ad33e82bf
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/41/787441/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/templates/job-db-sync.yaml', 'zuul.d/project.yaml']",2,beef1326c29357919d3ade88c8fb3fb55fcfaddf,helm2-hook,, templates: - publish-openstack-docs-pti - release-notes-jobs-python3 - openstack-helm-bandit - openstack-helm-cinder-train-ubuntu_bionic - openstack-helm-cinder-ussuri-ubuntu_bionic - openstack-helm-compute-kit-train-ubuntu_bionic - openstack-helm-compute-kit-ussuri-ubuntu_bionic - openstack-helm-horizon-train-ubuntu_bionic,2,9
openstack%2Fopenstack-helm-docs~master~Ib68777f189ed70dd717bddb664ac70dfe6527d6e,openstack/openstack-helm-docs,master,Ib68777f189ed70dd717bddb664ac70dfe6527d6e,setup.cfg: Replace dashes with underscores,MERGED,2021-05-03 07:41:21.000000000,2021-05-07 00:52:53.000000000,2021-05-07 00:51:44.000000000,"[{'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-03 07:41:21.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/openstack-helm-docs/commit/5ca895b52f866151ee47b85cccc3466528c0200f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ib68777f189ed70dd717bddb664ac70dfe6527d6e\n""}]",0,789140,5ca895b52f866151ee47b85cccc3466528c0200f,9,5,1,30449,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ib68777f189ed70dd717bddb664ac70dfe6527d6e
",git fetch https://review.opendev.org/openstack/openstack-helm-docs refs/changes/40/789140/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5ca895b52f866151ee47b85cccc3466528c0200f,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/openstack-helm-docs/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/openstack-helm-docs/latest/,3,3
openstack%2Ftripleo-heat-templates~master~I3f0f0881d2a1447c0bc46d0101b2e949c1f925df,openstack/tripleo-heat-templates,master,I3f0f0881d2a1447c0bc46d0101b2e949c1f925df,Enable configuration of omamqp1 plugin,MERGED,2021-03-01 22:20:42.000000000,2021-05-07 00:39:33.000000000,2021-05-07 00:39:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7294}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-01 22:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/09967e3ac5159c0b107b9ada3b0bb835220c5fef', 'message': 'Enable configuration of omamqp1 plugin\n\nAdd AMQP-1.0 configuration option for puppet-tripleo\n\nDepends-On: Ibfa43a89ea4c0411f83849ced183bf9609a50d97\nChange-Id: I3f0f0881d2a1447c0bc46d0101b2e949c1f925df\n'}, {'number': 2, 'created': '2021-04-06 12:56:08.000000000', 'files': ['deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e5a5fc97ebf2210d4f31ad806bccaabc6ce42cdb', 'message': 'Enable configuration of omamqp1 plugin\n\nAdd AMQP-1.0 configuration option for puppet-tripleo\n\nDepends-On: Ibfa43a89ea4c0411f83849ced183bf9609a50d97\nChange-Id: I3f0f0881d2a1447c0bc46d0101b2e949c1f925df\n'}]",1,778083,e5a5fc97ebf2210d4f31ad806bccaabc6ce42cdb,35,8,2,5241,,,0,"Enable configuration of omamqp1 plugin

Add AMQP-1.0 configuration option for puppet-tripleo

Depends-On: Ibfa43a89ea4c0411f83849ced183bf9609a50d97
Change-Id: I3f0f0881d2a1447c0bc46d0101b2e949c1f925df
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/778083/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/rsyslog-container-puppet.yaml'],1,09967e3ac5159c0b107b9ada3b0bb835220c5fef,rsyslog-amqp1," RsyslogAmqp1Setting: default: {} description: Configuration for rsyslog-elasticsearch plugin type: json - equals: [{get_param: RsyslogElasticsearchSetting}, {}] use_elasticsearch: not: equals: [{get_param: RsyslogElasticsearchSetting}, {}] use_amqp1: not: equals: [{get_param: RsyslogAmqp1Setting}, {}] omamqp1: {} - if: - use_elasticsearch - tripleo::profile::base::logging::rsyslog::elasticsearch: map_merge: - {get_param: RsyslogElasticsearchSetting} - template: rsyslog-record searchIndex: rsyslog-node-index dynSearchIndex: ""on"" errorfile: '/var/log/rsyslog/omelasticsearch.log' - {} - if: - use_amqp1 - tripleo::profile::base::logging::rsyslog::amqp1: map_merge: - {get_param: RsyslogAmqp1Setting} - template: rsyslog-record - {}"," tripleo::profile::base::logging::rsyslog::elasticsearch: map_merge: - {get_param: RsyslogElasticsearchSetting} - template: rsyslog-record searchIndex: rsyslog-node-index dynSearchIndex: ""on"" errorfile: '/var/log/rsyslog/omelasticsearch.log'",30,8
openstack%2Fcinder~stable%2Ftrain~I2a521118598de336148a56c1d5352107ece80721,openstack/cinder,stable/train,I2a521118598de336148a56c1d5352107ece80721,Add ports filtering support to Dell EMC XtremIO driver,MERGED,2021-03-30 14:44:43.000000000,2021-05-07 00:37:47.000000000,2021-05-07 00:33:46.000000000,"[{'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 21570}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30615}, {'_account_id': 31016}]","[{'number': 1, 'created': '2021-03-30 14:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1bb6968f48201c36753b86197b28d5df0cb02096', 'message': 'Add ports filtering support to Dell EMC XtremIO driver\n\nIf there are some iSCSI or FC targets (ESXi for example) that\nare not connected to the OpenStack host,\nattach volume operation waits until timeout.\nThe XtremIO Cinder driver needs a new option to support ports\nfiltering.\n\nChange-Id: I2a521118598de336148a56c1d5352107ece80721\nCloses-Bug: #1915800\n(cherry picked from commit e175d64cac735e8845165d0e8b48c4a8f2402ea1)\n'}, {'number': 2, 'created': '2021-04-13 09:36:51.000000000', 'files': ['cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py', 'releasenotes/notes/bug-1900979-xtremio-ports-filtering-e68f90d47f17a7d9.yaml', 'doc/source/configuration/block-storage/drivers/dell-emc-xtremio-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/82427ff40fb4e6122dba05c8af16e76d5759d2d5', 'message': 'Add ports filtering support to Dell EMC XtremIO driver\n\nIf there are some iSCSI or FC targets (ESXi for example) that\nare not connected to the OpenStack host,\nattach volume operation waits until timeout.\nThe XtremIO Cinder driver needs a new option to support ports\nfiltering.\n\nChange-Id: I2a521118598de336148a56c1d5352107ece80721\nCloses-Bug: #1915800\n(cherry picked from commit e175d64cac735e8845165d0e8b48c4a8f2402ea1)\n(cherry picked from commit a357ca2755d613ba31556d2f42c120b4cafdc2be)\n(cherry picked from commit d9c029c174ab872c19f3fe2da504d87015ff60a5)\n'}]",0,783866,82427ff40fb4e6122dba05c8af16e76d5759d2d5,57,10,2,13671,,,0,"Add ports filtering support to Dell EMC XtremIO driver

If there are some iSCSI or FC targets (ESXi for example) that
are not connected to the OpenStack host,
attach volume operation waits until timeout.
The XtremIO Cinder driver needs a new option to support ports
filtering.

Change-Id: I2a521118598de336148a56c1d5352107ece80721
Closes-Bug: #1915800
(cherry picked from commit e175d64cac735e8845165d0e8b48c4a8f2402ea1)
(cherry picked from commit a357ca2755d613ba31556d2f42c120b4cafdc2be)
(cherry picked from commit d9c029c174ab872c19f3fe2da504d87015ff60a5)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/783866/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py', 'releasenotes/notes/bug-1900979-xtremio-ports-filtering-e68f90d47f17a7d9.yaml', 'doc/source/configuration/block-storage/drivers/dell-emc-xtremio-driver.rst']",4,1bb6968f48201c36753b86197b28d5df0cb02096,bug/1915800,"Configuring ports filtering ~~~~~~~~~~~~~~~~~~~~~~~~~~~ The XtremIO Block Storage driver supports ports filtering to define a list of iSCSI IP-addresses or FC WWNs which will be used to attach volumes. If option is not set all ports are allowed. .. code-block:: ini xtremio_ports = iSCSI IPs or FC WWNs xtremio_ports = 21:00:00:24:ff:57:b2:36,21:00:00:24:ff:57:b2:55",,119,17
openstack%2Fcinder~stable%2Ftrain~I00f1bd46bc8715591016f59c32651fc2c9cddf35,openstack/cinder,stable/train,I00f1bd46bc8715591016f59c32651fc2c9cddf35,[SVF]:Reduce slowness by caching pool information,MERGED,2021-05-05 14:24:57.000000000,2021-05-07 00:36:38.000000000,2021-05-07 00:33:15.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 32171}]","[{'number': 1, 'created': '2021-05-05 14:24:57.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1890591-Pool-information-is-not-saved-in-stats-22f302d941cd9fe2.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/daf88552e539b5dd4a08a61e304c1ac7d54d5b94', 'message': '[SVF]:Reduce slowness by caching pool information\n\n[Spectrum Virtualize Family] Data_reduction is a pool specific property,\nthis property should be saved for a specific pool during initialisation.\n\nWith this, calls to get_pool_attrs can be reduced everytime create_vdisk\nis called, in order to check if pool is a data_reduction_pool.\n\ncloses bug: #1890591\n\nChange-Id: I00f1bd46bc8715591016f59c32651fc2c9cddf35\n(cherry picked from commit 7d89890704ef2ed9265a5dec9cbe47cb1ffc5aaa)\n(cherry picked from commit e2cddc108b174895b3575e9a2640d3cd8afc21ab)\n(cherry picked from commit 8426a5bdc0c2becdab87920740bee8e1bf983992)\n'}]",0,789856,daf88552e539b5dd4a08a61e304c1ac7d54d5b94,32,4,1,27615,,,0,"[SVF]:Reduce slowness by caching pool information

[Spectrum Virtualize Family] Data_reduction is a pool specific property,
this property should be saved for a specific pool during initialisation.

With this, calls to get_pool_attrs can be reduced everytime create_vdisk
is called, in order to check if pool is a data_reduction_pool.

closes bug: #1890591

Change-Id: I00f1bd46bc8715591016f59c32651fc2c9cddf35
(cherry picked from commit 7d89890704ef2ed9265a5dec9cbe47cb1ffc5aaa)
(cherry picked from commit e2cddc108b174895b3575e9a2640d3cd8afc21ab)
(cherry picked from commit 8426a5bdc0c2becdab87920740bee8e1bf983992)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/56/789856/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1890591-Pool-information-is-not-saved-in-stats-22f302d941cd9fe2.yaml']",3,daf88552e539b5dd4a08a61e304c1ac7d54d5b94,bug/1890591-stable/train,--- fixes: - | `Bug #1890591 <https://bugs.launchpad.net/cinder/+bug/1890591>`_: IBM Spectrum Virtualize Family: Fixed issue in do_setup of StorwizeSVCCommonDriver to save pool information in stats during initialisation. ,,96,1
openstack%2Fcinder~stable%2Fussuri~I45f1a057151e749e8c44f266ec8b41a80761ebec,openstack/cinder,stable/ussuri,I45f1a057151e749e8c44f266ec8b41a80761ebec,Fix sporadic cleanup unit test failure,MERGED,2021-05-06 11:56:54.000000000,2021-05-07 00:36:33.000000000,2021-05-07 00:34:17.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 11:56:54.000000000', 'files': ['cinder/tests/unit/test_cleanable_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e156653d39885b39026ecb08df315b7c0b0b8a55', 'message': ""Fix sporadic cleanup unit test failure\n\nFrom time to time we see unit test\ntest_do_cleanup_not_cleaning_already_claimed_by_us failing at the gate\nwith error:\n\n    testtools.matchers._impl.MismatchError: 1 != 0\n\nThis happens because the test was assuming that the machine running the\ncode would get different times in consecutive utcnow() calls, which\nsometimes is not the case if the machine is fast.\n\nThe places where the call is expected to have different values are:\n\n- When the test assigns original_time\n- When the test assigns other_thread_claimed_time\n- When cinder.manager.CleanableManager.do_cleanup assigns until\n\nThis patch fixes this issue by simulating that:\n\n- worker1 entry was created in the past (original_time is T-1)\n\n- db's worker_get_all is mocked to simulate that worker2 entry was\n  created in the past (T-1)\n\n- simulate that another thread has picked up the worker2 entry by\n  writing a newer time in the DB (other_thread_claimed_time)\n\n- making sure that the do_cleanup method uses a time between these two\n  (T)\n\nThis way we will no longer rely on the values returned by utcnow().\n\nChange-Id: I45f1a057151e749e8c44f266ec8b41a80761ebec\n(cherry picked from commit 1c3cda154f85dd09041a8d93f4d29d9ebc57a47b)\n(cherry picked from commit 4e472a3e0241313bd4de1a189c8082934453260b)\n""}]",0,790048,e156653d39885b39026ecb08df315b7c0b0b8a55,16,4,1,4523,,,0,"Fix sporadic cleanup unit test failure

From time to time we see unit test
test_do_cleanup_not_cleaning_already_claimed_by_us failing at the gate
with error:

    testtools.matchers._impl.MismatchError: 1 != 0

This happens because the test was assuming that the machine running the
code would get different times in consecutive utcnow() calls, which
sometimes is not the case if the machine is fast.

The places where the call is expected to have different values are:

- When the test assigns original_time
- When the test assigns other_thread_claimed_time
- When cinder.manager.CleanableManager.do_cleanup assigns until

This patch fixes this issue by simulating that:

- worker1 entry was created in the past (original_time is T-1)

- db's worker_get_all is mocked to simulate that worker2 entry was
  created in the past (T-1)

- simulate that another thread has picked up the worker2 entry by
  writing a newer time in the DB (other_thread_claimed_time)

- making sure that the do_cleanup method uses a time between these two
  (T)

This way we will no longer rely on the values returned by utcnow().

Change-Id: I45f1a057151e749e8c44f266ec8b41a80761ebec
(cherry picked from commit 1c3cda154f85dd09041a8d93f4d29d9ebc57a47b)
(cherry picked from commit 4e472a3e0241313bd4de1a189c8082934453260b)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/48/790048/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_cleanable_manager.py'],1,e156653d39885b39026ecb08df315b7c0b0b8a55,," now = timeutils.utcnow() delta = timeutils.datetime.timedelta(seconds=1) original_time = now - delta # Creating the worker in the future, and then changing the in-memory # value of worker2.updated_at to an earlier time, we effectively # simulate that the worker entry was created in the past and that it # has been just updated between worker_get_all and trying # to claim a work for cleanup other_thread_claimed_time = now + delta # This with the mock below simulates worker2 was created in the past # and updated right between worker_get_all and worker_claim_for_cleanup with mock.patch('cinder.manager.timeutils.utcnow', return_value=now),\ mock.patch('cinder.db.worker_get_all') as get_all_mock:", original_time = timeutils.utcnow() other_thread_claimed_time = timeutils.utcnow() # Simulate that the change to vol2 worker happened between # worker_get_all and trying to claim a work for cleanup with mock.patch('cinder.db.worker_get_all') as get_all_mock:,13,6
openstack%2Fcinder~stable%2Ftrain~I660ed16a36ad9415a5de757b32a6770e27b1294c,openstack/cinder,stable/train,I660ed16a36ad9415a5de757b32a6770e27b1294c,Label temporary files created by image_utils,MERGED,2021-04-19 15:29:07.000000000,2021-05-07 00:33:20.000000000,2021-05-07 00:33:20.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9373}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-04-19 15:29:07.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c35c9f814132e9d010844f8668b12fb7a5e7879c', 'message': 'Label temporary files created by image_utils\n\nThese files can be rather large at times, prefix\nthem with identifiers so that when troubleshooting\nCinder, it is possible to identify what is\nconsuming disk space.\n\nCloses-Bug: #1911766\nChange-Id: I660ed16a36ad9415a5de757b32a6770e27b1294c\n(cherry picked from commit 3ce9d773aa233829d1dcbae2f9e1aebecd248305)\n(cherry picked from commit d94f8032b31934076c64153cf37fed095a7c8177)\n(cherry picked from commit dc8a1beabfb4d0cb429ca9932bcadbd07cdb4416)\n'}]",0,786887,c35c9f814132e9d010844f8668b12fb7a5e7879c,26,6,1,4523,,,0,"Label temporary files created by image_utils

These files can be rather large at times, prefix
them with identifiers so that when troubleshooting
Cinder, it is possible to identify what is
consuming disk space.

Closes-Bug: #1911766
Change-Id: I660ed16a36ad9415a5de757b32a6770e27b1294c
(cherry picked from commit 3ce9d773aa233829d1dcbae2f9e1aebecd248305)
(cherry picked from commit d94f8032b31934076c64153cf37fed095a7c8177)
(cherry picked from commit dc8a1beabfb4d0cb429ca9932bcadbd07cdb4416)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/786887/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py']",2,c35c9f814132e9d010844f8668b12fb7a5e7879c,bug/1911766, mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id) mock_temp.assert_called_once_with(prefix='image_download_%s_' % image_id), mock_temp.assert_called_once_with() mock_temp.assert_called_once_with() mock_temp.assert_called_once_with() mock_temp.assert_called_once_with() mock_temp.assert_called_once_with() mock_temp.assert_called_once_with() mock_temp.assert_called_once_with() mock_temp.assert_called_once_with() mock_temp.assert_called_once_with() mock_temp.assert_called_once_with() mock_temp.assert_called_once_with() mock_temp.assert_called_once_with(),28,15
openstack%2Fcharm-mysql-router~master~I16b04aab3ad2438b4c2ecabb697d24c7725e316b,openstack/charm-mysql-router,master,I16b04aab3ad2438b4c2ecabb697d24c7725e316b,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 12:44:42.000000000,2021-05-07 00:24:48.000000000,2021-05-06 20:03:40.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 12:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/8c759ba76b75ce0110c2f364276acadf64664e08', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I16b04aab3ad2438b4c2ecabb697d24c7725e316b\n'}, {'number': 2, 'created': '2021-03-30 16:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/23c092b6090324d5ca3868a39f570e3cb83514d6', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I16b04aab3ad2438b4c2ecabb697d24c7725e316b\n'}, {'number': 3, 'created': '2021-04-15 18:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/f929cd4d68841d171da20624a120171e58269321', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I16b04aab3ad2438b4c2ecabb697d24c7725e316b\n'}, {'number': 4, 'created': '2021-04-16 18:23:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/4c1fb57247afeff952c895d44b6292b64690acf4', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I16b04aab3ad2438b4c2ecabb697d24c7725e316b\n'}, {'number': 5, 'created': '2021-05-06 10:08:55.000000000', 'files': ['osci.yaml', 'src/tests/bundles/hirsute-full.yaml', 'src/tests/bundles/overlays/hirsute-full-ha.yaml.j2', 'src/tests/bundles/hirsute.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-full-ha.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-router/commit/4cd4a1e37ae52c0d81aec171ab090ac38bdc7d33', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I16b04aab3ad2438b4c2ecabb697d24c7725e316b\n'}]",0,778903,4cd4a1e37ae52c0d81aec171ab090ac38bdc7d33,32,4,5,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I16b04aab3ad2438b4c2ecabb697d24c7725e316b
",git fetch https://review.opendev.org/openstack/charm-mysql-router refs/changes/03/778903/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/hirsute-full.yaml', 'src/tests/bundles/overlays/hirsute-full-ha.yaml.j2', 'src/tests/bundles/hirsute.yaml', 'src/tests/tests.yaml']",4,8c759ba76b75ce0110c2f364276acadf64664e08,wallaby-bundles,- hirsute - full_model_ha: hirsute-full-ha - hirsute - hirsute-full-ha, - groovy - groovy-full-ha,194,2
openstack%2Floci~master~I307777b5e8858d9240b09e4730a7b59f2ea99d5d,openstack/loci,master,I307777b5e8858d9240b09e4730a7b59f2ea99d5d,gate: resolve pipbootstrap seed issues,ABANDONED,2021-05-06 23:56:42.000000000,2021-05-07 00:02:14.000000000,,[],"[{'number': 1, 'created': '2021-05-06 23:56:42.000000000', 'files': ['scripts/setup_pip.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/558ced79749cfc2fc60d580b07ec5eb4746ba9f0', 'message': 'gate: resolve pipbootstrap seed issues\n\nAt the moment, when we create the `pipbootstrap` virtualenv,\nwe check for the setuptools version however virtualenv now\nincludes an output of `virtualenv` before the version name\nwhich breaks, this removes it which should make the operation\nresolve resolve properly.\n\nChange-Id: I307777b5e8858d9240b09e4730a7b59f2ea99d5d\n'}]",0,790191,558ced79749cfc2fc60d580b07ec5eb4746ba9f0,3,0,1,1004,,,0,"gate: resolve pipbootstrap seed issues

At the moment, when we create the `pipbootstrap` virtualenv,
we check for the setuptools version however virtualenv now
includes an output of `virtualenv` before the version name
which breaks, this removes it which should make the operation
resolve resolve properly.

Change-Id: I307777b5e8858d9240b09e4730a7b59f2ea99d5d
",git fetch https://review.opendev.org/openstack/loci refs/changes/91/790191/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/setup_pip.sh'],1,558ced79749cfc2fc60d580b07ec5eb4746ba9f0,,if (( $(${TMP_VIRTUALENV} --version | cut -d. -f1 | sed 's/virtualenv //') >= 14 )); thenif (( $(${TMP_VIRTUALENV} --version | cut -d. -f1 | sed 's/virtualenv //') >= 20 )); then,if (( $(${TMP_VIRTUALENV} --version | cut -d. -f1) >= 14 )); thenif (( $(${TMP_VIRTUALENV} --version | cut -d. -f1) >= 20 )); then,2,2
openstack%2Fcinder~stable%2Ftrain~I45f1a057151e749e8c44f266ec8b41a80761ebec,openstack/cinder,stable/train,I45f1a057151e749e8c44f266ec8b41a80761ebec,Fix sporadic cleanup unit test failure,MERGED,2021-05-06 11:58:02.000000000,2021-05-06 23:55:20.000000000,2021-05-06 23:53:44.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 11:58:02.000000000', 'files': ['cinder/tests/unit/test_cleanable_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b95abaa3db477b6a14d578ff6acb352d07d1e3c6', 'message': ""Fix sporadic cleanup unit test failure\n\nFrom time to time we see unit test\ntest_do_cleanup_not_cleaning_already_claimed_by_us failing at the gate\nwith error:\n\n    testtools.matchers._impl.MismatchError: 1 != 0\n\nThis happens because the test was assuming that the machine running the\ncode would get different times in consecutive utcnow() calls, which\nsometimes is not the case if the machine is fast.\n\nThe places where the call is expected to have different values are:\n\n- When the test assigns original_time\n- When the test assigns other_thread_claimed_time\n- When cinder.manager.CleanableManager.do_cleanup assigns until\n\nThis patch fixes this issue by simulating that:\n\n- worker1 entry was created in the past (original_time is T-1)\n\n- db's worker_get_all is mocked to simulate that worker2 entry was\n  created in the past (T-1)\n\n- simulate that another thread has picked up the worker2 entry by\n  writing a newer time in the DB (other_thread_claimed_time)\n\n- making sure that the do_cleanup method uses a time between these two\n  (T)\n\nThis way we will no longer rely on the values returned by utcnow().\n\nChange-Id: I45f1a057151e749e8c44f266ec8b41a80761ebec\n(cherry picked from commit 1c3cda154f85dd09041a8d93f4d29d9ebc57a47b)\n(cherry picked from commit 4e472a3e0241313bd4de1a189c8082934453260b)\n(cherry picked from commit e156653d39885b39026ecb08df315b7c0b0b8a55)\n""}]",0,790049,b95abaa3db477b6a14d578ff6acb352d07d1e3c6,16,5,1,4523,,,0,"Fix sporadic cleanup unit test failure

From time to time we see unit test
test_do_cleanup_not_cleaning_already_claimed_by_us failing at the gate
with error:

    testtools.matchers._impl.MismatchError: 1 != 0

This happens because the test was assuming that the machine running the
code would get different times in consecutive utcnow() calls, which
sometimes is not the case if the machine is fast.

The places where the call is expected to have different values are:

- When the test assigns original_time
- When the test assigns other_thread_claimed_time
- When cinder.manager.CleanableManager.do_cleanup assigns until

This patch fixes this issue by simulating that:

- worker1 entry was created in the past (original_time is T-1)

- db's worker_get_all is mocked to simulate that worker2 entry was
  created in the past (T-1)

- simulate that another thread has picked up the worker2 entry by
  writing a newer time in the DB (other_thread_claimed_time)

- making sure that the do_cleanup method uses a time between these two
  (T)

This way we will no longer rely on the values returned by utcnow().

Change-Id: I45f1a057151e749e8c44f266ec8b41a80761ebec
(cherry picked from commit 1c3cda154f85dd09041a8d93f4d29d9ebc57a47b)
(cherry picked from commit 4e472a3e0241313bd4de1a189c8082934453260b)
(cherry picked from commit e156653d39885b39026ecb08df315b7c0b0b8a55)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/49/790049/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test_cleanable_manager.py'],1,b95abaa3db477b6a14d578ff6acb352d07d1e3c6,," now = timeutils.utcnow() delta = timeutils.datetime.timedelta(seconds=1) original_time = now - delta # Creating the worker in the future, and then changing the in-memory # value of worker2.updated_at to an earlier time, we effectively # simulate that the worker entry was created in the past and that it # has been just updated between worker_get_all and trying # to claim a work for cleanup other_thread_claimed_time = now + delta # This with the mock below simulates worker2 was created in the past # and updated right between worker_get_all and worker_claim_for_cleanup with mock.patch('cinder.manager.timeutils.utcnow', return_value=now),\ mock.patch('cinder.db.worker_get_all') as get_all_mock:", original_time = timeutils.utcnow() other_thread_claimed_time = timeutils.utcnow() # Simulate that the change to vol2 worker happened between # worker_get_all and trying to claim a work for cleanup with mock.patch('cinder.db.worker_get_all') as get_all_mock:,13,6
openstack%2Ftripleo-ci~master~I06456543eb599a261ab8248df31de18e1ca044fc,openstack/tripleo-ci,master,I06456543eb599a261ab8248df31de18e1ca044fc,ensure undercloud|standalone-install-.tar is not collected,MERGED,2021-05-04 17:33:59.000000000,2021-05-06 23:06:58.000000000,2021-05-06 23:06:58.000000000,"[{'_account_id': 1955}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 13294}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-04 17:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6359789bdedbb01f0fe724d45465f8f444909717', 'message': 'ensure standalone-install-.tar is not collected\n\nChange-Id: I06456543eb599a261ab8248df31de18e1ca044fc\n'}, {'number': 2, 'created': '2021-05-04 17:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/65fe4b87e6f812e86443791fc97ae3759c8f0804', 'message': 'ensure undercloud|standalone-install-.tar is not collected\n\nTOOO BIG\n\nChange-Id: I06456543eb599a261ab8248df31de18e1ca044fc\n'}, {'number': 3, 'created': '2021-05-05 00:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ecd017452bb97a134e67f469b5210b1a63f7d83d', 'message': 'ensure undercloud|standalone-install-.tar is not collected\n\nTOOO BIG\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/789653\nChange-Id: I06456543eb599a261ab8248df31de18e1ca044fc\n'}, {'number': 4, 'created': '2021-05-05 12:31:19.000000000', 'files': ['toci-quickstart/config/collect-logs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/300915c3944174643ed4f40506efe41f68ec0a11', 'message': 'ensure undercloud|standalone-install-.tar is not collected\n\nTOOO BIG\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/789787\nChange-Id: I06456543eb599a261ab8248df31de18e1ca044fc\n'}]",4,789616,300915c3944174643ed4f40506efe41f68ec0a11,31,9,4,9592,,,0,"ensure undercloud|standalone-install-.tar is not collected

TOOO BIG

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/789787
Change-Id: I06456543eb599a261ab8248df31de18e1ca044fc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/16/789616/4 && git format-patch -1 --stdout FETCH_HEAD,['toci-quickstart/config/collect-logs.yml'],1,6359789bdedbb01f0fe724d45465f8f444909717,, - standalone-install-*,,1,0
openstack%2Ftripleo-image-elements~master~Ia0fceeb17e5840cd8709b9767c88561f1a02e65d,openstack/tripleo-image-elements,master,Ia0fceeb17e5840cd8709b9767c88561f1a02e65d,Rename block device files to be arch specific,ABANDONED,2021-05-06 23:03:15.000000000,2021-05-06 23:04:25.000000000,,[],"[{'number': 1, 'created': '2021-05-06 23:03:15.000000000', 'files': ['elements/overcloud-partition-uefi/element-deps', 'elements/overcloud-partition-uefi/element-provides', 'elements/overcloud-partition/element-deps', 'elements/overcloud-partition-uefi/environment.d/15-block-device.bash', 'elements/overcloud-partition/element-provides', 'elements/overcloud-partition-uefi/block-device-default.yaml', 'elements/overcloud-partition/environment.d/15-block-device.bash'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/97e77b16cd1a216d13d1a6212436446ffc04d939', 'message': ""Rename block device files to be arch specific\n\nEnsure the overcloud partition element block device yaml is used\ninstead of the one in the block-device-efi element by renaming it to\nblock-device-amd64.yaml instead of block-device-default.yaml.\n\nElement search order is non-deterministic, so this is to ensure that\nthis element's block device takes precedence (along with the\nassociated diskimage-builder change).\n\nChange-Id: Ia0fceeb17e5840cd8709b9767c88561f1a02e65d\nDepends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/789127\n""}]",0,790187,97e77b16cd1a216d13d1a6212436446ffc04d939,2,0,1,4571,,,0,"Rename block device files to be arch specific

Ensure the overcloud partition element block device yaml is used
instead of the one in the block-device-efi element by renaming it to
block-device-amd64.yaml instead of block-device-default.yaml.

Element search order is non-deterministic, so this is to ensure that
this element's block device takes precedence (along with the
associated diskimage-builder change).

Change-Id: Ia0fceeb17e5840cd8709b9767c88561f1a02e65d
Depends-On: https://review.opendev.org/c/openstack/diskimage-builder/+/789127
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/87/790187/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-partition-uefi/element-deps', 'elements/overcloud-partition-uefi/element-provides', 'elements/overcloud-partition/element-deps', 'elements/overcloud-partition-uefi/environment.d/15-block-device.bash', 'elements/overcloud-partition/element-provides', 'elements/overcloud-partition-uefi/block-device-default.yaml', 'elements/overcloud-partition/environment.d/15-block-device.bash']",7,97e77b16cd1a216d13d1a6212436446ffc04d939,bp/whole-disk-default,"# # Arch gate # if [[ ""arm64 aarch64"" =~ $ARCH ]]; then echo ""overcloud-partition is not supported on AARCH64"" exit 1 fi export DIB_BLOCK_DEVICE=mbr ",,28,8
openstack%2Fswift~master~Ic8159ec505a5b5ca241729e157195a60c73b8cd8,openstack/swift,master,Ic8159ec505a5b5ca241729e157195a60c73b8cd8,Remove test-requirement on fixtures,MERGED,2021-05-04 22:53:56.000000000,2021-05-06 23:01:23.000000000,2021-05-06 22:58:40.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 22:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ecaa6ab83d471de86792dedba0b92e302f4242e6', 'message': 'Remove test-requirement on fixtures\n\nChange-Id: Ic8159ec505a5b5ca241729e157195a60c73b8cd8\n'}, {'number': 2, 'created': '2021-05-04 23:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ca471f2c7cbf4b260e40e446062b1fc869afbc6e', 'message': 'Remove test-requirement on fixtures\n\nChange-Id: Ic8159ec505a5b5ca241729e157195a60c73b8cd8\n'}, {'number': 3, 'created': '2021-05-05 22:45:52.000000000', 'files': ['test-requirements.txt', 'test/unit/common/middleware/s3api/test_s3token.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f0e909749e2a4fc33a56dcd05bca4081a535f3bf', 'message': 'Remove test-requirement on fixtures\n\nChange-Id: Ic8159ec505a5b5ca241729e157195a60c73b8cd8\n'}]",1,789647,f0e909749e2a4fc33a56dcd05bca4081a535f3bf,11,2,3,15343,,,0,"Remove test-requirement on fixtures

Change-Id: Ic8159ec505a5b5ca241729e157195a60c73b8cd8
",git fetch https://review.opendev.org/openstack/swift refs/changes/47/789647/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'test/unit/common/middleware/s3api/test_s3token.py', 'lower-constraints.txt', 'py2-constraints.txt']",4,ecaa6ab83d471de86792dedba0b92e302f4242e6,,,fixtures===3.0.0,33,32
openstack%2Fneutron~stable%2Fussuri~Ia9e23113fdeebf0b99085da200c3d61b71567d36,openstack/neutron,stable/ussuri,Ia9e23113fdeebf0b99085da200c3d61b71567d36,Don't ever give up trying to connect to OVN DBs,MERGED,2021-04-28 20:01:36.000000000,2021-05-06 23:01:20.000000000,2021-05-06 22:58:30.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 18511}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 20:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9bdc6ecf5fef51e841fc983cfd046f5e2a52ec06', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}, {'number': 2, 'created': '2021-04-28 20:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ad98d34a576bc08679d5c464419a71e4c29d976f', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nConflicts:\nneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}, {'number': 3, 'created': '2021-04-28 20:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b67d166dae3f1f69dfed9e895c5797cbdc9eae3', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nConflicts:\nneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}, {'number': 4, 'created': '2021-04-29 01:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d32ca3ec38e967a2cad20000e94280d9114700b', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nConflicts:\nneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}, {'number': 5, 'created': '2021-04-29 19:38:32.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7292de52ebc4aa2673187bc645e448b72b33e6a', 'message': ""Don't ever give up trying to connect to OVN DBs\n\nIt doesn't really make since to give up connectimg to the OVN DBs\nsince we can't do anything without them. If ovsdb-server is slow\nand takes more than timeout seconds, everything reconnecting after\npartial downloads and starting over is not going to make things\nbetter.\n\nWe can change the behavior in ovsdbapp, but doing it without\nmaking non-backportable API changes isn't easily doable.\nThe plan would be, after merging this back through stable, to\nmodify ovsdbapp to allow setting different connection and txn\ntimeouts and being able to disable the timeout in wait_for_change\nwith a value of -1. Then in the main branch of neutron we can\nuse that going forward.\n\nCloses-Bug: #1926653\n\nConflicts:\nneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py\n\nChange-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36\n(cherry picked from commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)\n""}]",0,788596,f7292de52ebc4aa2673187bc645e448b72b33e6a,41,6,5,11952,,,0,"Don't ever give up trying to connect to OVN DBs

It doesn't really make since to give up connectimg to the OVN DBs
since we can't do anything without them. If ovsdb-server is slow
and takes more than timeout seconds, everything reconnecting after
partial downloads and starting over is not going to make things
better.

We can change the behavior in ovsdbapp, but doing it without
making non-backportable API changes isn't easily doable.
The plan would be, after merging this back through stable, to
modify ovsdbapp to allow setting different connection and txn
timeouts and being able to disable the timeout in wait_for_change
with a value of -1. Then in the main branch of neutron we can
use that going forward.

Closes-Bug: #1926653

Conflicts:
neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py

Change-Id: Ia9e23113fdeebf0b99085da200c3d61b71567d36
(cherry picked from commit 39ccc0d6d6995b8d50baecc523dd30be034669a9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/788596/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",2,9bdc6ecf5fef51e841fc983cfd046f5e2a52ec06,787310-stable/ussuri,"<<<<<<< HEAD (31d670 Merge ""[OVN] MetadataProxyHandler to conditionally monitor b) ======= from ovsdbapp.backend.ovs_idl import connection from ovsdbapp import constants as const >>>>>>> CHANGE (39ccc0 Don't ever give up trying to connect to OVN DBs)<<<<<<< HEAD (31d670 Merge ""[OVN] MetadataProxyHandler to conditionally monitor b) ======= class TestNbApi(BaseOvnIdlTest): def setUp(self): super(TestNbApi, self).setUp() self.data = { 'lbs': [ {'name': 'pf-floatingip-fip_id1-tcp', 'protocol': const.PROTO_TCP, 'vips': {""172.24.4.8:2020"": [""10.0.0.10:22""], ""172.24.4.8:2021"": [""10.0.0.11:22""]}, 'external_ids': { ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: pf_const.PORT_FORWARDING_PLUGIN, ovn_const.OVN_FIP_EXT_ID_KEY: 'fip_id1', ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'neutron-rtr1_id'}}, {'name': 'pf-floatingip-fip_id1-udp', 'protocol': const.PROTO_UDP, 'vips': {""172.24.4.8:53"": [""10.0.0.10:53""]}, 'external_ids': { ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: pf_const.PORT_FORWARDING_PLUGIN, ovn_const.OVN_FIP_EXT_ID_KEY: 'fip_id1', ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'neutron-rtr1_id'}}, {'name': 'pf-floatingip-fip_id2-tcp', 'protocol': const.PROTO_TCP, 'vips': {""172.24.4.100:2020"": [""10.0.0.10:22""]}, 'external_ids': { ovn_const.OVN_DEVICE_OWNER_EXT_ID_KEY: pf_const.PORT_FORWARDING_PLUGIN, ovn_const.OVN_FIP_EXT_ID_KEY: 'fip_id2', ovn_const.OVN_REV_NUM_EXT_ID_KEY: '10', ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY: 'neutron-rtr2_id'}}, {'name': 'octavia_lb1_id', 'vips': {""172.24.4.250:80"": [""10.0.0.10:8080"", ""10.0.0.11:8080""]}, 'selection_fields': ['ip_dst', 'ip_src', 'tp_dst', 'tp_src'], 'external_ids': { 'enabled': 'True', 'lr_ref': 'neutron-rtr1_id', 'ls_refs': str({'neutron-net1_id': 1}), ovn_const.LB_EXT_IDS_VIP_KEY: '172.24.4.250', ovn_const.LB_EXT_IDS_VIP_PORT_ID_KEY: 'neutron-port1_id', }}, ], } self.load_test_data() def load_test_data(self): with self.nbapi.transaction(check_error=True) as txn: for lb in copy.deepcopy(self.data['lbs']): lb_name = lb.pop('name') for vip, ips in lb.pop('vips').items(): txn.add(self.nbapi.lb_add( lb_name, vip, ips, may_exist=True, **lb)) def test_lb_list(self): lbs = self.nbapi.lb_list().execute(check_error=True) self.assertEqual(len(self.data['lbs']), len(lbs)) exp_values = [(lb['name'], lb['external_ids']) for lb in self.data['lbs']] lbs_values = [(lb.name, lb.external_ids) for lb in lbs] self.assertItemsEqual(exp_values, lbs_values) def test_get_router_floatingip_lbs(self): f = self.nbapi.get_router_floatingip_lbs self.assertEqual([], f('unused_router_name')) for exp_router_name in ['neutron-rtr1_id', 'neutron-rtr2_id']: exp_values = [ (lb['name'], lb['external_ids']) for lb in self.data['lbs'] if all([lb['external_ids'].get(OWNER) == PF_PLUGIN, lb['external_ids'].get( ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY) == exp_router_name])] lbs_values = [(lb.name, lb.external_ids) for lb in f(exp_router_name)] self.assertTrue(exp_values) self.assertItemsEqual(exp_values, lbs_values) def test_get_floatingip_in_nat_or_lb(self): f = self.nbapi.get_floatingip_in_nat_or_lb self.assertIsNone(f('unused_fip_id')) for exp_fip_id in ['fip_id1', 'fip_id2']: exp_values = [ (lb['name'], lb['external_ids']) for lb in self.data['lbs'] if all([lb['external_ids'].get(OWNER) == PF_PLUGIN, lb['external_ids'].get( ovn_const.OVN_FIP_EXT_ID_KEY) == exp_fip_id])] # get_floatingip_in_nat_or_lb returns the first entry # it finds for the fip_id provided. Make sure that it # is present in exp_values. lb_match = f(exp_fip_id) self.assertIn((lb_match['name'], lb_match['external_ids']), exp_values) class TestIgnoreConnectionTimeout(BaseOvnIdlTest): @classmethod def create_connection(cls, schema): idl = connection.OvsdbIdl.from_server(cls.schema_map[schema], schema) return connection.Connection(idl, 0) def test_setUp_will_fail_if_this_is_broken(self): pass >>>>>>> CHANGE (39ccc0 Don't ever give up trying to connect to OVN DBs)",,130,0
openstack%2Fneutron~stable%2Fvictoria~I59b0f99463ab00743f19016a890561916df900ed,openstack/neutron,stable/victoria,I59b0f99463ab00743f19016a890561916df900ed,designate: allow PTR zone creation to fail,MERGED,2021-05-05 06:39:29.000000000,2021-05-06 23:01:17.000000000,2021-05-06 22:59:06.000000000,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 06:39:29.000000000', 'files': ['neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b34d23762e236b7e6a9b85025da62503b76463a1', 'message': 'designate: allow PTR zone creation to fail\n\nWhen multiple PTR records are created at the same time, Neutron may try\nto create the same zone multiple times, resulting in a conflict. Ignore\nthe resulting error instead and try to create the record anyway.\n\nChange-Id: I59b0f99463ab00743f19016a890561916df900ed\nCloses-Bug: 1891309\n(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)\n'}]",0,789660,b34d23762e236b7e6a9b85025da62503b76463a1,16,4,1,11975,,,0,"designate: allow PTR zone creation to fail

When multiple PTR records are created at the same time, Neutron may try
to create the same zone multiple times, resulting in a conflict. Ignore
the resulting error instead and try to create the record anyway.

Change-Id: I59b0f99463ab00743f19016a890561916df900ed
Closes-Bug: 1891309
(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/789660/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/externaldns/drivers/designate/driver.py'],1,b34d23762e236b7e6a9b85025da62503b76463a1,bug/1891309-stable/wallaby-stable/victoria,"from oslo_log import logLOG = log.getLogger(__name__) # Note(jh): If multiple PTRs get created at the same time, # the creation of the zone may fail with a conflict because # it has already been created by a parallel job. So we # ignore that error and try to create the recordset # anyway. That call will still fail in the end if something # is really broken. See bug 1891309. try: designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description) except d_exc.Conflict: LOG.debug('Conflict when trying to create PTR zone %s,' ' assuming it exists.', in_addr_zone_name) pass"," designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description)",18,3
openstack%2Fneutron-tempest-plugin~master~I1f93d8ce3b9708ebcdd4408675012229964af032,openstack/neutron-tempest-plugin,master,I1f93d8ce3b9708ebcdd4408675012229964af032,Rewrite stein jobs using tempest_exclude_regex,MERGED,2021-04-30 15:00:58.000000000,2021-05-06 22:58:24.000000000,2021-05-06 22:58:24.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-30 15:00:58.000000000', 'files': ['zuul.d/stein_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5be4bea4bfaaa8732f5538ef1b34e072c5716a75', 'message': 'Rewrite stein jobs using tempest_exclude_regex\n\nAs detailed in [0], these jobs can not use the parent master definition\nanymore, as tempest_exclude_regex should not be set (and legacy\ntempest_black_regex used instead).\n\nThis integrates the master job definition directly, with that variable\nname change (and will be tested on a separate stein backport to confirm\nstein gates actually pass with it)\n\n[0] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/786657\n\nChange-Id: I1f93d8ce3b9708ebcdd4408675012229964af032\nCloses-Bug: #1923412\n'}]",0,788965,5be4bea4bfaaa8732f5538ef1b34e072c5716a75,16,3,1,21798,,,0,"Rewrite stein jobs using tempest_exclude_regex

As detailed in [0], these jobs can not use the parent master definition
anymore, as tempest_exclude_regex should not be set (and legacy
tempest_black_regex used instead).

This integrates the master job definition directly, with that variable
name change (and will be tested on a separate stein backport to confirm
stein gates actually pass with it)

[0] https://review.opendev.org/c/openstack/neutron-tempest-plugin/+/786657

Change-Id: I1f93d8ce3b9708ebcdd4408675012229964af032
Closes-Bug: #1923412
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/65/788965/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/stein_jobs.yaml'],1,5be4bea4bfaaa8732f5538ef1b34e072c5716a75,bug/1923412," parent: neutron-tempest-plugin-scenario timeout: 10000 devstack_services: # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true # TODO(slaweq): remove trunks subport_connectivity test from blacklist # when bug https://bugs.launchpad.net/neutron/+bug/1838760 will be fixed tempest_black_regex: ""(^neutron_tempest_plugin.scenario.test_trunk.TrunkTest.test_subport_connectivity)"" devstack_localrc: Q_AGENT: openvswitch Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch $NEUTRON_CONF: DEFAULT: enable_dvr: false l3_ha: true # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy /$NEUTRON_CORE_PLUGIN_CONF: agent: tunnel_types: vxlan,gre ovs: tunnel_bridge: br-tun bridge_mappings: public:br-ex securitygroup: firewall_driver: iptables_hybrid available_features: ""{{ network_available_features | join(',') }}"" neutron_plugin_options: available_type_drivers: flat,vlan,local,vxlan firewall_driver: iptables_hybrid irrelevant-files: - ^(test-|)requirements.txt$ - ^releasenotes/.*$ - ^doc/.*$ - ^setup.cfg$ - ^.*\.rst$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^tools/.*$ - ^tox.ini$ - ^neutron/agent/linux/openvswitch_firewall/.*$ - ^neutron/agent/ovn/.*$ - ^neutron/agent/windows/.*$ - ^neutron/plugins/ml2/drivers/linuxbridge/.*$ - ^neutron/plugins/ml2/drivers/macvtap/.*$ - ^neutron/plugins/ml2/drivers/mech_sriov/.*$ - ^neutron/plugins/ml2/drivers/ovn/.*$ parent: neutron-tempest-plugin-scenario timeout: 10000 roles: - zuul: openstack/neutron pre-run: playbooks/linuxbridge-scenario-pre-run.yaml devstack_services: # Disable OVN services br-ex-tcpdump: false br-int-flows: false ovn-controller: false ovn-northd: false ovs-vswitchd: false ovsdb-server: false q-ovn-metadata-agent: false # Neutron services q-agt: true q-dhcp: true q-l3: true q-meta: true q-metering: true network_api_extensions_linuxbridge: - vlan-transparent # TODO(eolivare): remove VLAN Transparency tests from blacklist # when bug https://bugs.launchpad.net/neutron/+bug/1907548 will be fixed tempest_black_regex: ""(^neutron_tempest_plugin.scenario.test_vlan_transparency.VlanTransparencyTest)"" devstack_localrc: Q_AGENT: linuxbridge NETWORK_API_EXTENSIONS: ""{{ (network_api_extensions + network_api_extensions_linuxbridge) | join(',') }}"" Q_ML2_TENANT_NETWORK_TYPE: vxlan Q_ML2_PLUGIN_MECHANISM_DRIVERS: openvswitch,linuxbridge $NEUTRON_CONF: DEFAULT: enable_dvr: false vlan_transparent: true l3_ha: true AGENT: debug_iptables_rules: true # NOTE(slaweq): We can get rid of this hardcoded absolute path when # devstack-tempest job will be switched to use lib/neutron instead of # lib/neutron-legacy /$NEUTRON_CORE_PLUGIN_CONF: ml2: type_drivers: flat,vlan,local,vxlan mechanism_drivers: linuxbridge available_features: ""{{ network_available_features | join(',') }}"" neutron_plugin_options: available_type_drivers: flat,vlan,local,vxlan q_agent: linuxbridge firewall_driver: iptables irrelevant-files: - ^(test-|)requirements.txt$ - ^releasenotes/.*$ - ^doc/.*$ - ^setup.cfg$ - ^.*\.rst$ - ^neutron/locale/.*$ - ^neutron/tests/unit/.*$ - ^tools/.*$ - ^tox.ini$ - ^neutron/agent/linux/openvswitch_firewall/.*$ - ^neutron/agent/ovn/.*$ - ^neutron/agent/windows/.*$ - ^neutron/plugins/ml2/drivers/openvswitch/.*$ - ^neutron/plugins/ml2/drivers/macvtap/.*$ - ^neutron/plugins/ml2/drivers/mech_sriov/.*$ - ^neutron/plugins/ml2/drivers/ovn/.*$"," parent: neutron-tempest-plugin-scenario-openvswitch-iptables_hybrid devstack_localrc: available_features: """" neutron_plugin_options: parent: neutron-tempest-plugin-scenario-linuxbridge devstack_localrc: NETWORK_API_EXTENSIONS: ""{{ network_api_extensions | join(',') }}"" available_features: """" neutron_plugin_options:",122,5
openstack%2Fneutron~stable%2Fussuri~I545c31977799c4ea51e037b631a49306da9c4a3b,openstack/neutron,stable/ussuri,I545c31977799c4ea51e037b631a49306da9c4a3b,Change reference to OvnDbNotifyHandler._watched_events,MERGED,2021-04-23 08:54:46.000000000,2021-05-06 22:43:54.000000000,2021-05-06 22:40:33.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18511}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-23 08:54:46.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ffe416c0c0d6212fde0727bf6593280222cf1e95', 'message': 'Change reference to OvnDbNotifyHandler._watched_events\n\nSince [1], RowEventHandler._watched_events do not use name mangling.\nOvnDbNotifyHandler, inheriting from RowEventHandler, can access to\nthis variable.\n\n[1]https://review.opendev.org/#/c/752797/\n\nChange-Id: I545c31977799c4ea51e037b631a49306da9c4a3b\nPartial-Bug: #1897928\n(cherry picked from commit ac08e89124bd7aad532e86b12a1e67b9550387ef)\n'}]",0,787606,ffe416c0c0d6212fde0727bf6593280222cf1e95,11,6,1,21798,,,0,"Change reference to OvnDbNotifyHandler._watched_events

Since [1], RowEventHandler._watched_events do not use name mangling.
OvnDbNotifyHandler, inheriting from RowEventHandler, can access to
this variable.

[1]https://review.opendev.org/#/c/752797/

Change-Id: I545c31977799c4ea51e037b631a49306da9c4a3b
Partial-Bug: #1897928
(cherry picked from commit ac08e89124bd7aad532e86b12a1e67b9550387ef)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/787606/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py'],1,ffe416c0c0d6212fde0727bf6593280222cf1e95,bug/1897928-stable/ussuri," # NOTE(ralonsoh): once the ovsdbapp library version is bumped beyond # 1.5.0, the first assignation (using name mangling) can be deleted. try: self.watched_events = self.handler._RowEventHandler__watched_events except AttributeError: self.watched_events = self.handler._watched_events", self.watched_events = self.handler._RowEventHandler__watched_events,6,1
openstack%2Fkeystone~master~Id51241989b22c52810391f3e8e1cadbf8613d873,openstack/keystone,master,Id51241989b22c52810391f3e8e1cadbf8613d873,Hide AccountLocked exception from end users,MERGED,2020-10-27 20:24:20.000000000,2021-05-06 22:43:00.000000000,2021-05-06 22:40:43.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 13478}, {'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-10-27 20:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f29a91d0e116b2f8d714ae0c7e821d83bc5ba583', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain information from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n'}, {'number': 2, 'created': '2020-10-30 16:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/859085cdef2cd49252ffcb685feee24a672b6cb4', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain information from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n'}, {'number': 3, 'created': '2020-11-08 20:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/6080607f26615884a248b93640608b3fddb407a3', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain information from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n'}, {'number': 4, 'created': '2021-02-02 15:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee5da6bc80d98368e69cf308526163da930c323b', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain information from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n'}, {'number': 5, 'created': '2021-02-18 19:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9d17ec0581c49537e761b18b64672d1c91a70d60', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain information from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n'}, {'number': 6, 'created': '2021-03-14 21:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a94b343dc31d4a24e85065376646424dc0e828c8', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain information from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n'}, {'number': 7, 'created': '2021-04-08 16:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a16dd05a274360a1698ec31297cffd1a1c2c651d', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain information from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n'}, {'number': 8, 'created': '2021-04-23 18:44:02.000000000', 'files': ['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py', 'releasenotes/notes/bug-1688137-e4203c9a728690a7.yaml', 'keystone/tests/unit/identity/test_backend_sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ac2631ae33445877094cdae796fbcdce8833a626', 'message': 'Hide AccountLocked exception from end users\n\nThis change hides the AccountLocked exception from being returned\nto the end user to hide sensitive information that a potential\nmalicious person could gain insight from.\n\nThe notification handler catches the AccountLocked exception as\nbefore, but after sending the audit notification, it instead\nbubbles up Unauthorized rather than AccountLocked.\n\nCo-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>\n\nChange-Id: Id51241989b22c52810391f3e8e1cadbf8613d873\nRelated-Bug: #1688137\n'}]",1,759940,ac2631ae33445877094cdae796fbcdce8833a626,46,7,8,21420,,,0,"Hide AccountLocked exception from end users

This change hides the AccountLocked exception from being returned
to the end user to hide sensitive information that a potential
malicious person could gain insight from.

The notification handler catches the AccountLocked exception as
before, but after sending the audit notification, it instead
bubbles up Unauthorized rather than AccountLocked.

Co-Authored-By: Samuel de Medeiros Queiroz <samueldmq@gmail.com>

Change-Id: Id51241989b22c52810391f3e8e1cadbf8613d873
Related-Bug: #1688137
",git fetch https://review.opendev.org/openstack/keystone refs/changes/40/759940/8 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/notifications.py', 'keystone/tests/unit/common/test_notifications.py', 'keystone/tests/unit/identity/test_backend_sql.py']",3,f29a91d0e116b2f8d714ae0c7e821d83bc5ba583,bug/1688137," self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized, self.assertRaises(exception.Unauthorized,"," self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked, self.assertRaises(exception.AccountLocked,",8,6
openstack%2Fneutron~stable%2Fussuri~I791026058b37f06d1a19b5fb6823b9dbb2a3eca5,openstack/neutron,stable/ussuri,I791026058b37f06d1a19b5fb6823b9dbb2a3eca5,[OVN] Check for lock in check_for_mcast_flood_reports,MERGED,2021-05-04 14:07:55.000000000,2021-05-06 22:42:40.000000000,2021-05-06 22:39:35.000000000,"[{'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 14:07:55.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e49c2b743e055a3e952d32d4f89012a629dfba2', 'message': '[OVN] Check for lock in check_for_mcast_flood_reports\n\nThe maintenance method check_for_mcast_flood_reports() was not checking\nif that instance of the maintenance task has a valid lock before trying\nto execute a transaction.\n\nThis patch adds such check so instances of the maintenance task without\na valid lock will just return.\n\nChange-Id: I791026058b37f06d1a19b5fb6823b9dbb2a3eca5\nCloses-Bug: #1927077\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 317407fe61b76b8f0c250ce6fb18d93dd0b667d0)\n'}]",0,789581,2e49c2b743e055a3e952d32d4f89012a629dfba2,11,4,1,6773,,,0,"[OVN] Check for lock in check_for_mcast_flood_reports

The maintenance method check_for_mcast_flood_reports() was not checking
if that instance of the maintenance task has a valid lock before trying
to execute a transaction.

This patch adds such check so instances of the maintenance task without
a valid lock will just return.

Change-Id: I791026058b37f06d1a19b5fb6823b9dbb2a3eca5
Closes-Bug: #1927077
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 317407fe61b76b8f0c250ce6fb18d93dd0b667d0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/789581/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'],1,2e49c2b743e055a3e952d32d4f89012a629dfba2,, if not self.has_lock: return ,,3,0
openstack%2Fneutron~stable%2Fussuri~Ia198d45f49bddda549a0e70a3374b8339f88887b,openstack/neutron,stable/ussuri,Ia198d45f49bddda549a0e70a3374b8339f88887b,Rely on worker count for HashRing caching,MERGED,2021-04-28 16:19:55.000000000,2021-05-06 22:39:45.000000000,2021-05-06 22:39:45.000000000,"[{'_account_id': 5756}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 18511}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-28 16:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec6b14c21195f95e8afa9085d789ed7b290370ca', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}, {'number': 2, 'created': '2021-05-04 22:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/677a40a43097d879a3bb2d68049fe70abe7d4345', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}, {'number': 3, 'created': '2021-05-05 07:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e019dd88d96d83863b13d4bab094bd9c09df9c9', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nConflicts:\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}, {'number': 4, 'created': '2021-05-05 10:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9169c56293af855d63c10fb1374cfe6a2e1284a7', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nConflicts:\n\tneutron/tests/unit/common/ovn/test_hash_ring_manager.py\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}, {'number': 5, 'created': '2021-05-05 14:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c27126d90154faa50b3d6cbd087d2b4d26f50085', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nConflicts:\n\tneutron/tests/unit/common/ovn/test_hash_ring_manager.py\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}, {'number': 6, 'created': '2021-05-05 14:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84afa9670151701de6d55e1ef8eaa4afc641b633', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nConflicts:\n\tneutron/tests/unit/common/ovn/test_hash_ring_manager.py\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}, {'number': 7, 'created': '2021-05-06 09:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da400ca0ebebe6c00eb9e0fecc300dce0426c6fb', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nConflicts:\n\tneutron/tests/unit/common/ovn/test_hash_ring_manager.py\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}, {'number': 8, 'created': '2021-05-06 09:07:38.000000000', 'files': ['neutron/tests/unit/common/ovn/test_hash_ring_manager.py', 'neutron/tests/functional/base.py', 'neutron/common/ovn/hash_ring_manager.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cf9597570f288d27768dc5ff7be04824d09f8bc', 'message': ""Rely on worker count for HashRing caching\n\nThe current code looks at a hash ring node's created_at/updated_at\nfields and tries to determine whether the node has been updated\nbased on whether updated_at - created_at > 1 second (due to the\nmethod that initially fills them being different by microseconds).\nUnfortunately, due to the notify() method being called which calls\nthe hash ring node's touch_node(), a node can be updated in under\na second, meaning we will prevent caching for much longer than\nwe intend.\n\nWhen using sqlite in-memory db, this continually re-creating the\nHash Ring objects for every event that is processed is exposing an\nissue where rows that should be in the db just *aren't*.\n\nThis patch instead limits the hash ring nodes to api workers and\nprevents caching only until the number of nodes == number of api\nworkers on the host. The switch from spawning hash ring nodes\nwhere !is_maintenance to is_api_worker is primarily because it\nseems to be difficult to get a list of *all* workers from which to\nsubtract the maintenance worker so that _wait_startup_before_caching\ncan wait for that specific number of workers. In practice, this\nmeans that RpcWorker and ServiceWorker workers would not process\nHashRing events.\n\nA note on bug 1903008: While this change will greatly reduce the\nlikelihood of this issue taking place, we still have some work to\ndo in order to fully understand why it rubs the database backend\nin the wrong way. Thus, we will make this change 'related to'\ninstead of closing the bug.\n\nConflicts:\n\tneutron/tests/unit/common/ovn/test_hash_ring_manager.py\n\nRelated-Bug: #1894117\nRelated-Bug: #1903008\nChange-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b\n(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)\n""}]",9,788543,7cf9597570f288d27768dc5ff7be04824d09f8bc,28,6,8,32586,,,0,"Rely on worker count for HashRing caching

The current code looks at a hash ring node's created_at/updated_at
fields and tries to determine whether the node has been updated
based on whether updated_at - created_at > 1 second (due to the
method that initially fills them being different by microseconds).
Unfortunately, due to the notify() method being called which calls
the hash ring node's touch_node(), a node can be updated in under
a second, meaning we will prevent caching for much longer than
we intend.

When using sqlite in-memory db, this continually re-creating the
Hash Ring objects for every event that is processed is exposing an
issue where rows that should be in the db just *aren't*.

This patch instead limits the hash ring nodes to api workers and
prevents caching only until the number of nodes == number of api
workers on the host. The switch from spawning hash ring nodes
where !is_maintenance to is_api_worker is primarily because it
seems to be difficult to get a list of *all* workers from which to
subtract the maintenance worker so that _wait_startup_before_caching
can wait for that specific number of workers. In practice, this
means that RpcWorker and ServiceWorker workers would not process
HashRing events.

A note on bug 1903008: While this change will greatly reduce the
likelihood of this issue taking place, we still have some work to
do in order to fully understand why it rubs the database backend
in the wrong way. Thus, we will make this change 'related to'
instead of closing the bug.

Conflicts:
	neutron/tests/unit/common/ovn/test_hash_ring_manager.py

Related-Bug: #1894117
Related-Bug: #1903008
Change-Id: Ia198d45f49bddda549a0e70a3374b8339f88887b
(cherry picked from commit c4007b0833111a25d24f597161d39ee9ccd37189)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/788543/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/common/ovn/test_hash_ring_manager.py', 'neutron/tests/functional/base.py', 'neutron/common/ovn/hash_ring_manager.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",5,ec6b14c21195f95e8afa9085d789ed7b290370ca,,"import neutron.wsgi @staticmethod def should_post_fork_initialize(worker_class): return worker_class in (neutron.wsgi.WorkerService, worker.MaintenanceWorker) def post_fork_initialize(self, resource, event, trigger, payload=None): # Initialize API/Maintenance workers with OVN IDL connections worker_class = ovn_utils.get_method_class(trigger) if not self.should_post_fork_initialize(worker_class): return if worker_class == neutron.wsgi.WorkerService: if worker_class == worker.MaintenanceWorker:"," def post_fork_initialize(self, resource, event, trigger, payload=None): # NOTE(rtheis): This will initialize all workers (API, RPC, # plugin service and OVN) with OVN IDL connections. is_maintenance = (ovn_utils.get_method_class(trigger) == worker.MaintenanceWorker) if not is_maintenance: if is_maintenance:",43,33
openstack%2Ftripleo-ansible~stable%2Fussuri~Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18,openstack/tripleo-ansible,stable/ussuri,Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18,Remove redhat-8.2.yml var file,MERGED,2021-05-06 06:03:43.000000000,2021-05-06 22:29:06.000000000,2021-05-06 22:29:06.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 06:03:43.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/vars/redhat-8.2.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0cc2857843fac13303e86fb8cf268838afbd6032', 'message': 'Remove redhat-8.2.yml var file\n\nThis will not work when an operator wants to upgrades from osp-16.1 to\nosp-16.2:\n16.2 is targeting rhel-8.4 with container-tools:3.0, providing a newer\npodman version.\n\nDuring the upgrade process, we end in a state where we\'re still running\nrhel-8.2, with container-tools:3.0 enabled - leading to an issue when it\ncomes to the podman version we can get.\n\nRemoving this file (and backporting this change down to stable/train)\nwill allow a swift and smooth fix.\n\nAs a last word, this ""last security"" isn\'t that useful anymore, since we\nhave a task that ensures we have the correct module stream[1][2].\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/undercloud/undercloud-upgrade.yaml#L67\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L261\n\nCloses-Bug: #1927242\nChange-Id: Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18\n(cherry picked from commit 3304f4ab3591a87e5dd273a0f1559ed0f828342f)\n'}]",0,789866,0cc2857843fac13303e86fb8cf268838afbd6032,16,4,1,28223,,,0,"Remove redhat-8.2.yml var file

This will not work when an operator wants to upgrades from osp-16.1 to
osp-16.2:
16.2 is targeting rhel-8.4 with container-tools:3.0, providing a newer
podman version.

During the upgrade process, we end in a state where we're still running
rhel-8.2, with container-tools:3.0 enabled - leading to an issue when it
comes to the podman version we can get.

Removing this file (and backporting this change down to stable/train)
will allow a swift and smooth fix.

As a last word, this ""last security"" isn't that useful anymore, since we
have a task that ensures we have the correct module stream[1][2].

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/undercloud/undercloud-upgrade.yaml#L67
[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L261

Closes-Bug: #1927242
Change-Id: Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18
(cherry picked from commit 3304f4ab3591a87e5dd273a0f1559ed0f828342f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/789866/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/vars/redhat-8.2.yml'],1,0cc2857843fac13303e86fb8cf268838afbd6032,16.2-on-rhel-8.2,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. _tripleo_podman_packages: - podman-1.6.4 _tripleo_buildah_packages: - buildah-1.11.6 _tripleo_podman_purge_packages: - docker - docker-ce ",0,26
openstack%2Ftripleo-upgrade~master~I0b05a1eaccfb8207e413535762198824c6c15599,openstack/tripleo-upgrade,master,I0b05a1eaccfb8207e413535762198824c6c15599,Add setuptools in requirements file.,MERGED,2020-10-05 08:27:38.000000000,2021-05-06 22:29:03.000000000,2021-05-06 22:29:03.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2020-10-05 08:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/93ae2384e20045cd96f673dbddb254d74454f46b', 'message': ""Add setuptools in requirements file.\n\nLike explain here[1] the setuptools is used but not explicitly install\nby the project. It's install by pbr at the moment, but explicit is\nbetter than implicit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017740.html\n\nChange-Id: I0b05a1eaccfb8207e413535762198824c6c15599\n""}, {'number': 2, 'created': '2020-10-15 08:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/1b8c0d58274d2daf324672495bec739276c1536f', 'message': ""Add setuptools in requirements file.\n\nLike explain here[1] the setuptools is used but not explicitly install\nby the project. It's install by pbr at the moment, but explicit is\nbetter than implicit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017740.html\n\nDepends-On: https://review.opendev.org/#/c/758028/\nChange-Id: I0b05a1eaccfb8207e413535762198824c6c15599\n""}, {'number': 3, 'created': '2020-10-30 14:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ca12594c5facb3ad0a9971b041ebaa71dace8924', 'message': ""Add setuptools in requirements file.\n\nLike explain here[1] the setuptools is used but not explicitly install\nby the project. It's install by pbr at the moment, but explicit is\nbetter than implicit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017740.html\n\nChange-Id: I0b05a1eaccfb8207e413535762198824c6c15599\n""}, {'number': 4, 'created': '2020-11-02 11:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/57ce2d218042cbeecc5e70ede776141cbfe90b9e', 'message': ""Add setuptools in requirements file.\n\nLike explain here[1] the setuptools is used but not explicitly install\nby the project. It's install by pbr at the moment, but explicit is\nbetter than implicit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017740.html\n\nDepends-On: https://review.opendev.org/#/c/760892/\nChange-Id: I0b05a1eaccfb8207e413535762198824c6c15599\n""}, {'number': 5, 'created': '2020-11-03 09:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fe41e10985962242c8ee0ac068bb0d81f5126855', 'message': ""Add setuptools in requirements file.\n\nLike explain here[1] the setuptools is used but not explicitly install\nby the project. It's install by pbr at the moment, but explicit is\nbetter than implicit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017740.html\n\nDepends-On: https://review.opendev.org/#/c/760892/\nChange-Id: I0b05a1eaccfb8207e413535762198824c6c15599\n""}, {'number': 6, 'created': '2020-11-05 15:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5df56762910ce3472626b47ee3150ffee8d1a16a', 'message': ""Add setuptools in requirements file.\n\nLike explain here[1] the setuptools is used but not explicitly install\nby the project. It's install by pbr at the moment, but explicit is\nbetter than implicit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017740.html\n\nDepends-On: https://review.opendev.org/#/c/760892/\nChange-Id: I0b05a1eaccfb8207e413535762198824c6c15599\n""}, {'number': 7, 'created': '2020-11-06 09:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dc6a01a6afaceb75ff2aceec1acb0e32ff2924aa', 'message': ""Add setuptools in requirements file.\n\nLike explain here[1] the setuptools is used but not explicitly install\nby the project. It's install by pbr at the moment, but explicit is\nbetter than implicit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017740.html\n\nDepends-On: https://review.opendev.org/#/c/760892/\nChange-Id: I0b05a1eaccfb8207e413535762198824c6c15599\n""}, {'number': 8, 'created': '2021-03-15 09:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/17ee699518b0f7c528b114f3c8a6c2a208b0ba4b', 'message': ""Add setuptools in requirements file.\n\nLike explain here[1] the setuptools is used but not explicitly install\nby the project. It's install by pbr at the moment, but explicit is\nbetter than implicit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017740.html\n\nChange-Id: I0b05a1eaccfb8207e413535762198824c6c15599\n""}, {'number': 9, 'created': '2021-04-14 09:51:37.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4791bdeee09c09bf53f26edb14bc715333ed953b', 'message': ""Add setuptools in requirements file.\n\nLike explain here[1] the setuptools is used but not explicitly install\nby the project. It's install by pbr at the moment, but explicit is\nbetter than implicit.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017740.html\n\nChange-Id: I0b05a1eaccfb8207e413535762198824c6c15599\n""}]",2,756009,4791bdeee09c09bf53f26edb14bc715333ed953b,43,7,9,31245,,,0,"Add setuptools in requirements file.

Like explain here[1] the setuptools is used but not explicitly install
by the project. It's install by pbr at the moment, but explicit is
better than implicit.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-October/017740.html

Change-Id: I0b05a1eaccfb8207e413535762198824c6c15599
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/09/756009/3 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,93ae2384e20045cd96f673dbddb254d74454f46b,add_setuptools,setuptools==50.3.0,,1,0
openstack%2Fneutron~stable%2Fvictoria~I791026058b37f06d1a19b5fb6823b9dbb2a3eca5,openstack/neutron,stable/victoria,I791026058b37f06d1a19b5fb6823b9dbb2a3eca5,[OVN] Check for lock in check_for_mcast_flood_reports,MERGED,2021-05-04 14:07:24.000000000,2021-05-06 22:14:36.000000000,2021-05-06 22:13:00.000000000,"[{'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 14:07:24.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b2fd99922032c82ec6a7e25bf4236327347f377c', 'message': '[OVN] Check for lock in check_for_mcast_flood_reports\n\nThe maintenance method check_for_mcast_flood_reports() was not checking\nif that instance of the maintenance task has a valid lock before trying\nto execute a transaction.\n\nThis patch adds such check so instances of the maintenance task without\na valid lock will just return.\n\nChange-Id: I791026058b37f06d1a19b5fb6823b9dbb2a3eca5\nCloses-Bug: #1927077\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit 317407fe61b76b8f0c250ce6fb18d93dd0b667d0)\n'}]",0,789580,b2fd99922032c82ec6a7e25bf4236327347f377c,15,4,1,6773,,,0,"[OVN] Check for lock in check_for_mcast_flood_reports

The maintenance method check_for_mcast_flood_reports() was not checking
if that instance of the maintenance task has a valid lock before trying
to execute a transaction.

This patch adds such check so instances of the maintenance task without
a valid lock will just return.

Change-Id: I791026058b37f06d1a19b5fb6823b9dbb2a3eca5
Closes-Bug: #1927077
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit 317407fe61b76b8f0c250ce6fb18d93dd0b667d0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/789580/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'],1,b2fd99922032c82ec6a7e25bf4236327347f377c,, if not self.has_lock: return ,,3,0
openstack%2Fneutron-lib~master~I95d596c84716835076365981376fb23166c6b23c,openstack/neutron-lib,master,I95d596c84716835076365981376fb23166c6b23c,"Modify ""port.mac_address"" API definition",MERGED,2021-04-27 13:52:54.000000000,2021-05-06 22:09:21.000000000,2021-05-06 22:07:57.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 13:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/056165d354bdd7836382ab7451c2468ef0bd3c7c', 'message': 'Modify ""port.mac_address"" API definition\n\nAdded a convertion method in the ""port.mac_address"" parameter. This\nconvertion will return a sanitized MAC address formatted as:\n  xx:xx:xx:xx:xx:xx\n\nThis patch is not creating a new extension (that should be the\nregular process):\n- To avoid the Neutron extension explosion.\n- Because this method will not validate the MAC address but\n  sanitize it, if valid. Other services or projects will expect\n  a MAC address with the defined format.\n- This sanitization won\'t change the MAC address value.\n- This sanitization will be always enabled (no extension needed).\n\nCloses-Bug: #1926273\n\nChange-Id: I95d596c84716835076365981376fb23166c6b23c\n'}, {'number': 2, 'created': '2021-04-27 16:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4da661cf7eb0408ddb32c3d3c40d7ef15557ab94', 'message': 'Modify ""port.mac_address"" API definition\n\nAdded a convertion method in the ""port.mac_address"" parameter. This\nconvertion will return a sanitized MAC address formatted as:\n  xx:xx:xx:xx:xx:xx\n\nThis patch is not creating a new extension (that should be the\nregular process):\n- To avoid the Neutron extension explosion.\n- Because this method will not validate the MAC address but\n  sanitize it, if valid. Other services or projects will expect\n  a MAC address with the defined format.\n- This sanitization won\'t change the MAC address value.\n- This sanitization will be always enabled (no extension needed).\n\nCloses-Bug: #1926273\n\nChange-Id: I95d596c84716835076365981376fb23166c6b23c\n'}, {'number': 3, 'created': '2021-04-28 13:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0ea96885747cfc4f60db97451fa3ad023dc3d0ab', 'message': 'Modify ""port.mac_address"" API definition\n\nAdded a convertion method in the ""port.mac_address"" parameter. This\nconvertion will return a sanitized MAC address formatted as:\n  xx:xx:xx:xx:xx:xx\n\nThis patch is not creating a new extension (that should be the\nregular process):\n- To avoid the Neutron extension explosion.\n- Because this method will not validate the MAC address but\n  sanitize it, if valid. Other services or projects will expect\n  a MAC address with the defined format.\n- This sanitization won\'t change the MAC address value.\n- This sanitization will be always enabled (no extension needed).\n\nCloses-Bug: #1926273\n\nChange-Id: I95d596c84716835076365981376fb23166c6b23c\n'}, {'number': 4, 'created': '2021-04-30 07:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a688b4b8176b6fbd9fdc76942a6823e9f2198679', 'message': 'Modify ""port.mac_address"" API definition\n\nAdded a convertion method in the ""port.mac_address"" parameter. This\nconvertion will return a sanitized MAC address formatted as:\n  xx:xx:xx:xx:xx:xx\n\nThis patch is not creating a new extension (that should be the\nregular process):\n- To avoid the Neutron extension explosion.\n- Because this method will not validate the MAC address but\n  sanitize it, if valid. Other services or projects will expect\n  a MAC address with the defined format.\n- This sanitization won\'t change the MAC address value.\n- This sanitization will be always enabled (no extension needed).\n\nCloses-Bug: #1926273\n\nChange-Id: I95d596c84716835076365981376fb23166c6b23c\n'}, {'number': 5, 'created': '2021-05-05 13:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f70d273cdd9c37543b5bd2a658406b521cd13f0f', 'message': 'Modify ""port.mac_address"" API definition\n\nAdded a convertion method in the ""port.mac_address"" parameter. This\nconvertion will return a sanitized MAC address formatted as:\n  xx:xx:xx:xx:xx:xx\n\nThis patch is not creating a new extension (that should be the\nregular process):\n- To avoid the Neutron extension explosion.\n- Because this method will not validate the MAC address but\n  sanitize it, if valid. Other services or projects will expect\n  a MAC address with the defined format.\n- This sanitization won\'t change the MAC address value.\n- This sanitization will be always enabled (no extension needed).\n\nCloses-Bug: #1926273\n\nChange-Id: I95d596c84716835076365981376fb23166c6b23c\n'}, {'number': 6, 'created': '2021-05-06 07:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d53c074b27a39dd559176297811dcc4db0800a89', 'message': 'Modify ""port.mac_address"" API definition\n\nAdded a convertion method in the ""port.mac_address"" parameter. This\nconvertion will return a sanitized MAC address formatted as:\n  xx:xx:xx:xx:xx:xx\n\nThis patch is not creating a new extension (that should be the\nregular process):\n- To avoid the Neutron extension explosion.\n- Because this method will not validate the MAC address but\n  sanitize it, if valid. Other services or projects will expect\n  a MAC address with the defined format.\n- This sanitization won\'t change the MAC address value.\n- This sanitization will be always enabled (no extension needed).\n\nCloses-Bug: #1926273\n\nChange-Id: I95d596c84716835076365981376fb23166c6b23c\n'}, {'number': 7, 'created': '2021-05-06 13:41:51.000000000', 'files': ['neutron_lib/api/definitions/port.py', 'neutron_lib/api/converters.py', 'releasenotes/notes/port-mac-sanitization-d2b6ee77b66cb815.yaml', 'neutron_lib/tests/unit/api/test_conversions.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9d3cac1d69a143c0a44230144760dd86c52d6ac7', 'message': 'Modify ""port.mac_address"" API definition\n\nAdded a convertion method in the ""port.mac_address"" parameter. This\nconvertion will return a sanitized MAC address formatted as:\n  xx:xx:xx:xx:xx:xx\n\nThis patch is not creating a new extension (that should be the\nregular process):\n- To avoid the Neutron extension explosion.\n- Because this method will not validate the MAC address but\n  sanitize it, if valid. Other services or projects will expect\n  a MAC address with the defined format.\n- This sanitization won\'t change the MAC address value.\n- This sanitization will be always enabled (no extension needed).\n\nCloses-Bug: #1926273\n\nChange-Id: I95d596c84716835076365981376fb23166c6b23c\n'}]",9,788300,9d3cac1d69a143c0a44230144760dd86c52d6ac7,37,4,7,16688,,,0,"Modify ""port.mac_address"" API definition

Added a convertion method in the ""port.mac_address"" parameter. This
convertion will return a sanitized MAC address formatted as:
  xx:xx:xx:xx:xx:xx

This patch is not creating a new extension (that should be the
regular process):
- To avoid the Neutron extension explosion.
- Because this method will not validate the MAC address but
  sanitize it, if valid. Other services or projects will expect
  a MAC address with the defined format.
- This sanitization won't change the MAC address value.
- This sanitization will be always enabled (no extension needed).

Closes-Bug: #1926273

Change-Id: I95d596c84716835076365981376fb23166c6b23c
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/00/788300/7 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/port.py', 'neutron_lib/api/converters.py', 'neutron_lib/tests/unit/api/test_conversions.py']",3,056165d354bdd7836382ab7451c2468ef0bd3c7c,bug/1926273," class TestConvertToSanitizedMacAddress(base.BaseTestCase): def test_sanitize_mac_address(self): self.assertEqual( '00:11:22:33:44:55', converters.convert_to_sanitized_mac_address('00:11:22:33:44:55')) self.assertEqual( '00:11:22:33:44:05', converters.convert_to_sanitized_mac_address('00:11:22:33:44:5')) self.assertEqual( '00:01:02:03:04:05', converters.convert_to_sanitized_mac_address('0:1:2:3:4:5')) # Not converted, those MAC address will fail in the validation step. self.assertEqual( '00:11:22:33:44', converters.convert_to_sanitized_mac_address('00:11:22:33:44')) self.assertEqual( '00:11:22:33:44:', converters.convert_to_sanitized_mac_address('00:11:22:33:44:'))",,39,0
openstack%2Ftripleo-heat-templates~master~I6ce29d2908e76044c55eb96d0d3779fe67ba9169,openstack/tripleo-heat-templates,master,I6ce29d2908e76044c55eb96d0d3779fe67ba9169,Refactor OVN bridge MAC addresses,MERGED,2021-03-25 03:07:33.000000000,2021-05-06 22:04:39.000000000,2021-05-05 06:17:21.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 11082}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-25 03:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2cd569d049433aa822fdc00038c94a53e1ce8959', 'message': ""Refactor OVN bridge MAC addresses\n\nMoving the network and port management for OVN\nbridge MAC addresses to ansible.\n\nRemoves the heat resources, and adds an external\ndeploy task at step 0 in the ovn controller service\ntemplates which uses the 'tripleo_ovn_mac_addresses'\nansible module to create/remove OVN mac address ports.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/782891\nChange-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169\n""}, {'number': 2, 'created': '2021-03-26 02:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d88e01ec67bb14aa290f5e05b45b01d889447dd', 'message': ""Refactor OVN bridge MAC addresses\n\nMoving the network and port management for OVN\nbridge MAC addresses to ansible.\n\nRemoves the heat resources, and adds an external\ndeploy task at step 0 in the ovn controller service\ntemplates which uses the 'tripleo_ovn_mac_addresses'\nansible module to create/remove OVN mac address ports.\n\nAdds parameter role_specific OVNStaticBridgeMacMappings,\nparameter that can be used to set static bridge mac\nmappings. When this is set no neutron resources will be\ncreated by the tripleo_ovn_mac_addresses ansible module.\nOVNStaticBridgeMacMappings must be used for standalone\ndeployments.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/782891\nDepends-On: https://review.opendev.org/783137\nChange-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169\n""}, {'number': 3, 'created': '2021-03-26 10:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/843b040da61348205e234bd5d9612514a0acb0a5', 'message': ""Refactor OVN bridge MAC addresses\n\nMoving the network and port management for OVN\nbridge MAC addresses to ansible.\n\nRemoves the heat resources, and adds an external\ndeploy task at step 0 in the ovn controller service\ntemplates which uses the 'tripleo_ovn_mac_addresses'\nansible module to create/remove OVN mac address ports.\n\nAdds parameter role_specific OVNStaticBridgeMacMappings,\nparameter that can be used to set static bridge mac\nmappings. When this is set no neutron resources will be\ncreated by the tripleo_ovn_mac_addresses ansible module.\nOVNStaticBridgeMacMappings must be used for standalone\ndeployments.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/782891\nDepends-On: https://review.opendev.org/783137\nChange-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169\n""}, {'number': 4, 'created': '2021-04-06 13:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab9c31ae42346d81687ed716dbff033fac696d1b', 'message': ""Refactor OVN bridge MAC addresses\n\nMoving the network and port management for OVN\nbridge MAC addresses to ansible.\n\nRemoves the heat resources, and adds an external\ndeploy task at step 0 in the ovn controller service\ntemplates which uses the 'tripleo_ovn_mac_addresses'\nansible module to create/remove OVN mac address ports.\n\nAdds parameter role_specific OVNStaticBridgeMacMappings,\nparameter that can be used to set static bridge mac\nmappings. When this is set no neutron resources will be\ncreated by the tripleo_ovn_mac_addresses ansible module.\nOVNStaticBridgeMacMappings must be used for standalone\ndeployments.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/782891\nDepends-On: https://review.opendev.org/783137\nChange-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169\n""}, {'number': 5, 'created': '2021-04-14 08:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3dfdb7b6a151614fad05ed04ca9b200628445957', 'message': ""Refactor OVN bridge MAC addresses\n\nMoving the network and port management for OVN\nbridge MAC addresses to ansible.\n\nRemoves the heat resources, and adds an external\ndeploy task at step 0 in the ovn controller service\ntemplates which uses the 'tripleo_ovn_mac_addresses'\nansible module to create/remove OVN mac address ports.\n\nAdds parameter role_specific OVNStaticBridgeMacMappings,\nparameter that can be used to set static bridge mac\nmappings. When this is set no neutron resources will be\ncreated by the tripleo_ovn_mac_addresses ansible module.\nOVNStaticBridgeMacMappings must be used for standalone\ndeployments.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/782891\nDepends-On: https://review.opendev.org/783137\nChange-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169\n""}, {'number': 6, 'created': '2021-05-04 06:21:46.000000000', 'files': ['sample-env-generator/standalone.yaml', 'common/deploy-steps-playbooks-common.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'environments/undercloud/undercloud-minion.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'environments/standalone/standalone-overcloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a120ada72e05a380616755d514a4bc81ea7ef227', 'message': ""Refactor OVN bridge MAC addresses\n\nMoving the network and port management for OVN\nbridge MAC addresses to ansible.\n\nRemoves the heat resources, and adds an external\ndeploy task at step 0 in the ovn controller service\ntemplates which uses the 'tripleo_ovn_mac_addresses'\nansible module to create/remove OVN mac address ports.\n\nAdds parameter role_specific OVNStaticBridgeMacMappings,\nparameter that can be used to set static bridge mac\nmappings. When this is set no neutron resources will be\ncreated by the tripleo_ovn_mac_addresses ansible module.\nOVNStaticBridgeMacMappings must be used for standalone\ndeployments.\n\nImplements: blueprint network-data-v2-port\nDepends-On: https://review.opendev.org/782891\nDepends-On: https://review.opendev.org/783137\nChange-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169\n""}]",1,782892,a120ada72e05a380616755d514a4bc81ea7ef227,37,6,6,24245,,,0,"Refactor OVN bridge MAC addresses

Moving the network and port management for OVN
bridge MAC addresses to ansible.

Removes the heat resources, and adds an external
deploy task at step 0 in the ovn controller service
templates which uses the 'tripleo_ovn_mac_addresses'
ansible module to create/remove OVN mac address ports.

Adds parameter role_specific OVNStaticBridgeMacMappings,
parameter that can be used to set static bridge mac
mappings. When this is set no neutron resources will be
created by the tripleo_ovn_mac_addresses ansible module.
OVNStaticBridgeMacMappings must be used for standalone
deployments.

Implements: blueprint network-data-v2-port
Depends-On: https://review.opendev.org/782891
Depends-On: https://review.opendev.org/783137
Change-Id: I6ce29d2908e76044c55eb96d0d3779fe67ba9169
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/92/782892/6 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'common/deploy-steps-playbooks-common.yaml', 'environments/undercloud.yaml', 'environments/standalone/standalone-tripleo.yaml', 'sample-env-generator/undercloud-minion.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'puppet/role.role.j2.yaml', 'environments/undercloud/undercloud-minion.yaml', 'deployment/ovn/ovn-controller-container-puppet.yaml', 'environments/standalone/standalone-overcloud.yaml']",11,2cd569d049433aa822fdc00038c94a53e1ce8959,network-data-v2,, OS::TripleO::OVNMacAddressNetwork: OS::Heat::None OS::TripleO::OVNMacAddressPort: OS::Heat::None,42,60
openstack%2Ftripleo-ansible~stable%2Fvictoria~Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18,openstack/tripleo-ansible,stable/victoria,Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18,Remove redhat-8.2.yml var file,MERGED,2021-05-06 06:03:29.000000000,2021-05-06 21:34:15.000000000,2021-05-06 21:34:15.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 06:03:29.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/vars/redhat-8.2.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ac6cc2ae0d548a04c3022402bf2ba80b57719a07', 'message': 'Remove redhat-8.2.yml var file\n\nThis will not work when an operator wants to upgrades from osp-16.1 to\nosp-16.2:\n16.2 is targeting rhel-8.4 with container-tools:3.0, providing a newer\npodman version.\n\nDuring the upgrade process, we end in a state where we\'re still running\nrhel-8.2, with container-tools:3.0 enabled - leading to an issue when it\ncomes to the podman version we can get.\n\nRemoving this file (and backporting this change down to stable/train)\nwill allow a swift and smooth fix.\n\nAs a last word, this ""last security"" isn\'t that useful anymore, since we\nhave a task that ensures we have the correct module stream[1][2].\n\n[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/undercloud/undercloud-upgrade.yaml#L67\n[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L261\n\nCloses-Bug: #1927242\nChange-Id: Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18\n(cherry picked from commit 3304f4ab3591a87e5dd273a0f1559ed0f828342f)\n'}]",0,789865,ac6cc2ae0d548a04c3022402bf2ba80b57719a07,19,4,1,28223,,,0,"Remove redhat-8.2.yml var file

This will not work when an operator wants to upgrades from osp-16.1 to
osp-16.2:
16.2 is targeting rhel-8.4 with container-tools:3.0, providing a newer
podman version.

During the upgrade process, we end in a state where we're still running
rhel-8.2, with container-tools:3.0 enabled - leading to an issue when it
comes to the podman version we can get.

Removing this file (and backporting this change down to stable/train)
will allow a swift and smooth fix.

As a last word, this ""last security"" isn't that useful anymore, since we
have a task that ensures we have the correct module stream[1][2].

[1] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/undercloud/undercloud-upgrade.yaml#L67
[2] https://opendev.org/openstack/tripleo-heat-templates/src/branch/master/deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml#L261

Closes-Bug: #1927242
Change-Id: Id07aa060dd90fdef9a1cd0a44ddbeaee7d561d18
(cherry picked from commit 3304f4ab3591a87e5dd273a0f1559ed0f828342f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/789865/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/vars/redhat-8.2.yml'],1,ac6cc2ae0d548a04c3022402bf2ba80b57719a07,16.2-on-rhel-8.2,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. _tripleo_podman_packages: - podman-1.6.4 _tripleo_buildah_packages: - buildah-1.11.6 _tripleo_podman_purge_packages: - docker - docker-ce ",0,26
openstack%2Fopenstack-tempest-skiplist~master~I5c24edf573abbf533d236c05685bb39f41bc40b7,openstack/openstack-tempest-skiplist,master,I5c24edf573abbf533d236c05685bb39f41bc40b7,add wallaby to hot plug skip,MERGED,2021-05-06 20:56:26.000000000,2021-05-06 21:20:17.000000000,2021-05-06 21:19:07.000000000,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-06 20:56:26.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/822ffa3d34d83cd2827e15f6272976c3a8c84943', 'message': 'add wallaby to hot plug skip\n\nRelated-Bug: #1926647\nChange-Id: I5c24edf573abbf533d236c05685bb39f41bc40b7\n'}]",0,790180,822ffa3d34d83cd2827e15f6272976c3a8c84943,7,2,1,9592,,,0,"add wallaby to hot plug skip

Related-Bug: #1926647
Change-Id: I5c24edf573abbf533d236c05685bb39f41bc40b7
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/80/790180/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,822ffa3d34d83cd2827e15f6272976c3a8c84943,, - name: wallaby reason: Failing on network lp: https://bugs.launchpad.net/tripleo/+bug/1926647,,3,0
openstack%2Fansible-collections-openstack~master~I83616ca370a449dcead99aed03fe4e54358e9e5a,openstack/ansible-collections-openstack,master,I83616ca370a449dcead99aed03fe4e54358e9e5a,Add TripleO job on collections used in TripleO,MERGED,2021-05-05 11:49:40.000000000,2021-05-06 21:07:48.000000000,2021-05-06 21:07:48.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 11:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/16e059c997baa3d76ebb957bf2f0499d17a3ef37', 'message': 'WIP add TripleO job on collections used in TripleO\n\nChange-Id: I83616ca370a449dcead99aed03fe4e54358e9e5a\n'}, {'number': 2, 'created': '2021-05-06 10:32:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/43d2486fd29eff6c5ad20c81dd08ffed14e3a52c', 'message': 'Add TripleO job on collections used in TripleO\n\nChange-Id: I83616ca370a449dcead99aed03fe4e54358e9e5a\n'}, {'number': 3, 'created': '2021-05-06 10:33:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/131ee2013a6961cd7568f2929fcdc24edba48724', 'message': 'Add TripleO job on collections used in TripleO\n\nChange-Id: I83616ca370a449dcead99aed03fe4e54358e9e5a\n'}, {'number': 4, 'created': '2021-05-06 11:19:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/1dda73676f1de7b8fdec5c88dc65a9fc482bbdc5', 'message': 'Add TripleO job on collections used in TripleO\n\nRedefine irrelevant files for jobs.\n\nChange-Id: I83616ca370a449dcead99aed03fe4e54358e9e5a\n'}, {'number': 5, 'created': '2021-05-06 14:53:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a10be986381650beab4f095d9ba5a983c71be05e', 'message': 'Add TripleO job on collections used in TripleO\n\nRedefine irrelevant files for jobs.\n\nChange-Id: I83616ca370a449dcead99aed03fe4e54358e9e5a\n'}]",3,789818,a10be986381650beab4f095d9ba5a983c71be05e,13,2,5,10969,,,0,"Add TripleO job on collections used in TripleO

Redefine irrelevant files for jobs.

Change-Id: I83616ca370a449dcead99aed03fe4e54358e9e5a
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/18/789818/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,16e059c997baa3d76ebb957bf2f0499d17a3ef37,ooo, - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-standalone: vars: &consumer_vars consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider ,,10,0
openstack%2Fkolla~stable%2Fwallaby~I22db3cd4cb608332261824626e3b8768821b8dd0,openstack/kolla,stable/wallaby,I22db3cd4cb608332261824626e3b8768821b8dd0,base: check for compatible distro using just sh,MERGED,2021-05-06 11:57:12.000000000,2021-05-06 21:06:00.000000000,2021-05-06 21:03:18.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-06 11:57:12.000000000', 'files': ['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2e3c2d9b637d44e8a64812468576da9f3c857a78', 'message': 'base: check for compatible distro using just sh\n\nWe allow users to use own image as base one and then we check is it\nproper distribution version one. And this check is done in different way\nfor CentOS and different for Debian/Ubuntu systems.\n\nThis patchset uses PRETTY_NAME from /etc/os-release for check. And it is\ndone before anything gets installed so if wrong distribution is used\nthen build process breaks as soon as possible.\n\nChange-Id: I22db3cd4cb608332261824626e3b8768821b8dd0\n(cherry picked from commit 68fc72cd5d5003025da53cd1160e9cd19367cb10)\n'}]",0,789870,2e3c2d9b637d44e8a64812468576da9f3c857a78,10,4,1,24072,,,0,"base: check for compatible distro using just sh

We allow users to use own image as base one and then we check is it
proper distribution version one. And this check is done in different way
for CentOS and different for Debian/Ubuntu systems.

This patchset uses PRETTY_NAME from /etc/os-release for check. And it is
done before anything gets installed so if wrong distribution is used
then build process breaks as soon as possible.

Change-Id: I22db3cd4cb608332261824626e3b8768821b8dd0
(cherry picked from commit 68fc72cd5d5003025da53cd1160e9cd19367cb10)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/70/789870/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/base/Dockerfile.j2', 'kolla/common/config.py']",3,2e3c2d9b637d44e8a64812468576da9f3c857a78,,"# NOTE(hrw): has to match PRETTY_NAME in /etc/os-release DISTRO_PRETTY_NAME = { 'centos': 'CentOS Stream 8', 'rhel': 'Red Hat Enterprise Linux 8', 'debian': 'Debian GNU/Linux bullseye', 'ubuntu': 'Ubuntu 20.04',","DISTRO_RELEASE = { 'centos': '8', 'rhel': '8', 'debian': 'testing/unstable', 'ubuntu': '20.04',",14,18
openstack%2Fcharm-barbican~master~I65a7403ec68d8be880e418bc4fca1b1fdffe6eb9,openstack/charm-barbican,master,I65a7403ec68d8be880e418bc4fca1b1fdffe6eb9,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-03 17:57:03.000000000,2021-05-06 20:14:23.000000000,2021-05-06 20:14:23.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-03 17:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/63eed099b0528b44129ea1a991445b9b06754306', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby supporto.\n\nChange-Id: I65a7403ec68d8be880e418bc4fca1b1fdffe6eb9\n'}, {'number': 2, 'created': '2021-04-15 17:08:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/59f45b4d878a058de4de15f390fec8e33852db09', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I65a7403ec68d8be880e418bc4fca1b1fdffe6eb9\n'}, {'number': 3, 'created': '2021-05-06 09:57:19.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/96750d85f0593f1795adf43394373b73509b8c54', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I65a7403ec68d8be880e418bc4fca1b1fdffe6eb9\n'}]",0,778523,96750d85f0593f1795adf43394373b73509b8c54,29,3,3,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I65a7403ec68d8be880e418bc4fca1b1fdffe6eb9
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/23/778523/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,63eed099b0528b44129ea1a991445b9b06754306,wallaby-bundles,- hirsute-wallaby- focal-wallaby - hirsute-wallaby, - groovy-victoria,154,2
openstack%2Ftripleo-heat-templates~master~Id789f6eb06a0dc317b59ada8291b1fcc62c52d62,openstack/tripleo-heat-templates,master,Id789f6eb06a0dc317b59ada8291b1fcc62c52d62,Set rsyslog reopenOnTruncate parameter to default 'on',ABANDONED,2021-05-06 18:29:56.000000000,2021-05-06 20:11:03.000000000,,[{'_account_id': 5241}],"[{'number': 1, 'created': '2021-05-06 18:29:56.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l2gw-agent-baremetal-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/metrics/qdr-container-ansible.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/frr/frr-container-ansible.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90073bb3f8f7d5cf2a7e94160dcc3fde92ff79bc', 'message': ""Set rsyslog reopenOnTruncate parameter to default 'on'\n\nreopenOnTruncate is required for rsyslog to immediately recognize when a log rotation happens. Else, rsyslog will wait for the file to reach the size if was previously at before consumeing any additional logs.\n\nRelated issue: https://github.com/rsyslog/rsyslog/issues/511\n\nChange-Id: Id789f6eb06a0dc317b59ada8291b1fcc62c52d62\n""}]",0,790141,90073bb3f8f7d5cf2a7e94160dcc3fde92ff79bc,3,1,1,31510,,,0,"Set rsyslog reopenOnTruncate parameter to default 'on'

reopenOnTruncate is required for rsyslog to immediately recognize when a log rotation happens. Else, rsyslog will wait for the file to reach the size if was previously at before consumeing any additional logs.

Related issue: https://github.com/rsyslog/rsyslog/issues/511

Change-Id: Id789f6eb06a0dc317b59ada8291b1fcc62c52d62
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/790141/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/neutron/neutron-l2gw-agent-baremetal-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/pacemaker/pacemaker-remote-baremetal-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/heat/heat-api-cfn-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/metrics/qdr-container-ansible.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/cinder/cinder-scheduler-container-puppet.yaml', 'deployment/cinder/cinder-backup-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/heat/heat-api-container-puppet.yaml', 'deployment/pacemaker/pacemaker-baremetal-puppet.yaml', 'deployment/frr/frr-container-ansible.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml', 'deployment/experimental/designate/designate-worker-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-metadata-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/experimental/designate/designate-producer-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/cinder/cinder-volume-container-puppet.yaml', 'deployment/metrics/qdr-container-puppet.yaml']",41,90073bb3f8f7d5cf2a7e94160dcc3fde92ff79bc,rsyslog-reopen-on-truncate, reopenOnTruncate: on,,41,1
openstack%2Fcharm-manila-generic~master~I70c579bc425746b30be12cb30e660542da842c48,openstack/charm-manila-generic,master,I70c579bc425746b30be12cb30e660542da842c48,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 12:16:32.000000000,2021-05-06 20:02:13.000000000,2021-05-06 20:02:13.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 12:16:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/9bd775ff1976e59f34b166458af0e1e2942afe09', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I70c579bc425746b30be12cb30e660542da842c48\n'}, {'number': 2, 'created': '2021-03-30 12:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/21f855f1c6d692b859a3d25816f147443cf3de4c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I70c579bc425746b30be12cb30e660542da842c48\n'}, {'number': 3, 'created': '2021-04-15 18:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/4585cd07822edf4afdd66c65d1411562d480bf55', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I70c579bc425746b30be12cb30e660542da842c48\n'}, {'number': 4, 'created': '2021-05-06 09:57:07.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/129e0ca9bf504aa8f87ca1421e96fe2947654680', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I70c579bc425746b30be12cb30e660542da842c48\n'}]",0,778892,129e0ca9bf504aa8f87ca1421e96fe2947654680,28,3,4,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I70c579bc425746b30be12cb30e660542da842c48
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/92/778892/4 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,9bd775ff1976e59f34b166458af0e1e2942afe09,wallaby-bundles, - focal-wallaby - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,176,2
openstack%2Fswift~master~I4ba3e01e59fde6a85e5c3bc10055e65ccbd280c0,openstack/swift,master,I4ba3e01e59fde6a85e5c3bc10055e65ccbd280c0,"sharding: Don't consider responses generated from cache as ""already visited""",NEW,2021-04-22 20:37:33.000000000,2021-05-06 19:55:50.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-22 20:37:33.000000000', 'files': ['swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5b9eda63d53aaef1685a0786bc0fe75105d20474', 'message': 'sharding: Don\'t consider responses generated from cache as ""already visited""\n\nChange-Id: I4ba3e01e59fde6a85e5c3bc10055e65ccbd280c0\n'}]",2,787637,5b9eda63d53aaef1685a0786bc0fe75105d20474,6,2,1,15343,,,0,"sharding: Don't consider responses generated from cache as ""already visited""

Change-Id: I4ba3e01e59fde6a85e5c3bc10055e65ccbd280c0
",git fetch https://review.opendev.org/openstack/swift refs/changes/37/787637/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/container.py'],1,5b9eda63d53aaef1685a0786bc0fe75105d20474,," if not config_true_value(resp.headers.get('x-backend-cached-results')): shard_listing_history.append( (self.account_name, self.container_name))"," shard_listing_history.append((self.account_name, self.container_name))",3,1
openstack%2Ftripleo-validations~master~I92e4096c97359f0294641a85b9f7491f82ebd883,openstack/tripleo-validations,master,I92e4096c97359f0294641a85b9f7491f82ebd883,Refactoring of ovs_dpdk_pmd_cpus_check tests.,MERGED,2021-03-18 15:16:39.000000000,2021-05-06 19:53:48.000000000,2021-05-06 19:53:48.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-18 15:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d416962389b63296cf5b3491c8bdb7e88f2eadc5', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 2, 'created': '2021-03-19 08:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c0bb07645c884beaeadc754ab1e7ad90919f7288', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 3, 'created': '2021-03-31 12:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/731650f3e530f7512fb1dd569c225298b05cb700', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 4, 'created': '2021-03-31 12:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8115d66c6d487630a6d7c828658844acf22a8edc', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 5, 'created': '2021-03-31 12:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/8e90a5e1726c5e92f9f8910b3fc7b8411ebc1244', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 6, 'created': '2021-04-01 12:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ffb0ba410fe4d9ee1252f1a0e6abdcd2c9087ca8', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nThe test module now has proper docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 7, 'created': '2021-04-06 10:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/22210aa33fa8abb4566adf3875afa34ad2a4a599', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nThe test module now has proper docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 8, 'created': '2021-04-06 15:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ae2cb89b972dac2b28e2317e31873faf9bbd612e', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nThe test module now has proper docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 9, 'created': '2021-04-09 09:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1d29a38376e52ef33b6e18e6c1e4e89ab4aaa223', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nThe test module now has proper docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 10, 'created': '2021-04-19 10:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/65485bfeb639d11691fa02efee043469dac24e1c', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nTests now cover entire module, except for the\nif main clause which is trivial.\n\nThe test module now has proper docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 11, 'created': '2021-04-19 11:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/ce0b207f344b01b0fea99a07bc8c73b26a6d0c9b', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nTests now cover entire module, except for the\nif main clause which is trivial.\n\nThe test module now has proper docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}, {'number': 12, 'created': '2021-05-05 07:41:12.000000000', 'files': ['tripleo_validations/tests/fakes.py', 'tripleo_validations/tests/library/test_ovs_dpdk_pmd_cpus_check.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7577bd90d2c5f2f2d5c8ef76c685941e095b54f4', 'message': 'Refactoring of ovs_dpdk_pmd_cpus_check tests.\n\nIncreased strictness of existing tests.\nFactored out largest data structure to fakes.\n\nTests now cover entire module, except for the\nif main clause which is trivial.\n\nThe test module now has proper docstring.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I92e4096c97359f0294641a85b9f7491f82ebd883\n'}]",6,781499,7577bd90d2c5f2f2d5c8ef76c685941e095b54f4,29,7,12,32926,,,0,"Refactoring of ovs_dpdk_pmd_cpus_check tests.

Increased strictness of existing tests.
Factored out largest data structure to fakes.

Tests now cover entire module, except for the
if main clause which is trivial.

The test module now has proper docstring.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I92e4096c97359f0294641a85b9f7491f82ebd883
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/99/781499/12 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_validations/tests/fakes.py', 'tripleo_validations/tests/library/test_ovs_dpdk_pmd_cpus_check.py']",2,d416962389b63296cf5b3491c8bdb7e88f2eadc5,unittest/ovs_dpdk_pmd_cpus_check, from unittest import mock except ImportError: import mockfrom tripleo_validations.tests import fakes self.module = mock.MagicMock() @mock.patch('library.ovs_dpdk_pmd_cpus_check.' @mock.patch('library.ovs_dpdk_pmd_cpus_check.' mock_cpus.return_value = fakes.MOCK_CPUS_RET_VALUE self.module.exit_json.assert_called_once_with( @mock.patch('library.ovs_dpdk_pmd_cpus_check.' @mock.patch('library.ovs_dpdk_pmd_cpus_check.' mock_cpus.return_value = fakes.MOCK_CPUS_RET_VALUE self.module.fail_json.assert_called_once_with( self.module.fail_json.assert_called_once_with( self.module.fail_json.assert_called_once_with( self.module.fail_json.assert_called_once_with( self.module.fail_json.assert_called_once_with(," from unittest.mock import MagicMock from unittest.mock import patch except ImportError: from mock import MagicMock from mock import patch self.module = MagicMock() @patch('library.ovs_dpdk_pmd_cpus_check.' @patch('library.ovs_dpdk_pmd_cpus_check.' mock_cpus.return_value = ( [0, 1], [{'numa_node': 0, 'thread_siblings': [0, 2], 'cpu': 0}, {'numa_node': 0, 'thread_siblings': [4, 6], 'cpu': 4}, {'numa_node': 0, 'thread_siblings': [8, 10], 'cpu': 8}, {'numa_node': 1, 'thread_siblings': [1, 3], 'cpu': 1}, {'numa_node': 1, 'thread_siblings': [5, 7], 'cpu': 5}, {'numa_node': 1, 'thread_siblings': [9, 11], 'cpu': 9}]) self.module.exit_json.assert_called_with( @patch('library.ovs_dpdk_pmd_cpus_check.' @patch('library.ovs_dpdk_pmd_cpus_check.' mock_cpus.return_value = ( [0, 1], [{'numa_node': 0, 'thread_siblings': [0, 2], 'cpu': 0}, {'numa_node': 0, 'thread_siblings': [4, 6], 'cpu': 4}, {'numa_node': 0, 'thread_siblings': [8, 10], 'cpu': 8}, {'numa_node': 1, 'thread_siblings': [1, 3], 'cpu': 1}, {'numa_node': 1, 'thread_siblings': [5, 7], 'cpu': 5}, {'numa_node': 1, 'thread_siblings': [9, 11], 'cpu': 9}]) self.module.fail_json.assert_called_with( self.module.fail_json.assert_called_with( self.module.fail_json.assert_called_with( self.module.fail_json.assert_called_with( self.module.fail_json.assert_called_with(",26,32
openstack%2Ftripleo-validations~master~Iedd708519be5a2eb13ee6c1ffd933229f68560eb,openstack/tripleo-validations,master,Iedd708519be5a2eb13ee6c1ffd933229f68560eb,Mocking superfluous imports,MERGED,2021-04-26 10:58:18.000000000,2021-05-06 19:53:44.000000000,2021-05-06 19:53:44.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-04-26 10:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bb4b32689ea4bd9efa6d544211e6cd19b0ba72fd', 'message': 'Mocking superfluous imports\n\nUnless explicitly mocked, all dependencies of tested\nmodules are imported by default.\n\nThis can cause exceptions or even CI issues,\nespecially if the required module is listed present\nin the test-requirements.txt file, but not in the spec file.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iedd708519be5a2eb13ee6c1ffd933229f68560eb\n'}, {'number': 2, 'created': '2021-04-26 14:16:48.000000000', 'files': ['tripleo_validations/tests/fakes.py', 'tripleo_validations/tests/library/test_ovs_dpdk_pmd_cpus_check.py', 'tripleo_validations/tests/library/test_switch_vlans.py', 'tripleo_validations/tests/library/test_node_disks.py', 'tripleo_validations/tests/library/test_ceph_pools_pg_protection.py', 'tripleo_validations/tests/test_utils.py', 'tripleo_validations/tests/library/test_network_environment.py', 'tripleo_validations/tests/library/test_check_ironic_boot_config.py', 'tripleo_validations/tests/library/test_ip_range.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/eeb6d71d14fc59f46317f0fbaf3a0b7312537655', 'message': 'Mocking superfluous imports\n\nUnless explicitly mocked, all dependencies of tested\nmodules are imported by default.\n\nThis can cause exceptions or even CI issues,\nespecially if the required module is listed present\nin the test-requirements.txt file, but not in the spec file.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Iedd708519be5a2eb13ee6c1ffd933229f68560eb\n'}]",0,787957,eeb6d71d14fc59f46317f0fbaf3a0b7312537655,10,8,2,32926,,,0,"Mocking superfluous imports

Unless explicitly mocked, all dependencies of tested
modules are imported by default.

This can cause exceptions or even CI issues,
especially if the required module is listed present
in the test-requirements.txt file, but not in the spec file.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Iedd708519be5a2eb13ee6c1ffd933229f68560eb
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/57/787957/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_validations/tests/fakes.py'],1,bb4b32689ea4bd9efa6d544211e6cd19b0ba72fd,,import sys try: from unittest import mock except ImportError: import mock sys.modules['uuidutils'] = mock.MagicMock() sys.modules['xml.etree'] = mock.MagicMock(),,8,0
openstack%2Fcharm-designate-bind~master~I51d16d692b1456f157b54d35eec892c14946ea4d,openstack/charm-designate-bind,master,I51d16d692b1456f157b54d35eec892c14946ea4d,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:12:58.000000000,2021-05-06 19:41:05.000000000,2021-05-06 19:41:05.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/82f37978bf6ded9e869144f01254a632222c744d', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I51d16d692b1456f157b54d35eec892c14946ea4d\n'}, {'number': 2, 'created': '2021-04-15 17:32:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/dab950c7cd5df0637068cbe965da73dc87f6f7eb', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I51d16d692b1456f157b54d35eec892c14946ea4d\n'}, {'number': 3, 'created': '2021-05-06 09:56:20.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/9c6ea514841e8fe44ec67aca2b8c4c3384e6755a', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I51d16d692b1456f157b54d35eec892c14946ea4d\n'}]",0,778641,9c6ea514841e8fe44ec67aca2b8c4c3384e6755a,25,3,3,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I51d16d692b1456f157b54d35eec892c14946ea4d
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/41/778641/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,82f37978bf6ded9e869144f01254a632222c744d,wallaby-bundles, - focal-wallaby - hirsute-wallaby - hirsute-wallaby, - groovy-victoria,200,2
openstack%2Fvalidations-common~master~Id6f0ab2dec9b52a6f765626c7c85831f85771dd0,openstack/validations-common,master,Id6f0ab2dec9b52a6f765626c7c85831f85771dd0,Improved test coverage for library/advanced_format.py,MERGED,2021-03-11 15:45:05.000000000,2021-05-06 19:39:07.000000000,2021-05-06 19:39:07.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-11 15:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ece71bba470fece4372d1707f688a3524a4326ac', 'message': 'Improved test coverage for library/advanced_format.py\n\nIncreases test coverage to almost 100% of statements.\nThe exception being the initial call of main.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id6f0ab2dec9b52a6f765626c7c85831f85771dd0\n'}, {'number': 2, 'created': '2021-04-06 13:43:02.000000000', 'files': ['validations_common/tests/library/test_advanced_format.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/b50b40c4ab6383c0a32ac89cfd7525ed9eb0e44e', 'message': 'Improved test coverage for library/advanced_format.py\n\nIncreases test coverage to almost 100% of statements.\nThe exception being the initial call of main.\n\nCloses-Bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id6f0ab2dec9b52a6f765626c7c85831f85771dd0\n'}]",0,780020,b50b40c4ab6383c0a32ac89cfd7525ed9eb0e44e,10,6,2,32926,,,0,"Improved test coverage for library/advanced_format.py

Increases test coverage to almost 100% of statements.
The exception being the initial call of main.

Closes-Bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id6f0ab2dec9b52a6f765626c7c85831f85771dd0
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/20/780020/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/tests/library/test_advanced_format.py'],1,ece71bba470fece4372d1707f688a3524a4326ac,unittests/library/advancedformat," self.advanced_format = advanced_format self.module = mock.MagicMock() self.module.params = {'msg': 'foo'} @mock.patch( 'validations_common.library.advanced_format.read_int', return_value=0) @mock.patch( 'validations_common.library.advanced_format.AnsibleModule') @mock.patch( 'validations_common.library.advanced_format.yaml_safe_load', return_value={'options': mock.MagicMock()}) def test_advanced_format_run_same_sizes(self, mock_safe_load, mock_ansible_module, mock_read_int): """"""Verify that advanced_format correctly works with provided YAML. """""" mock_module = mock.MagicMock() mock_module.params = {'drive': 'foo'} mock_ansible_module.return_value = mock_module self.advanced_format.main() mock_safe_load.assert_called_once_with(self.advanced_format.DOCUMENTATION) mock_module.exit_json.assert_called_once_with( changed=False, msg=""The disk foo probably doesn't use Advance Format."") @mock.patch( 'validations_common.library.advanced_format.read_int', side_effect=[100, 1000]) @mock.patch( 'validations_common.library.advanced_format.AnsibleModule') @mock.patch( 'validations_common.library.advanced_format.yaml_safe_load', return_value={'options': mock.MagicMock()}) def test_advanced_format_run_different_sizes(self, mock_safe_load, mock_ansible_module, mock_read_int): """"""Verify that advanced_format correctly works with provided YAML. """""" mock_module = mock.MagicMock() mock_module.params = {'drive': 'foo'} mock_ansible_module.return_value = mock_module self.advanced_format.main() mock_safe_load.assert_called_once_with(self.advanced_format.DOCUMENTATION) mock_module.exit_json.assert_called_once_with( changed=True, warnings=mock.ANY) def test_advanced_format_attributes(self): """"""Verify that module contains required attributes. """""" required_names = set( [ 'DOCUMENTATION', 'EXAMPLES', 'AnsibleModule' ]) advanced_format_names = set(dir(self.advanced_format)) self.assertTrue(advanced_format_names.issuperset(required_names)) @mock.patch('ansible.module_utils.basic.AnsibleModule', autospec=True) @mock.patch( 'six.moves.builtins.open', autospec=True, side_effect=IOError()) def test_read_int_ioerror(self, mock_open, mock_module): """"""Verify that IOError causes fail_json call. As the msg argument is ultimately a string and subject to potential changes without effect on its function, we only verify the presence of call. """""" args = { 'module': mock_module, 'file_path': './foo/bar' } self.read_int(**args) mock_open.assert_called_once_with(args['file_path']) mock_module.fail_json.assert_called_once() @mock.patch( 'validations_common.library.advanced_format.int', side_effect=ValueError()) @mock.patch('ansible.module_utils.basic.AnsibleModule', autospec=True) @mock.patch('six.moves.builtins.open', autospec=True) def test_read_int_valueerror(self, mock_open, mock_module, mock_adv_format_int): """"""Verify that ValueError raised by int conversion causes fail_json call. As the msg argument is ultimately a string and subject to potential changes without effect on its function, we only verify the presence of call. """""" args = { 'module': mock_module, 'file_path': './foo/bar' } self.read_int(**args) mock_open.assert_called_once_with(args['file_path']) mock_module.fail_json.assert_called_once()",,110,0
openstack%2Fvalidations-common~master~I030e43b6b0c1fbd7d1e42627a60dfe5741d95d40,openstack/validations-common,master,I030e43b6b0c1fbd7d1e42627a60dfe5741d95d40,Improved test coverage for library/warn.py,MERGED,2021-03-10 15:23:38.000000000,2021-05-06 19:38:35.000000000,2021-05-06 19:38:35.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-10 15:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0e46aef7aee035076e6b1de8368c0684956b81ad', 'message': 'Improved test coverage for librar/warn.py\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I030e43b6b0c1fbd7d1e42627a60dfe5741d95d40\n'}, {'number': 2, 'created': '2021-03-10 15:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/ac95cafa26d9e6613a9b2cc794f7fdf82e3f458f', 'message': 'Improved test coverage for library/warn.py\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I030e43b6b0c1fbd7d1e42627a60dfe5741d95d40\n'}, {'number': 3, 'created': '2021-03-18 12:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/0cf089aea7e193428b84a6926c4bae5dabc4a76c', 'message': 'Improved test coverage for library/warn.py\n\nTest of module initiation, presence of required attributes\nand basic yaml processing.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I030e43b6b0c1fbd7d1e42627a60dfe5741d95d40\n'}, {'number': 4, 'created': '2021-04-06 13:37:34.000000000', 'files': ['validations_common/tests/library/test_warn.py'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/50eea5edb7325344a1b4b802470fb7945f03e47b', 'message': 'Improved test coverage for library/warn.py\n\nTest of module initiation, presence of required attributes\nand basic yaml processing.\n\nCloses-bug: #1922726\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I030e43b6b0c1fbd7d1e42627a60dfe5741d95d40\n'}]",0,779810,50eea5edb7325344a1b4b802470fb7945f03e47b,14,6,4,32926,,,0,"Improved test coverage for library/warn.py

Test of module initiation, presence of required attributes
and basic yaml processing.

Closes-bug: #1922726

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I030e43b6b0c1fbd7d1e42627a60dfe5741d95d40
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/10/779810/1 && git format-patch -1 --stdout FETCH_HEAD,['validations_common/tests/library/test_warn.py'],1,0e46aef7aee035076e6b1de8368c0684956b81ad,unittests/library/warn," self.warn = warn self.module = mock.MagicMock() self.module.params = {'msg': 'foo'} @mock.patch( 'validations_common.library.warn.AnsibleModule') @mock.patch( 'validations_common.library.warn.yaml_safe_load', return_value={'options': mock.MagicMock()}) def test_warn_run(self, mock_safe_load, mock_ansible_module): """"""Verify that warn correctly works with provided YAML. """""" mock_module = mock.MagicMock() mock_module.params = {'msg': 'foo'} mock_ansible_module.return_value = mock_module self.warn.main() mock_safe_load.assert_called_once_with(self.warn.DOCUMENTATION) mock_module.exit_json.assert_called_once_with( changed=False, warnings=['foo']) def test_warn_attributes(self): """"""Verify that module contains required attributes. """""" required_names = set( [ 'DOCUMENTATION', 'EXAMPLES', 'AnsibleModule' ]) warn_names = set(dir(self.warn)) self.assertTrue(warn_names.issuperset(required_names))", self.warn = warn.main,36,1
openstack%2Fvalidations-common~master~I907e2a13a3ba3b152ad7036fa1bb249bec980b76,openstack/validations-common,master,I907e2a13a3ba3b152ad7036fa1bb249bec980b76,Add shared configuration for all molecule test,MERGED,2021-04-27 07:05:02.000000000,2021-05-06 19:38:32.000000000,2021-05-06 19:38:32.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-04-27 07:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/dd5df99b3c0506e1514a468531b28ef6959b106d', 'message': 'Add shared configuration\n\nChange-Id: I907e2a13a3ba3b152ad7036fa1bb249bec980b76\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n'}, {'number': 2, 'created': '2021-04-27 08:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d663aeb6e26f8996af0557ecaba1296c308c24b3', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (validations-common/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in validations-common/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible has been temporarly disabled due to\nhttps://github.com/ansible-community/tox-ansible/issues/88, which\ndoesn't manage shared molecule configuration for now.\n\nChange-Id: I907e2a13a3ba3b152ad7036fa1bb249bec980b76\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2021-04-28 13:21:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/2012c5ef8d54b999f1fcfe4dd54e5f20293ba4cb', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (validations-common/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in validations-common/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible has been temporarly disabled due to\nhttps://github.com/ansible-community/tox-ansible/issues/88, which\ndoesn't manage shared molecule configuration for now.\n\nChange-Id: I907e2a13a3ba3b152ad7036fa1bb249bec980b76\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 4, 'created': '2021-04-30 03:40:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/484d7234f2c4c04eb4d7a40090d4fece6bb8b298', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (validations-common/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in validations-common/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible has been temporarly disabled due to\nhttps://github.com/ansible-community/tox-ansible/issues/88, which\ndoesn't manage shared molecule configuration for now.\n\nChange-Id: I907e2a13a3ba3b152ad7036fa1bb249bec980b76\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 5, 'created': '2021-04-30 03:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9aa634f3a3fcada5c4a3d57bedab49742a1606ad', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (validations-common/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in validations-common/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible has been temporarily disabled due to\nhttps://github.com/ansible-community/tox-ansible/issues/88, which\ndoesn't manage shared molecule configuration for now.\n\nChange-Id: I907e2a13a3ba3b152ad7036fa1bb249bec980b76\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 6, 'created': '2021-05-05 07:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/f5656fe0eea6ba29a3942d25028ad2e69d09a5f7', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (validations-common/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in validations-common/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible has been temporarily disabled due to\nhttps://github.com/ansible-community/tox-ansible/issues/88, which\ndoesn't manage shared molecule configuration for now.\n\nChange-Id: I907e2a13a3ba3b152ad7036fa1bb249bec980b76\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 7, 'created': '2021-05-05 08:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d530cbb56e5680720b05eb8e80c8dc0fa66c697b', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (validations-common/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in validations-common/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't managed shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nChange-Id: I907e2a13a3ba3b152ad7036fa1bb249bec980b76\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}, {'number': 8, 'created': '2021-05-05 10:00:04.000000000', 'files': ['validations_common/roles/xfs_check_ftype/molecule/default/Dockerfile', 'validations_common/roles/check_ram/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/docker/Dockerfile', 'validations_common/roles/service_status/molecule/podman/Dockerfile', 'validations_common/roles/validate_selinux/molecule/default/molecule.yml', 'validations_common/roles/xfs_check_ftype/molecule/default/molecule.yml', 'validations_common/roles/dns/molecule/default/Dockerfile', 'validations_common/roles/validate_selinux/molecule/default/Dockerfile', 'validations_common/roles/check_cpu/molecule/default/Dockerfile', 'validations_common/roles/check_selinux_mode/molecule/default/Dockerfile', 'validations_common/roles/service_status/molecule/podman/molecule.yml', 'validations_common/roles/service_status/molecule/default/Dockerfile', 'validations_common/roles/advanced_format_512e_support/molecule/default/Dockerfile', 'validations_common/roles/service_status/molecule/systemd/molecule.yml', 'validations_common/roles/advanced_format_512e_support/molecule/default/molecule.yml', 'validations_common/roles/check_disk_space/molecule/default/molecule.yml', 'validations_common/roles/ntp/molecule/default/Dockerfile', 'validations_common/roles/haproxy/molecule/default/Dockerfile', '.config/molecule/config.yml', 'validations_common/roles/ntp/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/docker/molecule.yml', 'validations_common/roles/check_cpu/molecule/default/molecule.yml', 'validations_common/roles/haproxy/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/systemd/Dockerfile', 'validations_common/roles/dns/molecule/default/molecule.yml', 'validations_common/roles/check_latest_packages_version/molecule/default/Dockerfile', 'validations_common/roles/check_ram/molecule/default/Dockerfile', 'playbooks/molecule/pre.yml', 'validations_common/roles/check_latest_packages_version/molecule/default/molecule.yml', 'validations_common/roles/check_selinux_mode/molecule/default/molecule.yml', 'validations_common/roles/check_disk_space/molecule/default/Dockerfile', '.config/molecule/Dockerfile', 'tox.ini', 'validations_common/roles/service_status/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/6243262f1e4de734ee3dc57a8343d2a015230e81', 'message': ""Add shared configuration for all molecule test\n\nThis patch adds a molecule configuration file at the repository\nlevel (validations-common/.config/molecule/config.yml) which defines\nall the default values for molecule.yml files in all roles.\n\nThis patch also introduces a common Dockerfile (UBI8 image) shared\nbetween all the role molecule tests. This Dockerfile will install the\nCentOS 8.x Linux Repos and GPG Keys during the image build.\n\nThis Dockerfile is located in validations-common/.config/molecule\ndirectory and it is shared through a relative symbolic link between all\nthe molecule directories.\n\nNOTE: tox-ansible doesn't manage shared molecule configuration at the\nproject level (see [1]). To be able to use it, we have to explicitly add\nthe driver name in each molecule.yml file in the roles level. Once [1]\nwill be fixed, these will be removed.\n\n[1] - https://github.com/ansible-community/tox-ansible/issues/88).\n\nChange-Id: I907e2a13a3ba3b152ad7036fa1bb249bec980b76\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\n""}]",1,788178,6243262f1e4de734ee3dc57a8343d2a015230e81,25,4,8,11491,,,0,"Add shared configuration for all molecule test

This patch adds a molecule configuration file at the repository
level (validations-common/.config/molecule/config.yml) which defines
all the default values for molecule.yml files in all roles.

This patch also introduces a common Dockerfile (UBI8 image) shared
between all the role molecule tests. This Dockerfile will install the
CentOS 8.x Linux Repos and GPG Keys during the image build.

This Dockerfile is located in validations-common/.config/molecule
directory and it is shared through a relative symbolic link between all
the molecule directories.

NOTE: tox-ansible doesn't manage shared molecule configuration at the
project level (see [1]). To be able to use it, we have to explicitly add
the driver name in each molecule.yml file in the roles level. Once [1]
will be fixed, these will be removed.

[1] - https://github.com/ansible-community/tox-ansible/issues/88).

Change-Id: I907e2a13a3ba3b152ad7036fa1bb249bec980b76
Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/78/788178/3 && git format-patch -1 --stdout FETCH_HEAD,"['validations_common/roles/xfs_check_ftype/molecule/default/Dockerfile', 'validations_common/roles/check_ram/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/docker/Dockerfile', 'validations_common/roles/service_status/molecule/podman/Dockerfile', 'validations_common/roles/validate_selinux/molecule/default/molecule.yml', 'validations_common/roles/xfs_check_ftype/molecule/default/molecule.yml', 'validations_common/roles/dns/molecule/default/Dockerfile', 'validations_common/roles/validate_selinux/molecule/default/Dockerfile', 'validations_common/roles/check_cpu/molecule/default/Dockerfile', 'validations_common/roles/check_selinux_mode/molecule/default/Dockerfile', 'validations_common/roles/service_status/molecule/podman/molecule.yml', 'validations_common/roles/service_status/molecule/default/Dockerfile', 'validations_common/roles/advanced_format_512e_support/molecule/default/Dockerfile', 'validations_common/roles/service_status/molecule/systemd/molecule.yml', 'validations_common/roles/advanced_format_512e_support/molecule/default/molecule.yml', 'validations_common/roles/check_disk_space/molecule/default/molecule.yml', 'validations_common/roles/ntp/molecule/default/Dockerfile', 'validations_common/roles/haproxy/molecule/default/Dockerfile', '.config/molecule/config.yml', 'validations_common/roles/ntp/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/docker/molecule.yml', 'validations_common/roles/check_cpu/molecule/default/molecule.yml', 'validations_common/roles/haproxy/molecule/default/molecule.yml', 'validations_common/roles/service_status/molecule/systemd/Dockerfile', 'validations_common/roles/dns/molecule/default/molecule.yml', 'validations_common/roles/check_latest_packages_version/molecule/default/Dockerfile', 'validations_common/roles/check_ram/molecule/default/Dockerfile', 'playbooks/molecule/pre.yml', 'validations_common/roles/check_latest_packages_version/molecule/default/molecule.yml', 'validations_common/roles/check_selinux_mode/molecule/default/molecule.yml', 'validations_common/roles/check_disk_space/molecule/default/Dockerfile', '.config/molecule/Dockerfile', 'validations_common/roles/service_status/molecule/default/molecule.yml']",33,dd5df99b3c0506e1514a468531b28ef6959b106d,VALIDATION_DEVELOPMENT_WORKFLOW,"# inherits tripleo-validations/.config/molecule/config.yml # To override default values, please take a look at the config.yml.","driver: name: podman log: true platforms: - name: ubi8 hostname: ubi8 image: ubi8/ubi-init registry: url: registry.access.redhat.com dockerfile: Dockerfile command: /sbin/init pkg_extras: python*-setuptools python*-pyyaml volumes: - /etc/ci/mirror_info.sh:/etc/ci/mirror_info.sh:ro - /etc/pki/rpm-gpg:/etc/pki/rpm-gpg - /opt/yum.repos.d:/etc/yum.repos.d:rw privileged: true environment: &env http_proxy: ""{{ lookup('env', 'http_proxy') }}"" https_proxy: ""{{ lookup('env', 'https_proxy') }}"" ulimits: &ulimit - host provisioner: name: ansible inventory: hosts: all: hosts: ubi8: ansible_python_interpreter: /usr/bin/python3 log: true env: ANSIBLE_STDOUT_CALLBACK: yaml ANSIBLE_LIBRARY: ""${ANSIBLE_LIBRARY:-/usr/share/ansible/plugins/modules}"" scenario: test_sequence: - destroy - create - prepare - converge - verify - destroy verifier: name: testinfra",150,720
openstack%2Ftripleo-quickstart-extras~master~Ib56ad36d160a272ef0f10a938304f98334000cee,openstack/tripleo-quickstart-extras,master,Ib56ad36d160a272ef0f10a938304f98334000cee,Use validation-common roles for Tripleo CI,MERGED,2021-04-28 15:17:42.000000000,2021-05-06 19:38:26.000000000,2021-05-06 19:38:26.000000000,"[{'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27427}]","[{'number': 1, 'created': '2021-04-28 15:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0b845609fb14b22d17d36d641993070657d2d2f2', 'message': 'Use validation-common roles for Tripleo CI\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/788512\nChange-Id: Ib56ad36d160a272ef0f10a938304f98334000cee\n'}, {'number': 2, 'created': '2021-04-29 11:13:36.000000000', 'files': ['playbooks/multinode-standalone.yml', 'playbooks/validations.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c2046812cbc6b0d35ee5d276c6a975a9bf6fbc50', 'message': 'Use validation-common roles for Tripleo CI\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/788512\nChange-Id: Ib56ad36d160a272ef0f10a938304f98334000cee\n'}]",0,788513,c2046812cbc6b0d35ee5d276c6a975a9bf6fbc50,16,4,2,16515,,,0,"Use validation-common roles for Tripleo CI

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/788512
Change-Id: Ib56ad36d160a272ef0f10a938304f98334000cee
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/13/788513/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/multinode-standalone.yml', 'playbooks/validations.yml']",2,0b845609fb14b22d17d36d641993070657d2d2f2,validation/roles," vars: inventory: ""tripleo-ansible-inventory.yaml"" name: validations", name: tripleo_validations,6,3
openstack%2Fcinder~stable%2Ftrain~I1349e8d3eb422f9dcd533c54f922f7ab8133b753,openstack/cinder,stable/train,I1349e8d3eb422f9dcd533c54f922f7ab8133b753,API validation: Add cinder_host type to support ipv6 in manage,MERGED,2021-05-05 14:37:01.000000000,2021-05-06 18:39:23.000000000,2021-05-06 18:36:43.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 14:37:01.000000000', 'files': ['cinder/api/validation/parameter_types.py', 'releasenotes/notes/bug-1904892-ipv6-nfs-manage-391118115dfaaf54.yaml', 'cinder/api/schemas/volume_manage.py', 'cinder/tests/unit/api/contrib/test_volume_manage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1644aab33b62adb2042ea709b685fc093e449ff0', 'message': 'API validation: Add cinder_host type to support ipv6 in manage\n\nThis will fail due to overly restrictive regex validation:\n  cinder manage hostgroup@cloud#[dead:beef::cafe]:/cinder01 abcd\n\nThis is because validation for this call checks for a valid\nhostname but needs to check for any string that would be a valid\n""host"" in Cinder, which is not the same thing.\n\nCloses-Bug: #1904892\nChange-Id: I1349e8d3eb422f9dcd533c54f922f7ab8133b753\n(cherry picked from commit 8687925ce7b0e8f707006394f762a8f0a2ee60f3)\n(cherry picked from commit 51b92e9fa64baa3d362dd704ef064d042ef9541e)\n(cherry picked from commit d5fed21fdfa754ca34d36ef5b0247394146bb961)\n'}]",0,789846,1644aab33b62adb2042ea709b685fc093e449ff0,31,3,1,4523,,,0,"API validation: Add cinder_host type to support ipv6 in manage

This will fail due to overly restrictive regex validation:
  cinder manage hostgroup@cloud#[dead:beef::cafe]:/cinder01 abcd

This is because validation for this call checks for a valid
hostname but needs to check for any string that would be a valid
""host"" in Cinder, which is not the same thing.

Closes-Bug: #1904892
Change-Id: I1349e8d3eb422f9dcd533c54f922f7ab8133b753
(cherry picked from commit 8687925ce7b0e8f707006394f762a8f0a2ee60f3)
(cherry picked from commit 51b92e9fa64baa3d362dd704ef064d042ef9541e)
(cherry picked from commit d5fed21fdfa754ca34d36ef5b0247394146bb961)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/789846/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/validation/parameter_types.py', 'releasenotes/notes/bug-1904892-ipv6-nfs-manage-391118115dfaaf54.yaml', 'cinder/api/schemas/volume_manage.py', 'cinder/tests/unit/api/contrib/test_volume_manage.py']",4,1644aab33b62adb2042ea709b685fc093e449ff0,," {'host': 'host@backend#parts+of+pool'}, {'host': 'host@backend#[dead:beef::cafe]:/vol01'})", {'host': 'host@backend#parts+of+pool'}),22,2
openstack%2Fneutron~stable%2Fwallaby~I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd,openstack/neutron,stable/wallaby,I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd,Improve Subnet update performance,MERGED,2021-05-05 07:25:21.000000000,2021-05-06 18:38:51.000000000,2021-05-06 18:36:21.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 07:25:21.000000000', 'files': ['neutron/db/ipam_backend_mixin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd353320eb9f5536204090b0f0a3e0723b2eaee0', 'message': 'Improve Subnet update performance\n\nDB plugin gets subnet object and this obj could be passed to IPAM\nto save 2 subnet DB requests.\n\nChange-Id: I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd\n(cherry picked from commit e8909a65d420a276f32fd421b3d5c673ec6857ea)\n'}]",0,789667,dd353320eb9f5536204090b0f0a3e0723b2eaee0,18,3,1,5948,,,0,"Improve Subnet update performance

DB plugin gets subnet object and this obj could be passed to IPAM
to save 2 subnet DB requests.

Change-Id: I3b3fe0ae8d567a8bd15c11f5f4bfa9651d302bfd
(cherry picked from commit e8909a65d420a276f32fd421b3d5c673ec6857ea)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/789667/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/ipam_backend_mixin.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/db/ipam_pluggable_backend.py']",3,dd353320eb9f5536204090b0f0a3e0723b2eaee0,subnet_update_opt-stable/wallaby," def update_db_subnet(self, context, id, s, old_pools, subnet_obj=None): subnet = subnet_obj or obj_subnet.Subnet.get_object(context, id=id) context, id, s, old_pools, subnet_obj=subnet_obj)"," def update_db_subnet(self, context, id, s, old_pools): subnet = obj_subnet.Subnet.get_object(context, id=id) context, id, s, old_pools)",8,7
openstack%2Fneutron~stable%2Ftrain~I07c70db027f2ae03ffb5a95072e019e8a5fdc411,openstack/neutron,stable/train,I07c70db027f2ae03ffb5a95072e019e8a5fdc411,Improve Network delete performance,MERGED,2021-05-05 07:59:56.000000000,2021-05-06 18:22:34.000000000,2021-05-06 18:19:15.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 07:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9f5775e5dd2d360b7334885a5e6af8724288da4f', 'message': 'Improve Network delete performance\n\n- pass existing network dict to PRECOMMIT_DELETE ml2 handler;\n- skip MTU and segment update handling in case network is\n  about to be deleted.\n\nAbove gives up to 50% net delete speed-up\n\nChange-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411\n(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)\n'}, {'number': 2, 'created': '2021-05-05 08:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3f639bb3710d6753b53cedfbeb00263e5a785fb', 'message': 'Improve Network delete performance\n\n- pass existing network dict to PRECOMMIT_DELETE ml2 handler;\n- skip MTU and segment update handling in case network is\n  about to be deleted.\n\nAbove gives up to 50% net delete speed-up\n\nChange-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411\n(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)\n'}, {'number': 3, 'created': '2021-05-05 08:03:20.000000000', 'files': ['neutron/services/segments/db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/23e160131be16fc21eb789372b864489ef99c576', 'message': 'Improve Network delete performance\n\n- pass existing network dict to PRECOMMIT_DELETE ml2 handler;\n- skip MTU and segment update handling in case network is\n  about to be deleted.\n\nAbove gives up to 50% net delete speed-up\n\nConflicts:\n\tneutron/services/segments/db.py\n\nChange-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411\n(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)\n'}]",0,789673,23e160131be16fc21eb789372b864489ef99c576,20,3,3,5948,,,0,"Improve Network delete performance

- pass existing network dict to PRECOMMIT_DELETE ml2 handler;
- skip MTU and segment update handling in case network is
  about to be deleted.

Above gives up to 50% net delete speed-up

Conflicts:
	neutron/services/segments/db.py

Change-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411
(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/789673/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/plugins/ml2/plugin.py']",4,9f5775e5dd2d360b7334885a5e6af8724288da4f,net_del_opt-stable/train," network = (kwargs.get('network') or self.get_network(context, network_id)) rtype, event, trigger, payload.context, payload.latest_state, for_net_delete=payload.metadata.get('for_net_delete')) def _handle_segment_change(self, rtype, event, trigger, context, segment, for_net_delete=False): if for_net_delete: return "," network = self.get_network(context, network_id) rtype, event, trigger, payload.context, payload.latest_state) def _handle_segment_change(self, rtype, event, trigger, context, segment):",23,7
openstack%2Fneutron~stable%2Ftrain~I59b0f99463ab00743f19016a890561916df900ed,openstack/neutron,stable/train,I59b0f99463ab00743f19016a890561916df900ed,designate: allow PTR zone creation to fail,MERGED,2021-05-05 06:40:38.000000000,2021-05-06 18:21:19.000000000,2021-05-06 18:18:53.000000000,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 06:40:38.000000000', 'files': ['neutron/services/externaldns/drivers/designate/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/12da41a48fc3cd884eb4af5c549c8c2bc9a0846a', 'message': 'designate: allow PTR zone creation to fail\n\nWhen multiple PTR records are created at the same time, Neutron may try\nto create the same zone multiple times, resulting in a conflict. Ignore\nthe resulting error instead and try to create the record anyway.\n\nChange-Id: I59b0f99463ab00743f19016a890561916df900ed\nCloses-Bug: 1891309\n(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)\n'}]",0,789662,12da41a48fc3cd884eb4af5c549c8c2bc9a0846a,17,4,1,11975,,,0,"designate: allow PTR zone creation to fail

When multiple PTR records are created at the same time, Neutron may try
to create the same zone multiple times, resulting in a conflict. Ignore
the resulting error instead and try to create the record anyway.

Change-Id: I59b0f99463ab00743f19016a890561916df900ed
Closes-Bug: 1891309
(cherry picked from commit ca1c6fd69bda5f392712a8a966bf4f9b85ecb57a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/789662/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/externaldns/drivers/designate/driver.py'],1,12da41a48fc3cd884eb4af5c549c8c2bc9a0846a,bug/1891309-stable/wallaby-stable/victoria-stable/ussuri-stable/train,"from oslo_log import logLOG = log.getLogger(__name__) # Note(jh): If multiple PTRs get created at the same time, # the creation of the zone may fail with a conflict because # it has already been created by a parallel job. So we # ignore that error and try to create the recordset # anyway. That call will still fail in the end if something # is really broken. See bug 1891309. try: designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description) except d_exc.Conflict: LOG.debug('Conflict when trying to create PTR zone %s,' ' assuming it exists.', in_addr_zone_name) pass"," designate_admin.zones.create( in_addr_zone_name, email=ptr_zone_email, description=in_addr_zone_description)",18,3
openstack%2Fneutron~stable%2Fussuri~I07c70db027f2ae03ffb5a95072e019e8a5fdc411,openstack/neutron,stable/ussuri,I07c70db027f2ae03ffb5a95072e019e8a5fdc411,Improve Network delete performance,MERGED,2021-05-05 07:52:14.000000000,2021-05-06 18:21:13.000000000,2021-05-06 18:18:20.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 07:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/efc6e4b589406eec952532d14e3689d44201d1fc', 'message': 'Improve Network delete performance\n\n- pass existing network dict to PRECOMMIT_DELETE ml2 handler;\n- skip MTU and segment update handling in case network is\n  about to be deleted.\n\nAbove gives up to 50% net delete speed-up\n\nChange-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411\n(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)\n'}, {'number': 2, 'created': '2021-05-05 07:55:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/590a3ee756c0af8f43240da55fbd34444d3de3e4', 'message': 'Improve Network delete performance\n\n- pass existing network dict to PRECOMMIT_DELETE ml2 handler;\n- skip MTU and segment update handling in case network is\n  about to be deleted.\n\nAbove gives up to 50% net delete speed-up\n\nChange-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411\n(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)\n'}, {'number': 3, 'created': '2021-05-05 07:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ae3b89131a72d452c519551d3bdf8f0e90337a7', 'message': 'Improve Network delete performance\n\n- pass existing network dict to PRECOMMIT_DELETE ml2 handler;\n- skip MTU and segment update handling in case network is\n  about to be deleted.\n\nAbove gives up to 50% net delete speed-up\n\nChange-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411\n(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)\n'}, {'number': 4, 'created': '2021-05-05 08:02:50.000000000', 'files': ['neutron/services/segments/db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/18476f7f375e211842ef13787a80772cee88b217', 'message': 'Improve Network delete performance\n\n- pass existing network dict to PRECOMMIT_DELETE ml2 handler;\n- skip MTU and segment update handling in case network is\n  about to be deleted.\n\nAbove gives up to 50% net delete speed-up\n\nConflicts:\n\tneutron/services/segments/db.py\n\nChange-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411\n(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)\n'}]",0,789672,18476f7f375e211842ef13787a80772cee88b217,18,3,4,5948,,,0,"Improve Network delete performance

- pass existing network dict to PRECOMMIT_DELETE ml2 handler;
- skip MTU and segment update handling in case network is
  about to be deleted.

Above gives up to 50% net delete speed-up

Conflicts:
	neutron/services/segments/db.py

Change-Id: I07c70db027f2ae03ffb5a95072e019e8a5fdc411
(cherry picked from commit 80eddc40390e63c9c1102b827997054708f2618b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/789672/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/segments/db.py', 'neutron/db/db_base_plugin_v2.py', 'neutron/tests/unit/extensions/test_segment.py', 'neutron/plugins/ml2/plugin.py']",4,efc6e4b589406eec952532d14e3689d44201d1fc,net_del_opt-stable/ussuri," network = (kwargs.get('network') or self.get_network(context, network_id)) rtype, event, trigger, payload.context, payload.latest_state, for_net_delete=payload.metadata.get('for_net_delete')) def _handle_segment_change(self, rtype, event, trigger, context, segment, for_net_delete=False): if for_net_delete: return "," network = self.get_network(context, network_id) rtype, event, trigger, payload.context, payload.latest_state) def _handle_segment_change(self, rtype, event, trigger, context, segment):",23,7
openstack%2Fcharm-gnocchi~master~I4df3a7b4e1ab5aa7660424c4713f175df9f3f711,openstack/charm-gnocchi,master,I4df3a7b4e1ab5aa7660424c4713f175df9f3f711,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 11:29:10.000000000,2021-05-06 18:19:54.000000000,2021-05-06 18:19:54.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 11:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/eac0805724e4a268d3290bb79ff905ca01e227ba', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I4df3a7b4e1ab5aa7660424c4713f175df9f3f711\n'}, {'number': 2, 'created': '2021-03-30 12:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/8a560e0777a39cbcc3e26553a954d9835d174757', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I4df3a7b4e1ab5aa7660424c4713f175df9f3f711\n'}, {'number': 3, 'created': '2021-04-15 17:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/d9dc8758daf3c4e61b740de85768695b11e9ba70', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I4df3a7b4e1ab5aa7660424c4713f175df9f3f711\n'}, {'number': 4, 'created': '2021-05-06 09:49:48.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby-s3.yaml', 'src/tests/bundles/focal-wallaby-s3.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/51ba22235f4ca1c6191058e210ddfa0d58d0085b', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I4df3a7b4e1ab5aa7660424c4713f175df9f3f711\n'}]",0,778645,51ba22235f4ca1c6191058e210ddfa0d58d0085b,35,3,4,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I4df3a7b4e1ab5aa7660424c4713f175df9f3f711
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/45/778645/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby-s3.yaml', 'src/tests/bundles/focal-wallaby-s3.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",6,eac0805724e4a268d3290bb79ff905ca01e227ba,wallaby-bundles, - focal-wallaby - hirsute-wallaby - test-s3: focal-wallaby-s3 - test-s3: hirsute-wallaby-s3 - hirsute-wallaby - hirsute-wallaby-s3, - groovy-victoria - groovy-victoria-s3,601,3
openstack%2Fcharm-cinder-purestorage~master~I7ecced611305999405a98d9f4c1477be5410e60e,openstack/charm-cinder-purestorage,master,I7ecced611305999405a98d9f4c1477be5410e60e,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-04 10:44:38.000000000,2021-05-06 18:19:34.000000000,2021-05-06 18:19:34.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-04 10:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/89ac1cdb3e0a063f87f7b441ece00c42bd666f80', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I7ecced611305999405a98d9f4c1477be5410e60e\n'}, {'number': 2, 'created': '2021-04-15 17:28:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/3f4be996e35535767465aa332c7e2819499539b5', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I7ecced611305999405a98d9f4c1477be5410e60e\n'}, {'number': 3, 'created': '2021-05-06 09:53:58.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/8674df33b7abf57d8d9ac43b6b09936461c777f2', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I7ecced611305999405a98d9f4c1477be5410e60e\n'}]",0,778637,8674df33b7abf57d8d9ac43b6b09936461c777f2,24,3,3,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I7ecced611305999405a98d9f4c1477be5410e60e
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/37/778637/2 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,89ac1cdb3e0a063f87f7b441ece00c42bd666f80,wallaby-bundles, - hirsute-wallaby - focal-wallaby - hirsute-wallaby, - groovy-victoria,166,2
openstack%2Fcharm-nova-cell-controller~master~I259256fedb52f424535cba3c5e78ac53516989f2,openstack/charm-nova-cell-controller,master,I259256fedb52f424535cba3c5e78ac53516989f2,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 14:14:38.000000000,2021-05-06 18:16:43.000000000,2021-05-06 18:16:43.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 14:14:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/50da3e5bfe61f5d8135b2ca073cb44ff1d5bfd65', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I259256fedb52f424535cba3c5e78ac53516989f2\n'}, {'number': 2, 'created': '2021-03-30 17:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/bfe9bc69aa93ee4c80bc61bec0b9b177e79c8b0f', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I259256fedb52f424535cba3c5e78ac53516989f2\n'}, {'number': 3, 'created': '2021-04-15 18:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/dec7e1859b973a2dd7e78d9df5a0a6a0803957cd', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I259256fedb52f424535cba3c5e78ac53516989f2\n'}, {'number': 4, 'created': '2021-05-06 09:50:49.000000000', 'files': ['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/f1fc48218d3e98e1e8cf11d46979acac4e0a4e40', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I259256fedb52f424535cba3c5e78ac53516989f2\n'}]",0,778933,f1fc48218d3e98e1e8cf11d46979acac4e0a4e40,28,3,4,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I259256fedb52f424535cba3c5e78ac53516989f2
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/33/778933/4 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",4,50da3e5bfe61f5d8135b2ca073cb44ff1d5bfd65,wallaby-bundles, - hirsute-wallaby - focal-wallaby - hirsute-wallaby, - groovy-victoria,584,2
openstack%2Fopenstack-ansible~master~I0bf2fa4f9f0206264984d50376de8aa8396e3d09,openstack/openstack-ansible,master,I0bf2fa4f9f0206264984d50376de8aa8396e3d09,Increase backend_fall value for haproxy_letsencrypt_service,MERGED,2021-05-06 12:10:21.000000000,2021-05-06 17:42:26.000000000,2021-05-06 17:40:13.000000000,"[{'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-05-06 12:10:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a8ad99a600fcf6378e9c9e0e9c3b40888dad0f5b', 'message': ""Increase backend_fall value for haproxy_letsencrypt_service\n\nCurrently to get LetsEncrypt certificate, we spawn python http server for 5 seconds to get haproxy endpoint up and after it's terminated, we run certbot which is a backend for this endpoint.\n\nWith current haproxy backend settings(inter=200,fall=2), certbot has only 4 seconds for certificate validation which is too short in many cases.\n\nChanging backend_fall from 2 to 5 should solve the problem.\n\nChange-Id: I0bf2fa4f9f0206264984d50376de8aa8396e3d09\n""}, {'number': 2, 'created': '2021-05-06 12:11:26.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e458786d2aa88df7dd7b61beee03d7562083e2a0', 'message': ""Increase backend_fall value for haproxy_letsencrypt_service\n\nCurrently to get LetsEncrypt certificate, we spawn python http server for 5 seconds to get haproxy endpoint up and after it's terminated, we run certbot which is a backend for this endpoint.\n\nWith current haproxy backend settings(inter=2000,fall=2), certbot has only 4 seconds for certificate validation which is too short in many cases.\n\nChanging backend_fall from 2 to 5 should solve the problem.\n\nChange-Id: I0bf2fa4f9f0206264984d50376de8aa8396e3d09\n""}]",0,790051,e458786d2aa88df7dd7b61beee03d7562083e2a0,12,4,2,32666,,,0,"Increase backend_fall value for haproxy_letsencrypt_service

Currently to get LetsEncrypt certificate, we spawn python http server for 5 seconds to get haproxy endpoint up and after it's terminated, we run certbot which is a backend for this endpoint.

With current haproxy backend settings(inter=2000,fall=2), certbot has only 4 seconds for certificate validation which is too short in many cases.

Changing backend_fall from 2 to 5 should solve the problem.

Change-Id: I0bf2fa4f9f0206264984d50376de8aa8396e3d09
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/51/790051/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,a8ad99a600fcf6378e9c9e0e9c3b40888dad0f5b,, backend_fall: 5, backend_fall: 2,1,1
openstack%2Fswift~master~I600addadcec57bf2d70044b8450491fb6e4b2dac,openstack/swift,master,I600addadcec57bf2d70044b8450491fb6e4b2dac,fixup: relinker: Add /recon/relinker endpoint and drop progress stats,ABANDONED,2021-05-04 22:36:52.000000000,2021-05-06 16:26:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-04 22:36:52.000000000', 'files': ['test/unit/common/middleware/test_recon.py', 'test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/dbf61c7d9eca18be4de241234fa1184895f37ee3', 'message': 'fixup: relinker: Add /recon/relinker endpoint and drop progress stats\n\nChange-Id: I600addadcec57bf2d70044b8450491fb6e4b2dac\n'}]",1,789643,dbf61c7d9eca18be4de241234fa1184895f37ee3,3,1,1,15343,,,0,"fixup: relinker: Add /recon/relinker endpoint and drop progress stats

Change-Id: I600addadcec57bf2d70044b8450491fb6e4b2dac
",git fetch https://review.opendev.org/openstack/swift refs/changes/43/789643/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_recon.py', 'test/unit/cli/test_relinker.py', 'swift/cli/relinker.py']",3,dbf61c7d9eca18be4de241234fa1184895f37ee3,relinker_extra_stats_ptg,"DEFAULT_STATS_INTERVAL = 300.0 self.stats_interval = float(conf.get( 'stats_interval', DEFAULT_STATS_INTERVAL)) if device: self.logger.debug(""Updating recon for %s"", device) else: self.logger.debug(""Updating recon"") self.logger.info(""Step: %s Device: %s Policy: %s Partitions: %d/%d"", step, device, self.policy.name, num_parts_done, num_total_parts) parser.add_argument('--stats-interval', default=None, type=non_negative_float, dest='stats_interval', help='Emit stats to recon roughly every N seconds. ' '(default: %d).' % DEFAULT_STATS_INTERVAL) 'stats_interval': non_negative_float( args.stats_interval or conf.get('stats_interval', DEFAULT_STATS_INTERVAL)),"," self.stats_interval = float(conf.get('stats_interval', 300.0)) self.logger.debug(""Updating recon for %s"" % device) self.logger.info(""Step: %s Device: %s Policy: %s Partitions: %d/%d"" % ( step, device, self.policy.name, num_parts_done, num_total_parts)) 'stats_interval': non_negative_float(conf.get('stats_interval', 300.0)),",26,16
openstack%2Frpm-packaging~stable%2Fwallaby~Id7ce72f249e80d4f3227a22d148fc779278f9911,openstack/rpm-packaging,stable/wallaby,Id7ce72f249e80d4f3227a22d148fc779278f9911,Switch to stable/wallaby tarballs (2/2),MERGED,2021-04-29 12:38:42.000000000,2021-05-06 16:25:31.000000000,2021-05-06 14:56:28.000000000,"[{'_account_id': 6593}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 27380}]","[{'number': 1, 'created': '2021-04-29 12:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b585cfec93f85cf12e478e9cc891ab079ac8bf54', 'message': ""Switch to stable/wallaby tarballs (2/2)\n\nFor those projects with stable/wallaby branches, let's switch to\nusing them as soon as possible.\n\nSeveral changes are included to be able to build packages with\nthe stable/wallaby tarballs:\n\n- neutron: partial revert of https://review.opendev.org/c/openstack/rpm-packaging/+/780044\n- nova: revert https://review.opendev.org/c/openstack/rpm-packaging/+/787592\n\nChange-Id: Id7ce72f249e80d4f3227a22d148fc779278f9911\n""}, {'number': 2, 'created': '2021-05-06 14:29:48.000000000', 'files': ['openstack/neutron-vpnaas-dashboard/neutron-vpnaas-dashboard.spec.j2', 'openstack/monasca-notification/monasca-notification.spec.j2', 'openstack/openstack-placement/openstack-placement.spec.j2', 'openstack/masakari/masakari.spec.j2', 'openstack/monasca-api/monasca-api.spec.j2', 'openstack/watcher/watcher.spec.j2', 'openstack/nova/nova.spec.j2', 'openstack/sahara/sahara.spec.j2', 'openstack/neutron-vpnaas/neutron-vpnaas.spec.j2', 'openstack/octavia/octavia.spec.j2', 'openstack/monasca-common/monasca-common.spec.j2', 'openstack/octavia-dashboard/octavia-dashboard.spec.j2', 'openstack/mistral/mistral.spec.j2', 'openstack/monasca-agent/monasca-agent.spec.j2', 'openstack/zaqar/zaqar.spec.j2', 'openstack/masakari-monitors/masakari-monitors.spec.j2', 'openstack/manila/manila.spec.j2', 'openstack/monasca-persister/monasca-persister.spec.j2', 'openstack/monasca-ui/monasca-ui.spec.j2', 'openstack/networking-generic-switch/networking-generic-switch.spec.j2', 'openstack/neutron-dynamic-routing/neutron-dynamic-routing.spec.j2', 'openstack/neutron/neutron.spec.j2', 'openstack/murano/murano.spec.j2', 'openstack/swift/swift.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b975bafde4e7d0c179d1e9f00b9a5ff0b7773e67', 'message': ""Switch to stable/wallaby tarballs (2/2)\n\nFor those projects with stable/wallaby branches, let's switch to\nusing them as soon as possible.\n\nSeveral changes are included to be able to build packages with\nthe stable/wallaby tarballs:\n\n- neutron: partial revert of https://review.opendev.org/c/openstack/rpm-packaging/+/780044\n- nova: revert https://review.opendev.org/c/openstack/rpm-packaging/+/787592\n\nChange-Id: Id7ce72f249e80d4f3227a22d148fc779278f9911\n""}]",0,788732,b975bafde4e7d0c179d1e9f00b9a5ff0b7773e67,13,6,2,13294,,,0,"Switch to stable/wallaby tarballs (2/2)

For those projects with stable/wallaby branches, let's switch to
using them as soon as possible.

Several changes are included to be able to build packages with
the stable/wallaby tarballs:

- neutron: partial revert of https://review.opendev.org/c/openstack/rpm-packaging/+/780044
- nova: revert https://review.opendev.org/c/openstack/rpm-packaging/+/787592

Change-Id: Id7ce72f249e80d4f3227a22d148fc779278f9911
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/32/788732/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/neutron-vpnaas-dashboard/neutron-vpnaas-dashboard.spec.j2', 'openstack/monasca-notification/monasca-notification.spec.j2', 'openstack/openstack-placement/openstack-placement.spec.j2', 'openstack/masakari/masakari.spec.j2', 'openstack/monasca-api/monasca-api.spec.j2', 'openstack/watcher/watcher.spec.j2', 'openstack/nova/nova.spec.j2', 'openstack/sahara/sahara.spec.j2', 'openstack/neutron-vpnaas/neutron-vpnaas.spec.j2', 'openstack/octavia/octavia.spec.j2', 'openstack/monasca-common/monasca-common.spec.j2', 'openstack/octavia-dashboard/octavia-dashboard.spec.j2', 'openstack/mistral/mistral.spec.j2', 'openstack/monasca-agent/monasca-agent.spec.j2', 'openstack/zaqar/zaqar.spec.j2', 'openstack/masakari-monitors/masakari-monitors.spec.j2', 'openstack/manila/manila.spec.j2', 'openstack/monasca-persister/monasca-persister.spec.j2', 'openstack/monasca-ui/monasca-ui.spec.j2', 'openstack/networking-generic-switch/networking-generic-switch.spec.j2', 'openstack/neutron-dynamic-routing/neutron-dynamic-routing.spec.j2', 'openstack/neutron/neutron.spec.j2', 'openstack/murano/murano.spec.j2', 'openstack/swift/swift.spec.j2']",24,b585cfec93f85cf12e478e9cc891ab079ac8bf54,,{% set source = fetch_source('https://tarballs.openstack.org/swift/swift-stable-wallaby.tar.gz') %},{% set source = fetch_source('https://tarballs.openstack.org/swift/swift-master.tar.gz') %},32,26
openstack%2Fblazar-specs~master~I3d7720858d439a418f0c73bc4128bf0475e97dc3,openstack/blazar-specs,master,I3d7720858d439a418f0c73bc4128bf0475e97dc3,Create specs directory for Xena,MERGED,2021-03-05 02:58:33.000000000,2021-05-06 16:16:55.000000000,2021-05-06 16:14:45.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2021-03-05 02:58:33.000000000', 'files': ['doc/source/index.rst', 'doc/source/specs/xena/xena-template.rst'], 'web_link': 'https://opendev.org/openstack/blazar-specs/commit/935ad447d16d0f28f0718b8f62bb3d4d4d929ee9', 'message': 'Create specs directory for Xena\n\nChange-Id: I3d7720858d439a418f0c73bc4128bf0475e97dc3\n'}]",0,778813,935ad447d16d0f28f0718b8f62bb3d4d4d929ee9,7,3,1,31412,,,0,"Create specs directory for Xena

Change-Id: I3d7720858d439a418f0c73bc4128bf0475e97dc3
",git fetch https://review.opendev.org/openstack/blazar-specs refs/changes/13/778813/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/specs/xena/xena-template.rst']",2,935ad447d16d0f28f0718b8f62bb3d4d4d929ee9,create_xena_directory,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Example Spec - The title of your blueprint ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/blazar/+spec/example Introduction paragraph -- why are we doing anything? A single paragraph of prose that operators can understand. The title and this first paragraph should be used as the subject line and body of the commit message respectively. Some notes about the blazar-spec and blueprint process: * Not all blueprints need a spec. * The aim of this document is first to define the problem we need to solve, and second agree the overall approach to solve that problem. * This is not intended to be extensive documentation for a new feature. For example, there is no need to specify the exact configuration changes, nor the exact details of any DB model changes. But you should still define that such changes are required, and be clear on how that will affect upgrades. * You should aim to get your spec approved before writing your code. While you are free to write prototypes and code before getting your spec approved, its possible that the outcome of the spec review process leads you towards a fundamentally different solution than you first envisaged. * But, API changes are held to a much higher level of scrutiny. As soon as an API change merges, we must assume it could be in production somewhere, and as such, we then need to support that API change forever. To avoid getting that wrong, we do want lots of details about API changes upfront. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 79 columns. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/blazar/+spec/awesome-thing should be named awesome-thing.rst * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None * For help with syntax, see http://sphinx-doc.org/rest.html * To test out your formatting, build the docs using tox and see the generated HTML file in doc/build/html/specs/<path_of_your_file> * If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. * If your specification proposes any changes to the Blazar REST API such as changing parameters which can be returned or accepted, or even the semantics of what happens when a client calls into the API, then you should add the APIImpact flag to the commit message. Specifications with the APIImpact flag can be found with the following query: https://review.opendev.org/#/q/project:openstack/blazar-specs+message:apiimpact,n,z Problem description =================== A detailed description of the problem. What problem is this blueprint addressing? Use Cases --------- What use cases does this address? What impact on actors does this change have? Ensure you are clear about the actors in each use case: Developer, End User, Deployer etc. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? At this point, if you would like to just get feedback on if the problem and proposed change fit in blazar, you can stop here and post this for review to get preliminary feedback. If so please say: Posting to get preliminary feedback on the scope of this spec. Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change. * How will the initial set of new data objects be generated, for example if you need to take into account existing instances, or modify other existing data describe how that will work. REST API impact --------------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does suitable for use in user documentation * Method type (POST/PUT/GET/DELETE) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included describing semantic errors which can cause it such as inconsistent parameters supplied to the method, or when an instance is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema definition do not need to be included. * URL for the resource * URL should not include underscores, and use hyphens instead. * Parameters which can be passed via the url * JSON schema definition for the request body data if allowed * Field names should use snake_case style, not CamelCase or MixedCase style. * JSON schema definition for the response body data if any * Field names should use snake_case style, not CamelCase or MixedCase style. * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted (eg additionaProperties should be False). Reuse of existing predefined parameter types such as regexps for passwords and user defined names is highly encouraged. Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Notifications impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-blazarclient? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other hypervisors would implement the feature is required. Upgrade impact -------------- Describe any potential upgrade impact on the system. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in blazar, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Blazar (such as the glance v2 API when we previously only required v1), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. For each scenario please specify if this requires specialized hardware, a full openstack environment, or can be simulated inside the Blazar tree. Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. For example, the Operations Guide targets cloud operators, and the End User Guide would need to be updated if the change offers a new feature available through the CLI or dashboard. If a config option changes or is deprecated, note here that the documentation needs to be updated to reflect this specification's change. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Xena - Introduced ",,401,0
openstack%2Fneutron~stable%2Ftrain~I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae,openstack/neutron,stable/train,I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae,Provide the rpc_response_max_timeout parameter to metadata-agent,MERGED,2021-05-01 16:09:28.000000000,2021-05-06 15:42:06.000000000,2021-05-06 15:40:15.000000000,"[{'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-01 16:09:28.000000000', 'files': ['neutron/opts.py', 'neutron/agent/metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/63d48754f5f8d288acedc6df62386196edf295a8', 'message': 'Provide the rpc_response_max_timeout parameter to metadata-agent\n\nThe rpc_response_max_timeout parameter is used in comminucation over\nmessaging queue, thus should be available for metadata-agent which\ncommunicate with neutron-server over messaging queue.\n\nChange-Id: I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae\nCloses-Bug: #1920842\n(cherry picked from commit 7f5711f77b79fdaffd91f6ef299783b058d18ace)\n'}]",0,789006,63d48754f5f8d288acedc6df62386196edf295a8,10,4,1,30609,,,0,"Provide the rpc_response_max_timeout parameter to metadata-agent

The rpc_response_max_timeout parameter is used in comminucation over
messaging queue, thus should be available for metadata-agent which
communicate with neutron-server over messaging queue.

Change-Id: I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae
Closes-Bug: #1920842
(cherry picked from commit 7f5711f77b79fdaffd91f6ef299783b058d18ace)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/789006/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/agent/metadata_agent.py']",2,63d48754f5f8d288acedc6df62386196edf295a8,bug/1920842-stable/victoria-stable/ussuri-stable/train,"from neutron.conf import service as service_conf service_conf.register_service_opts(service_conf.RPC_EXTRA_OPTS, cfg.CONF) ",,5,1
openstack%2Fblazar~stable%2Fqueens~I19f35f61208c4de753f3f3f55c9b652897d2dbd6,openstack/blazar,stable/queens,I19f35f61208c4de753f3f3f55c9b652897d2dbd6,Specify the ref to execute Blazar's tempest test,ABANDONED,2018-09-14 18:35:34.000000000,2021-05-06 15:37:48.000000000,,"[{'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-14 18:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/4f208dca6dfea47870ecfa39b9284f0866f5e18f', 'message': ""Specify the ref to execute Blazar's tempest test\n\nChange-Id: I19f35f61208c4de753f3f3f55c9b652897d2dbd6\n""}, {'number': 2, 'created': '2018-09-18 01:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/9305876421df8fb122e0655dd9a099e1e9e743b8', 'message': ""Specify the ref to execute Blazar's tempest test\n\nChange-Id: I19f35f61208c4de753f3f3f55c9b652897d2dbd6\n""}, {'number': 3, 'created': '2019-04-01 13:14:51.000000000', 'files': ['.zuul.yaml', 'playbooks/legacy/blazar-devstack-dsvm-py35/run.yaml', 'playbooks/legacy/blazar-devstack-dsvm/run.yaml'], 'web_link': 'https://opendev.org/openstack/blazar/commit/6b7a63b6a91647e0d3791f5e455093c2d6093319', 'message': ""Specify the ref to execute Blazar's tempest test\n\nChange-Id: I19f35f61208c4de753f3f3f55c9b652897d2dbd6\n""}]",0,602722,6b7a63b6a91647e0d3791f5e455093c2d6093319,10,3,3,8878,,,0,"Specify the ref to execute Blazar's tempest test

Change-Id: I19f35f61208c4de753f3f3f55c9b652897d2dbd6
",git fetch https://review.opendev.org/openstack/blazar refs/changes/22/602722/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/legacy/blazar-devstack-dsvm-py35/run.yaml', 'playbooks/legacy/blazar-devstack-dsvm/run.yaml']",3,4f208dca6dfea47870ecfa39b9284f0866f5e18f,execute-with-ref," export DEVSTACK_GATE_TEMPEST_REGEX=""blazar_tempest_plugin""", export DEVSTACK_GATE_TEMPEST_REGEX='blazar_tempest_plugin\.tests\.(?!api)',6,4
openstack%2Fblazar~stable%2Focata~Id50481bc28ea88767c6b071af3a2bdc42bd8fe67,openstack/blazar,stable/ocata,Id50481bc28ea88767c6b071af3a2bdc42bd8fe67,Register error response handlers with register_error_handler(),ABANDONED,2018-09-27 14:40:51.000000000,2021-05-06 15:37:24.000000000,,"[{'_account_id': 8878}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-09-27 14:40:51.000000000', 'files': ['blazar/api/v1/app.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/7088a64e7bb0effb4d3152421dc6fcddebc95122', 'message': 'Register error response handlers with register_error_handler()\n\nFlask suggests to use register_error_handler() to register error\nhandlers, instead of directly assigning them to the error_handler_spec\ndictionary. This dictionary is an internal variable which can change\nstructure between versions.\n\nStarting with Flask 1.0, the error_handler_spec dictionary is not\ninitialised with the None key anymore, which causes errors when Blazar\nregisters error handlers.\n\nChange-Id: Id50481bc28ea88767c6b071af3a2bdc42bd8fe67\n(cherry picked from commit 905778e85c44f3ee4855659c8b86d1629a87657e)\n'}]",0,605758,7088a64e7bb0effb4d3152421dc6fcddebc95122,3,2,1,15197,,,0,"Register error response handlers with register_error_handler()

Flask suggests to use register_error_handler() to register error
handlers, instead of directly assigning them to the error_handler_spec
dictionary. This dictionary is an internal variable which can change
structure between versions.

Starting with Flask 1.0, the error_handler_spec dictionary is not
initialised with the None key anymore, which causes errors when Blazar
registers error handlers.

Change-Id: Id50481bc28ea88767c6b071af3a2bdc42bd8fe67
(cherry picked from commit 905778e85c44f3ee4855659c8b86d1629a87657e)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/58/605758/1 && git format-patch -1 --stdout FETCH_HEAD,['blazar/api/v1/app.py'],1,7088a64e7bb0effb4d3152421dc6fcddebc95122,python3-first," app.register_error_handler(code, make_json_error)", app.error_handler_spec[None][code] = make_json_error,1,1
openstack%2Fkolla~master~I9e8fb8fab1adba03aba4ed9ce42e4d4666bc764b,openstack/kolla,master,I9e8fb8fab1adba03aba4ed9ce42e4d4666bc764b,Modify healthcheck_mariadb,MERGED,2021-04-08 11:54:13.000000000,2021-05-06 15:19:13.000000000,2021-05-06 15:16:37.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-04-08 11:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aed29b854819d5df8608cd04297b28373a695e07', 'message': 'Modify healthcheck_mariadb\n\nUse the healthcheck_mariadb script to check the status of mariadb\nRelated patch of kolla-ansible:\n  https://review.opendev.org/c/openstack/kolla-ansible/+/780404\n\nChange-Id: I9e8fb8fab1adba03aba4ed9ce42e4d4666bc764b\n'}, {'number': 2, 'created': '2021-04-09 07:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3514a4d3739832e08d7789f2e81858a7b6fab012', 'message': 'Modify healthcheck_mariadb\n\nUse the healthcheck_mariadb script to check the status of mariadb\nRelated patch of kolla-ansible:\n  https://review.opendev.org/c/openstack/kolla-ansible/+/780404\n\nChange-Id: I9e8fb8fab1adba03aba4ed9ce42e4d4666bc764b\n'}, {'number': 3, 'created': '2021-04-12 10:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3efeeee523ca108f16a8b8ab9ddbf564c34f4649', 'message': 'Modify healthcheck_mariadb\n\nUse the healthcheck_mariadb script to check the status of mariadb\nRelated patch of kolla-ansible:\n  https://review.opendev.org/c/openstack/kolla-ansible/+/780404\n\nChange-Id: I9e8fb8fab1adba03aba4ed9ce42e4d4666bc764b\n'}, {'number': 4, 'created': '2021-04-26 15:08:43.000000000', 'files': ['docker/mariadb/mariadb-server/healthcheck_mariadb'], 'web_link': 'https://opendev.org/openstack/kolla/commit/407d774ffb36b8acfe0898b769150c76b741b82d', 'message': 'Modify healthcheck_mariadb\n\nUse the healthcheck_mariadb script to check the status of mariadb\nRelated patch of kolla-ansible:\n  https://review.opendev.org/c/openstack/kolla-ansible/+/780404\n\nChange-Id: I9e8fb8fab1adba03aba4ed9ce42e4d4666bc764b\n'}]",2,785401,407d774ffb36b8acfe0898b769150c76b741b82d,23,4,4,31506,,,0,"Modify healthcheck_mariadb

Use the healthcheck_mariadb script to check the status of mariadb
Related patch of kolla-ansible:
  https://review.opendev.org/c/openstack/kolla-ansible/+/780404

Change-Id: I9e8fb8fab1adba03aba4ed9ce42e4d4666bc764b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/01/785401/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/mariadb/mariadb-server/healthcheck_mariadb'],1,aed29b854819d5df8608cd04297b28373a695e07,,"set -e MYSQL_USERNAME=""${MYSQL_USERNAME:=haproxy}"" exit 1","MYSQL_USERNAME=""${MYSQL_USERNAME:=-haproxy}"" exit 0",4,2
openstack%2Fkolla~stable%2Fvictoria~I51c7c6e2f520a582de0409025eb5d1a6da2952a2,openstack/kolla,stable/victoria,I51c7c6e2f520a582de0409025eb5d1a6da2952a2,swift: fix group membership in debuntu/binary,MERGED,2021-05-05 09:39:25.000000000,2021-05-06 15:13:54.000000000,2021-05-06 15:11:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-05 09:39:25.000000000', 'files': ['docker/swift/swift-base/Dockerfile.j2', 'releasenotes/notes/bug-1905279-41d664114ef26a16.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bc97aa584689469eacdb3b80f3d2706f9c6bff96', 'message': 'swift: fix group membership in debuntu/binary\n\nThe UCA packages seem to be removing the swift user from the kolla\ngroup. Explicitly add it after installation.\n\nCloses-Bug: #1905279\n\nChange-Id: I51c7c6e2f520a582de0409025eb5d1a6da2952a2\n(cherry picked from commit aa3208ea0f10889469f864aaccdb593547412d76)\n'}]",0,789741,bc97aa584689469eacdb3b80f3d2706f9c6bff96,9,3,1,14826,,,0,"swift: fix group membership in debuntu/binary

The UCA packages seem to be removing the swift user from the kolla
group. Explicitly add it after installation.

Closes-Bug: #1905279

Change-Id: I51c7c6e2f520a582de0409025eb5d1a6da2952a2
(cherry picked from commit aa3208ea0f10889469f864aaccdb593547412d76)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/789741/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/swift/swift-base/Dockerfile.j2', 'releasenotes/notes/bug-1905279-41d664114ef26a16.yaml']",2,bc97aa584689469eacdb3b80f3d2706f9c6bff96,,--- fixes: - | Fixes an issue with Swift containers failing to start in Ubuntu binary images. `LP#1905279 <https://bugs.launchpad.net/kolla-ansible/+bug/1905279>`__ ,,11,0
openstack%2Fneutron~stable%2Fvictoria~I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae,openstack/neutron,stable/victoria,I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae,Provide the rpc_response_max_timeout parameter to metadata-agent,MERGED,2021-04-29 19:17:20.000000000,2021-05-06 14:59:17.000000000,2021-05-06 14:57:23.000000000,"[{'_account_id': 9816}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 19:17:20.000000000', 'files': ['neutron/opts.py', 'neutron/agent/metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b16925989211594275ddd5f6de30a47b298b0c00', 'message': 'Provide the rpc_response_max_timeout parameter to metadata-agent\n\nThe rpc_response_max_timeout parameter is used in comminucation over\nmessaging queue, thus should be available for metadata-agent which\ncommunicate with neutron-server over messaging queue.\n\nChange-Id: I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae\nCloses-Bug: #1920842\n(cherry picked from commit 7f5711f77b79fdaffd91f6ef299783b058d18ace)\n'}]",0,788766,b16925989211594275ddd5f6de30a47b298b0c00,17,4,1,30609,,,0,"Provide the rpc_response_max_timeout parameter to metadata-agent

The rpc_response_max_timeout parameter is used in comminucation over
messaging queue, thus should be available for metadata-agent which
communicate with neutron-server over messaging queue.

Change-Id: I4826edf16bbdf338af6e050b15b4ecce9f8ca6ae
Closes-Bug: #1920842
(cherry picked from commit 7f5711f77b79fdaffd91f6ef299783b058d18ace)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/788766/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'neutron/agent/metadata_agent.py']",2,b16925989211594275ddd5f6de30a47b298b0c00,bug/1920842-stable/victoria,"from neutron.conf import service as service_conf service_conf.register_service_opts(service_conf.RPC_EXTRA_OPTS, cfg.CONF) ",,5,1
openstack%2Freleases~master~Id1eff47d03da09648e4200d036ff71b8b8d74e78,openstack/releases,master,Id1eff47d03da09648e4200d036ff71b8b8d74e78,Release wallaby python-tripleoclient and tripleo-common,ABANDONED,2021-05-06 12:23:23.000000000,2021-05-06 14:53:33.000000000,,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-06 12:23:23.000000000', 'files': ['deliverables/wallaby/tripleo-common.yaml', 'deliverables/wallaby/python-tripleoclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7e0a4f33022ee30d5b31d1f6a4cd3098117f5e6e', 'message': 'Release wallaby python-tripleoclient and tripleo-common\n\nWe released a version with [1] but did not get a new enough\nhash causing drift with other tripleo repos. This creates a new\nrelease for each from the top commit on master branch.\n\n[1] https://review.opendev.org/c/openstack/releases/+/789558\n\nChange-Id: Id1eff47d03da09648e4200d036ff71b8b8d74e78\n'}]",0,790053,7e0a4f33022ee30d5b31d1f6a4cd3098117f5e6e,10,6,1,8449,,,0,"Release wallaby python-tripleoclient and tripleo-common

We released a version with [1] but did not get a new enough
hash causing drift with other tripleo repos. This creates a new
release for each from the top commit on master branch.

[1] https://review.opendev.org/c/openstack/releases/+/789558

Change-Id: Id1eff47d03da09648e4200d036ff71b8b8d74e78
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/790053/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/tripleo-common.yaml', 'deliverables/wallaby/python-tripleoclient.yaml']",2,7e0a4f33022ee30d5b31d1f6a4cd3098117f5e6e,, - version: 16.2.0 projects: - repo: openstack/python-tripleoclient hash: dc48e98145db3f459cd39e682c47792eb2f14241,,8,0
openstack%2Fopenstack-ansible-os_aodh~master~I16984f76ef7b8962fa3d242ba0d5b24cca98b4e6,openstack/openstack-ansible-os_aodh,master,I16984f76ef7b8962fa3d242ba0d5b24cca98b4e6,[reno] Stop publishing release notes,MERGED,2021-01-22 16:24:39.000000000,2021-05-06 14:52:22.000000000,2021-05-06 14:47:02.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-01-22 16:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/9a62d4db0eac0210b30d601e3acd6a4359227dcd', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I16984f76ef7b8962fa3d242ba0d5b24cca98b4e6'}, {'number': 2, 'created': '2021-04-19 22:06:32.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/79e64a9297f04dfa36dedcf63cd4d722a5888157', 'message': '[reno] Stop publishing release notes\n\nSince we copy all release notes to the integrated repo there is not need\nin publishing release notes for each repository. We should only verify their\nvalidity and linting.\n\n\nChange-Id: I16984f76ef7b8962fa3d242ba0d5b24cca98b4e6'}]",0,772023,79e64a9297f04dfa36dedcf63cd4d722a5888157,15,3,2,28619,,,0,"[reno] Stop publishing release notes

Since we copy all release notes to the integrated repo there is not need
in publishing release notes for each repository. We should only verify their
validity and linting.


Change-Id: I16984f76ef7b8962fa3d242ba0d5b24cca98b4e6",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/23/772023/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,9a62d4db0eac0210b30d601e3acd6a4359227dcd,reno_build, - build-release-notes-jobs-python3, - release-notes-jobs-python3,1,1
openstack%2Fopenstack-ansible-specs~master~I195774a870ae043b578c9007c53c7bb12def4ad2,openstack/openstack-ansible-specs,master,I195774a870ae043b578c9007c53c7bb12def4ad2,Protecting plaintext configs,MERGED,2021-04-29 21:18:40.000000000,2021-05-06 14:51:01.000000000,2021-05-06 14:48:59.000000000,"[{'_account_id': 13095}, {'_account_id': 15993}, {'_account_id': 18511}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-04-29 21:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/4f7ad59b8cd7758e977438160026bd9cd2bcd4fd', 'message': '  Protecting plaintext configs\n\n  Spec for automation of securing OpenStack plaintext config files is proposed\n\n  Initial blueprint:\n  https://blueprints.launchpad.net/oslo.config/+spec/protect-plaintext-passwords\n\nChange-Id: I195774a870ae043b578c9007c53c7bb12def4ad2\n'}, {'number': 2, 'created': '2021-05-05 14:52:51.000000000', 'files': ['doc/source/index.rst', 'specs/xena/protecting-plaintext-configs.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/4df3d7db72ca5375f8f0a1df46fbfa58437cb4d3', 'message': '  Protecting plaintext configs\n\n  Spec for automation of securing OpenStack plaintext config files is proposed\n\n  Initial blueprint:\n  https://blueprints.launchpad.net/oslo.config/+spec/protect-plaintext-passwords\n\nChange-Id: I195774a870ae043b578c9007c53c7bb12def4ad2\n'}]",1,788829,4df3d7db72ca5375f8f0a1df46fbfa58437cb4d3,12,7,2,33396,,,0,"  Protecting plaintext configs

  Spec for automation of securing OpenStack plaintext config files is proposed

  Initial blueprint:
  https://blueprints.launchpad.net/oslo.config/+spec/protect-plaintext-passwords

Change-Id: I195774a870ae043b578c9007c53c7bb12def4ad2
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/29/788829/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/xena/protecting-plaintext-configs.rst']",2,4f7ad59b8cd7758e977438160026bd9cd2bcd4fd,bp/s,"Protecting OpenStack Plaintext Secrets Automation ################################################## :date: 2021-04-22 22:00 :tags: protecting plaintext configs, oslo.config, castellan, vault, security OpenStack services require sensitive data to be in configuration files. These are values for various configuration options such as ``password``, ``transport_url``, ``connection``, and so on. The configuration files for OpenStack services are just plaintext files. Because of this, even with proper file permissions set on these files, secret data is kept there without any protection at present. A specification on protecting plaintext secrets in OpenStack was created by **Raildo Mascena de Sousa Filho** [1]. Also, the osloconfig and castellan libraries support the following scheme of configuration files processing: oslo-config can read configuration options and their values with help of castellan, which is able to read that data from a protected key management solution, such as HashiCorp Vault. The proof of concept for this scheme was made by **Moiss Guimares de Medeiros** in his code [2]. So, the problem of securing sensitive options in OpenStack plaintext configuration is almost solved, with the exception of the automation of such a secure configuration. Problem description =================== At present, ``oslo.config`` allows us to specify the ``config_source`` in the ``DEFAULT`` section of a configuration file, and to use ``castellan`` driver to read configuration options from the appropriate configuration file section: .. code:: bash [DEFAULT] config_source = secrets [secrets] driver=castellan config_file=castellan.conf mapping_file=mapping.conf The ``castellan.conf`` and ``mapping.conf`` configuration files includes information on how to read configuration options values from a secret store. ``castellan.conf`` example: .. code:: bash [key_manager] backend=vault [vault] kv_mountpoint=kv vault_url='https://vault.enterprise.local:8200' use_ssl=True ``mapping.conf`` example: .. code:: bash [oslo_messaging_notifications] transport_url=6d1c6b6bd925418eb3c99523750bc4be [database] connection=20921387a863462dae4db253198156ec ... where the values of ``transport_url`` and ``connection`` parameters are IDs of appropriate records in the HashiCorp Vault. The problem is that a system administrator needs to insert appropriate values to the HashiCorp Vault or another secret storage, and then reconfigure the OpenStack services either manually or with some preferred automation tools. There is no existing solution today for starting OpenStack with secured configuration files from the very beginning. With all of this in mind, we are proposing that system administrators should be allowed to install OpenStack with secured configuration files. Proposed change =============== So, there are two parts of protecting OpenStack plaintext configuration files: * installation of HashiCorp Vault, in case it is not installed; * proper configuration of all OpenStack services with plaintext configs. This spec proposes to make the following additions to ``openstack-ansible`` [3]: * add playbook for HashiCorp Vault installation; * add additional tasks to OpenStack services playbooks; * add additional parameters for system administrator to choose if OpenStack is going to be installed with protected plaintext configs or not. Such additional parameters are: * ``vault_hosts``  optional parameter which indicates hosts where HasiCorp Vault should be installed. HashiCorp Vault should have high availability installation as other OpenStack services have; * ``protected_configs`` and ``protected_configs_castellan_conf``, should be added to ``openstack_user_config.yml`` file. ``protected_configs`` parameter should take ``true`` or ``false`` values, and the default value should be ``false``. If the system administrator sets the value to ``true``, then additional steps are performed in playbooks to address the below: * check for required Python libraries (such as ``castellan``) and install i them if needed; * add appropriate values to secret store; * prepare service configuration file without sensitive data but with ``config_source`` option and secrets section; * add ``castellan.conf`` to service configuration directory; * add ``mapping.conf`` to service configuration directory. This change does not require any changes to ``oslo.config`` or ``castellan``, since everything is already supported at present. Alternatives ============ The protection of plaintext secrets can be implemented by using a separate Ansible playbook just for the services reconfiguration, after installing OpenStack with unsecured configuration files with ``opentack-ansible``. In that case, the list of services to secure should be given to the playbook, and the tasks of such a playbook should do almost the same steps as described above: * install and initialize HashiCorp Vault; * check for required Python libraries (such as ``castellan``) and install them if needed; * add appropriate values to secret store; * prepare service configuration file without sensitive data but with ``config_source`` option and secrets section; * add ``castellan.conf`` to service configuration directory; * add ``mapping.conf`` to service configuration directory; * restart OpenStack service. Playbook/Role impact -------------------- Additional role on HashiCorp Vault installation should be added. Additional tasks for proper configuration of OpenStack services should be added to playbooks. Upgrade impact -------------- No impact. Security impact --------------- Sensitive data is going to be removed from plaintext config files so security will be improved with this change. Performance impact ------------------ No impact. End user impact --------------- No impact. Deployer impact --------------- No impact in case deployer does not want to protect plaintext configs. Otherwise deployer will be able to configure additional options to remove sensitive data from plaintext configs as described above. Developer impact ---------------- No impact. Dependencies ------------ Here is initial blueprint regarding protection of sensitive data inside plaintext configs: https://blueprints.launchpad.net/oslo.config/+spec/protect-plaintext-passwords Implementation ============== Assignee(s) ----------- Primary assignee: yeremko <Alexander.Yeremko@walmart.com> Other contributors: <Misha.Vorona@walmart.com> Work items ---------- * Implement changes to ``openstack-ansible`` [3] * Implement changes to ``openstack-ansible-tests`` [4] * Update documentation. Testing ======= Additional tests in ``openstack-ansible-tests`` [4] will be required to cover the added functionality. Documentation impact ==================== The documentation will need to be updated to illustrate how to protect plaintext configs and work with them further. References ========== [1] https://specs.openstack.org/openstack/oslo-specs/specs/stein/secret-management-store.html [2] https://github.com/moisesguimaraes/ep19 [3] https://opendev.org/openstack/openstack-ansible [4] https://opendev.org/openstack/openstack-ansible-tests [5] https://www.vaultproject.io/ ",,268,0
openstack%2Fopenstack-ansible-os_aodh~master~I0082c74d11fe802207c9f20929895e7cb4284b18,openstack/openstack-ansible-os_aodh,master,I0082c74d11fe802207c9f20929895e7cb4284b18,Updated from OpenStack Ansible Tests,MERGED,2021-04-19 09:56:45.000000000,2021-05-06 14:50:46.000000000,2021-05-06 14:46:59.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2021-04-19 09:56:45.000000000', 'files': ['tasks/mq_setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/b8dfe761d6f21909f2375df1484a274b9783579b', 'message': 'Updated from OpenStack Ansible Tests\n\nChange-Id: I0082c74d11fe802207c9f20929895e7cb4284b18\n'}]",0,786842,b8dfe761d6f21909f2375df1484a274b9783579b,10,3,1,11131,,,0,"Updated from OpenStack Ansible Tests

Change-Id: I0082c74d11fe802207c9f20929895e7cb4284b18
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/42/786842/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/mq_setup.yml'],1,b8dfe761d6f21909f2375df1484a274b9783579b,openstack/openstack-ansible-tests/sync-tests, (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host) (_oslomsg_notify_userid != _oslomsg_rpc_userid) or (_oslomsg_notify_setup_host != _oslomsg_rpc_setup_host), (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) (_oslomsg_notify_vhost != _oslomsg_rpc_vhost) (_oslomsg_notify_userid != _oslomsg_rpc_userid),6,3
openstack%2Fcharm-neutron-api-plugin-arista~master~I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85,openstack/charm-neutron-api-plugin-arista,master,I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85,Test bundles for focal-wallaby and hirsute-wallaby,MERGED,2021-03-05 13:47:00.000000000,2021-05-06 14:40:41.000000000,2021-05-06 14:40:41.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-03-05 13:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/c8d9525df2c1d5cb536ddf3f63d8b6b59ce78783', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85\n'}, {'number': 2, 'created': '2021-03-30 16:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/e67261263b9ed28b8b5625e1dd0308a6f3c465a0', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nChange-Id: I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85\n'}, {'number': 3, 'created': '2021-04-15 18:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/c429bda52e2e2b78934ee5d72452d25a81a6585c', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85\n'}, {'number': 4, 'created': '2021-05-06 09:48:55.000000000', 'files': ['osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/hirsute-wallaby.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-arista/commit/725b2911d0951589a1f3a5c2221591a6a5783ab5', 'message': 'Test bundles for focal-wallaby and hirsute-wallaby\n\nThese are the test bundles (and any associated changes) for\nfocal-wallaby and hirsute-wallaby support.\n\nhisute-wallaby test is disabled (moved to dev) due to [1].\n\n[1] https://github.com/juju-solutions/layer-basic/issues/194\n\nChange-Id: I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85\n'}]",0,778920,725b2911d0951589a1f3a5c2221591a6a5783ab5,27,3,4,20870,,,0,"Test bundles for focal-wallaby and hirsute-wallaby

These are the test bundles (and any associated changes) for
focal-wallaby and hirsute-wallaby support.

hisute-wallaby test is disabled (moved to dev) due to [1].

[1] https://github.com/juju-solutions/layer-basic/issues/194

Change-Id: I07fe7d323953f5b50fe8a77e7c7933d0f1e08b85
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-arista refs/changes/20/778920/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/tests.yaml']",5,c8d9525df2c1d5cb536ddf3f63d8b6b59ce78783,wallaby-bundles,- focal-wallaby- hirsute-wallaby - hirsute-wallaby, - groovy-victoria,365,1
openstack%2Frpm-packaging~stable%2Fwallaby~I00a8a5e4d1468b998fad4c486a5b0b2c4265d4db,openstack/rpm-packaging,stable/wallaby,I00a8a5e4d1468b998fad4c486a5b0b2c4265d4db,python-openstackclient: add patch to replace assertItemsEqual with assertCountsEqual,MERGED,2021-05-06 13:33:58.000000000,2021-05-06 14:40:15.000000000,2021-05-06 14:40:15.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-06 13:33:58.000000000', 'files': ['openstack/python-openstackclient/0001-Replace-assertItemsEqual-with-assertCountEqual.patch', 'openstack/python-openstackclient/python-openstackclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e3e05c5a97f08a5e543693cd3f3611e3dd75dd7f', 'message': 'python-openstackclient: add patch to replace assertItemsEqual with\nassertCountsEqual\n\nChange-Id: I00a8a5e4d1468b998fad4c486a5b0b2c4265d4db\n'}]",0,789874,e3e05c5a97f08a5e543693cd3f3611e3dd75dd7f,8,4,1,6593,,,0,"python-openstackclient: add patch to replace assertItemsEqual with
assertCountsEqual

Change-Id: I00a8a5e4d1468b998fad4c486a5b0b2c4265d4db
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/74/789874/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/python-openstackclient/0001-Replace-assertItemsEqual-with-assertCountEqual.patch', 'openstack/python-openstackclient/python-openstackclient.spec.j2']",2,e3e05c5a97f08a5e543693cd3f3611e3dd75dd7f,,Patch1: 0001-Replace-assertItemsEqual-with-assertCountEqual.patch,,2768,0
openstack%2Ftripleo-repos~master~I256175f55a783fe5f4e787bcb0af76bbf09cc465,openstack/tripleo-repos,master,I256175f55a783fe5f4e787bcb0af76bbf09cc465,Adds tripleo-get-hash module get tripleo-ci hash info from tag,MERGED,2021-05-04 09:15:26.000000000,2021-05-06 14:34:37.000000000,2021-05-06 14:34:37.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 09:15:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/54046d336c0f5607f44e1577029d738d23660e8b', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nThis is cherrypicked from [1] where it originally merged, except\nminor update for setup.cfg to point to tripleo-repos.\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/784392/\n\nChange-Id: I256175f55a783fe5f4e787bcb0af76bbf09cc465\n'}, {'number': 2, 'created': '2021-05-04 11:21:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/fb26f0283968be58ea47ffd68d71cf530d46f349', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nThis is cherrypicked from [1] where it originally merged, except\nminor update for setup.cfg to point to tripleo-repos.\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/784392/\n\nChange-Id: I256175f55a783fe5f4e787bcb0af76bbf09cc465\n'}, {'number': 3, 'created': '2021-05-05 10:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/57cadb22811fd365af18a48b59f61d8416938b90', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nThis is cherrypicked from [1] where it originally merged, except\nminor update for setup.cfg to point to tripleo-repos instead of\ntripleo-ci and tox.ini to include tripleo-get-hash in the tox\npython test discovery and execution.\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/784392/\n\nChange-Id: I256175f55a783fe5f4e787bcb0af76bbf09cc465\n'}, {'number': 4, 'created': '2021-05-05 10:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/8c0e4696baeb4a847d2b5d79a1e6d560b8fa1456', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nThis is cherrypicked from [1] where it originally merged, except\nminor update for setup.cfg to point to tripleo-repos instead of\ntripleo-ci and tox.ini to include tripleo-get-hash in the tox\npython test discovery and execution.\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/784392/\n\nChange-Id: I256175f55a783fe5f4e787bcb0af76bbf09cc465\n'}, {'number': 5, 'created': '2021-05-06 11:22:04.000000000', 'files': ['tripleo-get-hash/tripleo_get_hash/exceptions.py', 'tripleo-get-hash/requirements.txt', 'tripleo-get-hash/tripleo_get_hash/constants.py', 'tripleo-get-hash/setup.py', 'tripleo-get-hash/tripleo_get_hash/__init__.py', 'tripleo-get-hash/tripleo_get_hash/__main__.py', 'tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py', 'tripleo-get-hash/config.yaml', 'tripleo-get-hash/setup.cfg', 'tripleo-get-hash/test/test_tripleo_get_hash_info.py', 'tripleo-get-hash/LICENSE', 'tripleo-get-hash/README.md', 'tripleo-get-hash/test/fakes.py', 'tripleo-get-hash/test-requirements.txt', 'tripleo-get-hash/test/__init__.py', 'tox.ini', 'tripleo-get-hash/test/test_tripleo_get_hash.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/7101e4cdbc71275e6008902d5ffd1e81161721a8', 'message': 'Adds tripleo-get-hash module get tripleo-ci hash info from tag\n\nThis is cherrypicked from [1] where it originally merged, except\nminor update for setup.cfg to point to tripleo-repos instead of\ntripleo-ci and tox.ini to include tripleo-get-hash in the tox\npython test discovery and execution.\n\nWe want to replace the current ansible role and bash scripts\nthat fetch the hash for us in tripleo CI jobs.\nThis tripleo-get-hash module will be packaged to pypi, then used in\nan ansible python module to replace the current ansible invocations\nof get-hash.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/784392/\n\nChange-Id: I256175f55a783fe5f4e787bcb0af76bbf09cc465\n'}]",55,789535,7101e4cdbc71275e6008902d5ffd1e81161721a8,25,4,5,8449,,,0,"Adds tripleo-get-hash module get tripleo-ci hash info from tag

This is cherrypicked from [1] where it originally merged, except
minor update for setup.cfg to point to tripleo-repos instead of
tripleo-ci and tox.ini to include tripleo-get-hash in the tox
python test discovery and execution.

We want to replace the current ansible role and bash scripts
that fetch the hash for us in tripleo CI jobs.
This tripleo-get-hash module will be packaged to pypi, then used in
an ansible python module to replace the current ansible invocations
of get-hash.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/784392/

Change-Id: I256175f55a783fe5f4e787bcb0af76bbf09cc465
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/35/789535/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo-get-hash/tripleo_get_hash/exceptions.py', 'tripleo-get-hash/requirements.txt', 'tripleo-get-hash/tripleo_get_hash/constants.py', 'tripleo-get-hash/setup.py', 'tripleo-get-hash/tripleo_get_hash/__init__.py', 'tripleo-get-hash/tripleo_get_hash/__main__.py', 'tripleo-get-hash/tripleo_get_hash/tripleo_hash_info.py', 'tripleo-get-hash/config.yaml', 'tripleo-get-hash/setup.cfg', 'tripleo-get-hash/test/test_tripleo_get_hash_info.py', 'tripleo-get-hash/LICENSE', 'tripleo-get-hash/README.md', 'tripleo-get-hash/test/fakes.py', 'tripleo-get-hash/test-requirements.txt', 'tripleo-get-hash/test/__init__.py', 'tox.ini', 'tripleo-get-hash/test/test_tripleo_get_hash.py']",17,54046d336c0f5607f44e1577029d738d23660e8b,I256175f55a783fe5f4e787bcb0af76bbf09cc465,"# Copyright 2021 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # import requests_mock import sys import unittest from unittest import mock from unittest.mock import mock_open import yaml import tripleo_get_hash.exceptions as exc import tripleo_get_hash.__main__ as tgh import test.fakes as test_fakes @mock.patch('builtins.open', new_callable=mock_open, read_data=test_fakes.CONFIG_FILE) class TestGetHash(unittest.TestCase): """"""In this class we test the CLI invocations for this module. The builtin 'open' function is mocked at a class level so we can mock the config.yaml with the contents of the fakes.CONFIG_FILE """""" def test_centos_8_current_tripleo_stable(self, mock_config): with requests_mock.Mocker() as req_mock: req_mock.get( 'https://trunk.rdoproject.org/centos8-victoria/current-tripleo/delorean.repo.md5', text=test_fakes.TEST_REPO_MD5, ) args = ['--os-version', 'centos8', '--release', 'victoria'] sys.argv[1:] = args main_res = tgh.main() self.assertEqual(main_res.full_hash, test_fakes.TEST_REPO_MD5) self.assertEqual( 'https://trunk.rdoproject.org/centos8-victoria/current-tripleo/delorean.repo.md5', main_res.dlrn_url, ) self.assertEqual('centos8', main_res.os_version) self.assertEqual('victoria', main_res.release) def test_verbose_logging_on(self, mock_config): args = ['--verbose'] debug_msgs = [] with requests_mock.Mocker() as req_mock: req_mock.get( 'https://trunk.rdoproject.org/centos8-master/current-tripleo/delorean.repo.md5', text=test_fakes.TEST_REPO_MD5, ) with self.assertLogs() as captured: sys.argv[1:] = args tgh.main() debug_msgs = [ record.message for record in captured.records if record.levelname == 'DEBUG' ] self.assertIn('Logging level set to DEBUG', debug_msgs) def test_verbose_logging_off(self, mock_config): debug_msgs = [] with requests_mock.Mocker() as req_mock: req_mock.get( 'https://trunk.rdoproject.org/centos8-master/current-tripleo/delorean.repo.md5', text=test_fakes.TEST_REPO_MD5, ) args = ['--tag', 'current-tripleo', '--os-version', 'centos8'] with self.assertLogs() as captured: sys.argv[1:] = args tgh.main() debug_msgs = [ record.message for record in captured.records if record.levelname == 'DEBUG' ] self.assertEqual(debug_msgs, []) def test_invalid_unknown_components(self, mock_config): args = ['--component', 'nosuchcomponent'] sys.argv[1:] = args self.assertRaises(SystemExit, lambda: tgh.main()) def test_valid_tripleo_ci_components(self, mock_config): config_file = open(""fake_config_file"") # open is mocked at class level config_yaml = yaml.safe_load(config_file.read()) config_file.close() # interate for each of config components for component in config_yaml['tripleo_ci_components']: with requests_mock.Mocker() as req_mock: req_mock.get( ""https://trunk.rdoproject.org/centos8-master/component/{}/current-tripleo/commit.yaml"".format( component ), text=test_fakes.TEST_COMMIT_YAML_COMPONENT, ) args = ['--component', ""{}"".format(component)] sys.argv[1:] = args main_res = tgh.main() self.assertEqual( ""https://trunk.rdoproject.org/centos8-master/component/{}/current-tripleo/commit.yaml"".format( component ), main_res.dlrn_url, ) self.assertEqual(""{}"".format(component), main_res.component) def test_invalid_component_centos7(self, mock_config): args = ['--os-version', 'centos7', '--component', 'tripleo'] sys.argv[1:] = args self.assertRaises(exc.TripleOHashInvalidParameter, lambda: tgh.main()) def test_invalid_os_version(self, mock_config): args = ['--os-version', 'rhelos99', '--component', 'tripleo'] sys.argv[1:] = args self.assertRaises(SystemExit, lambda: tgh.main()) def test_invalid_unknown_tag(self, mock_config): args = ['--tag', 'nosuchtag'] sys.argv[1:] = args self.assertRaises(SystemExit, lambda: tgh.main()) def test_valid_rdo_named_tags(self, mock_config): config_file = open(""fake_config_file"") # open is mocked at class level config_yaml = yaml.safe_load(config_file.read()) config_file.close() # iterate for each of config named tags for tag in config_yaml['rdo_named_tags']: with requests_mock.Mocker() as req_mock: req_mock.get( ""https://trunk.rdoproject.org/centos8-master/{}/delorean.repo.md5"".format( tag ), text=test_fakes.TEST_REPO_MD5, ) args = ['--tag', ""{}"".format(tag)] sys.argv[1:] = args main_res = tgh.main() self.assertEqual( ""https://trunk.rdoproject.org/centos8-master/{}/delorean.repo.md5"".format( tag ), main_res.dlrn_url, ) self.assertEqual(tag, main_res.tag) def test_override_dlrn_url(self, mock_config): with requests_mock.Mocker() as req_mock: req_mock.get( 'https://awoo.com/awoo/centos8-master/current-tripleo/delorean.repo.md5', text=test_fakes.TEST_REPO_MD5, ) args = ['--dlrn-url', 'https://awoo.com/awoo'] sys.argv[1:] = args main_res = tgh.main() self.assertEqual( 'https://awoo.com/awoo/centos8-master/current-tripleo/delorean.repo.md5', main_res.dlrn_url, ) def test_override_os_version_release_rhel8(self, mock_config): with requests_mock.Mocker() as req_mock: req_mock.get( 'https://awoo.com/awoo/rhel8-osp16-2/current-tripleo/delorean.repo.md5', text=test_fakes.TEST_REPO_MD5, ) args = [ '--dlrn-url', 'https://awoo.com/awoo', '--os-version', 'rhel8', '--release', 'osp16-2', ] sys.argv[1:] = args main_res = tgh.main() self.assertEqual('rhel8', main_res.os_version) self.assertEqual('osp16-2', main_res.release) self.assertEqual( 'https://awoo.com/awoo/rhel8-osp16-2/current-tripleo/delorean.repo.md5', main_res.dlrn_url, ) if __name__ == '__main__': unittest.main() ",,1056,0
openstack%2Fkolla~stable%2Fussuri~I51c7c6e2f520a582de0409025eb5d1a6da2952a2,openstack/kolla,stable/ussuri,I51c7c6e2f520a582de0409025eb5d1a6da2952a2,swift: fix group membership in debuntu/binary,MERGED,2021-05-05 09:39:32.000000000,2021-05-06 14:34:01.000000000,2021-05-06 14:32:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-05 09:39:32.000000000', 'files': ['docker/swift/swift-base/Dockerfile.j2', 'releasenotes/notes/bug-1905279-41d664114ef26a16.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b8f23bf71c464d18868e4c456a8a45fd53cd74fa', 'message': 'swift: fix group membership in debuntu/binary\n\nThe UCA packages seem to be removing the swift user from the kolla\ngroup. Explicitly add it after installation.\n\nCloses-Bug: #1905279\n\nChange-Id: I51c7c6e2f520a582de0409025eb5d1a6da2952a2\n(cherry picked from commit aa3208ea0f10889469f864aaccdb593547412d76)\n'}]",0,789742,b8f23bf71c464d18868e4c456a8a45fd53cd74fa,9,3,1,14826,,,0,"swift: fix group membership in debuntu/binary

The UCA packages seem to be removing the swift user from the kolla
group. Explicitly add it after installation.

Closes-Bug: #1905279

Change-Id: I51c7c6e2f520a582de0409025eb5d1a6da2952a2
(cherry picked from commit aa3208ea0f10889469f864aaccdb593547412d76)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/42/789742/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/swift/swift-base/Dockerfile.j2', 'releasenotes/notes/bug-1905279-41d664114ef26a16.yaml']",2,b8f23bf71c464d18868e4c456a8a45fd53cd74fa,,--- fixes: - | Fixes an issue with Swift containers failing to start in Ubuntu binary images. `LP#1905279 <https://bugs.launchpad.net/kolla-ansible/+bug/1905279>`__ ,,11,0
openstack%2Fkolla~stable%2Fussuri~Iad84dd12432befe9250c50d4094b1e5e2e0cf8ee,openstack/kolla,stable/ussuri,Iad84dd12432befe9250c50d4094b1e5e2e0cf8ee,Add `crudini` to ovs-dpdk containers,MERGED,2021-05-05 09:44:26.000000000,2021-05-06 14:30:59.000000000,2021-05-06 14:28:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-05 09:44:26.000000000', 'files': ['docker/ovsdpdk/ovsdpdk/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/da0fd209555cc86837b009568d454a529a022b45', 'message': 'Add `crudini` to ovs-dpdk containers\n\nkolla-ansible runs ovs-dpdkctl.sh inside container, and ovs-dpdkctl.sh\nrequires crudini.\n\nChange-Id: Iad84dd12432befe9250c50d4094b1e5e2e0cf8ee\n(cherry picked from commit 6585332a63b277ff0d63c6c7bd0e77d640579a0a)\n'}]",0,789744,da0fd209555cc86837b009568d454a529a022b45,9,3,1,14826,,,0,"Add `crudini` to ovs-dpdk containers

kolla-ansible runs ovs-dpdkctl.sh inside container, and ovs-dpdkctl.sh
requires crudini.

Change-Id: Iad84dd12432befe9250c50d4094b1e5e2e0cf8ee
(cherry picked from commit 6585332a63b277ff0d63c6c7bd0e77d640579a0a)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/44/789744/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ovsdpdk/ovsdpdk/Dockerfile.j2'],1,da0fd209555cc86837b009568d454a529a022b45,ovs_dpdk_kolla_ansible_crudini-stable/ussuri," 'openvswitch-switch-dpdk', 'crudini'", 'openvswitch-switch-dpdk',2,1
openstack%2Fcharm-ceph-rbd-mirror~master~Ie98d60ca8a089cefdeba09ed4972871f2d53f009,openstack/charm-ceph-rbd-mirror,master,Ie98d60ca8a089cefdeba09ed4972871f2d53f009,Add Groovy to the test gate,ABANDONED,2020-11-05 11:45:00.000000000,2021-05-06 14:30:05.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/5cbcbec4f614a1b17a8d347cb4a11a0e88cdc374', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ie98d60ca8a089cefdeba09ed4972871f2d53f009\n'}, {'number': 2, 'created': '2021-01-10 12:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/8806bb139a6302009c34d327678ff42c04878ecf', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ie98d60ca8a089cefdeba09ed4972871f2d53f009\n'}, {'number': 3, 'created': '2021-01-13 15:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/186462160ae295ca87ab3ce27f1423384bd08a4d', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ie98d60ca8a089cefdeba09ed4972871f2d53f009\n'}, {'number': 4, 'created': '2021-02-26 10:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/1d881ace0cf9fd05cd13ae232feefe0cc4618236', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ie98d60ca8a089cefdeba09ed4972871f2d53f009\n'}, {'number': 5, 'created': '2021-04-16 13:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/2ef5f1228de7dfd6d270fd75f3d525cc9e433d09', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ie98d60ca8a089cefdeba09ed4972871f2d53f009\n'}, {'number': 6, 'created': '2021-04-19 11:57:22.000000000', 'files': ['osci.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/35a7644579d8bda28b685cd291872cc758615d85', 'message': 'Add Groovy to the test gate\n\nChange-Id: Ie98d60ca8a089cefdeba09ed4972871f2d53f009\n'}]",0,761549,35a7644579d8bda28b685cd291872cc758615d85,38,2,6,31289,,,0,"Add Groovy to the test gate

Change-Id: Ie98d60ca8a089cefdeba09ed4972871f2d53f009
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/49/761549/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,5cbcbec4f614a1b17a8d347cb4a11a0e88cdc374,groovy-charm-gate,- groovy-victoria - focal-victoria - focal-ussuri - bionic-ussuri,- groovy-victoria - focal-victoria- bionic-ussuri - focal-ussuri,4,4
