id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-ansible~master~I3922b4abba421e74a130c84c104b91f909cc7c53,openstack/openstack-ansible,master,I3922b4abba421e74a130c84c104b91f909cc7c53,[Docs] Add the bump of the upstream repo,MERGED,2017-09-11 17:11:25.000000000,2017-10-06 14:53:08.000000000,2017-10-06 13:50:57.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 22348}, {'_account_id': 23163}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-11 17:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c01d7db959100b25bccf163c60391ff2aed4c18e', 'message': '[Docs] Add the bump of the upstream repo\n\nOpenStack-Ansible is a cycle trailing project, and has therefore\ntwo weeks after the official upstream project releases. The\nupstream project packagers will have build their package\nrepositories to work for these versions, and we should therefore\nuse their package repositories, instead of using previous version\'s\npackage repositories.\n\nThis documents the ""bump"" step of these upstream package\nrepositories.\n\nChange-Id: I3922b4abba421e74a130c84c104b91f909cc7c53\n'}, {'number': 2, 'created': '2017-09-11 18:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b410913b30adfed44d0c4bb6b9e133d745f3555b', 'message': '[Docs] Add the bump of the upstream repo\n\nOpenStack-Ansible is a cycle trailing project, and has therefore\ntwo weeks after the official upstream project releases. The\nupstream project packagers will have build their package\nrepositories to work for these versions, and we should therefore\nuse their package repositories, instead of using previous version\'s\npackage repositories.\n\nThis documents the ""bump"" step of these upstream package\nrepositories.\n\nChange-Id: I3922b4abba421e74a130c84c104b91f909cc7c53\n'}, {'number': 3, 'created': '2017-10-02 19:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4df6de2d080231ee85bc8703e24b3e9a27f89416', 'message': '[Docs] Add the bump of the upstream repo\n\nOpenStack-Ansible is a cycle trailing project, and has therefore\ntwo weeks after the official upstream project releases. The\nupstream project packagers will have build their package\nrepositories to work for these versions, and we should therefore\nuse their package repositories, instead of using previous version\'s\npackage repositories.\n\nThis documents the ""bump"" step of these upstream package\nrepositories.\n\nChange-Id: I3922b4abba421e74a130c84c104b91f909cc7c53\n'}, {'number': 4, 'created': '2017-10-05 18:20:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3ba5f99596272f2119328e1a6e9e43882546cbdf', 'message': '[Docs] Add the bump of the upstream repo\n\nOpenStack-Ansible is a cycle trailing project, and has therefore\ntwo weeks after the official upstream project releases. The\nupstream project packagers will have build their package\nrepositories to work for these versions, and we should therefore\nuse their package repositories, instead of using previous version\'s\npackage repositories.\n\nThis documents the ""bump"" step of these upstream package\nrepositories.\n\nChange-Id: I3922b4abba421e74a130c84c104b91f909cc7c53\n'}, {'number': 5, 'created': '2017-10-06 12:41:18.000000000', 'files': ['doc/source/contributor/contribute.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/069a39e657da5f505d379d51ae6dd07c2ba3b9de', 'message': '[Docs] Add the bump of the upstream repo\n\nOpenStack-Ansible is a cycle trailing project, and has therefore\ntwo weeks after the official upstream project releases. The\nupstream project packagers will have build their package\nrepositories to work for these versions, and we should therefore\nuse their package repositories, instead of using previous version\'s\npackage repositories.\n\nThis documents the ""bump"" step of these upstream package\nrepositories.\n\nChange-Id: I3922b4abba421e74a130c84c104b91f909cc7c53\n'}]",1,502502,069a39e657da5f505d379d51ae6dd07c2ba3b9de,23,5,5,17068,,,0,"[Docs] Add the bump of the upstream repo

OpenStack-Ansible is a cycle trailing project, and has therefore
two weeks after the official upstream project releases. The
upstream project packagers will have build their package
repositories to work for these versions, and we should therefore
use their package repositories, instead of using previous version's
package repositories.

This documents the ""bump"" step of these upstream package
repositories.

Change-Id: I3922b4abba421e74a130c84c104b91f909cc7c53
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/02/502502/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contribute.rst'],1,c01d7db959100b25bccf163c60391ff2aed4c18e,add_repo_changes_as_a_step_to_do_in_cycle," * After official project release, before official OpenStack-Ansible release: * Bump the version of the package repositories used, if upstream projects like RDO or Ubuntu Cloud Archive are ready on time.",,5,0
openstack%2Fironic~stable%2Fnewton~Ibbb293a5e1e40bc365db12b3239b71b3b7c815ae,openstack/ironic,stable/newton,Ibbb293a5e1e40bc365db12b3239b71b3b7c815ae,[TEST] [DO NOT MERGE] Testing tls-proxy enabling,ABANDONED,2017-08-18 20:53:24.000000000,2017-10-06 14:46:20.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 19686}]","[{'number': 1, 'created': '2017-08-18 20:53:24.000000000', 'files': ['ironic/common/foo'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b643afac7568b25d78261c08125dea9d14e17af6', 'message': '[TEST] [DO NOT MERGE] Testing tls-proxy enabling\n\nChange-Id: Ibbb293a5e1e40bc365db12b3239b71b3b7c815ae\nDepends-On: I234d7fcf9a1b1ffd5664a96d8f8c279be815f5e8\nRelated-Bug: #1694842\n'}]",0,495428,b643afac7568b25d78261c08125dea9d14e17af6,17,6,1,19686,,,0,"[TEST] [DO NOT MERGE] Testing tls-proxy enabling

Change-Id: Ibbb293a5e1e40bc365db12b3239b71b3b7c815ae
Depends-On: I234d7fcf9a1b1ffd5664a96d8f8c279be815f5e8
Related-Bug: #1694842
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/495428/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/foo'],1,b643afac7568b25d78261c08125dea9d14e17af6,bug/1694842,,,0,0
openstack%2Fironic~stable%2Fnewton~Ia24c518262f91d46080d75315b337f9702f460ad,openstack/ironic,stable/newton,Ia24c518262f91d46080d75315b337f9702f460ad,[DNM] - Test pyOpenSSL 16.2,ABANDONED,2017-10-03 13:54:48.000000000,2017-10-06 14:46:10.000000000,,"[{'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 17998}]","[{'number': 1, 'created': '2017-10-03 13:54:48.000000000', 'files': ['ironic/drivers/oneview.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c7ad8d39572565fed1c287014ab700eac31da2b', 'message': '[DNM] - Test pyOpenSSL 16.2\n\nChange-Id: Ia24c518262f91d46080d75315b337f9702f460ad\n'}]",0,509183,8c7ad8d39572565fed1c287014ab700eac31da2b,5,3,1,20035,,,0,"[DNM] - Test pyOpenSSL 16.2

Change-Id: Ia24c518262f91d46080d75315b337f9702f460ad
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/509183/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/oneview.py'],1,8c7ad8d39572565fed1c287014ab700eac31da2b,, This is a test driver implements the `core` functionality using, This driver implements the `core` functionality using,1,1
openstack%2Fironic-python-agent~stable%2Fnewton~Ibfc2ca9b4727f93282df0011c7a01510326eb1b7,openstack/ironic-python-agent,stable/newton,Ibfc2ca9b4727f93282df0011c7a01510326eb1b7,Store image on disk when bigger than RAM size,ABANDONED,2017-03-10 22:40:42.000000000,2017-10-06 14:45:46.000000000,,"[{'_account_id': 3}, {'_account_id': 10343}]","[{'number': 1, 'created': '2017-03-10 22:40:42.000000000', 'files': ['ironic_python_agent/shell/create_loop.sh', 'ironic_python_agent/shell/write_image.sh', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/errors.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4996a7973f91e2fe980d8af7311425dad718d5a5', 'message': 'Store image on disk when bigger than RAM size\n\nInstallation of big disk images on servers with a small amount of RAM\nis actually failing. The download starts and fails when the memory\ncapacity is hit. When using raw images, the image could still be\nstreamed and written on the disk but this uses a bigger amount of\nnetwork bandwidth and storage space on Glance.\n\nImage is cached on disk only when there is not enough space in RAM and\nthe image is not a partition image.  It is stored at the very end of\nthe block device where the OS will be installed by making a loop device\non this one.\n\nBased on https://review.openstack.org/430442\n\nChange-Id: Ibfc2ca9b4727f93282df0011c7a01510326eb1b7\nCloses-bug: 1661328\n'}]",0,444525,4996a7973f91e2fe980d8af7311425dad718d5a5,4,2,1,12060,,,0,"Store image on disk when bigger than RAM size

Installation of big disk images on servers with a small amount of RAM
is actually failing. The download starts and fails when the memory
capacity is hit. When using raw images, the image could still be
streamed and written on the disk but this uses a bigger amount of
network bandwidth and storage space on Glance.

Image is cached on disk only when there is not enough space in RAM and
the image is not a partition image.  It is stored at the very end of
the block device where the OS will be installed by making a loop device
on this one.

Based on https://review.openstack.org/430442

Change-Id: Ibfc2ca9b4727f93282df0011c7a01510326eb1b7
Closes-bug: 1661328
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/25/444525/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/shell/create_loop.sh', 'ironic_python_agent/shell/write_image.sh', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'ironic_python_agent/errors.py']",5,4996a7973f91e2fe980d8af7311425dad718d5a5,bug/1661328,"class ImageFileTooLargeError(RESTError): """"""Error raised when an image cannot be stored on cache."""""" message = 'Error allocating space on cache for the image' def __init__(self, exit_code, stdout, stderr): details = ('Pre-allocating space for image failed with exit code ' '{}. stdout: {}. stderr: {}') details = details.format(exit_code, stdout, stderr) super(ImageFileTooLargeError, self).__init__(details) ",,193,4
openstack%2Fironic~stable%2Fnewton~I811508fb1636f1c36a20a679e6555739c68ce7da,openstack/ironic,stable/newton,I811508fb1636f1c36a20a679e6555739c68ce7da,Remove agent vendor passthru from OneView drivers,ABANDONED,2017-05-31 19:28:13.000000000,2017-10-06 14:44:44.000000000,,"[{'_account_id': 3}, {'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 21775}]","[{'number': 1, 'created': '2017-05-31 19:28:13.000000000', 'files': ['ironic/drivers/modules/oneview/deploy.py', 'ironic/tests/unit/drivers/modules/oneview/test_deploy.py', 'ironic/drivers/oneview.py', 'releasenotes/notes/remove-agent-passthru-oneview-67d389a05619aaba.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2353778368aef5f0349d99c22e5272b72a984dc', 'message': 'Remove agent vendor passthru from OneView drivers\n\nChange-Id: I811508fb1636f1c36a20a679e6555739c68ce7da\nPartial-Bug: #1640533\n(cherry picked from commit cf81c491f385198e967ce7aec6f2266e3b50e5e8)\n'}]",0,469629,a2353778368aef5f0349d99c22e5272b72a984dc,22,8,1,20035,,,0,"Remove agent vendor passthru from OneView drivers

Change-Id: I811508fb1636f1c36a20a679e6555739c68ce7da
Partial-Bug: #1640533
(cherry picked from commit cf81c491f385198e967ce7aec6f2266e3b50e5e8)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/29/469629/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/oneview/deploy.py', 'ironic/tests/unit/drivers/modules/oneview/test_deploy.py', 'ironic/drivers/oneview.py', 'releasenotes/notes/remove-agent-passthru-oneview-67d389a05619aaba.yaml']",4,a2353778368aef5f0349d99c22e5272b72a984dc,bug/1640533,--- features: - | Agent lookup/heartbeat as vendor passthru is removed from OneView drivers. Affected drivers are * agent_pxe_oneview * iscsi_pxe_oneview These drivers no longer have any vendor passthru methods. upgrade: - Agent lookup/heartbeat as vendor passthru is removed from OneView drivers. That means that OneView drivers become incompatible with IPA < 1.5.0. Operators are required to update their IPA-based deploy ramdisks to contain IPA >= 1.5.0. ,,380,6
openstack%2Fproject-config~master~I51acb419a087cb4d4d814750ac04a008cdd3f2b4,openstack/project-config,master,I51acb419a087cb4d4d814750ac04a008cdd3f2b4,Add some allowed-projects restrictions to publish jobs,MERGED,2017-10-05 21:20:38.000000000,2017-10-06 14:40:14.000000000,2017-10-06 14:40:14.000000000,"[{'_account_id': 1}, {'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 21:20:38.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a79b0c27ba9508cb1b151b6899ff72bb805ebf54', 'message': 'Add some allowed-projects restrictions to publish jobs\n\nJobs that publish to specific places like these need to be locked down\nto only being able to be run on their own repo.\n\nAlso, checking to make sure these were all set final: true showed that\nwe were missing final: true on build-wheel-mirror. Nobody should be\ninheriting from that.\n\nChange-Id: I51acb419a087cb4d4d814750ac04a008cdd3f2b4\n'}]",0,509906,a79b0c27ba9508cb1b151b6899ff72bb805ebf54,12,4,1,2,,,0,"Add some allowed-projects restrictions to publish jobs

Jobs that publish to specific places like these need to be locked down
to only being able to be run on their own repo.

Also, checking to make sure these were all set final: true showed that
we were missing final: true on build-wheel-mirror. Nobody should be
inheriting from that.

Change-Id: I51acb419a087cb4d4d814750ac04a008cdd3f2b4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/06/509906/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,a79b0c27ba9508cb1b151b6899ff72bb805ebf54,zuulv3-jobs, allowed-projects: - openstack-infra/project-config allowed-projects: - openstack/service-types-authority allowed-projects: - openstack-infra/irc-meetings final: true,,7,0
openstack%2Fproject-config~master~I42264e8dbd26d65dd354476bcdc7342ea2402b49,openstack/project-config,master,I42264e8dbd26d65dd354476bcdc7342ea2402b49,Update publish-service-types to work like other jobs,MERGED,2017-10-05 19:40:47.000000000,2017-10-06 14:40:13.000000000,2017-10-06 14:40:12.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 19:40:47.000000000', 'files': ['playbooks/service-types/run.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/cba84a13923449a74ac0240b0c41b1b449485832', 'message': 'Update publish-service-types to work like other jobs\n\nThe project-config tox publication jobs do the same thing. Follow the\nsame pattern and get rid of the specific playbook.\n\nChange-Id: I42264e8dbd26d65dd354476bcdc7342ea2402b49\n'}]",0,509887,cba84a13923449a74ac0240b0c41b1b449485832,13,4,1,2,,,0,"Update publish-service-types to work like other jobs

The project-config tox publication jobs do the same thing. Follow the
same pattern and get rid of the specific playbook.

Change-Id: I42264e8dbd26d65dd354476bcdc7342ea2402b49
",git fetch https://review.opendev.org/openstack/project-config refs/changes/87/509887/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/service-types/run.yaml', 'zuul.d/jobs.yaml']",2,cba84a13923449a74ac0240b0c41b1b449485832,zuulv3-jobs, run: playbooks/project-config/run-tox vars: tox_envlist: publish, run: playbooks/service-types/run,3,5
openstack%2Fnova~master~I7b70cf8d5233bd25bf865a1b2789640758493c2b,openstack/nova,master,I7b70cf8d5233bd25bf865a1b2789640758493c2b,Remove dest node allocations during live migration rollback,MERGED,2017-09-26 21:39:13.000000000,2017-10-06 14:30:19.000000000,2017-10-06 14:30:18.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 8313}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-26 21:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e1a180d7ac954795f021ef9598199bec9e1dd9b4', 'message': 'Remove dest node allocations during live migration rollback\n\nWhen a live migration fails, either during pre_live_migration\non the destination host or during the actual live migration\nitself, we rollback from the failure by doing things like\nremoving volume connections from the destination host and\nre-setup the network on the source host.\n\nAs part of the rollback from a failed live migration, we also\nneed to remove the allocations created in Placement for the\ndestination node, since the instance is not on the destination\nnode.\n\nChange-Id: I7b70cf8d5233bd25bf865a1b2789640758493c2b\nCloses-Bug: #1715182\n'}, {'number': 2, 'created': '2017-09-26 22:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fbd4b127b7f4116bfb3e32b6c9507aa91b7b4218', 'message': 'Remove dest node allocations during live migration rollback\n\nWhen a live migration fails, either during pre_live_migration\non the destination host or during the actual live migration\nitself, we rollback from the failure by doing things like\nremoving volume connections from the destination host and\nre-setup the network on the source host.\n\nAs part of the rollback from a failed live migration, we also\nneed to remove the allocations created in Placement for the\ndestination node, since the instance is not on the destination\nnode.\n\nChange-Id: I7b70cf8d5233bd25bf865a1b2789640758493c2b\nCloses-Bug: #1715182\n'}, {'number': 3, 'created': '2017-09-27 17:47:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b1032a07f83d64973de94d32fdac680250a0e852', 'message': 'Remove dest node allocations during live migration rollback\n\nWhen a live migration fails or is cancelled, either during\npre_live_migration on the destination host or during the\nactual live migration itself, we rollback from the failure/abort\nby doing things like removing volume connections from the\ndestination host and re-setup the network on the source host.\n\nAs part of the rollback from a failed or cancelled live migration,\nwe also need to remove the allocations created in Placement for the\ndestination node, since the instance is not on the destination\nnode.\n\nChange-Id: I7b70cf8d5233bd25bf865a1b2789640758493c2b\nCloses-Bug: #1715182\n'}, {'number': 4, 'created': '2017-09-27 17:49:27.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f90c61cd88edce74e3dbfd069beb2c33793d3371', 'message': 'Remove dest node allocations during live migration rollback\n\nWhen a live migration fails or is cancelled, either during\npre_live_migration on the destination host or during the\nactual live migration itself, we rollback from the failure/abort\nby doing things like removing volume connections from the\ndestination host and re-setup the network on the source host.\n\nAs part of the rollback from a failed or cancelled live migration,\nwe also need to remove the allocations created in Placement for the\ndestination node, since the instance is not on the destination\nnode.\n\nChange-Id: I7b70cf8d5233bd25bf865a1b2789640758493c2b\nCloses-Bug: #1715182\nCloses-Bug: #1714237\n'}]",5,507687,f90c61cd88edce74e3dbfd069beb2c33793d3371,62,16,4,6873,,,0,"Remove dest node allocations during live migration rollback

When a live migration fails or is cancelled, either during
pre_live_migration on the destination host or during the
actual live migration itself, we rollback from the failure/abort
by doing things like removing volume connections from the
destination host and re-setup the network on the source host.

As part of the rollback from a failed or cancelled live migration,
we also need to remove the allocations created in Placement for the
destination node, since the instance is not on the destination
node.

Change-Id: I7b70cf8d5233bd25bf865a1b2789640758493c2b
Closes-Bug: #1715182
Closes-Bug: #1714237
",git fetch https://review.opendev.org/openstack/nova refs/changes/87/507687/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/manager.py', 'nova/tests/functional/test_servers.py']",2,e1a180d7ac954795f021ef9598199bec9e1dd9b4,bug/1715182," self.assertFlavorMatchesAllocation( {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) self.assertEqual(1, len(allocations))"," # FIXME: This is bug 1715182 where rollback doesn't remove the # allocations against the dest node. Uncomment once fixed. self.assertFlavorMatchesAllocation(self.flavor1, dest_usages) # self.assertFlavorMatchesAllocation( # {'vcpus': 0, 'ram': 0, 'disk': 0}, dest_usages) # FIXME: This is bug 1715182 where rollback doesn't remove the # allocations against the dest node. Uncomment once fixed. # self.assertEqual(1, len(allocations)) self.assertEqual(2, len(allocations)) self.assertIn(dest_rp_uuid, allocations) self.assertFlavorMatchesAllocation( self.flavor1, allocations[dest_rp_uuid]['resources']) ",17,14
openstack%2Fproject-config~master~I914f660dbcd9680f872ed99f380bda049e1e0d2c,openstack/project-config,master,I914f660dbcd9680f872ed99f380bda049e1e0d2c,Switch infra repos to not use constraints,MERGED,2017-10-05 15:58:59.000000000,2017-10-06 14:16:29.000000000,2017-10-06 14:16:29.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 15:58:59.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/84a70ddbd22e5cf0e798d520dab28e9cae47f9cc', 'message': ""Switch infra repos to not use constraints\n\nThe Infra projects are not part of the OpenStack release and as such do\nnot follow upper-constraints. Switch them to the versions of the jobs\nthat do not apply constraints or add openstack/requirements to\nrequired-projects.\n\nrelease-tools was left alone since that's a release team repo and should\nbe the release team's choice.\n\nDepends-On: I03cad569cc539becccc603a07b8de3e30007f2bb\nChange-Id: I914f660dbcd9680f872ed99f380bda049e1e0d2c\n""}]",0,509821,84a70ddbd22e5cf0e798d520dab28e9cae47f9cc,12,4,1,2,,,0,"Switch infra repos to not use constraints

The Infra projects are not part of the OpenStack release and as such do
not follow upper-constraints. Switch them to the versions of the jobs
that do not apply constraints or add openstack/requirements to
required-projects.

release-tools was left alone since that's a release team repo and should
be the release team's choice.

Depends-On: I03cad569cc539becccc603a07b8de3e30007f2bb
Change-Id: I914f660dbcd9680f872ed99f380bda049e1e0d2c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/509821/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,84a70ddbd22e5cf0e798d520dab28e9cae47f9cc,zuulv3-jobs, - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - tox-cover - tox-cover - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - openstack-python-jobs - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - tox-pep8 - tox-pep8 - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - tox-linters - tox-linters - openstack-python35-jobs-no-constraints - tox-pep8 - tox-pep8, - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-tox-cover - openstack-tox-cover - openstack-python-jobs - openstack-python35-jobs - openstack-python-jobs - openstack-python35-jobs - openstack-tox-pep8 - openstack-tox-py27 - openstack-tox-pep8 - openstack-tox-py27 - openstack-python-jobs - openstack-python35-jobs - openstack-tox-pep8 - openstack-tox-pep8 - openstack-python-jobs - openstack-python35-jobs - openstack-tox-linters - openstack-tox-linters - openstack-python35-jobs - openstack-tox-pep8 - openstack-tox-pep8,43,46
openstack%2Fpuppet-murano~master~I394a176291bd3ab4466aeb49794e700451f139e5,openstack/puppet-murano,master,I394a176291bd3ab4466aeb49794e700451f139e5,Add parameters for keystone API v3,MERGED,2017-10-06 09:13:46.000000000,2017-10-06 14:14:17.000000000,2017-10-06 14:14:17.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-10-06 09:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/1e93e4d3c2e0b86ead39aa419c83826477976ad9', 'message': 'Add parameters for keystone API v3\n\nKeystone API v2.0 has been removed and domain parameters\nare needed in keystone_authtoken section to work properly\nwith v3.\n\nChange-Id: I394a176291bd3ab4466aeb49794e700451f139e5\n'}, {'number': 2, 'created': '2017-10-06 09:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/10f3f1ce0943b4de85c4ee7e1c1e2694e047b720', 'message': 'Add parameters for keystone API v3\n\nKeystone API v2.0 has been removed and domain parameters\nare needed in keystone_authtoken section to work properly\nwith v3.\n\nChange-Id: I394a176291bd3ab4466aeb49794e700451f139e5\n'}, {'number': 3, 'created': '2017-10-06 10:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/9c3435909f2b940afef6a07b3ff2c79bfd619989', 'message': 'Add parameters for keystone API v3\n\nKeystone API v2.0 has been removed and domain parameters\nare needed in keystone_authtoken section to work properly\nwith v3.\n\nAlso configuration of keystone_authtoken has been moved to\nkeystone::resources::authtoken instead of setting it directly\nwith murano_config.\n\nChange-Id: I394a176291bd3ab4466aeb49794e700451f139e5\n'}, {'number': 4, 'created': '2017-10-06 10:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/8857312b7c92bd339ee9e9821953028eebb66ad6', 'message': 'Add parameters for keystone API v3\n\nKeystone API v2.0 has been removed and domain parameters\nare needed in keystone_authtoken section to work properly\nwith v3.\n\nAlso configuration of keystone_authtoken has been moved to\nkeystone::resources::authtoken instead of setting it directly\nwith murano_config.\n\nChange-Id: I394a176291bd3ab4466aeb49794e700451f139e5\n'}, {'number': 5, 'created': '2017-10-06 11:14:11.000000000', 'files': ['releasenotes/notes/add-parameters-for-v3-56157ca2c4993bc1.yaml', 'spec/classes/murano_init_spec.rb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/bc7db847f399b3553f53ad0220225384d322caf6', 'message': 'Add parameters for keystone API v3\n\nKeystone API v2.0 has been removed and domain parameters\nare needed in keystone_authtoken section to work properly\nwith v3.\n\nAlso configuration of keystone_authtoken has been moved to\nkeystone::resources::authtoken instead of setting it directly\nwith murano_config.\n\nChange-Id: I394a176291bd3ab4466aeb49794e700451f139e5\n'}]",2,510022,bc7db847f399b3553f53ad0220225384d322caf6,20,7,5,16312,,,0,"Add parameters for keystone API v3

Keystone API v2.0 has been removed and domain parameters
are needed in keystone_authtoken section to work properly
with v3.

Also configuration of keystone_authtoken has been moved to
keystone::resources::authtoken instead of setting it directly
with murano_config.

Change-Id: I394a176291bd3ab4466aeb49794e700451f139e5
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/22/510022/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-parameters-for-v3-56157ca2c4993bc1.yaml', 'spec/classes/murano_init_spec.rb', 'manifests/init.pp']",3,1e93e4d3c2e0b86ead39aa419c83826477976ad9,keystone_v3,"# [*user_domain_name*] # (Optional) Name of domain for $username # Defaults to 'Default' # # [*project_domain_name*] # (Optional) Name of domain for $project_name # Defaults # $user_domain_name = 'Default', $project_domain_name = 'Default', 'murano/url' : value => ""${service_protocol}://${service_host}:${service_port}""; 'engine/use_trusts' : value => $use_trusts; 'rabbitmq/login' : value => $rabbit_own_user; 'rabbitmq/password' : value => $rabbit_own_password; 'rabbitmq/host' : value => $rabbit_own_host; 'rabbitmq/port' : value => $rabbit_own_port; 'rabbitmq/virtual_host' : value => $rabbit_own_vhost; 'rabbitmq/ssl' : value => $rabbit_own_use_ssl; 'rabbitmq/ca_certs' : value => $rabbit_own_ca_certs; 'keystone_authtoken/auth_uri' : value => $auth_uri; 'keystone_authtoken/admin_user' : value => $admin_user; 'keystone_authtoken/admin_tenant_name' : value => $admin_tenant_name; 'keystone_authtoken/admin_password' : value => $admin_password; 'keystone_authtoken/identity_uri' : value => $identity_uri; 'keystone_authtoken/user_domain_name' : value => $user_domain_name; 'keystone_authtoken/project_domain_name' : value => $project_domain_name; 'keystone_authtoken/memcached_servers': value => join(any2array($memcached_servers), ','); 'networking/default_dns': value => $default_nameservers; 'engine/packages_service': value => $packages_service,"," 'murano/url' : value => ""${service_protocol}://${service_host}:${service_port}""; 'engine/use_trusts' : value => $use_trusts; 'rabbitmq/login' : value => $rabbit_own_user; 'rabbitmq/password' : value => $rabbit_own_password; 'rabbitmq/host' : value => $rabbit_own_host; 'rabbitmq/port' : value => $rabbit_own_port; 'rabbitmq/virtual_host' : value => $rabbit_own_vhost; 'rabbitmq/ssl' : value => $rabbit_own_use_ssl; 'rabbitmq/ca_certs' : value => $rabbit_own_ca_certs; 'keystone_authtoken/auth_uri' : value => $auth_uri; 'keystone_authtoken/admin_user' : value => $admin_user; 'keystone_authtoken/admin_tenant_name' : value => $admin_tenant_name; 'keystone_authtoken/admin_password' : value => $admin_password; 'keystone_authtoken/identity_uri' : value => $identity_uri; 'keystone_authtoken/memcached_servers': value => join(any2array($memcached_servers), ','); 'networking/default_dns': value => $default_nameservers; 'engine/packages_service': value => $packages_service,",41,17
openstack%2Fproject-config~master~I8ae5af94be428843bb41d90e9a9d2e9ca280e2c2,openstack/project-config,master,I8ae5af94be428843bb41d90e9a9d2e9ca280e2c2,Switch infra projects to using docs templates,MERGED,2017-10-05 15:58:59.000000000,2017-10-06 14:14:12.000000000,2017-10-06 14:14:12.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 15:58:59.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/dec943dece84ef06fbf62fffddf09a9c44dbfdc4', 'message': 'Switch infra projects to using docs templates\n\nThere are now project-templates for the infra use cases. Use them.\n\nDepends-On: I236e4556249340a6a7fa1d82bb412a0e39259cc5\nChange-Id: I8ae5af94be428843bb41d90e9a9d2e9ca280e2c2\n'}]",0,509820,dec943dece84ef06fbf62fffddf09a9c44dbfdc4,12,4,1,2,,,0,"Switch infra projects to using docs templates

There are now project-templates for the infra use cases. Use them.

Depends-On: I236e4556249340a6a7fa1d82bb412a0e39259cc5
Change-Id: I8ae5af94be428843bb41d90e9a9d2e9ca280e2c2
",git fetch https://review.opendev.org/openstack/project-config refs/changes/20/509820/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,dec943dece84ef06fbf62fffddf09a9c44dbfdc4,zuulv3-jobs, - release-openstack-sphinx-docs-infra - release-openstack-sphinx-docs-infra - release-openstack-sphinx-docs-infra infra-check: jobs: - build-openstack-sphinx-docs infra-gate: jobs: - build-openstack-sphinx-docs - release-openstack-sphinx-docs-infra - openstack-python-jobs-no-constraints - openstack-python35-jobs-no-constraints - release-openstack-sphinx-docs-infra - publish-openstack-sphinx-docs-infra, release: jobs: - publish-openstack-sphinx-docs-infra release: jobs: - publish-openstack-sphinx-docs-infra release: jobs: - publish-openstack-sphinx-docs-infra - publish-openstack-sphinx-docs-infra - publish-openstack-sphinx-docs-infra - openstack-python35-jobs check: jobs: - openstack-tox-pep8 - openstack-tox-py27 gate: jobs: - openstack-tox-pep8 - openstack-tox-py27 - publish-openstack-python-branch-tarball - publish-openstack-sphinx-docs-infra,14,22
openstack%2Ftripleo-heat-templates~master~I9f56ed7b9854979366c9e3ad91cf61846ca28f98,openstack/tripleo-heat-templates,master,I9f56ed7b9854979366c9e3ad91cf61846ca28f98,Temporarily fallback to BM fluentd,MERGED,2017-10-06 08:47:54.000000000,2017-10-06 14:09:29.000000000,2017-10-06 14:09:29.000000000,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-10-06 08:47:54.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f82dbe588e278e8f00dfe44f9d72ccd680d5692', 'message': 'Temporarily fallback to BM fluentd\n\nThe fluentd image is missing from the tripleomaster registry on\ndockerhub. Disable the containerized fluentd service from\nscenario001-multinode-containers and fallback to the BM service until\nwe have the image available in order to fix CI.\n\nChange-Id: I9f56ed7b9854979366c9e3ad91cf61846ca28f98\nRelated-Bug: #1721723\n'}]",0,510018,7f82dbe588e278e8f00dfe44f9d72ccd680d5692,12,7,1,13039,,,0,"Temporarily fallback to BM fluentd

The fluentd image is missing from the tripleomaster registry on
dockerhub. Disable the containerized fluentd service from
scenario001-multinode-containers and fallback to the BM service until
we have the image available in order to fix CI.

Change-Id: I9f56ed7b9854979366c9e3ad91cf61846ca28f98
Related-Bug: #1721723
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/510018/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-multinode-containers.yaml'],1,7f82dbe588e278e8f00dfe44f9d72ccd680d5692,bug/1721723, # FIXME(mandre) fluentd container image missing from tripleomaster registry # https://bugs.launchpad.net/tripleo/+bug/1721723 # OS::TripleO::Services::FluentdClient: ../../docker/services/fluentd-client.yaml OS::TripleO::Services::FluentdClient: ../../puppet/services/logging/fluentd-client.yaml, OS::TripleO::Services::FluentdClient: ../../docker/services/fluentd-client.yaml,4,1
openstack%2Ftripleo-heat-templates~stable%2Fpike~I122a246a559e07ed74c69e3eb172a4bbb801aeb7,openstack/tripleo-heat-templates,stable/pike,I122a246a559e07ed74c69e3eb172a4bbb801aeb7,Pin scenario001-multinode-containers to earlier ceph docker container,MERGED,2017-10-05 09:17:36.000000000,2017-10-06 14:09:17.000000000,2017-10-06 14:09:17.000000000,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 23811}]","[{'number': 1, 'created': '2017-10-05 09:17:36.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37d9ab49efa6da7d6b7f408eea807c4ea2c0d622', 'message': 'Pin scenario001-multinode-containers to earlier ceph docker container\n\nChange-Id: I122a246a559e07ed74c69e3eb172a4bbb801aeb7\nCloses-Bug: #1721239\n(cherry picked from commit 3e8de70bd5a8c43389432d484189d4de5fc0ae2f)\n'}]",0,509722,37d9ab49efa6da7d6b7f408eea807c4ea2c0d622,13,4,1,23811,,,0,"Pin scenario001-multinode-containers to earlier ceph docker container

Change-Id: I122a246a559e07ed74c69e3eb172a4bbb801aeb7
Closes-Bug: #1721239
(cherry picked from commit 3e8de70bd5a8c43389432d484189d4de5fc0ae2f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/509722/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario001-multinode-containers.yaml'],1,37d9ab49efa6da7d6b7f408eea807c4ea2c0d622,bug/1721239, DockerCephDaemonImage: ceph/daemon:tag-build-ceph-dfg-jewel-centos-7, DockerCephDaemonImage: ceph/daemon:tag-build-master-jewel-centos-7,1,1
openstack%2Fopenstack-zuul-jobs~master~Ibc8e181b8e0f6fe920b544ea996007519c741254,openstack/openstack-zuul-jobs,master,Ibc8e181b8e0f6fe920b544ea996007519c741254,Always build releasenotes from master,MERGED,2017-10-05 18:42:54.000000000,2017-10-06 14:07:10.000000000,2017-10-06 14:07:10.000000000,"[{'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 18:42:54.000000000', 'files': ['roles/build-releasenotes/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0fabbf455645bef96e5b978f95e80412a665eb43', 'message': 'Always build releasenotes from master\n\nreno wants to operate on master. Lucky for reno - we have that.\n\nChange-Id: Ibc8e181b8e0f6fe920b544ea996007519c741254\n'}]",0,509872,0fabbf455645bef96e5b978f95e80412a665eb43,10,3,1,2,,,0,"Always build releasenotes from master

reno wants to operate on master. Lucky for reno - we have that.

Change-Id: Ibc8e181b8e0f6fe920b544ea996007519c741254
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/72/509872/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-releasenotes/tasks/main.yaml'],1,0fabbf455645bef96e5b978f95e80412a665eb43,zuulv3-jobs,"# reno always runs on master, even if there was a commit from another branch - name: Switch to master branch command: git checkout master args: chdir: '{{ zuul_work_dir }}' ",,6,0
openstack%2Fproject-config~master~I7d796f46aa30605ec722e5b442096b0ffd79bcda,openstack/project-config,master,I7d796f46aa30605ec722e5b442096b0ffd79bcda,Add the run playbook for releasenotes and fix afs stamping,MERGED,2017-10-05 17:16:21.000000000,2017-10-06 14:04:43.000000000,2017-10-06 14:04:43.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 17:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2cf95454aa62b9281f690e0b89558bb22334beaf', 'message': ""Add the run playbook for releasenotes and fix path\n\nWe were totally missing a run playbook.\n\nAlso, the new and improved version of the releasenotes job does not move\nthe releasenotes to the doc dir - it keeps them in releasenotes. That's\ncool - we added support to prepare-docs-for-afs for directories other\nthan doc. Use that.\n\nDepends-On: Ideb4d1ea31f51bc2daedb78bd3ef304f1ed1dbec\nChange-Id: I7d796f46aa30605ec722e5b442096b0ffd79bcda\n""}, {'number': 2, 'created': '2017-10-05 17:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2bf8343c0709b4cae6a3139506b6d4f7a05009c4', 'message': ""Add the run playbook for releasenotes and fix path\n\nWe were totally missing a run playbook.\n\nAlso, the new and improved version of the releasenotes job does not move\nthe releasenotes to the doc dir - it keeps them in releasenotes. That's\ncool - we added support to prepare-docs-for-afs for directories other\nthan doc. Use that.\n\nDepends-On: Ideb4d1ea31f51bc2daedb78bd3ef304f1ed1dbec\nChange-Id: I7d796f46aa30605ec722e5b442096b0ffd79bcda\n""}, {'number': 3, 'created': '2017-10-05 18:43:05.000000000', 'files': ['playbooks/releasenotes/run.yaml', 'playbooks/publish/releasenotes.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f445955b9320a17a8dea5695e3d67585756c2143', 'message': 'Add the run playbook for releasenotes and fix afs stamping\n\nWe were totally missing a run playbook.\n\nFor the post playbook we need to not run prepare-docs-for-afs but\ninstead just do the AFS stamp. Releasenotes are always built from\nmaster.\n\nChange-Id: I7d796f46aa30605ec722e5b442096b0ffd79bcda\n'}]",0,509843,f445955b9320a17a8dea5695e3d67585756c2143,17,5,3,2,,,0,"Add the run playbook for releasenotes and fix afs stamping

We were totally missing a run playbook.

For the post playbook we need to not run prepare-docs-for-afs but
instead just do the AFS stamp. Releasenotes are always built from
master.

Change-Id: I7d796f46aa30605ec722e5b442096b0ffd79bcda
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/509843/3 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/releasenotes/run.yaml', 'playbooks/publish/releasenotes.yaml']",2,2cf95454aa62b9281f690e0b89558bb22334beaf,zuulv3-jobs," - role: prepare-docs-for-afs doc_base_dir: releasenotes sphinx_output_src: ""{{ zuul.project.src_dir }}/releasenotes/build/html/"""," - prepare-docs-for-afs sphinx_output_src: ""{{ zuul.project.src_dir }}/doc/build/html/""",6,2
openstack%2Fproject-config~master~Iefec8c50418dcea00c3adebdc20b71c7f20241bd,openstack/project-config,master,Iefec8c50418dcea00c3adebdc20b71c7f20241bd,Update specs-site and infra-index publication jobs,MERGED,2017-10-05 19:19:38.000000000,2017-10-06 14:04:42.000000000,2017-10-06 14:04:42.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 19:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f4552de010381d086f7de5d04858737c6fe6f88b', 'message': ""Fetch logs from infra-docs, not venv\n\nthe publish-infra-index job uses the infra-docs tox env. We're fetching\nfrom venv instead. Fetch from the right thing.\n\nChange-Id: Iefec8c50418dcea00c3adebdc20b71c7f20241bd\n""}, {'number': 2, 'created': '2017-10-05 19:27:15.000000000', 'files': ['playbooks/specs-site/run.yaml', 'playbooks/project-config/run-tox.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2ecf933833990da51710d5594d6d506266b5bec9', 'message': 'Update specs-site and infra-index publication jobs\n\nThey were both not fetching the same venv they were building with.\n\nRather than repeat ourselves, we can update these to share a run\nplaybook - and can pass tox_envlist from the job rather than needing\nplaybooks that set that themselves. That also allows fetch-tox-output to\npick it up.\n\nChange-Id: Iefec8c50418dcea00c3adebdc20b71c7f20241bd\n'}]",0,509882,2ecf933833990da51710d5594d6d506266b5bec9,11,4,2,2,,,0,"Update specs-site and infra-index publication jobs

They were both not fetching the same venv they were building with.

Rather than repeat ourselves, we can update these to share a run
playbook - and can pass tox_envlist from the job rather than needing
playbooks that set that themselves. That also allows fetch-tox-output to
pick it up.

Change-Id: Iefec8c50418dcea00c3adebdc20b71c7f20241bd
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/509882/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish/infra-index.yaml'],1,f4552de010381d086f7de5d04858737c6fe6f88b,zuulv3-jobs, - role: fetch-tox-output tox_envlist: infra-docs, - fetch-tox-output,2,1
openstack%2Fproject-config~master~I0166016a2e29dbfd4b3cf08d152d5ded2b3c9ff7,openstack/project-config,master,I0166016a2e29dbfd4b3cf08d152d5ded2b3c9ff7,Fix neutron-dynamic-routing python jobs,MERGED,2017-10-05 09:30:52.000000000,2017-10-06 14:04:40.000000000,2017-10-06 14:04:40.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 09:30:52.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/35804c553c2d1dad0647ced4e9e2c7a9e5ccd01b', 'message': 'Fix neutron-dynamic-routing python jobs\n\nSeems this was missed in [1], need to use -neutron variants of python\njobs in order to add neutron to required-projects.\n\n[1] I8b622159074bb34324b28a58431e399f0c29508e\n\nChange-Id: I0166016a2e29dbfd4b3cf08d152d5ded2b3c9ff7\n'}]",0,509726,35804c553c2d1dad0647ced4e9e2c7a9e5ccd01b,11,5,1,13252,,,0,"Fix neutron-dynamic-routing python jobs

Seems this was missed in [1], need to use -neutron variants of python
jobs in order to add neutron to required-projects.

[1] I8b622159074bb34324b28a58431e399f0c29508e

Change-Id: I0166016a2e29dbfd4b3cf08d152d5ded2b3c9ff7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/509726/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,35804c553c2d1dad0647ced4e9e2c7a9e5ccd01b,zuulv3-jobs, - openstack-python-jobs-neutron - openstack-python35-jobs-neutron, - openstack-python-jobs - openstack-python35-jobs,2,2
openstack%2Fheat~master~Ic11fae155cb20a699482f861f080f5ebc9f0b8ef,openstack/heat,master,Ic11fae155cb20a699482f861f080f5ebc9f0b8ef,Load rsrc_prop_data by default,ABANDONED,2017-10-06 10:56:33.000000000,2017-10-06 14:03:09.000000000,,"[{'_account_id': 3}, {'_account_id': 4257}]","[{'number': 1, 'created': '2017-10-06 10:56:33.000000000', 'files': ['heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/b230d8c3e77e8f2dafdbc96980ac53fcefe23461', 'message': ""Load rsrc_prop_data by default\n\nThe same way we load resource data, we should now load resource\nproperties data, as it's required to load a resources. This saves one\nquery per resource when loading up a stack.\n\nChange-Id: Ic11fae155cb20a699482f861f080f5ebc9f0b8ef\n""}]",0,510060,b230d8c3e77e8f2dafdbc96980ac53fcefe23461,4,2,1,7385,,,0,"Load rsrc_prop_data by default

The same way we load resource data, we should now load resource
properties data, as it's required to load a resources. This saves one
query per resource when loading up a stack.

Change-Id: Ic11fae155cb20a699482f861f080f5ebc9f0b8ef
",git fetch https://review.opendev.org/openstack/heat refs/changes/60/510060/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,b230d8c3e77e8f2dafdbc96980ac53fcefe23461,rsrc_prop_data_load," ).options(orm.joinedload(""data""), orm.joinedload(""rsrc_prop_data"")).first() ).options(orm.joinedload(""data""), orm.joinedload(""rsrc_prop_data"")) ).options(orm.joinedload(""data""), orm.joinedload(""rsrc_prop_data"")).all() ).options(orm.joinedload(""data""), orm.joinedload(""rsrc_prop_data""))"," ).options(orm.joinedload(""data"")).first() ).options(orm.joinedload(""data"")) ).options(orm.joinedload(""data"")).all() ).options(orm.joinedload(""data""))",4,4
openstack%2Fneutron~master~I5e445a9ebd0ebc88122ef0b3425af2f70bbd95d9,openstack/neutron,master,I5e445a9ebd0ebc88122ef0b3425af2f70bbd95d9,"DO NOT REVIEW: Revert ""Ensure default security group before port update""",ABANDONED,2017-10-05 16:27:42.000000000,2017-10-06 14:00:20.000000000,,"[{'_account_id': 3}, {'_account_id': 9845}]","[{'number': 1, 'created': '2017-10-05 16:27:42.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/tempest/api/admin/test_security_groups.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/77b93ce3f09eb2da673537815307778bc254723f', 'message': 'DO NOT REVIEW: Revert ""Ensure default security group before port update""\n\nTHIS IS JUST A TEST TO SEE IF THIS PATCH IS WHAT IS CAUSING THE RALLY\nJOB IN NETWORKING-OVN TO FAIL.\n\nThis reverts commit 017185496c9f3f30b4b819ead86dd5bfe5a72597.\n\nChange-Id: I5e445a9ebd0ebc88122ef0b3425af2f70bbd95d9\n'}]",0,509825,77b93ce3f09eb2da673537815307778bc254723f,4,2,1,6773,,,0,"DO NOT REVIEW: Revert ""Ensure default security group before port update""

THIS IS JUST A TEST TO SEE IF THIS PATCH IS WHAT IS CAUSING THE RALLY
JOB IN NETWORKING-OVN TO FAIL.

This reverts commit 017185496c9f3f30b4b819ead86dd5bfe5a72597.

Change-Id: I5e445a9ebd0ebc88122ef0b3425af2f70bbd95d9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/509825/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/tempest/api/admin/test_security_groups.py', 'neutron/plugins/ml2/plugin.py']",4,77b93ce3f09eb2da673537815307778bc254723f,revert," context=context, port=attrs)"," original_port=orig_context.current, original_port = self.get_port(context, id) context=context, port=attrs, original_port=original_port) original_port=port,",4,56
openstack%2Fnetworking-ovn~master~I8527dfc59b8feb55b0782f7583ffc4c4ffbcf9e9,openstack/networking-ovn,master,I8527dfc59b8feb55b0782f7583ffc4c4ffbcf9e9,DO NOT REVIEW: Test rally job fix,ABANDONED,2017-10-05 16:31:59.000000000,2017-10-06 14:00:15.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-10-05 16:31:59.000000000', 'files': ['networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8935947028738ad1af40260c40eafccfb8e3f4eb', 'message': 'DO NOT REVIEW: Test rally job fix\n\nThis patch is just a test to check if the revert (see Depends-On) is the\ncause to the rally job to fail.\n\nChange-Id: I8527dfc59b8feb55b0782f7583ffc4c4ffbcf9e9\nDepends-On: I5e445a9ebd0ebc88122ef0b3425af2f70bbd95d9\n'}]",0,509828,8935947028738ad1af40260c40eafccfb8e3f4eb,3,1,1,6773,,,0,"DO NOT REVIEW: Test rally job fix

This patch is just a test to check if the revert (see Depends-On) is the
cause to the rally job to fail.

Change-Id: I8527dfc59b8feb55b0782f7583ffc4c4ffbcf9e9
Depends-On: I5e445a9ebd0ebc88122ef0b3425af2f70bbd95d9
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/28/509828/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/mech_driver.py'],1,8935947028738ad1af40260c40eafccfb8e3f4eb,check-fix-rally, foo,,2,0
openstack%2Fpuppet-ironic~master~Iae15e9db0acc2ecd5b087a9ca430be948bc3e649,openstack/puppet-ironic,master,Iae15e9db0acc2ecd5b087a9ca430be948bc3e649,Increase Ironic inspector dnsmasq lease time,MERGED,2017-10-04 13:48:33.000000000,2017-10-06 13:59:33.000000000,2017-10-05 13:53:25.000000000,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 21909}]","[{'number': 1, 'created': '2017-10-04 13:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/09ceaaa3a14af9096f8f691ddf0cbebd50bbe520', 'message': 'Increase Ironic inspector dnsmasq lease time\n\nAs described in bug, its possible that addresses provided to IPA via\nDHCP may expire and not be added to the introspection report.  This\nincreases the dhcp lease time from 2 to 4 minutes.  There should be\nno downside to increasing this lease time since these addresses\nare only used during introspection.\n\nChange-Id: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nCloses-Bug: 1721051\n'}, {'number': 2, 'created': '2017-10-04 14:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/cfb58f79a110ee8dc8c63d6871100427a85d4b72', 'message': 'Increase Ironic inspector dnsmasq lease time\n\nAs described in bug, its possible that addresses provided to IPA via\nDHCP may expire and not be added to the introspection report.  This\nincreases the dhcp lease time from 2 to 10 minutes.  There should be\nno downside to increasing this lease time since these addresses\nare only used during introspection.\n\nChange-Id: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nCloses-Bug: 1721051\n'}, {'number': 3, 'created': '2017-10-04 14:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/a57601bdec461ad0026c795502c93f673b72a2a5', 'message': 'Increase Ironic inspector dnsmasq lease time\n\nAs described in bug, its possible that addresses provided to IPA via\nDHCP may expire and not be added to the introspection report.  This\nincreases the dhcp lease time from 2 to 10 minutes.  There should be\nno downside to increasing this lease time since these addresses\nare only used during introspection.\n\nChange-Id: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nCloses-Bug: 1721051\n'}, {'number': 4, 'created': '2017-10-04 18:14:40.000000000', 'files': ['spec/classes/ironic_inspector_spec.rb', 'templates/inspector_dnsmasq_tftp.erb', 'releasenotes/notes/increase-inspector-dnsmasq-lease-7e5b03941f3e161c.yaml', 'templates/inspector_dnsmasq_http.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/c00a1b88ba8e55e7a78e830410e5999106a69c2b', 'message': 'Increase Ironic inspector dnsmasq lease time\n\nAs described in bug, its possible that addresses provided to IPA via\nDHCP may expire and not be added to the introspection report.  This\nincreases the dhcp lease time from 2 to 10 minutes.  There should be\nno downside to increasing this lease time since these addresses\nare only used during introspection.\n\nChange-Id: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649\nCloses-Bug: 1721051\n'}]",0,509467,c00a1b88ba8e55e7a78e830410e5999106a69c2b,15,5,4,21909,,,0,"Increase Ironic inspector dnsmasq lease time

As described in bug, its possible that addresses provided to IPA via
DHCP may expire and not be added to the introspection report.  This
increases the dhcp lease time from 2 to 10 minutes.  There should be
no downside to increasing this lease time since these addresses
are only used during introspection.

Change-Id: Iae15e9db0acc2ecd5b087a9ca430be948bc3e649
Closes-Bug: 1721051
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/67/509467/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_spec.rb', 'templates/inspector_dnsmasq_tftp.erb', 'templates/inspector_dnsmasq_http.erb']",3,09ceaaa3a14af9096f8f691ddf0cbebd50bbe520,bug/1721051,"dhcp-range=set:<%= s['tag'] -%>,<%= s['ip_range'] -%>,<%= s['netmask'] -%>,4mdhcp-range=set:<%= s['tag'] -%>,<%= s['ip_range'] -%>,4mdhcp-range=<%= s['ip_range'] -%>,4m","dhcp-range=set:<%= s['tag'] -%>,<%= s['ip_range'] -%>,<%= s['netmask'] -%>,2mdhcp-range=set:<%= s['tag'] -%>,<%= s['ip_range'] -%>,2mdhcp-range=<%= s['ip_range'] -%>,2m",10,10
openstack%2Fnetworking-ovn~master~I2c7c7e20a41d1f52424f51216fe843ee525ee7b6,openstack/networking-ovn,master,I2c7c7e20a41d1f52424f51216fe843ee525ee7b6,Workaround for rally job: Disable metadata for the rally job,ABANDONED,2017-10-06 09:35:59.000000000,2017-10-06 13:57:21.000000000,,"[{'_account_id': 3}, {'_account_id': 10267}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-10-06 09:35:59.000000000', 'files': ['devstack/devstackgaterc'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d906f472d08d20644d16a05f2d4a5fa28a7e5c99', 'message': ""Workaround for rally job: Disable metadata for the rally job\n\nTo unblock the gate, this patch is disabling the metadata service in the\nrally job. The problem is reproduceable locally so let's continue to\ndebug in our environment and keep the gate going.\n\nChange-Id: I2c7c7e20a41d1f52424f51216fe843ee525ee7b6\nPartial-Bug: #1721480\n""}]",0,510032,d906f472d08d20644d16a05f2d4a5fa28a7e5c99,6,3,1,6773,,,0,"Workaround for rally job: Disable metadata for the rally job

To unblock the gate, this patch is disabling the metadata service in the
rally job. The problem is reproduceable locally so let's continue to
debug in our environment and keep the gate going.

Change-Id: I2c7c7e20a41d1f52424f51216fe843ee525ee7b6
Partial-Bug: #1721480
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/32/510032/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/devstackgaterc'],1,d906f472d08d20644d16a05f2d4a5fa28a7e5c99,bug/1721480,"# FIXME(lucasagomes): Remove the rally conditional when # https://bugs.launchpad.net/networking-ovn/+bug/1721480 is fixed! if [[ ""${OVN_OPTS}"" != *""latest-release""* ]] && [[ ""${PROJECTS}"" != *""openstack/rally""* ]] ; then","if [[ ""${OVN_OPTS}"" != *""latest-release""* ]] ; then",3,1
openstack%2Fcinder~master~I387d260d9355e3facfe005bc76138d53ce2f265a,openstack/cinder,master,I387d260d9355e3facfe005bc76138d53ce2f265a,Fix a typo,ABANDONED,2017-05-18 06:35:10.000000000,2017-10-06 13:55:40.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23317}, {'_account_id': 23613}, {'_account_id': 24241}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-05-18 06:35:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a912825ca3724cc8d9c5825d906f06fb62e45043', 'message': ""[Fix a typo]\nreplace the wrong word 'Unkown' in line 14 and line 186 with the right word 'Unknown'\n\nChange-Id: I387d260d9355e3facfe005bc76138d53ce2f265a\n""}, {'number': 2, 'created': '2017-05-18 08:11:49.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/466a50fe2fafd509faabdac7ab2c9f26aece493c', 'message': ""Fix a typo\n\nFix the wrong word 'Unkown' in line 14 and line 186\n\nChange-Id: I387d260d9355e3facfe005bc76138d53ce2f265a\n""}]",3,465832,466a50fe2fafd509faabdac7ab2c9f26aece493c,54,36,2,23317,,,0,"Fix a typo

Fix the wrong word 'Unkown' in line 14 and line 186

Change-Id: I387d260d9355e3facfe005bc76138d53ce2f265a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/465832/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/dell_emc/vnx/mocked_vnx.yaml'],1,a912825ca3724cc8d9c5825d906f06fb62e45043,,# GetLunError: Unknown Error # method raise exception VNXCreateLunError: Unknown Error,# GetLunError: Unkown Error # method raise exception VNXCreateLunError: Unkown Error,2,2
openstack%2Fceilometer~master~I8e07f5d657696d850d04c7a6b65ae11c4030f836,openstack/ceilometer,master,I8e07f5d657696d850d04c7a6b65ae11c4030f836,Cleanup test-requirements,MERGED,2017-10-06 09:42:09.000000000,2017-10-06 13:51:41.000000000,2017-10-06 13:51:41.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-10-06 09:42:09.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/faa626223f14a0fc1bcd79676f42cba4ffbc2169', 'message': 'Cleanup test-requirements\n\npython-subunit is not used directly anywhere\nand it is dependency of both testrepository\nand os-testr.\n\nChange-Id: I8e07f5d657696d850d04c7a6b65ae11c4030f836\n'}]",0,510037,faa626223f14a0fc1bcd79676f42cba4ffbc2169,7,3,1,19554,,,0,"Cleanup test-requirements

python-subunit is not used directly anywhere
and it is dependency of both testrepository
and os-testr.

Change-Id: I8e07f5d657696d850d04c7a6b65ae11c4030f836
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/37/510037/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,faa626223f14a0fc1bcd79676f42cba4ffbc2169,update-requirement,,python-subunit>=0.0.18 # Apache-2.0/BSD,0,1
openstack%2Ftripleo-specs~master~Ibfae873b54d5bf89f4c3626f64c4c19790601fd1,openstack/tripleo-specs,master,Ibfae873b54d5bf89f4c3626f64c4c19790601fd1,Add Rocky spec directory,MERGED,2017-10-05 20:21:07.000000000,2017-10-06 13:51:35.000000000,2017-10-06 13:51:35.000000000,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 6928}]","[{'number': 1, 'created': '2017-10-05 20:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/0c98bcc37bd928d72135a9051d22a2336e2b080c', 'message': ""Add Rocky spec directory\n\nSo we don't end up with a bunch of specs trying to do this later, let's\ncreate this index now.\n\nChange-Id: Ibfae873b54d5bf89f4c3626f64c4c19790601fd1\n""}, {'number': 2, 'created': '2017-10-05 21:56:38.000000000', 'files': ['doc/source/index.rst', 'specs/rocky/0-placeholder.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/9b7e60d637f7ecad942a1805b14e375d24d001e7', 'message': ""Add Rocky spec directory\n\nSo we don't end up with a bunch of specs trying to do this later, let's\ncreate this index now.\n\nChange-Id: Ibfae873b54d5bf89f4c3626f64c4c19790601fd1\n""}]",0,509895,9b7e60d637f7ecad942a1805b14e375d24d001e7,9,3,2,14985,,,0,"Add Rocky spec directory

So we don't end up with a bunch of specs trying to do this later, let's
create this index now.

Change-Id: Ibfae873b54d5bf89f4c3626f64c4c19790601fd1
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/95/509895/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,0c98bcc37bd928d72135a9051d22a2336e2b080c,rocky,Rocky Approved Specs: .. toctree:: :glob: :maxdepth: 1 specs/rocky/* ,,8,0
openstack%2Fpython-tripleoclient~master~Ie99cda570c017b2ebf678499f31f41a16dac9b44,openstack/python-tripleoclient,master,Ie99cda570c017b2ebf678499f31f41a16dac9b44,Make docker.yaml and docker-ha.yaml default to overcloud deploy,ABANDONED,2017-09-26 06:45:10.000000000,2017-10-06 13:35:44.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-09-26 06:45:10.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/114a31916ea15c81ff4724402cc4035a8ca1d9b4', 'message': 'Make docker.yaml and docker-ha.yaml default to overcloud deploy\n\nCurrently when deploying a containers environment with pacemaker\nenabled we need to pass docker.yaml and docker-ha.yaml environment\nfiles to the overcloud deploy command. Since the deployment should be\ncontainerized by default I propose to include these environments files\nby default and not require the user to specifically pass them to the\ndeploy command. Having to pass many environment files can become\nconfusing for the user.\n\nChange-Id: Ie99cda570c017b2ebf678499f31f41a16dac9b44\nCloses-Bug: #1701532\n'}]",0,507374,114a31916ea15c81ff4724402cc4035a8ca1d9b4,4,1,1,20866,,,0,"Make docker.yaml and docker-ha.yaml default to overcloud deploy

Currently when deploying a containers environment with pacemaker
enabled we need to pass docker.yaml and docker-ha.yaml environment
files to the overcloud deploy command. Since the deployment should be
containerized by default I propose to include these environments files
by default and not require the user to specifically pass them to the
deploy command. Having to pass many environment files can become
confusing for the user.

Change-Id: Ie99cda570c017b2ebf678499f31f41a16dac9b44
Closes-Bug: #1701532
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/74/507374/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/constants.py', 'tripleoclient/v1/overcloud_deploy.py']",2,114a31916ea15c81ff4724402cc4035a8ca1d9b4,bug/1701532," default=[constants.DOCKER_ENV_FILE, constants.HA_ENV_FILE],",,3,0
openstack%2Fnetworking-ovn~master~I05a16523bf17c617b3495561d27b639dd9631cac,openstack/networking-ovn,master,I05a16523bf17c617b3495561d27b639dd9631cac,[TEST DON'T MERGE] Make Metadata agent independent from other config files,ABANDONED,2017-08-07 15:48:46.000000000,2017-10-06 13:33:37.000000000,,"[{'_account_id': 3}, {'_account_id': 1561}, {'_account_id': 23804}]","[{'number': 1, 'created': '2017-08-07 15:48:46.000000000', 'files': ['devstack/lib/networking-ovn'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a96cad7d8de74449b9cdbc32c73d59fe7036c497', 'message': ""[TEST DON'T MERGE] Make Metadata agent independent from other config files\n\nRight now we're starting metadata agent passing in neutron and ml2\nconfig files. In multinode environments we can't assume that those\nfiles will be present in compute nodes so this patch is adding the\nnecessary parameters to metadata config file so that it doesn't\ndepend on any more files.\n\nChange-Id: I05a16523bf17c617b3495561d27b639dd9631cac\n""}]",0,491527,a96cad7d8de74449b9cdbc32c73d59fe7036c497,4,3,1,8788,,,0,"[TEST DON'T MERGE] Make Metadata agent independent from other config files

Right now we're starting metadata agent passing in neutron and ml2
config files. In multinode environments we can't assume that those
files will be present in compute nodes so this patch is adding the
necessary parameters to metadata config file so that it doesn't
depend on any more files.

Change-Id: I05a16523bf17c617b3495561d27b639dd9631cac
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/27/491527/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/networking-ovn'],1,a96cad7d8de74449b9cdbc32c73d59fe7036c497,," configure_neutron_rootwrap iniset $OVN_META_CONF DEFAULT state_path $NEUTRON_STATE_PATH iniset $OVN_META_CONF agent root_helper_daemon ""$NEUTRON_ROOTWRAP_DAEMON_CMD"" iniset $OVN_META_CONF ovn ovn_sb_connection $OVN_SB_REMOTE run_process networking-ovn-metadata-agent ""$NETWORKING_OVN_BIN_DIR/$NETWORKING_OVN_METADATA_BINARY --config-file $OVN_META_CONF"""," run_process networking-ovn-metadata-agent ""$NETWORKING_OVN_BIN_DIR/$NETWORKING_OVN_METADATA_BINARY --config-file $NEUTRON_CONF --config-file $Q_PLUGIN_CONF_FILE --config-file $OVN_META_CONF""",6,1
openstack%2Fglance-specs~master~I6a7ed31d5fae677cbbc9a6f6053f79d3e9326561,openstack/glance-specs,master,I6a7ed31d5fae677cbbc9a6f6053f79d3e9326561,Inject metadata properties automatically to non-admin images,MERGED,2017-09-12 22:27:49.000000000,2017-10-06 13:32:20.000000000,2017-10-06 13:32:20.000000000,"[{'_account_id': 3}, {'_account_id': 1011}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-12 22:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/49122dfe25c446904dd5c62a610da2df0a5d7d3b', 'message': 'Inject metadata properties automatically to non-admin images\n\nThe operator wants user based images to be launched on certain\nset of compute nodes (host aggregate groups) based on image\nmetadata properties.\n\nChange-Id: I6a7ed31d5fae677cbbc9a6f6053f79d3e9326561\nImplements: inject-automatic-metadata\n'}, {'number': 2, 'created': '2017-09-25 09:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/f5e35c0d32d1efaa4c8cc6a681270b262e174bab', 'message': 'Inject metadata properties automatically to non-admin images\n\nThe operator wants user based images to be launched on certain\nset of compute nodes (host aggregate groups) based on image\nmetadata properties.\n\nChange-Id: I6a7ed31d5fae677cbbc9a6f6053f79d3e9326561\nImplements: inject-automatic-metadata\n'}, {'number': 3, 'created': '2017-09-27 10:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/702db3a15bff718a985898d00bda99daa7edb09c', 'message': 'Inject metadata properties automatically to non-admin images\n\nThe operator wants user based images to be launched on certain\nset of compute nodes (host aggregate groups) based on image\nmetadata properties.\n\nChange-Id: I6a7ed31d5fae677cbbc9a6f6053f79d3e9326561\nImplements: inject-automatic-metadata\n'}, {'number': 4, 'created': '2017-10-05 08:32:24.000000000', 'files': ['specs/queens/approved/glance/inject-automatic-metadata.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/1549f4a0dceaacffe791019996e66568073c2a62', 'message': 'Inject metadata properties automatically to non-admin images\n\nThe operator wants user based images to be launched on certain\nset of compute nodes (host aggregate groups) based on image\nmetadata properties.\n\nChange-Id: I6a7ed31d5fae677cbbc9a6f6053f79d3e9326561\nImplements: inject-automatic-metadata\n'}]",49,503443,1549f4a0dceaacffe791019996e66568073c2a62,25,6,4,9303,,,0,"Inject metadata properties automatically to non-admin images

The operator wants user based images to be launched on certain
set of compute nodes (host aggregate groups) based on image
metadata properties.

Change-Id: I6a7ed31d5fae677cbbc9a6f6053f79d3e9326561
Implements: inject-automatic-metadata
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/43/503443/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/approved/glance/inject-automatic-metadata.rst'],1,49122dfe25c446904dd5c62a610da2df0a5d7d3b,specs/inject-automatic-metadata,"============================================================ Inject metadata properties automatically to non-admin images ============================================================ https://blueprints.launchpad.net/glance/+spec/inject-automatic-metadata Cloud operator wants to launch a VM based on certain image metadata properties on different compute nodes. Problem description =================== The operator provides public images to the users and users can also add their own images in glance and use these images to launch VMs. As an operator, all images provided by an operator should be launched on a specific set of compute nodes whereas images that are created by non-admin users should be launched on other set of compute nodes. The decision to launch VMs on certain compute nodes will be decided based on image metadata. When an operator will create images, they can specify certain image metadata which will be used by placement api or scheduler service to decide where the vm should be launched but if user creates image, there is no way user will know what image metadata properties to set and hence in the present placement api and scheduler logic, it is possible to launch a VM on any compute nodes. This is a big problem. Use Case: --------- The operator wants user based images to be launched on certain set of compute nodes (host aggregate groups) based on image metadata properties. Proposed change =============== Make a provision to inject image metadata to non-admin images while adding image to glance backend with the help of property protection. We are planning to introduce two new config options to achieve the same. 1) 'can_inject_automatic_metadata' by default set to False. 2) 'inject_image_metadata_properties' defaults to None. 'inject_image_metadata_properties' config option will consist of comma separated set of image metadata which an operator wants to add to the newly created images if 'can_inject_automatic_metadata' is set to True. If 'can_inject_automatic_metadata' is set to True and 'inject_image_metadata_properties' doesn't contain any metadata properties defined, then no metadata will be injected to the non-admin images during image creation. We will use property protection so that non-admin user won't be able to add, update or delete the injected metadata properties automatically. Non-admin users however will be able to view these metadata properties. For example if 'inject_image_metadata_properties' is set to 'test_key=test_value' then in property_protections.conf file, an operator needs to restrict write and delete access for 'test_key' to non-admin users as described below: [test_key] create = admin read = admin,member,_member_ update = admin delete = admin In glance, users can create images using two ways. 1) create image API 2) Import image API In case of create image API, metadata will be injected before image goes into active state where as in case of import image API, as it uses taskflow, an additional task 'InjectMetadata' will be created to inject the metadata. If 'can_inject_automatic_metadata' property is set to True, then only 'InjectMetadata' will be part of the tasks, otherwise it will be simply ignored. Note: There is a restriction on how many image metadata properties an user can set to a image which is configurable using 'image_property_quota' config option. If it's value is 128 and say, if 'inject_image_metadata_properties' config option count is 3, then user would be able to add only 125 metadata items by themselves and remaining 3 will be injected automatically. If user tries to add more than 125 metadata items during create image API, then it will return 400 error and in case of import image api call the task will marked as failed with appropriate failure message. Alternatives ------------ Alternative approach is to enable notifications for glance and then have a process which will continuously listen for 'image create' notifications and inject the metadata to the image only in case if image is created by non-admin users. Data model impact ----------------- None REST API impact --------------- If non-admin user tries to add properties defined in 'inject_image_metadata_properties' while creating the image then create and import api will return 403 Forbidden response to the user. Security impact --------------- None Notifications impact -------------------- Need to add a notification to notify that metadata is injected to non-admin images. Other end user impact --------------------- None Performance Impact ------------------ There is a limit on having additional image metadata properties which defaults to 128. This is configurable using 'image_property_quota' option. If an operator sets this limit to higher value and more metadata properties are injected, then it will impact performance during listing or fetching image(s). Other deployer impact --------------------- Administrator need to set 'can_inject_automatic_metadata' and 'inject_image_metadata_properties' config options if metadata properties to be injected for new images for non-admin users. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: <abhishek-kekane> Other contributors: None Reviewers --------- Core reviewer(s): Erno Kuvaja, Brian Rosmaita Other reviewer(s): None Work Items ---------- - Add two new config options - Modify create image call to inject metadata - Add 'InjectMetadata' task for import call - Add unit tests for coverage Dependencies ============ None Testing ======= Tempest tests will be added to verify that metadata will be injected for non-admin images only. Documentation Impact ==================== Please refer to 'Other deployer impact' References ========== None ",,186,0
openstack%2Fneutron-lib~master~I047ff3e17c19fc80a47d3c73ee955103a71d2b30,openstack/neutron-lib,master,I047ff3e17c19fc80a47d3c73ee955103a71d2b30,revert get_random_mac behavior from review 400408,MERGED,2017-10-05 17:00:20.000000000,2017-10-06 13:14:36.000000000,2017-10-06 13:14:36.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 5367}]","[{'number': 1, 'created': '2017-10-05 17:00:20.000000000', 'files': ['neutron_lib/utils/net.py', 'releasenotes/notes/revert-review-400408-4999a9159689c0c5.yaml', 'neutron_lib/tests/unit/utils/test_net.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5deda57e17546cd14eb07f2bb1fae4b4ab4e8d67', 'message': 'revert get_random_mac behavior from review 400408\n\nCommit If2539f94b5479f0d6afa64c973082cbe8c5309ac made get_random_mac\nmore versatile. However, in the process it introduced incompatibilities\nwith the current behavior of randomizing mac as outlined in the\nrespective bug report.\n\nThis patch reverts the logic of get_random_mac back to its original\nbehavior for backwards compatibility as we suspect no one is relying\non the new behavior from If2539f94b5479f0d6afa64c973082cbe8c5309ac.\n\nChange-Id: I047ff3e17c19fc80a47d3c73ee955103a71d2b30\nCloses-Bug: #1720046\n'}]",0,509836,5deda57e17546cd14eb07f2bb1fae4b4ab4e8d67,13,4,1,5367,,,0,"revert get_random_mac behavior from review 400408

Commit If2539f94b5479f0d6afa64c973082cbe8c5309ac made get_random_mac
more versatile. However, in the process it introduced incompatibilities
with the current behavior of randomizing mac as outlined in the
respective bug report.

This patch reverts the logic of get_random_mac back to its original
behavior for backwards compatibility as we suspect no one is relying
on the new behavior from If2539f94b5479f0d6afa64c973082cbe8c5309ac.

Change-Id: I047ff3e17c19fc80a47d3c73ee955103a71d2b30
Closes-Bug: #1720046
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/36/509836/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/utils/net.py', 'releasenotes/notes/revert-review-400408-4999a9159689c0c5.yaml', 'neutron_lib/tests/unit/utils/test_net.py']",3,5deda57e17546cd14eb07f2bb1fae4b4ab4e8d67,bug/1720046," @mock.patch.object(random, 'randint', return_value=0xa2) def test_first_4_octets_unchanged(self, mock_rnd): mac = net.get_random_mac(['aa', 'bb', '00', 'dd', 'ee', 'ff']) self.assertEqual('aa:bb:00:dd:a2:a2', mac) def test_first_4th_octet_generated(self, mock_rnd): mac = net.get_random_mac(['aa', 'bb', 'cc', '00', 'ee', 'ff']) self.assertEqual('aa:bb:cc:a2:a2:a2', mac)"," def test_full_prefix_does_nothing(self): mac = net.get_random_mac(['aa', 'bb', 'cc', 'dd', 'ee', 'ff']) self.assertEqual('aa:bb:cc:dd:ee:ff', mac) @mock.patch.object(random, 'randint', side_effect=[0x11]) def test_5_octets_prefix_replaces_1_part(self, mock_rnd): mac = net.get_random_mac(['aa', 'bb', 'cc', 'dd', 'ee', '00']) self.assertEqual('aa:bb:cc:dd:ee:11', mac) mock_rnd.assert_called_with(0x00, 0xff) @mock.patch.object(random, 'randint', side_effect=[0x01, 0x02, 0x03, 0x04, 0x05]) def test_1_octets_prefix_replaces_5_parts(self, mock_rnd): mac = net.get_random_mac(['aa', '00', '00', '00', '00', '00']) self.assertEqual('aa:01:02:03:04:05', mac) def test_no_prefix_replaces_all_parts(self, mock_rnd): mac = net.get_random_mac(['00', '00', '00', '00', '00', '00']) self.assertEqual('a2:a2:a2:a2:a2:a2', mac) ",21,30
openstack%2Fironic-inspector~master~I20bc537605062900d00fcc0343172774c1cd1363,openstack/ironic-inspector,master,I20bc537605062900d00fcc0343172774c1cd1363,Properly init config in unit tests,MERGED,2017-10-02 17:05:26.000000000,2017-10-06 13:07:00.000000000,2017-10-06 13:06:59.000000000,"[{'_account_id': 3}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 17:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ac6f837f29c70f43dd837e83799be6be4cb43a5b', 'message': ""Properly init config in unit tests\n\nupcoming policy-related changes need a properly initialized\nglobal oslo_config's CONF instance, which inspector's unit tests\ncurrently lack.\n\nAs a side effect of implementing this, the 'dbsync' module was\nchanged to not register it's CLI options right on its import.\n\nAlso. setting default log levels was moved to a function which\nis already registered as the one providing defaults to options\nin oslo_config's entrypoints.\n\nChange-Id: I20bc537605062900d00fcc0343172774c1cd1363\n""}, {'number': 2, 'created': '2017-10-06 08:31:50.000000000', 'files': ['ironic_inspector/test/base.py', 'ironic_inspector/conf.py', 'ironic_inspector/dbsync.py', 'example.conf', 'ironic_inspector/common/service_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a65a2ee5d21ec182813672bf6a6f0c05a31fb02e', 'message': ""Properly init config in unit tests\n\nupcoming policy-related changes need a properly initialized\nglobal oslo_config's CONF instance, which inspector's unit tests\ncurrently lack.\n\nAs a side effect of implementing this, the 'dbsync' module was\nchanged to not register it's CLI options right on its import.\n\nAlso, setting default log levels was moved to a function which\nis already registered as the one providing defaults to options\nin oslo_config's entrypoints. Config sample is updated accordingly.\n\nChange-Id: I20bc537605062900d00fcc0343172774c1cd1363\n""}]",3,508943,a65a2ee5d21ec182813672bf6a6f0c05a31fb02e,13,5,2,9542,,,0,"Properly init config in unit tests

upcoming policy-related changes need a properly initialized
global oslo_config's CONF instance, which inspector's unit tests
currently lack.

As a side effect of implementing this, the 'dbsync' module was
changed to not register it's CLI options right on its import.

Also, setting default log levels was moved to a function which
is already registered as the one providing defaults to options
in oslo_config's entrypoints. Config sample is updated accordingly.

Change-Id: I20bc537605062900d00fcc0343172774c1cd1363
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/43/508943/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/base.py', 'ironic_inspector/conf.py', 'ironic_inspector/dbsync.py', 'ironic_inspector/common/service_utils.py']",4,ac6f837f29c70f43dd837e83799be6be4cb43a5b,tests-init-conf,from ironic_inspector import confCONF = conf.cfg.CONF def prepare_service(args=None): args = [] if args is None else args conf.set_config_defaults() conf.parse_args(args),"from oslo_config import cfgCONF = cfg.CONF def prepare_service(args): log.set_defaults(default_log_levels=['sqlalchemy=WARNING', 'iso8601=WARNING', 'requests=WARNING', 'urllib3.connectionpool=WARNING', 'keystonemiddleware=WARNING', 'swiftclient=WARNING', 'keystoneauth=WARNING', 'ironicclient=WARNING']) CONF(args, project='ironic-inspector')",28,18
openstack%2Foslo.messaging~master~I9fdfca8af574bfbb6312468d53fb72e183cccdd9,openstack/oslo.messaging,master,I9fdfca8af574bfbb6312468d53fb72e183cccdd9,Fix tox-based functional tests,ABANDONED,2017-10-03 16:09:41.000000000,2017-10-06 13:02:38.000000000,,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 8770}, {'_account_id': 20523}]","[{'number': 1, 'created': '2017-10-03 16:09:41.000000000', 'files': ['bindep.txt', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/05e68f51efb994a2be68303344805a2b4bcb1e63', 'message': ""Fix tox-based functional tests\n\nIn Zuulv2 the test-setup.sh determined the test profile from the\ntest's name.  For now install all profiles until we can complete port\nto Zuulv3.\n\nChange-Id: I9fdfca8af574bfbb6312468d53fb72e183cccdd9\n""}]",0,509216,05e68f51efb994a2be68303344805a2b4bcb1e63,5,4,1,8770,,,0,"Fix tox-based functional tests

In Zuulv2 the test-setup.sh determined the test profile from the
test's name.  For now install all profiles until we can complete port
to Zuulv3.

Change-Id: I9fdfca8af574bfbb6312468d53fb72e183cccdd9
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/16/509216/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tools/test-setup.sh']",2,05e68f51efb994a2be68303344805a2b4bcb1e63,zuulv3-tox,"# TODO(kgiusti) for now install all profile deps, need to fix this to # install only the deps needed by the particular test's profile PROFILES=""rabbit zmq amqp1"" PACKAGES= for PROFILE in $PROFILES; do # NOTE(sileht): bindep return 1 if some packages have to be installed PACKAGES=""$PACKAGES $(.tox/bindep/bin/bindep -b -f bindep.txt $PROFILE || true)"" done [ -n ""$PACKAGES"" ] || exit 0 sudo add-apt-repository -y ppa:qpid/testing","# Looks like /home/jenkins/worspace/gate-oslo.messaging-tox-py27-func-rabbit-ubuntu-xenial JOB_NAME=${WORKSPACE##*/} if [ ""${JOB_NAME//gate-oslo.messaging-tox-py*-func-/}"" == ""${JOB_NAME}"" ]; then # not a functional test exit 0 fi # NOTE(sileht): bindep return 1 if some packages have to be installed BINDEP_PROFILE=$(echo $JOB_NAME | cut -d- -f6) PACKAGES=$(.tox/bindep/bin/bindep -b -f bindep.txt $BINDEP_PROFILE || true) [ $BINDEP_PROFILE == amqp1 ] && sudo add-apt-repository -y ppa:qpid/testing",11,13
openstack%2Fkeystone~master~I630bbeb2ce1ab115736820270d85c12959908022,openstack/keystone,master,I630bbeb2ce1ab115736820270d85c12959908022,Remove the v2_deprecated decorator,MERGED,2017-08-31 20:16:16.000000000,2017-10-06 12:58:09.000000000,2017-10-06 12:58:09.000000000,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-31 20:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/107565071b4779ae146981c1f00cc4efb1148d12', 'message': ""Remove the v2_deprecated decorator\n\nWe've removed all APIs that were using this decorator so we can\nremove it now.\n\nChange-Id: I630bbeb2ce1ab115736820270d85c12959908022\n""}, {'number': 2, 'created': '2017-08-31 20:18:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8efaf8d670a95c129791c5921aff124455829a29', 'message': ""Remove the v2_deprecated decorator\n\nWe've removed all APIs that were using this decorator so we can\nremove it now.\n\nChange-Id: I630bbeb2ce1ab115736820270d85c12959908022\n""}, {'number': 3, 'created': '2017-08-31 22:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0fbf042f85d6ed2b7981dddad23eea931a3cb220', 'message': ""Remove the v2_deprecated decorator\n\nWe've removed all APIs that were using this decorator so we can\nremove it now.\n\nChange-Id: I630bbeb2ce1ab115736820270d85c12959908022\n""}, {'number': 4, 'created': '2017-09-01 14:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/06a2cf21d0a10225103a5424dab73407d8e93fde', 'message': ""Remove the v2_deprecated decorator\n\nWe've removed all APIs that were using this decorator so we can\nremove it now.\n\nChange-Id: I630bbeb2ce1ab115736820270d85c12959908022\n""}, {'number': 5, 'created': '2017-09-30 00:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8b67463d0ecd073ec194fe8de81c1519a51a0906', 'message': ""Remove the v2_deprecated decorator\n\nWe've removed all APIs that were using this decorator so we can\nremove it now.\n\nChange-Id: I630bbeb2ce1ab115736820270d85c12959908022\n""}, {'number': 6, 'created': '2017-10-05 16:13:07.000000000', 'files': ['keystone/common/controller.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e58d6301753826e9bb1de64c42e3712a9af8ea8c', 'message': ""Remove the v2_deprecated decorator\n\nWe've removed all APIs that were using this decorator so we can\nremove it now.\n\nChange-Id: I630bbeb2ce1ab115736820270d85c12959908022\n""}]",0,499785,e58d6301753826e9bb1de64c42e3712a9af8ea8c,29,8,6,5046,,,0,"Remove the v2_deprecated decorator

We've removed all APIs that were using this decorator so we can
remove it now.

Change-Id: I630bbeb2ce1ab115736820270d85c12959908022
",git fetch https://review.opendev.org/openstack/keystone refs/changes/85/499785/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/common/controller.py'],1,107565071b4779ae146981c1f00cc4efb1148d12,bp/removed-as-of-queens,,"def v2_deprecated(f): @six.wraps(f) def wrapper(*args, **kwargs): deprecated = versionutils.deprecated( what=f.__name__ + ' of the v2 API', as_of=versionutils.deprecated.MITAKA, in_favor_of='a similar function in the v3 API', remove_in=+4) return deprecated(f) return wrapper() ",0,12
openstack%2Fpython-aodhclient~master~Ida7802a081a0154429f073cefa2636af3d6582eb,openstack/python-aodhclient,master,Ida7802a081a0154429f073cefa2636af3d6582eb,doc: remove mention of combination alarms,MERGED,2017-10-06 12:30:45.000000000,2017-10-06 12:56:17.000000000,2017-10-06 12:56:17.000000000,"[{'_account_id': 3}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-10-06 12:30:45.000000000', 'files': ['doc/source/shell.rst'], 'web_link': 'https://opendev.org/openstack/python-aodhclient/commit/db01f38d583ffb2e49c23ae6d3cbb70518b9e188', 'message': 'doc: remove mention of combination alarms\n\nThey have been removed from Aodh anyway.\n\nChange-Id: Ida7802a081a0154429f073cefa2636af3d6582eb\n'}]",0,510088,db01f38d583ffb2e49c23ae6d3cbb70518b9e188,6,2,1,1669,,,0,"doc: remove mention of combination alarms

They have been removed from Aodh anyway.

Change-Id: Ida7802a081a0154429f073cefa2636af3d6582eb
",git fetch https://review.opendev.org/openstack/python-aodhclient refs/changes/88/510088/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/shell.rst'],1,db01f38d583ffb2e49c23ae6d3cbb70518b9e188,doc-remove-combination,from the command line. It supports the entirety of the Aodh API.,from the command line. It supports the entirety of the Aodh API excluding deprecated combination alarms.,1,2
openstack%2Fkolla-ansible~master~I5bbd20a390f385a60ff2f330cc8fa7fb1117a42a,openstack/kolla-ansible,master,I5bbd20a390f385a60ff2f330cc8fa7fb1117a42a,Add Barbican section in Nova and Cinder to use disk encryption,MERGED,2017-10-04 16:09:57.000000000,2017-10-06 12:53:29.000000000,2017-10-06 12:53:28.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 13671}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 16:09:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c91416c1f2d0f63b938b5a58b171fc20d82ebade', 'message': 'Add Barbican section in Nova and Cinder to use disk encryption\n\nChange-Id: I5bbd20a390f385a60ff2f330cc8fa7fb1117a42a\nCloses-Bug: #1721292\n'}, {'number': 2, 'created': '2017-10-04 16:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5f77a6d8978d5199199762658e3cea3bd8367bfa', 'message': 'Add Barbican section in Nova and Cinder to use disk encryption\n\nChange-Id: I5bbd20a390f385a60ff2f330cc8fa7fb1117a42a\nCloses-Bug: #1721292\n'}, {'number': 3, 'created': '2017-10-05 09:51:20.000000000', 'files': ['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7c448f39c217b14ccd6eb459e1be8ef3f5b31818', 'message': 'Add Barbican section in Nova and Cinder to use disk encryption\n\nChange-Id: I5bbd20a390f385a60ff2f330cc8fa7fb1117a42a\nCloses-Bug: #1721292\n'}]",2,509529,7c448f39c217b14ccd6eb459e1be8ef3f5b31818,15,5,3,13671,,,0,"Add Barbican section in Nova and Cinder to use disk encryption

Change-Id: I5bbd20a390f385a60ff2f330cc8fa7fb1117a42a
Closes-Bug: #1721292
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/29/509529/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2']",2,c91416c1f2d0f63b938b5a58b171fc20d82ebade,bug/1721292, {% if enable_barbican | bool %} [barbican] barbican_endpoint = {{ internal_protocol }}://{{ kolla_internal_fqdn }}::{{ barbican_api_port }} auth_endpoint = {{ internal_protocol }}://{{ kolla_internal_fqdn }}:{{ keystone_public_port }}/v3 {% endif %},,12,0
openstack%2Fpuppet-tripleo~master~I0dd06e953b4c81f217d0f4199b2337e4c3358086,openstack/puppet-tripleo,master,I0dd06e953b4c81f217d0f4199b2337e4c3358086,Set meta container-attribute-target=host attribute,MERGED,2017-08-25 08:24:55.000000000,2017-10-06 12:44:16.000000000,2017-10-05 06:15:00.000000000,"[{'_account_id': 3}, {'_account_id': 6449}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 10873}, {'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-25 08:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a8260aca587ddf75e0f9d0e0a8efeb74f8359136', 'message': 'WIP DNR Set meta container-attribute-target=host attribute\n\nThis is needed because when we run bundles we actually\nwant to store attributes on a per-node basis and not on a per-bundle\nbasis. By activating this attribute pacemaker will pass\nsome extra OCS_RESKEY_CRM_meta attributes that will help us in this\ndecision.\n\nChange-Id: I0dd06e953b4c81f217d0f4199b2337e4c3358086\n'}, {'number': 2, 'created': '2017-09-20 14:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d28d2cfa6022fd53eec5fcf5176c941bb77cf345', 'message': 'WIP DNR Set meta container-attribute-target=host attribute\n\nThis is needed because when we run bundles we actually\nwant to store attributes on a per-node basis and not on a per-bundle\nbasis. By activating this attribute pacemaker will pass\nsome extra OCS_RESKEY_CRM_meta attributes that will help us in this\ndecision.\n\nWe can merge this once we have packages for pacemaker and\nresource-agents releases that contain the necessary fixes.\n\nCloses-Bug: #1713007\n\nChange-Id: I0dd06e953b4c81f217d0f4199b2337e4c3358086\n'}, {'number': 3, 'created': '2017-09-28 12:06:54.000000000', 'files': ['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6bcb011723ad7b75f18914c887dc4fa4bad4d620', 'message': 'Set meta container-attribute-target=host attribute\n\nThis is needed because when we run bundles we actually\nwant to store attributes on a per-node basis and not on a per-bundle\nbasis. By activating this attribute pacemaker will pass\nsome extra OCS_RESKEY_CRM_meta attributes that will help us in this\ndecision.\n\nWe can merge this once we have packages for pacemaker and\nresource-agents releases that contain the necessary fixes.\n\nProper pacemaker and resource-agents are now in the repo [1] so\nwe can merge it and backport it to pike.\n\n[1] https://buildlogs.centos.org/centos/7/cloud/x86_64/openstack-pike/\n\nCloses-Bug: #1713007\n\nChange-Id: I0dd06e953b4c81f217d0f4199b2337e4c3358086\n'}]",1,497766,6bcb011723ad7b75f18914c887dc4fa4bad4d620,54,9,3,20172,,,0,"Set meta container-attribute-target=host attribute

This is needed because when we run bundles we actually
want to store attributes on a per-node basis and not on a per-bundle
basis. By activating this attribute pacemaker will pass
some extra OCS_RESKEY_CRM_meta attributes that will help us in this
decision.

We can merge this once we have packages for pacemaker and
resource-agents releases that contain the necessary fixes.

Proper pacemaker and resource-agents are now in the repo [1] so
we can merge it and backport it to pike.

[1] https://buildlogs.centos.org/centos/7/cloud/x86_64/openstack-pike/

Closes-Bug: #1713007

Change-Id: I0dd06e953b4c81f217d0f4199b2337e4c3358086
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/66/497766/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp']",4,a8260aca587ddf75e0f9d0e0a8efeb74f8359136,host-attributes," meta_params => 'notify=true container-attribute-target=host',"," meta_params => 'notify=true',",4,4
openstack%2Fironic-inspector~master~I7b87a52b8d573d384e8c30b5122122609d60a1fc,openstack/ironic-inspector,master,I7b87a52b8d573d384e8c30b5122122609d60a1fc,Remove SCREEN_LOGDIR from devstack,MERGED,2017-10-06 01:38:29.000000000,2017-10-06 12:41:39.000000000,2017-10-06 12:41:39.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 13636}]","[{'number': 1, 'created': '2017-10-06 01:38:29.000000000', 'files': ['devstack/example.local.conf'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/02f38aa16fc7dd4aeb9ea1265c1e4f333e721c50', 'message': 'Remove SCREEN_LOGDIR from devstack\n\nSCREEN_LOGDIR has already been deprecated [1]\n[1] https://review.openstack.org/#/c/499186\n\nChange-Id: I7b87a52b8d573d384e8c30b5122122609d60a1fc\n'}]",0,509948,02f38aa16fc7dd4aeb9ea1265c1e4f333e721c50,7,3,1,25903,,,0,"Remove SCREEN_LOGDIR from devstack

SCREEN_LOGDIR has already been deprecated [1]
[1] https://review.openstack.org/#/c/499186

Change-Id: I7b87a52b8d573d384e8c30b5122122609d60a1fc
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/48/509948/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/example.local.conf'],1,02f38aa16fc7dd4aeb9ea1265c1e4f333e721c50,screen_logdir,,SCREEN_LOGDIR=$HOME/logs/screen,0,1
openstack%2Fironic-inspector~master~I62b94932b06ce48450200ba353dd02b0d12a113f,openstack/ironic-inspector,master,I62b94932b06ce48450200ba353dd02b0d12a113f,Make starting state non-reentrant,MERGED,2017-10-05 11:07:25.000000000,2017-10-06 12:41:33.000000000,2017-10-06 12:41:33.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 11:07:25.000000000', 'files': ['ironic_inspector/introspection_state.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/35f2d8c68ff7fd0b78d1e002052d10a0420cb337', 'message': 'Make starting state non-reentrant\n\nTo avoid multiple racing calls to start node introspection.\nA node is anyways locked by ironic during the reboot request.\n\nChange-Id: I62b94932b06ce48450200ba353dd02b0d12a113f\nCloses-Bug: #1721512\n'}]",0,509754,35f2d8c68ff7fd0b78d1e002052d10a0420cb337,8,4,1,18653,,,0,"Make starting state non-reentrant

To avoid multiple racing calls to start node introspection.
A node is anyways locked by ironic during the reboot request.

Change-Id: I62b94932b06ce48450200ba353dd02b0d12a113f
Closes-Bug: #1721512
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/54/509754/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/introspection_state.py'],1,35f2d8c68ff7fd0b78d1e002052d10a0420cb337,bug/1721512,," Events.start: States.starting,",0,1
openstack%2Fopenstack-ansible-lxc_container_create~master~Id20b1b1eaeaad8ceb217ec82aac8053f9326094d,openstack/openstack-ansible-lxc_container_create,master,Id20b1b1eaeaad8ceb217ec82aac8053f9326094d,Add machinectl backend store options,MERGED,2017-09-06 01:43:10.000000000,2017-10-06 12:35:04.000000000,2017-10-06 12:35:04.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 13095}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-06 01:43:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/d44a16c387a462865b64256e4e2a51b5dda9e166', 'message': 'Modify role to better use machinectl\n\nThis change modifies the lxc container create role to consume the\nmachinectl template. This new template will allow us to better manage\ncontainers and the images we use to run systems.\n\nAs mentioned in the release note within the lxc_hosts role, this change\nhas no upgrade impact as existing containers will continue to use the\nstorage they already have.\n\nChange-Id: Id20b1b1eaeaad8ceb217ec82aac8053f9326094d\nDepends-On: I70d53cabd0888954f31def924e9f4436398cdebf\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2017-10-05 05:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/8a5ca5085185a4c5ea6cae8b39e449ef6001cfea', 'message': '[WIP] Add machinectl backend store options\n\nThis change modifies the lxc container create role to consume the\nmachinectl template when the `lxc_container_backing_store` is set to\n""machinectl"". This new container store type will allow us to better\nmanage containers and the images we use to run systems.\n\nAs mentioned in the release note within the lxc_hosts role, this change\nhas no upgrade impact as existing containers will continue to use the\nstorage they already have.\n\nChange-Id: Id20b1b1eaeaad8ceb217ec82aac8053f9326094d\nDepends-On: I70d53cabd0888954f31def924e9f4436398cdebf\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2017-10-05 05:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/68fe9b026ccfc385c9ecd613dff3ea9836803dcd', 'message': '[WIP] Add machinectl backend store options\n\nThis change modifies the lxc container create role to consume the\nmachinectl template when the `lxc_container_backing_store` is set to\n""machinectl"". This new container store type will allow us to better\nmanage containers and the images we use to run systems.\n\nAs mentioned in the release note within the lxc_hosts role, this change\nhas no upgrade impact as existing containers will continue to use the\nstorage they already have.\n\nChange-Id: Id20b1b1eaeaad8ceb217ec82aac8053f9326094d\nDepends-On: I70d53cabd0888954f31def924e9f4436398cdebf\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2017-10-05 16:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/a122825e6bbda9580563ea62c820af660fa16c28', 'message': 'Add machinectl backend store options\n\nThis change modifies the lxc container create role to consume the\nmachinectl template when the `lxc_container_backing_store` is set to\n""machinectl"". This new container store type will allow us to better\nmanage containers and the images we use to run systems.\n\nAs mentioned in the release note within the lxc_hosts role, this change\nhas no upgrade impact as existing containers will continue to use the\nstorage they already have.\n\nChange-Id: Id20b1b1eaeaad8ceb217ec82aac8053f9326094d\nDepends-On: I70d53cabd0888954f31def924e9f4436398cdebf\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2017-10-05 18:23:41.000000000', 'files': ['defaults/main.yml', 'tasks/lxc_container_create_machinectl.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/270743d0423846a209c0f92053d8505796c9f8f5', 'message': 'Add machinectl backend store options\n\nThis change modifies the lxc container create role to consume the\nmachinectl template when the `lxc_container_backing_store` is set to\n""machinectl"". This new container store type will allow us to better\nmanage containers and the images we use to run systems.\n\nAs mentioned in the release note within the lxc_hosts role, this change\nhas no upgrade impact as existing containers will continue to use the\nstorage they already have.\n\nChange-Id: Id20b1b1eaeaad8ceb217ec82aac8053f9326094d\nDepends-On: I70d53cabd0888954f31def924e9f4436398cdebf\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",2,501059,270743d0423846a209c0f92053d8505796c9f8f5,20,5,5,7353,,,0,"Add machinectl backend store options

This change modifies the lxc container create role to consume the
machinectl template when the `lxc_container_backing_store` is set to
""machinectl"". This new container store type will allow us to better
manage containers and the images we use to run systems.

As mentioned in the release note within the lxc_hosts role, this change
has no upgrade impact as existing containers will continue to use the
storage they already have.

Change-Id: Id20b1b1eaeaad8ceb217ec82aac8053f9326094d
Depends-On: I70d53cabd0888954f31def924e9f4436398cdebf
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/59/501059/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,d44a16c387a462865b64256e4e2a51b5dda9e166,lxc-machinectl,lxc_container_template: machinectl,lxc_container_template: download --force-cache --server {{ lxc_image_cache_server }},1,3
openstack%2Fglance-specs~master~I1f25c8d49c2b117cefb09d7edab494d32fed4ddb,openstack/glance-specs,master,I1f25c8d49c2b117cefb09d7edab494d32fed4ddb,Updating multi-hash spec for revision,MERGED,2017-09-26 15:31:21.000000000,2017-10-06 12:34:03.000000000,2017-10-06 12:34:03.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 14495}, {'_account_id': 17893}, {'_account_id': 22348}, {'_account_id': 26734}]","[{'number': 1, 'created': '2017-09-26 15:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/f4c8a6255a25a78616e74696170a6235ffcd7172', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 2, 'created': '2017-09-26 15:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/002ae01c3fb8599300ae62bd97fa08a63c00784a', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 3, 'created': '2017-09-26 19:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/8baece7975d09ef3f952d5b8443337b93bf7caf5', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 4, 'created': '2017-09-26 20:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/42a61c435d65cfd1224253049c19e1e63724a212', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 5, 'created': '2017-09-27 12:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/61cd515ed53a0173b531e3740500e427ed80e006', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 6, 'created': '2017-09-27 13:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/d780dfe63a2f17af15fefc3eccbdcace900ebeaf', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 7, 'created': '2017-09-27 14:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/6e5ee39a282c3f015e9d3f4868efc7e314249420', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 8, 'created': '2017-09-27 16:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/dfadf7bb9b205a61d384656f341f5db5890aec76', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 9, 'created': '2017-09-27 16:32:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/2850c62b5ac9df41df90bd1814be60bb9e418035', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 10, 'created': '2017-09-27 19:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/e2f61fdd719f2b64a0d64e954d5b4e8f039b1721', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 11, 'created': '2017-09-27 19:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/fc092ef443c77ec3d620c01a2750005248c4f720', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 12, 'created': '2017-09-27 19:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/40cd8e48c41af68c604007e20ee5381a26709691', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 13, 'created': '2017-09-29 15:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/8b2a263a0fc438dc4dbacccae691261e5d2bcd4a', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 14, 'created': '2017-09-29 15:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/234e9024cadd56944f45104b0551ccbf55c3e006', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 15, 'created': '2017-10-02 19:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/751c06a1ad55357afb02b240818ad611d3197750', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}, {'number': 16, 'created': '2017-10-05 18:49:16.000000000', 'files': ['specs/untargeted/glance/multihash.rst', 'specs/queens/approved/glance/multihash.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/04a9379a62c2ab34a46f336e92be0f7ca7f54a70', 'message': 'Updating multi-hash spec for revision\n\nChange-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb\n'}]",34,507568,04a9379a62c2ab34a46f336e92be0f7ca7f54a70,61,7,16,26734,,,0,"Updating multi-hash spec for revision

Change-Id: I1f25c8d49c2b117cefb09d7edab494d32fed4ddb
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/68/507568/16 && git format-patch -1 --stdout FETCH_HEAD,['specs/untargeted/glance/multihash.rst'],1,f4c8a6255a25a78616e74696170a6235ffcd7172,multihash-revision,"This spec proposes adding two new field to the image metadata. The proposed keys for this change would be ``hash_algo`` and ``hash_value``. The proposed value isThe hexdigest will be obtained using the current python hashlib library. TheAdding a new image will set both the ``checksum``, ``hash_algo`` and ``hash_value``Requesting the image metadata of an image without the ``hash_algo/hash_value`` value set, will result in a null for the ``hash_algo/hash_value`` field in the``hash_algo`` and ``hash_value`` columns being set / updated.4. Implement a new set of fields in the image metadata in which we calculate the SHA512 value and then insert the algorithm identifier in a second column. This would produce a situation in which for every uploaded image we would have a 'hash_algo' and 'hash_value' column. This allows us to update the algorthim over time and to continue to future proof against SHA insecurity. * Expand: Two new columns (``hash_algo`` & ``hash_value``) with type string/varchar (defaulting to null) will be added to the images table. We will create an index similar to the one on ``checksum`` as well.Two new fields (``hash_algo`` & ``hash_value``) will exist in requests for the image* Note: SHA512 has been selected and should have minimal impact on overall upload time with regards to the entire process.Primary assignee: Scott McClymont* Update the db to add ``hash_algo`` & ``hash_value`` column to the images table (including calculate ``hash_algo`` & ``hash_value`` (includes calculation on upload) * Update ``hash_algo`` & ``hash_value`` on image download when value is null * Update internal checksum verification code to use the ``hash_value``","This spec proposes adding a new field to the image metadata. The proposed key name for this field is ``multihash``. The proposed value isThe hexdigest will be obtained using the current hashlib library. TheAdding a new image will set both the ``checksum`` and ``multihash``Requesting the image metadata of an image without the ``multihash`` value set, will result in a null for the ``multihash`` field in the``multihash`` value being set / updated.* Expand: A new column (``multihash``) with type string/varchar (defaulting to null) will be added to the images table along with an index similar to the one on ``checksum``A new field (``multihash``) will exist in requests for the imagePrimary assignee: unassigned* Update the db to add ``multihash`` column to the images table (including calculate ``multihash`` (includes calculation on upload) * Update ``multihash`` on image download when value is null * Update internal checksum verification code to use the ``multihash``",24,16
openstack%2Fglance-specs~master~I065ecfdff935b6c5508b9a3004d5a9c2575c4bf6,openstack/glance-specs,master,I065ecfdff935b6c5508b9a3004d5a9c2575c4bf6,Add spec-lite for scrubber refactor,MERGED,2017-09-27 15:57:30.000000000,2017-10-06 12:33:11.000000000,2017-10-06 12:33:11.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 15054}, {'_account_id': 22348}, {'_account_id': 26734}]","[{'number': 1, 'created': '2017-09-27 15:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/8f7050644f1bffa65ec7e8afeac342c7114b9268', 'message': 'Add spec-lite for scrubber refactor\n\nThis was discussed at the PTG as part of the session on removing\nthe Images API v1:\nhttps://etherpad.openstack.org/p/glance-queens-ptg-remove-v1-API\n\nChange-Id: I065ecfdff935b6c5508b9a3004d5a9c2575c4bf6\n'}, {'number': 2, 'created': '2017-09-28 16:31:16.000000000', 'files': ['specs/queens/approved/glance/lite-spec-scrubber-refactor.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ba1c29715d34863ed027e30096f40bf78ccc3b1c', 'message': 'Add spec-lite for scrubber refactor\n\nThis was discussed at the PTG as part of the session on removing\nthe Images API v1:\nhttps://etherpad.openstack.org/p/glance-queens-ptg-remove-v1-API\n\nChange-Id: I065ecfdff935b6c5508b9a3004d5a9c2575c4bf6\n'}]",2,507908,ba1c29715d34863ed027e30096f40bf78ccc3b1c,15,7,2,5314,,,0,"Add spec-lite for scrubber refactor

This was discussed at the PTG as part of the session on removing
the Images API v1:
https://etherpad.openstack.org/p/glance-queens-ptg-remove-v1-API

Change-Id: I065ecfdff935b6c5508b9a3004d5a9c2575c4bf6
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/08/507908/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/queens/approved/glance/lite-spec-scrubber-refactor.rst'],1,8f7050644f1bffa65ec7e8afeac342c7114b9268,scrubber-refactor,":orphan: =================================== Spec Lite: Refactor Glance Scrubber =================================== :problem: The scrubber code uses the registry v1 client. This is bad because it doesn't support Keystone v3 auth, which is widely used by default. Additionally, when the Images API v1 is removed, nothing else will be using the registry v1 client. :solution: Refactor the scrubber so that it doesn't use the registry at all. The registry has been deprecated since Newton, and this will allow us to remove it. :impacts: None :timeline: Q-2 milestone or thereabouts (early December) :link: https://blueprints.launchpad.net/glance/+spec/scrubber-refactor :reviewers: rosmaita, abhishekk, jokke :assignee: wangxiyuan ",,24,0
openstack%2Fpuppet-keystone~master~I87ec5272002b6db256152f43a216a109df8f458c,openstack/puppet-keystone,master,I87ec5272002b6db256152f43a216a109df8f458c,Accept empty strings for log_dir,ABANDONED,2017-10-06 10:10:19.000000000,2017-10-06 12:09:45.000000000,,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-10-06 10:10:19.000000000', 'files': ['manifests/logging.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/b41e950abb63f44c82eb59a3c159060ec3710617', 'message': 'Accept empty strings for log_dir\n\nAn empty string is an acceptable value of this entry, and it forces\nlogging to stdout/stderr, which is useful when running on containers.\n\nChange-Id: I87ec5272002b6db256152f43a216a109df8f458c\n'}]",0,510048,b41e950abb63f44c82eb59a3c159060ec3710617,3,4,1,10873,,,0,"Accept empty strings for log_dir

An empty string is an acceptable value of this entry, and it forces
logging to stdout/stderr, which is useful when running on containers.

Change-Id: I87ec5272002b6db256152f43a216a109df8f458c
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/48/510048/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/logging.pp'],1,b41e950abb63f44c82eb59a3c159060ec3710617,tripleo-logging, if $log_dir != '' { } else { $log_dir_real = $log_dir },,4,0
openstack%2Ftripleo-ui~master~Ic097e1cde80543c85431c701746ebebdf7623d4c,openstack/tripleo-ui,master,Ic097e1cde80543c85431c701746ebebdf7623d4c,Imported Translations from Zanata,MERGED,2017-10-06 09:38:24.000000000,2017-10-06 12:09:03.000000000,2017-10-06 12:09:03.000000000,"[{'_account_id': 3}, {'_account_id': 4978}]","[{'number': 1, 'created': '2017-10-06 09:38:24.000000000', 'files': ['i18n/locales/en-GB.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/9b704a930d68b069691f33e430337c5e805fd46f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ic097e1cde80543c85431c701746ebebdf7623d4c\n'}]",0,510035,9b704a930d68b069691f33e430337c5e805fd46f,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ic097e1cde80543c85431c701746ebebdf7623d4c
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/35/510035/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/en-GB.json'],1,9b704a930d68b069691f33e430337c5e805fd46f,zanata/translations," ""ContentView.table"": ""Table view"", ""CurrentPlan.backToAllPlans"": ""All Plans"", ""CurrentPlan.configurePlanStepTooltip"": ""This step allows you edit specific settings for the overcloud's network, storage, and other certified plugins. Use this step to define your network isolation configuration and your backend storage settings."", ""CurrentPlan.configureRolesStepHeader"": ""Configure Roles and Assign Nodes"", ""CurrentPlan.configureRolesStepTooltip"": ""This step assigns and removes nodes from roles in your overcloud. On each role's selection dialogue, you can tag available nodes into the role or untag nodes already assigned to the role. Click \""Assign Nodes\"" for a particular role to open the selection dialogue and start assigning nodes. You can also customise role-specific settings in this step. For example, you can compose services on each role and customise specific parameters related to each role. Click the pencil icon in the top-right corner of each role to see these role-specific settings"", ""CurrentPlan.deployStepHeader"": ""Deploy"", ""CurrentPlan.deploymentConfigurationStepHeader"": ""Specify Deployment Configuration"", ""CurrentPlan.hardwareStepHeader"": ""Prepare Hardware"", ""DebugScreen.cancel"": ""Cancel"", ""DebugScreen.debugPageTitle"": ""Debugging information"", ""DebugScreen.downloadLogs"": ""Download logs"", ""DebugScreen.downloadLogsMessage"": ""The file you requested is ready. Please click the button below to download the export. You might need to right-click the button and choose \""Save link as...\""."", ""DebugScreen.downloadingLogsLoader"": ""Downloading logs..."", ""DebugScreen.error"": ""An error has occurred while preparing the log download."", ""EnvironmentGroup.requiredEnvironments"": ""This option requires {requiredEnvironments} to be enabled."", ""ExportPlan.download"": ""Download Export"", ""ExportPlan.downloadMessage"": ""The plan export you requested is ready. Please click the button below to download the export. You might need to right-click the button and choose \""Save link as...\""."", ""ExportPlan.error"": ""An error occurred while exporting the plan"", ""LoggerActions.downloadLogsFailedNotificationTitle"": ""Download logs failed"", ""NavBar.debug"": ""Debug"", ""NavBar.plansTab"": ""Plans"", ""NodeColumns.macs"": ""MAC Addresses"", ""NodeDrive.vendor"": ""Vendor:"", ""NodeDrive.wwnVendorExtension"": ""WWN Vendor Extension:"", ""NodeDrive.wwnWithExtension"": ""WWN with Extension:"", ""NodeDrives.close"": ""Close"", ""NodeExtendedInfo.macAddresses"": ""MAC Addresses:"", ""NodeListItem.cpuCores"": ""CPU {cpuCores, plural, one {Core} other {Cores}}"", ""NodeListItem.mbRam"": ""MB RAM"", ""NodesListForm.operationInProgressValidationMessage"": ""There is an operation in progress on some of the selected Nodes"", ""NodesToolbar.filterStringPlaceholder"": ""Add filter"", ""NodesToolbarForm.sortDir"": ""Sort direction"", ""PXEAndDRACDriverFields.port_title"": ""DRAC Port"", ""Parameters.general"": ""General"", ""PlanActions.delete"": ""Delete"", ""PlanActions.edit"": ""Edit"", ""PlanCard.deletingPlan"": ""Deleting {planName}..."", ""PlansList.plans"": ""Plans"", ""RolesStep.loadingParameters"": ""Loading Parameters..."", ""SelectAll.deselectAllText"": ""Deselect All"", ""StatusDropdown.debug"": ""Debug"", ""Toolbar.activeFilters"": ""Active Filters:"", ""Toolbar.clearAllActiveFilters"": ""Clear All Filters"", ""ValidationsToolbar.filterStringPlaceholder"": ""Add filter"", ""ValidationsToolbar.name"": ""Name"", ""nodeExtendedinfo.architecture"": ""Architecture:"", ""nodeExtendedinfo.bios"": ""Bios:"", ""nodeExtendedinfo.driver"": ""Driver:"", ""nodeExtendedinfo.interfaceMacAddress"": ""MAC Address"", ""nodeExtendedinfo.productName"": ""Name"", ""nodeExtendedinfo.productVendor"": ""Vendor"", ""nodeExtendedinfo.productVersion"": ""Version"""," ""CurrentPlanActions.planActivatedNotificationMessage"": ""The plan {planName} was activated."", ""CurrentPlanActions.planActivatedNotificationTitle"": ""Plan Activated"", ""DeploymentPlan.configureRolesStepHeader"": ""Configure Roles and Assign Nodes"", ""DeploymentPlan.deployStepHeader"": ""Deploy"", ""DeploymentPlan.deploymentConfigurationStepHeader"": ""Specify Deployment Configuration"", ""DeploymentPlan.hardwareStepHeader"": ""Prepare Hardware"", ""EnvironmentGroup.requiredEnvironments"": ""This environment requires {requiredEnvironments}."", ""ListPlans.actions"": ""Actions"", ""ListPlans.createNewPlan"": ""Create New Plan"", ""ListPlans.delete"": ""Delete"", ""ListPlans.deletingPlanName"": ""Deleting {planName}..."", ""ListPlans.edit"": ""Edit"", ""ListPlans.name"": ""Name"", ""ListPlans.noPlans"": ""There are currently no plans."", ""ListPlans.plans"": ""Plans"", ""NavBar.deploymentPlanTab"": ""Deployment Plan"", ""NewPlan.createNewPlan"": ""Create New Plan"", ""NoPlans.createNewPlan"": ""Create New Plan"", ""PXEAndSSHDriverFields.addr_title"": ""SSH IP Address or FQDN"", ""PXEAndSSHDriverFields.pwd_title"": ""SSH Key"", ""PXEAndSSHDriverFields.user_title"": ""SSH User"", ""PlansDropdown.manageDeployments"": ""Manage Deployments"", ""PlansDropdown.selectDeployment"": ""Select Deployment"", ""RegisterNodeForm.macAddressesDescription"": ""Comma separated list of MAC Addresses"", ""RegisterNodeForm.nodeNameRegexp"": ""Name may only consist of RFC3986 unreserved characters, to wit: ALPHA / DIGIT / \""-\"" / \"".\"" / \""_\"" / \""~\""."", ""ValidationsToolbar.name"": ""Name""",52,26
openstack%2Fnetworking-bgpvpn~master~I0791e329f41feca79ebe2f31321d1ce02ac44ec3,openstack/networking-bgpvpn,master,I0791e329f41feca79ebe2f31321d1ce02ac44ec3,dashboard: introduce usage of the policy file,MERGED,2017-07-18 13:40:21.000000000,2017-10-06 12:08:57.000000000,2017-10-06 12:08:57.000000000,"[{'_account_id': 3}, {'_account_id': 2888}, {'_account_id': 9396}, {'_account_id': 12021}, {'_account_id': 21800}, {'_account_id': 22348}, {'_account_id': 26018}]","[{'number': 1, 'created': '2017-07-18 13:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1e00a2d72e555f887539a09f7fa1c0e8ea73fc3e', 'message': 'Introduce usage of the policy file\n\nTo check is a user is logged as admin, the policy check\nframework is used rather than referring to is_superuser.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}, {'number': 2, 'created': '2017-07-18 13:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/e9d848354caf6596ec66d6802722937654c50b0f', 'message': 'dashboard: introduce usage of the policy file\n\nTo check is a user is logged as admin, the policy check\nframework is used rather than referring to is_superuser.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}, {'number': 3, 'created': '2017-07-21 13:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f282c846390999450a7fd1ead2d17aebb7abf756', 'message': 'dashboard: introduce usage of the policy file\n\nTo check is a user is logged as admin, the policy check\nframework is used rather than referring to is_superuser.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}, {'number': 4, 'created': '2017-08-08 08:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/aa5e43c0721aa34232cbaa2a645cb036e93fa17c', 'message': 'dashboard: introduce usage of the policy file\n\nTo check is a user is logged as admin, the policy check\nframework is used rather than referring to is_superuser.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}, {'number': 5, 'created': '2017-09-05 07:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/0f5435e214cfed24b12ca55e968ed0d7c032f34d', 'message': 'dashboard: introduce usage of the policy file\n\nTo check is a user is logged as admin, the policy check\nframework is used rather than referring to is_superuser.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}, {'number': 6, 'created': '2017-09-27 08:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f109b9a65559494c292ea62ec7d13e52cbe0611e', 'message': 'dashboard: introduce usage of the policy file\n\nThe policy check framework is added in the\ndevstack installation.\nDocumentation modified for a manuel installation.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}, {'number': 7, 'created': '2017-09-27 08:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1b1a5ce85d34278fdb5ef60b2ba88a5c339baf71', 'message': 'dashboard: introduce usage of the policy file\n\nThe policy check framework is added in the\ndevstack installation.\nDocumentation modified for a manuel installation.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}, {'number': 8, 'created': '2017-09-27 12:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/5ec1a6f5adab1794b3099d4b6c2aaa63c60d5ddd', 'message': 'dashboard: introduce usage of the policy file\n\nThe policy check framework is added in the\ndevstack installation.\nDocumentation modified for a manuel installation.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}, {'number': 9, 'created': '2017-09-29 08:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7486fe77d9d1d7123097905fe125abfda6d0d22c', 'message': 'dashboard: introduce usage of the policy file\n\nThe policy check framework is added in the\ndevstack installation.\nDocumentation modified for a manuel installation.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}, {'number': 10, 'created': '2017-09-29 09:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ecac3165e875f63dcbe1b0b9c8f55979d8e34efd', 'message': 'dashboard: introduce usage of the policy file\n\nThe policy check framework is added in the\ndevstack installation.\nDocumentation modified for a manuel installation.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}, {'number': 11, 'created': '2017-09-29 14:44:19.000000000', 'files': ['bgpvpn_dashboard/dashboards/project/bgpvpn/forms.py', 'bgpvpn_dashboard/etc/bgpvpn-horizon.conf', 'doc/source/user/horizon.rst', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9ca3781e87ec99b205ef2dd11e53f0e9dab10c89', 'message': 'dashboard: introduce usage of the policy file\n\nThe policy check framework is added in the\ndevstack installation.\nDocumentation modified for a manuel installation.\n\nChange-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3\n'}]",21,484791,9ca3781e87ec99b205ef2dd11e53f0e9dab10c89,71,7,11,21800,,,0,"dashboard: introduce usage of the policy file

The policy check framework is added in the
devstack installation.
Documentation modified for a manuel installation.

Change-Id: I0791e329f41feca79ebe2f31321d1ce02ac44ec3
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/91/484791/4 && git format-patch -1 --stdout FETCH_HEAD,"['bgpvpn_dashboard/dashboards/project/bgpvpn/forms.py', 'devstack/plugin.sh', 'etc/neutron/policy.d/bgpvpn.conf']",3,1e00a2d72e555f887539a09f7fa1c0e8ea73fc3e,use_policy_file," ""context_is_admin"": ""role:admin"",",,45,5
openstack%2Fnetworking-bgpvpn~master~I4a191c1c6a1c5281cd18e07dcee534dc84338acc,openstack/networking-bgpvpn,master,I4a191c1c6a1c5281cd18e07dcee534dc84338acc,Switch DB and driver precommit methods for delete and update,MERGED,2017-09-01 09:31:23.000000000,2017-10-06 12:08:34.000000000,2017-10-06 12:08:34.000000000,"[{'_account_id': 3}, {'_account_id': 55}, {'_account_id': 2888}, {'_account_id': 9361}, {'_account_id': 12021}, {'_account_id': 25171}, {'_account_id': 26392}]","[{'number': 1, 'created': '2017-09-01 09:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/37891f20e98ed6699b1f0679bd72566a3dda408d', 'message': 'Switching committing and deleting in precommit methods\n\nDeleting network and router assoc calls needs to execute precommit and\npostcommit checks. The method deleted the object before making\nprecommit checks.\n\nCurrently it makes precommit checks before deleting the object, which\nallows the drivers to read the DB with the object being present at delete\nprecomit time.\n\nCo-Author: Omar Sanhaji <sanhaji.omar@gmail.com>\nCo-Author: Thomas Morin <thomas.morin@orange.com>\n\nCloses-Bug: #1709647\nPartial Implements: blueprint bagpipe-bgpvpn-ovo\n\nChange-Id: I4a191c1c6a1c5281cd18e07dcee534dc84338acc\n'}, {'number': 2, 'created': '2017-09-01 09:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/09aaf8b60b873debd2c349d832f154203aba3202', 'message': 'Switching committing and deleting in precommit methods\n\nDeleting network and router assoc calls needs to execute precommit and\npostcommit checks. The method deleted the object before making\nprecommit checks.\n\nCurrently it makes precommit checks before deleting the object, which\nallows the drivers to read the DB with the object being present at delete\nprecomit time.\n\nCo-Authored-By: Omar Sanhaji <sanhaji.omar@gmail.com>\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nCloses-Bug: #1709647\nPartial Implements: blueprint bagpipe-bgpvpn-ovo\n\nChange-Id: I4a191c1c6a1c5281cd18e07dcee534dc84338acc\n'}, {'number': 3, 'created': '2017-09-25 10:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9ff0d427ce74c88ba6d05f321edd1ce417f04b11', 'message': 'Switching committing and deleting in precommit methods\n\nDeleting network and router assoc calls needs to execute precommit and\npostcommit checks. The method deleted the object before making\nprecommit checks.\n\nCurrently it makes precommit checks before deleting the object, which\nallows the drivers to read the DB with the object being present at delete\nprecomit time.\n\nCo-Authored-By: Omar Sanhaji <sanhaji.omar@gmail.com>\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nCloses-Bug: #1709647\nPartial Implements: blueprint bagpipe-bgpvpn-ovo\n\nChange-Id: I4a191c1c6a1c5281cd18e07dcee534dc84338acc\n'}, {'number': 4, 'created': '2017-09-25 11:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/27e22093af95987bf075b8927141b9da25268275', 'message': 'Switching committing and deleting in precommit methods\n\nDeleting network and router assoc calls needs to execute precommit and\npostcommit checks. The method deleted the object before making\nprecommit checks.\n\nCurrently it makes precommit checks before deleting the object, which\nallows the drivers to read the DB with the object being present at delete\nprecomit time.\n\nCo-Authored-By: Omar Sanhaji <sanhaji.omar@gmail.com>\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nCloses-Bug: #1709647\nPartial Implements: blueprint bagpipe-bgpvpn-ovo\n\nChange-Id: I4a191c1c6a1c5281cd18e07dcee534dc84338acc\n'}, {'number': 5, 'created': '2017-09-25 13:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/7a4b8a11ebd9f69ade6d88c2bca84408e9839422', 'message': 'Switching committing and deleting in precommit methods\n\nDeleting network and router assoc calls needs to execute precommit and\npostcommit checks. The method deleted the object before making\nprecommit checks.\n\nCurrently it makes precommit checks before deleting the object, which\nallows the drivers to read the DB with the object being present at delete\nprecomit time.\n\nCo-Authored-By: Omar Sanhaji <sanhaji.omar@gmail.com>\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nCloses-Bug: #1709647\nPartial Implements: blueprint bagpipe-bgpvpn-ovo\n\nChange-Id: I4a191c1c6a1c5281cd18e07dcee534dc84338acc\n'}, {'number': 6, 'created': '2017-09-25 13:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/b2b23da7bc3adf14842c253abf9b5c1b7671fa17', 'message': 'Switching committing and deleting in precommit methods\n\nDeleting network and router assoc calls needs to execute precommit and\npostcommit checks. The method deleted the object before making\nprecommit checks.\n\nCurrently it makes precommit checks before deleting the object, which\nallows the drivers to read the DB with the object being present at delete\nprecomit time.\n\nCo-Authored-By: Omar Sanhaji <sanhaji.omar@gmail.com>\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nCloses-Bug: #1709647\nPartial Implements: blueprint bagpipe-bgpvpn-ovo\n\nChange-Id: I4a191c1c6a1c5281cd18e07dcee534dc84338acc\n'}, {'number': 7, 'created': '2017-09-26 09:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a3c4f1561482aa6c7cc4432bf75c1d3f48a4f086', 'message': 'Switch DB and driver precommit methods for delete and update\n\nDeleting network and router assoc calls need to execute precommit and\npostcommit checks. The method deleted the object in the DB before making\nprecommit checks.\n\nWith this change it makes precommit checks before deleting the object, which\nallows the drivers to read the DB with the object being present at delete\nprecomit time.\n\nThe same change is applied to updates. This introduces a change in\nwhat the precommit hook provides: instead of providing the full object\nafter applying the update, it will provide only the delta to apply.\n\nCo-Authored-By: Omar Sanhaji <sanhaji.omar@gmail.com>\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nCloses-Bug: #1709647\nPartial Implements: blueprint bagpipe-bgpvpn-ovo\n\nChange-Id: I4a191c1c6a1c5281cd18e07dcee534dc84338acc\n'}, {'number': 8, 'created': '2017-10-03 10:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/6416c888ba8ac0c9b27e06e6711f7fe883ca989a', 'message': 'Switch DB and driver precommit methods for delete and update\n\nDeleting network and router assoc calls need to execute precommit and\npostcommit checks. The method deleted the object in the DB before making\nprecommit checks.\n\nWith this change it makes precommit checks before deleting the object, which\nallows the drivers to read the DB with the object being present at delete\nprecomit time.\n\nThe same change is applied to updates. This introduces a change in\nwhat the precommit hook provides: instead of providing the full object\nafter applying the update, it will provide only the delta to apply.\n\nCo-Authored-By: Omar Sanhaji <sanhaji.omar@gmail.com>\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nCloses-Bug: #1709647\nPartial Implements: blueprint bagpipe-bgpvpn-ovo\n\nChange-Id: I4a191c1c6a1c5281cd18e07dcee534dc84338acc\n'}, {'number': 9, 'created': '2017-10-03 14:16:48.000000000', 'files': ['networking_bgpvpn/neutron/services/service_drivers/driver_api.py', 'networking_bgpvpn/tests/unit/services/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/79c7a61267600629b3e2fee727d9c3d80af5db04', 'message': 'Switch DB and driver precommit methods for delete and update\n\nDeleting network and router assoc calls need to execute precommit and\npostcommit checks. The method deleted the object in the DB before making\nprecommit checks.\n\nWith this change it makes precommit checks before deleting the object, which\nallows the drivers to read the DB with the object being present at delete\nprecomit time.\n\nThe same change is applied to updates.\n\nCo-Authored-By: Omar Sanhaji <sanhaji.omar@gmail.com>\nCo-Authored-By: Thomas Morin <thomas.morin@orange.com>\n\nCloses-Bug: #1709647\nPartial Implements: blueprint bagpipe-bgpvpn-ovo\n\nChange-Id: I4a191c1c6a1c5281cd18e07dcee534dc84338acc\n'}]",0,499943,79c7a61267600629b3e2fee727d9c3d80af5db04,35,7,9,12021,,,0,"Switch DB and driver precommit methods for delete and update

Deleting network and router assoc calls need to execute precommit and
postcommit checks. The method deleted the object in the DB before making
precommit checks.

With this change it makes precommit checks before deleting the object, which
allows the drivers to read the DB with the object being present at delete
precomit time.

The same change is applied to updates.

Co-Authored-By: Omar Sanhaji <sanhaji.omar@gmail.com>
Co-Authored-By: Thomas Morin <thomas.morin@orange.com>

Closes-Bug: #1709647
Partial Implements: blueprint bagpipe-bgpvpn-ovo

Change-Id: I4a191c1c6a1c5281cd18e07dcee534dc84338acc
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/43/499943/6 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/neutron/services/service_drivers/driver_api.py'],1,37891f20e98ed6699b1f0679bd72566a3dda408d,bp/bagpipe-bgpvpn-ovo," bgpvpn = self.bgpvpn_db.get_bgpvpn(context, id) self.bgpvpn_db.delete_bgpvpn(context, id) net_assoc = self.bgpvpn_db.get_net_assoc(context, assoc_id, bgpvpn_id) self.bgpvpn_db.delete_net_assoc(context, assoc_id, bgpvpn_id) router_assoc = self.bgpvpn_db.get_router_assoc(context, assoc_id, bgpvpn_id) self.bgpvpn_db.delete_router_assoc(context, assoc_id, bgpvpn_id) "," bgpvpn = self.bgpvpn_db.delete_bgpvpn(context, id) net_assoc = self.bgpvpn_db.delete_net_assoc(context, assoc_id, bgpvpn_id) router_assoc = self.bgpvpn_db.delete_router_assoc(context, assoc_id, bgpvpn_id)",16,7
openstack%2Fopenstack-ansible~master~Ibda9da1feb319a4ceaae1d470d4e1ea53755c378,openstack/openstack-ansible,master,Ibda9da1feb319a4ceaae1d470d4e1ea53755c378,Fix cinder_service_region undefined,MERGED,2017-09-27 08:57:53.000000000,2017-10-06 12:08:04.000000000,2017-10-06 12:08:03.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-27 08:57:53.000000000', 'files': ['group_vars/magnum_all.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8fdf4331ff1019deffe6535d00f838e3a6df9675', 'message': 'Fix cinder_service_region undefined\n\nDue to the simplification of group vars [1], we\'ve removed the\ndefinition of cinder_service_region for magnum.\n\nThe magnum role has been simplified in a separate commit to remove the\ndependency on this weak linki (scoping only inside its role),\nstill allowing it to be overriden by a deployer. (See dependant commit).\n\nWith that included, we only needed to wire the magnum_service_region\nin group vars, so we wire the magnum_service_region inside the magnum\ngroup to the standard ""service_region"" variable, which puts\neverything at the same region, like all the other services are doing,\nand also standardizes the configuration.\n\n[1]: https://review.openstack.org/#/c/504804/18/group_vars/all/cinder.yml\n\nDepends-On: Id25c2d344859adfd09108b759d55f11ae83f97a9\nChange-Id: Ibda9da1feb319a4ceaae1d470d4e1ea53755c378\n'}]",0,507795,8fdf4331ff1019deffe6535d00f838e3a6df9675,9,5,1,17068,,,0,"Fix cinder_service_region undefined

Due to the simplification of group vars [1], we've removed the
definition of cinder_service_region for magnum.

The magnum role has been simplified in a separate commit to remove the
dependency on this weak linki (scoping only inside its role),
still allowing it to be overriden by a deployer. (See dependant commit).

With that included, we only needed to wire the magnum_service_region
in group vars, so we wire the magnum_service_region inside the magnum
group to the standard ""service_region"" variable, which puts
everything at the same region, like all the other services are doing,
and also standardizes the configuration.

[1]: https://review.openstack.org/#/c/504804/18/group_vars/all/cinder.yml

Depends-On: Id25c2d344859adfd09108b759d55f11ae83f97a9
Change-Id: Ibda9da1feb319a4ceaae1d470d4e1ea53755c378
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/95/507795/1 && git format-patch -1 --stdout FETCH_HEAD,['group_vars/magnum_all.yml'],1,8fdf4331ff1019deffe6535d00f838e3a6df9675,fix_cinder_service_region_undefined,"magnum_service_region: ""{{ service_region }}""",,1,0
openstack%2Frequirements~master~I6c39b47ff6abddf57c9ca58d2732d7cc44de1dfb,openstack/requirements,master,I6c39b47ff6abddf57c9ca58d2732d7cc44de1dfb,Limit pyroute2 library to non-Windows OS,MERGED,2017-10-05 14:57:00.000000000,2017-10-06 12:03:11.000000000,2017-10-06 12:03:10.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-10-05 14:57:00.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f8ca215651954f0168fd2dc021a67ff5e841b126', 'message': 'Limit pyroute2 library to non-Windows OS\n\npyroute2 is a pure Python netlink library. The only operating system\nsupported is Linux (POSIX), as documented in [1]. Installation of\nthis library should be done only in a Linux OS.\n\n[1] https://pypi.python.org/pypi/pyroute2\n\nChange-Id: I6c39b47ff6abddf57c9ca58d2732d7cc44de1dfb\n'}]",0,509801,f8ca215651954f0168fd2dc021a67ff5e841b126,9,5,1,16688,,,0,"Limit pyroute2 library to non-Windows OS

pyroute2 is a pure Python netlink library. The only operating system
supported is Linux (POSIX), as documented in [1]. Installation of
this library should be done only in a Linux OS.

[1] https://pypi.python.org/pypi/pyroute2

Change-Id: I6c39b47ff6abddf57c9ca58d2732d7cc44de1dfb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/509801/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,f8ca215651954f0168fd2dc021a67ff5e841b126,pyroute2_linux_only,pyroute2>=0.4.21;sys_platform!='win32' # Apache-2.0 (+ dual licensed GPL2),pyroute2>=0.4.21 # Apache-2.0 (+ dual licensed GPL2),1,1
openstack%2Frequirements~stable%2Focata~I94265464603ac6d2abd533ed86f14065219803c2,openstack/requirements,stable/ocata,I94265464603ac6d2abd533ed86f14065219803c2,update constraint for tripleo-common to new release 6.1.2,MERGED,2017-10-05 14:53:46.000000000,2017-10-06 12:03:04.000000000,2017-10-06 12:03:04.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-10-05 14:53:46.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/09682be75b2991f8c0484261a038e6df72b1809f', 'message': 'update constraint for tripleo-common to new release 6.1.2\n\nChange-Id: I94265464603ac6d2abd533ed86f14065219803c2\nmeta:version: 6.1.2\nmeta:diff-start: -\nmeta:series: ocata\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Emilien Macchi <emilien@redhat.com>\nmeta:release:Commit: Emilien Macchi <emilien@redhat.com>\nmeta:release:Change-Id: I524960783ca9a1c99046cb02b98e6f42a6c3df6e\nmeta:release:Code-Review+1: yanpeifei <yanpeifei@gohighsec.com>\nmeta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,509799,09682be75b2991f8c0484261a038e6df72b1809f,9,5,1,11131,,,0,"update constraint for tripleo-common to new release 6.1.2

Change-Id: I94265464603ac6d2abd533ed86f14065219803c2
meta:version: 6.1.2
meta:diff-start: -
meta:series: ocata
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: Emilien Macchi <emilien@redhat.com>
meta:release:Commit: Emilien Macchi <emilien@redhat.com>
meta:release:Change-Id: I524960783ca9a1c99046cb02b98e6f42a6c3df6e
meta:release:Code-Review+1: yanpeifei <yanpeifei@gohighsec.com>
meta:release:Code-Review+1: Alex Schultz <aschultz@redhat.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/509799/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,09682be75b2991f8c0484261a038e6df72b1809f,new-release,tripleo-common===6.1.2,tripleo-common===6.1.1,1,1
openstack%2Fopenstack-ansible-os_nova~stable%2Focata~Ifa474634ebde4cabfded273739eaac5278b63901,openstack/openstack-ansible-os_nova,stable/ocata,Ifa474634ebde4cabfded273739eaac5278b63901,Force the installation of qemu packages,MERGED,2017-10-05 17:36:38.000000000,2017-10-06 12:02:59.000000000,2017-10-06 12:02:59.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-10-05 17:36:38.000000000', 'files': ['vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/f516020eb051939832a083ae2a091d6a851cff0b', 'message': 'Force the installation of qemu packages\n\nWhen doing upgrades after adding a new apt channel (like UCA),\nthe apt module will upgrade the directly listed packages, and its\nrecommended packages, not the child dependencies.\n\nYou could arrive to a state where qemu-system-x86 was installed\nbut not upgraded, while qemu-system and qemu-block-extra:amd64\nwould be upgraded. This could lead to compute issues.\n\nChange-Id: Ifa474634ebde4cabfded273739eaac5278b63901\nCloses-Bug: #1716908\n(cherry picked from commit 89b4a78b7eb672fe212526863a4ae423ec4735d4)\n'}]",0,509849,f516020eb051939832a083ae2a091d6a851cff0b,7,3,1,17799,,,0,"Force the installation of qemu packages

When doing upgrades after adding a new apt channel (like UCA),
the apt module will upgrade the directly listed packages, and its
recommended packages, not the child dependencies.

You could arrive to a state where qemu-system-x86 was installed
but not upgraded, while qemu-system and qemu-block-extra:amd64
would be upgraded. This could lead to compute issues.

Change-Id: Ifa474634ebde4cabfded273739eaac5278b63901
Closes-Bug: #1716908
(cherry picked from commit 89b4a78b7eb672fe212526863a4ae423ec4735d4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/49/509849/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-16.04.yml'],1,f516020eb051939832a083ae2a091d6a851cff0b,bug/1716908-stable/ocata,"# the qemu-system-.*, qemu-block-extra, qemu-utils, qemu-user packages are explictly listed # for consistent upgrades (they will all be to the same version) - qemu-system - qemu-system-arm - qemu-system-mips - qemu-system-ppc - qemu-system-sparc - qemu-system-x86 - qemu-system-misc - qemu-block-extra - qemu-utils - qemu-user",,12,0
openstack%2Fopenstack-ansible-os_nova~stable%2Fpike~Ifa474634ebde4cabfded273739eaac5278b63901,openstack/openstack-ansible-os_nova,stable/pike,Ifa474634ebde4cabfded273739eaac5278b63901,Force the installation of qemu packages,MERGED,2017-10-05 17:36:31.000000000,2017-10-06 12:02:53.000000000,2017-10-06 12:02:53.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-10-05 17:36:31.000000000', 'files': ['vars/ubuntu-16.04.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2fbb2159df98e9cffd38ca619d30a341043e7711', 'message': 'Force the installation of qemu packages\n\nWhen doing upgrades after adding a new apt channel (like UCA),\nthe apt module will upgrade the directly listed packages, and its\nrecommended packages, not the child dependencies.\n\nYou could arrive to a state where qemu-system-x86 was installed\nbut not upgraded, while qemu-system and qemu-block-extra:amd64\nwould be upgraded. This could lead to compute issues.\n\nChange-Id: Ifa474634ebde4cabfded273739eaac5278b63901\nCloses-Bug: #1716908\n(cherry picked from commit 89b4a78b7eb672fe212526863a4ae423ec4735d4)\n'}]",0,509848,2fbb2159df98e9cffd38ca619d30a341043e7711,7,3,1,17799,,,0,"Force the installation of qemu packages

When doing upgrades after adding a new apt channel (like UCA),
the apt module will upgrade the directly listed packages, and its
recommended packages, not the child dependencies.

You could arrive to a state where qemu-system-x86 was installed
but not upgraded, while qemu-system and qemu-block-extra:amd64
would be upgraded. This could lead to compute issues.

Change-Id: Ifa474634ebde4cabfded273739eaac5278b63901
Closes-Bug: #1716908
(cherry picked from commit 89b4a78b7eb672fe212526863a4ae423ec4735d4)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/48/509848/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/ubuntu-16.04.yml'],1,2fbb2159df98e9cffd38ca619d30a341043e7711,bug/1716908-stable/pike,"# the qemu-system-.*, qemu-block-extra, qemu-utils, qemu-user packages are explictly listed # for consistent upgrades (they will all be to the same version) - qemu-system - qemu-system-arm - qemu-system-mips - qemu-system-ppc - qemu-system-sparc - qemu-system-x86 - qemu-system-misc - qemu-block-extra - qemu-utils - qemu-user",,12,0
openstack%2Frally~master~I599737725694167352aa8e50863f87cc2d53c686,openstack/rally,master,I599737725694167352aa8e50863f87cc2d53c686,Use html-static instead of html_static when exporting report from one file,MERGED,2017-09-28 02:34:14.000000000,2017-10-06 12:01:51.000000000,2017-10-06 12:01:51.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-09-28 02:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/49d3603ce1df36fde6a97880ef239fc4f24d4569', 'message': 'Use html-static instead of html_static\n\nWe have used ""exporter"" mechanism instead of old report, and rename\nhtml_static to html-static.\n\nChange-Id: I599737725694167352aa8e50863f87cc2d53c686\n'}, {'number': 2, 'created': '2017-09-28 02:36:18.000000000', 'files': ['rally/cli/commands/task.py', 'tests/functional/test_cli_task.py', 'tests/unit/cli/commands/test_task.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/e4a0c1c8cc4958e05cb8c5f8769dd9c45ae186ef', 'message': 'Use html-static instead of html_static when exporting report from one file\n\nWe have used ""exporter"" mechanism instead of old report, and rename\nhtml_static to html-static.\n\nChange-Id: I599737725694167352aa8e50863f87cc2d53c686\n'}]",0,508032,e4a0c1c8cc4958e05cb8c5f8769dd9c45ae186ef,9,3,2,21528,,,0,"Use html-static instead of html_static when exporting report from one file

We have used ""exporter"" mechanism instead of old report, and rename
html_static to html-static.

Change-Id: I599737725694167352aa8e50863f87cc2d53c686
",git fetch https://review.opendev.org/openstack/rally refs/changes/32/508032/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cli/commands/task.py', 'tests/functional/test_cli_task.py', 'tests/unit/cli/commands/test_task.py']",3,49d3603ce1df36fde6a97880ef239fc4f24d4569,html-static," out=""output.html"", out_format=""html-static"")"," out=""output.html"", out_format=""html_static"")",19,2
openstack%2Fpython-tripleoclient~master~I0d6c8ad92c22d01d5994fcbd41d7d4de775d2fb1,openstack/python-tripleoclient,master,I0d6c8ad92c22d01d5994fcbd41d7d4de775d2fb1,Fix error handling for actions,MERGED,2017-09-27 16:07:30.000000000,2017-10-06 12:00:29.000000000,2017-10-04 02:59:30.000000000,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 7144}, {'_account_id': 9317}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-27 16:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/83731db0ee45e5b8faac6a130065bd95d07dfa9a', 'message': 'Fix error handling for actions\n\nChange-Id: I0d6c8ad92c22d01d5994fcbd41d7d4de775d2fb1\nCloses-bug: bug/1719947\n'}, {'number': 2, 'created': '2017-09-27 16:09:48.000000000', 'files': ['tripleoclient/exceptions.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aacefea28d653f22fb46499697765efbc201f69b', 'message': 'Fix error handling for actions\n\nChange-Id: I0d6c8ad92c22d01d5994fcbd41d7d4de775d2fb1\nCloses-bug: #1719947\n'}]",3,507913,aacefea28d653f22fb46499697765efbc201f69b,13,5,2,9317,,,0,"Fix error handling for actions

Change-Id: I0d6c8ad92c22d01d5994fcbd41d7d4de775d2fb1
Closes-bug: #1719947
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/13/507913/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/exceptions.py'],1,83731db0ee45e5b8faac6a130065bd95d07dfa9a,bug/1719947," def __init__(self, action='', output=''): message = self.msg_format.format(action, output)"," def __init__(self, message, action='', output=''): message = message.format(action, output)",2,2
openstack%2Frally~master~Ibb2026eef0eef2649a3ae1dd5c64ab90cbe2a3b2,openstack/rally,master,Ibb2026eef0eef2649a3ae1dd5c64ab90cbe2a3b2,"[heat] Add ""ERROR"" status in wait_for",MERGED,2017-10-06 06:49:50.000000000,2017-10-06 11:59:02.000000000,2017-10-06 11:59:02.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-10-06 06:49:50.000000000', 'files': ['tests/unit/plugins/openstack/scenarios/heat/test_utils.py', 'rally/plugins/openstack/scenarios/heat/utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/f70c7867638ac310a3081f143594c775bd548ec7', 'message': '[heat] Add ""ERROR"" status in wait_for\n\nError is valied status of heat operations, if we don\'t add it\nit can cause 10 minutes of rechecks of ERROR status which is not good\n\nChange-Id: Ibb2026eef0eef2649a3ae1dd5c64ab90cbe2a3b2\n'}]",0,509982,f70c7867638ac310a3081f143594c775bd548ec7,9,4,1,6172,,,0,"[heat] Add ""ERROR"" status in wait_for

Error is valied status of heat operations, if we don't add it
it can cause 10 minutes of rechecks of ERROR status which is not good

Change-Id: Ibb2026eef0eef2649a3ae1dd5c64ab90cbe2a3b2
",git fetch https://review.opendev.org/openstack/rally refs/changes/82/509982/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/plugins/openstack/scenarios/heat/test_utils.py', 'rally/plugins/openstack/scenarios/heat/utils.py']",2,f70c7867638ac310a3081f143594c775bd548ec7,bp/avlovic," failure_statuses=[""CREATE_FAILED"", ""ERROR""], failure_statuses=[""UPDATE_FAILED"", ""ERROR""], failure_statuses=[""CHECK_FAILED"", ""ERROR""], failure_statuses=[""DELETE_FAILED"", ""ERROR""], failure_statuses=[""SUSPEND_FAILED"", ""ERROR""], failure_statuses=[""RESUME_FAILED"", ""ERROR""], failure_statuses=[""SNAPSHOT_FAILED"", ""ERROR""], failure_statuses=[""RESTORE_FAILED"", ""ERROR""], failure_statuses=[""UPDATE_FAILED"", ""ERROR""],"," failure_statuses=[""CREATE_FAILED""], failure_statuses=[""UPDATE_FAILED""], failure_statuses=[""CHECK_FAILED""], failure_statuses=[""DELETE_FAILED""], failure_statuses=[""SUSPEND_FAILED""], failure_statuses=[""RESUME_FAILED""], failure_statuses=[""SNAPSHOT_FAILED""], failure_statuses=[""RESTORE_FAILED""], failure_statuses=[""UPDATE_FAILED""],",18,18
openstack%2Ftripleo-ui~master~Ifbe6fa74cd75147f57404ff1ecf20839e506346f,openstack/tripleo-ui,master,Ifbe6fa74cd75147f57404ff1ecf20839e506346f,Refactor services/utils into selectors,MERGED,2017-09-22 13:56:42.000000000,2017-10-06 11:50:09.000000000,2017-10-06 11:50:09.000000000,"[{'_account_id': 3}, {'_account_id': 10112}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-22 13:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/7e3dcacb4d1f347b9444289f7b804d7730f90644', 'message': 'Refactor services/utils into selectors\n\nChange-Id: Ifbe6fa74cd75147f57404ff1ecf20839e506346f'}, {'number': 2, 'created': '2017-09-29 09:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/8f89bf95cdf6b25fc54d3ad1bbe7fe33a155ab2d', 'message': 'Refactor services/utils into selectors\n\n* moves functions from services/utils.js into respective\n  selectors\n* initial step to getting rid of importing store in other modules\n  which causes testing problems and circular dependency issues\n\nChange-Id: Ifbe6fa74cd75147f57404ff1ecf20839e506346f\n'}, {'number': 3, 'created': '2017-10-02 07:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/4a3aede0d5d2b71fbde249fff36189671398b90f', 'message': 'Refactor services/utils into selectors\n\n* moves functions from services/utils.js into respective\n  selectors\n* initial step to getting rid of importing store in other modules\n  which causes testing problems and circular dependency issues\n\nChange-Id: Ifbe6fa74cd75147f57404ff1ecf20839e506346f\n'}, {'number': 4, 'created': '2017-10-05 10:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/213afd1d0299ff4586e54441fe0fd7fd24622da0', 'message': 'Refactor services/utils into selectors\n\n* moves functions from services/utils.js into respective\n  selectors\n* initial step to getting rid of importing store in other modules\n  which causes testing problems and circular dependency issues\n\nChange-Id: Ifbe6fa74cd75147f57404ff1ecf20839e506346f\n'}, {'number': 5, 'created': '2017-10-06 07:59:25.000000000', 'files': ['src/js/selectors/auth.js', 'src/js/services/utils.js', 'src/js/immutableRecords/appConfig.js', 'src/js/selectors/i18n.js', 'src/js/selectors/appConfig.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/adbf48ae3f52ad691aa4d0e41dc7b8fb09230770', 'message': 'Refactor services/utils into selectors\n\n* moves functions from services/utils.js into respective\n  selectors\n* initial step to getting rid of importing store in other modules\n  which causes testing problems and circular dependency issues\n\nChange-Id: Ifbe6fa74cd75147f57404ff1ecf20839e506346f\n'}]",0,506661,adbf48ae3f52ad691aa4d0e41dc7b8fb09230770,17,5,5,7509,,,0,"Refactor services/utils into selectors

* moves functions from services/utils.js into respective
  selectors
* initial step to getting rid of importing store in other modules
  which causes testing problems and circular dependency issues

Change-Id: Ifbe6fa74cd75147f57404ff1ecf20839e506346f
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/61/506661/5 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/selectors/auth.js', 'src/js/services/utils.js', 'src/js/immutableRecords/appConfig.js', 'src/js/selectors/i18n.js', 'src/js/selectors/appConfig.js']",5,7e3dcacb4d1f347b9444289f7b804d7730f90644,3servicesUtils,"export const getAppConfig = state => state.appConfig; export const getServiceUrlFromAppConfig = (state, service) => state.appConfig.get(service); export const getExcludedLanguages = state => state.appConfig.excludedLanguages; ",,71,8
openstack%2Fnetworking-bagpipe~master~I6b55d80ea510a117e79aad344fd12c0ff62a8df6,openstack/networking-bagpipe,master,I6b55d80ea510a117e79aad344fd12c0ff62a8df6,devstack: create GOPATH/bin before installing gobgp,MERGED,2017-10-06 08:57:05.000000000,2017-10-06 11:50:03.000000000,2017-10-06 11:50:03.000000000,"[{'_account_id': 3}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-10-06 08:57:05.000000000', 'files': ['devstack/plugin.sh.bagpipe_bgp'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/26a9e6ffd23f433a6e572b59fdda8ef2aa663e99', 'message': 'devstack: create GOPATH/bin before installing gobgp\n\nChange-Id: I6b55d80ea510a117e79aad344fd12c0ff62a8df6\n'}]",0,510020,26a9e6ffd23f433a6e572b59fdda8ef2aa663e99,6,2,1,12021,,,0,"devstack: create GOPATH/bin before installing gobgp

Change-Id: I6b55d80ea510a117e79aad344fd12c0ff62a8df6
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/20/510020/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh.bagpipe_bgp'],1,26a9e6ffd23f433a6e572b59fdda8ef2aa663e99,devstack_gobgp_binpath, mkdir -p $GOPATH/bin,,1,0
openstack%2Fpanko~stable%2Focata~I229efdfe016bccb55c3dc2076a881cf23806a07a,openstack/panko,stable/ocata,I229efdfe016bccb55c3dc2076a881cf23806a07a,pass empty url if missing,MERGED,2017-10-05 20:21:36.000000000,2017-10-06 11:45:28.000000000,2017-10-06 11:45:28.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2017-10-05 20:21:36.000000000', 'files': ['panko/storage/__init__.py'], 'web_link': 'https://opendev.org/openstack/panko/commit/5d6394b9c37af500bb55e9cc2ac0d4f334c51f0e', 'message': 'pass empty url if missing\n\ninstead of raising AttributeError\n\nChange-Id: I229efdfe016bccb55c3dc2076a881cf23806a07a\n'}]",0,509896,5d6394b9c37af500bb55e9cc2ac0d4f334c51f0e,7,2,1,6537,,,0,"pass empty url if missing

instead of raising AttributeError

Change-Id: I229efdfe016bccb55c3dc2076a881cf23806a07a
",git fetch https://review.opendev.org/openstack/panko refs/changes/96/509896/1 && git format-patch -1 --stdout FETCH_HEAD,['panko/storage/__init__.py'],1,5d6394b9c37af500bb55e9cc2ac0d4f334c51f0e,attribute," url = (getattr(conf.database, 'event_connection', None) or"," url = (getattr(conf.database, 'event_connection') or",1,1
openstack%2Fhorizon~master~I98b595e443603f1409336ce61811c0ae3cbd2b21,openstack/horizon,master,I98b595e443603f1409336ce61811c0ae3cbd2b21,Do not call servers_update_addresses if no instances loaded,MERGED,2017-08-22 14:55:44.000000000,2017-10-06 11:45:03.000000000,2017-10-06 11:45:03.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 12826}, {'_account_id': 14151}, {'_account_id': 15209}, {'_account_id': 16628}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-08-22 14:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2d2058112bb8e05bf9526bc67d314b3e713e0f3c', 'message': ""Do not call servers_update_addresses if no instances loaded\n\nWe don't need to call neutron's servers_update_addresses on instances\npage if no instances are shown.\n\nChange-Id: I98b595e443603f1409336ce61811c0ae3cbd2b21\n""}, {'number': 2, 'created': '2017-08-22 14:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/005ff143be03d604bbaa5f354b96516b0883a647', 'message': ""Do not call servers_update_addresses if no instances loaded\n\nWe don't need to call neutron's servers_update_addresses on instances\npage if no instances are shown.\n\nChange-Id: I98b595e443603f1409336ce61811c0ae3cbd2b21\n""}, {'number': 3, 'created': '2017-08-22 15:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0fbd5a9b406e531785dc373e8b91f85743b5cdfe', 'message': ""Do not call servers_update_addresses if no instances loaded\n\nWe don't need to call neutron's servers_update_addresses on instances\npage if no instances are shown.\n\nChange-Id: I98b595e443603f1409336ce61811c0ae3cbd2b21\n""}, {'number': 4, 'created': '2017-08-22 20:00:11.000000000', 'files': ['openstack_dashboard/api/neutron.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/f61d41384b6034f1ecbc8d9bd6f1e5e1fc436434', 'message': ""Do not call servers_update_addresses if no instances loaded\n\nWe don't need to call neutron's servers_update_addresses on instances\npage if no instances are shown.\n\nChange-Id: I98b595e443603f1409336ce61811c0ae3cbd2b21\n""}]",4,496275,f61d41384b6034f1ecbc8d9bd6f1e5e1fc436434,23,8,4,1736,,,0,"Do not call servers_update_addresses if no instances loaded

We don't need to call neutron's servers_update_addresses on instances
page if no instances are shown.

Change-Id: I98b595e443603f1409336ce61811c0ae3cbd2b21
",git fetch https://review.opendev.org/openstack/horizon refs/changes/75/496275/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/views.py'],1,2d2058112bb8e05bf9526bc67d314b3e713e0f3c,no-instances-net," # NOTE(e0ne): we don't neet to call neutron if we have no instances if instances: try: api.network.servers_update_addresses(self.request, instances) except Exception: exceptions.handle( self.request, message=_('Unable to retrieve IP addresses from Neutron.'), ignore=True)"," try: api.network.servers_update_addresses(self.request, instances) except Exception: exceptions.handle( self.request, message=_('Unable to retrieve IP addresses from Neutron.'), ignore=True)",10,7
openstack%2Fkeystone~master~Id3cc84fcf199d83a6e225cb1c3a760e34f1ba22e,openstack/keystone,master,Id3cc84fcf199d83a6e225cb1c3a760e34f1ba22e,Update invalid url in admin docs,MERGED,2017-09-11 17:17:55.000000000,2017-10-06 11:38:51.000000000,2017-10-06 11:38:51.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 23659}]","[{'number': 1, 'created': '2017-09-11 17:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cdcf946be546235ec604c7bea68a967297afed1b', 'message': 'Update invalid url in admin docs\n\nUrl has not been updated since the changes to the documentation\nlocation. This fixes the faulty urls.\n\nChange-Id: Id3cc84fcf199d83a6e225cb1c3a760e34f1ba22e\n'}, {'number': 2, 'created': '2017-09-11 17:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/218189b4c2166163ade9d803da8a54984e693c74', 'message': 'Update invalid url in admin docs\n\nUrl has not been updated since the changes to the documentation\nlocation. This fixes the faulty urls.\n\nChange-Id: Id3cc84fcf199d83a6e225cb1c3a760e34f1ba22e\n'}, {'number': 3, 'created': '2017-09-11 17:39:57.000000000', 'files': ['doc/source/admin/identity-concepts.rst', 'doc/source/admin/identity-integrate-with-ldap.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6883e7643ffdf3346caab37dda2d932ee92171ff', 'message': 'Update invalid url in admin docs\n\nUrl has not been updated since the changes to the documentation\nlocation. This fixes the faulty urls.\n\nChange-Id: Id3cc84fcf199d83a6e225cb1c3a760e34f1ba22e\n'}]",3,502507,6883e7643ffdf3346caab37dda2d932ee92171ff,16,5,3,23659,,,0,"Update invalid url in admin docs

Url has not been updated since the changes to the documentation
location. This fixes the faulty urls.

Change-Id: Id3cc84fcf199d83a6e225cb1c3a760e34f1ba22e
",git fetch https://review.opendev.org/openstack/keystone refs/changes/07/502507/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/identity-concepts.rst', 'doc/source/admin/identity-integrate-with-ldap.rst']",2,cdcf946be546235ec604c7bea68a967297afed1b,fix_url, <https://docs.openstack.org/python-openstackclient/latest/>`__, <https://docs.openstack.org/developer/python-openstackclient/command-list.html>`__,3,3
openstack%2Fglance~master~I4ae67457c3e4f5a6bfc3c1db2d305a9b7587395f,openstack/glance,master,I4ae67457c3e4f5a6bfc3c1db2d305a9b7587395f,Fix 500 if user passes name with more than 80 characters,MERGED,2017-09-26 08:54:53.000000000,2017-10-06 11:38:16.000000000,2017-10-06 11:38:16.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 20191}, {'_account_id': 22348}, {'_account_id': 26734}]","[{'number': 1, 'created': '2017-09-26 08:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ac00bddbcf2f32506358c09d77e8a72d68bc26c4', 'message': 'Fix 500 if user passes name with more than 80 characters\n\nFollowing apis are returning 500 error if user passes name with more\nthan 80 characters:\n* md-tag-create\n* md-tag-update\n* md-object-create\n* md-object-update\n* md-property-create\n* md-property-update\n\nThis happens because there is a discrepancy in db column length and\nglance-api length check in schema validation. In database the \'name\'\nfield for these API\'s is defined as of maximum 80 characters and in\nschema it is defined as of maximum 255 characters. So if user passes\nname with more than 80 characters and less than 255 characters\ndatabase fails to store that value and shouts with following error\nwhich leads to 500 error to API user:\n\n(pymysql.err.DataError) (1406, u""Data too long for column \'name\' at\nrow 1"")\n\nFixed this issue by changing the maximum allowed length for \'name\'\nfrom 255 to 80 in schema validation.\n\nCloses-Bug: #1719252\nChange-Id: I4ae67457c3e4f5a6bfc3c1db2d305a9b7587395f\n'}, {'number': 2, 'created': '2017-10-04 07:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7dc723ea7a274e14439937063ff44c7e67faa4f4', 'message': 'Fix 500 if user passes name with more than 80 characters\n\nFollowing apis are returning 500 error if user passes name with more\nthan 80 characters:\n* md-tag-create\n* md-tag-update\n* md-object-create\n* md-object-update\n* md-property-create\n* md-property-update\n\nThis happens because there is a discrepancy in db column length and\nglance-api length check in schema validation. In database the \'name\'\nfield for these API\'s is defined as of maximum 80 characters and in\nschema it is defined as of maximum 255 characters. So if user passes\nname with more than 80 characters and less than 255 characters\ndatabase fails to store that value and shouts with following error\nwhich leads to 500 error to API user:\n\n(pymysql.err.DataError) (1406, u""Data too long for column \'name\' at\nrow 1"")\n\nFixed this issue by changing the maximum allowed length for \'name\'\nfrom 255 to 80 in schema validation.\n\nAPIImpact\nDocImpact\nCloses-Bug: #1719252\nChange-Id: I4ae67457c3e4f5a6bfc3c1db2d305a9b7587395f\n'}, {'number': 3, 'created': '2017-10-05 10:33:43.000000000', 'files': ['api-ref/source/v2/metadefs-parameters.yaml', 'glance/api/v2/metadef_tags.py', 'glance/tests/unit/v2/test_metadef_resources.py', 'api-ref/source/v2/metadefs-namespaces-properties.inc', 'releasenotes/notes/bug-1719252-name-validation-443a2e2a36be2cec.yaml', 'glance/api/v2/metadef_namespaces.py', 'glance/api/v2/metadef_objects.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/2562da28c6171cc5372d3a695af00e22134a360b', 'message': 'Fix 500 if user passes name with more than 80 characters\n\nFollowing apis are returning 500 error if user passes name with more\nthan 80 characters:\n* md-tag-create\n* md-tag-update\n* md-object-create\n* md-object-update\n* md-property-create\n* md-property-update\n\nThis happens because there is a discrepancy in db column length and\nglance-api length check in schema validation. In database the \'name\'\nfield for these API\'s is defined as of maximum 80 characters and in\nschema it is defined as of maximum 255 characters. So if user passes\nname with more than 80 characters and less than 255 characters\ndatabase fails to store that value and shouts with following error\nwhich leads to 500 error to API user:\n\n(pymysql.err.DataError) (1406, u""Data too long for column \'name\' at\nrow 1"")\n\nFixed this issue by changing the maximum allowed length for \'name\'\nfrom 255 to 80 in schema validation.\n\nAPIImpact\nDocImpact\nCloses-Bug: #1719252\nChange-Id: I4ae67457c3e4f5a6bfc3c1db2d305a9b7587395f\n'}]",5,507433,2562da28c6171cc5372d3a695af00e22134a360b,29,9,3,20191,,,0,"Fix 500 if user passes name with more than 80 characters

Following apis are returning 500 error if user passes name with more
than 80 characters:
* md-tag-create
* md-tag-update
* md-object-create
* md-object-update
* md-property-create
* md-property-update

This happens because there is a discrepancy in db column length and
glance-api length check in schema validation. In database the 'name'
field for these API's is defined as of maximum 80 characters and in
schema it is defined as of maximum 255 characters. So if user passes
name with more than 80 characters and less than 255 characters
database fails to store that value and shouts with following error
which leads to 500 error to API user:

(pymysql.err.DataError) (1406, u""Data too long for column 'name' at
row 1"")

Fixed this issue by changing the maximum allowed length for 'name'
from 255 to 80 in schema validation.

APIImpact
DocImpact
Closes-Bug: #1719252
Change-Id: I4ae67457c3e4f5a6bfc3c1db2d305a9b7587395f
",git fetch https://review.opendev.org/openstack/glance refs/changes/33/507433/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/v2/metadef_tags.py', 'glance/tests/unit/v2/test_metadef_resources.py', 'glance/api/v2/metadef_namespaces.py', 'glance/api/v2/metadef_objects.py']",4,ac00bddbcf2f32506358c09d77e8a72d68bc26c4,bug/1719252," ""maxLength"": 80"," ""maxLength"": 255",43,11
openstack%2Fheat~master~Id81fade560b00906893856cbc6f08d9e67dc66a8,openstack/heat,master,Id81fade560b00906893856cbc6f08d9e67dc66a8,[policy in code] Add policy rules,ABANDONED,2017-09-19 18:37:00.000000000,2017-10-06 11:32:25.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-09-19 18:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fc22c898791b67ca76df040390808aaf430fde2c', 'message': '[policy in code] Add policy rules\n\nAdd service rule, software_deployments rules, software_configs\nrules, resource rules, actions rules, build_info rules, events\nrules.\nPartially-Implements: bp policy-in-code\n\nChange-Id: Id81fade560b00906893856cbc6f08d9e67dc66a8\n'}, {'number': 2, 'created': '2017-09-22 05:21:05.000000000', 'files': ['heat/api/openstack/v1/build_info.py', 'heat/policies/events.py', 'heat/policies/build_info.py', 'heat/api/openstack/v1/actions.py', 'heat/api/openstack/v1/software_deployments.py', 'heat/policies/service.py', 'heat/api/openstack/v1/services.py', 'heat/policies/actions.py', 'heat/policies/__init__.py', 'heat/policies/software_deployments.py', 'heat/api/openstack/v1/resources.py', 'heat/policies/resource.py', 'heat/policies/software_configs.py', 'heat/api/openstack/v1/events.py', 'etc/heat/policy.json', 'heat/api/openstack/v1/software_configs.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/23be5610f3c5e435f67fa5888ac51ac8078d26bf', 'message': '[policy in code] Add policy rules\n\nAdd service rule, software_deployments rules, software_configs\nrules, resource rules, actions rules, build_info rules, events\nrules.\nPartially-Implements: bp policy-in-code\n\nChange-Id: Id81fade560b00906893856cbc6f08d9e67dc66a8\n'}]",3,505359,23be5610f3c5e435f67fa5888ac51ac8078d26bf,9,3,2,12404,,,0,"[policy in code] Add policy rules

Add service rule, software_deployments rules, software_configs
rules, resource rules, actions rules, build_info rules, events
rules.
Partially-Implements: bp policy-in-code

Change-Id: Id81fade560b00906893856cbc6f08d9e67dc66a8
",git fetch https://review.opendev.org/openstack/heat refs/changes/59/505359/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/api/openstack/v1/build_info.py', 'heat/policies/events.py', 'heat/policies/build_info.py', 'heat/api/openstack/v1/actions.py', 'heat/api/openstack/v1/software_deployments.py', 'heat/policies/service.py', 'heat/api/openstack/v1/services.py', 'heat/policies/actions.py', 'heat/policies/__init__.py', 'heat/policies/software_deployments.py', 'heat/api/openstack/v1/resources.py', 'heat/policies/resource.py', 'heat/policies/software_configs.py', 'heat/api/openstack/v1/events.py', 'etc/heat/policy.json', 'heat/api/openstack/v1/software_configs.py']",16,fc22c898791b67ca76df040390808aaf430fde2c,policy-and-docs-in-code, @util.registered_policy_enforce @util.registered_policy_enforce @util.registered_policy_enforce @util.registered_policy_enforce @util.registered_policy_enforce, @util.policy_enforce @util.policy_enforce @util.policy_enforce @util.policy_enforce @util.policy_enforce,278,52
openstack%2Fheat~master~Ied95c235bee03c20eeca702e765b5311943c1cb1,openstack/heat,master,Ied95c235bee03c20eeca702e765b5311943c1cb1,[policy in code] Add release note,ABANDONED,2017-09-19 18:37:00.000000000,2017-10-06 11:30:33.000000000,,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 12404}]","[{'number': 1, 'created': '2017-09-19 18:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/12913de1e74b64cb672fd20ec476913a803b8d43', 'message': '[policy in code] Add release note\n\nPartially-Implements: bp policy-in-code\n\nChange-Id: Ied95c235bee03c20eeca702e765b5311943c1cb1\n'}, {'number': 2, 'created': '2017-09-22 05:21:05.000000000', 'files': ['releasenotes/notes/policy-in-code-0d71034dacde42c0.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/eaabcda7127002963bdaa44e9a5e572b82639b7e', 'message': '[policy in code] Add release note\n\nPartially-Implements: bp policy-in-code\n\nChange-Id: Ied95c235bee03c20eeca702e765b5311943c1cb1\n'}]",2,505362,eaabcda7127002963bdaa44e9a5e572b82639b7e,8,3,2,12404,,,0,"[policy in code] Add release note

Partially-Implements: bp policy-in-code

Change-Id: Ied95c235bee03c20eeca702e765b5311943c1cb1
",git fetch https://review.opendev.org/openstack/heat refs/changes/62/505362/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/policy-in-code-0d71034dacde42c0.yaml'],1,12913de1e74b64cb672fd20ec476913a803b8d43,policy-and-docs-in-code,"--- features: - | Heat now support policy in code, which means if you didn't modify any of policy rules, you can leave policy.json file empty. Because from now, heat keeps all default policies under `heat/policies`. You can still modify/generate policy.json file which will override policy rules in code if those rules show in policy.json file. ",,8,0
openstack%2Fnetworking-bgpvpn~master~Iaa4d8e04fdd4f69e98d8a8afa9c4282f9e4d7109,openstack/networking-bgpvpn,master,Iaa4d8e04fdd4f69e98d8a8afa9c4282f9e4d7109,Shrink Tempest scenario manager copy,MERGED,2017-09-23 16:45:33.000000000,2017-10-06 11:30:00.000000000,2017-10-06 11:30:00.000000000,"[{'_account_id': 3}, {'_account_id': 2888}, {'_account_id': 6854}, {'_account_id': 12021}, {'_account_id': 26038}]","[{'number': 1, 'created': '2017-09-23 16:45:33.000000000', 'files': ['networking_bgpvpn_tempest/tests/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/81e308ab9aef114f6254ea6d826d536d2ad1a74c', 'message': 'Shrink Tempest scenario manager copy\n\nscenario manager in tempest plugin was copied from\nTempest to avoid any plugin break.\n\nThis copied version of scenario manager is using lot of\nTempest interfaces. Many of them are not stable and might\nchange which can break plugin.\n\nFor example - https://review.openstack.org/#/c/503875/3\n\nThis commit shrinks the scenario manager copy to keep\nonly required methods.\n\nChange-Id: Iaa4d8e04fdd4f69e98d8a8afa9c4282f9e4d7109\n'}]",0,506874,81e308ab9aef114f6254ea6d826d536d2ad1a74c,12,5,1,8556,,,0,"Shrink Tempest scenario manager copy

scenario manager in tempest plugin was copied from
Tempest to avoid any plugin break.

This copied version of scenario manager is using lot of
Tempest interfaces. Many of them are not stable and might
change which can break plugin.

For example - https://review.openstack.org/#/c/503875/3

This commit shrinks the scenario manager copy to keep
only required methods.

Change-Id: Iaa4d8e04fdd4f69e98d8a8afa9c4282f9e4d7109
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/74/506874/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn_tempest/tests/scenario/manager.py'],1,81e308ab9aef114f6254ea6d826d536d2ad1a74c,shrink-scenario-manager,,"from oslo_serialization import jsonutilsfrom tempest.common import image as common_imagefrom tempest import exceptions cls.flavors_client = cls.os_primary.flavors_client cls.compute_floating_ips_client = ( cls.os_primary.compute_floating_ips_client) if CONF.service_available.glance: # Check if glance v1 is available to determine which client to use. if CONF.image_feature_enabled.api_v1: cls.image_client = cls.os_primary.image_client elif CONF.image_feature_enabled.api_v2: cls.image_client = cls.os_primary.image_client_v2 else: raise lib_exc.InvalidConfiguration( 'Either api_v1 or api_v2 must be True in ' '[image-feature-enabled].') # Compute image client cls.compute_images_client = cls.os_primary.compute_images_client # Nova security groups client cls.compute_security_groups_client = ( cls.os_primary.compute_security_groups_client) cls.compute_security_group_rules_client = ( cls.os_primary.compute_security_group_rules_client) cls.interface_client = cls.os_primary.interfaces_client if CONF.volume_feature_enabled.api_v2: cls.volumes_client = cls.os_primary.volumes_v2_client cls.snapshots_client = cls.os_primary.snapshots_v2_client else: cls.volumes_client = cls.os_primary.volumes_client cls.snapshots_client = cls.os_primary.snapshots_client def create_volume(self, size=None, name=None, snapshot_id=None, imageRef=None, volume_type=None): if size is None: size = CONF.volume.volume_size if imageRef: image = self.compute_images_client.show_image(imageRef)['image'] min_disk = image.get('minDisk') size = max(size, min_disk) if name is None: name = data_utils.rand_name(self.__class__.__name__ + ""-volume"") kwargs = {'display_name': name, 'snapshot_id': snapshot_id, 'imageRef': imageRef, 'volume_type': volume_type, 'size': size} volume = self.volumes_client.create_volume(**kwargs)['volume'] self.addCleanup(self.volumes_client.wait_for_resource_deletion, volume['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.volumes_client.delete_volume, volume['id']) # NOTE(e0ne): Cinder API v2 uses name instead of display_name if 'display_name' in volume: self.assertEqual(name, volume['display_name']) else: self.assertEqual(name, volume['name']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') # The volume retrieved on creation has a non-up-to-date status. # Retrieval after it becomes active ensures correct details. volume = self.volumes_client.show_volume(volume['id'])['volume'] return volume def create_volume_type(self, client=None, name=None, backend_name=None): if not client: client = self.admin_volume_types_client if not name: class_name = self.__class__.__name__ name = data_utils.rand_name(class_name + '-volume-type') randomized_name = data_utils.rand_name('scenario-type-' + name) LOG.debug(""Creating a volume type: %s on backend %s"", randomized_name, backend_name) extra_specs = {} if backend_name: extra_specs = {""volume_backend_name"": backend_name} body = client.create_volume_type(name=randomized_name, extra_specs=extra_specs) volume_type = body['volume_type'] self.assertIn('id', volume_type) self.addCleanup(client.delete_volume_type, volume_type['id']) return volume_type def _create_loginable_secgroup_rule(self, secgroup_id=None): _client = self.compute_security_groups_client _client_rules = self.compute_security_group_rules_client if secgroup_id is None: sgs = _client.list_security_groups()['security_groups'] for sg in sgs: if sg['name'] == 'default': secgroup_id = sg['id'] # These rules are intended to permit inbound ssh and icmp # traffic from all sources, so no group_id is provided. # Setting a group_id would only permit traffic from ports # belonging to the same security group. rulesets = [ { # ssh 'ip_protocol': 'tcp', 'from_port': 22, 'to_port': 22, 'cidr': '0.0.0.0/0', }, { # ping 'ip_protocol': 'icmp', 'from_port': -1, 'to_port': -1, 'cidr': '0.0.0.0/0', } ] rules = list() for ruleset in rulesets: sg_rule = _client_rules.create_security_group_rule( parent_group_id=secgroup_id, **ruleset)['security_group_rule'] rules.append(sg_rule) return rules def _create_security_group(self): # Create security group sg_name = data_utils.rand_name(self.__class__.__name__) sg_desc = sg_name + "" description"" secgroup = self.compute_security_groups_client.create_security_group( name=sg_name, description=sg_desc)['security_group'] self.assertEqual(secgroup['name'], sg_name) self.assertEqual(secgroup['description'], sg_desc) self.addCleanup( test_utils.call_and_ignore_notfound_exc, self.compute_security_groups_client.delete_security_group, secgroup['id']) # Add rules to the security group self._create_loginable_secgroup_rule(secgroup['id']) return secgroup def _image_create(self, name, fmt, path, disk_format=None, properties=None): if properties is None: properties = {} name = data_utils.rand_name('%s-' % name) params = { 'name': name, 'container_format': fmt, 'disk_format': disk_format or fmt, } if CONF.image_feature_enabled.api_v1: params['is_public'] = 'False' params['properties'] = properties params = {'headers': common_image.image_meta_to_headers(**params)} else: params['visibility'] = 'private' # Additional properties are flattened out in the v2 API. params.update(properties) body = self.image_client.create_image(**params) image = body['image'] if 'image' in body else body self.addCleanup(self.image_client.delete_image, image['id']) self.assertEqual(""queued"", image['status']) with open(path, 'rb') as image_file: if CONF.image_feature_enabled.api_v1: self.image_client.update_image(image['id'], data=image_file) else: self.image_client.store_image_file(image['id'], image_file) return image['id'] def glance_image_create(self): img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.img_file aki_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.aki_img_file ari_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.ari_img_file ami_img_path = CONF.scenario.img_dir + ""/"" + CONF.scenario.ami_img_file img_container_format = CONF.scenario.img_container_format img_disk_format = CONF.scenario.img_disk_format img_properties = CONF.scenario.img_properties LOG.debug(""paths: img: %s, container_format: %s, disk_format: %s, "" ""properties: %s, ami: %s, ari: %s, aki: %s"", img_path, img_container_format, img_disk_format, img_properties, ami_img_path, ari_img_path, aki_img_path) try: image = self._image_create('scenario-img', img_container_format, img_path, disk_format=img_disk_format, properties=img_properties) except IOError: LOG.debug(""A qcow2 image was not found. Try to get a uec image."") kernel = self._image_create('scenario-aki', 'aki', aki_img_path) ramdisk = self._image_create('scenario-ari', 'ari', ari_img_path) properties = {'kernel_id': kernel, 'ramdisk_id': ramdisk} image = self._image_create('scenario-ami', 'ami', path=ami_img_path, properties=properties) LOG.debug(""image:%s"", image) return image def create_server_snapshot(self, server, name=None): # Glance client _image_client = self.image_client # Compute client _images_client = self.compute_images_client if name is None: name = data_utils.rand_name(self.__class__.__name__ + 'snapshot') LOG.debug(""Creating a snapshot image for server: %s"", server['name']) image = _images_client.create_image(server['id'], name=name) image_id = image.response['location'].split('images/')[1] waiters.wait_for_image_status(_image_client, image_id, 'active') self.addCleanup(_image_client.wait_for_resource_deletion, image_id) self.addCleanup(test_utils.call_and_ignore_notfound_exc, _image_client.delete_image, image_id) if CONF.image_feature_enabled.api_v1: # In glance v1 the additional properties are stored in the headers. resp = _image_client.check_image(image_id) snapshot_image = common_image.get_image_meta_from_headers(resp) image_props = snapshot_image.get('properties', {}) else: # In glance v2 the additional properties are flattened. snapshot_image = _image_client.show_image(image_id) image_props = snapshot_image bdm = image_props.get('block_device_mapping') if bdm: bdm = jsonutils.loads(bdm) if bdm and 'snapshot_id' in bdm[0]: snapshot_id = bdm[0]['snapshot_id'] self.addCleanup( self.snapshots_client.wait_for_resource_deletion, snapshot_id) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.snapshots_client.delete_snapshot, snapshot_id) waiters.wait_for_volume_resource_status(self.snapshots_client, snapshot_id, 'available') image_name = snapshot_image['name'] self.assertEqual(name, image_name) LOG.debug(""Created snapshot image %s for server %s"", image_name, server['name']) return snapshot_image def nova_volume_attach(self, server, volume_to_attach): volume = self.servers_client.attach_volume( server['id'], volumeId=volume_to_attach['id'], device='/dev/%s' % CONF.compute.volume_device_name)['volumeAttachment'] self.assertEqual(volume_to_attach['id'], volume['id']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'in-use') # Return the updated volume after the attachment return self.volumes_client.show_volume(volume['id'])['volume'] def nova_volume_detach(self, server, volume): self.servers_client.detach_volume(server['id'], volume['id']) waiters.wait_for_volume_resource_status(self.volumes_client, volume['id'], 'available') volume = self.volumes_client.show_volume(volume['id'])['volume'] self.assertEqual('available', volume['status']) def rebuild_server(self, server_id, image=None, preserve_ephemeral=False, wait=True, rebuild_kwargs=None): if image is None: image = CONF.compute.image_ref rebuild_kwargs = rebuild_kwargs or {} LOG.debug(""Rebuilding server (id: %s, image: %s, preserve eph: %s)"", server_id, image, preserve_ephemeral) self.servers_client.rebuild_server( server_id=server_id, image_ref=image, preserve_ephemeral=preserve_ephemeral, **rebuild_kwargs) if wait: waiters.wait_for_server_status(self.servers_client, server_id, 'ACTIVE') def create_floating_ip(self, thing, pool_name=None): """"""Create a floating IP and associates to a server on Nova"""""" if not pool_name: pool_name = CONF.network.floating_network_name floating_ip = (self.compute_floating_ips_client. create_floating_ip(pool=pool_name)['floating_ip']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.compute_floating_ips_client.delete_floating_ip, floating_ip['id']) self.compute_floating_ips_client.associate_floating_ip_to_server( floating_ip['ip'], thing['id']) return floating_ip def create_timestamp(self, ip_address, dev_name=None, mount_path='/mnt', private_key=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key) if dev_name is not None: ssh_client.make_fs(dev_name) ssh_client.mount(dev_name, mount_path) cmd_timestamp = 'sudo sh -c ""date > %s/timestamp; sync""' % mount_path ssh_client.exec_command(cmd_timestamp) timestamp = ssh_client.exec_command('sudo cat %s/timestamp' % mount_path) if dev_name is not None: ssh_client.umount(mount_path) return timestamp def get_timestamp(self, ip_address, dev_name=None, mount_path='/mnt', private_key=None): ssh_client = self.get_remote_client(ip_address, private_key=private_key) if dev_name is not None: ssh_client.mount(dev_name, mount_path) timestamp = ssh_client.exec_command('sudo cat %s/timestamp' % mount_path) if dev_name is not None: ssh_client.umount(mount_path) return timestamp def get_server_ip(self, server): """"""Get the server fixed or floating IP. Based on the configuration we're in, return a correct ip address for validating that a guest is up. """""" if CONF.validation.connect_method == 'floating': # The tests calling this method don't have a floating IP # and can't make use of the validation resources. So the # method is creating the floating IP there. return self.create_floating_ip(server)['ip'] elif CONF.validation.connect_method == 'fixed': # Determine the network name to look for based on config or creds # provider network resources. if CONF.validation.network_for_ssh: addresses = server['addresses'][ CONF.validation.network_for_ssh] else: creds_provider = self._get_credentials_provider() net_creds = creds_provider.get_primary_creds() network = getattr(net_creds, 'network', None) addresses = (server['addresses'][network['name']] if network else []) for address in addresses: if (address['version'] == CONF.validation.ip_version_for_ssh and address['OS-EXT-IPS:type'] == 'fixed'): return address['addr'] raise exceptions.ServerUnreachable(server_id=server['id']) else: raise lib_exc.InvalidConfiguration() class EncryptionScenarioTest(ScenarioTest): """"""Base class for encryption scenario tests"""""" credentials = ['primary', 'admin'] @classmethod def setup_clients(cls): super(EncryptionScenarioTest, cls).setup_clients() if CONF.volume_feature_enabled.api_v2: cls.admin_volume_types_client = cls.os_adm.volume_types_v2_client cls.admin_encryption_types_client =\ cls.os_adm.encryption_types_v2_client else: cls.admin_volume_types_client = cls.os_adm.volume_types_client cls.admin_encryption_types_client =\ cls.os_adm.encryption_types_client def create_encryption_type(self, client=None, type_id=None, provider=None, key_size=None, cipher=None, control_location=None): if not client: client = self.admin_encryption_types_client if not type_id: volume_type = self.create_volume_type() type_id = volume_type['id'] LOG.debug(""Creating an encryption type for volume type: %s"", type_id) client.create_encryption_type( type_id, provider=provider, key_size=key_size, cipher=cipher, control_location=control_location)['encryption'] class ObjectStorageScenarioTest(ScenarioTest): """"""Provide harness to do Object Storage scenario tests. Subclasses implement the tests that use the methods provided by this class. """""" @classmethod def skip_checks(cls): super(ObjectStorageScenarioTest, cls).skip_checks() if not CONF.service_available.swift: skip_msg = (""%s skipped as swift is not available"" % cls.__name__) raise cls.skipException(skip_msg) @classmethod def setup_credentials(cls): cls.set_network_resources() super(ObjectStorageScenarioTest, cls).setup_credentials() operator_role = CONF.object_storage.operator_role cls.os_operator = cls.get_client_manager(roles=[operator_role]) @classmethod def setup_clients(cls): super(ObjectStorageScenarioTest, cls).setup_clients() # Clients for Swift cls.account_client = cls.os_operator.account_client cls.container_client = cls.os_operator.container_client cls.object_client = cls.os_operator.object_client def get_swift_stat(self): """"""get swift status for our user account."""""" self.account_client.list_account_containers() LOG.debug('Swift status information obtained successfully') def create_container(self, container_name=None): name = container_name or data_utils.rand_name( 'swift-scenario-container') self.container_client.create_container(name) # look for the container to assure it is created self.list_and_check_container_objects(name) LOG.debug('Container %s created', name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.container_client.delete_container, name) return name def delete_container(self, container_name): self.container_client.delete_container(container_name) LOG.debug('Container %s deleted', container_name) def upload_object_to_container(self, container_name, obj_name=None): obj_name = obj_name or data_utils.rand_name('swift-scenario-object') obj_data = data_utils.random_bytes() self.object_client.create_object(container_name, obj_name, obj_data) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.object_client.delete_object, container_name, obj_name) return obj_name, obj_data def delete_object(self, container_name, filename): self.object_client.delete_object(container_name, filename) self.list_and_check_container_objects(container_name, not_present_obj=[filename]) def list_and_check_container_objects(self, container_name, present_obj=None, not_present_obj=None): # List objects for a given container and assert which are present and # which are not. if present_obj is None: present_obj = [] if not_present_obj is None: not_present_obj = [] _, object_list = self.container_client.list_container_contents( container_name) if present_obj: for obj in present_obj: self.assertIn(obj, object_list) if not_present_obj: for obj in not_present_obj: self.assertNotIn(obj, object_list) def change_container_acl(self, container_name, acl): metadata_param = {'metadata_prefix': 'x-container-', 'metadata': {'read': acl}} self.container_client.update_container_metadata(container_name, **metadata_param) resp, _ = self.container_client.list_container_metadata(container_name) self.assertEqual(resp['x-container-read'], acl) def download_and_verify(self, container_name, obj_name, expected_data): _, obj = self.object_client.get_object(container_name, obj_name) self.assertEqual(obj, expected_data)",0,483
openstack%2Fglance_store~master~I6d371dc05eb1f8e9debc0135d530f24345bfc7a5,openstack/glance_store,master,I6d371dc05eb1f8e9debc0135d530f24345bfc7a5,Imported Translations from Zanata,MERGED,2017-10-04 19:06:27.000000000,2017-10-06 11:24:24.000000000,2017-10-06 11:24:24.000000000,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 19:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d945ecb507ed73450d43c6e7e8e67f96887ac178', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6d371dc05eb1f8e9debc0135d530f24345bfc7a5\n'}, {'number': 2, 'created': '2017-10-05 10:51:11.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'glance_store/locale/en_GB/LC_MESSAGES/glance_store.po'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/9f336d73653f07a822722a39f83a36101213b554', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I6d371dc05eb1f8e9debc0135d530f24345bfc7a5\n'}]",0,509597,9f336d73653f07a822722a39f83a36101213b554,10,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I6d371dc05eb1f8e9debc0135d530f24345bfc7a5
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/97/509597/2 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/locale/en_GB/LC_MESSAGES/glance_store.po'],1,d945ecb507ed73450d43c6e7e8e67f96887ac178,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2017. #zanata""Project-Id-Version: glance_store 0.21.1.dev17\n""""POT-Creation-Date: 2017-09-22 13:54+0000\n""""PO-Revision-Date: 2017-09-28 03:58+0000\n""msgid """" ""\n"" ""List of enabled Glance stores.\n"" ""\n"" ""Register the storage backends to use for storing disk images\n"" ""as a comma separated list. The default stores enabled for\n"" ""storing disk images with Glance are ``file`` and ``http``.\n"" ""\n"" ""Possible values:\n"" "" * A comma separated list that could include:\n"" "" * file\n"" "" * http\n"" "" * swift\n"" "" * rbd\n"" "" * sheepdog\n"" "" * cinder\n"" "" * vmware\n"" ""\n"" ""Related Options:\n"" "" * default_store\n"" ""\n"" msgstr """" ""\n"" ""List of enabled Glance stores.\n"" ""\n"" ""Register the storage backends to use for storing disk images\n"" ""as a comma separated list. The default stores enabled for\n"" ""storing disk images with Glance are ``file`` and ``http``.\n"" ""\n"" ""Possible values:\n"" "" * A comma separated list that could include:\n"" "" * file\n"" "" * http\n"" "" * swift\n"" "" * rbd\n"" "" * sheepdog\n"" "" * cinder\n"" "" * vmware\n"" ""\n"" ""Related Options:\n"" "" * default_store\n"" ""\n"" msgid """" ""\n"" ""The default scheme to use for storing images.\n"" ""\n"" ""Provide a string value representing the default scheme to use for\n"" ""storing images. If not set, Glance uses ``file`` as the default\n"" ""scheme to store images with the ``file`` store.\n"" ""\n"" ""NOTE: The value given for this configuration option must be a valid\n"" ""scheme for a store registered with the ``stores`` configuration\n"" ""option.\n"" ""\n"" ""Possible values:\n"" "" * file\n"" "" * filesystem\n"" "" * http\n"" "" * https\n"" "" * swift\n"" "" * swift+http\n"" "" * swift+https\n"" "" * swift+config\n"" "" * rbd\n"" "" * sheepdog\n"" "" * cinder\n"" "" * vsphere\n"" ""\n"" ""Related Options:\n"" "" * stores\n"" ""\n"" msgstr """" ""\n"" ""The default scheme to use for storing images.\n"" ""\n"" ""Provide a string value representing the default scheme to use for\n"" ""storing images. If not set, Glance uses ``file`` as the default\n"" ""scheme to store images with the ``file`` store.\n"" ""\n"" ""NOTE: The value given for this configuration option must be a valid\n"" ""scheme for a store registered with the ``stores`` configuration\n"" ""option.\n"" ""\n"" ""Possible values:\n"" "" * file\n"" "" * filesystem\n"" "" * http\n"" "" * https\n"" "" * swift\n"" "" * swift+http\n"" "" * swift+https\n"" "" * swift+config\n"" "" * rbd\n"" "" * sheepdog\n"" "" * cinder\n"" "" * vsphere\n"" ""\n"" ""Related Options:\n"" "" * stores\n"" ""\n"" ","""Project-Id-Version: glance_store 0.20.1.dev18\n""""POT-Creation-Date: 2017-03-22 21:38+0000\n""""PO-Revision-Date: 2016-07-05 01:51+0000\n""",106,3
openstack%2Fironic~master~I7b78e34d52e6a8a96f041465a052abb2c99627fe,openstack/ironic,master,I7b78e34d52e6a8a96f041465a052abb2c99627fe,DNR/DNM Testing interface hotplug functionallity,ABANDONED,2017-01-25 10:59:48.000000000,2017-10-06 11:18:51.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}]","[{'number': 1, 'created': '2017-01-25 10:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6077a244d1be052cc36f3ff41c66eeec69864d84', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\ntempest patch:\nDepends-On: I4fec5c3a145267d4df4189f4982becc73d685bde\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 2, 'created': '2017-01-25 20:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3592f9df53115ff382cc985fc81abce3bd42e446', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\ntempest patch:\nDepends-On: I4fec5c3a145267d4df4189f4982becc73d685bde\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 3, 'created': '2017-01-25 20:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/683875aac133a1c7f20c854a8181c4227e1ee8ac', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\ntempest patch:\nDepends-On: I4fec5c3a145267d4df4189f4982becc73d685bde\n\nnetworking-generic-switch\nDepends-On: I1b2adcabb8edae04785e4723bdec02a54cd7315f\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 4, 'created': '2017-02-07 12:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f633114972197f7ade5a60e6e971922526193ce3', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 5, 'created': '2017-02-07 12:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5cb112d9cac988ea43ec7d37c29edc261e99b236', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 6, 'created': '2017-03-16 13:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a22ea519e2e7b2d45d14b6065459ee17e8a06483', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 7, 'created': '2017-03-27 13:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9fad40ea9361bc17a2a328113c81bd47bbf5685f', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 8, 'created': '2017-03-27 13:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/217a149bfcd89c99955066e904d1ef338d6c6698', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 9, 'created': '2017-03-27 16:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4f26acea5022fdb95addf18f3498555317a9a8ee', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 10, 'created': '2017-03-27 16:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/85dbd6a1eafceecf2a581206fd1667337667de52', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 11, 'created': '2017-03-27 19:57:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/53046b3a5a5b4372e98e087bdf72c46fa55f1a28', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 12, 'created': '2017-03-28 08:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c9cfc60e4c5644ebac943864310616a9954bf16d', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 13, 'created': '2017-03-29 09:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5ecda4ba5260d19a22bb435a37f5bd8989aac64', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 14, 'created': '2017-03-29 10:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9b9adc63466624f72eb2e49e958f89ca2bc009c0', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 15, 'created': '2017-03-29 10:50:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb2e555aff268b47a76dc4b924afaf6c8f0420ca', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 16, 'created': '2017-03-29 12:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/997b404aa2096c37cfd1a4146d2c93b5f35bf7ac', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 17, 'created': '2017-03-30 13:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8d11a31bf9e24a210d540ed8605c02674dd3d893', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 18, 'created': '2017-03-30 14:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2b7f5e4b383cbe1d17c0d1fe352aee96495feb7', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}, {'number': 19, 'created': '2017-03-30 14:05:28.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c9d3082d69ffc1762239dd73b968d8d4b5edd99b', 'message': 'DNR/DNM Testing interface hotplug functionallity\n\nIronic attach/detach patch\nDepends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3\n\nNova patch\nDepends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93\n\nChange-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe\n'}]",0,425123,c9d3082d69ffc1762239dd73b968d8d4b5edd99b,64,6,19,14525,,,0,"DNR/DNM Testing interface hotplug functionallity

Ironic attach/detach patch
Depends-On: Idc9dc37b11950e3aa2864a0a90d6ec2e307926a3

Nova patch
Depends-On: I48c4706b3eb6e0a5105e463236870921d55dbd93

Change-Id: I7b78e34d52e6a8a96f041465a052abb2c99627fe
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/425123/8 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,6077a244d1be052cc36f3ff41c66eeec69864d84,(HEAD,IRONIC_VM_INTERFACE_COUNT=${IRONIC_VM_INTERFACE_COUNT:-2} iniset $TEMPEST_CONFIG compute-feature-enabled interface_attach True,IRONIC_VM_INTERFACE_COUNT=${IRONIC_VM_INTERFACE_COUNT:-1},2,1
openstack%2Fironic~master~I3ec7d825c03b80b55dec2b46bde7e01093002a9e,openstack/ironic,master,I3ec7d825c03b80b55dec2b46bde7e01093002a9e,Prepare devstack to run all tests in one job.,ABANDONED,2016-11-10 12:13:51.000000000,2017-10-06 11:18:14.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}, {'_account_id': 23613}]","[{'number': 1, 'created': '2016-11-10 12:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/602f4aa8536baf8e379665c67cecff27d9a868d0', 'message': 'SUPER WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 2, 'created': '2016-11-10 13:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54628294111c358c9f37443d8966ec8cb50b4010', 'message': 'SUPER WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 3, 'created': '2016-11-10 16:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/93d6ceed9c5eacdea2b4eda7bb6f3be3e73d4ebd', 'message': 'SUPER WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 4, 'created': '2016-11-11 08:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/13bc667545444464ba262aec35eed1407d262710', 'message': 'SUPER WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 5, 'created': '2016-11-11 08:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cf648fb250c57c311e3a282bf612ebc170751f85', 'message': 'SUPER WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 6, 'created': '2016-11-11 08:55:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dc38c8967797ade062fed71a360d9e71aa995d4a', 'message': 'SUPER WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 7, 'created': '2016-11-11 09:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e92880a164f05b6dfe23f6ed17c47958eecd8516', 'message': 'WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 8, 'created': '2016-11-11 11:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f108e219f792298cb563b42f5dd4a0870a1621d4', 'message': 'WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 9, 'created': '2016-11-11 15:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d71d41f0cf76d61efe769c98f2535fde0ba076d7', 'message': 'WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 10, 'created': '2016-11-14 08:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/31230b4de15272bfff29a131c6ab8f101078cd5e', 'message': 'WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 11, 'created': '2016-11-14 08:59:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6d2fa4427116378a988267232c3333db8ed62ebc', 'message': 'WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 12, 'created': '2016-11-14 09:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c630a2521f59218a3d6aa55db31bba6e5f1cacaa', 'message': 'WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 13, 'created': '2016-11-14 10:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b41cb381b273f9d4d00d6b99a5b04eb2150e4a8', 'message': 'WIP: Run all tests in one job.\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}, {'number': 14, 'created': '2016-11-14 12:32:33.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/baremetal_manager.py', 'devstack/tools/ironic/scenarios/full-scenarios.txt', 'devstack/lib/ironic', 'ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py', 'devstack/tools/ironic/scripts/create-node.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5b018ed96a21aa3790d71f9b5260d9d4e8898b9', 'message': 'Prepare devstack to run all tests in one job.\n\nIronic may use different hardware scenarios that are dependent on:\n  * deploy driver\n  * network interface\n  * boot mode: bios|uefi\n  * boot option: localboot|netboot\n  * Others\n\nIn real world they all may be combined in single openstack cluster.\n\nThis patch allows to describe hardware scenarios in the space separated\nfile specified by IRONIC_TEST_SCENARIO_FILE variable and create all\ndescribed scenarios in single devstack setup.\nEach line describes hardware scenarion and its options:\n 1 column: Scenario name. Used in vm name template.\n 2 column: Deploy driver\n 3 column: Boot option\n 4 column: Boot mode.\n\nFor each scenario we create the IRONIC_VM_COUNT vms.\nIronic nodes are enrolled with scenario specific properties which allows\nto use them for flavor properties filtering.\n\nFor each scenario we create two flavors with and without ephemeral disk\nand properties that match corresponding nodes.\nFlavor names uses the following tempate:\nflavor_${driver}_${boot_option}_${boot_mode}_${eph}\n\nChange-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e\n'}]",0,396155,d5b018ed96a21aa3790d71f9b5260d9d4e8898b9,45,7,14,14525,,,0,"Prepare devstack to run all tests in one job.

Ironic may use different hardware scenarios that are dependent on:
  * deploy driver
  * network interface
  * boot mode: bios|uefi
  * boot option: localboot|netboot
  * Others

In real world they all may be combined in single openstack cluster.

This patch allows to describe hardware scenarios in the space separated
file specified by IRONIC_TEST_SCENARIO_FILE variable and create all
described scenarios in single devstack setup.
Each line describes hardware scenarion and its options:
 1 column: Scenario name. Used in vm name template.
 2 column: Deploy driver
 3 column: Boot option
 4 column: Boot mode.

For each scenario we create the IRONIC_VM_COUNT vms.
Ironic nodes are enrolled with scenario specific properties which allows
to use them for flavor properties filtering.

For each scenario we create two flavors with and without ephemeral disk
and properties that match corresponding nodes.
Flavor names uses the following tempate:
flavor_${driver}_${boot_option}_${boot_mode}_${eph}

Change-Id: I3ec7d825c03b80b55dec2b46bde7e01093002a9e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/396155/14 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/tests/scenario/baremetal_manager.py', 'devstack/lib/ironic', 'devstack/tools/ironic/scenarios/full-scenarios.txt', 'ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py', 'devstack/tools/ironic/scripts/create-node.sh']",6,602f4aa8536baf8e379665c67cecff27d9a868d0,(HEAD,"while getopts ""n:c:m:d:a:b:e:E:p:f:l:L:N:D:B:M:"" arg; do D) DRIVER=$OPTARG;; B) BOOT_OPTION=$OPTARG;; M) BOOT_MODE=$OPTARG;;echo $VM_MAC $VBMC_PORT $BRIDGE $switch_id ovs-$NAME $NAME $DRIVER $BOOT_OPTION $BOOT_MODE","while getopts ""n:c:m:d:a:b:e:E:p:f:l:L:N:"" arg; doecho $VM_MAC $VBMC_PORT $BRIDGE $switch_id ovs-$NAME",246,31
openstack%2Fopenstack-ansible-galera_server~master~I4e00e5ddf306b285e276bbf57ee82d4f69aa2743,openstack/openstack-ansible-galera_server,master,I4e00e5ddf306b285e276bbf57ee82d4f69aa2743,templates: Increase max_allowed_packet and net_read_timeout options,ABANDONED,2017-09-27 08:47:28.000000000,2017-10-06 11:12:40.000000000,,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6593}, {'_account_id': 7353}, {'_account_id': 14805}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-27 08:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/45135d31941c149ea2bbf164a36209ca6ff6ed68', 'message': 'templates: Increase max_allowed_packet option to 32M\n\nThe default value for the mysqld process is 4M which may not be enough\nanymore. This leads to problems like the following one:\n\n2017-09-27 02:16:57.182 16925 CRITICAL keystone [-] Unhandled error: DBMigrationError: (pymysql.err.OperationalError) (2013, \'Lost connection to MySQL server during query\') [SQL: u\'ALTER TABLE user ADD CONSTRAINT ixu_user_name_domain_id UNIQUE (domain_id, name)\']\n2017-09-27 02:16:57.182 16925 ERROR keystone Traceback (most recent call last):\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/bin/keystone-manage"", line 10, in <module>\n2017-09-27 02:16:57.182 16925 ERROR keystone     sys.exit(main())\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/manage.py"", line 45, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     cli.main(argv=sys.argv, config_files=config_files)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/cli.py"", line 1331, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     CONF.command.cmd_class.main()\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/cli.py"", line 523, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     upgrades.expand_schema()\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/common/sql/upgrades.py"", line 323, in expand_schema\n2017-09-27 02:16:57.182 16925 ERROR keystone     _sync_common_repo(version=None)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/common/sql/upgrades.py"", line 170, in _sync_common_repo\n2017-09-27 02:16:57.182 16925 ERROR keystone     init_version=init_version, sanity_check=False)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/oslo_db/sqlalchemy/migration.py"", line 81, in db_sync\n2017-09-27 02:16:57.182 16925 ERROR keystone     raise exception.DBMigrationError(ex)\n2017-09-27 02:16:57.182 16925 ERROR keystone DBMigrationError: (pymysql.err.OperationalError) (2013, \'Lost connection to MySQL server during query\') [SQL: u\'ALTER TABLE user ADD CONSTRAINT ixu_user_name_domain_id UNIQUE (domain_id, name)\']\n2017-09-27 02:16:57.182 16925 ERROR keystone\n\nLets increase the value to 32M. According to the upstream documentation\nit\'s safe to increase the value to a higher limit because extra memory\nis only going to be used when really needed.\n\nLink: https://dev.mysql.com/doc/refman/5.7/en/packet-too-large.html\nCloses-Bug: #1719791\nChange-Id: I4e00e5ddf306b285e276bbf57ee82d4f69aa2743\n'}, {'number': 2, 'created': '2017-09-27 09:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/16f42e23973e9492ddb178df7cea0564eb62c7d4', 'message': 'templates: Increase max_allowed_packet and net_read_timeout options\n\nkeystone has recently started to fail with the following error:\n\n2017-09-27 02:16:57.182 16925 CRITICAL keystone [-] Unhandled error: DBMigrationError: (pymysql.err.OperationalError) (2013, \'Lost connection to MySQL server during query\') [SQL: u\'ALTER TABLE user ADD CONSTRAINT ixu_user_name_domain_id UNIQUE (domain_id, name)\']\n2017-09-27 02:16:57.182 16925 ERROR keystone Traceback (most recent call last):\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/bin/keystone-manage"", line 10, in <module>\n2017-09-27 02:16:57.182 16925 ERROR keystone     sys.exit(main())\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/manage.py"", line 45, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     cli.main(argv=sys.argv, config_files=config_files)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/cli.py"", line 1331, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     CONF.command.cmd_class.main()\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/cli.py"", line 523, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     upgrades.expand_schema()\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/common/sql/upgrades.py"", line 323, in expand_schema\n2017-09-27 02:16:57.182 16925 ERROR keystone     _sync_common_repo(version=None)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/common/sql/upgrades.py"", line 170, in _sync_common_repo\n2017-09-27 02:16:57.182 16925 ERROR keystone     init_version=init_version, sanity_check=False)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/oslo_db/sqlalchemy/migration.py"", line 81, in db_sync\n2017-09-27 02:16:57.182 16925 ERROR keystone     raise exception.DBMigrationError(ex)\n2017-09-27 02:16:57.182 16925 ERROR keystone DBMigrationError: (pymysql.err.OperationalError) (2013, \'Lost connection to MySQL server during query\') [SQL: u\'ALTER TABLE user ADD CONSTRAINT ixu_user_name_domain_id UNIQUE (domain_id, name)\']\n2017-09-27 02:16:57.182 16925 ERROR keystone\n\nAccording to the upstream documentation this could happen when the\nserver is waiting for more data from the client or when we are sending\npackets which are greater than max_allowed_packet. So lets increase the\nvalue to 32M. According to the upstream documentation it\'s safe to\nincrease the value to a higher limit because extra memory is only going\nto be used when really needed. Finally, we increase net_read_timeout to\n60 seconds in order to give more time to the transaction to complete on\nbusy or slower hosts.\n\nLink: https://dev.mysql.com/doc/refman/5.7/en/error-lost-connection.html\nCloses-Bug: #1719791\nChange-Id: I4e00e5ddf306b285e276bbf57ee82d4f69aa2743\n'}, {'number': 3, 'created': '2017-09-27 09:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/35776d5d9b51358c50d04f2a38f57c1437d8a507', 'message': 'templates: Increase max_allowed_packet and net_read_timeout options\n\nkeystone has recently started to fail with the following error:\n\n2017-09-27 02:16:57.182 16925 CRITICAL keystone [-] Unhandled error: DBMigrationError: (pymysql.err.OperationalError) (2013, \'Lost connection to MySQL server during query\') [SQL: u\'ALTER TABLE user ADD CONSTRAINT ixu_user_name_domain_id UNIQUE (domain_id, name)\']\n2017-09-27 02:16:57.182 16925 ERROR keystone Traceback (most recent call last):\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/bin/keystone-manage"", line 10, in <module>\n2017-09-27 02:16:57.182 16925 ERROR keystone     sys.exit(main())\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/manage.py"", line 45, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     cli.main(argv=sys.argv, config_files=config_files)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/cli.py"", line 1331, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     CONF.command.cmd_class.main()\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/cli.py"", line 523, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     upgrades.expand_schema()\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/common/sql/upgrades.py"", line 323, in expand_schema\n2017-09-27 02:16:57.182 16925 ERROR keystone     _sync_common_repo(version=None)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/common/sql/upgrades.py"", line 170, in _sync_common_repo\n2017-09-27 02:16:57.182 16925 ERROR keystone     init_version=init_version, sanity_check=False)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/oslo_db/sqlalchemy/migration.py"", line 81, in db_sync\n2017-09-27 02:16:57.182 16925 ERROR keystone     raise exception.DBMigrationError(ex)\n2017-09-27 02:16:57.182 16925 ERROR keystone DBMigrationError: (pymysql.err.OperationalError) (2013, \'Lost connection to MySQL server during query\') [SQL: u\'ALTER TABLE user ADD CONSTRAINT ixu_user_name_domain_id UNIQUE (domain_id, name)\']\n2017-09-27 02:16:57.182 16925 ERROR keystone\n\nAccording to the upstream documentation this could happen when the\nserver is waiting for more data from the client or when we are sending\npackets which are greater than max_allowed_packet. So lets increase the\nvalue to 32M. According to the upstream documentation it\'s safe to\nincrease the value to a higher limit because extra memory is only going\nto be used when really needed. Finally, we increase net_read_timeout to\n60 seconds in order to give more time to the transaction to complete on\nbusy or slower hosts.\n\nLink: https://dev.mysql.com/doc/refman/5.7/en/error-lost-connection.html\nCloses-Bug: #1719791\nChange-Id: I4e00e5ddf306b285e276bbf57ee82d4f69aa2743\n'}, {'number': 4, 'created': '2017-09-27 09:28:31.000000000', 'files': ['templates/my.cnf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/1e70388a1520bf3031b378a6c9009c532f252781', 'message': 'templates: Increase max_allowed_packet and net_read_timeout options\n\nkeystone has recently started to fail with the following error:\n\n2017-09-27 02:16:57.182 16925 CRITICAL keystone [-] Unhandled error: DBMigrationError: (pymysql.err.OperationalError) (2013, \'Lost connection to MySQL server during query\') [SQL: u\'ALTER TABLE user ADD CONSTRAINT ixu_user_name_domain_id UNIQUE (domain_id, name)\']\n2017-09-27 02:16:57.182 16925 ERROR keystone Traceback (most recent call last):\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/bin/keystone-manage"", line 10, in <module>\n2017-09-27 02:16:57.182 16925 ERROR keystone     sys.exit(main())\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/manage.py"", line 45, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     cli.main(argv=sys.argv, config_files=config_files)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/cli.py"", line 1331, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     CONF.command.cmd_class.main()\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/cli.py"", line 523, in main\n2017-09-27 02:16:57.182 16925 ERROR keystone     upgrades.expand_schema()\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/common/sql/upgrades.py"", line 323, in expand_schema\n2017-09-27 02:16:57.182 16925 ERROR keystone     _sync_common_repo(version=None)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/common/sql/upgrades.py"", line 170, in _sync_common_repo\n2017-09-27 02:16:57.182 16925 ERROR keystone     init_version=init_version, sanity_check=False)\n2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/oslo_db/sqlalchemy/migration.py"", line 81, in db_sync\n2017-09-27 02:16:57.182 16925 ERROR keystone     raise exception.DBMigrationError(ex)\n2017-09-27 02:16:57.182 16925 ERROR keystone DBMigrationError: (pymysql.err.OperationalError) (2013, \'Lost connection to MySQL server during query\') [SQL: u\'ALTER TABLE user ADD CONSTRAINT ixu_user_name_domain_id UNIQUE (domain_id, name)\']\n2017-09-27 02:16:57.182 16925 ERROR keystone\n\nAccording to the upstream documentation this could happen when the\nserver is waiting for more data from the client or when we are sending\npackets which are greater than max_allowed_packet. So lets increase the\nvalue to 32M. According to the upstream documentation it\'s safe to\nincrease the value to a higher limit because extra memory is only going\nto be used when really needed. Finally, we increase net_read_timeout to\n60 seconds in order to give more time to the transaction to complete on\nbusy or slower hosts.\n\nLink: https://dev.mysql.com/doc/refman/5.7/en/error-lost-connection.html\nCloses-Bug: #1719791\nChange-Id: I4e00e5ddf306b285e276bbf57ee82d4f69aa2743\n'}]",0,507789,1e70388a1520bf3031b378a6c9009c532f252781,10,6,4,23163,,,0,"templates: Increase max_allowed_packet and net_read_timeout options

keystone has recently started to fail with the following error:

2017-09-27 02:16:57.182 16925 CRITICAL keystone [-] Unhandled error: DBMigrationError: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query') [SQL: u'ALTER TABLE user ADD CONSTRAINT ixu_user_name_domain_id UNIQUE (domain_id, name)']
2017-09-27 02:16:57.182 16925 ERROR keystone Traceback (most recent call last):
2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/bin/keystone-manage"", line 10, in <module>
2017-09-27 02:16:57.182 16925 ERROR keystone     sys.exit(main())
2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/manage.py"", line 45, in main
2017-09-27 02:16:57.182 16925 ERROR keystone     cli.main(argv=sys.argv, config_files=config_files)
2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/cli.py"", line 1331, in main
2017-09-27 02:16:57.182 16925 ERROR keystone     CONF.command.cmd_class.main()
2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/cmd/cli.py"", line 523, in main
2017-09-27 02:16:57.182 16925 ERROR keystone     upgrades.expand_schema()
2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/common/sql/upgrades.py"", line 323, in expand_schema
2017-09-27 02:16:57.182 16925 ERROR keystone     _sync_common_repo(version=None)
2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/keystone/common/sql/upgrades.py"", line 170, in _sync_common_repo
2017-09-27 02:16:57.182 16925 ERROR keystone     init_version=init_version, sanity_check=False)
2017-09-27 02:16:57.182 16925 ERROR keystone   File ""/openstack/venvs/keystone-testing/local/lib/python2.7/site-packages/oslo_db/sqlalchemy/migration.py"", line 81, in db_sync
2017-09-27 02:16:57.182 16925 ERROR keystone     raise exception.DBMigrationError(ex)
2017-09-27 02:16:57.182 16925 ERROR keystone DBMigrationError: (pymysql.err.OperationalError) (2013, 'Lost connection to MySQL server during query') [SQL: u'ALTER TABLE user ADD CONSTRAINT ixu_user_name_domain_id UNIQUE (domain_id, name)']
2017-09-27 02:16:57.182 16925 ERROR keystone

According to the upstream documentation this could happen when the
server is waiting for more data from the client or when we are sending
packets which are greater than max_allowed_packet. So lets increase the
value to 32M. According to the upstream documentation it's safe to
increase the value to a higher limit because extra memory is only going
to be used when really needed. Finally, we increase net_read_timeout to
60 seconds in order to give more time to the transaction to complete on
busy or slower hosts.

Link: https://dev.mysql.com/doc/refman/5.7/en/error-lost-connection.html
Closes-Bug: #1719791
Change-Id: I4e00e5ddf306b285e276bbf57ee82d4f69aa2743
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/89/507789/3 && git format-patch -1 --stdout FETCH_HEAD,['templates/my.cnf.j2'],1,45135d31941c149ea2bbf164a36209ca6ff6ed68,bug/1719791,max_allowed_packet = 32Mmax_allowed_packet = 32M,max_allowed_packet = 16M,2,1
openstack%2Fmagnum~master~I2d799d51bcb1ec61765ad9f61d763b2410fbdc26,openstack/magnum,master,I2d799d51bcb1ec61765ad9f61d763b2410fbdc26,Correct some links in user-guide,ABANDONED,2017-09-18 10:29:15.000000000,2017-10-06 10:48:54.000000000,,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 13861}]","[{'number': 1, 'created': '2017-09-18 10:29:15.000000000', 'files': ['doc/source/user/index.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/7a83f0577613bf85e16af8c022da1a4aa0ffcc67', 'message': 'Correct some links in user-guide\n\nSome links in the doc were wrong, this patch fixed the issue.\n\nTODO: The user-guide currently is not formatted correctly. Will\nsubmit another patch to fix the formatting issues.\n\nChange-Id: I2d799d51bcb1ec61765ad9f61d763b2410fbdc26\n'}]",0,504906,7a83f0577613bf85e16af8c022da1a4aa0ffcc67,5,3,1,10206,,,0,"Correct some links in user-guide

Some links in the doc were wrong, this patch fixed the issue.

TODO: The user-guide currently is not formatted correctly. Will
submit another patch to fix the formatting issues.

Change-Id: I2d799d51bcb1ec61765ad9f61d763b2410fbdc26
",git fetch https://review.opendev.org/openstack/magnum refs/changes/06/504906/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/index.rst'],1,7a83f0577613bf85e16af8c022da1a4aa0ffcc67,,<https://docs.openstack.org/magnum/latest/admin/troubleshooting-guide.html#heat-stacks>`_.<https://docs.openstack.org/magnum/latest/user/#id7>`_,<https://github.com/openstack/magnum/blob/master/doc/source/troubleshooting-guide.rst#heat-stacks>`_.<https://github.com/openstack/magnum/blob/master/doc/source/dev/kubernetes-load-balancer.rst>`_,2,2
openstack%2Ftripleo-quickstart-extras~master~I1b3d03316505e33e5c7dd1fc4a01b3741d1c0bfd,openstack/tripleo-quickstart-extras,master,I1b3d03316505e33e5c7dd1fc4a01b3741d1c0bfd,latest version of DLRN breaks CI,MERGED,2017-09-29 22:11:03.000000000,2017-10-06 10:44:37.000000000,2017-10-05 06:49:12.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-09-29 22:11:03.000000000', 'files': ['roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c1fe7f84b9d3071adac12d8c2938d827408eb72f', 'message': 'latest version of DLRN breaks CI\n\nA new version of DLRN was released on the 27th.\nThis may break CI, see the bug referenced.\n\nCloses-Bug: #1720458\nChange-Id: I1b3d03316505e33e5c7dd1fc4a01b3741d1c0bfd\n'}]",0,508628,c1fe7f84b9d3071adac12d8c2938d827408eb72f,16,7,1,9592,,,0,"latest version of DLRN breaks CI

A new version of DLRN was released on the 27th.
This may break CI, see the bug referenced.

Closes-Bug: #1720458
Change-Id: I1b3d03316505e33e5c7dd1fc4a01b3741d1c0bfd
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/28/508628/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,c1fe7f84b9d3071adac12d8c2938d827408eb72f,bug/1720458, version: 0.4.0, state: latest,1,1
openstack%2Fmistral~master~Iecc1b87e00d9457ae124cb0b8fd46b3fb36d08ff,openstack/mistral,master,Iecc1b87e00d9457ae124cb0b8fd46b3fb36d08ff,Added created_at and updated_at fields to functions task() and exection(),MERGED,2017-10-03 22:12:50.000000000,2017-10-06 10:43:40.000000000,2017-10-06 10:43:40.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 26867}]","[{'number': 1, 'created': '2017-10-03 22:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5e0c6afd8c99583b255a3bf6dfd40e53eff7adc0', 'message': 'Added created_at and updated_at fields to functions task() and exection()\n\nChange-Id: Iecc1b87e00d9457ae124cb0b8fd46b3fb36d08ff\n'}, {'number': 2, 'created': '2017-10-04 00:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/7002c43e74443543e3c2f84b882350204745f140', 'message': 'Added created_at and updated_at fields to functions task() and exection()\n\nChange-Id: Iecc1b87e00d9457ae124cb0b8fd46b3fb36d08ff\n'}, {'number': 3, 'created': '2017-10-06 03:47:53.000000000', 'files': ['mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/tests/unit/expressions/test_yaql_expression.py', 'mistral/utils/expression_utils.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/2871812788410ecac4298e2888a5460dfcdfa65e', 'message': 'Added created_at and updated_at fields to functions task() and exection()\n\nChange-Id: Iecc1b87e00d9457ae124cb0b8fd46b3fb36d08ff\n'}]",0,509301,2871812788410ecac4298e2888a5460dfcdfa65e,12,4,3,26867,,,0,"Added created_at and updated_at fields to functions task() and exection()

Change-Id: Iecc1b87e00d9457ae124cb0b8fd46b3fb36d08ff
",git fetch https://review.opendev.org/openstack/mistral refs/changes/01/509301/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/expressions/test_jinja_expression.py', 'mistral/tests/unit/expressions/test_yaql_expression.py', 'mistral/utils/expression_utils.py']",3,5e0c6afd8c99583b255a3bf6dfd40e53eff7adc0,feature/times-on-tasks-and-executions," 'created_at': wf_ex.created_at.isoformat(' '), 'updated_at': wf_ex.updated_at.isoformat(' ') 'workflow_execution_id': task_ex.workflow_execution_id, 'created_at': task_ex.created_at.isoformat(' '), 'updated_at': task_ex.updated_at.isoformat(' ')", 'created_at': wf_ex.created_at.isoformat(' ') 'workflow_execution_id': task_ex.workflow_execution_id,29,10
openstack%2Ftripleo-quickstart-extras~master~I133eb3cd2c13cd66b3264d496460293a27476d59,openstack/tripleo-quickstart-extras,master,I133eb3cd2c13cd66b3264d496460293a27476d59,Use sub_nodes_private file for getting IP of multinode,MERGED,2017-10-02 04:16:22.000000000,2017-10-06 10:43:31.000000000,2017-10-06 10:43:31.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-10-02 04:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f1563ad5249f26d08ddccfba2821d61428627312', 'message': 'Use sub_nodes_private file for getting IP of multinode\n\nsub_nodes file is deprecated, use sub_nodes_private instead\n\nChange-Id: I133eb3cd2c13cd66b3264d496460293a27476d59\n'}, {'number': 2, 'created': '2017-10-02 08:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6bd62a5c816f7158909862ba41794279422b58e2', 'message': 'Use sub_nodes_private file for getting IP of multinode\n\nsub_nodes file is deprecated, use sub_nodes_private instead\n\nChange-Id: I133eb3cd2c13cd66b3264d496460293a27476d59\n'}, {'number': 3, 'created': '2017-10-04 03:18:27.000000000', 'files': ['roles/build-test-packages/defaults/main.yml', 'roles/overcloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d61338445bf33d7c8c60bb2efcd62ba542a1fdcd', 'message': 'Use sub_nodes_private file for getting IP of multinode\n\nsub_nodes file is deprecated, use sub_nodes_private instead\n\nChange-Id: I133eb3cd2c13cd66b3264d496460293a27476d59\n'}]",0,508800,d61338445bf33d7c8c60bb2efcd62ba542a1fdcd,51,9,3,10969,,,0,"Use sub_nodes_private file for getting IP of multinode

sub_nodes file is deprecated, use sub_nodes_private instead

Change-Id: I133eb3cd2c13cd66b3264d496460293a27476d59
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/00/508800/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/defaults/main.yml'],1,f1563ad5249f26d08ddccfba2821d61428627312,fixci," hosts: ""$(sed -n 1,1p /etc/nodepool/sub_nodes_private)"""," hosts: ""$(sed -n 1,1p /etc/nodepool/sub_nodes)""",1,1
openstack%2Fzun~master~I4b0cf1203f7d7ddda240106bd39ef35bce604810,openstack/zun,master,I4b0cf1203f7d7ddda240106bd39ef35bce604810,Implement basic policy module in code,MERGED,2017-10-02 20:20:37.000000000,2017-10-06 10:38:33.000000000,2017-10-06 10:38:33.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 11536}, {'_account_id': 19741}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 23630}, {'_account_id': 24441}]","[{'number': 1, 'created': '2017-10-02 20:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9ce879b0a565a6c1526d1a66c666236b83ede807', 'message': 'Implement basic policy module in code\n\nThis change prepares the zun project to start implementing policies\nin code. Subsequent patches will register more zun policies in code\nand remove the corresponding entry from the policy file maintained in\nsource.\n\nThis is part of a community effort to provide better user experience\nfor those having to maintain RBAC policy. More information on this\neffort can be found below:\n\n  https://governance.openstack.org/tc/goals/queens/policy-in-code.html\n\nbp policy-and-docs-in-code\n\nChange-Id: I4b0cf1203f7d7ddda240106bd39ef35bce604810\n'}, {'number': 2, 'created': '2017-10-03 04:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/dd09b4c361f85a8b1e508e46a9fb204fdd917f5e', 'message': 'Implement basic policy module in code\n\nThis change prepares the zun project to start implementing policies\nin code. Subsequent patches will register more zun policies in code\nand remove the corresponding entry from the policy file maintained in\nsource.\n\nThis is part of a community effort to provide better user experience\nfor those having to maintain RBAC policy. More information on this\neffort can be found below:\n\n  https://governance.openstack.org/tc/goals/queens/policy-in-code.html\n\nbp policy-and-docs-in-code\n\nChange-Id: I4b0cf1203f7d7ddda240106bd39ef35bce604810\n'}, {'number': 3, 'created': '2017-10-03 14:15:56.000000000', 'files': ['zun/common/policies/base.py', '.gitignore', 'zun/common/policy.py', 'zun/tests/fake_policy.py', 'zun/common/policies/__init__.py', 'etc/zun/policy.json', 'setup.cfg', 'etc/zun/zun-policy-generator.conf', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/4b46db7148b88239425d7567bfef2421a8e692c7', 'message': 'Implement basic policy module in code\n\nThis change prepares the zun project to start implementing policies\nin code. Subsequent patches will register more zun policies in code\nand remove the corresponding entry from the policy file maintained in\nsource.\n\nThis is part of a community effort to provide better user experience\nfor those having to maintain RBAC policy. More information on this\neffort can be found below:\n\n  https://governance.openstack.org/tc/goals/queens/policy-in-code.html\n\nbp policy-and-docs-in-code\n\nChange-Id: I4b0cf1203f7d7ddda240106bd39ef35bce604810\n'}]",0,508984,4b46db7148b88239425d7567bfef2421a8e692c7,24,9,3,5046,,,0,"Implement basic policy module in code

This change prepares the zun project to start implementing policies
in code. Subsequent patches will register more zun policies in code
and remove the corresponding entry from the policy file maintained in
source.

This is part of a community effort to provide better user experience
for those having to maintain RBAC policy. More information on this
effort can be found below:

  https://governance.openstack.org/tc/goals/queens/policy-in-code.html

bp policy-and-docs-in-code

Change-Id: I4b0cf1203f7d7ddda240106bd39ef35bce604810
",git fetch https://review.opendev.org/openstack/zun refs/changes/84/508984/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/policies/base.py', '.gitignore', 'zun/common/policies/__init__.py', 'etc/zun/policy.json', 'setup.cfg', 'etc/zun/zun-policy-generator.conf', 'tox.ini']",7,9ce879b0a565a6c1526d1a66c666236b83ede807,policy-and-docs-in-code,[testenv:genpolicy] commands = oslopolicy-sample-generator --config-file etc/zun/zun-policy-generator.conf ,,70,3
openstack%2Ftripleo-docs~master~I25b0d9fa64cd474a844b5f3e6c126395a4e80f2c,openstack/tripleo-docs,master,I25b0d9fa64cd474a844b5f3e6c126395a4e80f2c,docs: remove ALL the unnecessary blockquotes,MERGED,2017-09-15 20:51:46.000000000,2017-10-06 10:36:58.000000000,2017-10-06 10:36:58.000000000,"[{'_account_id': 3}, {'_account_id': 8042}, {'_account_id': 9317}, {'_account_id': 10873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-15 20:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/fc58d7edf875c6c9aace445c3204a7eabe721f9d', 'message': 'docs: advanced deployment: remove unnecessary blockquotes\n\nDue to missing/superflous spaces, some of the content in the\nguide is displayed as blockquote without being really quoted\ncontent. This change adds/removes spaces to remove the\ngenerated HTML blockquotes.\n\nFollow up patches will deal with the other install guide sections\nmore in details.\n\nChange-Id: I25b0d9fa64cd474a844b5f3e6c126395a4e80f2c\n'}, {'number': 2, 'created': '2017-10-04 09:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/48c5e47ac59f09f28e590829f4cc6e91964421f3', 'message': 'docs: advanced deployment: remove unnecessary blockquotes\n\nDue to missing/superflous spaces, some of the content in the\nguide is displayed as blockquote without being really quoted\ncontent. This change adds/removes spaces to remove the\ngenerated HTML blockquotes.\n\nFollow up patches will deal with the other install guide sections\nmore in details.\n\nChange-Id: I25b0d9fa64cd474a844b5f3e6c126395a4e80f2c\n'}, {'number': 3, 'created': '2017-10-06 07:54:19.000000000', 'files': ['doc/source/install/basic_deployment/basic_deployment_ui.rst', 'doc/source/install/post_deployment/vm_snapshot.rst', 'doc/source/install/advanced_deployment/custom_roles.rst', 'doc/source/install/mistral-api/mistral-api.rst', 'doc/source/install/advanced_deployment/ovs_dpdk_config.rst', 'doc/source/install/advanced_deployment/node_placement.rst', 'doc/source/install/advanced_deployment/deploy_manila.rst', 'doc/source/install/advanced_deployment/ops_tools.rst', 'doc/source/install/advanced_deployment/node_config.rst', 'doc/source/install/basic_deployment/basic_deployment_cli.rst', 'doc/source/install/containers_deployment/architecture.rst', 'doc/source/install/advanced_deployment/extra_config.rst', 'doc/source/install/post_deployment/upgrade.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4592ed06f9ca8dc75c6209eb789564b81d57caa2', 'message': 'docs: remove ALL the unnecessary blockquotes\n\nDue to missing/superflous spaces, some of the content in the\nguide is displayed as blockquote without being really quoted\ncontent. This change adds/removes spaces to remove ALL the\ngenerated HTML blockquotes.\n\nChange-Id: I25b0d9fa64cd474a844b5f3e6c126395a4e80f2c\n'}]",0,504518,4592ed06f9ca8dc75c6209eb789564b81d57caa2,15,5,3,11303,,,0,"docs: remove ALL the unnecessary blockquotes

Due to missing/superflous spaces, some of the content in the
guide is displayed as blockquote without being really quoted
content. This change adds/removes spaces to remove ALL the
generated HTML blockquotes.

Change-Id: I25b0d9fa64cd474a844b5f3e6c126395a4e80f2c
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/18/504518/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/advanced_deployment/ovs_dpdk_config.rst', 'doc/source/install/advanced_deployment/node_placement.rst', 'doc/source/install/advanced_deployment/deploy_manila.rst', 'doc/source/install/advanced_deployment/ops_tools.rst', 'doc/source/install/advanced_deployment/node_config.rst', 'doc/source/install/advanced_deployment/extra_config.rst', 'doc/source/install/advanced_deployment/custom_roles.rst']",7,fc58d7edf875c6c9aace445c3204a7eabe721f9d,docs/blockquote,"1. Copy the default roles provided by `tripleo-heat-templates`::* name: Name of the role e.g ""CustomController"", mandatory * ServicesDefault: List of services, optional, defaults to an empty list See the default roles_data.yaml or overcloud-resource-registry-puppet.j2.yaml for the list of supported services. Both files can be found in the top tripleo-heat-templates folder* CountDefault: Default number of nodes, defaults to zero * HostnameFormatDefault: Format string for hostname, optional * Description: A few sentences describing the role and information pertaining to the usage of the role.","1. Copy the default roles provided by `tripleo-heat-templates`: * name: Name of the role e.g ""CustomController"", mandatory * ServicesDefault: List of services, optional, defaults to an empty list See the default roles_data.yaml or overcloud-resource-registry-puppet.j2.yaml for the list of supported services. Both files can be found in the top tripleo-heat-templates folder * CountDefault: Default number of nodes, defaults to zero * HostnameFormatDefault: Format string for hostname, optional * Description: A few sentences describing the role and information pertaining to the usage of the role.",81,81
openstack%2Fcookbook-openstack-common~master~I02accd55ab946f771a533670a9f810409ef03b90,openstack/cookbook-openstack-common,master,I02accd55ab946f771a533670a9f810409ef03b90,"Fix ""Fix handling of ZUUL_CHANGES""",MERGED,2017-10-05 09:44:31.000000000,2017-10-06 10:34:43.000000000,2017-10-06 10:34:43.000000000,"[{'_account_id': 3}, {'_account_id': 11915}, {'_account_id': 19193}, {'_account_id': 22348}, {'_account_id': 24734}]","[{'number': 1, 'created': '2017-10-05 09:44:31.000000000', 'files': ['bootstrap.sh'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-common/commit/382a9db4978ba516d729fcc41117f716dcdad8b5', 'message': 'Fix ""Fix handling of ZUUL_CHANGES""\n\nWe need quotes here in order to successfully detect empty strings.\n\nChange-Id: I02accd55ab946f771a533670a9f810409ef03b90\n'}]",0,509731,382a9db4978ba516d729fcc41117f716dcdad8b5,9,5,1,13252,,,0,"Fix ""Fix handling of ZUUL_CHANGES""

We need quotes here in order to successfully detect empty strings.

Change-Id: I02accd55ab946f771a533670a9f810409ef03b90
",git fetch https://review.opendev.org/openstack/cookbook-openstack-common refs/changes/31/509731/1 && git format-patch -1 --stdout FETCH_HEAD,['bootstrap.sh'],1,382a9db4978ba516d729fcc41117f716dcdad8b5,fix-fix," if [ -n ""$cookbook_name"" ]; then", if [ -n $cookbook_name ]; then,1,1
openstack%2Frequirements~master~Iaed7717078ea78830cc29b193f236d8f73319993,openstack/requirements,master,Iaed7717078ea78830cc29b193f236d8f73319993,Add project copy of the global zuul jobs for requirements,ABANDONED,2017-09-29 11:17:04.000000000,2017-10-06 10:33:48.000000000,,"[{'_account_id': 6593}, {'_account_id': 12898}, {'_account_id': 13404}, {'_account_id': 14288}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-29 11:17:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6be07307053a3ab9216ccc876f48192964528b9d', 'message': 'Add project copy of the global zuul jobs for requirements\n\nThis allows us to manage them on our own going forward.\n\nChange-Id: Iaed7717078ea78830cc29b193f236d8f73319993\n'}]",0,508490,6be07307053a3ab9216ccc876f48192964528b9d,9,6,1,6593,,,0,"Add project copy of the global zuul jobs for requirements

This allows us to manage them on our own going forward.

Change-Id: Iaed7717078ea78830cc29b193f236d8f73319993
",git fetch https://review.opendev.org/openstack/requirements refs/changes/90/508490/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6be07307053a3ab9216ccc876f48192964528b9d,zuulv3,- project: name: openstack/requirements periodic: jobs: - build-wheel-mirror - release-wheel-mirror: dependencies: - build-wheel-mirror - legacy-propose-requirements-constraints-master templates: - merge-check - openstack-pypy-jobs-nonvoting - publish-openstack-python-docs - openstack-python35-jobs - publish-to-pypi check: jobs: - build-openstack-sphinx-docs: branches: master - openstack-tox-pep8 - openstack-tox-py27 - legacy-requirements-integration-dsvm-ubuntu-trusty: branches: ^stable/newton$ - legacy-requirements-integration-dsvm - legacy-requirements-tox-babel: files: - ^babel-test/.* - ^tox.ini - ^upper-constraints.txt - legacy-requirements-tox-py27-check-uc: files: ^upper-constraints.*txt$ - legacy-requirements-tox-py35-check-uc: branches: ^(?!stable/(newton|ocata|pike)).*$ files: ^upper-constraints.*txt$ - legacy-requirements-tox-validate - legacy-requirements-tox-validate-projects: branches: master - legacy-grenade-dsvm-neutron-multinode: branches: ^(?!stable/newton).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - legacy-cross-cinder-python27: files: ^upper-constraints.txt$ - legacy-cross-cinder-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-glance-python27: files: ^upper-constraints.txt$ - legacy-cross-glance-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-horizon-python27: files: ^upper-constraints.txt$ - legacy-cross-horizon-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-keystone-python27: files: ^upper-constraints.txt$ - legacy-cross-keystone-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-neutron-python27: files: ^upper-constraints.txt$ - legacy-cross-neutron-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-nova-python27: files: ^upper-constraints.txt$ - legacy-cross-nova-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-nova-func: files: ^upper-constraints.txt$ - legacy-cross-swift-python27: files: ^upper-constraints.txt$ - legacy-cross-swift-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-tempest-dsvm-neutron-full: branches: ^(?!driverfixes/).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - legacy-grenade-dsvm-neutron: branches: ^(?!stable/newton).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ gate: queue: integrated jobs: - build-openstack-sphinx-docs: branches: master - openstack-tox-pep8 - openstack-tox-py27 - legacy-requirements-integration-dsvm-ubuntu-trusty: branches: ^stable/newton$ - legacy-requirements-integration-dsvm - legacy-requirements-tox-babel: files: - ^babel-test/.* - ^tox.ini - ^upper-constraints.txt - legacy-requirements-tox-py27-check-uc: files: ^upper-constraints.*txt$ - legacy-requirements-tox-py35-check-uc: branches: ^(?!stable/(newton|ocata|pike)).*$ files: ^upper-constraints.*txt$ - legacy-requirements-tox-validate - legacy-requirements-tox-validate-projects: branches: master - legacy-grenade-dsvm-neutron-multinode: branches: ^(?!stable/newton).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - legacy-cross-cinder-python27: files: ^upper-constraints.txt$ - legacy-cross-cinder-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-glance-python27: files: ^upper-constraints.txt$ - legacy-cross-glance-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-horizon-python27: files: ^upper-constraints.txt$ - legacy-cross-horizon-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-keystone-python27: files: ^upper-constraints.txt$ - legacy-cross-keystone-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-neutron-python27: files: ^upper-constraints.txt$ - legacy-cross-neutron-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-nova-python27: files: ^upper-constraints.txt$ - legacy-cross-nova-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-cross-nova-func: files: ^upper-constraints.txt$ - legacy-cross-swift-python27: files: ^upper-constraints.txt$ - legacy-cross-swift-python35: branches: ^(?!stable/(newton|ocata)).*$ files: ^upper-constraints.txt$ - legacy-tempest-dsvm-neutron-full: branches: ^(?!driverfixes/).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - legacy-grenade-dsvm-neutron: branches: ^(?!stable/newton).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ post: jobs: - propose-updates: vars: update_target: requirements - publish-openstack-python-branch-tarball experimental: jobs: - legacy-tempest-dsvm-neutron-pg-full: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ - legacy-tempest-dsvm-neutron-full-opensuse-423: voting: false branches: ^(?!stable/(newton|ocata)).*$ irrelevant-files: - ^(test-|)requirements.txt$ - ^setup.cfg$ ,,183,0
openstack%2Ftripleo-docs~master~Iaccd6f503513d08266acf05a2b69af4d4eeb3147,openstack/tripleo-docs,master,Iaccd6f503513d08266acf05a2b69af4d4eeb3147,Add Swift best practices,ABANDONED,2016-10-20 20:55:55.000000000,2017-10-06 10:17:00.000000000,,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 6968}]","[{'number': 1, 'created': '2016-10-20 20:55:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/4a226e0066a481aa23e82c4d5169404fc0e130ee', 'message': 'Add Swift best practices\n\nDepends-On: I2da0f12635a37c1f339a3be59a7d00f352adf283\nChange-Id: Iaccd6f503513d08266acf05a2b69af4d4eeb3147\n'}, {'number': 2, 'created': '2016-10-20 22:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5ea397d6f10d6a0c4a84513bb6ecc0857d41d1a7', 'message': 'Add Swift best practices\n\nDepends-On: I2da0f12635a37c1f339a3be59a7d00f352adf283\nChange-Id: Iaccd6f503513d08266acf05a2b69af4d4eeb3147\n'}, {'number': 3, 'created': '2016-10-31 07:49:16.000000000', 'files': ['doc/source/advanced_deployment/deploy_swift.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/dbf62cf5448625d616d47d30d2eb20f8bdf88aec', 'message': 'Add Swift best practices\n\nDepends-On: Ia9ad38e3ffa533e170f4cedd0518d830e9b2fa69\nChange-Id: Iaccd6f503513d08266acf05a2b69af4d4eeb3147\n'}]",10,389351,dbf62cf5448625d616d47d30d2eb20f8bdf88aec,11,3,3,6968,,,0,"Add Swift best practices

Depends-On: Ia9ad38e3ffa533e170f4cedd0518d830e9b2fa69
Change-Id: Iaccd6f503513d08266acf05a2b69af4d4eeb3147
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/51/389351/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/advanced_deployment/deploy_swift.rst'],1,4a226e0066a481aa23e82c4d5169404fc0e130ee,389351," Best practices ============== Recent TripleO deployments are using Swift for more and more services. As of now, the overcloud Swift deployment will be used by Glance and Gnocchi, and the undercloud is used by Heat to distribute configuration settings. Additionally users can use the overcloud deployment to store their data, and this might result in even more storage usage. A default TripleO deployment uses the controller disk to store Swift data, in addition to other services like MariaDB and RabbitMQ. All of them will create quite a few IOPS, and the disks on the controller nodes should be able to handle this. Depending on your usage and load you might need to tweak your settings or architecture to avoid bottlenecks, especially when using only a single spinning disk per controller node and no separate stotage nodes. Use separate disks for Swift ---------------------------- Using separate disks for Swift on the controller nodes is the recommended way for any deployment not using separate Swift storage nodes. This can be done easily by creating an additional Heat template to be used by TripleO. The following template is an example how to use two separate disks on each controller node with Swift. A XFS filesystem will be created on these disks (using the whole disk), and the rings will use them as storage devices.:: parameter_defaults: SwiftMountCheck: true SwiftRawDisks: {""sdb"": {}, ""sdc"": {}} .. note:: The SwiftMountCheck parameter will ensure that data is written only if the storage disk is mounted. This will prevent overfilling the root disk. It is recommended to set this to True if separate storage disks will be used. Using SSDs on the controller nodes ---------------------------------- If only a single disk is used on the controller nodes a SSD is recommended to keep up with the amount of IOPS. Use separate storage nodes -------------------------- If enough nodes are available these can be deployed easily as additional Swift storage nods. If multiple disks are available on these nodes, they should be defined as ``SwiftRawDisks`` in a Heat template as described above. Finally, storage on the controller nodes should be disabled by setting the ``ControllerEnableSwiftStorage`` parameter to ``False``. A template might look like this:: parameter_defaults: SwiftRawDisks: {""sdb"": {}, ""sdc"": {}} SwiftMountCheck: true ControllerEnableSwiftStorage: false ObjectStorageCount: 3 Use a different storage backend for Gnocchi ------------------------------------------- Gnocchi will write and read metric data constantly. Depending on the scale of the deployment this will create a continuous additional load, and if only a single spinning disk is used the disk might be unable to keep up with the load, resulting in timeouts and failed deployments. If the deployment uses a Ceph storage cluster, this can be used directly by Gnocchi as a backend to store metrics. A possible Heat template might look like this:: parameter_defaults: GnocchiBackend: rbd Finally, if none of the other options are applicable, one can switch back to a file-based backend for Gnocchi. For example:: parameter_defaults: GnocchiBackend: file Changing the node_timeout -------------------------- The ``node_timeout`` setting in the Swift proxy server config defines how long the proxy server will wait on responses from the Swift account, container and object servers. By default this is set to 10 seconds within Swift, but TripleO already increases this to 60 seconds. This should avoid failures in Glance when uploading new images if there is only a single spinning disk on each controller and these are busy. However, if you're using a deployment with separate storage disks or even nodes for Swift, you should lower this value. You can change the timeout if this is not suitable for your deployment using a Heat template:: parameter_defaults: SwiftProxyNodeTimeout: 10 Tweaking other Swift configuration parameters --------------------------------------------- Not all Swift parameters are available as a Heat template option yet. However, an operator can set any configuration option by using the ``swift::config`` config class in a Heat template:: parameter_defaults: ExtraConfig: swift::config::swift_proxy_config: filter:copy/object_post_as_copy: value: false swift::config::swift_account_config: account-auditor/interval: value: 3600 swift::config::swift_container_config: container-updater/slowdown: value: 0.1 swift::config::swift_object_config: object-replicator/rsync_timeout: value: 900",,127,0
openstack%2Fopenstack-ansible~stable%2Fnewton~I46e3d628bbde4236e7c12d4e70ed548a900a6681,openstack/openstack-ansible,stable/newton,I46e3d628bbde4236e7c12d4e70ed548a900a6681,Update all SHAs for 14.2.10,MERGED,2017-10-03 11:18:55.000000000,2017-10-06 10:14:17.000000000,2017-10-06 10:14:17.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 11:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7d755532519042abaece1b3f238a18e507d26bb6', 'message': ""Update all SHAs for 14.2.10\n\nThis patch updates all the roles to the latest available stable\nSHA's, copies the release notes from the updated roles into the\nintegrated repo, updates all the OpenStack Service SHA's, and\nupdates the appropriate python requirements pins.\n\nDepends-On: Ib2c1d63b9a6ce4acfbd31c6dcaa7d8c385be8c62\nChange-Id: I46e3d628bbde4236e7c12d4e70ed548a900a6681\n""}, {'number': 2, 'created': '2017-10-03 11:21:38.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/ensure-security-groups-always-applied-eb6e3bdc7b77f022.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/ulimit-increased-65536-50b418d8e8ca4eef.yaml', 'releasenotes/notes/esl-repo-6ff0c7f24ad2a043.yaml', 'releasenotes/notes/sshd-permit-root-login-without-password-948ec79c6508c19b.yaml', 'releasenotes/notes/support-for-centos-xenial-2b89c318cc3df4b0.yaml', 'playbooks/inventory/group_vars/all.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ba03543877d8852b7afe3ce35f04cc1c336cad76', 'message': ""Update all SHAs for 14.2.10\n\nThis patch updates all the roles to the latest available stable\nSHA's, copies the release notes from the updated roles into the\nintegrated repo, updates all the OpenStack Service SHA's, and\nupdates the appropriate python requirements pins.\n\nDepends-On: Ib2c1d63b9a6ce4acfbd31c6dcaa7d8c385be8c62\nChange-Id: I46e3d628bbde4236e7c12d4e70ed548a900a6681\n""}]",0,509150,ba03543877d8852b7afe3ce35f04cc1c336cad76,17,5,2,17068,,,0,"Update all SHAs for 14.2.10

This patch updates all the roles to the latest available stable
SHA's, copies the release notes from the updated roles into the
integrated repo, updates all the OpenStack Service SHA's, and
updates the appropriate python requirements pins.

Depends-On: Ib2c1d63b9a6ce4acfbd31c6dcaa7d8c385be8c62
Change-Id: I46e3d628bbde4236e7c12d4e70ed548a900a6681
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/50/509150/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/ensure-security-groups-always-applied-eb6e3bdc7b77f022.yaml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'releasenotes/notes/ulimit-increased-65536-50b418d8e8ca4eef.yaml', 'releasenotes/notes/esl-repo-6ff0c7f24ad2a043.yaml', 'releasenotes/notes/sshd-permit-root-login-without-password-948ec79c6508c19b.yaml', 'releasenotes/notes/support-for-centos-xenial-2b89c318cc3df4b0.yaml', 'playbooks/inventory/group_vars/all.yml', 'ansible-role-requirements.yml']",9,7d755532519042abaece1b3f238a18e507d26bb6,, version: 806846afdcd3c183351d57f65dbd336af7116285 version: be971e3ea52e3fc85d89ad7319c174fa8f309c39 version: 6b547f735b702c3f074aea45e6d481122bade7d2 version: 75c71d5b181b304a97e24a15d960c6f2cd7be92e version: bd8688eebbb3d2d18115373718977594532c1b21 version: e19b41c9bf4454ba93ee57403b76e29de831dba8 version: 50335c061b64ed6c486c4a940ebf98465faef9a3 version: bcd4cc07483d58573738aa5b2d1d7dc1c45c0288 version: f56f01cdc0943d428a191e69cdf7ced1ede6b000 version: 6736419cfd04ec7d66f1d136a66dd6f42e061e3c version: 1194efff07031146e7a33682a77d4894ad8d9131 version: 79173d9f307573ccc49d82d79168d2dcd839b9eb version: d1fb3365b9371fbb520cfcb25117244d5d36df40 version: a646e0e070f8ea70070b4546da656ea965901c26 version: 3143369ce31d76af13101d25d344d794e7876aea version: e1668a64e20d4f4eb81b35348dd25f250725ba2a version: e8a90f7cfff2efdcef84c3a136576e1375cffdd6 version: 1d1e22b838c8c39ac9410aad89eb33ded4e0e97b version: 4f51d029e116fb5463778e8fe37ceafe15fef0f2 version: f628d085c9b4879e9df111baaa108381ddbb7ed9 version: 5f81bc9caac5d7c754b9de5de716ab7aa5d08ac2 version: f9a5539596a2d55804b8e9e1e1376794808c00cd version: 7a9faeef35a30a76ada085da3821cb64b6d2ac6e version: f696f698d4630e3972be13223ac7a925aeb7fd17 version: 33cb3bb57324c6e13d9f8f911a4be3fa302df749, version: ea0e5cd10c0d96b50887de544f53d0bcc54949fc version: 1e43ca6bf6d6a36f56d2c3269fbba8075e13149c version: b6f095a1f7ae109f43fd3264ab5371c010a81ba8 version: 8bb346420d3d5d69fc37300fb47c7dcfb7534bc9 version: 62ecbd9eb60fe8e3b676a267c2ae84b623fc8bd4 version: 0ec4e0e490554dd5832c646426a3bfa8ef38be04 version: 08ba32ab2c99878d87628494042bfadf6f67697b version: dad3bd51306ac68fb622eae45bccf1e20a631f82 version: 0afdcad49d6d08410f1f0227619e9a984a34570f version: a8834b6806df2816e288e4c30349c643ec9e4750 version: eafbe337bea94f32fe6fcef8149ec1c786cb8f01 version: ac0a498abb638300380cc769c527d2a195e13ca0 version: 849f8df7d83ef23774485068103a6047d97a3635 version: 4372bcfd590c9d8e245c35c9cfef8c3be6df073b version: 6054607dc1629cface1b2420fdd69f0fe1e18a50 version: 36a1acb58e5b6328e309617e12948fb7a00b8166 version: 8acd8217ebdcdab664e0f4f6b5bd6ee0f62edca4 version: b15cc7f25f2afc6754db3b35c5a84c4cacb40f02 version: b6377aeeddb894ded8888966e574d8b0ea4c7022 version: ff2c09642def9f4796c7e9441d5d85e876eb8b37 version: d9669419bf63d92c7fd0702ee6ca48fab3ea0a0a version: aba8910567a5cdb364bbe2612a9f6f2382414274 version: 90a77110090ab2c3314a9719daa8c1398ed1ca08 version: 56ca566ef024603b2fbfd3d0b7af6d844e26884a version: 27e47df8ad22f01d0a8905ec35ff3bfa916dc89b,101,52
openstack%2Ftripleo-validations~master~I58657253bdc46e90eec6dea7ea5e07a2bf6c466e,openstack/tripleo-validations,master,I58657253bdc46e90eec6dea7ea5e07a2bf6c466e,Remove syntax warnings for when statements,MERGED,2017-07-18 15:58:04.000000000,2017-10-06 09:58:21.000000000,2017-10-06 09:58:21.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 8449}, {'_account_id': 10112}, {'_account_id': 11491}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-07-18 15:58:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1d5be1b043afbcfd1a818a7c93d25bc820b55324', 'message': 'Remove syntax warnings for when statements\n\nAnsible>=2.3.0 will output warnings if `when` statements contain jinja2\ntemplating delimiters such as curly braces (the code is still working).\nThis patch changes these statementes to use the correct syntax as\nsuggested in the docs.\n\nChange-Id: I58657253bdc46e90eec6dea7ea5e07a2bf6c466e\n'}, {'number': 2, 'created': '2017-07-18 15:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a2c24a705be4061dbf5a1334b79f56b479e726e1', 'message': 'Remove syntax warnings for when statements\n\nAnsible>=2.3.0 will output warnings if `when` statements contain jinja2\ntemplating delimiters such as curly braces (the playbooks are executing\nfine, despite the warnings).\n\nThis patch changes these statementes to use the correct syntax as\nsuggested in the docs.\n\nChange-Id: I58657253bdc46e90eec6dea7ea5e07a2bf6c466e\n'}, {'number': 3, 'created': '2017-10-04 09:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d1586ce6c9d05c4ed90f5c6425c43e9ede99fc14', 'message': 'Remove syntax warnings for when statements\n\nAnsible>=2.3.0 will output warnings if `when` statements contain jinja2\ntemplating delimiters such as curly braces (the playbooks are executing\nfine, despite the warnings).\n\nThis patch changes these statements to use the correct syntax as\nsuggested in the docs.\n\nChange-Id: I58657253bdc46e90eec6dea7ea5e07a2bf6c466e\nCloses-Bug: #1721213\n'}, {'number': 4, 'created': '2017-10-04 11:17:45.000000000', 'files': ['validations/rabbitmq-limits.yaml', 'validations/undercloud-service-status.yaml', 'validations/no-op-firewall-nova-driver.yaml', 'validations/tasks/disk_space.yaml', 'validations/undercloud-ram.yaml', 'validations/check-network-gateway.yaml', 'validations/undercloud-tokenflush.yaml', 'validations/mysql-open-files-limit.yaml', 'validations/undercloud-cpu.yaml', 'validations/512e.yaml', 'validations/haproxy.yaml', 'validations/controller-ulimits.yaml', 'validations/undercloud-process-count.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c16a61649c4225998ef3a2ce20e7481af88f72fd', 'message': 'Remove syntax warnings for when statements\n\nAnsible>=2.3.0 will output warnings if `when` statements contain jinja2\ntemplating delimiters such as curly braces (the playbooks are executing\nfine, despite the warnings).\n\nThis patch changes these statements to use the correct syntax as\nsuggested in the docs.\n\nChange-Id: I58657253bdc46e90eec6dea7ea5e07a2bf6c466e\nCloses-Bug: #1721213\n'}]",1,484867,c16a61649c4225998ef3a2ce20e7481af88f72fd,20,6,4,17888,,,0,"Remove syntax warnings for when statements

Ansible>=2.3.0 will output warnings if `when` statements contain jinja2
templating delimiters such as curly braces (the playbooks are executing
fine, despite the warnings).

This patch changes these statements to use the correct syntax as
suggested in the docs.

Change-Id: I58657253bdc46e90eec6dea7ea5e07a2bf6c466e
Closes-Bug: #1721213
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/67/484867/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations/512e.yaml', 'validations/undercloud-service-status.yaml', 'validations/no-op-firewall-nova-driver.yaml', 'validations/tasks/disk_space.yaml', 'validations/undercloud-ram.yaml', 'validations/check-network-gateway.yaml', 'validations/undercloud-tokenflush.yaml', 'validations/undercloud-process-count.yaml', 'validations/undercloud-cpu.yaml']",9,1d5be1b043afbcfd1a818a7c93d25bc820b55324,remove-warnings," failed_when: ""ansible_processor_vcpus|int < min_undercloud_cpu_count|int"""," failed_when: ""{{ ansible_processor_vcpus|int }} < {{ min_undercloud_cpu_count|int }}""",14,14
openstack%2Fopenstack-ansible-specs~master~I39760056645d650d19686aef3ce6ee5a6ec4aaf8,openstack/openstack-ansible-specs,master,I39760056645d650d19686aef3ce6ee5a6ec4aaf8,Blueprint for Openvswitch with NSH support in OSA,MERGED,2017-06-21 12:47:36.000000000,2017-10-06 09:54:04.000000000,2017-10-06 09:54:04.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6133}, {'_account_id': 6804}, {'_account_id': 7353}, {'_account_id': 10068}, {'_account_id': 13732}, {'_account_id': 15362}, {'_account_id': 16011}, {'_account_id': 17068}, {'_account_id': 17280}, {'_account_id': 19494}, {'_account_id': 19684}, {'_account_id': 21883}, {'_account_id': 23163}, {'_account_id': 25505}, {'_account_id': 25846}]","[{'number': 1, 'created': '2017-06-21 12:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/acb22639b52efb83b6eba99aa5b8a36aada652e1', 'message': 'Blueprint for Openvswitch with NSH support in OSA\n\nThis blueprint describes the work needed to deploy Openvswitch\nwith NSH support by using openstack-ansible.\n\nThis document covers the installation steps and the\nspecific configuration which is necessary for the addition of\nNSH support to Openvswitch\n\nSeveral references are provided for further information.\n\nChange-Id: I39760056645d650d19686aef3ce6ee5a6ec4aaf8\nSigned-off-by: Dimitrios Markou <mardim@intracom-telecom.com>\n'}, {'number': 2, 'created': '2017-06-22 06:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/e82b6abffb937b324140242f4ecdd3c254281b37', 'message': 'Blueprint for Openvswitch with NSH support in OSA\n\nThis blueprint describes the work needed to deploy Openvswitch\nwith NSH support by using openstack-ansible.\n\nThis document covers the installation steps and the\nspecific configuration which is necessary for the addition of\nNSH support to Openvswitch\n\nSeveral references are provided for further information.\n\nChange-Id: I39760056645d650d19686aef3ce6ee5a6ec4aaf8\nSigned-off-by: Dimitrios Markou <mardim@intracom-telecom.com>\n'}, {'number': 3, 'created': '2017-06-26 14:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/d68e14a66df727d288d2988ab959a77052e1dd85', 'message': 'Blueprint for Openvswitch with NSH support in OSA\n\nThis blueprint describes the work needed to deploy Openvswitch\nwith NSH support by using openstack-ansible.\n\nThis document covers the installation steps and the\nspecific configuration which is necessary for the addition of\nNSH support to Openvswitch\n\nSeveral references are provided for further information.\n\nChange-Id: I39760056645d650d19686aef3ce6ee5a6ec4aaf8\nSigned-off-by: Dimitrios Markou <mardim@intracom-telecom.com>\n'}, {'number': 4, 'created': '2017-06-30 12:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/0109527faff4eff95584c72a02f6210c31fbb25a', 'message': 'Blueprint for Openvswitch with NSH support in OSA\n\nThis blueprint describes the work needed to deploy Openvswitch\nwith NSH support by using openstack-ansible.\n\nThis document covers the installation steps and the\nspecific configuration which is necessary for the addition of\nNSH support to Openvswitch\n\nSeveral references are provided for further information.\n\nChange-Id: I39760056645d650d19686aef3ce6ee5a6ec4aaf8\nSigned-off-by: Dimitrios Markou <mardim@intracom-telecom.com>\n'}, {'number': 5, 'created': '2017-07-07 07:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/adde8b5720f1014dcfee793965134b1c87286e37', 'message': 'Blueprint for Openvswitch with NSH support in OSA\n\nThis blueprint describes the work needed to deploy Openvswitch\nwith NSH support by using openstack-ansible.\n\nThis document covers the installation steps and the\nspecific configuration which is necessary for the addition of\nNSH support to Openvswitch\n\nSeveral references are provided for further information.\n\nChange-Id: I39760056645d650d19686aef3ce6ee5a6ec4aaf8\nSigned-off-by: Dimitrios Markou <mardim@intracom-telecom.com>\n'}, {'number': 6, 'created': '2017-10-06 08:58:41.000000000', 'files': ['specs/pike/ovs-nsh.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-specs/commit/51a0dba69217d0f9e7283ea20a45e07bd1c32310', 'message': 'Blueprint for Openvswitch with NSH support in OSA\n\nThis blueprint describes the work needed to deploy Openvswitch\nwith NSH support by using openstack-ansible.\n\nThis document covers the installation steps and the\nspecific configuration which is necessary for the addition of\nNSH support to Openvswitch\n\nSeveral references are provided for further information.\n\nChange-Id: I39760056645d650d19686aef3ce6ee5a6ec4aaf8\nSigned-off-by: Dimitrios Markou <mardim@intracom-telecom.com>\n'}]",45,476121,51a0dba69217d0f9e7283ea20a45e07bd1c32310,44,17,6,25505,,,0,"Blueprint for Openvswitch with NSH support in OSA

This blueprint describes the work needed to deploy Openvswitch
with NSH support by using openstack-ansible.

This document covers the installation steps and the
specific configuration which is necessary for the addition of
NSH support to Openvswitch

Several references are provided for further information.

Change-Id: I39760056645d650d19686aef3ce6ee5a6ec4aaf8
Signed-off-by: Dimitrios Markou <mardim@intracom-telecom.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-specs refs/changes/21/476121/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/ovs-nsh.rst'],1,acb22639b52efb83b6eba99aa5b8a36aada652e1,bp/for,"Openvswitch with NSH support in Neutron ####################################### :date: 2017-06-21 15:00 :tags: Openvswitch,neutron,SFC,NSH Blueprint on Launchpad * https://blueprints.launchpad.net/openstack-ansible/+spec/openvswitch-with-nsh-support This spec introduces the work required to have Openvswitch with NSH protocol support which is used in Service Function Chaining. Problem description =================== According to * https://datatracker.ietf.org/doc/draft-ietf-sfc-nsh/ Network Service Header (NSH) is inserted to a packet or a frame to realize service functions paths. Also provides a mechanism for metadata exchange along the instantiated service path. The NSH protocol is used as an SFC encapsulation which is required for the support of the Service Function Chaining (SFC) Architeture as it defined in RFC7665. The Openvswitch currently doesn't support the NSH protocol. So the only way to add NSH support to Openvswitch is through Yi Yang's patches (https://github.com/yyang13/ovs_nsh_patches). Proposed change =============== The proposed change is the use of the existing Neutron Ansible Role for the installation of Openvswitch with NSH support when the user selects that functionality through specific configuration in openstack-ansible project. The installation of Openvswitch with NSH support will be addressed by the use of specific packages which are already added to a PPA in ubuntu launchpad. In addition to that the ovs-nsh packages are valid for only Ubuntu 16.04 systems. Alternatives ============ An alternative to create a SFC without NSH is the port chaining technic. The aforementioned technic uses Neutron ports to steer the traffic to a service chain and has no notion of the actual services which are attached to those Neutron ports. Playbook/Role impact -------------------- The os_neutron role will be modified to optionally install Openvswitch with NSH support. The proposal is to add an extra variable so the user can decide whether or not he needs to add NSH support with the Openvswith installation. When the ``neutron_plugin_type`` variable is set to ``ml2.ovs`` or ``ml2.dragonflow`` and the ``ovs_nsh_support`` variable is set to ``true`` then the Openvswitch will be installed with NSH support. So there will be an extra task in the ``neutron_pre_install.yml`` which will add the new PPA with the ovs_nsh packages. Upgrade impact -------------- This is the first implementation of Openvswitch with NSH support in Openstack-Ansible,so no upgrade concerns yet. Security impact --------------- No security impact Performance impact ------------------ The added NSH support to Openvswitch will not have any performance impact to the current Openstack ansible installation because the system will need to install only two extra packages. End user impact --------------- The end users will have the capability to create service function chains with the use of the NSH protocol. Also they can use Opendaylight as networking backend which via the ``sfc`` component supports the creation of SFCs through the NSH protocol. Deployer impact --------------- The deployer needs to ensure that the hosts which are selected for the openstack deployment use Ubuntu 16.04 ,the specific PPA which holds the ovs_nsh packages is added to the system and the proper Openvswitch packages are installed form that specific PPA. Developer impact ---------------- The developer impact is really low because the NSH support for Openvswitch is optional and can be ignored when extending or modifying Neutron role. Dependencies ------------ There are no dependencies Implementation ============== Assignee(s) ----------- Primary assignee: Dimitrios Markou (mardim) Work items ---------- 1. Add specific PPA for ovs_nsh packages 2. Install Openvswitch with NSH protocol suppport 3. Document the new functionality Testing ======= Existing tests should be run because the only thing that change is that the installation of Openvswitch is managed by a specific PPA when NSH support is selected. Documentation impact ==================== The new functionality *Openvswitch with NSH support* should be documented, explaining the required configuration parameters which are necessary for this deployment. References ========== Openvswitch scenario with Openstack-Ansible * https://docs.openstack.org/developer/openstack-ansible-os_neutron/app-openvswitch.html NSH ietf draft * https://datatracker.ietf.org/doc/draft-ietf-sfc-nsh/ SFC RFC 7665 * https://tools.ietf.org/html/rfc7665 PPA for Openvswitch-NSH packages * https://launchpad.net/~mardim/+archive/ubuntu/mardim-ppa ",,151,0
openstack%2Fpanko~master~I7f7ae280554c585aeca3d92b9d3ec5bea18e4ed0,openstack/panko,master,I7f7ae280554c585aeca3d92b9d3ec5bea18e4ed0,pass empty url if missing,MERGED,2017-10-05 17:58:40.000000000,2017-10-06 09:51:13.000000000,2017-10-06 09:51:13.000000000,"[{'_account_id': 3}, {'_account_id': 1669}]","[{'number': 1, 'created': '2017-10-05 17:58:40.000000000', 'files': ['panko/storage/__init__.py'], 'web_link': 'https://opendev.org/openstack/panko/commit/52cea05031ea01dcfcdff8892e93d2286b73a737', 'message': 'pass empty url if missing\n\ninstead of raising AttributeError\n\nChange-Id: I7f7ae280554c585aeca3d92b9d3ec5bea18e4ed0\n'}]",0,509856,52cea05031ea01dcfcdff8892e93d2286b73a737,6,2,1,6537,,,0,"pass empty url if missing

instead of raising AttributeError

Change-Id: I7f7ae280554c585aeca3d92b9d3ec5bea18e4ed0
",git fetch https://review.opendev.org/openstack/panko refs/changes/56/509856/1 && git format-patch -1 --stdout FETCH_HEAD,['panko/storage/__init__.py'],1,52cea05031ea01dcfcdff8892e93d2286b73a737,attribute," getattr(conf.database, 'event_connection', None))"," getattr(conf.database, 'event_connection'))",1,1
openstack%2Ftripleo-validations~stable%2Fpike~I5c4ef6f63cd4d5cd9cba7f73dbe4a993a0c1ca66,openstack/tripleo-validations,stable/pike,I5c4ef6f63cd4d5cd9cba7f73dbe4a993a0c1ca66,Exclude byte code files from tht lookup,MERGED,2017-10-04 13:57:06.000000000,2017-10-06 09:49:43.000000000,2017-10-06 09:49:43.000000000,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-10-04 13:57:06.000000000', 'files': ['validations/lookup_plugins/tht.py'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5b3919d006e1cf85dede74961121e2f4cb318860', 'message': 'Exclude byte code files from tht lookup\n\nWhen template files are retrieved from Swift in the tht lookup plugin, contents\nof Python byte code files (pyc, pyo) will also be added to the result.\n\nThis patch excludes these files from the lookup result.\n\nChange-Id: I5c4ef6f63cd4d5cd9cba7f73dbe4a993a0c1ca66\n(cherry picked from commit 36352e26d95a436e87e6aa5575b442f949ab0ea4)\n'}]",0,509472,5b3919d006e1cf85dede74961121e2f4cb318860,8,5,1,17888,,,0,"Exclude byte code files from tht lookup

When template files are retrieved from Swift in the tht lookup plugin, contents
of Python byte code files (pyc, pyo) will also be added to the result.

This patch excludes these files from the lookup result.

Change-Id: I5c4ef6f63cd4d5cd9cba7f73dbe4a993a0c1ca66
(cherry picked from commit 36352e26d95a436e87e6aa5575b442f949ab0ea4)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/72/509472/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/lookup_plugins/tht.py'],1,5b3919d006e1cf85dede74961121e2f4cb318860,exclude-bytecode-files,"import os EXCLUDED_EXT = ( '.pyc', '.pyo', ) if os.path.splitext(item['name'])[-1] not in EXCLUDED_EXT: ret.append((item['name'], obj))"," ret.append((item['name'], obj))",10,1
openstack%2Fgovernance~master~Ia366de295237cfca8a7a34b30f4d65b1ca506143,openstack/governance,master,Ia366de295237cfca8a7a34b30f4d65b1ca506143,Add api interop assert tag to ironic,ABANDONED,2017-07-12 01:42:52.000000000,2017-10-06 09:45:27.000000000,,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 782}, {'_account_id': 3153}, {'_account_id': 5196}, {'_account_id': 5263}, {'_account_id': 6159}, {'_account_id': 6873}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 11564}, {'_account_id': 11655}, {'_account_id': 24441}]","[{'number': 1, 'created': '2017-07-12 01:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/82c974a43520f47daa3039be34e80546c401c774', 'message': 'Add api interop assert tag to ironic and nova\n\nThe nova and ironic project meet all the requirements for the api\ninterop tag. They both follow the api interop guidelines, support\nversions by using microversions, and have branchless api testing.\n\nChange-Id: Ia366de295237cfca8a7a34b30f4d65b1ca506143\n'}, {'number': 2, 'created': '2017-09-21 15:36:45.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/312bc03ef2fecb7c3579e05e3611336abd282969', 'message': 'Add api interop assert tag to ironic\n\nThe openstack/ironic project meets all the requirements for the api\ninterop tag. It follows the api interop guidelines, supports\nversions by using microversions, and have branchless api testing with\nits tempest plugin.\n\nChange-Id: Ia366de295237cfca8a7a34b30f4d65b1ca506143\n'}]",1,482759,312bc03ef2fecb7c3579e05e3611336abd282969,42,13,2,5196,,,0,"Add api interop assert tag to ironic

The openstack/ironic project meets all the requirements for the api
interop tag. It follows the api interop guidelines, supports
versions by using microversions, and have branchless api testing with
its tempest plugin.

Change-Id: Ia366de295237cfca8a7a34b30f4d65b1ca506143
",git fetch https://review.opendev.org/openstack/governance refs/changes/59/482759/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,82c974a43520f47daa3039be34e80546c401c774,, - assert:supports-api-interoperability - assert:supports-api-interoperability,,2,0
openstack%2Fmonasca-api~master~I5ef6691782779a783e257a94ce16a2337596a2c6,openstack/monasca-api,master,I5ef6691782779a783e257a94ce16a2337596a2c6,Upgrade the storm to 1.1.1,MERGED,2017-09-20 05:14:04.000000000,2017-10-06 09:25:56.000000000,2017-10-06 09:25:56.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 11809}, {'_account_id': 12542}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 17001}, {'_account_id': 17645}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 24580}, {'_account_id': 26702}]","[{'number': 1, 'created': '2017-09-20 05:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ba21d8056fcb4193c676138533a76044ece66aeb', 'message': 'Upgrade the storm to 1.1.1\n\nStorm 1.0.3 is affected by the security bug\nCVE-2017-9799 [1]. It is recommended to upgrade\nto 1.1.1 (the latest release at the moment).\n\nChange-Id: I5ef6691782779a783e257a94ce16a2337596a2c6\n'}, {'number': 2, 'created': '2017-09-20 05:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/b366ef925103da66161163399fa87d50aa41be1d', 'message': 'Upgrade the storm to 1.1.1\n\nStorm 1.0.3 is affected by the security bug\nCVE-2017-9799 [1]. It is recommended to upgrade\nto 1.1.1 (the latest release at the moment).\n\n[1]: http://www.securityfocus.com/bid/100235\n\nChange-Id: I5ef6691782779a783e257a94ce16a2337596a2c6\n'}, {'number': 3, 'created': '2017-09-20 07:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/feeaf345859a639b1035c1ce7db33c0caec00654', 'message': 'Upgrade the storm to 1.1.1\n\nStorm 1.0.3 is affected by the security bug\nCVE-2017-9799 [1]. It is recommended to upgrade\nto 1.1.1 (the latest release at the moment).\n\n[1]: http://www.securityfocus.com/bid/100235\n\nChange-Id: I5ef6691782779a783e257a94ce16a2337596a2c6\n'}, {'number': 4, 'created': '2017-09-22 08:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/72dbf8442b6cc54cbb1b090e28230a27e36f265f', 'message': 'Upgrade the storm to 1.1.1\n\nStorm 1.0.3 is affected by the security bug\nCVE-2017-9799 [1]. It is recommended to upgrade\nto 1.1.1 (the latest release at the moment).\n\n[1]: http://www.securityfocus.com/bid/100235\n\nChange-Id: I5ef6691782779a783e257a94ce16a2337596a2c6\n'}, {'number': 5, 'created': '2017-09-22 08:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/21038663ea2786f755b6e88c319303d3f9cb55ce', 'message': 'Upgrade the storm to 1.1.1\n\nStorm 1.0.3 is affected by the security bug\nCVE-2017-9799 [1]. It is recommended to upgrade\nto 1.1.1 (the latest release at the moment).\n\n[1]: http://www.securityfocus.com/bid/100235\n\nDepends-On: Ie32d184b2446e2db6b145712ec5ffadf1e3f18b3\nChange-Id: I5ef6691782779a783e257a94ce16a2337596a2c6\n'}, {'number': 6, 'created': '2017-09-27 04:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/876d335164022fbe2d68eef3a0c2d969c644cbdb', 'message': 'Upgrade the storm to 1.1.1\n\nStorm 1.0.3 is affected by the security bug\nCVE-2017-9799 [1]. It is recommended to upgrade\nto 1.1.1 (the latest release at the moment).\n\n[1]: http://www.securityfocus.com/bid/100235\n\nDepends-On: Ie32d184b2446e2db6b145712ec5ffadf1e3f18b3\nChange-Id: I5ef6691782779a783e257a94ce16a2337596a2c6\n'}, {'number': 7, 'created': '2017-10-04 05:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/ff4040770d10e3213af81eb54472215e8a52c160', 'message': 'Upgrade the storm to 1.1.1\n\nStorm 1.0.3 is affected by the security bug\nCVE-2017-9799 [1]. It is recommended to upgrade\nto 1.1.1 (the latest release at the moment).\n\n[1]: http://www.securityfocus.com/bid/100235\n\nDepends-On: Ie32d184b2446e2db6b145712ec5ffadf1e3f18b3\nChange-Id: I5ef6691782779a783e257a94ce16a2337596a2c6\n'}, {'number': 8, 'created': '2017-10-06 06:19:58.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/42aba8031a345d1ae2718bc5c742bd3f6ccc9eb4', 'message': 'Upgrade the storm to 1.1.1\n\nStorm 1.0.3 is affected by the security bug\nCVE-2017-9799 [1]. It is recommended to upgrade\nto 1.1.1 (the latest release at the moment).\n\n[1]: http://www.securityfocus.com/bid/100235\n\nDepends-On: Ie32d184b2446e2db6b145712ec5ffadf1e3f18b3\nChange-Id: I5ef6691782779a783e257a94ce16a2337596a2c6\n'}]",0,505493,42aba8031a345d1ae2718bc5c742bd3f6ccc9eb4,33,12,8,16168,,,0,"Upgrade the storm to 1.1.1

Storm 1.0.3 is affected by the security bug
CVE-2017-9799 [1]. It is recommended to upgrade
to 1.1.1 (the latest release at the moment).

[1]: http://www.securityfocus.com/bid/100235

Depends-On: Ie32d184b2446e2db6b145712ec5ffadf1e3f18b3
Change-Id: I5ef6691782779a783e257a94ce16a2337596a2c6
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/93/505493/8 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,ba21d8056fcb4193c676138533a76044ece66aeb,storm_upgrade_1.1.1,STORM_VERSION=${STORM_VERSION:-1.1.1},STORM_VERSION=${STORM_VERSION:-1.0.3},1,1
openstack%2Fpuppet-tripleo~master~Iafc874643c29e63ff670831fe80f6601c3051865,openstack/puppet-tripleo,master,Iafc874643c29e63ff670831fe80f6601c3051865,Add a new configuration option for GUI loggers,MERGED,2017-09-11 17:55:17.000000000,2017-10-06 09:20:18.000000000,2017-10-05 20:46:41.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4978}, {'_account_id': 6924}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8871}, {'_account_id': 14985}, {'_account_id': 20970}, {'_account_id': 26828}]","[{'number': 1, 'created': '2017-09-11 17:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c659f0fb1e269264ef972a4433456c488fdc4844', 'message': ""Add a new configuration option for GUI loggers\n\nThis allows us to set up logging for the TripleO GUI.  By default, it enables\nthe 'console' and 'zaqar' loggers.\n\nChange-Id: Iafc874643c29e63ff670831fe80f6601c3051865\nCloses-Bug: #1716458\n""}, {'number': 2, 'created': '2017-09-18 11:19:54.000000000', 'files': ['templates/ui/tripleo_ui_config.js.erb', 'manifests/ui.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5158c7ab1669d9d3e8c8163be9fdfc9b3a3aea96', 'message': ""Add a new configuration option for GUI loggers\n\nThis allows us to set up logging for the TripleO GUI.  By default, it enables\nthe 'console' and 'zaqar' loggers.\n\nChange-Id: Iafc874643c29e63ff670831fe80f6601c3051865\nCloses-Bug: #1716458\n""}]",7,502521,5158c7ab1669d9d3e8c8163be9fdfc9b3a3aea96,41,10,2,20970,,,0,"Add a new configuration option for GUI loggers

This allows us to set up logging for the TripleO GUI.  By default, it enables
the 'console' and 'zaqar' loggers.

Change-Id: Iafc874643c29e63ff670831fe80f6601c3051865
Closes-Bug: #1716458
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/21/502521/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ui.pp', 'templates/ui/tripleo_ui_config.js.erb']",2,c659f0fb1e269264ef972a4433456c488fdc4844,bug/1716458, 'loggers': <%= @enabled_loggers.to_json %>, // 'loggers': ['console'],6,2
openstack%2Fzun~master~Ia76a9093f55f4c747328b2441b5cb76363a212b5,openstack/zun,master,Ia76a9093f55f4c747328b2441b5cb76363a212b5,Make container DELETE async,MERGED,2017-04-03 09:32:16.000000000,2017-10-06 09:15:20.000000000,2017-10-06 09:15:19.000000000,"[{'_account_id': 3}, {'_account_id': 8871}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 16277}, {'_account_id': 22076}, {'_account_id': 22406}, {'_account_id': 24441}]","[{'number': 1, 'created': '2017-04-03 09:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/199acb2f2686349df612761e7bb9a2f71f6e2ca7', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 2, 'created': '2017-04-07 11:57:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9eb95f9e3281a0e800c72e7dccd11bbf09c87946', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 3, 'created': '2017-08-09 10:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/09a5d7fd7d206722bae548d600feca5c7609f24b', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 4, 'created': '2017-08-10 10:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/5a3597b2c684f4887b7b6ff444bdcc5403d8902c', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 5, 'created': '2017-08-24 11:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/911d8d390df48fb097c931c494c7f4c005d1bf6a', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 6, 'created': '2017-08-24 11:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/b1e52c0cd983e26e199429692f4fa4507929c02b', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 7, 'created': '2017-08-28 08:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fa8859c2b9a3720d8abd2b44b7e51500e1987dca', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 8, 'created': '2017-09-11 06:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ac012592b63b1b0adf723b95c1c31d92d4beb334', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 9, 'created': '2017-09-18 06:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/2519332cee266af83b82d65a6a1b83d4cb016c24', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 10, 'created': '2017-09-19 11:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/200e270d51bc0d6a1efc1aec155912ef2c8dac29', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 11, 'created': '2017-09-20 05:20:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9b6fe3fdd9e3356dc08c8197526638c086484742', 'message': 'Make container DELETE async\n\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 12, 'created': '2017-09-20 23:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/2eb37d60b90895d5a615dea5cf0d331c0648cdd6', 'message': 'Make container DELETE async\n\nDepends-On: I51baf6a2e36bacc8a43b9834144b640d88a9f121\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 13, 'created': '2017-09-27 19:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/d796c2247d217539868177e045872e7bf99f83cf', 'message': 'Make container DELETE async\n\nDepends-On: I51baf6a2e36bacc8a43b9834144b640d88a9f121\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 14, 'created': '2017-09-27 20:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/78e392d3593fb21a5dbde54ce1df53af19e3cc4c', 'message': '[WIP] Make container DELETE async\n\nCo-Authored-By: Hongbin Lu <hongbin.lu@huawei.com>\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 15, 'created': '2017-09-27 23:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/9299843150494608eb9d1839ec5f4588dc2bb2a3', 'message': '[WIP] Make container DELETE async\n\nCo-Authored-By: Hongbin Lu <hongbin.lu@huawei.com>\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 16, 'created': '2017-09-28 04:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/62947024cbbc876b691141445ca76807af4e6582', 'message': '[WIP] Make container DELETE async\n\nCo-Authored-By: Hongbin Lu <hongbin.lu@huawei.com>\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nClose-bug: #1678539\n'}, {'number': 17, 'created': '2017-09-28 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e6df76c6572d476d40ef9bd7a9b131dcd1a702d0', 'message': 'Make container DELETE async\n\nCo-Authored-By: Hongbin Lu <hongbin.lu@huawei.com>\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nCloses-bug: #1678539\n'}, {'number': 18, 'created': '2017-09-28 14:27:12.000000000', 'files': ['zun/tests/unit/compute/test_compute_manager.py', 'zun/api/rest_api_version_history.rst', 'zun/tests/unit/objects/test_objects.py', 'zun/objects/capsule.py', 'zun/compute/rpcapi.py', 'zun/tests/tempest/api/clients.py', 'zun/tests/tempest/api/test_containers.py', 'zun/tests/unit/api/controllers/test_root.py', 'zun/compute/manager.py', 'zun/common/consts.py', 'zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/objects/container.py', 'zun/tests/unit/objects/test_fields.py', 'zun/api/controllers/v1/containers.py', 'zun/api/controllers/versions.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/01a953f98a6ed2d2dbd011a05a0e50e2cb107b21', 'message': 'Make container DELETE async\n\nCo-Authored-By: Hongbin Lu <hongbin.lu@huawei.com>\nChange-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5\nCloses-bug: #1678539\n'}]",15,452660,01a953f98a6ed2d2dbd011a05a0e50e2cb107b21,81,8,18,10206,,,0,"Make container DELETE async

Co-Authored-By: Hongbin Lu <hongbin.lu@huawei.com>
Change-Id: Ia76a9093f55f4c747328b2441b5cb76363a212b5
Closes-bug: #1678539
",git fetch https://review.opendev.org/openstack/zun refs/changes/60/452660/4 && git format-patch -1 --stdout FETCH_HEAD,"['zun/compute/rpcapi.py', 'zun/tests/unit/compute/test_compute_manager.py', 'zun/compute/manager.py', 'zun/tests/unit/api/controllers/v1/test_containers.py', 'zun/api/controllers/v1/containers.py']",5,199acb2f2686349df612761e7bb9a2f71f6e2ca7,bug/1678539,, container.destroy(context),21,25
openstack%2Fzun~master~I0823fbbf999f346f08d283b76073a6da461bb9e3,openstack/zun,master,I0823fbbf999f346f08d283b76073a6da461bb9e3,Delete containers created in tests only,MERGED,2017-09-27 23:12:05.000000000,2017-10-06 09:15:13.000000000,2017-10-06 09:15:13.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 16277}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-09-27 23:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/74f89f733289b023689a043495c100b15c9d8b47', 'message': '[WIP] Delete containers created in tests only\n\nIn before, tempest tests will delete all containers on teardown.\nThis is problematic. First, this approach will delete pre-existing\ncontainers that were not created in tests. Second, if concurrency\nis set larger than 1, there would be race conditions in cleanup.\n\nThis patch proposes to record the list of containers created in\ntests and cleanup those containers only.\n\nChange-Id: I0823fbbf999f346f08d283b76073a6da461bb9e3\n'}, {'number': 2, 'created': '2017-09-28 04:29:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/caf8f3b9f80201d4c3ce2ca9a4e998f8ceb7a6b8', 'message': '[WIP] Delete containers created in tests only\n\nIn before, tempest tests will delete all containers on teardown.\nThis is problematic. First, this approach will delete pre-existing\ncontainers that were not created in tests. Second, if concurrency\nis set larger than 1, there would be race conditions in cleanup.\n\nThis patch proposes to record the list of containers created in\ntests and cleanup those containers only.\n\nChange-Id: I0823fbbf999f346f08d283b76073a6da461bb9e3\n'}, {'number': 3, 'created': '2017-09-28 14:26:36.000000000', 'files': ['zun/tests/tempest/api/test_containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/f06cdf0f54bcb0921c79c9dbfd9e89b22a7a4675', 'message': 'Delete containers created in tests only\n\nIn before, tempest tests will delete all containers on teardown.\nThis is problematic if concurrency is set larger than 1 since there\nwould be some race conditions when multiple processes are trying\nto do the cleanup.\n\nThis patch proposes to record the list of containers created in\ntests and cleanup those containers only.\n\nChange-Id: I0823fbbf999f346f08d283b76073a6da461bb9e3\n'}]",0,508012,f06cdf0f54bcb0921c79c9dbfd9e89b22a7a4675,18,6,3,11536,,,0,"Delete containers created in tests only

In before, tempest tests will delete all containers on teardown.
This is problematic if concurrency is set larger than 1 since there
would be some race conditions when multiple processes are trying
to do the cleanup.

This patch proposes to record the list of containers created in
tests and cleanup those containers only.

Change-Id: I0823fbbf999f346f08d283b76073a6da461bb9e3
",git fetch https://review.opendev.org/openstack/zun refs/changes/12/508012/3 && git format-patch -1 --stdout FETCH_HEAD,['zun/tests/tempest/api/test_containers.py'],1,74f89f733289b023689a043495c100b15c9d8b47,bug/1678539," def setUp(self): super(TestContainer, self).setUp() self.containers = [] if c['uuid'] in self.containers: if c['host'] not in hosts: hosts.append(c['host']) self.container_client.delete_container(c['uuid'], params={'force': True}) self.containers.append(model.uuid) self.containers.append(model.uuid)"," if c['host'] not in hosts: hosts.append(c['host']) self.container_client.delete_container(c['uuid'], params={'force': True})",11,4
openstack%2Fzun~master~I1a9d9625eee067b4dda24d4d57417729c7fc2535,openstack/zun,master,I1a9d9625eee067b4dda24d4d57417729c7fc2535,Lock all async operations in compute,MERGED,2017-09-27 20:17:51.000000000,2017-10-06 09:14:30.000000000,2017-10-06 09:14:30.000000000,"[{'_account_id': 3}, {'_account_id': 16277}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-09-27 20:17:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ff209b193294a817219e5dcb88d4a75063cb51fc', 'message': 'Lock all async operations in compute\n\nThis prevents race conditions when multiple concurrent requests\nacted on the same container.\n\nChange-Id: I1a9d9625eee067b4dda24d4d57417729c7fc2535\n'}, {'number': 2, 'created': '2017-09-27 23:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/ff93198f2346600a0c756731cca6bb59d6fac139', 'message': 'Lock all async operations in compute\n\nThis prevents race conditions when multiple concurrent requests\nacted on the same container.\n\nChange-Id: I1a9d9625eee067b4dda24d4d57417729c7fc2535\n'}, {'number': 3, 'created': '2017-09-28 04:29:15.000000000', 'files': ['zun/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/edb5248fcceabd6f735265e324fd54cc7d65304f', 'message': 'Lock all async operations in compute\n\nThis prevents race conditions when multiple concurrent requests\nacted on the same container.\n\nChange-Id: I1a9d9625eee067b4dda24d4d57417729c7fc2535\n'}]",0,507972,edb5248fcceabd6f735265e324fd54cc7d65304f,11,3,3,11536,,,0,"Lock all async operations in compute

This prevents race conditions when multiple concurrent requests
acted on the same container.

Change-Id: I1a9d9625eee067b4dda24d4d57417729c7fc2535
",git fetch https://review.opendev.org/openstack/zun refs/changes/72/507972/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/compute/manager.py'],1,ff209b193294a817219e5dcb88d4a75063cb51fc,bug/1678539," @utils.synchronized(container.uuid) @utils.synchronized(container.uuid) def do_add_security_group(): self._add_security_group(context, container, security_group) utils.spawn_n(do_add_security_group) @utils.synchronized(container.uuid) def do_container_reboot(): self._do_container_reboot(context, container, timeout) utils.spawn_n(do_container_reboot) @utils.synchronized(container.uuid) def do_container_stop(): self._do_container_stop(context, container, timeout) utils.spawn_n(do_container_stop) @utils.synchronized(container.uuid) def do_container_start(): self._do_container_start(context, container) utils.spawn_n(do_container_start) @utils.synchronized(container.uuid) def do_container_pause(): self._do_container_pause(context, container) utils.spawn_n(do_container_pause) @utils.synchronized(container.uuid) def do_container_unpause(): self._do_container_unpause(context, container) utils.spawn_n(do_container_unpause) @utils.synchronized(container.uuid) def do_container_kill(): self._do_container_kill(context, container, signal) utils.spawn_n(do_container_kill) @utils.synchronized(container.uuid) def do_container_commit(): self._do_container_commit(context, snapshot_image, container, repository, tag) utils.spawn_n(do_container_commit) @utils.synchronized(""capsule-"" + capsule.uuid) def do_capsule_create(): self._do_capsule_create(context, capsule, requested_networks, limits) utils.spawn_n(do_capsule_create)"," utils.spawn_n(self._add_security_group, context, container, security_group) utils.spawn_n(self._do_container_reboot, context, container, timeout) utils.spawn_n(self._do_container_stop, context, container, timeout) utils.spawn_n(self._do_container_start, context, container) utils.spawn_n(self._do_container_pause, context, container) utils.spawn_n(self._do_container_unpause, context, container) utils.spawn_n(self._do_container_kill, context, container, signal) utils.spawn_n(self._do_container_commit, context, snapshot_image, container, repository, tag) utils.spawn_n(self._do_capsule_create, context, capsule, requested_networks, limits)",49,12
openstack%2Fpuppet-nova~master~Idf5d3be959a55021e02eb64f45a950a82cb77a79,openstack/puppet-nova,master,Idf5d3be959a55021e02eb64f45a950a82cb77a79,Accept empty strings for log_dir,MERGED,2017-10-03 08:01:29.000000000,2017-10-06 09:09:01.000000000,2017-10-06 09:09:01.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26617}]","[{'number': 1, 'created': '2017-10-03 08:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e4004dc4486894edf885628602ba12b5e0e14f08', 'message': 'Accept empty strings for log_dir\n\nAn empty string is an acceptable value of this entry, and it forces\nlogging to stdout/stderr, which is useful when running on containers.\n\nChange-Id: Idf5d3be959a55021e02eb64f45a950a82cb77a79\n'}, {'number': 2, 'created': '2017-10-05 14:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a99aa7d79b797ca2da0fef6871d7363db153d5a9', 'message': 'Accept empty strings for log_dir\n\nAn empty string is an acceptable value of this entry, and it forces\nlogging to stdout/stderr, which is useful when running on containers.\n\nDepends-On: I5e7d3588b7b3b106813d6d37b55aa812273d04d6\nChange-Id: Idf5d3be959a55021e02eb64f45a950a82cb77a79\n'}, {'number': 3, 'created': '2017-10-05 14:49:24.000000000', 'files': ['manifests/logging.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d620568ddc7a23e83d263b1e7366d84698c5c210', 'message': 'Accept empty strings for log_dir\n\nAn empty string is an acceptable value of this entry, and it forces\nlogging to stdout/stderr, which is useful when running on containers.\n\nChange-Id: Idf5d3be959a55021e02eb64f45a950a82cb77a79\n'}]",0,509105,d620568ddc7a23e83d263b1e7366d84698c5c210,34,7,3,10873,,,0,"Accept empty strings for log_dir

An empty string is an acceptable value of this entry, and it forces
logging to stdout/stderr, which is useful when running on containers.

Change-Id: Idf5d3be959a55021e02eb64f45a950a82cb77a79
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/05/509105/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/logging.pp'],1,e4004dc4486894edf885628602ba12b5e0e14f08,tripleo-logging," if $log_dir != '' { $log_dir_real = pick($::nova::log_dir,$log_dir) } else { $log_dir_real = $log_dir }"," $log_dir_real = pick($::nova::log_dir,$log_dir)",5,1
openstack%2Ftripleo-common~stable%2Fpike~Ic1edc16efe7620962829c06594b47148a511536e,openstack/tripleo-common,stable/pike,Ic1edc16efe7620962829c06594b47148a511536e,Fixup upgrade-non-controller to also accept IP address,MERGED,2017-10-05 14:46:54.000000000,2017-10-06 09:08:51.000000000,2017-10-06 09:08:50.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-05 14:46:54.000000000', 'files': ['scripts/upgrade-non-controller.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8f1a59be3578da826f30a54f71e07a9bce62d6a0', 'message': 'Fixup upgrade-non-controller to also accept IP address\n\nFor the P cycle and the upgrade of non controller nodes we should\nalso accept IP address as well as nova name/uuid to deal with\nsplit-stack environments.\n\nRelated-Bug: 1718657\nChange-Id: Ic1edc16efe7620962829c06594b47148a511536e\n(cherry picked from commit bfb9f2962fd4933e9588a3b864f5fb538e561629)\n'}]",0,509797,8f1a59be3578da826f30a54f71e07a9bce62d6a0,14,6,1,8449,,,0,"Fixup upgrade-non-controller to also accept IP address

For the P cycle and the upgrade of non controller nodes we should
also accept IP address as well as nova name/uuid to deal with
split-stack environments.

Related-Bug: 1718657
Change-Id: Ic1edc16efe7620962829c06594b47148a511536e
(cherry picked from commit bfb9f2962fd4933e9588a3b864f5fb538e561629)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/509797/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-non-controller.sh'],1,8f1a59be3578da826f30a54f71e07a9bce62d6a0,Ic1edc16efe7620962829c06594b47148a511536e-stable/pike,"HOSTNAME="""" IP_ADDR="""" echo "" -u|--upgrade <nova node> -- nova node name or id or ctlplane IP to upgrade"" echo "" -q|--query <nova node> -- check if the node is ACTIVE and tail"" echo ""the 'disable_upgrade_deployment' flag set true and then download and"" echo ""execute the upgrade and deployment steps ansible playbooks."" echo ""The tripleo_upgrade_node.sh is delivered to the 'disable_upgrade_deployment'"" echo ""nodes, when you execute the composable upgrade steps on the "" echo ""controlplane nodes (i.e. the first step of the upgrade process). "" echo echo ""This utility is then used by the operator to invoke the upgrade workflow"" echo ""by named node (nova name or uuid) on the 'disable_upgrade_deployment'"" echo ""nodes. You can use the nova UUID, name or an IP address on the provisioning"" echo ""network (e.g. for split stack deployments)."" echo echo ""Logfiles are generated in the"" echo ""current working directory by node name/UUID/IP as appropriate."" echo echo ""Example invocations:"" echo "" upgrade-non-controller.sh -u 734eea90-087b-4f12-9cd9-4807da83ea78 "" echo "" upgrade-non-controller.sh -u 192.168.24.15 "" echo ""You can run on multiple nodes in parallel: "" echo "" # Remove the '&' above to have these upgrade in sequence"" echo "" done""TEMP=`getopt -o h,u:,q: -l help,upgrade:,query:,script: -n $SCRIPT_NAME -- ""$@""` if [[ -n $UPGRADE_NODE$QUERY_NODE ]]; then log ""Logging to $LOGFILE"" fi function reset_hostname_ip { HOSTNAME="""" IP_ADDR="""" } # find_node_by_name_id_or_ip expects one parameter that is the nova name, # uuid or cltplane IP address of the node we want to upgrade. # The function will try and determine the hostname and (ctlplane) IP address # for that node and assign these values to the global HOSTNAME and IP_ADDR. # These variables are thus reset at the outset. function find_node_by_name_id_or_ip { reset_hostname_ip name_id_or_ip=$1 # First try as a nova node name or UUID. Could also be an IP (split stack) set +e # dont want to fail if nova or ping does below nova_name=$(openstack server show $name_id_or_ip -f value -c name) if [[ -n $nova_name ]]; then set -e HOSTNAME=$nova_name addr_string=$(openstack server show $name_id_or_ip -f value -c addresses) IP_ADDR=${addr_string#*=} # remove the ctlpane from ctlplane=192.168.24.11 log ""nova node $HOSTNAME found with IP $IP_ADDR "" else log ""$name_id_or_ip not known to nova. Trying it as an IP address"" if ping -c1 $name_id_or_ip ; then set -e HOSTNAME=$(ssh $UPGRADE_NODE_USER@$name_id_or_ip hostname) IP_ADDR=$name_id_or_ip log ""node $HOSTNAME found with address $IP_ADDR "" else set -e log ""ERROR $name_id_or_ip not known to nova or not responding to ping if it is an IP address. Exiting"" exit 1 fi set -e find_node_by_name_id_or_ip $UPGRADE_NODE log ""Executing $UPGRADE_SCRIPT on $IP_ADDR"" ssh $UPGRADE_NODE_USER@$IP_ADDR sudo $UPGRADE_SCRIPT 2>&1 | tee -a $LOGFILE log ""Starting the upgrade steps playbook run for $HOSTNAME from $UPGRADE_NODE/$config_dir/"" ansible-playbook -b -i /usr/bin/tripleo-ansible-inventory $UPGRADE_NODE/$config_dir/upgrade_steps_playbook.yaml --limit $HOSTNAME log ""Starting the deploy-steps-playbook run for $HOSTNAME from $UPGRADE_NODE/$config_dir/"" ansible-playbook -b -i /usr/bin/tripleo-ansible-inventory $UPGRADE_NODE/$config_dir/deploy_steps_playbook.yaml --limit $HOSTNAME find_node_by_name_id_or_ip $QUERY_NODE ssh $UPGRADE_NODE_USER@$IP_ADDR ""sudo tail /var/log/yum.log"" 2>&1 | tee -a $LOGFILE"," echo "" -u|--upgrade <nova node> -- nova node name or id to upgrade"" echo "" -s|--script <absolute_path> -- absolute path to the script you wish"" echo "" to use for the upgrade"" echo "" -q|--query <nova node> -- determine if the node is ACTIVE and"" echo "" has the upgrade script. Also, tail"" echo "" disable_upgrade_deployment flag set true, as part of the tripleo"" echo "" upgrade workflow. The tripleo_upgrade_node.sh is delivered when you"" echo "" execute the composable ansible upgrade steps. This utility is used"" echo "" by the operator to invoke the tripleo_upgrade_node.sh on a given"" echo "" named node (by nova name or uuid). Logfiles are generated in the"" echo "" current working directory by node name/uuid"" echo "" Example invocations:"" echo "" You can run on multiple nodes in parallel: "" echo "" # Remove the '&' above to have these upgrade in sequence"" echo "" # rather than in parallel.""TEMP=`getopt -o h,u:,q:,s: -l help,upgrade:,query:,script: -n $SCRIPT_NAME -- ""$@""`log ""Logging to $LOGFILE"" function find_nova_node_by_name_or_id { name_or_id=$1 node_status=$(openstack server show $name_or_id -f value -c status) if ! [[ $node_status == ""ACTIVE"" ]]; then log ""ERROR: node $name_or_id not found to be ACTIVE. Current status is $node_status"" exit 1 log ""nova node $name_or_id found with status $node_status"" } function confirm_script_on_node { name_or_id=$1 node_ip=$(nova show $name_or_id | grep ""ctlplane network"" | awk '{print $5}') log ""checking for upgrade script $UPGRADE_SCRIPT on node $name_or_id ($node_ip)"" results=$(ssh $UPGRADE_NODE_USER@$node_ip ""sudo ls -l $UPGRADE_SCRIPT"") log ""upgrade script $UPGRADE_SCRIPT found on node $name_or_id ($node_ip)"" } function deliver_script { script=$1 node=$2 node_ip=$(nova show $node | grep ""ctlplane network"" | awk '{print $5}') file_name=$(echo ${script##*/}) log ""Sending upgrade script $script to $node_ip as $UPGRADE_NODE_USER"" scp $script $UPGRADE_NODE_USER@$node_ip:/home/$UPGRADE_NODE_USER/$file_name log ""Copying upgrade script to right location and setting permissions"" ssh $UPGRADE_NODE_USER@$node_ip ""sudo cp /home/$UPGRADE_NODE_USER/$file_name $UPGRADE_SCRIPT ; \ sudo chmod 755 $UPGRADE_SCRIPT ; "" find_nova_node_by_name_or_id $UPGRADE_NODE if [ -n ""$SCRIPT"" ]; then deliver_script $SCRIPT $UPGRADE_NODE fi confirm_script_on_node $UPGRADE_NODE node_ip=$(nova show $UPGRADE_NODE | grep ""ctlplane network"" | awk '{print $5}') log ""Executing $UPGRADE_SCRIPT on $node_ip"" ssh $UPGRADE_NODE_USER@$node_ip sudo $UPGRADE_SCRIPT 2>&1 | tee -a $LOGFILE target_host=$(openstack server list | grep $UPGRADE_NODE | awk '{print $4}') log ""Starting the upgrade steps playbook run for $target_host from $UPGRADE_NODE/$config_dir/"" ansible-playbook -b -i /usr/bin/tripleo-ansible-inventory \ $UPGRADE_NODE/$config_dir/upgrade_steps_playbook.yaml --limit $target_host log ""Starting the deploy-steps-playbook run for $target_host from $UPGRADE_NODE/$config_dir/"" ansible-playbook -b -i /usr/bin/tripleo-ansible-inventory \ $UPGRADE_NODE/$config_dir/deploy_steps_playbook.yaml --limit $target_host find_nova_node_by_name_or_id $QUERY_NODE confirm_script_on_node $QUERY_NODE node_ip=$(nova show $QUERY_NODE | grep ""ctlplane network"" | awk '{print $5}') ssh $UPGRADE_NODE_USER@$node_ip ""sudo tail /var/log/yum.log"" 2>&1 | tee -a $LOGFILE",73,64
openstack%2Fcharms.openstack~master~Iea33a939a6422da94d3c2c5b9a0748a47bfde11a,openstack/charms.openstack,master,Iea33a939a6422da94d3c2c5b9a0748a47bfde11a,Add snap support,MERGED,2017-10-04 13:40:30.000000000,2017-10-06 09:00:03.000000000,2017-10-06 09:00:03.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20870}]","[{'number': 1, 'created': '2017-10-04 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/3c6054f7f5ec1128b4420b09bd1c3f2870cc50a7', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Iea33a939a6422da94d3c2c5b9a0748a47bfde11a\n'}, {'number': 2, 'created': '2017-10-04 14:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/8c690985218380015c019561dbcc1f9aae8ed686', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Iea33a939a6422da94d3c2c5b9a0748a47bfde11a\n'}, {'number': 3, 'created': '2017-10-05 13:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/aed6ce37c62e5f6fdff845272acbc152efceb78b', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Iea33a939a6422da94d3c2c5b9a0748a47bfde11a\n'}, {'number': 4, 'created': '2017-10-05 14:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/6867f70506fdb8123eda23fcdcbf1a271aa1e67a', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Iea33a939a6422da94d3c2c5b9a0748a47bfde11a\n'}, {'number': 5, 'created': '2017-10-05 14:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/5f04fe52d6fdc4e43870af9e9ff3cd4d6de433ee', 'message': ""Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nIntroduce a new property 'package_type' supported on the\nOpenStackCharm base class which can be set to 'deb' (default) or\n'snap' to indicate which type of install  a specific OpenStackCharm\nsubclass supports.  The list of snaps is detailed in the 'snaps'\nproperty, and the mode for installation of snaps is configured using\nthe 'snap_mode' property; as for packages, a specific snap can be\nchosen to driven the application version that is used for the\ndeployed workload.\n\nThis is supported by an additional default package type selector\nwhich, in conjunction with the existing release selector, will\npick the correct subclass of the OpenStackCharm class to use for\nthe configured installation source.\n\nSnap installation is configured using the openstack-origin\ncharm configuration option - for example:\n\n    openstack-origin=snap:ocata/stable\n\nIf no suitable class can be discovered for the configured\norigin, the charm will throw an error as it does today for\nmissing openstack release support for deb based installations.\n\nThe linked gerrit review is the first charm implementation of\nsnap support based on these set of changes.\n\nRequired-By: I464025a2b72aba8c31a4a97ade39d2b2980c3a92\nChange-Id: Iea33a939a6422da94d3c2c5b9a0748a47bfde11a\n""}, {'number': 6, 'created': '2017-10-05 15:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/6b33ffdf24a3f2e717286076868f97ef61034c1e', 'message': ""Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nIntroduce a new property 'package_type' supported on the\nOpenStackCharm base class which can be set to 'deb' (default) or\n'snap' to indicate which type of install  a specific OpenStackCharm\nsubclass supports.  The list of snaps is detailed in the 'snaps'\nproperty, and the mode for installation of snaps is configured using\nthe 'snap_mode' property; as for packages, a specific snap can be\nchosen to driven the application version that is used for the\ndeployed workload.\n\nThis is supported by an additional default package type selector\nwhich, in conjunction with the existing release selector, will\npick the correct subclass of the OpenStackCharm class to use for\nthe configured installation source.\n\nSnap installation is configured using the openstack-origin\ncharm configuration option - for example:\n\n    openstack-origin=snap:ocata/stable\n\nIf no suitable class can be discovered for the configured\norigin, the charm will throw an error as it does today for\nmissing openstack release support for deb based installations.\n\nThe linked gerrit review is the first charm implementation of\nsnap support based on these set of changes.\n\nRequired-By: I464025a2b72aba8c31a4a97ade39d2b2980c3a92\nChange-Id: Iea33a939a6422da94d3c2c5b9a0748a47bfde11a\n""}, {'number': 7, 'created': '2017-10-05 16:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/8aa3127528735c44ad95bb9a012d1dc1af25b5ee', 'message': ""Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nIntroduce a new property 'package_type' supported on the\nOpenStackCharm base class which can be set to 'deb' (default) or\n'snap' to indicate which type of install  a specific OpenStackCharm\nsubclass supports.  The list of snaps is detailed in the 'snaps'\nproperty, and the mode for installation of snaps is configured using\nthe 'snap_mode' property; as for packages, a specific snap can be\nchosen to driven the application version that is used for the\ndeployed workload.\n\nThis is supported by an additional default package type selector\nwhich, in conjunction with the existing release selector, will\npick the correct subclass of the OpenStackCharm class to use for\nthe configured installation source.\n\nSnap installation is configured using the openstack-origin\ncharm configuration option - for example:\n\n    openstack-origin=snap:ocata/stable\n\nIf no suitable class can be discovered for the configured\norigin, the charm will throw an error as it does today for\nmissing openstack release support for deb based installations.\n\nThe linked gerrit review is the first charm implementation of\nsnap support based on these set of changes.\n\nRequired-By: I464025a2b72aba8c31a4a97ade39d2b2980c3a92\nChange-Id: Iea33a939a6422da94d3c2c5b9a0748a47bfde11a\n""}, {'number': 8, 'created': '2017-10-05 18:37:53.000000000', 'files': ['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/classes.py', 'charms_openstack/charm/defaults.py', 'charms_openstack/adapters.py', 'charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/charms_openstack/charm/test_classes.py', 'unit_tests/charms_openstack/charm/common.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/43f32232aa217de8444828281faae8437270dc48', 'message': ""Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nIntroduce a new property 'package_type' supported on the\nOpenStackCharm base class which can be set to 'deb' (default) or\n'snap' to indicate which type of install  a specific OpenStackCharm\nsubclass supports.  The list of snaps is detailed in the 'snaps'\nproperty, and the mode for installation of snaps is configured using\nthe 'snap_mode' property; as for packages, a specific snap can be\nchosen to drive the application version that is used for the\ndeployed workload.\n\nThis is supported by an additional default package type selector\nwhich, in conjunction with the existing release selector, will\npick the correct subclass of the OpenStackCharm class to use for\nthe configured installation source.\n\nSnap installation is configured using the openstack-origin\ncharm configuration option - for example:\n\n    openstack-origin=snap:ocata/stable\n\nIf no suitable class can be discovered for the configured\norigin, the charm will throw an error as it does today for\nmissing openstack release support for deb based installations.\n\nThe linked gerrit review is the first charm implementation of\nsnap support based on these set of changes.\n\nRequired-By: I464025a2b72aba8c31a4a97ade39d2b2980c3a92\nChange-Id: Iea33a939a6422da94d3c2c5b9a0748a47bfde11a\n""}]",24,509447,43f32232aa217de8444828281faae8437270dc48,27,6,8,935,,,0,"Add snap support

Update core charms.openstack classes to support installation
from snap as an alternative to installation from deb packages.

Introduce a new property 'package_type' supported on the
OpenStackCharm base class which can be set to 'deb' (default) or
'snap' to indicate which type of install  a specific OpenStackCharm
subclass supports.  The list of snaps is detailed in the 'snaps'
property, and the mode for installation of snaps is configured using
the 'snap_mode' property; as for packages, a specific snap can be
chosen to drive the application version that is used for the
deployed workload.

This is supported by an additional default package type selector
which, in conjunction with the existing release selector, will
pick the correct subclass of the OpenStackCharm class to use for
the configured installation source.

Snap installation is configured using the openstack-origin
charm configuration option - for example:

    openstack-origin=snap:ocata/stable

If no suitable class can be discovered for the configured
origin, the charm will throw an error as it does today for
missing openstack release support for deb based installations.

The linked gerrit review is the first charm implementation of
snap support based on these set of changes.

Required-By: I464025a2b72aba8c31a4a97ade39d2b2980c3a92
Change-Id: Iea33a939a6422da94d3c2c5b9a0748a47bfde11a
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/47/509447/8 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/classes.py', 'charms_openstack/charm/defaults.py', 'charms_openstack/adapters.py', 'charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/charms_openstack/charm/test_classes.py']",7,3c6054f7f5ec1128b4420b09bd1c3f2870cc50a7,snap-support,"TEST_CONFIG = {'config': True, 'openstack-origin': None} self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False)",TEST_CONFIG = {'config': True},425,46
openstack%2Floci~master~I983f620c3753755e5a67621261c6cd6f964b6908,openstack/loci,master,I983f620c3753755e5a67621261c6cd6f964b6908,Allow users to set a custom pypi mirror,ABANDONED,2017-10-04 16:28:03.000000000,2017-10-06 08:52:35.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 14119}]","[{'number': 1, 'created': '2017-10-04 16:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/bb91c0f0b918e754b7c87c029a4a0c6f56d1fed4', 'message': 'Allow users to set a custom pypi mirror\n\nChange-Id: I983f620c3753755e5a67621261c6cd6f964b6908\n'}, {'number': 2, 'created': '2017-10-04 16:28:54.000000000', 'files': ['Dockerfile', 'README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/fd35d07f6f4f1973ea1e3c93b8aea2de0f8c6a87', 'message': 'Allow users to set a custom pypi mirror\n\nChange-Id: I983f620c3753755e5a67621261c6cd6f964b6908\n'}]",0,509548,fd35d07f6f4f1973ea1e3c93b8aea2de0f8c6a87,9,3,2,1390,,,0,"Allow users to set a custom pypi mirror

Change-Id: I983f620c3753755e5a67621261c6cd6f964b6908
",git fetch https://review.opendev.org/openstack/loci refs/changes/48/509548/1 && git format-patch -1 --stdout FETCH_HEAD,"['Dockerfile', 'README.md']",2,bb91c0f0b918e754b7c87c029a4a0c6f56d1fed4,docs, * PIP_INDEX_URL Use to set a custom pypi mirror to fetch packages from. * PIP_TRUSTED_HOST Use if your pypi mirror is not using https. ,,5,0
openstack%2Fironic~master~I7155a2cdc90b8c4f4162318ec0a5ee291e169379,openstack/ironic,master,I7155a2cdc90b8c4f4162318ec0a5ee291e169379,Follow-up patch 'Cleanup unit tests for ipmittool',MERGED,2017-10-03 18:33:30.000000000,2017-10-06 08:46:44.000000000,2017-10-06 08:46:44.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11076}, {'_account_id': 14525}, {'_account_id': 14760}, {'_account_id': 17998}, {'_account_id': 19593}, {'_account_id': 22224}, {'_account_id': 23630}]","[{'number': 1, 'created': '2017-10-03 18:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/93c60179fed163932d83f934084e5cf750560e95', 'message': ""Follow-up patch 'Cleanup unit tests for ipmittool'\n\nAddressing nits.\nRealigned method names to a single line\n\nChange-Id: I7155a2cdc90b8c4f4162318ec0a5ee291e169379\n""}, {'number': 2, 'created': '2017-10-03 22:19:33.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_ipmitool.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a06a2fee3d177af839322b39687a2b6bf87e7698', 'message': ""Follow-up patch 'Cleanup unit tests for ipmittool'\n\nAddressing nits.\nIn commit 43fbc5dc6a22787d0909ab6b47e7b00b70c9c1ca there were some issues\npointed out during review. This is a follow-up patch to address\nthose issues.\nChange-Id: I7155a2cdc90b8c4f4162318ec0a5ee291e169379\n""}]",2,509248,a06a2fee3d177af839322b39687a2b6bf87e7698,15,9,2,22224,,,0,"Follow-up patch 'Cleanup unit tests for ipmittool'

Addressing nits.
In commit 43fbc5dc6a22787d0909ab6b47e7b00b70c9c1ca there were some issues
pointed out during review. This is a follow-up patch to address
those issues.
Change-Id: I7155a2cdc90b8c4f4162318ec0a5ee291e169379
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/509248/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/test_ipmitool.py'],1,93c60179fed163932d83f934084e5cf750560e95,test," def test__parse_driver_info_numeric_password(self): @mock.patch.object(ipmi, '_is_option_supported', autospec=True) def test__exec_ipmitool_exception(self, mock_exec, mock_support):"," def test__parse_driver_info_numeric_password( self): @mock.patch.object(ipmi, '_is_option_supported', autospec=True) def test__exec_ipmitool_exception( self, mock_exec, mock_support):",3,5
openstack%2Frpm-packaging~stable%2Fnewton~I70c928b8b23bff3ea2580d72aee0bd557bee4405,openstack/rpm-packaging,stable/newton,I70c928b8b23bff3ea2580d72aee0bd557bee4405,Update python-monascaclient to 1.2.1,MERGED,2017-09-27 03:19:11.000000000,2017-10-06 08:41:35.000000000,2017-10-06 08:40:53.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-27 03:19:11.000000000', 'files': ['openstack/python-monascaclient/python-monascaclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e3856949cf66d7ac7d6e4fa445c7cebb9a63603c', 'message': 'Update python-monascaclient to 1.2.1\n\nChange-Id: I70c928b8b23bff3ea2580d72aee0bd557bee4405\n'}]",0,507724,e3856949cf66d7ac7d6e4fa445c7cebb9a63603c,12,6,1,17130,,,0,"Update python-monascaclient to 1.2.1

Change-Id: I70c928b8b23bff3ea2580d72aee0bd557bee4405
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/24/507724/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-monascaclient/python-monascaclient.spec.j2'],1,e3856949cf66d7ac7d6e4fa445c7cebb9a63603c,,Version: 1.2.1,Version: 1.2.0,1,1
openstack%2Fswift~feature%2Fdeep~I3ba0241bd19ebf30cc0989b9dca888f12e8b794c,openstack/swift,feature/deep,I3ba0241bd19ebf30cc0989b9dca888f12e8b794c,include deleted objects when cleaving,MERGED,2017-10-05 14:23:53.000000000,2017-10-06 08:29:00.000000000,2017-10-05 18:16:27.000000000,"[{'_account_id': 3}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-10-05 14:23:53.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e57ea584f2139a4d16974dc8ab201d823463fb6b', 'message': 'include deleted objects when cleaving\n\nalso update unit tests to use encoded multiple timestamps\nwhich since [1] are now correctly copied in cleave.\n\n[1] I1b905bab6f41d57059b43aeaa201cbc1e1ef0544\n\nChange-Id: I3ba0241bd19ebf30cc0989b9dca888f12e8b794c\n'}]",3,509793,e57ea584f2139a4d16974dc8ab201d823463fb6b,8,3,1,7847,,,0,"include deleted objects when cleaving

also update unit tests to use encoded multiple timestamps
which since [1] are now correctly copied in cleave.

[1] I1b905bab6f41d57059b43aeaa201cbc1e1ef0544

Change-Id: I3ba0241bd19ebf30cc0989b9dca888f12e8b794c
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/509793/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,e57ea584f2139a4d16974dc8ab201d823463fb6b,p-sharding-misplaced-objects, 'include_deleted': True,,88,73
openstack%2Fdevstack~master~I9a51ea6582dfef28e4da5f8510742230d88cbaf3,openstack/devstack,master,I9a51ea6582dfef28e4da5f8510742230d88cbaf3,Stop using ironic host manager with resource classes,MERGED,2017-08-30 10:40:13.000000000,2017-10-06 08:19:49.000000000,2017-10-06 03:17:01.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10385}, {'_account_id': 12356}, {'_account_id': 16376}, {'_account_id': 16690}]","[{'number': 1, 'created': '2017-08-30 10:40:13.000000000', 'files': ['lib/nova_plugins/hypervisor-ironic'], 'web_link': 'https://opendev.org/openstack/devstack/commit/def67a47e80c1ed1ed8f1bdcf105563935f6d921', 'message': 'Stop using ironic host manager with resource classes\n\nThere should be no needs to use the ironic host manager when using\nresource classes.\n\nChange-Id: I9a51ea6582dfef28e4da5f8510742230d88cbaf3\n'}]",0,499106,def67a47e80c1ed1ed8f1bdcf105563935f6d921,16,10,1,6637,,,0,"Stop using ironic host manager with resource classes

There should be no needs to use the ironic host manager when using
resource classes.

Change-Id: I9a51ea6582dfef28e4da5f8510742230d88cbaf3
",git fetch https://review.opendev.org/openstack/devstack refs/changes/06/499106/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova_plugins/hypervisor-ironic'],1,def67a47e80c1ed1ed8f1bdcf105563935f6d921,, iniset $NOVA_CONF DEFAULT scheduler_host_manager ironic_host_manager, iniset $NOVA_CONF DEFAULT scheduler_host_manager ironic_host_manager,1,1
openstack%2Fmonasca-api~master~Iccc30d411a49b9e47d6625909427f071397aedfd,openstack/monasca-api,master,Iccc30d411a49b9e47d6625909427f071397aedfd,Better handling of storm processes,MERGED,2017-09-26 07:10:40.000000000,2017-10-06 08:11:34.000000000,2017-10-06 08:11:34.000000000,"[{'_account_id': 3}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 26702}, {'_account_id': 26733}]","[{'number': 1, 'created': '2017-09-26 07:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/d2f959b6be9c09a60b3b37a62519a56660548c50', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 2, 'created': '2017-09-26 07:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/65f48203550ffd425e618ccdacd8c492ca320604', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 3, 'created': '2017-09-26 07:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/bdd442bc796188c5f99911cb2fe7800335a800d0', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 4, 'created': '2017-09-26 08:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/d3c9a85c2d284dc7e1588d9aa9b9d3e7786554c3', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 5, 'created': '2017-09-26 08:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/c8af7edba5181d4e7605c9732aeec25e29ca8708', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 6, 'created': '2017-09-26 09:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/35a1c6c4786a2b996399fe8b1d090ec5b067fc9c', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 7, 'created': '2017-09-26 09:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/0cc64fefeebe95749b42f055c79ec78ceb0473bf', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 8, 'created': '2017-09-26 09:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/dc459169388c869eba79b8584787ec6f730206a0', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 9, 'created': '2017-09-26 10:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/e270c9852f745009120ecf34646eb63937833369', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 10, 'created': '2017-09-26 10:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/16402aabaf66fde5cfef9324778524d06e62923e', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 11, 'created': '2017-09-26 11:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/067ece655bdc0ea042b70f1076bfb8807ea150c1', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 12, 'created': '2017-09-26 11:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/e17dac9c16bfe98b5cb54eaa476c5f86d40e98ef', 'message': '[WIP] Better handling of storm processes\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 13, 'created': '2017-09-27 08:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/1e7c98d9f933e7f7dea96ea2a1c38a9cf926e101', 'message': 'Better handling of storm processes\n\nUse devstack utilities to launch storm processes\nand be able to see their logs.\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 14, 'created': '2017-10-02 07:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/773875b9840d4e8a5392f38e50582b97a74f3bf1', 'message': 'Better handling of storm processes\n\nUse devstack utilities to launch storm processes\nand be able to see their logs.\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}, {'number': 15, 'created': '2017-10-06 06:19:28.000000000', 'files': ['devstack/files/storm/storm-nimbus.service', 'devstack/files/storm/storm-supervisor.service', 'devstack/plugin.sh', 'devstack/files/storm.yaml', 'devstack/lib/storm.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/58d927d0834a2cfb96e15d48510a11729e0f84d3', 'message': 'Better handling of storm processes\n\nUse devstack utilities to launch storm processes\nand be able to see their logs.\n\nChange-Id: Iccc30d411a49b9e47d6625909427f071397aedfd\n'}]",4,507383,58d927d0834a2cfb96e15d48510a11729e0f84d3,46,7,15,16168,,,0,"Better handling of storm processes

Use devstack utilities to launch storm processes
and be able to see their logs.

Change-Id: Iccc30d411a49b9e47d6625909427f071397aedfd
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/83/507383/12 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/files/storm/storm-nimbus.service', 'devstack/files/storm/storm-supervisor.service', 'devstack/plugin.sh', 'devstack/files/storm.yaml', 'devstack/lib/storm.sh']",5,d2f959b6be9c09a60b3b37a62519a56660548c50,storm_handling,"#!/bin/bash # Copyright 2017 FUJITSU LIMITED # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # call_order: # - is_storm_enabled # - install_storm # - configure_storm # - clean_storm _XTRACE_STORM=$(set +o | grep xtrace) set +o xtrace STORM_NIMBUS_CMD=""/opt/storm/current/bin/storm nimbus"" STORM_SUPERVISOR_CMD=""/opt/storm/current/bin/storm supervisor"" STORM_USER=""storm"" STORM_GROUP=""storm"" STORM_DIR=""/opt/storm"" STORM_WORK_DIR=""/var/storm"" STORM_LOG_DIR=""/var/log/storm"" STORM_TARBALL=""apache-storm-${STORM_VERSION}.tar.gz"" STORM_TARBALL_DEST=""${FILES}/${STORM_TARBALL}"" function is_storm_enabled { is_service_enabled monasca-storm && return 0 return 1 } function start_storm { if is_storm_enabled; then echo_summary ""Starting storm-{nimbus,supervisor}"" run_process ""storm-nimbus"" ""${STORM_NIMBUS_CMD}"" ""${STORM_GROUP}"" ""${STORM_USER}"" run_process ""storm-supervisor"" ""${STORM_SUPERVISOR_CMD}"" ""${STORM_GROUP}"" ""${STORM_USER}"" fi } function stop_storm { if is_storm_enabled; then echo_summary ""Stopping storm-{nimbus,supervisor}"" stop_process ""storm-nimbus"" stop_process ""storm-supervisor"" fi } function clean_storm { if is_storm_enabled; then echo_summary ""Cleaning storm"" sudo rm -rf ""${STORM_DIR}"" || true sudo rm -rf ""${STORM_WORK_DIR}"" || true sudo rm -rf ""${STORM_LOG_DIR}"" || true sudo userdel ""${STORM_USER}"" || true sudo groupdel ""${STORM_GROUP}"" || true fi } function configure_storm { if is_storm_enabled; then echo_summary ""Configuring storm"" sudo cp -f ""${MONASCA_API_DIR}""/devstack/files/storm.yaml ""${STORM_DIR}/current/conf/storm.yaml"" sudo chown ""${STORM_USER}"":""${STORM_GROUP}"" ""${STORM_DIR}/current/conf/storm.yaml"" sudo chmod 0644 ""${STORM_DIR}/current/conf/storm.yaml"" fi } function install_storm { if is_storm_enabled; then echo_summary ""Installing storm"" _download_storm _setup_user_group _install_storm _create_directories fi } # helpers function _download_storm { local storm_tarball_url=""${APACHE_MIRROR}storm/apache-storm-${STORM_VERSION}/${STORM_TARBALL}"" download_file ""${storm_tarball_url}"" ""${STORM_TARBALL_DEST}"" } function _setup_user_group { sudo groupadd --system ""${STORM_GROUP}"" || true sudo useradd --system -g ""${STORM_GROUP}"" ""${STORM_USER}"" || true } function _install_storm { sudo mkdir -p ""${STORM_DIR}"" || true sudo chown ""${STORM_USER}"":""${STORM_GROUP}"" ""${STORM_DIR}"" sudo chmod 0755 ""${STORM_DIR}"" sudo tar -xzf ${STORM_TARBALL_DEST} -C ""${STORM_DIR}"" sudo ln -sf ""${STORM_DIR}""/apache-storm-${STORM_VERSION} ""${STORM_DIR}/current"" } function _create_directories { sudo mkdir ""${STORM_WORK_DIR}"" || true sudo chown ""${STORM_USER}"":""${STORM_GROUP}"" ""${STORM_WORK_DIR}"" sudo chmod 0775 ""${STORM_WORK_DIR}"" sudo mkdir ""${STORM_LOG_DIR}"" || true sudo chown ""${STORM_USER}"":""${STORM_GROUP}"" ""${STORM_LOG_DIR}"" sudo chmod 0775 ""${STORM_LOG_DIR}"" sudo ln -sf ""${STORM_LOG_DIR}"" ""${STORM_DIR}/current/logs"" } # helpers $_XTRACE_STORM ",,141,180
openstack%2Fneutron~master~Icb039ae2d465e3822ab07ae4f9bc405c1362afba,openstack/neutron,master,Icb039ae2d465e3822ab07ae4f9bc405c1362afba,ml2: fix update_device_up to send lm events with linux bridge,MERGED,2017-09-21 13:50:52.000000000,2017-10-06 08:04:33.000000000,2017-10-05 21:58:30.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 7730}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-21 13:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e801c2a94c960baef879b50f6272f659e8b717c', 'message': ""ml2: fix update_device_up to send lm events with linux bridge\n\nIn case of a live migration and with linux bridge the events are not\nsend to Nova that because the port UUID returned by _device_to_port_id\nmay be a truncated UUID and the current plugin._get_port() can't find\nit.\n\nChange-Id: Icb039ae2d465e3822ab07ae4f9bc405c1362afba\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n""}, {'number': 2, 'created': '2017-09-22 10:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bfdacee9b216638ec807ccc1ff2b2587461d089', 'message': ""ml2: fix update_device_up to send lm events with linux bridge\n\nIn case of a live migration and with linux bridge the events are not\nsend to Nova that because the port UUID returned by _device_to_port_id\nmay be a truncated UUID and the current plugin._get_port() can't find\nit.\n\nRelated-Bug: #1414559\nChange-Id: Icb039ae2d465e3822ab07ae4f9bc405c1362afba\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n""}, {'number': 3, 'created': '2017-09-26 15:42:01.000000000', 'files': ['neutron/plugins/ml2/rpc.py', 'neutron/tests/unit/plugins/ml2/test_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/38b3d4e16ac76d97f64f264c68ef9b88d66e0324', 'message': ""ml2: fix update_device_up to send lm events with linux bridge\n\nIn case of a live migration and with linux bridge the events are not\nsent to Nova, because the port UUID returned by _device_to_port_id may\nbe a truncated UUID and the current plugin._get_port() can't find it.\n\nRelated-Bug: #1414559\nChange-Id: Icb039ae2d465e3822ab07ae4f9bc405c1362afba\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>\n""}]",3,506182,38b3d4e16ac76d97f64f264c68ef9b88d66e0324,35,9,3,7730,,,0,"ml2: fix update_device_up to send lm events with linux bridge

In case of a live migration and with linux bridge the events are not
sent to Nova, because the port UUID returned by _device_to_port_id may
be a truncated UUID and the current plugin._get_port() can't find it.

Related-Bug: #1414559
Change-Id: Icb039ae2d465e3822ab07ae4f9bc405c1362afba
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/506182/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/rpc.py'],1,1e801c2a94c960baef879b50f6272f659e8b717c,clean1," port = ml2_db.get_port(rpc_context, port_id) # _device_to_port_id may have returned a truncated UUID if the # agent did not provide a full one (e.g. Linux Bridge case). We # need to look up the full one before calling provisioning_complete if not port:"," try: port = plugin._get_port(rpc_context, port_id) except exceptions.PortNotFound:",5,3
openstack%2Ftripleo-heat-templates~master~I0a934367ef22984d9091d160ec7105092edc8149,openstack/tripleo-heat-templates,master,I0a934367ef22984d9091d160ec7105092edc8149,List all unhealthy containers,MERGED,2017-10-03 08:46:21.000000000,2017-10-06 08:03:51.000000000,2017-10-05 20:09:41.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 5241}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2017-10-03 08:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/37ae54f186832e58099d4f8e52b023abcc76d397', 'message': 'List all unhealthy containers\n\nCurrently the default Sensu check defined in docker/services/sensu-client.yaml\nreports only first unhealthy container. This patch changes the check output\nto contain list of all unhealthy containers.\n\nChange-Id: I0a934367ef22984d9091d160ec7105092edc8149\nCloses-Bug: #1720972\n'}, {'number': 2, 'created': '2017-10-04 13:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/328b882b1e4b54132686d884aa1aa2820493cdc9', 'message': 'List all unhealthy containers\n\nCurrently the default Sensu check defined in docker/services/sensu-client.yaml\nreports only first unhealthy container. This patch changes the check output\nto contain list of all unhealthy containers.\n\nChange-Id: I0a934367ef22984d9091d160ec7105092edc8149\nCloses-Bug: #1720972\n'}, {'number': 3, 'created': '2017-10-05 08:39:20.000000000', 'files': ['docker/services/sensu-client.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b016c9f3fbe9552497737974b9928d1dff4d299', 'message': 'List all unhealthy containers\n\nCurrently the default Sensu check defined in docker/services/sensu-client.yaml\nreports only first unhealthy container. This patch changes the check output\nto contain list of all unhealthy containers.\n\nChange-Id: I0a934367ef22984d9091d160ec7105092edc8149\nCloses-Bug: #1720972\n'}]",2,509110,9b016c9f3fbe9552497737974b9928d1dff4d299,23,8,3,5241,,,0,"List all unhealthy containers

Currently the default Sensu check defined in docker/services/sensu-client.yaml
reports only first unhealthy container. This patch changes the check output
to contain list of all unhealthy containers.

Change-Id: I0a934367ef22984d9091d160ec7105092edc8149
Closes-Bug: #1720972
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/509110/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/sensu-client.yaml'],1,37ae54f186832e58099d4f8e52b023abcc76d397,bug/1720972," output='' output=""${output} ; $(docker inspect --format='{{.Name}}' $i) ($i): $(docker inspect --format='{{(index .State.Health.Log 0).Output}}' $i)""; if [ ! -z ""${output}"" ]; then echo $output && exit 2; fi"," echo ""$(docker inspect --format='{{.Name}}' $i) ($i): $(docker inspect --format='{{json .State}}' $i)"" && exit 2;",5,1
openstack%2Fironic~master~Id3a166a74505c142d7217217882246a64f625eb8,openstack/ironic,master,Id3a166a74505c142d7217217882246a64f625eb8,Stop passing raw Exceptions as the reasons for ironic Image exceptions,MERGED,2017-09-28 16:33:48.000000000,2017-10-06 08:02:52.000000000,2017-10-05 21:26:28.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 14525}, {'_account_id': 14760}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-28 16:33:48.000000000', 'files': ['ironic/common/image_service.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/09da2937a85c5032cffea850cb31e963d5627321', 'message': 'Stop passing raw Exceptions as the reasons for ironic Image exceptions\n\nWhen an exception occured in the ironic image service code, the raw\nexception was passed into the IronicException as the reason. The\nironic exception logic then attempted to converted it to json which\nfails and then falls back to converting it to string. This patch\npreemptively converts the Exception to string to avoid that first\nfailure.\n\nChange-Id: Id3a166a74505c142d7217217882246a64f625eb8\n'}]",0,508225,09da2937a85c5032cffea850cb31e963d5627321,57,10,1,6637,,,0,"Stop passing raw Exceptions as the reasons for ironic Image exceptions

When an exception occured in the ironic image service code, the raw
exception was passed into the IronicException as the reason. The
ironic exception logic then attempted to converted it to json which
fails and then falls back to converting it to string. This patch
preemptively converts the Exception to string to avoid that first
failure.

Change-Id: Id3a166a74505c142d7217217882246a64f625eb8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/508225/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/image_service.py'],1,09da2937a85c5032cffea850cb31e963d5627321,, reason=six.text_type(e)) reason=six.text_type(e)) reason=six.text_type(e)), reason=e) reason=e) reason=e),3,3
openstack%2Finstack-undercloud~master~I42c8fa4025be8d059ed902eaefc51dc0c21dc581,openstack/instack-undercloud,master,I42c8fa4025be8d059ed902eaefc51dc0c21dc581,(retry) configure all OpenStack services with default domain,MERGED,2017-10-05 17:13:28.000000000,2017-10-06 07:57:50.000000000,2017-10-06 07:57:50.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-10-05 17:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/6d795f9f92fddbaed8f8d67714b91d1552fd2ca2', 'message': ""(retry) configure all OpenStack services with default domain\n\nKeystone upstream removed v2.0 APIs so we can't fallback on v2 endpoints\nanymore and we have to provide domains parameters to use v3 API.\n\nThis patch aims to do it.\n\nChange-Id: I42c8fa4025be8d059ed902eaefc51dc0c21dc581\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nCloses-Bug: #1721366\n""}, {'number': 2, 'created': '2017-10-06 03:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/bbc289512668c1821666a159ac48b3888e364fd2', 'message': ""(retry) configure all OpenStack services with default domain\n\nKeystone upstream removed v2.0 APIs so we can't fallback on v2 endpoints\nanymore and we have to provide domains parameters to use v3 API.\n\nThis patch aims to do it.\n\nChange-Id: I42c8fa4025be8d059ed902eaefc51dc0c21dc581\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nCloses-Bug: #1721366\n""}, {'number': 3, 'created': '2017-10-06 03:41:44.000000000', 'files': ['releasenotes/notes/domain_params-63ef884e1ee154c0.yaml', 'elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c0f5264f58fcc01cb7efabdd62298666c2874ed8', 'message': ""(retry) configure all OpenStack services with default domain\n\nKeystone upstream removed v2.0 APIs so we can't fallback on v2 endpoints\nanymore and we have to provide domains parameters to use v3 API.\n\nThis patch aims to do it.\n\nChange-Id: I42c8fa4025be8d059ed902eaefc51dc0c21dc581\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nCloses-Bug: #1721366\n""}]",0,509841,c0f5264f58fcc01cb7efabdd62298666c2874ed8,16,6,3,3153,,,0,"(retry) configure all OpenStack services with default domain

Keystone upstream removed v2.0 APIs so we can't fallback on v2 endpoints
anymore and we have to provide domains parameters to use v3 API.

This patch aims to do it.

Change-Id: I42c8fa4025be8d059ed902eaefc51dc0c21dc581
Co-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>
Closes-Bug: #1721366
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/41/509841/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/domain_params-63ef884e1ee154c0.yaml', 'elements/puppet-stack-config/puppet-stack-config.yaml.template']",2,6d795f9f92fddbaed8f8d67714b91d1552fd2ca2,bug/1721366,"glance::api::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" glance::api::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""heat::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" heat::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""neutron::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" neutron::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""ceilometer::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" ceilometer::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""ceilometer::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" ceilometer::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""gnocchi::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" gnocchi::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""panko::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" panko::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""nova::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" nova::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""ironic::api::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" ironic::api::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""ironic::drivers::inspector::user_domain_name: ""%{hiera('keystone_default_domain'))}"" ironic::drivers::inspector::project_domain_name: ""%{hiera('keystone_default_domain'))}""ironic::inspector::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" ironic::inspector::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""mistral::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" mistral::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""zaqar::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" zaqar::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""cinder::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" cinder::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""nova::metadata::novajoin::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" nova::metadata::novajoin::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""",,36,0
openstack%2Ftripleo-docs~master~I28c1e4cc8498538e77993094f72b58b80387faa6,openstack/tripleo-docs,master,I28c1e4cc8498538e77993094f72b58b80387faa6,docs: mistral-api: remove unnecessary blockquotes,ABANDONED,2017-09-15 20:51:46.000000000,2017-10-06 07:55:51.000000000,,"[{'_account_id': 3}, {'_account_id': 9712}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-15 20:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0309ce55653ef3ba4550949e231b4ed04eacec15', 'message': 'docs: mistral-api: remove unnecessary blockquotes\n\nDue to missing/superfluous spaces, some of the content in the\nguide is displayed as blockquote without being really quoted\ncontent. This change adds/removes spaces to remove the\ngenerated HTML blockquotes.\n\nThis is the last patch which deals with the removal of unnecessary\nblockquotes.\n\nChange-Id: I28c1e4cc8498538e77993094f72b58b80387faa6\n'}, {'number': 2, 'created': '2017-10-04 09:10:20.000000000', 'files': ['doc/source/install/mistral-api/mistral-api.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/47679c2949b6feb0d9ef95ac7a6113b3c5c3db6e', 'message': 'docs: mistral-api: remove unnecessary blockquotes\n\nDue to missing/superfluous spaces, some of the content in the\nguide is displayed as blockquote without being really quoted\ncontent. This change adds/removes spaces to remove the\ngenerated HTML blockquotes.\n\nThis is the last patch which deals with the removal of unnecessary\nblockquotes.\n\nChange-Id: I28c1e4cc8498538e77993094f72b58b80387faa6\n'}]",0,504521,47679c2949b6feb0d9ef95ac7a6113b3c5c3db6e,9,3,2,11303,,,0,"docs: mistral-api: remove unnecessary blockquotes

Due to missing/superfluous spaces, some of the content in the
guide is displayed as blockquote without being really quoted
content. This change adds/removes spaces to remove the
generated HTML blockquotes.

This is the last patch which deals with the removal of unnecessary
blockquotes.

Change-Id: I28c1e4cc8498538e77993094f72b58b80387faa6
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/21/504521/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/mistral-api/mistral-api.rst'],1,0309ce55653ef3ba4550949e231b4ed04eacec15,docs/blockquote, .. code-block:: bash .. note:: .. code-block:: bash .. code-block:: bash, .. code-block:: bash .. note:: .. code-block:: bash .. code-block:: bash,4,4
openstack%2Ftripleo-docs~master~I475b96514a33017480386f806a5221b318e1a233,openstack/tripleo-docs,master,I475b96514a33017480386f806a5221b318e1a233,docs: post deployment: remove unnecessary blockquotes,ABANDONED,2017-09-15 20:51:46.000000000,2017-10-06 07:55:47.000000000,,"[{'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-15 20:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e6a55f5c88c1770d15ab58892c6a3a510ca5ae8a', 'message': 'docs: post deployment: remove unnecessary blockquotes\n\nDue to missing/superfluous spaces, some of the content in the\nguide is displayed as blockquote without being really quoted\ncontent. This change adds/removes spaces to remove the\ngenerated HTML blockquotes.\n\nFollow up patches will deal with the other install guide sections\nmore in details.\n\nChange-Id: I475b96514a33017480386f806a5221b318e1a233\n'}, {'number': 2, 'created': '2017-10-04 09:10:20.000000000', 'files': ['doc/source/install/post_deployment/vm_snapshot.rst', 'doc/source/install/post_deployment/upgrade.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9aded64e8256ef98b5901174f00092fda380b0fb', 'message': 'docs: post deployment: remove unnecessary blockquotes\n\nDue to missing/superfluous spaces, some of the content in the\nguide is displayed as blockquote without being really quoted\ncontent. This change adds/removes spaces to remove the\ngenerated HTML blockquotes.\n\nFollow up patches will deal with the other install guide sections\nmore in details.\n\nChange-Id: I475b96514a33017480386f806a5221b318e1a233\n'}]",0,504520,9aded64e8256ef98b5901174f00092fda380b0fb,8,2,2,11303,,,0,"docs: post deployment: remove unnecessary blockquotes

Due to missing/superfluous spaces, some of the content in the
guide is displayed as blockquote without being really quoted
content. This change adds/removes spaces to remove the
generated HTML blockquotes.

Follow up patches will deal with the other install guide sections
more in details.

Change-Id: I475b96514a33017480386f806a5221b318e1a233
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/20/504520/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/post_deployment/vm_snapshot.rst', 'doc/source/install/post_deployment/upgrade.rst']",2,e6a55f5c88c1770d15ab58892c6a3a510ca5ae8a,docs/blockquote," .. admonition:: Mitaka to Newton :class: mton .. admonition:: Newton to Ocata :class: ntoo Backup and disable current repos. Note that the repository files might be named differently depending on your installation:: Get and enable new repos for `NEW_VERSION`: .. include:: ../repositories.txt In the first release of instack-undercloud newton(5.0.0), the undercloud telemetry services are **disabled** by default. In order to maintain the telemetry services during the mitaka to newton upgrade the operator must explicitly enable them **before** running the undercloud upgrade. This is done by adding:: in the [DEFAULT] section of the undercloud.conf configuration file. If you are using any newer newton release, this option is switched back to **enabled** by default to make upgrade experience better. Hence, if you are using a later newton release you don't need to explicitly enable this option. Prior to Pike, TripleO deployed Ceph with puppet-ceph. With the Pike release it is possible to use TripleO to deploy Ceph with either ceph-ansible or puppet-ceph, though puppet-ceph is deprecated. To use ceph-ansible, the CentOS Storage SIG Ceph repository must be enabled on the undercloud and the ceph-ansible package must then be installed:: It is not yet possible to migrate an existing puppet-ceph deployment to a ceph-ansible deployment. Only new deployments are currently possible with ceph-ansible. **Deliver the migration for ceilometer to run under httpd.** This is to deliver the migration for ceilometer to be run under httpd (apache) rather than eventlet as was the case before. To execute this step run `overcloud deploy`, passing in the full set of environment files plus `major-upgrade-ceilometer-wsgi-mitaka-newton.yaml`:: **Explicitly disable sahara services if so desired:** As discussed at bug1630247_ sahara services are disabled by default in the Newton overcloud deployment. This special case is handled for the duration of the upgrade by defaulting to 'keep sahara-\*'. That is by default sahara services are restarted after the mitaka to newton upgrade of controller nodes and sahara config is re-applied during the final upgrade converge step. If an operator wishes to **disable** sahara services as part of the mitaka to newton upgrade they need to include the major-upgrade-remove-sahara.yaml_ environment file during the controller upgrade step as well as during the converge step later:: **Explicitly disable sahara services if so desired:** As discussed at bug1630247_ sahara services are disabled by default in the Newton overcloud deployment. This special case is handled for the duration of the upgrade by defaulting to 'keep sahara-\*'. That is by default sahara services are restarted after the mitaka to newton upgrade of controller nodes and sahara config is re-applied during the final upgrade converge step. If an operator wishes to **disable** sahara services as part of the mitaka to newton upgrade they need to include the major-upgrade-remove-sahara.yaml_ environment file during the controller upgrade earlier and converge step here:: **Deliver the data migration for aodh.** This is to deliver the data migration for aodh. In Newton, aodh uses its own mysql backend. This step migrates all the existing alarm data from mongodb to the new mysql backend. To execute this step run `overcloud deploy`, passing in the full set of environment files plus `major-upgrade-aodh-migration.yaml`::"," .. admonition:: Mitaka to Newton :class: mton .. admonition:: Newton to Ocata :class: ntoo Backup and disable current repos. Note that the repository files might be named differently depending on your installation:: Get and enable new repos for `NEW_VERSION`: .. include:: ../repositories.txt In the first release of instack-undercloud newton(5.0.0), the undercloud telemetry services are **disabled** by default. In order to maintain the telemetry services during the mitaka to newton upgrade the operator must explicitly enable them **before** running the undercloud upgrade. This is done by adding:: in the [DEFAULT] section of the undercloud.conf configuration file. If you are using any newer newton release, this option is switched back to **enabled** by default to make upgrade experience better. Hence, if you are using a later newton release you don't need to explicitly enable this option. Prior to Pike, TripleO deployed Ceph with puppet-ceph. With the Pike release it is possible to use TripleO to deploy Ceph with either ceph-ansible or puppet-ceph, though puppet-ceph is deprecated. To use ceph-ansible, the CentOS Storage SIG Ceph repository must be enabled on the undercloud and the ceph-ansible package must then be installed:: It is not yet possible to migrate an existing puppet-ceph deployment to a ceph-ansible deployment. Only new deployments are currently possible with ceph-ansible. **Deliver the migration for ceilometer to run under httpd.** This is to deliver the migration for ceilometer to be run under httpd (apache) rather than eventlet as was the case before. To execute this step run `overcloud deploy`, passing in the full set of environment files plus `major-upgrade-ceilometer-wsgi-mitaka-newton.yaml`:: **Explicitly disable sahara services if so desired:** As discussed at bug1630247_ sahara services are disabled by default in the Newton overcloud deployment. This special case is handled for the duration of the upgrade by defaulting to 'keep sahara-\*'. That is by default sahara services are restarted after the mitaka to newton upgrade of controller nodes and sahara config is re-applied during the final upgrade converge step. If an operator wishes to **disable** sahara services as part of the mitaka to newton upgrade they need to include the major-upgrade-remove-sahara.yaml_ environment file during the controller upgrade step as well as during the converge step later:: **Explicitly disable sahara services if so desired:** As discussed at bug1630247_ sahara services are disabled by default in the Newton overcloud deployment. This special case is handled for the duration of the upgrade by defaulting to 'keep sahara-\*'. That is by default sahara services are restarted after the mitaka to newton upgrade of controller nodes and sahara config is re-applied during the final upgrade converge step. If an operator wishes to **disable** sahara services as part of the mitaka to newton upgrade they need to include the major-upgrade-remove-sahara.yaml_ environment file during the controller upgrade earlier and converge step here:: **Deliver the data migration for aodh.** This is to deliver the data migration for aodh. In Newton, aodh uses its own mysql backend. This step migrates all the existing alarm data from mongodb to the new mysql backend. To execute this step run `overcloud deploy`, passing in the full set of environment files plus `major-upgrade-aodh-migration.yaml`::",62,62
openstack%2Ftripleo-docs~master~Ic680f229d761fd10274facf0774a1e5ad88610d1,openstack/tripleo-docs,master,Ic680f229d761fd10274facf0774a1e5ad88610d1,docs: basic deployment: remove unnecessary blockquotes,ABANDONED,2017-09-15 20:51:46.000000000,2017-10-06 07:55:42.000000000,,"[{'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-15 20:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/65585d08746d7bf2b68cd48067296604f51ac140', 'message': 'docs: basic deployment: remove unnecessary blockquotes\n\nDue to missing/superfluous spaces, some of the content in the\nguide is displayed as blockquote without being really quoted\ncontent. This change adds/removes spaces to remove the\ngenerated HTML blockquotes.\n\nFollow up patches will deal with the other install guide sections\nmore in details.\n\nChange-Id: Ic680f229d761fd10274facf0774a1e5ad88610d1\n'}, {'number': 2, 'created': '2017-10-04 09:10:20.000000000', 'files': ['doc/source/install/basic_deployment/basic_deployment_ui.rst', 'doc/source/install/basic_deployment/basic_deployment_cli.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/35cba55963a5befeaaea617119fe415a0f379182', 'message': 'docs: basic deployment: remove unnecessary blockquotes\n\nDue to missing/superfluous spaces, some of the content in the\nguide is displayed as blockquote without being really quoted\ncontent. This change adds/removes spaces to remove the\ngenerated HTML blockquotes.\n\nFollow up patches will deal with the other install guide sections\nmore in details.\n\nChange-Id: Ic680f229d761fd10274facf0774a1e5ad88610d1\n'}]",0,504519,35cba55963a5befeaaea617119fe415a0f379182,8,2,2,11303,,,0,"docs: basic deployment: remove unnecessary blockquotes

Due to missing/superfluous spaces, some of the content in the
guide is displayed as blockquote without being really quoted
content. This change adds/removes spaces to remove the
generated HTML blockquotes.

Follow up patches will deal with the other install guide sections
more in details.

Change-Id: Ic680f229d761fd10274facf0774a1e5ad88610d1
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/19/504519/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/basic_deployment/basic_deployment_ui.rst', 'doc/source/install/basic_deployment/basic_deployment_cli.rst']",2,65585d08746d7bf2b68cd48067296604f51ac140,docs/blockquote," :: .. admonition:: RHEL :class: rhel Download the RHEL 7.3 cloud image or copy it over from a different location, for example: ``https://access.redhat.com/downloads/content/69/ver=/rhel---7/7.3/x86_64/product-downloads``, and define the needed environment variables for RHEL 7.3 prior to running ``tripleo-build-images``:: .. admonition:: RHEL Portal Registration :class: portal To register the image builds to the Red Hat Portal define the following variables:: .. admonition:: Ceph :class: ceph If using Ceph, additional channels need to be added to `REG_REPOS`. Enable the appropriate channels for the desired release, as indicated below. Do not enable any other channels not explicitly marked for that release. :: .. admonition:: RHEL Satellite Registration :class: satellite To register the image builds to a Satellite define the following variables. Only using an activation key is supported when registering to Satellite, username/password is not supported for security reasons. The activation key must enable the repos shown:: .. admonition:: Source :class: source Git checkouts of the puppet modules can be used instead of packages. Export the following environment variable:: It is also possible to use this functionality to use an in-progress review as part of the overcloud image build. See :doc:`../developer/in_progress_review` for details. :: .. admonition:: RHEL :class: rhel :: See the help for ``openstack overcloud image build`` for further options. The YAML files are cumulative. Order on the command line is important. The packages, elements, and options sections will append. All others will overwrite previously read values. .. note:: For Mitaka release and older, the subnet commands are executed within the `neutron` command::"," :: .. admonition:: RHEL :class: rhel Download the RHEL 7.3 cloud image or copy it over from a different location, for example: ``https://access.redhat.com/downloads/content/69/ver=/rhel---7/7.3/x86_64/product-downloads``, and define the needed environment variables for RHEL 7.3 prior to running ``tripleo-build-images``:: .. admonition:: RHEL Portal Registration :class: portal To register the image builds to the Red Hat Portal define the following variables:: .. admonition:: Ceph :class: ceph If using Ceph, additional channels need to be added to `REG_REPOS`. Enable the appropriate channels for the desired release, as indicated below. Do not enable any other channels not explicitly marked for that release. :: .. admonition:: RHEL Satellite Registration :class: satellite To register the image builds to a Satellite define the following variables. Only using an activation key is supported when registering to Satellite, username/password is not supported for security reasons. The activation key must enable the repos shown:: .. admonition:: Source :class: source Git checkouts of the puppet modules can be used instead of packages. Export the following environment variable:: It is also possible to use this functionality to use an in-progress review as part of the overcloud image build. See :doc:`../developer/in_progress_review` for details. :: .. admonition:: RHEL :class: rhel :: See the help for ``openstack overcloud image build`` for further options. The YAML files are cumulative. Order on the command line is important. The packages, elements, and options sections will append. All others will overwrite previously read values. .. note:: For Mitaka release and older, the subnet commands are executed within the `neutron` command::",50,50
openstack%2Fmistral-specs~master~I84bd00d1335bef2356cb9eb2ec201bd107387a9e,openstack/mistral-specs,master,I84bd00d1335bef2356cb9eb2ec201bd107387a9e,"Revert ""Migrate mistral-specs to zuul v3""",MERGED,2017-10-05 18:57:11.000000000,2017-10-06 07:52:57.000000000,2017-10-06 07:52:57.000000000,"[{'_account_id': 3}, {'_account_id': 7065}, {'_account_id': 8731}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-10-05 18:57:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-specs/commit/a419b7375ec5ea90016afae70109f7e46c77e938', 'message': 'Revert ""Migrate mistral-specs to zuul v3""\n\nThese jobs should all stay in project-config.\nRead https://docs.openstack.org/infra/manual/zuulv3.html (with just updated instructions merging) on what to migrate - and what not.\n\nThis repo does not need  a zuul.yaml file.\n\nThis reverts commit bb577d358e0326b2fa61f7477053052b8130038a.\n\nChange-Id: I84bd00d1335bef2356cb9eb2ec201bd107387a9e\n'}]",0,509878,a419b7375ec5ea90016afae70109f7e46c77e938,7,4,1,6547,,,0,"Revert ""Migrate mistral-specs to zuul v3""

These jobs should all stay in project-config.
Read https://docs.openstack.org/infra/manual/zuulv3.html (with just updated instructions merging) on what to migrate - and what not.

This repo does not need  a zuul.yaml file.

This reverts commit bb577d358e0326b2fa61f7477053052b8130038a.

Change-Id: I84bd00d1335bef2356cb9eb2ec201bd107387a9e
",git fetch https://review.opendev.org/openstack/mistral-specs refs/changes/78/509878/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a419b7375ec5ea90016afae70109f7e46c77e938,zuulv3,,- project: name: openstack/mistral-specs templates: - merge-check - openstack-specs-jobs check: jobs: - openstack-tox-py27 gate: jobs: - openstack-tox-py27 ,0,11
openstack%2Fec2-api~master~Ia27a87ef5dfc02ff888a17e5078450e7b71905d1,openstack/ec2-api,master,Ia27a87ef5dfc02ff888a17e5078450e7b71905d1,Remove SCREEN_LOGDIR from devstack,MERGED,2017-10-05 09:47:34.000000000,2017-10-06 07:46:18.000000000,2017-10-06 07:46:18.000000000,"[{'_account_id': 3}, {'_account_id': 10234}, {'_account_id': 25903}]","[{'number': 1, 'created': '2017-10-05 09:47:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ee1df146cdc27f83a9692984327737b3650dd8bc', 'message': 'Remove SCREEN_LOGDIR from devstack\n\nSCREEN_LOGDIR has already been deprecated [1]\n[1] https://review.openstack.org/#/c/499186\n\nChange-Id: Ia27a87ef5dfc02ff888a17e5078450e7b71905d1\n'}, {'number': 2, 'created': '2017-10-06 01:24:51.000000000', 'files': ['install.sh'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/88f094a79e2b5b8aec02ab32b35a6ada272df60c', 'message': 'Remove SCREEN_LOGDIR from devstack\n\nSCREEN_LOGDIR has already been deprecated [1]\n[1] https://review.openstack.org/#/c/499186\n\nChange-Id: Ia27a87ef5dfc02ff888a17e5078450e7b71905d1\n'}]",2,509733,88f094a79e2b5b8aec02ab32b35a6ada272df60c,12,3,2,25903,,,0,"Remove SCREEN_LOGDIR from devstack

SCREEN_LOGDIR has already been deprecated [1]
[1] https://review.openstack.org/#/c/499186

Change-Id: Ia27a87ef5dfc02ff888a17e5078450e7b71905d1
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/33/509733/1 && git format-patch -1 --stdout FETCH_HEAD,['install.sh'],1,ee1df146cdc27f83a9692984327737b3650dd8bc,screen_logdir," if [[ -n ${LOGDIR} ]]; then echo $msg >> ""${LOGDIR}/error.log"""," if [[ -n ${SCREEN_LOGDIR} ]]; then echo $msg >> ""${SCREEN_LOGDIR}/error.log""",2,2
openstack%2Fmistral-lib~stable%2Fpike~Ib879ba58d4b9a04d4f5ea668ae94d79a82758919,openstack/mistral-lib,stable/pike,Ib879ba58d4b9a04d4f5ea668ae94d79a82758919,Add a representation of the ActionContext in mistral-lib,MERGED,2017-10-06 07:32:59.000000000,2017-10-06 07:43:56.000000000,2017-10-06 07:43:56.000000000,"[{'_account_id': 3}, {'_account_id': 8731}]","[{'number': 1, 'created': '2017-10-06 07:32:59.000000000', 'files': ['mistral_lib/actions/context.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/9c2d6d922a771449002b4ad76cbccd56c0aada86', 'message': 'Add a representation of the ActionContext in mistral-lib\n\nThis allows us to better define the expected interface and provide\nadditional context information to actions.\n\nThe existing context is deprecated with this change and will output\ndeprecation warnings for the old property names.\n\nChange-Id: Ib879ba58d4b9a04d4f5ea668ae94d79a82758919\nPartial-Bug: #1718353\n(cherry picked from commit db09c50dbe49fdf6f730ab7b5177b3ec53abb84c)\n'}]",0,509996,9c2d6d922a771449002b4ad76cbccd56c0aada86,6,2,1,9712,,,0,"Add a representation of the ActionContext in mistral-lib

This allows us to better define the expected interface and provide
additional context information to actions.

The existing context is deprecated with this change and will output
deprecation warnings for the old property names.

Change-Id: Ib879ba58d4b9a04d4f5ea668ae94d79a82758919
Partial-Bug: #1718353
(cherry picked from commit db09c50dbe49fdf6f730ab7b5177b3ec53abb84c)
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/96/509996/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral_lib/actions/context.py'],1,9c2d6d922a771449002b4ad76cbccd56c0aada86,bug/1718353-stable/pike,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import warnings class ActionContext(object): def __init__(self, security_ctx=None, execution_ctx=None): self.security = security_ctx self.execution = execution_ctx def _deprecation_warning(self, name): warnings.warn( ""context.{0} is deprecated from the context passed to actions. "" ""Please use context.security.{0}. It will be removed in a future "" ""release."", DeprecationWarning ) @property def auth_uri(self): self._deprecation_warning(""auth_uri"") return self.security.auth_uri @property def user_name(self): self._deprecation_warning(""user_name"") return self.security.user_name @property def auth_token(self): self._deprecation_warning(""auth_token"") return self.security.auth_token @property def project_name(self): self._deprecation_warning(""project_name"") return self.security.project_name @property def project_id(self): self._deprecation_warning(""project_id"") return self.security.project_id @property def insecure(self): self._deprecation_warning(""insecure"") return self.security.insecure class SecurityContext(object): def __init__(self, auth_uri=None, auth_cacert=None, insecure=None, service_catalog=None, region_name=None, is_trust_scoped=None, redelivered=None, expires_at=None, trust_id=None, is_target=None): self.auth_uri = auth_uri self.auth_cacert = auth_cacert self.insecure = insecure self.service_catalog = service_catalog self.region_name = region_name self.is_trust_scoped = is_trust_scoped self.redelivered = redelivered self.expires_at = expires_at self.trust_id = trust_id self.is_target = is_target class ExecutionContext(object): def __init__(self, workflow_execution_id=None, task_id=None, action_execution_id=None, workflow_name=None, callback_url=None): self.workflow_execution_id = workflow_execution_id self.task_id = task_id self.action_execution_id = action_execution_id self.workflow_name = workflow_name self.callback_url = callback_url ",,85,0
openstack%2Fgovernance~master~I3ab678f333382e67993cd1057cc5ed0a132f5224,openstack/governance,master,I3ab678f333382e67993cd1057cc5ed0a132f5224,Remove stable:follows-policy tag from TripleO,MERGED,2017-09-27 16:42:18.000000000,2017-10-06 07:43:50.000000000,2017-10-06 07:43:50.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 970}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 4328}, {'_account_id': 6159}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-27 16:42:18.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/9213e5a2fc02b3eb12c5980b457fbe0ebc472a71', 'message': 'Remove stable:follows-policy tag from TripleO\n\nTL;DR stable:follows-policy tag does\'t fit with TripleO, it\'s not\nhelping us so let\'s remove it.\n\nMore context now:\n\nWe applied for the stable:follows-policy tag back in Newton but it was\nrejected because we didn\'t follow all requirements at that time.\nIt was re-proposed in Ocata and approved by stable-maint team.\n\nWe made our best to not backport features during Ocata and Pike but\nunfortunatly we had inputs from external teams like vendors (Dell,\nNuage, Cisco, etc) who push changes in stable branches to support their\nbackends, quite often late in the cycles and ask for backports.\nThe reason of asking for backports is because most of our Users\ndeploy OpenStack Newton and very rarely Ocata (and not Pike yet),\nand we want to satisfy their needs to make our users happy.\n\nThis doesn\'t fit with stable:follows-policy and the process too heavy\nfor us. We will continue to do our best to not backporting features\nand make stable branches as stable as we can, make our best to maintain\nbackward compatibility and keep our users happy. But sometimes we have to\nbackport some patches that are really needed on the field, by production\nenvironments.\n\nNow someone could ask ""why not carrying patches downstream-only and\ndon\'t backport upstream?"". We made huge organizational changes in our\nway to work together and to ship our project. We want all our\ncodebase upstream first and we commit to release early and often. We\nalso avoid the pain of maintaining downstream repositories with\ncherry-picks that are not in sync with upstream (it causes issue when\nrebasing sometimes).\n\nBy leaving stable:follows-policy tag, we will probably:\n\n- Keep being conservative in our backports but make some exceptions when\n  needed (exceptions that aren\'t working for stable:follows-policy).\n- Do not EOL Newton next month as it\'s still our most-popular version\n  right now and we might have more backports ongoing.\n  We\'ll probably wait until Queens final release to EOL Newton, as we\n  expect Queens to be our next LTS.\n\nNote: leaving the tag for now doesn\'t mean we won\'t re-apply again later\nbut in our current model where most of our users are deploying ""old""\nstable releases, we just don\'t want this tag anymore. My personal hope\nis we can re-apply one day as we have our users deploying the latest\nstable and being able to upgrade every 6 months, but that\'s another\nstory.\n\nChange-Id: I3ab678f333382e67993cd1057cc5ed0a132f5224\n'}]",5,507924,9213e5a2fc02b3eb12c5980b457fbe0ebc472a71,17,11,1,3153,,,0,"Remove stable:follows-policy tag from TripleO

TL;DR stable:follows-policy tag does't fit with TripleO, it's not
helping us so let's remove it.

More context now:

We applied for the stable:follows-policy tag back in Newton but it was
rejected because we didn't follow all requirements at that time.
It was re-proposed in Ocata and approved by stable-maint team.

We made our best to not backport features during Ocata and Pike but
unfortunatly we had inputs from external teams like vendors (Dell,
Nuage, Cisco, etc) who push changes in stable branches to support their
backends, quite often late in the cycles and ask for backports.
The reason of asking for backports is because most of our Users
deploy OpenStack Newton and very rarely Ocata (and not Pike yet),
and we want to satisfy their needs to make our users happy.

This doesn't fit with stable:follows-policy and the process too heavy
for us. We will continue to do our best to not backporting features
and make stable branches as stable as we can, make our best to maintain
backward compatibility and keep our users happy. But sometimes we have to
backport some patches that are really needed on the field, by production
environments.

Now someone could ask ""why not carrying patches downstream-only and
don't backport upstream?"". We made huge organizational changes in our
way to work together and to ship our project. We want all our
codebase upstream first and we commit to release early and often. We
also avoid the pain of maintaining downstream repositories with
cherry-picks that are not in sync with upstream (it causes issue when
rebasing sometimes).

By leaving stable:follows-policy tag, we will probably:

- Keep being conservative in our backports but make some exceptions when
  needed (exceptions that aren't working for stable:follows-policy).
- Do not EOL Newton next month as it's still our most-popular version
  right now and we might have more backports ongoing.
  We'll probably wait until Queens final release to EOL Newton, as we
  expect Queens to be our next LTS.

Note: leaving the tag for now doesn't mean we won't re-apply again later
but in our current model where most of our users are deploying ""old""
stable releases, we just don't want this tag anymore. My personal hope
is we can re-apply one day as we have our users deploying the latest
stable and being able to upgrade every 6 months, but that's another
story.

Change-Id: I3ab678f333382e67993cd1057cc5ed0a132f5224
",git fetch https://review.opendev.org/openstack/governance refs/changes/24/507924/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,9213e5a2fc02b3eb12c5980b457fbe0ebc472a71,tripleo/stable,, tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy tags: - stable:follows-policy,0,10
openstack%2Fgovernance~master~I6b01ce7d6f83837fe43d46e6957ae6cb8a5974b7,openstack/governance,master,I6b01ce7d6f83837fe43d46e6957ae6cb8a5974b7,Add api interop assert tag to nova,MERGED,2017-09-21 15:36:45.000000000,2017-10-06 07:43:02.000000000,2017-10-06 07:43:02.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 3153}, {'_account_id': 6873}, {'_account_id': 11564}]","[{'number': 1, 'created': '2017-09-21 15:36:45.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/3f84793d90819a0fd1419fd57f5f800d8d3fb5d1', 'message': 'Add api interop assert tag to nova\n\nThe nova project meets all the requirements for the api interop tag.\nIt follow the api interop guidelines, supports versions by using\nmicroversions, and has branchless API testing through tempest.\n\nChange-Id: I6b01ce7d6f83837fe43d46e6957ae6cb8a5974b7\n'}]",0,506255,3f84793d90819a0fd1419fd57f5f800d8d3fb5d1,11,5,1,5196,,,0,"Add api interop assert tag to nova

The nova project meets all the requirements for the api interop tag.
It follow the api interop guidelines, supports versions by using
microversions, and has branchless API testing through tempest.

Change-Id: I6b01ce7d6f83837fe43d46e6957ae6cb8a5974b7
",git fetch https://review.opendev.org/openstack/governance refs/changes/55/506255/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,3f84793d90819a0fd1419fd57f5f800d8d3fb5d1,, - assert:supports-api-interoperability,,1,0
openstack%2Fmistral-lib~master~Ib879ba58d4b9a04d4f5ea668ae94d79a82758919,openstack/mistral-lib,master,Ib879ba58d4b9a04d4f5ea668ae94d79a82758919,Add a representation of the ActionContext in mistral-lib,MERGED,2017-09-21 08:34:22.000000000,2017-10-06 07:32:59.000000000,2017-10-04 09:56:49.000000000,"[{'_account_id': 3}, {'_account_id': 7065}, {'_account_id': 8532}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 11085}, {'_account_id': 15895}, {'_account_id': 21970}]","[{'number': 1, 'created': '2017-09-21 08:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/60d7950eac655ed3cc307fdc3a23da7bf4b474dd', 'message': 'Add a representation of the ActionContext in mistral-lib\n\nThis allows us to better define the expected interface and provide\nadditional context information to actions.\n\nThe existing context is deprecated with this change and will output\ndeprecation warnings for the old property names.\n\nChange-Id: Ib879ba58d4b9a04d4f5ea668ae94d79a82758919\nPartial-Bug: #1718353\n'}, {'number': 2, 'created': '2017-09-21 13:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/08b25fab0b6934736c4b839c3e52d3972e6a5d21', 'message': 'Add a representation of the ActionContext in mistral-lib\n\nThis allows us to better define the expected interface and provide\nadditional context information to actions.\n\nThe existing context is deprecated with this change and will output\ndeprecation warnings for the old property names.\n\nChange-Id: Ib879ba58d4b9a04d4f5ea668ae94d79a82758919\nPartial-Bug: #1718353\n'}, {'number': 3, 'created': '2017-10-04 09:46:54.000000000', 'files': ['mistral_lib/actions/context.py'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/db09c50dbe49fdf6f730ab7b5177b3ec53abb84c', 'message': 'Add a representation of the ActionContext in mistral-lib\n\nThis allows us to better define the expected interface and provide\nadditional context information to actions.\n\nThe existing context is deprecated with this change and will output\ndeprecation warnings for the old property names.\n\nChange-Id: Ib879ba58d4b9a04d4f5ea668ae94d79a82758919\nPartial-Bug: #1718353\n'}]",0,506058,db09c50dbe49fdf6f730ab7b5177b3ec53abb84c,21,8,3,9712,,,0,"Add a representation of the ActionContext in mistral-lib

This allows us to better define the expected interface and provide
additional context information to actions.

The existing context is deprecated with this change and will output
deprecation warnings for the old property names.

Change-Id: Ib879ba58d4b9a04d4f5ea668ae94d79a82758919
Partial-Bug: #1718353
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/58/506058/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral_lib/actions/context.py'],1,60d7950eac655ed3cc307fdc3a23da7bf4b474dd,bug/1718353,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import warnings class ActionContext(object): def __init__(self, security_ctx=None, execution_ctx=None): self.security = security_ctx self.execution = execution_ctx def _deprecation_warning(self, name): warnings.warn( ""context.{0} is deprecated from the context passed to actions. "" ""Please use context.security.{0}. It will be removed in a future "" ""release."", DeprecationWarning ) @property def auth_uri(self): self._deprecation_warning(""auth_uri"") return self.security.auth_uri @property def user_name(self): self._deprecation_warning(""user_name"") return self.security.user_name @property def auth_token(self): self._deprecation_warning(""auth_token"") return self.security.auth_token @property def project_name(self): self._deprecation_warning(""project_name"") return self.security.project_name @property def project_id(self): self._deprecation_warning(""project_id"") return self.security.project_id @property def insecure(self): self._deprecation_warning(""insecure"") return self.security.insecure class SecurityContext(object): def __init__(self, auth_uri=None, auth_cacert=None, insecure=False, service_catalog=None, region_name=None, is_trust_scoped=False, redelivered=False, expires_at=None, trust_id=None, is_target=False): self.auth_uri = auth_uri self.auth_cacert = auth_cacert self.insecure = insecure self.service_catalog = service_catalog self.region_name = region_name self.is_trust_scoped = is_trust_scoped self.redelivered = redelivered self.expires_at = expires_at self.trust_id = trust_id self.is_target = is_target class ExecutionContext(object): def __init__(self, workflow_execution_id=None, task_id=None, action_execution_id=None, workflow_name=None, callback_url=None): self.workflow_execution_id = workflow_execution_id self.task_id = task_id self.action_execution_id = action_execution_id self.workflow_name = workflow_name self.callback_url = callback_url ",,85,0
openstack%2Ftripleo-ui~master~Ie11664dbf275682fda613f96cb5418e3b86dd3d9,openstack/tripleo-ui,master,Ie11664dbf275682fda613f96cb5418e3b86dd3d9,Make the Nodes dropdown actions truly disabled,MERGED,2017-10-02 15:21:55.000000000,2017-10-06 07:31:57.000000000,2017-10-05 15:01:36.000000000,"[{'_account_id': 3}, {'_account_id': 9317}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 15:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/eda919ac0fd31d8c9f1ac7d356efba69d10cd58b', 'message': 'Make the Nodes dropdown actions truly disabled\n\nChange-Id: Ie11664dbf275682fda613f96cb5418e3b86dd3d9\n'}, {'number': 2, 'created': '2017-10-05 10:48:57.000000000', 'files': ['src/js/components/nodes/NodesToolbar/NodesToolbarActions.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/d3aa5e5bf2e6fa5759220b59cb8c94e5cfc267ce', 'message': 'Make the Nodes dropdown actions truly disabled\n\nCloses-Bug: 1703818\nChange-Id: Ie11664dbf275682fda613f96cb5418e3b86dd3d9\n'}]",0,508910,d3aa5e5bf2e6fa5759220b59cb8c94e5cfc267ce,13,5,2,7509,,,0,"Make the Nodes dropdown actions truly disabled

Closes-Bug: 1703818
Change-Id: Ie11664dbf275682fda613f96cb5418e3b86dd3d9
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/10/508910/2 && git format-patch -1 --stdout FETCH_HEAD,['src/js/components/nodes/NodesToolbar/NodesToolbarActions.js'],1,eda919ac0fd31d8c9f1ac7d356efba69d10cd58b,bug/1703818," onSelect={this.submitForm.bind(this, 'manage')} onSelect={() => this.setState({ showTagNodesModal: true })} onSelect={() => this.setState({ showDeleteModal: true })}"," onClick={this.submitForm.bind(this, 'manage')} onClick={() => this.setState({ showTagNodesModal: true })} onClick={() => this.setState({ showDeleteModal: true })}",3,3
openstack%2Fmurano-tempest-plugin~master~I3fd3bafeae8aef6fc9ad70c92958cab988a13d96,openstack/murano-tempest-plugin,master,I3fd3bafeae8aef6fc9ad70c92958cab988a13d96,[WIP] Move legacy jobs to project,ABANDONED,2017-10-05 09:49:09.000000000,2017-10-06 06:54:22.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 19741}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 09:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/14d56f193bcc8c314d8ed08084ecc87de9088440', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\n\nMove jobs to murano-tempest-plugin repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I3fd3bafeae8aef6fc9ad70c92958cab988a13d96\n'}, {'number': 2, 'created': '2017-10-06 03:36:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-tempest-plugin/commit/e8c64bac50da5c0f40062e561c767b5cec494990', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\n\nMove jobs to murano-tempest-plugin repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I3fd3bafeae8aef6fc9ad70c92958cab988a13d96\n'}]",0,509735,e8c64bac50da5c0f40062e561c767b5cec494990,7,4,2,22582,,,0,"[WIP] Move legacy jobs to project

This patch implements first step in zuulv3 migration guide [1]:

Move jobs to murano-tempest-plugin repo

[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details

Change-Id: I3fd3bafeae8aef6fc9ad70c92958cab988a13d96
",git fetch https://review.opendev.org/openstack/murano-tempest-plugin refs/changes/35/509735/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,14d56f193bcc8c314d8ed08084ecc87de9088440,,- project: name: openstack/murano-tempest-plugin templates: - merge-check check: jobs: - openstack-tox-pep8 gate: jobs: - openstack-tox-pep8 ,,10,0
openstack%2Fmurano-agent~master~Ia3ef444ce725303bac5b2535c3e2f90a97bf4535,openstack/murano-agent,master,Ia3ef444ce725303bac5b2535c3e2f90a97bf4535,[WIP] Move legacy jobs to project,ABANDONED,2017-10-05 08:54:08.000000000,2017-10-06 06:52:44.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 19741}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 08:54:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/988dfef731fc1d5b4e0575d53325945925323af6', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\n\nMove jobs to murano-agent repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: Ia3ef444ce725303bac5b2535c3e2f90a97bf4535\n'}]",0,509719,988dfef731fc1d5b4e0575d53325945925323af6,5,4,1,22582,,,0,"[WIP] Move legacy jobs to project

This patch implements first step in zuulv3 migration guide [1]:

Move jobs to murano-agent repo

[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details

Change-Id: Ia3ef444ce725303bac5b2535c3e2f90a97bf4535
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/19/509719/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,988dfef731fc1d5b4e0575d53325945925323af6,zuulv3,- project: name: openstack/murano-agent templates: - merge-check - openstack-python-jobs - openstack-python35-jobs - check-requirements - release-notes-jobs - publish-to-pypi ,,9,0
openstack%2Ftacker-horizon~master~I095f734e0cc41dcea0d65125eaa9032f977dfc33,openstack/tacker-horizon,master,I095f734e0cc41dcea0d65125eaa9032f977dfc33,[WIP] Move legacy jobs to project,ABANDONED,2017-10-05 06:22:04.000000000,2017-10-06 06:51:08.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 19741}, {'_account_id': 22348}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-10-05 06:22:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tacker-horizon/commit/13afd5f39488d813a8a22cd44468206562d7ae6b', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\n\nMove jobs to tacker repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I095f734e0cc41dcea0d65125eaa9032f977dfc33\n'}]",1,509696,13afd5f39488d813a8a22cd44468206562d7ae6b,6,5,1,22582,,,0,"[WIP] Move legacy jobs to project

This patch implements first step in zuulv3 migration guide [1]:

Move jobs to tacker repo

[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details

Change-Id: I095f734e0cc41dcea0d65125eaa9032f977dfc33
",git fetch https://review.opendev.org/openstack/tacker-horizon refs/changes/96/509696/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,13afd5f39488d813a8a22cd44468206562d7ae6b,zuulv3,- project: name: openstack/tacker-horizon templates: - merge-check - check-requirements - openstack-python35-jobs - publish-to-pypi check: jobs: - openstack-tox-pep8 - openstack-tox-py27 gate: jobs: - openstack-tox-pep8 - openstack-tox-py27 post: jobs: - publish-openstack-python-branch-tarball ,,18,0
openstack%2Fsolum-infra-guestagent~master~I4357ff5c77aeb6678ce507574028d95d37631deb,openstack/solum-infra-guestagent,master,I4357ff5c77aeb6678ce507574028d95d37631deb,[WIP] Move legacy jobs to project,ABANDONED,2017-10-06 04:40:25.000000000,2017-10-06 06:47:56.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 19741}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-10-06 04:40:25.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum-infra-guestagent/commit/5df3e8c50658511b9046818b0f702cd8e34189a0', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to solum-infra-guestagent repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: I4357ff5c77aeb6678ce507574028d95d37631deb\n'}]",0,509966,5df3e8c50658511b9046818b0f702cd8e34189a0,5,4,1,22582,,,0,"[WIP] Move legacy jobs to project

This patch implements first step in zuulv3 migration guide [1]:
Move jobs to solum-infra-guestagent repo

[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details

Change-Id: I4357ff5c77aeb6678ce507574028d95d37631deb
",git fetch https://review.opendev.org/openstack/solum-infra-guestagent refs/changes/66/509966/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5df3e8c50658511b9046818b0f702cd8e34189a0,zuulv3,- project: name: openstack/solum-infra-guestagent post: jobs: - openstack-tox-cover ,,5,0
openstack%2Fpython-cueclient~master~Ia6b356dda4ce1b34694c2a19b4059bfb38a2e10a,openstack/python-cueclient,master,Ia6b356dda4ce1b34694c2a19b4059bfb38a2e10a,Replace six.iteritems() with .items(),ABANDONED,2017-06-27 10:07:30.000000000,2017-10-06 06:33:52.000000000,,"[{'_account_id': 3}, {'_account_id': 25903}]","[{'number': 1, 'created': '2017-06-27 10:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cueclient/commit/8626e629dae78fb70a61cf574bcd5105b8ac680a', 'message': 'Replace six.iteritems() with .items()\n\n1. As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators in\nPY3 as well. And dict.items/keys will more readable.\n2. In py2, the performance about list should be negligible, see the link [2].\n\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Ia6b356dda4ce1b34694c2a19b4059bfb38a2e10a\n'}, {'number': 2, 'created': '2017-06-27 10:16:18.000000000', 'files': ['cueclient/v1/cli/clusters.py'], 'web_link': 'https://opendev.org/openstack/python-cueclient/commit/2f8e993fb76c8cd43dc42c219709b5ed71c111b8', 'message': 'Replace six.iteritems() with .items()\n\n1. As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators in\nPY3 as well. And dict.items/keys will more readable.\n2. In py2, the performance about list should be negligible, see the link [2].\n\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: Ia6b356dda4ce1b34694c2a19b4059bfb38a2e10a\n'}]",0,477870,2f8e993fb76c8cd43dc42c219709b5ed71c111b8,6,2,2,24924,,,0,"Replace six.iteritems() with .items()

1. As mentioned in [1], we should avoid using six.iteritems to achieve
iterators. We can use dict.items instead, as it will return iterators in
PY3 as well. And dict.items/keys will more readable.
2. In py2, the performance about list should be negligible, see the link [2].

[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: Ia6b356dda4ce1b34694c2a19b4059bfb38a2e10a
",git fetch https://review.opendev.org/openstack/python-cueclient refs/changes/70/477870/1 && git format-patch -1 --stdout FETCH_HEAD,['cueclient/v1/cli/clusters.py'],1,8626e629dae78fb70a61cf574bcd5105b8ac680a,six, return zip(*sorted(data.items())) return zip(*sorted(data.items())) return zip(*sorted(updated.items())), return zip(*sorted(six.iteritems(data))) return zip(*sorted(six.iteritems(data))) return zip(*sorted(six.iteritems(updated))),3,3
openstack%2Fsolum-dashboard~master~Ib3c2c3e8fcf8f973680bc5ec97e2e690353f9158,openstack/solum-dashboard,master,Ib3c2c3e8fcf8f973680bc5ec97e2e690353f9158,[WIP] Move legacy jobs to project,ABANDONED,2017-10-06 04:08:44.000000000,2017-10-06 06:24:06.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 19741}]","[{'number': 1, 'created': '2017-10-06 04:08:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/solum-dashboard/commit/2a0c125dcb759c7fbc0e9fdde97dd58b77e6f904', 'message': '[WIP] Move legacy jobs to project\n\nThis patch implements first step in zuulv3 migration guide [1]:\nMove jobs to solum-dashboard repo\n\n[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details\n\nChange-Id: Ib3c2c3e8fcf8f973680bc5ec97e2e690353f9158\n'}]",0,509963,2a0c125dcb759c7fbc0e9fdde97dd58b77e6f904,4,3,1,22582,,,0,"[WIP] Move legacy jobs to project

This patch implements first step in zuulv3 migration guide [1]:
Move jobs to solum-dashboard repo

[1] https://docs.openstack.org/infra/manual/zuulv3.html#legacy-job-migration-details

Change-Id: Ib3c2c3e8fcf8f973680bc5ec97e2e690353f9158
",git fetch https://review.opendev.org/openstack/solum-dashboard refs/changes/63/509963/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2a0c125dcb759c7fbc0e9fdde97dd58b77e6f904,zuulv3,- project: name: openstack/solum-dashboard templates: - translation-jobs ,,4,0
openstack%2Fmagnum~master~Id58bbbda34d52f60c174630400ae469c48a7d115,openstack/magnum,master,Id58bbbda34d52f60c174630400ae469c48a7d115,Fix magnum TLS cert generation,MERGED,2017-09-18 07:35:23.000000000,2017-10-06 06:18:06.000000000,2017-10-06 05:49:40.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 23805}]","[{'number': 1, 'created': '2017-09-18 07:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/639237cdee70d5fde233f86db8c3b6b054644db5', 'message': 'Fix magnum TLS cert generation\n\nTLS enabled k8s cluster are not created if admin_user, admin_password\nand admin_tenant_name are not set in [keystone_authtoken] section,\nThis patch updates the install guide for the same.\n\nChange-Id: Id58bbbda34d52f60c174630400ae469c48a7d115\nCloses-Bug: #1717798\nRelated-Bug: #1670355\n'}, {'number': 2, 'created': '2017-10-05 14:22:11.000000000', 'files': ['install-guide/source/common/configure_2_edit_magnum_conf.rst', 'doc/source/install/install-guide-from-source.rst'], 'web_link': 'https://opendev.org/openstack/magnum/commit/67a48749c78854657fd55e8125a1dcad11b2f67f', 'message': 'Fix magnum TLS cert generation\n\nTLS enabled k8s cluster are not created if admin_user, admin_password\nand admin_tenant_name are not set in [keystone_authtoken] section,\nThis patch updates the install guide for the same.\n\nChange-Id: Id58bbbda34d52f60c174630400ae469c48a7d115\nCloses-Bug: #1717798\nRelated-Bug: #1670355\n'}]",0,504867,67a48749c78854657fd55e8125a1dcad11b2f67f,18,6,2,13861,,,0,"Fix magnum TLS cert generation

TLS enabled k8s cluster are not created if admin_user, admin_password
and admin_tenant_name are not set in [keystone_authtoken] section,
This patch updates the install guide for the same.

Change-Id: Id58bbbda34d52f60c174630400ae469c48a7d115
Closes-Bug: #1717798
Related-Bug: #1670355
",git fetch https://review.opendev.org/openstack/magnum refs/changes/67/504867/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-guide-from-source.rst'],1,639237cdee70d5fde233f86db8c3b6b054644db5,bug/1717798, admin_user = magnum admin_password = MAGNUM_PASS admin_tenant_name = service,,3,0
openstack%2Fpython-tripleoclient~master~I79bb0f805973d1458323de72f980c7afa9751a00,openstack/python-tripleoclient,master,I79bb0f805973d1458323de72f980c7afa9751a00,Add undercloud hostname.,MERGED,2017-09-29 21:18:55.000000000,2017-10-06 06:09:20.000000000,2017-10-06 06:09:20.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8871}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-29 21:18:55.000000000', 'files': ['tripleoclient/v1/undercloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/62f59968f2b441911c97b17e85bfccbc55e7e29b', 'message': 'Add undercloud hostname.\n\nCo-Authored-By: James Slagle <jslagle@redhat.com>\nCo-Authored-By: Dan Prince <dprince@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: I79bb0f805973d1458323de72f980c7afa9751a00\n'}]",1,508618,62f59968f2b441911c97b17e85bfccbc55e7e29b,11,5,1,2011,,,0,"Add undercloud hostname.

Co-Authored-By: James Slagle <jslagle@redhat.com>
Co-Authored-By: Dan Prince <dprince@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: I79bb0f805973d1458323de72f980c7afa9751a00
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/18/508618/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_deploy.py'],1,62f59968f2b441911c97b17e85bfccbc55e7e29b,host," 'HostnameMap': { 'undercloud-undercloud-0': '%s' % hostname },",,3,0
openstack%2Fpuppet-nova~stable%2Fpike~Ida67676cb8941c021363967458d2b23db2acf6bd,openstack/puppet-nova,stable/pike,Ida67676cb8941c021363967458d2b23db2acf6bd,Ensure that policy file exist,MERGED,2017-10-05 08:19:23.000000000,2017-10-06 06:04:42.000000000,2017-10-05 19:08:06.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 15519}, {'_account_id': 18551}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 08:19:23.000000000', 'files': ['manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ed507261dfba982aae00a4e8447f588ec5058d75', 'message': 'Ensure that policy file exist\n\nSince Ocata staging on Ubuntu Cloud archive, policy.json file\nhas been dropped because default policies are registred in code.\nTo avoid puppet errors on creating new policy rules, ensure that the\nfile exist.\n\nChange-Id: Ida67676cb8941c021363967458d2b23db2acf6bd\n(cherry picked from commit d5b60e5d2fba372269c00f081ea3ea624993e895)\n'}]",0,509709,ed507261dfba982aae00a4e8447f588ec5058d75,11,8,1,20676,,,0,"Ensure that policy file exist

Since Ocata staging on Ubuntu Cloud archive, policy.json file
has been dropped because default policies are registred in code.
To avoid puppet errors on creating new policy rules, ensure that the
file exist.

Change-Id: Ida67676cb8941c021363967458d2b23db2acf6bd
(cherry picked from commit d5b60e5d2fba372269c00f081ea3ea624993e895)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/09/509709/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/policy.pp'],1,ed507261dfba982aae00a4e8447f588ec5058d75,create_policy_file-stable," # NOTE(danpawlik) Policy.json file has been removed in # Ubuntu Cloud archive packages since Ocata staging. # Ensure that the file exist. file { '/etc/nova/policy.json': ensure => file, owner => 'nova', group => 'nova', mode => '0644', require => Anchor['nova::install::end'], before => Anchor['nova::config::begin'], } ",,12,0
openstack%2Fpuppet-cinder~stable%2Fpike~I8093af7517ad9fa0d1c7581e99445bb2e604f00a,openstack/puppet-cinder,stable/pike,I8093af7517ad9fa0d1c7581e99445bb2e604f00a,Install ceph-common when RBD backend is enabled,MERGED,2017-10-05 07:00:04.000000000,2017-10-06 06:03:15.000000000,2017-10-05 20:09:37.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 07:00:04.000000000', 'files': ['manifests/backend/rbd.pp', 'manifests/params.pp', 'spec/defines/cinder_backend_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f055aaccf0620eb22f894bdb1f6df3bedb9dbf5d', 'message': 'Install ceph-common when RBD backend is enabled\n\nSome additional python libraries are needed by the RBD driver; this\nchange installs ceph-common when cinder::backends::rbd is included\nso that the necessary libraries get installed.\n\nChange-Id: I8093af7517ad9fa0d1c7581e99445bb2e604f00a\nCloses-Bug: #1720084\n(cherry picked from commit 5cb306a1c0342c9e227b2e3d14e753a8d11f76a2)\n'}]",0,509699,f055aaccf0620eb22f894bdb1f6df3bedb9dbf5d,11,5,1,6796,,,0,"Install ceph-common when RBD backend is enabled

Some additional python libraries are needed by the RBD driver; this
change installs ceph-common when cinder::backends::rbd is included
so that the necessary libraries get installed.

Change-Id: I8093af7517ad9fa0d1c7581e99445bb2e604f00a
Closes-Bug: #1720084
(cherry picked from commit 5cb306a1c0342c9e227b2e3d14e753a8d11f76a2)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/99/509699/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/rbd.pp', 'manifests/params.pp', 'spec/defines/cinder_backend_rbd_spec.rb']",3,f055aaccf0620eb22f894bdb1f6df3bedb9dbf5d,bug/1720084, is_expected.to contain_package('ceph-common').with(:ensure => :present),,8,0
openstack%2Fwatcher-specs~master~I9e35dda58751d7298746f92d1ba40b696134e296,openstack/watcher-specs,master,I9e35dda58751d7298746f92d1ba40b696134e296,Cleanup approved folder of Ocata and Pike,MERGED,2017-09-28 08:20:35.000000000,2017-10-06 06:00:59.000000000,2017-10-06 06:00:59.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 19457}]","[{'number': 1, 'created': '2017-09-28 08:20:35.000000000', 'files': ['specs/queens/approved/build-baremetal-data-model.rst', 'specs/queens/approved/workload-characterization-grammar.rst', 'specs/ocata/approved/stale-action-plan.rst', 'specs/queens/approved/noisy-neighbor-dashboard.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/1f3184b8714e6b3c9d6626acee1b364fc79f708e', 'message': 'Cleanup approved folder of Ocata and Pike\n\nThis patch set moves three blueprints from Pike approved to\nQueens approved and deletes duplicate of stale-action-plan.\n\nChange-Id: I9e35dda58751d7298746f92d1ba40b696134e296\n'}]",0,508086,1f3184b8714e6b3c9d6626acee1b364fc79f708e,7,3,1,19055,,,0,"Cleanup approved folder of Ocata and Pike

This patch set moves three blueprints from Pike approved to
Queens approved and deletes duplicate of stale-action-plan.

Change-Id: I9e35dda58751d7298746f92d1ba40b696134e296
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/86/508086/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/queens/approved/build-baremetal-data-model.rst', 'specs/queens/approved/workload-characterization-grammar.rst', 'specs/ocata/approved/stale-action-plan.rst', 'specs/queens/approved/noisy-neighbor-dashboard.rst']",4,1f3184b8714e6b3c9d6626acee1b364fc79f708e,bp/s,,,0,161
openstack%2Fpuppet-openstack-integration~master~I861d7d0bf09db7b92613229903edd4cb4f66ba96,openstack/puppet-openstack-integration,master,I861d7d0bf09db7b92613229903edd4cb4f66ba96,Use keystone api V3 for designate validation,MERGED,2017-10-05 09:48:28.000000000,2017-10-06 05:57:24.000000000,2017-10-05 15:35:08.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-10-05 09:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e162cbbfc91bf044bea8d905869886b332746ecb', 'message': 'Use keystone api V3 for designate validation\n\nCurrently it is implicitely using keystone v2.0 by not\ndeclaring DOMAIN variables. Now, api v2.0 is being\ndeprecated and we need to use API v3.\n\nChange-Id: I861d7d0bf09db7b92613229903edd4cb4f66ba96\n'}, {'number': 2, 'created': '2017-10-05 12:36:52.000000000', 'files': ['manifests/designate.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e46dcb4fdbc2dbc4b2e93dc6ba585a6e23ce5fe4', 'message': 'Use keystone api V3 for designate validation\n\nCurrently it is implicitely using keystone v2.0 by not\ndeclaring DOMAIN variables. Now, api v2.0 is being\ndeprecated and we need to use API v3.\n\nChange-Id: I861d7d0bf09db7b92613229903edd4cb4f66ba96\n'}]",1,509734,e46dcb4fdbc2dbc4b2e93dc6ba585a6e23ce5fe4,10,4,2,16312,,,0,"Use keystone api V3 for designate validation

Currently it is implicitely using keystone v2.0 by not
declaring DOMAIN variables. Now, api v2.0 is being
deprecated and we need to use API v3.

Change-Id: I861d7d0bf09db7b92613229903edd4cb4f66ba96
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/34/509734/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/designate.pp'],1,e162cbbfc91bf044bea8d905869886b332746ecb,keystone-v3,"--os-project-name services --os-username designate --os-password a_big_secret \ --os-project-tenant-name Default --os-user-tenant-name Default zone list""","--os-project-name services --os-username designate --os-password a_big_secret zone list""",2,1
openstack%2Fopenstack-zuul-jobs~master~I03cad569cc539becccc603a07b8de3e30007f2bb,openstack/openstack-zuul-jobs,master,I03cad569cc539becccc603a07b8de3e30007f2bb,Add project-template for python jobs without constraints,MERGED,2017-10-05 15:42:52.000000000,2017-10-06 05:57:16.000000000,2017-10-06 05:57:15.000000000,"[{'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 15:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/56d249d772de003c7e1521b05d024b568396aa86', 'message': ""Add project-template for python jobs without constraints\n\nSome projects (like infra) use the same set of jobs as the PTI but don't\nfollow constraints. Add project-templates for those too.\n\nChange-Id: I03cad569cc539becccc603a07b8de3e30007f2bb\n""}, {'number': 2, 'created': '2017-10-05 15:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/449c008e8a9979d0f014928c37ae86ed728ea059', 'message': ""Add project-template for python jobs without constraints\n\nSome projects (like infra) use the same set of jobs as the PTI but don't\nfollow constraints. Add project-templates for those too.\n\nChange-Id: I03cad569cc539becccc603a07b8de3e30007f2bb\n""}, {'number': 3, 'created': '2017-10-05 16:50:20.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/bd4d66fadeaebcdd6321b1c549d252826aaaaea7', 'message': ""Add project-template for python jobs without constraints\n\nSome projects (like infra) use the same set of jobs as the PTI but don't\nfollow constraints. Add project-templates for those too.\n\nChange-Id: I03cad569cc539becccc603a07b8de3e30007f2bb\n""}]",0,509815,bd4d66fadeaebcdd6321b1c549d252826aaaaea7,10,3,3,2,,,0,"Add project-template for python jobs without constraints

Some projects (like infra) use the same set of jobs as the PTI but don't
follow constraints. Add project-templates for those too.

Change-Id: I03cad569cc539becccc603a07b8de3e30007f2bb
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/15/509815/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,56d249d772de003c7e1521b05d024b568396aa86,zuulv3-jobs," name: openstack-python-jobs-no-constraints description: | Runs the OpenStack PTI jobs for python, but uses the versions of them that do not use constraints. check: jobs: - tox-pep8 - tox-py27 gate: jobs: - tox-pep8 - tox-py27 post: jobs: - publish-openstack-python-branch-tarball - project-template: name: openstack-python35-jobs-no-constraints description: | Runs the OpenStack PTI jobs for python3.5, but uses the versions of them that do not use constraints. check: jobs: - tox-py35 gate: jobs: - tox-py35 post: jobs: - publish-openstack-python-branch-tarball - project-template:",,32,0
openstack%2Fopenstack-ansible~stable%2Fpike~I85253e9028c6be29984d1d8ad07d5ab718fbd6d0,openstack/openstack-ansible,stable/pike,I85253e9028c6be29984d1d8ad07d5ab718fbd6d0,Update all SHAs for 16.0.1,MERGED,2017-09-28 12:43:03.000000000,2017-10-06 05:56:00.000000000,2017-10-06 01:42:59.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-28 12:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/db5e33547b0ca902dd4499b92d572c269dcb094a', 'message': ""Update all SHAs for 16.0.1\n\nThis patch updates all the roles to the latest available stable\nSHA's, copies the release notes from the updated roles into the\nintegrated repo, updates all the OpenStack Service SHA's, and\nupdates the appropriate python requirements pins.\n\nDepends-On: Ieaae43566594519b4c314ab42a7139b69eed6e35\nChange-Id: I85253e9028c6be29984d1d8ad07d5ab718fbd6d0\n""}, {'number': 2, 'created': '2017-10-05 09:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e04b5bdae61d13202e48cc5d636628648641a319', 'message': ""Update all SHAs for 16.0.1\n\nThis patch updates all the roles to the latest available stable\nSHA's, copies the release notes from the updated roles into the\nintegrated repo, updates all the OpenStack Service SHA's, and\nupdates the appropriate python requirements pins.\n\nDepends-On: Ieaae43566594519b4c314ab42a7139b69eed6e35\nChange-Id: I85253e9028c6be29984d1d8ad07d5ab718fbd6d0\n""}, {'number': 3, 'created': '2017-10-05 15:53:54.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/ensure-security-groups-always-applied-eb6e3bdc7b77f022.yaml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/190bb85871a6ac49e659aec7f4fe9d154e30191d', 'message': ""Update all SHAs for 16.0.1\n\nThis patch updates all the roles to the latest available stable\nSHA's, copies the release notes from the updated roles into the\nintegrated repo, updates all the OpenStack Service SHA's, and\nupdates the appropriate python requirements pins.\n\nDepends-On: Ieaae43566594519b4c314ab42a7139b69eed6e35\nChange-Id: I85253e9028c6be29984d1d8ad07d5ab718fbd6d0\n""}]",0,508142,190bb85871a6ac49e659aec7f4fe9d154e30191d,27,7,3,17068,,,0,"Update all SHAs for 16.0.1

This patch updates all the roles to the latest available stable
SHA's, copies the release notes from the updated roles into the
integrated repo, updates all the OpenStack Service SHA's, and
updates the appropriate python requirements pins.

Depends-On: Ieaae43566594519b4c314ab42a7139b69eed6e35
Change-Id: I85253e9028c6be29984d1d8ad07d5ab718fbd6d0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/508142/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/ensure-security-groups-always-applied-eb6e3bdc7b77f022.yaml', 'ansible-role-requirements.yml']",3,db5e33547b0ca902dd4499b92d572c269dcb094a,sha-update, version: 04a6e107db7b053031fce004ab026d1a4f280f6f version: 8a36480bfa895ed9b19b568c3415af1a97460181 version: 6ad4ddd4cf9ac00864b03da596786b3954ab4205 version: a347e4d1c78e5fcd3f02a6933db6a1b3b589cece version: efa64c01fda6f857daef659b82e0dd9e3adaa9ca version: e52fb31f6a6b6e64045d3478e821dd0535c97b97 version: 963937e326695c6274c6b70a77d622dc5de44203 version: d7632670171b8dbb3dc84e21a04bef2252ca5044 version: 209f989f8765177df10571fc9e56da5cb5aa3c8f version: 77d49b653a3cecf7c59f7c6322b8cc925d20709f version: a78e428e5d550c383bb0d1970c48c634beba4c06, version: ebf333132e7a9bbecc7d233849b66ce5bff181a2 version: 07bfea9d7641d2cabe4ec5b0f15639ab362adbc3 version: e4701c9a8a7054b4443d57d627aade974f6ea759 version: 860028f3b05512d4b7b6b6faeb4832e35e341a15 version: 10cc0e3c7e707d85b946095770516ff52435297c version: 3714c5b734840d7e8214ba32dc5fafd70a4a6ec0 version: 82797fecff51011f7fab7abd4e59ccb1372ae371 version: e6b22983433870b7dbad681a3ed052dba3e978b0 version: 1c125daf381659f4d1dba05ff833a5a52fd033ca version: 5904bdbc00164123b3c7707a4653bb68b64450f9 version: 3cc26c1de3364f36415595d491fca9a58a3636c8,54,41
openstack%2Fmonasca-api~master~I16d11b03819ef490524a6feed33dc990c259c291,openstack/monasca-api,master,I16d11b03819ef490524a6feed33dc990c259c291,Remove SCREEN_LOGDIR from devstack,MERGED,2017-10-06 01:49:54.000000000,2017-10-06 05:51:14.000000000,2017-10-06 05:51:14.000000000,"[{'_account_id': 3}, {'_account_id': 16168}, {'_account_id': 25903}]","[{'number': 1, 'created': '2017-10-06 01:49:54.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/d38b1de1d7beb9247ffac672398c418ca9eb6fe1', 'message': 'Remove SCREEN_LOGDIR from devstack\n\nSCREEN_LOGDIR has already been deprecated [1]\n[1] https://review.openstack.org/#/c/499186\n\nChange-Id: I16d11b03819ef490524a6feed33dc990c259c291\n'}]",0,509952,d38b1de1d7beb9247ffac672398c418ca9eb6fe1,8,3,1,25903,,,0,"Remove SCREEN_LOGDIR from devstack

SCREEN_LOGDIR has already been deprecated [1]
[1] https://review.openstack.org/#/c/499186

Change-Id: I16d11b03819ef490524a6feed33dc990c259c291
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/52/509952/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,d38b1de1d7beb9247ffac672398c418ca9eb6fe1,,, configure_screen } function configure_screen { if [[ -n ${SCREEN_LOGDIR} ]]; then sudo ln -sf /var/log/influxdb/influxd.log ${SCREEN_LOGDIR}/screen-influxdb.log || true sudo ln -sf /var/log/monasca/agent/statsd.log ${SCREEN_LOGDIR}/screen-monasca-agent-statsd.log || true sudo ln -sf /var/log/monasca/agent/supervisor.log ${SCREEN_LOGDIR}/screen-monasca-agent-supervisor.log || true sudo ln -sf /var/log/monasca/agent/collector.log ${SCREEN_LOGDIR}/screen-monasca-agent-collector.log || true sudo ln -sf /var/log/monasca/agent/forwarder.log ${SCREEN_LOGDIR}/screen-monasca-agent-forwarder.log || true sudo ln -sf /var/log/storm/access.log ${SCREEN_LOGDIR}/screen-monasca-thresh-access.log || true sudo ln -sf /var/log/storm/supervisor.log ${SCREEN_LOGDIR}/screen-monasca-thresh-supervisor.log || true sudo ln -sf /var/log/storm/metrics.log ${SCREEN_LOGDIR}/screen-monasca-thresh-metrics.log || true sudo ln -sf /var/log/storm/nimbus.log ${SCREEN_LOGDIR}/screen-monasca-thresh-nimbus.log || true sudo ln -sf /var/log/storm/worker-6701.log ${SCREEN_LOGDIR}/screen-monasca-thresh-worker-6701.log || true sudo ln -sf /var/log/storm/worker-6702.log ${SCREEN_LOGDIR}/screen-monasca-thresh-worker-6702.log || true fi,0,19
openstack%2Fneutron~master~I12fe4beecbbcb222b84aacf262aa9c76039ff9ce,openstack/neutron,master,I12fe4beecbbcb222b84aacf262aa9c76039ff9ce,Fix the incorrect doc for class SecurityGroupAgentRpcCallbackMixin,MERGED,2017-09-05 16:04:39.000000000,2017-10-06 05:49:01.000000000,2017-10-06 05:49:00.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 7715}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-05 16:04:39.000000000', 'files': ['neutron/api/rpc/handlers/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/156add11de88d10a513b177974356a42dc809354', 'message': 'Fix the incorrect doc for class SecurityGroupAgentRpcCallbackMixin\n\nSecurityGroupServerRpcApi and SecurityGroupServerRpcCallback are a pair,\nand SecurityGroupAgentRpcApiMixin and SecurityGroupAgentRpcCallbackMixin\nshould be a pair.\n\nChange-Id: I12fe4beecbbcb222b84aacf262aa9c76039ff9ce\n'}]",0,500910,156add11de88d10a513b177974356a42dc809354,10,6,1,17549,,,0,"Fix the incorrect doc for class SecurityGroupAgentRpcCallbackMixin

SecurityGroupServerRpcApi and SecurityGroupServerRpcCallback are a pair,
and SecurityGroupAgentRpcApiMixin and SecurityGroupAgentRpcCallbackMixin
should be a pair.

Change-Id: I12fe4beecbbcb222b84aacf262aa9c76039ff9ce
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/500910/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/rpc/handlers/securitygroups_rpc.py'],1,156add11de88d10a513b177974356a42dc809354,incorrect-doc-for-SecurityGroupAgentRpcCallbackMixin," can be found in SecurityGroupAgentRpcApiMixin. For more information on changing rpc interfaces, see doc/source/devref/rpc_api.rst."," can be found in SecurityGroupServerRpcApi. For more information on changing rpc interfaces, see doc/source/devref/rpc_api.rst.",2,2
openstack%2Fopenstack-zuul-jobs~master~I236e4556249340a6a7fa1d82bb412a0e39259cc5,openstack/openstack-zuul-jobs,master,I236e4556249340a6a7fa1d82bb412a0e39259cc5,Add release-openstack-sphinx-docs-infra template,MERGED,2017-10-05 15:18:28.000000000,2017-10-06 05:45:04.000000000,2017-10-06 05:45:04.000000000,"[{'_account_id': 1}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 15:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6556a0a4a379aafd5a6e4da93080a1ec06a04d08', 'message': 'Add release-openstack-sphinx-docs-infra template\n\nWe have some infra jobs that want to publish docs only on releases.\n\nChange-Id: I236e4556249340a6a7fa1d82bb412a0e39259cc5\n'}, {'number': 2, 'created': '2017-10-05 15:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b7a555f829d031517a6205dcb18e18dd7bd75fd6', 'message': 'Add release-openstack-sphinx-docs-infra template\n\nWe have some infra jobs that want to publish docs only on releases.\n\nChange-Id: I236e4556249340a6a7fa1d82bb412a0e39259cc5\n'}, {'number': 3, 'created': '2017-10-05 15:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b516345fdf6ddda109ee1c16ad20d5a2ba5a41cd', 'message': 'Add release-openstack-sphinx-docs-infra template\n\nWe have some infra jobs that want to publish docs only on releases.\n\nChange-Id: I236e4556249340a6a7fa1d82bb412a0e39259cc5\n'}, {'number': 4, 'created': '2017-10-05 16:50:20.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/00dfc6a83171667b1fb3c6896271a6809cb475c5', 'message': 'Add release-openstack-sphinx-docs-infra template\n\nWe have some infra jobs that want to publish docs only on releases.\n\nChange-Id: I236e4556249340a6a7fa1d82bb412a0e39259cc5\n'}]",1,509809,00dfc6a83171667b1fb3c6896271a6809cb475c5,14,4,4,2,,,0,"Add release-openstack-sphinx-docs-infra template

We have some infra jobs that want to publish docs only on releases.

Change-Id: I236e4556249340a6a7fa1d82bb412a0e39259cc5
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/09/509809/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,6556a0a4a379aafd5a6e4da93080a1ec06a04d08,zuulv3-jobs, name: release-openstack-sphinx-docs-infra description: | Runs normal OpenStack PTI build jobs and publishes to the Infra docs location only on tagged releases. check: jobs: - build-openstack-sphinx-docs gate: jobs: - build-openstack-sphinx-docs release: jobs: - publish-openstack-sphinx-docs-infra - project-template:,,15,0
openstack%2Fironic~master~Ifec0e661031647555dbc03ad1000c50c590afa8c,openstack/ironic,master,Ifec0e661031647555dbc03ad1000c50c590afa8c,Update after recent removal of cred manager aliases,MERGED,2017-09-25 04:05:34.000000000,2017-10-06 05:44:03.000000000,2017-10-06 05:44:03.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 19554}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-09-25 04:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5cc1802d6b4d1f3c276b5f1ed0f4b5f83162f71d', 'message': ""Replace the usage of 'admin_manager' with 'os_admin'\n\nIn tempest, alias 'admin_manager' has been moved to 'os_admin'\n'alt_manager' to 'os_alt' and 'manager' to 'os_primary' in\nversion Pike, and it will be removed in version Queens[1].\n\n[1]I5f7164f7a7ec5d4380ca22885000caa0183a0bf7\n\nChange-Id: Ifec0e661031647555dbc03ad1000c50c590afa8c\nCloses-bug: 1697588\n""}, {'number': 2, 'created': '2017-09-25 04:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6435f4f0bce6b56b36a4a59f3900c6607a597366', 'message': ""Update after recent removal of cred manager aliases\n\nIn tempest, alias 'admin_manager' has been moved to 'os_admin'\n'alt_manager' to 'os_alt' and 'manager' to 'os_primary' in\nversion Pike, and it will be removed in version Queens[1].\n\n[1]I5f7164f7a7ec5d4380ca22885000caa0183a0bf7\n\nChange-Id: Ifec0e661031647555dbc03ad1000c50c590afa8c\nCloses-bug: 1697588\n""}, {'number': 3, 'created': '2017-09-28 06:32:48.000000000', 'files': ['ironic_tempest_plugin/tests/scenario/test_baremetal_multitenancy.py', 'ironic/tests/unit/drivers/modules/oneview/test_deploy.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_boot_from_volume.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ef15a4dc376d19743f8ded07912faf0b6907923', 'message': ""Update after recent removal of cred manager aliases\n\nIn tempest, alias 'admin_manager' has been moved to 'os_admin'\n'alt_manager' to 'os_alt' and 'manager' to 'os_primary' in\nversion Pike, and it will be removed in version Queens[1].\n\n[1]I5f7164f7a7ec5d4380ca22885000caa0183a0bf7\n\nChange-Id: Ifec0e661031647555dbc03ad1000c50c590afa8c\nCloses-bug: 1697588\n""}]",0,506983,5ef15a4dc376d19743f8ded07912faf0b6907923,36,12,3,22255,,,0,"Update after recent removal of cred manager aliases

In tempest, alias 'admin_manager' has been moved to 'os_admin'
'alt_manager' to 'os_alt' and 'manager' to 'os_primary' in
version Pike, and it will be removed in version Queens[1].

[1]I5f7164f7a7ec5d4380ca22885000caa0183a0bf7

Change-Id: Ifec0e661031647555dbc03ad1000c50c590afa8c
Closes-bug: 1697588
",git fetch https://review.opendev.org/openstack/ironic refs/changes/83/506983/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/tests/scenario/test_baremetal_multitenancy.py', 'ironic_tempest_plugin/tests/api/admin/test_nodes.py', 'ironic/tests/unit/drivers/modules/oneview/test_deploy.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_boot_from_volume.py']",4,5cc1802d6b4d1f3c276b5f1ed0f4b5f83162f71d,bug/1697588," clients=self.os_primary,"," clients=self.manager,",44,43
openstack%2Frpm-packaging~master~I7b279cb3665cebd79aeaa54a057e705e50b0df99,openstack/rpm-packaging,master,I7b279cb3665cebd79aeaa54a057e705e50b0df99,Remove merge template,MERGED,2017-10-05 19:57:00.000000000,2017-10-06 05:43:56.000000000,2017-10-06 05:43:56.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-05 19:57:00.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d70c0e53d59acf7eeada4ef32903038b760db5ca', 'message': 'Remove merge template\n\nThe merge-check template should not be used in project repos, only\nin project-config. Remove it.\n\nSee also\nhttps://docs.openstack.org/infra/manual/zuulv3.html#what-not-to-convert\n\nChange-Id: I7b279cb3665cebd79aeaa54a057e705e50b0df99\n'}]",0,509890,d70c0e53d59acf7eeada4ef32903038b760db5ca,9,5,1,6547,,,0,"Remove merge template

The merge-check template should not be used in project repos, only
in project-config. Remove it.

See also
https://docs.openstack.org/infra/manual/zuulv3.html#what-not-to-convert

Change-Id: I7b279cb3665cebd79aeaa54a057e705e50b0df99
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/90/509890/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d70c0e53d59acf7eeada4ef32903038b760db5ca,fix-zuul,, templates: - merge-check,0,2
openstack%2Fopenstack-zuul-jobs~master~Ice8caf7e00b5d4b3a4f3c321b77235878c202577,openstack/openstack-zuul-jobs,master,Ice8caf7e00b5d4b3a4f3c321b77235878c202577,Remove build-openstack-sphinx-docs-infra,MERGED,2017-10-05 15:18:28.000000000,2017-10-06 05:39:07.000000000,2017-10-06 05:39:07.000000000,"[{'_account_id': 1}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 15:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e2562a85751de2165b3fcf35d1db443b6b16f433', 'message': ""Remove build-openstack-sphinx-docs-infra\n\nWe don't need a special job.\n\nChange-Id: Ice8caf7e00b5d4b3a4f3c321b77235878c202577\n""}, {'number': 2, 'created': '2017-10-05 15:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/bdb348fb04effa67c298c0dce5ecc7f86db1851d', 'message': ""Remove build-openstack-sphinx-docs-infra\n\nWe don't need a special job.\n\nChange-Id: Ice8caf7e00b5d4b3a4f3c321b77235878c202577\n""}, {'number': 3, 'created': '2017-10-05 15:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/51d5b0a7e6843d52b40730e562984dffe69f3b31', 'message': ""Remove build-openstack-sphinx-docs-infra\n\nWe don't need a special job.\n\nChange-Id: Ice8caf7e00b5d4b3a4f3c321b77235878c202577\n""}, {'number': 4, 'created': '2017-10-05 16:50:20.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ab07df436062dd5d27cc4b3a7a31a2b128328f49', 'message': ""Remove build-openstack-sphinx-docs-infra\n\nWe don't need a special job.\n\nDepends-On: I470e9d94044112fc5a5deb3e8dc21c941871f76d\nChange-Id: Ice8caf7e00b5d4b3a4f3c321b77235878c202577\n""}]",0,509808,ab07df436062dd5d27cc4b3a7a31a2b128328f49,16,4,4,2,,,0,"Remove build-openstack-sphinx-docs-infra

We don't need a special job.

Depends-On: I470e9d94044112fc5a5deb3e8dc21c941871f76d
Change-Id: Ice8caf7e00b5d4b3a4f3c321b77235878c202577
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/08/509808/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,e2562a85751de2165b3fcf35d1db443b6b16f433,zuulv3-jobs,, name: build-openstack-infra-sphinx-docs parent: tox-docs description: | Builds docuemtation using Sphinx per the OpenStack PTI but with the Infra-specific publication prep applied. It then collects the results into the log directory so that they can be examined in their published form after a successful build. run: playbooks/sphinx-docs/run success-url: html/ roles: - zuul: openstack-infra/zuul-jobs vars: tox_envlist: venv tox_extra_args: -vv python setup.py build_sphinx - job:,0,16
openstack%2Frally~master~I5afddc46960a4866b0c9fa45f2bfc087bf208441,openstack/rally,master,I5afddc46960a4866b0c9fa45f2bfc087bf208441,Testing,ABANDONED,2017-10-04 21:36:18.000000000,2017-10-06 05:35:23.000000000,,"[{'_account_id': 3}, {'_account_id': 14817}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 21:36:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/99362a4ef395b2c3a9f30e303be786b4f0bb65d5', 'message': 'Testing\n\nChange-Id: I5afddc46960a4866b0c9fa45f2bfc087bf208441\nDepends-On: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3\n'}, {'number': 2, 'created': '2017-10-05 07:46:57.000000000', 'files': ['rally/plugins/openstack/cleanup/resources.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/426dfc9958bf129dd7aca94879bd0936113b9eb4', 'message': 'Testing\n\nChange-Id: I5afddc46960a4866b0c9fa45f2bfc087bf208441\nDepends-On: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3\n'}]",0,509649,426dfc9958bf129dd7aca94879bd0936113b9eb4,8,3,2,6172,,,0,"Testing

Change-Id: I5afddc46960a4866b0c9fa45f2bfc087bf208441
Depends-On: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3
",git fetch https://review.opendev.org/openstack/rally refs/changes/49/509649/2 && git format-patch -1 --stdout FETCH_HEAD,['rally/plugins/openstack/cleanup/resources.py'],1,99362a4ef395b2c3a9f30e303be786b4f0bb65d5,testing," LOG.info(""listing servers"") l = self._manager().list(limit=-1) LOG.info(""listed servers %s: %s"" % (len(l), l)) return l LOG.info(""deleting server %s"" % self.raw_resource) LOG.info(""deleted server: %s"" % self.raw_resource)", return self._manager().list(limit=-1),6,1
openstack%2Fbandit~master~Iec363d4ce94423775718fec7d734b53f464eb3b5,openstack/bandit,master,Iec363d4ce94423775718fec7d734b53f464eb3b5,Replaces uuid.uuid4 with uuidutils.generate_uuid(),ABANDONED,2017-07-17 05:42:01.000000000,2017-10-06 05:24:00.000000000,,"[{'_account_id': 3}, {'_account_id': 8119}, {'_account_id': 21420}, {'_account_id': 22406}, {'_account_id': 25006}]","[{'number': 1, 'created': '2017-07-17 05:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/3b4c01473d3642b99091044e33a0c998d31b31f5', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack oslo_utils has a generate_uuid function for generating\nuuids. We should use that function when generating uuids for\nconsistency.\n\nChange-Id: Iec363d4ce94423775718fec7d734b53f464eb3b5\n'}, {'number': 2, 'created': '2017-07-17 06:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bandit/commit/fff79542d5ad0dc2e32a651808a4e7f7fb595532', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack oslo_utils has a generate_uuid function for generating\nuuids. We should use that function when generating uuids for\nconsistency.\n\nChange-Id: Iec363d4ce94423775718fec7d734b53f464eb3b5\n'}, {'number': 3, 'created': '2017-07-17 06:38:12.000000000', 'files': ['test-requirements.txt', 'tests/unit/core/test_config.py'], 'web_link': 'https://opendev.org/openstack/bandit/commit/e89c9feaa44fc4694b3388e5e6f0b9f1836522c3', 'message': 'Replaces uuid.uuid4 with uuidutils.generate_uuid()\n\nOpenstack oslo_utils has a generate_uuid function for generating\nuuids. We should use that function when generating uuids for\nconsistency.\n\nChange-Id: Iec363d4ce94423775718fec7d734b53f464eb3b5\n'}]",0,484249,e89c9feaa44fc4694b3388e5e6f0b9f1836522c3,12,5,3,25006,,,0,"Replaces uuid.uuid4 with uuidutils.generate_uuid()

Openstack oslo_utils has a generate_uuid function for generating
uuids. We should use that function when generating uuids for
consistency.

Change-Id: Iec363d4ce94423775718fec7d734b53f464eb3b5
",git fetch https://review.opendev.org/openstack/bandit refs/changes/49/484249/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/core/test_config.py'],1,3b4c01473d3642b99091044e33a0c998d31b31f5,uuidutils,"from oslo_utils import uuidutils example_key = uuidutils.generate_uuid(dashed=False) self.example_key = uuidutils.generate_uuid(dashed=False) self.example_subkey = uuidutils.generate_uuid(dashed=False) self.example_subvalue = uuidutils.generate_uuid(dashed=False) sample_option_name = '%s.%s' % (uuidutils.generate_uuid(dashed=False), uuidutils.generate_uuid(dashed=False)) sample_setting_name = uuidutils.generate_uuid(dashed=False)","import uuid example_key = uuid.uuid4().hex self.example_key = uuid.uuid4().hex self.example_subkey = uuid.uuid4().hex self.example_subvalue = uuid.uuid4().hex sample_option_name = '%s.%s' % (uuid.uuid4().hex, uuid.uuid4().hex) sample_setting_name = uuid.uuid4().hex",8,7
openstack%2Fmistral~master~I48761c215f0255976c330ffa34f27bb695c944a9,openstack/mistral,master,I48761c215f0255976c330ffa34f27bb695c944a9,Dynamic action name evaluation.,MERGED,2017-09-29 11:54:07.000000000,2017-10-06 05:17:57.000000000,2017-10-05 14:55:21.000000000,"[{'_account_id': 3}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 23271}]","[{'number': 1, 'created': '2017-09-29 11:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/c52af225f401ead9b6c06b8a019aaed40c625cb3', 'message': 'Dynamic task name evaluation.\n\nEvaluate tasks names dynamically, so yaql or jinja expression can be\nused\n\nChange-Id: I48761c215f0255976c330ffa34f27bb695c944a9\nImplements: blueprint mistral-dynamic-actions\n'}, {'number': 2, 'created': '2017-10-02 05:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/27eede0b4b9870f74921a2edecff5f7bef96bc9d', 'message': 'Dynamic task name evaluation.\n\nEvaluate tasks names dynamically, so yaql or jinja expression can be\nused\n\nChange-Id: I48761c215f0255976c330ffa34f27bb695c944a9\nImplements: blueprint mistral-dynamic-actions\n'}, {'number': 3, 'created': '2017-10-02 07:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a282eaca2036ae032240ff6b4519412aeda5e292', 'message': 'Dynamic action name evaluation.\n\nEvaluate action names dynamically, so yaql or jinja expression can be\nused\n\nChange-Id: I48761c215f0255976c330ffa34f27bb695c944a9\nImplements: blueprint mistral-dynamic-actions\n'}, {'number': 4, 'created': '2017-10-04 09:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/862bbed0fed90fa91aa3b130c29aa779ab58c7b0', 'message': 'Dynamic action name evaluation.\n\nEvaluate action names dynamically, so yaql or jinja expression can be\nused\n\nChange-Id: I48761c215f0255976c330ffa34f27bb695c944a9\nImplements: blueprint mistral-dynamic-actions\n'}, {'number': 5, 'created': '2017-10-05 03:30:59.000000000', 'files': ['mistral/engine/tasks.py', 'mistral/lang/base.py', 'mistral/tests/unit/engine/test_workflow_variables.py', 'doc/source/user/dsl_v2.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/3ce34674cf3cbf5a8fcfe7b6832dc50ac80b932d', 'message': 'Dynamic action name evaluation.\n\nEvaluate action names dynamically, so yaql or jinja expression can be\nused\n\nChange-Id: I48761c215f0255976c330ffa34f27bb695c944a9\nImplements: blueprint mistral-dynamic-actions\n'}]",8,508501,3ce34674cf3cbf5a8fcfe7b6832dc50ac80b932d,26,7,5,15895,,,0,"Dynamic action name evaluation.

Evaluate action names dynamically, so yaql or jinja expression can be
used

Change-Id: I48761c215f0255976c330ffa34f27bb695c944a9
Implements: blueprint mistral-dynamic-actions
",git fetch https://review.opendev.org/openstack/mistral refs/changes/01/508501/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/engine/tasks.py', 'mistral/lang/base.py', 'mistral/tests/unit/engine/test_workflow_variables.py', 'doc/source/user/dsl_v2.rst']",4,c52af225f401ead9b6c06b8a019aaed40c625cb3,bp/mistral-dynamic-actions,"- **action** - Name of the action associated with the task.Can be static value or an expression (for example, ""{{ _.action_name }}"").",- **action** - Name of the action associated with the task.,49,3
openstack%2Fopenstack-helm~master~Ic825bc0c600b3f5224aaeac6f034b90b05811822,openstack/openstack-helm,master,Ic825bc0c600b3f5224aaeac6f034b90b05811822,Disk Mapping updates,ABANDONED,2017-10-03 06:50:04.000000000,2017-10-06 04:55:00.000000000,,"[{'_account_id': 3}, {'_account_id': 8898}, {'_account_id': 20443}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 26201}, {'_account_id': 26441}]","[{'number': 1, 'created': '2017-10-03 06:50:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9ea550a66cb1c0859247154c3b8d5fe960c41733', 'message': 'Disk Mapping updates\n\nChange-Id: Ic825bc0c600b3f5224aaeac6f034b90b05811822\n'}, {'number': 2, 'created': '2017-10-03 06:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f585160c9baac4b3199904fa24a7d92933d8ece6', 'message': 'Disk Mapping updates\n\nChange-Id: Ic825bc0c600b3f5224aaeac6f034b90b05811822\n'}, {'number': 3, 'created': '2017-10-03 16:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec6ff98a013f38e52fa158b3d3c7791ef5f4f91c', 'message': 'Disk Mapping updates\n\nChange-Id: Ic825bc0c600b3f5224aaeac6f034b90b05811822\n'}, {'number': 4, 'created': '2017-10-03 16:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e0a92c32e7d8dcf5c072cc80fb8311cef5fc0eea', 'message': 'Disk Mapping updates\n\nChange-Id: Ic825bc0c600b3f5224aaeac6f034b90b05811822\n'}, {'number': 5, 'created': '2017-10-03 17:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dfa9df8d50186b3afdb3f9424bfb3053a99f8ae7', 'message': 'Disk Mapping updates\n\nAfter recent disk targeting and mapping changes merged in to\n457754 (Ceph OSD disk targeting), this PS updates labeling,\nremoving unwanted files and fixing an issue about specifying\npartiion for journals (by Dave). This PS also updates how we\nspecify devices in values.yaml.\n\nChange-Id: Ic825bc0c600b3f5224aaeac6f034b90b05811822\n'}, {'number': 6, 'created': '2017-10-05 11:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e17ea840c9e29a7376ff1b5e4efb9d4aea6e9b63', 'message': 'Disk Mapping updates\n\nAfter recent disk targeting and mapping changes merged in to\n457754 (Ceph OSD disk targeting), this PS updates labeling,\nremoving unwanted files and fixing an issue about specifying\npartiion for journals (by Dave). This PS also updates how we\nspecify devices in values.yaml.\n\nChange-Id: Ic825bc0c600b3f5224aaeac6f034b90b05811822\n'}, {'number': 7, 'created': '2017-10-05 15:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/27411b192ee548db071d7c92381ce70ee83a2a38', 'message': 'Disk Mapping updates\n\nAfter recent disk targeting and mapping changes merged in to\n457754 (Ceph OSD disk targeting), this PS updates labeling,\nremoving unwanted files and fixing an issue about specifying\npartiion for journals (by Dave). This PS also updates how we\nspecify devices in values.yaml.\n\nChange-Id: Ic825bc0c600b3f5224aaeac6f034b90b05811822\n'}, {'number': 8, 'created': '2017-10-05 16:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f28322039ae3bbd548ff4154a12f63581ab4d41c', 'message': 'Disk Mapping updates\n\nAfter recent disk targeting and mapping changes merged in to\n457754 (Ceph OSD disk targeting), this PS updates labeling,\nremoving unwanted files and fixing an issue about specifying\npartiion for journals (by Dave). This PS also updates how we\nspecify devices in values.yaml.\n\nChange-Id: Ic825bc0c600b3f5224aaeac6f034b90b05811822\n'}, {'number': 9, 'created': '2017-10-06 04:08:53.000000000', 'files': ['tools/gate/launch-osh/basic.sh', 'ceph/templates/bin/_osd_disk_activate.sh.tpl', 'ceph/templates/daemonset-osd-devices.yaml', 'tools/gate/funcs/kube.sh', 'tools/gate/vars.sh', 'tools/gate/funcs/common.sh', 'tools/overrides/mvp/ceph_disks.yaml', 'tools/gate/funcs/disk.sh', 'ceph/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d396ec4bd0442703c55001ab4de45ab94c3b25e', 'message': 'Disk Mapping updates\n\nThis PS is in progress of being merged to 457754 PS.\nAfter merge complete, will remove this PS.\n\nAfter recent disk targeting and mapping changes merged in to\n457754 (Ceph OSD disk targeting), this PS updates labeling,\nremoving unwanted files and fixing an issue about specifying\npartiion for journals (by Dave). This PS also updates how we\nspecify devices in values.yaml.\n\nChange-Id: Ic825bc0c600b3f5224aaeac6f034b90b05811822\n'}]",8,509094,9d396ec4bd0442703c55001ab4de45ab94c3b25e,42,9,9,24165,,,0,"Disk Mapping updates

This PS is in progress of being merged to 457754 PS.
After merge complete, will remove this PS.

After recent disk targeting and mapping changes merged in to
457754 (Ceph OSD disk targeting), this PS updates labeling,
removing unwanted files and fixing an issue about specifying
partiion for journals (by Dave). This PS also updates how we
specify devices in values.yaml.

Change-Id: Ic825bc0c600b3f5224aaeac6f034b90b05811822
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/94/509094/7 && git format-patch -1 --stdout FETCH_HEAD,['tools/overrides/mvp/ceph_disks.yaml'],1,9ea550a66cb1c0859247154c3b8d5fe960c41733,disk_mapping,,"# Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License osd_devices: - name: dev-cephosd0 device: /dev/cephosd0 journal: /dev/cephjournal0 zap: ""1"" - name: dev-cephosd1 device: /dev/cephosd1 journal: /dev/cephjournal1 zap: ""1"" - name: dev-cephosd2 device: /dev/cephosd2 journal: /dev/cephjournal2 zap: ""1"" ",0,27
openstack%2Fneutron~stable%2Fpike~I1ce8b558b0a831adcebead512d97554173423955,openstack/neutron,stable/pike,I1ce8b558b0a831adcebead512d97554173423955,Ensure default security group before port update,MERGED,2017-09-27 16:45:37.000000000,2017-10-06 04:49:23.000000000,2017-10-06 04:49:23.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 9656}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-27 16:45:37.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/tempest/api/admin/test_security_groups.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0a71fb0cedaa0a7a34519b80d4337fc92a27bba', 'message': 'Ensure default security group before port update\n\nThe default security group can be deleted and updating\na port will recreate it. However, we should do this in\nthe BEFORE_UPDATE event handler rather than waiting for\nit to happen inside of the port update transaction which\nviolates the transaction semantics of the security group\ncallbacks.\n\nCloses-Bug: #1718282\nChange-Id: I1ce8b558b0a831adcebead512d97554173423955\n(cherry picked from commit 017185496c9f3f30b4b819ead86dd5bfe5a72597)\n'}]",0,507926,f0a71fb0cedaa0a7a34519b80d4337fc92a27bba,15,7,1,9656,,,0,"Ensure default security group before port update

The default security group can be deleted and updating
a port will recreate it. However, we should do this in
the BEFORE_UPDATE event handler rather than waiting for
it to happen inside of the port update transaction which
violates the transaction semantics of the security group
callbacks.

Closes-Bug: #1718282
Change-Id: I1ce8b558b0a831adcebead512d97554173423955
(cherry picked from commit 017185496c9f3f30b4b819ead86dd5bfe5a72597)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/507926/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/tempest/api/admin/test_security_groups.py', 'neutron/plugins/ml2/plugin.py']",4,f0a71fb0cedaa0a7a34519b80d4337fc92a27bba,bug/1718282-stable/pike," original_port=orig_context.current, original_port = self.get_port(context, id) context=context, port=attrs, original_port=original_port) original_port=port,"," context=context, port=attrs)",56,4
openstack%2Fpuppet-nova~master~I62a830e78e39162a1f7fd439c2e9808bbd07b828,openstack/puppet-nova,master,I62a830e78e39162a1f7fd439c2e9808bbd07b828,Remove revocation_cache_time parameter,MERGED,2017-09-30 08:19:16.000000000,2017-10-06 04:47:35.000000000,2017-10-05 20:46:56.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 26617}]","[{'number': 1, 'created': '2017-09-30 08:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cf65c0322c880f8c3dea4721b71ebf689bd7391e', 'message': 'Remove revocation_cache_time parameter\n\nrevocation_cache_time parameter is deprecated, has no effect\nand will be removed in the future.\n\nChange-Id: I62a830e78e39162a1f7fd439c2e9808bbd07b828\n'}, {'number': 2, 'created': '2017-09-30 08:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7085ac4d85f46865a909d7c9ceb495dcdb356480', 'message': 'Remove revocation_cache_time parameter\n\nrevocation_cache_time parameter is deprecated, has no effect\nand will be removed in the future.\n\nChange-Id: I62a830e78e39162a1f7fd439c2e9808bbd07b828\n'}, {'number': 3, 'created': '2017-10-05 10:26:26.000000000', 'files': ['releasenotes/notes/remove_revocation_cache_time-1656a377690baaac.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8d84e2e4a99e4c4dc8ccefaabb2a3c395a06ad89', 'message': 'Remove revocation_cache_time parameter\n\nrevocation_cache_time parameter is deprecated, has no effect\nand will be removed in the future.\n\nChange-Id: I62a830e78e39162a1f7fd439c2e9808bbd07b828\n'}]",0,508668,8d84e2e4a99e4c4dc8ccefaabb2a3c395a06ad89,23,5,3,26617,,,0,"Remove revocation_cache_time parameter

revocation_cache_time parameter is deprecated, has no effect
and will be removed in the future.

Change-Id: I62a830e78e39162a1f7fd439c2e9808bbd07b828
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/68/508668/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,cf65c0322c880f8c3dea4721b71ebf689bd7391e,remove_revocation_cache_time,,"# DEPRECATED PARAMETERS # # [*revocation_cache_time*] # (Optional) Determines the frequency at which the list of revoked tokens is # retrieved from the Identity service (in seconds). A high number of # revocation events combined with a low cache duration may significantly # reduce performance. Only valid for PKI tokens. Integer value # Defaults to undef # # DEPRECATED PARAMETERS $revocation_cache_time = undef, if $revocation_cache_time { warning('revocation_cache_time parameter is deprecated, has no effect and will be removed in the future.') } ",0,15
openstack%2Fmagnum~master~Ied8b8d8fb610e5ecba18e37f98dd1a4c9bddbf30,openstack/magnum,master,Ied8b8d8fb610e5ecba18e37f98dd1a4c9bddbf30,Fix prometheus scrape configuration,MERGED,2017-09-26 09:24:35.000000000,2017-10-06 04:46:53.000000000,2017-10-05 14:04:38.000000000,"[{'_account_id': 3}, {'_account_id': 668}, {'_account_id': 10206}, {'_account_id': 13861}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-26 09:24:35.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/write-prometheus-configmap.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/4aade351b07e04791d6ac9aa6a1abc8bc3a8f98e', 'message': ""Fix prometheus scrape configuration\n\nMake prometheus configuration compatible with 1.7.3 or greater.\nThe new config matches the one in the pormetheus kubernetes\nexample [1] minus the configuration for ingress that we don't\ndeploy.\n\n[1] https://github.com/prometheus/prometheus/blob/master/documentation/examples/prometheus-kubernetes.yml\nCloses-Bug: #1719187\n\nChange-Id: Ied8b8d8fb610e5ecba18e37f98dd1a4c9bddbf30\n""}]",0,507445,4aade351b07e04791d6ac9aa6a1abc8bc3a8f98e,17,6,1,20498,,,0,"Fix prometheus scrape configuration

Make prometheus configuration compatible with 1.7.3 or greater.
The new config matches the one in the pormetheus kubernetes
example [1] minus the configuration for ingress that we don't
deploy.

[1] https://github.com/prometheus/prometheus/blob/master/documentation/examples/prometheus-kubernetes.yml
Closes-Bug: #1719187

Change-Id: Ied8b8d8fb610e5ecba18e37f98dd1a4c9bddbf30
",git fetch https://review.opendev.org/openstack/magnum refs/changes/45/507445/1 && git format-patch -1 --stdout FETCH_HEAD,['magnum/drivers/common/templates/kubernetes/fragments/write-prometheus-configmap.yaml'],1,4aade351b07e04791d6ac9aa6a1abc8bc3a8f98e,bug/1719187," - job_name: 'kubernetes-apiservers' kubernetes_sd_configs: - role: endpoints scheme: https tls_config: ca_file: /var/run/secrets/kubernetes.io/serviceaccount/ca.crt bearer_token_file: /var/run/secrets/kubernetes.io/serviceaccount/token relabel_configs: - source_labels: [__meta_kubernetes_namespace, __meta_kubernetes_service_name, __meta_kubernetes_endpoint_port_name] action: keep regex: default;kubernetes;https - job_name: 'kubernetes-nodes' scheme: https - target_label: __address__ replacement: kubernetes.default.svc:443 - source_labels: [__meta_kubernetes_node_name] regex: (.+) target_label: __metrics_path__ replacement: /api/v1/nodes/${1}/proxy/metrics - job_name: 'kubernetes-cadvisor' scheme: https tls_config: - role: node - target_label: __address__ replacement: kubernetes.default.svc:443 - source_labels: [__meta_kubernetes_node_name] regex: (.+) target_label: __metrics_path__ replacement: /api/v1/nodes/${1}/proxy/metrics/cadvisor - job_name: 'kubernetes-service-endpoints' kubernetes_sd_configs: - role: endpoints relabel_configs: - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scrape] action: keep regex: true - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_scheme] target_label: __scheme__ regex: (https?) - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_path] action: replace target_label: __metrics_path__ regex: (.+) - source_labels: [__address__, __meta_kubernetes_service_annotation_prometheus_io_port] action: replace regex: ([^:]+)(?::\d+)?;(\d+) replacement: $1:$2 - action: labelmap regex: __meta_kubernetes_service_label_(.+) - source_labels: [__meta_kubernetes_namespace] action: replace target_label: kubernetes_namespace - source_labels: [__meta_kubernetes_service_name] action: replace target_label: kubernetes_name - job_name: 'kubernetes-services' metrics_path: /probe params: module: [http_2xx] kubernetes_sd_configs: - role: service relabel_configs: - source_labels: [__meta_kubernetes_service_annotation_prometheus_io_probe] action: keep regex: true - source_labels: [__address__] target_label: __param_target - target_label: __address__ replacement: blackbox - source_labels: [__param_target] target_label: instance - action: labelmap regex: __meta_kubernetes_service_label_(.+) - source_labels: [__meta_kubernetes_namespace] target_label: kubernetes_namespace - source_labels: [__meta_kubernetes_service_name] target_label: kubernetes_name - job_name: 'kubernetes-pods' kubernetes_sd_configs: - role: pod relabel_configs: - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_scrape] action: keep regex: true - source_labels: [__meta_kubernetes_pod_annotation_prometheus_io_path] action: replace target_label: __metrics_path__ regex: (.+) - source_labels: [__address__, __meta_kubernetes_pod_annotation_prometheus_io_port] action: replace regex: ([^:]+)(?::\d+)?;(\d+) replacement: $1:$2 target_label: __address__ - action: labelmap regex: __meta_kubernetes_pod_label_(.+) - source_labels: [__meta_kubernetes_namespace] action: replace target_label: kubernetes_namespace - source_labels: [__meta_kubernetes_pod_name] action: replace target_label: kubernetes_pod_name", - job_name: 'kubernetes-nodes-cadvisor' - source_labels: [__meta_kubernetes_role] action: replace target_label: kubernetes_role - source_labels: [__address__] regex: '(.*):10250' replacement: '${1}:10255' target_label: __address__ metric_relabel_configs: - action: replace source_labels: [id] regex: '^/machine\.slice/machine-rkt\\x2d([^\\]+)\\.+/([^/]+)\.service$' target_label: rkt_container_name replacement: '${2}-${1}' - action: replace source_labels: [id] regex: '^/system\.slice/(.+)\.service$' target_label: systemd_service_name replacement: '${1}' - job_name: 'kubernetes-apiserver-cadvisor' tls_config: insecure_skip_verify: true - role: endpoints - source_labels: [__meta_kubernetes_role] target_label: kubernetes_role - source_labels: [__address__] regex: '(.*):10250' replacement: '${1}:10255',108,27
openstack%2Fkolla-ansible~master~I92882a3860704acdc31ff0c89e21ab2793e0b268,openstack/kolla-ansible,master,I92882a3860704acdc31ff0c89e21ab2793e0b268,Add notes on docker version in quickstart and multinode guide,MERGED,2017-10-01 23:23:15.000000000,2017-10-06 04:36:36.000000000,2017-10-06 04:36:36.000000000,"[{'_account_id': 3}, {'_account_id': 167}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 23630}, {'_account_id': 23717}, {'_account_id': 24441}, {'_account_id': 25740}, {'_account_id': 26498}]","[{'number': 1, 'created': '2017-10-01 23:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd78826ff95b1cf4a3ed8ebb316ebeeccb00009d', 'message': 'The `docker daemon` should be replaced with `dockerd`\n\nThe `docker daemon` doesn\'t work as\nhttps://docs.docker.com/engine/deprecated/#docker-daemon-subcommand\ntells me that it will be removed in 17.12:\n""docker daemon subcommand\nDeprecated In Release: v1.13.0\nTarget For Removal In Release: v17.12\nThe daemon is moved to a separate binary (dockerd), and should\nbe used instead.""\n\nChange-Id: I92882a3860704acdc31ff0c89e21ab2793e0b268\n'}, {'number': 2, 'created': '2017-10-02 09:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f41af9f3102e913616026763cb69b6b4ada67caf', 'message': 'Add notes on docker version in quickstart and multinode guide\n\nIn the quickstart guide, the min version of docker is 1.10.0,\nand the max version is none. But the `docker daemon` doesn\'t work\nsince v1.13.0. Please refer to:\nhttps://docs.docker.com/engine/deprecated/#docker-daemon-subcommand\n""docker daemon subcommand\nDeprecated In Release: v1.13.0\nTarget For Removal In Release: v17.12\nThe daemon is moved to a separate binary (dockerd), and should\nbe used instead.""\nI think it\'s better to let the readers know it.\n\nChange-Id: I92882a3860704acdc31ff0c89e21ab2793e0b268\n'}, {'number': 3, 'created': '2017-10-02 09:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/518ffe5ba6c9e8d6935aa64085acf0dda279aa92', 'message': 'Add notes on docker version in quickstart and multinode guide\n\nIn the quickstart guide, the min version of docker is 1.10.0,\nand the max version is none. But the `docker daemon` doesn\'t work\nsince v1.13.0. Please refer to:\nhttps://docs.docker.com/engine/deprecated/#docker-daemon-subcommand\n""docker daemon subcommand\nDeprecated In Release: v1.13.0\nTarget For Removal In Release: v17.12\nThe daemon is moved to a separate binary (dockerd), and should\nbe used instead.""\nI think it\'s better to let the readers know it.\n\nChange-Id: I92882a3860704acdc31ff0c89e21ab2793e0b268\n'}, {'number': 4, 'created': '2017-10-02 09:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06690d0b736ad5e241583c77dbd1a6223eff93d4', 'message': 'Add notes on docker version in quickstart and multinode guide\n\nIn the quickstart guide, the min version of docker is 1.10.0,\nand the max version is none. But the `docker daemon` doesn\'t work\nsince v1.13.0. Please refer to:\nhttps://docs.docker.com/engine/deprecated/#docker-daemon-subcommand\n""docker daemon subcommand\nDeprecated In Release: v1.13.0\nTarget For Removal In Release: v17.12\nThe daemon is moved to a separate binary (dockerd), and should\nbe used instead.""\nI think it\'s better to let the readers know it.\n\nChange-Id: I92882a3860704acdc31ff0c89e21ab2793e0b268\n'}, {'number': 5, 'created': '2017-10-02 22:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aef7d5eba8b974150268c5be92e78f3b2245a2da', 'message': 'Add notes on docker version in quickstart and multinode guide\n\nIn the quickstart guide, the min version of docker is 1.10.0,\nand the max version is none. But the `docker daemon` doesn\'t work\nsince v1.13.0. Please refer to:\nhttps://docs.docker.com/engine/deprecated/#docker-daemon-subcommand\n""docker daemon subcommand\nDeprecated In Release: v1.13.0\nTarget For Removal In Release: v17.12\nThe daemon is moved to a separate binary (dockerd), and should\nbe used instead.""\nI think it\'s better to let the readers know it.\n\nChange-Id: I92882a3860704acdc31ff0c89e21ab2793e0b268\n'}, {'number': 6, 'created': '2017-10-04 05:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ef3e267bef6a7f332ef6ff316abd540134d352e0', 'message': 'Add notes on docker version in quickstart and multinode guide\n\nIn the quickstart guide, the min version of docker is 1.10.0,\nand the max version is none. But the `docker daemon` doesn\'t work\nsince v1.13.0. Please refer to:\nhttps://docs.docker.com/engine/deprecated/#docker-daemon-subcommand\n""docker daemon subcommand\nDeprecated In Release: v1.13.0\nTarget For Removal In Release: v17.12\nThe daemon is moved to a separate binary (dockerd), and should\nbe used instead.""\nI think it\'s better to let the readers know it.\n\nChange-Id: I92882a3860704acdc31ff0c89e21ab2793e0b268\n'}, {'number': 7, 'created': '2017-10-04 05:33:17.000000000', 'files': ['doc/source/user/multinode.rst', 'doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a5f242e4a212696a8ea7ff28c3a21ecddd9d21cf', 'message': 'Add notes on docker version in quickstart and multinode guide\n\nIn the quickstart guide, the min version of docker is 1.10.0,\nand the max version is none. But the `docker daemon` doesn\'t work\nsince v1.13.0. Please refer to:\nhttps://docs.docker.com/engine/deprecated/#docker-daemon-subcommand\n""docker daemon subcommand\nDeprecated In Release: v1.13.0\nTarget For Removal In Release: v17.12\nThe daemon is moved to a separate binary (dockerd), and should\nbe used instead.""\nI think it\'s better to let the readers know it.\n\nChange-Id: I92882a3860704acdc31ff0c89e21ab2793e0b268\n'}]",5,508790,a5f242e4a212696a8ea7ff28c3a21ecddd9d21cf,27,13,7,25740,,,0,"Add notes on docker version in quickstart and multinode guide

In the quickstart guide, the min version of docker is 1.10.0,
and the max version is none. But the `docker daemon` doesn't work
since v1.13.0. Please refer to:
https://docs.docker.com/engine/deprecated/#docker-daemon-subcommand
""docker daemon subcommand
Deprecated In Release: v1.13.0
Target For Removal In Release: v17.12
The daemon is moved to a separate binary (dockerd), and should
be used instead.""
I think it's better to let the readers know it.

Change-Id: I92882a3860704acdc31ff0c89e21ab2793e0b268
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/508790/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/multinode.rst', 'doc/source/user/quickstart.rst']",2,dd78826ff95b1cf4a3ed8ebb316ebeeccb00009d,DocFix, ExecStart=/usr/bin/dockerd \, ExecStart=/usr/bin/docker daemon \,3,3
openstack%2Fneutron~stable%2Fpike~I15cdb28072835fcb8c37ae4b56fc8754375a807c,openstack/neutron,stable/pike,I15cdb28072835fcb8c37ae4b56fc8754375a807c,ovs-fw: Handle only known trusted ports,MERGED,2017-09-19 18:31:15.000000000,2017-10-06 04:34:17.000000000,2017-10-06 04:34:17.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 17491}, {'_account_id': 22348}, {'_account_id': 25943}]","[{'number': 1, 'created': '2017-09-19 18:31:15.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1ad0dccd7a87a2459908f4760dbcd152829b0d0', 'message': 'ovs-fw: Handle only known trusted ports\n\nSimilarly to filtered ports this patch caches so called trusted ports to\navoid processing in case of unknown port is passed down to firewall\ndriver. The cached ofport is used for removal as the cache reflects\ncurrently installed flows.\n\nThe patch also catches exception caused by inconsistency coming from\novsdb.\n\nCloses-bug: #1707339\n\nChange-Id: I15cdb28072835fcb8c37ae4b56fc8754375a807c\n(cherry picked from commit 1d80c960f61248f11af427d6008faac7fcc2db0b)\n'}]",0,505356,e1ad0dccd7a87a2459908f4760dbcd152829b0d0,17,9,1,9656,,,0,"ovs-fw: Handle only known trusted ports

Similarly to filtered ports this patch caches so called trusted ports to
avoid processing in case of unknown port is passed down to firewall
driver. The cached ofport is used for removal as the cache reflects
currently installed flows.

The patch also catches exception caused by inconsistency coming from
ovsdb.

Closes-bug: #1707339

Change-Id: I15cdb28072835fcb8c37ae4b56fc8754375a807c
(cherry picked from commit 1d80c960f61248f11af427d6008faac7fcc2db0b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/505356/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,e1ad0dccd7a87a2459908f4760dbcd152829b0d0,bug/1707339-stable/pike," self.firewall.sg_port_map.unfiltered['port_id'] = 1 def test_process_trusted_ports_caches_port_id(self): self.firewall.process_trusted_ports(['port_id']) self.assertIn('port_id', self.firewall.sg_port_map.unfiltered) def test_process_trusted_ports_port_not_found(self): """"""Check that exception is not propagated outside."""""" self.mock_bridge.br.get_vif_port_by_id.return_value = None self.firewall.process_trusted_ports(['port_id']) # Processing should have failed so port is not cached self.assertNotIn('port_id', self.firewall.sg_port_map.unfiltered) def test_remove_trusted_ports_clears_cached_port_id(self): self.firewall.sg_port_map.unfiltered['port_id'] = 1 self.firewall.remove_trusted_ports(['port_id']) self.assertNotIn('port_id', self.firewall.sg_port_map.unfiltered) def test_remove_trusted_ports_not_managed_port(self): """"""Check that exception is not propagated outside."""""" self.firewall.remove_trusted_ports(['port_id'])",,37,8
openstack%2Fopenstack-ansible-ceph_client~stable%2Fpike~I2345dec601f7b3862e995d8e19fc15e039284147,openstack/openstack-ansible-ceph_client,stable/pike,I2345dec601f7b3862e995d8e19fc15e039284147,Make the ceph mon test more robust,MERGED,2017-10-03 08:28:58.000000000,2017-10-06 04:34:09.000000000,2017-10-05 14:21:54.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 08:28:58.000000000', 'files': ['tasks/ceph_get_mon_host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/f2621b1d41975be8e34724e7db7ec1185b14abe7', 'message': 'Make the ceph mon test more robust\n\nThe ceph mon test is currently timing out after one second,\nwherever the ceph node is. We can think of cases where the\nconnection could be slow to establish, and a banner only appears\nafter a few seconds (host load for example).\n\nWe need to give more time to the ssh connection, and directly\nfail if no ceph monitor was unreachable.\n\nChange-Id: I2345dec601f7b3862e995d8e19fc15e039284147\n(cherry picked from commit 159d8164f6080db68d641f0ff5a54b0fd92449d8)\n'}]",0,509108,f2621b1d41975be8e34724e7db7ec1185b14abe7,12,5,1,17068,,,0,"Make the ceph mon test more robust

The ceph mon test is currently timing out after one second,
wherever the ceph node is. We can think of cases where the
connection could be slow to establish, and a banner only appears
after a few seconds (host load for example).

We need to give more time to the ssh connection, and directly
fail if no ceph monitor was unreachable.

Change-Id: I2345dec601f7b3862e995d8e19fc15e039284147
(cherry picked from commit 159d8164f6080db68d641f0ff5a54b0fd92449d8)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/08/509108/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceph_get_mon_host.yml'],1,f2621b1d41975be8e34724e7db7ec1185b14abe7,," -o ConnectTimeout=6 - name: Fail when no ceph_mon_host is reachable fail: msg: ""No Ceph Monitor reachable"" when: - ceph_mon_host is undefined", -o ConnectTimeout=1,7,1
openstack%2Fbifrost~stable%2Focata~I06b9682751a4aefe21866336ed9726541f74b22a,openstack/bifrost,stable/ocata,I06b9682751a4aefe21866336ed9726541f74b22a,scripts: test-bifrost: Start MySQL service before configuring the DB,MERGED,2017-09-21 12:12:39.000000000,2017-10-06 04:33:03.000000000,2017-10-05 16:57:48.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-21 12:12:39.000000000', 'files': ['scripts/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/debece382beb37abd4f73c4b1ce437c00a1a5a3d', 'message': 'scripts: test-bifrost: Start MySQL service before configuring the DB\n\nFixes the following problem:\n\n2017-06-19 09:21:19.720993 | + mysql_setup\n2017-06-19 09:21:19.721006 | + local DB_ROOT_PW=insecure_slave\n2017-06-19 09:21:19.721023 | + local DB_USER=openstack_citest\n2017-06-19 09:21:19.721045 | + local DB_PW=openstack_citest\n2017-06-19 09:21:19.721075 | + sudo -H mysqladmin -u root password insecure_slave\n2017-06-19 09:21:19.768612 | mysqladmin: connect to server at \'localhost\' failed\n2017-06-19 09:18:42.671268 | error: \'Can\'t connect to local MySQL server through socket \'/var/lib/mysql/mysql.sock\' (2 ""No such file or directory"")\'\n2017-06-19 09:18:42.671317 | Check that mysqld is running and that the socket: \'/var/lib/mysql/mysql.sock\' exists!\n\nChange-Id: I06b9682751a4aefe21866336ed9726541f74b22a\n(cherry picked from commit a6960de09a112676e92c05282219a72760a5c9dd)\n'}]",0,506138,debece382beb37abd4f73c4b1ce437c00a1a5a3d,20,5,1,6133,,,0,"scripts: test-bifrost: Start MySQL service before configuring the DB

Fixes the following problem:

2017-06-19 09:21:19.720993 | + mysql_setup
2017-06-19 09:21:19.721006 | + local DB_ROOT_PW=insecure_slave
2017-06-19 09:21:19.721023 | + local DB_USER=openstack_citest
2017-06-19 09:21:19.721045 | + local DB_PW=openstack_citest
2017-06-19 09:21:19.721075 | + sudo -H mysqladmin -u root password insecure_slave
2017-06-19 09:21:19.768612 | mysqladmin: connect to server at 'localhost' failed
2017-06-19 09:18:42.671268 | error: 'Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2 ""No such file or directory"")'
2017-06-19 09:18:42.671317 | Check that mysqld is running and that the socket: '/var/lib/mysql/mysql.sock' exists!

Change-Id: I06b9682751a4aefe21866336ed9726541f74b22a
(cherry picked from commit a6960de09a112676e92c05282219a72760a5c9dd)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/38/506138/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/test-bifrost.sh'],1,debece382beb37abd4f73c4b1ce437c00a1a5a3d,, # Make sure MySQL is running sudo service mysql start || sudo service mysqld start || sudo service mariadb start ,,3,0
openstack%2Fblazar~master~Icdb6768b170e6ea5cc7bcefe5c47769637c2d39b,openstack/blazar,master,Icdb6768b170e6ea5cc7bcefe5c47769637c2d39b,Replace the usage of some aliases in tempest,ABANDONED,2017-10-04 07:08:34.000000000,2017-10-06 04:24:52.000000000,,"[{'_account_id': 3}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 07:08:34.000000000', 'files': ['contrib/tempest/tempest/scenario/manager_freeze.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/4be1a492c22f43611ba1146a09651fa4969b0fe1', 'message': 'Replace the usage of some aliases in tempest\n\nIn tempest, following aliases have been moved in version Pike\nand will be removed in version Queens:ad\n* manager > os_primary [1]\n* admin_manager > os_admin [2]\n* os_adm > os_admin [3]\n* os > os_primary [4]\n* alt_manager > os_alt [5]\n\n[1] https://review.openstack.org/#/c/468036/\n[2] https://review.openstack.org/#/c/467852/\n[3] https://review.openstack.org/#/c/467605/\n[4] https://review.openstack.org/#/c/466991/\n[5] https://review.openstack.org/#/c/457555/\n\nChange-Id: Icdb6768b170e6ea5cc7bcefe5c47769637c2d39b\n'}]",0,509355,4be1a492c22f43611ba1146a09651fa4969b0fe1,5,2,1,25903,,,0,"Replace the usage of some aliases in tempest

In tempest, following aliases have been moved in version Pike
and will be removed in version Queens:ad
* manager > os_primary [1]
* admin_manager > os_admin [2]
* os_adm > os_admin [3]
* os > os_primary [4]
* alt_manager > os_alt [5]

[1] https://review.openstack.org/#/c/468036/
[2] https://review.openstack.org/#/c/467852/
[3] https://review.openstack.org/#/c/467605/
[4] https://review.openstack.org/#/c/466991/
[5] https://review.openstack.org/#/c/457555/

Change-Id: Icdb6768b170e6ea5cc7bcefe5c47769637c2d39b
",git fetch https://review.opendev.org/openstack/blazar refs/changes/55/509355/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/tempest/tempest/scenario/manager_freeze.py'],1,4be1a492c22f43611ba1146a09651fa4969b0fe1,aliases, cls.admin_volume_types_client = cls.os_admin.volume_types_v2_client cls.os_admin.encryption_types_v2_client else: cls.admin_volume_types_client = cls.os_admin.volume_types_client cls.os_admin.encryption_types_client, cls.admin_volume_types_client = cls.os_adm.volume_types_v2_client cls.os_adm.encryption_types_v2_client else: cls.admin_volume_types_client = cls.os_adm.volume_types_client cls.os_adm.encryption_types_client,4,4
openstack%2Fnova~master~Ia5b9def46c687249803eaeb0dd60f6e18401dbb2,openstack/nova,master,Ia5b9def46c687249803eaeb0dd60f6e18401dbb2,Add attachment_get call to volume/cinder_api,MERGED,2017-09-22 23:33:04.000000000,2017-10-06 04:24:00.000000000,2017-10-05 16:54:45.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2243}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-22 23:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c3e6b5d5b21f58004a4fc69d4b9195dbb5ba2427', 'message': 'Add attachment_get call to volume/cinder_api\n\nThe new cinder v3 live-migrate code will need to query cinder\nto get the current connection information. This call is added\nto support that. The new cinder v3 migration flow\nwill be made dependent on this change (review 463987).\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: Ia5b9def46c687249803eaeb0dd60f6e18401dbb2\n'}, {'number': 2, 'created': '2017-09-22 23:47:35.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0fe0b94a838268e020e0b129424300881be8ea0f', 'message': 'Add attachment_get call to volume/cinder_api\n\nThe new cinder v3 live-migrate code will need to query cinder\nto get the current connection information. This call is added\nto support that. The new cinder v3 migration flow\nwill be made dependent on this change (review 463987).\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: Ia5b9def46c687249803eaeb0dd60f6e18401dbb2\n'}]",0,506805,0fe0b94a838268e020e0b129424300881be8ea0f,69,16,2,17386,,,0,"Add attachment_get call to volume/cinder_api

The new cinder v3 live-migrate code will need to query cinder
to get the current connection information. This call is added
to support that. The new cinder v3 migration flow
will be made dependent on this change (review 463987).

Partially Implements: blueprint cinder-new-attach-apis

Change-Id: Ia5b9def46c687249803eaeb0dd60f6e18401dbb2
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/506805/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/volume/test_cinder.py', 'nova/volume/cinder.py']",2,c3e6b5d5b21f58004a4fc69d4b9195dbb5ba2427,bp/cinder-new-attach-apis," def attachment_get(self, context, attachment_id): """"""Gets a volume attachment. :param context: The nova request context. :param attachment_id: UUID of the volume attachment to get. :returns: a dict created from the cinderclient.v3.attachments.VolumeAttachment object """""" try: attachment_ref = cinderclient( context, '3.44', skip_version_check=True).attachments.show( attachment_id) translated_attach_ref = _translate_attachment_ref( attachment_ref.to_dict()) return translated_attach_ref except cinder_exception.ClientException as ex: with excutils.save_and_reraise_exception(): LOG.error(('Show attachment failed for attachment ' '%(id)s. Error: %(msg)s Code: %(code)s'), {'id': attachment_id, 'msg': six.text_type(ex), 'code': getattr(ex, 'code', None)}) @translate_attachment_exception",,66,0
openstack%2Fmonasca-agent~master~I642fdf8cc2789d2c2ba8bcb10adbd8b30b9bc91a,openstack/monasca-agent,master,I642fdf8cc2789d2c2ba8bcb10adbd8b30b9bc91a,Fix the example http_check.yaml for Keystone,MERGED,2017-10-06 02:37:13.000000000,2017-10-06 04:21:59.000000000,2017-10-06 04:21:59.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 17331}, {'_account_id': 17981}, {'_account_id': 21922}]","[{'number': 1, 'created': '2017-10-06 02:37:13.000000000', 'files': ['conf.d/http_check.yaml.example'], 'web_link': 'https://opendev.org/openstack/monasca-agent/commit/d8f0857f625d2b8c4f3409b358cc3a4af4eef8f8', 'message': 'Fix the example http_check.yaml for Keystone\n\nNeed ""project_name"" under ""keystone_config"" if user wants to use\nanother Keystone. Add ""project_name"" to the http_check.yaml example.\n\nChange-Id: I642fdf8cc2789d2c2ba8bcb10adbd8b30b9bc91a\n'}]",0,509956,d8f0857f625d2b8c4f3409b358cc3a4af4eef8f8,8,7,1,17331,,,0,"Fix the example http_check.yaml for Keystone

Need ""project_name"" under ""keystone_config"" if user wants to use
another Keystone. Add ""project_name"" to the http_check.yaml example.

Change-Id: I642fdf8cc2789d2c2ba8bcb10adbd8b30b9bc91a
",git fetch https://review.opendev.org/openstack/monasca-agent refs/changes/56/509956/1 && git format-patch -1 --stdout FETCH_HEAD,['conf.d/http_check.yaml.example'],1,d8f0857f625d2b8c4f3409b358cc3a4af4eef8f8,fix_http_check_example,# project_name: project,,1,0
openstack%2Fironic~master~Ibfbe772572f0ed80e19a85a70cfe2679a324c2b4,openstack/ironic,master,Ibfbe772572f0ed80e19a85a70cfe2679a324c2b4,Use oslotest for base test case,MERGED,2017-10-02 16:03:37.000000000,2017-10-06 04:14:30.000000000,2017-10-05 18:44:44.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 9542}, {'_account_id': 14525}, {'_account_id': 17998}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 16:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/217b7b43af3db3e3833064924dddebc19dc22953', 'message': ""Use oslotest for base test case\n\noslotest already implements all the std, tiemout and tempdirs mangling\nwe do in our base test case, so let's just re-use it.\n\nChange-Id: Ibfbe772572f0ed80e19a85a70cfe2679a324c2b4\n""}, {'number': 2, 'created': '2017-10-05 14:05:39.000000000', 'files': ['ironic/tests/base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/04eaebe701fa70bc3d483fe9281a2252c78ea14c', 'message': ""Use oslotest for base test case\n\noslotest already implements all the std, timeout and tempdirs mangling\nwe do in our base test case, so let's just re-use it.\n\nChange-Id: Ibfbe772572f0ed80e19a85a70cfe2679a324c2b4\n""}]",1,508925,04eaebe701fa70bc3d483fe9281a2252c78ea14c,20,6,2,9542,,,0,"Use oslotest for base test case

oslotest already implements all the std, timeout and tempdirs mangling
we do in our base test case, so let's just re-use it.

Change-Id: Ibfbe772572f0ed80e19a85a70cfe2679a324c2b4
",git fetch https://review.opendev.org/openstack/ironic refs/changes/25/508925/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/base.py'],1,217b7b43af3db3e3833064924dddebc19dc22953,oslotest,from oslotest import base as oslo_test_baseclass TestCase(oslo_test_base.BaseTestCase):,"import testtoolsclass TestCase(testtools.TestCase): test_timeout = os.environ.get('OS_TEST_TIMEOUT', 0) try: test_timeout = int(test_timeout) except ValueError: # If timeout value is invalid do not set a timeout. test_timeout = 0 if test_timeout > 0: self.useFixture(fixtures.Timeout(test_timeout, gentle=True)) self.useFixture(fixtures.NestedTempfile()) self.useFixture(fixtures.TempHomeDir()) if (os.environ.get('OS_STDOUT_CAPTURE') == 'True' or os.environ.get('OS_STDOUT_CAPTURE') == '1'): stdout = self.useFixture(fixtures.StringStream('stdout')).stream self.useFixture(fixtures.MonkeyPatch('sys.stdout', stdout)) if (os.environ.get('OS_STDERR_CAPTURE') == 'True' or os.environ.get('OS_STDERR_CAPTURE') == '1'): stderr = self.useFixture(fixtures.StringStream('stderr')).stream self.useFixture(fixtures.MonkeyPatch('sys.stderr', stderr)) self.log_fixture = self.useFixture(fixtures.FakeLogger())",3,23
openstack%2Fdevstack~stable%2Focata~I32eb59b9d6c225a3e93992be3a3b9f4b251d7189,openstack/devstack,stable/ocata,I32eb59b9d6c225a3e93992be3a3b9f4b251d7189,Wait for compute service to check in,MERGED,2017-08-03 19:14:29.000000000,2017-10-06 03:54:33.000000000,2017-10-05 18:13:10.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}, {'_account_id': 17256}]","[{'number': 1, 'created': '2017-08-03 19:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d9be495d7a1a8c247408c4f331d50070d3e9fa08', 'message': ""Wait for compute service to check in\n\nWith cell v2, on initial bring up, discover hosts can't run unless all\nthe compute nodes have checked in. The documentation says that you\nshould run ``nova service-list --binary nova-compute`` and see all\nyour hosts before running discover hosts. This isn't really viable in\na multinode devstack because of how things are brought up in parts.\n\nWe can however know that stack.sh will not complete before the compute\nnode is up by waiting for the compute node to check in before\ncompleting. This happens quite late in the stack.sh run, so shouldn't\nadd any extra time in most runs.\n\nCells v1 and Xenserver don't use real hostnames in the service table\n(they encode complex data that is hostname like to provide more\ntopology information than just hostnames). They are exempted from this\ncheck.\n\nRelated-Bug: #1708039\n\nChange-Id: I32eb59b9d6c225a3e93992be3a3b9f4b251d7189\n(cherry picked from commit c2fe916fc7c6c00cdfa0085e198eaf2ad4d915d1)\n""}, {'number': 2, 'created': '2017-09-07 13:36:42.000000000', 'files': ['functions', 'lib/nova', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2c7f377b157ea174e6a645cc8ac9e95a45f33727', 'message': ""Wait for compute service to check in\n\nWith cell v2, on initial bring up, discover hosts can't run unless all\nthe compute nodes have checked in. The documentation says that you\nshould run ``nova service-list --binary nova-compute`` and see all\nyour hosts before running discover hosts. This isn't really viable in\na multinode devstack because of how things are brought up in parts.\n\nWe can however know that stack.sh will not complete before the compute\nnode is up by waiting for the compute node to check in before\ncompleting. This happens quite late in the stack.sh run, so shouldn't\nadd any extra time in most runs.\n\nCells v1 and Xenserver don't use real hostnames in the service table\n(they encode complex data that is hostname like to provide more\ntopology information than just hostnames). They are exempted from this\ncheck.\n\nRelated-Bug: #1708039\n\nChange-Id: I32eb59b9d6c225a3e93992be3a3b9f4b251d7189\n(cherry picked from commit c2fe916fc7c6c00cdfa0085e198eaf2ad4d915d1)\n""}]",3,490635,2c7f377b157ea174e6a645cc8ac9e95a45f33727,18,7,2,2750,,,0,"Wait for compute service to check in

With cell v2, on initial bring up, discover hosts can't run unless all
the compute nodes have checked in. The documentation says that you
should run ``nova service-list --binary nova-compute`` and see all
your hosts before running discover hosts. This isn't really viable in
a multinode devstack because of how things are brought up in parts.

We can however know that stack.sh will not complete before the compute
node is up by waiting for the compute node to check in before
completing. This happens quite late in the stack.sh run, so shouldn't
add any extra time in most runs.

Cells v1 and Xenserver don't use real hostnames in the service table
(they encode complex data that is hostname like to provide more
topology information than just hostnames). They are exempted from this
check.

Related-Bug: #1708039

Change-Id: I32eb59b9d6c225a3e93992be3a3b9f4b251d7189
(cherry picked from commit c2fe916fc7c6c00cdfa0085e198eaf2ad4d915d1)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/35/490635/2 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/nova', 'stack.sh']",3,d9be495d7a1a8c247408c4f331d50070d3e9fa08,,# Check that computes are all ready # # TODO(sdague): there should be some generic phase here. if is_service_enabled n-cpu; then is_nova_ready fi ,,49,0
openstack%2Fnova~master~I49da04a87552a5ff093c48693cf2e433bcc4d319,openstack/nova,master,I49da04a87552a5ff093c48693cf2e433bcc4d319,Log consumer uuid when retrying claims in the scheduler,MERGED,2017-09-26 23:12:21.000000000,2017-10-06 03:41:42.000000000,2017-10-04 18:36:02.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-26 23:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e374577eb2656e5e79d7683406c0f51bbe3f748', 'message': ""Log instance uuid when retrying claims in the scheduler\n\nWhen creating multiple instances at once, if any of them\nfail to claim in the scheduler due to conflicts when\nallocations are posted, we need to know how many retries\nwe're doing and on which instances, and we can sort that\nout based on the instance in scope during the allocation attempt.\n\nChange-Id: I49da04a87552a5ff093c48693cf2e433bcc4d319\n""}, {'number': 2, 'created': '2017-09-27 13:15:19.000000000', 'files': ['nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/852c3b6dfe3abe73aeaee048fbbd388ba6014e16', 'message': ""Log consumer uuid when retrying claims in the scheduler\n\nWhen creating multiple instances at once, if any of them\nfail to claim in the scheduler due to conflicts when\nallocations are posted, we need to know how many retries\nwe're doing and on which instances.\n\nChange-Id: I49da04a87552a5ff093c48693cf2e433bcc4d319\n""}]",2,507705,852c3b6dfe3abe73aeaee048fbbd388ba6014e16,36,14,2,6873,,,0,"Log consumer uuid when retrying claims in the scheduler

When creating multiple instances at once, if any of them
fail to claim in the scheduler due to conflicts when
allocations are posted, we need to know how many retries
we're doing and on which instances.

Change-Id: I49da04a87552a5ff093c48693cf2e433bcc4d319
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/507705/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/client/report.py'],1,7e374577eb2656e5e79d7683406c0f51bbe3f748,burst-claim-failure," ""involved in our claim attempt. Retrying claim."", instance_uuid=consumer_uuid)"," ""involved in our claim attempt. Retrying claim."")",2,1
openstack%2Fswift~feature%2Fdeep~Ib66e6f2d23c22e8f6001ff00f54a9438fb721ae5,openstack/swift,feature/deep,Ib66e6f2d23c22e8f6001ff00f54a9438fb721ae5,add post-sharding object PUT to probe test,MERGED,2017-10-05 18:04:18.000000000,2017-10-06 03:39:33.000000000,2017-10-06 03:39:33.000000000,"[{'_account_id': 3}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-10-05 18:04:18.000000000', 'files': ['test/probe/test_sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7a4217938aac44d00a9334cd43c20065247960fe', 'message': 'add post-sharding object PUT to probe test\n\n...so we can check that the root container usage gets updated\neventually.\n\nChange-Id: Ib66e6f2d23c22e8f6001ff00f54a9438fb721ae5\n'}]",0,509858,7a4217938aac44d00a9334cd43c20065247960fe,8,3,1,7847,,,0,"add post-sharding object PUT to probe test

...so we can check that the root container usage gets updated
eventually.

Change-Id: Ib66e6f2d23c22e8f6001ff00f54a9438fb721ae5
",git fetch https://review.opendev.org/openstack/swift refs/changes/58/509858/1 && git format-patch -1 --stdout FETCH_HEAD,['test/probe/test_sharder.py'],1,7a4217938aac44d00a9334cd43c20065247960fe,," # Now put another object client.put_object(self.url, self.token, self.container_name, 'alpha') # The listing includes new object... headers, listing = client.get_container(self.url, self.token, self.container_name) self.assertEqual(pre_sharding_listing, listing[1:]) self.assertEqual('alpha', listing[0]['name']) # ...but object count is out of date self.assertIn('x-container-object-count', headers) self.assertEqual(headers['x-container-object-count'], str(len(obj_names))) # ...until the sharders run and update the root self.sharders.once() headers, listing = client.get_container(self.url, self.token, self.container_name) self.assertIn('x-container-object-count', headers) self.assertEqual(headers['x-container-object-count'], str(len(obj_names) + 1)) ",,20,0
openstack%2Frally~master~Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a,openstack/rally,master,Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a,Port hooks to the new format,MERGED,2017-09-12 15:05:04.000000000,2017-10-06 03:33:22.000000000,2017-10-06 03:33:22.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 7369}, {'_account_id': 8871}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 21528}, {'_account_id': 22348}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-09-12 15:05:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f37765c9d5c4c004d8d3e1e8bd6995d25852beb3', 'message': 'Port hooks to the new format\n\nThis patch unifies section ""hooks"" of task config format v2. Now, it\nlooks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 2, 'created': '2017-09-13 13:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3a9324983dba52e198ed17f450cba608ca83255c', 'message': 'Port hooks to the new format\n\nThis patch unifies section ""hooks"" of task config format v2. Now, it\nlooks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 3, 'created': '2017-09-13 14:14:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/20f3c030f658e48813cbe6ca3c44432ddcf00455', 'message': 'Port hooks to the new format\n\nThis patch unifies section ""hooks"" of task config format v2. Now, it\nlooks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 4, 'created': '2017-09-13 17:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6a00be5b27c5d956817c8e5639507cef1e2cd547', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 5, 'created': '2017-09-14 11:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/c0a880544501bfb1d09b8b8cc8d68f7ca7271a79', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 6, 'created': '2017-09-14 11:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/480bcccaaab3e111877ff7642d8e16c575df5371', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 7, 'created': '2017-09-24 13:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/7c45e4f83ca6ea661b82994ccf9743257bbf95ef', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 8, 'created': '2017-09-26 13:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e1c273f5a500bef9285e87a10a4ec789cf142c2a', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 9, 'created': '2017-09-27 10:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/8c7197b87ec22068ae9db1a19d5bb38518baacd5', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 10, 'created': '2017-09-27 14:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/584c9cca05e3e9780aaa23d675d3a866046f72e9', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 11, 'created': '2017-09-28 19:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/3fb6ea2faf95625e8eac3a7275a5e6078c3b3556', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 12, 'created': '2017-09-28 19:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6de3a62e9fa4d3ced990ff9e3adff114be8a0f09', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 13, 'created': '2017-09-29 15:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e598c1d8f00cf4a3314d1f043fd0872b4d3ce8b9', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 14, 'created': '2017-10-03 20:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/19e15e1de73844aee39d9055e0c32547dd53d4f9', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 15, 'created': '2017-10-04 11:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/06ff762c0c8799cb993f1d0e83a1e5ee35542091', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 16, 'created': '2017-10-05 22:59:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/fe506b6ffc3b55651a109e26c7c47b58b374f4bf', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}, {'number': 17, 'created': '2017-10-05 23:01:06.000000000', 'files': ['rally/task/processing/plot.py', 'rally/task/trigger.py', 'tests/unit/task/test_hook.py', 'tests/unit/plugins/common/hook/triggers/test_periodic.py', 'tests/unit/plugins/common/hook/triggers/__init__.py', 'rally/task/hook.py', 'tests/unit/task/test_engine.py', 'rally/plugins/common/hook/triggers/periodic.py', 'tests/unit/plugins/common/hook/test_sys_call.py', 'tests/unit/plugins/common/hook/triggers/test_event.py', 'rally/task/engine.py', 'rally-jobs/self-rally.yaml', 'tests/unit/task/test_trigger.py', 'rally/plugins/common/hook/sys_call.py', 'tests/unit/plugins/openstack/hook/test_fault_injection.py', 'rally/plugins/common/hook/triggers/__init__.py', 'tests/unit/task/processing/test_plot.py', 'rally/plugins/common/hook/triggers/event.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/abe710281425aab82da64159b55f99a06ef7e5a3', 'message': 'Port hooks to the new format\n\nOriginally, we did not find a good terms for hook entities, so term ""hook""\nhad several meanings: the plugin of action and the combination of\ntrigger+action configs.\n\nWhile we are working on task format v2, we can make the things easier.\n\n* rename plugin base Hook to HookAction;\n* unification section ""hooks"" of task config format v2. Now, it\n  looks similar to other sections.\n\nChange-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a\n'}]",9,503030,abe710281425aab82da64159b55f99a06ef7e5a3,81,9,17,9545,,,0,"Port hooks to the new format

Originally, we did not find a good terms for hook entities, so term ""hook""
had several meanings: the plugin of action and the combination of
trigger+action configs.

While we are working on task format v2, we can make the things easier.

* rename plugin base Hook to HookAction;
* unification section ""hooks"" of task config format v2. Now, it
  looks similar to other sections.

Change-Id: Ic800fd4c9cb1ca19b7f6896e2994ca2e30f5138a
",git fetch https://review.opendev.org/openstack/rally refs/changes/30/503030/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/task/engine.py', 'rally-jobs/self-rally.yaml', 'tests/unit/task/test_engine.py']",3,f37765c9d5c4c004d8d3e1e8bd6995d25852beb3,task_Fix,"class TaskConfigTestCase(test.TestCase): config[""c.task""] = [{""s"": 5, ""hooks"": [{""name"": ""foo"", ""args"": ""bar"", ""description"": ""DESCR!!!"", ""trigger"": { ""name"": ""mega-trigger"", ""args"": {""some"": ""thing""} }}] }] ""subtasks"": [ { ""title"": ""a.task"", ""scenario"": {""a.task"": {}}, ""s"": 1, ""contexts"": {""foo"": ""bar""} }, { ""title"": ""a.task"", ""s"": 2, ""scenario"": {""a.task"": {}}, ""contexts"": {} }, { ""title"": ""b.task"", ""s"": 3, ""scenario"": {""b.task"": {}}, ""sla"": {""key"": ""value""}, ""contexts"": {} }, { ""title"": ""c.task"", ""s"": 5, ""scenario"": {""c.task"": {}}, ""contexts"": {}, ""hooks"": [ {""description"": ""DESCR!!!"", ""action"": {""foo"": ""bar""}, ""trigger"": {""mega-trigger"": {""some"": ""thing""}}} ] }]},","class TaskTestCase(test.TestCase): ""subtasks"": [{""title"": ""a.task"", ""scenario"": {""a.task"": {}}, ""s"": 1, ""contexts"": {""foo"": ""bar""}}, {""title"": ""a.task"", ""s"": 2, ""scenario"": {""a.task"": {}}, ""contexts"": {}}, {""title"": ""b.task"", ""s"": 3, ""scenario"": {""b.task"": {}}, ""sla"": {""key"": ""value""}, ""contexts"": {}}]},",151,69
openstack%2Fneutron-lib~master~I6755eb077057b39e2df49575bf4f1545b9030905,openstack/neutron-lib,master,I6755eb077057b39e2df49575bf4f1545b9030905,Add support register default rules,ABANDONED,2017-10-04 08:13:56.000000000,2017-10-06 03:25:36.000000000,,"[{'_account_id': 3}, {'_account_id': 5367}, {'_account_id': 15471}, {'_account_id': 16688}, {'_account_id': 19930}, {'_account_id': 22348}, {'_account_id': 26072}]","[{'number': 1, 'created': '2017-10-04 08:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/56a71ad51131cd48ae3da20c8d2533754086c10d', 'message': 'Add support register default rules\n\nFor the reason that we have some projects\nare depending on neutron_lib, so we need\nto have this one to support other projects\ncan make default rules in their code base\nand register them when neutron_lib.\n\nChange-Id: I6755eb077057b39e2df49575bf4f1545b9030905\n'}, {'number': 2, 'created': '2017-10-04 09:41:31.000000000', 'files': ['neutron_lib/_policy.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f58bc64679fe4463f923e94e7d7299deeb4e44e2', 'message': 'Add support register default rules\n\nFor the reason that we have some projects\nare depending on neutron_lib, so we need\nto have this one to support other projects\ncan make default rules in their code base\nand register them when neutron_lib.\n\nChange-Id: I6755eb077057b39e2df49575bf4f1545b9030905\n'}]",2,509371,f58bc64679fe4463f923e94e7d7299deeb4e44e2,15,7,2,19930,,,0,"Add support register default rules

For the reason that we have some projects
are depending on neutron_lib, so we need
to have this one to support other projects
can make default rules in their code base
and register them when neutron_lib.

Change-Id: I6755eb077057b39e2df49575bf4f1545b9030905
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/71/509371/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/_policy.py'],1,56a71ad51131cd48ae3da20c8d2533754086c10d,,"def init(conf=cfg.CONF, list_rules=[], policy_file=None): _ROLE_ENFORCER.register_defaults(list_rules)","def init(conf=cfg.CONF, policy_file=None):",2,1
openstack%2Fneutron~master~Ic48bc5cab24e6ffdae84d28b83a07817e66ad759,openstack/neutron,master,Ic48bc5cab24e6ffdae84d28b83a07817e66ad759,Update the QoS bugs contact,MERGED,2017-10-04 16:55:39.000000000,2017-10-06 03:17:16.000000000,2017-10-06 03:17:16.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 7715}, {'_account_id': 11975}, {'_account_id': 16688}]","[{'number': 1, 'created': '2017-10-04 16:55:39.000000000', 'files': ['doc/source/contributor/policies/bugs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0088ca69d6570f6af240acf87dafdbe83ab08fb1', 'message': 'Update the QoS bugs contact\n\nThe current contact in the bugs policies document is out of date\n\nChange-Id: Ic48bc5cab24e6ffdae84d28b83a07817e66ad759\n'}]",0,509550,0088ca69d6570f6af240acf87dafdbe83ab08fb1,10,6,1,4694,,,0,"Update the QoS bugs contact

The current contact in the bugs policies document is out of date

Change-Id: Ic48bc5cab24e6ffdae84d28b83a07817e66ad759
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/509550/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/policies/bugs.rst'],1,0088ca69d6570f6af240acf87dafdbe83ab08fb1,update-qos-bugs-contact,| qos_ | A bug affecting ML2/QoS | Rodolfo Alonso/ | | | | Slawek Kaplonski |,| qos_ | A bug affecting ML2/QoS | Miguel Ajo |,2,1
openstack%2Fdevstack~master~I45e71301efb8d9a17989b57232a142e786175c2a,openstack/devstack,master,I45e71301efb8d9a17989b57232a142e786175c2a,Add a note about overriding the journalctl nowrap default,MERGED,2017-09-28 12:01:30.000000000,2017-10-06 03:17:09.000000000,2017-10-06 03:17:08.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-09-28 12:01:30.000000000', 'files': ['doc/source/systemd.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/59251693e7e0e576b26a33633cfff5d92d0a700e', 'message': 'Add a note about overriding the journalctl nowrap default\n\nHoping that this helps people who consider this as annoying as I do.\n\nChange-Id: I45e71301efb8d9a17989b57232a142e786175c2a\n'}]",0,508131,59251693e7e0e576b26a33633cfff5d92d0a700e,7,3,1,13252,,,0,"Add a note about overriding the journalctl nowrap default

Hoping that this helps people who consider this as annoying as I do.

Change-Id: I45e71301efb8d9a17989b57232a142e786175c2a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/31/508131/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/systemd.rst'],1,59251693e7e0e576b26a33633cfff5d92d0a700e,add-pager-note,"will be truncated, but horizontal scrolling is supported via the left/right arrow keys. You can override this by setting the ``SYSTEMD_LESS`` environment variable to e.g. ``FRXM``.","appear to be truncated, but horizontal scrolling is supported via the left/right arrow keys.",3,2
openstack%2Fblazar~master~I242a4173742973f2024e5151d8c92ef8cd80a07a,openstack/blazar,master,I242a4173742973f2024e5151d8c92ef8cd80a07a,Fix typos,MERGED,2017-09-05 09:49:56.000000000,2017-10-06 03:12:02.000000000,2017-10-06 03:12:02.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 22348}, {'_account_id': 23840}]","[{'number': 1, 'created': '2017-09-05 09:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/3999ec5760359d00515fef6f5cf8a641c0f03073', 'message': 'Fix the typos\n\nFix the typo and update the http doc link.\n\nChange-Id: I242a4173742973f2024e5151d8c92ef8cd80a07a\n'}, {'number': 2, 'created': '2017-09-12 02:15:14.000000000', 'files': ['contrib/tempest/tempest/scenario/test_host_reservation.py', 'blazar/i18n.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/a25b350c87d2c38e5d7bfd70168a4ece38f3a7e2', 'message': 'Fix typos\n\nFix a typo and update a http doc link.\n\nChange-Id: I242a4173742973f2024e5151d8c92ef8cd80a07a\n'}]",3,500756,a25b350c87d2c38e5d7bfd70168a4ece38f3a7e2,18,4,2,23317,,,0,"Fix typos

Fix a typo and update a http doc link.

Change-Id: I242a4173742973f2024e5151d8c92ef8cd80a07a
",git fetch https://review.opendev.org/openstack/blazar refs/changes/56/500756/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/tempest/tempest/scenario/test_host_reservation.py', 'blazar/i18n.py']",2,3999ec5760359d00515fef6f5cf8a641c0f03073,dev,See https://docs.openstack.org/oslo.i18n/latest/,See http://docs.openstack.org/developer/oslo.i18n/usage.html,2,2
openstack%2Fpuppet-oslo~master~I2f2977d88607939c278815cc449a129e8c04379d,openstack/puppet-oslo,master,I2f2977d88607939c278815cc449a129e8c04379d,Add use_journal option for logging configuration,MERGED,2017-09-29 11:43:15.000000000,2017-10-06 03:09:38.000000000,2017-10-06 03:09:38.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-29 11:43:15.000000000', 'files': ['spec/defines/oslo_log_spec.rb', 'releasenotes/notes/Add-use_journal-option-for-logging-e8182a1cd944ef59.yaml', 'manifests/log.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/f32c680d5e9cc23ac8664d4e4930548ab7a7391b', 'message': 'Add use_journal option for logging configuration\n\nThis enables oslo.log to pass logging records to journald.\n\nChange-Id: I2f2977d88607939c278815cc449a129e8c04379d\n'}]",0,508497,f32c680d5e9cc23ac8664d4e4930548ab7a7391b,8,3,1,10873,,,0,"Add use_journal option for logging configuration

This enables oslo.log to pass logging records to journald.

Change-Id: I2f2977d88607939c278815cc449a129e8c04379d
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/97/508497/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_log_spec.rb', 'releasenotes/notes/Add-use_journal-option-for-logging-e8182a1cd944ef59.yaml', 'manifests/log.pp']",3,f32c680d5e9cc23ac8664d4e4930548ab7a7391b,journald,"# [*use_journal*] # (Optional) Use journald for logging (boolean value). # Defaults to $::os_service_default # $use_journal = $::os_service_default, 'DEFAULT/use_journal' => { value => $use_journal },",,14,0
openstack%2Fpuppet-nova~master~I96bce988c5a4c1750d5142911bd5261bd3277796,openstack/puppet-nova,master,I96bce988c5a4c1750d5142911bd5261bd3277796,Remove Class nova::network,MERGED,2017-10-01 15:18:03.000000000,2017-10-06 03:00:42.000000000,2017-10-05 20:47:17.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 26617}]","[{'number': 1, 'created': '2017-10-01 15:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/127b5d0e1cdc22cf64f5cdc41a5548b9e2a1e610', 'message': 'Remove Class nova::network\n\nnova-network is deprecated in Newton and will be removed in the future.\n\nChange-Id: I96bce988c5a4c1750d5142911bd5261bd3277796\n'}, {'number': 2, 'created': '2017-10-05 10:28:32.000000000', 'files': ['manifests/network.pp', 'releasenotes/notes/remove_class_nova_network-ad07a2a73a9fd902.yaml', 'spec/classes/nova_network_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/774e97bde755a081f0a7c328400e2ac1d0ca6e4a', 'message': 'Remove Class nova::network\n\nnova-network is deprecated in Newton and will be removed in the future.\n\nChange-Id: I96bce988c5a4c1750d5142911bd5261bd3277796\n'}]",0,508758,774e97bde755a081f0a7c328400e2ac1d0ca6e4a,19,5,2,26617,,,0,"Remove Class nova::network

nova-network is deprecated in Newton and will be removed in the future.

Change-Id: I96bce988c5a4c1750d5142911bd5261bd3277796
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/58/508758/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/network.pp', 'releasenotes/notes/remove_class_nova_network-ad07a2a73a9fd902.yaml', 'spec/classes/nova_network_spec.rb']",3,127b5d0e1cdc22cf64f5cdc41a5548b9e2a1e610,remove_class_nova_network,,"require 'spec_helper' describe 'nova::network' do let :pre_condition do 'include nova' end let :default_params do { :private_interface => 'eth1', :fixed_range => '10.0.0.0/32', } end let :params do default_params end describe 'on debian platforms' do let :facts do @default_facts.merge({ :osfamily => 'Debian' }) end it { is_expected.to contain_sysctl__value('net.ipv4.ip_forward').with_value('1') } describe 'when installing service' do it { is_expected.to contain_package('nova-network').with( 'name' => 'nova-network', 'ensure' => 'present', 'notify' => ['Anchor[nova::install::end]'], ) } describe 'with enabled as true' do it { is_expected.to contain_service('nova-network').with( 'name' => 'nova-network', 'ensure' => 'running', 'hasstatus' => true, 'enable' => true )} end describe 'when enabled is set to false' do let :params do default_params.merge(:enabled => false) end it { is_expected.to contain_service('nova-network').with( 'name' => 'nova-network', 'ensure' => 'stopped', 'hasstatus' => true, 'enable' => false )} end end describe 'when not installing service' do let :params do default_params.merge(:install_service => false) end it { is_expected.to_not contain_package('nova-network') } it { is_expected.to_not contain_service('nova-network') } end describe 'when not creating networks' do let :params do default_params.merge(:create_networks => false) end it { is_expected.to_not contain_nova__manage__network('nova-vm-net') } it { is_expected.to_not contain_nova__manage__floating('nova-vm-floating') } end describe 'when creating networks' do it { is_expected.to contain_nova__manage__network('nova-vm-net').with( :network => '10.0.0.0/32', :num_networks => '1' ) } it { is_expected.to_not contain__nova__manage__floating('nova-vm-floating') } describe 'when number of networks is set' do let :params do default_params.merge(:num_networks => '2') end it { is_expected.to contain_nova__manage__network('nova-vm-net').with( :num_networks => '2' ) } end describe 'when floating range is set' do let :params do default_params.merge(:floating_range => '10.0.0.0/30') end it { is_expected.to contain_nova_config('DEFAULT/floating_range').with_value('10.0.0.0/30') } it { is_expected.to contain_nova_config('DEFAULT/auto_assign_floating_ip').with_value('false') } it { is_expected.to contain_nova_config('DEFAULT/multi_host').with_value('false') } it { is_expected.to contain_nova__manage__floating('nova-vm-floating').with_network('10.0.0.0/30') } end end describe 'when creating networks, but service nova-network is disabled' do let :params do default_params.merge(:enabled => false) end it { is_expected.to_not contain_nova__manage__network('nova-vm-net') } it { is_expected.to_not contain_nova__manage__floating('nova-vm-floating') } end describe 'when configuring networks' do describe 'when configuring flatdhcpmanager' do let :params do default_params.merge(:network_manager => 'nova.network.manager.FlatDHCPManager') end it { is_expected.to contain_class('nova::network::flatdhcp').with( :fixed_range => '10.0.0.0/32', :public_interface => nil, :flat_interface => 'eth1', :flat_network_bridge => 'br100', :force_dhcp_release => true, :flat_injected => false, :dhcp_domain => 'novalocal', :dhcpbridge => '/usr/bin/nova-dhcpbridge', :dhcpbridge_flagfile => '/etc/nova/nova.conf' ) } describe 'when overriding parameters' do let :params do default_params.merge( { :network_manager => 'nova.network.manager.FlatDHCPManager', :public_interface => 'eth0', :config_overrides => { 'flat_network_bridge' => 'br400', 'force_dhcp_release' => false, 'flat_injected' => true, 'dhcp_domain' => 'not-novalocal', 'dhcpbridge' => '/tmp/bridge', 'dhcpbridge_flagfile' => '/tmp/file', } } ) end it { is_expected.to contain_class('nova::network::flatdhcp').with( :fixed_range => '10.0.0.0/32', :public_interface => 'eth0', :flat_interface => 'eth1', :flat_network_bridge => 'br400', #:force_dhcp_release => false, :flat_injected => true, :dhcp_domain => 'not-novalocal', :dhcpbridge => '/tmp/bridge', :dhcpbridge_flagfile => '/tmp/file' ) } end end describe 'when configuring flatmanager' do let :params do default_params.merge(:network_manager => 'nova.network.manager.FlatManager') end it { is_expected.to contain_class('nova::network::flat').with( :fixed_range => '10.0.0.0/32', :public_interface => nil, :flat_interface => 'eth1', :flat_network_bridge => 'br100' ) } describe 'when overriding flat network params' do let :params do default_params.merge( { :network_manager => 'nova.network.manager.FlatManager', :public_interface => 'eth0', :config_overrides => {'flat_network_bridge' => 'br400' } } ) end it { is_expected.to contain_class('nova::network::flat').with( :public_interface => 'eth0', :flat_network_bridge => 'br400' ) } end end describe 'when configuring vlan' do let :params do default_params.merge(:network_manager => 'nova.network.manager.VlanManager') end it { is_expected.to contain_class('nova::network::vlan').with( :fixed_range => '10.0.0.0/32', :public_interface => nil, :vlan_interface => 'eth1', :force_dhcp_release => true, :dhcp_domain => 'novalocal', :dhcpbridge => '/usr/bin/nova-dhcpbridge', :dhcpbridge_flagfile => '/etc/nova/nova.conf' ) } describe 'when overriding parameters' do let :params do default_params.merge( { } ) end end end end describe 'with package version' do let :params do default_params.merge(:ensure_package => '2012.1-2') end it { is_expected.to contain_package('nova-network').with( 'ensure' => '2012.1-2' )} end describe 'when creating network with nameservers' do let :params do default_params.merge( { :create_networks => true, :dns1 => '8.8.8.8', :dns2 => '8.8.4.4' } ) end it { is_expected.to contain_class('nova::network').with( :dns1 => '8.8.8.8', :dns2 => '8.8.4.4' ) } it { is_expected.to contain_nova__manage__network('nova-vm-net').with( :dns1 => '8.8.8.8', :dns2 => '8.8.4.4' ) } end end describe 'on rhel' do let :facts do @default_facts.merge({ :osfamily => 'RedHat' }) end it { is_expected.to contain_service('nova-network').with( 'name' => 'openstack-nova-network', 'ensure' => 'running', 'hasstatus' => true, 'enable' => true )} it { is_expected.to contain_package('nova-network').with_name('openstack-nova-network') } end end ",3,456
openstack%2Fceilometer~master~I352cfcebca559b5e47502e2818e62854b971e3ff,openstack/ceilometer,master,I352cfcebca559b5e47502e2818e62854b971e3ff,re-add cpu_util metric to measurement list,MERGED,2017-10-02 15:22:49.000000000,2017-10-06 02:59:07.000000000,2017-10-05 15:10:39.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 15:22:49.000000000', 'files': ['doc/source/admin/telemetry-measurements.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/f5d58d5c42b35cbd436ba10a2ceac108858ed858', 'message': ""re-add cpu_util metric to measurement list\n\n- it was wrongly removed by bug 1597621.\n- add note to mention you don't necessarily need rate_of_change if\nusing Gnocchi\n\nChange-Id: I352cfcebca559b5e47502e2818e62854b971e3ff\n""}]",0,508912,f5d58d5c42b35cbd436ba10a2ceac108858ed858,10,4,1,6537,,,0,"re-add cpu_util metric to measurement list

- it was wrongly removed by bug 1597621.
- add note to mention you don't necessarily need rate_of_change if
using Gnocchi

Change-Id: I352cfcebca559b5e47502e2818e62854b971e3ff
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/12/508912/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/telemetry-measurements.rst'],1,f5d58d5c42b35cbd436ba10a2ceac108858ed858,bug/1597621,"| cpu_util | Gauge | % | instance | Pollster | LibVirt,| Average CPU | | | | | ID | | vSphere,| utilization | | | | | | | XenAPI | |.. note:: If storing data in Gnocchi v4.1+, derived rate_of_change metrics can be computed using Gnocchi rather than Ceilometer transformers. This will minimize Ceilometer memory requirements and avoid missing data when Ceilometer services restart. ","| cpu_util | Gauge | % | instance | Pollster | vSphere,| Average CPU | | | | | ID | | XenAPI | utilization |",10,2
openstack%2Fpuppet-nova~master~Ica69508f65c57295b3b2d6cecc22f74f7883913e,openstack/puppet-nova,master,Ica69508f65c57295b3b2d6cecc22f74f7883913e,Remove Class nova::rabbitmq,MERGED,2017-09-30 09:53:14.000000000,2017-10-06 02:58:22.000000000,2017-10-06 02:58:22.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 26617}]","[{'number': 1, 'created': '2017-09-30 09:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2ec182b65f280e4924ae2a7143259614292b24fa', 'message': 'Remove Class nova::rabbitmq\n\nnova::rabbitmq class is deprecated and will be removed in next release.\nMake other plans to configure rabbitmq resources.\n\nChange-Id: Ica69508f65c57295b3b2d6cecc22f74f7883913e\n'}, {'number': 2, 'created': '2017-09-30 09:58:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7830c6ae2029f448bbc3d227367ebe7a34ca0b3f', 'message': 'Remove Class nova::rabbitmq\n\nnova::rabbitmq class is deprecated and will be removed in next release.\nMake other plans to configure rabbitmq resources.\n\nChange-Id: Ica69508f65c57295b3b2d6cecc22f74f7883913e\n'}, {'number': 3, 'created': '2017-10-05 10:24:37.000000000', 'files': ['releasenotes/notes/remove_class_nova::rabbitmq-3e04bc52ea21032d.yaml', 'spec/classes/nova_rabbitmq_spec.rb', 'manifests/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/39f9169651d0e6f16e59d99e03293e5294312c80', 'message': 'Remove Class nova::rabbitmq\n\nnova::rabbitmq class is deprecated and will be removed in next release.\nMake other plans to configure rabbitmq resources.\n\nChange-Id: Ica69508f65c57295b3b2d6cecc22f74f7883913e\n'}]",0,508672,39f9169651d0e6f16e59d99e03293e5294312c80,26,5,3,26617,,,0,"Remove Class nova::rabbitmq

nova::rabbitmq class is deprecated and will be removed in next release.
Make other plans to configure rabbitmq resources.

Change-Id: Ica69508f65c57295b3b2d6cecc22f74f7883913e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/72/508672/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove_class_nova::rabbitmq-3e04bc52ea21032d.yaml', 'spec/classes/nova_rabbitmq_spec.rb', 'manifests/rabbitmq.pp']",3,2ec182b65f280e4924ae2a7143259614292b24fa,remove_class_nova_rabbitmq,,"# == Class: nova::rabbitmq # # Installs and manages rabbitmq server for nova # # == Parameters: # # [*userid*] # (optional) The username to use when connecting to Rabbit # Defaults to 'guest' # # [*password*] # (optional) The password to use when connecting to Rabbit # Defaults to 'guest' # # [*port*] # (optional) Deprecated. The port to use when connecting to Rabbit # This parameter keeps backward compatibility when we used to manage # RabbitMQ service. # Defaults to '5672' # # [*virtual_host*] # (optional) The virtual host to use when connecting to Rabbit # Defaults to '/' # # [*cluster_disk_nodes*] # (optional) Enables/disables RabbitMQ clustering. Specify an array of Rabbit Broker # IP addresses to configure clustering. # Defaults to false # # [*enabled*] # (optional) Deprecated. Whether to enable the Rabbit resources # This parameter keeps backward compatibility when we used to manage # RabbitMQ service. # Defaults to true # class nova::rabbitmq( $userid ='guest', $password ='guest', $virtual_host ='/', # DEPRECATED PARAMETER $cluster_disk_nodes = false, $enabled = true, $port ='5672', ) { warning('nova::rabbitmq class is deprecated and will be removed in next release. Make other plans to configure rabbitmq resources.') include ::nova::deps if ($enabled) { if $userid == 'guest' { $delete_guest_user = false } else { $delete_guest_user = true rabbitmq_user { $userid: admin => true, password => $password, provider => 'rabbitmqctl', } # I need to figure out the appropriate permissions rabbitmq_user_permissions { ""${userid}@${virtual_host}"": configure_permission => '.*', write_permission => '.*', read_permission => '.*', provider => 'rabbitmqctl', } } rabbitmq_vhost { $virtual_host: provider => 'rabbitmqctl', } } # Only start Nova after the queue is up Class['nova::rabbitmq'] -> Anchor['nova::service::end'] } ",1,144
openstack%2Fpuppet-openstack-integration~master~I1e4e564f60d1a225f1611efa235ffc17dca5d75e,openstack/puppet-openstack-integration,master,I1e4e564f60d1a225f1611efa235ffc17dca5d75e,Install python-cinderclient in integration,MERGED,2017-09-28 14:22:53.000000000,2017-10-06 02:58:16.000000000,2017-10-06 02:58:16.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-28 14:22:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fd3fe225e5ab793c742db4d51521f42d23d20fc4', 'message': 'Install python-cinderclient in integration\n\nChange-Id: I1e4e564f60d1a225f1611efa235ffc17dca5d75e\n'}, {'number': 2, 'created': '2017-09-28 14:36:44.000000000', 'files': ['manifests/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c0dc762279cb1144313b7761f4ad60fdc57061b1', 'message': 'Install python-cinderclient in integration\n\nChange-Id: I1e4e564f60d1a225f1611efa235ffc17dca5d75e\n'}]",0,508169,c0dc762279cb1144313b7761f4ad60fdc57061b1,14,5,2,1004,,,0,"Install python-cinderclient in integration

Change-Id: I1e4e564f60d1a225f1611efa235ffc17dca5d75e
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/69/508169/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cinder.pp'],1,fd3fe225e5ab793c742db4d51521f42d23d20fc4,cinder-beaker-refactor, class { '::cinder::client': },,1,0
openstack%2Fblazar~master~I1a3b654afed303bdea77177d18aa294fd6d00d7d,openstack/blazar,master,I1a3b654afed303bdea77177d18aa294fd6d00d7d,Shrink Tempest scenario manager copy,MERGED,2017-09-23 17:06:55.000000000,2017-10-06 02:42:19.000000000,2017-10-06 02:42:18.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 23840}]","[{'number': 1, 'created': '2017-09-23 17:06:55.000000000', 'files': ['contrib/tempest/tempest/scenario/manager_freeze.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/331be644b4b24115f647aabb4870bd3b09298b60', 'message': 'Shrink Tempest scenario manager copy\n\nscenario manager in tempest plugin was copied from\nTempest to avoid any plugin break.\n\nThis copied version of scenario manager is using lot of\nTempest interfaces. Many of them are not stable and might\nchange which can break plugin.\n\nFor example - https://review.openstack.org/#/c/503875/3\n\nThis commit shrinks the scenario manager copy to keep\nonly required methods.\n\nChange-Id: I1a3b654afed303bdea77177d18aa294fd6d00d7d\n'}]",0,506876,331be644b4b24115f647aabb4870bd3b09298b60,9,3,1,8556,,,0,"Shrink Tempest scenario manager copy

scenario manager in tempest plugin was copied from
Tempest to avoid any plugin break.

This copied version of scenario manager is using lot of
Tempest interfaces. Many of them are not stable and might
change which can break plugin.

For example - https://review.openstack.org/#/c/503875/3

This commit shrinks the scenario manager copy to keep
only required methods.

Change-Id: I1a3b654afed303bdea77177d18aa294fd6d00d7d
",git fetch https://review.opendev.org/openstack/blazar refs/changes/76/506876/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/tempest/tempest/scenario/manager_freeze.py'],1,331be644b4b24115f647aabb4870bd3b09298b60,shrink-scenario-manager,,"import netaddrfrom oslo_utils import netutils class NetworkScenarioTest(ScenarioTest): """"""Base class for network scenario tests. This class provide helpers for network scenario tests, using the neutron API. Helpers from ancestor which use the nova network API are overridden with the neutron API. This Class also enforces using Neutron instead of novanetwork. Subclassed tests will be skipped if Neutron is not enabled """""" credentials = ['primary', 'admin'] @classmethod def skip_checks(cls): super(NetworkScenarioTest, cls).skip_checks() if not CONF.service_available.neutron: raise cls.skipException('Neutron not available') def _create_network(self, networks_client=None, tenant_id=None, namestart='network-smoke-', port_security_enabled=True): if not networks_client: networks_client = self.networks_client if not tenant_id: tenant_id = networks_client.tenant_id name = data_utils.rand_name(namestart) network_kwargs = dict(name=name, tenant_id=tenant_id) # Neutron disables port security by default so we have to check the # config before trying to create the network with port_security_enabled if CONF.network_feature_enabled.port_security: network_kwargs['port_security_enabled'] = port_security_enabled result = networks_client.create_network(**network_kwargs) network = result['network'] self.assertEqual(network['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, networks_client.delete_network, network['id']) return network def _create_subnet(self, network, subnets_client=None, routers_client=None, namestart='subnet-smoke', **kwargs): """"""Create a subnet for the given network within the cidr block configured for tenant networks. """""" if not subnets_client: subnets_client = self.subnets_client if not routers_client: routers_client = self.routers_client def cidr_in_use(cidr, tenant_id): """"""Check cidr existence :returns: True if subnet with cidr already exist in tenant False else """""" cidr_in_use = self.os_admin.subnets_client.list_subnets( tenant_id=tenant_id, cidr=cidr)['subnets'] return len(cidr_in_use) != 0 ip_version = kwargs.pop('ip_version', 4) if ip_version == 6: tenant_cidr = netaddr.IPNetwork( CONF.network.project_network_v6_cidr) num_bits = CONF.network.project_network_v6_mask_bits else: tenant_cidr = netaddr.IPNetwork(CONF.network.project_network_cidr) num_bits = CONF.network.project_network_mask_bits result = None str_cidr = None # Repeatedly attempt subnet creation with sequential cidr # blocks until an unallocated block is found. for subnet_cidr in tenant_cidr.subnet(num_bits): str_cidr = str(subnet_cidr) if cidr_in_use(str_cidr, tenant_id=network['tenant_id']): continue subnet = dict( name=data_utils.rand_name(namestart), network_id=network['id'], tenant_id=network['tenant_id'], cidr=str_cidr, ip_version=ip_version, **kwargs ) try: result = subnets_client.create_subnet(**subnet) break except lib_exc.Conflict as e: is_overlapping_cidr = 'overlaps with another subnet' in str(e) if not is_overlapping_cidr: raise self.assertIsNotNone(result, 'Unable to allocate tenant network') subnet = result['subnet'] self.assertEqual(subnet['cidr'], str_cidr) self.addCleanup(test_utils.call_and_ignore_notfound_exc, subnets_client.delete_subnet, subnet['id']) return subnet def _get_server_port_id_and_ip4(self, server, ip_addr=None): ports = self.os_admin.ports_client.list_ports( device_id=server['id'], fixed_ip=ip_addr)['ports'] # A port can have more than one IP address in some cases. # If the network is dual-stack (IPv4 + IPv6), this port is associated # with 2 subnets p_status = ['ACTIVE'] # NOTE(vsaienko) With Ironic, instances live on separate hardware # servers. Neutron does not bind ports for Ironic instances, as a # result the port remains in the DOWN state. # TODO(vsaienko) remove once bug: #1599836 is resolved. if getattr(CONF.service_available, 'ironic', False): p_status.append('DOWN') port_map = [(p[""id""], fxip[""ip_address""]) for p in ports for fxip in p[""fixed_ips""] if netutils.is_valid_ipv4(fxip[""ip_address""]) and p['status'] in p_status] inactive = [p for p in ports if p['status'] != 'ACTIVE'] if inactive: LOG.warning(""Instance has ports that are not ACTIVE: %s"", inactive) self.assertNotEqual(0, len(port_map), ""No IPv4 addresses found in: %s"" % ports) self.assertEqual(len(port_map), 1, ""Found multiple IPv4 addresses: %s. "" ""Unable to determine which port to target."" % port_map) return port_map[0] def _get_network_by_name(self, network_name): net = self.os_admin.networks_client.list_networks( name=network_name)['networks'] self.assertNotEqual(len(net), 0, ""Unable to get network by name: %s"" % network_name) return net[0] def create_floating_ip(self, thing, external_network_id=None, port_id=None, client=None): """"""Create a floating IP and associates to a resource/port on Neutron"""""" if not external_network_id: external_network_id = CONF.network.public_network_id if not client: client = self.floating_ips_client if not port_id: port_id, ip4 = self._get_server_port_id_and_ip4(thing) else: ip4 = None result = client.create_floatingip( floating_network_id=external_network_id, port_id=port_id, tenant_id=thing['tenant_id'], fixed_ip_address=ip4 ) floating_ip = result['floatingip'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_floatingip, floating_ip['id']) return floating_ip def _associate_floating_ip(self, floating_ip, server): port_id, _ = self._get_server_port_id_and_ip4(server) kwargs = dict(port_id=port_id) floating_ip = self.floating_ips_client.update_floatingip( floating_ip['id'], **kwargs)['floatingip'] self.assertEqual(port_id, floating_ip['port_id']) return floating_ip def _disassociate_floating_ip(self, floating_ip): """""":param floating_ip: floating_ips_client.create_floatingip"""""" kwargs = dict(port_id=None) floating_ip = self.floating_ips_client.update_floatingip( floating_ip['id'], **kwargs)['floatingip'] self.assertIsNone(floating_ip['port_id']) return floating_ip def check_floating_ip_status(self, floating_ip, status): """"""Verifies floatingip reaches the given status :param dict floating_ip: floating IP dict to check status :param status: target status :raises: AssertionError if status doesn't match """""" floatingip_id = floating_ip['id'] def refresh(): result = (self.floating_ips_client. show_floatingip(floatingip_id)['floatingip']) return status == result['status'] test_utils.call_until_true(refresh, CONF.network.build_timeout, CONF.network.build_interval) floating_ip = self.floating_ips_client.show_floatingip( floatingip_id)['floatingip'] self.assertEqual(status, floating_ip['status'], message=""FloatingIP: {fp} is at status: {cst}. "" ""failed to reach status: {st}"" .format(fp=floating_ip, cst=floating_ip['status'], st=status)) LOG.info(""FloatingIP: {fp} is at status: {st}"" .format(fp=floating_ip, st=status)) def _check_tenant_network_connectivity(self, server, username, private_key, should_connect=True, servers_for_debug=None): if not CONF.network.project_networks_reachable: msg = 'Tenant networks not configured to be reachable.' LOG.info(msg) return # The target login is assumed to have been configured for # key-based authentication by cloud-init. try: for net_name, ip_addresses in server['addresses'].items(): for ip_address in ip_addresses: self.check_vm_connectivity(ip_address['addr'], username, private_key, should_connect=should_connect) except Exception as e: LOG.exception('Tenant network connectivity check failed') self._log_console_output(servers_for_debug) self._log_net_info(e) raise def _check_remote_connectivity(self, source, dest, should_succeed=True, nic=None): """"""check ping server via source ssh connection :param source: RemoteClient: an ssh connection from which to ping :param dest: and IP to ping against :param should_succeed: boolean should ping succeed or not :param nic: specific network interface to ping from :returns: boolean -- should_succeed == ping :returns: ping is false if ping failed """""" def ping_remote(): try: source.ping_host(dest, nic=nic) except lib_exc.SSHExecCommandFailed: LOG.warning('Failed to ping IP: %s via a ssh connection ' 'from: %s.', dest, source.ssh_client.host) return not should_succeed return should_succeed return test_utils.call_until_true(ping_remote, CONF.validation.ping_timeout, 1) def _create_security_group(self, security_group_rules_client=None, tenant_id=None, namestart='secgroup-smoke', security_groups_client=None): if security_group_rules_client is None: security_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if tenant_id is None: tenant_id = security_groups_client.tenant_id secgroup = self._create_empty_security_group( namestart=namestart, client=security_groups_client, tenant_id=tenant_id) # Add rules to the security group rules = self._create_loginable_secgroup_rule( security_group_rules_client=security_group_rules_client, secgroup=secgroup, security_groups_client=security_groups_client) for rule in rules: self.assertEqual(tenant_id, rule['tenant_id']) self.assertEqual(secgroup['id'], rule['security_group_id']) return secgroup def _create_empty_security_group(self, client=None, tenant_id=None, namestart='secgroup-smoke'): """"""Create a security group without rules. Default rules will be created: - IPv4 egress to any - IPv6 egress to any :param tenant_id: secgroup will be created in this tenant :returns: the created security group """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sg_name = data_utils.rand_name(namestart) sg_desc = sg_name + "" description"" sg_dict = dict(name=sg_name, description=sg_desc) sg_dict['tenant_id'] = tenant_id result = client.create_security_group(**sg_dict) secgroup = result['security_group'] self.assertEqual(secgroup['name'], sg_name) self.assertEqual(tenant_id, secgroup['tenant_id']) self.assertEqual(secgroup['description'], sg_desc) self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_security_group, secgroup['id']) return secgroup def _default_security_group(self, client=None, tenant_id=None): """"""Get default secgroup for given tenant_id. :returns: default secgroup for given tenant """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sgs = [ sg for sg in list(client.list_security_groups().values())[0] if sg['tenant_id'] == tenant_id and sg['name'] == 'default' ] msg = ""No default security group for tenant %s."" % (tenant_id) self.assertGreater(len(sgs), 0, msg) return sgs[0] def _create_security_group_rule(self, secgroup=None, sec_group_rules_client=None, tenant_id=None, security_groups_client=None, **kwargs): """"""Create a rule from a dictionary of rule parameters. Create a rule in a secgroup. if secgroup not defined will search for default secgroup in tenant_id. :param secgroup: the security group. :param tenant_id: if secgroup not passed -- the tenant in which to search for default secgroup :param kwargs: a dictionary containing rule parameters: for example, to allow incoming ssh: rule = { direction: 'ingress' protocol:'tcp', port_range_min: 22, port_range_max: 22 } """""" if sec_group_rules_client is None: sec_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if not tenant_id: tenant_id = security_groups_client.tenant_id if secgroup is None: secgroup = self._default_security_group( client=security_groups_client, tenant_id=tenant_id) ruleset = dict(security_group_id=secgroup['id'], tenant_id=secgroup['tenant_id']) ruleset.update(kwargs) sg_rule = sec_group_rules_client.create_security_group_rule(**ruleset) sg_rule = sg_rule['security_group_rule'] self.assertEqual(secgroup['tenant_id'], sg_rule['tenant_id']) self.assertEqual(secgroup['id'], sg_rule['security_group_id']) return sg_rule def _create_loginable_secgroup_rule(self, security_group_rules_client=None, secgroup=None, security_groups_client=None): """"""Create loginable security group rule This function will create: 1. egress and ingress tcp port 22 allow rule in order to allow ssh access for ipv4. 2. egress and ingress ipv6 icmp allow rule, in order to allow icmpv6. 3. egress and ingress ipv4 icmp allow rule, in order to allow icmpv4. """""" if security_group_rules_client is None: security_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client rules = [] rulesets = [ dict( # ssh protocol='tcp', port_range_min=22, port_range_max=22, ), dict( # ping protocol='icmp', ), dict( # ipv6-icmp for ping6 protocol='icmp', ethertype='IPv6', ) ] sec_group_rules_client = security_group_rules_client for ruleset in rulesets: for r_direction in ['ingress', 'egress']: ruleset['direction'] = r_direction try: sg_rule = self._create_security_group_rule( sec_group_rules_client=sec_group_rules_client, secgroup=secgroup, security_groups_client=security_groups_client, **ruleset) except lib_exc.Conflict as ex: # if rule already exist - skip rule and continue msg = 'Security group rule already exists' if msg not in ex._error_string: raise ex else: self.assertEqual(r_direction, sg_rule['direction']) rules.append(sg_rule) return rules def _get_router(self, client=None, tenant_id=None): """"""Retrieve a router for the given tenant id. If a public router has been configured, it will be returned. If a public router has not been configured, but a public network has, a tenant router will be created and returned that routes traffic to the public network. """""" if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id router_id = CONF.network.public_router_id network_id = CONF.network.public_network_id if router_id: body = client.show_router(router_id) return body['router'] elif network_id: router = self._create_router(client, tenant_id) kwargs = {'external_gateway_info': dict(network_id=network_id)} router = client.update_router(router['id'], **kwargs)['router'] return router else: raise Exception(""Neither of 'public_router_id' or "" ""'public_network_id' has been defined."") def _create_router(self, client=None, tenant_id=None, namestart='router-smoke'): if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id name = data_utils.rand_name(namestart) result = client.create_router(name=name, admin_state_up=True, tenant_id=tenant_id) router = result['router'] self.assertEqual(router['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_router, router['id']) return router def _update_router_admin_state(self, router, admin_state_up): kwargs = dict(admin_state_up=admin_state_up) router = self.routers_client.update_router( router['id'], **kwargs)['router'] self.assertEqual(admin_state_up, router['admin_state_up']) def create_networks(self, networks_client=None, routers_client=None, subnets_client=None, tenant_id=None, dns_nameservers=None, port_security_enabled=True): """"""Create a network with a subnet connected to a router. The baremetal driver is a special case since all nodes are on the same shared network. :param tenant_id: id of tenant to create resources in. :param dns_nameservers: list of dns servers to send to subnet. :returns: network, subnet, router """""" if CONF.network.shared_physical_network: # NOTE(Shrews): This exception is for environments where tenant # credential isolation is available, but network separation is # not (the current baremetal case). Likely can be removed when # test account mgmt is reworked: # https://blueprints.launchpad.net/tempest/+spec/test-accounts if not CONF.compute.fixed_network_name: m = 'fixed_network_name must be specified in config' raise lib_exc.InvalidConfiguration(m) network = self._get_network_by_name( CONF.compute.fixed_network_name) router = None subnet = None else: network = self._create_network( networks_client=networks_client, tenant_id=tenant_id, port_security_enabled=port_security_enabled) router = self._get_router(client=routers_client, tenant_id=tenant_id) subnet_kwargs = dict(network=network, subnets_client=subnets_client, routers_client=routers_client) # use explicit check because empty list is a valid option if dns_nameservers is not None: subnet_kwargs['dns_nameservers'] = dns_nameservers subnet = self._create_subnet(**subnet_kwargs) if not routers_client: routers_client = self.routers_client router_id = router['id'] routers_client.add_router_interface(router_id, subnet_id=subnet['id']) # save a cleanup job to remove this association between # router and subnet self.addCleanup(test_utils.call_and_ignore_notfound_exc, routers_client.remove_router_interface, router_id, subnet_id=subnet['id']) return network, subnet, router class EncryptionScenarioTest(ScenarioTest): """"""Base class for encryption scenario tests"""""" credentials = ['primary', 'admin'] @classmethod def setup_clients(cls): super(EncryptionScenarioTest, cls).setup_clients() if CONF.volume_feature_enabled.api_v2: cls.admin_volume_types_client = cls.os_adm.volume_types_v2_client cls.admin_encryption_types_client =\ cls.os_adm.encryption_types_v2_client else: cls.admin_volume_types_client = cls.os_adm.volume_types_client cls.admin_encryption_types_client =\ cls.os_adm.encryption_types_client def create_encryption_type(self, client=None, type_id=None, provider=None, key_size=None, cipher=None, control_location=None): if not client: client = self.admin_encryption_types_client if not type_id: volume_type = self.create_volume_type() type_id = volume_type['id'] LOG.debug(""Creating an encryption type for volume type: %s"", type_id) client.create_encryption_type( type_id, provider=provider, key_size=key_size, cipher=cipher, control_location=control_location)['encryption'] class ObjectStorageScenarioTest(ScenarioTest): """"""Provide harness to do Object Storage scenario tests. Subclasses implement the tests that use the methods provided by this class. """""" @classmethod def skip_checks(cls): super(ObjectStorageScenarioTest, cls).skip_checks() if not CONF.service_available.swift: skip_msg = (""%s skipped as swift is not available"" % cls.__name__) raise cls.skipException(skip_msg) @classmethod def setup_credentials(cls): cls.set_network_resources() super(ObjectStorageScenarioTest, cls).setup_credentials() operator_role = CONF.object_storage.operator_role cls.os_operator = cls.get_client_manager(roles=[operator_role]) @classmethod def setup_clients(cls): super(ObjectStorageScenarioTest, cls).setup_clients() # Clients for Swift cls.account_client = cls.os_operator.account_client cls.container_client = cls.os_operator.container_client cls.object_client = cls.os_operator.object_client def get_swift_stat(self): """"""get swift status for our user account."""""" self.account_client.list_account_containers() LOG.debug('Swift status information obtained successfully') def create_container(self, container_name=None): name = container_name or data_utils.rand_name( 'swift-scenario-container') self.container_client.create_container(name) # look for the container to assure it is created self.list_and_check_container_objects(name) LOG.debug('Container %s created', name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.container_client.delete_container, name) return name def delete_container(self, container_name): self.container_client.delete_container(container_name) LOG.debug('Container %s deleted', container_name) def upload_object_to_container(self, container_name, obj_name=None): obj_name = obj_name or data_utils.rand_name('swift-scenario-object') obj_data = data_utils.random_bytes() self.object_client.create_object(container_name, obj_name, obj_data) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.object_client.delete_object, container_name, obj_name) return obj_name, obj_data def delete_object(self, container_name, filename): self.object_client.delete_object(container_name, filename) self.list_and_check_container_objects(container_name, not_present_obj=[filename]) def list_and_check_container_objects(self, container_name, present_obj=None, not_present_obj=None): # List objects for a given container and assert which are present and # which are not. if present_obj is None: present_obj = [] if not_present_obj is None: not_present_obj = [] _, object_list = self.container_client.list_container_contents( container_name) if present_obj: for obj in present_obj: self.assertIn(obj, object_list) if not_present_obj: for obj in not_present_obj: self.assertNotIn(obj, object_list) def change_container_acl(self, container_name, acl): metadata_param = {'metadata_prefix': 'x-container-', 'metadata': {'read': acl}} self.container_client.update_container_metadata(container_name, **metadata_param) resp, _ = self.container_client.list_container_metadata(container_name) self.assertEqual(resp['x-container-read'], acl) def download_and_verify(self, container_name, obj_name, expected_data): _, obj = self.object_client.get_object(container_name, obj_name) self.assertEqual(obj, expected_data)",0,664
openstack%2Fpython-barbicanclient~master~I03080db776eb4c9c2991eca8f5df43f74eb6bf24,openstack/python-barbicanclient,master,I03080db776eb4c9c2991eca8f5df43f74eb6bf24,Updated from global requirements,MERGED,2017-10-04 13:43:59.000000000,2017-10-06 02:41:29.000000000,2017-10-06 02:41:29.000000000,"[{'_account_id': 3}, {'_account_id': 11561}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 13:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/8d24b3bace509149b14bf2632a3fd406db7a10a1', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 2, 'created': '2017-10-05 01:10:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/24a5de201162ffd92a3103e37bf906406778e57d', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 3, 'created': '2017-10-05 02:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/9b9efe7f1af5d71e27fd47093f86cf885f444293', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 4, 'created': '2017-10-05 02:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/92213570f2b707fe653b0a83c7e53189542260e1', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 5, 'created': '2017-10-05 03:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/dc1120ba1de23c356e7b26dc92a0d81bad67f6aa', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 6, 'created': '2017-10-05 03:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/2a870e3ab7acf6a6cc1c90bf1cbfac288d2d0c24', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 7, 'created': '2017-10-05 04:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/af207de2571595c7ba722c7da695bef68cd45b37', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 8, 'created': '2017-10-05 04:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/24f8b6415366704e13d7d68fc9292dcb540df745', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 9, 'created': '2017-10-05 06:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/526f837cd306b0ee7e6e075216d369a2726a8df1', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 10, 'created': '2017-10-05 13:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/ad4e407451893079b9287e54e4bdc683a989244f', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 11, 'created': '2017-10-05 17:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/9d5fada4d7514369c48b0fde8d0508e869bd520a', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 12, 'created': '2017-10-05 17:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/ff42ef4a6a5a5b16eab0299ca1a4ab837f1e9b32', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}, {'number': 13, 'created': '2017-10-05 18:59:37.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/77eedac597fb99745751a049a11d0719c4b67a85', 'message': 'Updated from global requirements\n\nChange-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24\n'}]",0,509449,77eedac597fb99745751a049a11d0719c4b67a85,28,3,13,11131,,,0,"Updated from global requirements

Change-Id: I03080db776eb4c9c2991eca8f5df43f74eb6bf24
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/49/509449/5 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,8d24b3bace509149b14bf2632a3fd406db7a10a1,openstack/requirements,"cliff!=2.9.0,>=2.8.0 # Apache-2.0",cliff>=2.8.0 # Apache-2.0,1,1
openstack%2Fblazar~stable%2Fpike~I1a3b654afed303bdea77177d18aa294fd6d00d7d,openstack/blazar,stable/pike,I1a3b654afed303bdea77177d18aa294fd6d00d7d,Shrink Tempest scenario manager copy,MERGED,2017-09-23 18:29:08.000000000,2017-10-06 02:39:49.000000000,2017-10-06 02:39:49.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 23840}]","[{'number': 1, 'created': '2017-09-23 18:29:08.000000000', 'files': ['contrib/tempest/tempest/scenario/manager_freeze.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/e087575a8b2b7f43e1c98a665378e888e1307a91', 'message': 'Shrink Tempest scenario manager copy\n\nscenario manager in tempest plugin was copied from\nTempest to avoid any plugin break.\n\nThis copied version of scenario manager is using lot of\nTempest interfaces. Many of them are not stable and might\nchange which can break plugin.\n\nFor example - https://review.openstack.org/#/c/503875/3\n\nThis commit shrinks the scenario manager copy to keep\nonly required methods.\n\nChange-Id: I1a3b654afed303bdea77177d18aa294fd6d00d7d\n'}]",0,506880,e087575a8b2b7f43e1c98a665378e888e1307a91,7,3,1,8556,,,0,"Shrink Tempest scenario manager copy

scenario manager in tempest plugin was copied from
Tempest to avoid any plugin break.

This copied version of scenario manager is using lot of
Tempest interfaces. Many of them are not stable and might
change which can break plugin.

For example - https://review.openstack.org/#/c/503875/3

This commit shrinks the scenario manager copy to keep
only required methods.

Change-Id: I1a3b654afed303bdea77177d18aa294fd6d00d7d
",git fetch https://review.opendev.org/openstack/blazar refs/changes/80/506880/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/tempest/tempest/scenario/manager_freeze.py'],1,e087575a8b2b7f43e1c98a665378e888e1307a91,shrink-scenario-manager-stable/pike,,"import netaddrfrom oslo_utils import netutils class NetworkScenarioTest(ScenarioTest): """"""Base class for network scenario tests. This class provide helpers for network scenario tests, using the neutron API. Helpers from ancestor which use the nova network API are overridden with the neutron API. This Class also enforces using Neutron instead of novanetwork. Subclassed tests will be skipped if Neutron is not enabled """""" credentials = ['primary', 'admin'] @classmethod def skip_checks(cls): super(NetworkScenarioTest, cls).skip_checks() if not CONF.service_available.neutron: raise cls.skipException('Neutron not available') def _create_network(self, networks_client=None, tenant_id=None, namestart='network-smoke-', port_security_enabled=True): if not networks_client: networks_client = self.networks_client if not tenant_id: tenant_id = networks_client.tenant_id name = data_utils.rand_name(namestart) network_kwargs = dict(name=name, tenant_id=tenant_id) # Neutron disables port security by default so we have to check the # config before trying to create the network with port_security_enabled if CONF.network_feature_enabled.port_security: network_kwargs['port_security_enabled'] = port_security_enabled result = networks_client.create_network(**network_kwargs) network = result['network'] self.assertEqual(network['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, networks_client.delete_network, network['id']) return network def _create_subnet(self, network, subnets_client=None, routers_client=None, namestart='subnet-smoke', **kwargs): """"""Create a subnet for the given network within the cidr block configured for tenant networks. """""" if not subnets_client: subnets_client = self.subnets_client if not routers_client: routers_client = self.routers_client def cidr_in_use(cidr, tenant_id): """"""Check cidr existence :returns: True if subnet with cidr already exist in tenant False else """""" cidr_in_use = self.os_admin.subnets_client.list_subnets( tenant_id=tenant_id, cidr=cidr)['subnets'] return len(cidr_in_use) != 0 ip_version = kwargs.pop('ip_version', 4) if ip_version == 6: tenant_cidr = netaddr.IPNetwork( CONF.network.project_network_v6_cidr) num_bits = CONF.network.project_network_v6_mask_bits else: tenant_cidr = netaddr.IPNetwork(CONF.network.project_network_cidr) num_bits = CONF.network.project_network_mask_bits result = None str_cidr = None # Repeatedly attempt subnet creation with sequential cidr # blocks until an unallocated block is found. for subnet_cidr in tenant_cidr.subnet(num_bits): str_cidr = str(subnet_cidr) if cidr_in_use(str_cidr, tenant_id=network['tenant_id']): continue subnet = dict( name=data_utils.rand_name(namestart), network_id=network['id'], tenant_id=network['tenant_id'], cidr=str_cidr, ip_version=ip_version, **kwargs ) try: result = subnets_client.create_subnet(**subnet) break except lib_exc.Conflict as e: is_overlapping_cidr = 'overlaps with another subnet' in str(e) if not is_overlapping_cidr: raise self.assertIsNotNone(result, 'Unable to allocate tenant network') subnet = result['subnet'] self.assertEqual(subnet['cidr'], str_cidr) self.addCleanup(test_utils.call_and_ignore_notfound_exc, subnets_client.delete_subnet, subnet['id']) return subnet def _get_server_port_id_and_ip4(self, server, ip_addr=None): ports = self.os_admin.ports_client.list_ports( device_id=server['id'], fixed_ip=ip_addr)['ports'] # A port can have more than one IP address in some cases. # If the network is dual-stack (IPv4 + IPv6), this port is associated # with 2 subnets p_status = ['ACTIVE'] # NOTE(vsaienko) With Ironic, instances live on separate hardware # servers. Neutron does not bind ports for Ironic instances, as a # result the port remains in the DOWN state. # TODO(vsaienko) remove once bug: #1599836 is resolved. if getattr(CONF.service_available, 'ironic', False): p_status.append('DOWN') port_map = [(p[""id""], fxip[""ip_address""]) for p in ports for fxip in p[""fixed_ips""] if netutils.is_valid_ipv4(fxip[""ip_address""]) and p['status'] in p_status] inactive = [p for p in ports if p['status'] != 'ACTIVE'] if inactive: LOG.warning(""Instance has ports that are not ACTIVE: %s"", inactive) self.assertNotEqual(0, len(port_map), ""No IPv4 addresses found in: %s"" % ports) self.assertEqual(len(port_map), 1, ""Found multiple IPv4 addresses: %s. "" ""Unable to determine which port to target."" % port_map) return port_map[0] def _get_network_by_name(self, network_name): net = self.os_admin.networks_client.list_networks( name=network_name)['networks'] self.assertNotEqual(len(net), 0, ""Unable to get network by name: %s"" % network_name) return net[0] def create_floating_ip(self, thing, external_network_id=None, port_id=None, client=None): """"""Create a floating IP and associates to a resource/port on Neutron"""""" if not external_network_id: external_network_id = CONF.network.public_network_id if not client: client = self.floating_ips_client if not port_id: port_id, ip4 = self._get_server_port_id_and_ip4(thing) else: ip4 = None result = client.create_floatingip( floating_network_id=external_network_id, port_id=port_id, tenant_id=thing['tenant_id'], fixed_ip_address=ip4 ) floating_ip = result['floatingip'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_floatingip, floating_ip['id']) return floating_ip def _associate_floating_ip(self, floating_ip, server): port_id, _ = self._get_server_port_id_and_ip4(server) kwargs = dict(port_id=port_id) floating_ip = self.floating_ips_client.update_floatingip( floating_ip['id'], **kwargs)['floatingip'] self.assertEqual(port_id, floating_ip['port_id']) return floating_ip def _disassociate_floating_ip(self, floating_ip): """""":param floating_ip: floating_ips_client.create_floatingip"""""" kwargs = dict(port_id=None) floating_ip = self.floating_ips_client.update_floatingip( floating_ip['id'], **kwargs)['floatingip'] self.assertIsNone(floating_ip['port_id']) return floating_ip def check_floating_ip_status(self, floating_ip, status): """"""Verifies floatingip reaches the given status :param dict floating_ip: floating IP dict to check status :param status: target status :raises: AssertionError if status doesn't match """""" floatingip_id = floating_ip['id'] def refresh(): result = (self.floating_ips_client. show_floatingip(floatingip_id)['floatingip']) return status == result['status'] test_utils.call_until_true(refresh, CONF.network.build_timeout, CONF.network.build_interval) floating_ip = self.floating_ips_client.show_floatingip( floatingip_id)['floatingip'] self.assertEqual(status, floating_ip['status'], message=""FloatingIP: {fp} is at status: {cst}. "" ""failed to reach status: {st}"" .format(fp=floating_ip, cst=floating_ip['status'], st=status)) LOG.info(""FloatingIP: {fp} is at status: {st}"" .format(fp=floating_ip, st=status)) def _check_tenant_network_connectivity(self, server, username, private_key, should_connect=True, servers_for_debug=None): if not CONF.network.project_networks_reachable: msg = 'Tenant networks not configured to be reachable.' LOG.info(msg) return # The target login is assumed to have been configured for # key-based authentication by cloud-init. try: for net_name, ip_addresses in server['addresses'].items(): for ip_address in ip_addresses: self.check_vm_connectivity(ip_address['addr'], username, private_key, should_connect=should_connect) except Exception as e: LOG.exception('Tenant network connectivity check failed') self._log_console_output(servers_for_debug) self._log_net_info(e) raise def _check_remote_connectivity(self, source, dest, should_succeed=True, nic=None): """"""check ping server via source ssh connection :param source: RemoteClient: an ssh connection from which to ping :param dest: and IP to ping against :param should_succeed: boolean should ping succeed or not :param nic: specific network interface to ping from :returns: boolean -- should_succeed == ping :returns: ping is false if ping failed """""" def ping_remote(): try: source.ping_host(dest, nic=nic) except lib_exc.SSHExecCommandFailed: LOG.warning('Failed to ping IP: %s via a ssh connection ' 'from: %s.', dest, source.ssh_client.host) return not should_succeed return should_succeed return test_utils.call_until_true(ping_remote, CONF.validation.ping_timeout, 1) def _create_security_group(self, security_group_rules_client=None, tenant_id=None, namestart='secgroup-smoke', security_groups_client=None): if security_group_rules_client is None: security_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if tenant_id is None: tenant_id = security_groups_client.tenant_id secgroup = self._create_empty_security_group( namestart=namestart, client=security_groups_client, tenant_id=tenant_id) # Add rules to the security group rules = self._create_loginable_secgroup_rule( security_group_rules_client=security_group_rules_client, secgroup=secgroup, security_groups_client=security_groups_client) for rule in rules: self.assertEqual(tenant_id, rule['tenant_id']) self.assertEqual(secgroup['id'], rule['security_group_id']) return secgroup def _create_empty_security_group(self, client=None, tenant_id=None, namestart='secgroup-smoke'): """"""Create a security group without rules. Default rules will be created: - IPv4 egress to any - IPv6 egress to any :param tenant_id: secgroup will be created in this tenant :returns: the created security group """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sg_name = data_utils.rand_name(namestart) sg_desc = sg_name + "" description"" sg_dict = dict(name=sg_name, description=sg_desc) sg_dict['tenant_id'] = tenant_id result = client.create_security_group(**sg_dict) secgroup = result['security_group'] self.assertEqual(secgroup['name'], sg_name) self.assertEqual(tenant_id, secgroup['tenant_id']) self.assertEqual(secgroup['description'], sg_desc) self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_security_group, secgroup['id']) return secgroup def _default_security_group(self, client=None, tenant_id=None): """"""Get default secgroup for given tenant_id. :returns: default secgroup for given tenant """""" if client is None: client = self.security_groups_client if not tenant_id: tenant_id = client.tenant_id sgs = [ sg for sg in list(client.list_security_groups().values())[0] if sg['tenant_id'] == tenant_id and sg['name'] == 'default' ] msg = ""No default security group for tenant %s."" % (tenant_id) self.assertGreater(len(sgs), 0, msg) return sgs[0] def _create_security_group_rule(self, secgroup=None, sec_group_rules_client=None, tenant_id=None, security_groups_client=None, **kwargs): """"""Create a rule from a dictionary of rule parameters. Create a rule in a secgroup. if secgroup not defined will search for default secgroup in tenant_id. :param secgroup: the security group. :param tenant_id: if secgroup not passed -- the tenant in which to search for default secgroup :param kwargs: a dictionary containing rule parameters: for example, to allow incoming ssh: rule = { direction: 'ingress' protocol:'tcp', port_range_min: 22, port_range_max: 22 } """""" if sec_group_rules_client is None: sec_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client if not tenant_id: tenant_id = security_groups_client.tenant_id if secgroup is None: secgroup = self._default_security_group( client=security_groups_client, tenant_id=tenant_id) ruleset = dict(security_group_id=secgroup['id'], tenant_id=secgroup['tenant_id']) ruleset.update(kwargs) sg_rule = sec_group_rules_client.create_security_group_rule(**ruleset) sg_rule = sg_rule['security_group_rule'] self.assertEqual(secgroup['tenant_id'], sg_rule['tenant_id']) self.assertEqual(secgroup['id'], sg_rule['security_group_id']) return sg_rule def _create_loginable_secgroup_rule(self, security_group_rules_client=None, secgroup=None, security_groups_client=None): """"""Create loginable security group rule This function will create: 1. egress and ingress tcp port 22 allow rule in order to allow ssh access for ipv4. 2. egress and ingress ipv6 icmp allow rule, in order to allow icmpv6. 3. egress and ingress ipv4 icmp allow rule, in order to allow icmpv4. """""" if security_group_rules_client is None: security_group_rules_client = self.security_group_rules_client if security_groups_client is None: security_groups_client = self.security_groups_client rules = [] rulesets = [ dict( # ssh protocol='tcp', port_range_min=22, port_range_max=22, ), dict( # ping protocol='icmp', ), dict( # ipv6-icmp for ping6 protocol='icmp', ethertype='IPv6', ) ] sec_group_rules_client = security_group_rules_client for ruleset in rulesets: for r_direction in ['ingress', 'egress']: ruleset['direction'] = r_direction try: sg_rule = self._create_security_group_rule( sec_group_rules_client=sec_group_rules_client, secgroup=secgroup, security_groups_client=security_groups_client, **ruleset) except lib_exc.Conflict as ex: # if rule already exist - skip rule and continue msg = 'Security group rule already exists' if msg not in ex._error_string: raise ex else: self.assertEqual(r_direction, sg_rule['direction']) rules.append(sg_rule) return rules def _get_router(self, client=None, tenant_id=None): """"""Retrieve a router for the given tenant id. If a public router has been configured, it will be returned. If a public router has not been configured, but a public network has, a tenant router will be created and returned that routes traffic to the public network. """""" if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id router_id = CONF.network.public_router_id network_id = CONF.network.public_network_id if router_id: body = client.show_router(router_id) return body['router'] elif network_id: router = self._create_router(client, tenant_id) kwargs = {'external_gateway_info': dict(network_id=network_id)} router = client.update_router(router['id'], **kwargs)['router'] return router else: raise Exception(""Neither of 'public_router_id' or "" ""'public_network_id' has been defined."") def _create_router(self, client=None, tenant_id=None, namestart='router-smoke'): if not client: client = self.routers_client if not tenant_id: tenant_id = client.tenant_id name = data_utils.rand_name(namestart) result = client.create_router(name=name, admin_state_up=True, tenant_id=tenant_id) router = result['router'] self.assertEqual(router['name'], name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, client.delete_router, router['id']) return router def _update_router_admin_state(self, router, admin_state_up): kwargs = dict(admin_state_up=admin_state_up) router = self.routers_client.update_router( router['id'], **kwargs)['router'] self.assertEqual(admin_state_up, router['admin_state_up']) def create_networks(self, networks_client=None, routers_client=None, subnets_client=None, tenant_id=None, dns_nameservers=None, port_security_enabled=True): """"""Create a network with a subnet connected to a router. The baremetal driver is a special case since all nodes are on the same shared network. :param tenant_id: id of tenant to create resources in. :param dns_nameservers: list of dns servers to send to subnet. :returns: network, subnet, router """""" if CONF.network.shared_physical_network: # NOTE(Shrews): This exception is for environments where tenant # credential isolation is available, but network separation is # not (the current baremetal case). Likely can be removed when # test account mgmt is reworked: # https://blueprints.launchpad.net/tempest/+spec/test-accounts if not CONF.compute.fixed_network_name: m = 'fixed_network_name must be specified in config' raise lib_exc.InvalidConfiguration(m) network = self._get_network_by_name( CONF.compute.fixed_network_name) router = None subnet = None else: network = self._create_network( networks_client=networks_client, tenant_id=tenant_id, port_security_enabled=port_security_enabled) router = self._get_router(client=routers_client, tenant_id=tenant_id) subnet_kwargs = dict(network=network, subnets_client=subnets_client, routers_client=routers_client) # use explicit check because empty list is a valid option if dns_nameservers is not None: subnet_kwargs['dns_nameservers'] = dns_nameservers subnet = self._create_subnet(**subnet_kwargs) if not routers_client: routers_client = self.routers_client router_id = router['id'] routers_client.add_router_interface(router_id, subnet_id=subnet['id']) # save a cleanup job to remove this association between # router and subnet self.addCleanup(test_utils.call_and_ignore_notfound_exc, routers_client.remove_router_interface, router_id, subnet_id=subnet['id']) return network, subnet, router class EncryptionScenarioTest(ScenarioTest): """"""Base class for encryption scenario tests"""""" credentials = ['primary', 'admin'] @classmethod def setup_clients(cls): super(EncryptionScenarioTest, cls).setup_clients() if CONF.volume_feature_enabled.api_v2: cls.admin_volume_types_client = cls.os_adm.volume_types_v2_client cls.admin_encryption_types_client =\ cls.os_adm.encryption_types_v2_client else: cls.admin_volume_types_client = cls.os_adm.volume_types_client cls.admin_encryption_types_client =\ cls.os_adm.encryption_types_client def create_encryption_type(self, client=None, type_id=None, provider=None, key_size=None, cipher=None, control_location=None): if not client: client = self.admin_encryption_types_client if not type_id: volume_type = self.create_volume_type() type_id = volume_type['id'] LOG.debug(""Creating an encryption type for volume type: %s"", type_id) client.create_encryption_type( type_id, provider=provider, key_size=key_size, cipher=cipher, control_location=control_location)['encryption'] class ObjectStorageScenarioTest(ScenarioTest): """"""Provide harness to do Object Storage scenario tests. Subclasses implement the tests that use the methods provided by this class. """""" @classmethod def skip_checks(cls): super(ObjectStorageScenarioTest, cls).skip_checks() if not CONF.service_available.swift: skip_msg = (""%s skipped as swift is not available"" % cls.__name__) raise cls.skipException(skip_msg) @classmethod def setup_credentials(cls): cls.set_network_resources() super(ObjectStorageScenarioTest, cls).setup_credentials() operator_role = CONF.object_storage.operator_role cls.os_operator = cls.get_client_manager(roles=[operator_role]) @classmethod def setup_clients(cls): super(ObjectStorageScenarioTest, cls).setup_clients() # Clients for Swift cls.account_client = cls.os_operator.account_client cls.container_client = cls.os_operator.container_client cls.object_client = cls.os_operator.object_client def get_swift_stat(self): """"""get swift status for our user account."""""" self.account_client.list_account_containers() LOG.debug('Swift status information obtained successfully') def create_container(self, container_name=None): name = container_name or data_utils.rand_name( 'swift-scenario-container') self.container_client.create_container(name) # look for the container to assure it is created self.list_and_check_container_objects(name) LOG.debug('Container %s created', name) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.container_client.delete_container, name) return name def delete_container(self, container_name): self.container_client.delete_container(container_name) LOG.debug('Container %s deleted', container_name) def upload_object_to_container(self, container_name, obj_name=None): obj_name = obj_name or data_utils.rand_name('swift-scenario-object') obj_data = data_utils.random_bytes() self.object_client.create_object(container_name, obj_name, obj_data) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.object_client.delete_object, container_name, obj_name) return obj_name, obj_data def delete_object(self, container_name, filename): self.object_client.delete_object(container_name, filename) self.list_and_check_container_objects(container_name, not_present_obj=[filename]) def list_and_check_container_objects(self, container_name, present_obj=None, not_present_obj=None): # List objects for a given container and assert which are present and # which are not. if present_obj is None: present_obj = [] if not_present_obj is None: not_present_obj = [] _, object_list = self.container_client.list_container_contents( container_name) if present_obj: for obj in present_obj: self.assertIn(obj, object_list) if not_present_obj: for obj in not_present_obj: self.assertNotIn(obj, object_list) def change_container_acl(self, container_name, acl): metadata_param = {'metadata_prefix': 'x-container-', 'metadata': {'read': acl}} self.container_client.update_container_metadata(container_name, **metadata_param) resp, _ = self.container_client.list_container_metadata(container_name) self.assertEqual(resp['x-container-read'], acl) def download_and_verify(self, container_name, obj_name, expected_data): _, obj = self.object_client.get_object(container_name, obj_name) self.assertEqual(obj, expected_data)",0,664
openstack%2Frally~master~Ibc1e1f4f554649d14b8fe4801557b83922ecefe3,openstack/rally,master,Ibc1e1f4f554649d14b8fe4801557b83922ecefe3,Improve Rally Logging (part 2),MERGED,2017-09-25 21:20:05.000000000,2017-10-06 02:15:04.000000000,2017-10-06 02:15:04.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 8871}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22348}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-09-25 21:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/577317fd77f0140230e6e486a7972d8da692d5ae', 'message': ""Improve Rally Logging (part 2)\n\n- Remove translations\n\n  Nobody is using translations for Rally and I don't think that\n  anybody is going to use it. Target auditory for Rally are\n  developers/operators which usually know well english.\n  For me this looks like waste of resources, performance\n  degradation (cause we are calling _()), complexity\n  (+1 thing that you need to know)\n\n- Pass to log already formatted strings\n\n  It's very bad because in case of wrong formatting, it\n  doesn't fail instead just writes errors to the logs,\n  as well information about trace is lost, so it's super\n  hard to fix it\n\n  Log wrapper doesn't allow to use LOG anymore for\n  formatting strings\n\n  All places are fixed\n\n- Improve logging of exceptions\n\nLOG.exception() already logs exception, which means it's bad idea to\npass str(e) to it. Instead we should provide clear description of what\nhappend. Improved few places to write warnings or exceptions in case\nof different level of logs. In few places just use LOG.exception\n\n- Part of log messages were improved and simplified\n\nChange-Id: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3\n""}, {'number': 2, 'created': '2017-09-26 20:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4ca672961a6d50304c8cf41cc0187eb7a9d85855', 'message': ""Improve Rally Logging (part 2)\n\n- Remove translations\n\n  Nobody is using translations for Rally and I don't think that\n  anybody is going to use it. Target auditory for Rally are\n  developers/operators which usually know well english.\n  For me this looks like waste of resources, performance\n  degradation (cause we are calling _()), complexity\n  (+1 thing that you need to know)\n\n- Pass to log already formatted strings\n\n  It's very bad because in case of wrong formatting, it\n  doesn't fail instead just writes errors to the logs,\n  as well information about trace is lost, so it's super\n  hard to fix it\n\n  Log wrapper doesn't allow to use LOG anymore for\n  formatting strings\n\n  All places are fixed\n\n- Improve logging of exceptions\n\nLOG.exception() already logs exception, which means it's bad idea to\npass str(e) to it. Instead we should provide clear description of what\nhappend. Improved few places to write warnings or exceptions in case\nof different level of logs. In few places just use LOG.exception\n\n- Part of log messages were improved and simplified\n\nChange-Id: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3\n""}, {'number': 3, 'created': '2017-09-27 19:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/cd3925d0affadbd15b18a067d41df57806d0d84c', 'message': ""Improve Rally Logging (part 2)\n\n- Remove translations\n\n  Nobody is using translations for Rally and I don't think that\n  anybody is going to use it. Target auditory for Rally are\n  developers/operators which usually know well english.\n  For me this looks like waste of resources, performance\n  degradation (cause we are calling _()), complexity\n  (+1 thing that you need to know)\n\n- Pass to log already formatted strings\n\n  It's very bad because in case of wrong formatting, it\n  doesn't fail instead just writes errors to the logs,\n  as well information about trace is lost, so it's super\n  hard to fix it\n\n  Log wrapper doesn't allow to use LOG anymore for\n  formatting strings\n\n  All places are fixed\n\n- Improve logging of exceptions\n\nLOG.exception() already logs exception, which means it's bad idea to\npass str(e) to it. Instead we should provide clear description of what\nhappend. Improved few places to write warnings or exceptions in case\nof different level of logs. In few places just use LOG.exception\n\n- Part of log messages were improved and simplified\n\nChange-Id: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3\n""}, {'number': 4, 'created': '2017-09-27 19:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/31a1fdbe0766726c43493cb25a3124f11037047e', 'message': ""Improve Rally Logging (part 2)\n\n- Remove translations\n\n  Nobody is using translations for Rally and I don't think that\n  anybody is going to use it. Target auditory for Rally are\n  developers/operators which usually know well english.\n  For me this looks like waste of resources, performance\n  degradation (cause we are calling _()), complexity\n  (+1 thing that you need to know)\n\n- Pass to log already formatted strings\n\n  It's very bad because in case of wrong formatting, it\n  doesn't fail instead just writes errors to the logs,\n  as well information about trace is lost, so it's super\n  hard to fix it\n\n  Log wrapper doesn't allow to use LOG anymore for\n  formatting strings\n\n  All places are fixed\n\n- Improve logging of exceptions\n\nLOG.exception() already logs exception, which means it's bad idea to\npass str(e) to it. Instead we should provide clear description of what\nhappend. Improved few places to write warnings or exceptions in case\nof different level of logs. In few places just use LOG.exception\n\n- Part of log messages were improved and simplified\n\nChange-Id: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3\n""}, {'number': 5, 'created': '2017-09-27 20:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/27d21b42c421ebd900af35319a78c6000e551082', 'message': ""Improve Rally Logging (part 2)\n\n- Remove translations\n\n  Nobody is using translations for Rally and I don't think that\n  anybody is going to use it. Target auditory for Rally are\n  developers/operators which usually know well english.\n  For me this looks like waste of resources, performance\n  degradation (cause we are calling _()), complexity\n  (+1 thing that you need to know)\n\n- Pass to log already formatted strings\n\n  It's very bad because in case of wrong formatting, it\n  doesn't fail instead just writes errors to the logs,\n  as well information about trace is lost, so it's super\n  hard to fix it\n\n  Log wrapper doesn't allow to use LOG anymore for\n  formatting strings\n\n  All places are fixed\n\n- Improve logging of exceptions\n\nLOG.exception() already logs exception, which means it's bad idea to\npass str(e) to it. Instead we should provide clear description of what\nhappend. Improved few places to write warnings or exceptions in case\nof different level of logs. In few places just use LOG.exception\n\n- Part of log messages were improved and simplified\n\nChange-Id: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3\n""}, {'number': 6, 'created': '2017-10-02 09:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/48f4f0f9761ed9b668dfcc1dccf30181f76849e1', 'message': ""Improve Rally Logging (part 2)\n\n- Remove translations\n\n  Nobody is using translations for Rally and I don't think that\n  anybody is going to use it. Target auditory for Rally are\n  developers/operators which usually know well english.\n  For me this looks like waste of resources, performance\n  degradation (cause we are calling _()), complexity\n  (+1 thing that you need to know)\n\n- Pass to log already formatted strings\n\n  It's very bad because in case of wrong formatting, it\n  doesn't fail instead just writes errors to the logs,\n  as well information about trace is lost, so it's super\n  hard to fix it\n\n  Log wrapper doesn't allow to use LOG anymore for\n  formatting strings\n\n  All places are fixed\n\n- Improve logging of exceptions\n\nLOG.exception() already logs exception, which means it's bad idea to\npass str(e) to it. Instead we should provide clear description of what\nhappend. Improved few places to write warnings or exceptions in case\nof different level of logs. In few places just use LOG.exception\n\n- Part of log messages were improved and simplified\n\nChange-Id: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3\n""}, {'number': 7, 'created': '2017-10-03 07:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/64c099c18172947f2445c26c6377747d1c50c13f', 'message': ""Improve Rally Logging (part 2)\n\n- Remove translations\n\n  Nobody is using translations for Rally and I don't think that\n  anybody is going to use it. Target auditory for Rally are\n  developers/operators which usually know well english.\n  For me this looks like waste of resources, performance\n  degradation (cause we are calling _()), complexity\n  (+1 thing that you need to know)\n\n- Pass to log already formatted strings\n\n  It's very bad because in case of wrong formatting, it\n  doesn't fail instead just writes errors to the logs,\n  as well information about trace is lost, so it's super\n  hard to fix it\n\n  Log wrapper doesn't allow to use LOG anymore for\n  formatting strings\n\n  All places are fixed\n\n- Improve logging of exceptions\n\nLOG.exception() already logs exception, which means it's bad idea to\npass str(e) to it. Instead we should provide clear description of what\nhappend. Improved few places to write warnings or exceptions in case\nof different level of logs. In few places just use LOG.exception\n\n- Part of log messages were improved and simplified\n\nChange-Id: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3\n""}, {'number': 8, 'created': '2017-10-05 22:57:41.000000000', 'files': ['rally/cli/envutils.py', 'rally/verification/manager.py', 'rally/osclients.py', 'rally/cli/cliutils.py', 'doc/source/plugins/implementation/context_plugin.rst', 'rally/cli/commands/task.py', 'rally/exceptions.py', 'samples/plugins/sla/sla_plugin.py', 'rally/api.py', 'rally/verification/utils.py', 'rally/cli/commands/deployment.py', 'doc/source/plugins/implementation/sla_plugin.rst', 'rally/cli/commands/verify.py', 'tests/ci/sync_requirements.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/01289aa081f436c3fd17986908302786340a76ee', 'message': ""Improve Rally Logging (part 2)\n\n- Remove translations\n\n  Nobody is using translations for Rally and I don't think that\n  anybody is going to use it. Target auditory for Rally are\n  developers/operators which usually know well english.\n  For me this looks like waste of resources, performance\n  degradation (cause we are calling _()), complexity\n  (+1 thing that you need to know)\n\n- Pass to log already formatted strings\n\n  It's very bad because in case of wrong formatting, it\n  doesn't fail instead just writes errors to the logs,\n  as well information about trace is lost, so it's super\n  hard to fix it\n\n  Log wrapper doesn't allow to use LOG anymore for\n  formatting strings\n\n  All places are fixed\n\n- Improve logging of exceptions\n\nLOG.exception() already logs exception, which means it's bad idea to\npass str(e) to it. Instead we should provide clear description of what\nhappend. Improved few places to write warnings or exceptions in case\nof different level of logs. In few places just use LOG.exception\n\n- Part of log messages were improved and simplified\n\nDepends-On: If23d874e8b73de12ba2b8c4e028a55543af6381b\nChange-Id: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3\n""}]",4,507276,01289aa081f436c3fd17986908302786340a76ee,76,7,8,6172,,,0,"Improve Rally Logging (part 2)

- Remove translations

  Nobody is using translations for Rally and I don't think that
  anybody is going to use it. Target auditory for Rally are
  developers/operators which usually know well english.
  For me this looks like waste of resources, performance
  degradation (cause we are calling _()), complexity
  (+1 thing that you need to know)

- Pass to log already formatted strings

  It's very bad because in case of wrong formatting, it
  doesn't fail instead just writes errors to the logs,
  as well information about trace is lost, so it's super
  hard to fix it

  Log wrapper doesn't allow to use LOG anymore for
  formatting strings

  All places are fixed

- Improve logging of exceptions

LOG.exception() already logs exception, which means it's bad idea to
pass str(e) to it. Instead we should provide clear description of what
happend. Improved few places to write warnings or exceptions in case
of different level of logs. In few places just use LOG.exception

- Part of log messages were improved and simplified

Depends-On: If23d874e8b73de12ba2b8c4e028a55543af6381b
Change-Id: Ibc1e1f4f554649d14b8fe4801557b83922ecefe3
",git fetch https://review.opendev.org/openstack/rally refs/changes/76/507276/8 && git format-patch -1 --stdout FETCH_HEAD,"['rally/cli/envutils.py', 'rally/verification/manager.py', 'rally/osclients.py', 'rally/cli/cliutils.py', 'doc/source/plugins/implementation/context_plugin.rst', 'rally/cli/commands/task.py', 'rally/exceptions.py', 'samples/plugins/sla/sla_plugin.py', 'rally/api.py', 'rally/verification/utils.py', 'rally/cli/commands/deployment.py', 'doc/source/plugins/implementation/sla_plugin.rst', 'rally/cli/commands/verify.py', 'tests/ci/sync_requirements.py']",14,577317fd77f0140230e6e486a7972d8da692d5ae,improve_logs," LOG.debug(""Try to read '%s'."" % file_name) LOG.debug(""Try to obtain global-requirements from %s"" % url) LOG.info(""Obtaining latest versions of packages for %s."" % filename)"," LOG.debug(""Try to read '%s'."", file_name) LOG.debug(""Try to obtain global-requirements from %s"", url) LOG.info(""Obtaining latest versions of packages for %s."", filename)",256,274
openstack%2Fhorizon~master~I7d2e873a1142483ef652cb44cb2b36f56ae40e36,openstack/horizon,master,I7d2e873a1142483ef652cb44cb2b36f56ae40e36,Imported Translations from Zanata,MERGED,2017-10-04 15:01:40.000000000,2017-10-06 02:13:33.000000000,2017-10-06 02:13:33.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 11885}, {'_account_id': 17765}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 15:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2d56a4af88853f4d1204af4ee1fecf83bde15a77', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7d2e873a1142483ef652cb44cb2b36f56ae40e36\n'}, {'number': 2, 'created': '2017-10-05 06:52:34.000000000', 'files': ['openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9c303e3aa758ffcd0245e29e5eac89b9a3996f70', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I7d2e873a1142483ef652cb44cb2b36f56ae40e36\n'}]",0,509498,9c303e3aa758ffcd0245e29e5eac89b9a3996f70,13,5,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I7d2e873a1142483ef652cb44cb2b36f56ae40e36
",git fetch https://review.opendev.org/openstack/horizon refs/changes/98/509498/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/ru/LC_MESSAGES/django.po', 'horizon/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/djangojs.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po']",7,2d56a4af88853f4d1204af4ee1fecf83bde15a77,zanata/translations,"""POT-Creation-Date: 2017-10-04 12:42+0000\n""""PO-Revision-Date: 2017-10-04 11:59+0000\n""msgid ""12.0.0"" msgstr ""12.0.0"" ""Added two charts to show the Number of Volumes and Total Volume Storage "" ""quotas on launch instance modal when cinder is enabled."" msgstr """" ""Zwei Tabellen hinzugefgt, die die Anzahl der Datentrger und die gesamten "" ""Datentrger Storage Kontingente beim Starte Instanz Modal anzeigen, wenn "" ""Cinder aktiviert ist."" msgid """"msgid """" ""Editing flavors is deprecated and may be removed from the 'R' cycle onwards."" msgstr """" ""Die Bearbeitung von Varianten gilt als veraltet und kann ab dem 'R' Zyklus "" ""entfernt werden."" ""Most of the documentation has been reorganised and updated, or rewritten "" ""entirely, with the aim of promoting discoverability and ensuring all content "" ""is relevant and up to date."" msgstr """" ""Der grte Teil der Dokumentation wurde neu organisiert und aktualisiert "" ""oder komplett neu geschrieben, zur besseren Auffindbarkeit und um sicher zu "" ""stellen, dass der Inhalt relevant und aktuell ist."" msgid """"msgid ""Prelude"" msgstr ""Einleitung"" msgid """" ""Security group association per port is now shown in the port detail page. In "" ""Neutron different security groups can be associated on different ports of a "" ""same server instance, but previously it cannot be referred in Horizon."" msgstr """" ""Die Zuweisung der Sicherheitsgruppen pro Port wird jetzt in der Port-Details "" ""Seite angezeigt. In Neutron knnen verschiedene Sicherheitsgruppen "" ""verschiedenen Ports der selben Serverinstanz zugewiesen werden, aber es "" ""konnte in Horizon bislang nicht dargestellt werden."" ""The ability to edit flavors is disabled by default. See "" ""``ENABLE_FLAVOR_EDIT`` in the settings documentation for more information."" msgstr """" ""Die Mglichkeit zum bearbeiten von Varianten wurde als Standard deaktiviert. "" ""Lesen Sie ``ENABLE_FLAVOR_EDIT`` in der Dokumentation zu den Einstellung fr "" ""weitere Informationen."" msgid """"""The configuration documentation for ``supported_vnic_types`` in "" ""``OPENSTACK_NEUTRON_NETWORK`` has been updated to help an operator decide "" ""which VNIC types should be available for users to choose from."" msgstr """" ""Die Konfigurationsdokumentation fr ``supported_vnic_types`` in "" ""``OPENSTACK_NEUTRON_NETWORK`` wurde aktualisiert, damit der Operator "" ""einfacher eine Entscheidung treffen kann, welche VNIC Typen fr Benutzer zur "" ""Verfgung gestellt werden sollen."" msgid """"","""POT-Creation-Date: 2017-08-31 18:27+0000\n""""PO-Revision-Date: 2017-06-26 12:01+0000\n""",559,23
openstack%2Finstack-undercloud~stable%2Fpike~Id4d4f62cd71e87503a99c8dad6f0aeef1e9dbdb3,openstack/instack-undercloud,stable/pike,Id4d4f62cd71e87503a99c8dad6f0aeef1e9dbdb3,Explicitly set event publishers to panko and gnocchi,MERGED,2017-10-04 15:04:21.000000000,2017-10-06 02:12:47.000000000,2017-10-06 02:12:46.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-10-04 15:04:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/678b92f8f7cb894fa07c363ab47ee8e0ece5e57d', 'message': 'Explicitly set event publishers to panko and gnocchi\n\nBy default puppet only sets gnocchi as the publisher, we also need\npanko, so events gets sent to both endpoints.\n\nChange-Id: Id4d4f62cd71e87503a99c8dad6f0aeef1e9dbdb3\n(cherry picked from commit 7ab4febf4f3d8030d0c2e6a1b14a2ac1cfc8c2eb)\n'}, {'number': 2, 'created': '2017-10-04 18:41:31.000000000', 'files': ['releasenotes/notes/set-event-publishers-6d687ba1c4235a21.yaml', 'elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/daf2d83154e16e2443a0945329ce6f42f7fcec88', 'message': 'Explicitly set event publishers to panko and gnocchi\n\nBy default puppet only sets gnocchi as the publisher, we also need\npanko, so events gets sent to both endpoints.\n\nCloses-bug: #1721367\n\nChange-Id: Id4d4f62cd71e87503a99c8dad6f0aeef1e9dbdb3\n(cherry picked from commit 7ab4febf4f3d8030d0c2e6a1b14a2ac1cfc8c2eb)\n'}]",1,509499,daf2d83154e16e2443a0945329ce6f42f7fcec88,12,4,2,6924,,,0,"Explicitly set event publishers to panko and gnocchi

By default puppet only sets gnocchi as the publisher, we also need
panko, so events gets sent to both endpoints.

Closes-bug: #1721367

Change-Id: Id4d4f62cd71e87503a99c8dad6f0aeef1e9dbdb3
(cherry picked from commit 7ab4febf4f3d8030d0c2e6a1b14a2ac1cfc8c2eb)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/99/509499/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/set-event-publishers-6d687ba1c4235a21.yaml', 'elements/puppet-stack-config/puppet-stack-config.yaml.template']",2,678b92f8f7cb894fa07c363ab47ee8e0ece5e57d,set-event-publishers-stable/pike,"ceilometer::agent::notification::event_pipeline_publishers: ['gnocchi://', 'panko://'] ceilometer::agent::notification::manage_event_pipeline: true",,7,0
openstack%2Ftripleo-common~master~Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e,openstack/tripleo-common,master,Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e,Updated from global requirements,MERGED,2017-09-13 13:05:23.000000000,2017-10-06 02:12:36.000000000,2017-10-06 02:12:36.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 13039}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-09-13 13:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d9c942b5011e49c9230cf0febb20eba7926ac01a', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 2, 'created': '2017-09-20 01:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9563fa3cb6e40a871c4acddc7f6462a9363fa053', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 3, 'created': '2017-09-20 03:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e2e7a984647dce2e64bcbe245cddeb59d2dccd8b', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 4, 'created': '2017-09-20 14:02:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e903e87c7cee98baa9d4ce9e58b56cc8f0bb3f9c', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 5, 'created': '2017-09-20 14:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0d9762ad163b571027766c1345eac430433d8d76', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 6, 'created': '2017-09-20 14:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/945a400a7286b78b1780fda1a1e33b1ab08f27c4', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 7, 'created': '2017-09-20 15:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3230a843bc5ffb6b3a14207e633535cdff71801', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 8, 'created': '2017-09-20 15:19:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2891d52968ab72c51cf172fed18495065b280a6f', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 9, 'created': '2017-09-20 15:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5e39440cecd25045ee28435d52f85cadd18a7ae5', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 10, 'created': '2017-09-20 15:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fded4506093f3b38445d667805be98ab58c152fd', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 11, 'created': '2017-09-20 16:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f3c93538e5d0a10dbae72fc7808efa4225da9f59', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 12, 'created': '2017-09-20 16:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a7e8dafce1abd4563ebf8b8b1013ade87f9a241', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 13, 'created': '2017-09-20 22:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6ec5b50effe33e57b5f72c4992822c0fd15eb166', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 14, 'created': '2017-09-20 22:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/25f7e483c27eb45d7b603daf55ea15326bf53428', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 15, 'created': '2017-09-21 00:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/10be423f6c02beb3bb367ac2799f36a8bbd47cf9', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 16, 'created': '2017-09-21 01:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/523a03d98dc8fd9e3e86bfaf07fa0a5b36091528', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 17, 'created': '2017-09-21 02:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9a51c1015358299d82df758d6da87c2f803e3899', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 18, 'created': '2017-09-21 03:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a9f32411f072f8f83323743461cadc0b00cbf9f6', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 19, 'created': '2017-09-21 03:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b4164bfde9ab91560be93a84df8add030150f169', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 20, 'created': '2017-09-21 03:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/39c27026c6216746e47e75fd8960a260e90b1719', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 21, 'created': '2017-09-21 12:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/04b74f9b5e1f3180d442676e280479b15dc7c0ae', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 22, 'created': '2017-09-21 13:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/63ca25eef45d63974c08b79e1dbaed33d7532aa0', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 23, 'created': '2017-09-21 13:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8807ea151d6e5677180f736e47b3b0a7724f1243', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 24, 'created': '2017-09-21 21:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b4b13a2cc234d509f6c2135a7ae5e54766c849c4', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 25, 'created': '2017-09-21 21:19:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/df13d10cc8bcc43bd5dc2619ecf4375f7a4d3bcd', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 26, 'created': '2017-09-21 21:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d2f7c440dda3545c17907b4b7c9ed4d06da2777b', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 27, 'created': '2017-09-22 13:04:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c94fd29e9d597a26976c974c818f19c2e8bf94ab', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 28, 'created': '2017-09-23 06:10:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/48fcdd54cb89ce7535b2e15107eb0c3068f6dc52', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 29, 'created': '2017-09-24 12:30:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fa3235907c87b46bafb93627b85017fc7843257c', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 30, 'created': '2017-09-25 19:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/94279bfdcc8613b373d66825becd44223248ca8f', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 31, 'created': '2017-09-26 00:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f8323500a5fa69cefa6c40ad7b1f22f2e078cb42', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 32, 'created': '2017-09-26 00:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0175e80b5272cd91b29f47371161bb864d111538', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 33, 'created': '2017-09-26 01:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bcf8b01cbcc7aad7ad50f77636c74415f56b7a00', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 34, 'created': '2017-09-26 01:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab8d9f26665eecc57b5e2ebe269f616732761dc7', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 35, 'created': '2017-09-26 02:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7a42a4eddc8d08283792e3a4b230082e079f3c1c', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 36, 'created': '2017-09-26 03:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f789e6ac06e9d92f701a776248dc78f44ed1e67a', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 37, 'created': '2017-09-26 03:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c56ab488739c7fe0fe20fece0a072196e78a95ec', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 38, 'created': '2017-09-26 03:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0c535e6bb53eff8afa19937feccd35160b8214fc', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 39, 'created': '2017-09-26 12:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2cc1288bbaf48342c5bec920615c0d9ecdbc3d5a', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 40, 'created': '2017-09-26 12:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/73010f1ab56065b9b6c3fc8a2888f3e9ca2de696', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 41, 'created': '2017-09-26 13:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9d9a374d66c64dbf41d7842f206b51e8a60ab9a9', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 42, 'created': '2017-09-26 13:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a54e74b3a7277a497468c4ce87b1a0d8f838a637', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 43, 'created': '2017-09-26 15:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6af139d4899be80ca295e83af5ff22c8a7a54a21', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 44, 'created': '2017-09-27 12:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f0dec2d46b27b2cf65443c666feaebb898229062', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 45, 'created': '2017-09-27 13:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/19eed07486d4075d2ebc2b09de294b08133f9b56', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 46, 'created': '2017-09-27 13:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0222f678fb1f2e226a54593bcc6ab6acf3d8bf00', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 47, 'created': '2017-09-27 13:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/177614912d372ead7cc997301226d2bdb695fad5', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 48, 'created': '2017-09-27 17:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/60a51a712d5999649fa591c3c7dc801ff973ca08', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 49, 'created': '2017-09-28 00:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/31ae382a0a2759be806f908f0a98a54766794b53', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 50, 'created': '2017-09-28 00:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a0ef0557035166e52d6d234de3a4793b05bacfc5', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 51, 'created': '2017-09-28 00:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2c93ddb77505592b271e0220754a2a5f38319313', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 52, 'created': '2017-09-28 02:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0ecea8ea75027475fb7bbc2b185759dfeead9aaa', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 53, 'created': '2017-09-28 06:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fd47ac1c60e1dcfd8550af79bb3bfe1f405f55cc', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 54, 'created': '2017-09-28 13:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/65b9d2180306c07829f07cfc2602cd59e445e6e1', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 55, 'created': '2017-09-28 14:11:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a3b1df7130836058a1b075d017547ec1db56ac8e', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 56, 'created': '2017-10-04 13:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/80eec5905924e431a0765ca2db4e617c790335a0', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 57, 'created': '2017-10-05 01:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7e50145c1d1b7fdf2c1350ac51a652b6cefc3e8f', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 58, 'created': '2017-10-05 02:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a0f6995aa183336ce391a94f0853b80840bc2cb', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 59, 'created': '2017-10-05 03:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/63b2910a12e8bf0cc0c231b8311e991462d059d1', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 60, 'created': '2017-10-05 03:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/302339d549b4ff74c37703332f9fc62c04b66be8', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 61, 'created': '2017-10-05 03:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7fd274b9f54749ebdac7edf1148c5f531ead6e85', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 62, 'created': '2017-10-05 04:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8345bfa8a102945e40d566c2566f4a1526499107', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 63, 'created': '2017-10-05 04:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/14fb19d43107b030de6b7008fc3ddb650da1c8e5', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 64, 'created': '2017-10-05 06:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/022043b20d93e1278fa4ee824f8f21765289793f', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 65, 'created': '2017-10-05 13:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/30f74438f754e0b9506bae548748e8476f90f35f', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 66, 'created': '2017-10-05 17:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/535be3c0828983300534077850bcfc070e657fbb', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 67, 'created': '2017-10-05 17:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/39eec263a57bdafe0273d1267b1c95f93b9b6b0b', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}, {'number': 68, 'created': '2017-10-05 19:02:58.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/984487a8395387fb175dc97fb50fe6d2c80a672c', 'message': 'Updated from global requirements\n\nChange-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e\n'}]",0,503679,984487a8395387fb175dc97fb50fe6d2c80a672c,194,9,68,11131,,,0,"Updated from global requirements

Change-Id: Ie235dfe8aa91a41d9258a054d0b8325b133cbc6e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/79/503679/15 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,d9c942b5011e49c9230cf0febb20eba7926ac01a,openstack/requirements,openstackdocstheme>=1.17.0 # Apache-2.0,openstackdocstheme>=1.16.0 # Apache-2.0,1,1
openstack%2Ftripleo-quickstart~master~I90f859198ec2bbb193faba5d5cca6f23e2b30d60,openstack/tripleo-quickstart,master,I90f859198ec2bbb193faba5d5cca6f23e2b30d60,add pike release,MERGED,2017-09-28 15:05:28.000000000,2017-10-06 02:12:30.000000000,2017-10-06 02:12:29.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-09-28 15:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c0c9cc6fb5630fa48fbdaa9b07d902aa9849d5d4', 'message': 'add pike release\n\nThe pike release file is required outside of the tripleo-ci config\n\nChange-Id: I90f859198ec2bbb193faba5d5cca6f23e2b30d60\n'}, {'number': 2, 'created': '2017-10-05 17:10:04.000000000', 'files': ['config/release/trunk/pike.yml', 'config/release/pike.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7f190f8dd2c090ae2fd71a0a9334a2c2d9fdc0c2', 'message': 'add pike release\n\nThe pike release file is required outside of the tripleo-ci config\n\nChange-Id: I90f859198ec2bbb193faba5d5cca6f23e2b30d60\n'}]",0,508198,7f190f8dd2c090ae2fd71a0a9334a2c2d9fdc0c2,19,10,2,9592,,,0,"add pike release

The pike release file is required outside of the tripleo-ci config

Change-Id: I90f859198ec2bbb193faba5d5cca6f23e2b30d60
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/98/508198/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/pike.yml'],1,c0c9cc6fb5630fa48fbdaa9b07d902aa9849d5d4,I90f859198ec2bbb193faba5d5cca6f23e2b30d60,release: pike dlrn_hash: current-tripleo-rdo undercloud_image_url: http://images.rdoproject.org/pike/rdo_trunk/current-tripleo/stable/undercloud.qcow2 overcloud_image_url: http://images.rdoproject.org/pike/rdo_trunk/current-tripleo/stable/overcloud-full.tar ipa_image_url: http://images.rdoproject.org/pike/rdo_trunk/current-tripleo/stable/ironic-python-agent.tar repos: - type: generic reponame: delorean filename: delorean.repo baseurl: https://trunk.rdoproject.org/centos7-pike/{{ dlrn_hash }}/ priority: 20 - type: file filename: delorean-deps.repo down_url: https://trunk.rdoproject.org/centos7-pike/delorean-deps.repo - type: package pkg_name: centos-release-ceph-jewel custom_cmd: 'sudo yum install -y --enablerepo=extras' repo_cmd_after: | sudo yum-config-manager --save --setopt centos-ceph-jewel.gpgcheck=0 sudo yum repolist; sudo yum update -y ,,25,0
openstack%2Finstack-undercloud~master~I0dcdfe204587dac7922aee0726285e5c4f41aaf5,openstack/instack-undercloud,master,I0dcdfe204587dac7922aee0726285e5c4f41aaf5,"Revert ""Configure all OpenStack services with default domain""",MERGED,2017-10-05 17:00:24.000000000,2017-10-06 02:12:18.000000000,2017-10-06 02:12:18.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 17:00:24.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp', 'releasenotes/notes/domain_params-63ef884e1ee154c0.yaml'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/a1f85e84c40886bba510f750564601d2a6e903de', 'message': 'Revert ""Configure all OpenStack services with default domain""\n\nThe resource managed in Juan\'s patch is ignored. We could force it with spaceship <||> but the right and Puppet way to do it, is with Hiera. I\'m reverting this patch and I\'ll propose another one like I did in my early patchsets with Hiera (and correct parameters this time).\n\nThis reverts commit 003e373b04c3eaf4c5daade2ef2a3c3324b24abd.\n\nChange-Id: I0dcdfe204587dac7922aee0726285e5c4f41aaf5\n'}]",0,509837,a1f85e84c40886bba510f750564601d2a6e903de,9,9,1,3153,,,0,"Revert ""Configure all OpenStack services with default domain""

The resource managed in Juan's patch is ignored. We could force it with spaceship <||> but the right and Puppet way to do it, is with Hiera. I'm reverting this patch and I'll propose another one like I did in my early patchsets with Hiera (and correct parameters this time).

This reverts commit 003e373b04c3eaf4c5daade2ef2a3c3324b24abd.

Change-Id: I0dcdfe204587dac7922aee0726285e5c4f41aaf5
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/37/509837/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-stack-config/puppet-stack-config.pp', 'releasenotes/notes/domain_params-63ef884e1ee154c0.yaml']",2,a1f85e84c40886bba510f750564601d2a6e903de,bug/1721366,,--- issues: - | Keystone v2.0 APIs were removed so we now need to configure `project_domain_name` and `user_domain_name` to enable v3 API. We're using the Default domain since it was already in-use. ,0,11
openstack%2Ftripleo-quickstart~master~Iecb2d07e4451eb97c958dcf19d9a76aa0982acef,openstack/tripleo-quickstart,master,Iecb2d07e4451eb97c958dcf19d9a76aa0982acef,Make the convert-image role more generic,MERGED,2017-10-02 12:47:50.000000000,2017-10-06 02:12:16.000000000,2017-10-06 02:12:16.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 21686}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-10-02 12:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8fc48bdd8a255c23c8c095c39e25a83cb74caacf', 'message': 'Make the convert-image role more generic\n\nSpecifically this patch adds knobs for controlling whether:\n- an update is run (convert_image_update)\n- what packages get removed (convert_image_remove_pkgs)\n- what packages get installed (convert_image_install_pkgs)\n- what tempest plugins get installed (convert_image_tempest-plugins)\n\nAll defaults for the above options are set to the current hardcoded\nvalues, so this is a no-op change wrt current configurations.\nHowever, it allows for new configurations to take advantage of this\nfeature.\n\nChange-Id: Iecb2d07e4451eb97c958dcf19d9a76aa0982acef\nRelated-Bug: 1719902\n'}, {'number': 2, 'created': '2017-10-02 12:52:53.000000000', 'files': ['roles/convert-image/templates/convert_image.sh.j2', 'roles/convert-image/README.md', 'releasenotes/notes/generic-convert-image-5605efaea6828aad.yaml', 'roles/convert-image/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a38e9635bb9eb8166fad6d72d881118cd3376767', 'message': 'Make the convert-image role more generic\n\nSpecifically this patch adds knobs for controlling whether:\n- an update is run (convert_image_update)\n- what packages get removed (convert_image_remove_pkgs)\n- what packages get installed (convert_image_install_pkgs)\n- what tempest plugins get installed (convert_image_tempest-plugins)\n\nAll defaults for the above options are set to the current hardcoded\nvalues, so this is a no-op change wrt current configurations.\nHowever, it allows for new configurations to take advantage of this\nfeature.\n\nChange-Id: Iecb2d07e4451eb97c958dcf19d9a76aa0982acef\nRelated-Bug: 1719902\n'}]",4,508868,a38e9635bb9eb8166fad6d72d881118cd3376767,28,10,2,12715,,,0,"Make the convert-image role more generic

Specifically this patch adds knobs for controlling whether:
- an update is run (convert_image_update)
- what packages get removed (convert_image_remove_pkgs)
- what packages get installed (convert_image_install_pkgs)
- what tempest plugins get installed (convert_image_tempest-plugins)

All defaults for the above options are set to the current hardcoded
values, so this is a no-op change wrt current configurations.
However, it allows for new configurations to take advantage of this
feature.

Change-Id: Iecb2d07e4451eb97c958dcf19d9a76aa0982acef
Related-Bug: 1719902
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/68/508868/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/convert-image/templates/convert_image.sh.j2', 'roles/convert-image/README.md', 'releasenotes/notes/generic-convert-image-5605efaea6828aad.yaml', 'roles/convert-image/defaults/main.yml']",4,8fc48bdd8a255c23c8c095c39e25a83cb74caacf,bug/1719902,"# Do a yum update when converting overcloud to undercloud convert_image_update: true # List of packages that should be removed from the overcloud image convert_image_remove_pkgs: - cloud-init - python-django-horizon - openstack-dashboard # List of packages that should be installed to convert overcloud to undercloud convert_image_install_pkgs: - python-tripleoclient # List of tempest plugins to install. This is separated from the other install # packages list, because it is allowed to fail if there is some issue # installing the tempest plugins. convert_image_tempest_plugins: - openstack-tempest - python-aodh-tests - python-ceilometer-tests - python-heat-tests - python-ironic-tests - python-keystone-tests - python-manila-tests - python-mistral-tests - python-neutron-tests - python-sahara-tests - python-zaqar-tests ",,64,6
openstack%2Ftripleo-heat-templates~master~I974409aa07fd6d3b6d843ba4b780d01a51058b43,openstack/tripleo-heat-templates,master,I974409aa07fd6d3b6d843ba4b780d01a51058b43,ovn: Provide the option to configure the integration bridge,MERGED,2017-09-28 11:22:19.000000000,2017-10-06 02:12:02.000000000,2017-10-06 02:12:02.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-28 11:22:19.000000000', 'files': ['puppet/services/ovn-controller.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f01c8db255e5fee0641814d8e7db86547500e58', 'message': 'ovn: Provide the option to configure the integration bridge\n\nThe default value of integration bridge if not configured is ""br-int"".\nThis is fine, but suppose if the user wants someother bridge then this\nconfiguration option will be useful.\n\nCloses-bug: #1720114\nDepends-On: I92a11ba02ca5066b2fa8bcc72955d62df60c9dfc\nChange-Id: I974409aa07fd6d3b6d843ba4b780d01a51058b43\n'}]",0,508118,4f01c8db255e5fee0641814d8e7db86547500e58,10,6,1,10237,,,0,"ovn: Provide the option to configure the integration bridge

The default value of integration bridge if not configured is ""br-int"".
This is fine, but suppose if the user wants someother bridge then this
configuration option will be useful.

Closes-bug: #1720114
Depends-On: I92a11ba02ca5066b2fa8bcc72955d62df60c9dfc
Change-Id: I974409aa07fd6d3b6d843ba4b780d01a51058b43
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/508118/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/ovn-controller.yaml'],1,4f01c8db255e5fee0641814d8e7db86547500e58,bug/1720114," OVNIntegrationBridge: description: > Name of the OVS bridge to use as integration bridge by OVN Controller. type: string default: ""br-int"" ovn::controller::ovn_bridge: {get_param: OVNIntegrationBridge}",,6,0
openstack%2Fswift~feature%2Fdeep~I72591d508a4b7db103c8bc9bdb1be4ac3d1be97b,openstack/swift,feature/deep,I72591d508a4b7db103c8bc9bdb1be4ac3d1be97b,Add Container Sharder to source docs,MERGED,2017-10-05 16:38:57.000000000,2017-10-06 02:11:31.000000000,2017-10-06 02:11:31.000000000,"[{'_account_id': 3}, {'_account_id': 7847}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-10-05 16:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1369e732adc66a83d6ead71ef608a87456467e34', 'message': 'Add Container Sharder to source docs\n\nChange-Id: I72591d508a4b7db103c8bc9bdb1be4ac3d1be97b\n'}, {'number': 2, 'created': '2017-10-05 18:26:37.000000000', 'files': ['doc/source/container.rst', 'doc/source/overview_container_sharding.rst', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4a12fea4fa6d125b7a5b0f27fbc7b167436292f6', 'message': 'Add Container Sharder to source docs\n\nChange-Id: I72591d508a4b7db103c8bc9bdb1be4ac3d1be97b\n'}]",0,509830,4a12fea4fa6d125b7a5b0f27fbc7b167436292f6,10,4,2,15343,,,0,"Add Container Sharder to source docs

Change-Id: I72591d508a4b7db103c8bc9bdb1be4ac3d1be97b
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/509830/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/container.rst', 'swift/container/sharder.py']",2,1369e732adc66a83d6ead71ef608a87456467e34,p-sharding-misplaced-objects," """"""Analyse a list of ShardRanges for a list of paths and gaps."," """"""Analyse the given list of ShardRanges for a list of paths, newest first, and gaps.",15,6
openstack%2Fswift~feature%2Fdeep~Ic97ab3fb9bf542a94c93bccd7dd6c11871ad5640,openstack/swift,feature/deep,Ic97ab3fb9bf542a94c93bccd7dd6c11871ad5640,split merge_items into merge_objects and merge_shard_ranges,MERGED,2017-10-05 18:01:50.000000000,2017-10-06 02:11:08.000000000,2017-10-06 02:11:08.000000000,"[{'_account_id': 3}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-10-05 18:01:50.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/cc9ffcd9a4ae44dd7592a67fbf61b1204e4ff65a', 'message': ""split merge_items into merge_objects and merge_shard_ranges\n\nIMHO there enough if's in the method to make it hard to grok and\nprobably hard to review. By having separate paths it is easier to\nsee that the object path is pretty much unchanged.\n\nChange-Id: Ic97ab3fb9bf542a94c93bccd7dd6c11871ad5640\n""}]",7,509857,cc9ffcd9a4ae44dd7592a67fbf61b1204e4ff65a,7,3,1,7847,,,0,"split merge_items into merge_objects and merge_shard_ranges

IMHO there enough if's in the method to make it hard to grok and
probably hard to review. By having separate paths it is easier to
see that the object path is pretty much unchanged.

Change-Id: Ic97ab3fb9bf542a94c93bccd7dd6c11871ad5640
",git fetch https://review.opendev.org/openstack/swift refs/changes/57/509857/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,cc9ffcd9a4ae44dd7592a67fbf61b1204e4ff65a,p-sharding-merge-items," def merge_objects(self, item_list, source=None): Merge items into the object table. 'meta_timestamp'} if isinstance(item['name'], six.text_type): item['name'] = item['name'].encode('utf-8') def _really_merge_items(conn): curs = conn.cursor() else: query_mod = '' curs.execute('BEGIN IMMEDIATE') # Get sqlite records for objects in item_list that already exist. for offset in range(0, len(item_list), SQLITE_ARG_LIMIT): chunk = [rec['name'] for rec in item_list[offset:offset + SQLITE_ARG_LIMIT]] ((rec[0], rec[6]), rec) for rec in curs.execute( 'SELECT name, created_at, size, content_type,' 'etag, deleted, storage_policy_index ' 'FROM object WHERE ' + query_mod + ' name IN (%s)' % ','.join('?' * len(chunk)), chunk)) for item in item_list: item_ident = (item['name'], item['storage_policy_index']) existing = self._record_to_dict(records.get(item_ident)) if update_new_item_from_existing(item, existing): if item_ident in records: # exists with older timestamp if item_ident in to_add: # duplicate entries in item_list update_new_item_from_existing(item, to_add[item_ident]) if to_delete: curs.executemany( 'DELETE FROM object WHERE ' + query_mod + 'name=? AND storage_policy_index=?', ((rec['name'], rec['storage_policy_index']) for rec in to_delete.values())) if to_add: curs.executemany( 'INSERT INTO object (name, created_at, size, content_type,' 'etag, deleted, storage_policy_index)' 'VALUES (?, ?, ?, ?, ?, ?, ?)', ((rec['name'], rec['created_at'], rec['size'], rec['content_type'], rec['etag'], rec['deleted'], rec['storage_policy_index']) for rec in to_add.values())) if source: def merge_shard_ranges(self, item_list): """""" Merge items into the object or shard ranges tables. :param item_list: list of dictionaries of {'name', 'created_at', 'lower', 'upper', 'object_count', 'bytes_used', 'meta_timestamp', 'deleted'} """""" for item in item_list: for col in ('name', 'lower', 'upper'): if isinstance(item[col], six.text_type): item[col] = item[col].encode('utf-8') def _really_merge_items(conn): curs = conn.cursor() curs.execute('BEGIN IMMEDIATE') keys = ('name', 'created_at', 'lower', 'upper', 'object_count', 'bytes_used', 'meta_timestamp', 'deleted') # Get rows for items that already exist. # We must chunk it up to avoid sqlite's limit of 999 args. records = {} for offset in range(0, len(item_list), SQLITE_ARG_LIMIT): chunk = [record['name'] for record in item_list[offset:offset + SQLITE_ARG_LIMIT]] records.update( (rec[0], rec) for rec in curs.execute( 'SELECT %s FROM shard_ranges ' 'WHERE deleted IN (0, 1) AND name IN (%s)' % (', '.join(keys), ','.join('?' * len(chunk))), chunk)) # Sort item_list into things that need adding and deleting, based # on results of created_at query. to_delete = {} to_add = {} for item in item_list: item_ident = item['name'] existing = records.get(item_ident) if existing: existing = dict(zip(keys, existing)) if merge_shards(item, existing): # exists with older timestamp if item_ident in records: to_delete[item_ident] = item # duplicate entries in item_list if item_ident in to_add: merge_shards(item, to_add[item_ident]) to_add[item_ident] = item # TODO: not relevant? ... # Now that all the to_add items are merged, they are either in # the form of incremented '+|-<count>' or absolute # '<count>'. If the former we need to increment before # we delete the current values. items = [i for i in to_add.values() if i.get('prefixed')] for item in items: self.update_shard_usage(item) if to_delete: curs.executemany( 'DELETE FROM shard_ranges WHERE deleted in (0, 1) ' 'AND name = ?', ((item['name'],) for item in to_delete.values())) if to_add: vals = ','.join('?' * len(keys)) curs.executemany( 'INSERT INTO shard_ranges %s VALUES (%s)' % (keys, vals), tuple([item[k] for k in keys] for item in to_add.values())) conn.commit() with self.get() as conn: return _really_merge_items(conn) def merge_items(self, item_list, source=None): shard_range_list = [] object_list = [] for item in item_list: if item.get('record_type') == RECORD_TYPE_SHARD_NODE: shard_range_list.append(item) else: object_list.append(item) if object_list: self.merge_objects(object_list, source) if shard_range_list: self.merge_shard_ranges(shard_range_list) "," def merge_items(self, item_list, source=None): Merge items into the object or shard ranges tables. 'meta_timestamp', 'record_type'} item.setdefault('record_type', RECORD_TYPE_OBJECT) cols = ['name'] if item['record_type'] == RECORD_TYPE_SHARD_NODE: cols += ['lower', 'upper'] for col in cols: if isinstance(item[col], six.text_type): item[col] = item[col].encode('utf-8') shard_range_list = [item for item in item_list if item['record_type'] == RECORD_TYPE_SHARD_NODE] item_list = [item for item in item_list if item['record_type'] == RECORD_TYPE_OBJECT] def get_records_object(curs, chunk, query_mod): sql = (('SELECT name, created_at, size, content_type,' 'etag, deleted, storage_policy_index ' 'FROM object ' 'WHERE %s name IN (%s)') % (query_mod, ','.join('?' * len(chunk)))) return (((record[0], record[6]), record) for record in curs.execute(sql, chunk)) def get_records_shard(curs, chunk, query_mod): sql = (('SELECT name, created_at, lower, upper, object_count, ' 'bytes_used, meta_timestamp, deleted ' 'FROM shard_ranges ' 'WHERE %s name IN (%s)') % (query_mod, ','.join('?' * len(chunk)))) return (((rec[0],), rec) for rec in curs.execute(sql, chunk)) def _merge_items(curs, rec_list, is_object=True): query_mod = '' if is_object: get_records = get_records_object keys = ('name', 'storage_policy_index') del_keys = ('name', 'storage_policy_index') add_keys = ('name', 'created_at', 'size', 'content_type', 'etag', 'deleted', 'storage_policy_index') transform_item = update_new_item_from_existing table = 'object' record_type = RECORD_TYPE_OBJECT else: get_records = get_records_shard keys = ('name',) del_keys = ('name',) add_keys = ('name', 'created_at', 'lower', 'upper', 'object_count', 'bytes_used', 'meta_timestamp', 'deleted') transform_item = merge_shards table = 'shard_ranges' record_type = RECORD_TYPE_SHARD_NODE # Get created_at times for objects in rec_list that already exist. for offset in range(0, len(rec_list), SQLITE_ARG_LIMIT): chunk = [record['name'] for record in rec_list[offset:offset + SQLITE_ARG_LIMIT]] get_records(curs, chunk, query_mod)) for item in rec_list: item_ident = tuple(item[key] for key in keys) existing = self._record_to_dict(records.get(item_ident), record_type=record_type) if transform_item(item, existing): # exists with older timestamp if item_ident in records: # duplicate entries in item_list if item_ident in to_add: transform_item(item, to_add[item_ident]) if not is_object: # Now that all the to_add items are merged, they are either in # the form of incremented '+|-<count>' or absolute # '<count>'. If the former we need to increment before # we delete the current values. items = [i for i in to_add.values() if i.get('prefixed')] for item in items: self.update_shard_usage(item) if to_delete: filters = ' AND '.join(['%s = ?' % key for key in del_keys]) sql = 'DELETE FROM %s WHERE %s%s' % (table, query_mod, filters) del_generator = (tuple([record[key] for key in del_keys]) for record in to_delete.values()) curs.executemany(sql, del_generator) if to_add: vals = ','.join('?' * len(add_keys)) sql = 'INSERT INTO %s %s VALUES (%s)' % (table, add_keys, vals) add_generator = (tuple([record[key] for key in add_keys]) for record in to_add.values()) curs.executemany(sql, add_generator) def _really_merge_items(conn): curs = conn.cursor() curs.execute('BEGIN IMMEDIATE') if item_list: _merge_items(curs, item_list) if shard_range_list: _merge_items(curs, shard_range_list, False) if source and item_list:",126,103
openstack%2Fnova~master~Ibb90571907cafcb649284e4ea30810a307f1737e,openstack/nova,master,Ibb90571907cafcb649284e4ea30810a307f1737e,fix unstable shelve offload functional tests,MERGED,2017-10-05 12:10:35.000000000,2017-10-06 02:06:05.000000000,2017-10-05 19:13:11.000000000,"[{'_account_id': 3}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-10-05 12:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/004a782bd5bda2fbabcbef761891a986cb6ea9cc', 'message': 'fix unstable shelve offload functional tests\n\nThe functional tests that are shelved offloaded instances and\nasserted that the resource allocation of the instance are\nfreed were unstable. These tests only waited for the instance\nstate to become SHELVED_OFFLOADED before checked the allocations.\nHowever the compute manager sets the instance state to\nSHELVED_OFFLOADED before deleting the allocations[1]. Therefore these\ntests were racy.\n\nThis patch adds and extra waiting for instance.shelve_offload.end\nnotification. This notifiation is emitted after the resource allocations\nare freed so this will make the tests stable.\n\n[1] https://github.com/openstack/nova/blob/e4f89ed5dd4259188d020749fa8fb1c77be2c03a/nova/compute/manager.py#L4502-L4521\n\nChange-Id: Ibb90571907cafcb649284e4ea30810a307f1737e\nCloses-Bug: #1721514\n'}, {'number': 2, 'created': '2017-10-05 15:26:28.000000000', 'files': ['nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b5dca17f74b7a789e16b78178ae5874a30f3e0da', 'message': 'fix unstable shelve offload functional tests\n\nThe functional tests that are shelved offloaded instances and\nasserted that the resource allocation of the instance are\nfreed were unstable. These tests only waited for the instance\nstate to become SHELVED_OFFLOADED before checked the allocations.\nHowever the compute manager sets the instance state to\nSHELVED_OFFLOADED before deleting the allocations[1]. Therefore these\ntests were racy.\n\nWith this patch the test will wait not only for the instance status to\nchange but also for the instance host to be nulled as that happens\nafter the resources are freed.\n\n[1] https://github.com/openstack/nova/blob/e4f89ed5dd4259188d020749fa8fb1c77be2c03a/nova/compute/manager.py#L4502-L4521\n\nChange-Id: Ibb90571907cafcb649284e4ea30810a307f1737e\nCloses-Bug: #1721514\n'}]",2,509759,b5dca17f74b7a789e16b78178ae5874a30f3e0da,21,10,2,9708,,,0,"fix unstable shelve offload functional tests

The functional tests that are shelved offloaded instances and
asserted that the resource allocation of the instance are
freed were unstable. These tests only waited for the instance
state to become SHELVED_OFFLOADED before checked the allocations.
However the compute manager sets the instance state to
SHELVED_OFFLOADED before deleting the allocations[1]. Therefore these
tests were racy.

With this patch the test will wait not only for the instance status to
change but also for the instance host to be nulled as that happens
after the resources are freed.

[1] https://github.com/openstack/nova/blob/e4f89ed5dd4259188d020749fa8fb1c77be2c03a/nova/compute/manager.py#L4502-L4521

Change-Id: Ibb90571907cafcb649284e4ea30810a307f1737e
Closes-Bug: #1721514
",git fetch https://review.opendev.org/openstack/nova refs/changes/59/509759/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_servers.py'],1,004a782bd5bda2fbabcbef761891a986cb6ea9cc,bug/1721514, fake_notifier.wait_for_versioned_notifications( 'instance.shelve_offload.end') fake_notifier.stub_notifier(self) self.addCleanup(fake_notifier.reset) fake_notifier.wait_for_versioned_notifications( 'instance.shelve_offload.end'),,6,0
openstack%2Fblazar~stable%2Fpike~I07a959b36578f3ec9188f5b86593bbbba6370b58,openstack/blazar,stable/pike,I07a959b36578f3ec9188f5b86593bbbba6370b58,Fix filter scheduler settings in DevStack plugin,MERGED,2017-10-03 07:38:57.000000000,2017-10-06 01:57:24.000000000,2017-10-06 01:57:24.000000000,"[{'_account_id': 3}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23840}]","[{'number': 1, 'created': '2017-10-03 07:38:57.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/blazar/commit/005e020e86a485bc8473b91d555e4004a5ed4af1', 'message': 'Fix filter scheduler settings in DevStack plugin\n\nSome necessary scheduler filters for instance reservation are not\nenabled by the DevStack plugin. This patch fixes the problem.\n\nChange-Id: I07a959b36578f3ec9188f5b86593bbbba6370b58\nCloses-Bug: #1719278\n'}]",0,509101,005e020e86a485bc8473b91d555e4004a5ed4af1,9,4,1,8878,,,0,"Fix filter scheduler settings in DevStack plugin

Some necessary scheduler filters for instance reservation are not
enabled by the DevStack plugin. This patch fixes the problem.

Change-Id: I07a959b36578f3ec9188f5b86593bbbba6370b58
Closes-Bug: #1719278
",git fetch https://review.opendev.org/openstack/blazar refs/changes/01/509101/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,005e020e86a485bc8473b91d555e4004a5ed4af1,bug/1719278-stable/pike," ACTUAL_FILTERS=""$ACTUAL_FILTERS,AggregateInstanceExtraSpecsFilter"" ACTUAL_FILTERS=""$ACTUAL_FILTERS,AggregateMultiTenancyIsolation"" ACTUAL_FILTERS=""$ACTUAL_FILTERS,ServerGroupAntiAffinityFilter"" ACTUAL_FILTERS=""$ACTUAL_FILTERS,BlazarFilter"" iniset $NOVA_CONF filter_scheduler enabled_filters $ACTUAL_FILTERS"," iniset $NOVA_CONF filter_scheduler enabled_filters ""$ACTUAL_FILTERS,AggregateInstanceExtraSpecsFilter"" iniset $NOVA_CONF filter_scheduler enabled_filters ""$ACTUAL_FILTERS,AggregateMultiTenancyIsolation"" iniset $NOVA_CONF filter_scheduler enabled_filters ""$ACTUAL_FILTERS,ServerGroupAntiAffinityFilter"" iniset $NOVA_CONF filter_scheduler enabled_filters ""$ACTUAL_FILTERS,BlazarFilter""",5,5
openstack%2Fkeystonemiddleware~master~Ibc6e3378aa7c851335bcb9abbcc31572e6cef9e7,openstack/keystonemiddleware,master,Ibc6e3378aa7c851335bcb9abbcc31572e6cef9e7,Issue a deprecation warning for validating PKI tokens,MERGED,2017-09-29 23:06:18.000000000,2017-10-06 01:57:16.000000000,2017-10-06 01:57:16.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 7191}, {'_account_id': 8482}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-29 23:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b00ddb79a9deb6b7bd2bfd0db548026d224b29c7', 'message': 'Issue a deprecation warning for validating PKI tokens\n\nPKI tokens have been deprecated and removed from keystone server. To get\nthem removed from auth_token middleware we need to deprecate it.\n\nWe issue the warning when a successful validation has occurred as all\nincoming tokens get checked for if we think they are PKI and tried to\ndecrypt.\n\nChange-Id: Ibc6e3378aa7c851335bcb9abbcc31572e6cef9e7\nbp: deprecated-as-of-queens\n'}, {'number': 2, 'created': '2017-10-02 21:46:42.000000000', 'files': ['keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/19e602c683583969c35d5e454bc41e02125ca455', 'message': 'Issue a deprecation warning for validating PKI tokens\n\nPKI tokens have been deprecated and removed from keystone server. To get\nthem removed from auth_token middleware we need to deprecate it.\n\nWe issue the warning when a successful validation has occurred as all\nincoming tokens get checked for if we think they are PKI and tried to\ndecrypt.\n\nChange-Id: Ibc6e3378aa7c851335bcb9abbcc31572e6cef9e7\nbp: deprecated-as-of-queens\n'}]",1,508631,19e602c683583969c35d5e454bc41e02125ca455,22,7,2,7191,,,0,"Issue a deprecation warning for validating PKI tokens

PKI tokens have been deprecated and removed from keystone server. To get
them removed from auth_token middleware we need to deprecate it.

We issue the warning when a successful validation has occurred as all
incoming tokens get checked for if we think they are PKI and tried to
decrypt.

Change-Id: Ibc6e3378aa7c851335bcb9abbcc31572e6cef9e7
bp: deprecated-as-of-queens
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/31/508631/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/auth_token/__init__.py'],1,b00ddb79a9deb6b7bd2bfd0db548026d224b29c7,bp/deprecated-as-of-queens, self.log.warning('auth_token middleware received a PKI/Z token. ' 'This form of token is deprecated and has been ' 'removed from keystone server and will be ' 'removed from auth_token middleware in the Rocky ' 'release. Please contact your administrator ' 'upgrading keystone and the token format.') ,,7,0
openstack%2Fblazar~master~I3d60e863951b7a97c8d07a6a5c52a513930266b4,openstack/blazar,master,I3d60e863951b7a97c8d07a6a5c52a513930266b4,Remove verbose configuration parameter from DevStack plugin,MERGED,2017-09-18 14:37:59.000000000,2017-10-06 01:53:15.000000000,2017-10-06 01:53:15.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 22348}, {'_account_id': 23840}]","[{'number': 1, 'created': '2017-09-18 14:37:59.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/blazar/commit/dbe6c7f59e417bcc749c4c628a4c8240d3f6dd39', 'message': 'Remove verbose configuration parameter from DevStack plugin\n\nEven though the verbose option has been removed from oslo.log for\nseveral months, our DevStack plugin was still setting the verbose\nconfiguration parameter for blazar.conf. This patch removes it.\n\nChange-Id: I3d60e863951b7a97c8d07a6a5c52a513930266b4\n'}]",0,504955,dbe6c7f59e417bcc749c4c628a4c8240d3f6dd39,14,4,1,15197,,,0,"Remove verbose configuration parameter from DevStack plugin

Even though the verbose option has been removed from oslo.log for
several months, our DevStack plugin was still setting the verbose
configuration parameter for blazar.conf. This patch removes it.

Change-Id: I3d60e863951b7a97c8d07a6a5c52a513930266b4
",git fetch https://review.opendev.org/openstack/blazar refs/changes/55/504955/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,dbe6c7f59e417bcc749c4c628a4c8240d3f6dd39,remove-verbose,,BLAZAR_VERBOSE=${BLAZAR_VERBOSE:-True},0,2
openstack%2Fneutron-lib~master~I4370383f662a5c70f26fab02b201773c2c70c01c,openstack/neutron-lib,master,I4370383f662a5c70f26fab02b201773c2c70c01c,Updated from global requirements,MERGED,2017-09-11 21:23:46.000000000,2017-10-06 01:45:27.000000000,2017-10-06 01:45:27.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 1653}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 7016}, {'_account_id': 7715}, {'_account_id': 22348}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-09-11 21:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d2fc3b80d2167c758a5020f01aad64d20f2eb463', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 2, 'created': '2017-09-11 21:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c42f8ea49edfa50769cb9c86d3e736dcc616c6d5', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 3, 'created': '2017-09-11 23:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/440675a1f821ad5c3892834cc38185b1d5be545a', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 4, 'created': '2017-09-12 23:37:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/75fb2f742ead42e54fb31d11f199ff1d5d7f8186', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 5, 'created': '2017-09-13 00:08:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/493d32a6e831a73c97bb524fe8b615ac28f33bd7', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 6, 'created': '2017-09-13 12:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/35a8b81c15c2e88a21170b781b3397d1592bec7c', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 7, 'created': '2017-09-16 23:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ef9617c705081a53be2054dbdbea33d85d72fa7e', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 8, 'created': '2017-09-20 01:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a56e24ff7b2b5daf7f6f8b4bbf3cca7ad0d883ef', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 9, 'created': '2017-09-20 03:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0f73c6135d409d85088d3ed61c25bf8ba1a9376d', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 10, 'created': '2017-09-20 13:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3f60313f88c2ccff5be0b9310b160fac17a9dd06', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 11, 'created': '2017-09-20 14:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fcd1f668dd85ed26bddd26c8db0f6d66957c37bc', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 12, 'created': '2017-09-20 14:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c0d82319e542633c4a50853e290f1137a6f5944f', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 13, 'created': '2017-09-20 14:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/da6a0a2ce1fcec8941a1b9693feea556915288ba', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 14, 'created': '2017-09-20 15:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0ba2491e7612a1e4320d1085c7ffd5886899ec26', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 15, 'created': '2017-09-20 15:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/69cadfe652f0d6dd386c9469025e6c8f68b38d37', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 16, 'created': '2017-09-20 15:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e97944c25b40e96db5eb1c7a0e2898c22bce1968', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 17, 'created': '2017-09-20 16:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bb2e5549ef31f1ba6d2a0eca944dec7e94637ce3', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 18, 'created': '2017-09-20 16:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0f2d89af13478b7b5e08ff29912faa2a82a58789', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 19, 'created': '2017-09-20 21:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e432725c257b69c508ac88acf1b5590b4c4b1074', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 20, 'created': '2017-09-20 22:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6d95c3ebbc758f6d78e9339762ec7d24ae75ac45', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 21, 'created': '2017-09-21 00:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b266b00743f55f84758b9afa2407ba2b21b4d83a', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 22, 'created': '2017-09-21 01:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5e6b69f660d2f8643a3a3c2e9109dc1694a04f04', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 23, 'created': '2017-09-21 02:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1b107e8ba65edd5cd883f93214c1988dd72450ab', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 24, 'created': '2017-09-21 03:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/719a052f041edb6ed29079022b6113c95e166bf8', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 25, 'created': '2017-09-21 03:25:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/79e99b9e8e20b14bc8e00e622d7ac62a5dca1b1d', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 26, 'created': '2017-09-21 03:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/af80fd57231b8a2e66941e8be628ae6ebe57afc4', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 27, 'created': '2017-09-21 12:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3ccbb21457a5311a45c076a6c942064a036112db', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 28, 'created': '2017-09-21 13:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/dcbd39c883c389a851b938271af1784a7531622f', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 29, 'created': '2017-09-21 13:33:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7e32c932c6cb0967ccc018ee36d668bedc6daab9', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 30, 'created': '2017-09-21 20:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2d66c60cc4f057724eebd155bbb0869c4f6a1b51', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 31, 'created': '2017-09-21 21:12:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/61752c1dc27ebaedd813fc6a9c8a7aa6a8bd1f6c', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 32, 'created': '2017-09-21 21:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bdc5c8919a4df53050cbe5d4f489b0336587e8f9', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 33, 'created': '2017-09-22 12:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cb090af1a6313cc03ebe5ef4aa504179fd028f83', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 34, 'created': '2017-09-23 06:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/39f4f5bc6bebb6683080eb70136b1600c07c0b87', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 35, 'created': '2017-09-24 12:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/718af94d8b98303e683fd7ae36fec96e833ada05', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 36, 'created': '2017-09-25 19:00:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6f5016946753f07fbcc8cb8a61dbbe478d6860b7', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 37, 'created': '2017-09-26 00:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/84e74a0a4756b4f25dbae6ff338d7dc78161569a', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 38, 'created': '2017-09-26 00:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a7daf05af1d5ec1d3035be75c4cd8cb937cd81bf', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 39, 'created': '2017-09-26 01:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c62c9647941ad47bca0744bb98cf0ca82d2d201f', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 40, 'created': '2017-09-26 01:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/822fa0330e91d2f68639b99f3372679eb4e5fa84', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 41, 'created': '2017-09-26 02:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4d35881471db43a20554982c45a06dde8e9d9bc9', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 42, 'created': '2017-09-26 02:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/477d888a22e3e74ba2a6420fb62082b97f4793a8', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 43, 'created': '2017-09-26 03:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b8537b8de80efc53684b7aa69c088e7dc711074e', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 44, 'created': '2017-09-26 03:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6618b6fe448fbd6454ee93365922da8e07984163', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 45, 'created': '2017-09-26 12:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ca011701765cb9d2b18d81e386c66c32dd4b2b7f', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 46, 'created': '2017-09-26 12:43:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/56f3cd6fdef66c6a2da88d672176172da75d7282', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 47, 'created': '2017-09-26 13:12:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/53ac3524325f8581f6d8b2a155f6bf0feae2c520', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 48, 'created': '2017-09-26 13:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8a3de37b83b83516908f6f89a6320f611d39d00c', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 49, 'created': '2017-09-26 15:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b080a89b31e34cd0c0f92dd3f62d1772543bbd23', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 50, 'created': '2017-09-27 12:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/04a218684c5f2c661fefd23ed457563803ea6c1f', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 51, 'created': '2017-09-27 13:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e5d14c371d689bfc412ef8b84deded2aa71562f3', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 52, 'created': '2017-09-27 13:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b20023a17b48c9e63c6823d5ea9ef93b05bcf32a', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 53, 'created': '2017-09-27 13:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c8b30b7b561b52aaa07cf7296ce08bdc8fd5fee9', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 54, 'created': '2017-09-27 17:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/98bc7e1312934d877168f4b5db9d7fe7f9ba104c', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 55, 'created': '2017-09-28 00:07:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2bafeb08ebe90fbbf11bd49d34248744ef9b4cbb', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 56, 'created': '2017-09-28 00:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f3da1ef73653749a1fbe4136ca01912335c4b776', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 57, 'created': '2017-09-28 00:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a0f9282d771d1d0c00e30a76f5c104475835827f', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 58, 'created': '2017-09-28 02:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b84de93c9935049f4aee8bbbfbb0e32792071be5', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 59, 'created': '2017-09-28 05:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/9baf99369964d353a3a9b3007206059412156d4a', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 60, 'created': '2017-09-28 13:05:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/355c9dc35bac09e905907def7e1e1e728c0a5cfc', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 61, 'created': '2017-09-28 14:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/28d613977f3d4981b90552c078e3f549f918ddf9', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 62, 'created': '2017-10-04 13:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b59c205784df6e3f08d24eb9b8541eda93dcc740', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 63, 'created': '2017-10-05 01:05:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/6313aed4ed7acca6fc9af6b90daf2936f30d060d', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 64, 'created': '2017-10-05 02:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/45618e5694b2167d3fee9b29b82a46886e375c6f', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 65, 'created': '2017-10-05 02:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/94174461a2354f1f2b10f45a0d4e8ebf1259acdb', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 66, 'created': '2017-10-05 03:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/ab111204ca92aa74968d126357141dfbdd628e26', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 67, 'created': '2017-10-05 03:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a1f02303d0ecba3f6547d988112501e1ec785725', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 68, 'created': '2017-10-05 03:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b77998bb50a57e7ac2805c7421e23689e3f47e98', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 69, 'created': '2017-10-05 04:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/0f4b6543d6d9d6297e8cb99a5efb4189f541982e', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 70, 'created': '2017-10-05 06:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/bf908ed2edd677b2b5c2655161760891600b556c', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 71, 'created': '2017-10-05 13:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b61fa847897a4a00b73016a90c620f17ab00987a', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 72, 'created': '2017-10-05 17:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7f7536fad761b803be35e16cf8b5e6f2d2854562', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 73, 'created': '2017-10-05 17:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4f3a3cfa65a71d14064c88ff00ba40330e575857', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}, {'number': 74, 'created': '2017-10-05 18:54:59.000000000', 'files': ['requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e499b08c017d418274f9ca87d85544fcd456bccd', 'message': 'Updated from global requirements\n\nChange-Id: I4370383f662a5c70f26fab02b201773c2c70c01c\n'}]",0,502698,e499b08c017d418274f9ca87d85544fcd456bccd,121,9,74,11131,,,0,"Updated from global requirements

Change-Id: I4370383f662a5c70f26fab02b201773c2c70c01c
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/98/502698/71 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt']",2,d2fc3b80d2167c758a5020f01aad64d20f2eb463,openstack/requirements,os-api-ref>=1.4.0 # Apache-2.0 os-testr>=0.8.2 # Apache-2.0,os-api-ref>=1.0.0 # Apache-2.0 os-testr>=0.8.0 # Apache-2.0,9,9
openstack%2Frally~master~If23d874e8b73de12ba2b8c4e028a55543af6381b,openstack/rally,master,If23d874e8b73de12ba2b8c4e028a55543af6381b,[CI] Unblock CI by introducing Nova VMs cleanup bug,MERGED,2017-10-05 22:45:11.000000000,2017-10-06 01:30:34.000000000,2017-10-06 01:30:34.000000000,"[{'_account_id': 3}, {'_account_id': 6172}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-10-05 22:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/dc16c31d919b303e581d45666b94afa7690d7ca2', 'message': '[CI] Unblock CI by introducing Nova VMs cleanup bug\n\nThis bug removes limit=-1 that is broken at the moment and hangs out.\n\nBy removing it we will remove only 1000 servers.\nWe are going to revert this patch as soon as Nova is fixed\n\nChange-Id: If23d874e8b73de12ba2b8c4e028a55543af6381b\n'}, {'number': 2, 'created': '2017-10-05 22:54:56.000000000', 'files': ['tests/unit/plugins/openstack/cleanup/test_resources.py', 'rally/plugins/openstack/cleanup/resources.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/30294bcafd6310280fadf6c4ea1e68bd9c38d4b1', 'message': '[CI] Unblock CI by introducing Nova VMs cleanup bug\n\nThis bug removes limit=-1 that is broken at the moment and hangs out.\n\nBy removing it we will remove only 1000 servers.\nWe are going to revert this patch as soon as Nova is fixed\n\nChange-Id: If23d874e8b73de12ba2b8c4e028a55543af6381b\n'}]",0,509929,30294bcafd6310280fadf6c4ea1e68bd9c38d4b1,9,3,2,6172,,,0,"[CI] Unblock CI by introducing Nova VMs cleanup bug

This bug removes limit=-1 that is broken at the moment and hangs out.

By removing it we will remove only 1000 servers.
We are going to revert this patch as soon as Nova is fixed

Change-Id: If23d874e8b73de12ba2b8c4e028a55543af6381b
",git fetch https://review.opendev.org/openstack/rally refs/changes/29/509929/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/plugins/openstack/cleanup/resources.py'],1,dc16c31d919b303e581d45666b94afa7690d7ca2,bp/avlovic, # FIX(boris-42): Use limit=-1 when it's fixed return self._manager().list(), return self._manager().list(limit=-1),2,1
openstack%2Fqinling~master~I68c608a1f25f1008e13bff33325e7cd9914653ae,openstack/qinling,master,I68c608a1f25f1008e13bff33325e7cd9914653ae,Create trust for functions,MERGED,2017-10-05 21:57:21.000000000,2017-10-06 01:30:06.000000000,2017-10-06 01:30:06.000000000,"[{'_account_id': 3}, {'_account_id': 6732}]","[{'number': 1, 'created': '2017-10-05 21:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/qinling/commit/8901e69a6ef0303915d87bc1415f5b27b03a6ef0', 'message': 'Create trust for functions\n\nWhen user creates function, qinling will create trust for the function\nthat can be used when function is invoked. This feature is especially\nuseful when the function is invoked by a trustee user.\n\nRemove the trust for job accordingly because the job will always use\ntrust for the function.\n\nChange-Id: I68c608a1f25f1008e13bff33325e7cd9914653ae\n'}, {'number': 2, 'created': '2017-10-06 00:57:40.000000000', 'files': ['qinling/api/controllers/v1/function.py', 'qinling/orchestrator/kubernetes/manager.py', 'qinling/db/sqlalchemy/migration/alembic_migrations/versions/001_pike.py', 'qinling/engine/default_engine.py', 'qinling_tempest_plugin/tests/api/test_runtimes.py', 'qinling/exceptions.py', 'qinling_tempest_plugin/tests/api/test_functions.py', 'qinling/services/periodics.py', 'runtimes/python2/server.py', 'qinling/utils/jobs.py', 'qinling/utils/openstack/keystone.py', 'qinling_tempest_plugin/tests/api/test_executions.py', 'qinling_tempest_plugin/tests/scenario/test_basic_ops.py', 'qinling/db/sqlalchemy/models.py', 'qinling/api/controllers/v1/job.py'], 'web_link': 'https://opendev.org/openstack/qinling/commit/a7496f4e168fae0c1d2593a771ffeb600b268b46', 'message': 'Create trust for functions\n\nWhen user creates function, qinling will create trust for the function\nthat can be used when function is invoked. This feature is especially\nuseful when the function is invoked by a trustee user.\n\nRemove the trust for job accordingly because the job will always use\ntrust for the function.\n\nChange-Id: I68c608a1f25f1008e13bff33325e7cd9914653ae\n'}]",0,509911,a7496f4e168fae0c1d2593a771ffeb600b268b46,8,2,2,6732,,,0,"Create trust for functions

When user creates function, qinling will create trust for the function
that can be used when function is invoked. This feature is especially
useful when the function is invoked by a trustee user.

Remove the trust for job accordingly because the job will always use
trust for the function.

Change-Id: I68c608a1f25f1008e13bff33325e7cd9914653ae
",git fetch https://review.opendev.org/openstack/qinling refs/changes/11/509911/2 && git format-patch -1 --stdout FETCH_HEAD,"['qinling/api/controllers/v1/function.py', 'qinling/orchestrator/kubernetes/manager.py', 'qinling/db/sqlalchemy/migration/alembic_migrations/versions/001_pike.py', 'qinling/engine/default_engine.py', 'qinling_tempest_plugin/tests/api/test_runtimes.py', 'qinling_tempest_plugin/tests/api/test_functions.py', 'qinling/services/periodics.py', 'runtimes/python2/server.py', 'qinling/utils/jobs.py', 'qinling_tempest_plugin/tests/api/test_executions.py', 'qinling_tempest_plugin/tests/scenario/test_basic_ops.py', 'qinling/db/sqlalchemy/models.py', 'qinling/api/controllers/v1/job.py']",13,8901e69a6ef0303915d87bc1415f5b27b03a6ef0,function_trust, db_job = db_api.create_job(values) return db_api.delete_job(id), if cfg.CONF.pecan.auth_enable: values['trust_id'] = keystone_util.create_trust().id try: db_job = db_api.create_job(values) except Exception: # Delete trust before raising exception. keystone_util.delete_trust(values.get('trust_id')) raise jobs.delete_job(id),48,70
openstack%2Fproject-config~master~Ia588c55b73643d27bdc3dff57cb00c1748498b37,openstack/project-config,master,Ia588c55b73643d27bdc3dff57cb00c1748498b37,Install libffi-dev packages in base image,ABANDONED,2017-10-04 10:52:27.000000000,2017-10-06 01:28:00.000000000,,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 5638}, {'_account_id': 7118}, {'_account_id': 12907}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 10:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/54e2b49ec0f51446af5b8a21c16de84191f4636d', 'message': ""Install libffi-dev packages in base image\n\nlibffi is required by cffi which is required by ansible, which is in\nturn required fairly early in our process in devstack-gate.  If\nthere's a new cffi release, then we have to build from source until a\nwheel is available, and require this dependency.  Install it in the\nbase image.\n\nChange-Id: Ia588c55b73643d27bdc3dff57cb00c1748498b37\n""}, {'number': 2, 'created': '2017-10-04 11:33:55.000000000', 'files': ['nodepool/elements/infra-package-needs/pkg-map', 'nodepool/elements/infra-package-needs/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/71ce7a4c8c0e3bb2de786710dbb2f351960560d1', 'message': ""Install libffi-dev packages in base image\n\nlibffi is required by cffi which is required by ansible, which is in\nturn required fairly early in our process in devstack-gate.  If\nthere's a new cffi release, then we have to build from source until a\nwheel is available, and require this dependency.  Install it in the\nbase image.\n\nChange-Id: Ia588c55b73643d27bdc3dff57cb00c1748498b37\n""}]",0,509399,71ce7a4c8c0e3bb2de786710dbb2f351960560d1,12,7,2,7118,,,0,"Install libffi-dev packages in base image

libffi is required by cffi which is required by ansible, which is in
turn required fairly early in our process in devstack-gate.  If
there's a new cffi release, then we have to build from source until a
wheel is available, and require this dependency.  Install it in the
base image.

Change-Id: Ia588c55b73643d27bdc3dff57cb00c1748498b37
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/509399/2 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/infra-package-needs/pkg-map', 'nodepool/elements/infra-package-needs/package-installs.yaml']",2,54e2b49ec0f51446af5b8a21c16de84191f4636d,ffi,libffi-dev:,,3,0
openstack%2Fzaqar-ui~master~I8444c1ba276392a20571744c82dd01b019e6ba35,openstack/zaqar-ui,master,I8444c1ba276392a20571744c82dd01b019e6ba35,Imported Translations from Zanata,MERGED,2017-10-05 08:56:43.000000000,2017-10-06 00:57:13.000000000,2017-10-06 00:57:13.000000000,"[{'_account_id': 3}, {'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 08:56:43.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'zaqar_ui/locale/en_GB/LC_MESSAGES/djangojs.po'], 'web_link': 'https://opendev.org/openstack/zaqar-ui/commit/c6daad6b516f4e38bf3e7a04b6f243dacc3f3fe1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I8444c1ba276392a20571744c82dd01b019e6ba35\n'}]",0,509720,c6daad6b516f4e38bf3e7a04b6f243dacc3f3fe1,7,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I8444c1ba276392a20571744c82dd01b019e6ba35
",git fetch https://review.opendev.org/openstack/zaqar-ui refs/changes/20/509720/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'zaqar_ui/locale/en_GB/LC_MESSAGES/djangojs.po']",2,c6daad6b516f4e38bf3e7a04b6f243dacc3f3fe1,zanata/translations,"# OpenStack Infra <zanata@openstack.org>, 2015. #zanata # Andi Chandler <andi@gowling.com>, 2016. #zanata # Andreas Jaeger <jaegerandi@gmail.com>, 2016. #zanata # Andi Chandler <andi@gowling.com>, 2017. #zanata msgid """" msgstr """" ""Project-Id-Version: zaqar-ui 3.0.1.dev15\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2017-10-05 03:50+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2017-10-05 12:52+0000\n"" ""Last-Translator: Andi Chandler <andi@gowling.com>\n"" ""Language-Team: English (United Kingdom)\n"" ""Language: en-GB\n"" ""X-Generator: Zanata 3.9.6\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""A queue name between 1-256 characters is required."" msgstr ""A queue name between 1-256 characters is required."" msgid ""Actions"" msgstr ""Actions"" msgid ""Age"" msgstr ""Age"" msgid """" ""An optional request component related to storage-specific options in YAML "" ""format."" msgstr """" ""An optional request component related to storage-specific options in YAML "" ""format."" msgid ""Body"" msgstr ""Body"" msgid ""Capabilities"" msgstr ""Capabilities"" msgid ""Choose resource to purge"" msgstr ""Choose resource to purge"" msgid ""Claimed Messages"" msgstr ""Claimed Messages"" msgid ""Claims"" msgstr ""Claims"" msgid ""Confirm Delete Pool"" msgid_plural ""Confirm Delete Pools"" msgstr[0] ""Confirm Delete Pool"" msgstr[1] ""Confirm Delete Pools"" msgid ""Confirm Delete Pool Flavor"" msgid_plural ""Confirm Delete Pool Flavors"" msgstr[0] ""Confirm Delete Pool Flavour"" msgstr[1] ""Confirm Delete Pool Flavours"" msgid ""Confirm Delete Queue"" msgid_plural ""Confirm Delete queues"" msgstr[0] ""Confirm Delete Queue"" msgstr[1] ""Confirm Delete queues"" msgid ""Confirmed"" msgstr ""Confirmed"" msgid ""Create"" msgstr ""Create"" msgid ""Create Pool"" msgstr ""Create Pool"" msgid ""Create Pool Flavor"" msgstr ""Create Pool Flavour"" msgid ""Create Queue"" msgstr ""Create Queue"" msgid ""Create Queues"" msgstr ""Create Queues"" msgid ""Create Subscription"" msgstr ""Create Subscription"" msgid ""Creating Signed URL"" msgstr ""Creating Signed URL"" msgid ""DELETE"" msgstr ""DELETE"" msgid ""Delete"" msgstr ""Delete"" msgid ""Delete Pool"" msgid_plural ""Delete Pools"" msgstr[0] ""Delete Pool"" msgstr[1] ""Delete Pools"" msgid ""Delete Pool Flavor"" msgid_plural ""Delete Pool Flavors"" msgstr[0] ""Delete Pool Flavour"" msgstr[1] ""Delete Pool Flavours"" msgid ""Delete Pool Flavors"" msgstr ""Delete Pool Flavours"" msgid ""Delete Pools"" msgstr ""Delete Pools"" msgid ""Delete Queue"" msgid_plural ""Delete Queues"" msgstr[0] ""Delete Queue"" msgstr[1] ""Delete Queues"" msgid ""Delete Queues"" msgstr ""Delete Queues"" #, python-format msgid ""Deleted Pool Flavor: %s."" msgid_plural ""Deleted Pool Flavors: %s."" msgstr[0] ""Deleted Pool Flavour: %s."" msgstr[1] ""Deleted Pool Flavours: %s."" #, python-format msgid ""Deleted Pool: %s."" msgid_plural ""Deleted Pools: %s."" msgstr[0] ""Deleted Pool: %s."" msgstr[1] ""Deleted Pools: %s."" #, python-format msgid ""Deleted Queue: %s."" msgid_plural ""Deleted Queues: %s."" msgstr[0] ""Deleted Queue: %s."" msgstr[1] ""Deleted Queues: %s."" msgid ""Describes flavor-specific capabilities in YAML format."" msgstr ""Describes flavour-specific capabilities in YAML format."" msgid ""Enter a queue name"" msgstr ""Enter a queue name"" msgid ""Enter a subscriber"" msgstr ""Enter a subscriber"" msgid ""Free Messages"" msgstr ""Free Messages"" msgid ""GET"" msgstr ""GET"" msgid ""Group"" msgstr ""Group"" msgid ""Group of the pool."" msgstr ""Group of the pool."" msgid ""HEAD"" msgstr ""HEAD"" msgid ""ID"" msgstr ""ID"" msgid ""List Messages"" msgstr ""List Messages"" msgid ""Messages"" msgstr ""Messages"" #, python-format msgid ""Messages has been posted to queue %s successfully."" msgstr ""Messages has been posted to queue %s successfully."" msgid ""Methods"" msgstr ""Methods"" msgid ""Name"" msgstr ""Name"" msgid ""Name of the flavor."" msgstr ""Name of the flavour."" msgid ""Name of the pool."" msgstr ""Name of the pool."" msgid """" ""Note that you can create a queue without defining metadata.\n"" "" The metadata step is optional but recommended."" msgstr """" ""Note that you can create a queue without defining metadata.\n"" "" The metadata step is optional but recommended."" msgid ""Note that you can create a subscription without defining options."" msgstr ""Note that you can create a subscription without defining options."" msgid ""OPTIONS"" msgstr ""OPTIONS"" msgid ""Options"" msgstr ""Options"" msgid ""POST"" msgstr ""POST"" msgid ""PUT"" msgstr ""PUT"" msgid ""Paths"" msgstr ""Paths"" msgid ""Pool"" msgstr ""Pool"" #, python-format msgid ""Pool %s was successfully created."" msgstr ""Pool %s was successfully created."" #, python-format msgid ""Pool %s was successfully updated."" msgstr ""Pool %s was successfully updated."" msgid ""Pool Flavor"" msgstr ""Pool Flavour"" msgid ""Pool Flavors"" msgstr ""Pool Flavours"" msgid ""Pool Group"" msgstr ""Pool Group"" #, python-format msgid ""Pool flavor %s was successfully created."" msgstr ""Pool flavour %s was successfully created."" #, python-format msgid ""Pool flavor %s was successfully updated."" msgstr ""Pool flavour %s was successfully updated."" msgid ""Pool group for flavor."" msgstr ""Pool group for flavour."" msgid ""Pools"" msgstr ""Pools"" msgid ""Post"" msgstr ""Post"" msgid ""Post Messages"" msgstr ""Post Messages"" msgid ""Purge"" msgstr ""Purge"" msgid ""Purge Queue"" msgstr ""Purge Queue"" #, python-format msgid ""Queue %s has been purged successfully."" msgstr ""Queue %s has been purged successfully."" #, python-format msgid ""Queue %s was successfully created."" msgstr ""Queue %s was successfully created."" #, python-format msgid ""Queue %s was successfully updated."" msgstr ""Queue %s was successfully updated."" msgid ""Queue Details"" msgstr ""Queue Details"" msgid ""Queue Metadata"" msgstr ""Queue Metadata"" msgid ""Queue Name"" msgstr ""Queue Name"" msgid ""Queues"" msgstr ""Queues"" #, python-format msgid ""Removed %(subscriber)s subscriber from the %(queue)s queue."" msgstr ""Removed %(subscriber)s subscriber from the %(queue)s queue."" msgid ""See a sample as below:"" msgstr ""See a sample as below:"" msgid ""Signed URL"" msgstr ""Signed URL"" #, python-format msgid ""Signed URL for %s"" msgstr ""Signed URL for %s"" #, python-format msgid """" ""Signed URL was successfully created for the queue %s with expires %s and "" ""signature %s."" msgstr """" ""Signed URL was successfully created for the queue %s with expires %s and "" ""signature %s."" msgid ""Subscriber"" msgstr ""Subscriber"" msgid ""Subscribers must be in the form of mailto, HTTP, or HTTPS."" msgstr ""Subscribers must be in the form of mailto, HTTP, or HTTPS."" msgid ""Subscription"" msgstr ""Subscription"" #, python-format msgid ""Subscription %s was successfully created."" msgstr ""Subscription %s was successfully created."" msgid ""Subscriptions"" msgstr ""Subscriptions"" msgid ""TTL Seconds"" msgstr ""TTL Seconds"" msgid ""The TTL for a subscription must be at least 60 seconds long."" msgstr ""The TTL for a subscription must be at least 60 seconds long."" msgid """" ""The client specifies only the body and TTL for the message. The server\n"" "" inserts metadata, such as ID and age."" msgstr """" ""The client specifies only the body and TTL for the message. The server\n"" "" inserts metadata, such as ID and age."" msgid ""Time To Live"" msgstr ""Time To Live"" msgid ""Time to Live"" msgstr ""Time to Live"" msgid ""Total Messages"" msgstr ""Total Messages"" msgid ""URI"" msgstr ""URI"" msgid ""URI for storage engine of this pool."" msgstr ""URI for storage engine of this pool."" msgid ""Unable to add subscription."" msgstr ""Unable to add subscription."" msgid ""Unable to create signed URL."" msgstr ""Unable to create signed URL."" msgid ""Unable to create the flavor."" msgstr ""Unable to create the flavour."" msgid ""Unable to create the pool."" msgstr ""Unable to create the pool."" msgid ""Unable to create the queue."" msgstr ""Unable to create the queue."" #, python-format msgid ""Unable to delete Pool Flavor: %s."" msgid_plural ""Unable to delete Pool Flavors: %s."" msgstr[0] ""Unable to delete Pool Flavour: %s."" msgstr[1] ""Unable to delete Pool Flavours: %s."" #, python-format msgid ""Unable to delete Pool: %s."" msgid_plural ""Unable to delete Pools: %s."" msgstr[0] ""Unable to delete Pool: %s."" msgstr[1] ""Unable to delete Pools: %s."" #, python-format msgid ""Unable to delete Queue: %s."" msgid_plural ""Unable to delete Queues: %s."" msgstr[0] ""Unable to delete Queue: %s."" msgstr[1] ""Unable to delete Queues: %s."" msgid ""Unable to delete subscription."" msgstr ""Unable to delete subscription."" msgid ""Unable to get messages."" msgstr ""Unable to get messages."" msgid ""Unable to post messages."" msgstr ""Unable to post messages."" msgid ""Unable to purge the queue."" msgstr ""Unable to purge the queue."" msgid ""Unable to retrieve the Queue."" msgstr ""Unable to retrieve the Queue."" msgid ""Unable to retrieve the Queues."" msgstr ""Unable to retrieve the Queues."" msgid ""Unable to retrieve the flavor."" msgstr ""Unable to retrieve the flavour."" msgid ""Unable to retrieve the flavors."" msgstr ""Unable to retrieve the flavours."" msgid ""Unable to retrieve the pool."" msgstr ""Unable to retrieve the pool."" msgid ""Unable to retrieve the pools."" msgstr ""Unable to retrieve the pools."" msgid ""Unable to update the flavor."" msgstr ""Unable to update the flavour."" msgid ""Unable to update the pool."" msgstr ""Unable to update the pool."" msgid ""Unable to update the queue."" msgstr ""Unable to update the queue."" msgid ""Update"" msgstr ""Update"" msgid ""Update Pool"" msgstr ""Update Pool"" msgid ""Update Pool Flavor"" msgstr ""Update Pool Flavour"" msgid ""Update Queue"" msgstr ""Update Queue"" msgid ""View Messages"" msgstr ""View Messages"" msgid ""Weight"" msgstr ""Weight"" msgid ""Weight of the pool."" msgstr ""Weight of the pool."" #, python-format msgid ""You are not allowed to delete pool flavors: %s"" msgstr ""You are not allowed to delete pool flavours: %s"" #, python-format msgid ""You are not allowed to delete pools: %s"" msgstr ""You are not allowed to delete pools: %s"" #, python-format msgid ""You are not allowed to delete queues: %s"" msgstr ""You are not allowed to delete queues: %s"" msgid """" ""You can submit up to 10 messages in a single request, but you must always\n"" "" encapsulate the messages in a collection container (an array in JSON, "" ""even\n"" "" for a single message - without the JSON array, you receive the "" ""\""Invalid\n"" "" request body\"" message). The resulting value of the Location header or\n"" "" response body might be used to retrieve the created messages for "" ""further\n"" "" processing."" msgstr """" ""You can submit up to 10 messages in a single request, but you must always\n"" "" encapsulate the messages in a collection container (an array in JSON, "" ""even\n"" "" for a single message - without the JSON array, you receive the "" ""\""Invalid\n"" "" request body\"" message). The resulting value of the Location header or\n"" "" response body might be used to retrieve the created messages for "" ""further\n"" "" processing."" #, python-format msgid ""You have selected \""%s\"". Deleted Pool Flavor is not recoverable."" msgid_plural """" ""You have selected \""%s\"". Deleted Pool Flavors are not recoverable."" msgstr[0] ""You have selected \""%s\"". Deleted Pool Flavour is not recoverable."" msgstr[1] """" ""You have selected \""%s\"". Deleted Pool Flavours are not recoverable."" #, python-format msgid ""You have selected \""%s\"". Deleted Pool is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted Pools are not recoverable."" msgstr[0] ""You have selected \""%s\"". Deleted Pool is not recoverable."" msgstr[1] ""You have selected \""%s\"". Deleted Pools are not recoverable."" #, python-format msgid ""You have selected \""%s\"". Deleted queue is not recoverable."" msgid_plural ""You have selected \""%s\"". Deleted queues are not recoverable."" msgstr[0] ""You have selected \""%s\"". Deleted queue is not recoverable."" msgstr[1] ""You have selected \""%s\"". Deleted queues are not recoverable."" msgid """" ""You must specify one of the pool groups that is configured in storage pools."" msgstr """" ""You must specify one of the pool groups that is configured in storage pools."" msgid """" ""[\n"" "" {\n"" "" \""body\"": {\n"" "" \""event\"": \""BackupProgress\"",\n"" "" \""current_bytes\"": \""2341134\"",\n"" "" \""total_bytes\"": \""99614720\""\n"" "" }\n"" "" }\n"" ""]"" msgstr """" ""[\n"" "" {\n"" "" \""body\"": {\n"" "" \""event\"": \""BackupProgress\"",\n"" "" \""current_bytes\"": \""2341134\"",\n"" "" \""total_bytes\"": \""99614720\""\n"" "" }\n"" "" }\n"" ""]"" msgid ""e.g. mongodb://127.0.0.1:27017"" msgstr ""e.g. mongodb://127.0.0.1:27017"" ",,602,3
openstack%2Fdevstack~master~I6a344d3dd1de822e8aafd493bcb50e7999e9df33,openstack/devstack,master,I6a344d3dd1de822e8aafd493bcb50e7999e9df33,fix ldap support,ABANDONED,2017-02-21 15:46:10.000000000,2017-10-06 00:56:04.000000000,,"[{'_account_id': 3}, {'_account_id': 6482}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-02-21 15:46:10.000000000', 'files': ['files/ldap/keystone.ldif.in', 'lib/keystone', 'stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/241c9a47c60f3ca89ff7b61e66b62059b204d55a', 'message': 'fix ldap support\n\nChange-Id: I6a344d3dd1de822e8aafd493bcb50e7999e9df33\n'}]",0,436508,241c9a47c60f3ca89ff7b61e66b62059b204d55a,7,5,1,6482,,,0,"fix ldap support

Change-Id: I6a344d3dd1de822e8aafd493bcb50e7999e9df33
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/436508/1 && git format-patch -1 --stdout FETCH_HEAD,"['files/ldap/keystone.ldif.in', 'lib/keystone', 'stack.sh']",3,241c9a47c60f3ca89ff7b61e66b62059b204d55a,ldap,, # To clean out the Keystone contents in OpenLDAP set ``KEYSTONE_CLEAR_LDAP`` # to ``yes`` (e.g. ``KEYSTONE_CLEAR_LDAP=yes``) in ``local.conf``. To enable the # Keystone Identity Driver (``keystone.identity.backends.ldap.Identity``) # set ``KEYSTONE_IDENTITY_BACKEND`` to ``ldap`` (e.g. # ``KEYSTONE_IDENTITY_BACKEND=ldap``) in ``local.conf``. ,44,18
openstack%2Fironic-lib~master~I49bd08a402663bfabe1fea14957435ee071145e7,openstack/ironic-lib,master,I49bd08a402663bfabe1fea14957435ee071145e7,Migrate to stestr as unit tests runner,MERGED,2017-09-25 21:03:27.000000000,2017-10-06 00:51:59.000000000,2017-10-06 00:51:59.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14760}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-25 21:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/132078ec755ea45ff436325f360202bdd41408ee', 'message': 'Add .stestr to .gitignore\n\nWe now have an .stestr/ directory created when doing unit tests. We\nshould ignore it.\n\nChange-Id: I49bd08a402663bfabe1fea14957435ee071145e7\n'}, {'number': 2, 'created': '2017-09-25 22:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/4a20ad70a54d938f79d4c441f5b4014361e2c2aa', 'message': 'Migrate to stestr as unit tests runner\n\nRecent update brought os-testr 1.0.0 that already uses stestr test\nrunner instead of testrepository. This patch migrates those places\nusing testrepository to using stestr.\n\nInspired by the patch of the same name in openstack/ironic\n\nChange-Id: I49bd08a402663bfabe1fea14957435ee071145e7\n'}, {'number': 3, 'created': '2017-09-26 16:22:29.000000000', 'files': ['.gitignore', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/35adf2c8da7d586368c10f30e9a5475040f43848', 'message': 'Migrate to stestr as unit tests runner\n\nRecent update brought os-testr 1.0.0 that already uses stestr test\nrunner instead of testrepository. This patch migrates those places\nusing testrepository to using stestr.\n\nInspired by the patch of the same name in openstack/ironic\n\nChange-Id: I49bd08a402663bfabe1fea14957435ee071145e7\n'}]",4,507272,35adf2c8da7d586368c10f30e9a5475040f43848,35,7,3,14760,,,0,"Migrate to stestr as unit tests runner

Recent update brought os-testr 1.0.0 that already uses stestr test
runner instead of testrepository. This patch migrates those places
using testrepository to using stestr.

Inspired by the patch of the same name in openstack/ironic

Change-Id: I49bd08a402663bfabe1fea14957435ee071145e7
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/72/507272/3 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,132078ec755ea45ff436325f360202bdd41408ee,,.stestr,,1,0
openstack%2Fironic-inspector~master~I0e8d57b36ab2b5bb8ceddb3f8ce65c13a3b4bfaf,openstack/ironic-inspector,master,I0e8d57b36ab2b5bb8ceddb3f8ce65c13a3b4bfaf,Updated from global requirements,MERGED,2017-10-05 13:41:47.000000000,2017-10-06 00:42:00.000000000,2017-10-06 00:42:00.000000000,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2017-10-05 13:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f27c9753b8a28c60b990bb1106fdf4f360148893', 'message': 'Updated from global requirements\n\nChange-Id: I0e8d57b36ab2b5bb8ceddb3f8ce65c13a3b4bfaf\n'}, {'number': 2, 'created': '2017-10-05 17:22:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0fdfdcb32c155ea1379a12167242b8417e699b02', 'message': 'Updated from global requirements\n\nChange-Id: I0e8d57b36ab2b5bb8ceddb3f8ce65c13a3b4bfaf\n'}, {'number': 3, 'created': '2017-10-05 17:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f52cb87202a40bcde72e08976e470eaa8c63d25f', 'message': 'Updated from global requirements\n\nChange-Id: I0e8d57b36ab2b5bb8ceddb3f8ce65c13a3b4bfaf\n'}, {'number': 4, 'created': '2017-10-05 18:51:26.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/bc87e6edb3d7bf9b9fc61bc56e7e1abc3286e12a', 'message': 'Updated from global requirements\n\nChange-Id: I0e8d57b36ab2b5bb8ceddb3f8ce65c13a3b4bfaf\n'}]",0,509779,bc87e6edb3d7bf9b9fc61bc56e7e1abc3286e12a,11,2,4,11131,,,0,"Updated from global requirements

Change-Id: I0e8d57b36ab2b5bb8ceddb3f8ce65c13a3b4bfaf
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/79/509779/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f27c9753b8a28c60b990bb1106fdf4f360148893,openstack/requirements,os-testr>=1.0.0 # Apache-2.0,os-testr>=1.0.0 # Apache-2.0,1,1
openstack%2Fopenstack-zuul-jobs~master~I15f092ef2fbe1a64a5782ce78ab10876a96c3b47,openstack/openstack-zuul-jobs,master,I15f092ef2fbe1a64a5782ce78ab10876a96c3b47,Require requirements for legacy-bandit-integration,MERGED,2017-10-05 17:30:13.000000000,2017-10-06 00:25:40.000000000,2017-10-06 00:25:40.000000000,"[{'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 17:30:13.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/fcee554992ac5062b19637066b69403c72d8e754', 'message': 'Require requirements for legacy-bandit-integration\n\nThe legacy-bandit-integration-.* jobs are tox-based and many (if not\nall) run on projects which attempt to zuul-clone requirements for\nits upper-constraints.txt file. Add openstack/requirements to the\nrequired-projects list for all of these jobs.\n\nChange-Id: I15f092ef2fbe1a64a5782ce78ab10876a96c3b47\n'}]",0,509846,fcee554992ac5062b19637066b69403c72d8e754,9,5,1,5263,,,0,"Require requirements for legacy-bandit-integration

The legacy-bandit-integration-.* jobs are tox-based and many (if not
all) run on projects which attempt to zuul-clone requirements for
its upper-constraints.txt file. Add openstack/requirements to the
required-projects list for all of these jobs.

Change-Id: I15f092ef2fbe1a64a5782ce78ab10876a96c3b47
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/46/509846/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,fcee554992ac5062b19637066b69403c72d8e754,zuulv3-jobs, - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements - openstack/requirements,,14,0
openstack%2Foctavia~master~I5ac8d1ce189db09d52e518d42aeb3a192b8a8814,openstack/octavia,master,I5ac8d1ce189db09d52e518d42aeb3a192b8a8814,Add admin endpoint for amphora info,MERGED,2017-09-19 21:14:15.000000000,2017-10-06 00:23:10.000000000,2017-10-06 00:23:10.000000000,"[{'_account_id': 3}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12024}]","[{'number': 1, 'created': '2017-09-19 21:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fcf054dd78e2ffda6db66ae18a68f511479e270d', 'message': 'Add admin endpoint for amphora info\n\nChange-Id: I5ac8d1ce189db09d52e518d42aeb3a192b8a8814\n'}, {'number': 2, 'created': '2017-09-20 02:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1aeb14baccb91c7d5ec4b1d2a6fc842b1ce7148b', 'message': 'Add admin endpoint for amphora info\n\nChange-Id: I5ac8d1ce189db09d52e518d42aeb3a192b8a8814\n'}, {'number': 3, 'created': '2017-09-20 18:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/06cfb4f3a3e85289dfe90a800ae5d90b94ed224f', 'message': 'Add admin endpoint for amphora info\n\nAdministrators can now use /v2.0/lbaas/amphorae to retrieve internal\ninformation about amphora details like compute_id and lb_network_ip.\n\nChange-Id: I5ac8d1ce189db09d52e518d42aeb3a192b8a8814\n'}, {'number': 4, 'created': '2017-09-21 19:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5738de948f3233fea7581fdd2a4485164b7664e4', 'message': 'Add admin endpoint for amphora info\n\nAdministrators can now use /v2.0/lbaas/amphorae to retrieve internal\ninformation about amphora details like compute_id and lb_network_ip.\n\nChange-Id: I5ac8d1ce189db09d52e518d42aeb3a192b8a8814\n'}, {'number': 5, 'created': '2017-09-21 20:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/04e9b05691b043d3361c7e178cdad91c2a5acecf', 'message': 'Add admin endpoint for amphora info\n\nAdministrators can now use /v2.0/octavia/amphorae to retrieve internal\ninformation about amphora details like compute_id and lb_network_ip.\n\nChange-Id: I5ac8d1ce189db09d52e518d42aeb3a192b8a8814\n'}, {'number': 6, 'created': '2017-09-21 21:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1c4ebf9ab972ae20c64e2d4567fcc348a741a1de', 'message': 'Add admin endpoint for amphora info\n\nAdministrators can now use /v2.0/octavia/amphorae to retrieve internal\ninformation about amphora details like compute_id and lb_network_ip.\n\nChange-Id: I5ac8d1ce189db09d52e518d42aeb3a192b8a8814\n'}, {'number': 7, 'created': '2017-09-21 21:39:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/458dcb12e9f5f621bbc4656d52a16f38505b554a', 'message': 'Add admin endpoint for amphora info\n\nAdministrators can now use /v2.0/octavia/amphorae to retrieve internal\ninformation about amphora details like compute_id and lb_network_ip.\n\nChange-Id: I5ac8d1ce189db09d52e518d42aeb3a192b8a8814\n'}, {'number': 8, 'created': '2017-09-22 15:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b75ca14a1de9f276b96b0af5fdfb27bdaa48347f', 'message': 'Add admin endpoint for amphora info\n\nAdministrators can now use /v2.0/octavia/amphorae to retrieve internal\ninformation about amphora details like compute_id and lb_network_ip.\n\nChange-Id: I5ac8d1ce189db09d52e518d42aeb3a192b8a8814\n'}, {'number': 9, 'created': '2017-09-22 23:39:48.000000000', 'files': ['api-ref/source/parameters.yaml', 'octavia/api/common/pagination.py', 'octavia/db/models.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/api/v2/controllers/__init__.py', 'api-ref/source/v2/examples/amphora-show-response.json', 'api-ref/source/v2/index.rst', 'api-ref/source/v2/examples/amphora-list-response.json', 'octavia/tests/functional/api/v2/base.py', 'api-ref/source/v2/examples/amphora-list-curl', 'octavia/common/policy.py', 'api-ref/source/v2/examples/amphora-show-curl', 'octavia/api/v2/types/amphora.py', 'octavia/common/constants.py', 'octavia/db/repositories.py', 'releasenotes/notes/Add-amphora-info-endpoint-e2e3b53ae5ab5a85.yaml', 'api-ref/source/v2/amphora.inc', 'octavia/api/v2/controllers/amphora.py', 'octavia/policies/__init__.py', 'octavia/policies/amphora.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7f1c5011ed6be202a6ed7a3a3cf325b7d245ad89', 'message': 'Add admin endpoint for amphora info\n\nAdministrators can now use /v2.0/octavia/amphorae to retrieve internal\ninformation about amphora details like compute_id and lb_network_ip.\n\nChange-Id: I5ac8d1ce189db09d52e518d42aeb3a192b8a8814\n'}]",8,505404,7f1c5011ed6be202a6ed7a3a3cf325b7d245ad89,40,5,9,10273,,,0,"Add admin endpoint for amphora info

Administrators can now use /v2.0/octavia/amphorae to retrieve internal
information about amphora details like compute_id and lb_network_ip.

Change-Id: I5ac8d1ce189db09d52e518d42aeb3a192b8a8814
",git fetch https://review.opendev.org/openstack/octavia refs/changes/04/505404/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/policy.py', 'octavia/api/v2/types/amphora.py', 'octavia/common/constants.py', 'octavia/db/models.py', 'octavia/db/repositories.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/api/v2/controllers/__init__.py', 'octavia/api/v2/controllers/amphora.py', 'octavia/policies/__init__.py', 'octavia/policies/amphora.py', 'octavia/tests/functional/api/v2/base.py']",11,fcf054dd78e2ffda6db66ae18a68f511479e270d,505404, AMPHORAE_PATH = '/amphorae' AMPHORA_PATH = AMPHORAE_PATH + '/{amphora_id}' ,,482,3
openstack%2Fopenstack-ansible-repo_server~master~If900d5db8b23e92d0b0eec49a75787379b020c97,openstack/openstack-ansible-repo_server,master,If900d5db8b23e92d0b0eec49a75787379b020c97,apt-cacher-ng was moved to epel.,MERGED,2017-10-04 14:33:17.000000000,2017-10-06 00:14:22.000000000,2017-10-06 00:14:22.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 13095}]","[{'number': 1, 'created': '2017-10-04 14:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/09fc4e505c69ab9942481288acf2556a5bc6efc3', 'message': 'Only enable apt-cacher-ng from epel-testing\n\nepel-testing can cause conflict when enabled on the repo server.\nThis patch only activate the package we need from it.\n\nChange-Id: If900d5db8b23e92d0b0eec49a75787379b020c97\nCloses-Bug: #1719741\n'}, {'number': 2, 'created': '2017-10-05 15:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/a21e5fe247baa467968a895f45fbac0de565783a', 'message': 'apt-cacher-ng was moved to epel.\n\nepel-testing can cause conflict when enabled on the repo server.\nThis patch only deactivate epel-testing repo.\n\nChange-Id: If900d5db8b23e92d0b0eec49a75787379b020c97\nCloses-Bug: #1719741\n'}, {'number': 3, 'created': '2017-10-05 15:58:09.000000000', 'files': ['tasks/repo_cacher.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-repo_server/commit/f4f135918004f2e4148a7e344e2846d0f2b64ad4', 'message': 'apt-cacher-ng was moved to epel.\n\nepel-testing can cause conflict when enabled on the repo server.\nThis patch only deactivate epel-testing repo.\n\nChange-Id: If900d5db8b23e92d0b0eec49a75787379b020c97\nCloses-Bug: #1719741\n'}]",0,509493,f4f135918004f2e4148a7e344e2846d0f2b64ad4,14,4,3,13095,,,0,"apt-cacher-ng was moved to epel.

epel-testing can cause conflict when enabled on the repo server.
This patch only deactivate epel-testing repo.

Change-Id: If900d5db8b23e92d0b0eec49a75787379b020c97
Closes-Bug: #1719741
",git fetch https://review.opendev.org/openstack/openstack-ansible-repo_server refs/changes/93/509493/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/repo_cacher.yml'],1,09fc4e505c69ab9942481288acf2556a5bc6efc3,bug/1719741, includepkgs: - 'apt-cacher-ng',,2,0
openstack%2Ftempest~master~I1aac4597276354b97243b0519e321ca5c41018af,openstack/tempest,master,I1aac4597276354b97243b0519e321ca5c41018af,Move object storage container_client to lib interface,ABANDONED,2017-10-06 00:09:35.000000000,2017-10-06 00:11:07.000000000,,[],"[{'number': 1, 'created': '2017-10-06 00:09:35.000000000', 'files': ['tempest/lib/services/object_storage/container_client.py', 'releasenotes/notes/make-account-client-as-stable-interface-d1b07c7e8f17bef6.yaml', 'tempest/services/object_storage/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/afe365c9f21693970c721f03179729e285fdad46', 'message': 'Move object storage container_client to lib interface\n\nobject storage container_client is stable now and good to be moved\nas stable library interface.\n\nUnit tests will be next step for those clients which should\nbe ok after miving to lib.\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I1aac4597276354b97243b0519e321ca5c41018af\n'}]",0,509944,afe365c9f21693970c721f03179729e285fdad46,2,0,1,8556,,,0,"Move object storage container_client to lib interface

object storage container_client is stable now and good to be moved
as stable library interface.

Unit tests will be next step for those clients which should
be ok after miving to lib.

Partially implements blueprint consistent-service-method-names

Change-Id: I1aac4597276354b97243b0519e321ca5c41018af
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/509944/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/make-account-client-as-stable-interface-d1b07c7e8f17bef6.yaml', 'tempest/lib/services/object_storage/container_client.py', 'tempest/services/object_storage/__init__.py']",3,afe365c9f21693970c721f03179729e285fdad46,bp/consistent-service-method-names,from tempest.lib.services.object_storage.container_client import \ ContainerClient,from tempest.services.object_storage.container_client import ContainerClient,127,1
openstack%2Fopenstack-ansible-lxc_hosts~master~I70d53cabd0888954f31def924e9f4436398cdebf,openstack/openstack-ansible-lxc_hosts,master,I70d53cabd0888954f31def924e9f4436398cdebf,Create an LXC create template for machinectl,MERGED,2017-09-06 01:24:39.000000000,2017-10-05 23:58:25.000000000,2017-10-05 19:07:45.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-06 01:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/8bd1fcbea1afc516938abe2baa307a5b4afe7f5f', 'message': 'Create an LXC create template for machinectl\n\nThis change creates a simple LXC create template for machinectl. This\nwill allow out container create process to use less storage and more\nefficently build containers which will speed up operations and\ndeployments. This also begins to leverage common tools already on the\nsystems we support there by simplifing how cache is stored, containers\nare built and the general management of images within a host.\n\nThe new lxc container create template, and the features it provides,\nwill only impact new containers created allowing deployers to safely\nadopt this change in any existing environment.\n\nChange-Id: I70d53cabd0888954f31def924e9f4436398cdebf\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2017-09-06 01:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1399a0a7bffd1f077d067db154a65dd9fd29b56c', 'message': 'Create an LXC create template for machinectl\n\nThis change creates a simple LXC create template for machinectl. This\nwill allow out container create process to use less storage and more\nefficently build containers which will speed up operations and\ndeployments. This also begins to leverage common tools already on the\nsystems we support there by simplifing how cache is stored, containers\nare built and the general management of images within a host.\n\nThe new lxc container create template, and the features it provides,\nwill only impact new containers created allowing deployers to safely\nadopt this change in any existing environment.\n\nChange-Id: I70d53cabd0888954f31def924e9f4436398cdebf\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2017-10-05 05:01:47.000000000', 'files': ['tasks/lxc_post_install.yml', 'files/lxc-machinectl.j2', 'releasenotes/notes/lxc-machinectl-template-9e65779a94cb767f.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/555c8a1bf1e4ee5b823b12d1f201e6a5fac8477c', 'message': 'Create an LXC create template for machinectl\n\nThis change creates a simple LXC create template for machinectl. This\nwill allow out container create process to use less storage and more\nefficently build containers which will speed up operations and\ndeployments. This also begins to leverage common tools already on the\nsystems we support there by simplifing how cache is stored, containers\nare built and the general management of images within a host.\n\nThe new lxc container create template, and the features it provides,\nwill only impact new containers created allowing deployers to safely\nadopt this change in any existing environment.\n\nChange-Id: I70d53cabd0888954f31def924e9f4436398cdebf\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,501054,555c8a1bf1e4ee5b823b12d1f201e6a5fac8477c,20,5,3,7353,,,0,"Create an LXC create template for machinectl

This change creates a simple LXC create template for machinectl. This
will allow out container create process to use less storage and more
efficently build containers which will speed up operations and
deployments. This also begins to leverage common tools already on the
systems we support there by simplifing how cache is stored, containers
are built and the general management of images within a host.

The new lxc container create template, and the features it provides,
will only impact new containers created allowing deployers to safely
adopt this change in any existing environment.

Change-Id: I70d53cabd0888954f31def924e9f4436398cdebf
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/54/501054/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_post_install.yml', 'files/lxc-machinectl.j2', 'releasenotes/notes/lxc-machinectl-template-9e65779a94cb767f.yaml']",3,8bd1fcbea1afc516938abe2baa307a5b4afe7f5f,lxc-machinectl,"--- features: - A new LXC container template has been added which will allow us to better manage containers on the host machines we support. The new template uses the `machinectl` command to create container rootfs using the existing cache. This in-turn will provide easier management of container images, faster build times, and the ability to instantly clone a container (or a given variant) without impacting a containers state. This new lxc container create template, and the features it provides, will only impact new containers created allowing deployers to safely adopt this change in any existing environment. ",,232,0
openstack%2Ftripleo-docs~master~I2506a44abac999d4b0450c402fe40cab89410cea,openstack/tripleo-docs,master,I2506a44abac999d4b0450c402fe40cab89410cea,Document use of undercloud_hostname,MERGED,2017-09-28 22:00:06.000000000,2017-10-05 23:21:32.000000000,2017-10-05 23:21:32.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-28 22:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b90bbab91840dad53d37baf168f2b580a5c2c05f', 'message': ""Document use of undercloud_hostname\n\nundercloud_hostname is a less error-prone method of configuring all\nthe undercloud hostname settings correctly.  We probably want to\nmake it a mandatory option and avoid hostname-related bugs, but for\nthe moment let's at least document it as the preferred way to handle\nhostname configuration.\n\nNote that this option has existed since Mitaka, so it applies to\nall of our currently supported branches.\n\nChange-Id: I2506a44abac999d4b0450c402fe40cab89410cea\n""}, {'number': 2, 'created': '2017-10-02 15:30:54.000000000', 'files': ['doc/source/install/installation/installing.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a5e1228425b8e3efe7d574e4cc2ffcf0d043ae67', 'message': ""Document use of undercloud_hostname\n\nundercloud_hostname is a less error-prone method of configuring all\nthe undercloud hostname settings correctly.  We probably want to\nmake it a mandatory option and avoid hostname-related bugs, but for\nthe moment let's at least document it as the preferred way to handle\nhostname configuration.\n\nNote that this option has existed since Mitaka, so it applies to\nall of our currently supported branches.\n\nChange-Id: I2506a44abac999d4b0450c402fe40cab89410cea\n""}]",2,508328,a5e1228425b8e3efe7d574e4cc2ffcf0d043ae67,13,6,2,6928,,,0,"Document use of undercloud_hostname

undercloud_hostname is a less error-prone method of configuring all
the undercloud hostname settings correctly.  We probably want to
make it a mandatory option and avoid hostname-related bugs, but for
the moment let's at least document it as the preferred way to handle
hostname configuration.

Note that this option has existed since Mitaka, so it applies to
all of our currently supported branches.

Change-Id: I2506a44abac999d4b0450c402fe40cab89410cea
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/28/508328/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/installation/installing.rst'],1,b90bbab91840dad53d37baf168f2b580a5c2c05f,undercloud_hostname," variable matches that value. The easiest way to do this is to set the ``undercloud_hostname`` option in undercloud.conf before running the install. This will allow the installer to configure all of the hostname- related settings appropriately. Alternatively the hostname settings can be configured manually, but this is strongly discouraged. The manual steps are as follows:", variable matches that value.,7,1
openstack%2Ftripleo-docs~master~I005bc042f4d1ff855a90710599d796a9645b71f1,openstack/tripleo-docs,master,I005bc042f4d1ff855a90710599d796a9645b71f1,Remove source admonition,MERGED,2017-09-28 21:49:16.000000000,2017-10-05 23:14:51.000000000,2017-10-05 23:14:51.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-28 21:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/43739d20bd7f093acdf71aa7667bb34707731a14', 'message': ""Remove source admonition\n\nWe haven't actually recommended installing anything from source for\nquite a while and it probably doesn't work anymore anyway.  Let's\nget rid of this admonition and clean things up a little.\n\nChange-Id: I005bc042f4d1ff855a90710599d796a9645b71f1\n""}, {'number': 2, 'created': '2017-09-28 21:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/90422197bb547dc6c7a9ccd1cd158c67c8873cec', 'message': ""Remove source admonition\n\nWe haven't actually recommended installing anything from source for\nquite a while and it probably doesn't work anymore anyway.  Let's\nget rid of this admonition and clean things up a little.\n\nChange-Id: I005bc042f4d1ff855a90710599d796a9645b71f1\n""}, {'number': 3, 'created': '2017-09-29 16:19:28.000000000', 'files': ['doc/source/install/installation/installing.rst', '_templates/layout.html', 'doc/source/index.rst', '_custom/custom.css', 'doc/source/install/developer/in_progress_review.rst', 'doc/source/install/basic_deployment/basic_deployment_cli.rst', 'doc/source/install/developer/developer.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ab0a9fd1750c0d3d62669d18dcda44afb594f723', 'message': ""Remove source admonition\n\nWe haven't actually recommended installing anything from source for\nquite a while and it probably doesn't work anymore anyway.  Let's\nget rid of this admonition and clean things up a little.\n\nChange-Id: I005bc042f4d1ff855a90710599d796a9645b71f1\n""}]",0,508323,ab0a9fd1750c0d3d62669d18dcda44afb594f723,12,5,3,6928,,,0,"Remove source admonition

We haven't actually recommended installing anything from source for
quite a while and it probably doesn't work anymore anyway.  Let's
get rid of this admonition and clean things up a little.

Change-Id: I005bc042f4d1ff855a90710599d796a9645b71f1
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/23/508323/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/installation/installing.rst', '_templates/layout.html', 'doc/source/index.rst', '_custom/custom.css', 'doc/source/install/basic_deployment/basic_deployment_cli.rst']",5,43739d20bd7f093acdf71aa7667bb34707731a14,no-source,, .. admonition:: Source :class: source Git checkouts of the puppet modules can be used instead of packages. Export the following environment variable:: export DIB_INSTALLTYPE_puppet_modules=source It is also possible to use this functionality to use an in-progress review as part of the overcloud image build. See :doc:`../developer/in_progress_review` for details. ,0,37
openstack%2Fironic-python-agent~stable%2Fpike~Ic6a2bafdc87e33c4e1c4534fa355f995c824b945,openstack/ironic-python-agent,stable/pike,Ic6a2bafdc87e33c4e1c4534fa355f995c824b945,Remove hard-coded path to grub binaries,MERGED,2017-09-26 10:25:24.000000000,2017-10-05 23:04:42.000000000,2017-10-05 23:04:42.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14525}, {'_account_id': 22348}, {'_account_id': 26340}]","[{'number': 1, 'created': '2017-09-26 10:25:24.000000000', 'files': ['ironic_python_agent/tests/unit/extensions/test_image.py', 'releasenotes/notes/fix-hardcoded-path-to-grub-7006f29a9ef72e75.yaml', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f05702e9f2157259fd9e8c7d927ea13da98f7f9d', 'message': 'Remove hard-coded path to grub binaries\n\nUse PATH variable to find grub binaries.\n\nCloses-Bug: 1717255\n\nChange-Id: Ic6a2bafdc87e33c4e1c4534fa355f995c824b945\n(cherry picked from commit db5272cfea9fa894675690d54b7d042cb3d01df3)\n'}]",3,507468,f05702e9f2157259fd9e8c7d927ea13da98f7f9d,31,7,1,14525,,,0,"Remove hard-coded path to grub binaries

Use PATH variable to find grub binaries.

Closes-Bug: 1717255

Change-Id: Ic6a2bafdc87e33c4e1c4534fa355f995c824b945
(cherry picked from commit db5272cfea9fa894675690d54b7d042cb3d01df3)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/68/507468/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_image.py', 'releasenotes/notes/fix-hardcoded-path-to-grub-7006f29a9ef72e75.yaml', 'ironic_python_agent/extensions/image.py']",3,f05702e9f2157259fd9e8c7d927ea13da98f7f9d,bug/1717255-stable/pike," # Add /usr/sbin to PATH variable to ensure it is there as we do # not use full path to grub binary anymore. path_variable = '%s:/bin:/usr/sbin' % path_variable '""%(bin)s-install %(dev)s""' % '""%(bin)s-install %(dev)s --removable""' % '""%(bin)s-mkconfig -o '"," path_variable = '%s:/bin' % path_variable '""/usr/sbin/%(bin)s-install %(dev)s""' % '""/usr/sbin/%(bin)s-install %(dev)s --removable""' % '""/usr/sbin/%(bin)s-mkconfig -o '",28,20
openstack%2Fopenstack-helm~master~I607a729a09d2d5ace50ae3ef74dd22bb5b0452f2,openstack/openstack-helm,master,I607a729a09d2d5ace50ae3ef74dd22bb5b0452f2,Add docs for FQDN support,MERGED,2017-09-28 20:12:46.000000000,2017-10-05 23:04:17.000000000,2017-10-05 23:04:17.000000000,"[{'_account_id': 3}, {'_account_id': 15518}, {'_account_id': 20443}, {'_account_id': 21307}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-09-28 20:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a5d0d6cc8d0a54b6f08f3f927a67abe6dfef52e8', 'message': 'FQDN Support - add doc and config props\n\nChange-Id: I607a729a09d2d5ace50ae3ef74dd22bb5b0452f2\n'}, {'number': 2, 'created': '2017-09-28 21:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bfd45fff3f0d9f3356d1b2e2120a4a0ba4148ab0', 'message': 'FQDN Support - add doc and config props\n\nChange-Id: I607a729a09d2d5ace50ae3ef74dd22bb5b0452f2\n'}, {'number': 3, 'created': '2017-09-29 17:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0efaf9acfd116cf35d6b50c208c822deeb0a6d87', 'message': 'FQDN Support - add doc and config props\n\nChange-Id: I607a729a09d2d5ace50ae3ef74dd22bb5b0452f2\n'}, {'number': 4, 'created': '2017-09-29 17:43:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/29b919b7608d87986f2bc3321c2d65c7f1e90843', 'message': 'FQDN Support - add doc and config props\n\nChange-Id: I607a729a09d2d5ace50ae3ef74dd22bb5b0452f2\n'}, {'number': 5, 'created': '2017-10-02 17:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bb95d17c60136d174dc76c0c25742b58795eaacf', 'message': 'FQDN Support - add doc and config props\n\nChange-Id: I607a729a09d2d5ace50ae3ef74dd22bb5b0452f2\n'}, {'number': 6, 'created': '2017-10-04 20:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eef072390abd5f116aaf9915cf72c6ae4ce725b5', 'message': 'FQDN Support - add doc and config props\n\nChange-Id: I607a729a09d2d5ace50ae3ef74dd22bb5b0452f2\n'}, {'number': 7, 'created': '2017-10-05 22:07:37.000000000', 'files': ['doc/source/install/ext-dns-fqdn.rst', 'doc/source/install/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/64fcfcd2a9bdf992d58ab4fc260998a323a17df8', 'message': 'Add docs for FQDN support\n\nThis PS adds documentation regarding FQDN support and how to\noverride FQDNs.\n\nChange-Id: I607a729a09d2d5ace50ae3ef74dd22bb5b0452f2\n'}]",24,508291,64fcfcd2a9bdf992d58ab4fc260998a323a17df8,43,7,7,26645,,,0,"Add docs for FQDN support

This PS adds documentation regarding FQDN support and how to
override FQDNs.

Change-Id: I607a729a09d2d5ace50ae3ef74dd22bb5b0452f2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/91/508291/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/ext-dns-fqdn.rst', 'doc/source/install/index.rst', 'nova/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'glance/values.yaml', 'horizon/values.yaml']",7,a5d0d6cc8d0a54b6f08f3f927a67abe6dfef52e8,dns_fqdn_support, public: null public: null,,253,0
openstack%2Foctavia-dashboard~master~I8e576795dfb45d558ace7006cb21e98f8251ca04,openstack/octavia-dashboard,master,I8e576795dfb45d558ace7006cb21e98f8251ca04,Being able to change session persistence of pool,MERGED,2017-09-22 23:39:25.000000000,2017-10-05 23:00:18.000000000,2017-10-05 23:00:18.000000000,"[{'_account_id': 3}, {'_account_id': 2245}, {'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}]","[{'number': 1, 'created': '2017-09-22 23:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/95b86f859a4f6e9d626d2fbe718cd77ecdf0924f', 'message': 'Being able to change session persistence of pool\n\nChange-Id: I8e576795dfb45d558ace7006cb21e98f8251ca04\nStory: 1713864\nTask: 5371\n'}, {'number': 2, 'created': '2017-09-26 20:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/0868c766eef34ce6a055570c861810b4ad6173ab', 'message': 'Being able to change session persistence of pool\n\nChange-Id: I8e576795dfb45d558ace7006cb21e98f8251ca04\nStory: 1713864\nTask: 5371\n'}, {'number': 3, 'created': '2017-09-26 21:08:38.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.html', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.help.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/1e39d6cd1e8bf9c77c6019247c71e6f03072398e', 'message': 'Being able to change session persistence of pool\n\nChange-Id: I8e576795dfb45d558ace7006cb21e98f8251ca04\nStory: 1713864\nTask: 5371\nStory: 1713862\nTask: 5369\n'}]",8,506807,1e39d6cd1e8bf9c77c6019247c71e6f03072398e,16,5,3,2245,,,0,"Being able to change session persistence of pool

Change-Id: I8e576795dfb45d558ace7006cb21e98f8251ca04
Story: 1713864
Task: 5371
Story: 1713862
Task: 5369
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/07/506807/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/workflow/pool/pool.html', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.spec.js', 'octavia_dashboard/static/dashboard/project/lbaasv2/workflow/model.service.js']",4,95b86f859a4f6e9d626d2fbe718cd77ecdf0924f,sp-types," types: ['SOURCE_IP', 'HTTP_COOKIE', 'APP_COOKIE'], method: null, type: null, cookie: null if (pool.session_persistence) { if (pool.session_persistence.type) { spec.type = pool.session_persistence.type; } if (pool.session_persistence.cookie_name) { spec.cookie = pool.session_persistence.cookie_name; } }", method: null,97,2
openstack%2Fopenstack-ansible-rabbitmq_server~stable%2Fpike~I1bfcc96f353bd27b0004d93e250bb041eee48bdb,openstack/openstack-ansible-rabbitmq_server,stable/pike,I1bfcc96f353bd27b0004d93e250bb041eee48bdb,Optimize CentOS Erlang installation,MERGED,2017-09-20 13:02:20.000000000,2017-10-05 22:58:16.000000000,2017-10-05 22:58:16.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 13095}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-20 13:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/61ecc55cf456cd6818581983b2509a0ac60eec49', 'message': ""Optimize CentOS Erlang installation\n\nThis patch optimizes the Erlang/RabbitMQ installation on CentOS. It\nincludes:\n\n  * Installing RabbitMQ from RabbitMQ's repository\n  * Installing Erlang all-in-one from RabbitMQ's repository\n  * Remove old versionlocks before applying new ones (fixes bug)\n\nThe erlang-solutions repository is hosted in eastern Europe and has\nhigh latency to the USA and western Europe. Installing from that\nrepository brings in over 80 individual packages, which causes\nadditional delays in the role.\n\nThe Erlang all-in-one package from RabbitMQ's repository contains\nonly the Erlang bits that RabbitMQ needs. Also, it has HiPE enabled\nby default, which is recommended by RabbitMQ developers for\nbetter performance.\n\nCloses-Bug: 1712596\nChange-Id: I1bfcc96f353bd27b0004d93e250bb041eee48bdb\n(cherry picked from commit 05370b039413399f1db2df1c71bea653b5b10f34)\n""}, {'number': 2, 'created': '2017-09-20 13:04:11.000000000', 'files': ['releasenotes/notes/optimize-centos-erlang-install-bafd1c376ffca35e.yaml', 'tasks/install_yum.yml', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml', 'vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/d7ae447f5e11dd68e695c14466f7629653cc3487', 'message': ""Optimize CentOS Erlang installation\n\nThis patch optimizes the Erlang/RabbitMQ installation on CentOS. It\nincludes:\n\n  * Installing RabbitMQ from RabbitMQ's repository\n  * Installing Erlang all-in-one from RabbitMQ's repository\n  * Remove old versionlocks before applying new ones (fixes bug)\n\nThe erlang-solutions repository is hosted in eastern Europe and has\nhigh latency to the USA and western Europe. Installing from that\nrepository brings in over 80 individual packages, which causes\nadditional delays in the role.\n\nThe Erlang all-in-one package from RabbitMQ's repository contains\nonly the Erlang bits that RabbitMQ needs. Also, it has HiPE enabled\nby default, which is recommended by RabbitMQ developers for\nbetter performance.\n\nCloses-Bug: 1712596\nChange-Id: I1bfcc96f353bd27b0004d93e250bb041eee48bdb\n(cherry picked from commit 05370b039413399f1db2df1c71bea653b5b10f34)\n""}]",0,505618,d7ae447f5e11dd68e695c14466f7629653cc3487,18,6,2,538,,,0,"Optimize CentOS Erlang installation

This patch optimizes the Erlang/RabbitMQ installation on CentOS. It
includes:

  * Installing RabbitMQ from RabbitMQ's repository
  * Installing Erlang all-in-one from RabbitMQ's repository
  * Remove old versionlocks before applying new ones (fixes bug)

The erlang-solutions repository is hosted in eastern Europe and has
high latency to the USA and western Europe. Installing from that
repository brings in over 80 individual packages, which causes
additional delays in the role.

The Erlang all-in-one package from RabbitMQ's repository contains
only the Erlang bits that RabbitMQ needs. Also, it has HiPE enabled
by default, which is recommended by RabbitMQ developers for
better performance.

Closes-Bug: 1712596
Change-Id: I1bfcc96f353bd27b0004d93e250bb041eee48bdb
(cherry picked from commit 05370b039413399f1db2df1c71bea653b5b10f34)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/18/505618/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/optimize-centos-erlang-install-bafd1c376ffca35e.yaml', 'tasks/install_yum.yml', 'vars/redhat.yml', 'vars/debian.yml', 'defaults/main.yml', 'vars/suse.yml']",6,61ecc55cf456cd6818581983b2509a0ac60eec49,bug/1712596-stable/pike,_rabbitmq_install_method: file,,48,43
openstack%2Fopenstack-ansible~stable%2Focata~I898e2943b3ed3aa280cd0e12e5cfa011bda2d573,openstack/openstack-ansible,stable/ocata,I898e2943b3ed3aa280cd0e12e5cfa011bda2d573,Update all SHAs for 15.1.10,MERGED,2017-09-28 13:12:43.000000000,2017-10-05 22:48:08.000000000,2017-10-05 22:48:08.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 23163}, {'_account_id': 24441}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-28 13:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ef719bf245d4a9ba38657a54c60eb7f7f6f1dcd5', 'message': ""Update all SHAs for 15.1.10\n\nThis patch updates all the roles to the latest available stable\nSHA's, copies the release notes from the updated roles into the\nintegrated repo, updates all the OpenStack Service SHA's, and\nupdates the appropriate python requirements pins.\nDepends-On: I4a2fa0435c0ef1ee764d00095adaeaccf10a6d35\n\nChange-Id: I898e2943b3ed3aa280cd0e12e5cfa011bda2d573\n""}, {'number': 2, 'created': '2017-09-28 13:13:41.000000000', 'files': ['releasenotes/notes/extra-headers-e54a672d3a78dd89.yaml', 'playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/ensure-security-groups-always-applied-eb6e3bdc7b77f022.yaml', 'releasenotes/notes/skip-sysctl-when-disabled-b32eca48df5b1437.yaml', 'releasenotes/notes/ulimit-increased-65536-50b418d8e8ca4eef.yaml', 'playbooks/inventory/group_vars/all.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a0b84a373cc3dd828b786cabb1aba02a1b342d6', 'message': ""Update all SHAs for 15.1.10\n\nThis patch updates all the roles to the latest available stable\nSHA's, copies the release notes from the updated roles into the\nintegrated repo, updates all the OpenStack Service SHA's, and\nupdates the appropriate python requirements pins.\nDepends-On: I4a2fa0435c0ef1ee764d00095adaeaccf10a6d35\n\nChange-Id: I898e2943b3ed3aa280cd0e12e5cfa011bda2d573\n""}]",0,508152,8a0b84a373cc3dd828b786cabb1aba02a1b342d6,12,6,2,17068,,,0,"Update all SHAs for 15.1.10

This patch updates all the roles to the latest available stable
SHA's, copies the release notes from the updated roles into the
integrated repo, updates all the OpenStack Service SHA's, and
updates the appropriate python requirements pins.
Depends-On: I4a2fa0435c0ef1ee764d00095adaeaccf10a6d35

Change-Id: I898e2943b3ed3aa280cd0e12e5cfa011bda2d573
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/52/508152/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'releasenotes/notes/extra-headers-e54a672d3a78dd89.yaml', 'releasenotes/notes/ensure-security-groups-always-applied-eb6e3bdc7b77f022.yaml', 'releasenotes/notes/skip-sysctl-when-disabled-b32eca48df5b1437.yaml', 'scripts/sources-branch-updater.sh', 'releasenotes/notes/ulimit-increased-65536-50b418d8e8ca4eef.yaml', 'playbooks/inventory/group_vars/all.yml', 'ansible-role-requirements.yml', 'scripts/release-yaml-file-prep.py']",9,ef719bf245d4a9ba38657a54c60eb7f7f6f1dcd5,sha-update, regex = re.compile('^https://git.openstack.org/openstack/.*$'), regex = re.compile('^.*openstack/openstack-ansible.*$'),111,69
openstack%2Fbifrost~master~Icacd843950eee1b87bac2c3387e3562f8f584b77,openstack/bifrost,master,Icacd843950eee1b87bac2c3387e3562f8f584b77,scripts: install-deps.sh: Set noninteractive for DEBIAN_FRONTEND,MERGED,2017-10-04 12:48:58.000000000,2017-10-05 22:44:58.000000000,2017-10-05 22:44:58.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 5805}, {'_account_id': 6133}, {'_account_id': 11655}]","[{'number': 1, 'created': '2017-10-04 12:48:58.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/5d82414d4f134ec0219cb25354eea914d0a3abfa', 'message': 'scripts: install-deps.sh: Set noninteractive for DEBIAN_FRONTEND\n\nThis helps fixing the following problem when installing MySQL on\nUbuntu hosts:\n\nPreparing to unpack .../mysql-server-5.7_5.7.19-0ubuntu0.16.04.1_amd64.deb ...\ndebconf: unable to initialize frontend: Dialog\ndebconf: (Dialog frontend will not work on a dumb terminal, an emacs\nshell buffer, or without a controlling terminal.)\ndebconf: falling back to frontend: Readline\nConfiguring mysql-server-5.7\n[...]\nNew password for the MySQL ""root"" user:\n\nThe package configuration becomes interactive and asks for configuring\nthe root password on MySQL and this breaks automated testing.\n\nChange-Id: Icacd843950eee1b87bac2c3387e3562f8f584b77\n'}]",0,509430,5d82414d4f134ec0219cb25354eea914d0a3abfa,8,5,1,23163,,,0,"scripts: install-deps.sh: Set noninteractive for DEBIAN_FRONTEND

This helps fixing the following problem when installing MySQL on
Ubuntu hosts:

Preparing to unpack .../mysql-server-5.7_5.7.19-0ubuntu0.16.04.1_amd64.deb ...
debconf: unable to initialize frontend: Dialog
debconf: (Dialog frontend will not work on a dumb terminal, an emacs
shell buffer, or without a controlling terminal.)
debconf: falling back to frontend: Readline
Configuring mysql-server-5.7
[...]
New password for the MySQL ""root"" user:

The package configuration becomes interactive and asks for configuring
the root password on MySQL and this breaks automated testing.

Change-Id: Icacd843950eee1b87bac2c3387e3562f8f584b77
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/30/509430/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,5d82414d4f134ec0219cb25354eea914d0a3abfa,debian-non-interactive, export DEBIAN_FRONTEND=noninteractive,,1,0
openstack%2Fbifrost~stable%2Fnewton~If2ab2b0dc116587976859cc7653affc0b19aedcd,openstack/bifrost,stable/newton,If2ab2b0dc116587976859cc7653affc0b19aedcd,Fix the dhcp checks on centos,MERGED,2017-09-04 09:10:33.000000000,2017-10-05 22:38:22.000000000,2017-10-05 22:38:22.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 11655}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-04 09:10:33.000000000', 'files': ['playbooks/roles/bifrost-test-dhcp/files/test-dhcp.py'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2d12e2271792b1cee687acfdd9b08025647b4259', 'message': 'Fix the dhcp checks on centos\n\nIt is using a different pathf or leases, so pick it properly.\n\nChange-Id: If2ab2b0dc116587976859cc7653affc0b19aedcd\n(cherry picked from commit 2dc2ca7a24f9ba5ad7370901f02310725d4756a2)\n'}]",0,500487,2d12e2271792b1cee687acfdd9b08025647b4259,15,4,1,6133,,,0,"Fix the dhcp checks on centos

It is using a different pathf or leases, so pick it properly.

Change-Id: If2ab2b0dc116587976859cc7653affc0b19aedcd
(cherry picked from commit 2dc2ca7a24f9ba5ad7370901f02310725d4756a2)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/87/500487/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-test-dhcp/files/test-dhcp.py'],1,2d12e2271792b1cee687acfdd9b08025647b4259,, if not os.path.exists('/var/lib/dnsmasq/dnsmasq.leases'): print('ERROR: dnsmasq leases file has not been generated') sys.exit(1) else: dns_path = '/var/lib/dnsmasq/dnsmasq.leases' else: dns_path = '/var/lib/misc/dnsmasq.leases' with open(dns_path) as csvfile:, print('ERROR: dnsmasq leases file has not been generated') sys.exit(1) with open('/var/lib/misc/dnsmasq.leases') as csvfile:,8,3
openstack%2Ftripleo-heat-templates~master~Ica3f79d6d0cfae446e276172146f3a9407f2971f,openstack/tripleo-heat-templates,master,Ica3f79d6d0cfae446e276172146f3a9407f2971f,Fix cold/live migration network config,MERGED,2017-08-30 23:14:22.000000000,2017-10-05 22:37:08.000000000,2017-10-05 17:16:50.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 10135}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23811}, {'_account_id': 24245}]","[{'number': 1, 'created': '2017-08-30 23:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc0730108ae68e55c433dd20a83f79e2a9a26655', 'message': 'WIP: set nova my_ip and my_block_storage_ip options\n\nChange-Id: Ica3f79d6d0cfae446e276172146f3a9407f2971f\nDepends-On: Id22a6c990f424b9f3ca6159088540ea207460ffd\n'}, {'number': 2, 'created': '2017-08-31 22:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a389bf1247997b32bda77bebc4520f498e554a22', 'message': 'WIP: set nova my_ip\n\nChange-Id: Ica3f79d6d0cfae446e276172146f3a9407f2971f\nDepends-On: Id22a6c990f424b9f3ca6159088540ea207460ffd\n'}, {'number': 3, 'created': '2017-09-29 09:24:46.000000000', 'files': ['puppet/services/nova-base.yaml', 'network/service_net_map.j2.yaml', 'puppet/services/nova-migration-target.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23331889a577b82b625610a80ecd44e164fe6cf1', 'message': ""Fix cold/live migration network config\n\nCold migration network is determined by the value of my_ip in nova.conf.\nIf this isn't set then the network with the default gateway will be used.\n\nThis patch sets my_ip and the whitelisted IP for cold migation over SSH to the\nNovaApiNetwork.\n\nUntil https://bugs.launchpad.net/nova/+bug/1671288 is fixed we cannot control\nthe network used for live migration over SSH. It is determined by hostname\nresolution.\nThis patch sets the whitelisted IP for live migration over SSH to the hostname\nresolution network for the role - which is typically the same as NovaApiNetwork.\n(NB The puppet manifest will remove duplicates).\n\nLive migration over TLS is not affected. It can control the network used so it\nconfigurable via NovaLibvirtNetwork.\n\nChange-Id: Ica3f79d6d0cfae446e276172146f3a9407f2971f\nDepends-On: Id22a6c990f424b9f3ca6159088540ea207460ffd\n""}]",1,499387,23331889a577b82b625610a80ecd44e164fe6cf1,22,8,3,23811,,,0,"Fix cold/live migration network config

Cold migration network is determined by the value of my_ip in nova.conf.
If this isn't set then the network with the default gateway will be used.

This patch sets my_ip and the whitelisted IP for cold migation over SSH to the
NovaApiNetwork.

Until https://bugs.launchpad.net/nova/+bug/1671288 is fixed we cannot control
the network used for live migration over SSH. It is determined by hostname
resolution.
This patch sets the whitelisted IP for live migration over SSH to the hostname
resolution network for the role - which is typically the same as NovaApiNetwork.
(NB The puppet manifest will remove duplicates).

Live migration over TLS is not affected. It can control the network used so it
configurable via NovaLibvirtNetwork.

Change-Id: Ica3f79d6d0cfae446e276172146f3a9407f2971f
Depends-On: Id22a6c990f424b9f3ca6159088540ea207460ffd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/499387/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-base.yaml', 'puppet/services/nova-compute.yaml', 'network/service_net_map.j2.yaml', 'puppet/services/nova-migration-target.yaml']",4,cc0730108ae68e55c433dd20a83f79e2a9a26655,," cold_migration_ssh_inbound_addr: {get_param: [ServiceNetMap, NovaApiNetwork]}"," cold_migration_ssh_inbound_addr: {get_param: [ServiceNetMap, NovaColdMigrationNetwork]}",9,4
openstack%2Fpuppet-pacemaker~master~I5db9300f8f5857bc5762a6658ea981d3ef01238b,openstack/puppet-pacemaker,master,I5db9300f8f5857bc5762a6658ea981d3ef01238b,Add autogenerated fence-amt manifest,MERGED,2017-09-29 17:59:31.000000000,2017-10-05 22:36:56.000000000,2017-10-05 22:36:56.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-29 17:59:31.000000000', 'files': ['agent_generator/src_xml/fence_amt.xml', 'agent_generator/variables.sh', 'manifests/stonith/fence_amt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-pacemaker/commit/782f4a1a5fd3b626099c0ad3a7184e1bc7620d1b', 'message': ""Add autogenerated fence-amt manifest\n\nAdd another autogenerated fence-amt manifest in order to\nto create stonith resources for AMT devices.\nSet the corresponding package to 'None' as fence-agents-amt does\nnot exist yet in CentOS.\n\nChange-Id: I5db9300f8f5857bc5762a6658ea981d3ef01238b\n""}]",0,508580,782f4a1a5fd3b626099c0ad3a7184e1bc7620d1b,16,5,1,20172,,,0,"Add autogenerated fence-amt manifest

Add another autogenerated fence-amt manifest in order to
to create stonith resources for AMT devices.
Set the corresponding package to 'None' as fence-agents-amt does
not exist yet in CentOS.

Change-Id: I5db9300f8f5857bc5762a6658ea981d3ef01238b
",git fetch https://review.opendev.org/openstack/puppet-pacemaker refs/changes/80/508580/1 && git format-patch -1 --stdout FETCH_HEAD,"['agent_generator/src_xml/fence_amt.xml', 'agent_generator/variables.sh', 'manifests/stonith/fence_amt.pp']",3,782f4a1a5fd3b626099c0ad3a7184e1bc7620d1b,fence-amt,"# == Define: pacemaker::stonith::fence_amt # # Module for managing Stonith for fence_amt. # # WARNING: Generated by ""rake generate_stonith"", manual changes will # be lost. # # === Parameters # # [*ipport*] # TCP/UDP port to use for connection with device # # [*port*] # IP address or hostname of fencing device (together with --port-as-ip) # # [*inet6_only*] # Forces agent to use IPv6 addresses only # # [*ipaddr*] # IP Address or Hostname # # [*inet4_only*] # Forces agent to use IPv4 addresses only # # [*method*] # Method to fence (onoff|cycle) # # [*passwd_script*] # Script to retrieve password # # [*passwd*] # Login password or passphrase # # [*boot_option*] # Change the default boot behavior of the machine. # # [*action*] # Fencing Action # # [*plug*] # IP address or hostname of fencing device (together with --port-as-ip) # # [*ip*] # IP Address or Hostname # # [*password*] # Login password or passphrase # # [*password_script*] # Script to retrieve password # # [*verbose*] # Verbose mode # # [*debug*] # Write debug information to given file # # [*debug_file*] # Write debug information to given file # # [*power_wait*] # Wait X seconds after issuing ON/OFF # # [*login_timeout*] # Wait X seconds for cmd prompt after login # # [*power_timeout*] # Test X seconds for status change after ON/OFF # # [*delay*] # Wait X seconds before fencing is started # # [*shell_timeout*] # Wait X seconds for cmd prompt after issuing command # # [*amttool_path*] # Path to amttool binary # # [*port_as_ip*] # Make ""port/plug"" to be an alias to IP address # # [*retry_on*] # Count of attempts to retry power on # # [*sudo*] # Use sudo (without password) when calling 3rd party sotfware. # # [*use_sudo*] # Use sudo (without password) when calling 3rd party sotfware. # # [*interval*] # Interval between tries. # # [*ensure*] # The desired state of the resource. # # [*tries*] # The number of tries. # # [*try_sleep*] # Time to sleep between tries. # # [*pcmk_host_list*] # List of Pacemaker hosts. # # [*meta_attr*] # (optional) String of meta attributes # Defaults to undef # # === Dependencies # None # # === Authors # # Generated by rake generate_stonith task. # # === Copyright # # Copyright (C) 2016 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # define pacemaker::stonith::fence_amt ( $ipport = undef, $port = undef, $inet6_only = undef, $ipaddr = undef, $inet4_only = undef, $method = undef, $passwd_script = undef, $passwd = undef, $boot_option = undef, $action = undef, $plug = undef, $ip = undef, $password = undef, $password_script = undef, $verbose = undef, $debug = undef, $debug_file = undef, $power_wait = undef, $login_timeout = undef, $power_timeout = undef, $delay = undef, $shell_timeout = undef, $amttool_path = undef, $port_as_ip = undef, $retry_on = undef, $sudo = undef, $use_sudo = undef, $meta_attr = undef, $interval = '60s', $ensure = present, $pcmk_host_list = undef, $tries = undef, $try_sleep = undef, ) { $ipport_chunk = $ipport ? { undef => '', default => ""ipport=\""${ipport}\"""", } $port_chunk = $port ? { undef => '', default => ""port=\""${port}\"""", } $inet6_only_chunk = $inet6_only ? { undef => '', default => ""inet6_only=\""${inet6_only}\"""", } $ipaddr_chunk = $ipaddr ? { undef => '', default => ""ipaddr=\""${ipaddr}\"""", } $inet4_only_chunk = $inet4_only ? { undef => '', default => ""inet4_only=\""${inet4_only}\"""", } $method_chunk = $method ? { undef => '', default => ""method=\""${method}\"""", } $passwd_script_chunk = $passwd_script ? { undef => '', default => ""passwd_script=\""${passwd_script}\"""", } $passwd_chunk = $passwd ? { undef => '', default => ""passwd=\""${passwd}\"""", } $boot_option_chunk = $boot_option ? { undef => '', default => ""boot_option=\""${boot_option}\"""", } $action_chunk = $action ? { undef => '', default => ""action=\""${action}\"""", } $plug_chunk = $plug ? { undef => '', default => ""plug=\""${plug}\"""", } $ip_chunk = $ip ? { undef => '', default => ""ip=\""${ip}\"""", } $password_chunk = $password ? { undef => '', default => ""password=\""${password}\"""", } $password_script_chunk = $password_script ? { undef => '', default => ""password_script=\""${password_script}\"""", } $verbose_chunk = $verbose ? { undef => '', default => ""verbose=\""${verbose}\"""", } $debug_chunk = $debug ? { undef => '', default => ""debug=\""${debug}\"""", } $debug_file_chunk = $debug_file ? { undef => '', default => ""debug_file=\""${debug_file}\"""", } $power_wait_chunk = $power_wait ? { undef => '', default => ""power_wait=\""${power_wait}\"""", } $login_timeout_chunk = $login_timeout ? { undef => '', default => ""login_timeout=\""${login_timeout}\"""", } $power_timeout_chunk = $power_timeout ? { undef => '', default => ""power_timeout=\""${power_timeout}\"""", } $delay_chunk = $delay ? { undef => '', default => ""delay=\""${delay}\"""", } $shell_timeout_chunk = $shell_timeout ? { undef => '', default => ""shell_timeout=\""${shell_timeout}\"""", } $amttool_path_chunk = $amttool_path ? { undef => '', default => ""amttool_path=\""${amttool_path}\"""", } $port_as_ip_chunk = $port_as_ip ? { undef => '', default => ""port_as_ip=\""${port_as_ip}\"""", } $retry_on_chunk = $retry_on ? { undef => '', default => ""retry_on=\""${retry_on}\"""", } $sudo_chunk = $sudo ? { undef => '', default => ""sudo=\""${sudo}\"""", } $use_sudo_chunk = $use_sudo ? { undef => '', default => ""use_sudo=\""${use_sudo}\"""", } $pcmk_host_value_chunk = $pcmk_host_list ? { undef => '$(/usr/sbin/crm_node -n)', default => $pcmk_host_list, } $meta_attr_value_chunk = $meta_attr ? { undef => '', default => ""meta ${meta_attr}"", } # $title can be a mac address, remove the colons for pcmk resource name $safe_title = regsubst($title, ':', '', 'G') # On Pacemaker Remote nodes we don't want a full corosync $pcmk_require = str2bool($::pcmk_is_remote) ? { true => [], false => Class['pacemaker::corosync'] } $param_string = ""${ipport_chunk} ${port_chunk} ${inet6_only_chunk} ${ipaddr_chunk} ${inet4_only_chunk} ${method_chunk} ${passwd_script_chunk} ${passwd_chunk} ${boot_option_chunk} ${action_chunk} ${plug_chunk} ${ip_chunk} ${password_chunk} ${password_script_chunk} ${verbose_chunk} ${debug_chunk} ${debug_file_chunk} ${power_wait_chunk} ${login_timeout_chunk} ${power_timeout_chunk} ${delay_chunk} ${shell_timeout_chunk} ${amttool_path_chunk} ${port_as_ip_chunk} ${retry_on_chunk} ${sudo_chunk} ${use_sudo_chunk} op monitor interval=${interval} ${meta_attr_value_chunk}"" pcmk_stonith { ""stonith-fence_amt-${safe_title}"": ensure => $ensure, stonith_type => 'fence_amt', pcmk_host_list => $pcmk_host_value_chunk, pcs_param_string => $param_string, require => $pcmk_require, tries => $tries, try_sleep => $try_sleep, } } ",,481,0
openstack%2Fdesignate~master~Ib0d20a3b4d9d7e31cb7a5198c466fc28f375cca0,openstack/designate,master,Ib0d20a3b4d9d7e31cb7a5198c466fc28f375cca0,Remove from_dict override from context,ABANDONED,2017-10-05 03:53:39.000000000,2017-10-05 22:34:33.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 03:53:39.000000000', 'files': ['designate/context.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/35b92a0417efa8a20e008127b41a496c2296231c', 'message': ""Remove from_dict override from context\n\nThis behaves slightly different from the implementation in the base\nclass and as a result it has been broken by a recent change in the\nbase context.  There doesn't seem to be any need for the override,\nso removing it is the simplest fix.\n\nChange-Id: Ib0d20a3b4d9d7e31cb7a5198c466fc28f375cca0\nCloses-Bug: 1721432\n""}]",0,509685,35b92a0417efa8a20e008127b41a496c2296231c,5,3,1,6928,,,0,"Remove from_dict override from context

This behaves slightly different from the implementation in the base
class and as a result it has been broken by a recent change in the
base context.  There doesn't seem to be any need for the override,
so removing it is the simplest fix.

Change-Id: Ib0d20a3b4d9d7e31cb7a5198c466fc28f375cca0
Closes-Bug: 1721432
",git fetch https://review.opendev.org/openstack/designate refs/changes/85/509685/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/context.py'],1,35b92a0417efa8a20e008127b41a496c2296231c,bug/1721432,," @classmethod def from_dict(cls, values): return cls(**values) ",0,4
openstack%2Fopenstack-helm~master~I850d6ad820148f657f253bfdf1a765c673af7099,openstack/openstack-helm,master,I850d6ad820148f657f253bfdf1a765c673af7099,Makefile: remove defunct charts on 'make clean',MERGED,2017-10-05 19:54:53.000000000,2017-10-05 22:32:55.000000000,2017-10-05 22:32:55.000000000,"[{'_account_id': 3}, {'_account_id': 20443}, {'_account_id': 21307}, {'_account_id': 23928}, {'_account_id': 24046}, {'_account_id': 24165}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-10-05 19:54:53.000000000', 'files': ['Makefile'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28df5921d7ae6f7701a644428d2736a4ce1b612e', 'message': ""Makefile: remove defunct charts on 'make clean'\n\nWhen there are any defunct charts either because they were removed or\nperhaps existed when testing another branch (commonly happens when\ntesting with git review -d ...) the build process breaks.\n\nThis should remove them.\n\nChange-Id: I850d6ad820148f657f253bfdf1a765c673af7099\n""}]",0,509889,28df5921d7ae6f7701a644428d2736a4ce1b612e,9,7,1,8898,,,0,"Makefile: remove defunct charts on 'make clean'

When there are any defunct charts either because they were removed or
perhaps existed when testing another branch (commonly happens when
testing with git review -d ...) the build process breaks.

This should remove them.

Change-Id: I850d6ad820148f657f253bfdf1a765c673af7099
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/89/509889/1 && git format-patch -1 --stdout FETCH_HEAD,['Makefile'],1,28df5921d7ae6f7701a644428d2736a4ce1b612e,makefile-remove-defunct-charts, rm -f */requirements.lock -rmdir -p */charts,,2,0
openstack%2Ftripleo-docs~master~I8704b197471f5e53377a7a5f18cdcc43563c54cb,openstack/tripleo-docs,master,I8704b197471f5e53377a7a5f18cdcc43563c54cb,Document simpler undercloud major upgrade,MERGED,2017-09-28 21:38:44.000000000,2017-10-05 22:29:46.000000000,2017-10-05 22:29:46.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4978}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-28 21:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8e2cbd7670bbf181e223d65674e7eb41ef015e5b', 'message': 'Document simpler undercloud major upgrade\n\nThe undercloud update docs were changed to reflect the new process\nthat started in Pike, but the major upgrade docs were not.  While the\nold process will work for now, there are plans to make changes that\nwill rely on the new process so we need to make sure to document it.\n\nSee 1e731bd20187700ea9f64ca9e346cf65ba4c8d23\n\nbp undercloud-upgrade\n\nChange-Id: I8704b197471f5e53377a7a5f18cdcc43563c54cb\n'}, {'number': 2, 'created': '2017-10-05 18:08:18.000000000', 'files': ['doc/source/install/post_deployment/upgrade.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d2e8a1336bb2444bc45c055b2f9e36ed207b58c0', 'message': 'Document simpler undercloud major upgrade\n\nThe undercloud update docs were changed to reflect the new process\nthat started in Pike, but the major upgrade docs were not.  While the\nold process will work for now, there are plans to make changes that\nwill rely on the new process so we need to make sure to document it.\n\nSee 1e731bd20187700ea9f64ca9e346cf65ba4c8d23\n\nbp undercloud-upgrade\n\nChange-Id: I8704b197471f5e53377a7a5f18cdcc43563c54cb\n'}]",0,508320,d2e8a1336bb2444bc45c055b2f9e36ed207b58c0,9,4,2,6928,,,0,"Document simpler undercloud major upgrade

The undercloud update docs were changed to reflect the new process
that started in Pike, but the major upgrade docs were not.  While the
old process will work for now, there are plans to make changes that
will rely on the new process so we need to make sure to document it.

See 1e731bd20187700ea9f64ca9e346cf65ba4c8d23

bp undercloud-upgrade

Change-Id: I8704b197471f5e53377a7a5f18cdcc43563c54cb
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/20/508320/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/post_deployment/upgrade.rst'],1,8e2cbd7670bbf181e223d65674e7eb41ef015e5b,bp/undercloud-upgrade," The following commands will upgrade the undercloud: .. admonition:: Stable Branch :class: stable When upgrading to a release Ocata or older, it is necessary to do a few more steps. These are not needed on Pike and above and should not be run:: sudo systemctl stop openstack-* sudo systemctl stop neutron-* sudo systemctl stop httpd sudo yum -y update instack-undercloud openstack-puppet-modules openstack-tripleo-common python-tripleoclient ceph-ansible Upgrade the client package and run the upgrade command:: sudo yum -y update python-tripleoclient", The following command will upgrade the undercloud:: sudo systemctl stop openstack-* sudo systemctl stop neutron-* sudo systemctl stop httpd sudo yum -y update instack-undercloud openstack-puppet-modules openstack-tripleo-common python-tripleoclient ceph-ansible,16,5
openstack%2Foctavia-dashboard~master~I5750a8356a332de26672ab0b52801e32796d69c2,openstack/octavia-dashboard,master,I5750a8356a332de26672ab0b52801e32796d69c2,Update health monitor max retries correctly,MERGED,2017-09-26 22:46:24.000000000,2017-10-05 22:29:06.000000000,2017-10-05 22:29:06.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-26 22:46:24.000000000', 'files': ['octavia_dashboard/api/rest/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/8f7cac04f8746328e950b14d9927d0431a3ee9ec', 'message': 'Update health monitor max retries correctly\n\nChange-Id: I5750a8356a332de26672ab0b52801e32796d69c2\n'}]",0,507702,8f7cac04f8746328e950b14d9927d0431a3ee9ec,11,5,1,2245,,,0,"Update health monitor max retries correctly

Change-Id: I5750a8356a332de26672ab0b52801e32796d69c2
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/02/507702/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_dashboard/api/rest/lbaasv2.py'],1,8f7cac04f8746328e950b14d9927d0431a3ee9ec,max-retries," max_retries=data['monitor'].get('retry'),"," max_retries=data['monitor'].get('timeout'),",1,1
openstack%2Fbifrost~stable%2Fnewton~Idab36eb82d916183f2fb40d326d095c5a8ee34b2,openstack/bifrost,stable/newton,Idab36eb82d916183f2fb40d326d095c5a8ee34b2,Add bindep.txt file,ABANDONED,2017-10-02 19:30:19.000000000,2017-10-05 22:27:45.000000000,,"[{'_account_id': 9542}, {'_account_id': 22348}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-10-02 19:30:19.000000000', 'files': ['bindep.txt', 'releasenotes/notes/add-bindep-support-8f54b246a1d2bca5.yaml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/93e5181e5268a823a7a71c356895711a2c062f34', 'message': ""Add bindep.txt file\n\nOpenStack CI uses bindep to figure out which packages need to be\ninstalled on the host. However, when a bindep.txt file is not\navailable, a default one is used which may or may not be good enough\nfor all cases. It's best to have control over the packages which are\ngoing to be installed on the host and as such we add our own bindep.txt\nfile.\n\nChange-Id: Idab36eb82d916183f2fb40d326d095c5a8ee34b2\n(cherry picked from commit 883372a2b73a9ebdfa7d4921998c0c5b0c73e7c4)\n""}]",0,508977,93e5181e5268a823a7a71c356895711a2c062f34,4,3,1,11655,,,0,"Add bindep.txt file

OpenStack CI uses bindep to figure out which packages need to be
installed on the host. However, when a bindep.txt file is not
available, a default one is used which may or may not be good enough
for all cases. It's best to have control over the packages which are
going to be installed on the host and as such we add our own bindep.txt
file.

Change-Id: Idab36eb82d916183f2fb40d326d095c5a8ee34b2
(cherry picked from commit 883372a2b73a9ebdfa7d4921998c0c5b0c73e7c4)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/77/508977/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'releasenotes/notes/add-bindep-support-8f54b246a1d2bca5.yaml']",2,93e5181e5268a823a7a71c356895711a2c062f34,heads/origin/stable/newton,"--- other: - bifrost host dependencies are now being installed using the ``bindep`` tool. New dependencies should be added to the bindep.txt file with the appropriate profile information if necessary. Core dependencies (ie those needed to bootstrap the system such as python, gcc, libffi, etc) must be listed in both the bindep.txt file and the scripts/install-deps.sh one for mainly two reasons. First of all, the OpenStack CI may only consult the bindep.txt in order to pull the necessary dependencies. Second, ``bindep`` needs certain packages to be present in order to its dependencies to build properly. More information about the ``bindep`` tool can be found at https://docs.openstack.org/infra/bindep/ ",,31,0
openstack%2Foctavia-dashboard~master~I55420d5f2b8befd8909cc60d2a658a46c4a64a10,openstack/octavia-dashboard,master,I55420d5f2b8befd8909cc60d2a658a46c4a64a10,Pull action button right without floating around,MERGED,2017-09-26 16:27:17.000000000,2017-10-05 22:26:23.000000000,2017-10-05 22:26:23.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-26 16:27:17.000000000', 'files': ['octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/listeners/detail.html'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/366a8952fc36c4b404e81c1a5c9189fb18348f82', 'message': 'Pull action button right without floating around\n\nChange-Id: I55420d5f2b8befd8909cc60d2a658a46c4a64a10\n'}]",0,507621,366a8952fc36c4b404e81c1a5c9189fb18348f82,11,5,1,2245,,,0,"Pull action button right without floating around

Change-Id: I55420d5f2b8befd8909cc60d2a658a46c4a64a10
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/21/507621/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/static/dashboard/project/lbaasv2/loadbalancers/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/members/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/healthmonitors/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/listeners/detail.html', 'octavia_dashboard/static/dashboard/project/lbaasv2/pools/detail.html']",5,366a8952fc36c4b404e81c1a5c9189fb18348f82,action-button," <actions allowed=""ctrl.actions"" type=""row"" item=""ctrl.pool"" ng-if=""ctrl.pool"" class=""actions_column pull-right""></actions>"," <actions allowed=""ctrl.actions"" type=""row"" item=""ctrl.pool"" ng-if=""ctrl.pool"" class=""actions_column pull-right""></actions>",10,10
openstack%2Fpatrole~master~If855b67414298d4c43c57bfaa9019d39ace7776f,openstack/patrole,master,If855b67414298d4c43c57bfaa9019d39ace7776f,Clean up identity base class resources via addClassResourceCleanup,MERGED,2017-10-04 01:07:00.000000000,2017-10-05 22:02:27.000000000,2017-10-05 22:02:27.000000000,"[{'_account_id': 3}, {'_account_id': 8556}, {'_account_id': 17896}, {'_account_id': 23185}]","[{'number': 1, 'created': '2017-10-04 01:07:00.000000000', 'files': ['patrole_tempest_plugin/tests/api/identity/rbac_base.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/c0188efba4c908b0a9c305b3c6669eefd14a7d75', 'message': 'Clean up identity base class resources via addClassResourceCleanup\n\nThis PS cleans up identity base class resources via\naddClassResourceCleanup.\n\nChange-Id: If855b67414298d4c43c57bfaa9019d39ace7776f\n'}]",0,509322,c0188efba4c908b0a9c305b3c6669eefd14a7d75,7,4,1,23186,,,0,"Clean up identity base class resources via addClassResourceCleanup

This PS cleans up identity base class resources via
addClassResourceCleanup.

Change-Id: If855b67414298d4c43c57bfaa9019d39ace7776f
",git fetch https://review.opendev.org/openstack/patrole refs/changes/22/509322/1 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/identity/rbac_base.py'],1,c0188efba4c908b0a9c305b3c6669eefd14a7d75,class_resource_cleanup," cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, cls.endpoints_client.delete_endpoint, endpoint['id']) cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, cls.roles_client.delete_role, role['id']) cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, cls.services_client.delete_service, service['id']) cls.addClassResourceCleanup( test_utils.call_and_ignore_notfound_exc, cls.users_client.delete_user, user['id'])"," def resource_setup(cls): super(BaseIdentityRbacTest, cls).resource_setup() cls.endpoints = [] cls.roles = [] cls.services = [] cls.users = [] @classmethod def resource_cleanup(cls): for endpoint in cls.endpoints: test_utils.call_and_ignore_notfound_exc( cls.endpoints_client.delete_endpoint, endpoint['id']) for role in cls.roles: test_utils.call_and_ignore_notfound_exc( cls.roles_client.delete_role, role['id']) for service in cls.services: test_utils.call_and_ignore_notfound_exc( cls.services_client.delete_service, service['id']) for user in cls.users: test_utils.call_and_ignore_notfound_exc( cls.users_client.delete_user, user['id']) super(BaseIdentityRbacTest, cls).resource_cleanup() @classmethod cls.endpoints.append(endpoint) cls.roles.append(role) cls.services.append(service) cls.users.append(user)",12,32
openstack%2Fpatrole~master~Ifc1679eb5ae7a5fc2304506929cac2b86b7b8ead,openstack/patrole,master,Ifc1679eb5ae7a5fc2304506929cac2b86b7b8ead,Clean up network class resources via addClassResourceCleanup,MERGED,2017-10-02 02:15:31.000000000,2017-10-05 21:59:28.000000000,2017-10-05 21:59:28.000000000,"[{'_account_id': 3}, {'_account_id': 8556}, {'_account_id': 17896}, {'_account_id': 22348}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-10-02 02:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/401fc53f52b3d7dbbe8cae02d23f3aa3baac2f98', 'message': 'Clean up network class resources via addClassResourceCleanup\n\nThis PS cleans up network class resources via addClassResourceCleanup.\n\nChange-Id: Ifc1679eb5ae7a5fc2304506929cac2b86b7b8ead\n'}, {'number': 2, 'created': '2017-10-02 02:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/eeb3b691289cdb2209955b47ce82ac9f2205be5c', 'message': 'Clean up network class resources via addClassResourceCleanup\n\nThis PS cleans up network class resources via addClassResourceCleanup.\n\nChange-Id: Ifc1679eb5ae7a5fc2304506929cac2b86b7b8ead\n'}, {'number': 3, 'created': '2017-10-03 01:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/e553d37e9f17d3546ef78cc1ae6e4fda45f019ff', 'message': 'Clean up network class resources via addClassResourceCleanup\n\nThis PS cleans up network class resources via addClassResourceCleanup.\n\nChange-Id: Ifc1679eb5ae7a5fc2304506929cac2b86b7b8ead\n'}, {'number': 4, 'created': '2017-10-04 00:18:00.000000000', 'files': ['patrole_tempest_plugin/tests/api/network/test_security_groups_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_metering_label_rules_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_floating_ips_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/0dd58e79879722f18491213e9384c6edf6bdd54a', 'message': 'Clean up network class resources via addClassResourceCleanup\n\nThis PS cleans up network class resources via addClassResourceCleanup.\n\nChange-Id: Ifc1679eb5ae7a5fc2304506929cac2b86b7b8ead\n'}]",1,508794,0dd58e79879722f18491213e9384c6edf6bdd54a,17,6,4,23186,,,0,"Clean up network class resources via addClassResourceCleanup

This PS cleans up network class resources via addClassResourceCleanup.

Change-Id: Ifc1679eb5ae7a5fc2304506929cac2b86b7b8ead
",git fetch https://review.opendev.org/openstack/patrole refs/changes/94/508794/4 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/network/test_security_groups_rbac.py', 'doc/source/_static/patrole.conf.sample', 'patrole_tempest_plugin/tests/api/network/test_metering_label_rules_rbac.py', 'patrole_tempest_plugin/tests/api/network/test_floating_ips_rbac.py']",4,401fc53f52b3d7dbbe8cae02d23f3aa3baac2f98,class_resource_cleanup," # Create an external network for floating ip creation. # Update router:external attribute to False for proper subnet resource # cleanup by base class. cls.addClassResourceCleanup( cls.networks_client.update_network, cls.fip_extnet_id, **{'router:external': False})"," # Create an external network for floating ip creation @classmethod def resource_cleanup(cls): # Update router:external attribute to False for proper subnet resource # cleanup by base class cls.networks_client.update_network(cls.fip_extnet_id, **{'router:external': False}) super(FloatingIpsRbacTest, cls).resource_cleanup() ",285,22
openstack%2Ftripleo-common~stable%2Fpike~I993c3354a3d9fd392fa4fa2e3b5b8ed421487a88,openstack/tripleo-common,stable/pike,I993c3354a3d9fd392fa4fa2e3b5b8ed421487a88,Fix running complex command lines via bootstrap_host_exec,MERGED,2017-10-04 21:30:12.000000000,2017-10-05 21:25:20.000000000,2017-10-05 21:25:20.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-04 21:30:12.000000000', 'files': ['scripts/bootstrap_host_only_eval', 'scripts/bootstrap_host_only_exec', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb5a15428c6668cda3b3e49c6a14c46393de40e4', 'message': 'Fix running complex command lines via bootstrap_host_exec\n\nThis currently uses eval $* which doesn\'t correctly handle complex args\ne.g with complex quoting, subshells etc..\n\nexec ""$@"" is the correct command to run.\n\n""$@"" is special in bash and expands to ""$1"" ""$2"" ""$3"" etc... to pass through\ncommand line args verbatim.  Also exec accepts a list of args while eval\naccepts a string.\n\nHowever fixing it may break command strings that happened to work previously.\nSo this change deprecates bootstrap_host_exec, replacing it with\nbootstrap_host_only_eval and bootstrap_host_only_exec.\n\nChange-Id: I993c3354a3d9fd392fa4fa2e3b5b8ed421487a88\nCloses-bug: 1718914\n(cherry picked from commit 69265fcebbf145f7bf85d85b0d2eca3805add1d8)\n'}]",0,509643,fb5a15428c6668cda3b3e49c6a14c46393de40e4,9,5,1,23811,,,0,"Fix running complex command lines via bootstrap_host_exec

This currently uses eval $* which doesn't correctly handle complex args
e.g with complex quoting, subshells etc..

exec ""$@"" is the correct command to run.

""$@"" is special in bash and expands to ""$1"" ""$2"" ""$3"" etc... to pass through
command line args verbatim.  Also exec accepts a list of args while eval
accepts a string.

However fixing it may break command strings that happened to work previously.
So this change deprecates bootstrap_host_exec, replacing it with
bootstrap_host_only_eval and bootstrap_host_only_exec.

Change-Id: I993c3354a3d9fd392fa4fa2e3b5b8ed421487a88
Closes-bug: 1718914
(cherry picked from commit 69265fcebbf145f7bf85d85b0d2eca3805add1d8)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/509643/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/bootstrap_host_only_eval', 'scripts/bootstrap_host_only_exec', 'setup.cfg']",3,fb5a15428c6668cda3b3e49c6a14c46393de40e4,bug/1718914, scripts/bootstrap_host_only_eval scripts/bootstrap_host_only_exec,,40,0
openstack%2Fneutron~master~Ida384ef9b64199387e17b02b9d8f826126a945c5,openstack/neutron,master,Ida384ef9b64199387e17b02b9d8f826126a945c5,Fullstack: add availability zone to host descriptor,MERGED,2017-10-02 19:51:25.000000000,2017-10-05 21:04:22.000000000,2017-10-05 21:04:22.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 8655}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 19:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a8a0cdf43a87701e74bc1c39534bad0538cacbc', 'message': 'Fullstack: add availability zone to host descriptor\n\nThis can be useful to test scenarios where multiple availability\nzones may be involved.\n\nChange-Id: Ida384ef9b64199387e17b02b9d8f826126a945c5\n'}, {'number': 2, 'created': '2017-10-04 20:25:16.000000000', 'files': ['neutron/tests/fullstack/resources/environment.py', 'neutron/tests/fullstack/resources/config.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dd57eba46adc73c0e8c751a1e5f902f601683840', 'message': 'Fullstack: add availability zone to host descriptor\n\nThis can be useful to test scenarios where multiple availability\nzones may be involved.\n\nChange-Id: Ida384ef9b64199387e17b02b9d8f826126a945c5\n'}]",3,508979,dd57eba46adc73c0e8c751a1e5f902f601683840,19,8,2,748,,,0,"Fullstack: add availability zone to host descriptor

This can be useful to test scenarios where multiple availability
zones may be involved.

Change-Id: Ida384ef9b64199387e17b02b9d8f826126a945c5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/508979/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/resources/environment.py']",2,7a8a0cdf43a87701e74bc1c39534bad0538cacbc,fullstack-az," firewall_driver='noop', availability_zone=None): self.availability_zone = availability_zone", firewall_driver='noop'):,10,1
openstack%2Fopenstack-ansible-lxc_container_create~master~Ifabf71d87105f81d838473f9be188f9075b691fa,openstack/openstack-ansible-lxc_container_create,master,Ifabf71d87105f81d838473f9be188f9075b691fa,[DNM] - Testing machinectl containers,ABANDONED,2017-10-05 18:24:44.000000000,2017-10-05 20:54:28.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-10-05 18:24:44.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/79554aacd8ac9a5181da6357cf0521a1aad58b0c', 'message': '[DNM] - Testing machinectl containers\n\nChange-Id: Ifabf71d87105f81d838473f9be188f9075b691fa\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,509866,79554aacd8ac9a5181da6357cf0521a1aad58b0c,3,1,1,7353,,,0,"[DNM] - Testing machinectl containers

Change-Id: Ifabf71d87105f81d838473f9be188f9075b691fa
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/66/509866/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,79554aacd8ac9a5181da6357cf0521a1aad58b0c,test-machinectl,lxc_container_backing_store: machinectl,lxc_container_backing_store: dir,1,1
openstack%2Fneutron-lib~master~I00afa065978a7158064a7746587126e51159d9c1,openstack/neutron-lib,master,I00afa065978a7158064a7746587126e51159d9c1,Update links in CONTRIBUTING.rst,MERGED,2017-09-20 02:14:57.000000000,2017-10-05 20:47:37.000000000,2017-10-05 20:47:37.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 7715}]","[{'number': 1, 'created': '2017-09-20 02:14:57.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/dfe532b5d7b438eb89e5962ed8165e457036f170', 'message': 'Update links in CONTRIBUTING.rst\n\nUse https instead of http for docs links\n\nChange-Id: I00afa065978a7158064a7746587126e51159d9c1\n'}]",0,505468,dfe532b5d7b438eb89e5962ed8165e457036f170,10,6,1,23314,,,0,"Update links in CONTRIBUTING.rst

Use https instead of http for docs links

Change-Id: I00afa065978a7158064a7746587126e51159d9c1
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/68/505468/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,dfe532b5d7b438eb89e5962ed8165e457036f170,,https://docs.openstack.org/infra/manual/developers.htmlhttps://docs.openstack.org/infra/manual/developers.html#development-workflow,http://docs.openstack.org/infra/manual/developers.htmlhttp://docs.openstack.org/infra/manual/developers.html#development-workflow,2,2
openstack%2Fpuppet-openstack-integration~master~Ifd37eb1fbf5b2726955da2e891d8149019a34452,openstack/puppet-openstack-integration,master,Ifd37eb1fbf5b2726955da2e891d8149019a34452,Install cinder-backup all the time,MERGED,2017-09-28 14:22:53.000000000,2017-10-05 20:47:30.000000000,2017-10-05 20:47:30.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-28 14:22:53.000000000', 'files': ['manifests/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/6f533be6be60af7910faa181024c2a851198d654', 'message': 'Install cinder-backup all the time\n\nThis will test the functionality of the cinder-backup installation\nregardless if it is configured or not.\n\nChange-Id: Ifd37eb1fbf5b2726955da2e891d8149019a34452\n'}]",0,508168,6f533be6be60af7910faa181024c2a851198d654,10,5,1,1004,,,0,"Install cinder-backup all the time

This will test the functionality of the cinder-backup installation
regardless if it is configured or not.

Change-Id: Ifd37eb1fbf5b2726955da2e891d8149019a34452
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/68/508168/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cinder.pp'],1,6f533be6be60af7910faa181024c2a851198d654,cinder-beaker-refactor, class { '::cinder::backup': }, include ::cinder::backup,1,1
openstack%2Fpuppet-nova~master~Ib967488ec64201ff7464174795b40ef105f7dac3,openstack/puppet-nova,master,Ib967488ec64201ff7464174795b40ef105f7dac3,Remove some useless parameters in xenserver.pp,MERGED,2017-09-30 14:46:09.000000000,2017-10-05 20:47:25.000000000,2017-10-05 20:47:24.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 26617}]","[{'number': 1, 'created': '2017-09-30 14:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f010d623b9f86dd4d2c9a375ce5954a83846042b', 'message': 'Remove some useless parameters in xenserver.pp\n\nSome parameters are useless in xenserver.pp,\nhave no effect and will be removed in the future.\n\nChange-Id: Ib967488ec64201ff7464174795b40ef105f7dac3\n'}, {'number': 2, 'created': '2017-10-05 10:30:38.000000000', 'files': ['manifests/compute/xenserver.pp', 'releasenotes/notes/remove_useless_parameter-cfb0bc82dd6693e9.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/afc4b273800ce2e0cca2cc9a8f203e6598f4db3a', 'message': 'Remove some useless parameters in xenserver.pp\n\nSome parameters are useless in xenserver.pp,\nhave no effect and will be removed in the future.\n\nChange-Id: Ib967488ec64201ff7464174795b40ef105f7dac3\n'}]",0,508686,afc4b273800ce2e0cca2cc9a8f203e6598f4db3a,26,5,2,26617,,,0,"Remove some useless parameters in xenserver.pp

Some parameters are useless in xenserver.pp,
have no effect and will be removed in the future.

Change-Id: Ib967488ec64201ff7464174795b40ef105f7dac3
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/86/508686/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/xenserver.pp', 'releasenotes/notes/remove_useless_parameter-cfb0bc82dd6693e9.yaml']",2,f010d623b9f86dd4d2c9a375ce5954a83846042b,remove_useless_parameter,--- upgrade: - Remove some useless parameters ,,3,39
openstack%2Fpuppet-openstack-integration~master~If933c3e82cda5184a4e1a449815c1d1f20134002,openstack/puppet-openstack-integration,master,If933c3e82cda5184a4e1a449815c1d1f20134002,Updated from Puppet OpenStack modules constraints,MERGED,2017-10-04 16:36:10.000000000,2017-10-05 20:47:19.000000000,2017-10-05 20:47:19.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 16:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/f83b4920c227bb7d495f50b85c16135cf2d2e9dd', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: If933c3e82cda5184a4e1a449815c1d1f20134002\n'}, {'number': 2, 'created': '2017-10-05 04:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c1562413d272c5c54e304643650783c1134a59a3', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: If933c3e82cda5184a4e1a449815c1d1f20134002\n'}, {'number': 3, 'created': '2017-10-05 08:26:13.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/b0e6314791b4ac3751765cbb62793a5ddbe5af38', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: If933c3e82cda5184a4e1a449815c1d1f20134002\n'}]",0,509549,b0e6314791b4ac3751765cbb62793a5ddbe5af38,13,4,3,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: If933c3e82cda5184a4e1a449815c1d1f20134002
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/49/509549/3 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,f83b4920c227bb7d495f50b85c16135cf2d2e9dd,openstack/puppet/constraints, :ref => 'v7.1.0', :ref => 'v7.0.0',1,1
openstack%2Fpuppet-nova~master~Ia36caa88662d3289ee94eabc5af7af4fb6739d22,openstack/puppet-nova,master,Ia36caa88662d3289ee94eabc5af7af4fb6739d22,Remove extra_params parameter,MERGED,2017-10-01 11:02:56.000000000,2017-10-05 20:47:02.000000000,2017-10-05 20:47:02.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 26617}]","[{'number': 1, 'created': '2017-10-01 11:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ef1bf1738cbe219bc79642e3324135875892ee8f', 'message': 'Remove extra_params parameter\n\nThe nova::cell_v2::cell::extra_params parameter is\ndeprecated and will be ignored.\n\nChange-Id: Ia36caa88662d3289ee94eabc5af7af4fb6739d22\n'}, {'number': 2, 'created': '2017-10-05 10:27:14.000000000', 'files': ['manifests/cell_v2/cell.pp', 'releasenotes/notes/remove_extra_params-e4321bffd2a077ee.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9c260541e4ab71b32fcc7065586ac8b640fe2cbf', 'message': 'Remove extra_params parameter\n\nThe nova::cell_v2::cell::extra_params parameter is\ndeprecated and will be ignored.\n\nChange-Id: Ia36caa88662d3289ee94eabc5af7af4fb6739d22\n'}]",0,508727,9c260541e4ab71b32fcc7065586ac8b640fe2cbf,26,5,2,26617,,,0,"Remove extra_params parameter

The nova::cell_v2::cell::extra_params parameter is
deprecated and will be ignored.

Change-Id: Ia36caa88662d3289ee94eabc5af7af4fb6739d22
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/27/508727/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cell_v2/cell.pp', 'releasenotes/notes/remove_extra_params-e4321bffd2a077ee.yaml']",2,ef1bf1738cbe219bc79642e3324135875892ee8f,remove_extra_params,--- upgrade: - Remove extra_params parameter ,,3,9
openstack%2Fpuppet-neutron~stable%2Fpike~I5cd9ce7d4ad7c8c723aee9abd98495c979265b48,openstack/puppet-neutron,stable/pike,I5cd9ce7d4ad7c8c723aee9abd98495c979265b48,Switch neutron auth provider to keystone v3,MERGED,2017-10-05 14:48:39.000000000,2017-10-05 20:46:44.000000000,2017-10-05 20:46:44.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 16312}]","[{'number': 1, 'created': '2017-10-05 14:48:39.000000000', 'files': ['spec/unit/provider/neutron_spec.rb', 'lib/puppet/provider/neutron.rb', 'releasenotes/notes/switch-keystone-to-v3-8c2c2111fe29c57c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/83e8ac72a720380bd20c05b6d44e3e62e0dd8ef5', 'message': 'Switch neutron auth provider to keystone v3\n\nUntil neutron auth provider has been implicitely using\nkeystone v2.0 by not declaring DOMAIN variables. Now\nNow, api v2.0 is being deprecated and we need to use\nAPI v3.\n\nChange-Id: I5cd9ce7d4ad7c8c723aee9abd98495c979265b48\n(cherry picked from commit ade98626f79f978473794370881d8bf1754d7c9a)\n'}]",0,509798,83e8ac72a720380bd20c05b6d44e3e62e0dd8ef5,8,4,1,14985,,,0,"Switch neutron auth provider to keystone v3

Until neutron auth provider has been implicitely using
keystone v2.0 by not declaring DOMAIN variables. Now
Now, api v2.0 is being deprecated and we need to use
API v3.

Change-Id: I5cd9ce7d4ad7c8c723aee9abd98495c979265b48
(cherry picked from commit ade98626f79f978473794370881d8bf1754d7c9a)
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/98/509798/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/neutron_spec.rb', 'lib/puppet/provider/neutron.rb', 'releasenotes/notes/switch-keystone-to-v3-8c2c2111fe29c57c.yaml']",3,83e8ac72a720380bd20c05b6d44e3e62e0dd8ef5,,--- features: - | neutron auth provider has been switch to use keystone API v3. ,,29,17
openstack%2Fpuppet-ceph~master~Ie2dca6e916d04278ca2ee9ed7c4ed43b73b77e82,openstack/puppet-ceph,master,Ie2dca6e916d04278ca2ee9ed7c4ed43b73b77e82,Fix outdated links and document spelling error,MERGED,2017-09-18 03:42:38.000000000,2017-10-05 20:46:21.000000000,2017-10-05 20:46:21.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 26458}]","[{'number': 1, 'created': '2017-09-18 03:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/204f423bc38a7069ee70141eda35e2b9fec5e3d3', 'message': 'Fix outdated links and document spelling error\n\nUpdate doc links according to OpenStack document migration.\nUse https instead of http for docs links.\n1)http://docs.openstack.org/infra/bindep/\n--> https://docs.openstack.org/infra/bindep/\n2)http://ceph.com/docs/master/install/install-ceph-gateway/\n  --> http://docs.ceph.com/docs/master/install/install-ceph-gateway/\nCloses-Bug:#1717835\n\nChange-Id: Ie2dca6e916d04278ca2ee9ed7c4ed43b73b77e82\n'}, {'number': 2, 'created': '2017-09-18 05:32:40.000000000', 'files': ['releasenotes/notes/osd-level-5ebc22c7377e0300.yaml', 'bindep.txt', 'manifests/rgw/apache_fastcgi.pp', 'releasenotes/notes/osd-check-fsid-mismatch-a5cb615be1b4e40f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/39ea7f81aa2efeb630f6bd7fb78bddd138beaeec', 'message': 'Fix outdated links and document spelling error\n\nUpdate doc links according to OpenStack document migration.\nUse https instead of http for docs links.\n1)http://docs.openstack.org/infra/bindep/\n--> https://docs.openstack.org/infra/bindep/\n2)http://ceph.com/docs/master/install/install-ceph-gateway/\n  --> http://docs.ceph.com/docs/master/install/install-ceph-gateway/\nCloses-Bug:#1717835\n\nChange-Id: Ie2dca6e916d04278ca2ee9ed7c4ed43b73b77e82\n'}]",0,504839,39ea7f81aa2efeb630f6bd7fb78bddd138beaeec,23,5,2,26458,,,0,"Fix outdated links and document spelling error

Update doc links according to OpenStack document migration.
Use https instead of http for docs links.
1)http://docs.openstack.org/infra/bindep/
--> https://docs.openstack.org/infra/bindep/
2)http://ceph.com/docs/master/install/install-ceph-gateway/
  --> http://docs.ceph.com/docs/master/install/install-ceph-gateway/
Closes-Bug:#1717835

Change-Id: Ie2dca6e916d04278ca2ee9ed7c4ed43b73b77e82
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/39/504839/2 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'releasenotes/notes/osd-level-5ebc22c7377e0300.yaml', 'manifests/rgw/apache_fastcgi.pp', 'releasenotes/notes/osd-check-fsid-mismatch-a5cb615be1b4e40f.yaml']",4,204f423bc38a7069ee70141eda35e2b9fec5e3d3,bug/1717835, - The ceph cluster FSID is explicitly added as a cluster option (--cluster-uuid) to ceph-disk prepare per OSD, - The ceph cluster FSID is explictly added as a cluster option (--cluster-uuid) to ceph-disk prepare per OSD,5,5
openstack%2Freleases~master~Ieaae43566594519b4c314ab42a7139b69eed6e35,openstack/releases,master,Ieaae43566594519b4c314ab42a7139b69eed6e35,Release OpenStack-Ansible pike/16.0.1,MERGED,2017-09-28 12:30:32.000000000,2017-10-05 20:41:03.000000000,2017-10-05 20:41:03.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-28 12:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6330a29a5974368754fc7b7fb46de0ca2f776e2c', 'message': 'Release OpenStack-Ansible pike/16.0.1\n\nChange-Id: Ieaae43566594519b4c314ab42a7139b69eed6e35\n'}, {'number': 2, 'created': '2017-09-28 12:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fc620da0058f86c908df237acef206ce5776f6bf', 'message': 'Release OpenStack-Ansible pike/16.0.1\n\nChange-Id: Ieaae43566594519b4c314ab42a7139b69eed6e35\n'}, {'number': 3, 'created': '2017-09-28 13:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/791affe159720a2a1d21649e1155d03f2c17af9b', 'message': 'Release OpenStack-Ansible pike/16.0.1\n\nChange-Id: Ieaae43566594519b4c314ab42a7139b69eed6e35\n'}, {'number': 4, 'created': '2017-09-28 15:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9c29d020dfa71c24eaebe6971e2ee08a627c7a2f', 'message': 'Release OpenStack-Ansible pike/16.0.1\n\nChange-Id: Ieaae43566594519b4c314ab42a7139b69eed6e35\n'}, {'number': 5, 'created': '2017-09-28 17:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/82c03646a4e92c7d6366eff0be3adcd47faa01a4', 'message': ""Release OpenStack-Ansible pike/16.0.1\n\nopenstack-ansible-security has been deprecated and shouldn't\nbe part of the delivery for Pike.\n\nChange-Id: Ieaae43566594519b4c314ab42a7139b69eed6e35\n""}, {'number': 6, 'created': '2017-10-01 22:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ee1c35d00319dc4ce36b68209278a0ddad8b4d0b', 'message': 'Release OpenStack-Ansible pike/16.0.1\n\nChange-Id: Ieaae43566594519b4c314ab42a7139b69eed6e35\n'}, {'number': 7, 'created': '2017-10-02 07:35:58.000000000', 'files': ['deliverables/pike/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/26ed4aa290210a41e444a9a41b8204fc05e56bde', 'message': 'Release OpenStack-Ansible pike/16.0.1\n\nChange-Id: Ieaae43566594519b4c314ab42a7139b69eed6e35\n'}]",0,508134,26ed4aa290210a41e444a9a41b8204fc05e56bde,21,6,7,17068,,,0,"Release OpenStack-Ansible pike/16.0.1

Change-Id: Ieaae43566594519b4c314ab42a7139b69eed6e35
",git fetch https://review.opendev.org/openstack/releases refs/changes/34/508134/6 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/openstack-ansible.yaml'],1,6330a29a5974368754fc7b7fb46de0ca2f776e2c,openstack-ansible, - version: 16.0.1 projects: - repo: openstack/openstack-ansible hash: 9331e74374b673926b5c32d583b5cd99d4eaca80 - repo: openstack/ansible-hardening hash: ebf333132e7a9bbecc7d233849b66ce5bff181a2 - repo: openstack/openstack-ansible-apt_package_pinning hash: e5034411a1e4502e633a000cd1bfe02566bf8712 - repo: openstack/openstack-ansible-pip_install hash: 07bfea9d7641d2cabe4ec5b0f15639ab362adbc3 - repo: openstack/openstack-ansible-galera_client hash: e4701c9a8a7054b4443d57d627aade974f6ea759 - repo: openstack/openstack-ansible-galera_server hash: 860028f3b05512d4b7b6b6faeb4832e35e341a15 - repo: openstack/openstack-ansible-ceph_client hash: 10cc0e3c7e707d85b946095770516ff52435297c - repo: openstack/openstack-ansible-haproxy_server hash: 6ff6aa69891ff510ab08920343bff863ec8e2886 - repo: openstack/openstack-ansible-lxc_container_create hash: 90eb235119d4d9253f70741dc1463477a8837bb4 - repo: openstack/openstack-ansible-lxc_hosts hash: 3714c5b734840d7e8214ba32dc5fafd70a4a6ec0 - repo: openstack/openstack-ansible-memcached_server hash: 72d548135f6c438c7fbb7b28e229cccf3c8488fe - repo: openstack/openstack-ansible-openstack_hosts hash: 82797fecff51011f7fab7abd4e59ccb1372ae371 - repo: openstack/openstack-ansible-os_keystone hash: e8bdbd9699e7c26de7f5504e622d6fce424b5806 - repo: openstack/openstack-ansible-openstack_openrc hash: 52ad978a58a06b98a116c9f5e38b5da0af775886 - repo: openstack/openstack-ansible-os_aodh hash: 4cd19b102c9d86cbf11e7a513ad2a7a0e0c427b7 - repo: openstack/openstack-ansible-os_barbican hash: d16e85f3355addf2c77df12a323815c96f25ae97 - repo: openstack/openstack-ansible-os_ceilometer hash: 4d3c565d5cb7e047363b77e10b4ce65e82238473 - repo: openstack/openstack-ansible-os_cinder hash: b3f53ea50e35e7c8821329ca926ae5413621eb3f - repo: openstack/openstack-ansible-os_glance hash: 61019976f351e5a63f840f93955e309496581ccc - repo: openstack/openstack-ansible-os_gnocchi hash: b6647a15740d7ca105b8907fef6d4d5eca042f75 - repo: openstack/openstack-ansible-os_heat hash: e6b22983433870b7dbad681a3ed052dba3e978b0 - repo: openstack/openstack-ansible-os_horizon hash: 2ff8d91aecba626cca843e43ec97f0d644ebed64 - repo: openstack/openstack-ansible-os_ironic hash: b1b50a05d808705d5a42a163fd7d195ee19c7b2e - repo: openstack/openstack-ansible-os_magnum hash: 57d2552d564754eeae792be6cdf45ff345c6d0b1 - repo: openstack/openstack-ansible-os_trove hash: a34541fca18fb7b48e2a67dfaa8ea8c067e3b1b7 - repo: openstack/openstack-ansible-os_neutron hash: dd658f95a5ee23721d908d2ae13757d20b5882ea - repo: openstack/openstack-ansible-os_nova hash: 1c125daf381659f4d1dba05ff833a5a52fd033ca - repo: openstack/openstack-ansible-os_rally hash: e57e9c23f0376a6034e642ba1d97cc301f4da644 - repo: openstack/openstack-ansible-os_sahara hash: 5904bdbc00164123b3c7707a4653bb68b64450f9 - repo: openstack/openstack-ansible-os_swift hash: d4ae912b5a07178a74964a25a070bbe374088612 - repo: openstack/openstack-ansible-os_tempest hash: 81e4153aa527f7145acb3bce496ead049a528933 - repo: openstack/openstack-ansible-plugins hash: bc8fa680b60b208b98c8be37eaa2a4a1f9c5a829 - repo: openstack/openstack-ansible-rabbitmq_server hash: e148ca4fe34504c4d298ba5fe354ff96248caf0d - repo: openstack/openstack-ansible-repo_build hash: 373d710935466e0d73a5e34119d587169cd00f91 - repo: openstack/openstack-ansible-repo_server hash: f4731abfb090b7e730bd728a3f7751c791ae9f86 - repo: openstack/openstack-ansible-rsyslog_client hash: 3cc26c1de3364f36415595d491fca9a58a3636c8 - repo: openstack/openstack-ansible-rsyslog_server hash: 0645a9071a2081bc23b9cbe73904385c8b0a09d3 - repo: openstack/openstack-ansible-os_designate hash: 56cf5e273fe6241482e840fc75c9d5e9adc228ee - repo: openstack/openstack-ansible-os_octavia hash: deae241495122d6c9b8602c7a201b604ef604086 - repo: openstack/openstack-ansible-os_molteniron hash: 9c9612a71e0166eef56105e8da34fa3564c7891e,,82,0
openstack%2Freleases~master~I4a2fa0435c0ef1ee764d00095adaeaccf10a6d35,openstack/releases,master,I4a2fa0435c0ef1ee764d00095adaeaccf10a6d35,Release OpenStack-Ansible ocata/15.1.9,MERGED,2017-09-28 12:48:12.000000000,2017-10-05 20:40:07.000000000,2017-10-05 20:40:07.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 6816}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-28 12:48:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/96a0376d36abf32221e40218450ae1db3942f952', 'message': 'Release OpenStack-Ansible ocata/15.1.9\n\nChange-Id: I4a2fa0435c0ef1ee764d00095adaeaccf10a6d35\n'}, {'number': 2, 'created': '2017-09-28 17:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/25efcfb1c61157be2c1ece2ad4ea088c5100d274', 'message': 'Release OpenStack-Ansible ocata/15.1.9\n\nChange-Id: I4a2fa0435c0ef1ee764d00095adaeaccf10a6d35\n'}, {'number': 3, 'created': '2017-09-29 10:19:56.000000000', 'files': ['deliverables/ocata/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/33299ff5cfcbeb0130e89c258839280e829898ad', 'message': 'Release OpenStack-Ansible ocata/15.1.9\n\nChange-Id: I4a2fa0435c0ef1ee764d00095adaeaccf10a6d35\n'}]",1,508146,33299ff5cfcbeb0130e89c258839280e829898ad,18,6,3,17068,,,0,"Release OpenStack-Ansible ocata/15.1.9

Change-Id: I4a2fa0435c0ef1ee764d00095adaeaccf10a6d35
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/508146/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/openstack-ansible.yaml'],1,96a0376d36abf32221e40218450ae1db3942f952,openstack-ansible, - version: 15.1.9 projects: - repo: openstack/openstack-ansible hash: 031317a83c00b07394e6002659827ef20e9dda24 - repo: openstack/ansible-hardening hash: 957c0bc39680118862a8aab66a189041827590b5 - repo: openstack/openstack-ansible-apt_package_pinning hash: d5c0d7e8d21fc1539cc043097e23851296e2dd95 - repo: openstack/openstack-ansible-pip_install hash: 767b923ba94df9ce067d7d782c1ea40bf423d764 - repo: openstack/openstack-ansible-galera_client hash: abf0fe82fdfec45d3680fbf4b13c9ba26d685e0f - repo: openstack/openstack-ansible-galera_server hash: 21aed2dde52c29cb550707658bb9a2260d076f61 - repo: openstack/openstack-ansible-ceph_client hash: 3cb26707ace29be5fc1be631faf26e060cfb6ea5 - repo: openstack/openstack-ansible-haproxy_server hash: 749d22fc362f2453088bccc5e4975c285643d410 - repo: openstack/openstack-ansible-lxc_container_create hash: 258dad41ced7f9511d4e388470a759f46d9509fa - repo: openstack/openstack-ansible-lxc_hosts hash: fc561e5acef6d6aef40fff9c194252824981890e - repo: openstack/openstack-ansible-memcached_server hash: 53e845e54ebc3cabf71e6612eaef199325b1721b - repo: openstack/openstack-ansible-openstack_hosts hash: b3d55e49ff80eba6616b19ab6d99a2fc85aad85d - repo: openstack/openstack-ansible-os_keystone hash: dfb6fa3d84455f2e17b58db20e4bcf67efc014c9 - repo: openstack/openstack-ansible-openstack_openrc hash: dfdf65b3db7c6240fa173a3a62af4e5028023626 - repo: openstack/openstack-ansible-os_aodh hash: aebf86ae0dafae3876a6faab7a0c55010c055f53 - repo: openstack/openstack-ansible-os_barbican hash: 91c62d5d2815bc53940e0048f7c9b65bd31e1a7d - repo: openstack/openstack-ansible-os_ceilometer hash: 1d709bd6eace68bfd7fb7d1e52df8d5b6f28810b - repo: openstack/openstack-ansible-os_cinder hash: efda0771083f23c7869e6a52585e8382f570a800 - repo: openstack/openstack-ansible-os_glance hash: 802c3dcad5b9f578fdac969e327bfece75509ef2 - repo: openstack/openstack-ansible-os_gnocchi hash: 6c3ffedc0e523163042cf167b1077ddc11136b4c - repo: openstack/openstack-ansible-os_heat hash: 87582ad58070ffb964f982749f71253e0f9148c4 - repo: openstack/openstack-ansible-os_horizon hash: e4ff13c56a38707e08cfc00b6eb377b2469fb750 - repo: openstack/openstack-ansible-os_ironic hash: b217195f8ae7a5a39eba7d633e625b0c3b0c63b1 - repo: openstack/openstack-ansible-os_magnum hash: dfb38385242c9e7f8c04b4485d793055f892ee17 - repo: openstack/openstack-ansible-os_trove hash: 93913b6af52bbf55d224b1b0b8ce53e3a8c84398 - repo: openstack/openstack-ansible-os_neutron hash: 1608c0aca691afd6f7d2fad1265e006efa13ab2c - repo: openstack/openstack-ansible-os_nova hash: e6f2295b369b579633f89938fd48c7075ff789af - repo: openstack/openstack-ansible-os_rally hash: 190522159369ddfec4c8df72bb2a3da351cb841d - repo: openstack/openstack-ansible-os_sahara hash: 4a224f899fbbb68be31824a265fabcb92aa873a4 - repo: openstack/openstack-ansible-os_swift hash: 0946e99dbdcde84a21d87a3876139bc31b6afbda - repo: openstack/openstack-ansible-os_tempest hash: 18dc9333cbbad6c4a22d7f9ddd4bb58fbf377a9e - repo: openstack/openstack-ansible-plugins hash: b4a5996c0e163bf39e399045d372e5877339a72b - repo: openstack/openstack-ansible-rabbitmq_server hash: f3389273c4795b55ccc800ef1fd977fba1ba0783 - repo: openstack/openstack-ansible-repo_build hash: a40a69f81832484e9c9deb7a13f63f0d0283611d - repo: openstack/openstack-ansible-repo_server hash: 2c4a2b3ebd9ba4994b86250cf7b789ed8b09a8f6 - repo: openstack/openstack-ansible-rsyslog_client hash: 5f5275720d13bd22945348751131c39877b731ab - repo: openstack/openstack-ansible-rsyslog_server hash: a7d4b0df2e9ed3c2a1414613e96c7c9db0f2db60 - repo: openstack/openstack-ansible-os_designate hash: 2d1d0a75fb30b95588b943cfa3e7c830004999f4,,78,0
openstack%2Freleases~master~Ib2c1d63b9a6ce4acfbd31c6dcaa7d8c385be8c62,openstack/releases,master,Ib2c1d63b9a6ce4acfbd31c6dcaa7d8c385be8c62,Release OpenStack-Ansible newton/14.2.9,MERGED,2017-10-03 09:48:47.000000000,2017-10-05 20:39:56.000000000,2017-10-05 20:39:56.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 09:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/92c46baa475a8c58282a239d02f334e5200ef51d', 'message': 'Release OpenStack-Ansible newton/14.2.10\n\nChange-Id: Ib2c1d63b9a6ce4acfbd31c6dcaa7d8c385be8c62\n'}, {'number': 2, 'created': '2017-10-03 11:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/e049de31228921d0d75ad8a251bd598421aced0a', 'message': 'Release OpenStack-Ansible newton/14.2.9\n\nChange-Id: Ib2c1d63b9a6ce4acfbd31c6dcaa7d8c385be8c62\n'}, {'number': 3, 'created': '2017-10-03 11:02:59.000000000', 'files': ['deliverables/newton/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/65ddf717eb17fb8ce7fe6a1d69c634a2bf69b5f2', 'message': 'Release OpenStack-Ansible newton/14.2.9\n\nChange-Id: Ib2c1d63b9a6ce4acfbd31c6dcaa7d8c385be8c62\n'}]",0,509123,65ddf717eb17fb8ce7fe6a1d69c634a2bf69b5f2,13,4,3,17068,,,0,"Release OpenStack-Ansible newton/14.2.9

Change-Id: Ib2c1d63b9a6ce4acfbd31c6dcaa7d8c385be8c62
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/509123/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/newton/openstack-ansible.yaml'],1,92c46baa475a8c58282a239d02f334e5200ef51d,, - version: 14.2.10 projects: - repo: openstack/openstack-ansible hash: 1d85ca12fa078880d38c14c2b396fa00cf38c877 - repo: openstack/ansible-hardening hash: 31bfec7b28d60518a31fcc16a10904b701b4ba40 - repo: openstack/openstack-ansible-apt_package_pinning hash: ea0e5cd10c0d96b50887de544f53d0bcc54949fc - repo: openstack/openstack-ansible-pip_install hash: 1e43ca6bf6d6a36f56d2c3269fbba8075e13149c - repo: openstack/openstack-ansible-galera_client hash: b6f095a1f7ae109f43fd3264ab5371c010a81ba8 - repo: openstack/openstack-ansible-galera_server hash: 8bb346420d3d5d69fc37300fb47c7dcfb7534bc9 - repo: openstack/openstack-ansible-ceph_client hash: 62ecbd9eb60fe8e3b676a267c2ae84b623fc8bd4 - repo: openstack/openstack-ansible-haproxy_server hash: 0ec4e0e490554dd5832c646426a3bfa8ef38be04 - repo: openstack/openstack-ansible-lxc_container_create hash: 08ba32ab2c99878d87628494042bfadf6f67697b - repo: openstack/openstack-ansible-lxc_hosts hash: dad3bd51306ac68fb622eae45bccf1e20a631f82 - repo: openstack/openstack-ansible-memcached_server hash: 0afdcad49d6d08410f1f0227619e9a984a34570f - repo: openstack/openstack-ansible-openstack_hosts hash: a8834b6806df2816e288e4c30349c643ec9e4750 - repo: openstack/openstack-ansible-os_keystone hash: 308497e1e005f4867010464f431ddd72b7a149b4 - repo: openstack/openstack-ansible-openstack_openrc hash: eafbe337bea94f32fe6fcef8149ec1c786cb8f01 - repo: openstack/openstack-ansible-os_aodh hash: ac0a498abb638300380cc769c527d2a195e13ca0 - repo: openstack/openstack-ansible-os_ceilometer hash: ee6257fa4f51ce23b57273f674b543236b658a42 - repo: openstack/openstack-ansible-os_cinder hash: 480bc09f07089b92161a3b00654abb383ee16a7f - repo: openstack/openstack-ansible-os_glance hash: 849f8df7d83ef23774485068103a6047d97a3635 - repo: openstack/openstack-ansible-os_gnocchi hash: 4372bcfd590c9d8e245c35c9cfef8c3be6df073b - repo: openstack/openstack-ansible-os_heat hash: 6054607dc1629cface1b2420fdd69f0fe1e18a50 - repo: openstack/openstack-ansible-os_horizon hash: 36a1acb58e5b6328e309617e12948fb7a00b8166 - repo: openstack/openstack-ansible-os_ironic hash: 8b1e8562f56f803dc18db58cb69e2cf83c86ec31 - repo: openstack/openstack-ansible-os_magnum hash: 8acd8217ebdcdab664e0f4f6b5bd6ee0f62edca4 - repo: openstack/openstack-ansible-os_neutron hash: b15cc7f25f2afc6754db3b35c5a84c4cacb40f02 - repo: openstack/openstack-ansible-os_nova hash: 91677876e5cf5de7305437d4dcffe4263f0701c5 - repo: openstack/openstack-ansible-os_rally hash: b6377aeeddb894ded8888966e574d8b0ea4c7022 - repo: openstack/openstack-ansible-os_sahara hash: aeb5cdc728eea8f8a63fd29443e0be911ea2e6c1 - repo: openstack/openstack-ansible-os_swift hash: ff2c09642def9f4796c7e9441d5d85e876eb8b37 - repo: openstack/openstack-ansible-os_tempest hash: 80c72fca423f4629c916efbe0e6a4f4a070b06a0 - repo: openstack/openstack-ansible-plugins hash: d9669419bf63d92c7fd0702ee6ca48fab3ea0a0a - repo: openstack/openstack-ansible-rabbitmq_server hash: f2d110a1fae658edfc790d6d1a00cf481f51e9f2 - repo: openstack/openstack-ansible-repo_build hash: aba8910567a5cdb364bbe2612a9f6f2382414274 - repo: openstack/openstack-ansible-repo_server hash: 90a77110090ab2c3314a9719daa8c1398ed1ca08 - repo: openstack/openstack-ansible-rsyslog_client hash: 56ca566ef024603b2fbfd3d0b7af6d844e26884a - repo: openstack/openstack-ansible-rsyslog_server hash: 27e47df8ad22f01d0a8905ec35ff3bfa916dc89b,,72,0
openstack%2Ftripleo-common~master~I49fb5d1cffa514b048d1be1e51e60245192f5e45,openstack/tripleo-common,master,I49fb5d1cffa514b048d1be1e51e60245192f5e45,Handle nodes that failed to start introspection,MERGED,2017-09-18 10:31:43.000000000,2017-10-05 20:10:01.000000000,2017-10-05 20:10:01.000000000,"[{'_account_id': 3}, {'_account_id': 7065}, {'_account_id': 7144}, {'_account_id': 8532}, {'_account_id': 8871}, {'_account_id': 9317}, {'_account_id': 9712}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-18 10:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/78fa3c2058322faf770735bf4060bf3e936371bf', 'message': ""Handle nodes that failed to start introspection\n\nThis can happen if the node has an incorrect provisioning state and\nhasn't previously been introspected.\n\nChange-Id: I49fb5d1cffa514b048d1be1e51e60245192f5e45\nCloses-Bug: #1716671\n""}, {'number': 2, 'created': '2017-09-18 11:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/91379ab17c2a9924b79ff247f1e9256ec0f606a5', 'message': ""Handle nodes that failed to start introspection\n\nThis can happen if the node has an incorrect provisioning state and\nhasn't previously been introspected.\n\nChange-Id: I49fb5d1cffa514b048d1be1e51e60245192f5e45\nCloses-Bug: #1716671\n""}, {'number': 3, 'created': '2017-09-19 06:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ff593f04566db50fcc49c953f1074359f7e694d5', 'message': ""Handle nodes that failed to start introspection\n\nThis can happen if the node has an incorrect provisioning state and\nhasn't previously been introspected.\n\nChange-Id: I49fb5d1cffa514b048d1be1e51e60245192f5e45\nCloses-Bug: #1716671\n""}, {'number': 4, 'created': '2017-09-27 15:22:55.000000000', 'files': ['workbooks/baremetal.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2ba36561cbe7d71988d827258a90d55861c7f3e6', 'message': ""Handle nodes that failed to start introspection\n\nThis can happen if the node has an incorrect provisioning state and\nhasn't previously been introspected.\n\nChange-Id: I49fb5d1cffa514b048d1be1e51e60245192f5e45\nCloses-Bug: #1716671\n""}]",2,504907,2ba36561cbe7d71988d827258a90d55861c7f3e6,31,8,4,9712,,,0,"Handle nodes that failed to start introspection

This can happen if the node has an incorrect provisioning state and
hasn't previously been introspected.

Change-Id: I49fb5d1cffa514b048d1be1e51e60245192f5e45
Closes-Bug: #1716671
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/07/504907/4 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/baremetal.yaml'],1,78fa3c2058322faf770735bf4060bf3e936371bf,bug/1716671," uuid: <% $.uuid %> failed_introspection: <% task().result.where($.finished = true and $.error != null).select($.uuid) + task().result.where($.finished = false).select($.uuid) %> publish-on-error: # If a node fails to start introspection, getting the status can fail. # In that case the result in a string, so we need to filter out these # nodes. introspected_nodes: <% task().result.where(isDict($)).toDict($.uuid, $) %> # If there was an error, the exception string we get doesn't give us # the UUID. So we use a set difference to find the UUIDs missing in # the results. These are then added to the failed nodes. failed_introspection: <% set($.node_uuids) - set(task().result.where(isDict($)).select($.uuid)) + task().result.where(isDict($)).where($.finished = true and $.error != null) + task().result.where(isDict($)).where($.finished = false) %> node_uuids: <% $.failed_introspection %> failed_introspection: <% $.get('failed_introspection', []) %>", uuid: <% $.uuid%> failed_introspection: <% task().result.where($.finished = true and $.error != null) + task().result.where($.finished = false) %> node_uuids: <% $.failed_introspection.select($.uuid) %>,13,3
openstack%2Fmistral~master~I60101883db26f679aa833e8b5638225d9fb93761,openstack/mistral,master,I60101883db26f679aa833e8b5638225d9fb93761,Add actions for the ironic virtual network interface commands,MERGED,2017-09-21 15:40:19.000000000,2017-10-05 20:09:58.000000000,2017-10-05 20:09:58.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7065}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9408}, {'_account_id': 9712}, {'_account_id': 10239}, {'_account_id': 11085}, {'_account_id': 15895}, {'_account_id': 19206}, {'_account_id': 21970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-21 15:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e3810d284f6ba0bc77d9cdcb166927bbf56ba7ff', 'message': 'Add actions for the ironic virtual network interface commands\n\nChange-Id: I60101883db26f679aa833e8b5638225d9fb93761\n'}, {'number': 2, 'created': '2017-09-22 06:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ed9a6611bc15bc0696f929e363c289a76dfd829b', 'message': 'Add actions for the ironic virtual network interface commands\n\nTo do this we need to update the Ironic API version to the latest stable\nrelease.\n\nChange-Id: I60101883db26f679aa833e8b5638225d9fb93761\n'}, {'number': 3, 'created': '2017-10-04 10:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/ca7fede147bddb241407629e1e6eeede8b71c2ec', 'message': 'Add actions for the ironic virtual network interface commands\n\nTo do this we need to update the Ironic API version to the latest stable\nrelease.\n\nChange-Id: I60101883db26f679aa833e8b5638225d9fb93761\n'}, {'number': 4, 'created': '2017-10-05 14:29:29.000000000', 'files': ['mistral/actions/openstack/actions.py', 'mistral/actions/openstack/mapping.json'], 'web_link': 'https://opendev.org/openstack/mistral/commit/9e5d57dadb5cd7858fcfae652414717734d23efc', 'message': 'Add actions for the ironic virtual network interface commands\n\nTo do this we need to update the Ironic API version to the latest stable\nrelease.\n\nChange-Id: I60101883db26f679aa833e8b5638225d9fb93761\n'}]",0,506264,9e5d57dadb5cd7858fcfae652414717734d23efc,28,15,4,9712,,,0,"Add actions for the ironic virtual network interface commands

To do this we need to update the Ironic API version to the latest stable
release.

Change-Id: I60101883db26f679aa833e8b5638225d9fb93761
",git fetch https://review.opendev.org/openstack/mistral refs/changes/64/506264/4 && git format-patch -1 --stdout FETCH_HEAD,['mistral/actions/openstack/mapping.json'],1,e3810d284f6ba0bc77d9cdcb166927bbf56ba7ff,," ""node_vif_attach"": ""node.vif_attach"", ""node_vif_detach"": ""node.vif_detach"", ""node_vif_list"": ""node.vif_list"",",,3,0
openstack%2Fopenstack-zuul-jobs~master~Ie33a2e357ce806f25f041e83d89ae50cafcabcb6,openstack/openstack-zuul-jobs,master,Ie33a2e357ce806f25f041e83d89ae50cafcabcb6,Remove legacy-requirements jobs,MERGED,2017-10-02 14:48:15.000000000,2017-10-05 20:08:19.000000000,2017-10-05 20:08:19.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 6589}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 14:48:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/6a46e04c4046eabf88a30e6f868829e119897b61', 'message': ""Replace legacy-requirements with requirements-check\n\nWe've made a nice new one of these in the openstack/requirements repo.\nLet's use it.\n\nChange-Id: Ie33a2e357ce806f25f041e83d89ae50cafcabcb6\nDepends-On: Iae56d131002236f2b2c24cc7339ae795f0bbb192\n""}, {'number': 2, 'created': '2017-10-02 18:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/2e92f7c48eb46ce84bc5ed3d64a986b93e551adb', 'message': ""Replace legacy-requirements with new requirements-check\n\nThis uses a script that is copied over rather than the one baked in to\nthe image so that we can iterate on it without needing an image rebuild.\n\nThis is the script from project-config jenkins/scripts but has been\nmodified to not use zuul-cloner. See:\n\n  https://review.openstack.org/#/c/508891\n  https://review.openstack.org/#/c/508894\n\nOnce the requirements repo jobs are in good shape - we'll move this\nthere.\n\nChange-Id: Ie33a2e357ce806f25f041e83d89ae50cafcabcb6\n""}, {'number': 3, 'created': '2017-10-03 14:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/70b6b12d9b6b11b707655a4e00d03464f800fa74', 'message': ""Replace legacy-requirements with new requirements-check\n\nThis uses a script that is copied over rather than the one baked in to\nthe image so that we can iterate on it without needing an image rebuild.\n\nThis is the script from project-config jenkins/scripts but has been\nmodified to not use zuul-cloner. See:\n\n  https://review.openstack.org/#/c/508891\n  https://review.openstack.org/#/c/508894\n\nOnce the requirements repo jobs are in good shape - we'll move this\nthere.\n\nChange-Id: Ie33a2e357ce806f25f041e83d89ae50cafcabcb6\n""}, {'number': 4, 'created': '2017-10-05 17:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0c23e2ace5183357400f5d772328a3a35b1dbc17', 'message': 'Replace legacy-requirements with new requirements-check\n\nThis uses a script that is copied over rather than the one baked in to\nthe image so that we can iterate on it without needing an image rebuild.\n\nThis is the script from project-config jenkins/scripts but has been\nmodified to not use zuul-cloner. See:\n\n  https://review.openstack.org/#/c/508891\n  https://review.openstack.org/#/c/508894\n\nThe check-requirements job is now in requirements repo, so we can remove\nall parts of it here. We just define the template.\n\nChange-Id: Ie33a2e357ce806f25f041e83d89ae50cafcabcb6\n'}, {'number': 5, 'created': '2017-10-05 17:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9571dfa5ea1a14ebc570b7ee30d56b6d9a89dc26', 'message': 'Replace legacy-requirements with new requirements-check\n\nThe check-requirements job is now in requirements repo, so we can remove\nall parts of it here.\n\nDepends-On: Ic373d1a36a46d1005de1665fe4d04cd197f95e96\nChange-Id: Ie33a2e357ce806f25f041e83d89ae50cafcabcb6\n'}, {'number': 6, 'created': '2017-10-05 17:58:30.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/requirements/run.yaml', 'zuul.d/zuul-legacy-project-templates.yaml', 'playbooks/legacy/requirements/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/cac04904139894a33bffaa549727780348561927', 'message': 'Remove legacy-requirements jobs\n\nThe check-requirements job is now in requirements repo, so we can remove\nall parts of it here.\n\nDepends-On: I97dc4ce3cad06f494f35c81c25e00241d8abdc74\nChange-Id: Ie33a2e357ce806f25f041e83d89ae50cafcabcb6\n'}]",3,508898,cac04904139894a33bffaa549727780348561927,34,5,6,2,,,0,"Remove legacy-requirements jobs

The check-requirements job is now in requirements repo, so we can remove
all parts of it here.

Depends-On: I97dc4ce3cad06f494f35c81c25e00241d8abdc74
Change-Id: Ie33a2e357ce806f25f041e83d89ae50cafcabcb6
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/98/508898/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/requirements/run.yaml', 'zuul.d/zuul-legacy-project-templates.yaml', 'playbooks/legacy/requirements/post.yaml']",4,6a46e04c4046eabf88a30e6f868829e119897b61,zuulv3-jobs,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs ,4,139
openstack%2Fproject-config~master~Ic815dac292498bc0705fafdc65b58af031dd42d7,openstack/project-config,master,Ic815dac292498bc0705fafdc65b58af031dd42d7,[test] DNM Checking gate jobs,ABANDONED,2017-10-04 20:16:51.000000000,2017-10-05 20:01:11.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 19593}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 20:16:51.000000000', 'files': ['jenkins/jobs/ironic-python-agent-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4448ea1f60a87335442f8b6661a9eb16ea59733f', 'message': '[test] DNM Checking gate jobs\n\nChecking if tinyIPA builds with python3\n\nChange-Id: Ic815dac292498bc0705fafdc65b58af031dd42d7\n'}]",0,509627,4448ea1f60a87335442f8b6661a9eb16ea59733f,10,4,1,19593,,,0,"[test] DNM Checking gate jobs

Checking if tinyIPA builds with python3

Change-Id: Ic815dac292498bc0705fafdc65b58af031dd42d7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/509627/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/ironic-python-agent-jobs.yaml'],1,4448ea1f60a87335442f8b6661a9eb16ea59733f,, export DEVSTACK_GATE_USE_PYTHON3 = True,,1,0
openstack%2Fneutron~master~I09678979e0d43ceb7d62ed026655df8802468079,openstack/neutron,master,I09678979e0d43ceb7d62ed026655df8802468079,Add Vf Policy Object,ABANDONED,2017-04-05 21:30:48.000000000,2017-10-05 20:00:27.000000000,,"[{'_account_id': 3}, {'_account_id': 1689}, {'_account_id': 3217}, {'_account_id': 6558}, {'_account_id': 7474}, {'_account_id': 7776}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 11604}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 16881}, {'_account_id': 20330}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-04-05 21:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27e48b3dabc5f9cf039a70a9b4e9f6ef11f725de', 'message': 'Add Vf Policy Object\n\nThis commit copies logic from QoS to use a vf policy\nobject. This will be used by a mech driver for advanced SR-IOV\nconfigurations in a later patch.\n\nPartial-Bug: #1662650\nChange-Id: I09678979e0d43ceb7d62ed026655df8802468079\n'}, {'number': 2, 'created': '2017-04-06 15:06:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ca829167b776d5111648a44f322bd5a25a44afc', 'message': 'Add Vf Policy Object\n\nThis commit copies logic from QoS to use a vf policy\nobject. This will be used by a mech driver for advanced SR-IOV\nconfigurations in a later patch.\n\nThe need to configure and manage virtual functions (VFs) on a NIC\nin order to apply policy has grown to the point that we have\nimplemented a small, DPDK based, tool to do so.  Our tool, VFd\n(Virtual Function daemon), allows us to configure VFs using a per VF\ndescription provided by an external source (e.g. a virtualisation\nmanager such as Openstack)[1].\n\nThe purpose of a vf_policy object is to associate ports to a policy\nthat can be changed at anytime by request of the user through the\nimplementation of a vf-agent\n\nThe vf-agent configures virtual functions by getting the policy\nattached to the requested port from the db and then a tool called\nIPLEX[2] passes the information to the VFd[3] to complete the\nrequested operations.\n\nVFd was added as experimental in the DPDK Release 17.02[4]\n\n[1] http://dpdk.org/ml/archives/users/2016-July/000731.html\n[2] https://github.com/att/vfd/blob/master/src/system/iplex\n[3] https://github.com/att/vfd/wiki\n[4] http://dpdk.org/doc/guides/rel_notes/release_17_02.html\n\nDocImpact: Create a Virtual Functions document to give an overview\nof its purpose, describe the vf_policy database model and api,\nand its oslo versioned object.\n\nPartial-Bug: #1662650\nChange-Id: I09678979e0d43ceb7d62ed026655df8802468079\n'}, {'number': 3, 'created': '2017-04-06 21:07:46.000000000', 'files': ['neutron/db/migration/alembic_migrations/versions/pike/expand/e4eb3a031e5e_add_vfpolicy_table.py', 'neutron/objects/port/extensions/vf_policy.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'releasenotes/notes/add-vf-policy-object-4cdd85658fd0714b.yaml', 'neutron/objects/ports.py', 'neutron/db/vf/__init__.py', 'neutron/tests/unit/objects/port/extensions/test_vf_policy.py', 'neutron/db/vf/api.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/tests/unit/objects/test_base.py', 'neutron/db/vf/models.py', 'neutron/common/exceptions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c4c56dd225e13c080287f1e9807569d1f644f9e8', 'message': 'Add Vf Policy Object\n\nThis commit copies logic from QoS to use a vf policy\nobject. This will be used by a mech driver for advanced SR-IOV\nconfigurations in a later patch.\n\nThe need to configure and manage virtual functions (VFs) on a NIC\nin order to apply policy has grown to the point that we have\nimplemented a small, DPDK based, tool to do so.  Our tool, VFd\n(Virtual Function daemon), allows us to configure VFs using a per VF\ndescription provided by an external source (e.g. a virtualisation\nmanager such as Openstack)[1].\n\nThe purpose of a vf_policy object is to associate ports to a policy\nthat can be changed at anytime by request of the user through the\nimplementation of a vf-agent\n\nThe vf-agent configures virtual functions by getting the policy\nattached to the requested port from the db and then a tool called\nIPLEX[2] passes the information to the VFd[3] to complete the\nrequested operations.\n\nVFd was added as experimental in the DPDK Release 17.02[4]\n\n[1] http://dpdk.org/ml/archives/users/2016-July/000731.html\n[2] https://github.com/att/vfd/blob/master/src/system/iplex\n[3] https://github.com/att/vfd/wiki\n[4] http://dpdk.org/doc/guides/rel_notes/release_17_02.html\n\nDocImpact: Create a Virtual Functions document to give an overview\nof its purpose, describe the vf_policy database model and api,\nand its oslo versioned object.\n\nPartial-Bug: #1662650\nChange-Id: I09678979e0d43ceb7d62ed026655df8802468079\n'}]",9,453904,c4c56dd225e13c080287f1e9807569d1f644f9e8,35,18,3,20378,,,0,"Add Vf Policy Object

This commit copies logic from QoS to use a vf policy
object. This will be used by a mech driver for advanced SR-IOV
configurations in a later patch.

The need to configure and manage virtual functions (VFs) on a NIC
in order to apply policy has grown to the point that we have
implemented a small, DPDK based, tool to do so.  Our tool, VFd
(Virtual Function daemon), allows us to configure VFs using a per VF
description provided by an external source (e.g. a virtualisation
manager such as Openstack)[1].

The purpose of a vf_policy object is to associate ports to a policy
that can be changed at anytime by request of the user through the
implementation of a vf-agent

The vf-agent configures virtual functions by getting the policy
attached to the requested port from the db and then a tool called
IPLEX[2] passes the information to the VFd[3] to complete the
requested operations.

VFd was added as experimental in the DPDK Release 17.02[4]

[1] http://dpdk.org/ml/archives/users/2016-July/000731.html
[2] https://github.com/att/vfd/blob/master/src/system/iplex
[3] https://github.com/att/vfd/wiki
[4] http://dpdk.org/doc/guides/rel_notes/release_17_02.html

DocImpact: Create a Virtual Functions document to give an overview
of its purpose, describe the vf_policy database model and api,
and its oslo versioned object.

Partial-Bug: #1662650
Change-Id: I09678979e0d43ceb7d62ed026655df8802468079
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/453904/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/vf/api.py', 'neutron/db/migration/alembic_migrations/versions/pike/expand/e4eb3a031e5e_add_vfpolicy_table.py', 'neutron/objects/port/extensions/vf_policy.py', 'neutron/tests/unit/objects/test_ports.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/vf/models.py', 'neutron/objects/ports.py', 'neutron/common/exceptions.py', 'neutron/db/vf/__init__.py', 'neutron/tests/unit/objects/port/extensions/test_vf_policy.py']",10,27e48b3dabc5f9cf039a70a9b4e9f6ef11f725de,bug/1662650,"# Copyright 2017 AT&T, Inc. # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron.common import exceptions from neutron.db import models_v2 from neutron.objects.db import api as db_api from neutron.objects.port.extensions import vf_policy from neutron.tests.unit.objects import test_base as obj_test_base from neutron.tests.unit import testlib_api class VfPolicyIfaceObjTestCase(obj_test_base.BaseObjectIfaceTestCase): _test_class = vf_policy.VfPolicy class VfPolicyDbObjTestCase(obj_test_base.BaseDbObjectTestCase, testlib_api.SqlTestCase): _test_class = vf_policy.VfPolicy def setUp(self): super(VfPolicyDbObjTestCase, self).setUp() self._create_test_network() self._create_test_port(self._network) def _create_test_policy(self): self.objs[0].create() return self.objs[0] def test_attach_port_nonexistent_port(self): obj = self._create_test_policy() self.assertRaises(exceptions.PortVfBindingNotFound, obj.attach_port, 'non-existent-port') def test_attach_port_get_port_policy(self): obj = self._create_test_policy() obj.attach_port(self._port['id']) policy_obj = vf_policy.VfPolicy.get_port_policy(self.context, self._port['id']) self.assertEqual(obj, policy_obj) def test_attach_and_get_multiple_policy_ports(self): port1_id = self._port['id'] port2 = db_api.create_object(self.context, models_v2.Port, {'tenant_id': 'fake_tenant_id', 'name': 'test-port2', 'network_id': self._network['id'], 'mac_address': 'fake_mac2', 'admin_state_up': True, 'status': 'ACTIVE', 'device_id': 'fake_device', 'device_owner': 'fake_owner'}) port2_id = port2['id'] obj = self._create_test_policy() obj.attach_port(port1_id) obj.attach_port(port2_id) ports = obj.get_bound_ports() self.assertEqual(2, len(ports)) self.assertIn(port1_id, ports) self.assertIn(port2_id, ports) def test_attach_port_get_policy_port(self): obj = self._create_test_policy() obj.attach_port(self._port['id']) ports = obj.get_bound_ports() self.assertEqual(1, len(ports)) self.assertEqual(self._port['id'], ports[0]) def test_detach_port_nonexistent_port(self): obj = self._create_test_policy() self.assertRaises(exceptions.PortVfBindingNotFound, obj.detach_port, 'non-existent-port') def test_detach_port_nonexistent_policy(self): policy_obj = self._make_object(self.obj_fields[0]) self.assertRaises(exceptions.PortVfBindingNotFound, policy_obj.detach_port, self._port['id']) ",,413,2
openstack%2Fneutron~master~If83468d309edc6ff5b068a462832dee0296a847d,openstack/neutron,master,If83468d309edc6ff5b068a462832dee0296a847d,WIP: Manage BUM traffic with secgroups,ABANDONED,2017-04-10 20:40:25.000000000,2017-10-05 20:00:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1689}, {'_account_id': 7787}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 20330}, {'_account_id': 20378}]","[{'number': 1, 'created': '2017-04-10 20:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/16f332aa60f31ea2e30472c72f09de4ade6c307b', 'message': 'WIP: Manage BUM traffic with secgroups\n\nThis commit adds flags to the secgroup rules to manage BUM traffic\nper VF based on VNF requirements.\n\nTODO:\n    * add alembic scripts\n    * more tests? / pep8\n\nChange-Id: If83468d309edc6ff5b068a462832dee0296a847d\nRelated-Bug: #1662650\n'}, {'number': 2, 'created': '2017-05-01 18:27:03.000000000', 'files': ['neutron/db/securitygroups_db.py', 'neutron/objects/securitygroup.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/db/models/securitygroup.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/migration/alembic_migrations/versions/pike/expand/336a33872f59_add_bum_traffic_attributes_to_.py', 'neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/16a422af7917d6afbe1055eb7299b95142fed395', 'message': 'WIP: Manage BUM traffic with secgroups\n\nThis commit adds flags to the secgroup rules to manage BUM traffic\nper VF based on VNF requirements.\n\nChange-Id: If83468d309edc6ff5b068a462832dee0296a847d\nRelated-Bug: #1662650\n'}]",4,455445,16a422af7917d6afbe1055eb7299b95142fed395,20,13,2,20378,,,0,"WIP: Manage BUM traffic with secgroups

This commit adds flags to the secgroup rules to manage BUM traffic
per VF based on VNF requirements.

Change-Id: If83468d309edc6ff5b068a462832dee0296a847d
Related-Bug: #1662650
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/455445/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/securitygroups_db.py', 'neutron/objects/securitygroup.py', 'neutron/tests/unit/db/test_securitygroups_db.py', 'neutron/db/models/securitygroup.py', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/extensions/securitygroup.py', 'neutron/tests/unit/extensions/test_securitygroup.py']",7,16f332aa60f31ea2e30472c72f09de4ade6c307b,bug/1662650," ethertype=const.IPv4, broadcast_allow=None, unknown_unicast_allow=None, unknown_multicast_allow=None): if broadcast_allow is not None: data['security_group_rule']['broadcast_allow'] = broadcast_allow if unknown_unicast_allow is not None: data['security_group_rule']['unknown_unicast_allow'] = unknown_unicast_allow if unknown_multicast_allow is not None: data['security_group_rule']['unknown_multicast_allow'] = unknown_multicast_allow fmt=None, ethertype=const.IPv4, broadcast_allow=None, unknown_unicast_allow=None, unknown_multicast_allow=None): ethertype=ethertype, broadcast_allow=broadcast_allow, unknown_unicast_allow=unknown_unicast_allow, unknown_multicast_allow=unknown_multicast_allow) 'port_range_min': None, 'broadcast_allow': None, 'unknown_unicast_allow': None, 'unknown_multicast_allow': None} 'port_range_min': None, 'broadcast_allow': None, 'unknown_unicast_allow': None, 'unknown_multicast_allow': None} 'port_range_min': None, 'broadcast_allow': None, 'unknown_unicast_allow': None, 'unknown_multicast_allow': None} 'port_range_min': None, 'broadcast_allow': None, 'unknown_unicast_allow': None, 'unknown_multicast_allow': None} 'port_range_min': None, 'broadcast_allow': None, 'unknown_unicast_allow': None, 'unknown_multicast_allow': None} 'port_range_min': None, 'broadcast_allow': None, 'unknown_unicast_allow': None, 'unknown_multicast_allow': None} def test_create_security_group_rule_broadcast_allow(self): name = 'webservers' description = 'my webservers' with self.security_group(name, description) as sg: security_group_id = sg['security_group']['id'] direction = ""ingress"" remote_ip_prefix = ""10.0.0.0/24"" protocol = const.PROTO_NAME_TCP port_range_min = 22 port_range_max = 22 broadcast_allow = True keys = [('remote_ip_prefix', remote_ip_prefix), ('security_group_id', security_group_id), ('direction', direction), ('protocol', protocol), ('port_range_min', port_range_min), ('port_range_max', port_range_max), ('broadcast_allow', broadcast_allow)] with self.security_group_rule(security_group_id, direction, protocol, port_range_min, port_range_max, remote_ip_prefix, broadcast_allow=broadcast_allow) as rule: for k, v, in keys: self.assertEqual(rule['security_group_rule'][k], v) def test_create_security_group_rule_unknown_unicast_allow(self): name = 'webservers' description = 'my webservers' with self.security_group(name, description) as sg: security_group_id = sg['security_group']['id'] direction = ""ingress"" remote_ip_prefix = ""10.0.0.0/24"" protocol = const.PROTO_NAME_TCP port_range_min = 22 port_range_max = 22 unknown_unicast_allow = False keys = [('remote_ip_prefix', remote_ip_prefix), ('security_group_id', security_group_id), ('direction', direction), ('protocol', protocol), ('port_range_min', port_range_min), ('port_range_max', port_range_max), ('unknown_unicast_allow', unknown_unicast_allow)] with self.security_group_rule(security_group_id, direction, protocol, port_range_min, port_range_max, remote_ip_prefix, unknown_unicast_allow=unknown_unicast_allow) as rule: for k, v, in keys: self.assertEqual(rule['security_group_rule'][k], v) def test_create_security_group_rule_unknown_multicast_allow(self): name = 'webservers' description = 'my webservers' with self.security_group(name, description) as sg: security_group_id = sg['security_group']['id'] direction = ""ingress"" remote_ip_prefix = ""10.0.0.0/24"" protocol = const.PROTO_NAME_TCP port_range_min = 22 port_range_max = 22 unknown_multicast_allow = True keys = [('remote_ip_prefix', remote_ip_prefix), ('security_group_id', security_group_id), ('direction', direction), ('protocol', protocol), ('port_range_min', port_range_min), ('port_range_max', port_range_max), ('unknown_multicast_allow', unknown_multicast_allow)] with self.security_group_rule(security_group_id, direction, protocol, port_range_min, port_range_max, remote_ip_prefix, unknown_multicast_allow=unknown_multicast_allow) as rule: for k, v, in keys: self.assertEqual(rule['security_group_rule'][k], v) def test_create_security_group_rule_icmp_with_invalid_broadcast_allow(self): name = 'webservers' description = 'my webservers' with self.security_group(name, description) as sg: security_group_id = sg['security_group']['id'] with self.security_group_rule(security_group_id): rule = self._build_security_group_rule( sg['security_group']['id'], 'ingress', const.PROTO_NAME_ICMP, '22', '22', broadcast_allow='invalid') res = self._create_security_group_rule(self.fmt, rule) self.deserialize(self.fmt, res) self.assertEqual(webob.exc.HTTPBadRequest.code, res.status_int) def test_create_security_group_rule_icmp_with_invalid_unknown_unicast_allow(self): name = 'webservers' description = 'my webservers' with self.security_group(name, description) as sg: security_group_id = sg['security_group']['id'] with self.security_group_rule(security_group_id): rule = self._build_security_group_rule( sg['security_group']['id'], 'ingress', const.PROTO_NAME_ICMP, '22', '22', unknown_unicast_allow='invalid') res = self._create_security_group_rule(self.fmt, rule) self.deserialize(self.fmt, res) self.assertEqual(webob.exc.HTTPBadRequest.code, res.status_int) def test_create_security_group_rule_icmp_with_invalid_unknown_multicast_allow(self): name = 'webservers' description = 'my webservers' with self.security_group(name, description) as sg: security_group_id = sg['security_group']['id'] with self.security_group_rule(security_group_id): rule = self._build_security_group_rule( sg['security_group']['id'], 'ingress', const.PROTO_NAME_ICMP, '22', '22', unknown_multicast_allow='invalid') res = self._create_security_group_rule(self.fmt, rule) self.deserialize(self.fmt, res) self.assertEqual(webob.exc.HTTPBadRequest.code, res.status_int) def test_create_security_group_rule_icmp_with_invalid_cast_allow(self): name = 'webservers' description = 'my webservers' with self.security_group(name, description) as sg: security_group_id = sg['security_group']['id'] with self.security_group_rule(security_group_id): rule = self._build_security_group_rule( sg['security_group']['id'], 'ingress', const.PROTO_NAME_ICMP, '22', '22', 'invalid') res = self._create_security_group_rule(self.fmt, rule) self.deserialize(self.fmt, res) self.assertEqual(webob.exc.HTTPBadRequest.code, res.status_int) "," ethertype=const.IPv4): fmt=None, ethertype=const.IPv4): ethertype=ethertype) 'port_range_min': None} 'port_range_min': None} 'port_range_min': None} 'port_range_min': None} 'port_range_min': None} 'port_range_min': None}",281,16
openstack%2Fneutron~master~Id523ad2692a4c1fa99cafef5d6b1ffe321f03d2f,openstack/neutron,master,Id523ad2692a4c1fa99cafef5d6b1ffe321f03d2f,WIP: Add Iplex interface,ABANDONED,2017-06-22 15:05:37.000000000,2017-10-05 20:00:13.000000000,,"[{'_account_id': 3}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 16881}, {'_account_id': 20330}, {'_account_id': 20378}]","[{'number': 1, 'created': '2017-06-22 15:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ab87111ca19d9a34b208db4ebe639877551a6656', 'message': ""WIP: Add Iplex interface\n\nIn order to work with VFd[1] we will first have to introduce the\ninterface it uses called iplex[2]\n\nCurrently iplex show all returns None, this is not right. I'm\nnot sure what the issue is, I added namespaces but have not\nused them yet. Still investigating.\n\n[1]https://github.com/att/vfd/wiki\n[2]https://github.com/att/vfd/blob/f5560bd5960849f73f3fe58dd41ae2a59cb2a9e2/doc/operations/iplex_cmd.md\n\nChange-Id: Id523ad2692a4c1fa99cafef5d6b1ffe321f03d2f\nPartial-Bug: #1693240\n""}, {'number': 2, 'created': '2017-06-23 21:08:18.000000000', 'files': ['etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'requirements.txt', 'neutron/agent/linux/iplex.py', 'test-requirements.txt', 'neutron/tests/functional/agent/linux/test_iplex.py', 'etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'neutron/conf/agent/vfd_conf.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ffd52ac14ec1ae8ac5b86f0e3afc06d4729169c', 'message': 'WIP: Add Iplex interface\n\nnotes on the WIP: This will have be moved to a third party CI.\nI did setup of VFd locally.\n\nIn order to work with VFd[1] we will first have to introduce the\ninterface it uses called iplex[2]\n\n[1]https://github.com/att/vfd/wiki\n[2]https://github.com/att/vfd/blob/f5560bd5960849f73f3fe58dd41ae2a59cb2a9e2/doc/operations/iplex_cmd.md\n\nChange-Id: Id523ad2692a4c1fa99cafef5d6b1ffe321f03d2f\nPartial-Bug: #1693240\n'}]",8,476547,9ffd52ac14ec1ae8ac5b86f0e3afc06d4729169c,21,8,2,20378,,,0,"WIP: Add Iplex interface

notes on the WIP: This will have be moved to a third party CI.
I did setup of VFd locally.

In order to work with VFd[1] we will first have to introduce the
interface it uses called iplex[2]

[1]https://github.com/att/vfd/wiki
[2]https://github.com/att/vfd/blob/f5560bd5960849f73f3fe58dd41ae2a59cb2a9e2/doc/operations/iplex_cmd.md

Change-Id: Id523ad2692a4c1fa99cafef5d6b1ffe321f03d2f
Partial-Bug: #1693240
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/476547/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/neutron/rootwrap.d/openvswitch-plugin.filters', 'requirements.txt', 'neutron/agent/linux/iplex.py', 'test-requirements.txt', 'neutron/tests/functional/agent/linux/test_iplex.py', 'etc/neutron/rootwrap.d/linuxbridge-plugin.filters', 'neutron/conf/agent/vfd_conf.py']",7,ab87111ca19d9a34b208db4ebe639877551a6656,bug/1693240,"# Copyright 2017 AT&T, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_config import cfg from neutron._i18n import _ OPTS = [ cfg.StrOpt('config_path_template', default='/var/lib/vfd/config/{port_uuid}.json', help='Path to store port configuration for vf-agent') ] def register_ovs_agent_opts(cfg=cfg.CONF): cfg.register_opts(OPTS) ",,157,0
openstack%2Fopenstack-zuul-jobs~master~I06f0e98da810f13f05072e60eea26ac761f0c8e4,openstack/openstack-zuul-jobs,master,I06f0e98da810f13f05072e60eea26ac761f0c8e4,Add openstack/puppet-openstack-cookiecutter to puppet jobs,MERGED,2017-10-05 15:07:59.000000000,2017-10-05 19:53:46.000000000,2017-10-05 19:53:46.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 9061}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 15:07:59.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/950658a30f3a2e9f5e7248263a4d8e8641909cc9', 'message': 'Add openstack/puppet-openstack-cookiecutter to puppet jobs\n\nThere are certain legacy jobs which need it which have not been\nported yet.\n\nChange-Id: I06f0e98da810f13f05072e60eea26ac761f0c8e4\n'}]",0,509802,950658a30f3a2e9f5e7248263a4d8e8641909cc9,9,4,1,1004,,,0,"Add openstack/puppet-openstack-cookiecutter to puppet jobs

There are certain legacy jobs which need it which have not been
ported yet.

Change-Id: I06f0e98da810f13f05072e60eea26ac761f0c8e4
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/02/509802/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,950658a30f3a2e9f5e7248263a4d8e8641909cc9,zuulv3-jobs, - openstack/puppet-openstack-cookiecutter,,1,0
openstack%2Fpuppet-keystone~master~I4250ebce75933c8fb3f85b9efdb3e2ade392a60c,openstack/puppet-keystone,master,I4250ebce75933c8fb3f85b9efdb3e2ade392a60c,Accept empty strings for log_dir and log_file,MERGED,2017-10-02 09:05:26.000000000,2017-10-05 19:53:17.000000000,2017-10-05 19:53:17.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 09:05:26.000000000', 'files': ['manifests/logging.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/cc0f65d546d417c0e69cb3fd75c10594b98d0869', 'message': 'Accept empty strings for log_dir and log_file\n\nAn empty string is an acceptable value of these entries, and it forces\nloggint to stdout/stderr, which is useful when running on containers.\n\nChange-Id: I4250ebce75933c8fb3f85b9efdb3e2ade392a60c\n'}]",0,508830,cc0f65d546d417c0e69cb3fd75c10594b98d0869,16,7,1,10873,,,0,"Accept empty strings for log_dir and log_file

An empty string is an acceptable value of these entries, and it forces
loggint to stdout/stderr, which is useful when running on containers.

Change-Id: I4250ebce75933c8fb3f85b9efdb3e2ade392a60c
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/30/508830/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/logging.pp'],1,cc0f65d546d417c0e69cb3fd75c10594b98d0869,tripleo-logging," if $log_dir != '' { $log_dir_real = pick($::keystone::log_dir,$log_dir) } else { $log_dir_real = $log_dir } if $log_file != '' { $log_file_real = pick($::keystone::log_file,$log_file) } else { $log_file_real = $log_file }"," $log_dir_real = pick($::keystone::log_dir,$log_dir) $log_file_real = pick($::keystone::log_file,$log_file)",10,2
openstack%2Ftrove~master~I5926d6033ae82f6b575294316336e51e28ff98e8,openstack/trove,master,I5926d6033ae82f6b575294316336e51e28ff98e8,Automate oslo.config documentation,ABANDONED,2017-03-10 22:13:04.000000000,2017-10-05 19:51:51.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 20378}, {'_account_id': 22623}]","[{'number': 1, 'created': '2017-03-10 22:13:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/426b82d68fa2c6acb7d35132acef9065822e5a0e', 'message': ""Automate oslo.config documentation\n\nSome in-repo doc improvements[1] were made. I'm applying them to\nour project.\n\nI listed all of the opt groups we have but we can easily remove the\nones we don't want in the docs.\n\nReferences\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html\n\nChange-Id: I5926d6033ae82f6b575294316336e51e28ff98e8\n""}, {'number': 2, 'created': '2017-03-10 22:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/d23b418ed494e2eb77165c5eaff14917522dc9e2', 'message': ""Automate oslo.config documentation\n\nSome in-repo doc improvements[1] were made. I'm applying them to\nour project.\n\nI listed all of the opt groups we have but we can easily remove the\nones we don't want in the docs.\n\nReferences\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html\n\nChange-Id: I5926d6033ae82f6b575294316336e51e28ff98e8\n""}, {'number': 3, 'created': '2017-03-20 15:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/bc2764d4c882f291dd594a7fdd70586327f025b9', 'message': ""Automate oslo.config documentation\n\nSome in-repo doc improvements[1] were made. I'm applying them to\nour project.\n\nI listed all of the opt groups we have but we can easily remove the\nones we don't want in the docs.\n\nReferences\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html\n\nChange-Id: I5926d6033ae82f6b575294316336e51e28ff98e8\n""}, {'number': 4, 'created': '2017-06-01 19:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/ffec6af6e5cb0a977240effdf2a3792442a37ef6', 'message': ""Automate oslo.config documentation\n\nSome in-repo doc improvements[1] were made. I'm applying them to\nour project.\n\nI listed all of the opt groups we have but we can easily remove the\nones we don't want in the docs.\n\nReferences\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html\n\nChange-Id: I5926d6033ae82f6b575294316336e51e28ff98e8\n""}, {'number': 5, 'created': '2017-06-23 21:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8f28b86d7cd8811bf5ca9c4d6fd2e190c1503667', 'message': ""Automate oslo.config documentation\n\nSome in-repo doc improvements[1] were made. I'm applying them to\nour project.\n\nI listed all of the opt groups we have but we can easily remove the\nones we don't want in the docs.\n\nReferences\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html\n\nChange-Id: I5926d6033ae82f6b575294316336e51e28ff98e8\n""}, {'number': 6, 'created': '2017-06-26 14:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9b5b8c0d3c4640122fa2da33566eb2c04df84efd', 'message': 'Automate oslo.config documentation\n\nSome in-repo doc improvements[1] were made. I\'m applying them to\nour project.\n\nI listed all of the opt groups we have but we can easily remove the\nones we don\'t want in the docs.\n\nReferences\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html\n\nHow to test, do one of the following:\n1. Build and run locally\n  1.1 install: python setup.py install\n  1.2 build: python setup.py build_sphinx\n  1.3 navigate to build directory: cd doc/build/html\n  1.4 Run python simple server, python SimpleHTTPServer\n  1.5 Open the following web address in your browser,\n      http://<YOUR IP>:8000/dev/opts.html\n\n2. Use gate install and build\n  2.1 Click the jenkins link called ""gate-trove-docs-ubuntu-xenial""\n  2.2 Under ""Developer Resources"" click ""Configuration Options""\n\nChange-Id: I5926d6033ae82f6b575294316336e51e28ff98e8\n'}, {'number': 7, 'created': '2017-06-26 18:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/06842f4f8753d57ac0c0fabd93776e0f88f5948a', 'message': 'Automate oslo.config documentation\n\nSome in-repo doc improvements[1] were made. I\'m applying them to\nour project.\n\nI listed all of the opt groups we have but we can easily remove the\nones we don\'t want in the docs.\n\nReferences\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html\n\nHow to test, do one of the following:\n1. Build and run locally\n  1.1 install: python setup.py install\n  1.2 build: python setup.py build_sphinx\n  1.3 navigate to build directory: cd doc/build/html\n  1.4 Run python simple server, python -m SimpleHTTPServer\n  1.5 Open the following web address in your browser,\n      http://<YOUR IP>:8000/dev/opts.html\n\n2. Use gate install and build\n  2.1 Click the jenkins link called ""gate-trove-docs-ubuntu-xenial""\n  2.2 Under ""Developer Resources"" click ""Configuration Options""\n\nChange-Id: I5926d6033ae82f6b575294316336e51e28ff98e8\n'}, {'number': 8, 'created': '2017-07-25 13:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fc41fffb3e397e7b0385fb6f167b3aeae4249857', 'message': 'Automate oslo.config documentation\n\nSome in-repo doc improvements[1] were made. I\'m applying them to\nour project.\n\nI listed all of the opt groups we have but we can easily remove the\nones we don\'t want in the docs.\n\nReferences\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html\n\nHow to test, do one of the following:\n1. Build and run locally\n  1.1 install: python setup.py install\n  1.2 build: python setup.py build_sphinx\n  1.3 navigate to build directory: cd doc/build/html\n  1.4 Run python simple server, python -m SimpleHTTPServer\n  1.5 Open the following web address in your browser,\n      http://<YOUR IP>:8000/dev/opts.html\n\n2. Use gate install and build\n  2.1 Click the jenkins link called ""gate-trove-docs-ubuntu-xenial""\n  2.2 Under ""Developer Resources"" click ""Configuration Options""\n\nCloses-Bug: #170619\nChange-Id: I5926d6033ae82f6b575294316336e51e28ff98e8\n'}, {'number': 9, 'created': '2017-07-25 13:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/e4608ac264ae02754a07fd14f697ce2821200716', 'message': 'Automate oslo.config documentation\n\nSome in-repo doc improvements[1] were made. I\'m applying them to\nour project.\n\nI listed all of the opt groups we have but we can easily remove the\nones we don\'t want in the docs.\n\nReferences\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html\n\nHow to test, do one of the following:\n1. Build and run locally\n  1.1 install: python setup.py install\n  1.2 build: python setup.py build_sphinx\n  1.3 navigate to build directory: cd doc/build/html\n  1.4 Run python simple server, python -m SimpleHTTPServer\n  1.5 Open the following web address in your browser,\n      http://<YOUR IP>:8000/dev/opts.html\n\n2. Use gate install and build\n  2.1 Click the jenkins link called ""gate-trove-docs-ubuntu-xenial""\n  2.2 Under ""Developer Resources"" click ""Configuration Options""\n\nCloses-Bug: #1706191\nChange-Id: I5926d6033ae82f6b575294316336e51e28ff98e8\n'}, {'number': 10, 'created': '2017-07-25 15:12:16.000000000', 'files': ['doc/source/index.rst', 'trove/common/cfg.py', 'doc/source/conf.py', 'setup.cfg', 'doc/source/configuration/opts.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/c5d42a7d92d12497d85c37a1ec7f1b1424e00ecc', 'message': 'Automate oslo.config documentation\n\nSome in-repo doc improvements[1] were made. I\'m applying them to\nour project.\n\nI listed all of the opt groups we have but we can easily remove the\nones we don\'t want in the docs.\n\nReferences\n[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html\n\nHow to test, do one of the following:\n1. Build and run locally\n  1.1 install: python setup.py install\n  1.2 build: python setup.py build_sphinx\n  1.3 navigate to build directory: cd doc/build/html\n  1.4 Run python simple server, python -m SimpleHTTPServer\n  1.5 Open the following web address in your browser,\n      http://<YOUR IP>:8000/dev/opts.html\n\n2. Use gate install and build\n  2.1 Click the jenkins link called ""gate-trove-docs-ubuntu-xenial""\n  2.2 Under ""Developer Resources"" click ""Configuration Options""\n\nCloses-Bug: #1706191\nChange-Id: I5926d6033ae82f6b575294316336e51e28ff98e8\n'}]",0,444516,c5d42a7d92d12497d85c37a1ec7f1b1424e00ecc,44,4,10,20378,,,0,"Automate oslo.config documentation

Some in-repo doc improvements[1] were made. I'm applying them to
our project.

I listed all of the opt groups we have but we can easily remove the
ones we don't want in the docs.

References
[1] http://lists.openstack.org/pipermail/openstack-dev/2015-August/073338.html

How to test, do one of the following:
1. Build and run locally
  1.1 install: python setup.py install
  1.2 build: python setup.py build_sphinx
  1.3 navigate to build directory: cd doc/build/html
  1.4 Run python simple server, python -m SimpleHTTPServer
  1.5 Open the following web address in your browser,
      http://<YOUR IP>:8000/dev/opts.html

2. Use gate install and build
  2.1 Click the jenkins link called ""gate-trove-docs-ubuntu-xenial""
  2.2 Under ""Developer Resources"" click ""Configuration Options""

Closes-Bug: #1706191
Change-Id: I5926d6033ae82f6b575294316336e51e28ff98e8
",git fetch https://review.opendev.org/openstack/trove refs/changes/16/444516/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'trove/common/cfg.py', 'doc/source/conf.py', 'doc/source/dev/opts.rst', 'setup.cfg', 'tox.ini']",6,426b82d68fa2c6acb7d35132acef9065822e5a0e,bug/1706191,[testenv:docs] commands = python setup.py build_sphinx,,33,1
openstack%2Ftrove~master~Ib6cf035b15216f7b3a07eab32fd399be6f652643,openstack/trove,master,Ib6cf035b15216f7b3a07eab32fd399be6f652643,Use secret on config parameters,ABANDONED,2017-04-06 14:13:55.000000000,2017-10-05 19:51:29.000000000,,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 9664}, {'_account_id': 13562}, {'_account_id': 20378}, {'_account_id': 22623}, {'_account_id': 22694}]","[{'number': 1, 'created': '2017-04-06 14:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/eb88b273a003949ef73886788d6f322279c4fc19', 'message': 'Make replication users and passwords secret\n\nMysql already has secret=True for their configuration options.\n\nThis patch extends that to all of the other database configuration\noptions using oslo.config.cfg.Opt option secret [1].\n\nCurrently the password and usernames are logged when the\nservice starts and we want to keep those a secret.\n\n[1] http://docs.openstack.org/developer/oslo.config/cfg.html\n\nChange-Id: Ib6cf035b15216f7b3a07eab32fd399be6f652643\n'}, {'number': 2, 'created': '2017-04-06 14:47:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f0027e43dbedb957d19de3d74037aeae0fa5fe6d', 'message': 'Make replication users and passwords secret\n\nMysql already has secret=True for their configuration options.\n\nThis patch extends that to all of the other database configuration\noptions using oslo.config.cfg.Opt option secret [1].\n\nCurrently the password and usernames are logged when the\nservice starts and we want to keep those a secret.\n\n[1] http://docs.openstack.org/developer/oslo.config/cfg.html\n\nCloses-Bug: #1664723\nChange-Id: Ib6cf035b15216f7b3a07eab32fd399be6f652643\n'}, {'number': 3, 'created': '2017-04-11 13:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/36eb5d5d2c8b0019ddd33a62e65b599012d1e564', 'message': 'Use secret on config parameters\n\nMysql uses secret for its sensitive configuration parameters.\n\nThis patch extends that to all of the other database configuration\noptions using oslo.config.cfg.Opt option secret [1].\n\nCurrently the password, usernames, and some keys are logged when the\nservice starts and we want to keep those a secret.\n\n[1] http://docs.openstack.org/developer/oslo.config/cfg.html\n\nCloses-Bug: #1664723\nChange-Id: Ib6cf035b15216f7b3a07eab32fd399be6f652643\n'}, {'number': 4, 'created': '2017-06-01 16:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9ab9f975eeba79bb1e53a60d0c5a43925ade1d0b', 'message': 'Use secret on config parameters\n\nMysql uses secret for its sensitive configuration parameters.\n\nThis patch extends that to all of the other database configuration\noptions using oslo.config.cfg.Opt option secret [1].\n\nCurrently the password, usernames, and some keys are logged when the\nservice starts and we want to keep those a secret.\n\n[1] http://docs.openstack.org/developer/oslo.config/cfg.html\n\nCloses-Bug: #1664723\nChange-Id: Ib6cf035b15216f7b3a07eab32fd399be6f652643\n'}, {'number': 5, 'created': '2017-06-21 17:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fa6b2318a40073746a970b3634d68660c3071820', 'message': 'Use secret on config parameters\n\nMysql uses secret for its sensitive configuration parameters.\n\nThis patch extends that to all of the other database configuration\noptions using oslo.config.cfg.Opt option secret [1].\n\nCurrently the password, usernames, and some keys are logged when the\nservice starts and we want to keep those a secret.\n\n[1] http://docs.openstack.org/developer/oslo.config/cfg.html\n\nCloses-Bug: #1664723\nChange-Id: Ib6cf035b15216f7b3a07eab32fd399be6f652643\n'}, {'number': 6, 'created': '2017-06-23 21:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/576eb02c3f4460072e3160c8211edca7727fc57e', 'message': 'Use secret on config parameters\n\nMysql uses secret for its sensitive configuration parameters.\n\nThis patch extends that to all of the other database configuration\noptions using oslo.config.cfg.Opt option secret [1].\n\nCurrently the password, usernames, and some keys are logged when the\nservice starts and we want to keep those a secret.\n\n[1] http://docs.openstack.org/developer/oslo.config/cfg.html\n\nCloses-Bug: #1664723\nChange-Id: Ib6cf035b15216f7b3a07eab32fd399be6f652643\n'}, {'number': 7, 'created': '2017-06-26 14:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4ae1cc1497f40dbf85c1ec293514335a34d84fbd', 'message': 'Use secret on config parameters\n\nMysql uses secret for its sensitive configuration parameters.\n\nThis patch extends that to all of the other database configuration\noptions using oslo.config.cfg.Opt option secret [1].\n\nCurrently the password, usernames, and some keys are logged when the\nservice starts and we want to keep those a secret.\n\n[1] http://docs.openstack.org/developer/oslo.config/cfg.html\n\nCloses-Bug: #1664723\nChange-Id: Ib6cf035b15216f7b3a07eab32fd399be6f652643\n'}, {'number': 8, 'created': '2017-07-21 19:28:07.000000000', 'files': ['trove/common/cfg.py', 'trove/cmd/guest.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/cb47a9e40bb7a2d01041e3ffd55b7c699aefa5ba', 'message': 'Use secret on config parameters\n\nMysql uses secret for its sensitive configuration parameters.\n\nThis patch extends that to all of the other database configuration\noptions using oslo.config.cfg.Opt option secret [1].\n\nCurrently the password, usernames, and some keys are logged when the\nservice starts and we want to keep those a secret.\n\n[1] http://docs.openstack.org/developer/oslo.config/cfg.html\n\nCloses-Bug: #1664723\nChange-Id: Ib6cf035b15216f7b3a07eab32fd399be6f652643\n'}]",11,454205,cb47a9e40bb7a2d01041e3ffd55b7c699aefa5ba,49,7,8,20378,,,0,"Use secret on config parameters

Mysql uses secret for its sensitive configuration parameters.

This patch extends that to all of the other database configuration
options using oslo.config.cfg.Opt option secret [1].

Currently the password, usernames, and some keys are logged when the
service starts and we want to keep those a secret.

[1] http://docs.openstack.org/developer/oslo.config/cfg.html

Closes-Bug: #1664723
Change-Id: Ib6cf035b15216f7b3a07eab32fd399be6f652643
",git fetch https://review.opendev.org/openstack/trove refs/changes/05/454205/8 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/cfg.py'],1,eb88b273a003949ef73886788d6f322279c4fc19,bug/1664723," cfg.StrOpt('replication_user', default='slave_user', secret=True, cfg.StrOpt('replication_password', default='NETOU7897NNLOU', secret=True, cfg.StrOpt('replication_user', default='slave_user', secret=True,"," cfg.StrOpt('replication_user', default='slave_user', cfg.StrOpt('replication_password', default='NETOU7897NNLOU', cfg.StrOpt('replication_user', default='slave_user',",3,3
openstack%2Ftrove~master~I5a19bd081ca3ad5d7b00d67be83b0f7ee6aecce3,openstack/trove,master,I5a19bd081ca3ad5d7b00d67be83b0f7ee6aecce3,Clean up H904 and add it to tox,ABANDONED,2017-06-07 21:16:31.000000000,2017-10-05 19:51:15.000000000,,"[{'_account_id': 3}, {'_account_id': 9664}, {'_account_id': 20378}, {'_account_id': 22608}, {'_account_id': 22623}, {'_account_id': 22694}, {'_account_id': 25720}]","[{'number': 1, 'created': '2017-06-07 21:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/96b96554a99282a3ccfe41f4ebb9d426dd6d2ddd', 'message': 'Clean up H904 and add it to tox\n\nI noticed we merged changes for H904 but we never enbaled the\nextension.\n\nChange-Id: I5a19bd081ca3ad5d7b00d67be83b0f7ee6aecce3\n'}, {'number': 2, 'created': '2017-06-08 18:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/57c496664f64cf87cb8c3fdc532b746d013781a9', 'message': 'Clean up H904 and add it to tox\n\nI noticed we merged changes for H904 but we never enbaled the\nextension.\n\nChange-Id: I5a19bd081ca3ad5d7b00d67be83b0f7ee6aecce3\n'}, {'number': 3, 'created': '2017-06-13 16:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b0fb6fa7d8604b2ebd7754b04b60963fc068dc20', 'message': 'Clean up H904 and add it to tox\n\nI noticed we merged changes for H904 but we never enbaled the\nextension.\n\nChange-Id: I5a19bd081ca3ad5d7b00d67be83b0f7ee6aecce3\n'}, {'number': 4, 'created': '2017-06-21 20:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/25f13822af1c0d761fb7228069927228149c6fed', 'message': 'Clean up H904 and add it to tox\n\nI noticed we merged changes for H904 but we never enbaled the\nextension.\n\nChange-Id: I5a19bd081ca3ad5d7b00d67be83b0f7ee6aecce3\n'}, {'number': 5, 'created': '2017-07-03 13:43:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5f3b85a96ae33575918aff953fd1ec8165725112', 'message': 'Clean up H904 and add it to tox\n\nI noticed we merged changes for H904 but we never enbaled the\nextension.\n\nChange-Id: I5a19bd081ca3ad5d7b00d67be83b0f7ee6aecce3\n'}, {'number': 6, 'created': '2017-07-13 16:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b36496bee2bb8fc45e047356a9e030e2e4e457b5', 'message': 'Clean up H904 and add it to tox\n\nI noticed we merged changes for H904 but we never enbaled the\nextension.\n\nChange-Id: I5a19bd081ca3ad5d7b00d67be83b0f7ee6aecce3\n'}, {'number': 7, 'created': '2017-07-26 16:27:01.000000000', 'files': ['trove/tests/util/utils.py', 'trove/datastore/models.py', 'trove/common/auth.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove/commit/e44e092359f4a5f21d62ff626cdd34375e472c1e', 'message': 'Clean up H904 and add it to tox\n\nI noticed we merged changes for H904 but we never enbaled the\nextension.\n\nChange-Id: I5a19bd081ca3ad5d7b00d67be83b0f7ee6aecce3\n'}]",2,471923,e44e092359f4a5f21d62ff626cdd34375e472c1e,33,7,7,20378,,,0,"Clean up H904 and add it to tox

I noticed we merged changes for H904 but we never enbaled the
extension.

Change-Id: I5a19bd081ca3ad5d7b00d67be83b0f7ee6aecce3
",git fetch https://review.opendev.org/openstack/trove refs/changes/23/471923/2 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/util/utils.py', 'trove/datastore/models.py', 'trove/common/auth.py', 'tox.ini']",4,96b96554a99282a3ccfe41f4ebb9d426dd6d2ddd,h904,"enable-extensions = H203,H106,H904","enable-extensions = H203,H106",4,4
openstack%2Fopenstack-helm~master~I11191474e72bbe0d70d542682ed4ad7c3c3dc224,openstack/openstack-helm,master,I11191474e72bbe0d70d542682ed4ad7c3c3dc224,NFS: Add NFS Chart,MERGED,2017-10-04 04:53:11.000000000,2017-10-05 19:48:58.000000000,2017-10-05 19:48:57.000000000,"[{'_account_id': 3}, {'_account_id': 8898}, {'_account_id': 15518}, {'_account_id': 17589}, {'_account_id': 17966}, {'_account_id': 20443}, {'_account_id': 20466}, {'_account_id': 21307}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-10-04 04:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fd9e930e3c31205b6e8f0d58b99bca156db4d28f', 'message': 'NFS: Add NFS Chart\n\nThis PS adds a basic NFS chart for development use.\n\nChange-Id: I11191474e72bbe0d70d542682ed4ad7c3c3dc224\nImplements: blueprint nfs-chart\n'}, {'number': 2, 'created': '2017-10-04 04:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/670cf3bc235386629f42275db7cd30da79ce2be5', 'message': 'NFS: Add NFS Chart\n\nThis PS adds a basic NFS chart for development use.\n\nChange-Id: I11191474e72bbe0d70d542682ed4ad7c3c3dc224\nImplements: blueprint nfs-chart\n'}, {'number': 3, 'created': '2017-10-04 05:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6384204704965227917b92ade08d2a89be8381a0', 'message': 'NFS: Add NFS Chart\n\nThis PS adds a basic NFS chart for development use.\n\nChange-Id: I11191474e72bbe0d70d542682ed4ad7c3c3dc224\nImplements: blueprint nfs-chart\n'}, {'number': 4, 'created': '2017-10-04 14:50:40.000000000', 'files': ['nfs-provisioner/templates/storage_class.yaml', 'nfs-provisioner/Chart.yaml', 'nfs-provisioner/templates/deployment.yaml', 'nfs-provisioner/values.yaml', 'nfs-provisioner/templates/service.yaml', 'nfs-provisioner/requirements.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/958f5caf998b03a1d2a83d269940eb91c5bf62e8', 'message': 'NFS: Add NFS Chart\n\nThis PS adds a basic NFS chart for development use.\n\nChange-Id: I11191474e72bbe0d70d542682ed4ad7c3c3dc224\nImplements: blueprint nfs-chart\n'}]",5,509332,958f5caf998b03a1d2a83d269940eb91c5bf62e8,28,11,4,23928,,,0,"NFS: Add NFS Chart

This PS adds a basic NFS chart for development use.

Change-Id: I11191474e72bbe0d70d542682ed4ad7c3c3dc224
Implements: blueprint nfs-chart
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/32/509332/1 && git format-patch -1 --stdout FETCH_HEAD,"['nfs/templates/service.yaml', 'nfs/templates/deployment.yaml', 'nfs/values.yaml', 'nfs/Chart.yaml', 'nfs/templates/storage_class.yaml', 'nfs/requirements.yaml']",6,fd9e930e3c31205b6e8f0d58b99bca156db4d28f,bp/nfs-chart," # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. dependencies: - name: helm-toolkit repository: http://localhost:8879/charts version: 0.1.0 ",,256,0
openstack%2Fneutron~master~If8d291e36a6c94441335afa98d146e3fc9975209,openstack/neutron,master,If8d291e36a6c94441335afa98d146e3fc9975209,Use port object in notifiers/test_nova.py,MERGED,2016-12-16 20:22:14.000000000,2017-10-05 19:35:36.000000000,2017-10-05 19:35:36.000000000,"[{'_account_id': 3}, {'_account_id': 4694}, {'_account_id': 6635}, {'_account_id': 6788}, {'_account_id': 7787}, {'_account_id': 8726}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 14208}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 17120}, {'_account_id': 17491}, {'_account_id': 20330}, {'_account_id': 20378}]","[{'number': 1, 'created': '2016-12-16 20:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35b68d16f2236a82d687f647d13438e11b4c5ba2', 'message': 'Use port object in notifiers/test_nova.py\n\nAs port object is ready to use. this patch replaces\nthe direct use of port model with port object in\ntests/unit/notifiers/test_nova.py\n\nChange-Id: If8d291e36a6c94441335afa98d146e3fc9975209\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 2, 'created': '2016-12-16 21:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/14b4fbcf0598bfd5ea4f03c67f9f944122291fcb', 'message': 'Use port object in notifiers/test_nova.py\n\nAs port object is ready to use. this patch replaces\nthe direct use of port model with port object in\ntests/unit/notifiers/test_nova.py\n\nChange-Id: If8d291e36a6c94441335afa98d146e3fc9975209\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\n'}, {'number': 3, 'created': '2017-10-03 21:01:33.000000000', 'files': ['neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e239de5dcc6e32f6989a6e877b47e1a77d4a8cc', 'message': 'Use port object in notifiers/test_nova.py\n\nAs port object is ready to use. this patch replaces\nthe direct use of port model with port object in\ntests/unit/notifiers/test_nova.py\n\nThis patch removes also test ""test_port_without_id_no_notify""\nas Port object can\'t be created without ID field configured\nor generated automatically by DB.\n\nCo-Authored-By: Slawek Kaplonski <slawek@kaplonski.pl>\nPartially-Implements: blueprint adopt-oslo-versioned-objects-for-db\nChange-Id: If8d291e36a6c94441335afa98d146e3fc9975209\n'}]",8,411981,1e239de5dcc6e32f6989a6e877b47e1a77d4a8cc,27,16,3,17120,,,0,"Use port object in notifiers/test_nova.py

As port object is ready to use. this patch replaces
the direct use of port model with port object in
tests/unit/notifiers/test_nova.py

This patch removes also test ""test_port_without_id_no_notify""
as Port object can't be created without ID field configured
or generated automatically by DB.

Co-Authored-By: Slawek Kaplonski <slawek@kaplonski.pl>
Partially-Implements: blueprint adopt-oslo-versioned-objects-for-db
Change-Id: If8d291e36a6c94441335afa98d146e3fc9975209
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/411981/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/notifiers/test_nova.py'],1,35b68d16f2236a82d687f647d13438e11b4c5ba2,bp/adopt-oslo-versioned-objects-for-db,"from neutron import context as n_ctxfrom neutron.objects import ports as port_obj self.ctx = n_ctx.get_admin_context() self.port_uuid = uuidutils.generate_uuid() port = port_obj.Port(self.ctx, id=self.port_uuid, device_id=device_id, device_owner=DEVICE_OWNER_COMPUTE, status=current_port_status) port = port_obj.Port(self.ctx, id=self.port_uuid, device_id='compute_probe:', device_owner=DEVICE_OWNER_COMPUTE, status=n_const.PORT_STATUS_ACTIVE) port = port_obj.Port(self.ctx, id=self.port_uuid, device_id=device_id, status=n_const.PORT_STATUS_ACTIVE) port = port_obj.Port(self.ctx, id=self.port_uuid, device_owner=n_const.DEVICE_OWNER_DHCP, status=n_const.PORT_STATUS_ACTIVE) port = port_obj.Port(self.ctx, device_id=device_id, device_owner=DEVICE_OWNER_COMPUTE, status=n_const.PORT_STATUS_ACTIVE) port = port_obj.Port(self.ctx, id=self.port_uuid, device_id=device_id, device_owner=n_const.DEVICE_OWNER_DHCP, status=n_const.PORT_STATUS_ACTIVE) if not (hasattr(port, 'device_id') and hasattr(port, 'id') and hasattr(port, 'device_owner') and 'name': event_name, 'tag': self.port_uuid}"," port = models_v2.Port(id='port-uuid', device_id=device_id, device_owner=DEVICE_OWNER_COMPUTE, status=current_port_status) port = models_v2.Port(id='port-uuid', device_id='compute_probe:', device_owner=DEVICE_OWNER_COMPUTE, status=n_const.PORT_STATUS_ACTIVE) port = models_v2.Port(id='port-uuid', device_id=device_id, status=n_const.PORT_STATUS_ACTIVE) port = models_v2.Port(id='port-uuid', device_owner=n_const.DEVICE_OWNER_DHCP, status=n_const.PORT_STATUS_ACTIVE) port = models_v2.Port(device_id=device_id, device_owner=DEVICE_OWNER_COMPUTE, status=n_const.PORT_STATUS_ACTIVE) port = models_v2.Port(id='port-uuid', device_id=device_id, device_owner=n_const.DEVICE_OWNER_DHCP, status=n_const.PORT_STATUS_ACTIVE) if not (port.device_id and port.id and port.device_owner and 'name': event_name, 'tag': 'port-uuid'}",27,19
openstack%2Fblazar~master~I07a959b36578f3ec9188f5b86593bbbba6370b58,openstack/blazar,master,I07a959b36578f3ec9188f5b86593bbbba6370b58,Fix filter scheduler settings in DevStack plugin,MERGED,2017-09-26 05:47:56.000000000,2017-10-05 19:25:22.000000000,2017-10-05 19:25:22.000000000,"[{'_account_id': 3}, {'_account_id': 8878}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 23840}]","[{'number': 1, 'created': '2017-09-26 05:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/dc7713c1da3618e11b8c91fb006d5296e8f14814', 'message': 'Fix filter scheduler settings in Devstack plugin\n\nSome necessary filter schedulers for instance reservation are not\nenabled by the Devstack installer. This patch fixes the broblem.\n\nChange-Id: I07a959b36578f3ec9188f5b86593bbbba6370b58\nCloses-Bug: #1719278\n'}, {'number': 2, 'created': '2017-09-27 02:41:38.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/blazar/commit/2f2f42651f5841ae1572da06b20d124f24c293a2', 'message': 'Fix filter scheduler settings in DevStack plugin\n\nSome necessary scheduler filters for instance reservation are not\nenabled by the DevStack plugin. This patch fixes the problem.\n\nChange-Id: I07a959b36578f3ec9188f5b86593bbbba6370b58\nCloses-Bug: #1719278\n'}]",10,507352,2f2f42651f5841ae1572da06b20d124f24c293a2,22,5,2,23840,,,0,"Fix filter scheduler settings in DevStack plugin

Some necessary scheduler filters for instance reservation are not
enabled by the DevStack plugin. This patch fixes the problem.

Change-Id: I07a959b36578f3ec9188f5b86593bbbba6370b58
Closes-Bug: #1719278
",git fetch https://review.opendev.org/openstack/blazar refs/changes/52/507352/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,dc7713c1da3618e11b8c91fb006d5296e8f14814,bug/1719278," ACTUAL_FILTERS=""$ACTUAL_FILTERS,AggregateInstanceExtraSpecsFilter"" ACTUAL_FILTERS=""$ACTUAL_FILTERS,AggregateMultiTenancyIsolation"" ACTUAL_FILTERS=""$ACTUAL_FILTERS,ServerGroupAntiAffinityFilter"" ACTUAL_FILTERS=""$ACTUAL_FILTERS,BlazarFilter"" iniset $NOVA_CONF filter_scheduler enabled_filters $ACTUAL_FILTERS"," iniset $NOVA_CONF filter_scheduler enabled_filters ""$ACTUAL_FILTERS,AggregateInstanceExtraSpecsFilter"" iniset $NOVA_CONF filter_scheduler enabled_filters ""$ACTUAL_FILTERS,AggregateMultiTenancyIsolation"" iniset $NOVA_CONF filter_scheduler enabled_filters ""$ACTUAL_FILTERS,ServerGroupAntiAffinityFilter"" iniset $NOVA_CONF filter_scheduler enabled_filters ""$ACTUAL_FILTERS,BlazarFilter""",5,5
openstack%2Fnova~master~I9913e5a05791b41ee0c02a608e8018e2840cf5ed,openstack/nova,master,I9913e5a05791b41ee0c02a608e8018e2840cf5ed,Add test for resize migration type detection,ABANDONED,2017-10-05 17:41:52.000000000,2017-10-05 19:23:42.000000000,,[],"[{'number': 1, 'created': '2017-10-05 17:41:52.000000000', 'files': ['nova/tests/unit/conductor/tasks/test_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fc64f0e119e5036332384eba646a3d0b023fe97b', 'message': 'Add test for resize migration type detection\n\nThe migrate task detects the migration type based on flavor id. This\nadds another test to make sure it chooses correctly.\n\nRelated to blueprint migration-allocations\n\nChange-Id: I9913e5a05791b41ee0c02a608e8018e2840cf5ed\n'}]",0,509852,fc64f0e119e5036332384eba646a3d0b023fe97b,2,0,1,4393,,,0,"Add test for resize migration type detection

The migrate task detects the migration type based on flavor id. This
adds another test to make sure it chooses correctly.

Related to blueprint migration-allocations

Change-Id: I9913e5a05791b41ee0c02a608e8018e2840cf5ed
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/509852/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/conductor/tasks/test_migrate.py'],1,fc64f0e119e5036332384eba646a3d0b023fe97b,bp/migration-allocations," if old_flavor.id != new_flavor.id: self.assertEqual('resize', task._migration.migration_type) else: self.assertEqual('migration', task._migration.migration_type) def test_execute_resize(self): self.flavor = self.flavor.obj_clone() self.flavor.id = 3 self.test_execute() "," self.assertEqual('migration', task._migration.migration_type)",9,1
openstack%2Fneutron~master~Ib0a5162912caac0508e19996fb13e431af39cfc4,openstack/neutron,master,Ib0a5162912caac0508e19996fb13e431af39cfc4,DVR: Fix bad arping call in centralized floating IP code,MERGED,2017-09-14 21:39:38.000000000,2017-10-05 19:23:35.000000000,2017-10-05 19:12:52.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 7016}, {'_account_id': 7715}, {'_account_id': 8655}, {'_account_id': 8871}, {'_account_id': 9656}, {'_account_id': 10385}, {'_account_id': 15752}]","[{'number': 1, 'created': '2017-09-14 21:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d4e5d9acd32c7c0141d9ee912c73a369e5866f4', 'message': 'DVR: Fix bad arping call in centralized floating IP code\n\nWhen the centralized floating IP code was added, the call\nto send_ip_addr_adv_notif() had an incorrect argument,\nleading to this failure in the l3-agent log:\n\nTypeError: range() integer end argument expected, got ConfigOpts.\n\nTrivialFix\n\nChange-Id: Ib0a5162912caac0508e19996fb13e431af39cfc4\n'}, {'number': 2, 'created': '2017-09-15 20:57:50.000000000', 'files': ['neutron/agent/l3/dvr_edge_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/92f1052d3c5d5bc7b89e49fdfff8f0ef24832a1c', 'message': 'DVR: Fix bad arping call in centralized floating IP code\n\nWhen the centralized floating IP code was added, the call\nto send_ip_addr_adv_notif() had an incorrect argument,\nleading to this failure in the l3-agent log:\n\nTypeError: range() integer end argument expected, got ConfigOpts.\n\nCloses-bug: #1717597\nChange-Id: Ib0a5162912caac0508e19996fb13e431af39cfc4\n'}]",1,504252,92f1052d3c5d5bc7b89e49fdfff8f0ef24832a1c,34,11,2,1131,,,0,"DVR: Fix bad arping call in centralized floating IP code

When the centralized floating IP code was added, the call
to send_ip_addr_adv_notif() had an incorrect argument,
leading to this failure in the l3-agent log:

TypeError: range() integer end argument expected, got ConfigOpts.

Closes-bug: #1717597
Change-Id: Ib0a5162912caac0508e19996fb13e431af39cfc4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/504252/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/dvr_edge_router.py'],1,5d4e5d9acd32c7c0141d9ee912c73a369e5866f4,bad-arping-arg, fip['floating_ip_address'])," fip['floating_ip_address'], self.agent_conf)",1,2
openstack%2Fopenstack-ansible~master~I79250db32552e731a3b45622e5b3e757cb96d5ed,openstack/openstack-ansible,master,I79250db32552e731a3b45622e5b3e757cb96d5ed,Run the ceph-mons deploy in serial,MERGED,2017-09-29 12:14:26.000000000,2017-10-05 19:23:11.000000000,2017-10-05 19:23:11.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-29 12:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f1b835ffc27918021b1d1eaa749ac5c691358144', 'message': 'Run the ceph-mons container setup in serial\n\nLog mount changes and other container config changes can trigger\nreboots of all of the containers at once in the current setup. We\nshould run the container setup in serial so only one monitor at a\ntime is rebooted. This will avoid an outage of the Ceph cluster\nin case a reboot is triggered.\n\nChange-Id: I79250db32552e731a3b45622e5b3e757cb96d5ed\n'}, {'number': 2, 'created': '2017-09-29 16:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ba1dfc14cbda101bc8a22fc0c812e8c9f808f6ed', 'message': 'Run the ceph-mons deploy in serial\n\nContainer changes and ceph-mon restarts can cause an outage of\nthe ceph cluster due to loss of quorum if the restarts are performed\nin parallel.\n\nChange-Id: I79250db32552e731a3b45622e5b3e757cb96d5ed\n'}, {'number': 3, 'created': '2017-10-05 15:00:28.000000000', 'files': ['playbooks/ceph-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ce07654f03324af04d3c8bea2f96ab909cc16dc9', 'message': 'Run the ceph-mons deploy in serial\n\nContainer changes and ceph-mon restarts can cause an outage of\nthe ceph cluster due to loss of quorum if the restarts are performed\nin parallel.\n\nChange-Id: I79250db32552e731a3b45622e5b3e757cb96d5ed\n'}]",0,508503,ce07654f03324af04d3c8bea2f96ab909cc16dc9,14,5,3,17799,,,0,"Run the ceph-mons deploy in serial

Container changes and ceph-mon restarts can cause an outage of
the ceph cluster due to loss of quorum if the restarts are performed
in parallel.

Change-Id: I79250db32552e731a3b45622e5b3e757cb96d5ed
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/03/508503/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/ceph-install.yml'],1,f1b835ffc27918021b1d1eaa749ac5c691358144,ceph-mons-serial,"- name: Ceph mons container config gather_facts: ""{{ gather_facts | default(True) }}"" serial: 1 max_fail_percentage: 0 tasks: vars: is_metal: ""{{ properties.is_metal|default(false) }}"" environment: ""{{ deployment_environment_variables | default({}) }}"" tags: - ceph - ceph-mon - name: Install ceph mons hosts: ceph-mon max_fail_percentage: 20 user: root pre_tasks:",- name: Install ceph mons max_fail_percentage: 20 pre_tasks:,17,3
openstack%2Fopenstack-ansible~master~I5db15736d46f98b0b20b1e227afa7f713df7064d,openstack/openstack-ansible,master,I5db15736d46f98b0b20b1e227afa7f713df7064d,SUSE: Add OpenStack cloud repository when bootstrapping the host,MERGED,2017-09-13 15:56:29.000000000,2017-10-05 19:23:05.000000000,2017-10-05 19:23:04.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-13 15:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/beb70323fcaccca7e708da8b3d7da381496ef999', 'message': ""SUSE: Add OpenStack cloud repository when bootstrapping the host\n\nThis is similar to I21ab8e13f25bb7a769dcf504fa6915303bc2feec. Even\nthough most of the bootstrap packages are provided by the distribution\nmirrors, it's best if we add the OpenStack repository just in case\nthere are any OpenStack specific package updates.\n\nChange-Id: I5db15736d46f98b0b20b1e227afa7f713df7064d\n""}, {'number': 2, 'created': '2017-10-05 14:39:05.000000000', 'files': ['deploy-guide/source/deploymenthost.rst', 'doc/source/contributor/quickstart-aio.rst', 'tests/roles/bootstrap-host/tasks/install_packages.yml', 'tests/roles/bootstrap-host/vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bbb00018568b79c7396f2d54d198a23f1b9d69b3', 'message': ""SUSE: Add OpenStack cloud repository when bootstrapping the host\n\nThis is similar to I21ab8e13f25bb7a769dcf504fa6915303bc2feec. Even\nthough most of the bootstrap packages are provided by the distribution\nmirrors, it's best if we add the OpenStack repository just in case\nthere are any OpenStack specific package updates.\n\nChange-Id: I5db15736d46f98b0b20b1e227afa7f713df7064d\n""}]",0,503722,bbb00018568b79c7396f2d54d198a23f1b9d69b3,11,4,2,23163,,,0,"SUSE: Add OpenStack cloud repository when bootstrapping the host

This is similar to I21ab8e13f25bb7a769dcf504fa6915303bc2feec. Even
though most of the bootstrap packages are provided by the distribution
mirrors, it's best if we add the OpenStack repository just in case
there are any OpenStack specific package updates.

Change-Id: I5db15736d46f98b0b20b1e227afa7f713df7064d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/22/503722/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/deploymenthost.rst', 'doc/source/contributor/quickstart-aio.rst', 'tests/roles/bootstrap-host/tasks/install_packages.yml', 'tests/roles/bootstrap-host/vars/suse.yml']",4,beb70323fcaccca7e708da8b3d7da381496ef999,osa-add-suse-support,"opensuse_openstack_repos: - name: ""OBS:Cloud:OpenStack:Pike"" uri: ""http://download.opensuse.org/repositories/Cloud:/OpenStack:/Pike/openSUSE_Leap_{{ ansible_distribution_version }}"" ",,20,0
openstack%2Fopenstack-ansible-lxc_container_create~master~I7d9c975319aed13b60299e2040eadcd31fff428f,openstack/openstack-ansible-lxc_container_create,master,I7d9c975319aed13b60299e2040eadcd31fff428f,Add ZFS backing store to the container create role,MERGED,2017-10-04 19:38:15.000000000,2017-10-05 19:20:44.000000000,2017-10-05 19:20:44.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 25023}]","[{'number': 1, 'created': '2017-10-04 19:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/18646947eb3fecc46ffef498c011cabfc9f92980', 'message': 'Add ZFS backing store to the container create role\n\nDefine a new variable for the zfs root location, and fill out the stub\ntask to create a containter when then backing store is zfs.\n\nChange-Id: I7d9c975319aed13b60299e2040eadcd31fff428f\n'}, {'number': 2, 'created': '2017-10-04 19:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/f87b04a4ff493abbc7d1b22ba5747395b5aa1778', 'message': 'Add ZFS backing store to the container create role\n\nDefine a new variable for the zfs root location, and fill out the stub\ntask to create a container when then backing store is zfs.\n\nChange-Id: I7d9c975319aed13b60299e2040eadcd31fff428f\n'}, {'number': 3, 'created': '2017-10-05 09:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/2cc9d290c90cb2d3202bcac0d6ca27dd23588b3d', 'message': 'Add ZFS backing store to the container create role\n\nFill out the stub task to create a container using the existing\ncopy-on-write tasks when the backing store is zfs.\n\nChange-Id: I7d9c975319aed13b60299e2040eadcd31fff428f\n'}, {'number': 4, 'created': '2017-10-05 14:30:23.000000000', 'files': ['tasks/lxc_container_create_zfs.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/bd46a48064c8d444c69c08b612f916470b2d0b9e', 'message': 'Add ZFS backing store to the container create role\n\nFill out the stub task to create a container using the existing\ncopy-on-write tasks when the backing store is zfs.\n\nChange-Id: I7d9c975319aed13b60299e2040eadcd31fff428f\n'}]",3,509608,bd46a48064c8d444c69c08b612f916470b2d0b9e,21,5,4,25023,,,0,"Add ZFS backing store to the container create role

Fill out the stub task to create a container using the existing
copy-on-write tasks when the backing store is zfs.

Change-Id: I7d9c975319aed13b60299e2040eadcd31fff428f
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/08/509608/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_container_create_zfs.yml', 'defaults/main.yml']",2,18646947eb3fecc46ffef498c011cabfc9f92980,zfs-backed-containers,"# If the container backing store is ZFS, specify the location lxc_container_zfs_root_name: ""pool/lxc"" ",,15,3
openstack%2Ftripleo-heat-templates~master~I239cc9f827fe99a553f9c18b80336bc6ce0b1d14,openstack/tripleo-heat-templates,master,I239cc9f827fe99a553f9c18b80336bc6ce0b1d14,Fixes missing type for heat param TenantNetName,MERGED,2017-10-02 15:53:23.000000000,2017-10-05 19:19:28.000000000,2017-10-05 16:48:03.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6924}, {'_account_id': 12398}, {'_account_id': 14985}, {'_account_id': 17280}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 15:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/555140c5ba287865b7ca3dff2393b8731626292c', 'message': 'Fixes missing type for heat param TenantNetName\n\nCloses-Bug: 1720823\n\nChange-Id: I239cc9f827fe99a553f9c18b80336bc6ce0b1d14\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}, {'number': 2, 'created': '2017-10-03 13:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/00aca53191c8cfca1412c02c44a1565a288b67bd', 'message': 'Fixes missing type for heat param TenantNetName\n\nCloses-Bug: 1720823\n\nChange-Id: I239cc9f827fe99a553f9c18b80336bc6ce0b1d14\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}, {'number': 3, 'created': '2017-10-04 14:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da06d2744f97fb61e95eb6a91ef0e0c6a226ce14', 'message': 'Fixes missing type for heat param TenantNetName\n\nCloses-Bug: 1720823\n\nChange-Id: I239cc9f827fe99a553f9c18b80336bc6ce0b1d14\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}, {'number': 4, 'created': '2017-10-04 17:34:39.000000000', 'files': ['network/ports/net_ip_list_map.j2.yaml', 'releasenotes/notes/fix-tenant-net-name-type-94a9c50c86529001.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ba5436099d37898e418406f8b4376923e14f4c89', 'message': 'Fixes missing type for heat param TenantNetName\n\nCloses-Bug: 1720823\n\nChange-Id: I239cc9f827fe99a553f9c18b80336bc6ce0b1d14\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}]",1,508920,ba5436099d37898e418406f8b4376923e14f4c89,21,8,4,17280,,,0,"Fixes missing type for heat param TenantNetName

Closes-Bug: 1720823

Change-Id: I239cc9f827fe99a553f9c18b80336bc6ce0b1d14
Signed-off-by: Tim Rozet <trozet@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/20/508920/4 && git format-patch -1 --stdout FETCH_HEAD,"['network/ports/net_ip_list_map.j2.yaml', 'releasenotes/notes/fix-tenant-net-name-type-94a9c50c86529001.yaml']",2,555140c5ba287865b7ca3dff2393b8731626292c,bug/1720823,--- - | Fixes missing type for heat parameter TenantNetName. ,,4,0
openstack%2Fcharm-barbican~master~I8091703a37d0d1b08a17981398753d61d13dae60,openstack/charm-barbican,master,I8091703a37d0d1b08a17981398753d61d13dae60,Update requirements for git charmhelpers,MERGED,2017-10-03 04:33:44.000000000,2017-10-05 19:11:11.000000000,2017-10-05 19:11:11.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 04:33:44.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/c483ed7dc5787de3f2f8d1107e84463c9d9d025a', 'message': 'Update requirements for git charmhelpers\n\nChange-Id: I8091703a37d0d1b08a17981398753d61d13dae60\n'}]",0,509068,c483ed7dc5787de3f2f8d1107e84463c9d9d025a,14,6,1,20635,,,0,"Update requirements for git charmhelpers

Change-Id: I8091703a37d0d1b08a17981398753d61d13dae60
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/68/509068/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,c483ed7dc5787de3f2f8d1107e84463c9d9d025a,update-requirements,git+https://github.com/juju/charm-helpers#egg=charmhelpers,bzr+lp:charm-helpers#egg=charmhelpers,1,1
openstack%2Fcharm-ceph-fs~master~Ia72ee80797e8b1c4f62ca089a46462b34e34f4db,openstack/charm-ceph-fs,master,Ia72ee80797e8b1c4f62ca089a46462b34e34f4db,Update requirements for git charmhelpers,MERGED,2017-10-03 04:33:51.000000000,2017-10-05 19:11:03.000000000,2017-10-05 19:11:03.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 04:33:51.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/f0b681f94cd8eff3cabf7312aac7109595585990', 'message': 'Update requirements for git charmhelpers\n\nChange-Id: Ia72ee80797e8b1c4f62ca089a46462b34e34f4db\n'}]",0,509069,f0b681f94cd8eff3cabf7312aac7109595585990,14,6,1,20635,,,0,"Update requirements for git charmhelpers

Change-Id: Ia72ee80797e8b1c4f62ca089a46462b34e34f4db
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/69/509069/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,f0b681f94cd8eff3cabf7312aac7109595585990,update-requirements,git+https://github.com/juju/charm-helpers#egg=charmhelpers,bzr+lp:charm-helpers#egg=charmhelpers,1,1
openstack%2Fcharm-designate~master~I08756fa369321a7d4256210ec152b5511c033e05,openstack/charm-designate,master,I08756fa369321a7d4256210ec152b5511c033e05,Update requirements for git charmhelpers,MERGED,2017-10-03 04:34:21.000000000,2017-10-05 19:10:31.000000000,2017-10-05 19:10:30.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 04:34:21.000000000', 'files': ['src/test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/9cea106b4922a46bc4a49bc895d20ea407def99c', 'message': 'Update requirements for git charmhelpers\n\nChange-Id: I08756fa369321a7d4256210ec152b5511c033e05\n'}]",0,509073,9cea106b4922a46bc4a49bc895d20ea407def99c,14,6,1,20635,,,0,"Update requirements for git charmhelpers

Change-Id: I08756fa369321a7d4256210ec152b5511c033e05
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/73/509073/1 && git format-patch -1 --stdout FETCH_HEAD,['src/test-requirements.txt'],1,9cea106b4922a46bc4a49bc895d20ea407def99c,update-requirements,git+https://github.com/juju/charm-helpers#egg=charmhelpers,bzr+lp:charm-helpers#egg=charmhelpers,1,1
openstack%2Fopenstack-ansible~master~If20216c605938c14a94d9b710d3f98b0d885b629,openstack/openstack-ansible,master,If20216c605938c14a94d9b710d3f98b0d885b629,Fix Aodh's health checks,MERGED,2017-09-27 12:46:24.000000000,2017-10-05 19:00:20.000000000,2017-10-05 19:00:20.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 21484}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-09-27 12:46:24.000000000', 'files': ['group_vars/haproxy_all/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/74acdd5a7bc50de31b86ee10e226c252dd042c6f', 'message': 'Fix Aodh\'s health checks\n\nHAProxy currently checks aodh backend with ""HEAD /"" and an expected\nreturn code of 401. The request actually returns ""200 OK"". The 401 would\nbe returned if the check would target ""HEAD /v2"", but as all other\nbackends that do not implement ""/healthcheck"" also check ""HEAD /"" for\n2xx/3xx return codes, I removed the wrongly expected ""401"".\n\nChange-Id: If20216c605938c14a94d9b710d3f98b0d885b629\nCloses-Bug: 1719875\n'}]",0,507842,74acdd5a7bc50de31b86ee10e226c252dd042c6f,10,5,1,21484,,,0,"Fix Aodh's health checks

HAProxy currently checks aodh backend with ""HEAD /"" and an expected
return code of 401. The request actually returns ""200 OK"". The 401 would
be returned if the check would target ""HEAD /v2"", but as all other
backends that do not implement ""/healthcheck"" also check ""HEAD /"" for
2xx/3xx return codes, I removed the wrongly expected ""401"".

Change-Id: If20216c605938c14a94d9b710d3f98b0d885b629
Closes-Bug: 1719875
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/42/507842/1 && git format-patch -1 --stdout FETCH_HEAD,['group_vars/haproxy_all/haproxy.yml'],1,74acdd5a7bc50de31b86ee10e226c252dd042c6f,bug/1719875,," haproxy_backend_httpcheck_options: - ""expect status 401""",0,2
openstack%2Fnetworking-sfc~master~If9c8c31543ff3c8af40ab3b7cac2298353f41663,openstack/networking-sfc,master,If9c8c31543ff3c8af40ab3b7cac2298353f41663,Replace all uses of dl_type with eth_type,MERGED,2017-07-20 12:33:21.000000000,2017-10-05 18:59:39.000000000,2017-10-05 18:59:39.000000000,"[{'_account_id': 3}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 16707}, {'_account_id': 21798}]","[{'number': 1, 'created': '2017-07-20 12:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/a899338bd0ff2a089e4fdd812ecca26657bcf283', 'message': ""Replace all uses of eth_type with dl_type\n\novs-ofctl's dl_type seems to be preferred over eth_type:\nhttp://openvswitch.org/support/dist-docs/ovs-ofctl.8.txt\n\nand networking-sfc currently seems to make mixed use of them.\n\nThis patch makes only dl_type being used, and\nconsistently renames related variables too.\n\nChange-Id: If9c8c31543ff3c8af40ab3b7cac2298353f41663\n""}, {'number': 2, 'created': '2017-07-27 12:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e118839fd1638a8d52a840e6629f44fe30e12e5c', 'message': ""[DNM] Replace all uses of eth_type with dl_type\n\novs-ofctl's dl_type seems to be preferred over eth_type:\nhttp://openvswitch.org/support/dist-docs/ovs-ofctl.8.txt\n\nand networking-sfc currently seems to make mixed use of them.\n\nThis patch makes only dl_type being used, and\nconsistently renames related variables too.\n\nChange-Id: If9c8c31543ff3c8af40ab3b7cac2298353f41663\n""}, {'number': 3, 'created': '2017-08-28 22:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/7f0280c2ea28fb625dc83979cb6600309c362366', 'message': ""Replace all uses of dl_type with eth_type\n\novs-ofctl's eth_type seems to be preferred over dl_type\n\nand networking-sfc currently seems to make mixed use of them.\n\nThis patch makes only eth_type being used, unless where dl_type needs\nto be used, and consistently renames related variables too.\n\nChange-Id: If9c8c31543ff3c8af40ab3b7cac2298353f41663\n""}, {'number': 4, 'created': '2017-09-23 19:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/a937614e7993cd456afa6b2eda2933c5657bce11', 'message': ""Replace all uses of dl_type with eth_type\n\novs-ofctl's eth_type seems to be preferred over dl_type\n\nand networking-sfc currently seems to make mixed use of them.\n\nThis patch makes only eth_type being used, unless where dl_type needs\nto be used, and consistently renames related variables too.\n\nChange-Id: If9c8c31543ff3c8af40ab3b7cac2298353f41663\n""}, {'number': 5, 'created': '2017-09-26 22:40:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/85e29b93e28e37976a3b807423fa0138c7f0d05c', 'message': ""Replace all uses of dl_type with eth_type\n\novs-ofctl's eth_type seems to be preferred over dl_type\n\nand networking-sfc currently seems to make mixed use of them.\n\nThis patch makes only eth_type being used, unless where dl_type needs\nto be used, and consistently renames related variables too.\n\nChange-Id: If9c8c31543ff3c8af40ab3b7cac2298353f41663\n""}, {'number': 6, 'created': '2017-10-05 14:17:46.000000000', 'files': ['networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'networking_sfc/tests/unit/services/sfc/agent/extensions/openvswitch/test_sfc_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/0d3e20b850b83dae31934d2d09dfe9f5e0b4ace4', 'message': ""Replace all uses of dl_type with eth_type\n\novs-ofctl's eth_type seems to be preferred over dl_type\n\nand networking-sfc currently seems to make mixed use of them.\n\nThis patch makes only eth_type being used, unless where dl_type needs\nto be used, and consistently renames related variables too.\n\nChange-Id: If9c8c31543ff3c8af40ab3b7cac2298353f41663\n""}]",2,485594,0d3e20b850b83dae31934d2d09dfe9f5e0b4ace4,27,5,6,9396,,,0,"Replace all uses of dl_type with eth_type

ovs-ofctl's eth_type seems to be preferred over dl_type

and networking-sfc currently seems to make mixed use of them.

This patch makes only eth_type being used, unless where dl_type needs
to be used, and consistently renames related variables too.

Change-Id: If9c8c31543ff3c8af40ab3b7cac2298353f41663
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/94/485594/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/services/sfc/drivers/ovs/constants.py', 'networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'networking_sfc/tests/unit/services/sfc/agent/extensions/openvswitch/test_sfc_driver.py']",3,a899338bd0ff2a089e4fdd812ecca26657bcf283,sfc_encapsulation," 'dl_type': 34887,"," 'eth_type': 34887,",14,14
openstack%2Fmistral-specs~master~I3e08806ca7ee05de5b4d05c99d4c1232ab14cbb9,openstack/mistral-specs,master,I3e08806ca7ee05de5b4d05c99d4c1232ab14cbb9,Migrate mistral-specs to zuul v3,MERGED,2017-10-03 14:06:15.000000000,2017-10-05 18:57:11.000000000,2017-10-04 08:25:04.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-10-03 14:06:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-specs/commit/bb577d358e0326b2fa61f7477053052b8130038a', 'message': 'Migrate mistral-specs to zuul v3\n\nChange-Id: I3e08806ca7ee05de5b4d05c99d4c1232ab14cbb9\n'}]",0,509191,bb577d358e0326b2fa61f7477053052b8130038a,9,3,1,7065,,,0,"Migrate mistral-specs to zuul v3

Change-Id: I3e08806ca7ee05de5b4d05c99d4c1232ab14cbb9
",git fetch https://review.opendev.org/openstack/mistral-specs refs/changes/91/509191/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,bb577d358e0326b2fa61f7477053052b8130038a,zuulv3,- project: name: openstack/mistral-specs templates: - merge-check - openstack-specs-jobs check: jobs: - openstack-tox-py27 gate: jobs: - openstack-tox-py27 ,,11,0
openstack%2Fneutron~master~I4eb61b2824579a4f8ba219cd1b1dcf57d38ebc89,openstack/neutron,master,I4eb61b2824579a4f8ba219cd1b1dcf57d38ebc89,br_int: Make removal of DVR flows more strict,MERGED,2017-10-03 17:11:12.000000000,2017-10-05 18:56:43.000000000,2017-10-05 18:12:50.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 10267}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 17:11:12.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0456515a7a06ee96c2929c684a82737a1067ce72', 'message': ""br_int: Make removal of DVR flows more strict\n\nAs ingres traffic to instance ports when using DVR uses same matching\nopenflow rule as openvswitch firewall driver, it happens that setting\nadmin_state_up of router deletes firewall rules.\n\nThis patch makes the deletion more strict because DVR and ovs-firewall\nflows differ in priority. Thus using priority when removing DVR flows\nwon't affect ovs-firewall flows.\n\nCloses-bug: #1721084\n\nChange-Id: I4eb61b2824579a4f8ba219cd1b1dcf57d38ebc89\n""}]",0,509228,0456515a7a06ee96c2929c684a82737a1067ce72,20,8,1,8655,,,0,"br_int: Make removal of DVR flows more strict

As ingres traffic to instance ports when using DVR uses same matching
openflow rule as openvswitch firewall driver, it happens that setting
admin_state_up of router deletes firewall rules.

This patch makes the deletion more strict because DVR and ovs-firewall
flows differ in priority. Thus using priority when removing DVR flows
won't affect ovs-firewall flows.

Closes-bug: #1721084

Change-Id: I4eb61b2824579a4f8ba219cd1b1dcf57d38ebc89
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/509228/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/ovs_ofctl/br_int.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",4,0456515a7a06ee96c2929c684a82737a1067ce72,bug/1721084," self.uninstall_flows( strict=True, priority=4, table_id=table, match=match)"," self.uninstall_flows(table_id=table, match=match)",33,10
openstack%2Fmistral-extra~master~I110315d3946ea8daafecd0fb7f5782e16d3125bf,openstack/mistral-extra,master,I110315d3946ea8daafecd0fb7f5782e16d3125bf,"Revert ""Migrate mistral-extra to zuul v3""",MERGED,2017-10-05 18:51:50.000000000,2017-10-05 18:53:47.000000000,2017-10-05 18:53:47.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7065}, {'_account_id': 8731}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-10-05 18:51:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/b1f04293b874e19de4bfa8b6a9776371a7f59727', 'message': 'Revert ""Migrate mistral-extra to zuul v3""\n\nThese jobs belong to project-config, they should not be added here.\n\nThis reverts commit a552b3cd7000e497a3687b9b54a1271b77d7f532.\n\nChange-Id: I110315d3946ea8daafecd0fb7f5782e16d3125bf\n'}]",0,509875,b1f04293b874e19de4bfa8b6a9776371a7f59727,3,5,1,6547,,,0,"Revert ""Migrate mistral-extra to zuul v3""

These jobs belong to project-config, they should not be added here.

This reverts commit a552b3cd7000e497a3687b9b54a1271b77d7f532.

Change-Id: I110315d3946ea8daafecd0fb7f5782e16d3125bf
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/75/509875/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b1f04293b874e19de4bfa8b6a9776371a7f59727,zuulv3,,- project: name: openstack/mistral-extra templates: - merge-check - openstack-python-jobs - openstack-python35-jobs - check-requirements pre-release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball ,0,37
openstack%2Fdevstack~master~I52cc2952a2938ce44c442aa3e3b69a905b2b55d5,openstack/devstack,master,I52cc2952a2938ce44c442aa3e3b69a905b2b55d5,Enable tempest testing for extending an attached volume,MERGED,2017-07-06 00:31:15.000000000,2017-10-05 18:52:50.000000000,2017-10-05 18:52:50.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 6593}, {'_account_id': 6873}, {'_account_id': 7156}, {'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11904}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-07-06 00:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4fa10b0856aa2cc1dc1e81704dde931a43e15c7f', 'message': ""Enable tempest testing for extending an attached volume\n\nIn Pike, Cinder and Nova will support extending the size of\nan attached volume, but it's not supported by all volume and\ncompute backends. Tempest will also test it but uses a config\noption that we need to set based on how devstack is configured.\n\nDepends-On: Ibace6c2f91be9753a44e5f79fd013df11654851b\n\nRelated to cinder blueprint extend-attached-volume\nRelated to nova blueprint nova-support-attached-volume-extend\n\nChange-Id: I52cc2952a2938ce44c442aa3e3b69a905b2b55d5\n""}, {'number': 2, 'created': '2017-07-06 01:46:15.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/17cdecc689b20bfa3dc06ea23edacccf9e37497d', 'message': ""Enable tempest testing for extending an attached volume\n\nIn Pike, Cinder and Nova will support extending the size of\nan attached volume, but it's not supported by all volume and\ncompute backends. Tempest will also test it but uses a config\noption that we need to set based on how devstack is configured.\n\nDepends-On: Ibace6c2f91be9753a44e5f79fd013df11654851b\n\nRelated to cinder blueprint extend-attached-volume\nRelated to nova blueprint nova-support-attached-volume-extend\n\nChange-Id: I52cc2952a2938ce44c442aa3e3b69a905b2b55d5\n""}]",0,480778,17cdecc689b20bfa3dc06ea23edacccf9e37497d,65,11,2,6873,,,0,"Enable tempest testing for extending an attached volume

In Pike, Cinder and Nova will support extending the size of
an attached volume, but it's not supported by all volume and
compute backends. Tempest will also test it but uses a config
option that we need to set based on how devstack is configured.

Depends-On: Ibace6c2f91be9753a44e5f79fd013df11654851b

Related to cinder blueprint extend-attached-volume
Related to nova blueprint nova-support-attached-volume-extend

Change-Id: I52cc2952a2938ce44c442aa3e3b69a905b2b55d5
",git fetch https://review.opendev.org/openstack/devstack refs/changes/78/480778/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,4fa10b0856aa2cc1dc1e81704dde931a43e15c7f,bp/extend-attached-volume," # Only turn on TEMPEST_EXTEND_ATTACHED_VOLUME by default for ""lvm"" backends # in Cinder and the libvirt driver in Nova. if [[ ""$CINDER_ENABLED_BACKENDS"" == *""lvm""* ] && [ ""$VIRT_DRIVER"" == ""libvirt"" ]]; then TEMPEST_EXTEND_ATTACHED_VOLUME=${TEMPEST_EXTEND_ATTACHED_VOLUME:-True} fi iniset $TEMPEST_CONFIG volume-feature-enabled extend_attached_volume $(trueorfalse False TEMPEST_EXTEND_ATTACHED_VOLUME)",,6,0
openstack%2Fmistral-lib~master~I94a00dfe48eb6d523d7c338dffdb6122ff3a85ca,openstack/mistral-lib,master,I94a00dfe48eb6d523d7c338dffdb6122ff3a85ca,"Revert ""Migrate mistral-lib to zuul v3""",MERGED,2017-10-05 18:50:44.000000000,2017-10-05 18:52:42.000000000,2017-10-05 18:52:42.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7065}, {'_account_id': 8731}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-10-05 18:50:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/fdc115e47c77f54f93e7f529252703898350a8de', 'message': 'Revert ""Migrate mistral-lib to zuul v3""\n\nThe common jobs should not be migrated, remove them again.\n\nOnly project specific jobs should be in here.\n\nThis reverts commit 3a4b1796e056424c5498f1168cb7412debd1d356.\n\nChange-Id: I94a00dfe48eb6d523d7c338dffdb6122ff3a85ca\n'}]",0,509874,fdc115e47c77f54f93e7f529252703898350a8de,3,5,1,6547,,,0,"Revert ""Migrate mistral-lib to zuul v3""

The common jobs should not be migrated, remove them again.

Only project specific jobs should be in here.

This reverts commit 3a4b1796e056424c5498f1168cb7412debd1d356.

Change-Id: I94a00dfe48eb6d523d7c338dffdb6122ff3a85ca
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/74/509874/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fdc115e47c77f54f93e7f529252703898350a8de,zuulv3,,- project: name: openstack/mistral-lib templates: - merge-check - openstack-python-jobs - openstack-python35-jobs - check-requirements pre-release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball ,0,37
openstack%2Fmistral-extra~master~Ia4b7740158cc1ce48e67387e617c31047cc4b240,openstack/mistral-extra,master,Ia4b7740158cc1ce48e67387e617c31047cc4b240,Migrate mistral-extra to zuul v3,MERGED,2017-10-03 14:04:45.000000000,2017-10-05 18:51:50.000000000,2017-10-04 08:28:49.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-10-03 14:04:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/a552b3cd7000e497a3687b9b54a1271b77d7f532', 'message': 'Migrate mistral-extra to zuul v3\n\nChange-Id: Ia4b7740158cc1ce48e67387e617c31047cc4b240\n'}]",0,509188,a552b3cd7000e497a3687b9b54a1271b77d7f532,9,3,1,7065,,,0,"Migrate mistral-extra to zuul v3

Change-Id: Ia4b7740158cc1ce48e67387e617c31047cc4b240
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/88/509188/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a552b3cd7000e497a3687b9b54a1271b77d7f532,zuulv3,- project: name: openstack/mistral-extra templates: - merge-check - openstack-python-jobs - openstack-python35-jobs - check-requirements pre-release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball ,,37,0
openstack%2Fmistral-lib~master~I1c8b65ee5615ea31c18f2a7ffb4d35e3270bdc97,openstack/mistral-lib,master,I1c8b65ee5615ea31c18f2a7ffb4d35e3270bdc97,Migrate mistral-lib to zuul v3,MERGED,2017-10-03 14:03:41.000000000,2017-10-05 18:50:44.000000000,2017-10-04 08:28:43.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-10-03 14:03:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-lib/commit/3a4b1796e056424c5498f1168cb7412debd1d356', 'message': 'Migrate mistral-lib to zuul v3\n\nChange-Id: I1c8b65ee5615ea31c18f2a7ffb4d35e3270bdc97\n'}]",0,509187,3a4b1796e056424c5498f1168cb7412debd1d356,9,3,1,7065,,,0,"Migrate mistral-lib to zuul v3

Change-Id: I1c8b65ee5615ea31c18f2a7ffb4d35e3270bdc97
",git fetch https://review.opendev.org/openstack/mistral-lib refs/changes/87/509187/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3a4b1796e056424c5498f1168cb7412debd1d356,zuulv3,- project: name: openstack/mistral-lib templates: - merge-check - openstack-python-jobs - openstack-python35-jobs - check-requirements pre-release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball ,,37,0
openstack%2Fmistral-dashboard~master~Ic01fc168dca7cadb538ce6a7da80b263e098e5c9,openstack/mistral-dashboard,master,Ic01fc168dca7cadb538ce6a7da80b263e098e5c9,"Revert ""Migrate mistral-dashboard to zuul v3""",MERGED,2017-10-05 18:47:23.000000000,2017-10-05 18:49:43.000000000,2017-10-05 18:49:43.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7065}, {'_account_id': 8731}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-10-05 18:47:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/2688f3e48411f3f555b12c32b54b1c89f3560202', 'message': 'Revert ""Migrate mistral-dashboard to zuul v3""\n\nThese are all standard jobs, they should stay in project-config.\n\nThis reverts commit 63f84ff8261bfc11ba7e8892537d92e6d54fd9e7.\n\nChange-Id: Ic01fc168dca7cadb538ce6a7da80b263e098e5c9\n'}]",0,509873,2688f3e48411f3f555b12c32b54b1c89f3560202,3,5,1,6547,,,0,"Revert ""Migrate mistral-dashboard to zuul v3""

These are all standard jobs, they should stay in project-config.

This reverts commit 63f84ff8261bfc11ba7e8892537d92e6d54fd9e7.

Change-Id: Ic01fc168dca7cadb538ce6a7da80b263e098e5c9
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/73/509873/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2688f3e48411f3f555b12c32b54b1c89f3560202,zuulv3,,- project: name: openstack/mistral-dashboard templates: - merge-check - openstack-python-jobs - check-requirements - openstack-python35-jobs pre-release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball ,0,37
openstack%2Fmistral~master~I9240bf13de5f63873f233a0cb335b3ef43c1bf0a,openstack/mistral,master,I9240bf13de5f63873f233a0cb335b3ef43c1bf0a,remove all common jobs,MERGED,2017-10-05 18:36:27.000000000,2017-10-05 18:49:14.000000000,2017-10-05 18:49:14.000000000,"[{'_account_id': 2}, {'_account_id': 5558}, {'_account_id': 6732}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9408}, {'_account_id': 9712}, {'_account_id': 19206}, {'_account_id': 21970}]","[{'number': 1, 'created': '2017-10-05 18:36:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/c3eb6d6b2091065215db1bfd6dc51324f05ee06d', 'message': 'remove all common jobs\n\nA couple of jobs should remain in project-config, remove them here.\n\nChange-Id: I9240bf13de5f63873f233a0cb335b3ef43c1bf0a\n'}]",0,509869,c3eb6d6b2091065215db1bfd6dc51324f05ee06d,3,9,1,6547,,,0,"remove all common jobs

A couple of jobs should remain in project-config, remove them here.

Change-Id: I9240bf13de5f63873f233a0cb335b3ef43c1bf0a
",git fetch https://review.opendev.org/openstack/mistral refs/changes/69/509869/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,c3eb6d6b2091065215db1bfd6dc51324f05ee06d,requirements,, - merge-check - openstack-python-jobs - openstack-python35-jobs - publish-openstack-sphinx-docs - check-requirements - release-notes-jobs pre-release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball,0,36
openstack%2Fopenstack-ansible-openstack_openrc~master~I5b66363944ca147c519de678bd021ca340dbcddd,openstack/openstack-ansible-openstack_openrc,master,I5b66363944ca147c519de678bd021ca340dbcddd,Add tacker to the list of aliases,MERGED,2017-10-05 16:39:03.000000000,2017-10-05 18:48:48.000000000,2017-10-05 18:48:47.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-10-05 16:39:03.000000000', 'files': ['templates/openrc.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_openrc/commit/2e4a1d87b75d816b95cdc6a4b94a36f66657d76c', 'message': 'Add tacker to the list of aliases\n\nChange-Id: I5b66363944ca147c519de678bd021ca340dbcddd\nSigned-off-by: Manuel Buil <mbuil@suse.com>\n'}]",0,509831,2e4a1d87b75d816b95cdc6a4b94a36f66657d76c,7,5,1,21883,,,0,"Add tacker to the list of aliases

Change-Id: I5b66363944ca147c519de678bd021ca340dbcddd
Signed-off-by: Manuel Buil <mbuil@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_openrc refs/changes/31/509831/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/openrc.j2'],1,2e4a1d87b75d816b95cdc6a4b94a36f66657d76c,,alias tacker='tacker --insecure',,1,0
openstack%2Fmistral-dashboard~master~Ic93015a54f020b96d05207230c9d0e882057d20b,openstack/mistral-dashboard,master,Ic93015a54f020b96d05207230c9d0e882057d20b,Migrate mistral-dashboard to zuul v3,MERGED,2017-10-03 14:01:44.000000000,2017-10-05 18:47:23.000000000,2017-10-04 08:33:03.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-10-03 14:01:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/63f84ff8261bfc11ba7e8892537d92e6d54fd9e7', 'message': 'Migrate mistral-dashboard to zuul v3\n\nChange-Id: Ic93015a54f020b96d05207230c9d0e882057d20b\n'}]",0,509185,63f84ff8261bfc11ba7e8892537d92e6d54fd9e7,8,3,1,7065,,,0,"Migrate mistral-dashboard to zuul v3

Change-Id: Ic93015a54f020b96d05207230c9d0e882057d20b
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/85/509185/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,63f84ff8261bfc11ba7e8892537d92e6d54fd9e7,zuulv3,- project: name: openstack/mistral-dashboard templates: - merge-check - openstack-python-jobs - check-requirements - openstack-python35-jobs pre-release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball release: jobs: - publish-openstack-python-tarball: dependencies: - publish-openstack-python-tarball - legacy-announce-release: dependencies: - legacy-pypi-both-upload - legacy-propose-update-constraints: dependencies: - legacy-pypi-both-upload - legacy-pypi-both-upload: dependencies: - publish-openstack-python-tarball - publish-openstack-python-tarball ,,37,0
openstack%2Fmanila-test-image~master~I7d7c6dbe4d81638278d94b1e1c0e8d0c7ddbbf75,openstack/manila-test-image,master,I7d7c6dbe4d81638278d94b1e1c0e8d0c7ddbbf75,Use busybox applet replacements for e2fs progs,ABANDONED,2017-10-02 17:39:42.000000000,2017-10-05 18:45:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2017-10-02 17:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-test-image/commit/a21809e3996b29f256712e3e5cc1bfbe380ea6ce', 'message': 'Use busybox applet replacements for e2fs progs\n\nChange-Id: I7d7c6dbe4d81638278d94b1e1c0e8d0c7ddbbf75\n'}, {'number': 2, 'created': '2017-10-02 18:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-test-image/commit/969826f96b6b5db2dd7ea0950def8516a4aeeabe', 'message': 'Use busybox applet replacements for e2fs progs\n\nChange-Id: I7d7c6dbe4d81638278d94b1e1c0e8d0c7ddbbf75\n'}, {'number': 3, 'created': '2017-10-02 18:16:36.000000000', 'files': ['conf/busybox.config', 'conf/buildroot-server.config'], 'web_link': 'https://opendev.org/openstack/manila-test-image/commit/a8b1e3482307af187800c3a856b421450478bf8c', 'message': 'Use busybox applet replacements for e2fs progs\n\nChange-Id: I7d7c6dbe4d81638278d94b1e1c0e8d0c7ddbbf75\n'}]",0,508958,a8b1e3482307af187800c3a856b421450478bf8c,5,1,3,2417,,,0,"Use busybox applet replacements for e2fs progs

Change-Id: I7d7c6dbe4d81638278d94b1e1c0e8d0c7ddbbf75
",git fetch https://review.opendev.org/openstack/manila-test-image refs/changes/58/508958/1 && git format-patch -1 --stdout FETCH_HEAD,"['conf/busybox.config', 'conf/buildroot-server.config']",2,a21809e3996b29f256712e3e5cc1bfbe380ea6ce,,,BR2_PACKAGE_E2FSPROGS_RESIZE2FS=y,3,4
openstack%2Ftripleo-ci~master~I48ea545fa547b16f038bfadb2eb665345c447da9,openstack/tripleo-ci,master,I48ea545fa547b16f038bfadb2eb665345c447da9,WIP -- post upgrade ci test for checking the upgrade_batch reviews,ABANDONED,2017-04-05 08:33:51.000000000,2017-10-05 18:44:18.000000000,,"[{'_account_id': 3}, {'_account_id': 16515}]","[{'number': 1, 'created': '2017-04-05 08:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c0cd549534bbf44750171bda0a10ba6800fce9b4', 'message': 'WIP -- post upgrade ci test for checking the upgrade_batch reviews\n\nChange-Id: I48ea545fa547b16f038bfadb2eb665345c447da9\nDepends-On: Ia9036234bb24c05b7b2f3b6f884fb6684fb6d4b5\n'}, {'number': 2, 'created': '2017-04-05 13:16:33.000000000', 'files': ['scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/342b8a8c104082ae3a06a06c5496bb817ae19a0b', 'message': 'WIP -- post upgrade ci test for checking the upgrade_batch reviews\n\nChange-Id: I48ea545fa547b16f038bfadb2eb665345c447da9\nDepends-On: I5c8b0c4abfc0607f42fd3f2da9f5ef2702b1bbe1\n'}]",0,453515,342b8a8c104082ae3a06a06c5496bb817ae19a0b,13,2,2,16515,,,0,"WIP -- post upgrade ci test for checking the upgrade_batch reviews

Change-Id: I48ea545fa547b16f038bfadb2eb665345c447da9
Depends-On: I5c8b0c4abfc0607f42fd3f2da9f5ef2702b1bbe1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/15/453515/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,c0cd549534bbf44750171bda0a10ba6800fce9b4,upgrade-batch-ci-test, heat resource-list -n 5 overcloud | grep COMPLETE heat resource-list -n 5 overcloud | grep -i UpgradeBatch,,2,0
openstack%2Fpuppet-tripleo~master~Iaa866b5e4c12d3a7e1b1106c769508f964dd7117,openstack/puppet-tripleo,master,Iaa866b5e4c12d3a7e1b1106c769508f964dd7117,Enable TLS in the internal network for Ceph RGW,ABANDONED,2017-04-04 11:56:23.000000000,2017-10-05 18:44:15.000000000,,"[{'_account_id': 3}, {'_account_id': 10873}]","[{'number': 1, 'created': '2017-04-04 11:56:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cfa459065a5115214544a102dfd18edff1464cea', 'message': 'Enable TLS in the internal network for Ceph RGW\n\nbp tls-via-certmonger\n\nChange-Id: Iaa866b5e4c12d3a7e1b1106c769508f964dd7117\n'}, {'number': 2, 'created': '2017-04-04 11:56:40.000000000', 'files': ['manifests/profile/base/ceph/rgw.pp', 'manifests/certmonger/ceph_rgw.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f3d6a5319754b41a8b43b32b26b4ac0dbc923a3f', 'message': 'Enable TLS in the internal network for Ceph RGW\n\nbp tls-via-certmonger\n\nChange-Id: Iaa866b5e4c12d3a7e1b1106c769508f964dd7117\nDepends-On: I89adcad66a88562632ac1737d3bda12b7d4148b0\n'}]",0,453141,f3d6a5319754b41a8b43b32b26b4ac0dbc923a3f,6,2,2,10873,,,0,"Enable TLS in the internal network for Ceph RGW

bp tls-via-certmonger

Change-Id: Iaa866b5e4c12d3a7e1b1106c769508f964dd7117
Depends-On: I89adcad66a88562632ac1737d3bda12b7d4148b0
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/41/453141/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ceph/rgw.pp', 'manifests/certmonger/ceph_rgw.pp']",2,cfa459065a5115214544a102dfd18edff1464cea,bp/tls-via-certmonger,"# Copyright 2017 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::certmonger::ceph_rgw # # Request a certificate for Ceph RGW and do the necessary setup. # # === Parameters # # [*hostname*] # The hostname of the node. this will be set in the CN of the certificate. # # [*service_certificate*] # The path to the certificate that will be used for TLS in this service. # # [*service_key*] # The path to the key that will be used for TLS in this service. # # [*service_pem*] # The file in PEM format that the Ceph RGW service will use as a certificate. # # [*certmonger_ca*] # (Optional) The CA that certmonger will use to generate the certificates. # Defaults to hiera('certmonger_ca', 'local'). # # [*principal*] # (Optional) The service principal that is set for the service in kerberos. # Defaults to undef # class tripleo::certmonger::ceph_rgw ( $hostname, $service_certificate, $service_key, $service_pem, $certmonger_ca = hiera('certmonger_ca', 'local'), $principal = undef, ) { include ::certmonger certmonger_certificate { 'ceph-rgw' : ensure => 'present', certfile => $service_certificate, keyfile => $service_key, hostname => $hostname, dnsname => $hostname, principal => $principal, postsave_cmd => ""systemctl restart ceph-radosgw"", ca => $certmonger_ca, wait => true, require => Class['::certmonger'], } concat { $service_pem : ensure => present, mode => '0640', } concat::fragment { ""${title}-cert-fragment"": target => $service_pem, source => $service_certificate, order => '01', tag => 'ceph-rgw-pem', require => Certmonger_certificate[""${title}-cert""], } concat::fragment { ""${title}-key-fragment"": target => $service_pem, source => $service_key, order => 20, tag => 'ceph-rgw-pem', require => Certmonger_certificate[""${title}-cert""], } Concat::Fragment<| tag == 'ceph-rgw-pem' |> ~> Service<| tag == 'ceph-radosgw' |> } ",,97,1
openstack%2Ftripleo-heat-templates~master~I7a082c90da7475c4324ba66dca27a3ad32f44ba5,openstack/tripleo-heat-templates,master,I7a082c90da7475c4324ba66dca27a3ad32f44ba5,Default to empty list for CinderNfsServers,ABANDONED,2017-03-06 16:54:27.000000000,2017-10-05 18:44:13.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6968}, {'_account_id': 13953}]","[{'number': 1, 'created': '2017-03-06 16:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9f4ea31ad52efb5d5bc045bfdb9c0e694d5766b', 'message': 'Default to empty list for CinderNfsServers\n\nCinderNfsServers must be provided a list, rather than a string,\nor stage 4 of deployment will fail with a type error. Updating\ndefaults for this parameter appropriately.\n\nChange-Id: I7a082c90da7475c4324ba66dca27a3ad32f44ba5\nResolves: rhbz#1416356\n'}, {'number': 2, 'created': '2017-03-08 16:08:20.000000000', 'files': ['environments/storage-environment.yaml', 'puppet/services/cinder-volume.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b901987dc3f06908df519328669d5662d08b9de4', 'message': 'Default to empty list for CinderNfsServers\n\nCinderNfsServers must be provided a list, rather than a string,\nor stage 4 of deployment will fail with a type error. Updating\ndefaults for this parameter appropriately.\n\nChange-Id: I7a082c90da7475c4324ba66dca27a3ad32f44ba5\nCloses-bug: #1671153\n'}]",1,442038,b901987dc3f06908df519328669d5662d08b9de4,13,4,2,13953,,,0,"Default to empty list for CinderNfsServers

CinderNfsServers must be provided a list, rather than a string,
or stage 4 of deployment will fail with a type error. Updating
defaults for this parameter appropriately.

Change-Id: I7a082c90da7475c4324ba66dca27a3ad32f44ba5
Closes-bug: #1671153
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/442038/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/storage-environment.yaml', 'puppet/services/cinder-volume.yaml']",2,b9f4ea31ad52efb5d5bc045bfdb9c0e694d5766b,bug/1671153, default: [], default: '',2,2
openstack%2Finstack-undercloud~master~I250e6981be384d672ee56c93e1f6410246455316,openstack/instack-undercloud,master,I250e6981be384d672ee56c93e1f6410246455316,Add missing devtest_variables.sh and set-os-type,ABANDONED,2017-03-30 18:43:40.000000000,2017-10-05 18:44:09.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-03-30 18:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/2a97b9050249d88f6000b9b6bb5cdd5feb0acc23', 'message': 'Add missing devtest_variables.sh and set-os-type\n\nAlso fix instack-virt-setup to reference them as\n/usr/libexec/openstack-tripleo/ no longer exists.\n\nChange-Id: I250e6981be384d672ee56c93e1f6410246455316\nNOTE: Also needs https://review.rdoproject.org/r/#/c/6106/\n'}, {'number': 2, 'created': '2017-03-30 19:30:28.000000000', 'files': ['scripts/set-os-type', 'scripts/instack-virt-setup', 'scripts/devtest_variables.sh', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/ec61ff162e29ac828bf759713688c4d52ba80560', 'message': 'Add missing devtest_variables.sh and set-os-type\n\nAlso fix instack-virt-setup to reference them as\n/usr/libexec/openstack-tripleo/ no longer exists.\n\nChange-Id: I250e6981be384d672ee56c93e1f6410246455316\nNOTE: Also needs https://review.rdoproject.org/r/#/c/6106/\n'}]",0,451943,ec61ff162e29ac828bf759713688c4d52ba80560,6,1,2,18242,,,0,"Add missing devtest_variables.sh and set-os-type

Also fix instack-virt-setup to reference them as
/usr/libexec/openstack-tripleo/ no longer exists.

Change-Id: I250e6981be384d672ee56c93e1f6410246455316
NOTE: Also needs https://review.rdoproject.org/r/#/c/6106/
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/43/451943/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/instack-virt-setup', 'scripts/set-os-type', 'scripts/devtest_variables.sh', 'setup.cfg']",4,2a97b9050249d88f6000b9b6bb5cdd5feb0acc23,add_devtest_variables, scripts/devtest_variables.sh,,267,2
openstack%2Ftripleo-quickstart~master~Ifb72130b0929dcc72d7f26abaef1e520b61261bc,openstack/tripleo-quickstart,master,Ifb72130b0929dcc72d7f26abaef1e520b61261bc,Add optional undercloud-setup role to quickstart-extras playbook,ABANDONED,2017-01-25 02:54:24.000000000,2017-10-05 18:44:06.000000000,,"[{'_account_id': 3}, {'_account_id': 6721}, {'_account_id': 8367}, {'_account_id': 10022}, {'_account_id': 11491}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-01-25 02:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7e6151cebb391b8048b95bdddf928f38551d861f', 'message': ""Add optional undercloud-setup role to quickstart-extras playbook\n\nThis commit adds an the optional inclusion of the 'undercloud-setup'\nrole to the quickstart-extras playbook which is the default for\nquickstart.sh. This is used for jobs which require the use of\nundercloud-setup such as multinode and ovb.\n\nChange-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n""}, {'number': 2, 'created': '2017-01-25 17:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8fa29101b6cb4fa44d5993615ee1428aaa5c4deb', 'message': ""Add optional undercloud-setup role to quickstart-extras playbook\n\nThis commit adds an the optional inclusion of the 'undercloud-setup'\nrole to the quickstart-extras playbook which is the default for\nquickstart.sh. This is used for jobs which require the use of\nundercloud-setup such as multinode and ovb.\n\nChange-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n""}, {'number': 3, 'created': '2017-01-26 03:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9ddff876e6f61735afd6c4f8a0fcb32209604226', 'message': ""Add optional undercloud-setup role to quickstart-extras playbook\n\nThis commit adds an the optional inclusion of the 'undercloud-setup'\nrole to the quickstart-extras playbook which is the default for\nquickstart.sh. This is used for jobs which require the use of\nundercloud-setup such as multinode and ovb.\n\nChange-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n""}, {'number': 4, 'created': '2017-01-26 05:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/084a9b7a5f55ffb13614b5a8bf90c102269fc4e4', 'message': ""Add optional undercloud-setup role to quickstart-extras playbook\n\nThis commit adds an the optional inclusion of the 'undercloud-setup'\nrole to the quickstart-extras playbook which is the default for\nquickstart.sh. This is used for jobs which require the use of\nundercloud-setup such as multinode and ovb.\n\nChange-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n""}, {'number': 5, 'created': '2017-01-26 06:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c08aaba2ff089fad791698dc70be9e8ec8386237', 'message': ""Add optional undercloud-setup role to quickstart-extras playbook\n\nThis commit adds an the optional inclusion of the 'undercloud-setup'\nrole to the quickstart-extras playbook which is the default for\nquickstart.sh. This is used for jobs which require the use of\nundercloud-setup such as multinode and ovb.\n\nChange-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n""}, {'number': 6, 'created': '2017-01-26 07:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f86193ae8329dc486670d06ad7843c1684b9eee3', 'message': ""Add optional undercloud-setup role to quickstart-extras playbook\n\nThis commit adds an the optional inclusion of the 'undercloud-setup'\nrole to the quickstart-extras playbook which is the default for\nquickstart.sh. This is used for jobs which require the use of\nundercloud-setup such as multinode and ovb.\n\nChange-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n""}, {'number': 7, 'created': '2017-01-26 07:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/df18eaca855a39e42c31e11ae199007c917273bb', 'message': ""Add optional undercloud-setup role to quickstart-extras playbook\n\nThis commit adds an the optional inclusion of the 'undercloud-setup'\nrole to the quickstart-extras playbook which is the default for\nquickstart.sh. This is used for jobs which require the use of\nundercloud-setup such as multinode and ovb.\n\nChange-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n""}, {'number': 8, 'created': '2017-01-26 08:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a335b80ed2e0db4b771d5ff580e8a38627a0fc39', 'message': ""Add optional undercloud-setup role to quickstart-extras playbook\n\nThis commit adds an the optional inclusion of the 'undercloud-setup'\nrole to the quickstart-extras playbook which is the default for\nquickstart.sh. This is used for jobs which require the use of\nundercloud-setup such as multinode and ovb.\n\nChange-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n""}, {'number': 9, 'created': '2017-02-06 20:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f8ed96be90cc913d6445e4b16e08b9d3969e9922', 'message': ""Add optional undercloud-setup role to quickstart-extras playbook\n\nThis commit adds an the optional inclusion of the 'undercloud-setup'\nrole to the quickstart-extras playbook which is the default for\nquickstart.sh. This is used for jobs which require the use of\nundercloud-setup such as multinode and ovb.\n\nChange-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n""}, {'number': 10, 'created': '2017-02-06 20:16:57.000000000', 'files': ['playbooks/quickstart-extras.yml', 'config/general_config/minimal.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/621dfe98d791b4042388b46b768d2b961a6b7f84', 'message': ""Add optional undercloud-setup role to quickstart-extras playbook\n\nThis commit adds an the optional inclusion of the 'undercloud-setup'\nrole to the quickstart-extras playbook which is the default for\nquickstart.sh. This is used for jobs which require the use of\nundercloud-setup such as multinode and ovb.\n\nChange-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n""}]",5,424947,621dfe98d791b4042388b46b768d2b961a6b7f84,38,6,10,6721,,,0,"Add optional undercloud-setup role to quickstart-extras playbook

This commit adds an the optional inclusion of the 'undercloud-setup'
role to the quickstart-extras playbook which is the default for
quickstart.sh. This is used for jobs which require the use of
undercloud-setup such as multinode and ovb.

Change-Id: Ifb72130b0929dcc72d7f26abaef1e520b61261bc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/47/424947/9 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/quickstart-extras.yml', 'config/general_config/minimal.yml']",2,7e6151cebb391b8048b95bdddf928f38551d861f,,# This tells the job to perform undercloud setup with the undercloud-setup extras role undercloud_setup: False ,,9,0
openstack%2Fpuppet-tripleo~master~I6110f3294ed2727c287e08f3e1019e3100c2cfa1,openstack/puppet-tripleo,master,I6110f3294ed2727c287e08f3e1019e3100c2cfa1,Active Ntp if timedatectl is installed,ABANDONED,2017-03-29 07:59:59.000000000,2017-10-05 18:44:03.000000000,,"[{'_account_id': 3}, {'_account_id': 8297}, {'_account_id': 14985}, {'_account_id': 16515}]","[{'number': 1, 'created': '2017-03-29 07:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5f1e0132f609574fd70d4e8c183adfcfb58ee408', 'message': 'Active Ntp if timedatectl is installed\n\nWhen timedatectl is installed, we need to not only\nstart the ntpd daemon, but also activate the ntp\nwith timedatectl\n\nChange-Id: I6110f3294ed2727c287e08f3e1019e3100c2cfa1\n'}, {'number': 2, 'created': '2017-03-29 09:25:36.000000000', 'files': ['manifests/profile/base/time/ntp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f14f77a5a0072dcba5f4d282a9dc8ea9e68d1934', 'message': 'Active Ntp if timedatectl is installed\n\nWhen timedatectl is installed, we need to not only\nstart the ntpd daemon, but also activate the ntp\nwith timedatectl\n\nChange-Id: I6110f3294ed2727c287e08f3e1019e3100c2cfa1\n'}]",4,451233,f14f77a5a0072dcba5f4d282a9dc8ea9e68d1934,10,4,2,16515,,,0,"Active Ntp if timedatectl is installed

When timedatectl is installed, we need to not only
start the ntpd daemon, but also activate the ntp
with timedatectl

Change-Id: I6110f3294ed2727c287e08f3e1019e3100c2cfa1
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/33/451233/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/time/ntp.pp'],1,5f1e0132f609574fd70d4e8c183adfcfb58ee408,timedatectl," # If timedatectl installed, we need to not only start ntpd but also # active the ntp with timedatectl if installed $ntp_enabled = hiera(ntp_enabled) $set_ntp_timedatectl = ""timedatectl set-ntp $ntp_enabled"" exec { 'trigger-timedatectl': command => $set_ntp_timedatectl, path => '/usr/bin:/bin', # Only if timedatectl is installed onlyif => 'test -e /usr/bin/timedatectl', }",,11,0
openstack%2Ftripleo-quickstart~master~If91a5bedb40cd96dfcd837d663d34443586f3c77,openstack/tripleo-quickstart,master,If91a5bedb40cd96dfcd837d663d34443586f3c77,"Set default disk cache mode to ""none"" for both undercloud and overcloud",ABANDONED,2017-02-10 20:18:46.000000000,2017-10-05 18:43:58.000000000,,"[{'_account_id': 3}, {'_account_id': 9257}, {'_account_id': 9555}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 11816}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-02-10 20:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/842db9ee59f37fe422905216be4ba7c18f2b57eb', 'message': 'undercloud: set disk cache mode to unsafe to match overcloud\n\nTesting indicates this can significantly speed up db sync operations,\nreducing duration from several minutes, to mere seconds.\n\nChange-Id: If91a5bedb40cd96dfcd837d663d34443586f3c77\n'}, {'number': 2, 'created': '2017-02-10 21:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0314b79f84cc18ca867d7d826b5db8a014f93801', 'message': 'undercloud: set disk cache mode to unsafe to match overcloud\n\nTesting indicates this can significantly speed up db sync operations,\nreducing duration from several minutes, to mere seconds.\n\nChange-Id: If91a5bedb40cd96dfcd837d663d34443586f3c77\n'}, {'number': 3, 'created': '2017-03-01 20:58:29.000000000', 'files': ['roles/libvirt/setup/overcloud/templates/baremetalvm.xml.j2', 'roles/libvirt/defaults/main.yml', 'roles/libvirt/setup/undercloud/templates/undercloudvm.xml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/46b585da5068ade41ff77cdf52cedfe14e636275', 'message': 'Set default disk cache mode to ""none"" for both undercloud and overcloud\n\nPreviously, undercloud was not specified.  Testing indicates this can\nsignificantly speed up disk operations on the undercloud, specifically\nreducing db sync duration from several minutes, to mere seconds.\n\nPreviously, overcloud defaulted to ""unsafe"", which is... unsafe, and\nnot recommended.\n\nChange-Id: If91a5bedb40cd96dfcd837d663d34443586f3c77\n'}]",1,432444,46b585da5068ade41ff77cdf52cedfe14e636275,29,8,3,9257,,,0,"Set default disk cache mode to ""none"" for both undercloud and overcloud

Previously, undercloud was not specified.  Testing indicates this can
significantly speed up disk operations on the undercloud, specifically
reducing db sync duration from several minutes, to mere seconds.

Previously, overcloud defaulted to ""unsafe"", which is... unsafe, and
not recommended.

Change-Id: If91a5bedb40cd96dfcd837d663d34443586f3c77
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/44/432444/3 && git format-patch -1 --stdout FETCH_HEAD,['roles/libvirt/setup/undercloud/templates/undercloudvm.xml.j2'],1,842db9ee59f37fe422905216be4ba7c18f2b57eb,undercloud-disk-cache, <driver name='qemu' type='qcow2' cache='unsafe'/>, <driver name='qemu' type='qcow2'/>,1,1
openstack%2Finstack-undercloud~master~I683904d5d6fe908fd168e7cd03ab20216b087f3e,openstack/instack-undercloud,master,I683904d5d6fe908fd168e7cd03ab20216b087f3e,VIPs should not be part of PXE boot subnet,ABANDONED,2017-02-27 11:37:42.000000000,2017-10-05 18:43:54.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 8576}, {'_account_id': 18851}]","[{'number': 1, 'created': '2017-02-27 11:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/9c71ab53e865b8f9ad9d18182840ab7227895f20', 'message': ""VIPs should not be part of PXE boot subnet\n\nIn most scenarios, the overcloud's PXE subnet is the least\nlikely place to be reachable for a user.\n\nChange-Id: I683904d5d6fe908fd168e7cd03ab20216b087f3e\nCloses-Bug: #1668180\n""}, {'number': 2, 'created': '2017-02-27 13:15:42.000000000', 'files': ['instack_undercloud/validator.py', 'instack_undercloud/tests/test_validator.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/9a6a1c75110b4730f21d6bc0b2ed941f163b2a22', 'message': ""VIPs should not be part of PXE boot subnet\n\nIn most scenarios, the overcloud's PXE subnet is the least\nlikely place to be reachable for a user.\n\nChange-Id: I683904d5d6fe908fd168e7cd03ab20216b087f3e\nCloses-Bug: #1668180\n""}]",0,438452,9a6a1c75110b4730f21d6bc0b2ed941f163b2a22,14,4,2,8576,,,0,"VIPs should not be part of PXE boot subnet

In most scenarios, the overcloud's PXE subnet is the least
likely place to be reachable for a user.

Change-Id: I683904d5d6fe908fd168e7cd03ab20216b087f3e
Closes-Bug: #1668180
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/52/438452/2 && git format-patch -1 --stdout FETCH_HEAD,['instack_undercloud/validator.py'],1,9c71ab53e865b8f9ad9d18182840ab7227895f20,bug/1668180,," if (params['undercloud_service_certificate'] or params['generate_service_certificate']): validate_addr_in_cidr(params, 'undercloud_public_host', require_ip=False) validate_addr_in_cidr(params, 'undercloud_admin_host', require_ip=False)",0,6
openstack%2Ftripleo-ci~master~I01585425341d4518859e63db69c1799b9ed2450a,openstack/tripleo-ci,master,I01585425341d4518859e63db69c1799b9ed2450a,Collect /var/lib/pacemaker/cib in the tar files from nodes,ABANDONED,2017-01-25 12:03:27.000000000,2017-10-05 18:43:51.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-01-25 12:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bf0144f2c2dcfcee0d47877ce0723d51e9d587eb', 'message': ""Collect /var/lib/pacemaker/cib/cib*raw in the tar files from nodes\n\nDebugging HA issues without having the CIBs around is extremely\nchallenging. Let's collect these files as well. A typical large\ndeployment will add about ~5k to the tar file.\n\nChange-Id: I01585425341d4518859e63db69c1799b9ed2450a\n""}, {'number': 2, 'created': '2017-01-31 08:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/77c705efe34d428303377ea3ac647be7d5f42e40', 'message': ""Collect /var/lib/pacemaker/cib/cib*raw in the tar files from nodes\n\nDebugging HA issues without having the CIBs around is extremely\nchallenging. Let's collect these files as well. A typical large\ndeployment will add about ~5k to the tar file.\n\nChange-Id: I01585425341d4518859e63db69c1799b9ed2450a\n""}, {'number': 3, 'created': '2017-01-31 09:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7f7d3b3d644c015def160d2da74d968a8c603856', 'message': ""Collect /var/lib/pacemaker/cib in the tar files from nodes\n\nDebugging HA issues without having the CIBs around is extremely\nchallenging. Let's collect these files as well. A typical large\ndeployment will add about ~5k to the tar file.\n\nChange-Id: I01585425341d4518859e63db69c1799b9ed2450a\n""}, {'number': 4, 'created': '2017-02-16 07:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9c64acfabb5fe7fee5e09fb43abc8843b8b1d945', 'message': ""Collect /var/lib/pacemaker/cib in the tar files from nodes\n\nDebugging HA issues without having the CIBs around is extremely\nchallenging. Let's collect these files as well. A typical large\ndeployment will add about ~5k to the tar file.\n\nChange-Id: I01585425341d4518859e63db69c1799b9ed2450a\n""}, {'number': 5, 'created': '2017-02-21 16:43:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/09caf7eb2261797667fd17a2ca848549ceb20872', 'message': ""Collect /var/lib/pacemaker/cib in the tar files from nodes\n\nDebugging HA issues without having the CIBs around is extremely\nchallenging. Let's collect these files as well. A typical large\ndeployment will add about ~5k to the tar file.\n\nChange-Id: I01585425341d4518859e63db69c1799b9ed2450a\n""}, {'number': 6, 'created': '2017-02-21 18:15:39.000000000', 'files': ['scripts/common_vars.bash', 'scripts/common_functions.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/84cc13edf7d34c475772bc6549b67c21963e1cc5', 'message': ""Collect /var/lib/pacemaker/cib in the tar files from nodes\n\nDebugging HA issues without having the CIBs around is extremely\nchallenging. Let's collect these files as well. A typical large\ndeployment will add about ~5k to the tar file.\n\nChange-Id: I01585425341d4518859e63db69c1799b9ed2450a\n""}]",0,425151,84cc13edf7d34c475772bc6549b67c21963e1cc5,31,3,6,20172,,,0,"Collect /var/lib/pacemaker/cib in the tar files from nodes

Debugging HA issues without having the CIBs around is extremely
challenging. Let's collect these files as well. A typical large
deployment will add about ~5k to the tar file.

Change-Id: I01585425341d4518859e63db69c1799b9ed2450a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/51/425151/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/common_vars.bash'],1,bf0144f2c2dcfcee0d47877ce0723d51e9d587eb,fetch-pacemaker-cib,"TARCMD=""sudo XZ_OPT=-3 tar -cJf - --exclude=udev/hwdb.bin --exclude=etc/puppet/modules --exclude=etc/project-config --exclude=etc/services --exclude=selinux/targeted --exclude=etc/services --exclude=etc/pki /var/log /etc /var/lib/pacemaker/cib/cib*raw""","TARCMD=""sudo XZ_OPT=-3 tar -cJf - --exclude=udev/hwdb.bin --exclude=etc/puppet/modules --exclude=etc/project-config --exclude=etc/services --exclude=selinux/targeted --exclude=etc/services --exclude=etc/pki /var/log /etc""",1,1
openstack%2Fos-net-config~master~I90243894083c47e01c9d6a63b8c6c9b79f82b8e5,openstack/os-net-config,master,I90243894083c47e01c9d6a63b8c6c9b79f82b8e5,Removes unnecessary utf-8 encoding,ABANDONED,2017-01-12 10:11:02.000000000,2017-10-05 18:43:47.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 20630}]","[{'number': 1, 'created': '2017-01-12 10:11:02.000000000', 'files': ['os_net_config/tests/test_cli.py', 'os_net_config/utils.py', 'os_net_config/tests/base.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'doc/source/conf.py', 'os_net_config/impl_eni.py', 'os_net_config/tests/test_os_net_config.py', 'os_net_config/__init__.py', 'os_net_config/tests/test_impl_eni.py', 'os_net_config/impl_iproute.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/version.py', 'os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/0eff93eee5f53235420509fa8cb1dd32ad6e0f00', 'message': 'Removes unnecessary utf-8 encoding\n\nChange-Id: I90243894083c47e01c9d6a63b8c6c9b79f82b8e5\n'}]",0,419390,0eff93eee5f53235420509fa8cb1dd32ad6e0f00,12,3,1,20630,,,0,"Removes unnecessary utf-8 encoding

Change-Id: I90243894083c47e01c9d6a63b8c6c9b79f82b8e5
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/90/419390/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_cli.py', 'os_net_config/utils.py', 'os_net_config/tests/base.py', 'os_net_config/tests/test_objects.py', 'os_net_config/impl_ifcfg.py', 'doc/source/conf.py', 'os_net_config/impl_eni.py', 'os_net_config/tests/test_os_net_config.py', 'os_net_config/__init__.py', 'os_net_config/tests/test_impl_eni.py', 'os_net_config/impl_iproute.py', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/version.py', 'os_net_config/cli.py']",16,0eff93eee5f53235420509fa8cb1dd32ad6e0f00,UTF,,# -*- coding: utf-8 -*- ,0,31
openstack%2Ftripleo-specs~master~Ia3ab40b534691aa33543e05368c22f7eba0a38eb,openstack/tripleo-specs,master,Ia3ab40b534691aa33543e05368c22f7eba0a38eb,Area Experts Policy,ABANDONED,2016-10-19 20:25:44.000000000,2017-10-05 18:43:44.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 6928}, {'_account_id': 8449}, {'_account_id': 12715}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-10-19 20:25:44.000000000', 'files': ['specs/policy/area-experts.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/4121c07f72d2bb3b2b1ae3f5d3d48f496e4b9a4a', 'message': 'Area Experts Policy\n\nThe nature of TripleO lends itself to a contribution pattern where a lot of\npeople have deep knowledge of a specific area, such as the various OpenStack\nservices, networking, storage, or drivers.  We should try to take the best\npossible advantage of this knowledge.\n\nChange-Id: Ia3ab40b534691aa33543e05368c22f7eba0a38eb\n'}]",7,388891,4121c07f72d2bb3b2b1ae3f5d3d48f496e4b9a4a,8,8,1,6928,,,0,"Area Experts Policy

The nature of TripleO lends itself to a contribution pattern where a lot of
people have deep knowledge of a specific area, such as the various OpenStack
services, networking, storage, or drivers.  We should try to take the best
possible advantage of this knowledge.

Change-Id: Ia3ab40b534691aa33543e05368c22f7eba0a38eb
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/91/388891/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/policy/area-experts.rst'],1,4121c07f72d2bb3b2b1ae3f5d3d48f496e4b9a4a,area-experts,"============== Area Experts ============== The nature of TripleO lends itself to a contribution pattern where a lot of people have deep knowledge of a specific area, such as the various OpenStack services, networking, storage, or drivers. We should try to take the best possible advantage of this knowledge. Problem Description =================== Many of the people with this deep knowledge are rightly never going to become full TripleO core reviewers. They likely have other responsibilities that take up most of their time and thus will not be able to maintain enough of a big picture view of TripleO to have approval rights in the repos. However, their deep knowledge of an area may actually give them some advantages over a TripleO core when reviewing a change in that area. Policy ====== The proposal is to add another level of reviewer, the ""area expert"". Ideally, this level would allow such experts to be given +2, with the understanding that they would only use it for their specific area. For example, an expert in Nova would be allowed to +2 changes in tripleo-heat-templates that relate to the Nova services. The difference between this level and full core is that it would not have approval rights. A full TripleO core would still be required to review all patches to ensure they fit the bigger TripleO picture, but this way two full cores would not be required to review every patch. If this level of permissions is not possible for some reason (I believe it is, but we'd need to confirm with infra), we could maintain an external list of experts and have them leave a comment on reviews in their area to let the cores know they are an expert and that their +1 counts as +2. This is similar to the Oslo method on which this is based (see reference below). We may want to keep an external list of which areas people are considered' experts, even if we use Gerrit to handle voting permissions. It might make sense to keep the list in Gerrit too so new experts can be proposed and voted on in a common way. Another benefit of this is that it could have a much lower barrier to entry because experts would not have the final say on whether patches merge. We could quickly give expert status to contributors working in a specific area. This will hopefully be motivational for new contributors to do reviews as it provides a more attainable level of recognition than core, as well. One downside is that it does add another layer of complexity to the reviewer hierarchy. Given the potential to reduce core reviewer load I think the payback is sufficient to justify that, but it is a potential issue. Area experts could, of course, be promoted to full core if they continue to become more involved in the project overall. However, I would not propose that becoming an area expert be a pre-requisite to becoming full core. It makes no sense to require that intermediate step for contributors who are focused on the project as a whole. Alternatives & History ====================== Just give them core ------------------- Make these experts full cores and trust that they won't misuse the power. I'm personally less in favor of this because it means many patches may not ever be reviewed by someone with knowledge of the project as a whole. To me, it also sets a somewhat higher bar for taking this action. I need to not only recognize someone as an expert in an area, but I also need to trust them to use core responsibly. Different core lists for different repos ---------------------------------------- We've adopted this already to some extent, but this policy is interested in a pretty fine-grained definition of ""expert"", which may go below even the repo level. It's also going to be more administrative overhead to manage a number of independent core lists for all of the TripleO projects. Implementation ============== Author(s) --------- Who is leading the writing of the policy? If more than one person is working on it, please designate the primary author and contact. Primary author: bnemec Other contributors: <launchpad-id or None> Milestones ---------- If adopted, we could begin proposing experts immediately. Work Items ---------- * Set up gerrit permissions for new group of reviewers * Create location to keep list of area experts References ========== This policy was inspired by the `Oslo Specialist API Maintainers <https://github.com/openstack/oslo-incubator/blob/987ec0d548b21726be168850629e56f0b938b327/MAINTAINERS#L17>`_ policy in the old oslo-incubator, which had a similar problem where a lot of contributors had very deep knowledge of a specific area but not a good view of the project overall. The `TripleO Squads Policy <https://review.openstack.org/385201>`_ should dovetail nicely with this policy. Squads could propose experts and less intensive review would be required by the people outside the squad. In fact, squads could potentially even manage their own expert lists independent of the rest of TripleO. Revision History ================ .. list-table:: Revisions :header-rows: 1 * - Ocata - Introduced .. note:: This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ",,136,0
openstack%2Ftripleo-validations~master~Ibbd56296a46ec741196f1e03927137c27ef25458,openstack/tripleo-validations,master,Ibbd56296a46ec741196f1e03927137c27ef25458,OverCloud Ceilomter Events Sane Defaults,ABANDONED,2017-03-16 03:22:31.000000000,2017-10-05 18:43:41.000000000,,"[{'_account_id': 3}, {'_account_id': 10068}, {'_account_id': 21794}]","[{'number': 1, 'created': '2017-03-16 03:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4aacfb925215cb1d756aee76c1df7750d2c153ae', 'message': ""OverCloud Ceilomter Events Sane Defaults.  Add Validation to see if the overcloud is appropriately configured for most deployments.\n\nThese events could then be consumed by upstream tools like ManageIQ or anything else that may want to take 'out-of-band' action when a new server, image, network or port is created in an OpenStack overcloud.  These configurations also limit events which are mostly excessive (like objectstore.http.* or idenity.* requests) and ensures that events pulled from both notifications and versioned_notifications are pulled off of rabbitmq.\n\nChange-Id: Ibbd56296a46ec741196f1e03927137c27ef25458\n""}, {'number': 2, 'created': '2017-03-16 17:31:01.000000000', 'files': ['validations/overcloud-events.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/cff6bb208d25ba677e5e4c8e6ae9f40e9297364f', 'message': ""OverCloud Ceilomter Events Sane Defaults\n\nAdd Validation to see if the overcloud is appropriately configured\nfor most deployments.\n\nThese events could then be consumed by upstream tools like ManageIQ\nor anything else that may want to take 'out-of-band' action when a new\nserver, image, network or port is created in an OpenStack overcloud.\nThese configurations also limit events which are mostly excessive\n(like objectstore.http.* or idenity.* requests) and ensures that\nevents pulled from both notifications and versioned_notifications\nare pulled off of rabbitmq.\n\nChange-Id: Ibbd56296a46ec741196f1e03927137c27ef25458\n""}]",0,446287,cff6bb208d25ba677e5e4c8e6ae9f40e9297364f,6,3,2,25452,,,0,"OverCloud Ceilomter Events Sane Defaults

Add Validation to see if the overcloud is appropriately configured
for most deployments.

These events could then be consumed by upstream tools like ManageIQ
or anything else that may want to take 'out-of-band' action when a new
server, image, network or port is created in an OpenStack overcloud.
These configurations also limit events which are mostly excessive
(like objectstore.http.* or idenity.* requests) and ensures that
events pulled from both notifications and versioned_notifications
are pulled off of rabbitmq.

Change-Id: Ibbd56296a46ec741196f1e03927137c27ef25458
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/87/446287/2 && git format-patch -1 --stdout FETCH_HEAD,['validations/overcloud-events.yaml'],1,4aacfb925215cb1d756aee76c1df7750d2c153ae,446287,"--- # # overcloud_events.yml # # description: Use TripleO Validations to determine if base set of Ceilometer # events are configured for OpenStack. This allows tools like # ManageIQ to receive events when interesting things happen in the # overcloud. These are sane defaults but may not be appropriate for # every deployment. #------------------------------------------------------------------------------- # Copyright 2017 Dave Costakos <david.costakos@redhat.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. #------------------------------------------------------------------------------- - hosts: controller compute become: true vars: metadata: name: Overcloud Events Check for Red Hat CloudForms description: > Validate that OverCloud events are configured correctly for Red Hat CloudForms. Details: [oslo_messaging_notifications]/driver = messaging in nova.conf, glance-api.conf, heat.conf and neutron.conf [oslo_messaging_notifications]/topics = notifications or undefined in nova.conf, glance-api.conf, heat.conf and neutron.conf [notification]/store_events = true in ceilometer.conf [event]/drop_unmatched_notifications = true in ceilometer.conf [oslo_messaging_notifications]/topics = notifications,versioned_notifications in ceilometer.conf (allows for capturing of all events) [oslo_messaging_notifications]/driver = noop in keystone.conf [DEFAULT]/notify_on_state_change = vm_and_task_state, [DEFAULT]/instance_usage_audit = True, [DEFAULT]/instance_usage_audit_period = hour, [DEFAULT]/notify_on_any_change = True in nova.conf for all hosts compute and controller groups: - post-deployment tasks: - name: ensure a number of files have [oslo_messaging_notifications]/driver == messaging ini: path: ""{{ item }}"" section: oslo_messaging_notifications key: driver register: controller_driver when: inventory_hostname in groups['controller'] with_items: - '/etc/nova/nova.conf' - '/etc/glance/glance-api.conf' - '/etc/heat/heat.conf' - '/etc/neutron/neutron.conf' - name: ensure a number of files have [oslo_messaging_notifications]/topics = notifications ini: path: ""{{ item }}"" section: oslo_messaging_notifications key: topics register: controller_topics when: inventory_hostname in groups['controller'] with_items: - '/etc/nova/nova.conf' - '/etc/glance/glance-api.conf' - '/etc/heat/heat.conf' - '/etc/neutron/neutron.conf' - name: Get ceilometer.conf [notification]/store_events value ini: path: /etc/ceilometer/ceilometer.conf section: notification key: store_events register: ceilometer_store_events when: inventory_hostname in groups['controller'] - name: Get ceilometer.conf [event]/drop_unmatched_notifications ini: path: /etc/ceilometer/ceilometer.conf section: event key: drop_unmatched_notifications register: ceilometer_drop_unmatched_notifications when: inventory_hostname in groups['controller'] - name: Get ceilometer.conf [oslo_messaging_notifications]/topics ini: path: /etc/ceilometer/ceilometer.conf section: oslo_messaging_notifications key: topics register: ceilometer_topics when: inventory_hostname in groups['controller'] - name: Get keystone.conf [oslo_messaging_notifications]/driver ini: path: /etc/keystone/keystone.conf section: oslo_messaging_notifications key: driver register: keystone_driver when: inventory_hostname in groups['controller'] - name: Get nova.conf settings in DEFAULT section for all hosts ini: path: /etc/nova/nova.conf section: DEFAULT key: ""{{ item }}"" register: nova_compute with_items: - 'notify_on_state_change' - 'instance_usage_audit' - 'instance_usage_audit_period' - 'notify_on_any_change' # initialize an empty list of errors so i can # show all the errors at once rather than just the first error # found - name: initialize empty list of errors set_fact: validation_errors: [] - name: check controller driver settings set_fact: validation_errors: ""{{ validation_errors }} + [ '{{ inventory_hostname}} {{ item.item }} [oslo_messaging_notifications]/driver is {{ item.value|default('null') }} and should be messaging' ]"" when: (inventory_hostname in groups['controller']) and (item.value|default("""") != 'messaging') with_items: ""{{ controller_driver.results }}"" - name: check controller topic settings set_fact: validation_errors: ""{{ validation_errors }} + [ '{{ inventory_hostname}} {{ item.item }} [oslo_messaging_notifications]/topics is {{ item.value|default('empty') }} and should be notifications or null' ]"" when: (inventory_hostname in groups['controller']) and ((item.value != 'notifications') and (""There is no key"" not in item.msg)) with_items: ""{{ controller_topics.results }}"" - name: check ceilometer.conf [notification]/store_events == true set_fact: validation_errors: ""{{ validation_errors }} + [ '{{ inventory_hostname}} ceilometer.conf store_events should be true' ]"" when: (inventory_hostname in groups['controller']) and (ceilometer_store_events.value|bool != ""true""|bool) - name: check ceilometer.conf [event]/drop_unmatched_notifications == true set_fact: validation_errors: ""{{ validation_errors }} + [ '{{ inventory_hostname}} ceilometer.conf drop_unmatched_notifications should be true' ]"" when: (inventory_hostname in groups['controller']) and (ceilometer_drop_unmatched_notifications.value|bool != ""true""|bool) - name: check ceilometer.conf [oslo_messaging_notifications]/topics == notifications,versioned_notifications set_fact: validation_errors: ""{{ validation_errors }} + [ '{{ inventory_hostname}} ceilometer.conf topics should be notifications,versioned_notifications' ]"" when: (inventory_hostname in groups['controller']) and (ceilometer_topics.value != 'notifications,versioned_notifications') - name: check keystone.conf [oslo_messaging_notifications]/driver == noop set_fact: validation_errors: ""{{ validation_errors }} + [ '{{ inventory_hostname}} keystone.conf notification driver should be noop' ]"" when: (inventory_hostname in groups['controller']) and (keystone_driver.value != 'noop') - name: check nova notify_on_state_change value set_fact: validation_errors: ""{{ validation_errors }} + [ '{{ inventory_hostname}} nova.conf {{ item.item }} is {{ item.value|default('empty') }} and should be vm_and_task_state' ]"" when: item.item|default('') == 'notify_on_state_change' and item.value != 'vm_and_task_state' with_items: ""{{ nova_compute.results }}"" - name: check nova instance_usage_audit value set_fact: validation_errors: ""{{ validation_errors }} + [ '{{ inventory_hostname}} nova.conf {{ item.item }} is {{ item.value|default('empty') }} and should be True' ]"" when: item.item|default('') == 'instance_usage_audit' and item.value|default('False')|bool != 'True'|bool with_items: ""{{ nova_compute.results }}"" - name: check nova instance_usage_audit_period value set_fact: validation_errors: ""{{ validation_errors }} + [ '{{ inventory_hostname}} nova.conf {{ item.item }} is {{ item.value|default('empty') }} and should be hour' ]"" when: item.item|default('') == 'instance_usage_audit_period' and item.value != 'hour' with_items: ""{{ nova_compute.results }}"" - name: check nova notify_on_any_change value set_fact: validation_errors: ""{{ validation_errors }} + [ '{{ inventory_hostname}} nova.conf {{ item.item }} is {{ item.value|default('empty') }} and should be True' ]"" when: item.item|default('') == 'notify_on_any_change' and item.value|default('False')|bool != 'True'|bool with_items: ""{{ nova_compute.results }}"" # failure occurs when the length of the validation_errors # array is > 0 - name: check failure fail: msg: ""\n - {{ validation_errors|join('\n') }}"" when: validation_errors|length > 0 - name: success debug: msg: events look good ",,197,0
openstack%2Ftripleo-validations~master~I5d6ac8b6adfcd29d9eba258be406c3a194ab20fb,openstack/tripleo-validations,master,I5d6ac8b6adfcd29d9eba258be406c3a194ab20fb,WIP - Validate Metadata port reachability on undercloud,ABANDONED,2017-03-16 12:33:30.000000000,2017-10-05 18:43:37.000000000,,"[{'_account_id': 3}, {'_account_id': 10068}]","[{'number': 1, 'created': '2017-03-16 12:33:30.000000000', 'files': ['validations/overcloud-8775-reachable-on-undercloud.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/65d2fbb17f9e577ba907943dc100f83da20bf2c6', 'message': ""WIP - Validate Metadata port reachability on undercloud\n\nChecks if port 8775 is reachable on Undercloud from Overcloud,\nif it's not deployment hangs.\n\nThis is a work in progress since it's not clear how to correctly\nreferrence undercloud from overcloud so that the port is reachable.\n\nChange-Id: I5d6ac8b6adfcd29d9eba258be406c3a194ab20fb\n""}]",0,446495,65d2fbb17f9e577ba907943dc100f83da20bf2c6,4,2,1,25439,,,0,"WIP - Validate Metadata port reachability on undercloud

Checks if port 8775 is reachable on Undercloud from Overcloud,
if it's not deployment hangs.

This is a work in progress since it's not clear how to correctly
referrence undercloud from overcloud so that the port is reachable.

Change-Id: I5d6ac8b6adfcd29d9eba258be406c3a194ab20fb
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/95/446495/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/overcloud-8775-reachable-on-undercloud.yml'],1,65d2fbb17f9e577ba907943dc100f83da20bf2c6,port,"--- - hosts: overcloud vars: metadata: name: Port 8775 is reachable on undercloud description: > Test whether the port 8775 is reachable on undercloud from overcloud. groups: - prep - pre-deployment tasks: - name: Check if 8775 is reachable on undercloud wait_for: # This gives correct result only on 1 node host: ""{{ ansible_default_ipv4.gateway }}"" # This is how it should be # host: ""{{ undercloud_network_cidr|nthhost(1) }}"" # This is how it would always work # 192.168.24.1 port: 8775 state: started timeout: 1 ",,22,0
openstack%2Finstack~master~I4aebd54149a877fb6eaf8d5f2996099909202c7f,openstack/instack,master,I4aebd54149a877fb6eaf8d5f2996099909202c7f,Add 6 spaces before url.,ABANDONED,2016-12-20 02:17:13.000000000,2017-10-05 18:43:29.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 7144}]","[{'number': 1, 'created': '2016-12-20 02:17:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack/commit/d1c6a451909c82772146d01db0f148f4b83ef076', 'message': 'Add four spaces before url.\n\nChange-Id: I4aebd54149a877fb6eaf8d5f2996099909202c7f\n'}, {'number': 2, 'created': '2016-12-20 02:17:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack/commit/60fe3325c4e32e746a6ce5428eade9f8e5b15163', 'message': 'Add four spaces before url.\n\n[H102 H103]There should have four spaces.\n\nChange-Id: I4aebd54149a877fb6eaf8d5f2996099909202c7f\n'}, {'number': 3, 'created': '2017-01-25 01:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack/commit/81148c0aff54e61e9892d26c702b4f6a7da3e3c4', 'message': 'Add four spaces before url.\n\n[H102 H103]There should have four spaces.\n\nChange-Id: I4aebd54149a877fb6eaf8d5f2996099909202c7f\n'}, {'number': 4, 'created': '2017-02-03 01:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack/commit/2aa6887cb14184b39d9d47b405e36feab4a53519', 'message': 'Add 6 spaces before url.\n\n[H102 H103]There should have four spaces.\n\nChange-Id: I4aebd54149a877fb6eaf8d5f2996099909202c7f\n'}, {'number': 5, 'created': '2017-02-03 01:22:07.000000000', 'files': ['instack/runner.py', 'instack/element.py', 'instack/tests/test_runner.py', 'instack/main.py'], 'web_link': 'https://opendev.org/openstack/instack/commit/f803060e9ab62de531f420ac4b6c07b730b5692a', 'message': 'Add 6 spaces before url.\n\n[H102 H103]There should have 6 spaces.\n\nChange-Id: I4aebd54149a877fb6eaf8d5f2996099909202c7f\n'}]",2,412696,f803060e9ab62de531f420ac4b6c07b730b5692a,16,3,5,23446,,,0,"Add 6 spaces before url.

[H102 H103]There should have 6 spaces.

Change-Id: I4aebd54149a877fb6eaf8d5f2996099909202c7f
",git fetch https://review.opendev.org/openstack/instack refs/changes/96/412696/4 && git format-patch -1 --stdout FETCH_HEAD,"['instack/runner.py', 'instack/element.py', 'instack/tests/test_runner.py', 'instack/main.py']",4,d1c6a451909c82772146d01db0f148f4b83ef076,LicenseInfoFormat,# http://www.apache.org/licenses/LICENSE-2.0,# http://www.apache.org/licenses/LICENSE-2.0,4,4
openstack%2Ftripleo-docs~master~Id4485bc79de8fa0416adcccc9cd0115a3688ba79,openstack/tripleo-docs,master,Id4485bc79de8fa0416adcccc9cd0115a3688ba79,Update docs for HA by default.,ABANDONED,2017-01-11 07:53:58.000000000,2017-10-05 18:43:21.000000000,,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 10239}, {'_account_id': 17888}, {'_account_id': 20775}]","[{'number': 1, 'created': '2017-01-11 07:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/86c714d95d4850f1c6371a69cfbe45d6cebb99fa', 'message': 'Update docs for HA by default.\n\nWhen the new default behavior for the Overcloud\ndeployment supports HA we need to update the docs\n\nChange-Id: Id4485bc79de8fa0416adcccc9cd0115a3688ba79\nDepends-On: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 2, 'created': '2017-01-11 12:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5a290e259e1b2b7155dd5b247ba324bdbe460b67', 'message': 'Update docs for HA by default.\n\nWhen the new default behavior for the Overcloud\ndeployment supports HA we need to update the docs\n\nChange-Id: Id4485bc79de8fa0416adcccc9cd0115a3688ba79\nDepends-On: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}, {'number': 3, 'created': '2017-02-28 10:28:37.000000000', 'files': ['doc/source/advanced_deployment/high_availability.rst', 'doc/source/basic_deployment/basic_deployment_cli.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/2cc907d73529b96fb817c9c54e45671df0e2ac0f', 'message': 'Update docs for HA by default.\n\nWhen the new default behavior for the Overcloud\ndeployment supports HA we need to update the docs\n\nChange-Id: Id4485bc79de8fa0416adcccc9cd0115a3688ba79\nDepends-On: I0f61016df6a9f07971c5eab51cc9674a1458c66f\n'}]",7,418756,2cc907d73529b96fb817c9c54e45671df0e2ac0f,16,5,3,20775,,,0,"Update docs for HA by default.

When the new default behavior for the Overcloud
deployment supports HA we need to update the docs

Change-Id: Id4485bc79de8fa0416adcccc9cd0115a3688ba79
Depends-On: I0f61016df6a9f07971c5eab51cc9674a1458c66f
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/56/418756/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/advanced_deployment/high_availability.rst', 'doc/source/basic_deployment/basic_deployment_cli.rst']",2,86c714d95d4850f1c6371a69cfbe45d6cebb99fa,change-ha-default,"By default 1 compute and 1 control node using high availability in the controller services will be deployed, with networking","By default 1 compute and 1 control node will be deployed, with networking",5,4
openstack%2Ftripleo-incubator~master~I862823360bcebbbaceba5426579ba0c6b9a82951,openstack/tripleo-incubator,master,I862823360bcebbbaceba5426579ba0c6b9a82951,Remove link to modindex,ABANDONED,2017-02-02 11:12:47.000000000,2017-10-05 18:43:13.000000000,,"[{'_account_id': 3}, {'_account_id': 22020}]","[{'number': 1, 'created': '2017-02-02 11:12:47.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/aaedc123cbd2b87c23a7251dd7438bc02506a097', 'message': 'Remove link to modindex\n\nThe documentation build does not generate any module index, thus\nremove the link to the page.\n\nChange-Id: I862823360bcebbbaceba5426579ba0c6b9a82951\n'}]",0,428090,aaedc123cbd2b87c23a7251dd7438bc02506a097,5,2,1,22020,,,0,"Remove link to modindex

The documentation build does not generate any module index, thus
remove the link to the page.

Change-Id: I862823360bcebbbaceba5426579ba0c6b9a82951
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/90/428090/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,aaedc123cbd2b87c23a7251dd7438bc02506a097,,,* :ref:`modindex`,0,1
openstack%2Ftripleo-docs~master~I7720da1b4aea3665c9bbe80337dc16e56f02e794,openstack/tripleo-docs,master,I7720da1b4aea3665c9bbe80337dc16e56f02e794,Document how to manually reconfigure overcloud Ironic cleaning,ABANDONED,2017-01-18 15:42:31.000000000,2017-10-05 18:43:06.000000000,,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 6928}, {'_account_id': 10239}, {'_account_id': 18893}, {'_account_id': 22600}]","[{'number': 1, 'created': '2017-01-18 15:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ff5a18a477efc334b3e845cb282096a8fa2ed6e0', 'message': 'attempting to enhance formatting.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 2, 'created': '2017-01-18 15:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/eda95b723e93f1bd5a8f994ab5f802807577772d', 'message': 'attempting to enhance formatting.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 3, 'created': '2017-01-18 16:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b6bf502f95d860c1aaea8796e06b9dea0b5829d4', 'message': 'adding a note how to reconfigure overcloud to erase only the metadata, instead of the entire disk.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 4, 'created': '2017-01-18 16:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/eed96281234d1ea65ff6a50d9cba7b78507b2f05', 'message': 'adding a note how to reconfigure overcloud to erase only the metadata, instead of the entire disk.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 5, 'created': '2017-01-18 16:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6e20ec5515ede1db4eeef476d192633344053933', 'message': 'adding a note how to reconfigure overcloud to erase only the metadata, instead of the entire disk.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 6, 'created': '2017-01-18 16:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7eebd800bb175424bcaccbb098d52feaab4f7880', 'message': 'adding a note how to reconfigure overcloud to erase only the metadata, instead of the entire disk.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 7, 'created': '2017-01-18 16:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9daddffe074f238ad53d0dda906af7a300dc23f9', 'message': 'adding a note how to reconfigure overcloud to erase only the metadata, instead of the entire disk.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 8, 'created': '2017-01-18 17:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/cf7a78c1c843c71ec87d91184d05cfca29adac90', 'message': 'adding a note how to reconfigure overcloud to erase only the metadata, instead of the entire disk.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 9, 'created': '2017-01-18 17:48:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f2c934b4620193d270ab75042311fcc48b4267cc', 'message': 'adding a note how to reconfigure overcloud to erase only the metadata, instead of the entire disk.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 10, 'created': '2017-01-18 17:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/960a1aff46594b2bc93114629dd614dbb8490cd0', 'message': 'adding a note how to reconfigure overcloud to erase only the metadata, instead of the entire disk.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 11, 'created': '2017-01-19 23:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/fa6a298a0e3e8c85c5c03ce5af73ec7b029625ec', 'message': 'Reconfigure ironic in already delpoyed overcloud to erase only the metadata, instead of the entire disk.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 12, 'created': '2017-01-20 22:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7024ecd925a1e733b9d4b2ab37689fa592cd8a55', 'message': 'Reconfigure ironic in already delpoyed overcloud to erase only the metadata, instead of the entire disk.\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 13, 'created': '2017-01-20 22:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a5e3911cf9e7cbe774dd797e3b201294ceb1fe4d', 'message': 'Document how to reconfigure overcloud Ironic cleaning\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 14, 'created': '2017-01-20 23:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/80df7c6b0fd5ccb667bff89792a55d8adab0e65b', 'message': 'Document how to reconfigure overcloud Ironic cleaning\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Alexander Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 15, 'created': '2017-01-30 16:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/d23d08937dfb66ad19c2a626126149429d90c904', 'message': 'Document how to manually reconfigure overcloud Ironic cleaning\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\n'}, {'number': 16, 'created': '2017-01-30 16:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/81b81668b84ee18f288bcf65daee8f9710868183', 'message': 'Document how to manually reconfigure overcloud Ironic cleaning\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Sasha Chuzhoy <sasha.chuzhoy@gmail.com>\n'}, {'number': 17, 'created': '2017-01-30 17:25:58.000000000', 'files': ['doc/source/advanced_deployment/baremetal_overcloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3e5108c5aa12236f7fec097d43dc135f0c2c94ec', 'message': 'Document how to manually reconfigure overcloud Ironic cleaning\n\nChange-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794\nSigned-off-by: Sasha Chuzhoy <sasha.chuzhoy@gmail.com>\n'}]",18,422033,3e5108c5aa12236f7fec097d43dc135f0c2c94ec,46,6,17,22600,,,0,"Document how to manually reconfigure overcloud Ironic cleaning

Change-Id: I7720da1b4aea3665c9bbe80337dc16e56f02e794
Signed-off-by: Sasha Chuzhoy <sasha.chuzhoy@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/33/422033/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/advanced_deployment/baremetal_overcloud.rst'],1,ff5a18a477efc334b3e845cb282096a8fa2ed6e0,enhance_note_matadata,"If you already deployed overcloud with the default setting (full erase), the switch to erasing only the metadata can be achieved by: 1. setting the following in /etc/ironic/ironic.conf on controller(s):: erase_devices_priority = 0 erase_devices_metadata_priority = 10 2. followed by restarting openstack-ironic-conductor ",,8,0
openstack%2Fos-net-config~master~Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4,openstack/os-net-config,master,Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4,Handle deployment update for DPDK nic changes,ABANDONED,2016-09-21 05:59:03.000000000,2017-10-05 18:43:00.000000000,,"[{'_account_id': 3}, {'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 21909}]","[{'number': 1, 'created': '2016-09-21 05:59:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/998ca4f4ff9cd21cb70a6b0b3ca523b4a41caf25', 'message': ""Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 2, 'created': '2016-09-21 06:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/eb912a2a3830289db0ec25afa77c0431a405b1f8', 'message': ""Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 3, 'created': '2016-09-21 06:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5042c1aa5cec77e42af9b4f403d8b644d21afbb7', 'message': ""WIP: Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 4, 'created': '2016-09-21 08:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5fe44474af0ca70fdfd3a3f0c0925bdb8ffbcd5d', 'message': ""WIP: Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 5, 'created': '2016-09-22 06:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/284f6579e1f0f0e8dc045f5fe9a4c8df4d562550', 'message': ""WIP: Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 6, 'created': '2016-09-22 06:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/65462e46792cbe718d99cfc293231e719d408999', 'message': ""WIP: Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 7, 'created': '2016-11-23 10:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/aff7378291fc15e1667140c2cdfd922b748d98e7', 'message': ""Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nUsed below parameter on the environemt for testing update\nscenario:\n  NetworkDeploymentActions: ['CREATE', 'UPDATE']\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 8, 'created': '2016-11-24 11:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/69804de74c68f589f9e344e0ed162c83c6840271', 'message': ""Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nUsed below parameter on the environemt for testing update\nscenario:\n  NetworkDeploymentActions: ['CREATE', 'UPDATE']\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 9, 'created': '2016-11-24 11:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/aede68cc32dce9e5925a2888325f3d561c9681c0', 'message': ""Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nUsed below parameter on the environemt for testing update\nscenario:\n  NetworkDeploymentActions: ['CREATE', 'UPDATE']\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 10, 'created': '2016-12-12 14:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/07c37ecbee4389486205a6d756169c623408a4e0', 'message': ""Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nUsed below parameter on the environemt for testing update\nscenario:\n  NetworkDeploymentActions: ['CREATE', 'UPDATE']\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 11, 'created': '2017-01-24 07:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/48d5c2effa1a6e10d2cbb7b1178f158832b30895', 'message': ""Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nUsed below parameter on the environemt for testing update\nscenario:\n  NetworkDeploymentActions: ['CREATE', 'UPDATE']\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}, {'number': 12, 'created': '2017-01-24 07:01:24.000000000', 'files': ['os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e9bce1d292fa04d90c77bfa3e1362c9b6c3992cb', 'message': ""Handle deployment update for DPDK nic changes\n\nOnce the DPDK nic is bound, all the reference to it from '/sys'\nwill be removed and the interface will not be available for\nexecuting ifdown and ifup scripts. Ensure the interface is\nunbound before it is actually being used.\n\nUsed below parameter on the environemt for testing update\nscenario:\n  NetworkDeploymentActions: ['CREATE', 'UPDATE']\n\nCloses-Bug: #1625141\n\nChange-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4\n""}]",26,373680,e9bce1d292fa04d90c77bfa3e1362c9b6c3992cb,43,4,12,18575,,,0,"Handle deployment update for DPDK nic changes

Once the DPDK nic is bound, all the reference to it from '/sys'
will be removed and the interface will not be available for
executing ifdown and ifup scripts. Ensure the interface is
unbound before it is actually being used.

Used below parameter on the environemt for testing update
scenario:
  NetworkDeploymentActions: ['CREATE', 'UPDATE']

Closes-Bug: #1625141

Change-Id: Ic5d0985ee46f97237a4bb9786bb9630bcddda8a4
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/80/373680/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/utils.py', 'os_net_config/tests/test_utils.py', 'os_net_config/objects.py', 'os_net_config/cli.py']",4,998ca4f4ff9cd21cb70a6b0b3ca523b4a41caf25,bug/1625141," obj = objects.get_object_from_json(iface_json, opts.noop)", obj = objects.object_from_json(iface_json),74,1
openstack%2Ftripleo-incubator~master~I8d9ecdaccc2b9816c468acb23fbf29537862f34a,openstack/tripleo-incubator,master,I8d9ecdaccc2b9816c468acb23fbf29537862f34a,Remove white space between print (),ABANDONED,2017-01-17 02:58:45.000000000,2017-10-05 18:42:56.000000000,,"[{'_account_id': 3}, {'_account_id': 19935}]","[{'number': 1, 'created': '2017-01-17 02:58:45.000000000', 'files': ['scripts/configure-vm'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/43f9ebc5d4c9c7181dcd70da5d843c801e95486b', 'message': 'Remove white space between print ()\n\nChange-Id: I8d9ecdaccc2b9816c468acb23fbf29537862f34a\n'}]",0,421040,43f9ebc5d4c9c7181dcd70da5d843c801e95486b,7,2,1,19935,,,0,"Remove white space between print ()

Change-Id: I8d9ecdaccc2b9816c468acb23fbf29537862f34a
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/40/421040/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/configure-vm'],1,43f9ebc5d4c9c7181dcd70da5d843c801e95486b,," print(""Created machine %s with UUID %s"" % (args.name, a.UUIDString()))"," print (""Created machine %s with UUID %s"" % (args.name, a.UUIDString()))",1,1
openstack%2Ftripleo-docs~master~I1395772f9a311318b5289458457904304a8fa113,openstack/tripleo-docs,master,I1395772f9a311318b5289458457904304a8fa113,Document how to clean up a pacemaker cluster after failed update,ABANDONED,2016-06-16 16:47:32.000000000,2017-10-05 18:42:53.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 10873}, {'_account_id': 20156}, {'_account_id': 20172}]","[{'number': 1, 'created': '2016-06-16 16:47:32.000000000', 'files': ['doc/source/troubleshooting/troubleshooting-overcloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/774a5e2598b9adecb476c239d3a0a3412341dcd7', 'message': 'Document how to clean up a pacemaker cluster after failed update\n\nThere are failure scenarios on stack updates where the pacemaker\ncluster ends up in a bad state that will cause further attempts to\nupdate the stack to fail as well.  This situation requires manual\nintervention to clean up the cluster and get it back in a consistent\nstate.\n\nChange-Id: I1395772f9a311318b5289458457904304a8fa113\n'}]",9,330695,774a5e2598b9adecb476c239d3a0a3412341dcd7,12,5,1,6928,,,0,"Document how to clean up a pacemaker cluster after failed update

There are failure scenarios on stack updates where the pacemaker
cluster ends up in a bad state that will cause further attempts to
update the stack to fail as well.  This situation requires manual
intervention to clean up the cluster and get it back in a consistent
state.

Change-Id: I1395772f9a311318b5289458457904304a8fa113
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/95/330695/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/troubleshooting/troubleshooting-overcloud.rst'],1,774a5e2598b9adecb476c239d3a0a3412341dcd7,recover-pcs-cluster," Recovering from a Bad Stack Update in HA ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ If a stack update against an overcloud using pacemaker to manage services (this is always the case in HA, but usually not in non-HA) fails, it can leave the pacemaker cluster in a bad state that will continue to cause failures in future updates as well. When this happens, it is necessary to manually clean up the cluster before the update will be successful. This procedure is only applicable to an overcloud that has been successfully deployed then failed on an update. If initial deployment fails, it should be restarted from scratch. .. note:: One example of a situation where this can happen is if a service fails to stop in time when the update process attempts to restart it. This will cause the stack update to fail and may leave important services disabled. The following steps should get the cluster back into a consistent state so that a stack update can be attempted again: #. Log in to any overcloud controller. It does not matter which one. #. Check the pacemaker cluster status:: sudo pcs status #. If services are shown in a stopped state, first try to cleanup the resource state:: sudo pcs resource cleanup #. Watch the service status with ``sudo pcs status`` to see if the stopped services start back up. It should only take a short time (less than 1 min.) for at least some of the services to begin starting. If they do not, they may have been disabled. There are two services in particular that may be disabled: ``httpd`` and ``openstack-core``. .. admonition:: Stable Branch :class: stable In older releases, ``openstack-core`` may instead be named ``openstack-keystone``. In that case, replace all references to ``openstack-core`` with ``openstack-keystone``. The first service that should be re-enabled is ``openstack-core``. This can be done as follows:: sudo pcs resource enable openstack-core #. Watch the service status with ``sudo pcs status`` again. You should see the OpenStack services starting now. #. Once all the OpenStack services are running, enable httpd:: sudo pcs resource enable httpd This should bring up all of the remaining services in pacemaker. As before, use ``sudo pcs status`` to verify all of the services end up in a ``Started`` state. Once this is the case it should be safe to re-try the stack update.",,61,0
openstack%2Ftripleo-docs~master~I23720b63796de71bef6f082756f3c549dabd5ae8,openstack/tripleo-docs,master,I23720b63796de71bef6f082756f3c549dabd5ae8,Update advanced Swift deployment doc,ABANDONED,2016-08-25 08:55:30.000000000,2017-10-05 18:42:44.000000000,,"[{'_account_id': 3}, {'_account_id': 597}, {'_account_id': 6968}, {'_account_id': 9625}]","[{'number': 1, 'created': '2016-08-25 08:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/499030e96156b3f4dbc5abae7c8e817a5b285048', 'message': ""Update advanced Swift deployment doc\n\nThis makes use of a few recently landed patches, that make it easier to\ndeploy Swift and use custom rings during the deployment. It basically\ndoesn't require manual copying of ring files anymore, and also shows how\nto define disks that should be used by Swift.\n\nDepends-On: 358643\nChange-Id: I23720b63796de71bef6f082756f3c549dabd5ae8\n""}, {'number': 2, 'created': '2016-08-25 09:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/06df1dbe7aa75b9d437ab215f7bc68584dac7a73', 'message': ""Update advanced Swift deployment doc\n\nThis makes use of a few recently landed patches, that make it easier to\ndeploy Swift and use custom rings during the deployment. It basically\ndoesn't require manual copying of ring files anymore, and also shows how\nto define disks that should be used by Swift.\n\nDepends-On: 358643\nChange-Id: I23720b63796de71bef6f082756f3c549dabd5ae8\n""}, {'number': 3, 'created': '2016-08-25 09:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/941448d7afbae94aa0e755ef13d41a74a1603510', 'message': ""Update advanced Swift deployment doc\n\nThis makes use of a few recently landed patches, that make it easier to\ndeploy Swift and use custom rings during the deployment. It basically\ndoesn't require manual copying of ring files anymore, and also shows how\nto define disks that should be used by Swift.\n\nDepends-On: 358643\nChange-Id: I23720b63796de71bef6f082756f3c549dabd5ae8\n""}, {'number': 4, 'created': '2016-08-26 08:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/689d641dfd194f84b8fcae5282217f0fe0e61375', 'message': ""Update advanced Swift deployment doc\n\nThis makes use of a few recently landed patches, that make it easier to\ndeploy Swift and use custom rings during the deployment. It basically\ndoesn't require manual copying of ring files anymore, and also shows how\nto define disks that should be used by Swift.\n\nDepends-On: 358643\nChange-Id: I23720b63796de71bef6f082756f3c549dabd5ae8\n""}, {'number': 5, 'created': '2016-08-26 09:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a9a06c65bad4c63d6ca2f1720c3d3eb8f235fe8c', 'message': ""Update advanced Swift deployment doc\n\nThis makes use of a few recently landed patches, that make it easier to\ndeploy Swift and use custom rings during the deployment. It basically\ndoesn't require manual copying of ring files anymore, and also shows how\nto define disks that should be used by Swift.\n\nChange-Id: I23720b63796de71bef6f082756f3c549dabd5ae8\n""}, {'number': 6, 'created': '2016-08-26 13:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7057df818021758a747a2bc6ae2c0ed5e91ae6b3', 'message': ""Update advanced Swift deployment doc\n\nThis makes use of a few recently landed patches, that make it easier to\ndeploy Swift and use custom rings during the deployment. It basically\ndoesn't require manual copying of ring files anymore, and also shows how\nto define disks that should be used by Swift.\n\nChange-Id: I23720b63796de71bef6f082756f3c549dabd5ae8\nSigned-off-by: Thiago da Silva <thiago@redhat.com>\n""}, {'number': 7, 'created': '2016-08-29 19:57:33.000000000', 'files': ['doc/source/advanced_deployment/deploy_swift.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ad52738e31ec4e3b8bebedfc688c162a013af9d0', 'message': ""Update advanced Swift deployment doc\n\nThis makes use of a few recently landed patches, that make it easier to\ndeploy Swift and use custom rings during the deployment. It basically\ndoesn't require manual copying of ring files anymore, and also shows how\nto define disks that should be used by Swift.\n\nChange-Id: I23720b63796de71bef6f082756f3c549dabd5ae8\nSigned-off-by: Thiago da Silva <thiago@redhat.com>\n""}]",4,360353,ad52738e31ec4e3b8bebedfc688c162a013af9d0,20,4,7,6968,,,0,"Update advanced Swift deployment doc

This makes use of a few recently landed patches, that make it easier to
deploy Swift and use custom rings during the deployment. It basically
doesn't require manual copying of ring files anymore, and also shows how
to define disks that should be used by Swift.

Change-Id: I23720b63796de71bef6f082756f3c549dabd5ae8
Signed-off-by: Thiago da Silva <thiago@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/53/360353/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/advanced_deployment/deploy_swift.rst'],1,499030e96156b3f4dbc5abae7c8e817a5b285048,swift-rings,"includes multiple steps: - discover nodes and disks to be used as Swift storage nodes - disable default ring building on the overcloud nodes - define disks to be prepared by Puppet - enable Swift mount check - create Swift rings for account, container and object servers and distribute them to all controllers and object storage nodes Discover nodes and disks ~~~~~~~~~~~~~~~~~~~~~~~~ Let us assume you have a few object storage nodes and each nodes has three disks vdb, vdc, and vdd to use for Swift. You need to define these disks as node-specific hieradata, as explained in :doc:`../advanced_deployment/node_specific_hieradata.rst`. For example:: $ ironic node-list +--------------------------------------+-----------------+--------------------------------------+-------------+--------------------+-------------+ | UUID | Name | Instance UUID | Power State | Provisioning State | Maintenance | +--------------------------------------+-----------------+--------------------------------------+-------------+--------------------+-------------+ | ea204aa3-5bff-47e1-91e4-203206ce67a5 | objectstorage-0 | a4ff46f4-6d40-478a-a4d6-5706e7ce823b | power on | active | False | | fb233c28-d080-49d3-9df6-4d7f0db5f7c1 | objectstorage-1 | 5ac73090-af55-47bf-94b0-c4db2bc48072 | power on | active | False | | 496b998f-b650-4920-9506-3823f995436e | control-0 | 79357593-a183-4e03-9c39-34125ff80683 | power on | active | False | +--------------------------------------+-----------------+--------------------------------------+-------------+--------------------+-------------+ So we have two storage nodes, let's see what disks are available:: $ openstack baremetal introspection data save ea204aa3-5bff-47e1-91e4-203206ce67a5 | jq '{uuid: .extra.system.product.uuid, disks: [.inventory.disks[] | {name: .name, size: .size}], root_disk: .root_disk.name}' { ""root_disk"": ""/dev/vda"", ""disks"": [ { ""size"": 53687091200, ""name"": ""/dev/vda"" }, { ""size"": 1073741824, ""name"": ""/dev/vdb"" }, { ""size"": 1073741824, ""name"": ""/dev/vdc"" }, { ""size"": 1073741824, ""name"": ""/dev/vdd"" } ], ""uuid"": ""D191F45A-0763-4C60-B3AA-D1A98A1B8B51"" } .. note:: Please note that the shown UUID is neither the Nova nor Ironic UUID; it's the system UUID and this has to be used in the next steps. As one can see, the system has four disks, with `vda` being the root disk. This data will be used in the following steps. Disable ring building, enabling mount check ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The default ring building on each nodes has to be disabled, otherwise it will overwrite the custom rings. This can be achieved by disabling the Ring building process in TripleO by setting the ``SwiftRingBuild`` and ``RingBuild`` parameters both to ``false``. The mount check is also enabled to ensure that Swift doesn't write data to system root in case a disk is not mounted.:: SwiftMountCheck: true MountCheck: true Define disks to use ~~~~~~~~~~~~~~~~~~~ Using the data collected earlier on we can define some node-specific hieradata to be used by Puppet, as explained in :doc:`../advanced_deployment/node_specific_hieradata.rst`. For example:: resource_registry: OS::TripleO::NodeExtraConfig: /usr/share/openstack-tripleo-heat-templates/puppet/extraconfig/pre_deploy/per_node.yaml NodeDataLookup: | {""052D87E4-5585-4746-A9ED-40A31E8F394E"": {""swift::storage::disks::args"": {""vdc"": {}, ""vdb"": {}, ""vdd"": {}}}, ""D191F45A-0763-4C60-B3AA-D1A98A1B8B51"": {""swift::storage::disks::args"": {""vdc"": {}, ""vdb"": {}, ""vdd"": {}}} } This will ensure that the given disks on the specified nodes will be formatted using XFS and mounted at `/srv/node/<diskname>`. Putting it all together ~~~~~~~~~~~~~~~~~~~~~~~ If this is saved in a file named ``deploy-parameters.yaml`` then it can be deployed with ``openstack overcloud deploy --templates -e deploy-parameters.yaml``. Creating Swift rings ~~~~~~~~~~~~~~~~~~~~ You will need to create some custom Swift rings for the deployment. This can be done on the undercloud node; it's a good idea to use a separate directory for this, for example `overcloud-swift-rings/`. Follow the instructions in the.. note:: There is no hostname available if the nodes are not powered on yet. In this case you can use the system UUID as a hostname, suffixed by the network name; for example `d191f45a-0763-4c60-b3aa-d1a98a1b8b51.storagemgmt`. After this is completed you will need to upload the rings to be used during the deployment. Assuming you stored the rings in `overcloud-swift-rings/`, do the following:: $ tar --transform=s#overcloud-swift-rings#etc/swift# -cvf swift-rings.tar overcloud-swift-rings/ $ upload-swift-artifacts -f swift-rings.tarUpdate your rings in `overcloud-swift-rings/` accordingly, and upload them again using `upload-swift-artifacts` before deploying again.","can be achieved by disabling the Ring building process in TripleO by setting the ``SwiftRingBuild`` and ``RingBuild`` parameters both to ``false``. For example::.. note:: If this is saved in a file named ``deploy-parameters.yaml`` then it can be deployed with ``openstack overcloud deploy --templates -e deploy- parameters.yaml``. After the deploy is completed, you will need to ssh onto the overcloud node as the ``heat-admin`` user ad switch to the root user with ``sudo -i``. The IP addresses is available in the output of ``openstack server list``. Once connected, in the ``/etc/swift/`` directory follow the instructions in theAfter this is completed you will need to copy the ``/etc/swift/*.ring.gz`` and ``/etc/swift/*.builder`` files from the controller. These files will also be used when adding additional swift nodes. You should have six files:: /etc/swift/account.builder /etc/swift/account.ring.gz /etc/swift/container.builder /etc/swift/container.ring.gz /etc/swift/object.builder /etc/swift/object.ring.gz .. note:: These files will be updated each time a new node is added with swift-ring-builder.After we have deployed again with this new environment we will have two swift nodes that need to be added to the ring we created during the initial deployment. The six files we copied from the Controller node need to be added to each of the new swift nodes.",108,28
openstack%2Fcharm-rabbitmq-server~master~I68d4e3e723ed62fb5e90ba6bcf284c432ba9cd6b,openstack/charm-rabbitmq-server,master,I68d4e3e723ed62fb5e90ba6bcf284c432ba9cd6b,Write stats to tmp file before updating data file,MERGED,2017-10-02 11:00:36.000000000,2017-10-05 18:42:42.000000000,2017-10-05 18:42:42.000000000,"[{'_account_id': 3}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 11:00:36.000000000', 'files': ['scripts/collect_rabbitmq_stats.sh'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/a8f7dea190a6e698d7851642fd16b67c5ed4f6fa', 'message': 'Write stats to tmp file before updating data file\n\nThis change updates the stats collection script so it writes to a\ntemporary file before updating the main stats file to ensure that\nthe update is an atomic operation.\n\nChange-Id: I68d4e3e723ed62fb5e90ba6bcf284c432ba9cd6b\nCloses-Bug: #1569143\n'}]",0,508849,a8f7dea190a6e698d7851642fd16b67c5ed4f6fa,11,5,1,12549,,,0,"Write stats to tmp file before updating data file

This change updates the stats collection script so it writes to a
temporary file before updating the main stats file to ensure that
the update is an atomic operation.

Change-Id: I68d4e3e723ed62fb5e90ba6bcf284c432ba9cd6b
Closes-Bug: #1569143
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/49/508849/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/collect_rabbitmq_stats.sh'],1,a8f7dea190a6e698d7851642fd16b67c5ed4f6fa,bug/1569143,"TMP_DATA_FILE=$(mktemp -p ${DATA_DIR}) awk ""{print \""$VHOST \"" \$0 \"" $(date +'%s') \""}"" >> ${TMP_DATA_FILE} 2>${LOG_DIR}/list_queues.logmv ${TMP_DATA_FILE} ${DATA_FILE}"," awk ""{print \""$VHOST \"" \$0 \"" $(date +'%s') \""}"" >> $DATA_FILE 2>${LOG_DIR}/list_queues.log",3,1
openstack%2Ftripleo-validations~master~I35e9ff2aade22d55d6ecc892672384037bd2ede8,openstack/tripleo-validations,master,I35e9ff2aade22d55d6ecc892672384037bd2ede8,Validate the instackenv format,ABANDONED,2016-08-11 10:17:50.000000000,2017-10-05 18:42:41.000000000,,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 10239}, {'_account_id': 13039}]","[{'number': 1, 'created': '2016-08-11 10:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7d5df603e56c2cbaded8796f9da2e41808e1ab72', 'message': 'Validate the instackenv format\n\nChange-Id: I35e9ff2aade22d55d6ecc892672384037bd2ede8\n'}, {'number': 2, 'created': '2016-08-17 11:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a1afcb864eb3b08e5a6b7fcade29fe69db3f6166', 'message': 'Validate the instackenv format\n\nThe unit tests will come in another commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nChange-Id: I35e9ff2aade22d55d6ecc892672384037bd2ede8\n'}, {'number': 3, 'created': '2016-10-04 15:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/d3d618b158dadbd217e54768ac9f0e0929742410', 'message': 'Validate the instackenv format\n\nThe unit tests will come in another commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nChange-Id: I35e9ff2aade22d55d6ecc892672384037bd2ede8\n'}, {'number': 4, 'created': '2016-10-07 10:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0b0dc0d0c13386f2aaf572379ec67122554eef2c', 'message': 'Validate the instackenv format\n\nThe unit tests will come in another commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nChange-Id: I35e9ff2aade22d55d6ecc892672384037bd2ede8\n'}, {'number': 5, 'created': '2016-10-07 11:56:34.000000000', 'files': ['validations/library/instackenv.py', 'validations/instackenv.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e54ff4cd9d2b43d17ca083116927464d5e8d915a', 'message': 'Validate the instackenv format\n\nNote that this validation will currently fail when being run by the UIs,\nbecause it expects the list of nodes from the `instackenv.json` file as\nan output, but our Mistral workflows have currently no support for\npassing those in.\n\nThere will be additional patches to tripleo-common to resolve that, but\nsince they will depend on this validation being available, this should\nbe merged first. The validation is added to a brand new group, so\nmerging it as is should not break anything.\n\nThe unit tests will come in another commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nPartial-Bug: #1625522\nChange-Id: I35e9ff2aade22d55d6ecc892672384037bd2ede8\n'}]",14,353956,e54ff4cd9d2b43d17ca083116927464d5e8d915a,24,4,5,4330,,,0,"Validate the instackenv format

Note that this validation will currently fail when being run by the UIs,
because it expects the list of nodes from the `instackenv.json` file as
an output, but our Mistral workflows have currently no support for
passing those in.

There will be additional patches to tripleo-common to resolve that, but
since they will depend on this validation being available, this should
be merged first. The validation is added to a brand new group, so
merging it as is should not break anything.

The unit tests will come in another commit:
https://bugs.launchpad.net/tripleo/+bug/1594785

Partial-Bug: #1625522
Change-Id: I35e9ff2aade22d55d6ecc892672384037bd2ede8
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/56/353956/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations/library/instackenv.py', 'validations/instackenv.yaml']",2,7d5df603e56c2cbaded8796f9da2e41808e1ab72,bug/1625522,"--- - hosts: undercloud vars: metadata: name: Validate the instackenv.json file used to register baremetal nodes description: > The instackenv.json file contains the list of nodes we want to register with Ironic. This validation verifies that it is a valid json file, that all the MAC and IPMI addresses are unique and in case the `ipmitool` is available, tries to connect to each node. groups: - pre-introspection instackenv_file_path: /home/stack/instackenv.json tasks: - name: Install ipmitool if available yum: name=ipmitool ignore_errors: yes - name: Validate instackenv.json instackenv: path=""{{ instackenv_file_path }}"" ",,124,0
openstack%2Fos-net-config~master~Ibe96383648cd2a371d155ebfef765fb1a0d6bec4,openstack/os-net-config,master,Ibe96383648cd2a371d155ebfef765fb1a0d6bec4,Make os_net_config package private,ABANDONED,2015-03-17 15:56:16.000000000,2017-10-05 18:42:38.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6928}, {'_account_id': 10239}]","[{'number': 1, 'created': '2015-03-17 15:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/f05c3889d9820ed92c67a7c652eeea6abe959013', 'message': 'Make os_net_config package private\n\nPer the discusson on change I93e6d3ed733244834bb3c2126c91db705b4d9167\nnobody intends for this project to be used as a Python library at\nthis time.  The only public interface should be the CLI.  To make\nthis explicit, rename the os_net_config package to _os_net_config.\n\nChange-Id: Ibe96383648cd2a371d155ebfef765fb1a0d6bec4\n'}, {'number': 2, 'created': '2015-03-17 15:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/b445b3dee6016e4438a06d7033a0f35e6530851c', 'message': 'Make os_net_config package private\n\nPer the discusson on change I93e6d3ed733244834bb3c2126c91db705b4d9167\nnobody intends for this project to be used as a Python library at\nthis time.  The only public interface should be the CLI.  To make\nthis explicit, rename the os_net_config package to _os_net_config.\n\nChange-Id: Ibe96383648cd2a371d155ebfef765fb1a0d6bec4\n'}, {'number': 3, 'created': '2015-03-17 15:59:17.000000000', 'files': ['_os_net_config/tests/__init__.py', '_os_net_config/impl_ifcfg.py', '_os_net_config/objects.py', '_os_net_config/tests/test_cli.py', '_os_net_config/tests/test_impl_ifcfg.py', '_os_net_config/utils.py', '_os_net_config/version.py', '_os_net_config/tests/test_impl_eni.py', '_os_net_config/tests/test_os_net_config.py', '_os_net_config/impl_eni.py', '_os_net_config/tests/base.py', '_os_net_config/tests/test_objects.py', '_os_net_config/__init__.py', '_os_net_config/impl_iproute.py', '_os_net_config/tests/test_utils.py', 'setup.cfg', '_os_net_config/cli.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e765d962bb70f0cc64f1dd860642df68e07ab130', 'message': 'Make os_net_config package private\n\nPer the discusson on change I93e6d3ed733244834bb3c2126c91db705b4d9167\nnobody intends for this project to be used as a Python library at\nthis time.  The only public interface should be the CLI.  To make\nthis explicit, rename the os_net_config package to _os_net_config.\n\nChange-Id: Ibe96383648cd2a371d155ebfef765fb1a0d6bec4\n'}]",0,165118,e765d962bb70f0cc64f1dd860642df68e07ab130,14,5,3,6928,,,0,"Make os_net_config package private

Per the discusson on change I93e6d3ed733244834bb3c2126c91db705b4d9167
nobody intends for this project to be used as a Python library at
this time.  The only public interface should be the CLI.  To make
this explicit, rename the os_net_config package to _os_net_config.

Change-Id: Ibe96383648cd2a371d155ebfef765fb1a0d6bec4
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/18/165118/2 && git format-patch -1 --stdout FETCH_HEAD,"['_os_net_config/tests/__init__.py', '_os_net_config/impl_ifcfg.py', '_os_net_config/objects.py', '_os_net_config/tests/test_cli.py', '_os_net_config/tests/test_impl_ifcfg.py', '_os_net_config/utils.py', '_os_net_config/version.py', '_os_net_config/tests/test_impl_eni.py', '_os_net_config/tests/test_os_net_config.py', '_os_net_config/impl_eni.py', '_os_net_config/tests/base.py', '_os_net_config/tests/test_objects.py', '_os_net_config/__init__.py', '_os_net_config/impl_iproute.py', '_os_net_config/tests/test_utils.py', 'setup.cfg', '_os_net_config/cli.py']",17,f05c3889d9820ed92c67a7c652eeea6abe959013,private,from _os_net_config import impl_eni from _os_net_config import impl_ifcfg from _os_net_config import impl_iproute from _os_net_config import objects from _os_net_config import version,from os_net_config import impl_eni from os_net_config import impl_ifcfg from os_net_config import impl_iproute from os_net_config import objects from os_net_config import version,39,38
openstack%2Fos-collect-config~master~I4f6262967ad346c6ff103cb359b02b81ef71573f,openstack/os-collect-config,master,I4f6262967ad346c6ff103cb359b02b81ef71573f,Add insecure option to the cfn collector,ABANDONED,2016-02-25 14:07:07.000000000,2017-10-05 18:42:34.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6899}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 11105}, {'_account_id': 11956}, {'_account_id': 12259}]","[{'number': 1, 'created': '2016-02-25 14:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/43544170c72fce489894caa1854498b0b922af76', 'message': ""Add insecure option to the cfn collector\n\nThis patch adds insecure option to make a insecure https request\nto cfn server if ca-certificate is not there as most of the times\nthe user images doesn't have the certificates.\n\nChange-Id: I4f6262967ad346c6ff103cb359b02b81ef71573f\nCloses-Bug: #1549797\n""}, {'number': 2, 'created': '2016-02-26 08:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/8a80ef8608f1849dbcdf294a7eabfe40fd9ad128', 'message': ""Add insecure option to the cfn collector\n\nThis patch adds insecure option to make a insecure https request\nto cfn server if ca-certificate is not there as most of the times\nthe user images doesn't have the certificates.\n\nChange-Id: I4f6262967ad346c6ff103cb359b02b81ef71573f\nCloses-Bug: #1549797\n""}, {'number': 3, 'created': '2016-02-29 05:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/357d3fae5e64bed92a3fa965d4c1be5b8ed3abb9', 'message': ""Add insecure option to the cfn collector\n\nThis patch adds insecure option to make a insecure https request\nto cfn server if ca-certificate is not there as most of the times\nthe user images doesn't have the certificates.\n\nChange-Id: I4f6262967ad346c6ff103cb359b02b81ef71573f\nCloses-Bug: #1549797\n""}, {'number': 4, 'created': '2016-03-07 08:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/8d75876938ae2803ff108211f74d96cc1459f073', 'message': ""Add insecure option to the cfn collector\n\nThis patch adds insecure option to make a insecure https request\nto cfn server if ca-certificate is not there as most of the times\nthe user images doesn't have the certificates.\n\nChange-Id: I4f6262967ad346c6ff103cb359b02b81ef71573f\nCloses-Bug: #1549797\n""}, {'number': 5, 'created': '2016-03-10 08:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/9efeeb15843ae1807e9e786a2c5a1164e058bc70', 'message': ""Add insecure option to the cfn collector\n\nThis patch adds insecure option to make a insecure https request\nto cfn server if ca-certificate is not there as most of the times\nthe user images doesn't have the certificates.\n\nChange-Id: I4f6262967ad346c6ff103cb359b02b81ef71573f\nCloses-Bug: #1549797\n""}, {'number': 6, 'created': '2016-04-05 15:25:30.000000000', 'files': ['os_collect_config/tests/test_cfn.py', 'os_collect_config/cfn.py'], 'web_link': 'https://opendev.org/openstack/os-collect-config/commit/8dd3a11926daace32e81be0a29975ca23ae16754', 'message': ""Add insecure option to the cfn collector\n\nThis patch adds insecure option to make a insecure https request\nto cfn server if ca-certificate is not there as most of the times\nthe user images doesn't have the certificates.\n\nChange-Id: I4f6262967ad346c6ff103cb359b02b81ef71573f\nCloses-Bug: #1549797\n""}]",16,284725,8dd3a11926daace32e81be0a29975ca23ae16754,36,10,6,11956,,,0,"Add insecure option to the cfn collector

This patch adds insecure option to make a insecure https request
to cfn server if ca-certificate is not there as most of the times
the user images doesn't have the certificates.

Change-Id: I4f6262967ad346c6ff103cb359b02b81ef71573f
Closes-Bug: #1549797
",git fetch https://review.opendev.org/openstack/os-collect-config refs/changes/25/284725/4 && git format-patch -1 --stdout FETCH_HEAD,"['os_collect_config/tests/test_cfn.py', 'os_collect_config/cfn.py']",2,43544170c72fce489894caa1854498b0b922af76,1549797," cfg.BoolOpt('insecure', default=True, help='Set to disable certificate check.'), if CONF.cfn.insecure: verify_cert = False else: verify_cert = (CONF.cfn.ca_certificate if CONF.cfn.ca_certificate else True) verify=verify_cert)", verify=CONF.cfn.ca_certificate),19,3
openstack%2Ftripleo-validations~master~I382aac630bde83b254d0818b419397f43d801cdf,openstack/tripleo-validations,master,I382aac630bde83b254d0818b419397f43d801cdf,Adds validation to check stack delete policy on undercloud,ABANDONED,2016-11-17 23:51:25.000000000,2017-10-05 18:42:31.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 4330}, {'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 13039}, {'_account_id': 24062}, {'_account_id': 24267}]","[{'number': 1, 'created': '2016-11-17 23:51:25.000000000', 'files': ['validations/overcloud-delete-denied.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/3f6984067da831b75139656e90900ee316222131', 'message': 'Adds validation to check stack delete policy on undercloud\n\nThis validation checks /etc/heat/policy.json to see if\nstacks:delete is set to deny_everybody.\n\nSetting stacks:delete to deny_everybody will prevent\naccidental deletion of overcloud\n\nChange-Id: I382aac630bde83b254d0818b419397f43d801cdf\nSigned-off-by: Kevin Jones <kevinjones@redhat.com>\n'}]",0,399297,3f6984067da831b75139656e90900ee316222131,11,8,1,24267,,,0,"Adds validation to check stack delete policy on undercloud

This validation checks /etc/heat/policy.json to see if
stacks:delete is set to deny_everybody.

Setting stacks:delete to deny_everybody will prevent
accidental deletion of overcloud

Change-Id: I382aac630bde83b254d0818b419397f43d801cdf
Signed-off-by: Kevin Jones <kevinjones@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/97/399297/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/overcloud-delete-denied.yaml'],1,3f6984067da831b75139656e90900ee316222131,val/overcloud-delete-denied,"--- - hosts: undercloud vars: metadata: name: Check that heat policy denies overcloud deletion for everyone description: > This will read the heat policy configuration to see if stacks:delete policy is set to deny deletion of stacks to everyone. groups: - post-deployment tasks: - name: Look for setting of stacks delete in heat policy. become: true command: > grep -Fq '""stacks:delete"": ""rule:deny_everybody""' /etc/heat/policy.json register: checkheatpolicy always_run: true failed_when: checkheatpolicy.rc > 1 - name: Fail if heat is not configured to prevent stack deletion to everyone fail: msg: ""To prevent accidental overcloud deletion, stacks:delete should be set to deny_everybody in /etc/heat/policy.json on the undercloud"" failed_when: checkheatpolicy.rc != 0 ",,23,0
openstack%2Fos-net-config~master~Ia3f830e478e5405187576119b0127eaffc66e073,openstack/os-net-config,master,Ia3f830e478e5405187576119b0127eaffc66e073,Enable setting of IPV6_AUTOCONF separately from DHCPV6C,ABANDONED,2016-08-03 21:37:42.000000000,2017-10-05 18:42:25.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6928}, {'_account_id': 12398}, {'_account_id': 21909}]","[{'number': 1, 'created': '2016-08-03 21:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/5af77b2fc5aa5ca3fc7deb7d7924220759780e98', 'message': 'Disable IPv6 Autoconf When use_dhcpv6=False\n\nCurrently os-net-config will configure an interface with no IPv6\naddresses without an IPV6_AUTOCONF statement, so by default the\ninterface will perform autoconfiguration and if a router is present\nwill also accept RAs and will self-configure a global address. The\nproblem is that if the default route is learned through an RA it\nwill conflict with any static default route set on any other IPv6\ninterfaces.\n\nThis change adds IPV6_AUTOCONF=no whenever use_dhcpv6 is not true.\nThis means that if no IPv6 address is statically configured, and\nDHCPv6 configuration has not been requested, then the interface\nwill not be autoconfigured. Enabling use_dhcpv6 will now enable\nIPv6 autoconf along with DHCPv6 client.\n\nFixes-bug: 1609125\nChange-Id: Ia3f830e478e5405187576119b0127eaffc66e073\n'}, {'number': 2, 'created': '2016-08-04 22:46:49.000000000', 'files': ['etc/os-net-config/samples/interface.yaml', 'os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py', 'etc/os-net-config/samples/interface.json', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/fff5cb21136d00c1e8b95476a82563863e4f7c1c', 'message': 'Enable setting of IPV6_AUTOCONF separately from DHCPV6C\n\nCurrently os-net-config will configure an interface with no IPv6\naddresses without an IPV6_AUTOCONF statement, so by default the\ninterface will perform autoconfiguration and if a router is present\nwill also accept RAs and will self-configure a global address. The\nproblem is that if the default route is learned through an RA it\nwill conflict with any static default route set on any other IPv6\ninterfaces.\n\nThis change adds IPV6_AUTOCONF=no whenever ipv6_autoconf is false.\nThis means that if no IPv6 address is statically configured, and\nDHCPv6 configuration has not been requested, then the interface\nwill not be autoconfigured. DHCPv6, if enabled, takes precedence\nover the IPV6_AUTOCONF setting (DHCP will be used to set the\naddress of the interface). However, if IPv6 autoconf is enabled\nas well as static IPs, then the system will automatically\nconfigure an IPv6 address as well as configure the static IPs.\n\nThis change includes unit tests for static IPv4 with DHCPv6\nand static IPv4/IPv6 along with IPv6 autoconf (SLAAC).\n\nFixes-bug: 1609125\nChange-Id: Ia3f830e478e5405187576119b0127eaffc66e073\n'}]",7,350794,fff5cb21136d00c1e8b95476a82563863e4f7c1c,18,7,2,12398,,,0,"Enable setting of IPV6_AUTOCONF separately from DHCPV6C

Currently os-net-config will configure an interface with no IPv6
addresses without an IPV6_AUTOCONF statement, so by default the
interface will perform autoconfiguration and if a router is present
will also accept RAs and will self-configure a global address. The
problem is that if the default route is learned through an RA it
will conflict with any static default route set on any other IPv6
interfaces.

This change adds IPV6_AUTOCONF=no whenever ipv6_autoconf is false.
This means that if no IPv6 address is statically configured, and
DHCPv6 configuration has not been requested, then the interface
will not be autoconfigured. DHCPv6, if enabled, takes precedence
over the IPV6_AUTOCONF setting (DHCP will be used to set the
address of the interface). However, if IPv6 autoconf is enabled
as well as static IPs, then the system will automatically
configure an IPv6 address as well as configure the static IPs.

This change includes unit tests for static IPv4 with DHCPv6
and static IPv4/IPv6 along with IPv6 autoconf (SLAAC).

Fixes-bug: 1609125
Change-Id: Ia3f830e478e5405187576119b0127eaffc66e073
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/94/350794/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/tests/test_impl_ifcfg.py', 'os_net_config/impl_ifcfg.py']",2,5af77b2fc5aa5ca3fc7deb7d7924220759780e98,bug/1609125," if base_opt.addresses: if v4_addresses and not base_opt.use_dhcp: if v6_addresses and not base_opt.use_dhcpv6: else: if not base_opt.use_dhcpv6: data += ""IPV6_AUTOCONF=no\n""", elif base_opt.addresses: if v4_addresses: if v6_addresses:,33,7
openstack%2Ftripleo-validations~master~I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725,openstack/tripleo-validations,master,I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725,Check for differences between introspected HW,ABANDONED,2016-08-11 10:47:42.000000000,2017-10-05 18:42:15.000000000,,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 10239}, {'_account_id': 13039}]","[{'number': 1, 'created': '2016-08-11 10:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/a93565be4308131e46c5bf1f220cc429962ad722', 'message': 'Check for differences between introspected HW\n\nChange-Id: I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725\nCo-Authored-By: Swapnil Kulkarni <skulkarn@redhat.com>\n'}, {'number': 2, 'created': '2016-08-17 11:55:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/11aa6ce21497ebdb2cbf8f07d6628d0fbf2873dd', 'message': 'Check for differences between introspected HW\n\nUnit tests will be provided in a separate commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nChange-Id: I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725\nCo-Authored-By: Swapnil Kulkarni <skulkarn@redhat.com>\n'}, {'number': 3, 'created': '2016-09-05 14:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/17c15655825a34c8b876eb0ae39f29396304aec6', 'message': 'Check for differences between introspected HW\n\nUnit tests will be provided in a separate commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nChange-Id: I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725\nCo-Authored-By: Swapnil Kulkarni <skulkarn@redhat.com>\n'}, {'number': 4, 'created': '2016-09-05 17:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1440f02a403e82033e6bbc7ca3193206c476571f', 'message': 'Check for differences between introspected HW\n\nUnit tests will be provided in a separate commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nChange-Id: I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725\nCo-Authored-By: Swapnil Kulkarni <skulkarn@redhat.com>\n'}, {'number': 5, 'created': '2016-09-06 07:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/25e3e252a8709dac9e986548f8faf3fc0bbf5032', 'message': 'Check for differences between introspected HW\n\nUnit tests will be provided in a separate commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nChange-Id: I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725\nCo-Authored-By: Swapnil Kulkarni <skulkarn@redhat.com>\n'}, {'number': 6, 'created': '2016-09-06 11:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bccff51b98e6f4abcbb4649314fb541b264e93f5', 'message': 'Check for differences between introspected HW\n\nUnit tests will be provided in a separate commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nChange-Id: I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725\nCo-Authored-By: Swapnil Kulkarni <skulkarn@redhat.com>\n'}, {'number': 7, 'created': '2016-09-06 14:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2d2747fd14f47c0ab20c1fe01a1b84fd9f2e2055', 'message': 'Check for differences between introspected HW\n\nUnit tests will be provided in a separate commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nChange-Id: I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725\nCo-Authored-By: Swapnil Kulkarni <skulkarn@redhat.com>\n'}, {'number': 8, 'created': '2016-09-06 14:53:21.000000000', 'files': ['validations/library/discovery_diff.py', 'validations/discovery-diff.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e257477bf098a4e23af6589d5258acdb5912fe14', 'message': 'Check for differences between introspected HW\n\nUnit tests will be provided in a separate commit:\nhttps://bugs.launchpad.net/tripleo/+bug/1594785\n\nChange-Id: I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725\nDepends-On: Ie09a68bdcd8107399558f45f022480ef066e8c01\nCo-Authored-By: Swapnil Kulkarni <skulkarn@redhat.com>\n'}]",5,353978,e257477bf098a4e23af6589d5258acdb5912fe14,27,4,8,4330,,,0,"Check for differences between introspected HW

Unit tests will be provided in a separate commit:
https://bugs.launchpad.net/tripleo/+bug/1594785

Change-Id: I6a0867e7e5778d1eb7439dc3e3bfb7bda9fb0725
Depends-On: Ie09a68bdcd8107399558f45f022480ef066e8c01
Co-Authored-By: Swapnil Kulkarni <skulkarn@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/78/353978/5 && git format-patch -1 --stdout FETCH_HEAD,"['validations/library/discovery_diff.py', 'validations/discovery-diff.yaml']",2,a93565be4308131e46c5bf1f220cc429962ad722,discovery-diff,"--- - hosts: undercloud vars: metadata: name: Provide difference in hardware configuration description: This test provides difference in configuration based on data collected in ironic-inspector groups: - pre-deployment undercloud_conf_path: ~/undercloud-passwords.conf tasks: - name: Run the Discovery diff discovery_diff: os_tenant_name: service os_username: ironic os_password: ""{{ lookup('ini', 'undercloud_ironic_password section=auth file={{ undercloud_conf_path }}') }}"" ",,188,0
openstack%2Ftripleo-validations~master~I356a96fc3fa3ab55eabbd950aee5a1361556b0b1,openstack/tripleo-validations,master,I356a96fc3fa3ab55eabbd950aee5a1361556b0b1,Validate RabbitMQ HA policies in clustered environment,ABANDONED,2016-08-22 06:49:52.000000000,2017-10-05 18:42:11.000000000,,"[{'_account_id': 3}, {'_account_id': 8745}, {'_account_id': 13039}, {'_account_id': 19521}]","[{'number': 1, 'created': '2016-08-22 06:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/aea1c6672b5c0567d0d859bfeac45e39c829b097', 'message': 'Validate rabbitmq policies\n\nChange-Id: I356a96fc3fa3ab55eabbd950aee5a1361556b0b1\n'}, {'number': 2, 'created': '2016-08-22 21:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4820c04a9463a781bc6ef3a8803189ad38865ddf', 'message': 'Validate rabbitmq policies\n\nChange-Id: I356a96fc3fa3ab55eabbd950aee5a1361556b0b1\n'}, {'number': 3, 'created': '2016-08-24 14:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e6c334e402eb768c7e202545db062eefac1c62d9', 'message': 'Validate RabbitMQ HA policies in clustered environment\n\nChange-Id: I356a96fc3fa3ab55eabbd950aee5a1361556b0b1\n'}, {'number': 4, 'created': '2016-08-24 18:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/c01f67e5df9636fc145bdae6a23e6573a42621af', 'message': 'Validate RabbitMQ HA policies in clustered environment\n\nChange-Id: I356a96fc3fa3ab55eabbd950aee5a1361556b0b1\n'}, {'number': 5, 'created': '2016-08-25 07:37:29.000000000', 'files': ['validations/rabbitmq-ha-policies.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b744de914bac24b52a11a2ff3f89e9f4508dde94', 'message': 'Validate RabbitMQ HA policies in clustered environment\n\nChange-Id: I356a96fc3fa3ab55eabbd950aee5a1361556b0b1\n'}]",4,358430,b744de914bac24b52a11a2ff3f89e9f4508dde94,17,4,5,19521,,,0,"Validate RabbitMQ HA policies in clustered environment

Change-Id: I356a96fc3fa3ab55eabbd950aee5a1361556b0b1
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/30/358430/2 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq-ha-policies.yaml'],1,aea1c6672b5c0567d0d859bfeac45e39c829b097,rabbitmq-ha-policies,"--- - name: make sure the rabbitmq cluster has ha-all policies set hosts: controller vars: metadata: name: rabbitmq-ha-policies description: > make sure the rabbitmq cluster has ha-all policies set groups: - post-deployment become: true tasks: - name: verify the rabbitmq policies rabbitmq_policy: name=ha-all pattern='^ha\.' tags=""ha-mode=all"" ",,15,0
openstack%2Ftripleo-docs~master~Ia9faf51d67e0e3a1c46089ebf5937a6a74587518,openstack/tripleo-docs,master,Ia9faf51d67e0e3a1c46089ebf5937a6a74587518,Added documentation for iSER configuration,ABANDONED,2016-06-03 08:40:01.000000000,2017-10-05 18:42:07.000000000,,"[{'_account_id': 3}, {'_account_id': 10910}]","[{'number': 1, 'created': '2016-06-03 08:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/ac1aad7b3c858483d433adafbba8fe2928c7d5f2', 'message': 'Added documentation for iSER configuration\n\nAdded a guide for configuration of iSCSI-over-RDMA for\nhigh-performance Cinder volumes.\n\nChange-Id: Ia9faf51d67e0e3a1c46089ebf5937a6a74587518\n'}, {'number': 2, 'created': '2016-06-07 19:27:59.000000000', 'files': ['doc/source/advanced_deployment/advanced_deployment.rst', 'doc/source/advanced_deployment/cinder_iser.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/31edc398acba4a31a95ab127e61ec2dc7d256236', 'message': 'Added documentation for iSER configuration\n\nAdded a guide for configuration of iSCSI-over-RDMA for\nhigh-performance Cinder volumes.\n\nChange-Id: Ia9faf51d67e0e3a1c46089ebf5937a6a74587518\n'}]",0,325129,31edc398acba4a31a95ab127e61ec2dc7d256236,8,2,2,10910,,,0,"Added documentation for iSER configuration

Added a guide for configuration of iSCSI-over-RDMA for
high-performance Cinder volumes.

Change-Id: Ia9faf51d67e0e3a1c46089ebf5937a6a74587518
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/29/325129/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/advanced_deployment/advanced_deployment.rst', 'doc/source/advanced_deployment/cinder_iser.rst']",2,ac1aad7b3c858483d433adafbba8fe2928c7d5f2,iscsi-iser,"Configuring Cinder with iSER RDMA Protocol ========================================== .. note:: iSER support was added to TripleO Heat templates in the Newton development cycle. Some high-performance network architectures include support for Remote Direct Memory Access (RDMA), a technology that enables data transfers with lower latency, higher bandwidth and lower CPU overhead. RDMA over converged ethernet (RoCE) is a technology that enables RDMA transfers over a layer-2 Ethernet network. iSER is an RDMA protocol that can be used in RoCE-enabled networks to deliver the high-performance characteristics of RDMA in an iSCSI environment. With appropriate hardware and software installed, Cinder volume servers can be configured to use iSER as an alternative to TCP for the iSCSI transport protocol. This guide assumes that your undercloud is already installed and ready to deploy an overcloud. Networking Requirements for RoCE -------------------------------- RoCE requires layer-2 Ethernet connectivity. This entails a VLAN (or flat) network type for the overcloud storage network. RoCE traffic bypasses the kernel networking stack. It does not interoperate with software switches or bridges such as OVS or Linux bridge. A RoCE-enabled storage network must be attached to either a physical interface or a VLAN-tagged interface that is itself directly attached to a physical interface. Cinder Requirements for iSER ---------------------------- To use iSER, Cinder must be configured to use the iSCSI storage protocol. The iSER driver also depends on having an LVM volume backing store. When using iSER, Cinder can be configured to use either TGT or LIO for connection management. Preparing Overcloud Images -------------------------- To use iSER for iSCSI, your overcloud images must be installed with Open Fabrics Enterprise Distribution (OFED). .. note:: There is a detailed explanation of how to install OFED into a RHEL/CentOS overcloud image FIXME here... Configuring NIC Templates ------------------------- A VLAN interface using the 8021q kernel module instead of OVS or linuxbridge can be created by using the vlan interface type outside of an ovs_bridge or linux_bridge construct:: resources: OsNetConfigImpl: type: OS::Heat::StructuredConfig properties: group: os-apply-config config: os_net_config: network_config: # A dedicated RDMA storage VLAN, connected to p1p1 (nic3) - type: vlan device: nic3 vlan_id: {get_param: StorageNetworkVlanID} addresses: - ip_netmask: {get_param: StorageIpSubnet} Deploying the Overcloud ----------------------- #. Include the cinder-iser environment file in the overcloud deployment:: openstack overcloud deploy --templates -e environments/cinder-iser.yaml ",,93,0
openstack%2Ftripleo-image-elements~master~I07bf3573ff485cb6a026ba1b250a50508994c60c,openstack/tripleo-image-elements,master,I07bf3573ff485cb6a026ba1b250a50508994c60c,WIP Remove unneeded SELinux custom policies,ABANDONED,2016-07-06 18:12:08.000000000,2017-10-05 18:42:03.000000000,,"[{'_account_id': 3}, {'_account_id': 7471}]","[{'number': 1, 'created': '2016-07-06 18:12:08.000000000', 'files': ['elements/selinux/custom-policies/tripleo-selinux-nova.te'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/6d7860fcb74e10c963647ed35dbc3ede85340cb0', 'message': 'WIP Remove unneeded SELinux custom policies\n\nThe contents of the custom policies should have made it back\nupstream.\n\nChange-Id: I07bf3573ff485cb6a026ba1b250a50508994c60c\n'}]",0,338440,6d7860fcb74e10c963647ed35dbc3ede85340cb0,5,2,1,7471,,,0,"WIP Remove unneeded SELinux custom policies

The contents of the custom policies should have made it back
upstream.

Change-Id: I07bf3573ff485cb6a026ba1b250a50508994c60c
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/40/338440/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/selinux/custom-policies/tripleo-selinux-nova.te'],1,6d7860fcb74e10c963647ed35dbc3ede85340cb0,,, module tripleo-selinux-nova 1.0; require { type tmpfs_t; type nova_api_t; class dir { write remove_name search add_name }; class file { write getattr link read create unlink open }; class filesystem getattr; } #============= nova_api_t ============== # https://bugs.launchpad.net/tripleo/+bug/1344452 # https://bugzilla.redhat.com/show_bug.cgi?id=1125458 allow nova_api_t tmpfs_t:dir { write remove_name search add_name }; allow nova_api_t tmpfs_t:file { getattr unlink }; allow nova_api_t tmpfs_t:file { read write create open link }; allow nova_api_t tmpfs_t:filesystem getattr; ,0,18
openstack%2Ftripleo-image-elements~master~Ifca8f410fcf0beecb7100b1f4f6820e3a2b22d08,openstack/tripleo-image-elements,master,Ifca8f410fcf0beecb7100b1f4f6820e3a2b22d08,Implements: log rotation for haproxy,ABANDONED,2014-11-27 10:40:40.000000000,2017-10-05 18:41:48.000000000,,"[{'_account_id': 3}, {'_account_id': 1872}, {'_account_id': 6488}, {'_account_id': 14123}]","[{'number': 1, 'created': '2014-11-27 10:40:40.000000000', 'files': ['elements/haproxy/os-apply-config/etc/logrotate.d/haproxy'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/1e7ca1f831af9b474d21b472a8b9c457ef46acda', 'message': 'Implements: log rotation for haproxy\n\nChange-Id: Ifca8f410fcf0beecb7100b1f4f6820e3a2b22d08\nCloses-Bug: 1396905 haproxy logs are not rotated properly\n'}]",0,137592,1e7ca1f831af9b474d21b472a8b9c457ef46acda,8,4,1,14123,,,0,"Implements: log rotation for haproxy

Change-Id: Ifca8f410fcf0beecb7100b1f4f6820e3a2b22d08
Closes-Bug: 1396905 haproxy logs are not rotated properly
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/92/137592/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/haproxy/os-apply-config/etc/logrotate.d/haproxy'],1,1e7ca1f831af9b474d21b472a8b9c457ef46acda,bug/1396905,/var/log/haproxy/haproxy.log { daily compress delaycompress missingok copytruncate maxsize 45M rotate 6 create 640 root adm } ,,10,0
openstack%2Ftripleo-image-elements~master~I2d95acc675b02924d330e90abe4ea1b2b41707a6,openstack/tripleo-image-elements,master,I2d95acc675b02924d330e90abe4ea1b2b41707a6,Store ssh host keys on ephemeral partition,ABANDONED,2014-04-22 10:23:34.000000000,2017-10-05 18:41:44.000000000,,"[{'_account_id': 3}, {'_account_id': 741}, {'_account_id': 951}, {'_account_id': 6449}, {'_account_id': 6488}, {'_account_id': 7471}, {'_account_id': 8041}, {'_account_id': 8399}, {'_account_id': 10035}, {'_account_id': 10277}, {'_account_id': 10373}]","[{'number': 1, 'created': '2014-04-22 10:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/d3f0f0c80c9dded7f155931f211c353ec24e5ead', 'message': 'Store ssh host keys on ephemeral partition\n\nAllows for nodes to be updated/re-imaged without the client\nmachines noticing.\n\nChange-Id: I2d95acc675b02924d330e90abe4ea1b2b41707a6\n'}, {'number': 2, 'created': '2014-04-22 12:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/182cf38ff09956ad5a19d7cb3269ff0d54e370c6', 'message': 'Store ssh host keys on ephemeral partition\n\nAllows for nodes to be updated/re-imaged without the client\nmachines noticing.\n\nChange-Id: I2d95acc675b02924d330e90abe4ea1b2b41707a6\n'}, {'number': 3, 'created': '2014-04-23 08:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/74bf4cd18d1f99cf2b8e7ba1e4c6f232da7d107f', 'message': 'Store ssh host keys on ephemeral partition\n\nAllows for nodes to be updated/re-imaged without the client\nmachines noticing.\n\nChange-Id: I2d95acc675b02924d330e90abe4ea1b2b41707a6\n'}, {'number': 4, 'created': '2014-04-25 15:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/e03fa6d5b1627c46db6844b88d2d55bb8dd396c7', 'message': 'Store ssh host keys on ephemeral partition\n\nAllows for nodes to be updated/re-imaged without the client\nmachines noticing.\n\nChange-Id: I2d95acc675b02924d330e90abe4ea1b2b41707a6\n'}, {'number': 5, 'created': '2014-06-12 15:10:38.000000000', 'files': ['elements/ssh-hosts/README.md', 'elements/ssh-hosts/element-deps', 'elements/ssh-hosts/os-refresh-config/pre-configure.d/1-ssh-hosts'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/e0ab58cd56dc8964eae7f1226556de7712eba4d7', 'message': 'Store ssh host keys on ephemeral partition\n\nAllows for nodes to be updated/re-imaged without the client\nmachines noticing.\n\nChange-Id: I2d95acc675b02924d330e90abe4ea1b2b41707a6\n'}]",13,89529,e0ab58cd56dc8964eae7f1226556de7712eba4d7,59,11,5,951,,,0,"Store ssh host keys on ephemeral partition

Allows for nodes to be updated/re-imaged without the client
machines noticing.

Change-Id: I2d95acc675b02924d330e90abe4ea1b2b41707a6
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/29/89529/5 && git format-patch -1 --stdout FETCH_HEAD,"['elements/ssh-hosts/README.md', 'elements/ssh-hosts/element-deps', 'elements/ssh-hosts/os-refresh-config/pre-configure.d/1-ssh-hosts']",3,d3f0f0c80c9dded7f155931f211c353ec24e5ead,ssh-hosts,"#!/bin/bash set -eux mkdir -p /mnt/state/etc/ssh if [ ! ""$(ls /mnt/state/etc/ssh)"" ] then mv /etc/ssh/* /mnt/state/etc/ssh/ register-state-path --leave-symlink /etc/ssh fi ",,20,0
openstack%2Ftripleo-incubator~master~I394cd028b0e258a41d39d7a7ae0319596cdc6ccf,openstack/tripleo-incubator,master,I394cd028b0e258a41d39d7a7ae0319596cdc6ccf,"Rebuild, but dont reconfigure undercloud services",ABANDONED,2014-06-04 14:18:47.000000000,2017-10-05 18:41:40.000000000,,"[{'_account_id': 3}, {'_account_id': 1706}, {'_account_id': 9453}]","[{'number': 1, 'created': '2014-06-04 14:18:47.000000000', 'files': ['scripts/devtest_undercloud.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/77b19037ebe4479d0d7bdc1a1fb48fa629a50b7e', 'message': 'Rebuild, but dont reconfigure undercloud services\n\nIts useful to be able to to reconfigure the undercloud\nheat stack, but only need to run init-keystone etc. if\nthe undercloud is being created for the first time.\nThis relates to Change-Id: Iaa6a11c080dd77f45b7a2e85cbb06d2769947be0\nwhich added the ability to update the undercloud\nheat stack as it is done in the overcloud.\n\nChange-Id: I394cd028b0e258a41d39d7a7ae0319596cdc6ccf\n'}]",2,97799,77b19037ebe4479d0d7bdc1a1fb48fa629a50b7e,8,3,1,1706,,,0,"Rebuild, but dont reconfigure undercloud services

Its useful to be able to to reconfigure the undercloud
heat stack, but only need to run init-keystone etc. if
the undercloud is being created for the first time.
This relates to Change-Id: Iaa6a11c080dd77f45b7a2e85cbb06d2769947be0
which added the ability to update the undercloud
heat stack as it is done in the overcloud.

Change-Id: I394cd028b0e258a41d39d7a7ae0319596cdc6ccf
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/99/97799/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/devtest_undercloud.sh'],1,77b19037ebe4479d0d7bdc1a1fb48fa629a50b7e,retry_undercloud,"## #. If we updated the cloud we don't need to do admin setup again - skip down to `end`_. if [ ""stack-create"" = ""$HEAT_OP"" ]; then #nodocs init-keystone -p $UNDERCLOUD_ADMIN_PASSWORD $UNDERCLOUD_ADMIN_TOKEN \ $UNDERCLOUD_IP admin@example.com heat-admin@$UNDERCLOUD_IP setup-endpoints $UNDERCLOUD_IP --ceilometer-password $UNDERCLOUD_CEILOMETER_PASSWORD \ --glance-password $UNDERCLOUD_GLANCE_PASSWORD \ --heat-password $UNDERCLOUD_HEAT_PASSWORD \ --neutron-password $UNDERCLOUD_NEUTRON_PASSWORD \ --nova-password $UNDERCLOUD_NOVA_PASSWORD \ --tuskar-password $UNDERCLOUD_TUSKAR_PASSWORD \ $REGISTER_SERVICE_OPTS keystone role-create --name heat_stack_user # Creating these roles to be used by tenants using swift keystone role-create --name=swiftoperator keystone role-create --name=ResellerAdmin user-config BM_NETWORK_CIDR=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.cidr --type raw --key-default '192.0.2.0/24') BM_NETWORK_GATEWAY=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.gateway-ip --type raw --key-default '192.0.2.1') BM_NETWORK_UNDERCLOUD_RANGE_START=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.undercloud.range-start --type raw --key-default '192.0.2.21') BM_NETWORK_UNDERCLOUD_RANGE_END=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.undercloud.range-end --type raw --key-default '192.0.2.40') setup-neutron $BM_NETWORK_UNDERCLOUD_RANGE_START $BM_NETWORK_UNDERCLOUD_RANGE_END $BM_NETWORK_CIDR $BM_NETWORK_GATEWAY $UNDERCLOUD_IP ctlplane nova quota-update --cores -1 --instances -1 --ram -1 $(keystone tenant-get admin | awk '$2==""id"" {print $4}') setup-baremetal --service-host undercloud --nodes <(jq '.nodes - [.nodes[0]]' $TE_DATAFILE) fi","init-keystone -p $UNDERCLOUD_ADMIN_PASSWORD $UNDERCLOUD_ADMIN_TOKEN \ $UNDERCLOUD_IP admin@example.com heat-admin@$UNDERCLOUD_IP setup-endpoints $UNDERCLOUD_IP --ceilometer-password $UNDERCLOUD_CEILOMETER_PASSWORD \ --glance-password $UNDERCLOUD_GLANCE_PASSWORD \ --heat-password $UNDERCLOUD_HEAT_PASSWORD \ --neutron-password $UNDERCLOUD_NEUTRON_PASSWORD \ --nova-password $UNDERCLOUD_NOVA_PASSWORD \ --tuskar-password $UNDERCLOUD_TUSKAR_PASSWORD \ $REGISTER_SERVICE_OPTS keystone role-create --name heat_stack_user # Creating these roles to be used by tenants using swift keystone role-create --name=swiftoperator keystone role-create --name=ResellerAdmin user-config BM_NETWORK_CIDR=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.cidr --type raw --key-default '192.0.2.0/24') BM_NETWORK_GATEWAY=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.gateway-ip --type raw --key-default '192.0.2.1') BM_NETWORK_UNDERCLOUD_RANGE_START=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.undercloud.range-start --type raw --key-default '192.0.2.21') BM_NETWORK_UNDERCLOUD_RANGE_END=$(OS_CONFIG_FILES=$TE_DATAFILE os-apply-config --key baremetal-network.undercloud.range-end --type raw --key-default '192.0.2.40') setup-neutron $BM_NETWORK_UNDERCLOUD_RANGE_START $BM_NETWORK_UNDERCLOUD_RANGE_END $BM_NETWORK_CIDR $BM_NETWORK_GATEWAY $UNDERCLOUD_IP ctlplanenova quota-update --cores -1 --instances -1 --ram -1 $(keystone tenant-get admin | awk '$2==""id"" {print $4}')setup-baremetal --service-host undercloud --nodes <(jq '.nodes - [.nodes[0]]' $TE_DATAFILE) ",26,21
openstack%2Ftripleo-incubator~master~Ia7507eb2e6e49b63c3484d60ccc39820c3729c25,openstack/tripleo-incubator,master,Ia7507eb2e6e49b63c3484d60ccc39820c3729c25,Setup MySQL database passwords,ABANDONED,2014-07-03 17:53:36.000000000,2017-10-05 18:41:36.000000000,,"[{'_account_id': 3}, {'_account_id': 1872}]","[{'number': 1, 'created': '2014-07-03 17:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/90ceddf50a349fbbd04f4d9fd3aae4bf8cc1104a', 'message': 'Setup MySQL database password\n\nGenerate these passwords:\n    OVERCLOUD_DATABASE_PASSWORD\n    UNDERCLOUD_DATABASE_PASSWORD\n\nThis change depends on I3e85b96972ae1b2b245513b76104fd92cac12542\nbeing landed first\n\nChange-Id: Ia7507eb2e6e49b63c3484d60ccc39820c3729c25\n'}, {'number': 2, 'created': '2014-07-04 09:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/ae41b4e798cc12ac032d5ddd070b977382e1a2da', 'message': 'Setup MySQL database passwords\n\nGenerate these passwords:\n\n      OVERCLOUD_CEILOMETER_DB_PASSWORD\n      OVERCLOUD_CINDER_DB_PASSWORD\n      OVERCLOUD_GLANCE_DB_PASSWORD\n      OVERCLOUD_GLANCE_PASSWORD\n      OVERCLOUD_HEAT_DB_PASSWORD\n      OVERCLOUD_KEYSTONE_DB_PASSWORD\n      OVERCLOUD_NEUTRON_DB_PASSWORD\n      OVERCLOUD_NOVA_DB_PASSWORD\n\n      UNDERCLOUD_CEILOMETER_DB_PASSWORD\n      UNDERCLOUD_GLANCE_DB_PASSWORD\n      UNDERCLOUD_HEAT_DB_PASSWORD\n      UNDERCLOUD_KEYSTONE_DB_PASSWORD\n      UNDERCLOUD_NEUTRON_DB_PASSWORD\n      UNDERCLOUD_NOVA_DB_PASSWORD\n\nThis change depends on I3e85b96972ae1b2b245513b76104fd92cac12542\nbeing landed first\n\nChange-Id: Ia7507eb2e6e49b63c3484d60ccc39820c3729c25\n'}, {'number': 3, 'created': '2014-07-04 09:40:16.000000000', 'files': ['scripts/setup-undercloud-passwords', 'scripts/devtest_undercloud.sh', 'scripts/devtest_overcloud.sh', 'scripts/setup-overcloud-passwords'], 'web_link': 'https://opendev.org/openstack/tripleo-incubator/commit/8b00f01908b854c4f6ffa2594b907042e25adfb9', 'message': 'Setup MySQL database passwords\n\nGenerate these passwords:\n\n      OVERCLOUD_CEILOMETER_DB_PASSWORD\n      OVERCLOUD_CINDER_DB_PASSWORD\n      OVERCLOUD_GLANCE_DB_PASSWORD\n      OVERCLOUD_GLANCE_PASSWORD\n      OVERCLOUD_HEAT_DB_PASSWORD\n      OVERCLOUD_KEYSTONE_DB_PASSWORD\n      OVERCLOUD_NEUTRON_DB_PASSWORD\n      OVERCLOUD_NOVA_DB_PASSWORD\n\n      UNDERCLOUD_CEILOMETER_DB_PASSWORD\n      UNDERCLOUD_GLANCE_DB_PASSWORD\n      UNDERCLOUD_HEAT_DB_PASSWORD\n      UNDERCLOUD_KEYSTONE_DB_PASSWORD\n      UNDERCLOUD_NEUTRON_DB_PASSWORD\n      UNDERCLOUD_NOVA_DB_PASSWORD\n\nThis will need to be changed again due to comments\non\n\n""We want a unique set of credentials for each node for each database.\n The best way to do that is to generate them with the random string generator.\n I think it would be o-k to have just one username/password per node generated,\n and then do the per-service split"", moving to draft status\n\nThis change depends on I3e85b96972ae1b2b245513b76104fd92cac12542\nbeing landed first\n\nChange-Id: Ia7507eb2e6e49b63c3484d60ccc39820c3729c25\n'}]",0,104628,8b00f01908b854c4f6ffa2594b907042e25adfb9,17,2,3,1872,,,0,"Setup MySQL database passwords

Generate these passwords:

      OVERCLOUD_CEILOMETER_DB_PASSWORD
      OVERCLOUD_CINDER_DB_PASSWORD
      OVERCLOUD_GLANCE_DB_PASSWORD
      OVERCLOUD_GLANCE_PASSWORD
      OVERCLOUD_HEAT_DB_PASSWORD
      OVERCLOUD_KEYSTONE_DB_PASSWORD
      OVERCLOUD_NEUTRON_DB_PASSWORD
      OVERCLOUD_NOVA_DB_PASSWORD

      UNDERCLOUD_CEILOMETER_DB_PASSWORD
      UNDERCLOUD_GLANCE_DB_PASSWORD
      UNDERCLOUD_HEAT_DB_PASSWORD
      UNDERCLOUD_KEYSTONE_DB_PASSWORD
      UNDERCLOUD_NEUTRON_DB_PASSWORD
      UNDERCLOUD_NOVA_DB_PASSWORD

This will need to be changed again due to comments
on

""We want a unique set of credentials for each node for each database.
 The best way to do that is to generate them with the random string generator.
 I think it would be o-k to have just one username/password per node generated,
 and then do the per-service split"", moving to draft status

This change depends on I3e85b96972ae1b2b245513b76104fd92cac12542
being landed first

Change-Id: Ia7507eb2e6e49b63c3484d60ccc39820c3729c25
",git fetch https://review.opendev.org/openstack/tripleo-incubator refs/changes/28/104628/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/setup-undercloud-passwords', 'scripts/devtest_undercloud.sh', 'scripts/devtest_overcloud.sh', 'scripts/setup-overcloud-passwords']",4,90ceddf50a349fbbd04f4d9fd3aae4bf8cc1104a,,OVERCLOUD_DATABASE_PASSWORD,,4,0
openstack%2Fcharm-cinder~master~I08c3963eb21bbc9f1035a5f565a9b4d993222887,openstack/charm-cinder,master,I08c3963eb21bbc9f1035a5f565a9b4d993222887,Re-enable all amulet tests,MERGED,2017-09-29 18:15:58.000000000,2017-10-05 18:40:38.000000000,2017-10-05 18:40:38.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-29 18:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/24f061980877554c34289cc1505b12afe8a90cf5', 'message': 'Re-enable all amulet tests\n\nA number of the amulet tests where erroneously disabled. This\nchange re-enables them. The cinder-api service was replaced in ocata\nwith an apache/mod_wsgi solution so test 100 was updated to reflect\nthat.\n\nChange-Id: I08c3963eb21bbc9f1035a5f565a9b4d993222887\n'}, {'number': 2, 'created': '2017-09-29 18:20:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/950094873a0903151c38e01202bc543bad17bbdc', 'message': 'Re-enable all amulet tests\n\nA number of the amulet tests where erroneously disabled. This\nchange re-enables them. The cinder-api service was replaced in ocata\nwith an apache/mod_wsgi solution so test 100 was updated to reflect\nthat.\n\nChange-Id: I08c3963eb21bbc9f1035a5f565a9b4d993222887\n'}, {'number': 3, 'created': '2017-10-03 10:09:28.000000000', 'files': ['tests/basic_deployment.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d234309b9227b5e1e22df625766a0c6a201d18a2', 'message': 'Re-enable all amulet tests\n\nA number of the amulet tests where erroneously disabled. This\nchange re-enables them. The cinder-api service was replaced in ocata\nwith an apache/mod_wsgi solution so test 100 was updated to reflect\nthat.\n\nChange-Id: I08c3963eb21bbc9f1035a5f565a9b4d993222887\n'}]",0,508584,d234309b9227b5e1e22df625766a0c6a201d18a2,22,6,3,12549,,,0,"Re-enable all amulet tests

A number of the amulet tests where erroneously disabled. This
change re-enables them. The cinder-api service was replaced in ocata
with an apache/mod_wsgi solution so test 100 was updated to reflect
that.

Change-Id: I08c3963eb21bbc9f1035a5f565a9b4d993222887
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/84/508584/3 && git format-patch -1 --stdout FETCH_HEAD,['tests/basic_deployment.py'],1,24f061980877554c34289cc1505b12afe8a90cf5,bug/1720421," def test_100_services(self): """"""Verify that the expected services are running on the corresponding service units."""""" services = { self.cinder_sentry: ['cinder-scheduler', 'cinder-volume'], } ret = u.validate_services_by_name(services) if ret: amulet.raise_status(amulet.FAIL, msg=ret) if self._get_openstack_release() < self.xenial_ocata: services[self.cinder_sentry].append('cinder-api') def test_110_users(self): """"""Verify expected users."""""" u.log.debug('Checking keystone users...') user0 = {'name': 'cinder_cinderv2', 'enabled': True, 'tenantId': u.not_null, 'id': u.not_null, 'email': 'juju@localhost'} user1 = {'name': 'admin', 'enabled': True, 'tenantId': u.not_null, 'id': u.not_null, 'email': 'juju@localhost'} user2 = {'name': 'glance', 'enabled': True, 'tenantId': u.not_null, 'id': u.not_null, 'email': 'juju@localhost'} expected = [user0, user1, user2] actual = self.keystone.users.list() ret = u.validate_user_data(expected, actual) if ret: amulet.raise_status(amulet.FAIL, msg=ret) def test_112_service_catalog(self): """"""Verify that the service catalog endpoint data"""""" u.log.debug('Checking keystone service catalog...') endpoint_vol = {'adminURL': u.valid_url, 'region': 'RegionOne', 'publicURL': u.valid_url, 'internalURL': u.valid_url} endpoint_id = {'adminURL': u.valid_url, 'region': 'RegionOne', 'publicURL': u.valid_url, 'internalURL': u.valid_url} if self._get_openstack_release() >= self.trusty_icehouse: endpoint_vol['id'] = u.not_null endpoint_id['id'] = u.not_null expected = {'image': [endpoint_id], 'identity': [endpoint_id], 'volume': [endpoint_id]} actual = self.keystone.service_catalog.get_endpoints() ret = u.validate_svc_catalog_endpoint_data(expected, actual) if ret: amulet.raise_status(amulet.FAIL, msg=ret) def test_114_cinder_endpoint(self): """"""Verify the cinder endpoint data."""""" u.log.debug('Checking cinder endpoint...') endpoints = self.keystone.endpoints.list() admin_port = internal_port = public_port = '8776' expected = {'id': u.not_null, 'region': 'RegionOne', 'adminurl': u.valid_url, 'internalurl': u.valid_url, 'publicurl': u.valid_url, 'service_id': u.not_null} ret = u.validate_endpoint_data(endpoints, admin_port, internal_port, public_port, expected) if ret: amulet.raise_status(amulet.FAIL, msg='cinder endpoint: {}'.format(ret)) def test_202_cinder_glance_image_service_relation(self): """"""Verify the cinder:glance image-service relation data"""""" u.log.debug('Checking cinder:glance image-service relation data...') unit = self.cinder_sentry relation = ['image-service', 'glance:image-service'] expected = {'private-address': u.valid_ip} ret = u.validate_relation_data(unit, relation, expected) if ret: msg = u.relation_error('cinder image-service', ret) amulet.raise_status(amulet.FAIL, msg=msg) def test_203_glance_cinder_image_service_relation(self): """"""Verify the glance:cinder image-service relation data"""""" u.log.debug('Checking glance:cinder image-service relation data...') unit = self.glance_sentry relation = ['image-service', 'cinder:image-service'] expected = { 'private-address': u.valid_ip, 'glance-api-server': u.valid_url } ret = u.validate_relation_data(unit, relation, expected) if ret: msg = u.relation_error('glance image-service', ret) amulet.raise_status(amulet.FAIL, msg=msg) def test_204_mysql_cinder_db_relation(self): """"""Verify the mysql:glance shared-db relation data"""""" u.log.debug('Checking mysql:cinder db relation data...') unit = self.pxc_sentry relation = ['shared-db', 'cinder:shared-db'] expected = { 'private-address': u.valid_ip, 'db_host': u.valid_ip } ret = u.validate_relation_data(unit, relation, expected) if ret: msg = u.relation_error('mysql shared-db', ret) amulet.raise_status(amulet.FAIL, msg=msg) def test_205_cinder_mysql_db_relation(self): """"""Verify the cinder:mysql shared-db relation data"""""" u.log.debug('Checking cinder:mysql db relation data...') unit = self.cinder_sentry relation = ['shared-db', 'percona-cluster:shared-db'] expected = { 'private-address': u.valid_ip, 'hostname': u.valid_ip, 'username': 'cinder', 'database': 'cinder' } ret = u.validate_relation_data(unit, relation, expected) if ret: msg = u.relation_error('cinder shared-db', ret) amulet.raise_status(amulet.FAIL, msg=msg) def test_206_keystone_cinder_id_relation(self): """"""Verify the keystone:cinder identity-service relation data"""""" u.log.debug('Checking keystone:cinder id relation data...') unit = self.keystone_sentry relation = ['identity-service', 'cinder:identity-service'] expected = { 'service_protocol': 'http', 'service_tenant': 'services', 'admin_token': 'ubuntutesting', 'service_password': u.not_null, 'service_port': '5000', 'auth_port': '35357', 'auth_protocol': 'http', 'private-address': u.valid_ip, 'auth_host': u.valid_ip, 'service_username': 'cinder_cinderv2', 'service_tenant_id': u.not_null, 'service_host': u.valid_ip } ret = u.validate_relation_data(unit, relation, expected) if ret: msg = u.relation_error('identity-service cinder', ret) amulet.raise_status(amulet.FAIL, msg=msg) def test_207_cinder_keystone_id_relation(self): """"""Verify the cinder:keystone identity-service relation data"""""" u.log.debug('Checking cinder:keystone id relation data...') unit = self.cinder_sentry relation = ['identity-service', 'keystone:identity-service'] expected = { 'cinder_service': 'cinder', 'cinder_region': 'RegionOne', 'cinder_public_url': u.valid_url, 'cinder_internal_url': u.valid_url, 'cinder_admin_url': u.valid_url, 'private-address': u.valid_ip } ret = u.validate_relation_data(unit, relation, expected) if ret: msg = u.relation_error('cinder identity-service', ret) amulet.raise_status(amulet.FAIL, msg=msg) def test_208_rabbitmq_cinder_amqp_relation(self): """"""Verify the rabbitmq-server:cinder amqp relation data"""""" u.log.debug('Checking rmq:cinder amqp relation data...') unit = self.rabbitmq_sentry relation = ['amqp', 'cinder:amqp'] expected = { 'private-address': u.valid_ip, 'password': u.not_null, 'hostname': u.valid_ip } ret = u.validate_relation_data(unit, relation, expected) if ret: msg = u.relation_error('amqp cinder', ret) amulet.raise_status(amulet.FAIL, msg=msg) def test_209_cinder_rabbitmq_amqp_relation(self): """"""Verify the cinder:rabbitmq-server amqp relation data"""""" u.log.debug('Checking cinder:rmq amqp relation data...') unit = self.cinder_sentry relation = ['amqp', 'rabbitmq-server:amqp'] expected = { 'private-address': u.valid_ip, 'vhost': 'openstack', 'username': u.not_null } ret = u.validate_relation_data(unit, relation, expected) if ret: msg = u.relation_error('cinder amqp', ret) amulet.raise_status(amulet.FAIL, msg=msg) ","# def test_100_services(self): # """"""Verify that the expected services are running on the # corresponding service units."""""" # services = { # self.cinder_sentry: ['cinder-api', # 'cinder-scheduler', # 'cinder-volume'], # self.glance_sentry: ['glance-registry', # 'glance-api'], # self.pxc_sentry: ['mysql'], # self.keystone_sentry: ['keystone'], # self.rabbitmq_sentry: ['rabbitmq-server'] # } # ret = u.validate_services_by_name(services) # if ret: # amulet.raise_status(amulet.FAIL, msg=ret) ## def test_110_users(self): # """"""Verify expected users."""""" # u.log.debug('Checking keystone users...') # user0 = {'name': 'cinder_cinderv2', # 'enabled': True, # 'tenantId': u.not_null, # 'id': u.not_null, # 'email': 'juju@localhost'} # user1 = {'name': 'admin', # 'enabled': True, # 'tenantId': u.not_null, # 'id': u.not_null, # 'email': 'juju@localhost'} # user2 = {'name': 'glance', # 'enabled': True, # 'tenantId': u.not_null, # 'id': u.not_null, # 'email': 'juju@localhost'} # expected = [user0, user1, user2] # actual = self.keystone.users.list() # # ret = u.validate_user_data(expected, actual) # if ret: # amulet.raise_status(amulet.FAIL, msg=ret) # # def test_112_service_catalog(self): # """"""Verify that the service catalog endpoint data"""""" # u.log.debug('Checking keystone service catalog...') # endpoint_vol = {'adminURL': u.valid_url, # 'region': 'RegionOne', # 'publicURL': u.valid_url, # 'internalURL': u.valid_url} # endpoint_id = {'adminURL': u.valid_url, # 'region': 'RegionOne', # 'publicURL': u.valid_url, # 'internalURL': u.valid_url} # if self._get_openstack_release() >= self.trusty_icehouse: # endpoint_vol['id'] = u.not_null # endpoint_id['id'] = u.not_null # # expected = {'image': [endpoint_id], # 'identity': [endpoint_id], # 'volume': [endpoint_id]} # actual = self.keystone.service_catalog.get_endpoints() # # ret = u.validate_svc_catalog_endpoint_data(expected, actual) # if ret: # amulet.raise_status(amulet.FAIL, msg=ret) # # def test_114_cinder_endpoint(self): # """"""Verify the cinder endpoint data."""""" # u.log.debug('Checking cinder endpoint...') # endpoints = self.keystone.endpoints.list() # admin_port = internal_port = public_port = '8776' # expected = {'id': u.not_null, # 'region': 'RegionOne', # 'adminurl': u.valid_url, # 'internalurl': u.valid_url, # 'publicurl': u.valid_url, # 'service_id': u.not_null} # # ret = u.validate_endpoint_data(endpoints, admin_port, internal_port, # public_port, expected) # if ret: # amulet.raise_status(amulet.FAIL, # msg='cinder endpoint: {}'.format(ret)) # # def test_202_cinder_glance_image_service_relation(self): # """"""Verify the cinder:glance image-service relation data"""""" # u.log.debug('Checking cinder:glance image-service relation data...') # unit = self.cinder_sentry # relation = ['image-service', 'glance:image-service'] # expected = {'private-address': u.valid_ip} # ret = u.validate_relation_data(unit, relation, expected) # if ret: # msg = u.relation_error('cinder image-service', ret) # amulet.raise_status(amulet.FAIL, msg=msg) # # def test_203_glance_cinder_image_service_relation(self): # """"""Verify the glance:cinder image-service relation data"""""" # u.log.debug('Checking glance:cinder image-service relation data...') # unit = self.glance_sentry # relation = ['image-service', 'cinder:image-service'] # expected = { # 'private-address': u.valid_ip, # 'glance-api-server': u.valid_url # } # ret = u.validate_relation_data(unit, relation, expected) # if ret: # msg = u.relation_error('glance image-service', ret) # amulet.raise_status(amulet.FAIL, msg=msg) # # def test_204_mysql_cinder_db_relation(self): # """"""Verify the mysql:glance shared-db relation data"""""" # u.log.debug('Checking mysql:cinder db relation data...') # unit = self.pxc_sentry # relation = ['shared-db', 'cinder:shared-db'] # expected = { # 'private-address': u.valid_ip, # 'db_host': u.valid_ip # } # ret = u.validate_relation_data(unit, relation, expected) # if ret: # msg = u.relation_error('mysql shared-db', ret) # amulet.raise_status(amulet.FAIL, msg=msg) # # def test_205_cinder_mysql_db_relation(self): # """"""Verify the cinder:mysql shared-db relation data"""""" # u.log.debug('Checking cinder:mysql db relation data...') # unit = self.cinder_sentry # relation = ['shared-db', 'percona-cluster:shared-db'] # expected = { # 'private-address': u.valid_ip, # 'hostname': u.valid_ip, # 'username': 'cinder', # 'database': 'cinder' # } # ret = u.validate_relation_data(unit, relation, expected) # if ret: # msg = u.relation_error('cinder shared-db', ret) # amulet.raise_status(amulet.FAIL, msg=msg) # # def test_206_keystone_cinder_id_relation(self): # """"""Verify the keystone:cinder identity-service relation data"""""" # u.log.debug('Checking keystone:cinder id relation data...') # unit = self.keystone_sentry # relation = ['identity-service', # 'cinder:identity-service'] # expected = { # 'service_protocol': 'http', # 'service_tenant': 'services', # 'admin_token': 'ubuntutesting', # 'service_password': u.not_null, # 'service_port': '5000', # 'auth_port': '35357', # 'auth_protocol': 'http', # 'private-address': u.valid_ip, # 'auth_host': u.valid_ip, # 'service_username': 'cinder_cinderv2', # 'service_tenant_id': u.not_null, # 'service_host': u.valid_ip # } # ret = u.validate_relation_data(unit, relation, expected) # if ret: # msg = u.relation_error('identity-service cinder', ret) # amulet.raise_status(amulet.FAIL, msg=msg) # # def test_207_cinder_keystone_id_relation(self): # """"""Verify the cinder:keystone identity-service relation data"""""" # u.log.debug('Checking cinder:keystone id relation data...') # unit = self.cinder_sentry # relation = ['identity-service', # 'keystone:identity-service'] # expected = { # 'cinder_service': 'cinder', # 'cinder_region': 'RegionOne', # 'cinder_public_url': u.valid_url, # 'cinder_internal_url': u.valid_url, # 'cinder_admin_url': u.valid_url, # 'private-address': u.valid_ip # } # ret = u.validate_relation_data(unit, relation, expected) # if ret: # msg = u.relation_error('cinder identity-service', ret) # amulet.raise_status(amulet.FAIL, msg=msg) # # def test_208_rabbitmq_cinder_amqp_relation(self): # """"""Verify the rabbitmq-server:cinder amqp relation data"""""" # u.log.debug('Checking rmq:cinder amqp relation data...') # unit = self.rabbitmq_sentry # relation = ['amqp', 'cinder:amqp'] # expected = { # 'private-address': u.valid_ip, # 'password': u.not_null, # 'hostname': u.valid_ip # } # ret = u.validate_relation_data(unit, relation, expected) # if ret: # msg = u.relation_error('amqp cinder', ret) # amulet.raise_status(amulet.FAIL, msg=msg) # # def test_209_cinder_rabbitmq_amqp_relation(self): # """"""Verify the cinder:rabbitmq-server amqp relation data"""""" # u.log.debug('Checking cinder:rmq amqp relation data...') # unit = self.cinder_sentry # relation = ['amqp', 'rabbitmq-server:amqp'] # expected = { # 'private-address': u.valid_ip, # 'vhost': 'openstack', # 'username': u.not_null # } # ret = u.validate_relation_data(unit, relation, expected) # if ret: # msg = u.relation_error('cinder amqp', ret) # amulet.raise_status(amulet.FAIL, msg=msg) #",209,213
openstack%2Fnetworking-sfc~master~I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe,openstack/networking-sfc,master,I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe,Add Service Graph OVS Driver+Agent logic+tests,MERGED,2017-01-23 23:27:53.000000000,2017-10-05 18:40:25.000000000,2017-10-05 18:40:25.000000000,"[{'_account_id': 3}, {'_account_id': 7776}, {'_account_id': 8871}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 16707}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-01-23 23:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/f5ef0c7009a99b74c399a9a312f7d5183f45a99c', 'message': '[WIP] Add SFC Graph OVS Driver logic+tests\n\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 2, 'created': '2017-02-08 14:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/74943935854e4eafe3623daed2fdf2d867318eac', 'message': '[WIP] Add SFC Graph OVS Driver logic+tests\n\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 3, 'created': '2017-03-07 14:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/74bb8f787640e9bc3b2947c0f4ceefaeec739241', 'message': '[WIP] Add SFC Graph OVS Driver logic+tests\n\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 4, 'created': '2017-04-04 18:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/32666dca0c4a760072a723cddf81adcb7522cbcc', 'message': '[WIP] Add SFC Graph OVS Driver logic+tests\n\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 5, 'created': '2017-04-17 17:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/dd270e3d4849ca757d30b53b8513d929a6f56b21', 'message': '[WIP] Add Service Graph OVS Driver logic+tests\n\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 6, 'created': '2017-05-29 12:57:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/35caaf7c93dfdfcfd9753e9beca7103b08a341b2', 'message': '[WIP] Add Service Graph OVS Driver logic+tests\n\nThis patch introduces changes to the OVS Driver and Agent in order to\nmake them able to render Service Graphs, plus unit tests.\n\nPartial-Bug: #1587486\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 7, 'created': '2017-06-05 19:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/9c84a0c138364997157c7bad5463e709cb1bdb72', 'message': 'Add Service Graph OVS Driver+Agent logic+tests\n\nThis patch introduces changes to the OVS Driver and Agent in order to\nmake them able to render Service Graphs, plus unit tests.\n\nPartial-Bug: #1587486\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 8, 'created': '2017-06-06 20:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/5f18c3296f533baa19725ba8848458d380a664ae', 'message': 'Add Service Graph OVS Driver+Agent logic+tests\n\nThis patch introduces changes to the OVS Driver and Agent in order to\nmake them able to render Service Graphs, plus unit tests.\n\nPartial-Bug: #1587486\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 9, 'created': '2017-06-20 23:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/c062c024decd7811403b692807a01a6b00722d1b', 'message': 'Add Service Graph OVS Driver+Agent logic+tests\n\nThis patch introduces changes to the OVS Driver and Agent in order to\nmake them able to render Service Graphs, plus unit tests.\n\nPartial-Bug: #1587486\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 10, 'created': '2017-07-09 12:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/8009147872bdd7e1bb7f3a5d901c5493e9c83fa6', 'message': 'Add Service Graph OVS Driver+Agent logic+tests\n\nThis patch introduces changes to the OVS Driver and Agent in order to\nmake them able to render Service Graphs, plus unit tests.\n\nPartial-Bug: #1587486\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 11, 'created': '2017-08-28 22:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/aac6eb8e03bbd75e07a3abab1bbb92a2b473b482', 'message': 'Add Service Graph OVS Driver+Agent logic+tests\n\nThis patch introduces changes to the OVS Driver and Agent in order to\nmake them able to render Service Graphs, plus unit tests.\n\nPartial-Bug: #1587486\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 12, 'created': '2017-09-23 19:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/05a1c99878860c883c4445b27b33113d6d481caf', 'message': 'Add Service Graph OVS Driver+Agent logic+tests\n\nThis patch introduces changes to the OVS Driver and Agent in order to\nmake them able to render Service Graphs, plus unit tests.\n\nPartial-Bug: #1587486\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 13, 'created': '2017-09-23 19:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/9ab71b737e9897ef96500e0d939cbc101e8f8182', 'message': 'Add Service Graph OVS Driver+Agent logic+tests\n\nThis patch introduces changes to the OVS Driver and Agent in order to\nmake them able to render Service Graphs, plus unit tests.\n\nPartial-Bug: #1587486\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 14, 'created': '2017-09-26 22:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/333eea6d62ffedeac7699b6dde5bf71caa9f2104', 'message': 'Add Service Graph OVS Driver+Agent logic+tests\n\nThis patch introduces changes to the OVS Driver and Agent in order to\nmake them able to render Service Graphs, plus unit tests.\n\nPartial-Bug: #1587486\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}, {'number': 15, 'created': '2017-10-05 10:29:05.000000000', 'files': ['networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'networking_sfc/tests/unit/services/sfc/agent/extensions/openvswitch/test_sfc_driver.py', 'networking_sfc/tests/unit/services/sfc/drivers/ovs/test_driver.py', 'networking_sfc/services/sfc/drivers/ovs/driver.py'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/e464bedd9a500db5c04ba12de68d8896977530df', 'message': 'Add Service Graph OVS Driver+Agent logic+tests\n\nThis patch introduces changes to the OVS Driver and Agent in order to\nmake them able to render Service Graphs, plus unit tests.\n\nPartial-Bug: #1587486\nChange-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe\n'}]",12,424370,e464bedd9a500db5c04ba12de68d8896977530df,65,8,15,9396,,,0,"Add Service Graph OVS Driver+Agent logic+tests

This patch introduces changes to the OVS Driver and Agent in order to
make them able to render Service Graphs, plus unit tests.

Partial-Bug: #1587486
Change-Id: I372da15f99f3cbfb7ffd1d8bf87a79bc56180afe
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/70/424370/9 && git format-patch -1 --stdout FETCH_HEAD,"['networking_sfc/services/sfc/agent/extensions/openvswitch/sfc_driver.py', 'networking_sfc/tests/unit/services/sfc/agent/extensions/openvswitch/test_sfc_driver.py', 'networking_sfc/tests/unit/services/sfc/drivers/ovs/test_driver.py', 'networking_sfc/services/sfc/drivers/ovs/driver.py']",4,f5ef0c7009a99b74c399a9a312f7d5183f45a99c,sfc_encapsulation," pass sfc_graph = context.current for src_chain_id in sfc_graph['port_chains']: sc_nodes = self.get_path_nodes_by_filter( dict(portchain_id=src_chain_id)) sc_nodes = sorted(sc_nodes, key=lambda n: n['nsi'], reverse=True) branches = 0 for dst_chain_id in sfc_graph['port_chains'][src_chain_id]: dc_nodes = self.get_path_nodes_by_filter( dict(portchain_id=dst_chain_id)) for node in dc_nodes: if node['node_type'] == ovs_const.SRC_NODE: dst_chain = context._plugin.get_port_chain( context._plugin_context, dst_chain_id) sfc_encap = dst_chain['chain_parameters']\ ['correlation'] new_fcs = dst_chain['flow_classifiers'] for each in node['portpair_details']: port = self.get_port_detail_by_filter(dict(id=each)) node_info = node.copy() node_info.pop('tenant_id') node_info.pop('portpair_details') port_info = port.copy() port_info.pop('tenant_id') port_info.pop('id') port_info.pop('path_nodes') flowrule = dict(node_info, **port_info) flowrule['sfc_encap'] = sfc_encap old_fcs = self._filter_flow_classifiers(flowrule, new_fcs) for old_fc in old_fcs: new_fc = old_fc.copy() # trigger chain-linking new_fc['match_nsp'] = sc_nodes[0]['nsp'] new_fc['match_nsi'] = sc_nodes[0]['nsi'] if 'del_fcs' not in flowrule: flowrule['del_fcs'] = [] if 'add_fcs' not in flowrule: flowrule['add_fcs'] = [] flowrule['del_fcs'].append(old_fc) flowrule['add_fcs'].append(new_fc) self.ovs_driver_rpc.ask_agent_to_update_flow_rules( self.admin_context, flowrule) self._update_agent_fdb_entries(flowrule) branches = branches + 1 if branches > 0: node = sc_nodes[0] if node['node_type'] == ovs_const.SF_NODE: src_chain = context._plugin.get_port_chain( context._plugin_context, src_chain_id) sfc_encap = src_chain['chain_parameters']\ ['correlation'] for each in node['portpair_details']: port = self.get_port_detail_by_filter(dict(id=each)) node_info = node.copy() node_info.pop('tenant_id') node_info.pop('portpair_details') port_info = port.copy() port_info.pop('tenant_id') port_info.pop('id') port_info.pop('path_nodes') flowrule = dict(node_info, **port_info) flowrule['sfc_encap'] = sfc_encap flowrule['save_path'] = True # trigger chain-linking self.ovs_driver_rpc.ask_agent_to_update_flow_rules( self.admin_context, flowrule) self._update_agent_fdb_entries(flowrule) self.ovs_driver_rpc.ask_agent_to_update_flow_rules( self.admin_context, flowrule) pass pass",,477,23
openstack%2Ftripleo-image-elements~master~Ic591fb4a591dc660d3a9790bbc1bcd5bdbed422d,openstack/tripleo-image-elements,master,Ic591fb4a591dc660d3a9790bbc1bcd5bdbed422d,Keystone ldap support,ABANDONED,2014-04-28 20:01:23.000000000,2017-10-05 18:39:05.000000000,,"[{'_account_id': 3}, {'_account_id': 10909}]","[{'number': 1, 'created': '2014-04-28 20:01:23.000000000', 'files': ['elements/keystone-ldap/element-deps', 'elements/keystone-ldap/install.d/keystone-ldap-source-install/05-keystone-ldap', 'elements/keystone-ldap/README.md', 'elements/keystone-ldap/install.d/keystone-ldap-package-install/05-keystone-ldap'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/8ba26325cb2a799fa82c87654b62836a2415f641', 'message': 'Keystone ldap support\n\nthis element adds the necessary dependencies to the keystone venv\nfor it to be able to use the ldap backend\n\nChange-Id: Ic591fb4a591dc660d3a9790bbc1bcd5bdbed422d\n'}]",0,86178,8ba26325cb2a799fa82c87654b62836a2415f641,6,2,1,10909,,,0,"Keystone ldap support

this element adds the necessary dependencies to the keystone venv
for it to be able to use the ldap backend

Change-Id: Ic591fb4a591dc660d3a9790bbc1bcd5bdbed422d
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/78/86178/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/keystone-ldap/element-deps', 'elements/keystone-ldap/install.d/keystone-ldap-source-install/05-keystone-ldap', 'elements/keystone-ldap/README.md', 'elements/keystone-ldap/install.d/keystone-ldap-package-install/05-keystone-ldap']",4,8ba26325cb2a799fa82c87654b62836a2415f641,keystone_ldap,#!/bin/bash set -eux DISTRO=`lsb_release -si` install-packages python-ldap ,,16,0
openstack%2Fcharm-nova-cloud-controller~master~Ibe7d2286de130f045257ad6552f7a5b1279958b6,openstack/charm-nova-cloud-controller,master,Ibe7d2286de130f045257ad6552f7a5b1279958b6,Block endpoint reg if cluster partially formed,MERGED,2017-10-02 10:44:11.000000000,2017-10-05 18:38:31.000000000,2017-10-05 18:38:31.000000000,"[{'_account_id': 3}, {'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 10:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/1716bc6813ecfb30c144d26d0ca17b3833d7c118', 'message': 'Block endpoint reg if cluster partially formed\n\nWhen an existing cluster of the service is scaled out the new unit\nwill join with keystone before it is fully clustered. In identity\njoined hook the charmhelpers function canonical_url is called which\nin turn uses another charmhelpers function, resolve_address.\nresolve_address will only return the vip if the vip is set in config\nAND the unit is clustered. This means that the units local address\nis returned and that is then registered with keystone.\n\nThis change gates registering an endpoint if the cluster is\npartially formed.\n\nChange-Id: Ibe7d2286de130f045257ad6552f7a5b1279958b6\nCloses-Bug: #1544959\n'}, {'number': 2, 'created': '2017-10-02 13:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/517711f89b63f96d951c330b8a43937751ffa471', 'message': 'Block endpoint reg if cluster partially formed\n\nWhen an existing cluster of the service is scaled out the new unit\nwill join with keystone before it is fully clustered. In identity\njoined hook the charmhelpers function canonical_url is called which\nin turn uses another charmhelpers function, resolve_address.\nresolve_address will only return the vip if the vip is set in config\nAND the unit is clustered. This means that the units local address\nis returned and that is then registered with keystone.\n\nThis change gates registering an endpoint if the cluster is\npartially formed.\n\nChange-Id: Ibe7d2286de130f045257ad6552f7a5b1279958b6\nCloses-Bug: #1544959\n'}, {'number': 3, 'created': '2017-10-03 09:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/67f52bf1c2378b2792f9cb509ea1b6229ad4a0dd', 'message': 'Block endpoint reg if cluster partially formed\n\nWhen an existing cluster of the service is scaled out the new unit\nwill join with keystone before it is fully clustered. In identity\njoined hook the charmhelpers function canonical_url is called which\nin turn uses another charmhelpers function, resolve_address.\nresolve_address will only return the vip if the vip is set in config\nAND the unit is clustered. This means that the units local address\nis returned and that is then registered with keystone.\n\nThis change gates registering an endpoint if the cluster is\npartially formed.\n\nChange-Id: Ibe7d2286de130f045257ad6552f7a5b1279958b6\nPartial-Bug: #1544959\n'}, {'number': 4, 'created': '2017-10-03 10:02:22.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/36e95189217d1cd68de34985e90382cb39020006', 'message': 'Block endpoint reg if cluster partially formed\n\nWhen an existing cluster of the service is scaled out the new unit\nwill join with keystone before it is fully clustered. In identity\njoined hook the charmhelpers function canonical_url is called which\nin turn uses another charmhelpers function, resolve_address.\nresolve_address will only return the vip if the vip is set in config\nAND the unit is clustered. This means that the units local address\nis returned and that is then registered with keystone.\n\nThis change gates registering an endpoint if the cluster is\npartially formed.\n\nChange-Id: Ibe7d2286de130f045257ad6552f7a5b1279958b6\nPartial-Bug: #1544959\n'}]",0,508845,36e95189217d1cd68de34985e90382cb39020006,19,5,4,12549,,,0,"Block endpoint reg if cluster partially formed

When an existing cluster of the service is scaled out the new unit
will join with keystone before it is fully clustered. In identity
joined hook the charmhelpers function canonical_url is called which
in turn uses another charmhelpers function, resolve_address.
resolve_address will only return the vip if the vip is set in config
AND the unit is clustered. This means that the units local address
is returned and that is then registered with keystone.

This change gates registering an endpoint if the cluster is
partially formed.

Change-Id: Ibe7d2286de130f045257ad6552f7a5b1279958b6
Partial-Bug: #1544959
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/45/508845/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",3,1716bc6813ecfb30c144d26d0ca17b3833d7c118,bug/1544959," is_clustered, if config('vip') and not is_clustered(): log('Defering registration until clustered', level=DEBUG) else: public_url = canonical_url(CONFIGS, PUBLIC) internal_url = canonical_url(CONFIGS, INTERNAL) admin_url = canonical_url(CONFIGS, ADMIN) relation_set( relation_id=rid, **determine_endpoints(public_url, internal_url, admin_url))"," public_url = canonical_url(CONFIGS, PUBLIC) internal_url = canonical_url(CONFIGS, INTERNAL) admin_url = canonical_url(CONFIGS, ADMIN) relation_set(relation_id=rid, **determine_endpoints(public_url, internal_url, admin_url))",20,6
openstack%2Ftripleo-quickstart~master~I335d1266852c42367ccd78157fadcd16d6042e42,openstack/tripleo-quickstart,master,I335d1266852c42367ccd78157fadcd16d6042e42,Move virthost inventory task to teardown playbook,ABANDONED,2016-07-07 12:57:08.000000000,2017-10-05 18:35:00.000000000,,"[{'_account_id': 3}, {'_account_id': 7294}, {'_account_id': 8449}, {'_account_id': 8652}, {'_account_id': 8745}, {'_account_id': 10022}, {'_account_id': 11105}, {'_account_id': 11589}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-07-07 12:57:08.000000000', 'files': ['playbooks/teardown.yml', 'playbooks/quickstart.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3446968def1d7e97ab112cc9ee8eff04a730286f', 'message': 'Move virthost inventory task to teardown playbook\n\nThis makes it possible to run just the teardown steps by passing\n""--playbook teardown.yml"" to quickstart.sh. This can be useful in\nthe case that a user wants to teardown something different than\nwhat they are trying to setup, or in the case a user just wants to\ncompletely remove any traces of quickstart from the virthost.\n\nChange-Id: I335d1266852c42367ccd78157fadcd16d6042e42\n'}]",5,338953,3446968def1d7e97ab112cc9ee8eff04a730286f,13,9,1,12715,,,0,"Move virthost inventory task to teardown playbook

This makes it possible to run just the teardown steps by passing
""--playbook teardown.yml"" to quickstart.sh. This can be useful in
the case that a user wants to teardown something different than
what they are trying to setup, or in the case a user just wants to
completely remove any traces of quickstart from the virthost.

Change-Id: I335d1266852c42367ccd78157fadcd16d6042e42
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/53/338953/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/teardown.yml', 'playbooks/quickstart.yml']",2,3446968def1d7e97ab112cc9ee8eff04a730286f,explicit-teardown,"# The [teardown.yml](teardown.yml.html) playbook is responsible for # tearing down a previous enviornment before we try to build up a # new one. By default, it will only teardown the virtual nodes, and # not the non-root user or networks.","# Add the virthost to the in-memory inventory. The inventory is not # wirtten out to disk unless you call the `rebuild-inventory` role. - name: Add the virthost to the inventory hosts: localhost tasks: - add_host: name: ""{{virthost}}"" groups: ""virthost"" ansible_fqdn: ""{{ virthost }}"" ansible_user: ""root"" ansible_host: ""{{ virthost }}"" ",21,13
openstack%2Ftripleo-common~master~Ia9d2312e942229b659cfc65d4c370874e87f44da,openstack/tripleo-common,master,Ia9d2312e942229b659cfc65d4c370874e87f44da,Mistral workflow for creating a deployment plan from JSON input,ABANDONED,2016-07-27 13:30:22.000000000,2017-10-05 18:34:42.000000000,,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 9317}, {'_account_id': 9712}]","[{'number': 1, 'created': '2016-07-27 13:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fdfdcf5c5f01456360a9127ce633dd37034630dd', 'message': 'Mistral workflow for creating a deployment plan from JSON input\n\nThe workflow expects the plan files to be defined as a ""file name"":\n""file contents"" dictionary.\n\nWith a full plan (e.g. the default one) we end up going over Mistral\'s\ndefault task input size limit, so that needs to be increased first.\n\n[engine]\nexecution_field_size_limit_kb = 4096 # Default: 1024\n\nChange-Id: Ia9d2312e942229b659cfc65d4c370874e87f44da\nImplement: blueprint tripleo-ui-mistral-refactoring\n'}, {'number': 2, 'created': '2016-07-29 14:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b87447958ef8fa41adf3fc6a1d806b8854d13e11', 'message': 'Mistral workflow for creating a deployment plan from JSON input\n\nThe workflow expects the plan files to be defined as a ""file name"":\n""file contents"" dictionary.\n\nWith a full plan (e.g. the default one) we end up going over Mistral\'s\ndefault task input size limit, so that needs to be increased first.\n\n[engine]\nexecution_field_size_limit_kb = 4096 # Default: 1024\n\nChange-Id: Ia9d2312e942229b659cfc65d4c370874e87f44da\nDepends-On: I24453b6d83171860065b050f437602e1f655d8b8\nImplement: blueprint tripleo-ui-mistral-refactoring\n'}, {'number': 3, 'created': '2016-08-02 11:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3a57cc9f536f115e30ae57a8e51c67555ecf21e', 'message': 'Mistral workflow for creating a deployment plan from JSON input\n\nThe workflow expects the plan files to be defined as a ""file name"":\n""file contents"" dictionary. The workflow creates a new Swift container,\nextracts the files there, and finally creates a plan based on that\ncontainer.\n\nWith a full plan (e.g. the default one) we end up going over Mistral\'s\ndefault task input size limit, so that needs to be increased first.\n\n[engine]\nexecution_field_size_limit_kb = 4096 # Default: 1024\n\nChange-Id: Ia9d2312e942229b659cfc65d4c370874e87f44da\nDepends-On: I24453b6d83171860065b050f437602e1f655d8b8\nImplement: blueprint tripleo-ui-mistral-refactoring\n'}, {'number': 4, 'created': '2016-08-03 08:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9681b51d0869103e56746af80d509e1628d69034', 'message': 'Mistral workflow for creating a deployment plan from JSON input\n\nThe workflow expects the plan files to be defined as a ""file name"":\n""file contents"" dictionary. The workflow creates a new Swift container,\nextracts the files there, and finally creates a plan based on that\ncontainer.\n\nWith a full plan (e.g. the default one) we end up going over Mistral\'s\ndefault task input size limit, so that needs to be increased first.\n\n[engine]\nexecution_field_size_limit_kb = 4096 # Default: 1024\n\nChange-Id: Ia9d2312e942229b659cfc65d4c370874e87f44da\nDepends-On: I24453b6d83171860065b050f437602e1f655d8b8\nImplement: blueprint tripleo-ui-mistral-refactoring\n'}, {'number': 5, 'created': '2016-08-19 11:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fc231bc483aec788815da76fbcbf0ef994105a63', 'message': 'Mistral workflow for creating a deployment plan from JSON input\n\nThe workflow expects the plan files to be defined as a ""file name"":\n""file contents"" dictionary. The workflow creates a new Swift container,\nextracts the files there, and finally creates a plan based on that\ncontainer.\n\nWith a full plan (e.g. the default one) we end up going over Mistral\'s\ndefault task input size limit, so that needs to be increased first.\n\n[engine]\nexecution_field_size_limit_kb = 4096 # Default: 1024\n\nChange-Id: Ia9d2312e942229b659cfc65d4c370874e87f44da\nDepends-On: I24453b6d83171860065b050f437602e1f655d8b8\nImplement: blueprint tripleo-ui-mistral-refactoring\n'}, {'number': 6, 'created': '2016-09-01 12:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/50f8f4f07ddcff375387b469c362a57971b9670e', 'message': 'Mistral workflow for creating a deployment plan from JSON input\n\nThe workflow expects the plan files to be defined as a ""file name"":\n""file contents"" dictionary. The workflow creates a new Swift container,\nupload the files there, and finally creates a plan based on that\ncontainer.\n\nWith a full plan (e.g. the default one) we end up going over Mistral\'s\ndefault task input size limit, so that needs to be increased first.\n\n[engine]\nexecution_field_size_limit_kb = 4096 # Default: 1024\n\nChange-Id: Ia9d2312e942229b659cfc65d4c370874e87f44da\nDepends-On: I24453b6d83171860065b050f437602e1f655d8b8\nRelated: blueprint tripleo-ui-mistral-refactoring\n'}, {'number': 7, 'created': '2016-09-09 16:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b7ee646b6b3da55a95d448d545d7b302b4a092d6', 'message': 'Mistral workflow for creating a deployment plan from JSON input\n\nThe workflow expects the plan files to be defined as a ""file name"":\n""file contents"" dictionary. The workflow creates a new Swift container,\nupload the files there, and finally creates a plan based on that\ncontainer.\n\nWith a full plan (e.g. the default one) we end up going over Mistral\'s\ndefault task input size limit, so that needs to be increased first.\n\n[engine]\nexecution_field_size_limit_kb = 4096 # Default: 1024\n\nChange-Id: Ia9d2312e942229b659cfc65d4c370874e87f44da\nDepends-On: I24453b6d83171860065b050f437602e1f655d8b8\nRelated: blueprint tripleo-ui-mistral-refactoring\n'}, {'number': 8, 'created': '2016-10-03 15:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/830949bad672584c9f31f718663268b79827a5ac', 'message': 'Mistral workflow for creating a deployment plan from JSON input\n\nThe workflow expects the plan files to be defined as a ""file name"":\n""file contents"" dictionary. The workflow creates a new Swift container,\nupload the files there, and finally creates a plan based on that\ncontainer.\n\nWith a full plan (e.g. the default one) we end up going over Mistral\'s\ndefault task input size limit, so that needs to be increased first.\n\n[engine]\nexecution_field_size_limit_kb = 4096 # Default: 1024\n\nChange-Id: Ia9d2312e942229b659cfc65d4c370874e87f44da\nDepends-On: I24453b6d83171860065b050f437602e1f655d8b8\nRelated: blueprint tripleo-ui-mistral-refactoring\n'}, {'number': 9, 'created': '2016-11-09 10:15:33.000000000', 'files': ['workbooks/plan_management.yaml', 'tripleo_common/actions/templates.py', 'setup.cfg', 'tripleo_common/tests/actions/test_templates.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/39a0bcc3c2cf2700e113ebc6322c79446d2e6a83', 'message': 'Mistral workflow for creating a deployment plan from JSON input\n\nThe workflow expects the plan files to be defined as a ""file name"":\n""file contents"" dictionary. The workflow creates a new Swift container,\nupload the files there, and finally creates a plan based on that\ncontainer.\n\nWith a full plan (e.g. the default one) we end up going over Mistral\'s\ndefault task input size limit, so that needs to be increased first.\n\n[engine]\nexecution_field_size_limit_kb = 4096 # Default: 1024\n\nChange-Id: Ia9d2312e942229b659cfc65d4c370874e87f44da\nDepends-On: I24453b6d83171860065b050f437602e1f655d8b8\nRelated: blueprint tripleo-ui-mistral-refactoring\n'}]",3,347830,39a0bcc3c2cf2700e113ebc6322c79446d2e6a83,54,4,9,4978,,,0,"Mistral workflow for creating a deployment plan from JSON input

The workflow expects the plan files to be defined as a ""file name"":
""file contents"" dictionary. The workflow creates a new Swift container,
upload the files there, and finally creates a plan based on that
container.

With a full plan (e.g. the default one) we end up going over Mistral's
default task input size limit, so that needs to be increased first.

[engine]
execution_field_size_limit_kb = 4096 # Default: 1024

Change-Id: Ia9d2312e942229b659cfc65d4c370874e87f44da
Depends-On: I24453b6d83171860065b050f437602e1f655d8b8
Related: blueprint tripleo-ui-mistral-refactoring
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/30/347830/8 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/plan_management.yaml', 'tripleo_common/actions/templates.py', 'setup.cfg', 'tripleo_common/tests/actions/test_templates.py']",4,fdfdcf5c5f01456360a9127ce633dd37034630dd,create-plan-from-json," class UploadTemplatesFromJsonActionTest(base.TestCase): @mock.patch('tripleo_common.actions.base.TripleOAction._get_object_client') def test_run(self, mock_get_swift): container = 'json-container' json = {""my_first_file.yaml"": ""Some contents."", ""directory/my_other_file.yaml"": ""This is another file.""} action = templates.UploadTemplatesFromJsonAction(container=container, json=json) action.run() call_list = [mock.call(container=container, obj=""my_first_file.yaml"", contents=mock.ANY, headers={'X-Detect-Content-Type': 'true'}), mock.call(container=container, obj=""directory/my_other_file.yaml"", contents=mock.ANY, headers={'X-Detect-Content-Type': 'true'})] mock_get_swift().put_object.assert_has_calls(call_list, any_order=True)",,109,2
openstack%2Ftripleo-ci~master~Idb46333ad7636747016b0b8f8db433824b7a99ac,openstack/tripleo-ci,master,Idb46333ad7636747016b0b8f8db433824b7a99ac,WIP DO NOT REVIEW Just a test to enable puppet debugging by default,ABANDONED,2017-01-21 10:25:13.000000000,2017-10-05 18:34:37.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-01-21 10:25:13.000000000', 'files': ['toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f3634c42e21fdb4c07ce9f856e4c3f6f5bea2623', 'message': 'WIP DO NOT REVIEW Just a test to enable puppet debugging by default\n\nTrying to compare the size of the collected output and/or any\nsubstantial speed impact.\n\nChange-Id: Idb46333ad7636747016b0b8f8db433824b7a99ac\n'}]",0,423611,f3634c42e21fdb4c07ce9f856e4c3f6f5bea2623,4,1,1,20172,,,0,"WIP DO NOT REVIEW Just a test to enable puppet debugging by default

Trying to compare the size of the collected output and/or any
substantial speed impact.

Change-Id: Idb46333ad7636747016b0b8f8db433824b7a99ac
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/11/423611/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,f3634c42e21fdb4c07ce9f856e4c3f6f5bea2623,wip-enable-debug-by-default,"# Let's enable puppet debugging by default OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e /usr/share/openstack-tripleo-heat-templates/environments/config-debug.yaml"" ",,3,0
openstack%2Ftripleo-quickstart-extras~master~Ia977d3f6a888637773fb22feb7ab663931fb0a67,openstack/tripleo-quickstart-extras,master,Ia977d3f6a888637773fb22feb7ab663931fb0a67,Extrapolate templated bash script source dir,ABANDONED,2016-12-20 14:04:10.000000000,2017-10-05 18:34:32.000000000,,"[{'_account_id': 3}, {'_account_id': 8367}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-12-20 14:04:10.000000000', 'files': ['roles/collect-logs/README.md', 'roles/collect-logs/tasks/create-docs.yml', 'roles/collect-logs/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/de0d791f3075fc7e74090505e91acb2e6f25410f', 'message': 'Extrapolate templated bash script source dir\n\nPreviously, collect-logs that the shell scripts, defined in\nartcl_create_docs_payload.included_deployment_scripts, are located\nwithin collected_logs/undercloud/home/{{ ansible_user }}/. This\nchange allows for explcitly defining that path.\n\nNote: default behavior has not changed and must be overriden via\nconfig during call to ansible.\n\nChange-Id: Ia977d3f6a888637773fb22feb7ab663931fb0a67\n'}]",1,413098,de0d791f3075fc7e74090505e91acb2e6f25410f,7,3,1,11589,,,0,"Extrapolate templated bash script source dir

Previously, collect-logs that the shell scripts, defined in
artcl_create_docs_payload.included_deployment_scripts, are located
within collected_logs/undercloud/home/{{ ansible_user }}/. This
change allows for explcitly defining that path.

Note: default behavior has not changed and must be overriden via
config during call to ansible.

Change-Id: Ia977d3f6a888637773fb22feb7ab663931fb0a67
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/98/413098/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/collect-logs/README.md', 'roles/collect-logs/tasks/create-docs.yml', 'roles/collect-logs/defaults/main.yml']",3,de0d791f3075fc7e74090505e91acb2e6f25410f,gen_docs_from_multi_source,"artcl_bash_script_dir: ""{{ artcl_collect_dir }}/undercloud/home/{{ ansible_user }}""",,6,3
openstack%2Ftripleo-ci~master~I59de1824d431532720b2f15bea6ae42072fe451f,openstack/tripleo-ci,master,I59de1824d431532720b2f15bea6ae42072fe451f,Set ansible var for TRIPLEO_ROOT in config,ABANDONED,2017-01-16 19:23:58.000000000,2017-10-05 18:34:25.000000000,,"[{'_account_id': 3}, {'_account_id': 6721}, {'_account_id': 9592}, {'_account_id': 12715}, {'_account_id': 20775}]","[{'number': 1, 'created': '2017-01-16 19:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e25e821cc32a37b62a2471e6b8b9b840e7509f97', 'message': ""Set ansible var for TRIPLEO_ROOT in config\n\nIt is better to set this in the config since it will be pulled\nfrom the environment running ansible. The we don't need to do any\ntricks to get that environment variable into the script actually\nbeing run later.\n\nChange-Id: I59de1824d431532720b2f15bea6ae42072fe451f\n""}, {'number': 2, 'created': '2017-01-16 20:41:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/861decfbb1c8755d6ac15ce8c44c1ae7d9ce4683', 'message': ""Set ansible var for TRIPLEO_ROOT in config\n\nIt is better to set this in the config since it will be pulled\nfrom the environment running ansible. The we don't need to do any\ntricks to get that environment variable into the script actually\nbeing run later.\n\nChange-Id: I59de1824d431532720b2f15bea6ae42072fe451f\n""}, {'number': 3, 'created': '2017-01-17 18:49:45.000000000', 'files': ['scripts/quickstart/multinode-settings.yml', 'scripts/quickstart/multinode-playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4df6509742cbed32b39e5e39a9bed02935c529ae', 'message': ""Set ansible var for TRIPLEO_ROOT in config\n\nIt is better to set this in the config since it will be pulled\nfrom the environment running ansible. The we don't need to do any\ntricks to get that environment variable into the script actually\nbeing run later.\n\nChange-Id: I59de1824d431532720b2f15bea6ae42072fe451f\n""}]",0,420912,4df6509742cbed32b39e5e39a9bed02935c529ae,24,5,3,12715,,,0,"Set ansible var for TRIPLEO_ROOT in config

It is better to set this in the config since it will be pulled
from the environment running ansible. The we don't need to do any
tricks to get that environment variable into the script actually
being run later.

Change-Id: I59de1824d431532720b2f15bea6ae42072fe451f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/12/420912/2 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/quickstart/multinode-settings.yml', 'scripts/quickstart/multinode-playbook.yml']",2,e25e821cc32a37b62a2471e6b8b9b840e7509f97,multinode-oooq,," environment: TRIPLEO_ROOT: ""{{ lookup('env','TRIPLEO_ROOT') }}""",4,5
openstack%2Ftripleo-ci~master~I58e954440a529163a318abb13272911002e95c9c,openstack/tripleo-ci,master,I58e954440a529163a318abb13272911002e95c9c,POC: Use tripleo-repos in tripleo.sh,ABANDONED,2016-11-09 21:23:38.000000000,2017-10-05 18:34:20.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}]","[{'number': 1, 'created': '2016-11-09 21:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/105952675ed4ef57005cfa7dedf6119c3c3374ce', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 2, 'created': '2016-11-09 22:02:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a38cad39952fd79b72629cdde3944df8085e33f3', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 3, 'created': '2016-11-10 16:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d4300bb60d0fc3a265b6a83e80497ac43fb9bf19', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 4, 'created': '2016-11-10 18:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f14defa53c3927f823e2de6f0260221b121a2620', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 5, 'created': '2016-11-10 22:03:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6f7cb795ebcfc6efbee76193eb83e8c9947002d8', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 6, 'created': '2016-11-11 17:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6acbb5dba5ddf78f75666c2ebe58d44572d1cda8', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 7, 'created': '2017-01-24 23:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e9c3be5a56cdbca40b720e9ec3a3654322a877a7', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 8, 'created': '2017-01-25 16:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/09b4853ab31e32675dcd69d2681edcb4bab80e2a', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 9, 'created': '2017-01-25 22:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7ad5a853969fbb47c44795c1ec3de875b0319d86', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 10, 'created': '2017-01-25 22:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aac1639157d3c007f912aa0a41e62a3c1fd6801b', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 11, 'created': '2017-01-25 23:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8eff97316f64b96b34e683a94251b6eb3d8cb51a', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}, {'number': 12, 'created': '2017-01-26 00:18:48.000000000', 'files': ['scripts/common_functions.sh', 'scripts/tripleo.sh', 'scripts/deploy.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/17c675ad9d01df5fceffc0194dc4853cd450b73b', 'message': 'POC: Use tripleo-repos in tripleo.sh\n\nChange-Id: I58e954440a529163a318abb13272911002e95c9c\n'}]",0,395813,17c675ad9d01df5fceffc0194dc4853cd450b73b,37,2,12,6928,,,0,"POC: Use tripleo-repos in tripleo.sh

Change-Id: I58e954440a529163a318abb13272911002e95c9c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/13/395813/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,105952675ed4ef57005cfa7dedf6119c3c3374ce,tripleo-repos," $(ls /etc/yum.repos.d/delorean* /etc/yum.repos.d/CentOS-Ceph-*)""} git clone https://github.com/cybertron/tripleo-repos cd tripleo-repos sudo ./setup.py install sudo tripleo-repos current-tripleo-dev ceph sudo tripleo-repos current deps ceph -b ""$STABLE_RELEASE"""," $REPO_PREFIX/delorean.repo \ $REPO_PREFIX/delorean-current.repo \ $REPO_PREFIX/delorean-deps.repo""} # Use Ceph/Jewel for all but liberty/mitaka if [[ ""${STABLE_RELEASE}"" =~ ^(liberty|mitaka)$ ]] ; then OVERCLOUD_IMAGES_DIB_YUM_REPO_CONF=${OVERCLOUD_IMAGES_DIB_YUM_REPO_CONF}""\ $REPO_PREFIX/CentOS-Ceph-Hammer.repo"" else OVERCLOUD_IMAGES_DIB_YUM_REPO_CONF=${OVERCLOUD_IMAGES_DIB_YUM_REPO_CONF}""\ $REPO_PREFIX/CentOS-Ceph-Jewel.repo"" fi # sets $TRIPLEO_OS_FAMILY and $TRIPLEO_OS_DISTRO source $(dirname ${BASH_SOURCE[0]:-$0})/set-os-type if [ ""$TRIPLEO_OS_DISTRO"" = ""centos"" ]; then # Enable Storage/SIG Ceph repo if [[ ""${STABLE_RELEASE}"" =~ ^(liberty|mitaka)$ ]] ; then rpm -q centos-release-ceph-hammer || sudo yum -y install --enablerepo=extras centos-release-ceph-hammer sudo sed -i -e 's%gpgcheck=.*%gpgcheck=0%' $REPO_PREFIX/CentOS-Ceph-Hammer.repo else if ! rpm -q centos-release-ceph-jewel; then # Must erase hammer repo if it's installed b/c it conflicts # with jewel repo if rpm -q centos-release-ceph-hammer; then sudo yum -y erase centos-release-ceph-hammer fi sudo yum -y install --enablerepo=extras centos-release-ceph-jewel fi sudo sed -i -e 's%gpgcheck=.*%gpgcheck=0%' $REPO_PREFIX/CentOS-Ceph-Jewel.repo fi fi # Enable the Delorean Deps repository sudo curl -Lo $REPO_PREFIX/delorean-deps.repo http://trunk.rdoproject.org/centos7/delorean-deps.repo sudo sed -i -e 's%priority=.*%priority=30%' $REPO_PREFIX/delorean-deps.repo # Enable last known good RDO Trunk Delorean repository sudo curl -Lo $REPO_PREFIX/delorean.repo $DELOREAN_REPO_URL/$DELOREAN_REPO_FILE sudo sed -i -e 's%priority=.*%priority=20%' $REPO_PREFIX/delorean.repo # Enable latest RDO Trunk Delorean repository sudo curl -Lo $REPO_PREFIX/delorean-current.repo http://trunk.rdoproject.org/centos7/current/delorean.repo sudo sed -i -e 's%priority=.*%priority=10%' $REPO_PREFIX/delorean-current.repo sudo sed -i 's/\[delorean\]/\[delorean-current\]/' $REPO_PREFIX/delorean-current.repo sudo /bin/bash -c ""cat <<-EOF>>$REPO_PREFIX/delorean-current.repo includepkgs=diskimage-builder,instack,instack-undercloud,os-apply-config,os-cloud-config,os-collect-config,os-net-config,os-refresh-config,python-tripleoclient,openstack-tripleo-common,openstack-tripleo-heat-templates,openstack-tripleo-image-elements,openstack-tripleo,openstack-tripleo-puppet-elements,openstack-puppet-modules,openstack-tripleo-ui,puppet-* EOF"" # Enable the Delorean Deps repository sudo curl -Lo $REPO_PREFIX/delorean-deps.repo http://trunk.rdoproject.org/centos7-$STABLE_RELEASE/delorean-deps.repo sudo sed -i -e 's%priority=.*%priority=30%' $REPO_PREFIX/delorean-deps.repo # Enable delorean current for the stable version sudo curl -Lo $REPO_PREFIX/delorean.repo $DELOREAN_STABLE_REPO_URL/$DELOREAN_REPO_FILE sudo sed -i -e 's%priority=.*%priority=20%' $REPO_PREFIX/delorean.repo # Create empty delorean-current for dib image building sudo sh -c ""> $REPO_PREFIX/delorean-current.repo"" # Install the yum-plugin-priorities package so that the Delorean repository # takes precedence over the main RDO repositories. sudo yum -y install yum-plugin-priorities ",6,61
openstack%2Fpuppet-tripleo~master~I37db6456f63a5efa4bbbc18cb22861a7430e8411,openstack/puppet-tripleo,master,I37db6456f63a5efa4bbbc18cb22861a7430e8411,Make bootstrap_node checks more robust,ABANDONED,2016-12-08 17:14:39.000000000,2017-10-05 18:34:15.000000000,,"[{'_account_id': 3}, {'_account_id': 5792}, {'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 20172}]","[{'number': 1, 'created': '2016-12-08 17:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3b25d7eb64aa62cb3b70d64fe2ce9249e37eac6a', 'message': 'WIP DO NOT MERGE Make pacemaker_master checks more robust\n\nWe currently use this code with the following if check:\nif $::hostname == downcase($bootstrap_node) {\n  $sync_db = true\n} else {\n  $sync_db = false\n}\n\nWe do so for a bunch of reasons, but mainly for:\n1) Creating pacemaker resources only from a single node\n2) Call sync_db commands to create sql tables and fixup sql data in\ngeneral\n\nWhen we merged commit b345dbea16ad3edd600c62848d8ee116f4df16ee\n""Combine BootstrapNodeDeployment with AllNodesDeployment"" we added a\nbootstrap node id not not only for controller nodes but for each type of\nnodes (think for each role). This is problematic because that if will\nhold true more than once if the same service is part of two different\nroles.\n\nLet\'s try a different approach where we set sync_db and pacemaker_master\nto true only on the first node of all the nodes that will run that\nspecific service.\n\nChange-Id: I37db6456f63a5efa4bbbc18cb22861a7430e8411\nCloses-Bug: #1615983\n'}, {'number': 2, 'created': '2016-12-08 17:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f4d4257350493ed75e721b356509444a0729c2c9', 'message': 'WIP DO NOT MERGE Make bootstrap_node checks more robust\n\nWe currently use this code with the following if check:\nif $::hostname == downcase($bootstrap_node) {\n  $sync_db = true\n} else {\n  $sync_db = false\n}\n\nWe do so for a bunch of reasons, but mainly for:\n1) Creating pacemaker resources only from a single node\n2) Call sync_db commands to create sql tables and fixup sql data in\ngeneral\n\nWhen we merged commit b345dbea16ad3edd600c62848d8ee116f4df16ee\n""Combine BootstrapNodeDeployment with AllNodesDeployment"" we added a\nbootstrap node id not not only for controller nodes but for each type of\nnodes (think for each role). This is problematic because that if will\nhold true more than once if the same service is part of two different\nroles.\n\nLet\'s try a different approach where we set sync_db and pacemaker_master\nto true only on the first node of all the nodes that will run that\nspecific service.\n\nChange-Id: I37db6456f63a5efa4bbbc18cb22861a7430e8411\nCloses-Bug: #1615983\n'}, {'number': 3, 'created': '2016-12-12 20:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/195814b752184630616e776bdc53052b20d86aa0', 'message': 'WIP DO NOT MERGE Make bootstrap_node checks more robust\n\nWe currently use this code with the following if check:\nif $::hostname == downcase($bootstrap_node) {\n  $sync_db = true\n} else {\n  $sync_db = false\n}\n\nWe do so for a bunch of reasons, but mainly for:\n1) Creating pacemaker resources only from a single node\n2) Call sync_db commands to create sql tables and fixup sql data in\ngeneral\n\nWhen we merged commit b345dbea16ad3edd600c62848d8ee116f4df16ee\n""Combine BootstrapNodeDeployment with AllNodesDeployment"" we added a\nbootstrap node id not not only for controller nodes but for each type of\nnodes (think for each role). This is problematic because that if will\nhold true more than once if the same service is part of two different\nroles.\n\nLet\'s try a different approach where we set sync_db and pacemaker_master\nto true only on the first node of all the nodes that will run that\nspecific service.\n\nWe add a bootstrap_node parameter to all classes and default to the\n<SERVICE_NAME_short_node_names>[0] hiera value. We also make sure\nwe pass that value down to any included base class.\n\nChange-Id: I37db6456f63a5efa4bbbc18cb22861a7430e8411\nCloses-Bug: #1615983\n'}, {'number': 4, 'created': '2016-12-19 14:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/531caa44d484dbda5aea1e583d7caa0854aa7187', 'message': 'WIP DO NOT MERGE Make bootstrap_node checks more robust\n\nWe currently use this code with the following if check:\nif $::hostname == downcase($bootstrap_node) {\n  $sync_db = true\n} else {\n  $sync_db = false\n}\n\nWe do so for a bunch of reasons, but mainly for:\n1) Creating pacemaker resources only from a single node\n2) Call sync_db commands to create sql tables and fixup sql data in\ngeneral\n\nWhen we merged commit b345dbea16ad3edd600c62848d8ee116f4df16ee\n""Combine BootstrapNodeDeployment with AllNodesDeployment"" we added a\nbootstrap node id not not only for controller nodes but for each type of\nnodes (think for each role). This is problematic because that if will\nhold true more than once if the same service is part of two different\nroles.\n\nLet\'s try a different approach where we set sync_db and pacemaker_master\nto true only on the first node of all the nodes that will run that\nspecific service.\n\nWe add a bootstrap_node parameter to all classes and default to the\n<SERVICE_NAME_bootstrap_short_node_name> hiera value. We also make sure\nwe pass that value down to any included base classes.\n\nDepends-On: I03e8685f939e8ae1fcd8b16883b559615042505d\nChange-Id: I37db6456f63a5efa4bbbc18cb22861a7430e8411\nCloses-Bug: #1615983\n'}, {'number': 5, 'created': '2016-12-19 14:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1e54361888f2ba2cd71a311b8cc09952853a08c3', 'message': 'WIP DO NOT MERGE Make bootstrap_node checks more robust\n\nWe currently use this code with the following if check:\nif $::hostname == downcase($bootstrap_node) {\n  $sync_db = true\n} else {\n  $sync_db = false\n}\n\nWe do so for a bunch of reasons, but mainly for:\n1) Creating pacemaker resources only from a single node\n2) Call sync_db commands to create sql tables and fixup sql data in\ngeneral\n\nWhen we merged commit b345dbea16ad3edd600c62848d8ee116f4df16ee\n""Combine BootstrapNodeDeployment with AllNodesDeployment"" we added a\nbootstrap node id not not only for controller nodes but for each type of\nnodes (think for each role). This is problematic because that if will\nhold true more than once if the same service is part of two different\nroles.\n\nLet\'s try a different approach where we set sync_db and pacemaker_master\nto true only on the first node of all the nodes that will run that\nspecific service.\n\nWe add a bootstrap_node parameter to all classes and default to the\n<SERVICE_NAME_bootstrap_short_node_name> hiera value. We also make sure\nwe pass that value down to any included base classes.\n\nDepends-On: I03e8685f939e8ae1fcd8b16883b559615042505d\nChange-Id: I37db6456f63a5efa4bbbc18cb22861a7430e8411\nCloses-Bug: #1615983\n'}, {'number': 6, 'created': '2016-12-19 14:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8181ca566f006b8974f17df9198bbcc1547ea70b', 'message': 'WIP DO NOT MERGE Make bootstrap_node checks more robust\n\nWe currently use this code with the following if check:\nif $::hostname == downcase($bootstrap_node) {\n  $sync_db = true\n} else {\n  $sync_db = false\n}\n\nWe do so for a bunch of reasons, but mainly for:\n1) Creating pacemaker resources only from a single node\n2) Call sync_db commands to create sql tables and fixup sql data in\ngeneral\n\nWhen we merged commit b345dbea16ad3edd600c62848d8ee116f4df16ee\n""Combine BootstrapNodeDeployment with AllNodesDeployment"" we added a\nbootstrap node id not not only for controller nodes but for each type of\nnodes (think for each role). This is problematic because that if will\nhold true more than once if the same service is part of two different\nroles.\n\nLet\'s try a different approach where we set sync_db and pacemaker_master\nto true only on the first node of all the nodes that will run that\nspecific service.\n\nWe add a bootstrap_node parameter to all classes and default to the\n<SERVICE_NAME_bootstrap_short_node_name> hiera value. We also make sure\nwe pass that value down to any included base classes.\n\nDepends-On: I03e8685f939e8ae1fcd8b16883b559615042505d\nChange-Id: I37db6456f63a5efa4bbbc18cb22861a7430e8411\nCloses-Bug: #1615983\n'}, {'number': 7, 'created': '2016-12-21 08:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/40c16131f14033d0e67882995566f68f18062967', 'message': 'Make bootstrap_node checks more robust\n\nWe currently use this code with the following if check:\nif $::hostname == downcase($bootstrap_node) {\n  $sync_db = true\n} else {\n  $sync_db = false\n}\n\nWe do so for a bunch of reasons, but mainly for:\n1) Creating pacemaker resources only from a single node\n2) Call sync_db commands to create sql tables and fixup sql data in\ngeneral\n\nWhen we merged commit b345dbea16ad3edd600c62848d8ee116f4df16ee\n""Combine BootstrapNodeDeployment with AllNodesDeployment"" we added a\nbootstrap node id not not only for controller nodes but for each type of\nnodes (think for each role). This is problematic because that if will\nhold true more than once if the same service is part of two different\nroles.\n\nLet\'s try a different approach where we set sync_db and pacemaker_master\nto true only on the first node of all the nodes that will run that\nspecific service.\n\nWe add a bootstrap_node parameter to all classes and default to the\n<SERVICE_NAME_bootstrap_short_node_name> hiera value. We also make sure\nwe pass that value down to any included base classes.\n\nNote that the base profiles that get included by other classes do\nnot change the if condition. Namely:\nmanifests/profile/base/{aodh.pp,cinder.pp,heat.pp,ironic.pp,keystone.pp,\nmanila.pp,mistral.pp,neutron/server.pp,nova.pp,panko.pp,sahara.pp}\n\nDepends-On: I03e8685f939e8ae1fcd8b16883b559615042505d\nChange-Id: I37db6456f63a5efa4bbbc18cb22861a7430e8411\nCloses-Bug: #1615983\n'}, {'number': 8, 'created': '2016-12-21 08:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/95d724f5685fb8c24ba13a9d18a6a26dcb2e0455', 'message': 'Make bootstrap_node checks more robust\n\nWe currently use this code with the following if check:\nif $::hostname == downcase($bootstrap_node) {\n  $sync_db = true\n} else {\n  $sync_db = false\n}\n\nWe do so for a bunch of reasons, but mainly for:\n1) Creating pacemaker resources only from a single node\n2) Call sync_db commands to create sql tables and fixup sql data in\ngeneral\n\nWhen we merged commit b345dbea16ad3edd600c62848d8ee116f4df16ee\n""Combine BootstrapNodeDeployment with AllNodesDeployment"" we added a\nbootstrap node id not not only for controller nodes but for each type of\nnodes (think for each role). This is problematic because that if will\nhold true more than once if the same service is part of two different\nroles.\n\nLet\'s try a different approach where we set sync_db and pacemaker_master\nto true only on the first node of all the nodes that will run that\nspecific service.\n\nWe add a bootstrap_node parameter to all classes and default to the\n<SERVICE_NAME_bootstrap_short_node_name> hiera value. We also make sure\nwe pass that value down to any included base classes.\n\nNote that the base profiles that get included by other classes do\nnot change the if condition. Namely:\nmanifests/profile/base/{aodh.pp,cinder.pp,heat.pp,ironic.pp,keystone.pp,\nmanila.pp,mistral.pp,neutron/server.pp,nova.pp,panko.pp,sahara.pp}\n\nDepends-On: I03e8685f939e8ae1fcd8b16883b559615042505d\nChange-Id: I37db6456f63a5efa4bbbc18cb22861a7430e8411\nCloses-Bug: #1615983\n'}, {'number': 9, 'created': '2016-12-21 09:49:17.000000000', 'files': ['manifests/profile/base/nova/compute.pp', 'manifests/profile/base/ceilometer/collector.pp', 'manifests/profile/base/nova/libvirt.pp', 'manifests/profile/pacemaker/rabbitmq.pp', 'manifests/profile/base/mistral/executor.pp', 'manifests/profile/base/nova/vncproxy.pp', 'manifests/profile/pacemaker/cinder/volume.pp', 'manifests/profile/pacemaker/database/mysql.pp', 'manifests/profile/base/glance/registry.pp', 'manifests/profile/base/neutron/plugins/plumgrid.pp', 'manifests/profile/base/pacemaker.pp', 'manifests/profile/base/cinder/scheduler.pp', 'manifests/profile/pacemaker/haproxy.pp', 'manifests/profile/base/heat/engine.pp', 'manifests/profile/base/gnocchi/api.pp', 'manifests/profile/pacemaker/database/redis.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/neutron/plugins/ml2.pp', 'manifests/profile/base/aodh/api.pp', 'manifests/profile/base/nova/api.pp', 'manifests/profile/base/nova/compute/libvirt.pp', 'manifests/profile/base/neutron/plugins/opencontrail.pp', 'manifests/profile/base/nova/consoleauth.pp', 'manifests/profile/base/database/mongodb.pp', 'manifests/profile/base/ironic/conductor.pp', 'manifests/profile/base/sahara/engine.pp', 'manifests/profile/base/barbican/api.pp', 'manifests/profile/base/sahara/api.pp', 'manifests/profile/base/neutron/opendaylight.pp', 'manifests/profile/base/panko/api.pp', 'manifests/profile/base/neutron/plugins/nuage.pp', 'manifests/profile/base/mistral/api.pp', 'manifests/profile/base/heat/api.pp', 'manifests/profile/base/heat/api_cfn.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/nova/scheduler.pp', 'manifests/profile/base/mistral/engine.pp', 'manifests/profile/base/trove/api.pp', 'manifests/profile/base/cinder/api.pp', 'manifests/profile/base/nova/compute/ironic.pp', 'manifests/profile/pacemaker/cinder/backup.pp', 'manifests/profile/base/nova/conductor.pp', 'manifests/profile/base/database/redis.pp', 'manifests/profile/base/cinder/volume.pp', 'manifests/profile/base/manila/api.pp', 'manifests/profile/base/aodh/evaluator.pp', 'manifests/profile/base/manila/scheduler.pp', 'manifests/profile/base/manila/share.pp', 'manifests/profile/base/ironic/api.pp', 'manifests/profile/base/database/mysql.pp', 'manifests/profile/pacemaker/manila.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/06d28e471dbf4e8510f78a921b8c916004c6d84d', 'message': 'Make bootstrap_node checks more robust\n\nWe currently use this code with the following if check:\nif $::hostname == downcase($bootstrap_node) {\n  $sync_db = true\n} else {\n  $sync_db = false\n}\n\nWe do so for a bunch of reasons, but mainly for:\n1) Creating pacemaker resources only from a single node\n2) Call sync_db commands to create sql tables and fixup sql data in\ngeneral\n\nWhen we merged commit b345dbea16ad3edd600c62848d8ee116f4df16ee\n""Combine BootstrapNodeDeployment with AllNodesDeployment"" we added a\nbootstrap node id not not only for controller nodes but for each type of\nnodes (think for each role). This is problematic because that if will\nhold true more than once if the same service is part of two different\nroles.\n\nLet\'s try a different approach where we set sync_db and pacemaker_master\nto true only on the first node of all the nodes that will run that\nspecific service.\n\nWe add a bootstrap_node parameter to all classes and default to the\n<SERVICE_NAME_bootstrap_short_node_name> hiera value. We also make sure\nwe pass that value down to any included base classes.\n\nNote that the base profiles that get included by other classes do\nnot change the if condition. Namely:\nmanifests/profile/base/{aodh.pp,cinder.pp,heat.pp,ironic.pp,keystone.pp,\nmanila.pp,mistral.pp,neutron/server.pp,nova.pp,panko.pp,sahara.pp}\n\nDepends-On: I03e8685f939e8ae1fcd8b16883b559615042505d\nChange-Id: I37db6456f63a5efa4bbbc18cb22861a7430e8411\nCloses-Bug: #1615983\n'}]",3,408726,06d28e471dbf4e8510f78a921b8c916004c6d84d,50,5,9,20172,,,0,"Make bootstrap_node checks more robust

We currently use this code with the following if check:
if $::hostname == downcase($bootstrap_node) {
  $sync_db = true
} else {
  $sync_db = false
}

We do so for a bunch of reasons, but mainly for:
1) Creating pacemaker resources only from a single node
2) Call sync_db commands to create sql tables and fixup sql data in
general

When we merged commit b345dbea16ad3edd600c62848d8ee116f4df16ee
""Combine BootstrapNodeDeployment with AllNodesDeployment"" we added a
bootstrap node id not not only for controller nodes but for each type of
nodes (think for each role). This is problematic because that if will
hold true more than once if the same service is part of two different
roles.

Let's try a different approach where we set sync_db and pacemaker_master
to true only on the first node of all the nodes that will run that
specific service.

We add a bootstrap_node parameter to all classes and default to the
<SERVICE_NAME_bootstrap_short_node_name> hiera value. We also make sure
we pass that value down to any included base classes.

Note that the base profiles that get included by other classes do
not change the if condition. Namely:
manifests/profile/base/{aodh.pp,cinder.pp,heat.pp,ironic.pp,keystone.pp,
manila.pp,mistral.pp,neutron/server.pp,nova.pp,panko.pp,sahara.pp}

Depends-On: I03e8685f939e8ae1fcd8b16883b559615042505d
Change-Id: I37db6456f63a5efa4bbbc18cb22861a7430e8411
Closes-Bug: #1615983
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/26/408726/8 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/database/redis.pp', 'manifests/profile/pacemaker/rabbitmq.pp', 'manifests/profile/pacemaker/database/mysql.pp']",3,3b25d7eb64aa62cb3b70d64fe2ce9249e37eac6a,nonbostrap-bug, if $::hostname == downcase(hiera('mysql_short_node_names')[0]) {, if $::hostname == downcase(hiera('bootstrap_nodeid')) {,3,3
openstack%2Ftripleo-quickstart-extras~master~Iec292e2c3179772004bc4945122ad3cf734a5c4e,openstack/tripleo-quickstart-extras,master,Iec292e2c3179772004bc4945122ad3cf734a5c4e,overcloud-prep-images: Ensure only 1 overcloud-full.qcow2 in glance,ABANDONED,2017-01-26 04:03:02.000000000,2017-10-05 18:34:10.000000000,,"[{'_account_id': 3}, {'_account_id': 9976}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-01-26 04:03:02.000000000', 'files': ['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/05bf8bb04120c657f275d4eeb89db57985ddb4b0', 'message': 'overcloud-prep-images: Ensure only 1 overcloud-full.qcow2 in glance\n\nThis commit adds a check to the overcloud-prep-images script that\nensures only 1 overcloud-full image is in glance. If two are present the\novercloud deploy will fail because the name given is not unique.\n\nChange-Id: Iec292e2c3179772004bc4945122ad3cf734a5c4e\n'}]",0,425516,05bf8bb04120c657f275d4eeb89db57985ddb4b0,12,5,1,6721,,,0,"overcloud-prep-images: Ensure only 1 overcloud-full.qcow2 in glance

This commit adds a check to the overcloud-prep-images script that
ensures only 1 overcloud-full image is in glance. If two are present the
overcloud deploy will fail because the name given is not unique.

Change-Id: Iec292e2c3179772004bc4945122ad3cf734a5c4e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/16/425516/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/templates/overcloud-prep-images.sh.j2'],1,05bf8bb04120c657f275d4eeb89db57985ddb4b0,,"if ! glance image-show overcloud-full; then glance image-create --container-format bare --disk-format qcow2 --name overcloud-full --file overcloud-full.qcow2 else echo ""WARNING: overcloud-full.qcow2 already uploaded to glance!"" fi", glance image-create --container-format bare --disk-format qcow2 --name overcloud-full --file overcloud-full.qcow2 ,5,2
openstack%2Ftripleo-common~master~I567ac66cce8e7548745a93f7df175b8575ef8e17,openstack/tripleo-common,master,I567ac66cce8e7548745a93f7df175b8575ef8e17,Code changes to implement https://blueprints.launchpad.net/ironic/+spec/generic-image-partition-aproach,ABANDONED,2016-12-20 07:39:57.000000000,2017-10-05 18:34:05.000000000,,"[{'_account_id': 3}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-12-20 07:39:57.000000000', 'files': ['tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a5272dd38926df5bd038761affb785b117f8c106', 'message': 'Code changes to implement\nhttps://blueprints.launchpad.net/ironic/+spec/generic-image-partition-aproach\n\nChange-Id: I567ac66cce8e7548745a93f7df175b8575ef8e17\n'}]",1,412842,a5272dd38926df5bd038761affb785b117f8c106,5,2,1,22094,,,0,"Code changes to implement
https://blueprints.launchpad.net/ironic/+spec/generic-image-partition-aproach

Change-Id: I567ac66cce8e7548745a93f7df175b8575ef8e17
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/412842/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/nodes.py'],1,a5272dd38926df5bd038761affb785b117f8c106,bp/s," 'cpu_arch': 'arch', 'partition_layout_path': 'partition_layout_path'} ('capabilities', '/properties/capabilities'), ('partition_layout_path', '/properties/partition_layout_path')]:"," 'cpu_arch': 'arch'} ('capabilities', '/properties/capabilities')]:",4,2
openstack%2Ftripleo-quickstart~master~I0fa5d964415e01f027be2784845e4c712be0ff01,openstack/tripleo-quickstart,master,I0fa5d964415e01f027be2784845e4c712be0ff01,Adds support for multiple distributions,ABANDONED,2017-01-11 17:30:03.000000000,2017-10-05 18:33:57.000000000,,"[{'_account_id': 3}, {'_account_id': 6449}, {'_account_id': 6721}, {'_account_id': 7294}, {'_account_id': 9592}, {'_account_id': 10873}, {'_account_id': 17893}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-01-11 17:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ec043c27eef3c2dd78df0c8ccb84b261824389c8', 'message': 'Adds support for multiple distributions\n\nThis change allows tripleo-quickstart to be run from multiple\ndistributions (redhat, centos, fedora, arch, ubuntu / debian).\n\nNo extra args are required, as the distribution is auto-discovered\nusing the systemd standard `os-release` that is uniform accross\nall of the previous mentioned distributions.\n\nThe essence of the change if only the package manager and package\nnaming used.\n\nChange-Id: I0fa5d964415e01f027be2784845e4c712be0ff01\n'}, {'number': 2, 'created': '2017-01-11 17:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7a33261d076f2818960e8372a2d94300bc88bd1b', 'message': 'Adds support for multiple distributions\n\nThis change allows tripleo-quickstart to be run from multiple\ndistributions (redhat, centos, fedora, arch, ubuntu / debian).\n\nNo extra args are required, as the distribution is auto-discovered\nusing the systemd standard `os-release` that is uniform accross\nall of the previous mentioned distributions.\n\nThe essence of the change if only the package manager and package\nnaming used.\n\nChange-Id: I0fa5d964415e01f027be2784845e4c712be0ff01\n'}, {'number': 3, 'created': '2017-01-11 17:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c9423e8059141a679e69ccd16afc681fc1c7c3a2', 'message': 'Adds support for multiple distributions\n\nThis change allows tripleo-quickstart to be run from multiple\ndistributions (redhat, centos, fedora, arch, ubuntu / debian).\n\nNo extra args are required, as the distribution is auto-discovered\nusing the systemd standard `os-release` that is uniform accross\nall of the previous mentioned distributions.\n\nThe essence of the change is only the package manager and package\nnames.\n\nChange-Id: I0fa5d964415e01f027be2784845e4c712be0ff01\n'}, {'number': 4, 'created': '2017-01-11 19:17:47.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/feb4fc020bd98af1767c5afc83a62d456410371a', 'message': 'Adds support for multiple distributions\n\nThis change allows tripleo-quickstart to be run from multiple\ndistributions (redhat, centos, fedora, arch, ubuntu / debian).\n\nNo extra args are required, as the distribution is auto-discovered\nusing the systemd standard `os-release` that is uniform accross\nall of the previous mentioned distributions.\n\nThe essence of the change is only the package manager and package\nnames.\n\nChange-Id: I0fa5d964415e01f027be2784845e4c712be0ff01\n'}]",17,419062,feb4fc020bd98af1767c5afc83a62d456410371a,26,8,4,17893,,,0,"Adds support for multiple distributions

This change allows tripleo-quickstart to be run from multiple
distributions (redhat, centos, fedora, arch, ubuntu / debian).

No extra args are required, as the distribution is auto-discovered
using the systemd standard `os-release` that is uniform accross
all of the previous mentioned distributions.

The essence of the change is only the package manager and package
names.

Change-Id: I0fa5d964415e01f027be2784845e4c712be0ff01
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/62/419062/4 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,ec043c27eef3c2dd78df0c8ccb84b261824389c8,multi-dist,": ${OPT_RELEASE:=mitaka}# Determine distibution (using systemd standard `os-release`): if [ -f /etc/os-release ]; then . /etc/os-release else echo ""Not able to determine your OS or Distribution"" exit 1 fi case ""$ID"" in redhat | centos | fedora ) echo ""Selected Distribution is $NAME"" sudo yum -y install \ /usr/bin/git \ /usr/bin/virtualenv \ gcc \ libyaml \ libselinux-python \ libffi-devel \ openssl-devel \ redhat-rpm-config ;; arch) echo ""Selected Distribution is $NAME"" yes | sudo pacman -S \ git \ python2-virtualenv \ gcc \ libyaml \ libffi \ openssl ;; debian | ubuntu) echo ""Selected Distribution is $NAME"" sudo apt-get -y install \ git \ python-dev \ python-virtualenv \ gcc \ libyaml-dev \ libssl-dev ;; *) echo ""Not able to determine your OS or Distribution"" exit 1 esac virtualenv \ # All Distributions symlink /usr/bin/python2 to the current python2 binary # so pointing virtualenv to the python2 symlink, insures distibutions using # python3 as default won't create an env using the wrong python version. -p /usr/bin/python2 \",: ${OPT_RELEASE:=newton} sudo yum -y install \ /usr/bin/git \ /usr/bin/virtualenv \ gcc \ libyaml \ libselinux-python \ libffi-devel \ openssl-devel \ redhat-rpm-config virtualenv\,52,11
openstack%2Ftripleo-ci~master~Ia386e4e7c1f83daeb9c593aad910452a43dfae46,openstack/tripleo-ci,master,Ia386e4e7c1f83daeb9c593aad910452a43dfae46,Enable pacemaker for upgrade job,ABANDONED,2017-02-06 10:18:38.000000000,2017-10-05 18:33:44.000000000,,"[{'_account_id': 3}, {'_account_id': 16515}]","[{'number': 1, 'created': '2017-02-06 10:18:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c0a556bfd78ffe54a604556e8ffaea3e1c96ba95', 'message': 'Enable pacemaker for upgrade job\n\nEnable pacemaker for upgrade CI job.\nThis review required the addition of the pacemaker services\nin tripleo-heat-templates repo\n\nChange-Id: Ia386e4e7c1f83daeb9c593aad910452a43dfae46\n'}, {'number': 2, 'created': '2017-02-06 10:24:33.000000000', 'files': ['scripts/tripleo.sh', 'toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/870448de44e8b8493f57247d305598f83b20b84a', 'message': 'Enable pacemaker for upgrade job\n\nEnable pacemaker for upgrade CI job.\nThis review required the addition of the pacemaker services\nin tripleo-heat-templates repo\n\nChange-Id: Ia386e4e7c1f83daeb9c593aad910452a43dfae46\nDepends-On: I388e303339bea6f4022b3a0a87303496f47f2067\n'}]",0,429627,870448de44e8b8493f57247d305598f83b20b84a,10,2,2,16515,,,0,"Enable pacemaker for upgrade job

Enable pacemaker for upgrade CI job.
This review required the addition of the pacemaker services
in tripleo-heat-templates repo

Change-Id: Ia386e4e7c1f83daeb9c593aad910452a43dfae46
Depends-On: I388e303339bea6f4022b3a0a87303496f47f2067
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/27/429627/2 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,c0a556bfd78ffe54a604556e8ffaea3e1c96ba95,enable-pacemaker," UPGRADE_ENV=/usr/share/openstack-tripleo-heat-templates/ci/environments/multinode_major_upgrade.yaml OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e /usr/share/openstack-tripleo-heat-templates/environments/puppet-pacemaker.yaml --libvirt-type=qemu -t $OVERCLOUD_DEPLOY_TIMEOUT -e $UPGRADE_ENV -r $TRIPLEO_ROOT/tripleo-ci/test-environments/upgrade_roles_data.yaml --overcloud-ssh-user $OVERCLOUD_SSH_USER --validation-errors-nonfatal"""," # TODO(emilien) remove this block when https://review.openstack.org/425690 is merged # and packaged in RDO. if [ -e /usr/share/openstack-tripleo-heat-templates/ci/environments/multinode_major_upgrade.yaml ]; then UPGRADE_ENV=/usr/share/openstack-tripleo-heat-templates/ci/environments/multinode_major_upgrade.yaml else # For backward compatibility until https://review.openstack.org/425690 is merged & packaged. UPGRADE_ENV=$TRIPLEO_ROOT/tripleo-ci/test-environments/multinode_major_upgrade.yaml fi OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS --libvirt-type=qemu -t $OVERCLOUD_DEPLOY_TIMEOUT -e $UPGRADE_ENV -r $TRIPLEO_ROOT/tripleo-ci/test-environments/upgrade_roles_data.yaml --overcloud-ssh-user $OVERCLOUD_SSH_USER --validation-errors-nonfatal""",2,9
openstack%2Fopenstack-zuul-jobs~master~Ideb4d1ea31f51bc2daedb78bd3ef304f1ed1dbec,openstack/openstack-zuul-jobs,master,Ideb4d1ea31f51bc2daedb78bd3ef304f1ed1dbec,Allow prepare-docs-for-afs to be used with other dirs,ABANDONED,2017-10-05 17:13:27.000000000,2017-10-05 18:33:42.000000000,,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 17:13:27.000000000', 'files': ['roles/prepare-docs-for-afs/README.rst', 'roles/prepare-docs-for-afs/tasks/main.yaml', 'roles/prepare-docs-for-afs/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/11a08caac12a5d7ad21133efbd04cc0f2378706e', 'message': 'Allow prepare-docs-for-afs to be used with other dirs\n\nWe need to do the same thing for releasenotes which are built in\nreleasenotes/build/html not doc/build/html.\n\nChange-Id: Ideb4d1ea31f51bc2daedb78bd3ef304f1ed1dbec\n'}]",0,509840,11a08caac12a5d7ad21133efbd04cc0f2378706e,6,3,1,2,,,0,"Allow prepare-docs-for-afs to be used with other dirs

We need to do the same thing for releasenotes which are built in
releasenotes/build/html not doc/build/html.

Change-Id: Ideb4d1ea31f51bc2daedb78bd3ef304f1ed1dbec
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/40/509840/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/prepare-docs-for-afs/README.rst', 'roles/prepare-docs-for-afs/tasks/main.yaml', 'roles/prepare-docs-for-afs/defaults/main.yaml']",3,11a08caac12a5d7ad21133efbd04cc0f2378706e,zuulv3-jobs,doc_base_dir: doc,,20,7
openstack%2Ftripleo-heat-templates~master~Id91f7541c05839d2b9704c95ed93c97d31af2ee0,openstack/tripleo-heat-templates,master,Id91f7541c05839d2b9704c95ed93c97d31af2ee0,Remove 'step' parameter to use the same mechanisme for skip-tags,ABANDONED,2017-01-30 20:02:06.000000000,2017-10-05 18:33:40.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 8449}, {'_account_id': 16515}]","[{'number': 1, 'created': '2017-01-30 20:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdc7530dd3f42816ebc5afd41c9834ac7328fe0d', 'message': 'Remove \'step\' in the template for str_replace for SkipUpgradeConfigTags\n\nIf we want to skip a tag which doesn\'t start by ""step"", we need\nto fix the str_replace template.\nExample for ""validation"" tags.\n\nChange-Id: Id91f7541c05839d2b9704c95ed93c97d31af2ee0\n'}, {'number': 2, 'created': '2017-01-30 22:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/168787dd81d521165d1478fc97e1dd1a843f7f2b', 'message': ""Remove 'step' parameter to use the same mechanisme for skip-tags\n\nAnsible tags would useful and more generic than only a\na step number.\nIf we want to run only a set of tag (ie: step1, step3, validation)\nof only validation, having the same mechanisme as skip-tags is\nmore usable and flexible\n\nChange-Id: Id91f7541c05839d2b9704c95ed93c97d31af2ee0\n""}, {'number': 3, 'created': '2017-01-30 22:54:37.000000000', 'files': ['puppet/upgrade_config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce1760fcf35f64e102fad7e427a21feb9caf39a9', 'message': ""Remove 'step' parameter to use the same mechanisme for skip-tags\n\nAnsible tags would useful and more generic than only a\na step number.\nIf we want to run only a set of tag (ie: step1, step3, validation)\nof only validation, having the same mechanisme as skip-tags is\nmore usable and flexible\n\nChange-Id: Id91f7541c05839d2b9704c95ed93c97d31af2ee0\n""}]",3,426901,ce1760fcf35f64e102fad7e427a21feb9caf39a9,14,4,3,16515,,,0,"Remove 'step' parameter to use the same mechanisme for skip-tags

Ansible tags would useful and more generic than only a
a step number.
If we want to run only a set of tag (ie: step1, step3, validation)
of only validation, having the same mechanisme as skip-tags is
more usable and flexible

Change-Id: Id91f7541c05839d2b9704c95ed93c97d31af2ee0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/426901/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/upgrade_config.yaml'],1,cdc7530dd3f42816ebc5afd41c9834ac7328fe0d,bp/overcloud-upgrades-per-service," template: ""STEP"""," template: ""stepSTEP""",1,1
openstack%2Ftripleo-ci~master~Ice895ef3247ee9a0cdd9fca744576a9850258bfc,openstack/tripleo-ci,master,Ice895ef3247ee9a0cdd9fca744576a9850258bfc,Switch logs for TARCMD to include only specific logs,ABANDONED,2017-02-15 20:17:18.000000000,2017-10-05 18:33:35.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-02-15 20:17:18.000000000', 'files': ['scripts/common_vars.bash'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/584fa1ff51933f71fd1f522e10bbea784c3774e6', 'message': ""Switch logs for TARCMD to include only specific logs\n\nIn an effort to reduce the amount of logs generated by tripleo, we are\nswitching this function to whitelist.  This means, you'll need to\nspecific each log file you want to copy over.  This brings tripleo-ci\nmore inline with devstack-gate.\n\nChange-Id: Ice895ef3247ee9a0cdd9fca744576a9850258bfc\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n""}]",0,434496,584fa1ff51933f71fd1f522e10bbea784c3774e6,7,1,1,4162,,,0,"Switch logs for TARCMD to include only specific logs

In an effort to reduce the amount of logs generated by tripleo, we are
switching this function to whitelist.  This means, you'll need to
specific each log file you want to copy over.  This brings tripleo-ci
more inline with devstack-gate.

Change-Id: Ice895ef3247ee9a0cdd9fca744576a9850258bfc
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/96/434496/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/common_vars.bash'],1,584fa1ff51933f71fd1f522e10bbea784c3774e6,,"# NOTE(pabelanger): Please white list the directory you need to be copied to # logs.o.o. This is to help reduce the amount of data tripleo jobs generate. TARCMD=""sudo XZ_OPT=-3 tar -cJf - /var/log/aodh /etc/ansible""","# NOTE(pabelanger): this logic should be inverted to only include what developers need, not exclude things on the filesystem. TARCMD=""sudo XZ_OPT=-3 tar -cJf - --exclude=var/log/journal --exclude=udev/hwdb.bin --exclude=etc/puppet/modules --exclude=etc/project-config --exclude=etc/services --exclude=selinux/targeted --exclude=etc/services --exclude=etc/pki /var/log /etc""",3,2
openstack%2Ftripleo-ci~master~If9ad272cd9a1aab05529be9514aa54ad276c73dc,openstack/tripleo-ci,master,If9ad272cd9a1aab05529be9514aa54ad276c73dc,WIP: Replace multinode playbook with default quickstart playbook,ABANDONED,2017-01-24 14:53:39.000000000,2017-10-05 18:33:29.000000000,,"[{'_account_id': 3}, {'_account_id': 6721}]","[{'number': 1, 'created': '2017-01-24 14:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0247dbcf0dfae17a9c76e8cc8a733e3267bf09dc', 'message': 'WIP: Replace custom multinode oooq playbook with default quickstart playbook\n\nThis commit removes the custom playbook from multinode OOOQ jobs in\nfavor of the default quickstart-extras.yml playbook referenced in\nquickstart.sh.\n\nChange-Id: If9ad272cd9a1aab05529be9514aa54ad276c73dc\n'}, {'number': 2, 'created': '2017-01-25 02:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5a7bea436d98c0e6e26e3ed53501c5f5130e7ea3', 'message': 'WIP: Replace custom multinode oooq playbook with default quickstart playbook\n\nThis commit removes the custom playbook from multinode OOOQ jobs in\nfavor of the default quickstart-extras.yml playbook referenced in\nquickstart.sh.\n\nChange-Id: If9ad272cd9a1aab05529be9514aa54ad276c73dc\nDepends-On: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n'}, {'number': 3, 'created': '2017-01-25 02:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/de2c0e05845dcee3fa09536864b24507e9e9d115', 'message': 'WIP: Replace multinode playbook with default quickstart playbook\n\nThis commit removes the custom playbook from multinode OOOQ jobs in\nfavor of the default quickstart-extras.yml playbook referenced in\nquickstart.sh.\n\nChange-Id: If9ad272cd9a1aab05529be9514aa54ad276c73dc\nDepends-On: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n'}, {'number': 4, 'created': '2017-01-25 14:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d300b97a6c730009cca252baacbd0dddf5268669', 'message': 'WIP: Replace multinode playbook with default quickstart playbook\n\nThis commit removes the custom playbook from multinode OOOQ jobs in\nfavor of the default quickstart-extras.yml playbook referenced in\nquickstart.sh.\n\nChange-Id: If9ad272cd9a1aab05529be9514aa54ad276c73dc\nDepends-On: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n'}, {'number': 5, 'created': '2017-01-26 03:17:20.000000000', 'files': ['scripts/quickstart/multinode-settings.yml', 'toci_instack_oooq_multinode.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b59bc0ec94e67d579f3c97f3dd4bb18d455575d2', 'message': 'WIP: Replace multinode playbook with default quickstart playbook\n\nThis commit removes the custom playbook from multinode OOOQ jobs in\nfavor of the default quickstart-extras.yml playbook referenced in\nquickstart.sh.\n\nChange-Id: If9ad272cd9a1aab05529be9514aa54ad276c73dc\nDepends-On: Ifb72130b0929dcc72d7f26abaef1e520b61261bc\n'}]",0,424683,b59bc0ec94e67d579f3c97f3dd4bb18d455575d2,40,2,5,6721,,,0,"WIP: Replace multinode playbook with default quickstart playbook

This commit removes the custom playbook from multinode OOOQ jobs in
favor of the default quickstart-extras.yml playbook referenced in
quickstart.sh.

Change-Id: If9ad272cd9a1aab05529be9514aa54ad276c73dc
Depends-On: Ifb72130b0929dcc72d7f26abaef1e520b61261bc
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/83/424683/4 && git format-patch -1 --stdout FETCH_HEAD,['toci_instack_oooq_multinode.sh'],1,0247dbcf0dfae17a9c76e8cc8a733e3267bf09dc,multinode-cleanup,, --playbook multinode-playbook.yml \,0,1
openstack%2Ftripleo-quickstart~master~I6c878f7fadf10d49cec63f60dde322fc8059076d,openstack/tripleo-quickstart,master,I6c878f7fadf10d49cec63f60dde322fc8059076d,Add release config for RDO stable ocata release,ABANDONED,2017-02-15 19:51:43.000000000,2017-10-05 18:33:24.000000000,,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 13294}, {'_account_id': 16312}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-02-15 19:51:43.000000000', 'files': ['config/release/stable/ocata.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/547926c9da82bb1aaedebafa2e6cc4345959baca', 'message': 'Add release config for RDO stable ocata release\n\nChange-Id: I6c878f7fadf10d49cec63f60dde322fc8059076d\n'}]",4,434484,547926c9da82bb1aaedebafa2e6cc4345959baca,12,8,1,12715,,,0,"Add release config for RDO stable ocata release

Change-Id: I6c878f7fadf10d49cec63f60dde322fc8059076d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/84/434484/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/stable/ocata.yml'],1,547926c9da82bb1aaedebafa2e6cc4345959baca,ocata-prep,release: ocata undercloud_image_url: https://images.rdoproject.org/ocata/cbs/cloudsig-stable/stable/undercloud.qcow2 overcloud_image_url: https://images.rdoproject.org/ocata/cbs/cloudsig-stable/stable/overcloud-full.tar ipa_image_url: https://images.rdoproject.org/ocata/cbs/cloudsig-stable/stable/ironic-python-agent.tar repos: - type: package pkg_name: centos-release-openstack-ocata custom_cmd: 'sudo yum install -y --enablerepo=extras' repo_cmd_after: | sudo yum-config-manager --save --setopt centos-ceph-jewel.gpgcheck=0 sudo yum repolist; sudo yum update -y ,,14,0
openstack%2Ftripleo-ci~master~I19293cfef76384598511c9b278cdf887eaa5dc5c,openstack/tripleo-ci,master,I19293cfef76384598511c9b278cdf887eaa5dc5c,DNM testing RDO dependency updates,ABANDONED,2017-01-18 21:24:30.000000000,2017-10-05 18:33:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 12715}, {'_account_id': 16312}]","[{'number': 1, 'created': '2017-01-18 21:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2c9e1f925452f73ad698049fc05cd646da029369', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 2, 'created': '2017-01-18 21:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bad0c19905015b926161d524384a5bb1c85e8c47', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 3, 'created': '2017-01-21 00:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/30016f04fa3aa6f6ac47565994200d4f3f347c71', 'message': 'DNM testing RDO dependency updates\n\nDepends-On: Ibf59835a34f2e34212a18e2dc705a84a359b6806\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 4, 'created': '2017-02-09 13:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3787f3f81f0abacd4113f656368ec499c13d4a4f', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 5, 'created': '2017-02-09 13:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b55a211b508a32039966c188c7455a28d8af63d3', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 6, 'created': '2017-02-09 14:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5d57a652d0b6fa1001ff8a4b9c1d7dcd1056bd92', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 7, 'created': '2017-02-09 16:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a5ab427945a191092aa6ec64114f99a2024d06d6', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 8, 'created': '2017-02-09 19:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0312eeb485ceed3b55d50111900c01f8c8059658', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 9, 'created': '2017-02-09 22:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e4add9ae82ade3e412f95cfc30926dc89c3928db', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 10, 'created': '2017-02-10 01:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5758aacb0c3c560dfc18a99d087259eafaefa645', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 11, 'created': '2017-02-10 01:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8f1c2c0ab3c662e1ca8306d1df79ac6181251983', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 12, 'created': '2017-02-10 03:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1dad761ec1fad8f4f031fecd8ba7981c121dbc25', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 13, 'created': '2017-02-10 05:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5c9b3866c1d37b443e66491ff0d9624d9a344886', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 14, 'created': '2017-02-10 12:39:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b855f0f9dd895a02361c86e8ac195e5ffdba3a33', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 15, 'created': '2017-02-10 14:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8263495ccdcbbc2aacd481af09bee119bf6e32d8', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 16, 'created': '2017-02-10 15:52:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/52c1f8b1ca549d86f8b9ee337d4be93f2d4f01f7', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 17, 'created': '2017-02-14 11:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/23b4d9d9257b343ca566fb0b2f64a2e851fe07d6', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}, {'number': 18, 'created': '2017-02-14 13:02:27.000000000', 'files': ['scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1f0a8d10bb721f43e9d7544a68f616e58cbd8882', 'message': 'DNM testing RDO dependency updates\n\nChange-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c\n'}]",3,422244,1f0a8d10bb721f43e9d7544a68f616e58cbd8882,62,4,18,12715,,,0,"DNM testing RDO dependency updates

Change-Id: I19293cfef76384598511c9b278cdf887eaa5dc5c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/44/422244/11 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,2c9e1f925452f73ad698049fc05cd646da029369,test-RDO-pending," $REPO_PREFIX/delorean-deps.repo \ $REPO_PREFIX/common-pending.repo""} # Create the RDO pending repo to test dependency package updates sudo /bin/bash -c ""cat > $REPO_PREFIX/common-pending.repo << EOR [common-pending] name=common-pending baseurl=http://cbs.centos.org/repos/cloud7-openstack-common-pending/x86_64/os enabled=1 gpgcheck=0 priority=30 EOR"" "," $REPO_PREFIX/delorean-deps.repo""}",12,1
openstack%2Ftripleo-common~master~I3e74e7b284beafaedce05e43ef939e068e167fe3,openstack/tripleo-common,master,I3e74e7b284beafaedce05e43ef939e068e167fe3,Add ability to upload glance image files from yaml,ABANDONED,2016-04-22 23:40:01.000000000,2017-10-05 18:33:15.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 3098}, {'_account_id': 4328}, {'_account_id': 6159}, {'_account_id': 7065}, {'_account_id': 8532}, {'_account_id': 9712}, {'_account_id': 11105}, {'_account_id': 13039}]","[{'number': 1, 'created': '2016-04-22 23:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0840e0444bd48e141b5dc42dc63fea39a71ab826', 'message': 'Add ability to upload glance image files from yaml\n\nThis is a refactoring/continuation of uploading docker images to a local\nregistry. Now this change will allow glance images to be uploaded as\nwell. Supported parameters include everything glance client normally\nsupports, but must include imagename (glance name parameter), uploader\n(designates docker/glance), path, disk_format, and container_format.\n\nChange-Id: I3e74e7b284beafaedce05e43ef939e068e167fe3\n'}, {'number': 2, 'created': '2016-04-22 23:57:43.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c7ab5d3c384308008fd3ab9660edac86789f55fd', 'message': 'Add ability to upload glance image files from yaml\n\nThis is a refactoring/continuation of uploading docker images to a local\nregistry. Now this change will allow glance images to be uploaded as\nwell. Supported parameters include everything glance client normally\nsupports, but must include imagename (glance name parameter), uploader\n(designates docker/glance), path, disk_format, and container_format.\n\nChange-Id: I3e74e7b284beafaedce05e43ef939e068e167fe3\n'}]",8,309623,c7ab5d3c384308008fd3ab9660edac86789f55fd,21,10,2,3098,,,0,"Add ability to upload glance image files from yaml

This is a refactoring/continuation of uploading docker images to a local
registry. Now this change will allow glance images to be uploaded as
well. Supported parameters include everything glance client normally
supports, but must include imagename (glance name parameter), uploader
(designates docker/glance), path, disk_format, and container_format.

Change-Id: I3e74e7b284beafaedce05e43ef939e068e167fe3
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/309623/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,0840e0444bd48e141b5dc42dc63fea39a71ab826,,"import os def upload(self, client=None): for item_params in upload_images: uploader = ImageUploader.get_uploader(item_params) uploader.upload_image(item_params, client) def get_uploader(params): uploader = params.get('uploader') elif uploader == 'glance': return GlanceImageUploader() def upload_image(self, params, client): def upload_image(self, params, client=None): if not params.viewkeys() >= {'imagename', 'uploader', 'pull_source', 'push_destination'}: raise ImageUploaderException('Missing required docker parameters') if os.geteuid() != 0: raise ImageUploaderException('Docker operations must be run as' ' root') image_name = params.get('imagename') pull_source = params.get('pull_source') push_destination = params.get('push_destination') self.logger.info('Processing docker image: %s' % image_name) class GlanceImageUploader(ImageUploader): """"""Upload images using glance upload API"""""" logger = logging.getLogger(__name__ + '.GlanceImageUploader') def upload_image(self, params, client): if not params.viewkeys() >= {'imagename', 'path', 'disk_format', 'container_format', 'uploader'}: raise ImageUploaderException('Missing required glance parameters') params['name'] = name = params.pop('imagename') path = params.pop('path') params.pop('uploader') self.logger.info( 'Processing glance image: %s' % name) try: image = client.images.create(**params) client.images.upload(image.id, open(path, 'rb')) except Exception as e: self.logger.error('Image uploading halted on %s: %s' % (name, e)) else: self.logger.info('Completed upload for glance image %s' % name)"," def upload(self): for item in upload_images: image_name = item.get('imagename') uploader = item.get('uploader') pull_source = item.get('pull_source') push_destination = item.get('push_destination') self.logger.info('imagename: %s' % image_name) uploader = ImageUploader.get_uploader(uploader) uploader.upload_image(image_name, pull_source, push_destination) def get_uploader(uploader): def upload_image(self, image_name, pull_source, push_destination): def upload_image(self, image_name, pull_source, push_destination):",132,24
openstack%2Ftripleo-heat-templates~master~I4d6fc03488fa7ca05246ff6bda1c7b22fb02a29d,openstack/tripleo-heat-templates,master,I4d6fc03488fa7ca05246ff6bda1c7b22fb02a29d,"Make libvirt_cpu_mode configurable, default to none when using qemu",ABANDONED,2016-12-13 18:52:01.000000000,2017-10-05 18:33:10.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 9061}]","[{'number': 1, 'created': '2016-12-13 18:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f1624155b41db97d6e8393c8f1d7b91e530ac32d', 'message': ""Make libvirt_cpu_mode configurable, default to none when using qemu\n\nAn upcoming update to qemu-kvm (2.6.0) with CentOS/RHEL 7.3 can break\nexisting implementations where qemu is the configured hypervisor and\n'host-model' is used.\nAs such, make libvirt_cpu_mode configurable and give it a matching\nconfiguration of 'none' when qemu is in use.\n\nWorth noting that devstack has been setting 'none' [1] as well.\n\n[1]: https://github.com/openstack-dev/devstack/blob/1c442eebc8fe005af453bd610e750a1919a2b3ed/lib/nova_plugins/hypervisor-libvirt#L42\n\nChange-Id: I4d6fc03488fa7ca05246ff6bda1c7b22fb02a29d\n""}, {'number': 2, 'created': '2016-12-13 22:20:58.000000000', 'files': ['puppet/services/nova-libvirt.yaml', 'ci/environments/scenario004-multinode.yaml', 'ci/environments/scenario001-multinode.yaml', 'ci/environments/scenario002-multinode.yaml', 'ci/environments/scenario003-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b77cf28db7c30bf62c52cbff2a6f91c018033ac2', 'message': ""Make libvirt_cpu_mode configurable, default to none when using qemu\n\nAn upcoming update to qemu-kvm (2.6.0) with CentOS/RHEL 7.3 can break\nexisting implementations where qemu is the configured hypervisor and\n'host-model' is used.\nAs such, make libvirt_cpu_mode configurable and give it a matching\nconfiguration of 'none' when qemu is in use.\n\nWorth noting that devstack has been setting 'none' [1] as well.\n\n[1]: https://github.com/openstack-dev/devstack/blob/1c442eebc8fe005af453bd610e750a1919a2b3ed/lib/nova_plugins/hypervisor-libvirt#L42\n\nChange-Id: I4d6fc03488fa7ca05246ff6bda1c7b22fb02a29d\n""}]",1,410358,b77cf28db7c30bf62c52cbff2a6f91c018033ac2,11,4,2,9061,,,0,"Make libvirt_cpu_mode configurable, default to none when using qemu

An upcoming update to qemu-kvm (2.6.0) with CentOS/RHEL 7.3 can break
existing implementations where qemu is the configured hypervisor and
'host-model' is used.
As such, make libvirt_cpu_mode configurable and give it a matching
configuration of 'none' when qemu is in use.

Worth noting that devstack has been setting 'none' [1] as well.

[1]: https://github.com/openstack-dev/devstack/blob/1c442eebc8fe005af453bd610e750a1919a2b3ed/lib/nova_plugins/hypervisor-libvirt#L42

Change-Id: I4d6fc03488fa7ca05246ff6bda1c7b22fb02a29d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/58/410358/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-libvirt.yaml', 'ci/environments/scenario001-multinode.yaml', 'ci/environments/scenario004-multinode.yaml', 'ci/environments/scenario002-multinode.yaml', 'ci/environments/scenario003-multinode.yaml']",5,f1624155b41db97d6e8393c8f1d7b91e530ac32d,kvm-2.6, nova::compute::libvirt::libvirt_cpu_mode: none,,8,0
openstack%2Ftripleo-heat-templates~master~Ia8f94c66d30c13040e3847f64970b0482b3a5d79,openstack/tripleo-heat-templates,master,Ia8f94c66d30c13040e3847f64970b0482b3a5d79,Add new HAProxyDefaultTimeout option,ABANDONED,2017-01-12 11:48:00.000000000,2017-10-05 18:33:07.000000000,,"[{'_account_id': 3}, {'_account_id': 7144}]","[{'number': 1, 'created': '2017-01-12 11:48:00.000000000', 'files': ['puppet/services/haproxy.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ced924e07fe79a2b4a83a8a2ec1bd02eb172e39', 'message': ""Add new HAProxyDefaultTimeout option\n\nHAProxyDefaultTimeout allows to provide timeouts' values in default\nsection of haproxy.cfg. Also it will overwrite default values specified\nin puppet-tripleo puppet module.\n\nChange-Id: Ia8f94c66d30c13040e3847f64970b0482b3a5d79\n""}]",1,419433,0ced924e07fe79a2b4a83a8a2ec1bd02eb172e39,5,2,1,11444,,,0,"Add new HAProxyDefaultTimeout option

HAProxyDefaultTimeout allows to provide timeouts' values in default
section of haproxy.cfg. Also it will overwrite default values specified
in puppet-tripleo puppet module.

Change-Id: Ia8f94c66d30c13040e3847f64970b0482b3a5d79
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/33/419433/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/haproxy.yaml'],1,0ced924e07fe79a2b4a83a8a2ec1bd02eb172e39,feature/haproxy_default_timeout," HAProxyDefaultTimeout: type: comma_delimited_list description: > ""HAProxy default timeouts passed as list of strings: [ 'http-request 10s', 'queue 2m', 'connect 10s', 'client 2m', 'server 2m', 'check 10s' ]"" tripleo::haproxy::haproxy_default_timeout: {get_param: HAProxyDefaultTimeout}",,7,0
openstack%2Finstack-undercloud~master~I3996c59fb54da25bdea1005734f846a482c0cd43,openstack/instack-undercloud,master,I3996c59fb54da25bdea1005734f846a482c0cd43,Ironic: Remove dnsmasq-ironic.conf,ABANDONED,2016-08-11 13:23:18.000000000,2017-10-05 18:33:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 3153}, {'_account_id': 6773}, {'_account_id': 7144}, {'_account_id': 7229}, {'_account_id': 10239}, {'_account_id': 18893}]","[{'number': 1, 'created': '2016-08-11 13:23:18.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/f97a5e2a8b98574c2a63fc5fced5687e793ef251', 'message': 'Ironic: Remove dnsmasq-ironic.conf\n\nThis patch is removing the dnsmasq-ironic.conf configuration\nfile. This file was solely used to create a tag named ""ipxe""\nin neutron that would match the DHCP option 175. With the commit\n6669ee9af6bd635ae7efbc2f02e10914549ef708 in Neutron this tag is created\nby default.\n\nChange-Id: I3996c59fb54da25bdea1005734f846a482c0cd43\n'}]",0,354068,f97a5e2a8b98574c2a63fc5fced5687e793ef251,22,8,1,6773,,,0,"Ironic: Remove dnsmasq-ironic.conf

This patch is removing the dnsmasq-ironic.conf configuration
file. This file was solely used to create a tag named ""ipxe""
in neutron that would match the DHCP option 175. With the commit
6669ee9af6bd635ae7efbc2f02e10914549ef708 in Neutron this tag is created
by default.

Change-Id: I3996c59fb54da25bdea1005734f846a482c0cd43
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/68/354068/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.pp'],1,f97a5e2a8b98574c2a63fc5fced5687e793ef251,rm-dnsmasq-ironic,include ::neutron::agents::dhcp," # NOTE(lucasagomes): This bit might be superseded by # https://review.openstack.org/#/c/172040/ file { 'dnsmasq-ironic.conf': ensure => present, path => '/etc/dnsmasq-ironic.conf', owner => 'ironic', group => 'ironic', mode => '0644', replace => false, content => 'dhcp-match=ipxe,175'; } Package['openstack-ironic-common'] -> File['dnsmasq-ironic.conf'] class { '::neutron::agents::dhcp': dnsmasq_config_file => '/etc/dnsmasq-ironic.conf', }",1,17
openstack%2Ftripleo-heat-templates~master~I388e303339bea6f4022b3a0a87303496f47f2067,openstack/tripleo-heat-templates,master,I388e303339bea6f4022b3a0a87303496f47f2067,Add pacemaker services for composable upgrade scenario,ABANDONED,2017-02-06 10:22:17.000000000,2017-10-05 18:33:00.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-02-06 10:22:17.000000000', 'files': ['ci/environments/multinode_major_upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/53b29b2704c4b344be1b309839355fc73321cd9e', 'message': 'Add pacemaker services for composable upgrade scenario\n\nUpdate CI scenario for composable upgrade to add pacemaker services\nin order to test this change:\nhttps://review.openstack.org/403397\n\nChange-Id: I388e303339bea6f4022b3a0a87303496f47f2067\n'}]",0,429630,53b29b2704c4b344be1b309839355fc73321cd9e,5,1,1,16515,,,0,"Add pacemaker services for composable upgrade scenario

Update CI scenario for composable upgrade to add pacemaker services
in order to test this change:
https://review.openstack.org/403397

Change-Id: I388e303339bea6f4022b3a0a87303496f47f2067
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/30/429630/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/multinode_major_upgrade.yaml'],1,53b29b2704c4b344be1b309839355fc73321cd9e,ci/scenario/upgrade, - OS::TripleO::Services::Pacemaker - OS::TripleO::Services::Redis ,,3,0
openstack%2Ftripleo-ci~master~Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0,openstack/tripleo-ci,master,Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0,Allow to use an RDO review to fix a packaging issue,ABANDONED,2016-10-19 16:20:22.000000000,2017-10-05 18:32:57.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1955}, {'_account_id': 3153}, {'_account_id': 6645}, {'_account_id': 9061}, {'_account_id': 12715}, {'_account_id': 13039}]","[{'number': 1, 'created': '2016-10-19 16:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bc3439efe91e0b2f9b08a315d9dcf5279449d732', 'message': 'Allow to use an RDO review to fix a packaging issue\n\nAn RDO changeset can carry an Upstream-Id metadata. When this\nhappens, we use this changeset to build the corresponding\npackages with the correct fixes.\n\nDetails about how it works in RDO at https://review.rdoproject.org/r/#/c/3356/ .\n\nChange-Id: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0\n'}, {'number': 2, 'created': '2016-10-19 21:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0fc88bea440c31dd83e754299641729e9fbaa317', 'message': 'Allow to use an RDO review to fix a packaging issue\n\nAn RDO changeset can carry an Upstream-Id metadata. When this\nhappens, we use this changeset to build the corresponding\npackages with the correct fixes.\n\nDetails about how it works in RDO at https://review.rdoproject.org/r/#/c/3356/ .\n\nChange-Id: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0\n'}, {'number': 3, 'created': '2016-12-20 10:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a58805e2d930ce1aac637e18687f4f4e2eb6bb3e', 'message': 'Allow to use an RDO review to fix a packaging issue\n\nAn RDO changeset can carry an Upstream-Id metadata. When this\nhappens, we use this changeset to build the corresponding\npackages with the correct fixes.\n\nDetails about how it works in RDO at https://review.rdoproject.org/r/#/c/3356/ .\n\nChange-Id: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0\n'}, {'number': 4, 'created': '2017-01-20 17:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1d8125b1f5e0bf9abdce3219525639dcc1d7b4ee', 'message': 'Allow to use an RDO review to fix a packaging issue\n\nAn RDO changeset can carry an Upstream-Id metadata. When this\nhappens, we use this changeset to build the corresponding\npackages with the correct fixes.\n\nDetails about how it works in RDO at https://review.rdoproject.org/r/#/c/3356/ .\n\nChange-Id: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0\nCo-Authored-By: Martin Andr <m.andre@redhat.com>\n'}, {'number': 5, 'created': '2017-01-20 19:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/220c016ed31a39fb1685eb11550457e4956899a2', 'message': 'Allow to use an RDO review to fix a packaging issue\n\nAn RDO changeset can carry an Upstream-Id metadata. When this\nhappens, we use this changeset to build the corresponding\npackages with the correct fixes.\n\nDetails about how it works in RDO at https://review.rdoproject.org/r/#/c/3356/ .\n\nChange-Id: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0\nCo-Authored-By: Martin Andr <m.andre@redhat.com>\n'}, {'number': 6, 'created': '2017-01-20 19:53:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8b30607143122e57a6fd35fb3f3dabc5ea71608c', 'message': 'Allow to use an RDO review to fix a packaging issue\n\nAn RDO changeset can carry an Upstream-Id metadata. When this\nhappens, we use this changeset to build the corresponding\npackages with the correct fixes.\n\nDetails about how it works in RDO at https://review.rdoproject.org/r/#/c/3356/ .\n\nChange-Id: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0\nCo-Authored-By: Martin Andr <m.andre@redhat.com>\n'}, {'number': 7, 'created': '2017-01-21 09:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6236704cdf88a82eaf362dd9776e72ae3208cbc5', 'message': 'Allow to use an RDO review to fix a packaging issue\n\nAn RDO changeset can carry an Upstream-Id metadata. When this\nhappens, we use this changeset to build the corresponding\npackages with the correct fixes.\n\nDetails about how it works in RDO at https://review.rdoproject.org/r/#/c/3356/ .\n\nChange-Id: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0\nCo-Authored-By: Martin Andr <m.andre@redhat.com>\n'}, {'number': 8, 'created': '2017-01-21 10:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cc46882f9c49c0c757bea56b8eefe96f5c4a22f2', 'message': 'Allow to use an RDO review to fix a packaging issue\n\nAn RDO changeset can carry an Upstream-Id metadata. When this\nhappens, we use this changeset to build the corresponding\npackages with the correct fixes.\n\nDetails about how it works in RDO at https://review.rdoproject.org/r/#/c/3356/ .\n\nChange-Id: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0\nCo-Authored-By: Martin Andr <m.andre@redhat.com>\n'}, {'number': 9, 'created': '2017-01-25 15:08:41.000000000', 'files': ['scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1e31b0e33a396cb91c3fbf220ea85d72191b11c9', 'message': 'Allow to use an RDO review to fix a packaging issue\n\nAn RDO changeset can carry an Upstream-Id metadata. When this\nhappens, we use this changeset to build the corresponding\npackages with the correct fixes.\n\nDetails about how it works in RDO at https://review.rdoproject.org/r/#/c/3356/ .\n\nChange-Id: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0\nCo-Authored-By: Martin Andr <m.andre@redhat.com>\n'}]",6,388791,1e31b0e33a396cb91c3fbf220ea85d72191b11c9,48,8,9,6645,,,0,"Allow to use an RDO review to fix a packaging issue

An RDO changeset can carry an Upstream-Id metadata. When this
happens, we use this changeset to build the corresponding
packages with the correct fixes.

Details about how it works in RDO at https://review.rdoproject.org/r/#/c/3356/ .

Change-Id: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0
Co-Authored-By: Martin Andr <m.andre@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/91/388791/4 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,bc3439efe91e0b2f9b08a315d9dcf5279449d732,upstream-id," CHANGE_ID=$(git log -1|sed -ne 's/\s*Change-Id: //p') git log -1 DELOREANCMD=""./venv/bin/dlrn --config-file projects.ini --head-only --package-name $MAPPED_PROJ --local --use-public --build-env http_proxy=${http_proxy:-} --info-repo rdoinfo"" if [ -n ""$CHANGE_ID"" ]; then # Lookup the RDO review Change-Id for this particular Change-Id RDO_ID=$(./scripts/get_rdo_review.py openstack/$MAPPED_PROJ $CHANGE_ID) if [ -n ""$RDO_ID"" ]; then # Extract the distgit repo using dlrn $DELOREANCMD --run /bin/true # We cannot run git review -d because we don't have an # available account. So we do the same using curl and git. JSON=$(curl -s -L https://review.openstack.org/changes/$UPSTREAM_ID/revisions/current/review|sed 1d) COMMIT=$(python -c 'import json;import sys; s = json.loads(sys.stdin.read(-1)); print s[""revisions""].keys()[0]' <<< $JSON) REF=$(python -c ""import json;import sys; s = json.loads(sys.stdin.read(-1)); print s['revisions']['$COMMIT']['ref']"" <<< $JSON) pushd data/${MAPPED_PROJ}-distgit if [ -n ""$REF"" -a ""$REF"" != null ]; then git fetch ""https://review.rdoproject.org/r/openstack/${MAPPED_PROJ}-distgit"" $REF git checkout FETCH_HEAD fi git log -1 popd fi fi "," DELOREANCMD=""./venv/bin/dlrn --config-file projects.ini --head-only --package-name $MAPPED_PROJ --local --use-public --build-env http_proxy=${http_proxy:-} --info-repo rdoinfo""",28,1
openstack%2Ftripleo-heat-templates~master~Ia65d49894fc36042b81cde07706a5806a0aa8499,openstack/tripleo-heat-templates,master,Ia65d49894fc36042b81cde07706a5806a0aa8499,Add missing upgrade step for pacemaker controlled resources.,ABANDONED,2017-02-28 18:34:51.000000000,2017-10-05 18:32:52.000000000,,"[{'_account_id': 3}, {'_account_id': 8297}]","[{'number': 1, 'created': '2017-02-28 18:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c7f4f5fed4483dfe65ab7cf3a189c8286634be66', 'message': 'Add missing upgrade step for pacemaker controlled resources.\n\nWhen using pacemaker the upgrade steps in the non pacemaker resource\nwon\'t be evaluated.\n\nThat means that check0 won\'t happen for those services, but as we check\npacemaker I don\'t think this is required for the service themself.\n\nHere I\'m copying the missing relevant steps from non pacemaker upgrade\nto pacemaker.  It looks like only mysql need ""backport"".\n\nChange-Id: Ia65d49894fc36042b81cde07706a5806a0aa8499\n'}, {'number': 2, 'created': '2017-03-01 17:46:45.000000000', 'files': ['puppet/services/pacemaker/database/mysql.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3e99d4551d567910c8f63fb2274d9c85fd1ba780', 'message': 'Add missing upgrade step for pacemaker controlled resources.\n\nWhen using pacemaker the upgrade steps in the non pacemaker resource\nwon\'t be evaluated.\n\nThat means that check0 won\'t happen for those services, but as we check\npacemaker I don\'t think this is required for the service themself.\n\nHere I\'m copying the missing relevant steps from non pacemaker upgrade\nto pacemaker.  It looks like only mysql need ""backport"".\n\nChange-Id: Ia65d49894fc36042b81cde07706a5806a0aa8499\n'}]",0,439095,3e99d4551d567910c8f63fb2274d9c85fd1ba780,10,2,2,8297,,,0,"Add missing upgrade step for pacemaker controlled resources.

When using pacemaker the upgrade steps in the non pacemaker resource
won't be evaluated.

That means that check0 won't happen for those services, but as we check
pacemaker I don't think this is required for the service themself.

Here I'm copying the missing relevant steps from non pacemaker upgrade
to pacemaker.  It looks like only mysql need ""backport"".

Change-Id: Ia65d49894fc36042b81cde07706a5806a0aa8499
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/439095/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/pacemaker/database/mysql.yaml'],1,c7f4f5fed4483dfe65ab7cf3a189c8286634be66,bp/overcloud-upgrades-per-service," - name: Setup cell_v2 (create cell0 database) tags: step4 mysql_db: name: nova_cell0 state: present - name: Setup cell_v2 (grant access to the nova DB user) tags: step4 mysql_user: str_replace: template: ""name=nova password=PASSWORD host=\""%\"" priv=\""nova.*:ALL/nova_cell0.*:ALL,GRANT\"" state=present"" params: PASSWORD: {get_param: NovaPassword}",,12,0
openstack%2Ftripleo-quickstart~master~I8e841327aaa259d9d2aac18a405d1f1ddc7a5fa2,openstack/tripleo-quickstart,master,I8e841327aaa259d9d2aac18a405d1f1ddc7a5fa2,Add Ceph to ha_big config,ABANDONED,2016-12-05 00:27:11.000000000,2017-10-05 18:32:49.000000000,,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-12-05 00:27:11.000000000', 'files': ['config/general_config/ha_big.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d57963c280963cb666d6da478b5bf68ac9364776', 'message': ""Add Ceph to ha_big config\n\nWhen multiple controllers are deployed, we should not use the LVM\nbackend for Cinder as volumes won't be available should one of the\ncontroller nodes go down. This change adds three cephstorage\nnodes to the ha_big general config.\n\nChange-Id: I8e841327aaa259d9d2aac18a405d1f1ddc7a5fa2\n""}]",1,406646,d57963c280963cb666d6da478b5bf68ac9364776,16,7,1,6796,,,0,"Add Ceph to ha_big config

When multiple controllers are deployed, we should not use the LVM
backend for Cinder as volumes won't be available should one of the
controller nodes go down. This change adds three cephstorage
nodes to the ha_big general config.

Change-Id: I8e841327aaa259d9d2aac18a405d1f1ddc7a5fa2
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/46/406646/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/ha_big.yml'],1,d57963c280963cb666d6da478b5bf68ac9364776,ceph, - name: ceph_0 flavor: ceph - name: ceph_1 flavor: ceph - name: ceph_2 flavor: ceph --ceph-storage-scale 3 -e {{overcloud_templates_path}}/environments/storage-environment.yaml,,8,0
openstack%2Ftripleo-ci~master~I8040f90e5cea28bf8d989f27f156b2f5f1a1f98c,openstack/tripleo-ci,master,I8040f90e5cea28bf8d989f27f156b2f5f1a1f98c,Enable Ceph in multinode upgrades job,ABANDONED,2017-02-16 12:06:14.000000000,2017-10-05 18:32:45.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6928}, {'_account_id': 16515}]","[{'number': 1, 'created': '2017-02-16 12:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1515590796a78397a5948d533567ffaaf84c1091', 'message': 'Enable Ceph in multinode upgrades job (via HCI).\n\nThis will enable use of Ceph in the multinode upgrade job via HCI,\nwhich requires an additional test-environments to disable use of\nStorageMgmt network on the ""compute"" role.\n\nChange-Id: I8040f90e5cea28bf8d989f27f156b2f5f1a1f98c\n'}, {'number': 2, 'created': '2017-02-16 13:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2a0d2c41f64c28242036561d35254c11eb3191ff', 'message': 'Enable Ceph in multinode upgrades job (via HCI).\n\nThis will enable use of Ceph in the multinode upgrade job via HCI,\nwhich requires an additional test-environments to disable use of\nStorageMgmt network on the ""compute"" role.\n\nChange-Id: I8040f90e5cea28bf8d989f27f156b2f5f1a1f98c\n'}, {'number': 3, 'created': '2017-02-16 15:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a2b81457328e83a6d9bc504aa7e472ca4770f5a1', 'message': 'Enable Ceph in multinode upgrades job (via HCI).\n\nThis will enable use of Ceph in the multinode upgrade job via HCI,\nwhich requires an additional test-environments to disable use of\nStorageMgmt network on the ""compute"" role.\n\nChange-Id: I8040f90e5cea28bf8d989f27f156b2f5f1a1f98c\n'}, {'number': 4, 'created': '2017-02-16 15:52:22.000000000', 'files': ['toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b2a87878940d34190497a85cd0777b67da66504c', 'message': 'Enable Ceph in multinode upgrades job\n\nThis will enable use of Ceph in the multinode upgrade job via HCI\n\nChange-Id: I8040f90e5cea28bf8d989f27f156b2f5f1a1f98c\nDepends-On: I73ee5380b88bf7643ba425a0c833922e330ecade\n'}]",3,434855,b2a87878940d34190497a85cd0777b67da66504c,19,6,4,6796,,,0,"Enable Ceph in multinode upgrades job

This will enable use of Ceph in the multinode upgrade job via HCI

Change-Id: I8040f90e5cea28bf8d989f27f156b2f5f1a1f98c
Depends-On: I73ee5380b88bf7643ba425a0c833922e330ecade
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/55/434855/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-environments/hyperconverged-no-storagemgmt.yaml', 'toci_gate_test.sh']",2,1515590796a78397a5948d533567ffaaf84c1091,ceph_upgrades," OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS --libvirt-type=qemu -t $OVERCLOUD_DEPLOY_TIMEOUT -r $TRIPLEO_ROOT/tripleo-ci/test-environments/upgrade_roles_data.yaml --overcloud-ssh-user $OVERCLOUD_SSH_USER --validation-errors-nonfatal -e /usr/share/openstack-tripleo-heat-templates/ci/environments/storage-environment.yaml -e /usr/share/openstack-tripleo-heat-templates/ci/environments/hyperconverged-ceph.yaml -e $TRIPLEO_ROOT/tripleo-ci/test-environments/hyperconverged-no-storagemgmt.yaml"""," OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS --libvirt-type=qemu -t $OVERCLOUD_DEPLOY_TIMEOUT -r $TRIPLEO_ROOT/tripleo-ci/test-environments/upgrade_roles_data.yaml --overcloud-ssh-user $OVERCLOUD_SSH_USER --validation-errors-nonfatal""",3,1
openstack%2Ftripleo-heat-templates~master~I4bca5ab67c2e78078771d0ffb4a3d174d43850e3,openstack/tripleo-heat-templates,master,I4bca5ab67c2e78078771d0ffb4a3d174d43850e3,Skip stopping neutron cleanup on upgrade,ABANDONED,2017-01-27 16:40:35.000000000,2017-10-05 18:32:41.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 8788}, {'_account_id': 20172}]","[{'number': 1, 'created': '2017-01-27 16:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7cc0ebccf57a441adc0df2e8de7300a1d34cfb52', 'message': 'WIP: Skip stopping neutron cleanup on upgrade\n\nThe ovs and netns cleanup services wipe out network connectivity so we\nshould leave these alone on upgrade.\n\nNote: this is partly a converstation starter/part serious patch. The\nissue is pretty huge!\n\nChange-Id: I4bca5ab67c2e78078771d0ffb4a3d174d43850e3\n'}, {'number': 2, 'created': '2017-03-14 16:30:37.000000000', 'files': ['extraconfig/tasks/major_upgrade_pacemaker_migrations.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d6c8de6070499525544698de0f741e70dffa6c0', 'message': 'Skip stopping neutron cleanup on upgrade\n\nThe ovs and netns cleanup services wipe out network connectivity so we\nshould leave these alone on upgrade.\n\nNote: this is partly a converstation starter/part serious patch. The\nissue is pretty huge!\n\nChange-Id: I4bca5ab67c2e78078771d0ffb4a3d174d43850e3\n'}]",2,426299,1d6c8de6070499525544698de0f741e70dffa6c0,17,7,2,6681,,,0,"Skip stopping neutron cleanup on upgrade

The ovs and netns cleanup services wipe out network connectivity so we
should leave these alone on upgrade.

Note: this is partly a converstation starter/part serious patch. The
issue is pretty huge!

Change-Id: I4bca5ab67c2e78078771d0ffb4a3d174d43850e3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/426299/2 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/major_upgrade_pacemaker_migrations.sh'],1,7cc0ebccf57a441adc0df2e8de7300a1d34cfb52,," # service was down already case $resource in neutron-ovs-cleanup-clone|neutron-netns-cleanup-clone): # Stopping these services will break the # dataplane on upgrade. ;; *) if ! pcs resource disable ""$resource"" --wait=600; then echo_error ""ERROR: resource $resource failed to be disabled"" exit 1 fi ;; esac"," # service was down already if ! pcs resource disable ""$resource"" --wait=600; then echo_error ""ERROR: resource $resource failed to be disabled"" exit 1 fi",13,5
openstack%2Ftripleo-quickstart~master~I0410d9c64504233e6eb999d6ac8ab4659490f3e5,openstack/tripleo-quickstart,master,I0410d9c64504233e6eb999d6ac8ab4659490f3e5,Add customization option to convert_image script,ABANDONED,2017-03-14 09:55:59.000000000,2017-10-05 18:32:38.000000000,,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-03-14 09:55:59.000000000', 'files': ['roles/convert-image/templates/convert_image.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/154f0df96420507c8ec18fc16465a44ef264088a', 'message': 'Add customization option to convert_image script\n\nThis makes it possible to execute commands before actually executing the\ndefaults in convert_image.sh. Depending on the used images, this might\nbe useful to enable or disable additional repos, remove packages and the\nlike.\n\nChange-Id: I0410d9c64504233e6eb999d6ac8ab4659490f3e5\n'}]",0,445389,154f0df96420507c8ec18fc16465a44ef264088a,6,5,1,6968,,,0,"Add customization option to convert_image script

This makes it possible to execute commands before actually executing the
defaults in convert_image.sh. Depending on the used images, this might
be useful to enable or disable additional repos, remove packages and the
like.

Change-Id: I0410d9c64504233e6eb999d6ac8ab4659490f3e5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/89/445389/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/convert-image/templates/convert_image.sh.j2'],1,154f0df96420507c8ec18fc16465a44ef264088a,customize-image-convert,{{ convert_image_before|default('') }} ,,2,0
openstack%2Fpuppet-tripleo~master~I181b61aa3e2d89ed31fd45e63eef1afaf8525de5,openstack/puppet-tripleo,master,I181b61aa3e2d89ed31fd45e63eef1afaf8525de5,DNM testing scenario gates,ABANDONED,2017-03-15 14:11:27.000000000,2017-10-05 18:32:34.000000000,,"[{'_account_id': 3}, {'_account_id': 12715}]","[{'number': 1, 'created': '2017-03-15 14:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/eeab247810f1ebbcf956e6b4b9dbe8f32c43079b', 'message': 'DNM testing scenario gates\n\nChange-Id: I181b61aa3e2d89ed31fd45e63eef1afaf8525de5\n'}, {'number': 2, 'created': '2017-03-16 18:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dc2d2533281d7cb668d16a5e725be1d1da34f4c4', 'message': 'DNM testing scenario gates\n\nChange-Id: I181b61aa3e2d89ed31fd45e63eef1afaf8525de5\n'}, {'number': 3, 'created': '2017-03-17 13:52:18.000000000', 'files': ['manifests/haproxy/not_a_real_file.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a612ee4a9e4b161463b7dc9a046e018bdfab4350', 'message': 'DNM testing scenario gates\n\nChange-Id: I181b61aa3e2d89ed31fd45e63eef1afaf8525de5\n'}]",0,445977,a612ee4a9e4b161463b7dc9a046e018bdfab4350,13,2,3,12715,,,0,"DNM testing scenario gates

Change-Id: I181b61aa3e2d89ed31fd45e63eef1afaf8525de5
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/77/445977/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy/not_a_real_file.pp'],1,eeab247810f1ebbcf956e6b4b9dbe8f32c43079b,gate_check,,,0,0
openstack%2Ftripleo-heat-templates~master~I0d6717a8d2dad28786af82378d2ecdd2975fbbc4,openstack/tripleo-heat-templates,master,I0d6717a8d2dad28786af82378d2ecdd2975fbbc4,WIP DO NOT MERGE Move rabbitmq behind haproxy,ABANDONED,2016-10-23 17:27:24.000000000,2017-10-05 18:32:30.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-10-23 17:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a842aadad334483e40b87998d7cee9ec6ad4b250', 'message': 'WIP DO NOT MERGE Move rabbitmq behind haproxy\n\nCurrently all services hardcode rabbitmq hosts and access them\ndirectly. It is the only service which we access directly.\nMake the architecture more consistent and access rabbit via a VIP\non haproxy as well.\n\nWIP because this will require a lot of testing. Especially around\nconnections to rabbit generated from the same host where the VIP is\nrunning (which currently has an issue that when the VIP modes to another\nnode, the existing connections take ages to realize the VIP is gone)\n\nChange-Id: I0d6717a8d2dad28786af82378d2ecdd2975fbbc4\n'}, {'number': 2, 'created': '2017-02-21 21:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee8e6b329b2965b9e03fd11007ab7c2c2fbd01fa', 'message': 'WIP DO NOT MERGE Move rabbitmq behind haproxy\n\nCurrently all services hardcode rabbitmq hosts and access them\ndirectly. It is the only service which we access directly.\nMake the architecture more consistent and access rabbit via a VIP\non haproxy as well.\n\nWIP because this will require a lot of testing. Especially around\nconnections to rabbit generated from the same host where the VIP is\nrunning (which currently has an issue that when the VIP modes to another\nnode, the existing connections take ages to realize the VIP is gone)\n\nChange-Id: I0d6717a8d2dad28786af82378d2ecdd2975fbbc4\n'}, {'number': 3, 'created': '2017-03-24 08:18:11.000000000', 'files': ['network/endpoints/endpoint_map.yaml', 'network/endpoints/endpoint_data.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d8d7309f65ac6956a3dec5ce1a2c875d2be5e7a4', 'message': 'WIP DO NOT MERGE Move rabbitmq behind haproxy\n\nCurrently all services hardcode rabbitmq hosts and access them\ndirectly. It is the only service which we access directly.\nMake the architecture more consistent and access rabbit via a VIP\non haproxy as well.\n\nWIP because this will require a lot of testing. Especially around\nconnections to rabbit generated from the same host where the VIP is\nrunning (which currently has an issue that when the VIP modes to another\nnode, the existing connections take ages to realize the VIP is gone)\n\nAlso note that CI here is likely to fail. What we need to triple-check\nis the related puppet-tripleo patch.\n\nChange-Id: I0d6717a8d2dad28786af82378d2ecdd2975fbbc4\n'}]",0,390114,d8d7309f65ac6956a3dec5ce1a2c875d2be5e7a4,11,1,3,20172,,,0,"WIP DO NOT MERGE Move rabbitmq behind haproxy

Currently all services hardcode rabbitmq hosts and access them
directly. It is the only service which we access directly.
Make the architecture more consistent and access rabbit via a VIP
on haproxy as well.

WIP because this will require a lot of testing. Especially around
connections to rabbit generated from the same host where the VIP is
running (which currently has an issue that when the VIP modes to another
node, the existing connections take ages to realize the VIP is gone)

Also note that CI here is likely to fail. What we need to triple-check
is the related puppet-tripleo patch.

Change-Id: I0d6717a8d2dad28786af82378d2ecdd2975fbbc4
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/390114/3 && git format-patch -1 --stdout FETCH_HEAD,"['network/endpoints/endpoint_map.yaml', 'network/endpoints/endpoint_data.yaml']",2,a842aadad334483e40b87998d7cee9ec6ad4b250,rabbit-behind-haproxy, RabbitMQ: Internal: net_param: RabbitMQ port: 5672,,87,0
openstack%2Ftripleo-quickstart~master~I9a78a05129cc8733e3e61d676beda11c31b4a806,openstack/tripleo-quickstart,master,I9a78a05129cc8733e3e61d676beda11c31b4a806,Change image links on ci.centos to use rdo_trunk path,ABANDONED,2017-03-17 16:33:21.000000000,2017-10-05 18:32:22.000000000,,"[{'_account_id': 3}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 21686}]","[{'number': 1, 'created': '2017-03-17 16:33:21.000000000', 'files': ['config/release/centosci/newton-consistent.yml', 'config/release/centosci/newton.yml', 'config/release/master.yml', 'config/release/centosci/master-consistent.yml', 'config/release/centosci/mitaka.yml', 'config/release/centosci/master.yml', 'config/release/centosci/mitaka-consistent.yml', 'config/release/trunk/newton.yml', 'config/release/trunk/mitaka.yml', 'config/release/centosci/master-current-tripleo.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/7177ad60179c87355d87dbed45774a8d4507cfc8', 'message': 'Change image links on ci.centos to use rdo_trunk path\n\nSince Ocata, the images are using a rdo_trunk path rather than\ndelorean. To keep the images paths consistent, we are moving all\nimages to the same path structure.\n\nChange-Id: I9a78a05129cc8733e3e61d676beda11c31b4a806\n'}]",0,447056,7177ad60179c87355d87dbed45774a8d4507cfc8,8,4,1,9976,,,0,"Change image links on ci.centos to use rdo_trunk path

Since Ocata, the images are using a rdo_trunk path rather than
delorean. To keep the images paths consistent, we are moving all
images to the same path structure.

Change-Id: I9a78a05129cc8733e3e61d676beda11c31b4a806
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/56/447056/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/centosci/newton-consistent.yml', 'config/release/centosci/newton.yml', 'config/release/centosci/master-consistent.yml', 'config/release/master.yml', 'config/release/centosci/mitaka.yml', 'config/release/centosci/master.yml', 'config/release/centosci/mitaka-consistent.yml', 'config/release/trunk/mitaka.yml', 'config/release/trunk/newton.yml', 'config/release/centosci/master-current-tripleo.yml']",10,7177ad60179c87355d87dbed45774a8d4507cfc8,move-images-rdo-trunk,undercloud_image_url: http://artifacts.ci.centos.org/artifacts/rdo/images/master/rdo_trunk/current-tripleo/testing/undercloud.qcow2 overcloud_image_url: http://artifacts.ci.centos.org/artifacts/rdo/images/master/rdo_trunk/current-tripleo/testing/overcloud-full.tar ipa_image_url: http://artifacts.ci.centos.org/artifacts/rdo/images/master/rdo_trunk/current-tripleo/testing/ironic-python-agent.tar,undercloud_image_url: http://artifacts.ci.centos.org/artifacts/rdo/images/master/delorean/current-tripleo/testing/undercloud.qcow2 overcloud_image_url: http://artifacts.ci.centos.org/artifacts/rdo/images/master/delorean/current-tripleo/testing/overcloud-full.tar ipa_image_url: http://artifacts.ci.centos.org/artifacts/rdo/images/master/delorean/current-tripleo/testing/ironic-python-agent.tar,30,30
openstack%2Ftripleo-quickstart~master~I93723949f75f987c1820c2320ea302a5717844e6,openstack/tripleo-quickstart,master,I93723949f75f987c1820c2320ea302a5717844e6,derive overcloud_public_vip and overcloud_public_vip6,ABANDONED,2017-03-04 04:43:31.000000000,2017-10-05 18:32:18.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 11491}, {'_account_id': 11589}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-03-04 04:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d2702782f5a3dc19ba9a0084e6e8d587b2181ad1', 'message': ""derive overcloud_public_vip and overcloud_public_vip6\n\nDeriving these values using ansible's nthhost filter means that the\ndeployer need only change undercloud_external_network_cidr (or\nundercloud_external_network_cidr6) and the default value of\novercloud_public_vip and overcloud_public_vip6 will adjust\naccordingly.\n\nChange-Id: I93723949f75f987c1820c2320ea302a5717844e6\n""}, {'number': 2, 'created': '2017-03-04 12:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b279e405ae7ca64a4c132fffbf9a52ce5c15b864', 'message': ""derive overcloud_public_vip and overcloud_public_vip6\n\nDeriving these values using ansible's nthhost filter means that the\ndeployer need only change undercloud_external_network_cidr (or\nundercloud_external_network_cidr6) and the default value of\novercloud_public_vip and overcloud_public_vip6 will adjust\naccordingly.\n\nChange-Id: I93723949f75f987c1820c2320ea302a5717844e6\n""}, {'number': 3, 'created': '2017-03-04 18:01:27.000000000', 'files': ['roles/common/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/6523003b11eee295c8929eaea497601faf9081bb', 'message': ""derive overcloud_public_vip and overcloud_public_vip6\n\nDeriving these values using ansible's nthhost filter means that the\ndeployer need only change undercloud_external_network_cidr (or\nundercloud_external_network_cidr6) and the default value of\novercloud_public_vip and overcloud_public_vip6 will adjust\naccordingly.\n\nChange-Id: I93723949f75f987c1820c2320ea302a5717844e6\n""}]",0,441563,6523003b11eee295c8929eaea497601faf9081bb,17,5,3,8745,,,0,"derive overcloud_public_vip and overcloud_public_vip6

Deriving these values using ansible's nthhost filter means that the
deployer need only change undercloud_external_network_cidr (or
undercloud_external_network_cidr6) and the default value of
overcloud_public_vip and overcloud_public_vip6 will adjust
accordingly.

Change-Id: I93723949f75f987c1820c2320ea302a5717844e6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/63/441563/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/common/defaults/main.yml'],1,d2702782f5a3dc19ba9a0084e6e8d587b2181ad1,feature/zombie-lars-arises,"overcloud_public_vip: ""{{ undercloud_external_network_cidr|nthhost(5) }}"" overcloud_public_vip6: ""{{ undercloud_external_network_cidr6|nthhost(5) }}""",overcloud_public_vip: 10.0.0.5 overcloud_public_vip6: 2001:db8:fd00:1000::14,2,2
openstack%2Ftripleo-quickstart~master~Ic6f9123c23cf0710a396df207f5175fead935bff,openstack/tripleo-quickstart,master,Ic6f9123c23cf0710a396df207f5175fead935bff,yaml cleanup and formatting,ABANDONED,2017-03-04 04:43:31.000000000,2017-10-05 18:32:15.000000000,,"[{'_account_id': 3}, {'_account_id': 6926}, {'_account_id': 11491}, {'_account_id': 11589}, {'_account_id': 18846}]","[{'number': 1, 'created': '2017-03-04 04:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/52cedaaf25404a04c8acf08e71e96972c4e816f6', 'message': 'yaml cleanup and formatting\n\nthere was some legacy ansible syntax in the environment/setup role.\nthis change introduces modern YAML syntax and shorter lines but does\nnot make any behavioral changes.\n\nChange-Id: Ic6f9123c23cf0710a396df207f5175fead935bff\n'}, {'number': 2, 'created': '2017-03-04 12:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/39bc0d2ae9449cef9f10fb55bb54d269a102f92c', 'message': 'yaml cleanup and formatting\n\nthere was some legacy ansible syntax in the environment/setup role.\nthis change introduces modern YAML syntax and shorter lines but does\nnot make any behavioral changes.\n\nChange-Id: Ic6f9123c23cf0710a396df207f5175fead935bff\n'}, {'number': 3, 'created': '2017-03-04 18:01:27.000000000', 'files': ['roles/tripleo-inventory/tasks/main.yml', 'roles/environment/setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/d64033e4b69a8b1c40808ceae42b5a94155ec705', 'message': 'yaml cleanup and formatting\n\nthere was some legacy ansible syntax in the environment/setup role.\nthis change introduces modern YAML syntax and shorter lines but does\nnot make any behavioral changes.\n\nChange-Id: Ic6f9123c23cf0710a396df207f5175fead935bff\n'}]",0,441564,d64033e4b69a8b1c40808ceae42b5a94155ec705,17,5,3,8745,,,0,"yaml cleanup and formatting

there was some legacy ansible syntax in the environment/setup role.
this change introduces modern YAML syntax and shorter lines but does
not make any behavioral changes.

Change-Id: Ic6f9123c23cf0710a396df207f5175fead935bff
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/64/441564/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-inventory/tasks/main.yml', 'roles/environment/setup/tasks/main.yml']",2,52cedaaf25404a04c8acf08e71e96972c4e816f6,feature/zombie-lars-arises,"# # LKS: Note that this condition is at best a hack: if this playbook is # run a second time on the same host, the networks will already be # defined and autostarted so there will be no change. Even though # there is no error condition, we will trigger the workaround anyway. # Fortunately, it appears to be a no-op in that case. - when: not net_autostart|changed debug: msg: > Some libvirt networks were not set to autostart. Please see https://bugs.launchpad.net/tripleo-quickstart/+bug/1581676 copy: content: ""{{ item.get_xml }}"" dest: ""/tmp/network-{{item.item.name}}.xml""","- when: net_autostart.changed != true debug: msg=""Some libvirt networks were not set to autostart. Please see https://bugs.launchpad.net/tripleo-quickstart/+bug/1581676"" copy: content={{ item.get_xml }} dest=/tmp/network-{{item.item.name}}.xml",39,14
openstack%2Fpuppet-tripleo~master~Id7f4c2564b50751d2c9f87f663a60b567e6fcb23,openstack/puppet-tripleo,master,Id7f4c2564b50751d2c9f87f663a60b567e6fcb23,DO NOT REVIEW just a test for extra yum debugging,ABANDONED,2017-03-23 08:06:35.000000000,2017-10-05 18:32:11.000000000,,"[{'_account_id': 3}, {'_account_id': 16312}]","[{'number': 1, 'created': '2017-03-23 08:06:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d2a71997fa12ac968122ae87da6860fdc0ec55a8', 'message': 'DO NOT REVIEW just a test for extra yum debugging\n\nChange-Id: Id7f4c2564b50751d2c9f87f663a60b567e6fcb23\nDepends-On: I29135dcebcfc0f826e81687623f45a3c0572af2c\n'}, {'number': 2, 'created': '2017-03-23 09:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c037978a63d68eaebb5b87917122b09966e7981c', 'message': 'DO NOT REVIEW just a test for extra yum debugging\n\nChange-Id: Id7f4c2564b50751d2c9f87f663a60b567e6fcb23\nDepends-On: I29135dcebcfc0f826e81687623f45a3c0572af2c\n'}, {'number': 3, 'created': '2017-03-23 10:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ce17aef2bdd4801b7dde08dfa486b4cd8142a2b1', 'message': 'DO NOT REVIEW just a test for extra yum debugging\n\nChange-Id: Id7f4c2564b50751d2c9f87f663a60b567e6fcb23\nDepends-On: I29135dcebcfc0f826e81687623f45a3c0572af2c\n'}, {'number': 4, 'created': '2017-03-23 12:06:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/02745244692a57970ddcbb995ce9d9552ab6e29c', 'message': 'DO NOT REVIEW just a test for extra yum debugging\n\nChange-Id: Id7f4c2564b50751d2c9f87f663a60b567e6fcb23\nDepends-On: I29135dcebcfc0f826e81687623f45a3c0572af2c\nDepends-On: I197bfe1e7b072e01bf8ed08bafc976beea2b21ed\n'}, {'number': 5, 'created': '2017-03-23 13:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/89f77b787ff57c8a1b29e771df48ae659058a993', 'message': 'DO NOT REVIEW just a test for extra yum debugging\n\nChange-Id: Id7f4c2564b50751d2c9f87f663a60b567e6fcb23\nDepends-On: I29135dcebcfc0f826e81687623f45a3c0572af2c\nDepends-On: I197bfe1e7b072e01bf8ed08bafc976beea2b21ed\n'}, {'number': 6, 'created': '2017-03-23 14:45:22.000000000', 'files': ['README.md', 'manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c18f568be596dc587124be7501af74af68a4adc6', 'message': 'DO NOT REVIEW just a test for extra yum debugging\n\nChange-Id: Id7f4c2564b50751d2c9f87f663a60b567e6fcb23\nDepends-On: I29135dcebcfc0f826e81687623f45a3c0572af2c\nDepends-On: I197bfe1e7b072e01bf8ed08bafc976beea2b21ed\n'}]",0,448982,c18f568be596dc587124be7501af74af68a4adc6,21,2,6,20172,,,0,"DO NOT REVIEW just a test for extra yum debugging

Change-Id: Id7f4c2564b50751d2c9f87f663a60b567e6fcb23
Depends-On: I29135dcebcfc0f826e81687623f45a3c0572af2c
Depends-On: I197bfe1e7b072e01bf8ed08bafc976beea2b21ed
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/82/448982/4 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,d2a71997fa12ac968122ae87da6860fdc0ec55a8,test-mirror, just a test.....,,3,0
openstack%2Fpuppet-tripleo~master~I6c8e2d2daf0373f83b418fbc556ecb2e78441097,openstack/puppet-tripleo,master,I6c8e2d2daf0373f83b418fbc556ecb2e78441097,Corrects default for glance API service,ABANDONED,2016-12-15 18:52:17.000000000,2017-10-05 18:32:06.000000000,,"[{'_account_id': 3}, {'_account_id': 17280}]","[{'number': 1, 'created': '2016-12-15 18:52:17.000000000', 'files': ['manifests/profile/base/glance/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/90603fbf97175ec82e49a94509281bf265350344', 'message': 'Corrects default for glance API service\n\nGlance API default store should be file,http.  The previous default of\nswift creates a dependency between Glance API and Swift service, which\nis not composable.  If a user elects to use Swift as the Glance storage\nbackend, then the user can override GlanceBackend heat parameter.\n\nPartial-Bug: #1650348\n\nChange-Id: I6c8e2d2daf0373f83b418fbc556ecb2e78441097\nSigned-off-by: Tim Rozet <trozet@redhat.com>\n'}]",0,411459,90603fbf97175ec82e49a94509281bf265350344,8,2,1,17280,,,0,"Corrects default for glance API service

Glance API default store should be file,http.  The previous default of
swift creates a dependency between Glance API and Swift service, which
is not composable.  If a user elects to use Swift as the Glance storage
backend, then the user can override GlanceBackend heat parameter.

Partial-Bug: #1650348

Change-Id: I6c8e2d2daf0373f83b418fbc556ecb2e78441097
Signed-off-by: Tim Rozet <trozet@redhat.com>
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/59/411459/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/glance/api.pp'],1,90603fbf97175ec82e49a94509281bf265350344,bug/1650348,"# Defaults to downcase(hiera('glance_backend', 'file')) $glance_backend = downcase(hiera('glance_backend', 'file')),","# Defaults to downcase(hiera('glance_backend', 'swift')) $glance_backend = downcase(hiera('glance_backend', 'swift')),",2,2
openstack%2Fopenstack-ansible~master~I5a1de489df2dff21c262ec5bcea709d1c719a6af,openstack/openstack-ansible,master,I5a1de489df2dff21c262ec5bcea709d1c719a6af,SUSE: Remove lxc-1.X.X workarounds,MERGED,2017-10-05 13:18:17.000000000,2017-10-05 18:31:42.000000000,2017-10-05 18:31:42.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-10-05 13:18:17.000000000', 'files': ['playbooks/common-tasks/os-lxc-container-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a955c0b5070d06933af1fe679390ab4b04662032', 'message': 'SUSE: Remove lxc-1.X.X workarounds\n\nopenSUSE is now using lxc-2.X.X from the OBS repository in the\nlxc_hosts role so there is no need to have the lxc-1.X.X workarounds\nanymore.\n\nChange-Id: I5a1de489df2dff21c262ec5bcea709d1c719a6af\n'}]",0,509772,a955c0b5070d06933af1fe679390ab4b04662032,9,4,1,23163,,,0,"SUSE: Remove lxc-1.X.X workarounds

openSUSE is now using lxc-2.X.X from the OBS repository in the
lxc_hosts role so there is no need to have the lxc-1.X.X workarounds
anymore.

Change-Id: I5a1de489df2dff21c262ec5bcea709d1c719a6af
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/72/509772/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/os-lxc-container-setup.yml'],1,a955c0b5070d06933af1fe679390ab4b04662032,lxc2-support,,"# NOTE(hwoarang): We pass the timeout (-t) option on openSUSE due to # https://bugzilla.opensuse.org/show_bug.cgi?id=1054609. Feel free to # remove this workaround when the bug is closed or lxc-2.X.X becomes the # default on openSUSE. ""{{ (hostvars[physical_host]['ansible_pkg_mgr'] == 'zypper') | ternary('-t 10', '') }}""",0,5
openstack%2Ftripleo-puppet-elements~master~I4cb0d939cd9bf37b1e2c7cc012d0b62b556f45cd,openstack/tripleo-puppet-elements,master,I4cb0d939cd9bf37b1e2c7cc012d0b62b556f45cd,Add puppet-logrotate and puppet-rsyslog to the list of modules,ABANDONED,2015-09-25 14:15:34.000000000,2017-10-05 18:31:03.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 9410}, {'_account_id': 11491}]","[{'number': 1, 'created': '2015-09-25 14:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/f3498f499eb620d198610973b6348f3a4a2fa343', 'message': 'Add puppet-logrotate to the list of modules\n\nThe puppet-logrotate module allows an administrator to configure\nlogrotate rules in order to prevent the logs from filling out disk\nspace.\n\nChange-Id: I4cb0d939cd9bf37b1e2c7cc012d0b62b556f45cd\n'}, {'number': 2, 'created': '2015-10-01 08:36:43.000000000', 'files': ['elements/puppet-modules/environment.d/01-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/8691cd290b05c7a13d089fe269b46d57e49e89d9', 'message': 'Add puppet-logrotate and puppet-rsyslog to the list of modules\n\nThe puppet-logrotate module allows an administrator to configure\nlogrotate rules in order to prevent the logs from filling out disk\nspace.\n\nThe puppet-rsyslog module allows an administrator to configure the\nsyslog behavior and allow advanced logging configuration.\n\nChange-Id: I4cb0d939cd9bf37b1e2c7cc012d0b62b556f45cd\n'}]",0,227866,8691cd290b05c7a13d089fe269b46d57e49e89d9,14,5,2,9410,,,0,"Add puppet-logrotate and puppet-rsyslog to the list of modules

The puppet-logrotate module allows an administrator to configure
logrotate rules in order to prevent the logs from filling out disk
space.

The puppet-rsyslog module allows an administrator to configure the
syslog behavior and allow advanced logging configuration.

Change-Id: I4cb0d939cd9bf37b1e2c7cc012d0b62b556f45cd
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/66/227866/2 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-modules/environment.d/01-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",2,f3498f499eb620d198610973b6348f3a4a2fa343,add_logrotate_support,puppet-logrotate git /opt/stack/puppet-modules/logrotate https://github.com/rodjek/puppet-logrotate.git,,2,0
openstack%2Ftripleo-common~master~Id2a0f495012b709c51c930adc19987b47f758234,openstack/tripleo-common,master,Id2a0f495012b709c51c930adc19987b47f758234,Run the container job with network isolation,ABANDONED,2016-02-06 11:55:08.000000000,2017-10-05 18:30:59.000000000,,"[{'_account_id': 3}, {'_account_id': 9712}, {'_account_id': 10419}]","[{'number': 1, 'created': '2016-02-06 11:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a3003b5daaf9a84a09378f7f3cadea4b855013fc', 'message': 'Run the container job with network isolation\n\nIt would be more realistic to gate on network isolation\nbecause it is closer to what will be used in production.\n\nChange-Id: Id2a0f495012b709c51c930adc19987b47f758234\n'}, {'number': 2, 'created': '2016-02-06 19:00:19.000000000', 'files': ['network-isolation.yaml', 'scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/654bc9ad4870566f1e358e39c82f132f2be86b64', 'message': 'Run the container job with network isolation\n\nIt would be more realistic to gate on network isolation\nbecause it is closer to what will be used in production.\n\nChange-Id: Id2a0f495012b709c51c930adc19987b47f758234\n'}]",0,277073,654bc9ad4870566f1e358e39c82f132f2be86b64,12,3,2,10419,,,0,"Run the container job with network isolation

It would be more realistic to gate on network isolation
because it is closer to what will be used in production.

Change-Id: Id2a0f495012b709c51c930adc19987b47f758234
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/73/277073/1 && git format-patch -1 --stdout FETCH_HEAD,"['network-isolation.yaml', 'scripts/tripleo.sh']",2,a3003b5daaf9a84a09378f7f3cadea4b855013fc,,"CONTAINER_ARGS=${CONTAINER_ARGS:-""-e /usr/share/openstack-tripleo-heat-templates/environments/docker.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/docker-network-isolation.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/net-single-nic-with-vlans.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation.yaml --libvirt-type=qemu""} network_isolationfunction network_isolation { cp $HOME/tripleo-common/network_isolation.yaml /usr/share/openstack-tripleo-heat-templates/environments/net-single-nic-with-vlans.yaml } ","CONTAINER_ARGS=${CONTAINER_ARGS:-""-e /usr/share/openstack-tripleo-heat-templates/environments/docker.yaml -e /usr/share/openstack-tripleo-heat-templates/environments/docker-network.yaml --libvirt-type=qemu""}",26,1
openstack%2Ftripleo-common~master~I6842b4f1f598f72965230d77c432c4b853589155,openstack/tripleo-common,master,I6842b4f1f598f72965230d77c432c4b853589155,LOG.warn is deprecated in python3,ABANDONED,2016-02-01 18:06:59.000000000,2017-10-05 18:30:56.000000000,,"[{'_account_id': 9712}, {'_account_id': 10239}]","[{'number': 1, 'created': '2016-02-01 18:06:59.000000000', 'files': ['tripleo_common/stack_update.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/11e429e7842a493d32042652ef0359f71b272ab4', 'message': 'LOG.warn is deprecated in python3\n\nChange-Id: I6842b4f1f598f72965230d77c432c4b853589155\n'}]",1,274826,11e429e7842a493d32042652ef0359f71b272ab4,4,2,1,20216,,,0,"LOG.warn is deprecated in python3

Change-Id: I6842b4f1f598f72965230d77c432c4b853589155
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/26/274826/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/stack_update.py'],1,11e429e7842a493d32042652ef0359f71b272ab4,," LOG.warning(""'%s' is invalid regular expression: %s"","," LOG.warn(""'%s' is invalid regular expression: %s"",",1,1
openstack%2Ftripleo-common~master~Ica976e2618c15588e52d29d7442cdc547aec2e0e,openstack/tripleo-common,master,Ica976e2618c15588e52d29d7442cdc547aec2e0e,Heat ansible agent,ABANDONED,2016-04-19 14:31:01.000000000,2017-10-05 18:30:53.000000000,,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 10419}]","[{'number': 1, 'created': '2016-04-19 14:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/04ad57ad1fc6892ee441dbf80850692962269720', 'message': 'Heat ansible agent\n\nThis container will serve a heat hook for ansible.\n\nChange-Id: Ica976e2618c15588e52d29d7442cdc547aec2e0e\n'}, {'number': 2, 'created': '2016-04-21 20:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/50576b0ff39d134d98a56a213ef0510794c4dcb3', 'message': 'Heat ansible agent\n\nThis container will serve a heat hook for ansible.\n\nChange-Id: Ica976e2618c15588e52d29d7442cdc547aec2e0e\n'}, {'number': 3, 'created': '2016-04-21 20:51:41.000000000', 'files': ['heat_ansible_agent/configure_container.sh', 'heat_ansible_agent/run-os-net-config', 'heat_ansible_agent/Dockerfile'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ecc2f34aa5ed636c1537b14479444700f7eb4853', 'message': 'Heat ansible agent\n\nThis container will serve as a heat hook for ansible\nwith the primary goal of deploying kolla-ansible.\n\nChange-Id: Ica976e2618c15588e52d29d7442cdc547aec2e0e\n'}]",0,307849,ecc2f34aa5ed636c1537b14479444700f7eb4853,13,3,3,10419,,,0,"Heat ansible agent

This container will serve as a heat hook for ansible
with the primary goal of deploying kolla-ansible.

Change-Id: Ica976e2618c15588e52d29d7442cdc547aec2e0e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/49/307849/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat_ansible_agent/configure_container.sh', 'heat_ansible_agent/run-os-net-config', 'heat_ansible_agent/Dockerfile']",3,04ad57ad1fc6892ee441dbf80850692962269720,,"FROM centos:7 MAINTAINER ""Jeff Peeler"" <jpeeler@redhat.com> ENV container docker ENV DOCKER_HOST unix:///var/run/docker.sock #RUN yum -y install http://rdoproject.org/repos/openstack-liberty/rdo-release-liberty.rpm RUN curl http://trunk.rdoproject.org/centos7/delorean-deps.repo -o /etc/yum.repos.d/delorean-deps.repo RUN curl http://trunk.rdoproject.org/centos7/current/delorean.repo -o /etc/yum.repos.d/delorean.repo RUN yum update -y RUN yum install -y \ initscripts \ dhcp-client \ ethtool \ NetworkManager \ openstack-tripleo-puppet-elements \ openstack-tripleo-image-elements \ openstack-heat-templates \ openstack-puppet-modules \ os-apply-config \ os-collect-config \ os-refresh-config \ os-net-config \ jq \ python-zaqarclient \ gcc \ libyaml-devel \ python-devel \ python-pip \ openvswitch \ puppet \ python-ipaddr \ openstack-ceilometer-compute \ python-nova \ openstack-nova-common \ openstack-neutron \ libvirt-daemon-config-nwfilter \ libvirt-daemon-kvm \ openstack-nova-compute \ openstack-neutron-ml2 \ openstack-neutron-openvswitch \ docker \ && yum clean all COPY configure_container.sh /tmp/ RUN /tmp/configure_container.sh # This is a script which: # - Copies the existing network interface configs from the host to the agent. # - Configures os-net-config # - Runs os-net-config in the agent. # # All of this is triggered from the heat templates. COPY run-os-net-config /usr/local/bin/ # create volumes to share the host directories VOLUME [ ""/var/lib/cloud""] VOLUME [ ""/var/lib/heat-cfntools"" ] CMD /usr/bin/os-collect-config ",,124,0
openstack%2Ftripleo-heat-templates~master~Ic3888dc3dec172c78aba6bd4e5067a2aaf3b083e,openstack/tripleo-heat-templates,master,Ic3888dc3dec172c78aba6bd4e5067a2aaf3b083e,WIP - Upgrade playbook for Cinder & Pacemaker Skeleton,ABANDONED,2016-06-10 20:04:56.000000000,2017-10-05 18:30:50.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-06-10 20:04:56.000000000', 'files': ['ansible/roles/cinder/tasks/start_services.yml', 'ansible/roles/pacemaker/tasks/stop_services.yml', 'ansible/rolling.yml', 'ansible/roles/cinder/tasks/update_packages.yml', 'ansible/roles/cinder/tasks/stop_services.yml', 'ansible/README.rst', 'ansible/group_vars/all.yml', 'ansible/roles/pacemaker/tasks/main.yml', 'ansible/upgrade-vars.yml', 'ansible/all-at-once.yml', 'ansible/roles/cinder/tasks/sync_database.yml', 'ansible/roles/cinder/tasks/main.yml', 'ansible/testing-inventory', 'ansible/roles/pacemaker/tasks/start_services.yml', 'ansible/roles/pacemaker/tasks/check.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7d59cfb90f5eaffd1d34ad9b04b6bc9072905126', 'message': 'WIP - Upgrade playbook for Cinder & Pacemaker Skeleton\n\nCinder-volumes is a target to be managed by Pacemaker.\nThis patch will support both Pacemaker and non Packmaker\nmanaged Cinder-volumes.\n\nThe operator will specify what services are to be upgraded\nwith Pacemaker and Ansible will verify it.\n\nChange-Id: Ic3888dc3dec172c78aba6bd4e5067a2aaf3b083e\n'}]",0,328477,7d59cfb90f5eaffd1d34ad9b04b6bc9072905126,5,1,1,10419,,,0,"WIP - Upgrade playbook for Cinder & Pacemaker Skeleton

Cinder-volumes is a target to be managed by Pacemaker.
This patch will support both Pacemaker and non Packmaker
managed Cinder-volumes.

The operator will specify what services are to be upgraded
with Pacemaker and Ansible will verify it.

Change-Id: Ic3888dc3dec172c78aba6bd4e5067a2aaf3b083e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/328477/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/tasks/start_services.yml', 'ansible/roles/pacemaker/tasks/stop_services.yml', 'ansible/rolling.yml', 'ansible/roles/cinder/tasks/update_packages.yml', 'ansible/roles/cinder/tasks/stop_services.yml', 'ansible/README.rst', 'ansible/group_vars/all.yml', 'ansible/roles/pacemaker/tasks/main.yml', 'ansible/upgrade-vars.yml', 'ansible/all-at-once.yml', 'ansible/roles/cinder/tasks/sync_database.yml', 'ansible/roles/cinder/tasks/main.yml', 'ansible/testing-inventory', 'ansible/roles/pacemaker/tasks/start_services.yml', 'ansible/roles/pacemaker/tasks/check.yml']",15,7d59cfb90f5eaffd1d34ad9b04b6bc9072905126,,"--- - name: Checking cluster to settle command: ""/usr/sbin/pcs resource show --full | grep openstack-{{ item }}"" run_once: true when: inventory_hostname in groups[""{{ item }}""] with_items: ""{{ pacemaker_services }}"" register: result failed_when: result.rc != '0' ",,152,0
openstack%2Ftripleo-heat-templates~master~I8575648c13a48fe48f2ca88b51e6db4b2f2ae20b,openstack/tripleo-heat-templates,master,I8575648c13a48fe48f2ca88b51e6db4b2f2ae20b,Upgrade playbook for Glance,ABANDONED,2016-06-08 21:25:35.000000000,2017-10-05 18:30:47.000000000,,"[{'_account_id': 3}, {'_account_id': 10419}]","[{'number': 1, 'created': '2016-06-08 21:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/28e794d5034977b8c655c157819fdbf684dfe744', 'message': ""Upgrade playbook for Glance\n\nWithout containers, the rolling update requires more care.\nWe need to only stop and start each service when they are\nactually running on a specific host.  Updating the packages\ntogether doesn't make a difference.\n\nChange-Id: I8575648c13a48fe48f2ca88b51e6db4b2f2ae20b\n""}, {'number': 2, 'created': '2016-06-09 00:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6f4d2e92d06aec5b712005ee9cb22aa9b84f91d3', 'message': ""Upgrade playbook for Glance\n\nWithout containers, the rolling update requires more care.\nWe need to only stop and start each service when they are\nactually running on a specific host.  Updating the packages\ntogether doesn't make a difference.\n\nChange-Id: I8575648c13a48fe48f2ca88b51e6db4b2f2ae20b\n""}, {'number': 3, 'created': '2016-06-09 13:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7499977f907e878dd620a1a81d4da19e4ec27872', 'message': ""Upgrade playbook for Glance\n\nWithout containers, the rolling update requires more care.\nWe need to only stop and start each service when they are\nactually running on a specific host.  Updating the packages\ntogether doesn't make a difference.\n\nChange-Id: I8575648c13a48fe48f2ca88b51e6db4b2f2ae20b\n""}, {'number': 4, 'created': '2016-06-09 16:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0005510b8632d294d387e5ccab213fb3002cdf65', 'message': ""Upgrade playbook for Glance\n\nWithout containers, the rolling update requires more care.\nWe need to only stop and start each service when they are\nactually running on a specific host.  Updating the packages\ntogether doesn't make a difference.\n\nChange-Id: I8575648c13a48fe48f2ca88b51e6db4b2f2ae20b\n""}, {'number': 5, 'created': '2016-06-09 17:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b68409a706841a6c6ea867793a526e4f6b731c4', 'message': ""Upgrade playbook for Glance\n\nWithout containers, the rolling update requires more care.\nWe need to only stop and start each service when they are\nactually running on a specific host.  Updating the packages\ntogether doesn't make a difference.\n\nChange-Id: I8575648c13a48fe48f2ca88b51e6db4b2f2ae20b\n""}, {'number': 6, 'created': '2016-06-09 22:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/43c73d9c19c278376f824edcd5d489a95b496d3b', 'message': ""Upgrade playbook for Glance\n\nWithout containers, the rolling update requires more care.\nWe need to only stop and start each service when they are\nactually running on a specific host.  Updating the packages\ntogether doesn't make a difference.\n\nChange-Id: I8575648c13a48fe48f2ca88b51e6db4b2f2ae20b\n""}, {'number': 7, 'created': '2016-06-10 20:04:56.000000000', 'files': ['ansible/roles/glance/tasks/main.yml', 'ansible/roles/glance/tasks/update_packages.yml', 'ansible/example-upgrade-inventory', 'ansible/roles/glance/tasks/start_services.yml', 'ansible/group_vars/all.yml', 'ansible/upgrade-vars.yml', 'ansible/roles/glance/tasks/sync_database.yml', 'ansible/rolling.yml', 'ansible/testing-inventory', 'ansible/roles/glance/tasks/stop_services.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae7e4a834337a591db041b3e2489ad3844f4edea', 'message': ""Upgrade playbook for Glance\n\nWithout containers, the rolling update requires more care.\nWe need to only stop and start each service when they are\nactually running on a specific host.  Updating the packages\ntogether doesn't make a difference.\n\nChange-Id: I8575648c13a48fe48f2ca88b51e6db4b2f2ae20b\n""}]",0,327341,ae7e4a834337a591db041b3e2489ad3844f4edea,21,2,7,10419,,,0,"Upgrade playbook for Glance

Without containers, the rolling update requires more care.
We need to only stop and start each service when they are
actually running on a specific host.  Updating the packages
together doesn't make a difference.

Change-Id: I8575648c13a48fe48f2ca88b51e6db4b2f2ae20b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/327341/5 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/glance/tasks/main.yml', 'ansible/roles/glance/tasks/update_packages.yml', 'ansible/example-upgrade-inventory', 'ansible/roles/glance/tasks/start_services.yml', 'ansible/site.yml', 'ansible/roles/glance/tasks/sync_database.yml', 'ansible/testing-inventory', 'ansible/roles/glance/tasks/stop_services.yml']",8,28e794d5034977b8c655c157819fdbf684dfe744,,--- - name: Stopping glance-api service service: name: openstack-glance-api state: stopped when: inventory_hostname in groups ['glance-api'] - name: Stopping glance-registry service service: name: openstack-glance-registry state: stopped when: inventory_hostname in groups ['glance-registry'] ,,63,0
openstack%2Ftripleo-heat-templates~master~I69dc8a63c6e47537d1da9d15cae22f4abda9d65f,openstack/tripleo-heat-templates,master,I69dc8a63c6e47537d1da9d15cae22f4abda9d65f,Ansible driven upgrade,ABANDONED,2016-05-30 00:58:24.000000000,2017-10-05 18:30:44.000000000,,"[{'_account_id': 3}, {'_account_id': 8042}, {'_account_id': 10419}, {'_account_id': 16515}]","[{'number': 1, 'created': '2016-05-30 00:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e52baaafd9901422eb9f1e0033ec5980a227bded', 'message': 'Create ansible directory structure for keystone upgrades\n\nThe directory structure is based on the Ansible best\npractices.\n\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n'}, {'number': 2, 'created': '2016-05-30 23:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c501fef697b78d7c7ffba123cc620005c6ad2a32', 'message': 'WIP - Ansible driven upgrade\n\nGeneral workflow:\n - Mistral/operator uses get-heat-output.sh to create\n   /tmp/upgrade-information and /tmp/node-information.\n - Mistral/operator runs the generate-inventory playbook, which\n   creates an inventory file at /etc/tripleo/upgrade-inventory.\n - Mistral/operator edits /etc/tripleo/upgrade-vars.yml and enables\n   any services that needs to be upgraded:\n\n        upgrade_keystone: yes\n\n - Mistral/operator runs upgrade tasks.\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n'}, {'number': 3, 'created': '2016-06-02 21:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58da1fa79dce3c849cce04846d1265e0012afee2', 'message': 'WIP - Ansible driven upgrade\n\nGeneral workflow:\n - Mistral/operator uses get-heat-output.sh to create\n   /tmp/upgrade-information and /tmp/node-information.\n - Mistral/operator runs the generate-inventory playbook, which\n   creates an inventory file at /etc/tripleo/upgrade-inventory.\n - Mistral/operator interacts with /etc/tripleo/upgrade-vars.yml\n   to manage the upgrade workflow.\n - Mistral/operator runs upgrade tasks.\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n'}, {'number': 4, 'created': '2016-06-03 00:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30e1ee18efd7fa4e07a7b7c514737d8da0fbab85', 'message': 'WIP - Ansible driven upgrade\n\nDefine ansible roles based on service groups to dictate playbook\nworkflow.\n\nGeneral workflow:\n - Use get-heat-output.sh to create /tmp/upgrade-information and\n   /tmp/node-information.\n - Run the generate-inventory playbook, which creates an inventory\n   file at /etc/tripleo/upgrade-inventory.\n - If needed, edit /etc/tripleo/upgrade-vars.yml to manage the\n   upgrade workflow.\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n'}, {'number': 5, 'created': '2016-06-07 19:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fae65c2b19c867c4ae194cfa326a9139b13723a', 'message': 'WIP - Ansible driven upgrade\n\nDefine ansible roles based on service groups to dictate playbook\nworkflow.\n\nGeneral workflow:\n - Use get-heat-output.sh to create /tmp/upgrade-information and\n   /tmp/node-information.\n - Run the generate-inventory playbook, which creates an inventory\n   file at /etc/tripleo/upgrade-inventory.\n - If needed, edit /etc/tripleo/upgrade-vars.yml to manage the\n   upgrade workflow.\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n'}, {'number': 6, 'created': '2016-06-07 20:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e69b16b202cd7284ce523bc828637fe6ae1c00ea', 'message': ""Ansible driven upgrade\n\nDefine ansible roles based on service groups to dictate playbook\nworkflow.\n\nGeneral workflow:\n - Generate the inventory files based on Heat outputs.\n\n     ansible-playbook -i 'undercloud,' -c local generate-inventory.yml\n\n - If needed, edit upgrade-vars.yml to manage the upgrade workflow.\n - Run the upgrade playbook\n\n     ansible-playbooks -i /etc/tripleo/upgrade-inventory -e\n     upgrade-vars.yml site.yml\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n""}, {'number': 7, 'created': '2016-06-07 23:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d899430282c256168803c0e7cc3479c2d7afa21b', 'message': ""Ansible driven upgrade\n\nDefine ansible roles based on service groups to dictate playbook\nworkflow.\n\nGeneral workflow:\n - Generate the inventory files based on Heat outputs.\n\n     ansible-playbook -i 'undercloud,' -c local generate-inventory.yml\n\n - If needed, edit upgrade-vars.yml to manage the upgrade workflow.\n - Run the upgrade playbook\n\n     ansible-playbooks -i /etc/tripleo/upgrade-inventory -e\n     upgrade-vars.yml site.yml\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n""}, {'number': 8, 'created': '2016-06-09 13:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc6fbd158cbdc41c3465a80196aaedfa9765f8f9', 'message': ""Ansible driven upgrade\n\nDefine ansible roles based on service groups to dictate playbook\nworkflow.\n\nGeneral workflow:\n - Generate the inventory files based on Heat outputs.\n\n     ansible-playbook -i 'undercloud,' -c local generate-inventory.yml\n\n - If needed, edit upgrade-vars.yml to manage the upgrade workflow.\n - Run the upgrade playbook\n\n     ansible-playbooks -i /etc/tripleo/upgrade-inventory -e\n     upgrade-vars.yml site.yml\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n""}, {'number': 9, 'created': '2016-06-09 16:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e281f60343893580f5bb45374fa18c4575b17c2', 'message': ""Ansible driven upgrade\n\nDefine ansible roles based on service groups to dictate playbook\nworkflow.\n\nGeneral workflow:\n - Generate the inventory files based on Heat outputs.\n\n     ansible-playbook -i 'undercloud,' -c local generate-inventory.yml\n\n - If needed, edit upgrade-vars.yml to manage the upgrade workflow.\n - Run the upgrade playbook\n\n     ansible-playbooks -i /etc/tripleo/upgrade-inventory -e\n     upgrade-vars.yml site.yml\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n""}, {'number': 10, 'created': '2016-06-09 17:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96f2a55bab6d89d469244b346e0ea27986bea3ca', 'message': ""Ansible driven upgrade\n\nDefine ansible roles based on service groups to dictate playbook\nworkflow.\n\nGeneral workflow:\n - Generate the inventory files based on Heat outputs.\n\n     ansible-playbook -i 'undercloud,' -c local generate-inventory.yml\n\n - If needed, edit upgrade-vars.yml to manage the upgrade workflow.\n - Run the upgrade playbook\n\n     ansible-playbooks -i /etc/tripleo/upgrade-inventory -e\n     upgrade-vars.yml site.yml\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n""}, {'number': 11, 'created': '2016-06-09 21:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae37b82792a8eba3f7822b208941e891cf6b9efd', 'message': ""Ansible driven upgrade\n\nDefine ansible roles based on service groups to dictate playbook\nworkflow.\n\nGeneral workflow:\n - Generate the inventory files based on Heat outputs.\n\n     ansible-playbook -i 'undercloud,' -c local generate-inventory.yml\n\n - If needed, edit upgrade-vars.yml to manage the upgrade workflow.\n - Run the upgrade playbook\n\n     ansible-playbooks -i /etc/tripleo/upgrade-inventory -e\n     upgrade-vars.yml site.yml\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n""}, {'number': 12, 'created': '2016-06-09 22:20:13.000000000', 'files': ['ansible/library/get-heat-output.py', 'ansible/roles/keystone/tasks/stop_services.yml', 'ansible/roles/generate-inventory/tasks/main.yml', 'ansible/example-upgrade-inventory', 'ansible/site.yml', 'ansible/roles/keystone/tasks/main.yml', 'ansible/roles/keystone/tasks/sync_database.yml', 'ansible/roles/generate-inventory/defaults/main.yml', 'ansible/roles/keystone/tasks/update_packages.yml', 'ansible/README.rst', 'ansible/library/generate-inventory.py', 'ansible/roles/generate-inventory/tasks/create-inventory.yml', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/tasks/start_services.yml', 'ansible/upgrade-vars.yml', 'ansible/roles/generate-inventory/tasks/stackrc-check.yml', 'ansible/testing-inventory', 'ansible/generate-inventory.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dacc3b1f64b623332f05ef97367dffc9d3b869c1', 'message': ""Ansible driven upgrade\n\nDefine ansible roles based on service groups to dictate playbook\nworkflow.\n\nGeneral workflow:\n - Generate the inventory files based on Heat outputs.\n\n     ansible-playbook -i 'undercloud,' -c local generate-inventory.yml\n\n - If needed, edit upgrade-vars.yml to manage the upgrade workflow.\n - Run the upgrade playbook\n\n     ansible-playbooks -i /etc/tripleo/upgrade-inventory -e\n     upgrade-vars.yml site.yml\n\nDepends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923\nChange-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f\n""}]",12,322591,dacc3b1f64b623332f05ef97367dffc9d3b869c1,47,4,12,10419,,,0,"Ansible driven upgrade

Define ansible roles based on service groups to dictate playbook
workflow.

General workflow:
 - Generate the inventory files based on Heat outputs.

     ansible-playbook -i 'undercloud,' -c local generate-inventory.yml

 - If needed, edit upgrade-vars.yml to manage the upgrade workflow.
 - Run the upgrade playbook

     ansible-playbooks -i /etc/tripleo/upgrade-inventory -e
     upgrade-vars.yml site.yml

Depends-on: Ia24fcbbc7657f34f1d1e182a8323e045d164d923
Change-Id: I69dc8a63c6e47537d1da9d15cae22f4abda9d65f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/322591/7 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/generate-inventory/tasks/main.yml', 'ansible/inventory/overcloud', 'ansible/roles/generate-inventory/tasks/create-inventory.yml', 'ansible/group_vars/all.yml', 'ansible/site.yml', 'ansible/roles/generate-inventory/tasks/stackrc-check.yml', 'ansible/generate-inventory.yml']",7,e52baaafd9901422eb9f1e0033ec5980a227bded,,--- - hosts: localhost roles: - generate-inventory,,32,0
openstack%2Fzun~master~I2b964c202de902ee628160c299dca734c8991589,openstack/zun,master,I2b964c202de902ee628160c299dca734c8991589,Use to_policy_values for policy credentials,MERGED,2017-10-03 07:42:15.000000000,2017-10-05 18:30:39.000000000,2017-10-05 18:30:39.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 16277}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 24441}]","[{'number': 1, 'created': '2017-10-03 07:42:15.000000000', 'files': ['zun/common/context.py', 'zun/common/policy.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/3c6d246d88fc87006bfbefe487ccbdaa9022d5b3', 'message': 'Use to_policy_values for policy credentials\n\nThe base oslo.context defines to_policy_values with all the information\nthat it expects a service to require to enforce policy. Use that instead\nof throwing everything in to_dict at policy enforcement.\n\nRefer in patch 341905 [1]\n\n[1] https://review.openstack.org/#/c/341905/\n\nChange-Id: I2b964c202de902ee628160c299dca734c8991589\nCloses-Bug: #1602081\n'}]",0,509102,3c6d246d88fc87006bfbefe487ccbdaa9022d5b3,13,6,1,22406,,,0,"Use to_policy_values for policy credentials

The base oslo.context defines to_policy_values with all the information
that it expects a service to require to enforce policy. Use that instead
of throwing everything in to_dict at policy enforcement.

Refer in patch 341905 [1]

[1] https://review.openstack.org/#/c/341905/

Change-Id: I2b964c202de902ee628160c299dca734c8991589
Closes-Bug: #1602081
",git fetch https://review.opendev.org/openstack/zun refs/changes/02/509102/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/common/context.py', 'zun/common/policy.py']",2,3c6d246d88fc87006bfbefe487ccbdaa9022d5b3,bug/1602081, credentials = context.to_policy_values() credentials = context.to_policy_values(), credentials = context.to_dict() credentials = context.to_dict(),7,2
openstack%2Ftripleo-heat-templates~master~I4f9fd99ec5a9143b1099bfc11385e2d5c2f4c420,openstack/tripleo-heat-templates,master,I4f9fd99ec5a9143b1099bfc11385e2d5c2f4c420,Add an all-at-once upgrade playbook,ABANDONED,2016-06-08 21:25:35.000000000,2017-10-05 18:30:39.000000000,,"[{'_account_id': 3}, {'_account_id': 10419}]","[{'number': 1, 'created': '2016-06-08 21:25:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63a693b56b8977306324a7f7fdfbe883c9b85e92', 'message': 'Add an all-at-once upgrade playbook\n\nChange-Id: I4f9fd99ec5a9143b1099bfc11385e2d5c2f4c420\n'}, {'number': 2, 'created': '2016-06-09 00:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/148bce719cab35e7427b3006ca6643502bc3c8b9', 'message': 'Add an all-at-once upgrade playbook\n\nChange-Id: I4f9fd99ec5a9143b1099bfc11385e2d5c2f4c420\n'}, {'number': 3, 'created': '2016-06-09 13:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d4b80700d9cd2e5ebeaaeb31468d7c222f4296f', 'message': 'Add an all-at-once upgrade playbook\n\nChange-Id: I4f9fd99ec5a9143b1099bfc11385e2d5c2f4c420\n'}, {'number': 4, 'created': '2016-06-09 16:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5fe28959aeeb6b023eddd0108aca73ca8ae80591', 'message': 'Add an all-at-once upgrade playbook\n\nChange-Id: I4f9fd99ec5a9143b1099bfc11385e2d5c2f4c420\n'}, {'number': 5, 'created': '2016-06-09 17:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16e3b446114d5dd066c0363c77ed843cc74dca32', 'message': 'Add an all-at-once upgrade playbook\n\nChange-Id: I4f9fd99ec5a9143b1099bfc11385e2d5c2f4c420\n'}, {'number': 6, 'created': '2016-06-09 21:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/862ca9e80f05e600d3dfe4b45468af20165ec495', 'message': 'Add an all-at-once upgrade playbook\n\nChange-Id: I4f9fd99ec5a9143b1099bfc11385e2d5c2f4c420\n'}, {'number': 7, 'created': '2016-06-09 22:20:13.000000000', 'files': ['ansible/roles/all_at_once/tasks/update_packages.yml', 'ansible/site.yml', 'ansible/rolling.yml', 'ansible/roles/all_at_once/tasks/stop_services.yml', 'ansible/roles/all_at_once/tasks/sync_database.yml', 'ansible/roles/all_at_once/tasks/start_services.yml', 'ansible/roles/keystone/tasks/update_packages.yml', 'ansible/README.rst', 'ansible/library/generate-inventory.py', 'ansible/roles/all_at_once/tasks/main.yml', 'ansible/group_vars/all.yml', 'ansible/upgrade-vars.yml', 'ansible/all-at-once.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c97a43d19266eae2db26373c1572f1ca5471eb5f', 'message': 'Add an all-at-once upgrade playbook\n\nChange-Id: I4f9fd99ec5a9143b1099bfc11385e2d5c2f4c420\n'}]",0,327340,c97a43d19266eae2db26373c1572f1ca5471eb5f,20,2,7,10419,,,0,"Add an all-at-once upgrade playbook

Change-Id: I4f9fd99ec5a9143b1099bfc11385e2d5c2f4c420
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/327340/6 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/all-at-once/tasks/main.yml', 'ansible/example-upgrade-inventory', 'ansible/site.yml', 'ansible/roles/keystone/tasks/main.yml', 'ansible/roles/keystone/tasks/sync_database.yml', 'ansible/roles/all-at-once/tasks/start_services.yml', 'ansible/roles/all-at-once/tasks/stop_services.yml', 'ansible/roles/keystone/tasks/update_packages.yml', 'ansible/README.rst', 'ansible/library/generate-inventory.py', 'ansible/group_vars/all.yml', 'ansible/roles/all-at-once/tasks/sync_database.yml', 'ansible/roles/all-at-once/tasks/update_packages.yml', 'ansible/upgrade-vars.yml', 'ansible/testing-inventory']",15,63a693b56b8977306324a7f7fdfbe883c9b85e92,, [controller-services:children] keystone,,88,17
openstack%2Ftripleo-ci~master~I44fddee43fb90846900a280d4819c6e492a7bac2,openstack/tripleo-ci,master,I44fddee43fb90846900a280d4819c6e492a7bac2,Add text option to tripleo-jobs-gerrit.py,ABANDONED,2016-06-07 16:29:05.000000000,2017-10-05 18:30:35.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 11105}]","[{'number': 1, 'created': '2016-06-07 16:29:05.000000000', 'files': ['scripts/tripleo-jobs-gerrit.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6de8d7cb6dbfaf7ec47d4270e80cf6ec6cb76592', 'message': 'Add text option to tripleo-jobs-gerrit.py\n\nThis is useful for locally generating lists of CI results, e.g to\nlook for the last successful run of a specific job, with the output\nin a more CLI useful format than HTML.\n\nChange-Id: I44fddee43fb90846900a280d4819c6e492a7bac2\n'}]",1,326632,6de8d7cb6dbfaf7ec47d4270e80cf6ec6cb76592,9,3,1,4328,,,0,"Add text option to tripleo-jobs-gerrit.py

This is useful for locally generating lists of CI results, e.g to
look for the last successful run of a specific job, with the output
in a more CLI useful format than HTML.

Change-Id: I44fddee43fb90846900a280d4819c6e492a7bac2
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/32/326632/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-jobs-gerrit.py'],1,6de8d7cb6dbfaf7ec47d4270e80cf6ec6cb76592,txt_cistatus,"def gen_txt(data, txt_file, stats_hours, job_names, options): fp = open(txt_file, ""w"") fp.write(""timestamp\tproject\tbranch\tstatus\turl\n"") for ts in reversed(sorted(data.iterkeys())): result = data[ts] if not result['ci_results']: continue gerrit_href = ('https://review.openstack.org/#/c/%s/%s""' % (result['url'].split('/')[-1], result['patchset'])) fp.write(""%s\t%s\t%s\t%s\t%s\n"" % (result['timestamp'], result['project'], result['branch'], result['status'], gerrit_href)) for job_name in job_names: if job_name in result['ci_results']: ci_result = result['ci_results'][job_name] ci_result['status'] fp.write(""|->%s\t%s\t%s\n"" % (job_name, ci_result['status'], ci_result['duration'])) fp.close() description=(""Get details of tripleo ci jobs and generates a "" ""text/html report."")) parser.add_argument('-o', default=""tripleo-jobs.html"", help=""output file"") parser.add_argument('-t', dest='txt', action='store_true', help='Output in text instead of html format') if opts.txt: gen_txt(ts_results, opts.o.replace("".html"", "".txt""), 24, job_names, opts) else: gen_html(ts_results, opts.o, ""%s-table"" % opts.o, 24, job_names,opts)"," description=(""Get details of tripleo ci jobs and generates a html "" ""report."")) parser.add_argument('-o', default=""tripleo-jobs.html"", help=""html file"") gen_html(ts_results, opts.o, ""%s-table"" % opts.o, 24, job_names,opts)",33,4
openstack%2Ftripleo-heat-templates~master~Ic2925b54c298fd62dffb86f4ee6e459d1c6cc4d1,openstack/tripleo-heat-templates,master,Ic2925b54c298fd62dffb86f4ee6e459d1c6cc4d1,Debugging for the container gate,ABANDONED,2016-03-15 14:54:53.000000000,2017-10-05 18:30:31.000000000,,"[{'_account_id': 3}, {'_account_id': 10419}]","[{'number': 1, 'created': '2016-03-15 14:54:53.000000000', 'files': ['docker/firstboot/start_docker_agents.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e92021f9ed23f771e365dea20abff7fbba103820', 'message': 'Debugging for the container gate\n\nChange-Id: Ic2925b54c298fd62dffb86f4ee6e459d1c6cc4d1\n'}]",0,292928,e92021f9ed23f771e365dea20abff7fbba103820,6,2,1,10419,,,0,"Debugging for the container gate

Change-Id: Ic2925b54c298fd62dffb86f4ee6e459d1c6cc4d1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/292928/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/firstboot/start_docker_agents.sh'],1,e92021f9ed23f771e365dea20abff7fbba103820,,"echo ""${ROOT_DEVICE}""echo ""growpart DONE"" echo ""pvresize DONE"" pvs echo ""lvresize DONE"" lvs echo ""xfs_growfs DONE"" #exit faster for testing exit 1",,14,0
openstack%2Ftripleo-heat-templates~master~Icc17b9965e409b9c317df137d0b95fc5f9bea41d,openstack/tripleo-heat-templates,master,Icc17b9965e409b9c317df137d0b95fc5f9bea41d,Don't spread admin keys to ceph-clients,ABANDONED,2016-08-22 12:34:49.000000000,2017-10-05 18:30:28.000000000,,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 6796}, {'_account_id': 19564}]","[{'number': 1, 'created': '2016-08-22 12:34:49.000000000', 'files': ['puppet/services/ceph-base.yaml', 'puppet/services/ceph-osd.yaml', 'puppet/services/ceph-mon.yaml', 'puppet/services/ceph-client.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/36f89221dc30738b632da37724a9fc862c3a89e3', 'message': ""Don't spread admin keys to ceph-clients\n\nMoves the key generation from base to individual roles\nto avoid admin keys to be spread to all client nodes.\n\nChange-Id: Icc17b9965e409b9c317df137d0b95fc5f9bea41d\n""}]",12,358609,36f89221dc30738b632da37724a9fc862c3a89e3,9,4,1,5202,,,0,"Don't spread admin keys to ceph-clients

Moves the key generation from base to individual roles
to avoid admin keys to be spread to all client nodes.

Change-Id: Icc17b9965e409b9c317df137d0b95fc5f9bea41d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/09/358609/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/ceph-base.yaml', 'puppet/services/ceph-osd.yaml', 'puppet/services/ceph-mon.yaml', 'puppet/services/ceph-client.yaml']",4,36f89221dc30738b632da37724a9fc862c3a89e3,ceph_no_admin_keys," CephClientKey: description: The Ceph client key. Can be created with ceph-authtool --gen-print-key. Currently only used for external Ceph deployments to create the openstack user keyring. type: string hidden: true CephClientUserName: default: openstack type: string CinderRbdPoolName: default: volumes type: string CinderBackupRbdPoolName: default: backups type: string GlanceRbdPoolName: default: images type: string GnocchiRbdPoolName: default: metrics type: string NovaRbdPoolName: default: vms type: string ceph::profile::params::client_keys: str_replace: template: ""{ client.CLIENT_USER: { secret: 'CLIENT_KEY', mode: '0644', cap_mon: 'allow r', cap_osd: 'allow class-read object_prefix rbd_children, allow rwx pool=CINDER_POOL, allow rwx pool=CINDERBACKUP_POOL, allow rwx pool=NOVA_POOL, allow rwx pool=GLANCE_POOL, allow rwx pool=GNOCCHI_POOL' } }"" params: CLIENT_USER: {get_param: CephClientUserName} CLIENT_KEY: {get_param: CephClientKey} CINDER_POOL: {get_param: CinderRbdPoolName} CINDERBACKUP_POOL: {get_param: CinderBackupRbdPoolName} NOVA_POOL: {get_param: NovaRbdPoolName} GLANCE_POOL: {get_param: GlanceRbdPoolName} GNOCCHI_POOL: {get_param: GnocchiRbdPoolName}",,79,42
openstack%2Ftripleo-ci~master~I19ef212d6e018de69ccd24ca5091361196a2e27d,openstack/tripleo-ci,master,I19ef212d6e018de69ccd24ca5091361196a2e27d,Do not reuse dnsmasq-ironic.conf for forcing MTU 1400,ABANDONED,2016-08-29 14:43:27.000000000,2017-10-05 18:30:24.000000000,,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 6773}, {'_account_id': 6928}]","[{'number': 1, 'created': '2016-08-29 14:43:27.000000000', 'files': ['scripts/common_functions.sh', 'scripts/deploy.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a4864247a779e76cd47d378e90c277b66212e5cb', 'message': ""Do not reuse dnsmasq-ironic.conf for forcing MTU 1400\n\nPrior to this commit, the deploy.sh script was reusing the\ndnsmasq-ironic.conf file to force the MTU 1400 when deploying with OVB.\nThe dnsmasq-ironic.conf file will be removed from Ironic's configuration\nbecause it's not needed anymore, therefore this patch is adding the\nrequired code for the tripleo-ci to create it's own custom dnsmasq\nconfiguration file and set it in Neutron.\n\nChange-Id: I19ef212d6e018de69ccd24ca5091361196a2e27d\n""}]",0,362162,a4864247a779e76cd47d378e90c277b66212e5cb,7,4,1,6773,,,0,"Do not reuse dnsmasq-ironic.conf for forcing MTU 1400

Prior to this commit, the deploy.sh script was reusing the
dnsmasq-ironic.conf file to force the MTU 1400 when deploying with OVB.
The dnsmasq-ironic.conf file will be removed from Ironic's configuration
because it's not needed anymore, therefore this patch is adding the
required code for the tripleo-ci to create it's own custom dnsmasq
configuration file and set it in Neutron.

Change-Id: I19ef212d6e018de69ccd24ca5091361196a2e27d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/62/362162/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/common_functions.sh', 'scripts/deploy.sh']",2,a4864247a779e76cd47d378e90c277b66212e5cb,ovb-mtu-1400," # Configure MTU 1400 in neutron-dhcp-agent echo -e ""\ndhcp-option-force=26,1400"" | sudo tee -a /etc/dnsmasq-ovb.conf iniset /etc/neutron/dhcp_agent.ini DEFAULT dnsmasq_config_file /etc/dnsmasq-ovb.conf"," echo -e ""\ndhcp-option-force=26,1400"" | sudo tee -a /etc/dnsmasq-ironic.conf",57,1
openstack%2Ftripleo-ci~master~Ia9df855f19399a0be3380eeb7fa033370c2ea7ff,openstack/tripleo-ci,master,Ia9df855f19399a0be3380eeb7fa033370c2ea7ff,Use a DNS server local to rh1,ABANDONED,2016-09-08 15:12:19.000000000,2017-10-05 18:30:20.000000000,,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 4162}, {'_account_id': 6928}]","[{'number': 1, 'created': '2016-09-08 15:12:19.000000000', 'files': ['scripts/prepare-ovb-cloud.sh', 'scripts/rh1.env', 'scripts/rh2.env'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/63ec27bcb6619b62f9f796b30978f082f7df09e3', 'message': 'Use a DNS server local to rh1\n\nWe have a local DNS server to rh1, use it. rh2 is excluded until\nwe set a DNS server up there.\n\nChange-Id: Ia9df855f19399a0be3380eeb7fa033370c2ea7ff\n'}]",1,367444,63ec27bcb6619b62f9f796b30978f082f7df09e3,13,4,1,1926,,,0,"Use a DNS server local to rh1

We have a local DNS server to rh1, use it. rh2 is excluded until
we set a DNS server up there.

Change-Id: Ia9df855f19399a0be3380eeb7fa033370c2ea7ff
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/44/367444/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/prepare-ovb-cloud.sh', 'scripts/rh1.env', 'scripts/rh2.env']",3,63ec27bcb6619b62f9f796b30978f082f7df09e3,,#export DNSSERVER=TODO,,3,1
openstack%2Finstack-undercloud~master~Iac3f98dee5062ced593b7df322d9c7d75a2d50c6,openstack/instack-undercloud,master,Iac3f98dee5062ced593b7df322d9c7d75a2d50c6,Pre-install packages before running puppet,ABANDONED,2016-08-09 21:55:09.000000000,2017-10-05 18:30:16.000000000,,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 6928}, {'_account_id': 10239}, {'_account_id': 10873}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-08-09 21:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/a057da377e0051d2e51a7f4188260be4b4c390d3', 'message': ""Pre-install packages before running puppet\n\nInstalling a large number of packages via puppet is slow because\nit runs a separate install for each package.  Pre-installing the\npackages we know we'll need should speed up the undercloud install.\n\nChange-Id: Iac3f98dee5062ced593b7df322d9c7d75a2d50c6\n""}, {'number': 2, 'created': '2016-08-10 14:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/48266440c89dffd50c1705dbd2e201f8b6b05ce6', 'message': ""Pre-install packages before running puppet\n\nInstalling a large number of packages via puppet is slow because\nit runs a separate install for each package.  Pre-installing the\npackages we know we'll need should speed up the undercloud install.\n\nChange-Id: Iac3f98dee5062ced593b7df322d9c7d75a2d50c6\n""}, {'number': 3, 'created': '2016-08-10 16:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/53d3dcd1f3754ac3d963277575b96746dacff5b1', 'message': ""Pre-install packages before running puppet\n\nInstalling a large number of packages via puppet is slow because\nit runs a separate install for each package.  Pre-installing the\npackages we know we'll need should speed up the undercloud install.\n\nChange-Id: Iac3f98dee5062ced593b7df322d9c7d75a2d50c6\n""}, {'number': 4, 'created': '2016-08-25 16:04:47.000000000', 'files': ['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/5cfdf28fd6fd11d4e1577a544d30ab22c6f4a51c', 'message': ""Pre-install packages before running puppet\n\nInstalling a large number of packages via puppet is slow because\nit runs a separate install for each package.  Pre-installing the\npackages we know we'll need significantly speeds up the undercloud\ninstall.\n\nIn my local environment, this patch reduces the time (on average)\nto install the undercloud from 16:20 to 14:40, a savings of ~10%.\n\nChange-Id: Iac3f98dee5062ced593b7df322d9c7d75a2d50c6\n""}]",12,353121,5cfdf28fd6fd11d4e1577a544d30ab22c6f4a51c,23,6,4,6928,,,0,"Pre-install packages before running puppet

Installing a large number of packages via puppet is slow because
it runs a separate install for each package.  Pre-installing the
packages we know we'll need significantly speeds up the undercloud
install.

In my local environment, this patch reduces the time (on average)
to install the undercloud from 16:20 to 14:40, a savings of ~10%.

Change-Id: Iac3f98dee5062ced593b7df322d9c7d75a2d50c6
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/21/353121/4 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py']",2,a057da377e0051d2e51a7f4188260be4b4c390d3,pre-install," @mock.patch('instack_undercloud.undercloud._pre_install_packages') mock_configure_logging, mock_pre_install): mock_pre_install.assert_called_once_with() @mock.patch('instack_undercloud.undercloud._run_live_command') def test_pre_install(self, mock_run_command): undercloud._pre_install_packages() args = ['sudo', 'yum', 'install', '-y'] args.extend(undercloud.PREINSTALL_PACKAGES) mock_run_command.assert_called_once_with(args, name='yum preinstall') ", mock_configure_logging):,42,1
openstack%2Finstack-undercloud~master~I6e37cc2ea5e4d896201d584d2c0e6fe16f68c62c,openstack/instack-undercloud,master,I6e37cc2ea5e4d896201d584d2c0e6fe16f68c62c,WIP Force utf-8 for mysql on the undercloud,ABANDONED,2016-10-12 15:59:17.000000000,2017-10-05 18:30:13.000000000,,"[{'_account_id': 3}, {'_account_id': 11816}, {'_account_id': 20172}]","[{'number': 1, 'created': '2016-10-12 15:59:17.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/d9726c965fb85e4b4beb8536a9f9bcfcbc99e682', 'message': 'WIP Force utf-8 for mysql on the undercloud\n\nWork in progress, proper commit message coming up\n\nChange-Id: I6e37cc2ea5e4d896201d584d2c0e6fe16f68c62c\n'}]",0,385534,d9726c965fb85e4b4beb8536a9f9bcfcbc99e682,5,3,1,20172,,,0,"WIP Force utf-8 for mysql on the undercloud

Work in progress, proper commit message coming up

Change-Id: I6e37cc2ea5e4d896201d584d2c0e6fe16f68c62c
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/34/385534/1 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,d9726c965fb85e4b4beb8536a9f9bcfcbc99e682,default-charset-mysql, init_connect: 'SET collation_connection = utf8_unicode_ci' init_connect: 'SET NAMES utf8' character-set-server: utf8 collation-server: utf8_unicode_ci 'mysql': default-character-set: utf8 'client': default-character-set: utf8,,8,0
openstack%2Ftripleo-heat-templates~master~I79488d16700d46ad06a4d30213e9d8f8bc63d5db,openstack/tripleo-heat-templates,master,I79488d16700d46ad06a4d30213e9d8f8bc63d5db,Update NetApp configuration parameters.,ABANDONED,2016-07-13 19:54:45.000000000,2017-10-05 18:30:09.000000000,,"[{'_account_id': 3}, {'_account_id': 14985}]","[{'number': 1, 'created': '2016-07-13 19:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f9eb265bade551c07ca0cf6a17debafb588bdd04', 'message': 'Update NetApp configuration parameters.\n\nChange-Id: I79488d16700d46ad06a4d30213e9d8f8bc63d5db\n'}, {'number': 2, 'created': '2016-07-19 20:34:58.000000000', 'files': ['environments/cinder-netapp-config.yaml', 'puppet/extraconfig/pre_deploy/controller/cinder-netapp.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5692c0276398198edd5e016138980aec4b289557', 'message': 'Update NetApp configuration parameters.\n\nChange-Id: I79488d16700d46ad06a4d30213e9d8f8bc63d5db\n'}]",2,341778,5692c0276398198edd5e016138980aec4b289557,9,2,2,17436,,,0,"Update NetApp configuration parameters.

Change-Id: I79488d16700d46ad06a4d30213e9d8f8bc63d5db
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/341778/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/cinder-netapp-config.yaml', 'puppet/extraconfig/pre_deploy/controller/cinder-netapp.yaml']",2,f9eb265bade551c07ca0cf6a17debafb588bdd04,, CinderNetappReservedPercentage: default: '0' CinderNetappPoolNameSearchPattern: CinderNetappHostType: default: $::os_service_default cinder::backend::netapp::reserved_percentage: {get_input: NetappReservedPercentage} cinder::backend::netapp::netapp_pool_name_search_pattern: {get_input: NetappPoolNameSearchPattern} cinder::backend::netapp::netapp_host_type: {get_input: NetappHostType} NetappReservedPercentage: {get_param: CinderNetappReservedPercentage} NetappPoolNameSearchPattern: {get_param: CinderNetappPoolNameSearchPattern} NetappHostType: {get_param: CinderNetappHostType}, CinderNetappSizeMultiplier: default: '1.2' CinderNetappVolumeList: CinderNetappStoragePools: default: '' CinderNetappEseriesHostType: type: string default: 'linux_dm_mp' cinder::backend::netapp::netapp_size_multiplier: {get_input: NetappSizeMultiplier} cinder::backend::netapp::netapp_volume_list: {get_input: NetappVolumeList} cinder::backend::netapp::netapp_storage_pools: {get_input: NetappStoragePools} cinder::backend::netapp::netapp_eseries_host_type: {get_input: NetappEseriesHostType} NetappSizeMultiplier: {get_param: CinderNetappSizeMultiplier} NetappVolumeList: {get_param: CinderNetappVolumeList} NetappStoragePools: {get_param: CinderNetappStoragePools} NetappEseriesHostType: {get_param: CinderNetappEseriesHostType},14,20
openstack%2Finstack-undercloud~master~I7ea58eec1587983805c17abbe5978777add9756e,openstack/instack-undercloud,master,I7ea58eec1587983805c17abbe5978777add9756e,Enable SSL on the Undercloud by default,ABANDONED,2016-10-18 15:46:51.000000000,2017-10-05 18:30:06.000000000,,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-10-18 15:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/a41ae0d302fed5836e45c535ff0799ee815314f6', 'message': 'Enable SSL on the Undercloud by default\n\nChange-Id: I7ea58eec1587983805c17abbe5978777add9756e\nRelated-Bug: 386817\n'}, {'number': 2, 'created': '2016-10-18 15:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c0df96c4863bffe1cf9d510a52355ee9249d8dec', 'message': 'Enable SSL on the Undercloud by default\n\nChange-Id: I7ea58eec1587983805c17abbe5978777add9756e\n'}, {'number': 3, 'created': '2016-10-18 15:54:28.000000000', 'files': ['undercloud.conf.sample', 'instack_undercloud/undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/01eccaab6125bbf900e2319085373d6eb6a924cf', 'message': 'Enable SSL on the Undercloud by default\n\nTripleO UI has been enabled by default for a while now, and it\ndepends on SSL being enabled on the Undercloud for proper\ncommunication.\n\nChange-Id: I7ea58eec1587983805c17abbe5978777add9756e\n'}]",0,388084,01eccaab6125bbf900e2319085373d6eb6a924cf,7,3,3,21794,,,0,"Enable SSL on the Undercloud by default

TripleO UI has been enabled by default for a while now, and it
depends on SSL being enabled on the Undercloud for proper
communication.

Change-Id: I7ea58eec1587983805c17abbe5978777add9756e
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/84/388084/1 && git format-patch -1 --stdout FETCH_HEAD,"['undercloud.conf.sample', 'instack_undercloud/undercloud.py']",2,a41ae0d302fed5836e45c535ff0799ee815314f6,enable-undercloud-ssl-by-default," default=True,"," default=False,",2,2
openstack%2Ftripleo-common~master~Icf20355e915b999cba586a7281b9a3ca5f43e0d5,openstack/tripleo-common,master,Icf20355e915b999cba586a7281b9a3ca5f43e0d5,Fix ssh connect failed problem in the virtual Environment,ABANDONED,2016-10-21 07:27:26.000000000,2017-10-05 18:30:02.000000000,,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2016-10-21 07:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2d3155977000caf2d5f2c413843950ba0719acad', 'message': 'Fix ssh connect failed problem in the virtual Environment\n\nChange-Id: Icf20355e915b999cba586a7281b9a3ca5f43e0d5\n'}, {'number': 2, 'created': '2016-10-21 07:29:02.000000000', 'files': ['tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/572c5ed55691d78aa9cd364f2eb5b64400b17787', 'message': 'Fix ssh connect failed problem in the virtual Environment\n\nIn my virtual environment,I use three VMs,one as undercloud and the \nother two for the overcloud.\n\nMy test steps as follows refers to the <<Basic Deployment (CLI)>> from \ntripleO.org:\n1. openstack baremetal import instackenv.json\n2. openstack baremetal introspection bulk start\n\nAnd then the problem appears:\n[stack@undercloud1 ~]$ openstack baremetal introspection bulk start\nSetting nodes for introspection to manageable...\nStarting introspection of node: f1fb6fae-d4bc-44c0-b355-c702877309d3\nFailed validation of power interface, reason: SSH connection cannot be \nestablished: Failed to establish SSH connection to host 20.1.1.251.\n\nI check the python code and find the direct problem is in the \nironic-conductor,the ironic-conductor report Invalid private key,but \nthere no private key in my instackenv.json.\n\nAnd the instackenv.json only provides a pm_password. but the \ntripleo-common covers the pm_password to ssh_key_contents.\n\nAfter I change the the ssh_key_contents to ssh_password and the \nproblem disappears.\n\n[stack@undercloud1 ~]$ openstack baremetal introspection bulk start\nSetting nodes for introspection to manageable...\nWaiting for introspection to finish...\nSetting manageable nodes to available...\nIntrospection completed.\n\nChange-Id: Icf20355e915b999cba586a7281b9a3ca5f43e0d5\n'}]",0,389560,572c5ed55691d78aa9cd364f2eb5b64400b17787,6,2,2,15513,,,0,"Fix ssh connect failed problem in the virtual Environment

In my virtual environment,I use three VMs,one as undercloud and the 
other two for the overcloud.

My test steps as follows refers to the <<Basic Deployment (CLI)>> from 
tripleO.org:
1. openstack baremetal import instackenv.json
2. openstack baremetal introspection bulk start

And then the problem appears:
[stack@undercloud1 ~]$ openstack baremetal introspection bulk start
Setting nodes for introspection to manageable...
Starting introspection of node: f1fb6fae-d4bc-44c0-b355-c702877309d3
Failed validation of power interface, reason: SSH connection cannot be 
established: Failed to establish SSH connection to host 20.1.1.251.

I check the python code and find the direct problem is in the 
ironic-conductor,the ironic-conductor report Invalid private key,but 
there no private key in my instackenv.json.

And the instackenv.json only provides a pm_password. but the 
tripleo-common covers the pm_password to ssh_key_contents.

After I change the the ssh_key_contents to ssh_password and the 
problem disappears.

[stack@undercloud1 ~]$ openstack baremetal introspection bulk start
Setting nodes for introspection to manageable...
Waiting for introspection to finish...
Setting manageable nodes to available...
Introspection completed.

Change-Id: Icf20355e915b999cba586a7281b9a3ca5f43e0d5
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/389560/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/nodes.py'],1,2d3155977000caf2d5f2c413843950ba0719acad,CoverPmpasswordToSshpassword," 'pm_password': 'ssh_password',"," 'pm_password': 'ssh_key_contents',",1,1
openstack%2Ftripleo-heat-templates~master~Ia691a41f83f1e46b93d7a52efd5a346179f2b0fd,openstack/tripleo-heat-templates,master,Ia691a41f83f1e46b93d7a52efd5a346179f2b0fd,Install python-oslotest as it needed for python-networking-cisco,ABANDONED,2016-10-14 14:24:37.000000000,2017-10-05 18:29:58.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 15895}]","[{'number': 1, 'created': '2016-10-14 14:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2f51b72aafc3396b2d957eb6cfdc974286e18834', 'message': 'Install python-oslotest as it needed for python-networking-cisci\n\nMore info in the LP 1632988\nThis package should be installed to perform the upgrade of\nthe controller.\nIn some cases (liberty to mitaka for example), the upgade of\nthe controller failed due to this missing package\n\nChange-Id: Ia691a41f83f1e46b93d7a52efd5a346179f2b0fd\nCloses-Bug: #1632988\n'}, {'number': 2, 'created': '2016-10-14 14:25:09.000000000', 'files': ['extraconfig/tasks/major_upgrade_controller_pacemaker_1.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0bc0891d304083fba398c7fe666342efff2c86b0', 'message': 'Install python-oslotest as it needed for python-networking-cisco\n\nMore info in the LP 1632988\nThis package should be installed to perform the upgrade of\nthe controller.\nIn some cases (liberty to mitaka for example), the upgade of\nthe controller failed due to this missing package\n\nChange-Id: Ia691a41f83f1e46b93d7a52efd5a346179f2b0fd\nCloses-Bug: #1632988\n'}]",0,386639,0bc0891d304083fba398c7fe666342efff2c86b0,10,3,2,16515,,,0,"Install python-oslotest as it needed for python-networking-cisco

More info in the LP 1632988
This package should be installed to perform the upgrade of
the controller.
In some cases (liberty to mitaka for example), the upgade of
the controller failed due to this missing package

Change-Id: Ia691a41f83f1e46b93d7a52efd5a346179f2b0fd
Closes-Bug: #1632988
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/386639/1 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/tasks/major_upgrade_controller_pacemaker_1.sh'],1,2f51b72aafc3396b2d957eb6cfdc974286e18834,bug/1632988,# BUG LP 1632988: # python-networking-cisco needs this package to not failed the controller # upgrade yum -y install python-oslotest,,4,0
openstack%2Fpuppet-tripleo~master~I68a1a9ce3b07e1416d6b7bf105f2b00a40eb9d50,openstack/puppet-tripleo,master,I68a1a9ce3b07e1416d6b7bf105f2b00a40eb9d50,WIP DO NOT MERGE Move rabbitmq behind haproxy,ABANDONED,2016-10-23 17:31:50.000000000,2017-10-05 18:29:55.000000000,,"[{'_account_id': 3}, {'_account_id': 20775}]","[{'number': 1, 'created': '2016-10-23 17:31:50.000000000', 'files': ['manifests/profile/base/heat.pp', 'manifests/profile/base/sahara.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/base/ironic.pp', 'manifests/profile/base/manila.pp', 'manifests/profile/base/mistral.pp', 'manifests/profile/base/nova.pp', 'manifests/haproxy.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/haproxy.pp', 'manifests/profile/base/ceilometer.pp', 'manifests/profile/base/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2a1fa695f2315ee295301582b515abd9d1b1569c', 'message': 'WIP DO NOT MERGE Move rabbitmq behind haproxy\n\nCurrently all services hardcode rabbitmq hosts and access them\ndirectly. It is the only service which we access directly.\nMake the architecture more consistent and access rabbit via a VIP\non haproxy as well.\n\nWIP because this will require a lot of testing. Especially around\nconnections to rabbit generated from the same host where the VIP is\nrunning (which currently has an issue that when the VIP modes to another\nnode, the existing connections take ages to realize the VIP is gone)\n\nDepends-On: I0d6717a8d2dad28786af82378d2ecdd2975fbbc4\n\nChange-Id: I68a1a9ce3b07e1416d6b7bf105f2b00a40eb9d50\n'}]",0,390115,2a1fa695f2315ee295301582b515abd9d1b1569c,5,2,1,20172,,,0,"WIP DO NOT MERGE Move rabbitmq behind haproxy

Currently all services hardcode rabbitmq hosts and access them
directly. It is the only service which we access directly.
Make the architecture more consistent and access rabbit via a VIP
on haproxy as well.

WIP because this will require a lot of testing. Especially around
connections to rabbit generated from the same host where the VIP is
running (which currently has an issue that when the VIP modes to another
node, the existing connections take ages to realize the VIP is gone)

Depends-On: I0d6717a8d2dad28786af82378d2ecdd2975fbbc4

Change-Id: I68a1a9ce3b07e1416d6b7bf105f2b00a40eb9d50
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/15/390115/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/heat.pp', 'manifests/profile/base/sahara.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/neutron.pp', 'manifests/profile/base/ironic.pp', 'manifests/profile/base/manila.pp', 'manifests/profile/base/mistral.pp', 'manifests/profile/base/nova.pp', 'manifests/haproxy.pp', 'manifests/profile/base/aodh.pp', 'manifests/profile/base/haproxy.pp', 'manifests/profile/base/ceilometer.pp', 'manifests/profile/base/cinder.pp']",13,2a1fa695f2315ee295301582b515abd9d1b1569c,rabbit-behind-haproxy,"# Defaults to hiera('rabbitmq_vip') $rabbit_hosts = hiera('rabbitmq_vip', undef),","# Defaults to hiera('rabbitmq_node_ips') $rabbit_hosts = hiera('rabbitmq_node_ips', undef),",26,24
openstack%2Ftripleo-heat-templates~master~Ia936fb6bfca13abc888f88ede847b3743f05c03a,openstack/tripleo-heat-templates,master,Ia936fb6bfca13abc888f88ede847b3743f05c03a,Enable Ceph to the upgrade converge step,ABANDONED,2016-11-08 22:42:07.000000000,2017-10-05 18:29:51.000000000,,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 8449}, {'_account_id': 16515}]","[{'number': 1, 'created': '2016-11-08 22:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfc8d0f8ea69b68a017452adfb0a03f3fd125fa0', 'message': 'Add ceph to the hieradata file for compute\n\nThe manifest libvirt.pp needs the ceph client_keys\nin the hiera data in the compute nodes:\ntripleo/manifests/profile/base/nova/compute/libvirt.pp\nhttps://bugs.launchpad.net/tripleo/+bug/1640328\n\nChange-Id: Ia936fb6bfca13abc888f88ede847b3743f05c03a\nCloses-bug: bug/1640328\n'}, {'number': 2, 'created': '2016-11-08 22:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d1201579a5ddc8bb49f86406a45878fa4b852459', 'message': 'Add ceph to the hieradata file for compute\n\nThe manifest libvirt.pp needs the ceph client_keys\nin the hiera data in the compute nodes:\ntripleo/manifests/profile/base/nova/compute/libvirt.pp\nhttps://bugs.launchpad.net/tripleo/+bug/1640328\n\nChange-Id: Ia936fb6bfca13abc888f88ede847b3743f05c03a\nCloses-bug: bug/1640328\n'}, {'number': 3, 'created': '2016-11-08 23:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11ad7d08e8c2792185b417a9fcbe6bfb55acde90', 'message': 'Add ceph to the hieradata file for compute\n\nThe manifest libvirt.pp needs the ceph client_keys\nin the hiera data in the compute nodes:\ntripleo/manifests/profile/base/nova/compute/libvirt.pp\nhttps://bugs.launchpad.net/tripleo/+bug/1640328\n\nChange-Id: Ia936fb6bfca13abc888f88ede847b3743f05c03a\nCloses-bug: 1640328\n'}, {'number': 4, 'created': '2016-11-09 23:27:00.000000000', 'files': ['environments/major-upgrade-pacemaker-converge.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddedd34c55c760c8f7ad684c76b404379a945dd1', 'message': 'Enable Ceph to the upgrade converge step\n\nThe manifest libvirt.pp needs the ceph client_keys\nin the hiera data for the compute nodes:\ntripleo/manifests/profile/base/nova/compute/libvirt.pp\nhttps://bugs.launchpad.net/tripleo/+bug/1640328\n\nChange-Id: Ia936fb6bfca13abc888f88ede847b3743f05c03a\nCloses-bug: bug/1640328\n'}]",1,395234,ddedd34c55c760c8f7ad684c76b404379a945dd1,21,4,4,16515,,,0,"Enable Ceph to the upgrade converge step

The manifest libvirt.pp needs the ceph client_keys
in the hiera data for the compute nodes:
tripleo/manifests/profile/base/nova/compute/libvirt.pp
https://bugs.launchpad.net/tripleo/+bug/1640328

Change-Id: Ia936fb6bfca13abc888f88ede847b3743f05c03a
Closes-bug: bug/1640328
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/395234/4 && git format-patch -1 --stdout FETCH_HEAD,['puppet/compute-role.yaml'],1,dfc8d0f8ea69b68a017452adfb0a03f3fd125fa0,bug/1640328, - ceph # needed by libvirt.pp,,1,0
openstack%2Finstack-undercloud~master~I747251e17b85c677dd4500a558f1d87b33cb3e5f,openstack/instack-undercloud,master,I747251e17b85c677dd4500a558f1d87b33cb3e5f,Update puppet dependancies before running puppet,ABANDONED,2016-06-10 12:19:50.000000000,2017-10-05 18:29:47.000000000,,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11166}]","[{'number': 1, 'created': '2016-06-10 12:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/d2c4032d376e5fe03d559c29af1307ce56c7907e', 'message': ""[WIP] Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 2, 'created': '2016-06-13 14:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/915c0efcad9d212443b84d5ba0483f2800825f87', 'message': ""[WIP] Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 3, 'created': '2016-06-13 14:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/91b3cf6b079a3ca4ace322dd09091ce42c243f55', 'message': ""Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 4, 'created': '2016-06-17 10:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/a2547017a0e5773cb1cd9a2bee816c29ef51a93f', 'message': ""Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 5, 'created': '2016-07-22 11:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/4fb3fd8ec3a855a49df176d51d07ae48670e0568', 'message': ""Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 6, 'created': '2016-07-27 11:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c4c86aaf4d37289f2383c3a02a6582ea0fcd2626', 'message': ""Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 7, 'created': '2016-07-27 12:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/338442c71dac8d960f8fb70351ad40d3ef663be3', 'message': ""Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 8, 'created': '2016-08-05 12:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c92454b8417764a14dab8ccb8b2ba3b3b6ffab4a', 'message': ""Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 9, 'created': '2016-08-29 10:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/994ceeccd93d8367279f3616b3bc9ba6e029c3bf', 'message': ""Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 10, 'created': '2016-08-29 10:20:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/c2bdc737d6736deff595303ac6a4d164ea266fc1', 'message': ""Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 11, 'created': '2016-11-14 14:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/abb22565dd461555bf2409159683f1e8d24586ea', 'message': ""Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}, {'number': 12, 'created': '2016-11-14 14:16:38.000000000', 'files': ['elements/puppet-stack-config/os-refresh-config/environment.d/50-puppet-stack-config'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/2325ad5f9b91eb09d2c908be127aae08376d1472', 'message': ""Update puppet dependancies before running puppet\n\nThough puppet modules and puppet is provided by elements in\ntripleo-puppet-elements DIB can't update so we have to do it\nmanually.\n\nChange-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f\n""}]",2,328264,2325ad5f9b91eb09d2c908be127aae08376d1472,44,4,12,11166,,,0,"Update puppet dependancies before running puppet

Though puppet modules and puppet is provided by elements in
tripleo-puppet-elements DIB can't update so we have to do it
manually.

Change-Id: I747251e17b85c677dd4500a558f1d87b33cb3e5f
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/64/328264/6 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/os-refresh-config/configure.d/50-puppet-stack-config'],1,d2c4032d376e5fe03d559c29af1307ce56c7907e,undercloud-cleanup,"# Ensure puppet dependancies are updated # FIXME: though these packages are provided by elements in tripleo-puppet-elements # DIB can't update them and we always require latest version yum -y update puppet hiera facter if [ ""$DIB_INSTALLTYPE_puppet_modules"" != ""source"" ]; then yum -y update openstack-puppet-modules fi ",,8,0
openstack%2Ftripleo-heat-templates~master~I7dd6a7b65c6b6e14a7ccff12a9226b049689276f,openstack/tripleo-heat-templates,master,I7dd6a7b65c6b6e14a7ccff12a9226b049689276f,Heat templates supporting VSA HP Stroage Backend with LeftHand Driver,ABANDONED,2016-11-02 22:54:40.000000000,2017-10-05 18:29:43.000000000,,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 23863}]","[{'number': 1, 'created': '2016-11-02 22:54:40.000000000', 'files': ['puppet/extraconfig/pre_deploy/controller/cinder-hplefthand.yaml', 'puppet/manifests/overcloud_controller.pp', 'puppet/controller.yaml', 'puppet/manifests/overcloud_controller_pacemaker.pp', 'environments/cinder-hplefthand-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4fdb4e4ecc6e76c69e08f9fbb1fa51d204f7c494', 'message': 'Heat templates supporting VSA HP Stroage Backend with LeftHand Driver\n\nChange-Id: I7dd6a7b65c6b6e14a7ccff12a9226b049689276f\n'}]",0,392998,4fdb4e4ecc6e76c69e08f9fbb1fa51d204f7c494,6,3,1,23863,,,0,"Heat templates supporting VSA HP Stroage Backend with LeftHand Driver

Change-Id: I7dd6a7b65c6b6e14a7ccff12a9226b049689276f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/392998/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/extraconfig/pre_deploy/controller/cinder-hplefthand.yaml', 'puppet/manifests/overcloud_controller.pp', 'puppet/controller.yaml', 'puppet/manifests/overcloud_controller_pacemaker.pp', 'environments/cinder-hplefthand-config.yaml']",5,4fdb4e4ecc6e76c69e08f9fbb1fa51d204f7c494,,"# A Heat environment file which can be used to enable a # a Cinder HP LeftHand (HP StoreVirtual VSA) backend, configured via puppet resource_registry: OS::TripleO::ControllerExtraConfigPre: ../puppet/extraconfig/pre_deploy/controller/cinder-hplefthand.yaml parameter_defaults: CinderEnableHPLeftHandBackend: true CinderHPLeftHandBackendName: 'tripleo_lefthand' CinderHPLeftHandUsername: 'admin' CinderHPLeftHandPassword: '' CinderHPLeftHandClusterName: '' CinderHPLeftHandApiUrl: '' CinderHPLeftHandIScisChapEnabled: false CinderHPLeftHandDebug: false ",,4395,2
openstack%2Ftripleo-heat-templates~master~I8ca8d926901fa9943cb7e458915cce5f2b5bca05,openstack/tripleo-heat-templates,master,I8ca8d926901fa9943cb7e458915cce5f2b5bca05,Add novajoin profile to controller,ABANDONED,2016-09-21 16:45:28.000000000,2017-10-05 18:29:40.000000000,,"[{'_account_id': 3}, {'_account_id': 9914}]","[{'number': 1, 'created': '2016-09-21 16:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e96de80ab2774c44db2c119cc0156e43eea5d625', 'message': 'Add novajoin profile to controller\n\nChange-Id: I8ca8d926901fa9943cb7e458915cce5f2b5bca05\n'}, {'number': 2, 'created': '2016-09-27 16:10:50.000000000', 'files': ['overcloud-resource-registry-puppet.yaml', 'roles_data.yaml', 'environments/novajoin.yaml', 'puppet/services/novajoin.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3932e7a8046dbb7edf8453f8170cc1cd6252d92', 'message': 'Add novajoin profile to controller\n\nChange-Id: I8ca8d926901fa9943cb7e458915cce5f2b5bca05\n'}]",0,374285,f3932e7a8046dbb7edf8453f8170cc1cd6252d92,11,2,2,9914,,,0,"Add novajoin profile to controller

Change-Id: I8ca8d926901fa9943cb7e458915cce5f2b5bca05
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/374285/2 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.yaml', 'roles_data.yaml', 'environments/novajoin.yaml', 'puppet/services/novajoin.yaml']",4,e96de80ab2774c44db2c119cc0156e43eea5d625,support_novajoin,"heat_template_version: 2016-04-08 description: > Novajoin client configured with Puppet, to facilitate enrollment of servers created by nova overcloud controller processes to IPA. parameters: ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json IpaDomain: description: The IPA domain. type: string IpaPassword: description: The password for the IPA admin principal, used to set up novajoin. type: string hidden: true IpaPrincipal: description: The IPA admin principal, used to set up novajoin. type: string IpaServer: description: The IPA server hostname. type: string NovaPassword: description: The password for the nova-api service , used by novajoin. type: string hidden: true outputs: role_data: description: Role data for the novajoin service value: service_name: novajoin config_settings: nova::api::vendordata_jsonfile_path: '/etc/nova/cloud-config.json' nova::api::vendordata_providers: ['StaticJSON', 'DynamicJSON'] nova::api::vendordata_dynamic_targets: ['join@http://127.0.0.1:9999/v1/'] nova::notification_topics: 'notifications' nova::notify_on_state_change: 'vm_state' novajoin::api::ipa_domain: {get_param: IpaDomain} novajoin::api::ipa_password: {get_param: IpaPassword} novajoin::api::ipa_principal: {get_param: IpaPrincipal} novajoin::api::ipa_server: {get_param: IpaServer} novajoin::api::keystone_auth_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]} novajoin::api::nova_password: {get_param: NovaPassword} novajoin::api::transport_url: ""%{hiera('nova::default_transport_url')}"" tripleo.novajoin.firewall_rules: '127 novajoin': dport: 9999 step_config: | include ::tripleo::profile::base::novajoin ",,70,0
openstack%2Ftripleo-heat-templates~master~Idef44f09bc0ae1903dc1623c7ec6f5c2487d90d9,openstack/tripleo-heat-templates,master,Idef44f09bc0ae1903dc1623c7ec6f5c2487d90d9,[WIP] Allow manual configuration of routed network IPs.,ABANDONED,2016-11-21 22:04:33.000000000,2017-10-05 18:29:37.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-11-21 22:04:33.000000000', 'files': ['network/ports/tenant_from_pool.yaml', 'environments/network-isolation.yaml', 'environments/ips-from-pool-spine-leaf.yaml', 'network/ports/internal_api_from_pool.yaml', 'network/internal_api.yaml', 'network/ports/storage_from_pool.yaml', 'roles_data.yaml', 'network/ports/storage_mgmt_from_pool.yaml', 'network/ports/external_from_pool.yaml', 'network/storage.yaml', 'network/tenant.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8511d29264086f642308df727e8101037dd3d28d', 'message': '[WIP] Allow manual configuration of routed network IPs.\n\nThis change allows using pre-selected IP addresses on multiple\nrouted subnets to be used for a deployment in a spine-and-leaf\nrouted network. Each node must have IP addresses on the correct\nsubnet, so node tagging is used for specific placement of nodes\non the correct network.\n\nChange-Id: Idef44f09bc0ae1903dc1623c7ec6f5c2487d90d9\n'}]",0,400423,8511d29264086f642308df727e8101037dd3d28d,4,1,1,12398,,,0,"[WIP] Allow manual configuration of routed network IPs.

This change allows using pre-selected IP addresses on multiple
routed subnets to be used for a deployment in a spine-and-leaf
routed network. Each node must have IP addresses on the correct
subnet, so node tagging is used for specific placement of nodes
on the correct network.

Change-Id: Idef44f09bc0ae1903dc1623c7ec6f5c2487d90d9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/400423/1 && git format-patch -1 --stdout FETCH_HEAD,"['network/ports/tenant_from_pool.yaml', 'environments/network-isolation.yaml', 'environments/ips-from-pool-spine-leaf.yaml', 'network/ports/internal_api_from_pool.yaml', 'network/internal_api.yaml', 'network/ports/storage_from_pool.yaml', 'roles_data.yaml', 'network/ports/storage_mgmt_from_pool.yaml', 'network/ports/external_from_pool.yaml', 'network/storage.yaml', 'network/tenant.yaml']",11,8511d29264086f642308df727e8101037dd3d28d,spine_leaf_from_pool," TenantNetCidr: default: '172.19.4.0/24' description: Cidr for the tenant network. type: string TenantNetName2: default: tenant2 description: The name of the tenant network. type: string TenantAllocationPools2: default: [{'start': '172.19.4.4', 'end': '172.19.4.250'}] description: Ip allocation pool range for the tenant network. type: json gateway_ip: '172.20.4.254' TenantSubnet2: type: OS::Neutron::Subnet properties: cidr: {get_param: TenantNetCidr2} enable_dhcp: {get_param: TenantNetEnableDHCP} name: {get_param: TenantSubnetName2} network: {get_resource: TenantNetwork} allocation_pools: {get_param: TenantAllocationPools2} gateway_ip: '172.19.4.254'", gateway_ip: null,236,2
openstack%2Ftripleo-ci~master~Ie1dd42c1a3b0a0fa2336d9fe9abc1e7b8115bf03,openstack/tripleo-ci,master,Ie1dd42c1a3b0a0fa2336d9fe9abc1e7b8115bf03,Check the status of the stack deployed instead of the return code,ABANDONED,2016-11-22 09:40:16.000000000,2017-10-05 18:29:33.000000000,,"[{'_account_id': 3}, {'_account_id': 12715}]","[{'number': 1, 'created': '2016-11-22 09:40:16.000000000', 'files': ['scripts/tripleo.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/046b766bd334675e8f2adcc1fff40821c0a4b049', 'message': ""Check the status of the stack deployed instead of the return code\n\nIn some cases the stack failed but the return is still 0, then\nthe current check won't catch the stack failure and then will\ncontinue with the ping test or other post-deployment action.\nBy check the heat stack status, we can catch all the failing\nstate of the stack.\n\nChange-Id: Ie1dd42c1a3b0a0fa2336d9fe9abc1e7b8115bf03\n""}]",0,400644,046b766bd334675e8f2adcc1fff40821c0a4b049,5,2,1,16515,,,0,"Check the status of the stack deployed instead of the return code

In some cases the stack failed but the return is still 0, then
the current check won't catch the stack failure and then will
continue with the ping test or other post-deployment action.
By check the heat stack status, we can catch all the failing
state of the stack.

Change-Id: Ie1dd42c1a3b0a0fa2336d9fe9abc1e7b8115bf03
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/44/400644/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo.sh'],1,046b766bd334675e8f2adcc1fff40821c0a4b049,fail-oc-deploy," openstack overcloud deploy $OVERCLOUD_DEPLOY_ARGS if heat stack-show ""$OVERCLOUD_NAME"" | grep ""stack_status "" | egrep ""(CREATE|UPDATE)_COMPLETE""; then log ""Overcloud create - DONE."" else"," exitval=0 openstack overcloud deploy $OVERCLOUD_DEPLOY_ARGS || exitval=1 if [ $exitval -eq 1 ]; then log ""Overcloud create - DONE.""",4,5
openstack%2Ftripleo-common~master~Iecd03145aef6ac24f4c9bd00d18cbb7219694f1b,openstack/tripleo-common,master,Iecd03145aef6ac24f4c9bd00d18cbb7219694f1b,Validate the nodes_json input during registration,ABANDONED,2016-10-07 14:34:14.000000000,2017-10-05 18:29:20.000000000,,"[{'_account_id': 3}, {'_account_id': 4330}, {'_account_id': 10239}, {'_account_id': 13039}]","[{'number': 1, 'created': '2016-10-07 14:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e091a835c6054222d86d27cb741588354c872dad', 'message': 'Validate the nodes_json input during registration\n\nThis adds the instackenv.json validation directly into the node\nregistration workflow. It showcases how to integrate validations where\nthey belong and as well as how to pass additional inputs a validation\nmight expect.\n\nChange-Id: Iecd03145aef6ac24f4c9bd00d18cbb7219694f1b\nCloses-Bug: #1625522\nDepends-On: I35e9ff2aade22d55d6ecc892672384037bd2ede8\n'}, {'number': 2, 'created': '2016-10-07 14:56:51.000000000', 'files': ['workbooks/baremetal.yaml', 'tripleo_common/actions/validations.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dcad3ea2d5e3c1d16bb3755deb2205571800e660', 'message': 'Validate the nodes_json input during registration\n\nThis adds the instackenv.json validation directly into the node\nregistration workflow. It showcases how to integrate validations where\nthey belong and as well as how to pass additional inputs a validation\nmight expect.\n\nChange-Id: Iecd03145aef6ac24f4c9bd00d18cbb7219694f1b\nCloses-Bug: #1625522\nDepends-On: I35e9ff2aade22d55d6ecc892672384037bd2ede8\n'}]",2,383764,dcad3ea2d5e3c1d16bb3755deb2205571800e660,12,4,2,4330,,,0,"Validate the nodes_json input during registration

This adds the instackenv.json validation directly into the node
registration workflow. It showcases how to integrate validations where
they belong and as well as how to pass additional inputs a validation
might expect.

Change-Id: Iecd03145aef6ac24f4c9bd00d18cbb7219694f1b
Closes-Bug: #1625522
Depends-On: I35e9ff2aade22d55d6ecc892672384037bd2ede8
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/64/383764/2 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/baremetal.yaml', 'tripleo_common/actions/validations.py']",2,e091a835c6054222d86d27cb741588354c872dad,bug/1625522," # Skip running the validation if they're not enabled. # NOTE(shadower): this lets us insert validations into other workflows # without complicating the logic with ""are validations enabled?"" # checks. if not Enabled()._validations_enabled(): return_value = { 'stdout': 'Validations are disabled -- skipping.', 'stderr': '', } return mistral_workflow_utils.Result(return_value, None) ",,27,0
openstack%2Ftripleo-heat-templates~master~I00a5138d4d84b974f0b01a99d0977febe967057a,openstack/tripleo-heat-templates,master,I00a5138d4d84b974f0b01a99d0977febe967057a,Added CeilometerEventDispatcher heat parameter,ABANDONED,2016-10-28 19:17:20.000000000,2017-10-05 18:29:15.000000000,,"[{'_account_id': 3}, {'_account_id': 6924}, {'_account_id': 10068}, {'_account_id': 23370}]","[{'number': 1, 'created': '2016-10-28 19:17:20.000000000', 'files': ['puppet/services/ceilometer-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c05dd293370e6d43f469f6c038466ae8c956ec1e', 'message': ""Added CeilometerEventDispatcher heat parameter\n\nThe ceilometer-base.yaml doesn't include a parameter to change the event_dispatchers settings within ceilometer.conf.\n\nChange-Id: I00a5138d4d84b974f0b01a99d0977febe967057a\nCloses-Bug: 1637618\n""}]",0,391542,c05dd293370e6d43f469f6c038466ae8c956ec1e,10,4,1,23370,,,0,"Added CeilometerEventDispatcher heat parameter

The ceilometer-base.yaml doesn't include a parameter to change the event_dispatchers settings within ceilometer.conf.

Change-Id: I00a5138d4d84b974f0b01a99d0977febe967057a
Closes-Bug: 1637618
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/42/391542/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/ceilometer-base.yaml'],1,c05dd293370e6d43f469f6c038466ae8c956ec1e,bug/1637618," CeilometerEventDispatcher: default: 'gnocchi' description: Dispatcher to process event data type: string constraints: - allowed_values: ['gnocchi', 'database'] ceilometer::collector::event_dispatcher: {get_param: CeilometerEventDispatcher}",,7,0
openstack%2Ftripleo-heat-templates~master~I8c295d290ce729d154b50087105abd341671a438,openstack/tripleo-heat-templates,master,I8c295d290ce729d154b50087105abd341671a438,WIP DO NOT MERGE - WIP for utf-8 charset on the db,ABANDONED,2016-10-12 16:12:08.000000000,2017-10-05 18:29:10.000000000,,"[{'_account_id': 3}, {'_account_id': 11816}, {'_account_id': 14985}, {'_account_id': 20172}]","[{'number': 1, 'created': '2016-10-12 16:12:08.000000000', 'files': ['puppet/services/database/mysql.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/505f7b5acbe1b3e466f67ee5447bc88fa2c2264a', 'message': 'WIP DO NOT MERGE - WIP for utf-8 charset on the db\n\nWIP commit message to be created\n\nChange-Id: I8c295d290ce729d154b50087105abd341671a438\n'}]",1,385540,505f7b5acbe1b3e466f67ee5447bc88fa2c2264a,9,4,1,20172,,,0,"WIP DO NOT MERGE - WIP for utf-8 charset on the db

WIP commit message to be created

Change-Id: I8c295d290ce729d154b50087105abd341671a438
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/40/385540/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/database/mysql.yaml'],1,505f7b5acbe1b3e466f67ee5447bc88fa2c2264a,wip-db-charset, tripleo::profile::base::database::mysql::mysql_server_options: 'mysqld': init_connect: 'SET collation_connection = utf8_unicode_ci' init_connect: 'SET NAMES utf8' character-set-server: utf8 collation-server: utf8_unicode_ci 'mysql': default-character-set: utf8 'client': default-character-set: utf8,,10,0
openstack%2Finstack-undercloud~master~I8d5690b1e212fd3aee130068df63251763255743,openstack/instack-undercloud,master,I8d5690b1e212fd3aee130068df63251763255743,Add option to set a custom dnsmasq configuration file,ABANDONED,2016-09-01 15:33:07.000000000,2017-10-05 18:29:06.000000000,,"[{'_account_id': 3}, {'_account_id': 6681}, {'_account_id': 6773}, {'_account_id': 10239}, {'_account_id': 14614}, {'_account_id': 14985}, {'_account_id': 21909}]","[{'number': 1, 'created': '2016-09-01 15:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/103083cb280343bfbbba922390b9a913ad5cee0f', 'message': ""Add option to set a custom dnsmasq configuration file\n\nThis patch is adding an option to allow users to set a custom dnsmasq\nconfiguration file which will overwrite neutron's default settings.\n\nChange-Id: I8d5690b1e212fd3aee130068df63251763255743\n""}, {'number': 2, 'created': '2016-10-06 16:27:21.000000000', 'files': ['undercloud.conf.sample', 'instack_undercloud/undercloud.py', 'elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/3c54f6b60f5781c9bc01385f766037094e5a12ef', 'message': ""Add option to set a custom dnsmasq configuration file\n\nThis patch is adding an option to allow users to set a custom dnsmasq\nconfiguration file which will overwrite neutron's default settings.\n\nChange-Id: I8d5690b1e212fd3aee130068df63251763255743\n""}]",3,364391,3c54f6b60f5781c9bc01385f766037094e5a12ef,22,7,2,6773,,,0,"Add option to set a custom dnsmasq configuration file

This patch is adding an option to allow users to set a custom dnsmasq
configuration file which will overwrite neutron's default settings.

Change-Id: I8d5690b1e212fd3aee130068df63251763255743
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/91/364391/2 && git format-patch -1 --stdout FETCH_HEAD,"['undercloud.conf.sample', 'instack_undercloud/undercloud.py', 'elements/puppet-stack-config/puppet-stack-config.yaml.template']",3,103083cb280343bfbbba922390b9a913ad5cee0f,custom-dnsmasq-config-file,neutron::agents::dhcp::dnsmasq_config_file: {{DNSMASQ_CONFIG_FILE}},,11,4
openstack%2Ftripleo-heat-templates~master~I96ff8630ac60adb320e5339603786c75ee86497e,openstack/tripleo-heat-templates,master,I96ff8630ac60adb320e5339603786c75ee86497e,Add a heat output describing where roles are located,ABANDONED,2016-06-09 16:57:30.000000000,2017-10-05 18:29:03.000000000,,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 6928}, {'_account_id': 10239}]","[{'number': 1, 'created': '2016-06-09 16:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c47f46a5bfe8e14a3c646936946348f67f1f88f', 'message': 'Add a heat output for RoleNodes\n\nCreate a heat output of ip addresses associated with\nspecific overcloud roles.\n\nChange-Id: I96ff8630ac60adb320e5339603786c75ee86497e\n'}, {'number': 2, 'created': '2016-06-09 21:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bfd4859c6337c2f740f1efa889f73f94d6cff4ee', 'message': 'Add a heat output for RoleNodes\n\nCreate a heat output of ip addresses associated with\nspecific overcloud roles.\n\nChange-Id: I96ff8630ac60adb320e5339603786c75ee86497e\n'}, {'number': 3, 'created': '2016-06-09 22:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/76e10eb01e4f22960d325991664db90fa911366e', 'message': 'Add a heat output for RoleNodes\n\nCreate a heat output of ip addresses associated with\nspecific overcloud roles.\n\nChange-Id: I96ff8630ac60adb320e5339603786c75ee86497e\n'}, {'number': 4, 'created': '2016-09-26 12:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39d4026b78c774903ecc28f3530ddfbb7b0d5ac4', 'message': 'Add a heat output for RoleNodes\n\nCreate a heat output of ip addresses associated with\nspecific overcloud roles.\n\nChange-Id: I96ff8630ac60adb320e5339603786c75ee86497e\n'}, {'number': 5, 'created': '2016-11-01 18:40:24.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e73ae78c390d5e29bafce6088164f41ca330529b', 'message': 'Add a heat output describing where roles are located\n\nCreate a heat output RoleNodes that will identify which ip address\nis associated with specific overcloud roles.\n\nChange-Id: I96ff8630ac60adb320e5339603786c75ee86497e\n'}]",1,327822,e73ae78c390d5e29bafce6088164f41ca330529b,19,4,5,10419,,,0,"Add a heat output describing where roles are located

Create a heat output RoleNodes that will identify which ip address
is associated with specific overcloud roles.

Change-Id: I96ff8630ac60adb320e5339603786c75ee86497e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/327822/5 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.yaml'],1,7c47f46a5bfe8e14a3c646936946348f67f1f88f,," RoleNodes: description: | A nested map of roles to ipaddresses. value: - controller: {get_attr: [Controller, management_ip_address]} - compute: {get_attr: [Compute, management_ip_address]}",,6,0
openstack%2Finstack-undercloud~master~Idbf739bc41a20ed51aac92913916562476257690,openstack/instack-undercloud,master,Idbf739bc41a20ed51aac92913916562476257690,Nothing to see here,ABANDONED,2016-07-01 16:35:03.000000000,2017-10-05 18:28:59.000000000,,"[{'_account_id': 3}, {'_account_id': 1926}, {'_account_id': 7144}]","[{'number': 1, 'created': '2016-07-01 16:35:03.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp', 'elements/puppet-stack-config/puppet-stack-config.yaml.template'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/1247b9aed2337b01cbfa1eccffb3f53780cc38a9', 'message': 'Nothing to see here\n\nTesting\n\nChange-Id: Idbf739bc41a20ed51aac92913916562476257690\n'}]",0,336654,1247b9aed2337b01cbfa1eccffb3f53780cc38a9,9,3,1,1926,,,0,"Nothing to see here

Testing

Change-Id: Idbf739bc41a20ed51aac92913916562476257690
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/54/336654/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/puppet-stack-config/puppet-stack-config.pp', 'elements/puppet-stack-config/puppet-stack-config.yaml.template']",2,1247b9aed2337b01cbfa1eccffb3f53780cc38a9,, - glance.store.filesystem.Store - glance.store.swift.Store glance::api::default_store: 'glance.store.swift.Store'," - file # For now, we can't enable Swift backend because of OOM issue. # See https://bugs.launchpad.net/tripleo/+bug/1595916 glance::api::default_store: 'file'",4,5
openstack%2Ftripleo-quickstart~master~Icc9b099127532d353a1043de3d8bfec0a21d14be,openstack/tripleo-quickstart,master,Icc9b099127532d353a1043de3d8bfec0a21d14be,Add a general_config deploying Pacemaker and Ceph/HCI,ABANDONED,2016-12-05 00:35:42.000000000,2017-10-05 18:28:56.000000000,,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 12715}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-12-05 00:35:42.000000000', 'files': ['config/general_config/minimal_pacemaker_ceph_hci.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/02531b755a006c711f0236f631e1088c3c25f246', 'message': 'Add a general_config deploying Pacemaker and Ceph/HCI\n\nThis change adds a general_config meant to deploy Pacemaker\nand Ceph (colocated on the compute node) to simulate the use of\nPacemaker and Ceph with minimal hardware requirements.\n\nChange-Id: Icc9b099127532d353a1043de3d8bfec0a21d14be\n'}]",1,406649,02531b755a006c711f0236f631e1088c3c25f246,6,4,1,6796,,,0,"Add a general_config deploying Pacemaker and Ceph/HCI

This change adds a general_config meant to deploy Pacemaker
and Ceph (colocated on the compute node) to simulate the use of
Pacemaker and Ceph with minimal hardware requirements.

Change-Id: Icc9b099127532d353a1043de3d8bfec0a21d14be
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/49/406649/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/minimal_pacemaker_ceph_hci.yaml'],1,02531b755a006c711f0236f631e1088c3c25f246,ceph,"# This config deploys a minimal configuration with pacemaker to # simulate a configuration close to HA without requiring 3 controllers # and a ceph-osd colocated on the compute node to simulate use of Ceph # Define a controller node, a compute node, and a ceph node. overcloud_nodes: - name: control_0 flavor: control - name: compute_0 flavor: compute - name: ceph_0 flavor: ceph # Tell tripleo how we want things done. extra_args: >- -e {{overcloud_templates_path}}/environments/storage-environment.yaml -e {{overcloud_templates_path}}/environments/hyperconverged-ceph.yaml --ntp-server pool.ntp.org network_isolation: true test_ping: true enable_pacemaker: true run_tempest: false ",,25,0
openstack%2Ftripleo-quickstart-extras~master~Idcaba849a8713d7289e4b85e00ae9a4ddf501b8d,openstack/tripleo-quickstart-extras,master,Idcaba849a8713d7289e4b85e00ae9a4ddf501b8d,Add overcloud swap support on overcloud_deploy role,ABANDONED,2016-12-05 15:57:47.000000000,2017-10-05 18:28:52.000000000,,"[{'_account_id': 3}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 11589}, {'_account_id': 12715}, {'_account_id': 16515}, {'_account_id': 18846}]","[{'number': 1, 'created': '2016-12-05 15:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/80526031183149483a4f6015890f7f2d79af6584', 'message': ""Add overcloud swap support on overcloud_deploy role\n\nThe overcloud nodes doesn't have any swap currently.\nIn some cases the swap is mandatory (infra issue or\nbig virt config).\n\nChange-Id: Idcaba849a8713d7289e4b85e00ae9a4ddf501b8d\n""}, {'number': 2, 'created': '2016-12-05 16:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5234ad752ad5acfb2af14cd137d61caa74deaaec', 'message': ""Add overcloud swap support on overcloud_deploy role\n\nThe overcloud nodes doesn't have any swap currently.\nIn some cases the swap is mandatory (infra issue or\nbig virt config).\nThis change add the swap by default for all the\ndeployments.\n\nChange-Id: Idcaba849a8713d7289e4b85e00ae9a4ddf501b8d\n""}, {'number': 3, 'created': '2016-12-05 22:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bfb46d133122a6dc06abceb9f1e7094a7cd82487', 'message': ""Add overcloud swap support on overcloud_deploy role\n\nThe overcloud nodes doesn't have any swap currently.\nIn some cases the swap is mandatory (infra issue or\nbig virt config).\nThis change add the swap by default for all the\ndeployments.\n\nChange-Id: Idcaba849a8713d7289e4b85e00ae9a4ddf501b8d\n""}, {'number': 4, 'created': '2016-12-07 12:50:54.000000000', 'files': ['roles/overcloud-deploy/tasks/create-scripts.yml', 'roles/overcloud-deploy/templates/swap.yaml.j2', 'roles/overcloud-deploy/tasks/pre-deploy.yml', 'roles/overcloud-deploy/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5ba06f797930d7b25c796cc64189738f567af7c5', 'message': ""Add overcloud swap support on overcloud_deploy role\n\nThe overcloud nodes doesn't have any swap currently.\nIn some cases the swap is mandatory (infra issue or\nbig virt config).\nThis change add the swap by default for all the\ndeployments.\n\nChange-Id: Idcaba849a8713d7289e4b85e00ae9a4ddf501b8d\n""}]",6,407046,5ba06f797930d7b25c796cc64189738f567af7c5,31,8,4,16515,,,0,"Add overcloud swap support on overcloud_deploy role

The overcloud nodes doesn't have any swap currently.
In some cases the swap is mandatory (infra issue or
big virt config).
This change add the swap by default for all the
deployments.

Change-Id: Idcaba849a8713d7289e4b85e00ae9a4ddf501b8d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/46/407046/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/overcloud-deploy/tasks/create-scripts.yml', 'roles/overcloud-deploy/templates/swap.yaml.j2', 'roles/overcloud-deploy/tasks/pre-deploy.yml', 'roles/overcloud-deploy/defaults/main.yml']",4,80526031183149483a4f6015890f7f2d79af6584,oc-swap,"# swap config set_overcloud_swap: true swap_size: 4096swap_args: """" {{ swap_args }}",,24,1
openstack%2Ftripleo-heat-templates~master~Id18bb08530b5d3aea0d980aa787153b8fb467234,openstack/tripleo-heat-templates,master,Id18bb08530b5d3aea0d980aa787153b8fb467234,WIP: Add custom role for realtime compute,ABANDONED,2016-12-16 17:30:46.000000000,2017-10-05 18:28:48.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-12-16 17:30:46.000000000', 'files': ['puppet/services/nova-realtime.yaml', 'j2_excludes.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles_data.yaml', 'environments/realtime.yaml', 'puppet/computerealtime-role.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a066c7ab76534262d43bef92ec74232472b42616', 'message': ""WIP: Add custom role for realtime compute\n\nCreate an initial version of a custom role for realtime compute. This doesn't\nachieve very much right now but can be useful for testing with the custom images\nand flavors that realtime will require.\nIt also demonstrates heat params this will need and an example of how the boot\nparams for CPU isolation & hugepages could be handled (very likely to change).\n\nPartially Implements: blueprint tripleo-realtime\n\nChange-Id: Id18bb08530b5d3aea0d980aa787153b8fb467234\n""}]",0,411925,a066c7ab76534262d43bef92ec74232472b42616,4,1,1,23811,,,0,"WIP: Add custom role for realtime compute

Create an initial version of a custom role for realtime compute. This doesn't
achieve very much right now but can be useful for testing with the custom images
and flavors that realtime will require.
It also demonstrates heat params this will need and an example of how the boot
params for CPU isolation & hugepages could be handled (very likely to change).

Partially Implements: blueprint tripleo-realtime

Change-Id: Id18bb08530b5d3aea0d980aa787153b8fb467234
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/411925/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/nova-realtime.yaml', 'j2_excludes.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/realtime.yaml', 'roles_data.yaml', 'puppet/computerealtime-role.yaml']",6,a066c7ab76534262d43bef92ec74232472b42616,bp/tripleo-realtime,"heat_template_version: 2016-10-14 description: > OpenStack realtime hypervisor node configured via Puppet. parameters: ExtraConfig: default: {} description: | Additional hiera configuration to inject into the cluster. Note that ComputeRealtimeExtraConfig takes precedence over ExtraConfig. type: json OvercloudComputeRealtimeFlavor: description: Flavor for the nova compute node default: baremetal type: string constraints: - custom_constraint: nova.flavor ComputeRealtimeImage: type: string default: overcloud-full constraints: - custom_constraint: glance.image ImageUpdatePolicy: default: 'REBUILD_PRESERVE_EPHEMERAL' description: What policy to use when reconstructing instances. REBUILD for rebuilds, REBUILD_PRESERVE_EPHEMERAL to preserve /mnt. type: string KeyName: description: Name of an existing Nova key pair to enable SSH access to the instances type: string default: default constraints: - custom_constraint: nova.keypair NeutronPhysicalBridge: default: 'br-ex' description: An OVS bridge to create for accessing external networks. type: string NeutronPublicInterface: default: nic1 description: A port to add to the NeutronPhysicalBridge. type: string NodeIndex: type: number default: 0 ComputeRealtimeExtraConfig: default: {} description: | ComputeRealtime specific configuration to inject into the cluster. Same structure as ExtraConfig. type: json ComputeRealtimeIPs: default: {} type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. type: json EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json UpdateIdentifier: default: '' type: string description: > Setting to a previously unused value during stack-update will trigger package update on all nodes Hostname: type: string default: '' # Defaults to Heat created hostname HostnameMap: type: json default: {} description: Optional mapping to override hostnames NetworkDeploymentActions: type: comma_delimited_list description: > Heat action when to apply network configuration changes default: ['CREATE'] SoftwareConfigTransport: default: POLL_SERVER_CFN description: | How the server should receive the metadata required for software configuration. type: string constraints: - allowed_values: [POLL_SERVER_CFN, POLL_SERVER_HEAT, POLL_TEMP_URL, ZAQAR_MESSAGE] CloudDomain: default: 'localdomain' type: string description: > The DNS domain used for the hosts. This should match the dhcp_domain configured in the Undercloud neutron. Defaults to localdomain. ServerMetadata: default: {} description: > Extra properties or metadata passed to Nova for the created nodes in the overcloud. It's accessible via the Nova metadata API. type: json ComputeRealtimeSchedulerHints: type: json description: Optional scheduler hints to pass to nova default: {} ServiceConfigSettings: type: json default: {} ServiceNames: type: comma_delimited_list default: [] MonitoringSubscriptions: type: comma_delimited_list default: [] ConfigCommand: type: string description: Command which will be run whenever configuration data changes default: os-refresh-config --timeout 14400 ComputeRealtimeIsolatedCpus: description: > A list or range of physical CPU cores to reserve for virtual machine processes. Ex. ComputeRealtimeIsolatedCpus: ['4-12','14'] will reserve cores from 4-14 excluding 13 type: comma_delimited_list default: ['0-1'] ComputeRealtimeDefaultHugepageSize: description: > Default hugepage size. 2M or 1G on x86_64. type: string default: '' ComputeRealtimeHugepageReservation: description: > Number of hugepages to reserve via kernel params (boot) and per numa node via sysfs. type: json default: boot: {} node: 0: {} resources: ComputeRealtime: type: OS::TripleO::Server metadata: os-collect-config: command: {get_param: ConfigCommand} properties: image: {get_param: ComputeRealtimeImage} image_update_policy: get_param: ImageUpdatePolicy flavor: {get_param: OvercloudComputeRealtimeFlavor} key_name: {get_param: KeyName} networks: - network: ctlplane user_data_format: SOFTWARE_CONFIG user_data: {get_resource: UserData} name: str_replace: template: {get_param: Hostname} params: {get_param: HostnameMap} software_config_transport: {get_param: SoftwareConfigTransport} metadata: {get_param: ServerMetadata} scheduler_hints: {get_param: ComputeRealtimeSchedulerHints} # Combine the NodeAdminUserData and NodeUserData mime archives UserData: type: OS::Heat::MultipartMime properties: parts: - config: {get_resource: NodeAdminUserData} type: multipart - config: {get_resource: NodeUserData} type: multipart - config: {get_resource: ComputeRealtimeUserData} type: multipart # Creates the ""heat-admin"" user if configured via the environment # Should return a OS::Heat::MultipartMime reference via OS::stack_id NodeAdminUserData: type: OS::TripleO::NodeAdminUserData # For optional operator additional userdata # Should return a OS::Heat::MultipartMime reference via OS::stack_id NodeUserData: type: OS::TripleO::NodeUserData ComputeRealtimeUserData: type: OS::Heat::MultipartMime properties: parts: - config: {get_resource: boot_config} - config: {get_resource: boot_config_script} boot_config: type: OS::Heat::CloudConfig properties: cloud_config: write_files: - path: /tmp/boot_config.yaml content: isolated_cpus: {get_param: ComputeRealtimeIsolatedCpus} default_hugepagesz: {get_param: ComputeRealtimeDefaultHugepageSize} hugepage_reservation: {get_param: ComputeRealtimeHugepageReservation} # Dummy script that just reads the yaml for now boot_config_script: type: OS::Heat::SoftwareConfig properties: config: | #!/usr/bin/python import yaml with open('/tmp/boot_config.yaml') as conf_file: conf = yaml.safe_load(conf_file.read()) if conf.get('isolated_cpus'): # set tuned config pass if conf.get('default_hugepagesz'): # modify /etc/default/grub pass if conf.get('hugepage_reservation'): # modify /etc/default/grub # create systemd service to reserve pages via sysfs pass # set tuned profile & enable service # ^ should update grub, may need to watch the cfg file mtime to change before returning # reboot ExternalPort: type: OS::TripleO::Compute::Ports::ExternalPort properties: ControlPlaneIP: {get_attr: [ComputeRealtime, networks, ctlplane, 0]} IPPool: {get_param: ComputeRealtimeIPs} NodeIndex: {get_param: NodeIndex} InternalApiPort: type: OS::TripleO::Compute::Ports::InternalApiPort properties: ControlPlaneIP: {get_attr: [ComputeRealtime, networks, ctlplane, 0]} IPPool: {get_param: ComputeRealtimeIPs} NodeIndex: {get_param: NodeIndex} StoragePort: type: OS::TripleO::Compute::Ports::StoragePort properties: ControlPlaneIP: {get_attr: [ComputeRealtime, networks, ctlplane, 0]} IPPool: {get_param: ComputeRealtimeIPs} NodeIndex: {get_param: NodeIndex} StorageMgmtPort: type: OS::TripleO::Compute::Ports::StorageMgmtPort properties: ControlPlaneIP: {get_attr: [ComputeRealtime, networks, ctlplane, 0]} IPPool: {get_param: ComputeRealtimeIPs} NodeIndex: {get_param: NodeIndex} TenantPort: type: OS::TripleO::Compute::Ports::TenantPort properties: ControlPlaneIP: {get_attr: [ComputeRealtime, networks, ctlplane, 0]} IPPool: {get_param: ComputeRealtimeIPs} NodeIndex: {get_param: NodeIndex} ManagementPort: type: OS::TripleO::Compute::Ports::ManagementPort properties: ControlPlaneIP: {get_attr: [ComputeRealtime, networks, ctlplane, 0]} IPPool: {get_param: ComputeRealtimeIPs} NodeIndex: {get_param: NodeIndex} NetIpMap: type: OS::TripleO::Network::Ports::NetIpMap properties: ControlPlaneIp: {get_attr: [ComputeRealtime, networks, ctlplane, 0]} ExternalIp: {get_attr: [ExternalPort, ip_address]} ExternalIpSubnet: {get_attr: [ExternalPort, ip_subnet]} ExternalIpUri: {get_attr: [ExternalPort, ip_address_uri]} InternalApiIp: {get_attr: [InternalApiPort, ip_address]} InternalApiIpSubnet: {get_attr: [InternalApiPort, ip_subnet]} InternalApiIpUri: {get_attr: [InternalApiPort, ip_address_uri]} StorageIp: {get_attr: [StoragePort, ip_address]} StorageIpSubnet: {get_attr: [StoragePort, ip_subnet]} StorageIpUri: {get_attr: [StoragePort, ip_address_uri]} StorageMgmtIp: {get_attr: [StorageMgmtPort, ip_address]} StorageMgmtIpSubnet: {get_attr: [StorageMgmtPort, ip_subnet]} StorageMgmtIpUri: {get_attr: [StorageMgmtPort, ip_address_uri]} TenantIp: {get_attr: [TenantPort, ip_address]} TenantIpSubnet: {get_attr: [TenantPort, ip_subnet]} TenantIpUri: {get_attr: [TenantPort, ip_address_uri]} ManagementIp: {get_attr: [ManagementPort, ip_address]} ManagementIpSubnet: {get_attr: [ManagementPort, ip_subnet]} ManagementIpUri: {get_attr: [ManagementPort, ip_address_uri]} NetHostMap: type: OS::Heat::Value properties: type: json value: external: fqdn: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - external - {get_param: CloudDomain} short: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - external internal_api: fqdn: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - internalapi - {get_param: CloudDomain} short: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - internalapi storage: fqdn: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - storage - {get_param: CloudDomain} short: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - storage storage_mgmt: fqdn: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - storagemgmt - {get_param: CloudDomain} short: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - storagemgmt tenant: fqdn: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - tenant - {get_param: CloudDomain} short: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - tenant management: fqdn: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - management - {get_param: CloudDomain} short: list_join: - '.' - - {get_attr: [ComputeRealtime, name]} - management ctlplane: fqdn: list_join: - '.' - - {get_attr: [RealtimeCompute, name]} - ctlplane - {get_param: CloudDomain} short: list_join: - '.' - - {get_attr: [RealtimeCompute, name]} - ctlplane NetworkConfig: type: OS::TripleO::Compute::Net::SoftwareConfig properties: ControlPlaneIp: {get_attr: [ComputeRealtime, networks, ctlplane, 0]} ExternalIpSubnet: {get_attr: [ExternalPort, ip_subnet]} InternalApiIpSubnet: {get_attr: [InternalApiPort, ip_subnet]} StorageIpSubnet: {get_attr: [StoragePort, ip_subnet]} StorageMgmtIpSubnet: {get_attr: [StorageMgmtPort, ip_subnet]} TenantIpSubnet: {get_attr: [TenantPort, ip_subnet]} ManagementIpSubnet: {get_attr: [ManagementPort, ip_subnet]} NetworkDeployment: type: OS::TripleO::SoftwareDeployment properties: name: NetworkDeployment config: {get_resource: NetworkConfig} server: {get_resource: ComputeRealtime} actions: {get_param: NetworkDeploymentActions} input_values: bridge_name: {get_param: NeutronPhysicalBridge} interface_name: {get_param: NeutronPublicInterface} NovaRealtimeConfig: type: OS::Heat::StructuredConfig properties: group: hiera config: hierarchy: - '""%{::uuid}""' - heat_config_%{::deploy_config_name} - computerealtime_extraconfig - extraconfig - service_names - service_configs - computerealtime - bootstrap_node # provided by allNodesConfig - all_nodes # provided by allNodesConfig - vip_data # provided by allNodesConfig - '""%{::osfamily}""' - neutron_bigswitch_data # Optionally provided by ComputeExtraConfigPre - cisco_n1kv_data # Optionally provided by ComputeExtraConfigPre - nova_nuage_data # Optionally provided by ComputeExtraConfigPre - midonet_data # Optionally provided by AllNodesExtraConfig - neutron_opencontrail_data # Optionally provided by ComputeExtraConfigPre - cisco_aci_data # Optionally provided by ComputeExtraConfigPre merge_behavior: deeper datafiles: service_names: service_names: {get_param: ServiceNames} sensu::subscriptions: {get_param: MonitoringSubscriptions} service_configs: map_replace: - {get_param: ServiceConfigSettings} - values: {get_attr: [NetIpMap, net_ip_map]} computerealtime_extraconfig: {get_param: ComputeRealtimeExtraConfig} extraconfig: {get_param: ExtraConfig} computerealtime: tripleo::packages::enable_upgrade: {get_input: enable_package_upgrade} fqdn_internal_api: {get_attr: [NetHostMap, value, internal_api, fqdn]} fqdn_storage: {get_attr: [NetHostMap, value, storage, fqdn]} fqdn_storage_mgmt: {get_attr: [NetHostMap, value, storage_mgmt, fqdn]} fqdn_tenant: {get_attr: [NetHostMap, value, tenant, fqdn]} fqdn_management: {get_attr: [NetHostMap, value, management, fqdn]} fqdn_ctlplane: {get_attr: [NetHostMap, value, ctlplane, fqdn]} NovaComputeRealtimeDeployment: type: OS::TripleO::SoftwareDeployment depends_on: NetworkDeployment properties: name: NovaComputeRealtimeDeployment config: {get_resource: NovaRealtimeConfig} server: {get_resource: ComputeRealtime} input_values: enable_package_upgrade: {get_attr: [UpdateDeployment, update_managed_packages]} # Resource for site-specific injection of root certificate NodeTLSCAData: depends_on: NovaComputeRealtimeDeployment type: OS::TripleO::NodeTLSCAData properties: server: {get_resource: ComputeRealtime} # Hook for site-specific additional pre-deployment config, e.g extra hieradata ComputeRealtimeExtraConfigPre: depends_on: NovaComputeRealtimeDeployment type: OS::TripleO::ComputeRealtimeExtraConfigPre properties: server: {get_resource: ComputeRealtime} # Hook for site-specific additional pre-deployment config, # applying to all nodes, e.g node registration/unregistration NodeExtraConfig: depends_on: [ComputeRealtimeExtraConfigPre, NodeTLSCAData] type: OS::TripleO::NodeExtraConfig properties: server: {get_resource: ComputeRealtime} UpdateConfig: type: OS::TripleO::Tasks::PackageUpdate UpdateDeployment: type: OS::Heat::SoftwareDeployment properties: name: UpdateDeployment config: {get_resource: UpdateConfig} server: {get_resource: ComputeRealtime} input_values: update_identifier: get_param: UpdateIdentifier outputs: ip_address: description: IP address of the server in the ctlplane network value: {get_attr: [ComputeRealtime, networks, ctlplane, 0]} external_ip_address: description: IP address of the server in the external network value: {get_attr: [ExternalPort, ip_address]} internal_api_ip_address: description: IP address of the server in the internal_api network value: {get_attr: [InternalApiPort, ip_address]} storage_ip_address: description: IP address of the server in the storage network value: {get_attr: [StoragePort, ip_address]} storage_mgmt_ip_address: description: IP address of the server in the storage_mgmt network value: {get_attr: [StorageMgmtPort, ip_address]} tenant_ip_address: description: IP address of the server in the tenant network value: {get_attr: [TenantPort, ip_address]} management_ip_address: description: IP address of the server in the management network value: {get_attr: [ManagementPort, ip_address]} hostname: description: Hostname of the server value: {get_attr: [ComputeRealtime, name]} hostname_map: description: Mapping of network names to hostnames value: external: {get_attr: [NetHostMap, value, external, fqdn]} internal_api: {get_attr: [NetHostMap, value, internal_api, fqdn]} storage: {get_attr: [NetHostMap, value, storage, fqdn]} storage_mgmt: {get_attr: [NetHostMap, value, storage_mgmt, fqdn]} tenant: {get_attr: [NetHostMap, value, tenant, fqdn]} management: {get_attr: [NetHostMap, value, management, fqdn]} ctlplane: {get_attr: [NetHostMap, value, ctlplane, fqdn]} hosts_entry: description: > Server's IP address and hostname in the /etc/hosts format value: str_replace: template: | PRIMARYIP PRIMARYHOST.DOMAIN PRIMARYHOST EXTERNALIP EXTERNALHOST.DOMAIN EXTERNALHOST INTERNAL_APIIP INTERNAL_APIHOST.DOMAIN INTERNAL_APIHOST STORAGEIP STORAGEHOST.DOMAIN STORAGEHOST STORAGE_MGMTIP STORAGE_MGMTHOST.DOMAIN STORAGE_MGMTHOST TENANTIP TENANTHOST.DOMAIN TENANTHOST MANAGEMENTIP MANAGEMENTHOST.DOMAIN MANAGEMENTHOST CTLPLANEIP CTLPLANEHOST.DOMAIN CTLPLANEHOST params: PRIMARYIP: {get_attr: [NetIpMap, net_ip_map, {get_param: [ServiceNetMap, ComputeRealtimeHostnameResolveNetwork]}]} DOMAIN: {get_param: CloudDomain} PRIMARYHOST: {get_attr: [ComputeRealtime, name]} EXTERNALIP: {get_attr: [ExternalPort, ip_address]} EXTERNALHOST: {get_attr: [NetHostMap, value, external, short]} INTERNAL_APIIP: {get_attr: [InternalApiPort, ip_address]} INTERNAL_APIHOST: {get_attr: [NetHostMap, value, internal_api, short]} STORAGEIP: {get_attr: [StoragePort, ip_address]} STORAGEHOST: {get_attr: [NetHostMap, value, storage, short]} STORAGE_MGMTIP: {get_attr: [StorageMgmtPort, ip_address]} STORAGE_MGMTHOST: {get_attr: [NetHostMap, value, storage_mgmt, short]} TENANTIP: {get_attr: [TenantPort, ip_address]} TENANTHOST: {get_attr: [NetHostMap, value, tenant, short]} MANAGEMENTIP: {get_attr: [ManagementPort, ip_address]} MANAGEMENTHOST: {get_attr: [NetHostMap, value, management, short]} CTLPLANEIP: {get_attr: [NovaCompute, networks, ctlplane, 0]} CTLPLANEHOST: {get_attr: [NetHostMap, value, ctlplane, short]} nova_server_resource: description: Heat resource handle for the Nova compute server value: {get_resource: ComputeRealtime} ",,647,0
openstack%2Ftripleo-quickstart~master~I64bd5e98ae9e7279efa635a134eb42692fa3e80e,openstack/tripleo-quickstart,master,I64bd5e98ae9e7279efa635a134eb42692fa3e80e,Add ability for images job to run with pending deps repo,ABANDONED,2016-06-01 16:34:38.000000000,2017-10-05 18:28:44.000000000,,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 11105}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 21686}]","[{'number': 1, 'created': '2016-06-01 16:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/41c4aedaa0be7b8f5c0a9afcb413a76c63bad8db', 'message': 'Add ability for images job to run with pending deps repo\n\nThe dependency repo in RDO is a bit tricky to update without\nbreaking TripleO. This change allows using the images.sh ci-script\nto test changes to that repo with TripleO before pushing them.\n\nChange-Id: I64bd5e98ae9e7279efa635a134eb42692fa3e80e\n'}, {'number': 2, 'created': '2016-06-01 16:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dd5f0f0a7c53732800b5efb79ffa51a49648dd58', 'message': 'Add ability for images job to run with pending deps repo\n\nThe dependency repo in RDO is a bit tricky to update without\nbreaking TripleO. This change allows using the images.sh ci-script\nto test changes to that repo with TripleO before pushing them.\n\nChange-Id: I64bd5e98ae9e7279efa635a134eb42692fa3e80e\n'}, {'number': 3, 'created': '2016-06-09 20:06:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/071b8511446f2714b354fe6e709012df044c3584', 'message': 'Add ability for images job to run with pending deps repo\n\nThe dependency repo in RDO is a bit tricky to update without\nbreaking TripleO. This change allows using the images.sh ci-script\nto test changes to that repo with TripleO before pushing them.\n\nChange-Id: I64bd5e98ae9e7279efa635a134eb42692fa3e80e\n'}, {'number': 4, 'created': '2016-06-09 20:22:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0f97fd9fb6cb684035a17fcba32916eef092b9ef', 'message': 'Add ability for images job to run with pending deps repo\n\nThe dependency repo in RDO is a bit tricky to update without\nbreaking TripleO. This change allows using the images.sh ci-script\nto test changes to that repo with TripleO before pushing them.\n\nChange-Id: I64bd5e98ae9e7279efa635a134eb42692fa3e80e\n'}, {'number': 5, 'created': '2016-11-16 16:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/56c8894cc136ac99f8b4c5a522aeab497567705a', 'message': 'Add ability for images job to run with pending deps repo\n\nThe dependency repo in RDO is a bit tricky to update without\nbreaking TripleO. This change allows using the images.sh ci-script\nto test changes to that repo with TripleO before pushing them.\n\nChange-Id: I64bd5e98ae9e7279efa635a134eb42692fa3e80e\n'}, {'number': 6, 'created': '2016-11-16 19:40:14.000000000', 'files': ['ci-scripts/images.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ed90ccfdf4964a4d261eeb0be079bcc28d2852e6', 'message': 'Add ability for images job to run with pending deps repo\n\nThe dependency repo in RDO is a bit tricky to update without\nbreaking TripleO. This change allows using the images.sh ci-script\nto test changes to that repo with TripleO before pushing them.\n\nChange-Id: I64bd5e98ae9e7279efa635a134eb42692fa3e80e\n'}]",0,324008,ed90ccfdf4964a4d261eeb0be079bcc28d2852e6,31,6,6,12715,,,0,"Add ability for images job to run with pending deps repo

The dependency repo in RDO is a bit tricky to update without
breaking TripleO. This change allows using the images.sh ci-script
to test changes to that repo with TripleO before pushing them.

Change-Id: I64bd5e98ae9e7279efa635a134eb42692fa3e80e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/08/324008/1 && git format-patch -1 --stdout FETCH_HEAD,['ci-scripts/images.sh'],1,41c4aedaa0be7b8f5c0a9afcb413a76c63bad8db,pending-repo-test,"elif [ ""$JOB_TYPE"" = ""pending"" ]; then $anscmd -i local_hosts \ $WORKSPACE/tripleo-quickstart/playbooks/build-images-and-quickstart.yml \ --extra-vars ansible_python_interpreter=/usr/bin/python \ --extra-vars virthost=$VIRTHOST \ --extra-vars local_working_dir=$WORKSPACE/ \ --extra-vars image_url=""file:///var/lib/oooq-images/undercloud.qcow2"" \ --extra-vars artib_release=$RELEASE \ --extra-vars artib_build_system=$BUILD_SYS \ --extra-vars @$WORKSPACE/tripleo-quickstart/config/general_config/$CONFIG.yml \ --extra-vars artib_repo_script=repo-centos7-pending-test.sh.j2",,11,0
openstack%2Ftripleo-common~master~Ib2d1085da2904625a51152637ac3923b59aacfd4,openstack/tripleo-common,master,Ib2d1085da2904625a51152637ac3923b59aacfd4,update homepage with developer documentation page,ABANDONED,2016-09-20 10:37:57.000000000,2017-10-05 18:28:08.000000000,,"[{'_account_id': 3}, {'_account_id': 10239}]","[{'number': 1, 'created': '2016-09-20 10:37:57.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/60ce012f7cabd54104071c867267e3232e345375', 'message': 'update homepage with developer documentation page\n\nChange-Id: Ib2d1085da2904625a51152637ac3923b59aacfd4\n'}]",1,373150,60ce012f7cabd54104071c867267e3232e345375,6,2,1,20761,,,0,"update homepage with developer documentation page

Change-Id: Ib2d1085da2904625a51152637ac3923b59aacfd4
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/50/373150/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,60ce012f7cabd54104071c867267e3232e345375,,home-page = http://www.openstack.org/developer/tripleo-common,home-page = http://www.openstack.org/,1,1
openstack%2Ftripleo-ci~master~I8d544b8937d91bf41fb365eb4f5493797b1453fb,openstack/tripleo-ci,master,I8d544b8937d91bf41fb365eb4f5493797b1453fb,Add IPv6 coverage using existing jobs,ABANDONED,2016-10-05 15:35:04.000000000,2017-10-05 18:27:59.000000000,,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-10-05 15:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3cd8e5cbf5f374242e95806572221a3b692c67c2', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 2, 'created': '2016-10-05 18:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fe8e240d053bd0eaa6d635cb8b9ee1b1dc53af3a', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 3, 'created': '2016-10-06 08:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bf7b4ecb31af96de0490298d9be6a96c090d7af7', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 4, 'created': '2016-10-06 12:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f429eb6a05abaa13f34dd43867841d085e75fcdd', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 5, 'created': '2016-10-06 15:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6e3eadd196b8fa230b063ed268095bf5136604e0', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 6, 'created': '2016-10-07 08:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f41dabe9d5a65baa7c701dc80ba5c74c3ce9f529', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 7, 'created': '2016-10-07 10:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4143d2d837d0ba818706fe7fc7c29c5449ce11aa', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 8, 'created': '2016-10-07 13:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7ff0521b2ed0f5eaaed54d83dd3f1688072798dd', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 9, 'created': '2016-10-10 07:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/605596b708043cab70558b03189a03e9d4c9912b', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 10, 'created': '2016-10-10 15:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0f174ac97194f2c35fc6f12de2147b5bc0d57fe9', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 11, 'created': '2016-10-12 10:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b4b0f85e460bd63253c9b5a8c177c0c00c9566a9', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 12, 'created': '2016-10-12 11:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c7a271f422f5e9930fe2644fbe38db3ed80e7a08', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 13, 'created': '2016-10-14 17:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/246bf79a6a608bcf91a6461b8fc6ff7a59a4ede0', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 14, 'created': '2016-10-14 19:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4fadd0d788b8c8cce0c53895d1387bb535ba81ff', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 15, 'created': '2016-10-14 22:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d61dd68ae9978a3cf174b5ad5057b5d1691b6a7d', 'message': '[WIP] Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 16, 'created': '2016-10-18 15:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cdc6dbe9d1fae558c663f44cbab3c6ba1970d697', 'message': 'Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\nNon netiso deployments will be covered by multinode\nLiberty HA is left with IPv4\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 17, 'created': '2016-10-18 15:16:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/82a05a49b2e0c65a944445171578c7c824a4e516', 'message': 'Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\nNon netiso deployments will be covered by multinode\nLiberty HA is left with IPv4\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 18, 'created': '2016-10-18 19:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c1ecd6d93df4f1adc200829e18bf69a1977f455a', 'message': 'Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\nNon netiso deployments will be covered by multinode\nLiberty HA is left with IPv4\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 19, 'created': '2016-10-31 08:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2cfcdc04112a3daea1993f340345eb94a82241e9', 'message': 'Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\nNon netiso deployments will be covered by multinode\nLiberty HA is left with IPv4\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}, {'number': 20, 'created': '2016-11-06 17:15:06.000000000', 'files': ['toci_instack_osinfra.sh', 'test-environments/inject-trust-anchor-ipv4netiso.yaml', 'toci_instack_ovb.sh', 'test-environments/enable-tls-ipv4netiso.yaml', 'test-environments/overcloud-cacert-ipv4netiso.pem', 'test-environments/inject-trust-anchor-hiera-ipv4netiso.yaml', 'toci_gate_test.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/28ebbb3074f07eab5a87dada8f586a4eab335291', 'message': 'Add IPv6 coverage using existing jobs\n\nThe basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha\njobs\nNon netiso deployments will be covered by multinode\nLiberty HA is left with IPv4\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb\n'}]",2,382515,28ebbb3074f07eab5a87dada8f586a4eab335291,104,5,20,10022,,,0,"Add IPv6 coverage using existing jobs

The basic Idea is to cover IPv6 with HA and net-iso IPv4 with non-ha
jobs
Non netiso deployments will be covered by multinode
Liberty HA is left with IPv4

Co-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>
Change-Id: I8d544b8937d91bf41fb365eb4f5493797b1453fb
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/15/382515/4 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test.sh'],1,3cd8e5cbf5f374242e95806572221a3b692c67c2,gates-reorder," NETISO_V4=0 NETISO_V6=1 OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation-v6.yaml -e $TRIPLEO_ROOT/tripleo-ci/test-environments/ipv6-network-templates/network-environment.yaml"" ;; OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation.yaml -e $TRIPLEO_ROOT/tripleo-ci/test-environments/network-templates/network-environment.yaml -e $TRIPLEO_ROOT/tripleo-ci/test-environments/enable-tls.yaml -e $ENDPOINT_LIST_LOCATION/tls-endpoints-public-ip.yaml -e $TRIPLEO_ROOT/tripleo-ci/test-environments/$CA_ENVIRONMENT_FILE --ceph-storage-scale 1 -e /usr/share/openstack-tripleo-heat-templates/environments/storage-environment.yaml"""," NETISO_V4=1 OVERCLOUD_DEPLOY_ARGS=""$OVERCLOUD_DEPLOY_ARGS -e $TRIPLEO_ROOT/tripleo-ci/test-environments/enable-tls.yaml -e $ENDPOINT_LIST_LOCATION/tls-endpoints-public-ip.yaml -e $TRIPLEO_ROOT/tripleo-ci/test-environments/$CA_ENVIRONMENT_FILE --ceph-storage-scale 1 -e /usr/share/openstack-tripleo-heat-templates/environments/storage-environment.yaml""",5,2
openstack%2Ftripleo-heat-templates~master~I532416d768be1251a3969abc25f750e3edcb55c9,openstack/tripleo-heat-templates,master,I532416d768be1251a3969abc25f750e3edcb55c9,[TEST] Do not merge,ABANDONED,2016-12-23 11:46:41.000000000,2017-10-05 18:27:55.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2016-12-23 11:46:41.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3a1833e329027ebc918909b93c8485fa1078e58e', 'message': '[TEST] Do not merge\n\nFake review to test buidling package fixes on the fly from unmerged RDO reviews.\n\nChange-Id: I532416d768be1251a3969abc25f750e3edcb55c9\nDepends-On: Icd3d7c62cf7442de8a77fc67f119ae9b03725f02\nDepends-On: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0\n'}]",0,414556,3a1833e329027ebc918909b93c8485fa1078e58e,4,1,1,6645,,,0,"[TEST] Do not merge

Fake review to test buidling package fixes on the fly from unmerged RDO reviews.

Change-Id: I532416d768be1251a3969abc25f750e3edcb55c9
Depends-On: Icd3d7c62cf7442de8a77fc67f119ae9b03725f02
Depends-On: Ib79583a87ac34494f6685ce456d27ddfb5aa7ae0
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/56/414556/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,3a1833e329027ebc918909b93c8485fa1078e58e,,,,1,0
openstack%2Fproject-config~master~I97dc4ce3cad06f494f35c81c25e00241d8abdc74,openstack/project-config,master,I97dc4ce3cad06f494f35c81c25e00241d8abdc74,Disable check-requirements template,MERGED,2017-10-05 17:54:34.000000000,2017-10-05 18:25:05.000000000,2017-10-05 18:25:05.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 17:54:34.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/103aaff48e334faa5627052224837de6f572bfde', 'message': 'Disable check-requirements template\n\nDisable check-requirements template usage so that we can move the\ndefinition to requirements repository.\n\nChange-Id: I97dc4ce3cad06f494f35c81c25e00241d8abdc74\n'}]",0,509854,103aaff48e334faa5627052224837de6f572bfde,8,4,1,6547,,,0,"Disable check-requirements template

Disable check-requirements template usage so that we can move the
definition to requirements repository.

Change-Id: I97dc4ce3cad06f494f35c81c25e00241d8abdc74
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/509854/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,103aaff48e334faa5627052224837de6f572bfde,zuulv3-jobs, # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements # - check-requirements, - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements,397,397
openstack%2Ftripleo-docs~master~I1c13418637a49e89a956fc9ee0c34b4879838bc8,openstack/tripleo-docs,master,I1c13418637a49e89a956fc9ee0c34b4879838bc8,Stop using --pull-source for image prepare,MERGED,2017-10-05 13:13:41.000000000,2017-10-05 18:18:47.000000000,2017-10-05 18:18:47.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 10239}]","[{'number': 1, 'created': '2017-10-05 13:13:41.000000000', 'files': ['doc/source/install/containers_deployment/overcloud.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/684e6f89881779341ed3c35584f387f0b204243f', 'message': 'Stop using --pull-source for image prepare\n\nThe image prepare --pull-source arg was deprecated in favor of\n--namespace.\n\nChange-Id: I1c13418637a49e89a956fc9ee0c34b4879838bc8\n'}]",0,509770,684e6f89881779341ed3c35584f387f0b204243f,7,3,1,13039,,,0,"Stop using --pull-source for image prepare

The image prepare --pull-source arg was deprecated in favor of
--namespace.

Change-Id: I1c13418637a49e89a956fc9ee0c34b4879838bc8
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/70/509770/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/containers_deployment/overcloud.rst'],1,684e6f89881779341ed3c35584f387f0b204243f,containers_prepare, --namespace trunk.registry.rdoproject.org/master \ --namespace trunk.registry.rdoproject.org/master \, --namespace master \ --pull-source trunk.registry.rdoproject.org \ --namespace master \ --pull-source trunk.registry.rdoproject.org \,2,4
openstack%2Fhorizon~stable%2Fpike~Ie96b1a35e379d4cf407bfd53b1ee734178f9cb07,openstack/horizon,stable/pike,Ie96b1a35e379d4cf407bfd53b1ee734178f9cb07,Add cache for get_microversion() against Nova,MERGED,2017-10-05 15:15:38.000000000,2017-10-05 18:18:37.000000000,2017-10-05 18:18:37.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 6484}]","[{'number': 1, 'created': '2017-10-05 15:15:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ced1fe5c80f7afde88b97c2878f7f5ab3fb92c78', 'message': 'Add cache for get_microversion() against Nova\n\nActions ""Lock"" and ""Unlock"" of instance on instances table are calling\napi.nova.is_feature_available() to check if the feature is supported\nby current Nova server. Unfortunately, the function get_microversion()\ncalled by is_feature_available() is not cached, which is causing about\n40 unnecesary REST API calls. If the Nova\'s version is under Mitaka,\nit could be even worse, about 80 unnecesary API calls, see\nopenstack_dashboard/api/nova.py#L60 and\nnovaclient/v2/versions.py#L47 for more details.\n\nCloses-Bug: #1721423\n\nChange-Id: Ie96b1a35e379d4cf407bfd53b1ee734178f9cb07\n(cherry picked from commit fa2e8327b9d0a10f29a4fbe3094a4533914b8ce3)\n'}, {'number': 2, 'created': '2017-10-05 15:16:25.000000000', 'files': ['openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6d0fb73ee044f74de85673af4265576adf749e52', 'message': 'Add cache for get_microversion() against Nova\n\nActions ""Lock"" and ""Unlock"" of instance on instances table are calling\napi.nova.is_feature_available() to check if the feature is supported\nby current Nova server. Unfortunately, the function get_microversion()\ncalled by is_feature_available() is not cached, which is causing about\n40 unnecesary REST API calls. If the Nova\'s version is under Mitaka,\nit could be even worse, about 80 unnecesary API calls, see\nopenstack_dashboard/api/nova.py#L60 and\nnovaclient/v2/versions.py#L47 for more details.\n\nCloses-Bug: #1721423\n\nChange-Id: Ie96b1a35e379d4cf407bfd53b1ee734178f9cb07\n(cherry picked from commit fa2e8327b9d0a10f29a4fbe3094a4533914b8ce3)\n'}]",0,509806,6d0fb73ee044f74de85673af4265576adf749e52,8,3,2,12826,,,0,"Add cache for get_microversion() against Nova

Actions ""Lock"" and ""Unlock"" of instance on instances table are calling
api.nova.is_feature_available() to check if the feature is supported
by current Nova server. Unfortunately, the function get_microversion()
called by is_feature_available() is not cached, which is causing about
40 unnecesary REST API calls. If the Nova's version is under Mitaka,
it could be even worse, about 80 unnecesary API calls, see
openstack_dashboard/api/nova.py#L60 and
novaclient/v2/versions.py#L47 for more details.

Closes-Bug: #1721423

Change-Id: Ie96b1a35e379d4cf407bfd53b1ee734178f9cb07
(cherry picked from commit fa2e8327b9d0a10f29a4fbe3094a4533914b8ce3)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/06/509806/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/nova.py'],1,ced1fe5c80f7afde88b97c2878f7f5ab3fb92c78,bug/1721423-stable/pike,@memoized,,1,0
openstack%2Ftripleo-docs~master~I694d7ca4e0237b7af6d2b5cca8e339ff8ecab752,openstack/tripleo-docs,master,I694d7ca4e0237b7af6d2b5cca8e339ff8ecab752,Add opstools package installation instructions,MERGED,2017-10-02 09:03:58.000000000,2017-10-05 18:17:55.000000000,2017-10-05 18:17:55.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 09:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/6f83cccd0edb3372ab804cb01c8cb1241cef3342', 'message': 'Add note about centos-release-opstools\n\nChange-Id: I694d7ca4e0237b7af6d2b5cca8e339ff8ecab752\nCloses-Bug: #1720338\n'}, {'number': 2, 'created': '2017-10-04 09:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/5ba188fdf3993461b289dbf80670fcea918ee6fb', 'message': 'Add note about centos-release-opstools\n\nChange-Id: I694d7ca4e0237b7af6d2b5cca8e339ff8ecab752\nCloses-Bug: #1720338\n'}, {'number': 3, 'created': '2017-10-04 09:50:27.000000000', 'files': ['doc/source/install/advanced_deployment/ops_tools.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/559a616caa6239cff34084ff5992572301f75997', 'message': 'Add opstools package installation instructions\n\nChange-Id: I694d7ca4e0237b7af6d2b5cca8e339ff8ecab752\nCloses-Bug: #1720338\n'}]",2,508829,559a616caa6239cff34084ff5992572301f75997,14,5,3,5241,,,0,"Add opstools package installation instructions

Change-Id: I694d7ca4e0237b7af6d2b5cca8e339ff8ecab752
Closes-Bug: #1720338
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/29/508829/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/advanced_deployment/ops_tools.rst'],1,6f83cccd0edb3372ab804cb01c8cb1241cef3342,bug/1720338,.. note:: In case of CentOS deployment you have to have centos-release-opstools yum repo installed on your overcloud image. LoggingServers: # The servers port: 24224 # Port to send the logs [ 24224 plain & 24284 SSL ] # If LoggingUsesSSL is set to false the following lines can # be deleted, LoggingServers: # The servers port: 24224 # Port to send the logs [ 24224 plain & 24284 SSL ] # If LoggingUsesSSL is set to false the following lines can # be deleted ,10,5
openstack%2Fwatcher-specs~master~I72283e7fe07591e8940aa3912d63bacec1b42dc8,openstack/watcher-specs,master,I72283e7fe07591e8940aa3912d63bacec1b42dc8,Add team priorities for Queens,MERGED,2017-09-22 13:39:46.000000000,2017-10-05 18:16:47.000000000,2017-10-05 18:16:47.000000000,"[{'_account_id': 3}, {'_account_id': 12394}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 19457}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 22775}, {'_account_id': 24501}, {'_account_id': 24872}]","[{'number': 1, 'created': '2017-09-22 13:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/b2ea66d3d62772d725374c6832cd46009d98d875', 'message': '[WiP] Add team priorities for Queens\n\nHere is the list of priorities we have planned for Queens.\n\nChange-Id: I72283e7fe07591e8940aa3912d63bacec1b42dc8\n'}, {'number': 2, 'created': '2017-09-25 08:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/a277d63b6e433bfa587d0b4f9d36bba234f5ed28', 'message': 'Add team priorities for Queens\n\nHere is the list of priorities we have planned for Queens.\n\nChange-Id: I72283e7fe07591e8940aa3912d63bacec1b42dc8\n'}, {'number': 3, 'created': '2017-09-29 13:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/cf668d49b0616e8de8dd5544023d75dbf591716f', 'message': 'Add team priorities for Queens\n\nHere is the list of priorities we have planned for Queens.\n\nChange-Id: I72283e7fe07591e8940aa3912d63bacec1b42dc8\n'}, {'number': 4, 'created': '2017-10-03 12:33:05.000000000', 'files': ['priorities/queens-priorities.rst'], 'web_link': 'https://opendev.org/openstack/watcher-specs/commit/6185da35332a6bb6fc5b91311d6fecab7e4527a2', 'message': 'Add team priorities for Queens\n\nHere is the list of priorities we have planned for Queens.\n\nChange-Id: I72283e7fe07591e8940aa3912d63bacec1b42dc8\n'}]",0,506659,6185da35332a6bb6fc5b91311d6fecab7e4527a2,21,11,4,19055,,,0,"Add team priorities for Queens

Here is the list of priorities we have planned for Queens.

Change-Id: I72283e7fe07591e8940aa3912d63bacec1b42dc8
",git fetch https://review.opendev.org/openstack/watcher-specs refs/changes/59/506659/3 && git format-patch -1 --stdout FETCH_HEAD,['priorities/queens-priorities.rst'],1,b2ea66d3d62772d725374c6832cd46009d98d875,queens-priorities,"+------------------------------------------+----------------------+ | Priority | Owner | +==========================================+======================+ | `Baremetal data model in Watcher`_ | `Li Canwei`_ | +------------------------------------------+----------------------+ | `Check the strategy requirements`_ | `Alexander Chadin`_ | +------------------------------------------+----------------------+ | `Notifications for action plan cancel`_ | `Aditi Sharma`_ | +------------------------------------------+----------------------+ | `Watcher Planner Selector`_ | `Alexander Chadin`_ | +------------------------------------------+----------------------+ | `Watcher Strategy Selector`_ | `Aditi Sharma`_ | +------------------------------------------+----------------------+ | `Workload Characterization and QoS`_ | `Susanne Balle`_ | +------------------------------------------+----------------------+ | `Extend node status`_ | `suzhengwei`_ | +------------------------------------------+----------------------+ | `Exclude project by audit scope`_ | `Aditi Sharma`_ | +------------------------------------------+----------------------+ | `Audit scoper for storage data model`_ | `Hidekazu Nakamura`_ | +------------------------------------------+----------------------+ | `Define a tailored Scoper for each CDM`_ | `Hidekazu Nakamura`_ | +------------------------------------------+----------------------+ | `Register and Document Policy in Code`_ | `Yumeng Bao`_ | +------------------------------------------+----------------------+ | `Workload characterization grammar`_ | `Susanne Balle`_ | +------------------------------------------+----------------------+ | `Zone migration strategy`_ | `Hidekazu Nakamura`_ | +------------------------------------------+----------------------+ | `Watcher API validation using JSON`_ | `Aditi Sharma`_ | +------------------------------------------+----------------------+ | `Compute CDM include all instances`_ | `suzhengwei`_ | +------------------------------------------+----------------------+ +------------------------------------------+----------------------+ +------------------------------------------+----------------------+ .. _Hidekazu Nakamura: https://launchpad.net/~nakamura-h.. _Yumeng Bao: https://launchpad.net/~yumeng-bao.. _suzhengwei: https://launchpad.net/~sue.sam .. _Susanne Balle: https://launchpad.net/~susanne-balle Baremetal data model in Watcher ------------------------------- For a data center with large amount of VMs and physical hosts,the total power consumption is tremendous. When workload is not heavy, Watcher can be used to reduce power consumption by triggering a request to power off some idle hosts without VMs. And when the workload increases Watcher will trigger a ""power on"" request to fullfill the service requirements. Check the strategy requirements ------------------------------- Running of `strategy`_ requires different type of data resources to compute a `solution`_. During the strategies loading, the `decision engine`_ should automatically check if all requirements are achieved. Notifications for action plan cancel ------------------------------------ Notifications needs to be added to `action`_ and `action plan`_ for new operation action plan cancel. Watcher Planner Selector ------------------------ This component is responsible for selecting an appropriate `planner`_ for a given strategy depending on several factors (e.g list of actions used by the strategy or user request). Watcher Strategy Selector ------------------------- There may be several strategies applying for a given optimization goal. Currently , if the admin didn't specify a strategy Watcher select the first strategy available in the list. If Watcher intends to be used in real infrastructure it need a more robust way to select the strategy for a given goal. The strategy selector component will enable watcher to automatically decide which strategy to use. Workload Characterization and QoS --------------------------------- Based on the defined workload characteristics we should be able to apply Quality of Services to applications. An example would be leveraging technologies like Intel RDT. This opens up several application optimization possibilities (use cases like NFV etc.) and also ensures efficient use of cloud resources. Scope of this blueprint is to build a QoS strategy using Intel RDT and workload grammar. Extend node status ------------------ We can get a node status through CDM(cluster data model) in watcher. Most of strategies rely on the node's status. But the existing status just meets existing strategies. We need to extend nodes status description for new strategies. Exclude project by audit scope ------------------------------ As of Now, Watcher can exclude instances, compute_nodes, host_aggregates and instance_metadata by audit scope. As an administrator, I want to exclude instances of a specific project from Watcher optimization. This bp proposes to add exclude project feature to audit scope. Audit scoper for storage data model ----------------------------------- Since storage data model was added in Pike cycle, we need audit scoper for storage data model as compute data model has. Define a tailored Scoper for each CDM ------------------------------------- Storage cluster data model was introduced in Pike cycle. Since the model is different from compute data model, current single CDM scoper does not work for the model. Register and Document Policy in Code ------------------------------------ This blueprint tracks the work for moving default policies and documentation into code. This is OpenStack-wide goals for Queens release. https://governance.openstack.org/tc/goals/queens/policy-in-code.html Storage workload balance ------------------------ As of now, Watcher optimizes only compute nodes. Storage optimization is also important feature for centralized storage (non distributed storage). This spec will add Storage Workload Balance Strategy to balance the storage resource. And we can use existing goal (workload_balancing) and action(volume_migrate) for storage workload balance. Workload characterization grammar --------------------------------- As we run several workloads in cloud, we should be able to characterize such workloads as input to watcher for ensuring Application QoS, placements and consolidation. An example of workload characterization is a weighted combination of CPU, Memory or any other resource attributes like High IOPs, Network latency etc. Scope of this blueprint is to come up with a grammar structure for defining workload character. Zone migration strategy ----------------------- There are thousands of physical servers and storage running various kinds of workloads in the Cloud system. Administrator have to migrate instances and block storage for hardware maintenance once a quarter or so. It requires operators manually to watch workloads, choose instances to migrate and migrate for each instances and block storage for efficiently, with minimum downtime. Watcher can be used to do this task automatically. Watcher API validation using JSON --------------------------------- Cureently watcher uses different methods to validate api, which causes many bugs and few operations are possible which should not be allowed like a cloud admin can delete ""ongoing"" actionplan and audit. To have more cleaner and same approach for all operations we should have a unified way of validating the api, which can be done using JSON. Compute CDM include all instances --------------------------------- When building compute CDM, Watcher excludes the instances excluded in the scope. It has negative impact to Watcher. * To some strategies, it get incorrectly workload of the compute nodes, because the excluded instances was not calculated in. * To server consolidation, it disables the nodes which has excluded instances running. .. _strategy: https://docs.openstack.org/watcher/latest/glossary.html#strategy .. _solution: https://docs.openstack.org/watcher/latest/glossary.html#solution .. _decision engine: https://docs.openstack.org/watcher/latest/glossary.html#watcher-decision-engine .. _action: https://docs.openstack.org/watcher/latest/glossary.html#action .. _action plan: https://docs.openstack.org/watcher/latest/glossary.html#action-plan .. _planner: https://docs.openstack.org/watcher/latest/glossary.html#watcher-planner",+--------------------------------------+----------------------+ | Priority | Owner | +======================================+======================+ +--------------------------------------+----------------------+ .. _Vincent Francoise: https://launchpad.net/~vincent-francoise.. _Yuemng Bao: https://launchpad.net/~yumeng-bao,186,6
openstack%2Fswift~feature%2Fdeep~I1b905bab6f41d57059b43aeaa201cbc1e1ef0544,openstack/swift,feature/deep,I1b905bab6f41d57059b43aeaa201cbc1e1ef0544,Don't lose timestamp info when moving misplaced objects,MERGED,2017-10-04 18:48:44.000000000,2017-10-05 18:14:46.000000000,2017-10-05 18:14:46.000000000,"[{'_account_id': 3}, {'_account_id': 7847}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 18:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6f51aa9a7887a4cfd00cebf79dd283d13e469dba', 'message': ""Don't lose timestamp info when moving misplaced objects\n\nwe need to adapt list_objects_iter to not throw away\nmeta and content type timestamps.\n\nChange-Id: I1b905bab6f41d57059b43aeaa201cbc1e1ef0544\n""}, {'number': 2, 'created': '2017-10-05 05:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ced31644a8f4313766a97a236fc087c8a9038dee', 'message': ""Don't lose timestamp info when moving misplaced objects\n\nwe need to adapt list_objects_iter to not throw away\nmeta and content type timestamps.\n\nChange-Id: I1b905bab6f41d57059b43aeaa201cbc1e1ef0544\n""}, {'number': 3, 'created': '2017-10-05 09:58:05.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f21831680adc211eb055aa0cf548a806c509582a', 'message': ""Don't lose timestamp info when moving misplaced objects\n\nwe need to adapt list_objects_iter to not throw away\nmeta and content type timestamps.\n\nChange-Id: I1b905bab6f41d57059b43aeaa201cbc1e1ef0544\n""}]",3,509589,f21831680adc211eb055aa0cf548a806c509582a,17,5,3,7847,,,0,"Don't lose timestamp info when moving misplaced objects

we need to adapt list_objects_iter to not throw away
meta and content type timestamps.

Change-Id: I1b905bab6f41d57059b43aeaa201cbc1e1ef0544
",git fetch https://review.opendev.org/openstack/swift refs/changes/89/509589/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py', 'swift/container/backend.py']",3,6f51aa9a7887a4cfd00cebf79dd283d13e469dba,p-sharding-misplaced-objects," include_deleted=False, transform_func=None): :param transform_func: an optional function that if given will be called for each object to get a transformed version of the object to include in the listing; should have same signature as :meth:`~transform_record`; defaults to :meth:`~transform_record`. if transform_func is None: transform_func = self._transform_record return [transform_func(r, storage_policy_index) for r in curs] results.append(transform_func(row, storage_policy_index)) # TODO: needs unit test def get_objects(self, limit, marker, end_marker, prefix, delimiter, path=None, storage_policy_index=0, reverse=False, include_deleted=False): """""" Return a list of objects :param limit: maximum number of entries to get :param marker: if set, objects with names less than or equal to this value will not be included in the list. :param end_marker: if set, objects with names greater than or equal to this value will not be included in the list. :param prefix: prefix query :param delimiter: delimiter for query :param path: if defined, will set the prefix and delimiter based on the path :param storage_policy_index: storage policy index for query :param reverse: reverse the result order. :param include_deleted: include items that have the delete marker set :return: a list of dicts, each describing an object. """""" def transform_record(record, policy_index): result = self._record_to_dict(record) result['storage_policy_index'] = policy_index return result return self.list_objects_iter( limit, marker, end_marker, prefix, delimiter, path=path, storage_policy_index=storage_policy_index, reverse=reverse, include_deleted=include_deleted, transform_func=transform_record ) def _transform_record(self, record, *args):"," include_deleted=False): return [self._transform_record(r) for r in curs] results.append(self._transform_record(row)) def _transform_record(self, record):",91,45
openstack%2Fnova~master~I6227a829ecceb55ce69e103f59b8bc547644ded6,openstack/nova,master,I6227a829ecceb55ce69e103f59b8bc547644ded6,"Don't shell out to mkdir, use ensure_tree()",MERGED,2017-08-09 23:45:37.000000000,2017-10-05 18:14:09.000000000,2017-10-05 18:14:09.000000000,"[{'_account_id': 3}, {'_account_id': 2271}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 21784}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-09 23:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d9aa6846d0916ee0cdf7482c2af80b859d49e0ef', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 2, 'created': '2017-08-11 04:31:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/033a25a0f52542c6236c24f4e30e05ecf09babb3', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 3, 'created': '2017-08-14 00:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bc4e8b9398308454b9d0fb93c70d422180980752', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 4, 'created': '2017-08-14 23:40:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b58f7e4c5a945618485a06757741b666d94e0bc', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 5, 'created': '2017-08-19 11:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/449a5e6c523e45a0888c58c3a9a2201d7208c60f', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 6, 'created': '2017-08-20 23:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4e1b7b0158b2633dfc989ae9858d0d7692b86c74', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 7, 'created': '2017-08-22 01:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/817f08614400d765eaa3c3a65401643bc4ae88ec', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 8, 'created': '2017-08-28 20:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5f2f68ddd0a7f3a87f86cea712fc95ed7107ceed', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 9, 'created': '2017-08-29 21:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/215d6fb87140c44e44434410a1dff2500e575daf', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 10, 'created': '2017-09-03 07:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3d00abfa57336104a72fbd8cb7bea09d0d78ba2d', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 11, 'created': '2017-09-03 21:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2763c851dbc62d56887d0e967976f7e54d6c0629', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 12, 'created': '2017-09-05 18:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ad905a55db2aafce1bb7d12cf0709eb54a418cd1', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 13, 'created': '2017-09-06 17:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4f104a3a51a02119f968d1394ae5968b2ce6e93', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 14, 'created': '2017-09-07 00:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c13f030afca8e5be1b66315da03291d288fa8f87', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 15, 'created': '2017-09-07 17:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4626710e827b3a08b142cd3c33e6ea239819ea2b', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 16, 'created': '2017-09-08 21:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ca89090b866a8560c11ad52f4bbacf1daf97a79', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 17, 'created': '2017-09-11 19:48:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe884264b0b6c891696b909183dcca001d050942', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\n""}, {'number': 18, 'created': '2017-09-14 20:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f3d2decf4aefc65b29982d8e1da0aba50ea8851a', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\nblueprint: hurrah-for-privsep\n""}, {'number': 19, 'created': '2017-09-14 22:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/250135852b5cc7357ae4f3f635d3a80cbf8c69db', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\nblueprint: hurrah-for-privsep\n""}, {'number': 20, 'created': '2017-09-15 15:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fe2dd9f027f98aa6261155d4efb8563621ca1b7e', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\nblueprint: hurrah-for-privsep\n""}, {'number': 21, 'created': '2017-09-15 19:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdd0584c927aa27da4c6d69f9925b6d009d5ead6', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\nblueprint: hurrah-for-privsep\n""}, {'number': 22, 'created': '2017-09-17 23:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f166dbf43e27602ee5b36d969e3d402c7ad34c13', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\nblueprint: hurrah-for-privsep\n""}, {'number': 23, 'created': '2017-09-19 01:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2181ef52492d6ecc2fc27a87e1324c7543f24268', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\nblueprint: hurrah-for-privsep\n""}, {'number': 24, 'created': '2017-09-23 04:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14c1ba5feedcc7e6ecb1542a13008ef780285530', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\nblueprint: hurrah-for-privsep\n""}, {'number': 25, 'created': '2017-09-27 00:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eed4c88e0f7083b5d0744a4532ccd12e395977d9', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\nblueprint: hurrah-for-privsep\n""}, {'number': 26, 'created': '2017-09-27 03:33:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/83d37476ac578a1518772fd0234f33af8ae09503', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\nblueprint: hurrah-for-privsep\n""}, {'number': 27, 'created': '2017-09-27 21:38:29.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/volume/test_smbfs.py', 'nova/tests/unit/virt/libvirt/volume/test_mount.py', 'nova/tests/unit/virt/libvirt/volume/test_nfs.py', 'nova/virt/libvirt/volume/mount.py', 'nova/virt/libvirt/volume/remotefs.py', 'releasenotes/notes/privsep-queens-rootwrap-adds-907aa1bc8e3eb2ca.yaml', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/volume/test_remotefs.py', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0098645f3f278e839431a65dce640bf3307a8998', 'message': ""Don't shell out to mkdir, use ensure_tree()\n\nI've cleaned up the associated unit tests a little bit, but I think\nthere's more work to be done there. I'll circle back in a later\nreview though, as I think this one is big enough now.\n\nChange-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6\nblueprint: hurrah-for-privsep\n""}]",5,492326,0098645f3f278e839431a65dce640bf3307a8998,329,21,27,2271,,,0,"Don't shell out to mkdir, use ensure_tree()

I've cleaned up the associated unit tests a little bit, but I think
there's more work to be done there. I'll circle back in a later
review though, as I think this one is big enough now.

Change-Id: I6227a829ecceb55ce69e103f59b8bc547644ded6
blueprint: hurrah-for-privsep
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/492326/19 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/volume/test_smbfs.py', 'nova/tests/unit/virt/libvirt/volume/test_mount.py', 'nova/tests/unit/virt/libvirt/volume/test_nfs.py', 'nova/virt/libvirt/volume/mount.py', 'nova/virt/libvirt/volume/remotefs.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/volume/test_remotefs.py', 'nova/virt/libvirt/utils.py']",9,d9aa6846d0916ee0cdf7482c2af80b859d49e0ef,bp/hurrah-for-privsep,from oslo_utils import fileutils fileutils.ensure_tree(path)," utils.execute('mkdir', '-p', path)",133,48
openstack%2Fnova~master~Ida7c79a3130ba1c159a37c984d382c789f46e111,openstack/nova,master,Ida7c79a3130ba1c159a37c984d382c789f46e111,Update RT aggregate map less frequently,MERGED,2017-08-01 15:18:16.000000000,2017-10-05 18:13:35.000000000,2017-10-05 18:13:35.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 4393}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-08-01 15:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eae150c58d0647b2b795a0fdc02b9c38a28ef98b', 'message': ""WIP Update RT aggregate map less frequently\n\nThe _provider_aggregate_map was being updated every time\n_ensure_resource_provider was called. This is inefficient as aggregates\nare not updated that often.\n\nThis change provides a proof of concept for only updating the aggregate\nmap for any single resource provider if it has not been updated in the\nlast 60 seconds. The handling of the update has been moved out to its\nown method (instead of two calls in _ensure_resource_provider) so that\nif we want to move it to the periodic job or something like that, that\nwill be easy.\n\nWhen a resource provider is new to the resource tracker, we always\nupdate the aggregate map for that resouce provider uuid.\n\nThe initial pass of this used a single time for last update, instead of\na time per resource provider uuid, but I realized that would lead to\nsome upredictability.\n\nThe aggregate_refresh_map (which maps rp uuids to last update times) is\npublic so that if we want to make it so the reset() on the compute\nmanager can clear it, we have that option (it wasn't clear if the\nresource tracker is otherwise reset-able or not, so I left that for\nlater).\n\nConcerns that make this not fully ready:\n\n* What's the proper interval and should it be configurable (let's hope\n  not)? 60 seconds is presumably too short.\n\n* Does manipulation of the aggregate_refresh_map need to be\n  synchronized? Accessing the dict itself is thread safe, but...?\n\n* We don't really use the aggregate map in any real way yet (but soon)\n  so hard to know if this is sane.k\n\n* We probably want to create a bug to slap on this.\n\nChange-Id: Ida7c79a3130ba1c159a37c984d382c789f46e111\n""}, {'number': 2, 'created': '2017-08-02 20:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dc8ec7a60e0d64d4e5528d498329f2384634783a', 'message': ""Update RT aggregate map less frequently\n\nThe _provider_aggregate_map was being updated every time\n_ensure_resource_provider was called. This is inefficient as aggregates\nare not updated that often.\n\nThis change only updates the aggregate map for any single resource\nprovider if it has not been updated in the last 300 seconds. The\nhandling of the update has been moved out to its own method (instead of\ntwo calls in _ensure_resource_provider) so that if we want to move it to\nthe periodic job or something like that, that will be easy.\n\nWhen a resource provider is new to the resource tracker, we always\nupdate the aggregate map for that resouce provider uuid.\n\nThe initial pass of this used a single time for last update, instead of\na time per resource provider uuid, but I realized that would lead to\nsome upredictability.\n\nThe aggregate_refresh_map (which maps rp uuids to last update times) is\npublic so that if we want to make it so the reset() on the compute\nmanager can clear it, we have that option (it wasn't clear if the\nresource tracker is otherwise reset-able or not, so I left that for\nlater).\n\nConcerns that make this not fully ready:\n\n* What's the proper interval and should it be configurable (let's hope\n  not)? Currently set in AGGREGATE_REFRESH at 300 seconds.\n\n* Does manipulation of the aggregate_refresh_map need to be\n  synchronized? Accessing the dict itself is thread safe, but...?\n\n* We don't really use the aggregate map in any real way yet (but soon)\n  so hard to know if this is sane.\n\nCloses-Bug: #1708252\nChange-Id: Ida7c79a3130ba1c159a37c984d382c789f46e111\n""}, {'number': 3, 'created': '2017-08-22 08:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7ab0229ae8c9c38f206bd670e2f8f8322ae595f3', 'message': 'Update RT aggregate map less frequently\n\nThe _provider_aggregate_map was being updated every time\n_ensure_resource_provider was called. This is inefficient as aggregates\nare not updated that often.\n\nThis change only updates the aggregate map for any single resource\nprovider if it has not been updated in the last 300 seconds. The\nhandling of the update has been moved out to its own method (instead of\ntwo calls in _ensure_resource_provider) so that if we want to move it to\nthe periodic job or something like that, that will be easy.\n\nWhen a resource provider is new to the resource tracker, we always\nupdate the aggregate map for that resouce provider uuid.\n\nThe initial pass of this used a single time for last update, instead of\na time per resource provider uuid, but that would lead to some\nupredictability.\n\nThe aggregate_refresh_map (which maps rp uuids to last update times) is\npublic so that if we want to make it so the reset() on the compute\nmanager can clear it, we have that option.\n\nCloses-Bug: #1708252\nChange-Id: Ida7c79a3130ba1c159a37c984d382c789f46e111\n'}, {'number': 4, 'created': '2017-09-04 16:06:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7c32c5a9d79f97373ea998e56260b1d61827ac3f', 'message': 'Update RT aggregate map less frequently\n\nThe _provider_aggregate_map was being updated every time\n_ensure_resource_provider was called. This is inefficient as aggregates\nare not updated that often.\n\nThis change only updates the aggregate map for any single resource\nprovider if it has not been updated in the last 300 seconds. The\nhandling of the update has been moved out to its own method (instead of\ntwo calls in _ensure_resource_provider) so that if we want to move it to\nthe periodic job or something like that, that will be easy.\n\nWhen a resource provider is new to the resource tracker, we always\nupdate the aggregate map for that resouce provider uuid.\n\nThe initial pass of this used a single time for last update, instead of\na time per resource provider uuid, but that would lead to some\nupredictability.\n\nThe aggregate_refresh_map (which maps rp uuids to last update times) is\npublic so that if we want to make it so the reset() on the compute\nmanager can clear it, we have that option.\n\nCloses-Bug: #1708252\nChange-Id: Ida7c79a3130ba1c159a37c984d382c789f46e111\n'}, {'number': 5, 'created': '2017-10-03 11:54:49.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fc6caeeb5122ad4577ebd98f23309a68b8e9e738', 'message': 'Update RT aggregate map less frequently\n\nThe _provider_aggregate_map was being updated every time\n_ensure_resource_provider was called. This is inefficient as aggregates\nare not updated that often.\n\nThis change only updates the aggregate map for any single resource\nprovider if it has not been updated in the last 300 seconds. The\nhandling of the update has been moved out to its own method (instead of\ntwo calls in _ensure_resource_provider) so that if we want to move it to\nthe periodic job or something like that, that will be easy.\n\nWhen a resource provider is new to the resource tracker, we always\nupdate the aggregate map for that resouce provider uuid.\n\nThe initial pass of this used a single time for last update, instead of\na time per resource provider uuid, but that would lead to some\nupredictability.\n\nThe aggregate_refresh_map (which maps rp uuids to last update times) is\npublic so that if we want to make it so the reset() on the compute\nmanager can clear it, we have that option.\n\nCloses-Bug: #1708252\nChange-Id: Ida7c79a3130ba1c159a37c984d382c789f46e111\n'}]",34,489633,fc6caeeb5122ad4577ebd98f23309a68b8e9e738,110,20,5,11564,,,0,"Update RT aggregate map less frequently

The _provider_aggregate_map was being updated every time
_ensure_resource_provider was called. This is inefficient as aggregates
are not updated that often.

This change only updates the aggregate map for any single resource
provider if it has not been updated in the last 300 seconds. The
handling of the update has been moved out to its own method (instead of
two calls in _ensure_resource_provider) so that if we want to move it to
the periodic job or something like that, that will be easy.

When a resource provider is new to the resource tracker, we always
update the aggregate map for that resouce provider uuid.

The initial pass of this used a single time for last update, instead of
a time per resource provider uuid, but that would lead to some
upredictability.

The aggregate_refresh_map (which maps rp uuids to last update times) is
public so that if we want to make it so the reset() on the compute
manager can clear it, we have that option.

Closes-Bug: #1708252
Change-Id: Ida7c79a3130ba1c159a37c984d382c789f46e111
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/489633/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",2,eae150c58d0647b2b795a0fdc02b9c38a28ef98b,cd/reduce-agg-requests," # Track the last time we updated the aggregate map. self.aggregate_refresh_time = {} self._refresh_aggregate_map(uuid) # If there had been no resource provider record, force refreshing # the aggregate map. self._refresh_aggregate_map(uuid, force=True) def _refresh_aggregate_map(self, rp_uuid, force=False): """"""Refresh the aggregate map for the provider resoruce provider uuid. Only refresh if there has been no refresh during the lifetime of this process or 60 seconds have passed. :param uuid: UUID identifier for the resource provider to ensure exists """""" if force or self._aggregate_map_stale(rp_uuid): msg = ""Refreshing aggregate associations for resource provider %s"" LOG.debug(msg, rp_uuid) aggs = self._get_provider_aggregates(rp_uuid) self._provider_aggregate_map[rp_uuid] = aggs self.aggregate_refresh_time[rp_uuid] = time.time() def _aggregate_map_stale(self, uuid): """"""Respond True if the _provider_aggregate_map is old. It is old if _aggregrate_refresh_time is None or more than 60 seconds ago. """""" refresh_time = self.aggregate_refresh_time.get(uuid) return (not refresh_time or time.time() - refresh_time > 60) "," # NOTE(jaypipes): This isn't optimal to check if aggregate # associations have changed each time we call # _ensure_resource_provider() and get a hit on the local cache of # provider objects, however the alternative is to force operators # to restart all their nova-compute workers every time they add or # change an aggregate. We might optionally want to add some sort of # cache refresh delay or interval as an optimization? msg = ""Refreshing aggregate associations for resource provider %s"" LOG.debug(msg, uuid) aggs = self._get_provider_aggregates(uuid) self._provider_aggregate_map[uuid] = aggs msg = ""Grabbing aggregate associations for resource provider %s"" LOG.debug(msg, uuid) aggs = self._get_provider_aggregates(uuid) self._provider_aggregate_map[uuid] = aggs",84,15
openstack%2Frequirements~master~I1f1cd3baf1118defd55c68a89d3ded77d257cc85,openstack/requirements,master,I1f1cd3baf1118defd55c68a89d3ded77d257cc85,update constraint for oslo.config to new release 4.13.1,MERGED,2017-10-04 14:10:47.000000000,2017-10-05 18:13:23.000000000,2017-10-05 18:13:23.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-10-04 14:10:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5c2a18975917e1d000f34ca54e5bbdfd5c350a47', 'message': 'update constraint for oslo.config to new release 4.13.1\n\nChange-Id: I1f1cd3baf1118defd55c68a89d3ded77d257cc85\nmeta:version: 4.13.1\nmeta:diff-start: -\nmeta:series: queens\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Sean McGinnis <sean.mcginnis@huawei.com>\nmeta:release:Commit: Sean McGinnis <sean.mcginnis@huawei.com>\nmeta:release:Change-Id: I828398197705b6dd0eeb657d56bd140c1aa5a1a5\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,509475,5c2a18975917e1d000f34ca54e5bbdfd5c350a47,11,3,1,11131,,,0,"update constraint for oslo.config to new release 4.13.1

Change-Id: I1f1cd3baf1118defd55c68a89d3ded77d257cc85
meta:version: 4.13.1
meta:diff-start: -
meta:series: queens
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Sean McGinnis <sean.mcginnis@huawei.com>
meta:release:Commit: Sean McGinnis <sean.mcginnis@huawei.com>
meta:release:Change-Id: I828398197705b6dd0eeb657d56bd140c1aa5a1a5
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/75/509475/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5c2a18975917e1d000f34ca54e5bbdfd5c350a47,new-release,oslo.config===4.13.1,oslo.config===4.13.0,1,1
openstack%2Frequirements~stable%2Fnewton~I1c01b02110da78139b035aad15a8bc4dad9d5344,openstack/requirements,stable/newton,I1c01b02110da78139b035aad15a8bc4dad9d5344,update constraint for python-novaclient to new release 6.0.2,MERGED,2017-10-05 10:45:24.000000000,2017-10-05 18:13:17.000000000,2017-10-05 18:13:17.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-10-05 10:45:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f7a5a181b1e51ee3fbe049c7d18634da30880d4e', 'message': 'update constraint for python-novaclient to new release 6.0.2\n\nChange-Id: I1c01b02110da78139b035aad15a8bc4dad9d5344\nmeta:version: 6.0.2\nmeta:diff-start: -\nmeta:series: newton\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Change-Id: If5e460dc71d7ed60d146769134e697a99c0affdb\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Alan Pevec <alan.pevec@redhat.com>\nmeta:release:Workflow+1: Alan Pevec <alan.pevec@redhat.com>\n'}]",0,509751,f7a5a181b1e51ee3fbe049c7d18634da30880d4e,7,3,1,11131,,,0,"update constraint for python-novaclient to new release 6.0.2

Change-Id: I1c01b02110da78139b035aad15a8bc4dad9d5344
meta:version: 6.0.2
meta:diff-start: -
meta:series: newton
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Commit: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Change-Id: If5e460dc71d7ed60d146769134e697a99c0affdb
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Alan Pevec <alan.pevec@redhat.com>
meta:release:Workflow+1: Alan Pevec <alan.pevec@redhat.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/51/509751/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,f7a5a181b1e51ee3fbe049c7d18634da30880d4e,new-release,python-novaclient===6.0.2,python-novaclient===6.0.1,1,1
openstack%2Fansible-hardening~master~I441dbacdfa82e49c0c24f86e303706ae79c7d4dd,openstack/ansible-hardening,master,I441dbacdfa82e49c0c24f86e303706ae79c7d4dd,Update to RHEL 7 V1R2 STIG,MERGED,2017-09-21 20:48:50.000000000,2017-10-05 18:11:36.000000000,2017-10-05 18:11:36.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 13095}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-21 20:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/4dceb5ccfa11a4bb6faa0d49a86af5979dbcfee1', 'message': '[WIP] Update to RHEL 7 V1R2 STIG\n\nChange-Id: I441dbacdfa82e49c0c24f86e303706ae79c7d4dd\n'}, {'number': 2, 'created': '2017-09-21 21:03:08.000000000', 'files': ['doc/metadata/stig_to_rst.py', 'doc/source/_exts/metadata-docs-rhel7.py', 'doc/metadata/U_Red_Hat_Enterprise_Linux_7_STIG_V1R2_Manual-xccdf.xml', 'doc/metadata/rhel7/V-72181.rst', 'releasenotes/notes/remove-v72181-e29b9f5d9c971541.yaml', 'tasks/rhel7stig/auditd.yml', 'defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/ba98871f4b0e3a655593d60d9485b8bf7c8ea7f3', 'message': 'Update to RHEL 7 V1R2 STIG\n\nThis patch updates the STIG XML to version 1 release 2.\n\nThe new release does not have V-72181 included, so the relevant\ntasks and variables have been removed.\n\nCloses-Bug: 1718772\nChange-Id: I441dbacdfa82e49c0c24f86e303706ae79c7d4dd\n'}]",0,506363,ba98871f4b0e3a655593d60d9485b8bf7c8ea7f3,10,4,2,538,,,0,"Update to RHEL 7 V1R2 STIG

This patch updates the STIG XML to version 1 release 2.

The new release does not have V-72181 included, so the relevant
tasks and variables have been removed.

Closes-Bug: 1718772
Change-Id: I441dbacdfa82e49c0c24f86e303706ae79c7d4dd
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/63/506363/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/metadata/stig_to_rst.py', 'doc/source/_exts/metadata-docs-rhel7.py', 'doc/metadata/U_Red_Hat_Enterprise_Linux_7_STIG_V1R2_Manual-xccdf.xml', 'doc/metadata/rhel7/V-72181.rst', 'tasks/rhel7stig/auditd.yml', 'defaults/main.yml', 'vars/main.yml']",7,4dceb5ccfa11a4bb6faa0d49a86af5979dbcfee1,bug/1718772,, - command: pt_chown path: /usr/libexec stig_id: V-72181 arch_specific: no distro: redhat,88,201
openstack%2Fproject-config~master~Id8be2182717cb83d9ee87c112ded4abd5d476106,openstack/project-config,master,Id8be2182717cb83d9ee87c112ded4abd5d476106,Use requirements-check everywhere,MERGED,2017-10-05 17:34:40.000000000,2017-10-05 18:07:50.000000000,2017-10-05 18:07:50.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 17:34:40.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0c29a227b0a19fb11913a2c22d652b3cf6fb73cd', 'message': 'Use requirements-check everywhere\n\nConvert from using legacy-requirements to check-requirements and\nrequirements-check template.\n\nChange-Id: Id8be2182717cb83d9ee87c112ded4abd5d476106\n'}]",0,509847,0c29a227b0a19fb11913a2c22d652b3cf6fb73cd,8,4,1,6547,,,0,"Use requirements-check everywhere

Convert from using legacy-requirements to check-requirements and
requirements-check template.

Change-Id: Id8be2182717cb83d9ee87c112ded4abd5d476106
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/509847/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,0c29a227b0a19fb11913a2c22d652b3cf6fb73cd,zuulv3-jobs, - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements - check-requirements," - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ check: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$ gate: jobs: - legacy-requirements: files: - ^tools/.*-requires$ - ^.*requirements.txt$ - ^.*requirements-py[2,3].txt$",20,254
openstack%2Fsecurity-doc~master~Id96d4a5689b617bdbed1f4b7666e65cdcab3b063,openstack/security-doc,master,Id96d4a5689b617bdbed1f4b7666e65cdcab3b063,Add Key Management Chapter,MERGED,2017-03-30 20:18:39.000000000,2017-10-05 17:59:08.000000000,2017-10-05 17:59:08.000000000,"[{'_account_id': 3}, {'_account_id': 7063}, {'_account_id': 8623}, {'_account_id': 9914}, {'_account_id': 10607}, {'_account_id': 10873}, {'_account_id': 11307}, {'_account_id': 11397}, {'_account_id': 11561}, {'_account_id': 17893}, {'_account_id': 20156}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-03-30 20:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/f23611deb123acb6aa468e5065d61e979ff86d40', 'message': 'Add Key Management Chapter\n\nSubmitting patch with content written during PTG.  More work to\ndo.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\n'}, {'number': 2, 'created': '2017-04-12 10:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/b6b07e160f4c04f62b162684fdb14a0d3c203586', 'message': 'Add Key Management Chapter\n\nSubmitting patch with content written during PTG.  More work to\ndo.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\n'}, {'number': 3, 'created': '2017-04-12 10:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/5b97bb778d1e6d333bd95bca10020e10a3d740ee', 'message': 'Add Key Management Chapter\n\nSubmitting patch with content written during PTG.  More work to\ndo.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\n'}, {'number': 4, 'created': '2017-06-21 10:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/40dc182a9dd18c649b5daf94940bd869f3311428', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 5, 'created': '2017-07-18 13:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/cdd517f13822384e20123aa62ec3f5362e9e586e', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 6, 'created': '2017-07-18 13:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/131718c23fc8b4a90a2a9baa3e4bfbbb0d406479', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 7, 'created': '2017-07-25 12:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/9820fb8be918b976f96c2010cb9cba63abb3da0e', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 8, 'created': '2017-09-13 16:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/b528cef6b4725ac11a558baf7128f917f80dacbc', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 9, 'created': '2017-09-14 06:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/39ef29332b5c1a69fbcf9e76469e3e8f74bc3648', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\n'}, {'number': 10, 'created': '2017-09-14 13:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e81c80ddf9d129aea23fd8be2ea07979f46c271d', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 11, 'created': '2017-09-14 16:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/f5adcce6869587885365db8857f2fc76b703e35f', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 12, 'created': '2017-09-14 16:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e7131a3f55f37080dcc725354d27b9a0b3c37f05', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 13, 'created': '2017-09-14 19:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/17b921bbb7dff44daf7a6b72223de048d8ce504e', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 14, 'created': '2017-09-14 19:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/fa8748db92acf4b2a83af0f4fe20ed7866c1d04d', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 15, 'created': '2017-09-14 19:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/83fd8cf351679b2fd8f821001418652320f1ff05', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 16, 'created': '2017-09-14 20:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/302f06740dd9b38b77fb9b010c578e26f9677463', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Kaitlin Farr <Kaitlin.Farr@jhuapl.edu>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 17, 'created': '2017-09-14 20:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/7a4da7ddc9818d1857741bad5d8b0ae464d35a0f', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 18, 'created': '2017-09-14 21:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/f20424679b28393cf97a4f3f4639cff4571019c1', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 19, 'created': '2017-09-14 21:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/74d4a2c56f370fd0d3de5d9eb94dcad2f5922bac', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 20, 'created': '2017-09-14 21:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/6f85b160fa19fa039eba1296b669eecccf5ade94', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 21, 'created': '2017-09-14 21:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/0ef0df25ad85fd3be374fed419d5c2a9b6f3fe1d', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 22, 'created': '2017-09-25 11:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/e42e41efb354e574e1002af350b59df54bc8ad7a', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 23, 'created': '2017-09-25 14:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/73eefa1a509164f3472cf8807287d4c98b7dd988', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 24, 'created': '2017-09-25 15:31:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/784493336e747d813751628325fad8d95ca2b003', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 25, 'created': '2017-09-26 08:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/security-doc/commit/37beb2c43af80da2c344fa28209a3d911fc22de6', 'message': '[WIP] Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}, {'number': 26, 'created': '2017-09-29 16:03:26.000000000', 'files': ['security-guide/source/secrets-management/barbican.rst', 'security-guide/source/secrets-management/summary-of-technologies.rst', 'security-guide/source/secrets-management.rst', 'security-guide/source/secrets-management/faq.rst', 'security-guide/source/secrets-management/checklist.rst', 'security-guide/source/secrets-management/related-projects.rst', 'security-guide/source/index.rst', 'security-guide/source/secrets-management/castellan.rst', 'security-guide/source/secrets-management/secrets-management-use-cases.rst'], 'web_link': 'https://opendev.org/openstack/security-doc/commit/84a004667aa865872f8ee59ca045e3ff1f71c985', 'message': 'Add Key Management Chapter\n\nPatch with content written during PTG.\n\nChange-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063\nCo-Authored-By: Robert Clark <hyakuhei@gmail.com>\nCo-Authored-By: Doug Chivers <dougchivers@gmail.com>\nCo-Authored-By: Ade Lee <alee@redhat.com>\nCo-Authored-By: Luke Hinds <lhinds@redhat.com>\n'}]",160,451965,84a004667aa865872f8ee59ca045e3ff1f71c985,90,13,26,11561,,,0,"Add Key Management Chapter

Patch with content written during PTG.

Change-Id: Id96d4a5689b617bdbed1f4b7666e65cdcab3b063
Co-Authored-By: Robert Clark <hyakuhei@gmail.com>
Co-Authored-By: Doug Chivers <dougchivers@gmail.com>
Co-Authored-By: Ade Lee <alee@redhat.com>
Co-Authored-By: Luke Hinds <lhinds@redhat.com>
",git fetch https://review.opendev.org/openstack/security-doc refs/changes/65/451965/24 && git format-patch -1 --stdout FETCH_HEAD,"['security-guide/source/key-management/case-studies.rst', 'security-guide/source/key-management/overview.rst', 'security-guide/source/key-management/barbican.rst', 'security-guide/source/key-management/checklist.rst', 'security-guide/source/key-managment.rst', 'security-guide/source/index.rst']",6,f23611deb123acb6aa468e5065d61e979ff86d40,key-management, key-management.rst,,278,0
openstack%2Frpm-packaging~master~I52506bedc8e049b3257a725259848af3d06b2fb3,openstack/rpm-packaging,master,I52506bedc8e049b3257a725259848af3d06b2fb3,Fix syntax error introduced in last change,MERGED,2017-10-05 15:43:51.000000000,2017-10-05 17:57:52.000000000,2017-10-05 17:57:52.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-05 15:43:51.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/cfbf877a6556356d2b952efd76cb5d643bae9a7a', 'message': 'Fix syntax error introduced in last change\n\nthe version dependency needs to be expanded by py2pkg() to avoid\ndouble expansion ""foo >= 2.0 >= 2.0""\n\nChange-Id: I52506bedc8e049b3257a725259848af3d06b2fb3\n'}]",0,509817,cfbf877a6556356d2b952efd76cb5d643bae9a7a,12,6,1,6593,,,0,"Fix syntax error introduced in last change

the version dependency needs to be expanded by py2pkg() to avoid
double expansion ""foo >= 2.0 >= 2.0""

Change-Id: I52506bedc8e049b3257a725259848af3d06b2fb3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/17/509817/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tripleo-common/tripleo-common.spec.j2'],1,cfbf877a6556356d2b952efd76cb5d643bae9a7a,,"Requires: {{ py2pkg('docker', ('>=', '2.0.0')) }}",Requires: {{ py2pkg('docker') }} >= 2.0.0,1,1
openstack%2Fbifrost~master~I3e4e7f800f52406003620f7fb587290be77a6a3f,openstack/bifrost,master,I3e4e7f800f52406003620f7fb587290be77a6a3f,Use 'none' auth plugin w/o keystone,MERGED,2017-08-30 09:14:05.000000000,2017-10-05 17:48:06.000000000,2017-10-05 17:48:06.000000000,"[{'_account_id': 3}, {'_account_id': 2889}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14525}, {'_account_id': 22474}]","[{'number': 1, 'created': '2017-08-30 09:14:05.000000000', 'files': ['playbooks/roles/bifrost-keystone-client-config/templates/clouds.yaml.j2'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/21ca45937a9cb36c6f04073182bf2edea8acbd5d', 'message': ""Use 'none' auth plugin w/o keystone\n\nin Pike keystoneauth got a proper 'none' auth plugin, let's use it in\nthe generated clouds.yaml file.\n\nChange-Id: I3e4e7f800f52406003620f7fb587290be77a6a3f\n""}]",0,499085,21ca45937a9cb36c6f04073182bf2edea8acbd5d,10,6,1,9542,,,0,"Use 'none' auth plugin w/o keystone

in Pike keystoneauth got a proper 'none' auth plugin, let's use it in
the generated clouds.yaml file.

Change-Id: I3e4e7f800f52406003620f7fb587290be77a6a3f
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/85/499085/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-keystone-client-config/templates/clouds.yaml.j2'],1,21ca45937a9cb36c6f04073182bf2edea8acbd5d,use-none-auth-type," auth_type: ""none""", auth_type: None auth: {},1,2
openstack%2Fkeystone~master~Ie84d1b2e54281f512ebffe8372dd56a77b34af13,openstack/keystone,master,Ie84d1b2e54281f512ebffe8372dd56a77b34af13,Remove the v3 to v2 resource test case,MERGED,2017-10-04 15:50:23.000000000,2017-10-05 17:31:26.000000000,2017-10-05 17:31:26.000000000,"[{'_account_id': 3}, {'_account_id': 2218}, {'_account_id': 8482}, {'_account_id': 17860}]","[{'number': 1, 'created': '2017-10-04 15:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/63170e950f2e9a1a21ce6a95c4f58e63c4b51d4a', 'message': 'Remove the v3 to v2 resource test case\n\nbp removed-as-of-queens\n\nChange-Id: Ie84d1b2e54281f512ebffe8372dd56a77b34af13\n'}, {'number': 2, 'created': '2017-10-04 19:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ce2699ed81c81179cd260955f2af50ef5d1e7960', 'message': 'Remove the v3 to v2 resource test case\n\nbp removed-as-of-queens\n\nChange-Id: Ie84d1b2e54281f512ebffe8372dd56a77b34af13\n'}, {'number': 3, 'created': '2017-10-04 20:31:50.000000000', 'files': ['keystone/tests/unit/test_v3_resource.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/09b828d860598d8a0dc3a63f29243366cf75e2d5', 'message': 'Remove the v3 to v2 resource test case\n\nWith the v2.0 resource API removal in Queens, these tests are no longer\nrequired.\n\nbp removed-as-of-queens\n\nChange-Id: Ie84d1b2e54281f512ebffe8372dd56a77b34af13\n'}]",1,509519,09b828d860598d8a0dc3a63f29243366cf75e2d5,12,4,3,21420,,,0,"Remove the v3 to v2 resource test case

With the v2.0 resource API removal in Queens, these tests are no longer
required.

bp removed-as-of-queens

Change-Id: Ie84d1b2e54281f512ebffe8372dd56a77b34af13
",git fetch https://review.opendev.org/openstack/keystone refs/changes/19/509519/3 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_v3_resource.py'],1,63170e950f2e9a1a21ce6a95c4f58e63c4b51d4a,bp/removed-as-of-queens,," class ResourceV3toV2MethodsTestCase(unit.TestCase): """"""Test domain V3 to V2 conversion methods."""""" def _setup_initial_projects(self): self.project_id = uuid.uuid4().hex self.domain_id = CONF.identity.default_domain_id self.parent_id = uuid.uuid4().hex # Project with only domain_id in ref self.project1 = unit.new_project_ref(id=self.project_id, name=self.project_id, domain_id=self.domain_id) # Project with both domain_id and parent_id in ref self.project2 = unit.new_project_ref(id=self.project_id, name=self.project_id, domain_id=self.domain_id, parent_id=self.parent_id) # Project with no domain_id and parent_id in ref self.project3 = unit.new_project_ref(id=self.project_id, name=self.project_id, domain_id=self.domain_id, parent_id=self.parent_id) # Expected result with no domain_id and parent_id self.expected_project = {'id': self.project_id, 'name': self.project_id} def test_v2controller_filter_domain_id(self): # V2.0 is not domain aware, ensure domain_id is popped off the ref. other_data = uuid.uuid4().hex domain_id = CONF.identity.default_domain_id ref = {'domain_id': domain_id, 'other_data': other_data} ref_no_domain = {'other_data': other_data} expected_ref = ref_no_domain.copy() updated_ref = controller.V2Controller.filter_domain_id(ref) self.assertIs(ref, updated_ref) self.assertDictEqual(expected_ref, ref) # Make sure we don't error/muck up data if domain_id isn't present updated_ref = controller.V2Controller.filter_domain_id(ref_no_domain) self.assertIs(ref_no_domain, updated_ref) self.assertDictEqual(expected_ref, ref_no_domain) def test_v3controller_filter_domain_id(self): # No data should be filtered out in this case. other_data = uuid.uuid4().hex domain_id = uuid.uuid4().hex ref = {'domain_id': domain_id, 'other_data': other_data} expected_ref = ref.copy() updated_ref = controller.V3Controller.filter_domain_id(ref) self.assertIs(ref, updated_ref) self.assertDictEqual(expected_ref, ref) def test_v2controller_filter_domain(self): other_data = uuid.uuid4().hex domain_id = uuid.uuid4().hex non_default_domain_ref = {'domain': {'id': domain_id}, 'other_data': other_data} default_domain_ref = {'domain': {'id': 'default'}, 'other_data': other_data} updated_ref = controller.V2Controller.filter_domain(default_domain_ref) self.assertNotIn('domain', updated_ref) self.assertNotIn( 'domain', controller.V2Controller.filter_domain(non_default_domain_ref)) def test_v2controller_filter_project_parent_id(self): # V2.0 is not project hierarchy aware, ensure parent_id is popped off. other_data = uuid.uuid4().hex parent_id = uuid.uuid4().hex ref = {'parent_id': parent_id, 'other_data': other_data} ref_no_parent = {'other_data': other_data} expected_ref = ref_no_parent.copy() updated_ref = controller.V2Controller.filter_project_parent_id(ref) self.assertIs(ref, updated_ref) self.assertDictEqual(expected_ref, ref) # Make sure we don't error/muck up data if parent_id isn't present updated_ref = controller.V2Controller.filter_project_parent_id( ref_no_parent) self.assertIs(ref_no_parent, updated_ref) self.assertDictEqual(expected_ref, ref_no_parent) def test_v3_to_v2_project_method(self): self._setup_initial_projects() # TODO(shaleh): these optional fields are not handled well by the # v3_to_v2 code. Manually remove them for now. Eventually update # new_project_ref to not return optional values del self.project1['enabled'] del self.project1['description'] del self.project2['enabled'] del self.project2['description'] del self.project3['enabled'] del self.project3['description'] updated_project1 = controller.V2Controller.v3_to_v2_project( self.project1) self.assertIs(self.project1, updated_project1) self.assertDictEqual(self.expected_project, self.project1) updated_project2 = controller.V2Controller.v3_to_v2_project( self.project2) self.assertIs(self.project2, updated_project2) self.assertDictEqual(self.expected_project, self.project2) updated_project3 = controller.V2Controller.v3_to_v2_project( self.project3) self.assertIs(self.project3, updated_project3) self.assertDictEqual(self.expected_project, self.project2) def test_v3_to_v2_project_method_list(self): self._setup_initial_projects() project_list = [self.project1, self.project2, self.project3] # TODO(shaleh): these optional fields are not handled well by the # v3_to_v2 code. Manually remove them for now. Eventually update # new_project_ref to not return optional values for p in project_list: del p['enabled'] del p['description'] updated_list = controller.V2Controller.v3_to_v2_project(project_list) self.assertEqual(len(updated_list), len(project_list)) for i, ref in enumerate(updated_list): # Order should not change. self.assertIs(ref, project_list[i]) self.assertDictEqual(self.expected_project, self.project1) self.assertDictEqual(self.expected_project, self.project2) self.assertDictEqual(self.expected_project, self.project3)",0,136
openstack%2Fswift~feature%2Fdeep~I0547cb13054af13f8364f3fd9fa9cf980f3f2f48,openstack/swift,feature/deep,I0547cb13054af13f8364f3fd9fa9cf980f3f2f48,"Add shard_ranges table on failed writes, not reads",MERGED,2017-09-28 23:24:05.000000000,2017-10-05 17:31:17.000000000,2017-10-05 17:31:17.000000000,"[{'_account_id': 3}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-28 23:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/717757ee61471c43ab583598068f0c754558cc14', 'message': ""Add shard_ranges table on failed writes, not reads\n\nThis ensures that things like swift-container-info don't go creating\ntables. Also, this means that swift-container-info will be useful on a\nread-only DB.\n\nChange-Id: I0547cb13054af13f8364f3fd9fa9cf980f3f2f48\n""}, {'number': 2, 'created': '2017-10-04 16:36:20.000000000', 'files': ['swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/556c99f8393f24759331f1590150757b84ba917e', 'message': ""Add shard_ranges table on failed writes, not reads\n\nThis ensures that things like swift-container-info don't go creating\ntables. Also, this means that swift-container-info will be useful on a\nread-only DB.\n\nChange-Id: I0547cb13054af13f8364f3fd9fa9cf980f3f2f48\n""}]",3,508355,556c99f8393f24759331f1590150757b84ba917e,17,6,2,15343,,,0,"Add shard_ranges table on failed writes, not reads

This ensures that things like swift-container-info don't go creating
tables. Also, this means that swift-container-info will be useful on a
read-only DB.

Change-Id: I0547cb13054af13f8364f3fd9fa9cf980f3f2f48
",git fetch https://review.opendev.org/openstack/swift refs/changes/55/508355/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/backend.py'],1,717757ee61471c43ab583598068f0c754558cc14,migrate-on-write," errs = set() while True: try: return _really_merge_items(conn) except sqlite3.OperationalError as err: # Try each migration only once err = str(err) if err in errs: raise errs.add(err) if 'no such column: storage_policy_index' in err: self._migrate_add_storage_policy(conn) if 'no such table: shard_ranges' in err: self.create_shard_ranges_table(conn) return [] return {'bytes_used': 0, 'object_count': 0}"," try: return _really_merge_items(conn) except sqlite3.OperationalError as err: if 'no such column: storage_policy_index' not in str(err): raise self._migrate_add_storage_policy(conn) return _really_merge_items(conn) self.create_shard_ranges_table(conn) return [] self.create_shard_ranges_table(conn) return {'bytes_used': 0, 'object_count': 0}",16,11
openstack%2Fkuryr-kubernetes~master~I7ce73634b0386c746f7a92b61447159c5c644ecc,openstack/kuryr-kubernetes,master,I7ce73634b0386c746f7a92b61447159c5c644ecc,Optimize return_to_pool actions at Pool drivers,MERGED,2017-09-20 11:43:49.000000000,2017-10-05 17:19:06.000000000,2017-10-05 10:44:28.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2017-09-20 11:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/72da7ea8e96595a67292175e2d81847a85823b8e', 'message': 'Optimize return_to_pool actions at Pool drivers\n\nThis patch skips ports update calls to neutron when the ports to\nrecycle already have the right security groups\n\nTODO:\n    - fix unittest\n\nChange-Id: I7ce73634b0386c746f7a92b61447159c5c644ecc\n'}, {'number': 2, 'created': '2017-09-20 14:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5ce4fa85dfec9721f0d2421423ae88967856f969', 'message': 'Optimize return_to_pool actions at Pool drivers\n\nThis patch skips ports update calls to neutron when the ports to\nrecycle already have the right security groups\n\nChange-Id: I7ce73634b0386c746f7a92b61447159c5c644ecc\n'}, {'number': 3, 'created': '2017-09-21 13:40:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/db9e4ff314e1db7b2a7f8fe632b704bfeca9812e', 'message': 'Optimize return_to_pool actions at Pool drivers\n\nThis patch skips ports update calls to neutron when the ports to\nrecycle already have the right security groups\n\nCloses-Bug: 1718674\nChange-Id: I7ce73634b0386c746f7a92b61447159c5c644ecc\n'}, {'number': 4, 'created': '2017-09-22 10:14:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/878428245370e0e03c7176020da980970b403e3d', 'message': 'Optimize return_to_pool actions at Pool drivers\n\nThis patch skips ports update calls to neutron when the ports to\nrecycle already have the right security groups\n\nPartially Implements blueprint port-deletion-control-plane-perf\nCloses-Bug: 1718674\nChange-Id: I7ce73634b0386c746f7a92b61447159c5c644ecc\n'}, {'number': 5, 'created': '2017-09-22 10:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/201c715295d17e77b65f2d7d04189b455fb2c7df', 'message': 'Optimize return_to_pool actions at Pool drivers\n\nThis patch skips ports update calls to neutron when the ports to\nrecycle already have the right security groups\n\nPartially Implements blueprint port-deletion-control-plane-perf\nCloses-Bug: 1718674\nChange-Id: I7ce73634b0386c746f7a92b61447159c5c644ecc\n'}, {'number': 6, 'created': '2017-09-22 15:54:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/803e07c6b0b1bb92900b38d75b3b926869870491', 'message': 'Optimize return_to_pool actions at Pool drivers\n\nThis patch skips ports update calls to neutron when the ports to\nrecycle already have the right security groups\n\nPartially Implements blueprint port-deletion-control-plane-perf\nCloses-Bug: 1718674\nChange-Id: I7ce73634b0386c746f7a92b61447159c5c644ecc\n'}, {'number': 7, 'created': '2017-09-25 07:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/98812e38746428589382d9ed4cdbee1092afbe0a', 'message': 'Optimize return_to_pool actions at Pool drivers\n\nThis patch skips ports update calls to neutron when the ports to\nrecycle already have the right security groups\n\nPartially Implements blueprint port-deletion-control-plane-perf\nCloses-Bug: 1718674\nChange-Id: I7ce73634b0386c746f7a92b61447159c5c644ecc\n'}, {'number': 8, 'created': '2017-10-02 07:20:04.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/5a117db50015ed89692af1dcf296a10eba9d1beb', 'message': 'Optimize return_to_pool actions at Pool drivers\n\nThis patch skips ports update calls to neutron when the ports to\nrecycle already have the right security groups\n\nPartially Implements blueprint port-deletion-control-plane-perf\nCloses-Bug: 1718674\nChange-Id: I7ce73634b0386c746f7a92b61447159c5c644ecc\n'}]",4,505605,5a117db50015ed89692af1dcf296a10eba9d1beb,30,5,8,23567,,,0,"Optimize return_to_pool actions at Pool drivers

This patch skips ports update calls to neutron when the ports to
recycle already have the right security groups

Partially Implements blueprint port-deletion-control-plane-perf
Closes-Bug: 1718674
Change-Id: I7ce73634b0386c746f7a92b61447159c5c644ecc
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/05/505605/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,72da7ea8e96595a67292175e2d81847a85823b8e,no-port-update," kuryr_ports = self._get_ports_by_attrs( device_owner=kl_const.DEVICE_OWNER) sg_current = {} for port in kuryr_ports: if port['id'] in self._recyclable_ports.keys(): sg_current[port['id']] = port['security_groups'] if list(pool_key[2]) != sg_current[port_id]: try: neutron.update_port( port_id, { ""port"": { 'name': port_name, 'device_id': '', 'security_groups': list(pool_key[2]) } }) except n_exc.NeutronClientException: LOG.warning(""Error preparing port %s to be "" ""reused, put back on the cleanable "" ""pool."", port_id) continue kuryr_subports = self._get_ports_by_attrs( device_owner=['trunk:subport', kl_const.DEVICE_OWNER]) sg_current = {} for subport in kuryr_subports: if subport['id'] in self._recyclable_ports.keys(): sg_current[subport['id']] = subport['security_groups'] if list(pool_key[2]) != sg_current[port_id]: try: neutron.update_port( port_id, { ""port"": { 'name': port_name, 'security_groups': list(pool_key[2]) } }) except n_exc.NeutronClientException: LOG.warning(""Error preparing port %s to be "" ""reused, put back on the cleanable "" ""pool."", port_id) continue"," try: neutron.update_port( port_id, { ""port"": { 'name': port_name, 'device_id': '', 'security_groups': list(pool_key[2]) } }) except n_exc.NeutronClientException: LOG.warning(""Error preparing port %s to be reused, put"" "" back on the cleanable pool."", port_id) continue try: neutron.update_port( port_id, { ""port"": { 'name': port_name, 'security_groups': list(pool_key[2]) } }) except n_exc.NeutronClientException: LOG.warning(""Error preparing port %s to be reused, put"" "" back on the cleanable pool."", port_id) continue",45,27
openstack%2Fironic-ui~master~I069f143e10fca4829ad8abf6f9173a23ed6f80b9,openstack/ironic-ui,master,I069f143e10fca4829ad8abf6f9173a23ed6f80b9,Imported Translations from Zanata,MERGED,2017-10-04 20:33:30.000000000,2017-10-05 17:16:01.000000000,2017-10-05 17:16:01.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 17765}]","[{'number': 1, 'created': '2017-10-04 20:33:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/8cbe2e9186c8e3c301283d53686bc3d53e83db53', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I069f143e10fca4829ad8abf6f9173a23ed6f80b9\n'}, {'number': 2, 'created': '2017-10-05 12:11:34.000000000', 'files': ['ironic_ui/locale/id/LC_MESSAGES/djangojs.po', 'ironic_ui/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/ironic-ui/commit/c4dd0d638457d1a1542a7a8a9ec86d7f653ab052', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I069f143e10fca4829ad8abf6f9173a23ed6f80b9\n'}]",0,509632,c4dd0d638457d1a1542a7a8a9ec86d7f653ab052,9,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I069f143e10fca4829ad8abf6f9173a23ed6f80b9
",git fetch https://review.opendev.org/openstack/ironic-ui refs/changes/32/509632/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_ui/locale/id/LC_MESSAGES/djangojs.po', 'ironic_ui/locale/de/LC_MESSAGES/djangojs.po', 'releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po']",3,8cbe2e9186c8e3c301283d53686bc3d53e83db53,zanata/translations,"""POT-Creation-Date: 2017-09-26 16:08+0000\n""""PO-Revision-Date: 2017-10-04 11:27+0000\n""msgid ""3.0.0"" msgstr ""3.0.0"" msgid """" ""A backend mock has been added that enables better unit testing of the ironic-"" ""ui application by mocking the ironic API service. The mock utilizes angular "" ""$httpbackend handlers to intercept requests targeted at the ironic-ui server-"" ""side REST endpoints, and returns simulated responses."" msgstr """" ""Ein Backend-Modell wurde hinzugefgt, welches durch Simulation der Ironic "" ""Dienst-API bessere Unit-Tests der Ironic-UI Applikation ermglicht. Das "" ""Modell verwendet angular $httpbackend Handler, um Anfragen an serverseitige "" ""Ironic-UI REST Endpunkte abzufangen und gibt simulierte Antworten zurck."" msgid """" ""A number of unit tests have been developed that illustrate the use of the "" ""backend mock functionality."" msgstr """" ""Eine Menge Unit Tests wurde entwickelt, um die Backend-Mock-Funktionalitt "" ""zu demonstrieren."" msgid """" ""Adds support for a user to be able to edit the ``resource_class`` field when "" ""enrolling/updating a node."" msgstr """" ""Hinzufgen von Untersttzung fr den Benutzer zum Bearbeiten des "" ""``resource_class`` Feldes beim ausrollen/aktualisieren eines Knotens."" msgid """" ""Adds support for editing portgroups from the node-details/configuration "" ""page. Each entry in the portgroups table has an associated ``Edit "" ""portgroup`` button that when clicked will launch a modal dialog that guides "" ""the user in making changes."" msgstr """" ""Fgt Untersttzung zum Bearbeiten von Portgruppen auf der Konten-Details/"" ""Konfiguration Seite hinzu. Jeder Eintrag in der Portgruppentabelle hat einen "" ""zugehrigen ``Portgruppe bearbeiten`` Button der bei einem Klick einen "" ""Modaldialog startet und den Benutzer durch mgliche nderungen leitet."" msgid """" ""Adds support for viewing and managing the portgroups associated with an "" ""ironic node."" msgstr """" ""Fgt Untersttzung zur Anzeige und Bearbeitung von mit Ironic-Knoten "" ""verbundenen Portgruppen hinzu."" msgid """" ""Adds the ability to view and edit the node's ``resource_class`` field on the "" ""node-details/configuration page."" msgstr """" ""Fgt die Mglichkeit zum Betrachten und Bearbeiten der ``resource_class`` "" ""Felder der Knoten in der Knoten-Details/Konfiguration Seite."" msgid """" ""Although the backend mock is a work in progress, enough functionality "" ""already exists to support test development for the current set of in-"" ""progress features."" msgstr """" ""Obwohl das Backend-Modell noch in Arbeit ist existiert genug Funktionalitt "" ""zum Testen der Installation mit den aktuell in der Entwicklung befindlichen "" ""Features."" msgid """" ""Detailed information for a portgroup is obtained by clicking the detail-"" ""toggle-selector (right-chevron) located in its table row. The additional "" ""information is displayed in a row expansion."" msgstr """" ""Detailinformation zu einer Portgruppe knnen mit einem Klick auf auf den "" ""Details-Umschalt-Auswhler (rechter Winkel) in der Tabellenzeile abgerufen "" ""werden. Die zustzlichen Informationen werden in der damit erweiterten Zeile "" ""angezeigt."" msgid """" ""Each row in the table displays a single portgroup, and has column entries "" ""for its UUID, MAC address, name, and number of ports. A dropdown menu is "" ""also provided that contains actions that can be applied to the portgroup."" msgstr """" ""Jede Reihe in der Tabelle zeigt eine einzelne Portgruppe und hat "" ""Spalteneintrge fr deren UUID, MAC-Adresse, Name und Anzahl der Ports. Ein "" ""Ausklappmen zeigt Aktionen, die auf die Portgruppe angewendet werden knnen."" msgid """" ""For ``shellinabox``, the value is an anchor with the URL required to access "" ""the web console and title ``shellinabox``. For others, the value is a string "" ""representation of the ``console_info`` object returned by the ``get_console "" ""api`` call."" msgstr """" ""Der Wert fr ``shellinabox`` ist ein Anker mit der fr den Zugriff auf die "" ""Webkonsole notwendige URL und dem Titel ``shellinabox``. Der Wert fr andere "" ""ist eine Zeichen-Reprsentation des ``console_info`` Objektes, welches vom "" ""``get_console api`` Aufruf zurckgegeben wird."" msgid ""Pike Series Release Notes"" msgstr ""Pike Serie Release Notes"" msgid ""Prelude"" msgstr ""Einleitung"" ""The ``Properties`` column has been replaced with a column that displays only "" ""the boolean value of the ``pxe_enabled`` property."" msgstr """" ""Die ``Eigenschaften`` Kolumne wurde durch eine Kolumne ersetzt, die nur den "" ""Bool'schen Wert der ``pxe_enabled`` Eigenschaft zeigt."" msgid """"""The node-details/overview panel has a new ``Console info`` item in the "" ""``General`` section. The value of this field is dependent on the console "" ""type."" msgstr """" ""Das Knotendetails/bersicht Paneel hat einen neuen ``Console info`` Eintrag "" ""in der ``General`` Sektion. Der Wert des Feldes hngt vom Konsolentyp ab."" msgid """"","""POT-Creation-Date: 2017-08-09 17:47+0000\n""""PO-Revision-Date: 2017-07-10 05:21+0000\n""",208,9
openstack%2Fpython-ironicclient~master~I47dd10f935b7a06691e156dcda33e063179cef66,openstack/python-ironicclient,master,I47dd10f935b7a06691e156dcda33e063179cef66,Update README,MERGED,2017-09-27 15:32:43.000000000,2017-10-05 17:12:28.000000000,2017-10-05 17:12:28.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-09-27 15:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/40d2b7114a99fbe72355a983530f99429416372d', 'message': ""Update README\n\nThis updates the README. Among other things:\n- in the examples, uses hardware type 'ipmi' instead of classic drivers\n  because the plan is for classic drivers to be deprecated\n- reorders the CLIs so that 'openstack baremetal' is first, because the\n  plan is for the 'ironic' CLI to be deprecated\n- cleans up some formatting issues\n- rewords certain parts to be clearer\n\nChange-Id: I47dd10f935b7a06691e156dcda33e063179cef66\n""}, {'number': 2, 'created': '2017-09-27 15:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/a4bb93af0c60a5ea0e68e9a0e4a1b58b27acf7b8', 'message': ""Update README\n\nThis updates the README. Among other things:\n- in the examples, uses hardware type 'ipmi' instead of classic drivers\n  because the plan is for classic drivers to be deprecated\n- reorders the CLIs so that 'openstack baremetal' is first, because the\n  plan is for the 'ironic' CLI to be deprecated\n- cleans up some formatting issues\n- rewords certain parts to be clearer\n\nChange-Id: I47dd10f935b7a06691e156dcda33e063179cef66\n""}, {'number': 3, 'created': '2017-09-27 15:56:01.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/55864c9c9580cf125a2fe59b933ea7ac58dd56bb', 'message': ""Update README\n\nThis updates the README. Among other things:\n- in the examples, uses hardware type 'ipmi' instead of classic drivers\n  because the plan is for classic drivers to be deprecated\n- reorders the CLIs so that 'openstack baremetal' is first, because the\n  plan is for the 'ironic' CLI to be deprecated\n- cleans up some formatting issues\n- rewords certain parts to be clearer\n- added a link to the release notes\n\nChange-Id: I47dd10f935b7a06691e156dcda33e063179cef66\n""}]",4,507898,55864c9c9580cf125a2fe59b933ea7ac58dd56bb,13,5,3,6618,,,0,"Update README

This updates the README. Among other things:
- in the examples, uses hardware type 'ipmi' instead of classic drivers
  because the plan is for classic drivers to be deprecated
- reorders the CLIs so that 'openstack baremetal' is first, because the
  plan is for the 'ironic' CLI to be deprecated
- cleans up some formatting issues
- rewords certain parts to be clearer
- added a link to the release notes

Change-Id: I47dd10f935b7a06691e156dcda33e063179cef66
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/98/507898/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,40d2b7114a99fbe72355a983530f99429416372d,update-readme,"<https://wiki.openstack.org/wiki/Ironic>`_ API. It provides: * a Python API: the ``ironicclient`` module, and * two command-line interfaces: ``openstack baremetal`` and ``ironic``.`developer guide <https://docs.openstack.org/infra/manual/developers.html>`_. The master repository is on `git.openstack.org``python-ironicclient`` is licensed under the Apache License, Version 2.0, like the rest of OpenStack. Change logs with information about specific versions (or tags) are available at https://git.openstack.org/cgit/openstack/python-ironicclient/.``openstack baremetal`` CLI --------------------------- The ``openstack baremetal`` command line interface is available when the bare metal plugin (included in this package) is used with the `OpenStackClient <https://docs.openstack.org/python-openstackclient/latest/>`_. There are two ways to install the OpenStackClient (python-openstackclient) package: * along with this python-ironicclient package:: # pip install python-ironicclient[cli] * directly:: # pip install python-openstackclient An example of creating a basic node with the ``ipmi`` driver:: $ openstack baremetal node create --driver ipmi An example of creating a port on a node:: $ openstack baremetal port create --node <UUID> AA:BB:CC:DD:EE:FF An example of updating driver properties for a node:: $ openstack baremetal node set --driver-info ipmi_address=<IPaddress> <UUID or name> For more information about the ``openstack baremetal`` command and the subcommands available, run:: $ openstack help baremetal ``ironic`` CLI --------------An example of creating a basic node with the ``ipmi`` driver:: $ ironic node-create -d ipmiUseful Links ------------ * Change logs with information about specific versions (or tags): https://git.openstack.org/cgit/openstack/python-ironicclient/","<https://wiki.openstack.org/wiki/Ironic>`_ API. It provides a Python API (the ``ironicclient`` module) and a command-line interface (``ironic``).`developer guide <https://docs.openstack.org/infra/manual/developers.html>`_. The master repository is on `git.openstack.org``python-ironicclient`` is licensed under the Apache License like the rest of OpenStack. Command-line API ----------------An example of creating a basic node with the pxe_ipmitool driver:: $ ironic node-create -d pxe_ipmitoolOpenStackClient Baremetal Plugin -------------------------------- In order to use Baremetal Plugin the OpenStackClient should be installed:: # pip install python-openstackclient An example of creating a basic node with the agent_ipmitool driver:: $ openstack baremetal node create --driver agent_ipmitool An example of creating a port on a node:: $ openstack baremetal port create --node <UUID> AA:BB:CC:DD:EE:FF An example of updating driver properties for a node:: $ openstack baremetal node set --driver-info ipmi_address=<IPaddress> <UUID or name> For more information about the ``openstack baremetal`` command and the subcommands available, run:: $ openstack help baremetal * License: Apache License, Version 2.0 Change logs with information about specific versions (or tags) are available at: `<https://git.openstack.org/cgit/openstack/python-ironicclient/>`_.",54,39
openstack%2Fopenstack-ansible-lxc_container_create~master~I6d6df4e15adca696e95ef680fd43c9e013765a4e,openstack/openstack-ansible-lxc_container_create,master,I6d6df4e15adca696e95ef680fd43c9e013765a4e,SUSE: Remove lxc-1.X.X workarounds,MERGED,2017-10-05 13:15:03.000000000,2017-10-05 17:11:14.000000000,2017-10-05 17:11:14.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-10-05 13:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/b36715bd571443a509e13a64b57cd7e4648f66d5', 'message': 'SUSE: Remove lxc-1.X.X workarounds\n\nopenSUSE is now using lxc-2.X.X from the OBS repository in the\nlxc_hosts role so there is no need to have the lxc-1.X.X workarounds\nanymore.\n\nChange-Id: I6d6df4e15adca696e95ef680fd43c9e013765a4e\n'}, {'number': 2, 'created': '2017-10-05 14:38:36.000000000', 'files': ['tasks/lxc_container_cow.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/99687ef5cbfc9a90bd1be65912ea37fa327837ad', 'message': 'SUSE: Remove lxc-1.X.X workarounds\n\nopenSUSE is now using lxc-2.X.X from the OBS repository in the\nlxc_hosts role so there is no need to have the lxc-1.X.X workarounds\nanymore.\n\nChange-Id: I6d6df4e15adca696e95ef680fd43c9e013765a4e\n'}]",0,509771,99687ef5cbfc9a90bd1be65912ea37fa327837ad,11,3,2,23163,,,0,"SUSE: Remove lxc-1.X.X workarounds

openSUSE is now using lxc-2.X.X from the OBS repository in the
lxc_hosts role so there is no need to have the lxc-1.X.X workarounds
anymore.

Change-Id: I6d6df4e15adca696e95ef680fd43c9e013765a4e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/71/509771/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/container_create.yml', 'handlers/main.yml']",2,b36715bd571443a509e13a64b57cd7e4648f66d5,lxc2-support,,"# NOTE(hwoarang): We pass the timeout (-t) option on openSUSE due to # https://bugzilla.opensuse.org/show_bug.cgi?id=1054609. Feel free to # remove this workaround when the bug is closed or lxc-2.X.X becomes the # default on openSUSE. ""{{ (hostvars[physical_host]['ansible_pkg_mgr'] == 'zypper') | ternary('-t 10', '') }}""",9,30
openstack%2Fopenstack-ansible-lxc_container_create~master~I9ce80ad882200eb4163fcce1c07c3b0a0e3a1fe5,openstack/openstack-ansible-lxc_container_create,master,I9ce80ad882200eb4163fcce1c07c3b0a0e3a1fe5,tasks: lxc_container_create: Retry LXC start on failures,MERGED,2017-10-05 13:53:15.000000000,2017-10-05 17:10:39.000000000,2017-10-05 17:10:39.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-10-05 13:53:15.000000000', 'files': ['tasks/lxc_container_create.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/e448b578910576bc93e0ff001800d5e9fd1f3309', 'message': 'tasks: lxc_container_create: Retry LXC start on failures\n\nSometimes a container may fail to start so retry a few more times before\ngiving up. This also helps with capturing problems as soon as possible\nsince the restart handler expects the container to be up and running.\n\nChange-Id: I9ce80ad882200eb4163fcce1c07c3b0a0e3a1fe5\n'}]",0,509786,e448b578910576bc93e0ff001800d5e9fd1f3309,8,3,1,23163,,,0,"tasks: lxc_container_create: Retry LXC start on failures

Sometimes a container may fail to start so retry a few more times before
giving up. This also helps with capturing problems as soon as possible
since the restart handler expects the container to be up and running.

Change-Id: I9ce80ad882200eb4163fcce1c07c3b0a0e3a1fe5
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/86/509786/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_container_create.yml'],1,e448b578910576bc93e0ff001800d5e9fd1f3309,lxc2-support, register: _lxc_container_create until: _lxc_container_create | success retries: 3 delay: 5,,4,0
openstack%2Finstack-undercloud~master~Id3fcc24614f6bf67079c07a6296ff371f51a1770,openstack/instack-undercloud,master,Id3fcc24614f6bf67079c07a6296ff371f51a1770,Configure all OpenStack services with default domain,MERGED,2017-10-04 21:34:35.000000000,2017-10-05 17:00:24.000000000,2017-10-05 12:56:00.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 20172}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 21:34:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/fd981bcb7af317aaf68f61f060973291e7b6b6ed', 'message': ""Configure all OpenStack services with default domain\n\nKeystone upstream removed v2.0 APIs so we can't fallback on v2 endpoints\nanymore and we have to provide domains parameters to use v3 API.\n\nThis patch aims to do it.\n\nChange-Id: Id3fcc24614f6bf67079c07a6296ff371f51a1770\nCloses-Bug: #1721366\n""}, {'number': 2, 'created': '2017-10-04 21:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/d2d64f88aa4a1f2e19d5b7616469afc4f997ea46', 'message': ""Configure all OpenStack services with default domain\n\nKeystone upstream removed v2.0 APIs so we can't fallback on v2 endpoints\nanymore and we have to provide domains parameters to use v3 API.\n\nThis patch aims to do it.\n\nChange-Id: Id3fcc24614f6bf67079c07a6296ff371f51a1770\nCloses-Bug: #1721366\n""}, {'number': 3, 'created': '2017-10-05 05:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/bb350c3dd8c44bfca55aaeb09a1d44d23d335ee0', 'message': ""Configure all OpenStack services with default domain\n\nKeystone upstream removed v2.0 APIs so we can't fallback on v2 endpoints\nanymore and we have to provide domains parameters to use v3 API.\n\nThis patch aims to do it.\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: Id3fcc24614f6bf67079c07a6296ff371f51a1770\nCloses-Bug: #1721366\n""}, {'number': 4, 'created': '2017-10-05 05:35:17.000000000', 'files': ['elements/puppet-stack-config/puppet-stack-config.pp', 'releasenotes/notes/domain_params-63ef884e1ee154c0.yaml'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/003e373b04c3eaf4c5daade2ef2a3c3324b24abd', 'message': ""Configure all OpenStack services with default domain\n\nKeystone upstream removed v2.0 APIs so we can't fallback on v2 endpoints\nanymore and we have to provide domains parameters to use v3 API.\n\nThis patch aims to do it.\n\nCo-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>\nChange-Id: Id3fcc24614f6bf67079c07a6296ff371f51a1770\nCloses-Bug: #1721366\n""}]",0,509646,003e373b04c3eaf4c5daade2ef2a3c3324b24abd,22,7,4,3153,,,0,"Configure all OpenStack services with default domain

Keystone upstream removed v2.0 APIs so we can't fallback on v2 endpoints
anymore and we have to provide domains parameters to use v3 API.

This patch aims to do it.

Co-Authored-By: Juan Antonio Osorio Robles <jaosorior@redhat.com>
Change-Id: Id3fcc24614f6bf67079c07a6296ff371f51a1770
Closes-Bug: #1721366
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/46/509646/4 && git format-patch -1 --stdout FETCH_HEAD,['elements/puppet-stack-config/puppet-stack-config.yaml.template'],1,fd981bcb7af317aaf68f61f060973291e7b6b6ed,bug/1721366,"swift::proxy::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" swift::proxy::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""glance::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" glance::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""heat::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" heat::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""neutron::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" neutron::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""ceilometer::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" ceilometer::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""ceilometer::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" ceilometer::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""gnocchi::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" gnocchi::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""panko::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" panko::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""nova::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" nova::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""ironic::api::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" ironic::api::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""ironic::inspector::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" ironic::inspector::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""mistral::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" mistral::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""zaqar::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" zaqar::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""cinder::keystone::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" cinder::keystone::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""nova::metadata::novajoin::authtoken::user_domain_name: ""%{hiera('keystone_default_domain'))}"" nova::metadata::novajoin::authtoken::project_domain_name: ""%{hiera('keystone_default_domain'))}""",,30,0
openstack%2Fbifrost~stable%2Fnewton~I06b9682751a4aefe21866336ed9726541f74b22a,openstack/bifrost,stable/newton,I06b9682751a4aefe21866336ed9726541f74b22a,scripts: test-bifrost: Start MySQL service before configuring the DB,MERGED,2017-09-21 12:13:12.000000000,2017-10-05 16:58:06.000000000,2017-10-05 16:58:05.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 11655}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-09-21 12:13:12.000000000', 'files': ['scripts/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/93958b896d0942d8a7a901f7708ced068e7883fa', 'message': 'scripts: test-bifrost: Start MySQL service before configuring the DB\n\nFixes the following problem:\n\n2017-06-19 09:21:19.720993 | + mysql_setup\n2017-06-19 09:21:19.721006 | + local DB_ROOT_PW=insecure_slave\n2017-06-19 09:21:19.721023 | + local DB_USER=openstack_citest\n2017-06-19 09:21:19.721045 | + local DB_PW=openstack_citest\n2017-06-19 09:21:19.721075 | + sudo -H mysqladmin -u root password insecure_slave\n2017-06-19 09:21:19.768612 | mysqladmin: connect to server at \'localhost\' failed\n2017-06-19 09:18:42.671268 | error: \'Can\'t connect to local MySQL server through socket \'/var/lib/mysql/mysql.sock\' (2 ""No such file or directory"")\'\n2017-06-19 09:18:42.671317 | Check that mysqld is running and that the socket: \'/var/lib/mysql/mysql.sock\' exists!\n\nChange-Id: I06b9682751a4aefe21866336ed9726541f74b22a\n(cherry picked from commit a6960de09a112676e92c05282219a72760a5c9dd)\n'}]",0,506139,93958b896d0942d8a7a901f7708ced068e7883fa,9,4,1,6133,,,0,"scripts: test-bifrost: Start MySQL service before configuring the DB

Fixes the following problem:

2017-06-19 09:21:19.720993 | + mysql_setup
2017-06-19 09:21:19.721006 | + local DB_ROOT_PW=insecure_slave
2017-06-19 09:21:19.721023 | + local DB_USER=openstack_citest
2017-06-19 09:21:19.721045 | + local DB_PW=openstack_citest
2017-06-19 09:21:19.721075 | + sudo -H mysqladmin -u root password insecure_slave
2017-06-19 09:21:19.768612 | mysqladmin: connect to server at 'localhost' failed
2017-06-19 09:18:42.671268 | error: 'Can't connect to local MySQL server through socket '/var/lib/mysql/mysql.sock' (2 ""No such file or directory"")'
2017-06-19 09:18:42.671317 | Check that mysqld is running and that the socket: '/var/lib/mysql/mysql.sock' exists!

Change-Id: I06b9682751a4aefe21866336ed9726541f74b22a
(cherry picked from commit a6960de09a112676e92c05282219a72760a5c9dd)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/39/506139/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/test-bifrost.sh'],1,93958b896d0942d8a7a901f7708ced068e7883fa,, # Make sure MySQL is running sudo service mysql start || sudo service mysqld start || sudo service mariadb start ,,3,0
openstack%2Frequirements~master~Iae56d131002236f2b2c24cc7339ae795f0bbb192,openstack/requirements,master,Iae56d131002236f2b2c24cc7339ae795f0bbb192,Stop using zuul-cloner in project-requirements-change,MERGED,2017-10-02 14:26:04.000000000,2017-10-05 16:54:38.000000000,2017-10-05 16:54:38.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6589}, {'_account_id': 6593}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 14:26:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/17877ab0c9adec841614230955074d727f1753ba', 'message': 'Stop using zuul-cloner in project-requirements-change\n\nIn zuul v3 the repos are pushed to the node and do not need to be\ncloned.\n\nChange-Id: Iae56d131002236f2b2c24cc7339ae795f0bbb192\n'}, {'number': 2, 'created': '2017-10-02 16:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/c569e4b65aff3fd0e74b98775bc2b91573ffc141', 'message': 'Stop using zuul-cloner in project-requirements-change\n\nIn zuul v3 the repos are pushed to the node and do not need to be\ncloned.\n\nChange-Id: Iae56d131002236f2b2c24cc7339ae795f0bbb192\n'}, {'number': 3, 'created': '2017-10-02 18:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/690def84bb6d271e147774c6b1631d728f424a1a', 'message': 'Stop using zuul-cloner in project-requirements-change\n\nIn zuul v3 the repos are pushed to the node and do not need to be\ncloned.\n\n(jlk) Additionally fix some pep8 errors that pre-existed in this file\nthat are now being found by zuul.\n\nChange-Id: Iae56d131002236f2b2c24cc7339ae795f0bbb192\n'}, {'number': 4, 'created': '2017-10-02 18:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/dea30e9625caf3b403f53df60ab6ceb7d4c21576', 'message': 'Stop using zuul-cloner in project-requirements-change\n\nIn zuul v3 the repos are pushed to the node and do not need to be\ncloned.\n\nChange-Id: Iae56d131002236f2b2c24cc7339ae795f0bbb192\n'}, {'number': 5, 'created': '2017-10-04 17:09:42.000000000', 'files': ['playbooks/files/project-requirements-change.py'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bcdb298d7133380166229de77c86d68125c34c27', 'message': 'Stop using zuul-cloner in project-requirements-change\n\nIn zuul v3 the repos are pushed to the node and do not need to be\ncloned.\n\nChange-Id: Iae56d131002236f2b2c24cc7339ae795f0bbb192\n'}]",1,508894,bcdb298d7133380166229de77c86d68125c34c27,20,6,5,2,,,0,"Stop using zuul-cloner in project-requirements-change

In zuul v3 the repos are pushed to the node and do not need to be
cloned.

Change-Id: Iae56d131002236f2b2c24cc7339ae795f0bbb192
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/508894/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/files/project-requirements-change.py'],1,17877ab0c9adec841614230955074d727f1753ba,508894, reqdir = os.path.expanduser( '~/src/git.openstack.org/openstack/requirements') with tempdir() as reqroot:," with tempdir() as reqroot: # Only clone requirements repo if no local repo is specified # on the command line. if args.reqs is None: reqdir = os.path.join(reqroot, ""openstack/requirements"") if args.zc is not None: zc = args.zc else: zc = '/usr/zuul-env/bin/zuul-cloner' out, err = run_command(""%(zc)s "" ""--cache-dir /opt/git "" ""--workspace %(root)s "" ""git://git.openstack.org "" ""openstack/requirements"" % dict(zc=zc, root=reqroot)) print out print err else: reqdir = args.reqs",2,18
openstack%2Fneutron~stable%2Fpike~I79a9c3033fb38780808e02f34966280aa9591bc8,openstack/neutron,stable/pike,I79a9c3033fb38780808e02f34966280aa9591bc8,Switch to tempest.common.utils.requires_ext,MERGED,2017-09-28 19:50:34.000000000,2017-10-05 16:54:22.000000000,2017-10-05 16:54:22.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 6854}, {'_account_id': 7715}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-28 19:50:34.000000000', 'files': ['neutron/tests/tempest/api/test_ports.py', 'neutron/tests/tempest/api/test_trunk.py', 'neutron/tests/tempest/api/admin/test_quotas.py', 'neutron/tests/tempest/api/admin/test_networks.py', 'neutron/tests/tempest/scenario/test_trunk.py', 'neutron/tests/tempest/scenario/test_migration.py', 'neutron/tests/tempest/api/test_subnetpools_negative.py', 'neutron/tests/tempest/scenario/test_floatingip.py', 'neutron/tests/tempest/api/test_routers.py', 'neutron/tests/tempest/api/test_network_ip_availability.py', 'neutron/tests/tempest/api/test_extension_driver_port_security.py', 'neutron/tests/tempest/api/test_floating_ips.py', 'neutron/tests/tempest/api/admin/test_quotas_negative.py', 'neutron/tests/tempest/scenario/test_qos.py', 'neutron/tests/tempest/api/admin/test_shared_network_extension.py', 'neutron/tests/tempest/scenario/test_dvr.py', 'neutron/tests/tempest/api/test_subnetpools.py', 'neutron/tests/tempest/api/test_address_scopes.py', 'neutron/tests/tempest/api/test_qos.py', 'neutron/tests/tempest/api/test_tag.py', 'neutron/tests/tempest/api/test_networks.py', 'neutron/tests/tempest/api/test_revisions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/50a07329692a704020505dde52a595baf1b9b9e9', 'message': 'Switch to tempest.common.utils.requires_ext\n\nThe old (tempest.test.requires_ext) location is deprecated in Pike.\n\nConflicts:\n      neutron/tests/tempest/api/admin/test_quotas.py\n\nChange-Id: I79a9c3033fb38780808e02f34966280aa9591bc8\n(cherry picked from commit 62c5afbd95c04de069e318f24f8ac844406d7707)\n'}]",0,508284,50a07329692a704020505dde52a595baf1b9b9e9,14,6,1,9656,,,0,"Switch to tempest.common.utils.requires_ext

The old (tempest.test.requires_ext) location is deprecated in Pike.

Conflicts:
      neutron/tests/tempest/api/admin/test_quotas.py

Change-Id: I79a9c3033fb38780808e02f34966280aa9591bc8
(cherry picked from commit 62c5afbd95c04de069e318f24f8ac844406d7707)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/508284/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/tempest/api/test_ports.py', 'neutron/tests/tempest/api/test_trunk.py', 'neutron/tests/tempest/api/admin/test_quotas.py', 'neutron/tests/tempest/api/admin/test_networks.py', 'neutron/tests/tempest/scenario/test_trunk.py', 'neutron/tests/tempest/scenario/test_migration.py', 'neutron/tests/tempest/api/test_subnetpools_negative.py', 'neutron/tests/tempest/scenario/test_floatingip.py', 'neutron/tests/tempest/api/test_routers.py', 'neutron/tests/tempest/api/test_network_ip_availability.py', 'neutron/tests/tempest/api/test_extension_driver_port_security.py', 'neutron/tests/tempest/api/test_floating_ips.py', 'neutron/tests/tempest/api/admin/test_quotas_negative.py', 'neutron/tests/tempest/scenario/test_qos.py', 'neutron/tests/tempest/api/admin/test_shared_network_extension.py', 'neutron/tests/tempest/scenario/test_dvr.py', 'neutron/tests/tempest/api/test_subnetpools.py', 'neutron/tests/tempest/api/test_address_scopes.py', 'neutron/tests/tempest/api/test_qos.py', 'neutron/tests/tempest/api/test_tag.py', 'neutron/tests/tempest/api/test_networks.py', 'neutron/tests/tempest/api/test_revisions.py']",22,50a07329692a704020505dde52a595baf1b9b9e9,,"from tempest.common import utils @utils.requires_ext(extension=""security-group"", service=""network"") @utils.requires_ext(extension=""security-group"", service=""network"") @utils.requires_ext(extension=""security-group"", service=""network"") @utils.requires_ext(extension=""allowed-address-pairs"", service=""network"") @utils.requires_ext(extension=""extra_dhcp_opt"", service=""network"") @utils.requires_ext(extension=""dns-integration"", service=""network"") @utils.requires_ext(extension=""router"", service=""network"") @utils.requires_ext(extension=""extraroute"", service=""network"") @utils.requires_ext(extension=""subnet-service-types"", service=""network"") @utils.requires_ext(extension=""port-security"", service=""network"") @utils.requires_ext(extension=""binding"", service=""network"") @utils.requires_ext(extension=""router"", service=""network"") @utils.requires_ext(extension=""router"", service=""network"") @utils.requires_ext(extension=""standard-attr-description"", @utils.requires_ext(extension=""router"", service=""network"") @utils.requires_ext(extension=""l3-ha"", service=""network"") @utils.requires_ext(extension=""external-net"", service=""network"") @utils.requires_ext(extension=""auto-allocated-topology"", service=""network"") @utils.requires_ext(extension=""subnet_allocation"", service=""network"") @utils.requires_ext(extension=""router"", service=""network"") @utils.requires_ext(extension=""qos"", service=""network"") @utils.requires_ext(extension=""qos"", service=""network"")","from tempest import test @test.requires_ext(extension=""security-group"", service=""network"") @test.requires_ext(extension=""security-group"", service=""network"") @test.requires_ext(extension=""security-group"", service=""network"") @test.requires_ext(extension=""allowed-address-pairs"", service=""network"") @test.requires_ext(extension=""extra_dhcp_opt"", service=""network"") @test.requires_ext(extension=""dns-integration"", service=""network"") @test.requires_ext(extension=""router"", service=""network"") @test.requires_ext(extension=""extraroute"", service=""network"") @test.requires_ext(extension=""subnet-service-types"", service=""network"") @test.requires_ext(extension=""port-security"", service=""network"") @test.requires_ext(extension=""binding"", service=""network"") @test.requires_ext(extension=""router"", service=""network"") @test.requires_ext(extension=""router"", service=""network"") @test.requires_ext(extension=""standard-attr-description"", @test.requires_ext(extension=""router"", service=""network"") @test.requires_ext(extension=""l3-ha"", service=""network"") @test.requires_ext(extension=""external-net"", service=""network"") @test.requires_ext(extension=""auto-allocated-topology"", service=""network"") @test.requires_ext(extension=""subnet_allocation"", service=""network"") @test.requires_ext(extension=""router"", service=""network"") @test.requires_ext(extension=""qos"", service=""network"") @test.requires_ext(extension=""qos"", service=""network"")",121,120
openstack%2Fpuppet-openstacklib~master~I5e7d3588b7b3b106813d6d37b55aa812273d04d6,openstack/puppet-openstacklib,master,I5e7d3588b7b3b106813d6d37b55aa812273d04d6,Allow setting log files for apache vhost,MERGED,2017-10-03 09:52:39.000000000,2017-10-05 16:53:45.000000000,2017-10-05 16:53:45.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 09:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/6cd0633928a3266fa2ed749d19f4a814e7321565', 'message': 'Allow setting log files for apache vhost\n\nThis allows the setting of the error and access file logs, as well as\nthe access log format. This was done in a similar fashion as one can\nconfigure these ones in the keystone wsgi manifest.\n\nChange-Id: I5e7d3588b7b3b106813d6d37b55aa812273d04d6\n'}, {'number': 2, 'created': '2017-10-05 11:24:56.000000000', 'files': ['manifests/wsgi/apache.pp', 'spec/defines/openstacklib_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/546eb8fb4142b797cf6c5618d4cc512fa8773d0a', 'message': 'Allow setting log files for apache vhost\n\nThis allows the setting of the error and access file logs, as well as\nthe access log format. This was done in a similar fashion as one can\nconfigure these ones in the keystone wsgi manifest.\n\nChange-Id: I5e7d3588b7b3b106813d6d37b55aa812273d04d6\n'}]",0,509124,546eb8fb4142b797cf6c5618d4cc512fa8773d0a,14,6,2,10873,,,0,"Allow setting log files for apache vhost

This allows the setting of the error and access file logs, as well as
the access log format. This was done in a similar fashion as one can
configure these ones in the keystone wsgi manifest.

Change-Id: I5e7d3588b7b3b106813d6d37b55aa812273d04d6
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/24/509124/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'spec/defines/openstacklib_wsgi_apache_spec.rb']",2,6cd0633928a3266fa2ed749d19f4a814e7321565,tripleo-logging," :wsgi_script_source => '/usr/share/keystone/keystone.wsgi', :access_log_file => false, :access_log_format => false, :error_log_file => nil 'setenvif' => ['X-Forwarded-Proto https HTTPS=1'], 'access_log_file' => false, 'access_log_format' => false, 'error_log_file' => nil :access_log_file => '/var/log/httpd/access_log', :access_log_format => 'some format', :error_log_file => '/var/log/httpd/error_log' 'allow_encoded_slashes' => 'on', 'access_log_file' => '/var/log/httpd/access_log', 'access_log_format' => 'some format', 'error_log_file' => '/var/log/httpd/error_log'"," :wsgi_script_source => '/usr/share/keystone/keystone.wsgi' 'setenvif' => ['X-Forwarded-Proto https HTTPS=1'] 'allow_encoded_slashes' => 'on',",33,3
openstack%2Floci~master~I0b48d7f91b425bb02fdd2b75570cd2832493fb4d,openstack/loci,master,I0b48d7f91b425bb02fdd2b75570cd2832493fb4d,Make yum fail if missing packages,MERGED,2017-10-04 16:24:48.000000000,2017-10-05 16:53:27.000000000,2017-10-05 16:53:27.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2243}, {'_account_id': 14119}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 16:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/4e55c4fc9c681bfcb5680cc8f0b6d42ecd79fe7f', 'message': 'Make yum fail if missing packages\n\nOddly, if yum is given a list of packages to install and one is missing,\nit continues as if nothing is wrong. This can lead to a successful build\nbut broken image.\n\nChange-Id: I0b48d7f91b425bb02fdd2b75570cd2832493fb4d\n'}, {'number': 2, 'created': '2017-10-05 09:15:21.000000000', 'files': ['scripts/requirements.sh', 'scripts/install.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/2cdfebbc5b66127ae607458e9b80459dd95dcfd9', 'message': 'Make yum fail if missing packages\n\nOddly, if yum is given a list of packages to install and one is missing,\nit continues as if nothing is wrong. This can lead to a successful build\nbut broken image.\n\nChange-Id: I0b48d7f91b425bb02fdd2b75570cd2832493fb4d\n'}]",0,509532,2cdfebbc5b66127ae607458e9b80459dd95dcfd9,15,5,2,1390,,,0,"Make yum fail if missing packages

Oddly, if yum is given a list of packages to install and one is missing,
it continues as if nothing is wrong. This can lead to a successful build
but broken image.

Change-Id: I0b48d7f91b425bb02fdd2b75570cd2832493fb4d
",git fetch https://review.opendev.org/openstack/loci refs/changes/32/509532/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/qemu-utils/centos/Dockerfile', 'scripts/requirements.sh', 'scripts/install.sh']",3,4e55c4fc9c681bfcb5680cc8f0b6d42ecd79fe7f,, yum install --setopt skip_missing_names_on_install=False -y \ yum -y --setopt skip_missing_names_on_install=False install sudo ${PACKAGES[@]} yum -y --setopt skip_missing_names_on_install=False autoremove \, yum install -y \ yum -y install sudo ${PACKAGES[@]} yum -y autoremove \,6,6
openstack%2Fbarbican~master~Ib464e3b5324a60d690ef805b47ddf4a9d24143a2,openstack/barbican,master,Ib464e3b5324a60d690ef805b47ddf4a9d24143a2,Updated from global requirements,MERGED,2017-09-22 12:48:55.000000000,2017-10-05 16:48:40.000000000,2017-10-05 16:48:39.000000000,"[{'_account_id': 3}, {'_account_id': 8623}, {'_account_id': 8871}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-09-22 12:48:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0dca6893fa233ca347e3f5b992a4761c8ebcee8b', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 2, 'created': '2017-09-23 05:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/bada95ed0b6c130a5bf9f2718f3b7d0613e8559b', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 3, 'created': '2017-09-24 12:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/dc7f815e652db429531687dbfa948354643590c5', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 4, 'created': '2017-09-25 18:53:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/aabb605d61ef4f30eea63c6b7046ed6e28de5d36', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 5, 'created': '2017-09-26 00:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/180fe100549bde70d90af94c9a1461a3b901aa9a', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 6, 'created': '2017-09-26 00:32:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4793afdd05e32c9d2277feceb0a1d069fea997fc', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 7, 'created': '2017-09-26 00:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/16542e04b6a55f3594d9d365cb7263df1e885c09', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 8, 'created': '2017-09-26 01:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/1acbaf62f1d1f87805739ef59cc087d76c5a3fad', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 9, 'created': '2017-09-26 02:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/df6153423023660cf08b94e2d468b01b700a89b6', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 10, 'created': '2017-09-26 02:47:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/bdb1d0ec629ac617169f3d4642cc520b7f96382b', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 11, 'created': '2017-09-26 03:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0be00d02417eee8974be623f0a61a95036fecbf8', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 12, 'created': '2017-09-26 03:24:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/74f92310d786e55042997de77a2b0c47ee59d475', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 13, 'created': '2017-09-26 12:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/519f8dfdeb1455026acd51121e974a72811a27c2', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 14, 'created': '2017-09-26 12:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/2f7298d1e3a555936e3419e65570c7641dfdf309', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 15, 'created': '2017-09-26 13:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/cf4322baa454a518bb8295b094231773fc596ffb', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 16, 'created': '2017-09-26 13:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/806c5f0af4a77632cd32c862ea871c9a68ddfbbb', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 17, 'created': '2017-09-26 15:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/91b1d18db42d1923abe600a8e43188180f9e3327', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 18, 'created': '2017-09-27 12:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/78fcc7de59a429c22687435bdb0204c451b0d793', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 19, 'created': '2017-09-27 12:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/9dd8c37345ca21554226ee86addc1c9427c0f6c9', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 20, 'created': '2017-09-27 13:21:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/951dd5a66472bfe2ce27b4844d725c7018700ca9', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 21, 'created': '2017-09-27 13:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/320981b0decd9f29e7a00866971a13d9af0d91b5', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 22, 'created': '2017-09-27 17:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/86d97e84952a672f7a5eedf764795d309cb7f000', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 23, 'created': '2017-09-28 00:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8e07a7b4622684f7d8e32d4aed24cd3128e94f96', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 24, 'created': '2017-09-28 00:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6550cabfc1e4e5506e0e91977227b207eb50bb68', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 25, 'created': '2017-09-28 00:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/969244fe0dbae1135c7e4e787442865a751fd6a7', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 26, 'created': '2017-09-28 02:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/19e9ea9a385819d5e33c7704f8cbe086a6ecc3ba', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 27, 'created': '2017-09-28 05:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/d199ebdb2ce5c55dd0bb6e23c8acba04d6830ad1', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 28, 'created': '2017-09-28 12:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ef0aa9e463285b5f30ab1c6c3279a9e459c96419', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 29, 'created': '2017-09-28 13:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ef50192649e837ec91bba771917633d8f64be3d4', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 30, 'created': '2017-10-04 13:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/81637b6d73c0fca3eee2ce5596b94da10842fab2', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 31, 'created': '2017-10-05 00:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/370a409d705455c5483930d4625ec8370e0aa832', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 32, 'created': '2017-10-05 02:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/98146762d15431273d6ce6c2853ce4d6ec3aa572', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 33, 'created': '2017-10-05 02:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/50a9c19fada0d70691757b83f94d648d4c4335c7', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 34, 'created': '2017-10-05 03:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/85f7930e47bb44c1cd1e09eb7255f72b5a383ea4', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 35, 'created': '2017-10-05 03:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/00e40d60c3df80e28d9431bbdd54b03587c49b25', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 36, 'created': '2017-10-05 03:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/feb9fe7e9d6a075910ae526594e2895a5d6c7138', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 37, 'created': '2017-10-05 04:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/d178bebd54f12605af615190227f4c248c0e0e27', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 38, 'created': '2017-10-05 06:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/588bc82f151c04dadd001089c16d61fb560394de', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}, {'number': 39, 'created': '2017-10-05 13:39:09.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/80f17e8de024e73616f937000899f0e3ae81e747', 'message': 'Updated from global requirements\n\nChange-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2\n'}]",0,506611,80f17e8de024e73616f937000899f0e3ae81e747,72,6,39,11131,,,0,"Updated from global requirements

Change-Id: Ib464e3b5324a60d690ef805b47ddf4a9d24143a2
",git fetch https://review.opendev.org/openstack/barbican refs/changes/11/506611/36 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0dca6893fa233ca347e3f5b992a4761c8ebcee8b,openstack/requirements,oslo.db>=4.27.0 # Apache-2.0,oslo.db>=4.24.0 # Apache-2.0,1,1
openstack%2Fneutron~stable%2Fpike~I823150cf6406f709d1e4ffa74897d598e80f5329,openstack/neutron,stable/pike,I823150cf6406f709d1e4ffa74897d598e80f5329,ovs: log config options when all of them are registered,MERGED,2017-09-28 19:31:36.000000000,2017-10-05 16:48:22.000000000,2017-10-05 16:48:22.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-09-28 19:31:36.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/main.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3fc09ed05a1b3613c5fbbc6f955dbf68889e9a3e', 'message': ""ovs: log config options when all of them are registered\n\nOtherwise we don't see some of them for the agent, for example,\nAGENT.root_helper is missing.\n\nTo make sure the logging is as early as possible, and to make sure that\noptions that may be registered by extensions are also logged, some\nrefactoring was applied to the code to move the extension manager\nloading as early as possible, even before agent's __init__ is called.\n\nRelated-Bug: #1718767\nChange-Id: I823150cf6406f709d1e4ffa74897d598e80f5329\n(cherry picked from commit 45be804b4069599e8eda9820084fcf11fb94167b)\n""}]",0,508277,3fc09ed05a1b3613c5fbbc6f955dbf68889e9a3e,11,6,1,9656,,,0,"ovs: log config options when all of them are registered

Otherwise we don't see some of them for the agent, for example,
AGENT.root_helper is missing.

To make sure the logging is as early as possible, and to make sure that
options that may be registered by extensions are also logged, some
refactoring was applied to the code to move the extension manager
loading as early as possible, even before agent's __init__ is called.

Related-Bug: #1718767
Change-Id: I823150cf6406f709d1e4ffa74897d598e80f5329
(cherry picked from commit 45be804b4069599e8eda9820084fcf11fb94167b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/508277/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/main.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",5,3fc09ed05a1b3613c5fbbc6f955dbf68889e9a3e,504457-stable/pike," ext_manager = mock.Mock() ext_manager, cfg.CONF) ext_manager = mock.Mock() ext_manager, cfg.CONF) ext_manager = mock.Mock() ext_manager, cfg.CONF) ext_manager = mock.Mock() ext_manager, cfg.CONF) ext_manager = mock.Mock() ext_manager, cfg.CONF) ext_manager = mock.Mock() ext_manager, cfg.CONF)", cfg.CONF) cfg.CONF) cfg.CONF) cfg.CONF) cfg.CONF) cfg.CONF),31,23
openstack%2Fnetworking-bagpipe~master~I4e19c0139f07b9abf1047a87bec54a2878b0a2e8,openstack/networking-bagpipe,master,I4e19c0139f07b9abf1047a87bec54a2878b0a2e8,devstack: install gobgp from binary release,MERGED,2017-10-05 12:51:54.000000000,2017-10-05 16:48:15.000000000,2017-10-05 16:48:15.000000000,"[{'_account_id': 3}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-10-05 12:51:54.000000000', 'files': ['devstack/settings.bagpipe_bgp', 'devstack/plugin.sh.bagpipe_bgp'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/2a6465e974128835fa4728fa381d112705e847a6', 'message': ""devstack: install gobgp from binary release\n\nIn Xenial (which is used in the gate), we can't install gobgp from git\nanymore, because master depends on golang-1.7 which is not available\nin xenial.\n\nWith this change we install gobgp from binary release.\n\nChange-Id: I4e19c0139f07b9abf1047a87bec54a2878b0a2e8\n""}]",0,509767,2a6465e974128835fa4728fa381d112705e847a6,6,2,1,12021,,,0,"devstack: install gobgp from binary release

In Xenial (which is used in the gate), we can't install gobgp from git
anymore, because master depends on golang-1.7 which is not available
in xenial.

With this change we install gobgp from binary release.

Change-Id: I4e19c0139f07b9abf1047a87bec54a2878b0a2e8
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/67/509767/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/settings.bagpipe_bgp', 'devstack/plugin.sh.bagpipe_bgp']",2,2a6465e974128835fa4728fa381d112705e847a6,devstack_gobgp_binary," # we install from binary, because compiling from source requires golang-1.7 which is not in ubuntu xenial cd $GOPATH/bin wget $GOBGP_RELEASE -qO - | tar xz", # Install gobgp go get ${GOBGP_REPO:-github.com/osrg/gobgp}/gobgpd go get ${GOBGP_REPO:-github.com/osrg/gobgp}/gobgp,5,3
openstack%2Fcharm-gnocchi~master~If8e46b8baf8222f665b2b84c7dd788295996afdc,openstack/charm-gnocchi,master,If8e46b8baf8222f665b2b84c7dd788295996afdc,No change rebuild to pickup fixes in charms.openstack,MERGED,2017-10-05 13:36:49.000000000,2017-10-05 16:46:08.000000000,2017-10-05 16:46:08.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 20648}]","[{'number': 1, 'created': '2017-10-05 13:36:49.000000000', 'files': ['rebuild'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/cba656d685864f4d5cfde74d92b08addcc9673de', 'message': ""No change rebuild to pickup fixes in charms.openstack\n\nThis resolves issues with the ceph pool and key names not\nbeing set correctly in the use-case where the deployed\napplication name is not 'gnocchi'.\n\nChange-Id: If8e46b8baf8222f665b2b84c7dd788295996afdc\n""}]",0,509776,cba656d685864f4d5cfde74d92b08addcc9673de,7,3,1,935,,,0,"No change rebuild to pickup fixes in charms.openstack

This resolves issues with the ceph pool and key names not
being set correctly in the use-case where the deployed
application name is not 'gnocchi'.

Change-Id: If8e46b8baf8222f665b2b84c7dd788295996afdc
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/76/509776/1 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,cba656d685864f4d5cfde74d92b08addcc9673de,rebuild-with-ceph-fixes,6e16a857-bfd3-4104-9315-38688bf61e7b,,1,0
openstack%2Fnetworking-midonet~master~I24590e1ff8345b9cbbe7c227124dc2299ea47b9d,openstack/networking-midonet,master,I24590e1ff8345b9cbbe7c227124dc2299ea47b9d,gate_hook: Move iptables chain tweak for metadata to devstack,MERGED,2017-09-26 06:42:34.000000000,2017-10-05 16:43:07.000000000,2017-10-05 12:10:25.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 8871}, {'_account_id': 9925}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-26 06:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/19b9782523ca73efaaf27d68bcaf6bc146dd6f3b', 'message': 'gate_hook: Move iptables chain tweak for metadata to devstack\n\nSo that it can be used on subnode of multinode jobs.\n\nPartial-Bug: #1650922\nChange-Id: I24590e1ff8345b9cbbe7c227124dc2299ea47b9d\n'}, {'number': 2, 'created': '2017-09-26 11:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d972c97dfef7ebfb72fec8c366a97aaadea760e9', 'message': 'gate_hook: Move iptables chain tweak for metadata to devstack\n\nSo that it can be used on subnode of multinode jobs.\n\nPartial-Bug: #1650922\nChange-Id: I24590e1ff8345b9cbbe7c227124dc2299ea47b9d\n'}, {'number': 3, 'created': '2017-09-27 00:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d818dab3edf3d459bd05f55ec59c9248c2025b3e', 'message': 'gate_hook: Move iptables chain tweak for metadata to devstack\n\nSo that it can be used on subnode of multinode jobs.\n\nPartial-Bug: #1650922\nChange-Id: I24590e1ff8345b9cbbe7c227124dc2299ea47b9d\n'}, {'number': 4, 'created': '2017-09-27 05:35:44.000000000', 'files': ['devstack/plugin.sh', 'devstack/upgrade/settings', 'devstack/ci/gate_hook.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/40003efdc199efe2f16b57c2cb6b66ca5f7ac3da', 'message': 'gate_hook: Move iptables chain tweak for metadata to devstack\n\nSo that it can be used on subnode of multinode jobs.\n\nPartial-Bug: #1650922\nChange-Id: I24590e1ff8345b9cbbe7c227124dc2299ea47b9d\n'}]",0,507371,40003efdc199efe2f16b57c2cb6b66ca5f7ac3da,35,7,4,6854,,,0,"gate_hook: Move iptables chain tweak for metadata to devstack

So that it can be used on subnode of multinode jobs.

Partial-Bug: #1650922
Change-Id: I24590e1ff8345b9cbbe7c227124dc2299ea47b9d
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/71/507371/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/ci/gate_hook.sh', 'devstack/settings']",3,19b9782523ca73efaaf27d68bcaf6bc146dd6f3b,bug/1650922,MIDONET_METADATA_OPENSTACK_CI_TWEAK=${MIDONET_METADATA_OPENSTACK_CI_TWEAK:-False},,15,11
openstack%2Fopenstack-zuul-jobs~master~I8f6a0b1401099def47bb349c5c2453429bd19085,openstack/openstack-zuul-jobs,master,I8f6a0b1401099def47bb349c5c2453429bd19085,Put doc build jobs into doc publication project-template,MERGED,2017-10-05 15:13:01.000000000,2017-10-05 16:37:51.000000000,2017-10-05 16:37:50.000000000,"[{'_account_id': 1}, {'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 15:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/077aa0c05afe55529ff51e31968b9379f6bd25e6', 'message': ""Put doc build jobs into doc publication project-template\n\nThey aren't python specific, and it's important to run them in check and\ngate if one is intending to run them in post/release.\n\nAdd a template for neutron, because of the neutron needing neutron\nissue.\n\nAdd a template for just building and not publishing.\n\nAdd a template for building and then triggering readthedocs for\nfor projects who want to follow the docs PTI but aren't official and\nand so publish to readthedocs.\n\nChange-Id: I8f6a0b1401099def47bb349c5c2453429bd19085\n""}, {'number': 2, 'created': '2017-10-05 15:42:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/0afaccfa2625eea20f87c54a6299c0582eff87f8', 'message': ""Put doc build jobs into doc publication project-template\n\nThey aren't python specific, and it's important to run them in check and\ngate if one is intending to run them in post/release.\n\nAdd a template for neutron, because of the neutron needing neutron\nissue.\n\nAdd a template for just building and not publishing.\n\nAdd a template for building and then triggering readthedocs for\nfor projects who want to follow the docs PTI but aren't official and\nand so publish to readthedocs.\n\nChange-Id: I8f6a0b1401099def47bb349c5c2453429bd19085\n""}, {'number': 3, 'created': '2017-10-05 15:46:40.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/7716b93018b5efbebd86fa9258fdb2f861160fbb', 'message': ""Put doc build jobs into doc publication project-template\n\nThey aren't python specific, and it's important to run them in check and\ngate if one is intending to run them in post/release.\n\nAdd a template for neutron, because of the neutron needing neutron\nissue.\n\nAdd a template for just building and not publishing.\n\nUpdate the template for docs-on-readthedocs for projects who want to\nfollow the docs PTI but aren't official and and so publish to readthedocs.\n\nChange-Id: I8f6a0b1401099def47bb349c5c2453429bd19085\n""}]",0,509805,7716b93018b5efbebd86fa9258fdb2f861160fbb,11,3,3,2,,,0,"Put doc build jobs into doc publication project-template

They aren't python specific, and it's important to run them in check and
gate if one is intending to run them in post/release.

Add a template for neutron, because of the neutron needing neutron
issue.

Add a template for just building and not publishing.

Update the template for docs-on-readthedocs for projects who want to
follow the docs PTI but aren't official and and so publish to readthedocs.

Change-Id: I8f6a0b1401099def47bb349c5c2453429bd19085
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/05/509805/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,077aa0c05afe55529ff51e31968b9379f6bd25e6,zuulv3-jobs, name: build-openstack-sphinx-docs description: | Runs normal OpenStack PTI doc build without publication jobs. check: jobs: - build-openstack-sphinx-docs gate: jobs: - build-openstack-sphinx-docs - project-template: description: | Runs normal OpenStack PTI doc build and publication jobs. check: jobs: - build-openstack-sphinx-docs gate: jobs: - build-openstack-sphinx-docs name: publish-openstack-sphinx-docs-neutron description: | Runs normal OpenStack PTI doc build and publication jobs with neutron added to required-projects for the various networking- projects that need that. check: jobs: - build-openstack-sphinx-docs: required-projects: - openstack/neutron gate: jobs: - build-openstack-sphinx-docs: required-projects: - openstack/neutron post: jobs: - publish-openstack-sphinx-docs: required-projects: - openstack/neutron - project-template: description: | Runs normal OpenStack PTI build jobs and publishes to the Infra docs location. check: jobs: - build-openstack-sphinx-docs gate: jobs: - build-openstack-sphinx-docs name: publish-openstack-sphinx-docs-to-readthedocs description: | Runs normal OpenStack PTI build jobs but publishes to readthedocs instead of docs.openstack.org. This is intended for projects that are aiming to follow the PTI but are not official. check: jobs: - build-openstack-sphinx-docs gate: jobs: - build-openstack-sphinx-docs post: jobs: - trigger-readthedocs - project-template:, - build-openstack-sphinx-docs - build-openstack-sphinx-docs - build-openstack-sphinx-docs: required-projects: - openstack/neutron - build-openstack-sphinx-docs: required-projects: - openstack/neutron - build-openstack-sphinx-docs: nodeset: ubuntu-trusty - build-openstack-sphinx-docs: nodeset: ubuntu-trusty,66,12
openstack%2Fpuppet-nova~stable%2Fnewton~Id22a6c990f424b9f3ca6159088540ea207460ffd,openstack/puppet-nova,stable/newton,Id22a6c990f424b9f3ca6159088540ea207460ffd,Expose my_ip,MERGED,2017-10-04 21:37:19.000000000,2017-10-05 16:22:53.000000000,2017-10-05 15:01:34.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 23811}]","[{'number': 1, 'created': '2017-10-04 21:37:19.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c39bd9c95504e9e4dda822b472725b02c15ef978', 'message': 'Expose my_ip\n\nIf not set this defaults to the autodetecting the IP address of the interface\nwith a default gateway. This may not be the correct network for management\ntraffic when multiple nics are used.\n\nChange-Id: Id22a6c990f424b9f3ca6159088540ea207460ffd\n(cherry picked from commit 4113aa73afda563c6844195d916359da161df9e4)\n'}]",0,509651,c39bd9c95504e9e4dda822b472725b02c15ef978,12,5,1,23811,,,0,"Expose my_ip

If not set this defaults to the autodetecting the IP address of the interface
with a default gateway. This may not be the correct network for management
traffic when multiple nics are used.

Change-Id: Id22a6c990f424b9f3ca6159088540ea207460ffd
(cherry picked from commit 4113aa73afda563c6844195d916359da161df9e4)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/51/509651/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,c39bd9c95504e9e4dda822b472725b02c15ef978,," :my_ip => '192.0.2.1', it 'configures my_ip' do is_expected.to contain_nova_config('DEFAULT/my_ip').with_value('192.0.2.1') end ",,13,0
openstack%2Faodh~master~I5425614f54c89add268a6528ebf0daf56b07fea1,openstack/aodh,master,I5425614f54c89add268a6528ebf0daf56b07fea1,Cleanup setup.cfg,MERGED,2017-09-20 13:25:30.000000000,2017-10-05 16:21:24.000000000,2017-10-05 16:21:24.000000000,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 22348}, {'_account_id': 26617}]","[{'number': 1, 'created': '2017-09-20 13:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/9b4d988283fd9deaf865a308a55750a2bda4f9df', 'message': 'Cleanup setup.cfg\n\npython-subunit is not used directly anywhere\nand it is dependency of both testrepository\nand os-testr\n(probably was used by some tox wrapper script before)\n\nChange-Id: I5425614f54c89add268a6528ebf0daf56b07fea1\n'}, {'number': 2, 'created': '2017-09-20 13:37:35.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/aodh/commit/f36b740f870d9e518bda94473b7bcdc1be80cb2e', 'message': 'Cleanup setup.cfg\n\npython-subunit is not used directly anywhere\nand it is dependency of both testrepository\nand os-testr\n(probably was used by some tox wrapper script before)\n\nChange-Id: I5425614f54c89add268a6528ebf0daf56b07fea1\n'}]",1,505625,f36b740f870d9e518bda94473b7bcdc1be80cb2e,17,4,2,26617,,,0,"Cleanup setup.cfg

python-subunit is not used directly anywhere
and it is dependency of both testrepository
and os-testr
(probably was used by some tox wrapper script before)

Change-Id: I5425614f54c89add268a6528ebf0daf56b07fea1
",git fetch https://review.opendev.org/openstack/aodh refs/changes/25/505625/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,9b4d988283fd9deaf865a308a55750a2bda4f9df,update-cfg,, python-subunit>=0.0.18,0,1
openstack%2Fopenstack-zuul-jobs~master~I123b4d9f3514542d8ece8e9681c5265dc54961dc,openstack/openstack-zuul-jobs,master,I123b4d9f3514542d8ece8e9681c5265dc54961dc,Stop doing afs prep in docs build jobs,MERGED,2017-10-05 15:13:01.000000000,2017-10-05 16:17:08.000000000,2017-10-05 16:17:08.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 4162}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 15:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9fd31dcafd247c56a227d131b0e0c3ad36e6a0b6', 'message': ""Stop doing afs prep in docs build jobs\n\nWe don't publish docs to AFS in the build jobs, so the step is\nunnecessary and also prevents infra projects from using the normal docs\nbuild job.\n\nRemove mention of docs build jobs from the\npublish-openstack-sphinx-docs-infra project-template. The build jobs are\nin openstack-python-jobs.\n\nA followup will come to change that - but for now let's align these.\n\nChange-Id: I123b4d9f3514542d8ece8e9681c5265dc54961dc\n""}, {'number': 2, 'created': '2017-10-05 15:42:52.000000000', 'files': ['zuul.d/project-templates.yaml', 'playbooks/sphinx-docs/post-infra.yaml', 'zuul.d/jobs.yaml', 'playbooks/sphinx-docs/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a1d26ad3c21c4a50285a1bb4410eb12bf376b987', 'message': ""Stop doing afs prep in docs build jobs\n\nWe don't publish docs to AFS in the build jobs, so the step is\nunnecessary and also prevents infra projects from using the normal docs\nbuild job.\n\nDoing this means we're not reorganizing the docs, so we can remove\nlatest/ from the success-url - and we can also remove the\nbranch-specific variants.\n\nRemove mention of docs build jobs from the\npublish-openstack-sphinx-docs-infra project-template. The build jobs are\nin openstack-python-jobs.\n\nA followup will come to change that - but for now let's align these.\n\nChange-Id: I123b4d9f3514542d8ece8e9681c5265dc54961dc\n""}]",2,509804,a1d26ad3c21c4a50285a1bb4410eb12bf376b987,11,4,2,2,,,0,"Stop doing afs prep in docs build jobs

We don't publish docs to AFS in the build jobs, so the step is
unnecessary and also prevents infra projects from using the normal docs
build job.

Doing this means we're not reorganizing the docs, so we can remove
latest/ from the success-url - and we can also remove the
branch-specific variants.

Remove mention of docs build jobs from the
publish-openstack-sphinx-docs-infra project-template. The build jobs are
in openstack-python-jobs.

A followup will come to change that - but for now let's align these.

Change-Id: I123b4d9f3514542d8ece8e9681c5265dc54961dc
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/04/509804/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'playbooks/sphinx-docs/post-infra.yaml', 'zuul.d/jobs.yaml', 'playbooks/sphinx-docs/post.yaml']",4,9fd31dcafd247c56a227d131b0e0c3ad36e6a0b6,zuulv3-jobs,,- hosts: all roles: - prepare-docs-for-afs ,0,14
openstack%2Fnetworking-ovn~stable%2Fpike~I69a1ba120a84c76d2556058aa6e6797ab57b362d,openstack/networking-ovn,stable/pike,I69a1ba120a84c76d2556058aa6e6797ab57b362d,"Fix CI break in branch ""stable/pike""",MERGED,2017-09-24 09:32:50.000000000,2017-10-05 16:11:16.000000000,2017-10-05 16:11:15.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 8788}, {'_account_id': 22348}, {'_account_id': 23458}]","[{'number': 1, 'created': '2017-09-24 09:32:50.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0cde8a58b2bf0a0895f25e9d7119addca4f3a5b0', 'message': 'Fix CI break in branch ""stable/pike""\n\nCI failed:\n File ""networking_ovn/tests/unit/ml2/test_mech_driver.py"", line 30, in <module>\nfrom neutron.plugins.ml2 import config\n\nThe commit d00a50aad11465d904663dea14b3814017bcff75 moved the\nplugins.ml2.config module to conf.plugins.ml2.config\n\nI think neutron need use branch ""stable/pike"".\n\nChange-Id: I69a1ba120a84c76d2556058aa6e6797ab57b362d\n'}]",0,506921,0cde8a58b2bf0a0895f25e9d7119addca4f3a5b0,13,6,1,24438,,,0,"Fix CI break in branch ""stable/pike""

CI failed:
 File ""networking_ovn/tests/unit/ml2/test_mech_driver.py"", line 30, in <module>
from neutron.plugins.ml2 import config

The commit d00a50aad11465d904663dea14b3814017bcff75 moved the
plugins.ml2.config module to conf.plugins.ml2.config

I think neutron need use branch ""stable/pike"".

Change-Id: I69a1ba120a84c76d2556058aa6e6797ab57b362d
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/21/506921/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,0cde8a58b2bf0a0895f25e9d7119addca4f3a5b0,,BRANCH_NAME=stable/pike,BRANCH_NAME=master,1,1
openstack%2Fopenstack-ansible~stable%2Fpike~Ib15c28b65f8bb5863a26a4c63d1e55b428b5ff4d,openstack/openstack-ansible,stable/pike,Ib15c28b65f8bb5863a26a4c63d1e55b428b5ff4d,Fix zuul clonemap,MERGED,2017-10-05 07:36:27.000000000,2017-10-05 16:09:04.000000000,2017-10-05 16:09:04.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-10-05 07:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a736e387fc2c3893a0b428a2ca1bbf0e23341101', 'message': ""Fix zuul clonemap\n\nSince the inclusion of ansible-hardening, we changed the clonemap\nregex, but we didn't count the right amount of capturing brackets.\n\nThe brackreference we should use in our new case (since the\naddition of extra brackets) should be 2 instead of 1.\n\nChange-Id: Ib15c28b65f8bb5863a26a4c63d1e55b428b5ff4d\n""}, {'number': 2, 'created': '2017-10-05 11:44:40.000000000', 'files': ['tests/get-ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4bfa6c55f4a361327028c0a12c4e67cce5f57c69', 'message': ""Fix zuul clonemap\n\nSince the inclusion of ansible-hardening, we changed the clonemap\nregex, but we didn't count the right amount of capturing brackets.\n\nThe brackreference we should use in our new case (since the\naddition of extra brackets) should be 2 instead of 1.\n\nChange-Id: Ib15c28b65f8bb5863a26a4c63d1e55b428b5ff4d\n(cherry picked from commit 1377af3d440071e33c27a1a13be6db300e52feb8)\n""}]",0,509701,4bfa6c55f4a361327028c0a12c4e67cce5f57c69,11,5,2,17068,,,0,"Fix zuul clonemap

Since the inclusion of ansible-hardening, we changed the clonemap
regex, but we didn't count the right amount of capturing brackets.

The brackreference we should use in our new case (since the
addition of extra brackets) should be 2 instead of 1.

Change-Id: Ib15c28b65f8bb5863a26a4c63d1e55b428b5ff4d
(cherry picked from commit 1377af3d440071e33c27a1a13be6db300e52feb8)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/01/509701/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/get-ansible-role-requirements.yml'],1,a736e387fc2c3893a0b428a2ca1bbf0e23341101,, dest: '/tmp/openstack/\2', dest: '/tmp/openstack/\1',1,1
openstack%2Fkeystone~master~I0a7f68e0b7641ac39c0f4b743f4ab3530c7a4a31,openstack/keystone,master,I0a7f68e0b7641ac39c0f4b743f4ab3530c7a4a31,Remove unused v2.0 test utilities,ABANDONED,2017-08-31 20:35:36.000000000,2017-10-05 16:08:19.000000000,,"[{'_account_id': 3}, {'_account_id': 2903}, {'_account_id': 16465}, {'_account_id': 17860}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-31 20:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9ea32ab5f26a3b5335098f51b11a0b077dfecb89', 'message': 'Remove unused v2.0 test utilities\n\nChange-Id: I0a7f68e0b7641ac39c0f4b743f4ab3530c7a4a31\n'}, {'number': 2, 'created': '2017-08-31 22:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/26c34ab4ce30093e16931a2105fcfd7d793e2536', 'message': 'Remove unused v2.0 test utilities\n\nChange-Id: I0a7f68e0b7641ac39c0f4b743f4ab3530c7a4a31\n'}, {'number': 3, 'created': '2017-09-01 14:20:38.000000000', 'files': ['keystone/tests/unit/test_v2.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2dc01015da65d4521b77f97b2dec0ed0a07e49d0', 'message': 'Remove unused v2.0 test utilities\n\nChange-Id: I0a7f68e0b7641ac39c0f4b743f4ab3530c7a4a31\n'}]",0,499791,2dc01015da65d4521b77f97b2dec0ed0a07e49d0,17,6,3,5046,,,0,"Remove unused v2.0 test utilities

Change-Id: I0a7f68e0b7641ac39c0f4b743f4ab3530c7a4a31
",git fetch https://review.opendev.org/openstack/keystone refs/changes/91/499791/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_v2.py'],1,9ea32ab5f26a3b5335098f51b11a0b077dfecb89,bp/removed-as-of-queens,," def assertValidTenant(self, tenant): self.assertIsNotNone(tenant.get('id')) self.assertIsNotNone(tenant.get('name')) self.assertNotIn('domain_id', tenant) self.assertNotIn('parent_id', tenant) def assertValidUser(self, user): self.assertIsNotNone(user.get('id')) self.assertIsNotNone(user.get('name')) def assertValidRole(self, role): self.assertIsNotNone(role.get('id')) self.assertIsNotNone(role.get('name')) def _get_user_id(self, r): """"""Helper method to return user ID from a response. This needs to be overridden by child classes based on their content type. """""" raise NotImplementedError() def _get_role_id(self, r): """"""Helper method to return a role ID from a response. This needs to be overridden by child classes based on their content type. """""" raise NotImplementedError() def _get_role_name(self, r): """"""Helper method to return role NAME from a response. This needs to be overridden by child classes based on their content type. """""" raise NotImplementedError() def _get_project_id(self, r): """"""Helper method to return project ID from a response. This needs to be overridden by child classes based on their content type. """""" raise NotImplementedError() def assertNoRoles(self, r): """"""Helper method to assert No Roles. This needs to be overridden by child classes based on their content type. """""" raise NotImplementedError() def _get_user_id(self, r): return r['user']['id'] def _get_role_name(self, r): return r['roles'][0]['name'] def _get_role_id(self, r): return r['roles'][0]['id'] def _get_project_id(self, r): return r['tenant']['id'] def assertNoRoles(self, r): self.assertEqual([], r['roles']) def assertValidUser(self, user): super(V2TestCase, self).assertValidUser(user) self.assertNotIn('default_project_id', user) if 'tenantId' in user: # NOTE(morganfainberg): tenantId should never be ""None"", it gets # filtered out of the object if it is there. This is suspenders # and a belt check to avoid unintended regressions. self.assertIsNotNone(user.get('tenantId')) def assertValidTenantListResponse(self, r): self.assertIsNotNone(r.result.get('tenants')) self.assertNotEmpty(r.result['tenants']) for tenant in r.result['tenants']: self.assertValidTenant(tenant) self.assertIsNotNone(tenant.get('enabled')) self.assertIn(tenant.get('enabled'), [True, False]) def assertValidUserResponse(self, r): self.assertIsNotNone(r.result.get('user')) self.assertValidUser(r.result['user']) def assertValidTenantResponse(self, r): self.assertIsNotNone(r.result.get('tenant')) self.assertValidTenant(r.result['tenant']) def assertValidRoleListResponse(self, r): self.assertIsNotNone(r.result.get('roles')) self.assertNotEmpty(r.result['roles']) for role in r.result['roles']: self.assertValidRole(role) def assertValidEndpointListResponse(self, r): self.assertIsNotNone(r.result.get('endpoints')) self.assertNotEmpty(r.result['endpoints']) for endpoint in r.result['endpoints']: self.assertIsNotNone(endpoint.get('id')) self.assertIsNotNone(endpoint.get('name')) self.assertIsNotNone(endpoint.get('type')) self.assertIsNotNone(endpoint.get('publicURL')) self.assertIsNotNone(endpoint.get('internalURL')) self.assertIsNotNone(endpoint.get('adminURL')) def get_user_from_response(self, r): return r.result.get('user') def get_user_attribute_from_response(self, r, attribute_name): return r.result['user'][attribute_name] def assertValidRevocationListResponse(self, response): self.assertIsNotNone(response.result['signed']) ",0,125
openstack%2Fopenstack-helm~master~Idcff88db63a5d8be6099969c41f6c34450c61064,openstack/openstack-helm,master,Idcff88db63a5d8be6099969c41f6c34450c61064,Add Rally Chart,MERGED,2017-08-04 18:29:11.000000000,2017-10-05 16:03:10.000000000,2017-10-05 16:03:10.000000000,"[{'_account_id': 3}, {'_account_id': 11636}, {'_account_id': 17589}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 25731}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-08-04 18:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/46007f70d0d1ff13d1d187c05520dc2f8b309d5e', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 2, 'created': '2017-08-07 20:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6e9bf66666543238713e0012328942e1873a4c7', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 3, 'created': '2017-08-07 20:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0fbcb7706f6fd674955faf5c44a16bfaa3e3c603', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 4, 'created': '2017-08-08 19:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/30053ae833595a3506899022b57bd7161ab5453c', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 5, 'created': '2017-08-08 21:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/48c387fb5628710216fe115cd0974494bbc2c620', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 6, 'created': '2017-08-09 17:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e8e04dfe22035dc22fbb78e376fbba5ba47edaec', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 7, 'created': '2017-08-09 21:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/faf0f5e352a59ff70c246882d83349bc0291d278', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 8, 'created': '2017-08-11 14:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/65e7ff15d0956886a31bea527da54aa78653a572', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 9, 'created': '2017-08-14 19:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7236fe0eaccf98537eb389af80b7becc516ba0f9', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 10, 'created': '2017-08-15 21:02:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c47e04cfed53222b338a86feb590ae5f7252e07', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 11, 'created': '2017-08-15 21:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/72d203286cf4e98a31686c3e76a14c772d65a70f', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 12, 'created': '2017-08-18 19:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/47fa9baac80d37ac7aca19a7886696b6813266e7', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 13, 'created': '2017-08-18 19:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/200299b85bd202e0cd6181e888fea3e8c6f0a30c', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 14, 'created': '2017-08-22 18:38:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/df20c1a735424320952c1e0b494c74fa1c5ccb57', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 15, 'created': '2017-08-22 22:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0714546b0a0f4d5dcc61f63911ad47e822c7de10', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 16, 'created': '2017-08-23 15:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e9d671d63e9d7ec65b0962dac0201e210076037b', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 17, 'created': '2017-08-23 15:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/589ff66ce264bec4eb115f0b0e6155b644f7e493', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 18, 'created': '2017-08-23 20:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d6c4ae793c5f2788523cbf3a942e60de127c4635', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 19, 'created': '2017-08-23 20:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/29a5fe209216fbb0c21d2983b254a9f94cbdd8e1', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 20, 'created': '2017-08-24 16:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fb3de86b938e49e27d40984cecdc2919a1962ea0', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 21, 'created': '2017-08-28 17:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2319617542785c4f8153a56ed046f7eb8a906bb0', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 22, 'created': '2017-08-28 20:27:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e383c86603b3bd740beff11958dc44ee5d0e4c66', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 23, 'created': '2017-08-28 23:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/04309de48fb08b881d01673933681deeab8ff31d', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 24, 'created': '2017-08-29 00:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9dba603bfdf0210bec9b6a91de200c9d11a8ca13', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 25, 'created': '2017-08-29 01:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ef9ab0887dc0ab3541a68ec8494d6979618e5ef0', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 26, 'created': '2017-08-29 12:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0d974129aeecbdf97855580de4d780c403ff214c', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 27, 'created': '2017-08-29 15:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/999501b57bab035af28fddbb261b1f2a07ab1894', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 28, 'created': '2017-08-29 17:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2e229416fe32652f00ee78ce783047eff88ac51a', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 29, 'created': '2017-08-29 23:40:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/50aedc3476a95c55fdeb4e99b646f75cc0437661', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 30, 'created': '2017-08-30 15:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e9672f560f865d76fc774dfb0370cb539624711a', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 31, 'created': '2017-08-31 00:01:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f9cf0d59fd8095a4f6720a041d57734863df996a', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 32, 'created': '2017-09-07 16:23:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1def3d5cb8a1762ee69da3b8d7af9b468250a2d7', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 33, 'created': '2017-09-07 17:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6c5f5951a7e21f654e3b201ea15e4c266de9df5e', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 34, 'created': '2017-09-07 18:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/201c6530f7ee776d9a6dcc277e807c2504100343', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 35, 'created': '2017-09-07 20:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/725653d7a4c195ab516d977c3bd03b09da932e70', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 36, 'created': '2017-09-07 20:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67e52364c267a6cac2e12cfc36e0d52a9791cb70', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 37, 'created': '2017-09-08 16:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/470f3ab2b6099ad582a2c0a451c0529d3c917245', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 38, 'created': '2017-09-08 17:16:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/21385d138b1cfc02bd66b402fc410386113ecec9', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 39, 'created': '2017-09-08 18:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8bb4e5baac2479ddf22c7fe3a726b2d98eaaef54', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 40, 'created': '2017-09-10 00:35:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab32b4c156eec083a47f7b7cd79876145115468e', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 41, 'created': '2017-09-10 02:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bd008ffd5c9d946e56e21d896665883bdc627ade', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 42, 'created': '2017-09-10 02:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6c4f23c26a0ca48bbb5154171f7884f869a33052', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 43, 'created': '2017-09-10 02:37:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0a09742ca566f912960906b8cd82b2e65d0e02ac', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 44, 'created': '2017-09-10 03:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/681dd4c45144e9dc5d04df0c6144de99169bbc4a', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 45, 'created': '2017-09-10 14:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/44c42bfd2e732fe6e8ad365eeabebc82c30a7f63', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 46, 'created': '2017-09-11 17:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e356f723b46c1795900141ef23f8b4f64c3279dd', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 47, 'created': '2017-09-12 19:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d65e5b38ee31f08866c337ceddbed55c8cc53465', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 48, 'created': '2017-09-12 21:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a2b5dfd430ffaa140b1f495ed818922a18dfacfd', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 49, 'created': '2017-09-14 22:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/78537fa08dcfbde16e6c308fdc0899809203205e', 'message': '[WIP] [DNM] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 50, 'created': '2017-09-17 22:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8b70ab88bdaf48ee33d1243cb305abe85b606849', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 51, 'created': '2017-09-18 22:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/162db1851d7bfb7ee3c9e059ec3c6dbb92d95af5', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 52, 'created': '2017-09-19 19:06:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/26e19557add2841cf2adf4a6aefd06fa711192b7', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 53, 'created': '2017-09-19 20:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d1cd6187b0271ae67ee3b1f35f7d12a9d91dbed7', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 54, 'created': '2017-09-19 22:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b302b32c69aa7cf1151fe05705deb106dde97a34', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 55, 'created': '2017-09-19 22:57:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/05a059d0fc9fdfb0dbf280504bbe4d6f8c84c188', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 56, 'created': '2017-09-20 16:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a013703b5244dcfa239cdb098797b1eddd6e0cdf', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 57, 'created': '2017-09-20 17:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6de0c5e505a3bc15d8e51daf5fde9a252feb9d1', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 58, 'created': '2017-09-20 19:09:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8ca9a93ce8707c05977cfdc12ae5bdbfb1cb90c9', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 59, 'created': '2017-09-20 19:16:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e8f360c87f95f62fd15b553ea9fd3e63d062f81a', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 60, 'created': '2017-09-20 19:26:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ec8d1f5c45b7292e306d8bfda278c47e6457f9be', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 61, 'created': '2017-09-20 19:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2936bdaa692020c53bf2765a98d4998f10fccaeb', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 62, 'created': '2017-09-20 19:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e67cf903d29786e94cdb4facd098a101fa3abf67', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 63, 'created': '2017-09-20 20:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b17556fec0c6ee1f5f856b105cfb08beec0e1134', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 64, 'created': '2017-09-21 17:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bfbaeea9f341d84f1b49981b4b90f06f564c4430', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 65, 'created': '2017-09-21 20:44:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4e67ec46242fe808e40b58e29a6ed1c5947e1bfc', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 66, 'created': '2017-09-21 20:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/712ccf0de077798a6f6fa60a20627448b23e7b49', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 67, 'created': '2017-09-22 15:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5bd21304f2bac305e12cd061f24a6ba80947aab2', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 68, 'created': '2017-09-25 18:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aee8c1e958257221cce9ca6745f457faf234ebbd', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 69, 'created': '2017-09-25 19:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7c6ad26a32b5c05a93a6b53891488ccbef410ee', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 70, 'created': '2017-09-25 19:10:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/607019518f360d7261844326a687315ed5328fd6', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 71, 'created': '2017-09-25 20:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bc9ee572cad36db9e61a7ffaccca3994db89f35a', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 72, 'created': '2017-09-25 20:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67072a027b864c959ab683b97bdf87bb9a9fc42c', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 73, 'created': '2017-09-26 19:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db754d97e5d2493d78dea78ab2689002e2ab0f49', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 74, 'created': '2017-09-26 20:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a85212200493b76d57926550dde0dcf9bd03b0cb', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 75, 'created': '2017-09-27 15:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/61030a1372a10d4b3002d5acdb975d0405027746', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 76, 'created': '2017-09-27 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6efbb26f1c5e8eaffcafa30af393aad42bfae7d', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 77, 'created': '2017-09-27 18:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/99ecbdd527bf54de344b0c7a04d184733073def6', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 78, 'created': '2017-09-27 18:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dcdb3614be49402dd3f52ea59d5d412876fd850b', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 79, 'created': '2017-09-28 16:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c6e9ee5e39edd929285ba2e508b21a272c90ffb4', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 80, 'created': '2017-09-28 17:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1edb0efb4164469d4c4a2eeffd55b563ecbedb1b', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 81, 'created': '2017-09-28 18:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/10b200856fb7c452271620a94ebb6d41dd46926f', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 82, 'created': '2017-09-28 18:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/340464852d5ce7cd0e758a51004bc2eb92dcccd5', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 83, 'created': '2017-09-28 19:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b56cdd2336cacedaa06f75d1cddeab20d9a76009', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 84, 'created': '2017-09-29 14:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4c0e526b92d3f88da4c5cfe529b1f736c9794a57', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 85, 'created': '2017-09-29 16:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c4f6e739210d296c6dc7e417f3ad5ad86eb42a44', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 86, 'created': '2017-09-29 19:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/994a4100e0129f2e3bf431bfda1e405f00a18fdc', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 87, 'created': '2017-10-02 13:48:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2a99c820a5fdabdef32c42e04155b6f72f61db05', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 88, 'created': '2017-10-02 13:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a1578d2e84b1109195b7774bb7f68cc88ebf217c', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 89, 'created': '2017-10-02 14:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/db37e0aae6fc0d6ccff684ad0d2ecfc880cd90e5', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 90, 'created': '2017-10-02 15:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bfb4ec809399003039b5f42104c691c1fa52e98f', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 91, 'created': '2017-10-02 15:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6b8171cd1f10d83ee1db8940735c21b864f14607', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 92, 'created': '2017-10-02 16:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1999305792041a24af2d93acd848e0ebf6dca1ee', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 93, 'created': '2017-10-02 18:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1c15c14a8392807ecb5f8378c2d149eefe201c9e', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 94, 'created': '2017-10-02 19:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/43ddf828462153f04e0842667c6604e05fade6ff', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 95, 'created': '2017-10-02 20:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/919b0043c5177f1b6f215d783869b7948225dfec', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 96, 'created': '2017-10-03 12:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fda9dee5f075ea1151dfb03acf0e95c6d77fed35', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 97, 'created': '2017-10-03 13:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4dcf4fcb5e2b18f7e0660beba817f862adb5d9f0', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 98, 'created': '2017-10-03 14:08:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/beb1995212dcca35e682617ca269e366642dbb43', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 99, 'created': '2017-10-03 14:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f6e378d9cc30ae564f40478083755aca74e0e30d', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 100, 'created': '2017-10-03 15:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f84527d462e5ccd424f66e4fcf860d786d4c3655', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 101, 'created': '2017-10-03 18:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b3b17053e7625c018f8d1aa7b3bc8fd58b7f7fd3', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 102, 'created': '2017-10-03 21:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/88cd892bb3341132fea6f0ccd8b056c7eed794ac', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 103, 'created': '2017-10-04 14:38:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/313a99c5ee740d535047088c3b104138b8ba8c05', 'message': '[WIP] Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 104, 'created': '2017-10-04 15:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cee45242c469ee78405c3d882f2e421ec476ca52', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 105, 'created': '2017-10-04 18:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c97598f943a8959e6f52a7cfd4f53e7d8bf4b110', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 106, 'created': '2017-10-05 12:51:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d266de86426fea80465377adf2a781ef40a9a590', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 107, 'created': '2017-10-05 14:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/279075cc520ac8d6771df0ca4798e75e9f43c206', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}, {'number': 108, 'created': '2017-10-05 14:19:56.000000000', 'files': ['rally/templates/tasks/test-templates/_resource-group-with-outputs.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-random-strings-replace.yaml.template.tpl', 'rally/templates/configmap-bin.yaml', 'tools/gate/launch-osh/basic.sh', 'rally/templates/secret-keystone.yaml', 'rally/templates/service.yaml', 'tools/gate/setup_gate.sh', 'rally/templates/tasks/test-templates/_updated-resource-group-increase.yaml.template.tpl', 'rally/templates/bin/_run-task.sh.tpl', 'rally/templates/configmap-etc.yaml', 'rally/templates/job-ks-user.yaml', 'rally/templates/tasks/test-templates/_updated-resource-group-reduce.yaml.template.tpl', 'rally/templates/job-ks-service.yaml', 'rally/templates/configmap-tasks.yaml', 'rally/templates/job-ks-endpoints.yaml', 'rally/templates/pdb-api.yaml', 'rally/requirements.yaml', 'rally/templates/job-run-task.yaml', 'rally/templates/tasks/test-templates/_resource-group-server-with-volume.yaml.template.tpl', 'rally/templates/bin/_manage-db.sh.tpl', 'rally/templates/ingress-api.yaml', 'rally/templates/job-manage-db.yaml', 'rally/templates/tasks/test-templates/_autoscaling-policy.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-random-strings-add.yaml.template.tpl', 'rally/templates/tasks/test-templates/_resource-group-with-constraint.yaml.template.tpl', 'rally/templates/tasks/test-templates/_updated-random-strings-delete.yaml.template.tpl', 'rally/templates/job-db-init.yaml', 'rally/README.rst', 'rally/templates/tasks/test-templates/_random-strings.yaml.template.tpl', 'rally/templates/job-bootstrap.yaml', 'rally/templates/tasks/test-templates/_server-with-ports.yaml.template.tpl', 'rally/templates/configmap-test-templates.yaml', 'tools/gate/vars.sh', 'rally/Chart.yaml', 'rally/templates/tasks/test-templates/_autoscaling-group.yaml.template.tpl', 'rally/templates/tasks/test-templates/_server-with-volume.yaml.template.tpl', 'tools/gate/dump_logs.sh', 'rally/templates/tasks/test-templates/_updated-autoscaling-policy-inplace.yaml.template.tpl', 'rally/templates/pvc-rally.yaml', 'rally/templates/tasks/test-templates/_resource-group.yaml.template.tpl', 'tools/gate/files/rally-reports.yaml', 'rally/templates/secret-db.yaml', 'rally/templates/tasks/test-templates/_default.yaml.template.tpl', 'rally/templates/service-ingress-api.yaml', 'rally/templates/bin/_bootstrap.sh.tpl', 'rally/templates/etc/_rally.conf.tpl', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cbb6ed917224779af18deefc65c851e607322548', 'message': 'Add Rally Chart\n\nBasic functioning chart\nHelm tests to verify functionality\nDocumentation to support\n\nImplements: blueprint openstack-helm-chart-rally\nChange-Id: Idcff88db63a5d8be6099969c41f6c34450c61064\n'}]",15,491015,cbb6ed917224779af18deefc65c851e607322548,567,9,108,17589,,,0,"Add Rally Chart

Basic functioning chart
Helm tests to verify functionality
Documentation to support

Implements: blueprint openstack-helm-chart-rally
Change-Id: Idcff88db63a5d8be6099969c41f6c34450c61064
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/15/491015/9 && git format-patch -1 --stdout FETCH_HEAD,"['rally/templates/configmap-bin.yaml', 'rally/templates/job-bootstrap.yaml', 'rally/templates/secret-keystone.yaml', 'rally/templates/job-db-sync.yaml', 'rally/Chart.yaml', 'rally/templates/deployment-api.yaml', 'rally/templates/configmap-etc.yaml', 'rally/templates/job-ks-user.yaml', 'rally/templates/service-api.yaml', 'rally/templates/job-ks-service.yaml', 'rally/templates/job-ks-endpoints.yaml', 'rally/templates/pdb-api.yaml', 'rally/requirements.yaml', 'rally/templates/secret-db.yaml', 'rally/templates/ingress-api.yaml', 'rally/templates/service-ingress-api.yaml', 'rally/templates/bin/_bootstrap.sh.tpl', 'rally/templates/bin/_db-sync.sh.tpl', 'rally/templates/job-db-init.yaml', 'rally/templates/etc/_rally.conf.tpl', 'rally/values.yaml']",21,46007f70d0d1ff13d1d187c05520dc2f8b309d5e,bp/openstack-helm-chart-rally,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. labels: node_selector_key: openstack-control-plane node_selector_value: enabled images: bootstrap: docker.io/kolla/ubuntu-binary-rally-api:3.0.3 dep_check: docker.io/kolla/ubuntu-source-kubernetes-entrypoint:4.0.0 db_init: docker.io/kolla/ubuntu-binary-rally-api:3.0.3 db_sync: docker.io/kolla/ubuntu-binary-rally-api:3.0.3 ks_user: docker.io/kolla/ubuntu-source-kolla-toolbox:3.0.3 ks_service: docker.io/kolla/ubuntu-source-kolla-toolbox:3.0.3 ks_endpoints: docker.io/kolla/ubuntu-source-kolla-toolbox:3.0.3 api: docker.io/kolla/ubuntu-binary-rally-api:3.0.3 pull_policy: ""IfNotPresent"" pod: affinity: anti: type: default: preferredDuringSchedulingIgnoredDuringExecution topologyKey: default: kubernetes.io/hostname mounts: rally_api: init_container: null rally_api: rally_bootstrap: init_container: null rally_bootstrap: replicas: api: 1 lifecycle: upgrades: deployments: revision_history: 3 pod_replacement_strategy: RollingUpdate rolling_update: max_unavailable: 1 max_surge: 3 disruption_budget: api: min_available: 0 resources: enabled: false api: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" jobs: bootstrap: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" db_init: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" db_sync: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ks_endpoints: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ks_service: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" ks_user: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" tests: requests: memory: ""128Mi"" cpu: ""100m"" limits: memory: ""1024Mi"" cpu: ""2000m"" network: api: ingress: public: true node_port: enabled: false port: 39486 bootstrap: enabled: false script: | openstack token issue dependencies: db_init: services: - service: oslo_db endpoint: internal db_sync: jobs: - rally-db-init services: - service: oslo_db endpoint: internal ks_user: services: - service: identity endpoint: internal ks_service: services: - service: identity endpoint: internal ks_endpoints: jobs: - rally-ks-service services: - service: identity endpoint: internal api: jobs: - rally-db-sync - rally-ks-user - rally-ks-endpoints services: - service: oslo_db endpoint: internal - service: identity endpoint: internal conf: paste: override: append: policy: override: append: audit_map: override: append: rally: override: append: keystone_authtoken: keystonemiddleware: auth_token: auth_type: password auth_version: v3 database: oslo: db: max_retries: -1 rally_api: rally: config: bind_port: 9311 # Names of secrets used by bootstrap and environmental checks secrets: identity: admin: rally-keystone-admin user: rally-keystone-user oslo_db: admin: rally-db-admin user: rally-db-user endpoints: identity: name: keystone auth: admin: region_name: RegionOne username: admin password: password project_name: admin user_domain_name: default project_domain_name: default user: role: admin region_name: RegionOne username: rally password: password project_name: service user_domain_name: default project_domain_name: default hosts: default: keystone-api public: keystone path: default: /v3 scheme: default: http port: admin: default: 35357 api: default: 80 benchmark_tool: name: rally hosts: default: rally-api public: rally path: default: /v1 scheme: default: http port: api: default: 9312 public: 80 oslo_db: auth: admin: username: root password: password user: username: rally password: password hosts: default: mariadb path: /rally scheme: mysql+pymysql port: mysql: default: 3306 oslo_messaging: auth: admin: username: admin password: password user: username: rabbitmq password: password hosts: default: rabbitmq path: / scheme: rabbit port: amqp: default: 5672 oslo_cache: hosts: default: memcached port: memcache: default: 11211 ",,1860,0
openstack%2Fopenstack-helm~master~If6c8753d85ea2bd2fd7df77e84b5e61bf64dc507,openstack/openstack-helm,master,If6c8753d85ea2bd2fd7df77e84b5e61bf64dc507,Docs: Neutron multiple SDN approach design,MERGED,2017-06-02 15:15:10.000000000,2017-10-05 15:54:19.000000000,2017-10-05 15:54:19.000000000,"[{'_account_id': 3}, {'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 21307}, {'_account_id': 21420}, {'_account_id': 23928}, {'_account_id': 25764}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-06-02 15:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a487d9882448fb3ec394b1bc660e91d9f51b09e2', 'message': 'docs: Neutron multiple SDN approach design\n\nThis devref is covering the existing OpenStack-Helm neutron architecture\nand proposal for introducing multiple SDNs.\n\nAdded linuxbridge usage docs.\n\nChange-Id: If6c8753d85ea2bd2fd7df77e84b5e61bf64dc507\nImplements: blueprint support-linux-bridge-on-neutron\n'}, {'number': 2, 'created': '2017-10-04 17:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/15e94d66a3021ff37fc206653bc797001e510c9f', 'message': 'Docs: Neutron multiple SDN approach design\n\nThis devref is covering the existing OpenStack-Helm neutron\narchitecture and proposal for introducing multiple SDNs.\n\nAdded linuxbridge usage docs.\n\nChange-Id: If6c8753d85ea2bd2fd7df77e84b5e61bf64dc507\nImplements: blueprint support-linux-bridge-on-neutron\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n'}, {'number': 3, 'created': '2017-10-05 13:52:21.000000000', 'files': ['doc/source/devref/networking.rst', 'doc/source/devref/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a960ed0fd08529965638eed2965fbe2a2ad00e37', 'message': 'Docs: Neutron multiple SDN approach design\n\nThis devref is covering the existing OpenStack-Helm neutron\narchitecture and proposal for introducing multiple SDNs.\n\nAdded linuxbridge usage docs.\n\nChange-Id: If6c8753d85ea2bd2fd7df77e84b5e61bf64dc507\nImplements: blueprint support-linux-bridge-on-neutron\nCo-Authored-By: Gage Hugo <gagehugo@gmail.com>\n'}]",55,470326,a960ed0fd08529965638eed2965fbe2a2ad00e37,21,9,3,15518,,,0,"Docs: Neutron multiple SDN approach design

This devref is covering the existing OpenStack-Helm neutron
architecture and proposal for introducing multiple SDNs.

Added linuxbridge usage docs.

Change-Id: If6c8753d85ea2bd2fd7df77e84b5e61bf64dc507
Implements: blueprint support-linux-bridge-on-neutron
Co-Authored-By: Gage Hugo <gagehugo@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/26/470326/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/devref/dev-helm/networking.rst', 'doc/source/devref/dev-helm/index.rst']",2,a487d9882448fb3ec394b1bc660e91d9f51b09e2,bp/support-linux-bridge-on-neutron, networking,,303,0
openstack%2Fpuppet-magnum~stable%2Fpike~Ied4088237fac5d910a016306147a005dc39e1928,openstack/puppet-magnum,stable/pike,Ied4088237fac5d910a016306147a005dc39e1928,Prepare new bug-fix release in pike,MERGED,2017-10-05 13:52:42.000000000,2017-10-05 15:52:30.000000000,2017-10-05 15:52:30.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-10-05 13:52:42.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/0112f1b96f5d377fbc797d2c54fc37958f8ca21d', 'message': 'Prepare new bug-fix release in pike\n\nTo include https://review.openstack.org/#/c/501141 fix\n\nChange-Id: Ied4088237fac5d910a016306147a005dc39e1928\n'}]",0,509785,0112f1b96f5d377fbc797d2c54fc37958f8ca21d,7,3,1,16312,,,0,"Prepare new bug-fix release in pike

To include https://review.openstack.org/#/c/501141 fix

Change-Id: Ied4088237fac5d910a016306147a005dc39e1928
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/85/509785/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,0112f1b96f5d377fbc797d2c54fc37958f8ca21d,fix-ssl,version = '11.3.1'release = '11.3.1',version = '11.3.0'release = '11.3.0',4,4
openstack%2Fpuppet-nova~master~I79f76592672d968b96338b3e0f6a86c9b7faeb93,openstack/puppet-nova,master,I79f76592672d968b96338b3e0f6a86c9b7faeb93,Sanitize nova_manage output in provider,MERGED,2017-09-07 10:42:38.000000000,2017-10-05 15:43:49.000000000,2017-09-14 17:36:02.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 8871}, {'_account_id': 8971}, {'_account_id': 13861}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-07 10:42:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/604255e5233c8cf667720284187b2e86969f7861', 'message': 'Sanitize nova_manage output in provider\n\nnova-manage can output a warning message in some cases (see [1] for\nan example with the latest oslo.db), and that confuses the nova_manage\nprovider. We need to sanitize the output before using it.\n\n[1] - https://logs.rdoproject.org/23/9323/2/experimental/gate-weirdo-dlrn-master-puppet-scenario001/Z6a290513d2904561a2adc60ddbfd7084/weirdo-project/puppet.txt.gz\n\nChange-Id: I79f76592672d968b96338b3e0f6a86c9b7faeb93\n'}, {'number': 2, 'created': '2017-09-07 16:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e1d2e23f43bc7b9b2fdac295d2df582012cbc953', 'message': 'Sanitize nova_manage output in provider\n\nnova-manage can output a warning message in some cases (see [1] for\nan example with the latest oslo.db), and that confuses the nova_manage\nprovider.\n\nSince the command in a provider cannot separate stdout and stderr[2],\nwe use a workaround with Puppet::Util::Execution.execute, and\nuse that instead of the provider command in the nova_cells and\nnova_cell_v2 providers.\n\n[1] - https://logs.rdoproject.org/23/9323/2/experimental/gate-weirdo-dlrn-master-puppet-scenario001/Z6a290513d2904561a2adc60ddbfd7084/weirdo-project/puppet.txt.gz\n[2] - https://github.com/puppetlabs/puppet/blob/master/lib/puppet/util/execution.rb#L14-L16\n\nChange-Id: I79f76592672d968b96338b3e0f6a86c9b7faeb93\n'}, {'number': 3, 'created': '2017-09-08 08:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/eea001ca4a907751448275b09bef91475d44712a', 'message': 'Sanitize nova_manage output in provider\n\nnova-manage can output a warning message in some cases (see [1] for\nan example with the latest oslo.db), and that confuses the nova_manage\nprovider.\n\nSince the command in a provider cannot separate stdout and stderr[2],\nwe use a workaround with Puppet::Util::Execution.execute, and\nuse that instead of the provider command in the nova_cells and\nnova_cell_v2 providers.\n\n[1] - https://logs.rdoproject.org/23/9323/2/experimental/gate-weirdo-dlrn-master-puppet-scenario001/Z6a290513d2904561a2adc60ddbfd7084/weirdo-project/puppet.txt.gz\n[2] - https://github.com/puppetlabs/puppet/blob/master/lib/puppet/util/execution.rb#L14-L16\n\nChange-Id: I79f76592672d968b96338b3e0f6a86c9b7faeb93\n'}, {'number': 4, 'created': '2017-09-14 13:14:03.000000000', 'files': ['lib/puppet/provider/nova_cells/nova_manage.rb', 'lib/puppet/provider/nova.rb', 'lib/puppet/provider/nova_cell_v2/nova_manage.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/682174b778ca5398536842f5a2e8094907fc43a1', 'message': 'Sanitize nova_manage output in provider\n\nnova-manage can output a warning message in some cases (see [1] for\nan example with the latest oslo.db), and that confuses the nova_manage\nprovider.\n\nSince the command in a provider cannot separate stdout and stderr[2],\nwe use a workaround with Puppet::Util::Execution.execute, and\nuse that instead of the provider command in the nova_cells and\nnova_cell_v2 providers.\n\n[1] - https://logs.rdoproject.org/23/9323/2/experimental/gate-weirdo-dlrn-master-puppet-scenario001/Z6a290513d2904561a2adc60ddbfd7084/weirdo-project/puppet.txt.gz\n[2] - https://github.com/puppetlabs/puppet/blob/master/lib/puppet/util/execution.rb#L14-L16\n\nChange-Id: I79f76592672d968b96338b3e0f6a86c9b7faeb93\n'}]",1,501669,682174b778ca5398536842f5a2e8094907fc43a1,35,7,4,13294,,,0,"Sanitize nova_manage output in provider

nova-manage can output a warning message in some cases (see [1] for
an example with the latest oslo.db), and that confuses the nova_manage
provider.

Since the command in a provider cannot separate stdout and stderr[2],
we use a workaround with Puppet::Util::Execution.execute, and
use that instead of the provider command in the nova_cells and
nova_cell_v2 providers.

[1] - https://logs.rdoproject.org/23/9323/2/experimental/gate-weirdo-dlrn-master-puppet-scenario001/Z6a290513d2904561a2adc60ddbfd7084/weirdo-project/puppet.txt.gz
[2] - https://github.com/puppetlabs/puppet/blob/master/lib/puppet/util/execution.rb#L14-L16

Change-Id: I79f76592672d968b96338b3e0f6a86c9b7faeb93
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/69/501669/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/nova_cell_v2/nova_manage.rb'],1,604255e5233c8cf667720284187b2e86969f7861,sanitize_input," def self.sanitize_output(text) return nil if text.nil? # The nova-manage valid output should only start by + or | text=text.split(""\n"").drop_while { |line| line !~ /^(\+|\|)/ }.join(""\n"") ""#{text}\n"" end def sanitize_output(text) self.class.sanitize_output(text) end cells_list = sanitize_output(nova_manage(""cell_v2"", ""list_cells"", ""--verbose""))end "," cells_list = nova_manage(""cell_v2"", ""list_cells"", ""--verbose"")end",13,2
openstack%2Fironic-specs~master~Ie4b5688e09b7429d4b5b9e65a7b85ffa246995f6,openstack/ironic-specs,master,Ie4b5688e09b7429d4b5b9e65a7b85ffa246995f6,Add resource class structure to ironic,ABANDONED,2017-09-04 03:38:40.000000000,2017-10-05 15:40:06.000000000,,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11297}]","[{'number': 1, 'created': '2017-09-04 03:38:40.000000000', 'files': ['specs/approved/add-resource-class-structure-to-ironic.rst'], 'web_link': 'https://opendev.org/openstack/ironic-specs/commit/8a17d0c6aef1bff07a2e6ab438ca3bfaa918718e', 'message': 'Add resource class structure to ironic\n\nThis spec just describes the issues as of now.\n\nRelated-bug: 1714864\n\nChange-Id: Ie4b5688e09b7429d4b5b9e65a7b85ffa246995f6\n'}]",34,500429,8a17d0c6aef1bff07a2e6ab438ca3bfaa918718e,8,4,1,11297,,,0,"Add resource class structure to ironic

This spec just describes the issues as of now.

Related-bug: 1714864

Change-Id: Ie4b5688e09b7429d4b5b9e65a7b85ffa246995f6
",git fetch https://review.opendev.org/openstack/ironic-specs refs/changes/29/500429/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/approved/add-resource-class-structure-to-ironic.rst'],1,8a17d0c6aef1bff07a2e6ab438ca3bfaa918718e,bug/1714864,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== Add resource class structure to ironic ====================================== https://bugs.launchpad.net/ironic/+bug/1714864 Ironic nodes can not be scheduled based on any quantitative capabilities or rather non-boolean capabilities once the nova placement API stops scheduling nodes based on capabilities. Problem description =================== Nova currently schedules ironic nodes based on two things: resource class name and capabilities. resource class name - is a logical grouping of the ironic nodes based on mandatory properties namely, ``cpus``, ``memory_mb`` and ``local_gb``. We can create this logical group based on capabilities like ``boot_mode`` having value like 'bios' or 'uefi', ``server_model`` etc. The issues with single resource class approach are: * all this has to be done manually or through a script as inspection can not populate the discovered resources into custom resource class. * Scheduling will only do the exact match of the custom resource class hence lacks flexibility. Its inconsistent with previous scheduling behavior and the standard resource class behavior. Prior to switching to custom resource class, a node can get selected as long as it has enough resource than what has been requested. With the custom resource class, scheduler will only select the node with the exact match. Tenant will need to know exactly what resource classes he or she can choose as opposed to just need to specify how much resource his or her workload needs. Also, the request will fail if no node is available for the specified resource class. There is no mechanism to fall back to other custom resource classes which might also meet the requirements. For instance, if there is no node available in the Brown resource class, the silver resource class can also meet the requirements * Can not take advantage of features provided by the standard resource classes. For instance, remote storage handling, PCI_Device and SRIOV_Net_* standard resource classes are useful for bare metali scheduling as well. Benefits of using multiple resource classes for ironic nodes: Essentially using standard resource classes for ironic nodes will address the problems described above. * Easy to integrate with inspection. Inspection can just populate the data in resource classes. Therefore easier to use and less error-prone. * Can take advantage of the features provided by the standard resource classes. For instance, remote storage handling, PCI _Device and SRIOV_Net_* standard resources class. They are useful use cases for Ironic bare metal scheduling. * Lift the restriction of exact match scheduling. Scheduling behavior is consistent with prior-Pike scheduling. * Operators dont need to configure custom resource class for each node. Users just need to specify how much standard resources he/she needs and the standard resource class scheduling will find the node that has enough resources to place the instance on. Users dont need to map his/her requirement to a specific custom resource class and dont need to know what custom resource classes he/she needs to choose from. Proposed change ===============  Ironic to support both standard and custom resource classes Standard resource classes are easier to use, provide scheduling flexibility (namely not restricted to exact matching), and consistent with prior-Pike scheduling behavior. Ironic inspection (both in-band and out-of-band) can discover and populate the standard resource classes. Standard resource classes are useful in the private cloud environment where a pool of resources are available without different levels of groupings. * Ironic to support multiple custom resource classes for a node. Alternatives ------------ What other ways could we do this thing? Has someone else done this thing in another project? In another language? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Yes, as it will need to add resource class structure to ironic database. State Machine Impact -------------------- No Change. REST API impact --------------- Yes. It will require to introduce APIs which will deal with resource class structure. Client (CLI) impact ------------------- yes, will need to add the interface to the client. Will add once the idea is well received by the community. ""ironic"" CLI ~~~~~~~~~~~~ Yes. Will add once the idea is well received by the community. ""openstack baremetal"" CLI ~~~~~~~~~~~~~~~~~~~~~~~~~ Yes. Will add once the idea is well received by the community. RPC API impact -------------- Yes. Will add once the idea is well received by the community. Driver API impact ----------------- yes. It will require changes to inpsection. Nova driver impact ------------------ Yes, as Nova will need to understand the multiple resource classes on ironic node. Ramdisk impact -------------- No. Security impact --------------- No. Other end user impact --------------------- No. Scalability impact ------------------ No. Performance Impact ------------------ No. Other deployer impact --------------------- It will help the deployers as it gives the same behaviour to them which existed before Pike. Developer impact ---------------- No. Implementation ============== Assignee(s) ----------- Primary assignee: agarwalnisha1980 Other contributors: wan-yen-hsu stendulker Work Items ---------- TBD. Dependencies ============ No. Testing ======= CI test will be added for this. Upgrades and Backwards Compatibility ==================================== No. Documentation Impact ==================== The feature will be completely documented. References ========== Nova resource class changes. ",,224,0
openstack%2Fnetworking-bgpvpn~master~I3b5fcc99f4c1939e64518e4b5c33574f4045f923,openstack/networking-bgpvpn,master,I3b5fcc99f4c1939e64518e4b5c33574f4045f923,dnm: test,ABANDONED,2017-10-04 08:20:05.000000000,2017-10-05 15:40:04.000000000,,"[{'_account_id': 3}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-10-04 08:20:05.000000000', 'files': ['networking_bgpvpn/do-not-merge-me', 'releasenotes/do-not-merge-me'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/8eccb1d640ac43c5c1cf8dacf247b85a62479a8b', 'message': 'dnm: test\n\nChange-Id: I3b5fcc99f4c1939e64518e4b5c33574f4045f923\n'}]",0,509373,8eccb1d640ac43c5c1cf8dacf247b85a62479a8b,5,2,1,12021,,,0,"dnm: test

Change-Id: I3b5fcc99f4c1939e64518e4b5c33574f4045f923
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/73/509373/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bgpvpn/do-not-merge-me', 'releasenotes/do-not-merge-me']",2,8eccb1d640ac43c5c1cf8dacf247b85a62479a8b,test_zuul,,,0,0
openstack%2Ftripleo-ui~master~Ib38543109e5e29b6775a26d9b47c70ff2f3b64cd,openstack/tripleo-ui,master,Ib38543109e5e29b6775a26d9b47c70ff2f3b64cd,Add redux-mock-store dependency,MERGED,2017-09-29 09:30:45.000000000,2017-10-05 15:35:21.000000000,2017-10-05 15:35:21.000000000,"[{'_account_id': 3}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 10384}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-29 09:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/84ae1ffa1a7d738ce874b0da15b71ed76c7e9b18', 'message': 'Add redux-mock-store dependency\n\nLicense: MIT\n\nChange-Id: Ib38543109e5e29b6775a26d9b47c70ff2f3b64cd\n'}, {'number': 2, 'created': '2017-10-05 10:52:24.000000000', 'files': ['package.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/b63e1d7e1cbb9aad86d3b044522d447a39bba986', 'message': 'Add redux-mock-store dependency\n\nLicense: MIT\n\nChange-Id: Ib38543109e5e29b6775a26d9b47c70ff2f3b64cd\n'}]",0,508465,b63e1d7e1cbb9aad86d3b044522d447a39bba986,16,7,2,7509,,,0,"Add redux-mock-store dependency

License: MIT

Change-Id: Ib38543109e5e29b6775a26d9b47c70ff2f3b64cd
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/65/508465/1 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,84ae1ffa1a7d738ce874b0da15b71ed76c7e9b18,3servicesUtils," ""redux-mock-store"": ""1.3.0"",",,1,0
openstack%2Ftripleo-ui~master~I62298e9a112f0187eb19788bf76d83feac996f5e,openstack/tripleo-ui,master,I62298e9a112f0187eb19788bf76d83feac996f5e,Add redux-form-validators dependency,MERGED,2017-09-18 10:18:59.000000000,2017-10-05 15:35:03.000000000,2017-10-05 15:35:03.000000000,"[{'_account_id': 3}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 10384}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-18 10:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/4d9644bb0c8ae2740aa9fbb3d80c7d8b8738a2f4', 'message': 'Add redux-form-validators dependency\n\nredux-form-validators MIT License\n\nChange-Id: I62298e9a112f0187eb19788bf76d83feac996f5e\n'}, {'number': 2, 'created': '2017-09-18 10:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/f42cebf07be73b066ac0fe7394a2a5383fcb62e2', 'message': 'Add redux-form-validators dependency\n\nredux-form-validators MIT License\n\nChange-Id: I62298e9a112f0187eb19788bf76d83feac996f5e\n'}, {'number': 3, 'created': '2017-09-19 13:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/8b4588cdb698fb326e32f7c536fb9b538c37d4f3', 'message': 'Add redux-form-validators dependency\n\nredux-form-validators MIT License\n\nChange-Id: I62298e9a112f0187eb19788bf76d83feac996f5e\n'}, {'number': 4, 'created': '2017-10-02 15:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/5283d36ae17ec8dadef00f63ca5b6e5c36415777', 'message': 'Add redux-form-validators dependency\n\nredux-form-validators MIT License\n\nChange-Id: I62298e9a112f0187eb19788bf76d83feac996f5e\n'}, {'number': 5, 'created': '2017-10-05 11:59:51.000000000', 'files': ['npm-shrinkwrap.json', 'package.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/887e6ea473c2637d473c0265c3798a31c2116b1f', 'message': 'Add redux-form-validators dependency\n\nredux-form-validators MIT License\n\nChange-Id: I62298e9a112f0187eb19788bf76d83feac996f5e\n'}]",0,504902,887e6ea473c2637d473c0265c3798a31c2116b1f,21,7,5,7509,,,0,"Add redux-form-validators dependency

redux-form-validators MIT License

Change-Id: I62298e9a112f0187eb19788bf76d83feac996f5e
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/02/504902/2 && git format-patch -1 --stdout FETCH_HEAD,['package.json'],1,4d9644bb0c8ae2740aa9fbb3d80c7d8b8738a2f4,bp/ui-redux-form-migration," ""redux-form-validators"": ""^2.0.1"",",,1,0
openstack%2Ftripleo-ui~master~I55ea51f8addb8090965d79c47c96a68f8ecce498,openstack/tripleo-ui,master,I55ea51f8addb8090965d79c47c96a68f8ecce498,Add uuid dependency,MERGED,2017-09-29 11:33:09.000000000,2017-10-05 15:34:56.000000000,2017-10-05 15:34:56.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 9317}, {'_account_id': 10112}, {'_account_id': 10384}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-29 11:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/711e6b237cb992081d379e8355fe6d0d37a36d10', 'message': 'Add uuid dependency\n\nnode-uuid is deprecated in favor of uuid npm package\nuuid License: MIT\n\nChange-Id: I55ea51f8addb8090965d79c47c96a68f8ecce498\n'}, {'number': 2, 'created': '2017-10-05 12:06:17.000000000', 'files': ['npm-shrinkwrap.json', 'package.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/fa60e3d446949448d0dae11e934eb0fdc561f0f9', 'message': 'Add uuid dependency\n\nnode-uuid is deprecated in favor of uuid npm package\nuuid License: MIT\n\nChange-Id: I55ea51f8addb8090965d79c47c96a68f8ecce498\n'}]",0,508492,fa60e3d446949448d0dae11e934eb0fdc561f0f9,20,8,2,7509,,,0,"Add uuid dependency

node-uuid is deprecated in favor of uuid npm package
uuid License: MIT

Change-Id: I55ea51f8addb8090965d79c47c96a68f8ecce498
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/92/508492/2 && git format-patch -1 --stdout FETCH_HEAD,"['npm-shrinkwrap.json', 'package.json']",2,711e6b237cb992081d379e8355fe6d0d37a36d10,uuid," ""uuid"": ""^3.1.0"",",,6,0
openstack%2Fmistral~master~I9ff657b2604647e734b5539e9bd6a524a3a20efb,openstack/mistral,master,I9ff657b2604647e734b5539e9bd6a524a3a20efb,Add get cron-trigger by id support,MERGED,2017-08-22 08:49:28.000000000,2017-10-05 15:34:50.000000000,2017-10-05 15:34:50.000000000,"[{'_account_id': 3}, {'_account_id': 7065}, {'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15895}, {'_account_id': 21479}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-22 08:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/51e5f8f08c37ca7bf2967f831c5c7f8e0e025b8a', 'message': 'Add get cron-trigger by id support\n\nCurrently we can only retrieve cron-trigger by name rather\nthan id. As we know, the name attribute is not a global uniq key,\nso it is really not a good practise to retrieve by name. The users\nalso tend to get by id rather than name.\n\nThis patch reinforces GET API in cron-trigger controller. If the query\nkey is uuid-like, we will try to retrieve cron-triger by id first, or\nwe will fall back to retrieve by name.\n\nChange-Id: I9ff657b2604647e734b5539e9bd6a524a3a20efb\n'}, {'number': 2, 'created': '2017-09-15 08:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1c55b06e73b773e7a13dd239204e741d762359d2', 'message': 'Add get cron-trigger by id support\n\nCurrently we can only retrieve cron-trigger by name rather\nthan id. As we know, the name attribute is not a global uniq key,\nso it is really not a good practise to retrieve by name. The users\nalso tend to get by id rather than name.\n\nThis patch reinforces GET API in cron-trigger controller. If the query\nkey is uuid-like, we will try to retrieve cron-triger by id first, or\nwe will fall back to retrieve by name.\n\nCloses-Bug: 1684469\n\nChange-Id: I9ff657b2604647e734b5539e9bd6a524a3a20efb\n'}, {'number': 3, 'created': '2017-09-15 08:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4672a5d450e240d609673663a10eeb5bafe0f8e8', 'message': 'Add get cron-trigger by id support\n\nCurrently we can only get a cron-trigger by its name via\nAPI. This patch refer to workflow implementation and re-encapsulate\nDB API so that users can fetch a cron-trigger by id or name.\n\nCloses-Bug: 1684469\n\nChange-Id: I9ff657b2604647e734b5539e9bd6a524a3a20efb\n'}, {'number': 4, 'created': '2017-09-15 09:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/de8986761e876219b65443ad198bb8900fc25939', 'message': 'Add get cron-trigger by id support\n\nCurrently we can only get a cron-trigger by its name via\nAPI. This patch refer to workflow implementation and re-encapsulate\nDB API so that users can fetch a cron-trigger by id or name.\n\nCloses-Bug: 1684469\n\nChange-Id: I9ff657b2604647e734b5539e9bd6a524a3a20efb\n'}, {'number': 5, 'created': '2017-09-20 15:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/369adc62725c16e9986171f9796abc00cac23d93', 'message': 'Add get cron-trigger by id support\n\nCurrently we can only do a CURD action on a cron-trigger by name.\nThis patch refer to workflow implementation and re-encapsulate\nDB API so that users can manage a cron-trigger by id or name.\n\nCloses-Bug: 1684469\n\nChange-Id: I9ff657b2604647e734b5539e9bd6a524a3a20efb\n'}, {'number': 6, 'created': '2017-10-05 11:41:00.000000000', 'files': ['mistral/tests/unit/api/v2/test_cron_triggers.py', 'mistral/db/v2/api.py', 'mistral/api/controllers/v2/cron_trigger.py', 'mistral/services/triggers.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py', 'releasenotes/notes/support-manage-cron-trigger-by-id-ab544e8068b84967.yaml'], 'web_link': 'https://opendev.org/openstack/mistral/commit/f84952a3b13d8b4a3eca07c558e7bed7378ebd62', 'message': 'Add get cron-trigger by id support\n\nCurrently we can only do a CURD action on a cron-trigger by name.\nThis patch refer to workflow implementation and re-encapsulate\nDB API so that users can manage a cron-trigger by id or name.\n\nCloses-Bug: 1684469\n\nChange-Id: I9ff657b2604647e734b5539e9bd6a524a3a20efb\n'}]",3,496157,f84952a3b13d8b4a3eca07c558e7bed7378ebd62,37,8,6,21479,,,0,"Add get cron-trigger by id support

Currently we can only do a CURD action on a cron-trigger by name.
This patch refer to workflow implementation and re-encapsulate
DB API so that users can manage a cron-trigger by id or name.

Closes-Bug: 1684469

Change-Id: I9ff657b2604647e734b5539e9bd6a524a3a20efb
",git fetch https://review.opendev.org/openstack/mistral refs/changes/57/496157/6 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/tests/unit/api/v2/test_cron_triggers.py', 'mistral/db/v2/api.py', 'mistral/api/controllers/v2/cron_trigger.py', 'mistral/db/v2/sqlalchemy/api.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py']",5,51e5f8f08c37ca7bf2967f831c5c7f8e0e025b8a,get-cron-trigger-by-id," 'id': '11111111-1111-1111-1111-111111111111', 'id': '22222222-2222-2222-2222-2222222c2222', def test_get_cron_trigger_by_id(self): cron_trigger_1 = db_api.create_cron_trigger(CRON_TRIGGERS[0]) cron_trigger_2 = db_api.create_cron_trigger(CRON_TRIGGERS[1]) fetched = db_api.get_cron_trigger_by_id(cron_trigger_1.id) self.assertEqual(cron_trigger_1, fetched) fetched = db_api.get_cron_trigger_by_id(cron_trigger_2.id) self.assertEqual(cron_trigger_2, fetched) self.assertRaises( exc.DBEntityNotFoundError, db_api.get_cron_trigger_by_id, 'aaaaaaaa-aaaa-aaaa-aaaa-aaaaaaaaaaaa', ) ",,75,7
openstack%2Fdevstack~master~I7af81761cef0ed97a687d73eb519c57a84eca4da,openstack/devstack,master,I7af81761cef0ed97a687d73eb519c57a84eca4da,Move glance auth cache creation to configure_glance,ABANDONED,2017-09-30 16:57:02.000000000,2017-10-05 15:27:40.000000000,,"[{'_account_id': 4146}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-30 16:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/74ebf07405838e5b3c617d39b1d7bc4322e2b54c', 'message': ""Move glance auth cache creation to configure_glance\n\nWe install the glance api on all nodes in multinode testing. This has\nbeen failing because we don't configure the glance auth cache dirs if\nonly install the glance api service. This was done as part of\ninit_glance which is only run when installing g-reg.\n\nFix this by moving the auth cache dir creation step into\nconfigure_glance which is run for the glance api.\n\nChange-Id: I7af81761cef0ed97a687d73eb519c57a84eca4da\n""}, {'number': 2, 'created': '2017-09-30 19:49:45.000000000', 'files': ['lib/glance'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2792d273cd908fa39df693cc0b968782eb523392', 'message': ""Move glance auth cache creation to configure_glance\n\nWe install the glance api on all nodes in multinode testing. This has\nbeen failing because we don't configure the glance auth cache dirs if\nonly install the glance api service. This was done as part of\ninit_glance which is only run when installing g-reg.\n\nFix this by moving the auth cache dir creation step into\nconfigure_glance which is run for the glance api.\n\nDepends-On: Ifcae3ff217259926a8950f6da83212ee311002b2\nChange-Id: I7af81761cef0ed97a687d73eb519c57a84eca4da\n""}]",0,508703,2792d273cd908fa39df693cc0b968782eb523392,17,4,2,4146,,,0,"Move glance auth cache creation to configure_glance

We install the glance api on all nodes in multinode testing. This has
been failing because we don't configure the glance auth cache dirs if
only install the glance api service. This was done as part of
init_glance which is only run when installing g-reg.

Fix this by moving the auth cache dir creation step into
configure_glance which is run for the glance api.

Depends-On: Ifcae3ff217259926a8950f6da83212ee311002b2
Change-Id: I7af81761cef0ed97a687d73eb519c57a84eca4da
",git fetch https://review.opendev.org/openstack/devstack refs/changes/03/508703/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/glance'],1,74ebf07405838e5b3c617d39b1d7bc4322e2b54c,glance-cache, # We run this here as this configures cache dirs for the auth middleware # which is used in the api server and not in the registry. The api # Server is configured through this function and not init_glance. create_glance_cache_dir # create_glance_cache_dir() - Part of the configure_glance() process,# create_glance_cache_dir() - Part of the init_glance() process create_glance_cache_dir,6,3
openstack%2Ftripleo-quickstart~master~I2339a72bb265470c26435e2f7401a81aff4fc2ef,openstack/tripleo-quickstart,master,I2339a72bb265470c26435e2f7401a81aff4fc2ef,Use containers mirrored from rdoproject.org build/promote,MERGED,2017-09-15 16:38:58.000000000,2017-10-05 15:27:24.000000000,2017-10-05 15:01:13.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 1955}, {'_account_id': 2011}, {'_account_id': 4162}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 8652}, {'_account_id': 9061}, {'_account_id': 12715}, {'_account_id': 13039}, {'_account_id': 18846}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-09-15 16:38:58.000000000', 'files': ['config/release/tripleo-ci/master.yml', 'config/release/tripleo-ci/pike.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4cbc40d864a8dd24c47cdc2d9d88400837b1a4d2', 'message': 'Use containers mirrored from rdoproject.org build/promote\n\nWe can not use the rdoproject.org registry directly, because there\nis no infra mirror for it. Instead we will mirror the container images\nto dockerhub when the periodic job passes. The first batch of containers\nproduced this way is already uploaded, and newer than the ones we have\nmanually built in the tripleoupstream namespace on dockerhub. As such,\nwe can switch to using the automated container builds.\n\nChange-Id: I2339a72bb265470c26435e2f7401a81aff4fc2ef\n'}]",4,504454,4cbc40d864a8dd24c47cdc2d9d88400837b1a4d2,50,14,1,12715,,,0,"Use containers mirrored from rdoproject.org build/promote

We can not use the rdoproject.org registry directly, because there
is no infra mirror for it. Instead we will mirror the container images
to dockerhub when the periodic job passes. The first batch of containers
produced this way is already uploaded, and newer than the ones we have
manually built in the tripleoupstream namespace on dockerhub. As such,
we can switch to using the automated container builds.

Change-Id: I2339a72bb265470c26435e2f7401a81aff4fc2ef
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/54/504454/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/master.yml', 'config/release/tripleo-ci/pike.yml']",2,4cbc40d864a8dd24c47cdc2d9d88400837b1a4d2,containers-periodic,docker_registry_namespace: tripleopike docker_image_tag: passed-ci,,4,0
openstack%2Fopenstack-ansible-os_cinder~master~Ia8417bbdac3f515e42d1ed760110a63ae14f8f00,openstack/openstack-ansible-os_cinder,master,Ia8417bbdac3f515e42d1ed760110a63ae14f8f00,Workaround bad cinder defaults,MERGED,2017-10-05 12:55:25.000000000,2017-10-05 15:19:21.000000000,2017-10-05 15:19:21.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-10-05 12:55:25.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/9ad69a9e9d86abdd192f9d418f189d71c170bc59', 'message': ""Workaround bad cinder defaults\n\nkey_manager/backend default value is 'barbican'.\nWhile castellan resolves this to a class using stevedore,\ncinder loads it tries to load it directly.\nSo it fails if the value of backend is not set to a full class.\n\nChange-Id: Ia8417bbdac3f515e42d1ed760110a63ae14f8f00\nPartial-Bug: #1721037\n""}]",0,509768,9ad69a9e9d86abdd192f9d418f189d71c170bc59,7,3,1,17068,,,0,"Workaround bad cinder defaults

key_manager/backend default value is 'barbican'.
While castellan resolves this to a class using stevedore,
cinder loads it tries to load it directly.
So it fails if the value of backend is not set to a full class.

Change-Id: Ia8417bbdac3f515e42d1ed760110a63ae14f8f00
Partial-Bug: #1721037
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/68/509768/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,9ad69a9e9d86abdd192f9d418f189d71c170bc59,bug/1721037,backend = castellan.key_manager.barbican_key_manager.BarbicanKeyManager {% else %} {# WORKAROUND KEY MANAGER DEFAULT STRING ISSUE #} {# See also: https://bugs.launchpad.net/cinder/+bug/1721236 #} {# And: https://review.openstack.org/#/c/468252/ #} [key_manager] backend = cinder.keymgr.conf_key_mgr.ConfKeyManager,api_class = castellan.key_manager.barbican_key_manager.BarbicanKeyManager,7,1
openstack%2Fhorizon~master~Ie96b1a35e379d4cf407bfd53b1ee734178f9cb07,openstack/horizon,master,Ie96b1a35e379d4cf407bfd53b1ee734178f9cb07,Add cache for get_microversion() against Nova,MERGED,2017-10-05 01:54:47.000000000,2017-10-05 15:15:38.000000000,2017-10-05 13:28:16.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 6484}, {'_account_id': 11885}, {'_account_id': 12826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 01:54:47.000000000', 'files': ['openstack_dashboard/api/nova.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fa2e8327b9d0a10f29a4fbe3094a4533914b8ce3', 'message': 'Add cache for get_microversion() against Nova\n\nActions ""Lock"" and ""Unlock"" of instance on instances table are calling\napi.nova.is_feature_available() to check if the feature is supported\nby current Nova server. Unfortunately, the function get_microversion()\ncalled by is_feature_available() is not cached, which is causing about\n40 unnecesary REST API calls. If the Nova\'s version is under Mitaka,\nit could be even worse, about 80 unnecesary API calls, see\nopenstack_dashboard/api/nova.py#L60 and\nnovaclient/v2/versions.py#L47 for more details.\n\nCloses-Bug: #1721423\n\nChange-Id: Ie96b1a35e379d4cf407bfd53b1ee734178f9cb07\n'}]",0,509676,fa2e8327b9d0a10f29a4fbe3094a4533914b8ce3,11,6,1,6484,,,0,"Add cache for get_microversion() against Nova

Actions ""Lock"" and ""Unlock"" of instance on instances table are calling
api.nova.is_feature_available() to check if the feature is supported
by current Nova server. Unfortunately, the function get_microversion()
called by is_feature_available() is not cached, which is causing about
40 unnecesary REST API calls. If the Nova's version is under Mitaka,
it could be even worse, about 80 unnecesary API calls, see
openstack_dashboard/api/nova.py#L60 and
novaclient/v2/versions.py#L47 for more details.

Closes-Bug: #1721423

Change-Id: Ie96b1a35e379d4cf407bfd53b1ee734178f9cb07
",git fetch https://review.opendev.org/openstack/horizon refs/changes/76/509676/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/api/nova.py'],1,fa2e8327b9d0a10f29a4fbe3094a4533914b8ce3,bug/1721423,@memoized,,1,0
openstack%2Fproject-config~master~I0074d375be9350b51bde526e69c77e9d2b29c63b,openstack/project-config,master,I0074d375be9350b51bde526e69c77e9d2b29c63b,Switch release note publish jobs to use the correct path,MERGED,2017-10-05 03:00:53.000000000,2017-10-05 15:09:24.000000000,2017-10-05 15:09:24.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 03:00:53.000000000', 'files': ['playbooks/publish/releasenotes.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f646020b051184b76e9420a28394fad54690bb4e', 'message': 'Switch release note publish jobs to use the correct path\n\nThis path that the release note jobs publishes things to is\ndifferent than the one in the refactored job.\n\nDepends-On: If6ee519c33320db91f8a9553ed4abc099c284eec\nChange-Id: I0074d375be9350b51bde526e69c77e9d2b29c63b\n'}]",1,509680,f646020b051184b76e9420a28394fad54690bb4e,11,4,1,1004,,,0,"Switch release note publish jobs to use the correct path

This path that the release note jobs publishes things to is
different than the one in the refactored job.

Depends-On: If6ee519c33320db91f8a9553ed4abc099c284eec
Change-Id: I0074d375be9350b51bde526e69c77e9d2b29c63b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/80/509680/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/publish/releasenotes.yaml'],1,f646020b051184b76e9420a28394fad54690bb4e,zuulv3-releasenotes-job," sphinx_output_src: ""{{ zuul.project.src_dir }}/releasenotes/build/html/"""," sphinx_output_src: ""{{ zuul.project.src_dir }}/doc/build/html/""",1,1
openstack%2Fpuppet-murano~master~I9ab726acd9f05e079c386ea4f5cab68811124f94,openstack/puppet-murano,master,I9ab726acd9f05e079c386ea4f5cab68811124f94,"dnm, testing release jobs",ABANDONED,2017-10-04 17:35:54.000000000,2017-10-05 15:09:19.000000000,,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 17:35:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/a874466f058ed9b908da1f602d528dbc4e8dbb8d', 'message': 'dnm, testing release jobs\n\nDepends-On: I811ffa1aa9fdaf1e8acafa4959874df32a8558ab\nChange-Id: I9ab726acd9f05e079c386ea4f5cab68811124f94\n'}, {'number': 2, 'created': '2017-10-04 22:54:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/d0b38d458d227a6a9635a89f352489343ab40eb6', 'message': 'dnm, testing release jobs\n\nDepends-On: I811ffa1aa9fdaf1e8acafa4959874df32a8558ab\nChange-Id: I9ab726acd9f05e079c386ea4f5cab68811124f94\n'}, {'number': 3, 'created': '2017-10-04 23:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/75e7d47960baef130ed0236e5612b728a43ec332', 'message': 'dnm, testing release jobs\n\nDepends-On: I811ffa1aa9fdaf1e8acafa4959874df32a8558ab\nDepends-On: I6965257ae839ffff2da33ac481d94fd7846959d8\nChange-Id: I9ab726acd9f05e079c386ea4f5cab68811124f94\n'}, {'number': 4, 'created': '2017-10-04 23:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/9157dec92a47fdc67f5f836b370526d8e61ae49b', 'message': 'dnm, testing release jobs\n\nChange-Id: I9ab726acd9f05e079c386ea4f5cab68811124f94\n'}, {'number': 5, 'created': '2017-10-04 23:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/538944435ef416e4d5c28d55c260e4e0ecb2c0f8', 'message': 'dnm, testing release jobs\n\nDepends-On: Iaeba441f8afd9008ef5b0989f95f4a2a5383afda\nChange-Id: I9ab726acd9f05e079c386ea4f5cab68811124f94\n'}, {'number': 6, 'created': '2017-10-05 00:48:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/3bc68ba1fea331b196a432d651f52181d1789cc0', 'message': 'dnm, testing release jobs\n\nDepends-On: I811ffa1aa9fdaf1e8acafa4959874df32a8558ab\nChange-Id: I9ab726acd9f05e079c386ea4f5cab68811124f94\n'}, {'number': 7, 'created': '2017-10-05 01:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/17d655343824736bd89c37783b046b4dd6f2e6ce', 'message': 'dnm, testing release jobs\n\nDepends-On: If6ee519c33320db91f8a9553ed4abc099c284eec\nChange-Id: I9ab726acd9f05e079c386ea4f5cab68811124f94\n'}, {'number': 8, 'created': '2017-10-05 02:52:37.000000000', 'files': ['releasenotes/notes/wip-dnm-test-092c60627be96f63.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/668cb94988ac77b3b19ca61b59ef5f15ecd1f60a', 'message': 'dnm, testing release jobs\n\nDepends-On: I3fb4e8b3ad93546debba726953acce18d33538f8\nChange-Id: I9ab726acd9f05e079c386ea4f5cab68811124f94\n'}]",0,509563,668cb94988ac77b3b19ca61b59ef5f15ecd1f60a,21,3,8,1004,,,0,"dnm, testing release jobs

Depends-On: I3fb4e8b3ad93546debba726953acce18d33538f8
Change-Id: I9ab726acd9f05e079c386ea4f5cab68811124f94
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/63/509563/8 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/wip-dnm-test-092c60627be96f63.yaml'],1,a874466f058ed9b908da1f602d528dbc4e8dbb8d,zuulv3-releasenotes-job,"--- prelude: > Replace this text with content to appear at the top of the section for this release. All of the prelude content is merged together and then rendered separately from the items listed in other parts of the file, so the text needs to be worded so that both the prelude and the other items make sense when read independently. This may mean repeating some details. Not every release note requires a prelude. Usually only notes describing major features or adding release theme details should have a prelude. features: - | List new features here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. issues: - | List known issues here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. upgrade: - | List upgrade notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. deprecations: - | List deprecations notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. critical: - | Add critical notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. security: - | Add security notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. fixes: - | Add normal bug fixes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. other: - | Add other notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. ",,65,0
openstack%2Ftripleo-ui~master~Id6fd0da41bb75caca721ea6082603501670c36b8,openstack/tripleo-ui,master,Id6fd0da41bb75caca721ea6082603501670c36b8,App config and I18n selectors refactor,MERGED,2017-08-16 09:09:56.000000000,2017-10-05 15:01:42.000000000,2017-10-05 15:01:42.000000000,"[{'_account_id': 3}, {'_account_id': 7509}, {'_account_id': 10112}, {'_account_id': 17888}, {'_account_id': 20970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-08-16 09:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/d4100055673bdfcdf1cf34f379d8b10cf77c5f29', 'message': 'App config and I18n selectors refactor\n\n* store appConfig in app store on application initialization\n  so it is easily accessible\n* move getEnabledLanguages from services/utils into i18n selectors\n* do not duplicate messages in the state - the source is\n  components/i18n/messages.js\n* convert i18n components to receive current language and available\n  languages from store using selectors\n\nChange-Id: Id6fd0da41bb75caca721ea6082603501670c36b8\n'}, {'number': 2, 'created': '2017-08-16 11:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/2b75a0db9d12709b98632bebfc96674aa51483df', 'message': 'App config and I18n selectors refactor\n\n* store appConfig in app store on application initialization\n  so it is easily accessible\n* move getEnabledLanguages from services/utils into i18n selectors\n* do not duplicate messages in the state - the source is\n  components/i18n/messages.js\n* convert i18n components to receive current language and available\n  languages from store using selectors\n\nChange-Id: Id6fd0da41bb75caca721ea6082603501670c36b8\n'}, {'number': 3, 'created': '2017-09-18 09:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/c5b126cd2a89193b865693afb29806db2e9783e7', 'message': 'App config and I18n selectors refactor\n\n* store appConfig in app store on application initialization\n  so it is easily accessible\n* move getEnabledLanguages from services/utils into i18n selectors\n* do not duplicate messages in the state - the source is\n  components/i18n/messages.js\n* convert i18n components to receive current language and available\n  languages from store using selectors\n\nChange-Id: Id6fd0da41bb75caca721ea6082603501670c36b8\n'}, {'number': 4, 'created': '2017-09-18 09:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/a9931a146faa197d01b2afb90e08b0a225385bbf', 'message': 'App config and I18n selectors refactor\n\n* store appConfig in app store on application initialization\n  so it is easily accessible\n* move getEnabledLanguages from services/utils into i18n selectors\n* do not duplicate messages in the state - the source is\n  components/i18n/messages.js\n* convert i18n components to receive current language and available\n  languages from store using selectors\n\nChange-Id: Id6fd0da41bb75caca721ea6082603501670c36b8\n'}, {'number': 5, 'created': '2017-09-19 06:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/ff745a1606b8c2e51daad718f55d0291e2a3b5dc', 'message': 'App config and I18n selectors refactor\n\n* store appConfig in app store on application initialization\n  so it is easily accessible\n* move getEnabledLanguages from services/utils into i18n selectors\n* do not duplicate messages in the state - the source is\n  components/i18n/messages.js\n* convert i18n components to receive current language and available\n  languages from store using selectors\n\nChange-Id: Id6fd0da41bb75caca721ea6082603501670c36b8\n'}, {'number': 6, 'created': '2017-09-27 23:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/99784991b5f2b93db144608980cf3ea67a682747', 'message': 'App config and I18n selectors refactor\n\n* store appConfig in app store on application initialization\n  so it is easily accessible\n* move getEnabledLanguages from services/utils into i18n selectors\n* do not duplicate messages in the state - the source is\n  components/i18n/messages.js\n* convert i18n components to receive current language and available\n  languages from store using selectors\n\nChange-Id: Id6fd0da41bb75caca721ea6082603501670c36b8\n'}, {'number': 7, 'created': '2017-09-28 08:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/0ee326b669a655aa66c169c7a8fe4d375b47ac35', 'message': 'App config and I18n selectors refactor\n\n* store appConfig in app store on application initialization\n  so it is easily accessible\n* move getEnabledLanguages from services/utils into i18n selectors\n* do not duplicate messages in the state - the source is\n  components/i18n/messages.js\n* convert i18n components to receive current language and available\n  languages from store using selectors\n\nChange-Id: Id6fd0da41bb75caca721ea6082603501670c36b8\n'}, {'number': 8, 'created': '2017-09-29 09:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/d45301e63d4dd30d0784777ee498cf75dc0b405f', 'message': 'App config and I18n selectors refactor\n\n* store appConfig in app store on application initialization\n  so it is easily accessible\n* move getEnabledLanguages from services/utils into i18n selectors\n* do not duplicate messages in the state - the source is\n  components/i18n/messages.js\n* convert i18n components to receive current language and available\n  languages from store using selectors\n\nChange-Id: Id6fd0da41bb75caca721ea6082603501670c36b8\n'}, {'number': 9, 'created': '2017-10-05 10:52:24.000000000', 'files': ['src/js/services/utils.js', 'src/js/components/AuthenticatedContent.js', 'bin/run_tests.sh', 'src/js/store.js', 'src/js/components/NavBar.js', 'src/js/reducers/i18nReducer.js', 'src/js/selectors/i18n.js', 'src/js/components/login/LanguageInput.js', 'src/js/components/login/Login.js', 'src/js/reducers/appConfig.js', 'src/js/actions/I18nActions.js', 'src/js/immutableRecords/appConfig.js', 'package.json', 'src/js/components/i18n/I18nDropdown.js', 'src/js/reducers/appReducer.js', 'src/js/components/i18n/I18nProvider.js'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/d0a6bfddd2940fc445bebae6ffa564fd064abf22', 'message': 'App config and I18n selectors refactor\n\n* store appConfig in app store on application initialization\n  so it is easily accessible\n* move getEnabledLanguages from services/utils into i18n selectors\n* do not duplicate messages in the state - the source is\n  components/i18n/messages.js\n* convert i18n components to receive current language and available\n  languages from store using selectors\n\nChange-Id: Id6fd0da41bb75caca721ea6082603501670c36b8\n'}]",5,494141,d0a6bfddd2940fc445bebae6ffa564fd064abf22,40,6,9,7509,,,0,"App config and I18n selectors refactor

* store appConfig in app store on application initialization
  so it is easily accessible
* move getEnabledLanguages from services/utils into i18n selectors
* do not duplicate messages in the state - the source is
  components/i18n/messages.js
* convert i18n components to receive current language and available
  languages from store using selectors

Change-Id: Id6fd0da41bb75caca721ea6082603501670c36b8
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/41/494141/8 && git format-patch -1 --stdout FETCH_HEAD,"['src/js/services/utils.js', 'src/js/components/AuthenticatedContent.js', 'src/js/store.js', 'src/js/components/NavBar.js', 'src/js/reducers/i18nReducer.js', 'config/tripleo_ui_config.js.sample', 'src/js/selectors/i18n.js', 'src/js/components/login/LanguageInput.js', 'src/js/components/login/Login.js', 'src/js/reducers/appConfig.js', 'src/js/actions/I18nActions.js', 'src/js/immutableRecords/appConfig.js', 'src/js/components/i18n/I18nDropdown.js', 'src/js/reducers/appReducer.js', 'src/js/components/i18n/I18nProvider.js']",15,d4100055673bdfcdf1cf34f379d8b10cf77c5f29,3servicesUtils,"import { LOCALE_DATA } from './messages'; import { getCurrentLanguage, getCurrentLanguageMessages } from '../../selectors/i18n'; this.props.detectLanguage(); language: getCurrentLanguage(state), messages: getCurrentLanguageMessages(state)","import { MESSAGES, LOCALE_DATA } from './messages'; import { getLanguage, getMessages } from '../../selectors/i18n'; this.props.detectLanguage(MESSAGES); language: getLanguage(state), messages: getMessages(state)",123,89
openstack%2Fpuppet-nova~stable%2Focata~Id22a6c990f424b9f3ca6159088540ea207460ffd,openstack/puppet-nova,stable/ocata,Id22a6c990f424b9f3ca6159088540ea207460ffd,Expose my_ip,MERGED,2017-10-04 21:35:39.000000000,2017-10-05 15:01:19.000000000,2017-10-05 15:01:19.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 23811}]","[{'number': 1, 'created': '2017-10-04 21:35:39.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/badc92279282986cd2fe1b3374d8c7969b5fb9c7', 'message': 'Expose my_ip\n\nIf not set this defaults to the autodetecting the IP address of the interface\nwith a default gateway. This may not be the correct network for management\ntraffic when multiple nics are used.\n\nChange-Id: Id22a6c990f424b9f3ca6159088540ea207460ffd\n(cherry picked from commit 4113aa73afda563c6844195d916359da161df9e4)\n'}]",0,509647,badc92279282986cd2fe1b3374d8c7969b5fb9c7,11,5,1,23811,,,0,"Expose my_ip

If not set this defaults to the autodetecting the IP address of the interface
with a default gateway. This may not be the correct network for management
traffic when multiple nics are used.

Change-Id: Id22a6c990f424b9f3ca6159088540ea207460ffd
(cherry picked from commit 4113aa73afda563c6844195d916359da161df9e4)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/47/509647/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,badc92279282986cd2fe1b3374d8c7969b5fb9c7,," :my_ip => '192.0.2.1', it 'configures my_ip' do is_expected.to contain_nova_config('DEFAULT/my_ip').with_value('192.0.2.1') end ",,13,0
openstack%2Fcharms.openstack~master~Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34,openstack/charms.openstack,master,Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34,Add snap support,MERGED,2017-10-02 14:29:42.000000000,2017-10-05 15:00:12.000000000,2017-10-04 12:17:16.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 11805}, {'_account_id': 13686}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 14:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/878894508fcff4b3b851d931046d20bff3a72a4a', 'message': 'Add snap support\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 2, 'created': '2017-10-02 23:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/e39a6df778030fa996a33fadf4913e4cb6bdf1ce', 'message': 'Add snap support\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 3, 'created': '2017-10-03 09:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/30e9a4faffc51b956057960ddd09b51c94204acf', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 4, 'created': '2017-10-03 09:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/cd2817c4e3c2f340b58a1d43228ce309a51ff721', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 5, 'created': '2017-10-03 10:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/822bb638fffccfaec991c65cdb715c24e9573bfa', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 6, 'created': '2017-10-03 12:41:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/c362c40be960d6d4868458e81977df313e1301c5', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 7, 'created': '2017-10-03 14:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/9cef6dd353eb48f6950502583457d70b95316a82', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 8, 'created': '2017-10-03 15:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/afc063fa6e89dc32c21e47733c31fdfcf2ce1b2f', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 9, 'created': '2017-10-03 15:46:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/ce319b9ebfa1b76f117a56ccf1b93fa8a6fa84df', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 10, 'created': '2017-10-03 15:47:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/8c1c3c33943e0019e1f4ee718393f093e436c326', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 11, 'created': '2017-10-04 10:04:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/f5aaeabec446fd8e8e808c62ab74ee22ccca0dcc', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 12, 'created': '2017-10-04 11:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/2a4f205d07123ff1b7284078ce328fe1cecde583', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}, {'number': 13, 'created': '2017-10-04 11:36:11.000000000', 'files': ['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/classes.py', 'charms_openstack/charm/defaults.py', 'charms_openstack/adapters.py', 'charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/e8e7f83d00e9f78a34eb7d6542585534e319262e', 'message': 'Add snap support\n\nUpdate core charms.openstack classes to support installation\nfrom snap as an alternative to installation from deb packages.\n\nChange-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34\n'}]",10,508895,e8e7f83d00e9f78a34eb7d6542585534e319262e,27,5,13,11805,,,0,"Add snap support

Update core charms.openstack classes to support installation
from snap as an alternative to installation from deb packages.

Change-Id: Ia2dc6975bdb4809a3cd69b5fae8124d8f7808a34
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/95/508895/5 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/classes.py', 'charms_openstack/charm/core.py']",2,878894508fcff4b3b851d931046d20bff3a72a4a,snap-support," :param package: str Package name to lookup (ie. in apt cache) :param codenames: dict of OrderedDict eg (not applicable for snap pkgs) if os_utils.snap_install_requested(): cmd = ['snap', 'list', package] try: out = subprocess.check_output(cmd) except subprocess.CalledProcessError as e: return None lines = out.split('\n') for line in lines: if package in line: # Second item in list is Version return line.split()[1] def get_os_version_package(self, snap, fatal=True): # NOTE(coreycb): Add support for get_os_version_snap return if not os_utils.snap_install_requested(): codenames = self.package_codenames or os_utils.PACKAGE_CODENAMES codename = self.get_os_codename_package( package, codenames, fatal=fatal) if not codename: return None vers_map = os_utils.OPENSTACK_CODENAMES for version, cname in vers_map.items(): if cname == codename: return version @property def all_snap_packages(self): """"""List of packages to be installed Relies on the class variable 'packages' @return ['pkg1', 'pkg2', ...] return self.snap_packages @property def all_snaps(self): """"""List of snaps to be installed Relies on the class variable 'snaps' @return ['snap1', 'snap2', ...] """""" return self.snaps def install(self): """"""Install packages or snaps related to this charm based on contents of self.packages or self.snaps attribute. """""" if os_utils.snap_install_requested(): snaps = self.all_snaps if snaps: hookenv.status_set('maintenance', 'Installing snaps') os_utils.install_os_snaps( os_utils.get_snaps_install_info_from_origin( snaps, self.config['openstack-origin'], mode='devmode')) packages = fetch.filter_installed_packages( self.all_snap_packages) if packages: hookenv.status_set('maintenance', 'Installing packages') fetch.apt_install(packages, fatal=True) else: packages = fetch.filter_installed_packages( self.all_packages) if packages: hookenv.status_set('maintenance', 'Installing packages') fetch.apt_install(packages, fatal=True) if not os_utils.snap_install_requested(): fetch.apt_update(fatal=True) if os_utils.snap_install_requested(): return self.snap_restart_map else: return self.restart_map if os_utils.snap_install_requested(): for svc in self.snap_services: ch_host.service_restart(svc) else: for svc in self.services: ch_host.service_restart(svc) if os_utils.snap_install_requested(): subprocess.check_call(self.snap_sync_cmd) else: subprocess.check_call(self.sync_cmd) if os_utils.snap_install_requested(): # NOTE(coreycb): Add snap upgrade support return False else: apt.init() return apt.version_compare(avail_vers, cur_vers) == 1 if os_utils.snap_install_requested(): subprocess.check_call(self.snap_sync_cmd) else: subprocess.check_call(self.sync_cmd) def snap_install_requested(self): """"""This currently is not used. Switch from c-h function to this for better performance?"""""" return self.options.openstack_origin.startswith('snap:') "," :param package: str Package name to lookup in apt cache :param codenames: dict of OrderedDict eg codenames = self.package_codenames or os_utils.PACKAGE_CODENAMES codename = self.get_os_codename_package( package, codenames, fatal=fatal) if not codename: return None vers_map = os_utils.OPENSTACK_CODENAMES for version, cname in vers_map.items(): if cname == codename: return version def install(self): """"""Install packages related to this charm based on contents of self.packages attribute. packages = fetch.filter_installed_packages( self.all_packages) if packages: hookenv.status_set('maintenance', 'Installing packages') fetch.apt_install(packages, fatal=True) fetch.apt_update(fatal=True) return self.restart_map for svc in self.services: ch_host.service_restart(svc) subprocess.check_call(self.sync_cmd) apt.init() return apt.version_compare(avail_vers, cur_vers) == 1 subprocess.check_call(self.sync_cmd)",263,93
openstack%2Fcharm-ceph-mon~master~Iced246b79572142df5608bf731b6b2759ea81fd0,openstack/charm-ceph-mon,master,Iced246b79572142df5608bf731b6b2759ea81fd0,Add ceph-bootstrap relation for ceph charm migration,MERGED,2017-09-14 21:11:48.000000000,2017-10-05 14:57:41.000000000,2017-10-05 14:43:35.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-14 21:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/9a19783c249c69aea2ba91231af8ef4b96c78fc4', 'message': 'Add ceph-bootstrap relation for ceph charm migration\n\nThis commit adds the no-bootstrap config option and a new relation\nfor sharing existing monitor information with the ceph-mon charm\n(e.g. the fsid and monitor-secret).\n\nChange-Id: Iced246b79572142df5608bf731b6b2759ea81fd0\nImplements-Blueprint: charm-ceph-migration\n'}, {'number': 2, 'created': '2017-09-14 21:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/477ba99f70234f47ade773ac72fd24f0c1a2f9f9', 'message': 'Add ceph-bootstrap relation for ceph charm migration\n\nThis commit adds the no-bootstrap config option and a new relation\nfor sharing existing monitor information with the ceph-mon charm\n(e.g. the fsid and monitor-secret).\n\nChange-Id: Iced246b79572142df5608bf731b6b2759ea81fd0\nImplements-Blueprint: charm-ceph-migration\n'}, {'number': 3, 'created': '2017-09-15 21:37:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/788e11d5c8830a459ae22b28cffb958f46aeeb6c', 'message': 'Add ceph-bootstrap relation for ceph charm migration\n\nThis commit adds the no-bootstrap config option and a new relation\nfor sharing existing monitor information with the ceph-mon charm\n(e.g. the fsid and monitor-secret).\n\nChange-Id: Iced246b79572142df5608bf731b6b2759ea81fd0\nImplements-Blueprint: charm-ceph-migration\n'}, {'number': 4, 'created': '2017-09-17 06:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/2679a4c60eb05fd28130b3eeeb2b62aca8e66c34', 'message': 'Add ceph-bootstrap relation for ceph charm migration\n\nThis commit adds the no-bootstrap config option and a new relation\nfor sharing existing monitor information with the ceph-mon charm\n(e.g. the fsid and monitor-secret).\n\nChange-Id: Iced246b79572142df5608bf731b6b2759ea81fd0\nImplements-Blueprint: charm-ceph-migration\n'}, {'number': 5, 'created': '2017-09-18 09:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f48b4ece5aeedad206fe8e956ac622b51efecfee', 'message': 'Add ceph-bootstrap relation for ceph charm migration\n\nThis commit adds the no-bootstrap config option and a new relation\nfor sharing existing monitor information with the ceph-mon charm\n(e.g. the fsid and monitor-secret).\n\nChange-Id: Iced246b79572142df5608bf731b6b2759ea81fd0\nImplements-Blueprint: charm-ceph-migration\n'}, {'number': 6, 'created': '2017-10-03 04:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/30ef1297112a6124a1d0c9933ea9a359327a0dff', 'message': 'Add ceph-bootstrap relation for ceph charm migration\n\nThis commit adds the no-bootstrap config option and a new relation\nfor sharing existing monitor information with the ceph-mon charm\n(e.g. the fsid and monitor-secret).\n\nChange-Id: Iced246b79572142df5608bf731b6b2759ea81fd0\nImplements-Blueprint: charm-ceph-migration\n'}, {'number': 7, 'created': '2017-10-03 04:11:29.000000000', 'files': ['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py', 'unit_tests/test_utils.py', 'hooks/bootstrap-source-relation-changed', 'hooks/leader-settings-changed', 'config.yaml', 'hooks/bootstrap-source-relation-departed', 'unit_tests/test_status.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/e7964d40c8e6a908373abd8642ac47eae9f876a4', 'message': 'Add ceph-bootstrap relation for ceph charm migration\n\nThis commit adds the no-bootstrap config option and a new relation\nfor sharing existing monitor information with the ceph-mon charm\n(e.g. the fsid and monitor-secret).\n\nChange-Id: Iced246b79572142df5608bf731b6b2759ea81fd0\nImplements-Blueprint: charm-ceph-migration\n'}]",2,504236,e7964d40c8e6a908373abd8642ac47eae9f876a4,33,7,7,8992,,,0,"Add ceph-bootstrap relation for ceph charm migration

This commit adds the no-bootstrap config option and a new relation
for sharing existing monitor information with the ceph-mon charm
(e.g. the fsid and monitor-secret).

Change-Id: Iced246b79572142df5608bf731b6b2759ea81fd0
Implements-Blueprint: charm-ceph-migration
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/36/504236/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'config.yaml', 'metadata.yaml']",3,9a19783c249c69aea2ba91231af8ef4b96c78fc4,charm-ceph-migration,requires: bootstrap-source: interface: ceph-bootstrap,,66,0
openstack%2Fpuppet-neutron~master~I5cd9ce7d4ad7c8c723aee9abd98495c979265b48,openstack/puppet-neutron,master,I5cd9ce7d4ad7c8c723aee9abd98495c979265b48,Switch neutron auth provider to keystone v3,MERGED,2017-10-04 13:53:09.000000000,2017-10-05 14:48:39.000000000,2017-10-05 06:50:07.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-10-04 13:53:09.000000000', 'files': ['spec/unit/provider/neutron_spec.rb', 'lib/puppet/provider/neutron.rb', 'releasenotes/notes/switch-keystone-to-v3-8c2c2111fe29c57c.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/ade98626f79f978473794370881d8bf1754d7c9a', 'message': 'Switch neutron auth provider to keystone v3\n\nUntil neutron auth provider has been implicitely using\nkeystone v2.0 by not declaring DOMAIN variables. Now\nNow, api v2.0 is being deprecated and we need to use\nAPI v3.\n\nChange-Id: I5cd9ce7d4ad7c8c723aee9abd98495c979265b48\n'}]",0,509469,ade98626f79f978473794370881d8bf1754d7c9a,9,5,1,16312,,,0,"Switch neutron auth provider to keystone v3

Until neutron auth provider has been implicitely using
keystone v2.0 by not declaring DOMAIN variables. Now
Now, api v2.0 is being deprecated and we need to use
API v3.

Change-Id: I5cd9ce7d4ad7c8c723aee9abd98495c979265b48
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/69/509469/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/neutron_spec.rb', 'lib/puppet/provider/neutron.rb', 'releasenotes/notes/switch-keystone-to-v3-8c2c2111fe29c57c.yaml']",3,ade98626f79f978473794370881d8bf1754d7c9a,,--- features: - | neutron auth provider has been switch to use keystone API v3. ,,29,17
openstack%2Ftripleo-specs~master~Ibb81226e3d4f21a7b2d5e79e841e40417ec27bf0,openstack/tripleo-specs,master,Ibb81226e3d4f21a7b2d5e79e841e40417ec27bf0,Move network configuration spec from pike to queens,MERGED,2017-09-15 16:22:12.000000000,2017-10-05 14:47:25.000000000,2017-10-05 14:47:25.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 10873}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-15 16:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/c9666ed626d6c415d4f87ffc02f8ecacfce48be5', 'message': 'Move network configuration spec from pike to queens\n\nChange-Id: Ibb81226e3d4f21a7b2d5e79e841e40417ec27bf0\n'}, {'number': 2, 'created': '2017-10-04 14:50:42.000000000', 'files': ['doc/source/index.rst', 'specs/queens/network-configuration.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-specs/commit/3c7dc4f84724a2dd577ba692952e39ccbb7af0c3', 'message': 'Move network configuration spec from pike to queens\n\nChange-Id: Ibb81226e3d4f21a7b2d5e79e841e40417ec27bf0\n'}]",0,504448,3c7dc4f84724a2dd577ba692952e39ccbb7af0c3,12,4,2,10112,,,0,"Move network configuration spec from pike to queens

Change-Id: Ibb81226e3d4f21a7b2d5e79e841e40417ec27bf0
",git fetch https://review.opendev.org/openstack/tripleo-specs refs/changes/48/504448/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/queens/network-configuration.rst']",2,c9666ed626d6c415d4f87ffc02f8ecacfce48be5,move_to_queens,,,9,0
openstack%2Ftripleo-common~master~Ic1edc16efe7620962829c06594b47148a511536e,openstack/tripleo-common,master,Ic1edc16efe7620962829c06594b47148a511536e,Fixup upgrade-non-controller to also accept IP address,MERGED,2017-09-20 13:22:37.000000000,2017-10-05 14:46:54.000000000,2017-10-05 13:00:04.000000000,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 8871}, {'_account_id': 11166}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-20 13:22:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4f15c995994700ea5a7848f0a47ff15f5aac7d99', 'message': 'Fixup upgrade-non-controller to also accept IP address\n\nFor the P cycle and the upgrade of non controller nodes we should\nalso accept IP address as well as nova name/uuid to deal with\nsplit-stack environments.\n\nChange-Id: Ic1edc16efe7620962829c06594b47148a511536e\n'}, {'number': 2, 'created': '2017-09-21 12:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d54dd48e82c90a91c5a924c322b266e0dc943fc7', 'message': 'Fixup upgrade-non-controller to also accept IP address\n\nFor the P cycle and the upgrade of non controller nodes we should\nalso accept IP address as well as nova name/uuid to deal with\nsplit-stack environments.\n\nRelated-Bug: TODO\nChange-Id: Ic1edc16efe7620962829c06594b47148a511536e\n'}, {'number': 3, 'created': '2017-09-21 12:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bfba693f0b6c0293a5e8f65f4ba66900c283c0b3', 'message': 'Fixup upgrade-non-controller to also accept IP address\n\nFor the P cycle and the upgrade of non controller nodes we should\nalso accept IP address as well as nova name/uuid to deal with\nsplit-stack environments.\n\nRelated-Bug: 1718657\nChange-Id: Ic1edc16efe7620962829c06594b47148a511536e\n'}, {'number': 4, 'created': '2017-09-29 13:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/69f2c5e812515ff161ef4bbaf4858dfcb6dd2105', 'message': 'Fixup upgrade-non-controller to also accept IP address\n\nFor the P cycle and the upgrade of non controller nodes we should\nalso accept IP address as well as nova name/uuid to deal with\nsplit-stack environments.\n\nRelated-Bug: 1718657\nChange-Id: Ic1edc16efe7620962829c06594b47148a511536e\n'}, {'number': 5, 'created': '2017-10-03 13:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/63a5c311f975ba6ba75e89a46942f77ce8a69b3b', 'message': 'Fixup upgrade-non-controller to also accept IP address\n\nFor the P cycle and the upgrade of non controller nodes we should\nalso accept IP address as well as nova name/uuid to deal with\nsplit-stack environments.\n\nRelated-Bug: 1718657\nChange-Id: Ic1edc16efe7620962829c06594b47148a511536e\n'}, {'number': 6, 'created': '2017-10-03 13:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8ea96c9e003f7e5b4fe8d1c5f637d2569490b877', 'message': 'Fixup upgrade-non-controller to also accept IP address\n\nFor the P cycle and the upgrade of non controller nodes we should\nalso accept IP address as well as nova name/uuid to deal with\nsplit-stack environments.\n\nRelated-Bug: 1718657\nChange-Id: Ic1edc16efe7620962829c06594b47148a511536e\n'}, {'number': 7, 'created': '2017-10-03 13:38:21.000000000', 'files': ['scripts/upgrade-non-controller.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bfb9f2962fd4933e9588a3b864f5fb538e561629', 'message': 'Fixup upgrade-non-controller to also accept IP address\n\nFor the P cycle and the upgrade of non controller nodes we should\nalso accept IP address as well as nova name/uuid to deal with\nsplit-stack environments.\n\nRelated-Bug: 1718657\nChange-Id: Ic1edc16efe7620962829c06594b47148a511536e\n'}]",21,505624,bfb9f2962fd4933e9588a3b864f5fb538e561629,58,12,7,8449,,,0,"Fixup upgrade-non-controller to also accept IP address

For the P cycle and the upgrade of non controller nodes we should
also accept IP address as well as nova name/uuid to deal with
split-stack environments.

Related-Bug: 1718657
Change-Id: Ic1edc16efe7620962829c06594b47148a511536e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/505624/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/upgrade-non-controller.sh'],1,4f15c995994700ea5a7848f0a47ff15f5aac7d99,Ic1edc16efe7620962829c06594b47148a511536e,"TEMP=`getopt -o h,u:,q: -l help,upgrade:,query:,script: -n $SCRIPT_NAME -- ""$@""`function find_node_by_name_id_or_ip { name_id_or_ip=$1 # First try as a nova node name or UUID. Could also be an IP (split stack) set +e # dont want to fail if if nova or ping does below node_status=$(openstack server show $name_id_or_ip -f value -c status) log ""$name_id_or_ip not known to nova. Trying it as an IP address"" # then try as an IP if [[ $(ping -c1 $name_id_or_ip) ]]; then set -e hostname=$(ssh $UPGRADE_NODE_USER@$name_id_or_ip hostname) log ""node with address $name_id_or_ip found with hostname $hostname"" echo $hostname else set -e log ""ERROR $name_id_or_ip not known to nova and not reachable as an IP address Exiting"" exit 1 fi else log ""nova node $name_id_or_ip found with status $node_status"" echo $(openstack server show $name_id_or_ip -f value -c name) fi set -e } function find_node_ip_addr { name_id_or_ip=$1 #first lets ask nova: set +e addr_string=$(openstack server show $name_id_or_ip -f value -c addresses) if [[ -n $addr_string ]]; then echo ${addr_string#*=} # remove the ctlpane from ctlplane=192.168.24.11 elif [[ $(ping -c1 $name_id_or_ip) ]]; then echo $name_id_or_ip else log ""ERROR cannot discover IP address for $name_id_or_ip Exiting"" set -e target_host=$(find_node_by_name_id_or_ip $UPGRADE_NODE) node_ip=$(find_node_ip_addr $UPGRADE_NODE) find_node_by_name_id_or_ip $QUERY_NODE node_ip=$(find_node_ip_addr $QUERY_NODE)","TEMP=`getopt -o h,u:,q:,s: -l help,upgrade:,query:,script: -n $SCRIPT_NAME -- ""$@""`function find_nova_node_by_name_or_id { name_or_id=$1 node_status=$(openstack server show $name_or_id -f value -c status) log ""ERROR: node $name_or_id not found to be ACTIVE. Current status is $node_status"" log ""nova node $name_or_id found with status $node_status"" } function confirm_script_on_node { name_or_id=$1 node_ip=$(nova show $name_or_id | grep ""ctlplane network"" | awk '{print $5}') log ""checking for upgrade script $UPGRADE_SCRIPT on node $name_or_id ($node_ip)"" results=$(ssh $UPGRADE_NODE_USER@$node_ip ""sudo ls -l $UPGRADE_SCRIPT"") log ""upgrade script $UPGRADE_SCRIPT found on node $name_or_id ($node_ip)"" } function deliver_script { script=$1 node=$2 node_ip=$(nova show $node | grep ""ctlplane network"" | awk '{print $5}') file_name=$(echo ${script##*/}) log ""Sending upgrade script $script to $node_ip as $UPGRADE_NODE_USER"" scp $script $UPGRADE_NODE_USER@$node_ip:/home/$UPGRADE_NODE_USER/$file_name log ""Copying upgrade script to right location and setting permissions"" ssh $UPGRADE_NODE_USER@$node_ip ""sudo cp /home/$UPGRADE_NODE_USER/$file_name $UPGRADE_SCRIPT ; \ sudo chmod 755 $UPGRADE_SCRIPT ; "" find_nova_node_by_name_or_id $UPGRADE_NODE if [ -n ""$SCRIPT"" ]; then deliver_script $SCRIPT $UPGRADE_NODE fi confirm_script_on_node $UPGRADE_NODE node_ip=$(nova show $UPGRADE_NODE | grep ""ctlplane network"" | awk '{print $5}') target_host=$(openstack server list | grep $UPGRADE_NODE | awk '{print $4}') find_nova_node_by_name_or_id $QUERY_NODE confirm_script_on_node $QUERY_NODE node_ip=$(nova show $QUERY_NODE | grep ""ctlplane network"" | awk '{print $5}')",41,36
openstack%2Fzun~master~I426298816e1144c66fd13f21949afdb058bce9cb,openstack/zun,master,I426298816e1144c66fd13f21949afdb058bce9cb,Check glance is enabled or not,MERGED,2017-09-28 08:39:59.000000000,2017-10-05 14:45:20.000000000,2017-10-05 14:45:20.000000000,"[{'_account_id': 3}, {'_account_id': 10206}, {'_account_id': 11536}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-09-28 08:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/2c950a6ba1bc49983854bf35c578759b053b51df', 'message': 'Check glance is enabled or not\n\nCheck glance is enabled or not before upload sandbox\nimage to glance.\n\nChange-Id: I426298816e1144c66fd13f21949afdb058bce9cb\nCloses-Bug: #1650245\n'}, {'number': 2, 'created': '2017-09-28 08:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/e67c045da8c2df4498dcf7477fb705b36ead739c', 'message': 'Check glance is enabled or not\n\n- Check glance is enabled or not before upload sandbox\nimage to glance.\n- Remove unused function is_zun_enabled.\n\nChange-Id: I426298816e1144c66fd13f21949afdb058bce9cb\nCloses-Bug: #1650245\n'}, {'number': 3, 'created': '2017-09-28 08:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/fb3b62aa67f2ff6114ce783c56c15d6a5f59ad7b', 'message': 'Check glance is enabled or not\n\n- Check glance is enabled or not before upload sandbox\nimage to glance.\n- Remove unused function is_zun_enabled.\n\nChange-Id: I426298816e1144c66fd13f21949afdb058bce9cb\nCloses-Bug: #1650245\n'}, {'number': 4, 'created': '2017-09-28 16:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/764b8f67448f8d74c6e1fc7830be80ea80a67bdb', 'message': 'Check glance is enabled or not\n\n- Check glance is enabled or not before upload sandbox\nimage to glance.\n- Remove unused function is_zun_enabled.\n\nChange-Id: I426298816e1144c66fd13f21949afdb058bce9cb\nCloses-Bug: #1650245\n'}, {'number': 5, 'created': '2017-10-05 04:19:14.000000000', 'files': ['devstack/lib/zun'], 'web_link': 'https://opendev.org/openstack/zun/commit/8fa8843dbcbd2677b321710fb8941c9f7341ef77', 'message': 'Check glance is enabled or not\n\n- Check glance is enabled or not before upload sandbox\nimage to glance.\n- Remove unused function is_zun_enabled.\n\nChange-Id: I426298816e1144c66fd13f21949afdb058bce9cb\nCloses-Bug: #1650245\n'}]",0,508088,8fa8843dbcbd2677b321710fb8941c9f7341ef77,24,5,5,22406,,,0,"Check glance is enabled or not

- Check glance is enabled or not before upload sandbox
image to glance.
- Remove unused function is_zun_enabled.

Change-Id: I426298816e1144c66fd13f21949afdb058bce9cb
Closes-Bug: #1650245
",git fetch https://review.opendev.org/openstack/zun refs/changes/88/508088/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/zun'],1,2c950a6ba1bc49983854bf35c578759b053b51df,bug/1650245," if [ ${ZUN_DRIVER} == ""docker"" ] && [ is_service_enabled g-api ]; then"," if [[ ${ZUN_DRIVER} == ""docker"" ]]; then",1,1
openstack%2Fcinder~master~I5da2758307a0a05975fae6f9eb6f47a2df6df714,openstack/cinder,master,I5da2758307a0a05975fae6f9eb6f47a2df6df714,Use function refresh instead of use get_by_id directly,ABANDONED,2017-02-21 10:49:33.000000000,2017-10-05 14:45:04.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17565}, {'_account_id': 17842}, {'_account_id': 18120}, {'_account_id': 18261}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20191}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23006}, {'_account_id': 23602}, {'_account_id': 23613}, {'_account_id': 23825}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24883}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-02-21 10:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6892d4e5b7a5f2a94ca7c1269dd1f04aa1c91bf', 'message': 'Use function refresh instead of use get_by_id directly\n\nWe can use refresh instead of get_by_id when we just want\nto refresh the volume object.\n\nChange-Id: I5da2758307a0a05975fae6f9eb6f47a2df6df714\n'}, {'number': 2, 'created': '2017-03-08 07:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f8f9f9b5f77cb4c17c2cc05c37cd1a02154954e3', 'message': 'Use function refresh instead of use get_by_id directly\n\nWe can use refresh instead of get_by_id when we just want\nto refresh the volume object.\n\nChange-Id: I5da2758307a0a05975fae6f9eb6f47a2df6df714\n'}, {'number': 3, 'created': '2017-03-14 08:48:39.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/edfeac5dff8103f7a4d24007302294ad7344d6ab', 'message': 'Use function refresh instead of use get_by_id directly\n\nWe can use refresh instead of get_by_id when we just want\nto refresh the volume object.\n\nChange-Id: I5da2758307a0a05975fae6f9eb6f47a2df6df714\n'}]",0,436404,edfeac5dff8103f7a4d24007302294ad7344d6ab,121,57,3,23006,,,0,"Use function refresh instead of use get_by_id directly

We can use refresh instead of get_by_id when we just want
to refresh the volume object.

Change-Id: I5da2758307a0a05975fae6f9eb6f47a2df6df714
",git fetch https://review.opendev.org/openstack/cinder refs/changes/04/436404/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,f6892d4e5b7a5f2a94ca7c1269dd1f04aa1c91bf,refersh, new_volume.refresh() new_volume.refresh()," # TODO(thangp): Replace get_by_id with refresh when it is available new_volume = objects.Volume.get_by_id(ctxt, new_volume.id) # TODO(thangp): Replace get_by_id with refresh when it is # available new_volume = objects.Volume.get_by_id(ctxt, new_volume.id)",2,5
openstack%2Freleases~master~I524960783ca9a1c99046cb02b98e6f42a6c3df6e,openstack/releases,master,I524960783ca9a1c99046cb02b98e6f42a6c3df6e,Release TripleO Ocata (bugfix),MERGED,2017-09-25 21:34:46.000000000,2017-10-05 14:41:22.000000000,2017-10-05 14:41:21.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-25 21:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/03d6eaef27c1c1184a7e66aba00967e786cc2f40', 'message': 'Release TripleO Ocata (bugfix)\n\nopenstack/os-cloud-config 6.0.1\nopenstack/puppet-tripleo 6.5.2\nopenstack/tripleo-common 6.1.2\nopenstack/tripleo-heat-templates 6.2.2\nopenstack/tripleo-puppet-elements 6.2.2\nopenstack/tripleo-ui 3.2.2\n\nChange-Id: I524960783ca9a1c99046cb02b98e6f42a6c3df6e\n'}, {'number': 2, 'created': '2017-09-26 04:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/53310891799f2a4eb991c37ce2c25cec49056bf3', 'message': 'Release TripleO Ocata (bugfix)\n\nopenstack/os-cloud-config 6.0.1\nopenstack/puppet-tripleo 6.5.2\nopenstack/tripleo-common 6.1.2\nopenstack/tripleo-heat-templates 6.2.2\nopenstack/tripleo-puppet-elements 6.2.2\nopenstack/tripleo-ui 3.2.2\n\nChange-Id: I524960783ca9a1c99046cb02b98e6f42a6c3df6e\n'}, {'number': 3, 'created': '2017-09-26 04:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/6b82765e26b38983dd8675f1e5155682aa9d5a75', 'message': 'Release TripleO Ocata (bugfix)\n\nopenstack/os-cloud-config 6.0.1\nopenstack/puppet-tripleo 6.5.2\nopenstack/tripleo-common 6.1.2\nopenstack/tripleo-heat-templates 6.2.2\nopenstack/tripleo-puppet-elements 6.2.2\nopenstack/tripleo-ui 3.2.2\n\nChange-Id: I524960783ca9a1c99046cb02b98e6f42a6c3df6e\n'}, {'number': 4, 'created': '2017-09-26 04:04:30.000000000', 'files': ['deliverables/ocata/tripleo-common.yaml', 'deliverables/ocata/tripleo-puppet-elements.yaml', 'deliverables/ocata/tripleo-ui.yaml', 'deliverables/ocata/puppet-tripleo.yaml', 'deliverables/ocata/tripleo-heat-templates.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/69d02e694a26782dcad04ace6f3daffa55ae2bf7', 'message': 'Release TripleO Ocata (bugfix)\n\nopenstack/os-cloud-config 6.0.1\nopenstack/puppet-tripleo 6.5.2\nopenstack/tripleo-common 6.1.2\nopenstack/tripleo-heat-templates 6.2.2\nopenstack/tripleo-puppet-elements 6.2.2\nopenstack/tripleo-ui 3.2.2\n\nChange-Id: I524960783ca9a1c99046cb02b98e6f42a6c3df6e\n'}]",3,507283,69d02e694a26782dcad04ace6f3daffa55ae2bf7,21,6,4,3153,,,0,"Release TripleO Ocata (bugfix)

openstack/os-cloud-config 6.0.1
openstack/puppet-tripleo 6.5.2
openstack/tripleo-common 6.1.2
openstack/tripleo-heat-templates 6.2.2
openstack/tripleo-puppet-elements 6.2.2
openstack/tripleo-ui 3.2.2

Change-Id: I524960783ca9a1c99046cb02b98e6f42a6c3df6e
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/507283/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/os-cloud-config.yaml', 'deliverables/ocata/tripleo-common.yaml', 'deliverables/ocata/tripleo-puppet-elements.yaml', 'deliverables/ocata/tripleo-ui.yaml', 'deliverables/ocata/puppet-tripleo.yaml', 'deliverables/ocata/tripleo-heat-templates.yaml']",6,03d6eaef27c1c1184a7e66aba00967e786cc2f40,tripleo/ocata, - projects: - hash: 715738eac8ed0301ddc7e1c60e6d00c283f01e63 repo: openstack/tripleo-heat-templates version: 6.2.2,,25,1
openstack%2Freleases~master~I3ea826b34518a13f7ffad6135a982cb56586b120,openstack/releases,master,I3ea826b34518a13f7ffad6135a982cb56586b120,Release TripleO Newton (bugfix),MERGED,2017-09-25 21:28:55.000000000,2017-10-05 14:41:11.000000000,2017-10-05 14:41:11.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-09-25 21:28:55.000000000', 'files': ['deliverables/newton/instack-undercloud.yaml', 'deliverables/newton/puppet-tripleo.yaml', 'deliverables/newton/tripleo-heat-templates.yaml', 'deliverables/newton/tripleo-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/359bc854a42866d9a145118460d462568e9207a5', 'message': 'Release TripleO Newton (bugfix)\n\ninstack-undercloud 5.3.2\npuppet-tripleo 5.6.3\ntripleo-heat-templates 5.3.2\ntripleo-ui 1.2.1\n\nChange-Id: I3ea826b34518a13f7ffad6135a982cb56586b120\n'}]",0,507280,359bc854a42866d9a145118460d462568e9207a5,12,7,1,3153,,,0,"Release TripleO Newton (bugfix)

instack-undercloud 5.3.2
puppet-tripleo 5.6.3
tripleo-heat-templates 5.3.2
tripleo-ui 1.2.1

Change-Id: I3ea826b34518a13f7ffad6135a982cb56586b120
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/507280/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/newton/instack-undercloud.yaml', 'deliverables/newton/puppet-tripleo.yaml', 'deliverables/newton/tripleo-heat-templates.yaml', 'deliverables/newton/tripleo-ui.yaml']",4,359bc854a42866d9a145118460d462568e9207a5,tripleo/newton, - projects: - hash: 468faeef9755a9c76f384bd91703e33eaed8a3d6 repo: openstack/tripleo-ui version: 1.2.1,,16,0
openstack%2Fopenstack-zuul-jobs~master~I1127745e740dc68f6187e871e0eb010661b13e25,openstack/openstack-zuul-jobs,master,I1127745e740dc68f6187e871e0eb010661b13e25,Remove un-used legacy-releasenotes job,MERGED,2017-10-01 15:58:05.000000000,2017-10-05 14:39:31.000000000,2017-10-05 14:39:31.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-01 15:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/8efb93de170266c0ed27c2fab7e5f3e488d5473f', 'message': 'Remove un-used legacy-releasenotes job\n\nChange-Id: I1127745e740dc68f6187e871e0eb010661b13e25\n'}, {'number': 2, 'created': '2017-10-01 16:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/07025eedb4e4adc7c4947d9a3c6093d3601a3b3a', 'message': 'Remove un-used legacy-releasenotes job\n\nDepends-On: I53ca13d5bcd263f43519c8d20e194afe065151ff\nChange-Id: I1127745e740dc68f6187e871e0eb010661b13e25\n'}, {'number': 3, 'created': '2017-10-01 16:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1593692b6174ace1b7c7121792e886157fadda96', 'message': 'Remove un-used legacy-releasenotes job\n\nDepends-On: I53ca13d5bcd263f43519c8d20e194afe065151ff\nChange-Id: I1127745e740dc68f6187e871e0eb010661b13e25\n'}, {'number': 4, 'created': '2017-10-01 16:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/25295a254eaa035ea47aeb852d8ce59eb0b3c456', 'message': 'Remove un-used legacy-releasenotes job\n\nDepends-On: I53ca13d5bcd263f43519c8d20e194afe065151ff\nChange-Id: I1127745e740dc68f6187e871e0eb010661b13e25\n'}, {'number': 5, 'created': '2017-10-02 19:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b57405718b0f052ec06f5c6992e1df7e71b134b2', 'message': 'Remove un-used legacy-releasenotes job\n\nDepends-On: I53ca13d5bcd263f43519c8d20e194afe065151ff\nChange-Id: I1127745e740dc68f6187e871e0eb010661b13e25\n'}, {'number': 6, 'created': '2017-10-05 09:16:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/87c5d1d48bcf926d56a69be1a18f7e3abbf23afc', 'message': 'Remove un-used legacy-releasenotes job\n\nDepends-On: I53ca13d5bcd263f43519c8d20e194afe065151ff\nChange-Id: I1127745e740dc68f6187e871e0eb010661b13e25\n'}, {'number': 7, 'created': '2017-10-05 13:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ead46271cadf4aeeae02a205c1a8bced00947361', 'message': 'Remove un-used legacy-releasenotes job\n\nDepends-On: I53ca13d5bcd263f43519c8d20e194afe065151ff\nChange-Id: I1127745e740dc68f6187e871e0eb010661b13e25\n'}, {'number': 8, 'created': '2017-10-05 13:55:01.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/releasenotes/post.yaml', 'playbooks/legacy/releasenotes/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a79105408124dd8d5374b48e5f3bb0b07f7c0a2a', 'message': 'Remove un-used legacy-releasenotes job\n\nDepends-On: I53ca13d5bcd263f43519c8d20e194afe065151ff\nChange-Id: I1127745e740dc68f6187e871e0eb010661b13e25\n'}]",3,508766,a79105408124dd8d5374b48e5f3bb0b07f7c0a2a,31,5,8,1004,,,0,"Remove un-used legacy-releasenotes job

Depends-On: I53ca13d5bcd263f43519c8d20e194afe065151ff
Change-Id: I1127745e740dc68f6187e871e0eb010661b13e25
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/66/508766/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,8efb93de170266c0ed27c2fab7e5f3e488d5473f,zuulv3,, name: legacy-releasenotes parent: legacy-base success-url: html/ run: playbooks/legacy/releasenotes/run post-run: playbooks/legacy/releasenotes/post timeout: 1800 required-projects: - openstack/requirements - job:,0,10
openstack%2Fpuppet-magnum~stable%2Focata~I6a2483612c8f559a3ceff8136fbe3e76d6c0aac8,openstack/puppet-magnum,stable/ocata,I6a2483612c8f559a3ceff8136fbe3e76d6c0aac8,Prepare new minor release 10.4.0,MERGED,2017-10-05 13:55:56.000000000,2017-10-05 14:34:42.000000000,2017-10-05 14:34:42.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-10-05 13:55:56.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/7d143338d5f0902b3a458eaeb4d6c434fb8925f9', 'message': 'Prepare new minor release 10.4.0\n\nIt includes bug fix https://review.openstack.org/#/c/501142/\nand addes new configuration option cluster_user_trust\n\nChange-Id: I6a2483612c8f559a3ceff8136fbe3e76d6c0aac8\n'}]",0,509787,7d143338d5f0902b3a458eaeb4d6c434fb8925f9,7,3,1,16312,,,0,"Prepare new minor release 10.4.0

It includes bug fix https://review.openstack.org/#/c/501142/
and addes new configuration option cluster_user_trust

Change-Id: I6a2483612c8f559a3ceff8136fbe3e76d6c0aac8
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/87/509787/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,7d143338d5f0902b3a458eaeb4d6c434fb8925f9,fix-ssl,version = '10.4.0'release = '10.4.0',version = '10.3.1'release = '10.3.1',4,4
openstack%2Fkuryr-kubernetes~master~I1ded49573d63aa2c5072ca8636f6d196d8922771,openstack/kuryr-kubernetes,master,I1ded49573d63aa2c5072ca8636f6d196d8922771,Recover precreated ports at NeutronVIFPool driver,MERGED,2017-09-27 17:08:35.000000000,2017-10-05 14:30:34.000000000,2017-10-05 09:58:22.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2017-09-27 17:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e16c37b106e320478974c9f0d2e3fc3dd9387476', 'message': 'Recover precreated ports at NeutronVIFPool driver\n\nThis patch allows to recover the precreated ports when using\nthe NeutronVIFPool driver. Unlike the nested case, the ports\nare not assigned to any node/trunk, therefore this patch gets\nthe available nodes from kubernetes API and evenly distributes\nthe existing ports among the pools associated to each node.\n\nTODO:\n- Adapt unittest\n\nChange-Id: I1ded49573d63aa2c5072ca8636f6d196d8922771\n'}, {'number': 2, 'created': '2017-09-28 09:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b01a5763b782c060298e2968532c277ce0566caf', 'message': 'Recover precreated ports at NeutronVIFPool driver\n\nThis patch allows to recover the precreated ports when using\nthe NeutronVIFPool driver. Unlike the nested case, the ports\nare not assigned to any node/trunk, therefore this patch gets\nthe available nodes from kubernetes API and evenly distributes\nthe existing ports among the pools associated to each node.\n\nTODO:\n- Adapt unittest\n\nChange-Id: I1ded49573d63aa2c5072ca8636f6d196d8922771\n'}, {'number': 3, 'created': '2017-09-28 10:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/014b19f4b19a87083498762e274fdff1c8e2d8d9', 'message': 'Recover precreated ports at NeutronVIFPool driver\n\nThis patch allows to recover the precreated ports when using\nthe NeutronVIFPool driver. Unlike the nested case, the ports\nare not assigned to any node/trunk, therefore this patch gets\nthe available nodes from kubernetes API and evenly distributes\nthe existing ports among the pools associated to each node.\n\nTODO:\n- Adapt unittest\n\nImplements blueprint bm-recover-ports\n\nChange-Id: I1ded49573d63aa2c5072ca8636f6d196d8922771\n'}, {'number': 4, 'created': '2017-09-28 16:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/80910b6b38fc0a658c88f1d7ff6d83c290ab179f', 'message': 'Recover precreated ports at NeutronVIFPool driver\n\nThis patch allows to recover the precreated ports when using\nthe NeutronVIFPool driver. Unlike the nested case, the ports\nare not assigned to any node/trunk, therefore this patch gets\nthe available nodes from kubernetes API and evenly distributes\nthe existing ports among the pools associated to each node.\n\nImplements blueprint bm-recover-ports\n\nChange-Id: I1ded49573d63aa2c5072ca8636f6d196d8922771\n'}, {'number': 5, 'created': '2017-09-29 14:49:42.000000000', 'files': ['kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/tests/unit/controller/drivers/test_vif_pool.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b67a077bb9571e7cf55d2d9c2a26eb9ea8fefd5e', 'message': 'Recover precreated ports at NeutronVIFPool driver\n\nThis patch allows to recover the precreated ports when using\nthe NeutronVIFPool driver. Unlike the nested case, the ports\nare not assigned to any node/trunk, therefore this patch gets\nthe available nodes from kubernetes API and evenly distributes\nthe existing ports among the pools associated to each node.\n\nImplements blueprint bm-recover-ports\n\nChange-Id: I1ded49573d63aa2c5072ca8636f6d196d8922771\n'}]",3,507932,b67a077bb9571e7cf55d2d9c2a26eb9ea8fefd5e,22,6,5,23567,,,0,"Recover precreated ports at NeutronVIFPool driver

This patch allows to recover the precreated ports when using
the NeutronVIFPool driver. Unlike the nested case, the ports
are not assigned to any node/trunk, therefore this patch gets
the available nodes from kubernetes API and evenly distributes
the existing ports among the pools associated to each node.

Implements blueprint bm-recover-ports

Change-Id: I1ded49573d63aa2c5072ca8636f6d196d8922771
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/32/507932/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/vif_pool.py'],1,e16c37b106e320478974c9f0d2e3fc3dd9387476,bm_pool_recovery," # NOTE(ltomasbo): distribute ports among workers until the CNI # maintains them as active available_nodes = self._get_k8s_nodes() i = 0 for port in available_ports: # Gets next node to associate the existing port host_addr = available_nodes[i%len(available_nodes)] i = i+1 pool_key = (host_addr, port['project_id'], tuple(port['security_groups'])) subnet_id = port['fixed_ips'][0]['subnet_id'] subnet = { subnet_id: default_subnet._get_subnet(subnet_id)} vif_plugin = self._drv_vif._get_vif_plugin(port) vif = ovu.neutron_to_osvif_vif(vif_plugin, port, subnet) self._existing_vifs[port['id']] = vif self._available_ports_pools.setdefault( pool_key, []).append(port['id']) def _get_k8s_nodes(self): kubernetes = clients.get_kubernetes_client() available_nodes = [] raw_nodes = kubernetes.get(constants.K8S_API_BASE + '/nodes') for node in raw_nodes['items']: for address in node['status']['addresses']: if address.get('type') == 'InternalIP': available_nodes.append(address.get('address')) break return available_nodes", # REVISIT(ltomasbo): host_address cannot be obtained to recover the # port into the corresponding pool. So for now they are just cleaned # up self._cleanup_precreated_ports() def _cleanup_precreated_ports(self): for port in available_ports: neutron.delete_port(port['id']),31,7
openstack%2Fkolla-ansible~master~I54e090cb89cfeeb78b890e335cf4eeee45275fbf,openstack/kolla-ansible,master,I54e090cb89cfeeb78b890e335cf4eeee45275fbf,Remove show_multiple_locations in glance-api,MERGED,2017-04-12 09:58:38.000000000,2017-10-05 14:18:29.000000000,2017-06-02 02:12:50.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}, {'_account_id': 22582}, {'_account_id': 24759}]","[{'number': 1, 'created': '2017-04-12 09:58:38.000000000', 'files': ['ansible/roles/glance/templates/glance-api.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c85e0464df491f3930d829a5780e63ccd2872e90', 'message': 'Remove show_multiple_locations in glance-api\n\nThis option is deprecated for removal since Newton.\nThis option will be removed in the Pike release or later because the\nsame functionality can be achieved with greater granularity by using policies.\nPlease see the Newton release notes for more information.\n\nsee:\nhttps://docs.openstack.org/ocata/config-reference/image/glance-api.conf.html\nhttps://docs.openstack.org/releasenotes/glance/newton.html\n\nChange-Id: I54e090cb89cfeeb78b890e335cf4eeee45275fbf\nCloses-Bug: #1682070\n'}]",0,456143,c85e0464df491f3930d829a5780e63ccd2872e90,16,5,1,24330,,,0,"Remove show_multiple_locations in glance-api

This option is deprecated for removal since Newton.
This option will be removed in the Pike release or later because the
same functionality can be achieved with greater granularity by using policies.
Please see the Newton release notes for more information.

see:
https://docs.openstack.org/ocata/config-reference/image/glance-api.conf.html
https://docs.openstack.org/releasenotes/glance/newton.html

Change-Id: I54e090cb89cfeeb78b890e335cf4eeee45275fbf
Closes-Bug: #1682070
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/456143/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/glance/templates/glance-api.conf.j2'],1,c85e0464df491f3930d829a5780e63ccd2872e90,bug/1682070,,show_multiple_locations = True,0,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Id6871f37aa2e7729d42acc0233ccd057706d8d24,openstack/openstack-ansible-lxc_hosts,master,Id6871f37aa2e7729d42acc0233ccd057706d8d24,Allow container creation on ZFS backing storage,MERGED,2017-10-05 09:52:23.000000000,2017-10-05 14:17:39.000000000,2017-10-05 14:17:39.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}]","[{'number': 1, 'created': '2017-10-05 09:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/8c544b31cef60db9ff76c25750c2f8d640e1d792', 'message': 'Allow container creation on ZFS backing storage\n\nAdd a conditional task to create the base container on ZFS backing\nstorage.\n\nChange-Id: Id6871f37aa2e7729d42acc0233ccd057706d8d24\n'}, {'number': 2, 'created': '2017-10-05 11:27:35.000000000', 'files': ['tasks/lxc_cache_create.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/dce34c0b872d14c97edc311ef1b5e341e4b85a46', 'message': 'Allow container creation on ZFS backing storage\n\nAdd a conditional task to create the base container on ZFS backing\nstorage.\n\nChange-Id: Id6871f37aa2e7729d42acc0233ccd057706d8d24\n'}]",0,509737,dce34c0b872d14c97edc311ef1b5e341e4b85a46,9,3,2,25023,,,0,"Allow container creation on ZFS backing storage

Add a conditional task to create the base container on ZFS backing
storage.

Change-Id: Id6871f37aa2e7729d42acc0233ccd057706d8d24
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/37/509737/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/lxc_cache_create.yml'],1,8c544b31cef60db9ff76c25750c2f8d640e1d792,zfs-backed-containers," - name: Create base container to use for ZFS-backed containers lxc_container: name: ""{{ lxc_container_base_name }}"" template: ""download"" state: stopped backing_store: ""zfs"" zfs_root: ""{{ lxc_container_zfs_root_name }}"" template_options: ""{{ lxc_cache_download_template_options }}"" register: cache_download retries: 3 delay: 10 until: cache_download|success when: lxc_container_backing_store == 'zfs'",,14,0
openstack%2Floci~master~I38103df6658f2e44df15deabdfd3e67904789874,openstack/loci,master,I38103df6658f2e44df15deabdfd3e67904789874,Update docs,MERGED,2017-10-04 00:02:41.000000000,2017-10-05 14:16:30.000000000,2017-10-05 14:16:30.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2243}, {'_account_id': 13039}, {'_account_id': 14119}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 00:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/b9b1353f46e8b3fe97b8ee907616133ce8d003b7', 'message': ""Update docs\n\nI removed the Docker Hub building because that is no longer strictly\ntrue. HOWEVER, as soon as zuulv3 turns back on, we will be publishing in\nthe 'post' pipeline to DockerHub. Code has already merged for this. Once\nthat happens, I will amend the docs again.\n\nChange-Id: I38103df6658f2e44df15deabdfd3e67904789874\n""}, {'number': 2, 'created': '2017-10-04 00:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/161044b0fdf90f38791dbedcef57ab10364ea158', 'message': ""Update docs\n\nI removed the Docker Hub building because that is no longer strictly\ntrue. HOWEVER, as soon as zuulv3 turns back on, we will be publishing in\nthe 'post' pipeline to DockerHub. Code has already merged for this. Once\nthat happens, I will amend the docs again.\n\nChange-Id: I38103df6658f2e44df15deabdfd3e67904789874\n""}, {'number': 3, 'created': '2017-10-04 18:09:02.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/loci/commit/dbacbcc4f0acdba1ecf10da282686fc41d0b9f27', 'message': ""Update docs\n\nI removed the Docker Hub building because that is no longer strictly\ntrue. HOWEVER, as soon as zuulv3 turns back on, we will be publishing in\nthe 'post' pipeline to DockerHub. Code has already merged for this. Once\nthat happens, I will amend the docs again.\n\nChange-Id: I38103df6658f2e44df15deabdfd3e67904789874\n""}]",2,509312,dbacbcc4f0acdba1ecf10da282686fc41d0b9f27,27,6,3,14119,,,0,"Update docs

I removed the Docker Hub building because that is no longer strictly
true. HOWEVER, as soon as zuulv3 turns back on, we will be publishing in
the 'post' pipeline to DockerHub. Code has already merged for this. Once
that happens, I will amend the docs again.

Change-Id: I38103df6658f2e44df15deabdfd3e67904789874
",git fetch https://review.opendev.org/openstack/loci refs/changes/12/509312/3 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,b9b1353f46e8b3fe97b8ee907616133ce8d003b7,docs,"Currently we build and gate images for the following OpenStack projects: * [Cinder](https://github.com/openstack/cinder) * [Glance](https://github.com/openstack/glance) * [Heat](https://github.com/openstack/heat) * [Horizon](https://github.com/openstack/horizon) * [Ironic](https://github.com/openstack/ironic) * [Keystone](https://github.com/openstack/keystone) * [Neutron](https://github.com/openstack/neutron) * [Nova](https://github.com/openstack/nova) Additionally, we produce a ""wheels"" image for [requirements](https://github.com/openstack/requirements) containing all of the packages listed in upper-constraints.txt.build an image you only need to run one of the following commands:$ docker build https://git.openstack.org/openstack/loci.git --build-arg PROJECT=keytone --tag keystone:ubuntu $ docker build https://git.openstack.org/openstack/loci.git --build-arg PROJECT=keytone --tag keystone:centos --build-arg FROM=centos:7If building behind a proxy, remember to use build arguments to pass these through to the build:$ docker build https://git.openstack.org/openstack/loci.git \ --build-arg http_proxy=$http_proxy \ --build-arg https_proxy=$https_proxy \ --build-arg no_proxy=$no_proxy \ --build-arg PROJECT=keystone \ --tag keystone:ubuntuYou can, of course, substitute `ubuntu` with your distro of choice using the FROM build arg. * `FROM` The base Docker image to build from. Currently supported are ubuntu:xenial and centos:7 * `PROJECT_REPO` The git repo containing the OpenStack project the container should contain * `PROJECT_REF` The git ref, branch, or tag the container should fetch for the project * `WHEELS` The location of the wheels tarball. This accepts a url to a tarball or a Docker image name in the form of [myregistry/]mydockernamespace/requirements[:ubuntu] * `DISTRO` This is a helper variable used for scripts. It would primarily be used in situations where the script would not detect the correct distro. For example, you would set DISTRO=centos when running from an oraclelinux base image. * `PROFILES` The bindep profiles to specify to configure which packages get installed. This is a space sperated list. * `PYPI_PACKAGES` Specify additional packages you would like installed. The only caveat is these packages must exist in your WHEELS tarball. So if you wanted to include rpdb, you would need to have built that into your WHEELS.$ docker build https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=keystone \$ docker build https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=keystone \ --build-arg WHEELS=172.17.0.1:5000/mydockernamespace/keystone:ubuntuTo build cinder with lvm and ceph support you would run: ``` bash $ docker build https://git.openstack.org/openstack/loci.git \ --build-arg PROJECT=cinder \ --build-arg PROFILES=""lvm ceph"" ``` FROM openstackloci/keystone:master-ubuntu ### A Note on the Stability of LOCI LOCI is still a relatively young project. While some of use have been using it for going on a year, we have made breaking changes a few times while we flesh out the best way to achieve certain goals. We are targetting a 1.0.0 release for OpenStack Queens and will be following upstream practices as far as tagging and branching. We will be adding in a stable/ocata and stable/pike branch (possibly an eol-newton and eol-mitaka tag as well) over the next few months so we can build images for these versions of OpenStack as well. While the master branch of LOCI is currently capable of building all of these versions right now, we will be maintaining stable branches going forward. We highly encourage people to use this, and some have even adopted it into build pipelines internally already.","Currently we build images for the following OpenStack projects: * [Cinder](https://github.com/openstack/loci-cinder) * [Glance](https://github.com/openstack/loci-glance) * [Heat](https://github.com/openstack/loci-heat) * [Keystone](https://github.com/openstack/loci-keystone) * [Neutron](https://github.com/openstack/loci-neutron) * [Nova](https://github.com/openstack/loci-nova) Images are built in the Docker Hub automatically on each commit to LOCI and also on every commit to the service itself. Using Keystone as an example, if openstack/keystone or openstack/loci-keystone merges a commit then a new image is built to provide a continuously updated set of images based on a number of distributions. Additionally, individual repos may be used to build images for development purposes or as part of a CI/CD workflow.build an image you only need to run:$ docker build https://git.openstack.org/openstack/loci-keystone.git#:debian --tag keystone:debianIf building behind a proxy, remember to use build arguments to pass these through to the build:$ docker build --build-arg http_proxy=$http_proxy --build-arg https_proxy=$https_proxy \ --build-arg no_proxy=$no_proxy https://git.openstack.org/openstack/loci-keystone.git#:debian \ --tag keystone:debianYou can, of course, substitute `debian` with your distro of choice. * The git repo containing the OpenStack project the container should contain, `PROJECT_REPO` * The git ref or branch the container should fetch for the project, `PROJECT_REF` * The git repo containing the common install scripts, `SCRIPTS_REPO` * The git ref or branch the container should fetch for the scripts, `SCRIPTS_REF` * To inject anything into the image before hand (sources.list, keys, etc), create a tarball and reference its location, `OVERRIDE` * The location of the wheels tarball. This accepts a url to a tarball or a Docker image name in the form of [myregistry/]mydockernamespace/requirements:debian, `WHEELS`$ docker build https://git.openstack.org/openstack/loci-keystone.git#:debian \$ docker build https://git.openstack.org/openstack/loci-keystone.git#:debian \ --build-arg WHEELS=172.17.0.1:5000/mydockernamespace/keystone:debianFROM openstackloci/keystone:debian",74,32
openstack%2Fkeystonemiddleware~master~I16c9cd9a63c584c032ba9b3958014a4abaa99ca0,openstack/keystonemiddleware,master,I16c9cd9a63c584c032ba9b3958014a4abaa99ca0,Correct docs usage of keystoneauth1 session,MERGED,2017-09-12 21:18:35.000000000,2017-10-05 14:14:49.000000000,2017-10-05 14:14:49.000000000,"[{'_account_id': 3}, {'_account_id': 16465}, {'_account_id': 17645}, {'_account_id': 17860}, {'_account_id': 20466}, {'_account_id': 21420}]","[{'number': 1, 'created': '2017-09-12 21:18:35.000000000', 'files': ['keystonemiddleware/auth_token/_auth.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/204b21aceac7f7aef8daab3256f70bed2a879ae4', 'message': ""Correct docs usage of keystoneauth1 session\n\nkeystoneclient.session has been long deprecated in favor of\nkeystoneauth1.session. This change corrects entries in the\ndocumentation to use the correct library's session.\n\nChange-Id: I16c9cd9a63c584c032ba9b3958014a4abaa99ca0\n""}]",0,503197,204b21aceac7f7aef8daab3256f70bed2a879ae4,15,6,1,21420,,,0,"Correct docs usage of keystoneauth1 session

keystoneclient.session has been long deprecated in favor of
keystoneauth1.session. This change corrects entries in the
documentation to use the correct library's session.

Change-Id: I16c9cd9a63c584c032ba9b3958014a4abaa99ca0
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/97/503197/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/auth_token/_auth.py'],1,204b21aceac7f7aef8daab3256f70bed2a879ae4,session-deprecated, :type session: keystoneauth1.session.Session, :type session: keystoneclient.session.Session,1,1
openstack%2Fpuppet-murano~master~Iab88a3cf7c396de7c03dc87491101c304cb9a09b,openstack/puppet-murano,master,Iab88a3cf7c396de7c03dc87491101c304cb9a09b,Switch murano auth provider to keystone v3,MERGED,2017-10-05 10:01:21.000000000,2017-10-05 14:12:40.000000000,2017-10-05 14:12:40.000000000,"[{'_account_id': 3}, {'_account_id': 1004}, {'_account_id': 3153}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-10-05 10:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/757780b72b4f0690343a80acc4a2a7a334751a03', 'message': 'Switch murano auth provider to keystone v3\n\nCurrently, murano auth provider has been implicitely using\nkeystone v2.0 by not declaring DOMAIN variables.\nNow, api v2.0 is being deprecated and we need to use API v3.\n\nChange-Id: Iab88a3cf7c396de7c03dc87491101c304cb9a09b\n'}, {'number': 2, 'created': '2017-10-05 12:54:57.000000000', 'files': ['spec/unit/provider/murano_spec.rb', 'lib/puppet/provider/murano.rb'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/fb9487ba4a5a3e26cf2cbf84e470fb248289eb5e', 'message': 'Switch murano auth provider to keystone v3\n\nCurrently, murano auth provider has been implicitely using\nkeystone v2.0 by not declaring DOMAIN variables.\nNow, api v2.0 is being deprecated and we need to use API v3.\n\nChange-Id: Iab88a3cf7c396de7c03dc87491101c304cb9a09b\n'}]",0,509742,fb9487ba4a5a3e26cf2cbf84e470fb248289eb5e,9,4,2,16312,,,0,"Switch murano auth provider to keystone v3

Currently, murano auth provider has been implicitely using
keystone v2.0 by not declaring DOMAIN variables.
Now, api v2.0 is being deprecated and we need to use API v3.

Change-Id: Iab88a3cf7c396de7c03dc87491101c304cb9a09b
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/42/509742/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/murano_spec.rb', 'lib/puppet/provider/murano.rb']",2,757780b72b4f0690343a80acc4a2a7a334751a03,keystone-v3," if !conf['keystone_authtoken']['project_domain_name'].nil? creds['project_domain_name'] = conf['keystone_authtoken']['project_domain_name'].strip else creds['project_domain_name'] = 'Default' end if !conf['keystone_authtoken']['user_domain_name'].nil? creds['user_domain_name'] = conf['keystone_authtoken']['user_domain_name'].strip else creds['user_domain_name'] = 'Default' end :OS_AUTH_URL => m['auth_uri'], :OS_USERNAME => m['admin_user'], :OS_TENANT_NAME => m['admin_tenant_name'], :OS_PASSWORD => m['admin_password'], :OS_ENDPOINT_TYPE => 'internalURL', :OS_PROJECT_DOMAIN_NAME => m['project_domain_name'], :OS_USER_DOMAIN_NAME => m['user_domain_name']"," :OS_AUTH_URL => m['auth_uri'], :OS_USERNAME => m['admin_user'], :OS_TENANT_NAME => m['admin_tenant_name'], :OS_PASSWORD => m['admin_password'], :OS_ENDPOINT_TYPE => 'internalURL'",34,14
openstack%2Fopenstack-zuul-jobs~master~I3fb4e8b3ad93546debba726953acce18d33538f8,openstack/openstack-zuul-jobs,master,I3fb4e8b3ad93546debba726953acce18d33538f8,Drop zuul_executor_dest from release notes job variables,MERGED,2017-10-05 02:52:19.000000000,2017-10-05 14:10:25.000000000,2017-10-05 14:10:25.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 02:52:19.000000000', 'files': ['playbooks/releasenotes/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/675386f2549b0e1bb191e4d49e00e85eed738c93', 'message': ""Drop zuul_executor_dest from release notes job variables\n\nThis variable is set to the default of the role, it's probably\nbest we leave it out in case we make changes in the original\ndefault value globally.\n\nChange-Id: I3fb4e8b3ad93546debba726953acce18d33538f8\n""}]",0,509679,675386f2549b0e1bb191e4d49e00e85eed738c93,8,3,1,1004,,,0,"Drop zuul_executor_dest from release notes job variables

This variable is set to the default of the role, it's probably
best we leave it out in case we make changes in the original
default value globally.

Change-Id: I3fb4e8b3ad93546debba726953acce18d33538f8
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/79/509679/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/releasenotes/post.yaml'],1,675386f2549b0e1bb191e4d49e00e85eed738c93,zuulv3-releasenotes-job,," zuul_executor_dest: ""{{ zuul.executor.log_root }}""",0,1
openstack%2Fopenstack-zuul-jobs~master~I7cd8286cc73bf463a7e6b704bd191e0572aef642,openstack/openstack-zuul-jobs,master,I7cd8286cc73bf463a7e6b704bd191e0572aef642,Remove trailing slash from releasenote job sphinx_output_src,MERGED,2017-10-05 02:52:19.000000000,2017-10-05 14:10:24.000000000,2017-10-05 14:10:24.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 02:52:19.000000000', 'files': ['playbooks/releasenotes/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/fb894274263ca97db598ebcb479dfde93e23c9a0', 'message': 'Remove trailing slash from releasenote job sphinx_output_src\n\nThe extra trailing slash causes the jobs to copy the content of\nthe folder instead of the `html` itself.  This patch resolves this\nby removing the trailing slash to copy the folder itself.\n\nChange-Id: I7cd8286cc73bf463a7e6b704bd191e0572aef642\n'}]",0,509678,fb894274263ca97db598ebcb479dfde93e23c9a0,12,4,1,1004,,,0,"Remove trailing slash from releasenote job sphinx_output_src

The extra trailing slash causes the jobs to copy the content of
the folder instead of the `html` itself.  This patch resolves this
by removing the trailing slash to copy the folder itself.

Change-Id: I7cd8286cc73bf463a7e6b704bd191e0572aef642
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/78/509678/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/releasenotes/post.yaml'],1,fb894274263ca97db598ebcb479dfde93e23c9a0,zuulv3-releasenotes-job," sphinx_output_src: ""{{ zuul.project.src_dir }}/releasenotes/build/html"""," sphinx_output_src: ""{{ zuul.project.src_dir }}/releasenotes/build/html/""",1,1
openstack%2Fopenstack-zuul-jobs~master~If6ee519c33320db91f8a9553ed4abc099c284eec,openstack/openstack-zuul-jobs,master,If6ee519c33320db91f8a9553ed4abc099c284eec,Avoid moving release notes after complete execution,MERGED,2017-10-05 01:35:34.000000000,2017-10-05 14:07:36.000000000,2017-10-05 14:07:36.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-05 01:35:34.000000000', 'files': ['playbooks/releasenotes/post.yaml', 'roles/build-releasenotes/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b80e33039cd70bbd371b474b676d7a0ec54cdd95', 'message': 'Avoid moving release notes after complete execution\n\nOriginally, we were moving the release notes to another folder\nto make it work with the fetch-sphinx-output role.  However,\nthis did not always work as expected due to the fact that some\nprojects do not have a doc folder.\n\nThis fixes that issue and avoids the move and simply grabs the\ndata from the right folder.\n\nChange-Id: If6ee519c33320db91f8a9553ed4abc099c284eec\n'}]",0,509675,b80e33039cd70bbd371b474b676d7a0ec54cdd95,8,3,1,1004,,,0,"Avoid moving release notes after complete execution

Originally, we were moving the release notes to another folder
to make it work with the fetch-sphinx-output role.  However,
this did not always work as expected due to the fact that some
projects do not have a doc folder.

This fixes that issue and avoids the move and simply grabs the
data from the right folder.

Change-Id: If6ee519c33320db91f8a9553ed4abc099c284eec
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/75/509675/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/releasenotes/post.yaml', 'roles/build-releasenotes/tasks/main.yaml']",2,b80e33039cd70bbd371b474b676d7a0ec54cdd95,zuulv3-releasenotes-job,," - name: Move build output to correct path for publishers command: mv releasenotes/build doc args: chdir: ""{{ zuul_work_dir }}""",1,6
openstack%2Fopenstack-zuul-jobs~master~I811ffa1aa9fdaf1e8acafa4959874df32a8558ab,openstack/openstack-zuul-jobs,master,I811ffa1aa9fdaf1e8acafa4959874df32a8558ab,Switch translated release notes conditionals,MERGED,2017-10-04 17:33:54.000000000,2017-10-05 14:05:30.000000000,2017-10-05 14:05:30.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 17:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b1680e28710eec372d403c4b8a70ee099585e58c', 'message': 'Switch translated release notes conditionals\n\nThis takes the logic of translated release notes conditional\ncode into Ansible logic for clarity.\n\nChange-Id: I811ffa1aa9fdaf1e8acafa4959874df32a8558ab\n'}, {'number': 2, 'created': '2017-10-05 00:46:38.000000000', 'files': ['roles/build-releasenotes/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/622155cda7bed68430081b50af9942774f166366', 'message': 'Switch translated release notes conditionals\n\nThis takes the logic of translated release notes conditional\ncode into Ansible logic for clarity.\n\nChange-Id: I811ffa1aa9fdaf1e8acafa4959874df32a8558ab\n'}]",0,509560,622155cda7bed68430081b50af9942774f166366,13,4,2,1004,,,0,"Switch translated release notes conditionals

This takes the logic of translated release notes conditional
code into Ansible logic for clarity.

Change-Id: I811ffa1aa9fdaf1e8acafa4959874df32a8558ab
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/60/509560/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-releasenotes/tasks/main.yaml'],1,b1680e28710eec372d403c4b8a70ee099585e58c,zuulv3-releasenotes-job,"- name: Check if translations exist for release notes stat: path: ""{{ zuul_work_dir }}/releasenotes/source/locale"" register: translations - name: Prepare release note translations # Check that locale_dirs is really set, otherwise translations # will not work. if ! grep -q -E '^locale_dirs *=' $DIRECTORY/source/conf.py; then echo ""Translations exist and locale_dirs missing in source/conf.py"" exit 1 fi REFERENCES=`mktemp` trap ""rm -f -- '$REFERENCES'"" EXIT # Extract translations tox -e venv -- sphinx-build -b gettext \ -d ${DIRECTORY}/build/doctrees.gettext \ ${DIRECTORY}/source/ \ ${DIRECTORY}/source/locale/ # Add links for translations to index file cat <<EOF >> ${REFERENCES} Translated Release Notes ======================== EOF # Check all language translation resources for locale in `find ${DIRECTORY}/source/locale/ -maxdepth 1 -type d` ; do # Skip if it is not a valid language translation resource. if [ ! -e ${locale}/LC_MESSAGES/${DOCNAME}.po ]; then continue language=$(basename $locale) echo ""Building $language translation"" # Prepare all translation resources for pot in ${DIRECTORY}/source/locale/*.pot ; do # Get filename resname=$(basename ${pot} .pot) # Merge all translation resources. Note this is done the same # way as done in common_translation_update.sh where we merge # all strings together in a single file. msgmerge --silent -o \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.po \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po \ ${pot} # Compile all translation resources msgfmt -o \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.mo \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.po # Build translated document tox -e venv -- sphinx-build -b html -D language=${language} \ -d ""${DIRECTORY}/build/doctrees.${language}"" \ ${DIRECTORY}/source/ ${DIRECTORY}/build/html/${language} # Reference translated document from index file if [ ${LANG_NAME[""${language}""]+_} ] ; then name=${LANG_NAME[""${language}""]} name+="" (${language})"" echo ""* \`$name <${language}/index.html>\`__"" >> ${REFERENCES} else echo ""* \`${language} <${language}/index.html>\`__"" >> ${REFERENCES} fi # Remove newly created files git clean -f -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/*.po git clean -f -x -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/*.mo # revert changes to po file git reset -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po git checkout -- ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po done # Now append our references to the index file. We cannot do this # earlier since the sphinx commands will read this file. cat ${REFERENCES} >> ${DIRECTORY}/source/index.rst # Remove newly created pot files rm -f ${DIRECTORY}/source/locale/*.pot when: translations.stat.exists == True","- name: Build releasenotes contents if [ -e ${DIRECTORY}/source/locale/ ]; then # Check that locale_dirs is really set, otherwise translations # will not work. if ! grep -q -E '^locale_dirs *=' $DIRECTORY/source/conf.py; then echo ""Translations exist and locale_dirs missing in source/conf.py"" exit 1 REFERENCES=`mktemp` trap ""rm -f -- '$REFERENCES'"" EXIT # Extract translations tox -e venv -- sphinx-build -b gettext \ -d ${DIRECTORY}/build/doctrees.gettext \ ${DIRECTORY}/source/ \ ${DIRECTORY}/source/locale/ # Add links for translations to index file cat <<EOF >> ${REFERENCES} Translated Release Notes ======================== EOF # Check all language translation resources for locale in `find ${DIRECTORY}/source/locale/ -maxdepth 1 -type d` ; do # Skip if it is not a valid language translation resource. if [ ! -e ${locale}/LC_MESSAGES/${DOCNAME}.po ]; then continue fi language=$(basename $locale) echo ""Building $language translation"" # Prepare all translation resources for pot in ${DIRECTORY}/source/locale/*.pot ; do # Get filename resname=$(basename ${pot} .pot) # Merge all translation resources. Note this is done the same # way as done in common_translation_update.sh where we merge # all strings together in a single file. msgmerge --silent -o \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.po \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po \ ${pot} # Compile all translation resources msgfmt -o \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.mo \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.po done # Build translated document tox -e venv -- sphinx-build -b html -D language=${language} \ -d ""${DIRECTORY}/build/doctrees.${language}"" \ ${DIRECTORY}/source/ ${DIRECTORY}/build/html/${language} # Reference translated document from index file if [ ${LANG_NAME[""${language}""]+_} ] ; then name=${LANG_NAME[""${language}""]} name+="" (${language})"" echo ""* \`$name <${language}/index.html>\`__"" >> ${REFERENCES} else echo ""* \`${language} <${language}/index.html>\`__"" >> ${REFERENCES} fi # Remove newly created files git clean -f -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/*.po git clean -f -x -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/*.mo # revert changes to po file git reset -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po git checkout -- ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po # Now append our references to the index file. We cannot do this # earlier since the sphinx commands will read this file. cat ${REFERENCES} >> ${DIRECTORY}/source/index.rst # Remove newly created pot files rm -f ${DIRECTORY}/source/locale/*.pot fi",80,76
openstack%2Fneutron-dynamic-routing~master~I8fb12f913f187e4f0208438e7f39b2691f0dd4f3,openstack/neutron-dynamic-routing,master,I8fb12f913f187e4f0208438e7f39b2691f0dd4f3,Switch to tempest.common.utils.is_extension_enabled,MERGED,2017-09-14 16:48:01.000000000,2017-10-05 14:03:53.000000000,2017-10-05 14:03:53.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 7715}, {'_account_id': 13252}, {'_account_id': 14605}]","[{'number': 1, 'created': '2017-09-14 16:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/981135bd2f668bc94d8405a723505c3aca795ab5', 'message': 'Switch to tempest.common.utils.is_extension_enabled\n\nThe tempest.test.is_extension_enabled() has moved to\ntempest.common.utils.is_extension_enabled() in Pike.\n\nChange-Id: I8fb12f913f187e4f0208438e7f39b2691f0dd4f3\n'}, {'number': 2, 'created': '2017-10-04 08:02:35.000000000', 'files': ['neutron_dynamic_routing/tests/tempest/api/test_bgp_speaker_extensions.py', 'neutron_dynamic_routing/tests/tempest/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/95d2bdfde10ba9622014620738d15e8c5bff0bb4', 'message': 'Switch to tempest.common.utils.is_extension_enabled\n\nThe tempest.test.is_extension_enabled() has moved to\ntempest.common.utils.is_extension_enabled() in Pike.\n\nChange-Id: I8fb12f913f187e4f0208438e7f39b2691f0dd4f3\n'}]",0,504119,95d2bdfde10ba9622014620738d15e8c5bff0bb4,13,5,2,7715,,,0,"Switch to tempest.common.utils.is_extension_enabled

The tempest.test.is_extension_enabled() has moved to
tempest.common.utils.is_extension_enabled() in Pike.

Change-Id: I8fb12f913f187e4f0208438e7f39b2691f0dd4f3
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/19/504119/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/tests/tempest/api/test_bgp_speaker_extensions.py', 'neutron_dynamic_routing/tests/tempest/scenario/base.py']",2,981135bd2f668bc94d8405a723505c3aca795ab5,is_extension_enabled,"from tempest.common import utils if not utils.is_extension_enabled('bgp', 'network'):","from tempest import test if not test.is_extension_enabled('bgp', 'network'):",4,4
openstack%2Fopenstack-zuul-jobs~master~Ie01e96edac1e1fd9e7f0a3e2d6b39f813a561aa2,openstack/openstack-zuul-jobs,master,Ie01e96edac1e1fd9e7f0a3e2d6b39f813a561aa2,Refactor tox to use the role,MERGED,2017-10-04 17:33:54.000000000,2017-10-05 14:03:41.000000000,2017-10-05 14:03:41.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 17:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/808414694cf06b6eff442b485cd36e6083a72b10', 'message': 'Refactor tox to use the role\n\nThis patch switches tox usage to use the new role as well uses\nAnsible to move build output.\n\nChange-Id: Ie01e96edac1e1fd9e7f0a3e2d6b39f813a561aa2\n'}, {'number': 2, 'created': '2017-10-05 00:46:38.000000000', 'files': ['roles/build-releasenotes/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/74df19df6b5c93ae3d951f461b937709e083484c', 'message': 'Refactor tox to use the role\n\nThis patch switches tox usage to use the new role as well uses\nAnsible to move build output.\n\nChange-Id: Ie01e96edac1e1fd9e7f0a3e2d6b39f813a561aa2\n'}]",0,509559,74df19df6b5c93ae3d951f461b937709e083484c,13,4,2,1004,,,0,"Refactor tox to use the role

This patch switches tox usage to use the new role as well uses
Ansible to move build output.

Change-Id: Ie01e96edac1e1fd9e7f0a3e2d6b39f813a561aa2
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/59/509559/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-releasenotes/tasks/main.yaml'],1,808414694cf06b6eff442b485cd36e6083a72b10,zuulv3-releasenotes-job,"- name: Build release notes include_role: name: tox vars: tox_constraints_file: ""{{ ansible_user_dir }}/src/git.openstack.org/openstack/requirements/upper-constraints.txt"" tox_envlist: releasenotes - name: Move build output to correct path for publishers synchronize: src: ""{{ zuul_work_dir }}/build"" dest: ""{{ zuul_work_dir }}/doc"" delegate_to: ""{{ inventory_hostname }}""","# TODO(mordred) This needs to be reworked to use the tox role script_path=/usr/local/jenkins/slave_scripts # This file always exists in OpenStack CI jobs, check for it so that # it can be used manually as well. if [ -e ""$HOME/src/git.openstack.org/openstack/requirements/upper-constraints.txt"" ]; then export UPPER_CONSTRAINTS_FILE=$HOME/src/git.openstack.org/openstack/requirements/upper-constraints.txt fi # Now build releasenotes with reference to translations $script_path/run-tox.sh releasenotes # Move the built output into doc/build so that other roles can work well mv ${DIRECTORY}/build doc ",11,13
openstack%2Fopenstack-zuul-jobs~master~I45272750fc734566d08329d915fbedc10b9eed65,openstack/openstack-zuul-jobs,master,I45272750fc734566d08329d915fbedc10b9eed65,Refactor releasenote job to have one path for tox building,MERGED,2017-10-04 17:33:54.000000000,2017-10-05 14:03:40.000000000,2017-10-05 14:03:40.000000000,"[{'_account_id': 2}, {'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 17:33:54.000000000', 'files': ['roles/build-releasenotes/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/65ccea6bc91db27223fef6a3285ca8617d3c921d', 'message': 'Refactor releasenote job to have one path for tox building\n\nThe past bash code had two paths for building release notes, it\nmakes it much harder to refactor and debug (for example, the result\nwas being moved only if the release notes had translations).\n\nChange-Id: I45272750fc734566d08329d915fbedc10b9eed65\n'}]",0,509558,65ccea6bc91db27223fef6a3285ca8617d3c921d,12,4,1,1004,,,0,"Refactor releasenote job to have one path for tox building

The past bash code had two paths for building release notes, it
makes it much harder to refactor and debug (for example, the result
was being moved only if the release notes had translations).

Change-Id: I45272750fc734566d08329d915fbedc10b9eed65
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/58/509558/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-releasenotes/tasks/main.yaml'],1,65ccea6bc91db27223fef6a3285ca8617d3c921d,zuulv3-releasenotes-job," if [ -e ${DIRECTORY}/source/locale/ ]; then # Check that locale_dirs is really set, otherwise translations # will not work. if ! grep -q -E '^locale_dirs *=' $DIRECTORY/source/conf.py; then echo ""Translations exist and locale_dirs missing in source/conf.py"" exit 1 REFERENCES=`mktemp` trap ""rm -f -- '$REFERENCES'"" EXIT # Extract translations tox -e venv -- sphinx-build -b gettext \ -d ${DIRECTORY}/build/doctrees.gettext \ ${DIRECTORY}/source/ \ ${DIRECTORY}/source/locale/ # Add links for translations to index file cat <<EOF >> ${REFERENCES} Translated Release Notes ======================== EOF # Check all language translation resources for locale in `find ${DIRECTORY}/source/locale/ -maxdepth 1 -type d` ; do # Skip if it is not a valid language translation resource. if [ ! -e ${locale}/LC_MESSAGES/${DOCNAME}.po ]; then continue fi language=$(basename $locale) echo ""Building $language translation"" # Prepare all translation resources for pot in ${DIRECTORY}/source/locale/*.pot ; do # Get filename resname=$(basename ${pot} .pot) # Merge all translation resources. Note this is done the same # way as done in common_translation_update.sh where we merge # all strings together in a single file. msgmerge --silent -o \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.po \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po \ ${pot} # Compile all translation resources msgfmt -o \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.mo \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.po done # Build translated document tox -e venv -- sphinx-build -b html -D language=${language} \ -d ""${DIRECTORY}/build/doctrees.${language}"" \ ${DIRECTORY}/source/ ${DIRECTORY}/build/html/${language} # Reference translated document from index file if [ ${LANG_NAME[""${language}""]+_} ] ; then name=${LANG_NAME[""${language}""]} name+="" (${language})"" echo ""* \`$name <${language}/index.html>\`__"" >> ${REFERENCES} else echo ""* \`${language} <${language}/index.html>\`__"" >> ${REFERENCES} fi # Remove newly created files git clean -f -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/*.po git clean -f -x -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/*.mo # revert changes to po file git reset -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po git checkout -- ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po # Now append our references to the index file. We cannot do this # earlier since the sphinx commands will read this file. cat ${REFERENCES} >> ${DIRECTORY}/source/index.rst # Remove newly created pot files rm -f ${DIRECTORY}/source/locale/*.pot fi"," if [ ! -e ${DIRECTORY}/source/locale/ ]; then echo ""No translations found, only building normal release notes"" $script_path/run-tox.sh releasenotes exit 0 fi # Check that locale_dirs is really set, otherwise translations # will not work. if ! grep -q -E '^locale_dirs *=' $DIRECTORY/source/conf.py; then echo ""Translations exist and locale_dirs missing in source/conf.py"" exit 1 fi REFERENCES=`mktemp` trap ""rm -f -- '$REFERENCES'"" EXIT # Extract translations tox -e venv -- sphinx-build -b gettext \ -d ${DIRECTORY}/build/doctrees.gettext \ ${DIRECTORY}/source/ \ ${DIRECTORY}/source/locale/ # Add links for translations to index file cat <<EOF >> ${REFERENCES} Translated Release Notes ======================== EOF # Check all language translation resources for locale in `find ${DIRECTORY}/source/locale/ -maxdepth 1 -type d` ; do # Skip if it is not a valid language translation resource. if [ ! -e ${locale}/LC_MESSAGES/${DOCNAME}.po ]; then continue language=$(basename $locale) echo ""Building $language translation"" # Prepare all translation resources for pot in ${DIRECTORY}/source/locale/*.pot ; do # Get filename resname=$(basename ${pot} .pot) # Merge all translation resources. Note this is done the same # way as done in common_translation_update.sh where we merge # all strings together in a single file. msgmerge --silent -o \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.po \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po \ ${pot} # Compile all translation resources msgfmt -o \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.mo \ ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${resname}.po # Build translated document tox -e venv -- sphinx-build -b html -D language=${language} \ -d ""${DIRECTORY}/build/doctrees.${language}"" \ ${DIRECTORY}/source/ ${DIRECTORY}/build/html/${language} # Reference translated document from index file if [ ${LANG_NAME[""${language}""]+_} ] ; then name=${LANG_NAME[""${language}""]} name+="" (${language})"" echo ""* \`$name <${language}/index.html>\`__"" >> ${REFERENCES} else echo ""* \`${language} <${language}/index.html>\`__"" >> ${REFERENCES} fi # Remove newly created files git clean -f -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/*.po git clean -f -x -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/*.mo # revert changes to po file git reset -q ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po git checkout -- ${DIRECTORY}/source/locale/${language}/LC_MESSAGES/${DOCNAME}.po done # Now append our references to the index file. We cannot do this # earlier since the sphinx commands will read this file. cat ${REFERENCES} >> ${DIRECTORY}/source/index.rst # Remove newly created pot files rm -f ${DIRECTORY}/source/locale/*.pot",75,79
openstack%2Foslo.versionedobjects~master~Ib6ba40a31bbc0e4a279568bd70fb210ad142d77b,openstack/oslo.versionedobjects,master,Ib6ba40a31bbc0e4a279568bd70fb210ad142d77b,Use newer location for iso8601 UTC,MERGED,2017-09-29 07:23:36.000000000,2017-10-05 14:02:52.000000000,2017-10-05 14:02:52.000000000,"[{'_account_id': 3}, {'_account_id': 9107}, {'_account_id': 9796}, {'_account_id': 13252}, {'_account_id': 20191}, {'_account_id': 22255}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-29 07:23:36.000000000', 'files': ['oslo_versionedobjects/tests/test_fields.py', 'oslo_versionedobjects/tests/test_fixture.py'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/6f21a10b6a58adc4cd3bfeea3b5c1fe508251907', 'message': 'Use newer location for iso8601 UTC\n\niso8601.UTC is correct datetime UTC field object.\niso8601 >= 0.1.12 includes only iso8601.UTC for python3\nwhile both UTC and Utc() for python2. Less then 0.1.12\nincluded both UTC and Utc() for both python2/3.\n\nSome of the occurrences were missed in the previous commit:\n934fb45a2de4afe6cb0c8f2d078e19513a3b00e3\n\nThis patch fixes those missing occurrences.\n\nChange-Id: Ib6ba40a31bbc0e4a279568bd70fb210ad142d77b\n'}]",0,508423,6f21a10b6a58adc4cd3bfeea3b5c1fe508251907,19,7,1,20191,,,0,"Use newer location for iso8601 UTC

iso8601.UTC is correct datetime UTC field object.
iso8601 >= 0.1.12 includes only iso8601.UTC for python3
while both UTC and Utc() for python2. Less then 0.1.12
included both UTC and Utc() for both python2/3.

Some of the occurrences were missed in the previous commit:
934fb45a2de4afe6cb0c8f2d078e19513a3b00e3

This patch fixes those missing occurrences.

Change-Id: Ib6ba40a31bbc0e4a279568bd70fb210ad142d77b
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/23/508423/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_versionedobjects/tests/test_fields.py', 'oslo_versionedobjects/tests/test_fixture.py']",2,6f21a10b6a58adc4cd3bfeea3b5c1fe508251907,replace_UTC," dt = datetime.datetime(1955, 11, 5, tzinfo=iso8601.iso8601.UTC)"," dt = datetime.datetime(1955, 11, 5, tzinfo=iso8601.iso8601.Utc())",3,3
openstack%2Fopenstack-ansible~master~I76a3875857893fe0b9661e5a08def9122c15ba7d,openstack/openstack-ansible,master,I76a3875857893fe0b9661e5a08def9122c15ba7d,playbooks: os-lxc-container-setup: Use the 'reboot' option for lxc restart,ABANDONED,2017-10-05 13:36:22.000000000,2017-10-05 14:01:11.000000000,,"[{'_account_id': 6816}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-10-05 13:36:22.000000000', 'files': ['playbooks/common-tasks/os-lxc-container-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aa43302109f83318921b67b4318d55de0aeb2361', 'message': ""playbooks: os-lxc-container-setup: Use the 'reboot' option for lxc restart\n\nThe lxc-stop command accepts the --reboot option to reboot an LXC\ncontainer. Lets use that instead of having separate 'stop' and 'start'\ntasks.\n\nChange-Id: I76a3875857893fe0b9661e5a08def9122c15ba7d\n""}]",1,509775,aa43302109f83318921b67b4318d55de0aeb2361,4,2,1,23163,,,0,"playbooks: os-lxc-container-setup: Use the 'reboot' option for lxc restart

The lxc-stop command accepts the --reboot option to reboot an LXC
container. Lets use that instead of having separate 'stop' and 'start'
tasks.

Change-Id: I76a3875857893fe0b9661e5a08def9122c15ba7d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/509775/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/os-lxc-container-setup.yml'],1,aa43302109f83318921b67b4318d55de0aeb2361,lxc2-support, lxc-stop --reboot --name {{ inventory_hostname }}," lxc-stop --name {{ inventory_hostname }}# Due to https://github.com/ansible/ansible-modules-extras/issues/2691 # this uses the LXC CLI tools to ensure that we get logging. # TODO(odyssey4me): revisit this once the bug is fixed and released - name: Start Container command: > lxc-start --daemon --name {{ inventory_hostname }} --logfile {{ lxc_container_log_path }}/lxc-{{ inventory_hostname }}.log --logpriority {{ (debug | bool) | ternary('DEBUG', 'INFO') }} delegate_to: ""{{ physical_host }}"" register: container_start until: container_start | success retries: 3 when: - not is_metal | bool - (_mc is defined and _mc | changed) or (_ec is defined and _ec | changed) tags: - common-lxc ",1,19
openstack%2Fkolla-ansible~master~I0950a0467b4b68c38b13875eaf9cd433e64363cf,openstack/kolla-ansible,master,I0950a0467b4b68c38b13875eaf9cd433e64363cf,Update container_proxy with configurable proxy settings,MERGED,2017-10-05 08:29:46.000000000,2017-10-05 13:57:01.000000000,2017-10-05 13:57:01.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-10-05 08:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40534c06bdd06a79a523a769627d00a20a044553', 'message': 'Update container_proxy with configurable proxy settings\n\nFor a deployment behind a firewall/proxy server some additional\nenvironment settings should be passed along (i.e. for magnum)\n\nThis commit adds three new properties; (all empty by default)\n container_http_proxy\n container_https_proxy\n container_no_proxy\n\nThe user can override these by setting properties in the usual\nmanner if they need to be set.\n\nChange-Id: I0950a0467b4b68c38b13875eaf9cd433e64363cf\n'}, {'number': 2, 'created': '2017-10-05 09:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a698c0a9c91a4ee7bd617a9b73cef8d63ade0b9', 'message': 'Update container_proxy with configurable proxy settings\n\nFor a deployment behind a firewall/proxy server some additional\nenvironment settings should be passed along, for containers\nsuch as magnum\n\nThis commit adds three new properties;\n container_http_proxy\n container_https_proxy\n container_no_proxy\n\nIn particular, the user will want to set container_http_proxy\nand container_https_proxy properties with the proxy server\ndetails.\n\nCloses-Bug: #1628335\nChange-Id: I0950a0467b4b68c38b13875eaf9cd433e64363cf\n'}, {'number': 3, 'created': '2017-10-05 09:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c8afdf4e29c6ece4bf8e949a5f05076e7664f58', 'message': 'Update container_proxy with configurable proxy settings\n\nFor a deployment behind a firewall/proxy server some additional\nenvironment settings should be passed along, for containers\nsuch as magnum\n\nThis commit adds three new properties;\n container_http_proxy\n container_https_proxy\n container_no_proxy\n\nIn particular, the user will want to set container_http_proxy\nand container_https_proxy properties with the proxy server\ndetails.\n\nCloses-Bug: #1628335\nChange-Id: I0950a0467b4b68c38b13875eaf9cd433e64363cf\n'}, {'number': 4, 'created': '2017-10-05 09:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47d534d9a33cb92519ab6659e4f7d21ba2f93cdf', 'message': 'Update container_proxy with configurable proxy settings\n\nFor a deployment behind a firewall/proxy server some additional\nenvironment settings should be passed along, for containers\nsuch as magnum\n\nThis commit adds three new properties;\n container_http_proxy\n container_https_proxy\n container_no_proxy\n\nIn particular, the user will want to set container_http_proxy\nand container_https_proxy properties with the proxy server\ndetails.\n\nCloses-Bug: #1628335\nChange-Id: I0950a0467b4b68c38b13875eaf9cd433e64363cf\n'}, {'number': 5, 'created': '2017-10-05 11:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1df6b0577054358fc2ddaea6644a8ae08e7262e9', 'message': 'Update container_proxy with configurable proxy settings\n\nFor a deployment behind a firewall/proxy server some additional\nenvironment settings should be passed along, for containers\nsuch as magnum\n\nThis commit adds three new properties;\n container_http_proxy\n container_https_proxy\n container_no_proxy\n\nIn particular, the user will want to set container_http_proxy\nand container_https_proxy properties with the proxy server\ndetails.\n\nCloses-Bug: #1628335\nChange-Id: I0950a0467b4b68c38b13875eaf9cd433e64363cf\n'}, {'number': 6, 'created': '2017-10-05 12:13:43.000000000', 'files': ['ansible/roles/magnum/handlers/main.yml', 'releasenotes/notes/container-proxy-settings-for-magnum-0300dad7ee461865.yaml', 'ansible/group_vars/all.yml', 'ansible/roles/magnum/tasks/config.yml', 'ansible/roles/magnum/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9369ad127cb70b4f79c8e7308be153757810a7ee', 'message': 'Update container_proxy with configurable proxy settings\n\nFor a deployment behind a firewall/proxy server some additional\nenvironment settings should be passed along, for containers\nsuch as magnum\n\nThis commit adds three new properties;\n container_http_proxy\n container_https_proxy\n container_no_proxy\n\nIn particular, the user will want to set container_http_proxy\nand container_https_proxy properties with the proxy server\ndetails.\n\nCloses-Bug: #1628335\nChange-Id: I0950a0467b4b68c38b13875eaf9cd433e64363cf\n'}]",10,509713,9369ad127cb70b4f79c8e7308be153757810a7ee,20,3,6,16704,,,0,"Update container_proxy with configurable proxy settings

For a deployment behind a firewall/proxy server some additional
environment settings should be passed along, for containers
such as magnum

This commit adds three new properties;
 container_http_proxy
 container_https_proxy
 container_no_proxy

In particular, the user will want to set container_http_proxy
and container_https_proxy properties with the proxy server
details.

Closes-Bug: #1628335
Change-Id: I0950a0467b4b68c38b13875eaf9cd433e64363cf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/13/509713/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/magnum/handlers/main.yml', 'ansible/group_vars/all.yml']",2,40534c06bdd06a79a523a769627d00a20a044553,,"# Proxy settings for magnum containers that need internet access container_http_proxy: """" container_https_proxy: """" container_no_proxy: """" container_proxy: http_proxy: ""{{ container_http_proxy }}"" https_proxy: ""{{ container_https_proxy }}"" no_proxy: ""{{ container_no_proxy }}"" ",,11,0
openstack%2Fheat-specs~master~I9bf9a52d3af716d0731bbcaa371872a2f83bf40c,openstack/heat-specs,master,I9bf9a52d3af716d0731bbcaa371872a2f83bf40c,Implement policies in code,MERGED,2016-06-23 11:08:40.000000000,2017-10-05 13:43:25.000000000,2017-10-05 13:43:25.000000000,"[{'_account_id': 3}, {'_account_id': 4257}, {'_account_id': 5046}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 13009}]","[{'number': 1, 'created': '2016-06-23 11:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/ef97cf4e7123d32f9ccbe0afeb2310c1a0746477', 'message': 'Implement policies in code\n\nDefine and register default API policies in Python code similar\nto config options.\n\nSpecifies blueprint policy-in-code\n\nChange-Id: I9bf9a52d3af716d0731bbcaa371872a2f83bf40c\n'}, {'number': 2, 'created': '2016-09-12 06:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/25d705621307324a9ff5cf34b33a2f16e365f747', 'message': 'Implement policies in code\n\nDefine and register default API policies in Python code similar\nto config options.\n\nSpecifies blueprint policy-in-code\n\nChange-Id: I9bf9a52d3af716d0731bbcaa371872a2f83bf40c\n'}, {'number': 3, 'created': '2017-09-18 07:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/bffd293949abb38628d30a6c916f355e520bbdbb', 'message': 'Implement policies in code\n\nDefine and register default API policies in Python code similar\nto config options.\n\nSupport for such declaration of API access polcies has been put as\ncross-project community goal for OpenStack Queens release.\n\nSpecifies blueprint policy-in-code\n\nChange-Id: I9bf9a52d3af716d0731bbcaa371872a2f83bf40c\n'}, {'number': 4, 'created': '2017-09-18 07:50:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/858c8493612cea40712e91619f2697278da701e5', 'message': 'Implement policies in code\n\nDefine and register default API policies in Python code similar\nto config options.\n\nSupport for such declaration of API access polcies has been put as\ncross-project community goal for OpenStack Queens release.\n\nSpecifies blueprint policy-in-code\n\nChange-Id: I9bf9a52d3af716d0731bbcaa371872a2f83bf40c\n'}, {'number': 5, 'created': '2017-09-18 07:52:36.000000000', 'files': ['specs/queens/policy-in-code.rst'], 'web_link': 'https://opendev.org/openstack/heat-specs/commit/22c87f31ab9d82c8a579006b3816225df98d1542', 'message': 'Implement policies in code\n\nDefine and register default API policies in Python code similar\nto config options.\n\nSupport for such declaration of API access polcies has been put as\ncross-project community goal for OpenStack Queens release.\n\nSpecifies blueprint policy-in-code\n\nChange-Id: I9bf9a52d3af716d0731bbcaa371872a2f83bf40c\n'}]",5,333255,22c87f31ab9d82c8a579006b3816225df98d1542,21,6,5,9542,,,0,"Implement policies in code

Define and register default API policies in Python code similar
to config options.

Support for such declaration of API access polcies has been put as
cross-project community goal for OpenStack Queens release.

Specifies blueprint policy-in-code

Change-Id: I9bf9a52d3af716d0731bbcaa371872a2f83bf40c
",git fetch https://review.opendev.org/openstack/heat-specs refs/changes/55/333255/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/policy-in-code.rst'],1,ef97cf4e7123d32f9ccbe0afeb2310c1a0746477,policy-and-docs-in-code,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/heat/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =========================== The title of your blueprint =========================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/heat/+spec/policy-in-code Operators need to maintain a (possibly complex) policy.json file that might differ only slightly from the default one, and some values in the policy.json file are tied to config options without explicit dependency between them. Problem description =================== As an operator, I would like to specify in the ``policy.json`` file only those policies that are different from defaults. Proposed change =============== Since version 1.9.0 oslo.policy supports handling policies in the way similar to how oslo.config handles config options [0]. Policies now can be declared inside Python code with provided defaults, and registered in the policy engine. The policy engine then loads these and the policy.json file on start, with entries in the latter overriding the defaults specified in the code. This way, a service with default policies can run without ``policy.json`` file, and operators only need to fill this file in the case their rules are different. Another nice benefit is that this allows to use values from config file in the default policy - as example, the name of the temporary user's role in Heat currently is defined both in config file and default policy.json file, so operators need to update both heat.conf and policy.json file when changing this role. A small performance penalty during service startup is expected, as well as marginal performance improvements during run-time, as there's no need to re-read a possibly large policy.json file. Sample policy file can be generated based on the registered policies rather than needing to manually maintain one. The current version of oslo.policy in Heat is >=1.9.0, so no bump in dependencies is needed to implement and use the features above. As of version 1.10.0 oslo.policy also supports additional ways to generate policy-related files: - Merged policy file - a policy file can be generated which is a merge of registered defaults and policies loaded from a file. This shows the effective policy in use. - Redundant policies file - a list can be generated which contains policies defined in a file which match defaults registered in code. These are candidates for removal from the file in order to keep it small and understandable. [0] https://github.com/openstack/oslo.policy/blob/1.9.0/doc/source/usage.rst#registering-policy-defaults-in-code Alternatives ------------ An alternative would be to wait until oslo.policy has support for loading (and caching) of policies stored in Keystone V3. This would represent a better centralized management of policies, but I am not aware of any such plans. Implementation ============== Assignee(s) ----------- Primary assignee: pshchelo <Pavlo Shchelokovskyy> IRC: pas-ha Milestones ---------- Target Milestone for completion: newton-3 Work Items ---------- - accumulate, define and register policies in the Python code - change invocations of ``Enforcer.enforce`` to ``Enforcer.authorize`` (the call signature is unchanged) - amend genconfig tox environment to also generate sample policy.json file - remove policy.json file and update DevStack / Heat's DevStack plugin to not use policy.json - (see dependencies) provide configs/scripts to generate merged policy file and redundant policy file. - amend documentation accordingly Dependencies ============ - bump oslo.policy version in global requirements to >=1.10.0 - starting from this version generating merged policy file and redundant policy file is supported ",,122,0
openstack%2Fopenstack-ansible-lxc_container_create~master~I0982a42321cf88f66442b5f766729f17c68e8e4a,openstack/openstack-ansible-lxc_container_create,master,I0982a42321cf88f66442b5f766729f17c68e8e4a,Update the LXC container create role,MERGED,2017-10-04 16:11:29.000000000,2017-10-05 13:41:07.000000000,2017-10-05 13:41:07.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 13095}, {'_account_id': 17799}, {'_account_id': 25022}, {'_account_id': 25023}]","[{'number': 1, 'created': '2017-10-04 16:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/81528dde84546e6d5677d38ac7010f05a98c2671', 'message': 'Update the LXC container create role\n\nThe LXC container create role has not been updated to use some of our\nmore well throughout patterns and layouts. This change updates the role\nso that its following our normal role conventions and simplifying task\nexecution.\n\nNew tags have been added to follow the basic tag pattern found in all\nother roles. The two tags now supported are lxc-config, and lxc-create.\n\nThe creation backends have been seperated out into dynamically included\nfiles. This will reduce our ""skips"" which will improve execution time\nand assist developers in understanding what is happening when a\ncontainer is created. Stubbs for BTRFS and ZFS container types have been\nadded so future work can continue on those two store options without\nimpacting our normal workflow.\n\nAll task files have been updated to use the ""lxc_"" prefix which follows\nthe pattern found in everyone of our roles.\n\nChange-Id: I0982a42321cf88f66442b5f766729f17c68e8e4a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2017-10-04 16:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/32aee62e25c5e1827fcdc12340bc519e4e23b7da', 'message': 'Update the LXC container create role\n\nThe LXC container create role has not been updated to use some of our\nmore well throughout patterns and layouts. This change updates the role\nso that its following our normal role conventions and simplifying task\nexecution.\n\nNew tags have been added to follow the basic tag pattern found in all\nother roles. The two tags now supported are lxc-config, and lxc-create.\n\nThe creation backends have been seperated out into dynamically included\nfiles. This will reduce our ""skips"" which will improve execution time\nand assist developers in understanding what is happening when a\ncontainer is created. Stubbs for BTRFS and ZFS container types have been\nadded so future work can continue on those two store options without\nimpacting our normal workflow.\n\nAll task files have been updated to use the ""lxc_"" prefix which follows\nthe pattern found in everyone of our roles.\n\nChange-Id: I0982a42321cf88f66442b5f766729f17c68e8e4a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2017-10-04 16:46:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/7620fa67522f00286dad159a9b0ac46fffccdbb0', 'message': 'Update the LXC container create role\n\nThe LXC container create role has not been updated to use some of our\nmore well throughout patterns and layouts. This change updates the role\nso that its following our normal role conventions and simplifying task\nexecution.\n\nNew tags have been added to follow the basic tag pattern found in all\nother roles. The two tags now supported are lxc-config, and lxc-create.\n\nThe creation backends have been seperated out into dynamically included\nfiles. This will reduce our ""skips"" which will improve execution time\nand assist developers in understanding what is happening when a\ncontainer is created. Stubbs for BTRFS and ZFS container types have been\nadded so future work can continue on those two store options without\nimpacting our normal workflow.\n\nAll task files have been updated to use the ""lxc_"" prefix which follows\nthe pattern found in everyone of our roles.\n\nChange-Id: I0982a42321cf88f66442b5f766729f17c68e8e4a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2017-10-04 17:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/6eaf68b0bf74b1270f5ffc0365086291254081d3', 'message': 'Update the LXC container create role\n\nThe LXC container create role has not been updated to use some of our\nmore well throughout patterns and layouts. This change updates the role\nso that its following our normal role conventions and simplifying task\nexecution.\n\nNew tags have been added to follow the basic tag pattern found in all\nother roles. The two tags now supported are lxc-config, and lxc-create.\n\nThe creation backends have been seperated out into dynamically included\nfiles. This will reduce our ""skips"" which will improve execution time\nand assist developers in understanding what is happening when a\ncontainer is created. Stubbs for BTRFS and ZFS container types have been\nadded so future work can continue on those two store options without\nimpacting our normal workflow.\n\nAll task files have been updated to use the ""lxc_"" prefix which follows\nthe pattern found in everyone of our roles.\n\nChange-Id: I0982a42321cf88f66442b5f766729f17c68e8e4a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2017-10-05 09:51:22.000000000', 'files': ['tasks/main.yml', 'tasks/lxc_container_create_btrfs.yml', 'tasks/lxc_container_cow.yml', 'defaults/main.yml', 'tasks/lxc_container_create_dir.yml', 'tasks/lxc_container_destroy.yml', 'releasenotes/notes/lxc_container_backing_store-e0a77c48da3a57b2.yaml', 'tasks/lxc_container_config.yml', 'tasks/lxc_container_create_zfs.yml', 'tasks/lxc_container_create.yml', 'tasks/lxc_container_create_overlayfs.yml', 'tasks/lxc_container_create_lvm.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_container_create/commit/3c2220010918aba3191709d772fb900f0ea215c8', 'message': 'Update the LXC container create role\n\nThe LXC container create role has not been updated to use some of our\nmore well throughout patterns and layouts. This change updates the role\nso that its following our normal role conventions and simplifying task\nexecution.\n\nNew tags have been added to follow the basic tag pattern found in all\nother roles. The two tags now supported are lxc-config, and lxc-create.\n\nThe creation backends have been seperated out into dynamically included\nfiles. This will reduce our ""skips"" which will improve execution time\nand assist developers in understanding what is happening when a\ncontainer is created. Stubbs for BTRFS and ZFS container types have been\nadded so future work can continue on those two store options without\nimpacting our normal workflow.\n\nAll task files have been updated to use the ""lxc_"" prefix which follows\nthe pattern found in everyone of our roles.\n\nChange-Id: I0982a42321cf88f66442b5f766729f17c68e8e4a\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",5,509530,3c2220010918aba3191709d772fb900f0ea215c8,17,8,5,7353,,,0,"Update the LXC container create role

The LXC container create role has not been updated to use some of our
more well throughout patterns and layouts. This change updates the role
so that its following our normal role conventions and simplifying task
execution.

New tags have been added to follow the basic tag pattern found in all
other roles. The two tags now supported are lxc-config, and lxc-create.

The creation backends have been seperated out into dynamically included
files. This will reduce our ""skips"" which will improve execution time
and assist developers in understanding what is happening when a
container is created. Stubbs for BTRFS and ZFS container types have been
added so future work can continue on those two store options without
impacting our normal workflow.

All task files have been updated to use the ""lxc_"" prefix which follows
the pattern found in everyone of our roles.

Change-Id: I0982a42321cf88f66442b5f766729f17c68e8e4a
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_container_create refs/changes/30/509530/4 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_container_destroy.yml', 'tasks/main.yml', 'tasks/lxc_container_config.yml', 'tasks/lxc_container_create_btrfs.yml', 'tasks/lxc_container_create_zfs.yml', 'tasks/lxc_container_cow.yml', 'tasks/lxc_container_create.yml', 'defaults/main.yml', 'tasks/lxc_container_create_overlayfs.yml', 'tasks/lxc_container_create_lvm.yml']",10,81528dde84546e6d5677d38ac7010f05a98c2671,role-update,"--- # Copyright 2017, Rackspace US, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - name: Create container (lvm) lxc_container: name: ""{{ inventory_hostname }}"" container_log: true container_log_level: ""{{ (debug | bool) | ternary('DEBUG', 'INFO') }}"" config: ""{{ lxc_container_config }}"" template: ""{{ lxc_container_template }}"" state: started backing_store: ""{{ lxc_container_backing_store }}"" directory: ""{{ lxc_container_rootfs_directory }}"" fs_size: ""{{ properties.container_fs_size | default(lxc_container_fs_size) }}"" fs_type: ""{{ lxc_container_fs_type }}"" vg_name: ""{{ lxc_container_vg_name }}"" template_options: ""{{ lxc_container_download_template_options }}"" delegate_to: ""{{ physical_host }}"" when: - lxc_container_backing_store == 'lvm' - lxc_container_backing_method != 'copy-on-write' - include: lxc_container_cow.yml when: - lxc_container_backing_method == 'copy-on-write' ",,269,209
openstack%2Fironic~master~I8d9fafb0cad1eeb67d2153cddca5fb680da138c8,openstack/ironic,master,I8d9fafb0cad1eeb67d2153cddca5fb680da138c8,Support DHCP-less deploy in iLO virtual media drivers,ABANDONED,2015-10-12 15:55:19.000000000,2017-10-05 13:40:41.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 9315}, {'_account_id': 11076}, {'_account_id': 12356}]","[{'number': 1, 'created': '2015-10-12 15:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4695b96abbacb5fc2cccedfbbb0995cb2b0b4f91', 'message': 'Support DHCP-less deploy in iLO virtual media drivers\n\nThis commit adds support for DHCP-less deploy in\niLO virtual media drivers. A new CONF option\n[ilo]inject_ip_via_deploy_ramdisk is added which can\nbe set to True to pass networking information via\nramdisk during provisioning.\n\nImplements: blueprint ilo-virtualmedia-drivers-dhcpless-deploy\nChange-Id: I8d9fafb0cad1eeb67d2153cddca5fb680da138c8\n'}, {'number': 2, 'created': '2015-10-16 10:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f2b851eee3fc3121c33c0f6b9d665acd80ac0cc3', 'message': 'Support DHCP-less deploy in iLO virtual media drivers\n\nThis commit adds support for DHCP-less deploy in\niLO virtual media drivers. A new CONF option\n[ilo]inject_ip_via_deploy_ramdisk is added which can\nbe set to True to pass networking information via\nramdisk during provisioning.\n\nImplements: blueprint ilo-virtualmedia-drivers-dhcpless-deploy\nChange-Id: I8d9fafb0cad1eeb67d2153cddca5fb680da138c8\n'}, {'number': 3, 'created': '2015-10-16 10:59:52.000000000', 'files': ['ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6845a26c77eb308ed31316ecd927866b801d2db', 'message': 'Support DHCP-less deploy in iLO virtual media drivers\n\nThis commit adds support for DHCP-less deploy in\niLO virtual media drivers. A new CONF option\n[ilo]inject_ip_via_deploy_ramdisk is added which can\nbe set to True to pass networking information via\nramdisk during provisioning.\n\nImplements: blueprint ilo-virtualmedia-drivers-dhcpless-deploy\nChange-Id: I8d9fafb0cad1eeb67d2153cddca5fb680da138c8\n'}]",15,233694,d6845a26c77eb308ed31316ecd927866b801d2db,19,5,3,9315,,,0,"Support DHCP-less deploy in iLO virtual media drivers

This commit adds support for DHCP-less deploy in
iLO virtual media drivers. A new CONF option
[ilo]inject_ip_via_deploy_ramdisk is added which can
be set to True to pass networking information via
ramdisk during provisioning.

Implements: blueprint ilo-virtualmedia-drivers-dhcpless-deploy
Change-Id: I8d9fafb0cad1eeb67d2153cddca5fb680da138c8
",git fetch https://review.opendev.org/openstack/ironic refs/changes/94/233694/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/ilo/boot.py', 'ironic/tests/unit/drivers/modules/ilo/test_boot.py']",2,4695b96abbacb5fc2cccedfbbb0995cb2b0b4f91,bp/virtualmedia-drivers-dhcpless-deploy,"import base64 import jsonfrom ironic.dhcp import neutron self.port = obj_utils.create_test_port(self.context, node_id=self.node.id) ramdisk_params={'a': 'b'}, extra_opts_expected=None): if extra_opts_expected: expected_ramdisk_opts.update(extra_opts_expected) @mock.patch.object(ilo_common, 'eject_vmedia_devices', spec_set=True, autospec=True) @mock.patch.object(ilo_common, 'setup_vmedia', spec_set=True, autospec=True) @mock.patch.object(deploy_utils, 'get_single_nic_with_vif_port_id', spec_set=True, autospec=True) @mock.patch.object(neutron.NeutronDHCPApi, 'get_network_info', spec_set=True, autospec=True) def test_prepare_ramdisk_inject_ip( self, get_network_info_mock, get_nic_mock, setup_vmedia_mock, eject_mock,): self.config(group='ilo', inject_ip_via_deploy_ramdisk=True) network_info = { ""ip_address"": ""192.168.1.3"", ""netmask"": ""255.255.255.0"", ""gateway"": ""192.168.1.1"", ""nameservers"": [""192.168.1.100"", ""192.168.1.101""]} get_network_info_mock.return_value = network_info get_nic_mock.return_value = '12:34:56:78:90:ab' with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.node.driver_info['ilo_deploy_iso'] = 'deploy-iso' task.driver.boot.prepare_ramdisk(task, {'a': 'b'}) eject_mock.assert_called_once_with(task) network_info['mac_address'] = task.ports[0].address expected_opts = { 'a': 'b', 'BOOTIF': '12:34:56:78:90:ab', 'networking_info': base64.b64encode(json.dumps( {'interfaces': [network_info]}).encode('ascii'))} get_nic_mock.assert_called_once_with(task) setup_vmedia_mock.assert_called_once_with(task, 'deploy-iso', expected_opts) get_network_info_mock.assert_called_once_with( mock.ANY, mock.ANY, task.ports[0]) ", ramdisk_params={'a': 'b'}):,66,1
openstack%2Fironic~master~Idcab95b44b462098ab3d8e29d193f4bb7f6cc6be,openstack/ironic,master,Idcab95b44b462098ab3d8e29d193f4bb7f6cc6be,Add get_network_info method to DHCP API,ABANDONED,2015-10-12 15:48:24.000000000,2017-10-05 13:40:25.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 9315}, {'_account_id': 10202}, {'_account_id': 11076}, {'_account_id': 11297}, {'_account_id': 12356}, {'_account_id': 13362}, {'_account_id': 16635}]","[{'number': 1, 'created': '2015-10-12 15:48:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd5f79c54e879c295e83e11178a9d6214af191ef', 'message': 'Add get_network_info method to DHCP API\n\nThis commit adds a new method get_network_info() to\nthe DHCP API.  It also adds the implementation for the\nsame in NeutronDHCPApi.\n\nDepends-On: I9602e6b9b8a44decd8981c8877645fff9a4dca82\nImplements: blueprint ilo-virtualmedia-drivers-dhcpless-deploy\nChange-Id: Idcab95b44b462098ab3d8e29d193f4bb7f6cc6be\n'}, {'number': 2, 'created': '2015-10-16 09:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ede8d9a6cf24ee9c9812d5b5eb3c2ae8c8340daa', 'message': 'Add get_network_info method to DHCP API\n\nThis commit adds a new method get_network_info() to\nthe DHCP API.  It also adds the implementation for the\nsame in NeutronDHCPApi.\n\nDepends-On: I9602e6b9b8a44decd8981c8877645fff9a4dca82\nImplements: blueprint ilo-virtualmedia-drivers-dhcpless-deploy\nChange-Id: Idcab95b44b462098ab3d8e29d193f4bb7f6cc6be\n'}, {'number': 3, 'created': '2015-10-19 08:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2e4cf25eef190073a86dce1b4c519536efecdce9', 'message': 'Add get_network_info method to DHCP API\n\nThis commit adds a new method get_network_info() to\nthe DHCP API.  It also adds the implementation for the\nsame in NeutronDHCPApi.\n\nDepends-On: I9602e6b9b8a44decd8981c8877645fff9a4dca82\nImplements: blueprint ilo-virtualmedia-drivers-dhcpless-deploy\nChange-Id: Idcab95b44b462098ab3d8e29d193f4bb7f6cc6be\n'}, {'number': 4, 'created': '2015-10-23 11:00:31.000000000', 'files': ['ironic/dhcp/none.py', 'ironic/tests/unit/dhcp/test_none.py', 'ironic/dhcp/base.py', 'ironic/dhcp/neutron.py', 'ironic/tests/unit/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b159f8f25584b243ad7dbfc1e2379e9e95870990', 'message': 'Add get_network_info method to DHCP API\n\nThis commit adds a new method get_network_info() to\nthe DHCP API.  It also adds the implementation for the\nsame in NeutronDHCPApi and NoneDHCPApi.\n\nDepends-On: I9602e6b9b8a44decd8981c8877645fff9a4dca82\nImplements: blueprint ilo-virtualmedia-drivers-dhcpless-deploy\nChange-Id: Idcab95b44b462098ab3d8e29d193f4bb7f6cc6be\n'}]",36,233692,b159f8f25584b243ad7dbfc1e2379e9e95870990,31,9,4,9315,,,0,"Add get_network_info method to DHCP API

This commit adds a new method get_network_info() to
the DHCP API.  It also adds the implementation for the
same in NeutronDHCPApi and NoneDHCPApi.

Depends-On: I9602e6b9b8a44decd8981c8877645fff9a4dca82
Implements: blueprint ilo-virtualmedia-drivers-dhcpless-deploy
Change-Id: Idcab95b44b462098ab3d8e29d193f4bb7f6cc6be
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/233692/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/dhcp/none.py', 'ironic/dhcp/base.py', 'ironic/dhcp/neutron.py', 'ironic/tests/unit/dhcp/test_neutron.py']",4,bd5f79c54e879c295e83e11178a9d6214af191ef,bp/virtualmedia-drivers-dhcpless-deploy," def test__get_fixed_ip_info(self): expected = {""ip_address"": ""192.168.1.3"", ""subnet_id"": ""f8a6e8f8-c2ec-497c-9f23-da9616de54ef""} result = api._get_fixed_ip_info(port_id, fake_client) def test__get_fixed_ip_info_invalid_ip(self): api._get_fixed_ip_info, @mock.patch.object(neutron.NeutronDHCPApi, '_get_fixed_ip_info', autospec=True) def test__get_fixed_ip_address(self, get_fixed_ip_info_mock): get_fixed_ip_info_mock.return_value = {""ip_address"": ""1.2.3.4""} api = dhcp_factory.DHCPFactory().provider self.assertEqual( ""1.2.3.4"", api._get_fixed_ip_address( ""some-port-uuid"", ""some-client"")) get_fixed_ip_info_mock.assert_called_once_with( api, ""some-port-uuid"", ""some-client"") @mock.patch.object(neutron.NeutronDHCPApi, '_get_fixed_ip_info', autospec=True) @mock.patch.object(neutron, '_build_client', autospec=True) def test_get_network_info(self, build_client_mock, get_fixed_ip_info_mock): client_mock = mock.MagicMock(spec=['show_subnet']) build_client_mock.return_value = client_mock get_fixed_ip_info_mock.return_value = { ""ip_address"": ""192.168.1.3"", ""subnet_id"": ""f8a6e8f8-c2ec-497c-9f23-da9616de54ef""} client_mock.show_subnet.return_value = {""subnet"": { ""dns_nameservers"": [""192.168.1.100"", ""192.168.1.101""], ""cidr"": ""192.168.1.0/24"", ""gateway_ip"": ""192.168.1.1""}} api = dhcp_factory.DHCPFactory().provider with task_manager.acquire(self.context, self.node.uuid) as task: self.ports[0].extra['vif_port_id'] = 'vif_port_a' task.context.auth_token = 'foo' network_info_returned = api.get_network_info(task, self.ports[0]) self.assertEqual( {""ip_address"": ""192.168.1.3"", ""netmask"": ""255.255.255.0"", ""gateway"": ""192.168.1.1"", ""nameservers"": [""192.168.1.100"", ""192.168.1.101""]}, network_info_returned) client_mock.show_subnet.assert_called_once_with( ""f8a6e8f8-c2ec-497c-9f23-da9616de54ef"") build_client_mock.assert_called_once_with('foo') get_fixed_ip_info_mock.assert_called_once_with( api, 'vif_port_a', client_mock) def test__get_fixed_ip_info_with_exception(self): api._get_fixed_ip_info, port_id, fake_client)"," def test__get_fixed_ip_address(self): expected = ""192.168.1.3"" result = api._get_fixed_ip_address(port_id, fake_client) def test__get_fixed_ip_address_invalid_ip(self): api._get_fixed_ip_address, def test__get_fixed_ip_address_with_exception(self): api._get_fixed_ip_address, port_id, fake_client)",121,18
openstack%2Ftripleo-heat-templates~stable%2Fpike~I42c963440b9b1e8222097c3d4e83ffcbe820886c,openstack/tripleo-heat-templates,stable/pike,I42c963440b9b1e8222097c3d4e83ffcbe820886c,Disable role host_prep_tasks on controlplane upgrade,MERGED,2017-10-04 06:35:26.000000000,2017-10-05 13:37:13.000000000,2017-10-05 13:00:13.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 18851}, {'_account_id': 20172}, {'_account_id': 20775}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 06:35:26.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2ab21881c4b2a61cb09b48cf8ffe12600042338', 'message': 'Disable role host_prep_tasks on controlplane upgrade\n\nDuring the controlplane upgrade the host_prep_tasks are being\nexecuted on the disable_upgrade_deployment roles too.\n\nThis sets the role specific host_prep_tasks to an empty list for\nthose roles during an upgrade, as executing them during the\ncontrolplane upgrade (during -e\nmajor-upgrade-composable-steps-docker.yaml) causes problems.\n\nThey will be executed as part of the non controller upgrade as they\nare written to the stack outputs to be used as ansible playbooks\n(see bug 1708115 for more info on this)\n\nChange-Id: I42c963440b9b1e8222097c3d4e83ffcbe820886c\nCloses-Bug: 1719604\n(cherry picked from commit 684267a7a4fbff489f6324020289afbdcaaca8f5)\n'}]",1,509345,a2ab21881c4b2a61cb09b48cf8ffe12600042338,20,10,1,8449,,,0,"Disable role host_prep_tasks on controlplane upgrade

During the controlplane upgrade the host_prep_tasks are being
executed on the disable_upgrade_deployment roles too.

This sets the role specific host_prep_tasks to an empty list for
those roles during an upgrade, as executing them during the
controlplane upgrade (during -e
major-upgrade-composable-steps-docker.yaml) causes problems.

They will be executed as part of the non controller upgrade as they
are written to the stack outputs to be used as ansible playbooks
(see bug 1708115 for more info on this)

Change-Id: I42c963440b9b1e8222097c3d4e83ffcbe820886c
Closes-Bug: 1719604
(cherry picked from commit 684267a7a4fbff489f6324020289afbdcaaca8f5)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/509345/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,a2ab21881c4b2a61cb09b48cf8ffe12600042338,bug/1719604-stable/pike, {%- set is_upgrade = false -%} {%- else %} {%- set is_upgrade = true -%}{%- if is_upgrade|default(false) and role.disable_upgrade_deployment|default(false) %} - [] {%- else %}{%- endif %},,7,0
openstack%2Fswift~feature%2Fdeep~I383297d57a9b77cc19bfc3d4f5f12adc296af67f,openstack/swift,feature/deep,I383297d57a9b77cc19bfc3d4f5f12adc296af67f,remove unused method,MERGED,2017-10-05 09:17:42.000000000,2017-10-05 13:35:23.000000000,2017-10-05 12:38:13.000000000,"[{'_account_id': 3}, {'_account_id': 7847}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-10-05 09:17:42.000000000', 'files': ['swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5e7745187df013316d3f94f294ee83423905c28d', 'message': 'remove unused method\n\nexplanation of history of now unused method:\nhttps://review.openstack.org/#/c/509508/1/swift/container/sharder.py@1297\n\nChange-Id: I383297d57a9b77cc19bfc3d4f5f12adc296af67f\n'}]",0,509723,5e7745187df013316d3f94f294ee83423905c28d,7,3,1,7847,,,0,"remove unused method

explanation of history of now unused method:
https://review.openstack.org/#/c/509508/1/swift/container/sharder.py@1297

Change-Id: I383297d57a9b77cc19bfc3d4f5f12adc296af67f
",git fetch https://review.opendev.org/openstack/swift refs/changes/23/509723/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/container/sharder.py'],1,5e7745187df013316d3f94f294ee83423905c28d,,," # TODO: unused method - ok to delete? # def _push_shard_ranges_to_container(self, root_account, # root_container, shard_range, # storage_policy_index): # # Push the new distributed node to the container. # part, root_broker, node_id = \ # self._get_shard_broker(root_account, root_container, # storage_policy_index) # objects = self._generate_object_list( # shard_range, storage_policy_index) # root_broker.merge_items(objects) # self.cpool.spawn( # self._replicate_object, part, root_broker.db_file, node_id) # any(self.cpool) ",0,15
openstack%2Fopenstack-zuul-jobs~master~I386a1669f27d5a3da81a7af3167050889b0a9ea7,openstack/openstack-zuul-jobs,master,I386a1669f27d5a3da81a7af3167050889b0a9ea7,Remove obsolete validate jobs,MERGED,2017-10-04 18:13:43.000000000,2017-10-05 13:30:09.000000000,2017-10-05 13:30:09.000000000,"[{'_account_id': 2}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 18:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/a5ce6d110c53eba5ba0daf207cafd817a2ca38d2', 'message': 'Remove obsolete validate jobs\n\nThese validate jobs have been replaced by openstack-tox-validate, remove\nthem as unused.\n\nChange-Id: I386a1669f27d5a3da81a7af3167050889b0a9ea7\nDepends-On: I53a40244c58198fbd706bf7db2125ebf016eae9a\n'}, {'number': 2, 'created': '2017-10-04 18:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/24948417845f2def8aefcca0636071e1a9554d0c', 'message': 'Remove obsolete validate jobs\n\nThese validate jobs have been replaced by openstack-tox-validate, remove\nthem as unused.\n\nChange-Id: I386a1669f27d5a3da81a7af3167050889b0a9ea7\nDepends-On: I53a40244c58198fbd706bf7db2125ebf016eae9a\n'}, {'number': 3, 'created': '2017-10-05 07:00:07.000000000', 'files': ['playbooks/legacy/requirements-tox-validate/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/governance-tox-validate/run.yaml', 'playbooks/legacy/project-navigator-data-tox-validate/run.yaml', 'playbooks/legacy/governance-tox-validate/post.yaml', 'playbooks/legacy/project-navigator-data-tox-validate/post.yaml', 'playbooks/legacy/requirements-tox-validate/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9c6d7351ea4d04a6b0f9c263f1d79f64b81a97e6', 'message': 'Remove obsolete validate jobs\n\nThese validate jobs have been replaced by openstack-tox-validate, remove\nthem as unused.\n\nChange-Id: I386a1669f27d5a3da81a7af3167050889b0a9ea7\nDepends-On: I53a40244c58198fbd706bf7db2125ebf016eae9a\n'}]",0,509579,9c6d7351ea4d04a6b0f9c263f1d79f64b81a97e6,15,5,3,6547,,,0,"Remove obsolete validate jobs

These validate jobs have been replaced by openstack-tox-validate, remove
them as unused.

Change-Id: I386a1669f27d5a3da81a7af3167050889b0a9ea7
Depends-On: I53a40244c58198fbd706bf7db2125ebf016eae9a
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/79/509579/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/requirements-tox-validate/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/releases-tox-validate/run.yaml', 'playbooks/legacy/governance-tox-validate/run.yaml', 'playbooks/legacy/project-navigator-data-tox-validate/run.yaml', 'playbooks/legacy/governance-tox-validate/post.yaml', 'playbooks/legacy/project-navigator-data-tox-validate/post.yaml', 'playbooks/legacy/releases-tox-validate/post.yaml', 'playbooks/legacy/requirements-tox-validate/run.yaml']",9,a5ce6d110c53eba5ba0daf207cafd817a2ca38d2,zuulv3-jobs,,"- hosts: all name: Autoconverted job legacy-requirements-tox-validate from old job gate-requirements-tox-validate-ubuntu-xenial tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x CLONEMAP=`mktemp` REQS_DIR=`mktemp -d` function cleanup { mkdir -p $WORKSPACE rm -rf $CLONEMAP $REQS_DIR } trap cleanup EXIT cat > $CLONEMAP << EOF clonemap: - name: $ZUUL_PROJECT dest: . EOF # zuul cloner works poorly if there are 2 names that are the # same in here. if [[ ""$ZUUL_PROJECT"" != ""openstack/requirements"" ]]; then cat >> $CLONEMAP << EOF - name: openstack/requirements dest: $REQS_DIR EOF fi /usr/zuul-env/bin/zuul-cloner -m $CLONEMAP --cache-dir /opt/git \ git://git.openstack.org $ZUUL_PROJECT openstack/requirements # REQS_DIR is not set for openstack/requirements and there is also # no need to copy in this case. if [[ ""$ZUUL_PROJECT"" != ""openstack/requirements"" ]]; then cp $REQS_DIR/upper-constraints.txt ./ fi executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: /usr/local/jenkins/slave_scripts/install-distro-packages.sh chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | if [ -x tools/test-setup.sh ] ; then tools/test-setup.sh fi chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -x sudo rm -f /etc/sudoers.d/zuul # Prove that general sudo access is actually revoked ! sudo -n true executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: /usr/local/jenkins/slave_scripts/run-tox.sh validate chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | OUT=`git ls-files --other --exclude-standard --directory` if [ -z ""$OUT"" ]; then echo ""No extra files created during test."" exit 0 else echo ""The following un-ignored files were created during the test:"" echo ""$OUT"" exit 0 # TODO: change to 1 to fail tests. fi executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",0,649
openstack%2Fnova~master~Iae2962bb86100f03fd3ad9aac3767da876291e74,openstack/nova,master,Iae2962bb86100f03fd3ad9aac3767da876291e74,Support qemu >= 2.10,MERGED,2017-09-20 14:46:02.000000000,2017-10-05 13:27:12.000000000,2017-10-02 09:18:24.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 3189}, {'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 11564}, {'_account_id': 13252}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-20 14:46:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e9081e41a0465afe0a83b375b3e1a1ef91ec501', 'message': ""WIP: check qemu version when calling qemu-img info\n\nWe need to pass the --force-share flag to qemu-img info\nif qemu >= 2.10.\n\nThis sets the flag in the images module when the libvirt driver\nstarts up.\n\nThis isn't great, but it's worth testing. Another solution would\nbe to handle the error, parse the stderr for the message we expect\nand re-run with the --force-share option.\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n""}, {'number': 2, 'created': '2017-09-20 16:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/802508bca0b159a9cc6bff4f7efd052f19e8840a', 'message': ""WIP: check qemu version when calling qemu-img info\n\nWe need to pass the --force-share flag to qemu-img info\nif qemu >= 2.10.\n\nThis sets the flag in the images module when the libvirt driver\nstarts up.\n\nThis isn't great, but it's worth testing. Another solution would\nbe to handle the error, parse the stderr for the message we expect\nand re-run with the --force-share option.\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n""}, {'number': 3, 'created': '2017-09-21 12:29:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/830f695858760aaaf4a98c2f88dc56d387581a0a', 'message': 'Support qemu >= 2.10\n\nQemu 2.10 added the requirement of a --force-share flag to qemu-img\ninfo when reading information about a disk that is in use by a\nguest. We do this a lot in Nova for operations like gathering\ninformation before live migration.\n\nUp until this point all qemu/libvirt version matching has been solely\ninside the libvirt driver, however all the image manip code was moved\nout to nova.virt.images. We need the version of QEMU available there.\n\nThis does it by initializing that version on driver init host. The net\neffect is also that broken libvirt connections are figured out\nearlier, as there is an active probe for this value.\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n'}, {'number': 4, 'created': '2017-09-21 16:38:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/de5bfa8560c803b45cfc7c0a962e3015959e7a36', 'message': 'Support qemu >= 2.10\n\nQemu 2.10 added the requirement of a --force-share flag to qemu-img\ninfo when reading information about a disk that is in use by a\nguest. We do this a lot in Nova for operations like gathering\ninformation before live migration.\n\nUp until this point all qemu/libvirt version matching has been solely\ninside the libvirt driver, however all the image manip code was moved\nout to nova.virt.images. We need the version of QEMU available there.\n\nThis does it by initializing that version on driver init host. The net\neffect is also that broken libvirt connections are figured out\nearlier, as there is an active probe for this value.\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n'}, {'number': 5, 'created': '2017-09-21 19:25:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99b869ae59dc1ec41cf916135c6eed0f261ba542', 'message': 'Support qemu >= 2.10\n\nQemu 2.10 added the requirement of a --force-share flag to qemu-img\ninfo when reading information about a disk that is in use by a\nguest. We do this a lot in Nova for operations like gathering\ninformation before live migration.\n\nUp until this point all qemu/libvirt version matching has been solely\ninside the libvirt driver, however all the image manip code was moved\nout to nova.virt.images. We need the version of QEMU available there.\n\nThis does it by initializing that version on driver init host. The net\neffect is also that broken libvirt connections are figured out\nearlier, as there is an active probe for this value.\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n'}, {'number': 6, 'created': '2017-09-26 15:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/700d2447f316f359c93a496e8194ebe2403fe570', 'message': 'Support qemu >= 2.10\n\nQemu 2.10 added the requirement of a --force-share flag to qemu-img\ninfo when reading information about a disk that is in use by a\nguest. We do this a lot in Nova for operations like gathering\ninformation before live migration.\n\nUp until this point all qemu/libvirt version matching has been solely\ninside the libvirt driver, however all the image manip code was moved\nout to nova.virt.images. We need the version of QEMU available there.\n\nThis does it by initializing that version on driver init host. The net\neffect is also that broken libvirt connections are figured out\nearlier, as there is an active probe for this value.\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n'}, {'number': 7, 'created': '2017-09-27 13:11:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c558edfe56e477f3bc7fb98e01ea1325845d2b91', 'message': 'Support qemu >= 2.10\n\nQemu 2.10 added the requirement of a --force-share flag to qemu-img\ninfo when reading information about a disk that is in use by a\nguest. We do this a lot in Nova for operations like gathering\ninformation before live migration.\n\nUp until this point all qemu/libvirt version matching has been solely\ninside the libvirt driver, however all the image manip code was moved\nout to nova.virt.images. We need the version of QEMU available there.\n\nThis does it by initializing that version on driver init host. The net\neffect is also that broken libvirt connections are figured out\nearlier, as there is an active probe for this value.\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n'}, {'number': 8, 'created': '2017-09-27 16:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6237a98e010bb2ff0da6776fd14a062694ce1878', 'message': 'Support qemu >= 2.10\n\nQemu 2.10 added the requirement of a --force-share flag to qemu-img\ninfo when reading information about a disk that is in use by a\nguest. We do this a lot in Nova for operations like gathering\ninformation before live migration.\n\nUp until this point all qemu/libvirt version matching has been solely\ninside the libvirt driver, however all the image manip code was moved\nout to nova.virt.images. We need the version of QEMU available there.\n\nThis does it by initializing that version on driver init host. The net\neffect is also that broken libvirt connections are figured out\nearlier, as there is an active probe for this value.\n\nCo-Authored-By: Sean Dague <sean@dague.net>\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n'}, {'number': 9, 'created': '2017-09-27 20:45:52.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/test.py', 'nova/tests/unit/virt/libvirt/test_utils.py', 'nova/tests/unit/virt/libvirt/test_driver.py', 'nova/virt/images.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/807579755c4a116309eca5b2bcdbab9d1f393bab', 'message': 'Support qemu >= 2.10\n\nQemu 2.10 added the requirement of a --force-share flag to qemu-img\ninfo when reading information about a disk that is in use by a\nguest. We do this a lot in Nova for operations like gathering\ninformation before live migration.\n\nUp until this point all qemu/libvirt version matching has been solely\ninside the libvirt driver, however all the image manip code was moved\nout to nova.virt.images. We need the version of QEMU available there.\n\nThis does it by initializing that version on driver init host. The net\neffect is also that broken libvirt connections are figured out\nearlier, as there is an active probe for this value.\n\nCo-Authored-By: Sean Dague <sean@dague.net>\n\nChange-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74\nCloses-Bug: #1718295\n'}]",15,505673,807579755c4a116309eca5b2bcdbab9d1f393bab,154,24,9,6873,,,0,"Support qemu >= 2.10

Qemu 2.10 added the requirement of a --force-share flag to qemu-img
info when reading information about a disk that is in use by a
guest. We do this a lot in Nova for operations like gathering
information before live migration.

Up until this point all qemu/libvirt version matching has been solely
inside the libvirt driver, however all the image manip code was moved
out to nova.virt.images. We need the version of QEMU available there.

This does it by initializing that version on driver init host. The net
effect is also that broken libvirt connections are figured out
earlier, as there is an active probe for this value.

Co-Authored-By: Sean Dague <sean@dague.net>

Change-Id: Iae2962bb86100f03fd3ad9aac3767da876291e74
Closes-Bug: #1718295
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/505673/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/images.py']",2,9e9081e41a0465afe0a83b375b3e1a1ef91ec501,bug/1718295,"import operator# This is set by the libvirt driver on startup. The version is used to # determine what flags need to be set on the command line. QEMU_VERSION = None # Check to see if the qemu version is >= 2.10 because if so, we need # to add the --force-share flag. if QEMU_VERSION and operator.ge(QEMU_VERSION, 2001000): cmd = cmd + ('--force-share',)",,18,5
openstack%2Fnetworking-midonet~master~Ia35942d0b4d65284e06df69baa9e10e073e51693,openstack/networking-midonet,master,Ia35942d0b4d65284e06df69baa9e10e073e51693,Updated from global requirements,MERGED,2017-10-04 13:38:06.000000000,2017-10-05 13:18:12.000000000,2017-10-05 13:18:04.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-10-04 13:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f5fb3737c0295616172d3292970e37dc70bee055', 'message': 'Updated from global requirements\n\nChange-Id: Ia35942d0b4d65284e06df69baa9e10e073e51693\n'}, {'number': 2, 'created': '2017-10-05 01:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7c6cebc1cdeb6abe07ae8486c548f5a8554ba086', 'message': 'Updated from global requirements\n\nChange-Id: Ia35942d0b4d65284e06df69baa9e10e073e51693\n'}, {'number': 3, 'created': '2017-10-05 02:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/9ce7ec268a1dae39e13ef4da1be007fb95fde27c', 'message': 'Updated from global requirements\n\nChange-Id: Ia35942d0b4d65284e06df69baa9e10e073e51693\n'}, {'number': 4, 'created': '2017-10-05 02:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6310f51a3163ce02dee3ede82205691a702fda36', 'message': 'Updated from global requirements\n\nChange-Id: Ia35942d0b4d65284e06df69baa9e10e073e51693\n'}, {'number': 5, 'created': '2017-10-05 03:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6f2017278f58696393db678e73071ffe8c75c83d', 'message': 'Updated from global requirements\n\nChange-Id: Ia35942d0b4d65284e06df69baa9e10e073e51693\n'}, {'number': 6, 'created': '2017-10-05 03:28:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/0cb6440404f45bb11b9f8c333e18308b13d9a5e8', 'message': 'Updated from global requirements\n\nChange-Id: Ia35942d0b4d65284e06df69baa9e10e073e51693\n'}, {'number': 7, 'created': '2017-10-05 03:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/a38058bfc1c9383e33c391fa11c90c0a8182a8ae', 'message': 'Updated from global requirements\n\nChange-Id: Ia35942d0b4d65284e06df69baa9e10e073e51693\n'}, {'number': 8, 'created': '2017-10-05 04:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/ca384f66032afdbd4471532a2d3ee619f327662f', 'message': 'Updated from global requirements\n\nChange-Id: Ia35942d0b4d65284e06df69baa9e10e073e51693\n'}, {'number': 9, 'created': '2017-10-05 06:06:19.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/38d082f9a621e0863af39ca06c89565356cf08a4', 'message': 'Updated from global requirements\n\nChange-Id: Ia35942d0b4d65284e06df69baa9e10e073e51693\n'}]",0,509445,38d082f9a621e0863af39ca06c89565356cf08a4,18,4,9,11131,,,0,"Updated from global requirements

Change-Id: Ia35942d0b4d65284e06df69baa9e10e073e51693
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/45/509445/8 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f5fb3737c0295616172d3292970e37dc70bee055,openstack/requirements,"cliff!=2.9.0,>=2.8.0 # Apache-2.0",cliff>=2.8.0 # Apache-2.0,1,1
openstack%2Fswift~master~I8a29a685bb12e60f4da4a0dc8270b408241ec415,openstack/swift,master,I8a29a685bb12e60f4da4a0dc8270b408241ec415,Add account_autocreate=true to internal-client.conf-sample,MERGED,2017-09-26 09:28:51.000000000,2017-10-05 13:17:56.000000000,2017-10-05 13:17:56.000000000,"[{'_account_id': 3}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 13052}, {'_account_id': 15343}, {'_account_id': 22348}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-09-26 09:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/14e37f55bf894cbd7b6d44f33129ac8d6bce471f', 'message': 'Add account_autocreate=true to internal-client.conf-sample\n\nCloses-Bug: #1698426\nChange-Id: I8a29a685bb12e60f4da4a0dc8270b408241ec415\n'}, {'number': 2, 'created': '2017-09-26 10:52:22.000000000', 'files': ['swift/container/sync.py', 'etc/internal-client.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/c662e5fc8e7800ca516468aaab582c146063c3d6', 'message': 'Add account_autocreate=true to internal-client.conf-sample\n\nCloses-Bug: #1698426\nChange-Id: I8a29a685bb12e60f4da4a0dc8270b408241ec415\n'}]",1,507447,c662e5fc8e7800ca516468aaab582c146063c3d6,25,7,2,7847,,,0,"Add account_autocreate=true to internal-client.conf-sample

Closes-Bug: #1698426
Change-Id: I8a29a685bb12e60f4da4a0dc8270b408241ec415
",git fetch https://review.opendev.org/openstack/swift refs/changes/47/507447/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/internal-client.conf-sample'],1,14e37f55bf894cbd7b6d44f33129ac8d6bce471f,bug/1698426,account_autocreate = true,,1,0
openstack%2Freleases~master~Idad096e334ba444d28faf064b7d7f2d3d163ca8e,openstack/releases,master,Idad096e334ba444d28faf064b7d7f2d3d163ca8e,Ensure tag can be looked up outside cgit,MERGED,2017-09-29 10:18:32.000000000,2017-10-05 13:13:25.000000000,2017-10-05 13:13:25.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-29 10:18:32.000000000', 'files': ['openstack_releases/cmds/validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/2f9bf8068ef65cea600ea01dfb1018d1b62d3ce9', 'message': 'Ensure tag can be looked up outside cgit\n\nUnder the very special cases where a release still need to happen\nfor a deliverable which contained releases of a deprecated\nrepository, the release would fail.\n\nA deprecated repository has its ACL changed and therefore the\ninterface to cgit disappears. We cannot reliably use cgit for\ndiscovering references.\n\nBecause all the repositories should have been already staged\nin workdir, we could directly fetch the reference there.\nAnd because a tag is a reference like a commit, we re-use\nthe same code to discover the presence of the tag.\n\nChange-Id: Idad096e334ba444d28faf064b7d7f2d3d163ca8e\n'}]",0,508482,2f9bf8068ef65cea600ea01dfb1018d1b62d3ce9,21,6,1,17068,,,0,"Ensure tag can be looked up outside cgit

Under the very special cases where a release still need to happen
for a deliverable which contained releases of a deprecated
repository, the release would fail.

A deprecated repository has its ACL changed and therefore the
interface to cgit disappears. We cannot reliably use cgit for
discovering references.

Because all the repositories should have been already staged
in workdir, we could directly fetch the reference there.
And because a tag is a reference like a commit, we re-use
the same code to discover the presence of the tag.

Change-Id: Idad096e334ba444d28faf064b7d7f2d3d163ca8e
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/508482/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/validate.py'],1,2f9bf8068ef65cea600ea01dfb1018d1b62d3ce9,validate_tag_exists_locally," # Check the presence of tag in the references version_exists = gitutils.commit_exists( workdir, project['repo'], release['version'],"," version_exists = gitutils.tag_exists( project['repo'], release['version'],",3,2
openstack%2Fmanila-ui~master~I578e65f2ff90a1855f5b26fd7ee66add18f5c932,openstack/manila-ui,master,I578e65f2ff90a1855f5b26fd7ee66add18f5c932,Imported Translations from Zanata,MERGED,2017-10-04 19:11:23.000000000,2017-10-05 13:03:26.000000000,2017-10-05 13:03:26.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 17765}]","[{'number': 1, 'created': '2017-10-04 19:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/1b69ed68529a5cccc90ae5f4c7b6c87e6234d3bd', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I578e65f2ff90a1855f5b26fd7ee66add18f5c932\n'}, {'number': 2, 'created': '2017-10-05 10:55:40.000000000', 'files': ['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/7770b6cb65e01877b3c226c377c774d3ae071c20', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I578e65f2ff90a1855f5b26fd7ee66add18f5c932\n'}]",0,509598,7770b6cb65e01877b3c226c377c774d3ae071c20,11,4,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I578e65f2ff90a1855f5b26fd7ee66add18f5c932
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/98/509598/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po'],1,1b69ed68529a5cccc90ae5f4c7b6c87e6234d3bd,zanata/translations,"""POT-Creation-Date: 2017-09-23 16:19+0000\n""""PO-Revision-Date: 2017-09-29 10:29+0000\n"" ""Last-Translator: Robert Simai <robert.simai@suse.com>\n""msgid ""2.7.1-9"" msgstr ""2.7.1-9"" msgid ""Pike Series Release Notes"" msgstr ""Pike Serie Release Notes"" ","""POT-Creation-Date: 2017-09-23 01:14+0000\n""""PO-Revision-Date: 2017-08-21 07:37+0000\n"" ""Last-Translator: Frank Kloeker <eumel@arcor.de>\n""",9,3
openstack%2Fironic~master~I7127d3765d38560d3b388ab987449770bef8bef0,openstack/ironic,master,I7127d3765d38560d3b388ab987449770bef8bef0,Fix devstack plugin call to configure_auth_token_middleware,ABANDONED,2017-10-03 11:01:08.000000000,2017-10-05 13:01:59.000000000,,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 6637}, {'_account_id': 9542}, {'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 14760}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 20035}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-10-03 11:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/49ddc7718b6c5cf8ef6ad4db79af4d663683a19e', 'message': 'Fix devstack plugin call to configure_auth_token_middleware\n\nOpenStack-dev commit ef5ebed6c9ca3d9d47fd2a732a1542555a0f65ba removed a\nparameter from the configure_auth_token_middleware function, which\ncaused us to pass an invalid value into the ""section"" variable the\nfunction is using, this appears to have broken our devstack plugin.\n\nChange-Id: I7127d3765d38560d3b388ab987449770bef8bef0\n'}, {'number': 2, 'created': '2017-10-03 12:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/79d265fcde36eca2199bfc1ee0aa2ac61387bfc9', 'message': 'Fix devstack plugin call to configure_auth_token_middleware\n\nOpenStack-dev commit ef5ebed6c9ca3d9d47fd2a732a1542555a0f65ba removed a\nparameter from the configure_auth_token_middleware function, which\ncaused us to pass an invalid value into the ""section"" variable the\nfunction is using, this appears to have broken our devstack plugin.\n\nChange-Id: I7127d3765d38560d3b388ab987449770bef8bef0\n'}, {'number': 3, 'created': '2017-10-03 14:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/349226673562e27e26ac167db596fe80edbde316', 'message': 'Fix devstack plugin call to configure_auth_token_middleware\n\nOpenStack-dev commit ef5ebed6c9ca3d9d47fd2a732a1542555a0f65ba removed a\nparameter from the configure_auth_token_middleware function, which\ncaused us to pass an invalid value into the ""section"" variable the\nfunction is using, this appears to have broken our devstack plugin.\n\nChange-Id: I7127d3765d38560d3b388ab987449770bef8bef0\n'}, {'number': 4, 'created': '2017-10-03 15:09:31.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/946363b6f79f15a56002598cdb3a9db0d0c4697c', 'message': 'Fix devstack plugin call to configure_auth_token_middleware\n\nOpenStack-dev commit ef5ebed6c9ca3d9d47fd2a732a1542555a0f65ba removed a\nparameter from the configure_auth_token_middleware function, which\ncaused us to pass an invalid value into the ""section"" variable the\nfunction is using, this appears to have broken our devstack plugin.\n\nCloses-Bug: #1721027\nChange-Id: I7127d3765d38560d3b388ab987449770bef8bef0\n'}]",3,509148,946363b6f79f15a56002598cdb3a9db0d0c4697c,39,11,4,6637,,,0,"Fix devstack plugin call to configure_auth_token_middleware

OpenStack-dev commit ef5ebed6c9ca3d9d47fd2a732a1542555a0f65ba removed a
parameter from the configure_auth_token_middleware function, which
caused us to pass an invalid value into the ""section"" variable the
function is using, this appears to have broken our devstack plugin.

Closes-Bug: #1721027
Change-Id: I7127d3765d38560d3b388ab987449770bef8bef0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/509148/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,49ddc7718b6c5cf8ef6ad4db79af4d663683a19e,bug/1721027, configure_auth_token_middleware $IRONIC_CONF_FILE ironic, configure_auth_token_middleware $IRONIC_CONF_FILE ironic $IRONIC_AUTH_CACHE_DIR/api,1,1
openstack%2Ftripleo-quickstart~master~I393dfe41954012aa4cff07bd8741b4aa6c46bafc,openstack/tripleo-quickstart,master,I393dfe41954012aa4cff07bd8741b4aa6c46bafc,"Added newer stable releases (ocata, pike)",MERGED,2017-10-04 13:14:38.000000000,2017-10-05 13:00:23.000000000,2017-10-05 13:00:23.000000000,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 10022}, {'_account_id': 18846}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-04 13:14:38.000000000', 'files': ['config/release/stable/pike.yml', 'config/release/stable/ocata.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f9b910b5911a7b9f85c437b19f3d13f833b73223', 'message': 'Added newer stable releases (ocata, pike)\n\nWith this config files new releases stable/ocata and stable/pike are\ndefined. These stable releases get the files from rdoproject cbs stable\nimages, allowing user to deploy a system with stable packages and images.\n\nChange-Id: I393dfe41954012aa4cff07bd8741b4aa6c46bafc\n'}]",0,509434,f9b910b5911a7b9f85c437b19f3d13f833b73223,10,5,1,23805,,,0,"Added newer stable releases (ocata, pike)

With this config files new releases stable/ocata and stable/pike are
defined. These stable releases get the files from rdoproject cbs stable
images, allowing user to deploy a system with stable packages and images.

Change-Id: I393dfe41954012aa4cff07bd8741b4aa6c46bafc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/34/509434/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/stable/pike.yml', 'config/release/stable/ocata.yml']",2,f9b910b5911a7b9f85c437b19f3d13f833b73223,new_stable_releases,release: ocata undercloud_image_url: https://images.rdoproject.org/ocata/cbs/cloudsig-stable/stable/undercloud.qcow2 overcloud_image_url: https://images.rdoproject.org/ocata/cbs/cloudsig-stable/stable/overcloud-full.tar ipa_image_url: https://images.rdoproject.org/ocata/cbs/cloudsig-stable/stable/ironic-python-agent.tar repos: - type: package pkg_name: centos-release-openstack-ocata custom_cmd: 'sudo yum install -y --enablerepo=extras' repo_cmd_after: | sudo yum-config-manager --save --setopt centos-ceph-jewel.gpgcheck=0 sudo yum repolist; sudo yum update -y ,,28,0
openstack%2Ftempest~master~I046af7919a21b3c78d7daf5d1ae330d814aef09f,openstack/tempest,master,I046af7919a21b3c78d7daf5d1ae330d814aef09f,Delete identity domain must delete its contents,ABANDONED,2017-10-04 19:03:48.000000000,2017-10-05 12:58:36.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-10-04 19:03:48.000000000', 'files': ['tempest/api/identity/admin/v3/test_domains.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e7bae0ef5920358504da48f2f60ae75163320388', 'message': 'Delete identity domain must delete its contents\n\nThis patch adds a test to make sure the domain contents are deleted\nwhen a domain is deleted.\n\nChange-Id: I046af7919a21b3c78d7daf5d1ae330d814aef09f\nRelated-Bug: #1718747\n'}]",0,509596,e7bae0ef5920358504da48f2f60ae75163320388,3,1,1,17860,,,0,"Delete identity domain must delete its contents

This patch adds a test to make sure the domain contents are deleted
when a domain is deleted.

Change-Id: I046af7919a21b3c78d7daf5d1ae330d814aef09f
Related-Bug: #1718747
",git fetch https://review.opendev.org/openstack/tempest refs/changes/96/509596/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_domains.py'],1,e7bae0ef5920358504da48f2f60ae75163320388,bug/1718747,"from tempest.lib import exceptions @decorators.idempotent_id('f2f5b44a-82e8-4dad-8084-0661ea3b18cf') def test_domain_delete_cascades_content(self): # Create domain d_name = data_utils.rand_name('domain') domain = self.domains_client.create_domain(name=d_name)['domain'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, self._delete_domain, domain['id']) # Create user u_name = data_utils.rand_name('user') u_password = data_utils.rand_password() user = self.users_client.create_user( name=u_name, password=u_password, domain_id=domain['id'])['user'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.users_client.delete_user, user['id']) # Create group g_name = data_utils.rand_name('group') group = self.groups_client.create_group( name=g_name, domain_id=domain['id'])['group'] self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.groups_client.delete_group, group['id']) # Disable and delete domain self.domains_client.update_domain(domain['id'], enabled=False) self.domains_client.delete_domain(domain['id']) # Check the domain, its users and groups are gone self.assertRaises(exception.NotFound, self.domains_client.show_domain, domain['id']) self.assertRaises(exception.NotFound, self.users_client.show_user, user['id']) self.assertRaises(exception.NotFound, self.groups_client.show_group, group['id']) ",,32,0
openstack%2Fnova~master~Icb418f2be575bb2ba82756fdeb67b24a28950746,openstack/nova,master,Icb418f2be575bb2ba82756fdeb67b24a28950746,Set group_members when converting to legacy request spec,MERGED,2017-09-27 17:34:55.000000000,2017-10-05 12:51:28.000000000,2017-10-05 00:58:16.000000000,"[{'_account_id': 3}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-27 17:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/612d34d5930fbaac2e03d2256344945b6c7c8b86', 'message': 'Set group_members when converting to legacy request spec\n\nIn Pike we converted the affinity filter code to use the RequestSpec\nobject instead of legacy dicts. The filter used to populate server\ngroup info in the filter_properties and the conversion removed that.\nHowever, in the conductor, we are still converting RequestSpec back\nand forth between object and primitive, and there is a mismatch\nbetween the keys being set/get in filter_properties. So during a\nreschedule with a server group, we hit an exception\n""\'NoneType\' object is not iterable"" in the RequestSpec.from_primitives\nmethod and the reschedule fails.\n\nThis adds \'group_members\' to the _to_legacy_group_info method to set\nthe key.\n\nCloses-Bug: #1719730\n\nChange-Id: Icb418f2be575bb2ba82756fdeb67b24a28950746\n'}, {'number': 2, 'created': '2017-09-27 19:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/64b60a63d6030bd4c996d7222b53259f2cd1fe06', 'message': 'Set group_members when converting to legacy request spec\n\nIn Pike we converted the affinity filter code to use the RequestSpec\nobject instead of legacy dicts. The filter used to populate server\ngroup info in the filter_properties and the conversion removed that.\nHowever, in the conductor, we are still converting RequestSpec back\nand forth between object and primitive, and there is a mismatch\nbetween the keys being set/get in filter_properties. So during a\nreschedule with a server group, we hit an exception\n""\'NoneType\' object is not iterable"" in the RequestSpec.from_primitives\nmethod and the reschedule fails.\n\nThis adds \'group_members\' to the _to_legacy_group_info method to set\nthe key.\n\nCloses-Bug: #1719730\n\nChange-Id: Icb418f2be575bb2ba82756fdeb67b24a28950746\n'}, {'number': 3, 'created': '2017-09-27 20:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/abda186d73a5ece7dc7c2559540279f913119eff', 'message': 'Set group_members when converting to legacy request spec\n\nIn Pike we converted the affinity filter code to use the RequestSpec\nobject instead of legacy dicts. The filter used to populate server\ngroup info in the filter_properties and the conversion removed that.\nHowever, in the conductor, we are still converting RequestSpec back\nand forth between object and primitive, and there is a mismatch\nbetween the keys being set/get in filter_properties. So during a\nreschedule with a server group, we hit an exception\n""\'NoneType\' object is not iterable"" in the RequestSpec.from_primitives\nmethod and the reschedule fails.\n\nThis adds \'group_members\' to the _to_legacy_group_info method to set\nthe key.\n\nCloses-Bug: #1719730\n\nChange-Id: Icb418f2be575bb2ba82756fdeb67b24a28950746\n'}, {'number': 4, 'created': '2017-09-27 20:52:26.000000000', 'files': ['nova/objects/request_spec.py', 'nova/tests/functional/regressions/test_bug_1719730.py', 'nova/tests/unit/objects/test_request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9d6632a67d91fb3c5145c14ac38011e919d6d8c0', 'message': 'Set group_members when converting to legacy request spec\n\nIn Pike we converted the affinity filter code to use the RequestSpec\nobject instead of legacy dicts. The filter used to populate server\ngroup info in the filter_properties and the conversion removed that.\nHowever, in the conductor, we are still converting RequestSpec back\nand forth between object and primitive, and there is a mismatch\nbetween the keys being set/get in filter_properties. So during a\nreschedule with a server group, we hit an exception\n""\'NoneType\' object is not iterable"" in the RequestSpec.from_primitives\nmethod and the reschedule fails.\n\nThis adds \'group_members\' to the _to_legacy_group_info method to set\nthe key.\n\nCloses-Bug: #1719730\n\nChange-Id: Icb418f2be575bb2ba82756fdeb67b24a28950746\n'}]",7,507938,9d6632a67d91fb3c5145c14ac38011e919d6d8c0,77,17,4,4690,,,0,"Set group_members when converting to legacy request spec

In Pike we converted the affinity filter code to use the RequestSpec
object instead of legacy dicts. The filter used to populate server
group info in the filter_properties and the conversion removed that.
However, in the conductor, we are still converting RequestSpec back
and forth between object and primitive, and there is a mismatch
between the keys being set/get in filter_properties. So during a
reschedule with a server group, we hit an exception
""'NoneType' object is not iterable"" in the RequestSpec.from_primitives
method and the reschedule fails.

This adds 'group_members' to the _to_legacy_group_info method to set
the key.

Closes-Bug: #1719730

Change-Id: Icb418f2be575bb2ba82756fdeb67b24a28950746
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/507938/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/functional/regressions/test_bug_1719730.py']",2,612d34d5930fbaac2e03d2256344945b6c7c8b86,bug/1719730,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from nova import exception from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit import cast_as_call from nova.tests.unit import fake_network import nova.tests.unit.image.fake from nova.tests.unit import policy_fixture from nova.virt import fake class TestRescheduleWithServerGroup(test.TestCase, integrated_helpers.InstanceHelperMixin): """"""This tests a regression introduced in the Pike release. In Pike we converted the affinity filter code to use the RequestSpec object instead of legacy dicts. The filter used to populate server group info in the filter_properties and the conversion removed that. However, in the conductor, we are still converting RequestSpec back and forth between object and primitive, and there is a mismatch between the keys being set/get in filter_properties. So during a reschedule with a server group, we hit an exception ""'NoneType' object is not iterable"" in the RequestSpec.from_primitives method and the reschedule fails. """""" def setUp(self): super(TestRescheduleWithServerGroup, self).setUp() self.useFixture(policy_fixture.RealPolicyFixture()) # The NeutronFixture is needed to stub out validate_networks in API. self.useFixture(nova_fixtures.NeutronFixture(self)) # This stubs out the network allocation in compute. fake_network.set_stub_network_methods(self) # We need the computes reporting into placement for the filter # scheduler to pick a host. self.useFixture(nova_fixtures.PlacementFixture()) api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.api # The admin API is used to get the server details to verify the # host on which the server was built. self.admin_api = api_fixture.admin_api # the image fake backend needed for image discovery nova.tests.unit.image.fake.stub_out_image_service(self) self.start_service('conductor') self.start_service('scheduler') # We start two compute services because we're going to fake one raising # RescheduledException to trigger a retry to the other compute host. fake.set_nodes(['host1']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='host1') fake.set_nodes(['host2']) self.addCleanup(fake.restore_nodes) self.start_service('compute', host='host2') self.useFixture(cast_as_call.CastAsCall(self)) self.image_id = self.api.get_images()[0]['id'] self.flavor_id = self.api.get_flavors()[0]['id'] # This is our flag that we set when we hit the first host and # made it fail. self.failed_host = None self.attempts = 0 def fake_validate_instance_group_policy(_self, *args, **kwargs): self.attempts += 1 if self.failed_host is None: # Set the failed_host value to the ComputeManager.host value. self.failed_host = _self.host raise exception.RescheduledException(instance_uuid='fake', reason='Policy violated') self.stub_out('nova.compute.manager.ComputeManager.' '_validate_instance_group_policy', fake_validate_instance_group_policy) def test_reschedule_with_server_group(self): """"""Tests the reschedule with server group when one compute host fails. This tests the scenario where we have two compute services and try to build a single server. The test is setup such that the scheduler picks the first host which we mock out to fail the late affinity check. This should then trigger a retry on the second host. """""" group = {'name': 'a-name', 'policies': ['affinity']} created_group = self.api.post_server_groups(group) server = {'name': 'retry-with-server-group', 'imageRef': self.image_id, 'flavorRef': self.flavor_id} hints = {'group': created_group['id']} created_server = self.api.post_server({'server': server, 'os:scheduler_hints': hints}) found_server = self._wait_for_state_change(self.admin_api, created_server, 'ACTIVE') # Assert that the host is not the failed host. self.assertNotEqual(self.failed_host, found_server['OS-EXT-SRV-ATTR:host']) # Assert that we retried. self.assertEqual(2, self.attempts) ",,121,1
openstack%2Ftripleo-heat-templates~master~Id0c159d931598a895951767c37b7ea187739f779,openstack/tripleo-heat-templates,master,Id0c159d931598a895951767c37b7ea187739f779,Convert scenario004/containers to ceph-ansible,ABANDONED,2017-09-06 20:42:02.000000000,2017-10-05 12:49:00.000000000,,"[{'_account_id': 3}, {'_account_id': 6796}, {'_account_id': 8042}, {'_account_id': 13039}, {'_account_id': 18002}]","[{'number': 1, 'created': '2017-09-06 20:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/770759488f336b0e88fc087e0ab92eecce6c0223', 'message': 'Convert scenario004/containers to ceph-ansible\n\nPreviously scenario004/containers was using puppet-ceph for the\ndeployment of Ceph.\n\nChange-Id: Id0c159d931598a895951767c37b7ea187739f779\n'}, {'number': 2, 'created': '2017-10-05 12:30:52.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/169625f1d6538016cba68d5591d0f78f94170d1c', 'message': 'Convert scenario004/containers to ceph-ansible\n\nPreviously scenario004/containers was using puppet-ceph for the\ndeployment of Ceph.\n\nChange-Id: Id0c159d931598a895951767c37b7ea187739f779\n'}]",3,501422,169625f1d6538016cba68d5591d0f78f94170d1c,7,5,2,6796,,,0,"Convert scenario004/containers to ceph-ansible

Previously scenario004/containers was using puppet-ceph for the
deployment of Ceph.

Change-Id: Id0c159d931598a895951767c37b7ea187739f779
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/501422/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml']",2,770759488f336b0e88fc087e0ab92eecce6c0223,bug/1715321, OS::TripleO::Services::CephMds: ../../docker/services/ceph-ansible/ceph-mds.yaml OS::TripleO::Services::CephMon: ../../docker/services/ceph-ansible/ceph-mon.yaml OS::TripleO::Services::CephOSD: ../../docker/services/ceph-ansible/ceph-osd.yaml OS::TripleO::Services::CephRgw: ../../docker/services/ceph-ansible/ceph-rgw.yaml OS::TripleO::Services::CephClient: ../../docker/services/ceph-ansible/ceph-client.yaml CephAnsibleDisksConfig: devices: - /dev/loop3 journal_size: 512 journal_collocation: true osd_scenario: collocated CephAnsibleExtraConfig: ceph_conf_overrides: global: osd_pool_default_size: 1 osd_pool_default_pg_num: 32 osd_max_object_name_len: 256 osd_max_object_namespace_len: 64 centos_package_dependencies: [] CephAnsibleSkipTags: '' NovaEnableRbdBackend: true CinderEnableRbdBackend: true CinderBackupBackend: ceph GlanceBackend: rbd GnocchiBackend: rbd CinderEnableIscsiBackend: false, OS::TripleO::Services::CephMds: ../../puppet/services/ceph-mds.yaml OS::TripleO::Services::CephMon: ../../puppet/services/ceph-mon.yaml OS::TripleO::Services::CephOSD: ../../puppet/services/ceph-osd.yaml OS::TripleO::Services::CephRgw: ../../puppet/services/ceph-rgw.yaml ExtraConfig: ceph::profile::params::osd_max_object_name_len: 256 ceph::profile::params::osd_max_object_namespace_len: 64,28,9
openstack%2Fkolla~master~I78dd929b0c43b577e443a8226a8d5b9a9c868626,openstack/kolla,master,I78dd929b0c43b577e443a8226a8d5b9a9c868626,Make plugins optional in opendaylight & ovn,MERGED,2017-09-27 11:23:17.000000000,2017-10-05 12:29:09.000000000,2017-10-05 12:29:09.000000000,"[{'_account_id': 3}, {'_account_id': 8157}, {'_account_id': 10787}, {'_account_id': 19316}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-09-27 11:23:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e3fa41452fcbc713a0676d08f1668d18e654b5dd', 'message': 'Make plugins optional in opendaylight & ovn\n\nOnly attempt to install plugins in these images if the user has enabled\nthem.\n\nChange-Id: I78dd929b0c43b577e443a8226a8d5b9a9c868626\n'}, {'number': 2, 'created': '2017-09-27 13:27:36.000000000', 'files': ['docker/neutron/neutron-server-ovn/Dockerfile.j2', 'docker/neutron/neutron-server-opendaylight/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f44366c722bc594559167cf92afe8f47d08a215a', 'message': 'Make plugins optional in opendaylight & ovn\n\nOnly attempt to install plugins in these images if the user has enabled\nthem.\n\nChange-Id: I78dd929b0c43b577e443a8226a8d5b9a9c868626\n'}]",0,507825,f44366c722bc594559167cf92afe8f47d08a215a,11,5,2,1390,,,0,"Make plugins optional in opendaylight & ovn

Only attempt to install plugins in these images if the user has enabled
them.

Change-Id: I78dd929b0c43b577e443a8226a8d5b9a9c868626
",git fetch https://review.opendev.org/openstack/kolla refs/changes/25/507825/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/neutron/neutron-server-ovn/Dockerfile.j2', 'docker/neutron/neutron-server-opendaylight/Dockerfile.j2']",2,e3fa41452fcbc713a0676d08f1668d18e654b5dd,,"RUN if [ ""$(ls /plugins)"" ]; then \ {{ macros.install_pip(neutron_server_opendaylight_plugins_pip_packages | customizable(""pip_packages"")) }}; \ fi","RUN {{ macros.install_pip(neutron_server_opendaylight_plugins_pip_packages | customizable(""pip_packages"")) }};",6,2
openstack%2Fopenstack-ansible~master~Ib15c28b65f8bb5863a26a4c63d1e55b428b5ff4d,openstack/openstack-ansible,master,Ib15c28b65f8bb5863a26a4c63d1e55b428b5ff4d,Fix zuul clonemap,MERGED,2017-10-04 12:31:51.000000000,2017-10-05 11:40:44.000000000,2017-10-05 11:40:44.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 24468}]","[{'number': 1, 'created': '2017-10-04 12:31:51.000000000', 'files': ['tests/get-ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1377af3d440071e33c27a1a13be6db300e52feb8', 'message': ""Fix zuul clonemap\n\nSince the inclusion of ansible-hardening, we changed the clonemap\nregex, but we didn't count the right amount of capturing brackets.\n\nThe brackreference we should use in our new case (since the\naddition of extra brackets) should be 2 instead of 1.\n\nChange-Id: Ib15c28b65f8bb5863a26a4c63d1e55b428b5ff4d\n""}]",0,509426,1377af3d440071e33c27a1a13be6db300e52feb8,13,5,1,17068,,,0,"Fix zuul clonemap

Since the inclusion of ansible-hardening, we changed the clonemap
regex, but we didn't count the right amount of capturing brackets.

The brackreference we should use in our new case (since the
addition of extra brackets) should be 2 instead of 1.

Change-Id: Ib15c28b65f8bb5863a26a4c63d1e55b428b5ff4d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/26/509426/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/get-ansible-role-requirements.yml'],1,1377af3d440071e33c27a1a13be6db300e52feb8,, dest: '/tmp/openstack/\2', dest: '/tmp/openstack/\1',1,1
openstack%2Fironic-inspector~master~I75f539457dbb1d811fdee69de52d1bcee4c6ebe6,openstack/ironic-inspector,master,I75f539457dbb1d811fdee69de52d1bcee4c6ebe6,Use ostestr unit test runner,MERGED,2017-09-28 11:33:24.000000000,2017-10-05 11:33:26.000000000,2017-10-05 11:33:26.000000000,"[{'_account_id': 3}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 18653}, {'_account_id': 22348}, {'_account_id': 23630}, {'_account_id': 25254}]","[{'number': 1, 'created': '2017-09-28 11:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/89b81c8af123581b0bdce615c0490c2d652b80af', 'message': ""Use ostestr unit test runner\n\nThis patch moves ironic-inspector to use 'stestr' test runner\nvia 'ostestr' wrapper.\n\nEffective changes:\n\n- unit tests are now being run in parallel by default\n- 'py*' jobs are not running code coverage measurements,\n  which is left for 'cover' job only\n- 'cover' job now also produces html reports consumable by upstream CI,\n  and fails under 90% of code coverage\n- users can leverage all the ostestr/stestr features\n\nChange-Id: I75f539457dbb1d811fdee69de52d1bcee4c6ebe6\nCloses-Bug: #1666232\n""}, {'number': 2, 'created': '2017-09-28 11:57:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/aa597d7cbef19e706b2ed8875cb5df6dd89f90c5', 'message': ""Use ostestr unit test runner\n\nThis patch moves ironic-inspector to use 'stestr' test runner\nvia 'ostestr' wrapper.\n\nEffective changes:\n\n- unit tests are now being run in parallel by default\n- 'py*' jobs are not running code coverage measurements,\n  which is left for 'cover' job only\n- 'cover' job now also produces html reports consumable by upstream CI,\n  and fails under 90% of code coverage\n- users can leverage all the ostestr/stestr features\n\nChange-Id: I75f539457dbb1d811fdee69de52d1bcee4c6ebe6\nDepends-On: Ica838db23b5714c2da1e4313e1a7ece0ca241d44\nCloses-Bug: #1666232\n""}, {'number': 3, 'created': '2017-10-02 14:29:20.000000000', 'files': ['.gitignore', 'test-requirements.txt', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/7625ed68c8f8f946323b129ddd116e0261668a75', 'message': ""Use ostestr unit test runner\n\nThis patch moves ironic-inspector to use 'stestr' test runner\nvia 'ostestr' wrapper.\n\nEffective changes:\n\n- unit tests are now being run in parallel by default\n- 'py*' jobs are not running code coverage measurements,\n  which is left for 'cover' job only\n- 'cover' job now also produces html reports consumable by upstream CI,\n  and fails under 90% of code coverage\n- users can leverage all the ostestr/stestr features\n\nChange-Id: I75f539457dbb1d811fdee69de52d1bcee4c6ebe6\nDepends-On: Ica838db23b5714c2da1e4313e1a7ece0ca241d44\nCloses-Bug: #1666232\n""}]",4,508122,7625ed68c8f8f946323b129ddd116e0261668a75,22,8,3,9542,,,0,"Use ostestr unit test runner

This patch moves ironic-inspector to use 'stestr' test runner
via 'ostestr' wrapper.

Effective changes:

- unit tests are now being run in parallel by default
- 'py*' jobs are not running code coverage measurements,
  which is left for 'cover' job only
- 'cover' job now also produces html reports consumable by upstream CI,
  and fails under 90% of code coverage
- users can leverage all the ostestr/stestr features

Change-Id: I75f539457dbb1d811fdee69de52d1bcee4c6ebe6
Depends-On: Ica838db23b5714c2da1e4313e1a7ece0ca241d44
Closes-Bug: #1666232
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/22/508122/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'test-requirements.txt', 'tox.ini', '.stestr.conf']",4,89b81c8af123581b0bdce615c0490c2d652b80af,bug/1666232,[DEFAULT] test_path=${TESTS_DIR:-./ironic_inspector/test/unit/} top_dir=./ ,,20,7
openstack%2Fnova~master~Id4fa9eba59ef958ce514d9eb43346adf095b8b6e,openstack/nova,master,Id4fa9eba59ef958ce514d9eb43346adf095b8b6e,Add instance.interface_detach notification,MERGED,2017-09-21 16:43:05.000000000,2017-10-05 11:30:31.000000000,2017-10-05 11:30:31.000000000,"[{'_account_id': 3}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 17685}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-21 16:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a763d850eb9d5b04335befdc119dfba03b9037a', 'message': 'Add instance.interface_detach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\nremoveFixedIp action is deprecated, so instead of transforming its\nnotification, the instance.interface_detach versioned notification is\nintroduced.\n\nChange-Id: Id4fa9eba59ef958ce514d9eb43346adf095b8b6e\n'}, {'number': 2, 'created': '2017-09-22 07:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85c5ae2f5869b1be275808886bd991469fe7fbfc', 'message': 'Add instance.interface_detach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\nremoveFixedIp action is deprecated, so instead of transforming its\nnotification, the instance.interface_detach versioned notification is\nintroduced.\n\nChange-Id: Id4fa9eba59ef958ce514d9eb43346adf095b8b6e\nImplements: blueprint versioned-notification-transformation-queens\n'}, {'number': 3, 'created': '2017-09-22 12:47:07.000000000', 'files': ['doc/notification_samples/instance-interface_detach-end.json', 'doc/notification_samples/instance-interface_detach-start.json', 'nova/notifications/objects/base.py', 'nova/notifications/objects/instance.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/fields.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/08599b089261776381744a8a012ae4d8fbcf2ab7', 'message': 'Add instance.interface_detach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\nremoveFixedIp action is deprecated, so instead of transforming its\nnotification, the instance.interface_detach versioned notification is\nintroduced.\n\nChange-Id: Id4fa9eba59ef958ce514d9eb43346adf095b8b6e\nImplements: blueprint versioned-notification-transformation-queens\n'}]",5,506284,08599b089261776381744a8a012ae4d8fbcf2ab7,48,14,3,17685,,,0,"Add instance.interface_detach notification

Based on the following discussion:
http://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html

removeFixedIp action is deprecated, so instead of transforming its
notification, the instance.interface_detach versioned notification is
introduced.

Change-Id: Id4fa9eba59ef958ce514d9eb43346adf095b8b6e
Implements: blueprint versioned-notification-transformation-queens
",git fetch https://review.opendev.org/openstack/nova refs/changes/84/506284/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/notification_samples/instance-interface_detach-end.json', 'doc/notification_samples/instance-interface_detach-start.json', 'nova/notifications/objects/base.py', 'nova/notifications/objects/instance.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/fields.py', 'nova/compute/manager.py']",9,7a763d850eb9d5b04335befdc119dfba03b9037a,bp/versioned-notification-transformation-queens," compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.INTERFACE_DETACH, phase=fields.NotificationPhase.START) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.INTERFACE_DETACH, phase=fields.NotificationPhase.END) ",,256,9
openstack%2Fnova~master~Id8d2c48c9c864554a917596e377d30515465fec1,openstack/nova,master,Id8d2c48c9c864554a917596e377d30515465fec1,Add instance.interface_attach notification,MERGED,2017-09-12 18:09:26.000000000,2017-10-05 11:29:53.000000000,2017-10-05 11:29:53.000000000,"[{'_account_id': 3}, {'_account_id': 7634}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 17685}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-12 18:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46291f7f91c6c769b40f9ebc679a3d9654cb7294', 'message': 'WIP: Transform instance.interface_attach notification\n\nChange-Id: Id8d2c48c9c864554a917596e377d30515465fec1\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 2, 'created': '2017-09-13 12:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/661affc4e15eb473c0748974165ea348554addff', 'message': 'WIP: Add instance.interface_attach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\naddFixedIp action is deprecated, so instead of transforming the\ninstance.add_fixed_ip notification (https://review.openstack.org/#/c/332876),\ninstance.interface_attach versioned notifiaction is introduced.\n\nChange-Id: Id8d2c48c9c864554a917596e377d30515465fec1\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 3, 'created': '2017-09-14 09:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/71a7dec03838c187f7a307adcada638a1eabbd50', 'message': 'WIP: Add instance.interface_attach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\naddFixedIp action is deprecated, so instead of transforming the\ninstance.add_fixed_ip notification (https://review.openstack.org/#/c/332876),\ninstance.interface_attach versioned notification is introduced.\n\nChange-Id: Id8d2c48c9c864554a917596e377d30515465fec1\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 4, 'created': '2017-09-18 13:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/53d4b48f5e76bfc8d9465b308ca9d9d8be6662ff', 'message': 'WIP: Add instance.interface_attach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\naddFixedIp action is deprecated, so instead of transforming the\ninstance.add_fixed_ip notification (https://review.openstack.org/#/c/332876),\ninstance.interface_attach versioned notification is introduced.\n\nChange-Id: Id8d2c48c9c864554a917596e377d30515465fec1\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 5, 'created': '2017-09-19 16:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/708db63e7efe401c169a6976a5b0026bc2ced7de', 'message': 'Add instance.interface_attach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\naddFixedIp action is deprecated, so instead of transforming the\ninstance.add_fixed_ip notification (https://review.openstack.org/#/c/332876),\ninstance.interface_attach versioned notification is introduced.\n\nChange-Id: Id8d2c48c9c864554a917596e377d30515465fec1\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 6, 'created': '2017-09-20 08:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0933d21164d8f3d275db5a4b582b02673b0d92d3', 'message': 'Add instance.interface_attach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\naddFixedIp action is deprecated, so instead of transforming the\ninstance.add_fixed_ip notification (https://review.openstack.org/#/c/332876),\ninstance.interface_attach versioned notification is introduced.\n\nChange-Id: Id8d2c48c9c864554a917596e377d30515465fec1\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 7, 'created': '2017-09-20 11:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b90006c60e2e54718364600a00433488a0f6365d', 'message': 'Add instance.interface_attach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\naddFixedIp action is deprecated, so instead of transforming the\ninstance.add_fixed_ip notification (https://review.openstack.org/#/c/332876),\ninstance.interface_attach versioned notification is introduced.\n\nChange-Id: Id8d2c48c9c864554a917596e377d30515465fec1\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 8, 'created': '2017-09-20 14:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/45ccf55574859346ef0eba011137d7fb5c868ef1', 'message': 'Add instance.interface_attach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\naddFixedIp action is deprecated, so instead of transforming the\ninstance.add_fixed_ip notification (https://review.openstack.org/#/c/332876),\ninstance.interface_attach versioned notification is introduced.\n\nChange-Id: Id8d2c48c9c864554a917596e377d30515465fec1\nImplements: bp versioned-notification-transformation-queens\n'}, {'number': 9, 'created': '2017-09-21 14:58:22.000000000', 'files': ['nova/notifications/objects/instance.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/api/client.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/unit/compute/test_compute.py', 'nova/objects/fields.py', 'doc/notification_samples/instance-interface_attach-end.json', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/test_list_servers_ip_filter.py', 'nova/tests/fixtures.py', 'nova/notifications/objects/base.py', 'nova/compute/manager.py', 'doc/notification_samples/instance-interface_attach-start.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/5a70f23ec5f37cbe5ebb008b9968d16daefeaa3c', 'message': 'Add instance.interface_attach notification\n\nBased on the following discussion:\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html\n\naddFixedIp action is deprecated, so instead of transforming the\ninstance.add_fixed_ip notification (https://review.openstack.org/#/c/332876),\ninstance.interface_attach versioned notification is introduced.\n\nChange-Id: Id8d2c48c9c864554a917596e377d30515465fec1\nImplements: bp versioned-notification-transformation-queens\n'}]",24,503089,5a70f23ec5f37cbe5ebb008b9968d16daefeaa3c,110,17,9,17685,,,0,"Add instance.interface_attach notification

Based on the following discussion:
http://lists.openstack.org/pipermail/openstack-dev/2017-September/121978.html

addFixedIp action is deprecated, so instead of transforming the
instance.add_fixed_ip notification (https://review.openstack.org/#/c/332876),
instance.interface_attach versioned notification is introduced.

Change-Id: Id8d2c48c9c864554a917596e377d30515465fec1
Implements: bp versioned-notification-transformation-queens
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/503089/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/objects/base.py', 'nova/notifications/objects/instance.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/api/client.py', 'nova/objects/fields.py', 'nova/compute/manager.py']",6,46291f7f91c6c769b40f9ebc679a3d9654cb7294,bp/versioned-notification-transformation-queens," compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.INTERFACE_ATTACH, phase=fields.NotificationPhase.START) compute_utils.notify_about_instance_action( context, instance, self.host, action=fields.NotificationAction.INTERFACE_ATTACH, phase=fields.NotificationPhase.END) ",,22,6
openstack%2Fopenstack-helm~master~I069c2ad860d265fab8155972b19a71021685f2ce,openstack/openstack-helm,master,I069c2ad860d265fab8155972b19a71021685f2ce,"Specification: OSH logging, monitoring and alerting",MERGED,2017-07-11 20:19:36.000000000,2017-10-05 11:14:33.000000000,2017-10-05 11:14:33.000000000,"[{'_account_id': 3}, {'_account_id': 7769}, {'_account_id': 8181}, {'_account_id': 11600}, {'_account_id': 11636}, {'_account_id': 17589}, {'_account_id': 17591}, {'_account_id': 20443}, {'_account_id': 20466}, {'_account_id': 21307}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26201}]","[{'number': 1, 'created': '2017-07-11 20:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f9453739a1bcaac8a3004b507ef73250ec18a395', 'message': 'Specification: OSH-Monitoring\n\nThis outlines the foundation for a monitoring  platform for\nOpenStack-Helm. The foundation includes charts for prometheus,\nkube-state-metrics, alertmanager, grafana, a ceph exporter, and\nan openstack-exporter.\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 2, 'created': '2017-07-11 22:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5400fe98b70aa793b304d1f8cefbbd3585094a8c', 'message': 'Specification: OSH-Monitoring\n\nThis outlines the foundation for a monitoring  platform for\nOpenStack-Helm. The foundation includes charts for prometheus,\nkube-state-metrics, alertmanager, grafana, a ceph exporter, and\nan openstack-exporter.\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 3, 'created': '2017-07-13 17:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bea06f678720229efddbd25f9ec2e75c3bc7985b', 'message': 'Specification: logging, monitoring and alerting for OSH\n\nThis outlines the foundation for a logging, monitoring and\nalerting platform for openstack-helm. It should result in a\npath forward for the technical requirements and the proper\ndefault configurations to provide operational benefits\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 4, 'created': '2017-07-13 17:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cb2e3ce0c0133e95da3cfafd3020433689ff32af', 'message': 'WIP - Specification: OSH logging, monitoring and alerting\n\nThis outlines the foundation for a logging, monitoring and\nalerting platform for openstack-helm. It should result in a\npath forward for the technical requirements and the proper\ndefault configurations to provide operational benefits\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 5, 'created': '2017-07-13 17:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/15538251c6b61ee162be9c11ffe7078b47fa6ac8', 'message': 'WIP - Specification: OSH logging, monitoring and alerting\n\nThis outlines the foundation for a logging, monitoring and\nalerting platform for openstack-helm. It should result in a\npath forward for the technical requirements and the proper\ndefault configurations to provide operational benefits\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 6, 'created': '2017-07-13 21:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a3ad0751f01d9b55381a9ce9b9eafcbf4b1b010b', 'message': 'Specification: OSH logging, monitoring and alerting\n\nThis outlines the foundation for a logging, monitoring and\nalerting platform for openstack-helm. It should result in a\npath forward for the technical requirements and the proper\ndefault configurations to provide operational benefits\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 7, 'created': '2017-07-13 21:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/205fea72b5ad4ac40b35bd71093d28811cb90807', 'message': 'Specification: OSH logging, monitoring and alerting\n\nThis outlines the foundation for a logging, monitoring and\nalerting platform for openstack-helm. It should result in a\npath forward for the technical requirements and the proper\ndefault configurations to provide operational benefits\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 8, 'created': '2017-07-17 13:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/411df1e7984a2168b765291547c0dbd6f35b0765', 'message': 'Specification: OSH logging, monitoring and alerting\n\nThis outlines the foundation for a logging, monitoring and\nalerting platform for openstack-helm. It should result in a\npath forward for the technical requirements and the proper\ndefault configurations to provide operational benefits\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 9, 'created': '2017-07-17 14:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f96bcd8ec770bacbc66d262896f213697102a74e', 'message': 'Specification: OSH logging, monitoring and alerting\n\nThis outlines the foundation for a logging, monitoring and\nalerting platform for openstack-helm. It should result in a\npath forward for the technical requirements and the proper\ndefault configurations to provide operational benefits\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 10, 'created': '2017-07-17 20:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c625e154834262b3dcc905ce77c46233f3a466b9', 'message': 'Specification: OSH logging, monitoring and alerting\n\nThis outlines the foundation for a logging, monitoring and\nalerting platform for openstack-helm. It should result in a\npath forward for the technical requirements and the proper\ndefault configurations to provide operational benefits\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 11, 'created': '2017-07-27 13:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe287c4cd39dd2ade3716e5f40ea2a224b8467e9', 'message': 'Specification: OSH logging, monitoring and alerting\n\nThis outlines the foundation for a logging, monitoring and\nalerting platform for openstack-helm. It should result in a\npath forward for the technical requirements and the proper\ndefault configurations to provide operational benefits\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}, {'number': 12, 'created': '2017-08-15 20:17:23.000000000', 'files': ['doc/source/specs/osh-lma-stack.rst', 'doc/source/specs/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c30935ca089a3eea6074bd93ce9f70a260bd603a', 'message': 'Specification: OSH logging, monitoring and alerting\n\nThis outlines the foundation for a logging, monitoring and\nalerting platform for openstack-helm. It should result in a\npath forward for the technical requirements and the proper\ndefault configurations to provide operational benefits\n\nThe goal is to gain feedback and consensus on the path forward\nfor these services\n\nChange-Id: I069c2ad860d265fab8155972b19a71021685f2ce\n'}]",38,482687,c30935ca089a3eea6074bd93ce9f70a260bd603a,58,13,12,17591,,,0,"Specification: OSH logging, monitoring and alerting

This outlines the foundation for a logging, monitoring and
alerting platform for openstack-helm. It should result in a
path forward for the technical requirements and the proper
default configurations to provide operational benefits

The goal is to gain feedback and consensus on the path forward
for these services

Change-Id: I069c2ad860d265fab8155972b19a71021685f2ce
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/87/482687/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/osh-monitoring.rst'],1,f9453739a1bcaac8a3004b507ef73250ec18a395,osh-monitoring-spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/kolla/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ============== OSH-Monitoring ============== Blueprint: osh-monitoring_ .. _osh-monitoring: https://blueprints.launchpad.net/openstack-helm/+spec/osh-monitoring Problem description =================== OpenStack-Helm currently lacks a monitoring mechanism for providing operational insight into the performance of the OpenStack services and the infrastructure they're operating on. The lack of a monitoring platform makes identifying and preventing performance degradation difficult. Proposed change =============== Prometheus provides the ability to monitor a target's performance via exported metrics. This information can be queried directly through Prometheus's API or via a visualization tool such as Grafana, and can be used to trigger alerts via Alertmanager. Prometheus, Grafana, Alertmanager, and the appropriate exporters for Prometheus provide a foundation for monitoring the cluster nodes, the cluster itself, and the containers running within the cluster to provide meaningful operational insight into an OpenStack-Helm deployment. The proposed change includes supplying a Prometheus chart (which includes Alertmanager and kube-state-metrics), a Grafana chart for visualizing any exported metrics, a chart for the OpenStack exporter, and a chart for the ceph exporter. Prometheus will scrape kube-state-metrics, the openstack-exporter, and the ceph exporter for metrics provided over the required ports. At the minimum, Grafana will include dashboards for: metrics exported via cAdvisor by default through Prometheus, metrics from the openstack-exporter, metrics from the ceph-exporter, and metrics from kube-state-metrics. Security impact --------------- All services running within the monitoring platform should be subject to the security practices applied to the other OpenStack-Helm charts. Performance Impact ------------------ Some concerns have been raised about Prometheus's storage performance. These concerns center on Prometheus's ability to handle large amounts of data over a given period of time. Alternatives ------------ Two alternatives are Monasca and Heapster. The Monasca community has provided Helm charts for installing Monasca into a Kubernetes cluster. Heapster can be used in conjunction with a time series database to also provide cluster level metrics. Prometheus stands out compared to the alternatives due to its features. These features include: 1. Strong querying language for analyzing exported metrics 2. Alerting rules defined by Prometheus's querying language and ability 3. Growing list of exporters, including OpenStack and Ceph 4. Native visualization, or easy to use as data source for Grafana 5. Relies on local storage, possibly resulting in ease of deployment 6. Supports sharding and federation Implementation ============== Assignee(s) ----------- Primary assignee: srwilker Work Items ---------- 1. Prometheus Chart, which includes Alertmanager and Kube-State-Metrics 2. Grafana Chart 3. OpenStack Exporter Chart 4. Ceph Exporter Chart 5. Implement sane operational default values for the previous charts Testing ======= Testing should include Helm tests for each of the included charts as well as an integration test in the gate, if possible. Documentation Impact ==================== Documentation should be included for each of the included charts as well as documentation detailing the requirements for a usable monitoring platform, preferably with sane default values out of the box. References ========== 1. Prometheus_ 2. Grafana_ 3. Alertmanager_ 4. Ceph-Exporter_ 5. OpenStack-Exporter_ .. _Prometheus: https://github.com/prometheus/prometheus .. _Grafana: https://github.com/grafana/grafana .. _Alertmanager: https://github.com/prometheus/alertmanager .. _Ceph-Exporter: https://github.com/digitalocean/ceph_exporter .. _OpenStack-Exporter: https://github.com/CanonicalLtd/prometheus-openstack-exporter ",,122,0
openstack%2Ftripleo-quickstart~master~Id9e08bc5938a8d8daad0203293ac1e266aa65326,openstack/tripleo-quickstart,master,Id9e08bc5938a8d8daad0203293ac1e266aa65326,Point tripleo-ci release configs to the images server,ABANDONED,2017-09-25 13:15:16.000000000,2017-10-05 11:11:44.000000000,,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 10969}, {'_account_id': 18846}, {'_account_id': 23181}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-09-25 13:15:16.000000000', 'files': ['config/release/tripleo-ci/consistent-pike.yml', 'config/release/tripleo-ci/newton.yml', 'config/release/tripleo-ci/ocata.yml', 'config/release/tripleo-ci/master-undercloud-pike-overcloud.yml', 'config/release/tripleo-ci/consistent-newton.yml', 'config/release/tripleo-ci/master.yml', 'config/release/tripleo-ci/consistent-ocata.yml', 'config/release/tripleo-ci/pike.yml', 'config/release/tripleo-ci/pike-undercloud-ocata-overcloud.yml', 'config/release/tripleo-ci/consistent-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fbd9df742fc13240f88612e417df7f664667528a', 'message': 'Point tripleo-ci release configs to the images server\n\nThe new promotion jobs on rdocloud are uploading images to a different\nplace. Point all the upstream jobs to this server. These images are only\nused by the OVB jobs.\n\nChange-Id: Id9e08bc5938a8d8daad0203293ac1e266aa65326\n'}]",0,507094,fbd9df742fc13240f88612e417df7f664667528a,10,6,1,8652,,,0,"Point tripleo-ci release configs to the images server

The new promotion jobs on rdocloud are uploading images to a different
place. Point all the upstream jobs to this server. These images are only
used by the OVB jobs.

Change-Id: Id9e08bc5938a8d8daad0203293ac1e266aa65326
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/94/507094/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/consistent-pike.yml', 'config/release/tripleo-ci/newton.yml', 'config/release/tripleo-ci/ocata.yml', 'config/release/tripleo-ci/master-undercloud-pike-overcloud.yml', 'config/release/tripleo-ci/consistent-newton.yml', 'config/release/tripleo-ci/master.yml', 'config/release/tripleo-ci/consistent-ocata.yml', 'config/release/tripleo-ci/pike.yml', 'config/release/tripleo-ci/consistent-master.yml', 'config/release/tripleo-ci/pike-undercloud-ocata-overcloud.yml']",10,fbd9df742fc13240f88612e417df7f664667528a,promotion,ipa_image_url: https://images.rdoproject.org/pike/delorean/current-tripleo/stable/ironic-python-agent.tar overcloud_image_url: https://images.rdoproject.org/pike/delorean/current-tripleo/stable/overcloud-full.tar,ipa_image_url: http://66.187.229.139/builds-pike/current-tripleo-pike/ipa_images.tar overcloud_image_url: http://66.187.229.139/builds-ocata/current-tripleo-ocata/overcloud-full.tar,20,20
openstack%2Fmagnum~master~Id1d973167b381538121583a0a9691304b39e98de,openstack/magnum,master,Id1d973167b381538121583a0a9691304b39e98de,Allow master_flavor_id on cluster create,MERGED,2017-08-01 11:36:12.000000000,2017-10-05 10:44:50.000000000,2017-10-05 10:44:50.000000000,"[{'_account_id': 3}, {'_account_id': 9995}, {'_account_id': 10206}, {'_account_id': 20498}]","[{'number': 1, 'created': '2017-08-01 11:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ec0626cae202c4d9b7ddeaa0d3267a7f9ee4bdeb', 'message': 'Allow master_flavor_id on cluster create\n\nAdd master_flavor_id as an option during cluster create. If not given,\nthe default is taken from the cluster template.\n\nAdd master_flavor_id in the Cluster object and use that instead\nof the one from ClusterTemplate.\n\nUpdate both magnum and magnum cli documentation to reflect the above changes.\n\nPartial-Bug: #1699247\nChange-Id: Id1d973167b381538121583a0a9691304b39e98de\n'}, {'number': 2, 'created': '2017-08-02 11:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/b78edcaa3df28c277fd9a52e7ae3668639c6a3d5', 'message': 'Allow master_flavor_id on cluster create\n\nAdd master_flavor_id as an option during cluster create. If not given,\nthe default is taken from the cluster template.\n\nAdd master_flavor_id in the Cluster object and use that instead\nof the one from ClusterTemplate.\n\nUpdate both magnum and magnum cli documentation to reflect the above changes.\n\nPartial-Bug: #1699247\nChange-Id: Id1d973167b381538121583a0a9691304b39e98de\n'}, {'number': 3, 'created': '2017-08-21 12:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/ce7b91d7748bc5756eb2585b18eb638f464d5265', 'message': 'Allow master_flavor_id on cluster create\n\nAdd master_flavor_id as an option during cluster create. If not given,\nthe default is taken from the cluster template.\n\nAdd master_flavor_id in the Cluster object and use that instead\nof the one from ClusterTemplate.\n\nUpdate both magnum and magnum cli documentation to reflect the above changes.\n\nPartial-Bug: #1699247\nChange-Id: Id1d973167b381538121583a0a9691304b39e98de\n'}, {'number': 4, 'created': '2017-09-11 08:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/a833de15b88c24b275145c230d66fbd72dd276dd', 'message': 'Allow master_flavor_id on cluster create\n\nAdd master_flavor_id as an option during cluster create. If not given,\nthe default is taken from the cluster template.\n\nAdd master_flavor_id in the Cluster object and use that instead\nof the one from ClusterTemplate.\n\nUpdate both magnum and magnum cli documentation to reflect the above changes.\n\nPartial-Bug: #1699247\nChange-Id: Id1d973167b381538121583a0a9691304b39e98de\n'}, {'number': 5, 'created': '2017-09-13 09:42:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/8479cec3ebac61d0b7d731b0ca0e5031e3dfaabf', 'message': 'Allow master_flavor_id on cluster create\n\nAdd master_flavor_id as an option during cluster create. If not given,\nthe default is taken from the cluster template.\n\nAdd master_flavor_id in the Cluster object and use that instead\nof the one from ClusterTemplate.\n\nUpdate both magnum and magnum cli documentation to reflect the above changes.\n\nPartial-Bug: #1699247\nChange-Id: Id1d973167b381538121583a0a9691304b39e98de\n'}, {'number': 6, 'created': '2017-09-27 08:40:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/fa2f93a482b7785fe254fbadba04a1f5662ea048', 'message': 'Allow master_flavor_id on cluster create\n\nAdd master_flavor_id as an option during cluster create. If not given,\nthe default is taken from the cluster template.\n\nAdd master_flavor_id in the Cluster object and use that instead\nof the one from ClusterTemplate.\n\nUpdate both magnum and magnum cli documentation to reflect the above changes.\n\nPartial-Bug: #1699247\nChange-Id: Id1d973167b381538121583a0a9691304b39e98de\n'}, {'number': 7, 'created': '2017-09-27 09:30:40.000000000', 'files': ['magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'doc/source/user/index.rst', 'magnum/api/controllers/v1/bay.py', 'magnum/db/sqlalchemy/alembic/versions/52bcaf58fecb_add_master_flavor_id_to_cluster.py', 'magnum/tests/unit/db/utils.py', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'api-ref/source/clusters.inc', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'api-ref/source/samples/cluster-create-req.json', 'magnum/api/controllers/v1/cluster.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/db/sqlalchemy/models.py', 'magnum/drivers/mesos_ubuntu_v1/template_def.py', 'magnum/objects/cluster.py', 'magnum/tests/unit/objects/test_objects.py', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py'], 'web_link': 'https://opendev.org/openstack/magnum/commit/446b15934991aa5d8666e6c024c28cf3af4fb398', 'message': 'Allow master_flavor_id on cluster create\n\nAdd master_flavor_id as an option during cluster create. If not given,\nthe default is taken from the cluster template.\n\nAdd master_flavor_id in the Cluster object and use that instead\nof the one from ClusterTemplate.\n\nUpdate both magnum and magnum cli documentation to reflect the above changes.\n\nPartial-Bug: #1699247\nChange-Id: Id1d973167b381538121583a0a9691304b39e98de\n'}]",0,489572,446b15934991aa5d8666e6c024c28cf3af4fb398,28,4,7,9995,,,0,"Allow master_flavor_id on cluster create

Add master_flavor_id as an option during cluster create. If not given,
the default is taken from the cluster template.

Add master_flavor_id in the Cluster object and use that instead
of the one from ClusterTemplate.

Update both magnum and magnum cli documentation to reflect the above changes.

Partial-Bug: #1699247
Change-Id: Id1d973167b381538121583a0a9691304b39e98de
",git fetch https://review.opendev.org/openstack/magnum refs/changes/72/489572/6 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/tests/unit/conductor/handlers/test_swarm_cluster_conductor.py', 'doc/source/user/index.rst', 'magnum/api/controllers/v1/bay.py', 'magnum/tests/unit/db/utils.py', 'magnum/drivers/heat/swarm_mode_template_def.py', 'magnum/tests/unit/conductor/handlers/test_k8s_cluster_conductor.py', 'magnum/drivers/heat/k8s_template_def.py', 'magnum/db/sqlalchemy/alembic/versions/52bcaf58fecb_.py', 'magnum/drivers/heat/swarm_fedora_template_def.py', 'magnum/api/controllers/v1/cluster.py', 'magnum/tests/unit/api/controllers/v1/test_cluster.py', 'magnum/db/sqlalchemy/models.py', 'magnum/drivers/mesos_ubuntu_v1/template_def.py', 'magnum/objects/cluster.py', 'magnum/tests/unit/conductor/handlers/test_mesos_cluster_conductor.py']",15,ec0626cae202c4d9b7ddeaa0d3267a7f9ee4bdeb,bug/1699247," 'master_flavor_id': 'flavor_id', 'mesos_slave_image_providers': 'docker', 'slave_flavor': 'flavor_id',", 'mesos_slave_image_providers': 'docker',76,9
openstack%2Freleases~master~If5e460dc71d7ed60d146769134e697a99c0affdb,openstack/releases,master,If5e460dc71d7ed60d146769134e697a99c0affdb,newton: release python-novaclient 6.0.2,MERGED,2017-09-28 22:44:39.000000000,2017-10-05 10:36:25.000000000,2017-10-05 10:36:25.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 6873}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-28 22:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/13f19d1ae4edb0039629bd6adafb95e7860d40d7', 'message': 'newton: release python-novaclient 6.0.2\n\nThis will be the final novaclient release for newton.\n\nChange-Id: If5e460dc71d7ed60d146769134e697a99c0affdb\nDepends-On: Ifef6fdc1a737dd219712a4525d4e34afd3fbd80c\n'}, {'number': 2, 'created': '2017-10-04 00:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d5480d123f5090d17f4ffc2e482a83c7df0df0c4', 'message': 'newton: release python-novaclient 6.0.2\n\nThis will be the final novaclient release for newton.\n\nChange-Id: If5e460dc71d7ed60d146769134e697a99c0affdb\n'}, {'number': 3, 'created': '2017-10-04 13:04:44.000000000', 'files': ['deliverables/newton/python-novaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c486e920d34bf1671af8876426a4fac165b59df5', 'message': 'newton: release python-novaclient 6.0.2\n\nThis will be the final novaclient release for newton.\n\nChange-Id: If5e460dc71d7ed60d146769134e697a99c0affdb\n'}]",1,508343,c486e920d34bf1671af8876426a4fac165b59df5,16,5,3,6873,,,0,"newton: release python-novaclient 6.0.2

This will be the final novaclient release for newton.

Change-Id: If5e460dc71d7ed60d146769134e697a99c0affdb
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/508343/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/newton/python-novaclient.yaml'],1,13f19d1ae4edb0039629bd6adafb95e7860d40d7,novaclient-newton-6.0.2, - version: 6.0.2 projects: - repo: openstack/python-novaclient hash: 01947388454981d063fea65551eddcd9924ea868,,4,0
openstack%2Fnetworking-bgpvpn~master~I5693a524c5ca530e1cfd4fd31cad1cd332ef211a,openstack/networking-bgpvpn,master,I5693a524c5ca530e1cfd4fd31cad1cd332ef211a,Update reno for stable/mitaka,MERGED,2017-10-04 20:11:19.000000000,2017-10-05 10:23:45.000000000,2017-10-05 10:23:45.000000000,"[{'_account_id': 3}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-10-04 20:11:19.000000000', 'files': ['releasenotes/source/mitaka.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/02d5fdd0a7c3828435419f006a2b14ee511a039d', 'message': 'Update reno for stable/mitaka\n\nChange-Id: I5693a524c5ca530e1cfd4fd31cad1cd332ef211a\n'}]",0,509625,02d5fdd0a7c3828435419f006a2b14ee511a039d,6,2,1,22816,,,0,"Update reno for stable/mitaka

Change-Id: I5693a524c5ca530e1cfd4fd31cad1cd332ef211a
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/25/509625/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/mitaka.rst', 'releasenotes/source/index.rst']",2,02d5fdd0a7c3828435419f006a2b14ee511a039d,reno-mitaka, mitaka,,4,3
openstack%2Ftripleo-common~master~I7cb658a87d7e88438920213ad07e2872839a89d9,openstack/tripleo-common,master,I7cb658a87d7e88438920213ad07e2872839a89d9,Add release note for minor update workflow,MERGED,2017-09-28 16:48:30.000000000,2017-10-05 10:23:35.000000000,2017-10-05 10:23:34.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 8449}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20775}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-09-28 16:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/701b6e98b0267e92d8ac6cbff5cc47d7986a6475', 'message': 'Add release note for minor update workflow\n\nThe review https://review.openstack.org/#/c/487496\nwhich implement the minor update in tripleo-common\nwas missing the release note.\n\nChange-Id: I7cb658a87d7e88438920213ad07e2872839a89d9\n'}, {'number': 2, 'created': '2017-10-05 07:54:34.000000000', 'files': ['releasenotes/notes/minor-update-workflow-6106c1a91cb6d029.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c17b56042aea9a932f91b1b50121501bec4c510d', 'message': 'Add release note for minor update workflow\n\nThe review https://review.openstack.org/#/c/487496\nwhich implement the minor update in tripleo-common\nwas missing the release note.\n\nChange-Id: I7cb658a87d7e88438920213ad07e2872839a89d9\n'}]",0,508233,c17b56042aea9a932f91b1b50121501bec4c510d,11,8,2,16515,,,0,"Add release note for minor update workflow

The review https://review.openstack.org/#/c/487496
which implement the minor update in tripleo-common
was missing the release note.

Change-Id: I7cb658a87d7e88438920213ad07e2872839a89d9
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/508233/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/minor-update-workflow-6106c1a91cb6d029.yaml'],1,701b6e98b0267e92d8ac6cbff5cc47d7986a6475,update-workflow-releasenote,"--- features: - A new minor update workflow has been added, which implemented all the steps in Mistral. It include the following, setup the Heat outputs of the Overcloud, pushed the configuration files of the deployment into swift, including Ansible playbook and tasks, the Puppet files, and run the ansible update playbook via the Ansible action. - The config download code has been moved from python-tripleoclient to a dedicated library in order to be consumed by other APIs or tools. A mistral action has been added to handle this library fixes: - Fixes `bug 1691740 <https://bugs.launchpad.net/tripleo/+bug/1715557>`__ deprecations: - The old minor update workflow is now deprecated, the code for the action ClearBreakpointsAction has been removed ",,19,0
openstack%2Fnetworking-l2gw~master~I73f4b15cb841ab916d4755c29185d9c11dc855db,openstack/networking-l2gw,master,I73f4b15cb841ab916d4755c29185d9c11dc855db,Updated from global requirements,MERGED,2017-09-26 00:37:48.000000000,2017-10-05 10:23:28.000000000,2017-10-05 10:23:27.000000000,"[{'_account_id': 3}, {'_account_id': 21626}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-26 00:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/0b22d94f7221d87ce1811c0fc22a68162ce281e6', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 2, 'created': '2017-09-26 01:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/299c4f46b0040ee5672dacb99f311fb1b869b237', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 3, 'created': '2017-09-26 01:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/2d2ab1d103398b4cf8fc55aa683c27817c5f38a9', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 4, 'created': '2017-09-26 02:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/10a1e4f7af8fc8324f7ec0eaabe9f6698e387d20', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 5, 'created': '2017-09-26 02:52:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/a443954d3c2b1f211bf6f98673c74c47867ce69f', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 6, 'created': '2017-09-26 03:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/b4a248f599155e64a719a39ae7e7fdf18db5be56', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 7, 'created': '2017-09-26 03:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/06d92e1d1490b6b91fe817c877bb5816c9c5c3e6', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 8, 'created': '2017-09-26 12:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/5be8d6d116c9abf23986fbc2530a015ba40b54b0', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 9, 'created': '2017-09-26 12:42:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/3c9affdcbb0e57b2d8f2ce6937f2a3ba7bf6a91e', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 10, 'created': '2017-09-26 13:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/439c58f47646d2328e1a289c5a0968666cd4aa16', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 11, 'created': '2017-09-26 13:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/ad40b1ee562d3ac6c643ca36cad9e938220956b4', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 12, 'created': '2017-09-26 15:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/c843af9d5c5232f91e413a1f51287875e4328cec', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 13, 'created': '2017-09-27 09:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/aeffeb692d98b597141c8335cd712176645b173f', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 14, 'created': '2017-09-27 12:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/c6e94be56c3ad0abbe1c9b7ead1614b20a23a404', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 15, 'created': '2017-09-27 13:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/137a1e19de3cd515bc09b910da70c6bec391bd13', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 16, 'created': '2017-09-27 13:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/1127ab25ea42257b8f1b214fca96be1154f3f8a5', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 17, 'created': '2017-09-27 13:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/60f3203088f3d0e93f20f578201ae64a23fa9c57', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 18, 'created': '2017-09-27 17:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/805443a54ffdc68191ac0b1713368305b07beb40', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 19, 'created': '2017-09-28 00:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/07c38ffcdf3ad8cd52af442786e64fee0a0ac911', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 20, 'created': '2017-09-28 00:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/4dd1d0b5829a439c7407c3337315c449dd48de6a', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 21, 'created': '2017-09-28 00:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/9c8d7b2d1da6de347829d66e722cf438a724a8d6', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 22, 'created': '2017-09-28 02:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/ee26d9ba40c9faf8f387cc837c95680344bdadac', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 23, 'created': '2017-09-28 05:55:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/e4491f75cf79e891fbaa3562227e2b3fa1f02972', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 24, 'created': '2017-09-28 13:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/2e9aec99361ef066b5280354d15f13942f7c4ada', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 25, 'created': '2017-09-28 14:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/ec02e18b17221bac43a2f8fb1f34a32199226457', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 26, 'created': '2017-10-04 13:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/da6ae478377fbc5cc122b847f0096b9731b61ed9', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 27, 'created': '2017-10-05 01:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/97696f2d0eb22d745bfe6b9797ae31de4e9512c8', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 28, 'created': '2017-10-05 02:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/d1e8e69da314d19ea9430131257212ef64b3add6', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 29, 'created': '2017-10-05 02:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/8aa61db7ce0e42e36bae5b12e132d406ff57ce1d', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 30, 'created': '2017-10-05 03:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/2bbd63ee63597aa85317408ecc89708c7e8e1ccd', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 31, 'created': '2017-10-05 03:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/4c385731cace41e99173b7fff9c337578a8babaa', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 32, 'created': '2017-10-05 03:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/fe91ed844cb82b0eb967b3aa37b25fab0cfe63a5', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 33, 'created': '2017-10-05 04:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/487ca74bfcc06fadd3f7e3360e74b5b8b66e6a85', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}, {'number': 34, 'created': '2017-10-05 06:06:15.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/84c0a4deb75211413b626e7ac3c114681b1d2faa', 'message': 'Updated from global requirements\n\nChange-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db\n'}]",0,507312,84c0a4deb75211413b626e7ac3c114681b1d2faa,70,3,34,11131,,,0,"Updated from global requirements

Change-Id: I73f4b15cb841ab916d4755c29185d9c11dc855db
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/12/507312/34 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,0b22d94f7221d87ce1811c0fc22a68162ce281e6,openstack/requirements,neutron-lib>=1.10.0 # Apache-2.0,neutron-lib>=1.9.0 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~master~Ifb3af18733c0e1fd6895c270bb39199acaa98968,openstack/tripleo-heat-templates,master,Ifb3af18733c0e1fd6895c270bb39199acaa98968,Use sub_nodes_private instead of node_private,MERGED,2017-10-02 12:34:18.000000000,2017-10-05 10:23:16.000000000,2017-10-05 10:23:16.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 12715}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 12:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84160908fd4eeaecc7243a6565229776d7800bb9', 'message': ""Use sub_nodes_private instead of node_private\n\nnode_private file doesn't exist anymore, use sub_nodes_private\ninstead\n\nChange-Id: Ifb3af18733c0e1fd6895c270bb39199acaa98968\n""}, {'number': 2, 'created': '2017-10-05 04:21:37.000000000', 'files': ['ci/common/net-config-multinode-os-net-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bee21457c60ba639be93c22f72fb14c2e548008b', 'message': ""Use sub_nodes_private instead of node_private\n\nnode_private file doesn't exist anymore, use sub_nodes_private\ninstead\n\nChange-Id: Ifb3af18733c0e1fd6895c270bb39199acaa98968\n""}]",0,508864,bee21457c60ba639be93c22f72fb14c2e548008b,24,5,2,10969,,,0,"Use sub_nodes_private instead of node_private

node_private file doesn't exist anymore, use sub_nodes_private
instead

Change-Id: Ifb3af18733c0e1fd6895c270bb39199acaa98968
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/508864/2 && git format-patch -1 --stdout FETCH_HEAD,['ci/common/net-config-multinode-os-net-config.yaml'],1,84160908fd4eeaecc7243a6565229776d7800bb9,fixci, subnode_private_ip=$(cat /etc/nodepool/sub_nodes_private) subnode_index=$(grep -n $(cat /etc/nodepool/sub_nodes_private) /etc/nodepool/sub_nodes_private | cut -d: -f1), subnode_private_ip=$(cat /etc/nodepool/node_private) subnode_index=$(grep -n $(cat /etc/nodepool/node_private) /etc/nodepool/sub_nodes_private | cut -d: -f1),2,2
openstack%2Fcinder~master~Ia3fe38c7b2262eeac81bcec2b9378bf641ec6929,openstack/cinder,master,Ia3fe38c7b2262eeac81bcec2b9378bf641ec6929,Address importing directory issue,MERGED,2017-09-27 17:32:49.000000000,2017-10-05 10:19:50.000000000,2017-10-05 07:38:49.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 22752}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26347}, {'_account_id': 26537}]","[{'number': 1, 'created': '2017-09-27 17:32:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13c720d67a0979cb5a410d0e28ec3496128d9451', 'message': 'Address importing directory conflict\n\nThe import conflict warning occurs because the same name of file and directory\nexist simultaneously. This rename the file to address the issue.\n\n[1]http://logs.openstack.org/76/506976/8/check/gate-tempest-dsvm-full-devstack-plugin-ceph-ubuntu-xenial/a958f56/console.html#_2017-09-26_03_56_54_125829\n\nChange-Id: Ia3fe38c7b2262eeac81bcec2b9378bf641ec6929\n'}, {'number': 2, 'created': '2017-09-28 03:49:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4421ce60fd924c873120b0551ee94656304a867b', 'message': ""Address importing directory issue\n\nThe import warning[1] occurs because the file 'config.py' and directory 'config/' exist\nsimultaneously. The fact is that file __init__.py[2] is actually there and it just resulted\nfrom naming conflict. This patch gives an approach by renaming 'config.py' to address the issue.\n\n[1]http://logs.openstack.org/76/506976/8/check/gate-tempest-dsvm-full-devstack-plugin-ceph-ubuntu-xenial/a958f56/console.html#_2017-09-26_03_56_54_125829\n[2]https://github.com/openstack/cinder/blob/master/cinder/tests/tempest/__init__.py\n\nChange-Id: Ia3fe38c7b2262eeac81bcec2b9378bf641ec6929\n""}, {'number': 3, 'created': '2017-09-28 05:34:50.000000000', 'files': ['cinder/tests/tempest/opts.py', 'cinder/tests/tempest/plugin.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ba3f0603ef0aeaba753720f607e56120663d277', 'message': ""Address importing directory issue\n\nThe import warning[1] occurs because the file 'config.py' and directory\n'config/' exist simultaneously. The fact is that file __init__.py[2] is\nactually there and it just resulted from naming conflict. This patch\ngives an approach by renaming 'config.py' to address the issue.\n\n[1]http://logs.openstack.org/76/506976/8/check/gate-tempest-dsvm-full-devstack-plugin-ceph-ubuntu-xenial/a958f56/console.html#_2017-09-26_03_56_54_125829\n[2]https://github.com/openstack/cinder/blob/master/cinder/tests/tempest/__init__.py\n\nChange-Id: Ia3fe38c7b2262eeac81bcec2b9378bf641ec6929\n""}]",4,507937,0ba3f0603ef0aeaba753720f607e56120663d277,117,39,3,22752,,,0,"Address importing directory issue

The import warning[1] occurs because the file 'config.py' and directory
'config/' exist simultaneously. The fact is that file __init__.py[2] is
actually there and it just resulted from naming conflict. This patch
gives an approach by renaming 'config.py' to address the issue.

[1]http://logs.openstack.org/76/506976/8/check/gate-tempest-dsvm-full-devstack-plugin-ceph-ubuntu-xenial/a958f56/console.html#_2017-09-26_03_56_54_125829
[2]https://github.com/openstack/cinder/blob/master/cinder/tests/tempest/__init__.py

Change-Id: Ia3fe38c7b2262eeac81bcec2b9378bf641ec6929
",git fetch https://review.opendev.org/openstack/cinder refs/changes/37/507937/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/tempest/opts.py', 'cinder/tests/tempest/plugin.py']",2,13c720d67a0979cb5a410d0e28ec3496128d9451,lhx/move-tempest-config,"from cinder.tests.tempest import opts as project_opts project_opts.cinder_option project_opts.cinder_option),","from cinder.tests.tempest import config as project_config project_config.cinder_option project_config.cinder_option),",3,3
openstack%2Fopenstack-zuul-jobs~master~I7d4253fef01d3fe9b202348e2c3f4ca72f4c7c6e,openstack/openstack-zuul-jobs,master,I7d4253fef01d3fe9b202348e2c3f4ca72f4c7c6e,Remove legacy static- and releases- jobs,MERGED,2017-10-02 20:48:38.000000000,2017-10-05 10:17:04.000000000,2017-10-05 10:17:04.000000000,"[{'_account_id': 2472}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 22406}]","[{'number': 1, 'created': '2017-10-02 20:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/04c49be9ab0c299d474a3f91c953e8f8506dab3e', 'message': 'Remove legacy static- and releases- jobs\n\nThese have been replaced with new versions.\n\nChange-Id: I7d4253fef01d3fe9b202348e2c3f4ca72f4c7c6e\nDepends-On: I940ca19588c7219f3556e8b567f2cc1da81f0427\n'}, {'number': 2, 'created': '2017-10-02 22:06:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1d26505d1d088f1fb3771c606ede7f2033acd038', 'message': 'Remove legacy static- and releases- jobs\n\nThese have been replaced with new versions.\n\nChange-Id: I7d4253fef01d3fe9b202348e2c3f4ca72f4c7c6e\nDepends-On: I940ca19588c7219f3556e8b567f2cc1da81f0427\n'}, {'number': 3, 'created': '2017-10-05 06:58:59.000000000', 'files': ['playbooks/legacy/static-governance-publish/run.yaml', 'playbooks/legacy/static-releases-publish/post.yaml', 'playbooks/legacy/static-election-publish/post.yaml', 'playbooks/legacy/static-governance-uc-publish/post.yaml', 'playbooks/legacy/static-ossa-publish/post.yaml', 'playbooks/legacy/static-governance-website-publish/post.yaml', 'playbooks/legacy/releases-tox-list-changes/run.yaml', 'playbooks/legacy/releases-tox-validate/run.yaml', 'playbooks/legacy/static-releases-publish/run.yaml', 'playbooks/legacy/releases-tox-list-changes/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/static-governance-website-publish/run.yaml', 'playbooks/legacy/static-transparency-policy-publish/post.yaml', 'playbooks/legacy/static-governance-uc-publish/run.yaml', 'playbooks/legacy/static-ossa-publish/run.yaml', 'playbooks/legacy/static-transparency-policy-publish/run.yaml', 'playbooks/legacy/static-governance-publish/post.yaml', 'playbooks/legacy/static-election-publish/run.yaml', 'playbooks/legacy/releases-tox-validate/post.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/bb7e9ba47057a5f77c456df89e9f154a0fe10f49', 'message': 'Remove legacy static- and releases- jobs\n\nThese have been replaced with new versions.\n\nChange-Id: I7d4253fef01d3fe9b202348e2c3f4ca72f4c7c6e\nDepends-On: I940ca19588c7219f3556e8b567f2cc1da81f0427\n'}]",0,508999,bb7e9ba47057a5f77c456df89e9f154a0fe10f49,20,5,3,2,,,0,"Remove legacy static- and releases- jobs

These have been replaced with new versions.

Change-Id: I7d4253fef01d3fe9b202348e2c3f4ca72f4c7c6e
Depends-On: I940ca19588c7219f3556e8b567f2cc1da81f0427
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/99/508999/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/static-governance-publish/run.yaml', 'playbooks/legacy/static-releases-publish/post.yaml', 'playbooks/legacy/releases-python35/post.yaml', 'playbooks/legacy/static-election-publish/post.yaml', 'playbooks/legacy/static-governance-uc-publish/post.yaml', 'playbooks/legacy/static-ossa-publish/post.yaml', 'playbooks/legacy/releases-python35/run.yaml', 'playbooks/legacy/static-governance-website-publish/post.yaml', 'playbooks/legacy/releases-tox-list-changes/run.yaml', 'playbooks/legacy/releases-tox-validate/run.yaml', 'playbooks/legacy/static-releases-publish/run.yaml', 'playbooks/legacy/releases-tox-list-changes/post.yaml', 'zuul.d/zuul-legacy-jobs.yaml', 'playbooks/legacy/static-governance-website-publish/run.yaml', 'playbooks/legacy/static-transparency-policy-publish/post.yaml', 'playbooks/legacy/static-governance-uc-publish/run.yaml', 'playbooks/legacy/static-ossa-publish/run.yaml', 'playbooks/legacy/static-transparency-policy-publish/run.yaml', 'playbooks/legacy/static-governance-publish/post.yaml', 'playbooks/legacy/static-election-publish/run.yaml', 'playbooks/legacy/releases-tox-validate/post.yaml']",21,04c49be9ab0c299d474a3f91c953e8f8506dab3e,zuulv3-jobs,,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*nose_results.html - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testr_results.html.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.testrepository/tmp* - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=**/*testrepository.subunit.gz - --include=*/ - --exclude=* - --prune-empty-dirs - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}/tox' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/.tox/*/log/* - --include=*/ - --exclude=* - --prune-empty-dirs ,0,1158
openstack%2Fnova~master~Id30bc8447a6b482ad114ec6ebd3d5dab20ca0e3a,openstack/nova,master,Id30bc8447a6b482ad114ec6ebd3d5dab20ca0e3a,"doc: Add documentation for cpu_realtime, cpu_realtime_mask",MERGED,2017-09-08 13:20:00.000000000,2017-10-05 10:03:23.000000000,2017-10-05 10:03:23.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 5754}, {'_account_id': 7730}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-09-08 13:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f52da207dcf5d408b017104fd158cf0cff293865', 'message': ""doc: Add documentation for cpu_realtime, cpu_realtime_mask\n\nThis wasn't documented anywhere but the spec [1]. Fix this.\n\nWe may want to provide a more in-depth overview of using RT features of\nOpenStack, but that's a future work item.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/mitaka/implemented/libvirt-real-time.html\n\nChange-Id: Id30bc8447a6b482ad114ec6ebd3d5dab20ca0e3a\nCloses-Bug: #1715437\n""}, {'number': 2, 'created': '2017-09-15 16:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7843637f136a7e1d444c6fd242f5a4b5b3cc5b13', 'message': ""doc: Add documentation for cpu_realtime, cpu_realtime_mask\n\nThis wasn't documented anywhere but the spec [1]. Fix this.\n\nWe may want to provide a more in-depth overview of using RT features of\nOpenStack, but that's a future work item.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/mitaka/implemented/libvirt-real-time.html\n\nChange-Id: Id30bc8447a6b482ad114ec6ebd3d5dab20ca0e3a\nCloses-Bug: #1715437\n""}, {'number': 3, 'created': '2017-09-20 13:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5fd26bbba5dbe91a5a4387baf99fdd78c82c1f30', 'message': ""doc: Add documentation for cpu_realtime, cpu_realtime_mask\n\nThis wasn't documented anywhere but the spec [1]. Fix this.\n\nWe may want to provide a more in-depth overview of using RT features of\nOpenStack, but that's a future work item.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/mitaka/implemented/libvirt-real-time.html\n\nChange-Id: Id30bc8447a6b482ad114ec6ebd3d5dab20ca0e3a\nCloses-Bug: #1715437\n""}, {'number': 4, 'created': '2017-10-03 10:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4be354f533544e234b703bc778c5fd2f4631662f', 'message': ""doc: Add documentation for cpu_realtime, cpu_realtime_mask\n\nThis wasn't documented anywhere but the spec [1]. Fix this.\n\nWe may want to provide a more in-depth overview of using RT features of\nOpenStack, but that's a future work item.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/mitaka/implemented/libvirt-real-time.html\n\nChange-Id: Id30bc8447a6b482ad114ec6ebd3d5dab20ca0e3a\nCloses-Bug: #1715437\n""}, {'number': 5, 'created': '2017-10-04 08:47:55.000000000', 'files': ['doc/source/user/flavors.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/bd3a4d242f7b0208d7ddb2571b31975ced91946e', 'message': ""doc: Add documentation for cpu_realtime, cpu_realtime_mask\n\nThis wasn't documented anywhere but the spec [1]. Fix this.\n\nWe may want to provide a more in-depth overview of using RT features of\nOpenStack, but that's a future work item.\n\n[1] https://specs.openstack.org/openstack/nova-specs/specs/mitaka/implemented/libvirt-real-time.html\n\nChange-Id: Id30bc8447a6b482ad114ec6ebd3d5dab20ca0e3a\nCloses-Bug: #1715437\n""}]",19,502056,bd3a4d242f7b0208d7ddb2571b31975ced91946e,48,14,5,15334,,,0,"doc: Add documentation for cpu_realtime, cpu_realtime_mask

This wasn't documented anywhere but the spec [1]. Fix this.

We may want to provide a more in-depth overview of using RT features of
OpenStack, but that's a future work item.

[1] https://specs.openstack.org/openstack/nova-specs/specs/mitaka/implemented/libvirt-real-time.html

Change-Id: Id30bc8447a6b482ad114ec6ebd3d5dab20ca0e3a
Closes-Bug: #1715437
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/502056/5 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/flavors.rst'],1,f52da207dcf5d408b017104fd158cf0cff293865,bug/1715437,".. _extra-specs-realtime-policy: CPU real-time policy For the libvirt driver, you can state that one or more of your instance virtual CPUs (vCPUs), though not all of them, run with a real-time policy. This provides stronger guarantees for worst case scheduler latency for vCPUs and is a requirement for certain applications. .. important:: While most of your instance vCPUs can run with a real-time policy, you must mark at least one core as non-real-time, to be used for both non-real-time guest processes and emulator overhead (housekeeping) processes. .. important:: To use this extra spec, you must enable pinned CPUs. Refer to :ref:`CPU policy <extra-specs-cpu-policy>` for more information. .. code:: console $ openstack flavor set FLAVOR-NAME \ --property hw:cpu_realtime=CPU-REALTIME-POLICY \ --property hw:cpu_realtime_mask=CPU-REALTIME-MASK Where: CPU-REALTIME-POLICY (enum): One of: - ``no``: (default) The guest vCPUs will not have a real-time policy - ``yes``: The guest vCPUs will have a real-time policy CPU-REALTIME-MASK (bitmask): A bitmask indicating which vCPUs **will not** have a real-time policy. This should start with a ``^``. For example, a value of ``^0-1`` indicates that all cores *except* cores ``0`` and ``1`` will have a real-time policy. .. note:: The ``hw:cpu_realtime_mask`` option is only valid if ``hw:cpu_realtime`` is set to ``yes``. for the guest. This is generally required for use with a :ref:`real-time workload <extra-specs-realtime-policy>`.", for the guest. This is generally required for use with a real-time OS.,45,1
openstack%2Frequirements~master~I18c709ffbc4f2a16a64a6f00499da699bb8b14cc,openstack/requirements,master,I18c709ffbc4f2a16a64a6f00499da699bb8b14cc,update constraint for os-brick to new release 1.15.3,MERGED,2017-10-04 17:43:13.000000000,2017-10-05 10:03:14.000000000,2017-10-05 10:03:14.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 11131}, {'_account_id': 11904}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-10-04 17:43:13.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b4693a95d8bb078bf0c0f73171523c968b47c94f', 'message': 'update constraint for os-brick to new release 1.15.3\n\nChange-Id: I18c709ffbc4f2a16a64a6f00499da699bb8b14cc\nmeta:version: 1.15.3\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Jay S. Bryant <jungleboyj@electronicjungle.net>\nmeta:release:Commit: Jay S. Bryant <jungleboyj@electronicjungle.net>\nmeta:release:Change-Id: I5d7316694be532cd561b6e7ca99fe7c0156e9eac\nmeta:release:Code-Review+1: Chhavi Agarwal <chhagarw@in.ibm.com>\nmeta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>\nmeta:release:Code-Review+1: Gerald McBrearty <gfm@us.ibm.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>\n(cherry picked from commit e588f6b57d77d74d33df510a27e8d2bbaca069f5)\n'}]",0,509566,b4693a95d8bb078bf0c0f73171523c968b47c94f,10,5,1,11904,,,0,"update constraint for os-brick to new release 1.15.3

Change-Id: I18c709ffbc4f2a16a64a6f00499da699bb8b14cc
meta:version: 1.15.3
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Jay S. Bryant <jungleboyj@electronicjungle.net>
meta:release:Commit: Jay S. Bryant <jungleboyj@electronicjungle.net>
meta:release:Change-Id: I5d7316694be532cd561b6e7ca99fe7c0156e9eac
meta:release:Code-Review+1: Chhavi Agarwal <chhagarw@in.ibm.com>
meta:release:Code-Review+1: Matt Riedemann <mriedem.os@gmail.com>
meta:release:Code-Review+1: Gerald McBrearty <gfm@us.ibm.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Workflow+1: Tony Breeds <tony@bakeyournoodle.com>
(cherry picked from commit e588f6b57d77d74d33df510a27e8d2bbaca069f5)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/509566/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b4693a95d8bb078bf0c0f73171523c968b47c94f,new-release-master,os-brick===1.15.3,os-brick===1.15.2,1,1
openstack%2Frpm-packaging~master~I2401f6d727a8b4c91bd7dbd8190220a01a1a79b4,openstack/rpm-packaging,master,I2401f6d727a8b4c91bd7dbd8190220a01a1a79b4,tripleo-common: switch to docker,MERGED,2017-10-04 14:28:26.000000000,2017-10-05 10:02:09.000000000,2017-10-05 10:02:09.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-10-04 14:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/2b2d9fe9f8ccfc815694debd1d6e49411446e8a4', 'message': 'tripleo-common: switch to docker\n\nThis dependency was changed in 7.4.0\n\nChange-Id: I2401f6d727a8b4c91bd7dbd8190220a01a1a79b4\n'}, {'number': 2, 'created': '2017-10-05 08:59:07.000000000', 'files': ['openstack/tripleo-common/tripleo-common.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bf8bcc2031739ac397ccabe0fa5520f3c2dd60d3', 'message': 'tripleo-common: switch to docker\n\nThis dependency was changed in 7.4.0\n\nChange-Id: I2401f6d727a8b4c91bd7dbd8190220a01a1a79b4\n'}]",0,509490,bf8bcc2031739ac397ccabe0fa5520f3c2dd60d3,25,7,2,6593,,,0,"tripleo-common: switch to docker

This dependency was changed in 7.4.0

Change-Id: I2401f6d727a8b4c91bd7dbd8190220a01a1a79b4
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/90/509490/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/tripleo-common/tripleo-common.spec.j2'],1,2b2d9fe9f8ccfc815694debd1d6e49411446e8a4,tripleo_deps,BuildRequires: {{ py2pkg('docker') }}Requires: {{ py2pkg('docker') }},BuildRequires: {{ py2pkg('docker-py') }}Requires: {{ py2pkg('docker-py') }},2,2
openstack%2Ftripleo-validations~stable%2Fpike~Ibf5034ebb5b422c5b822ba2db7bc3d5f0949d947,openstack/tripleo-validations,stable/pike,Ibf5034ebb5b422c5b822ba2db7bc3d5f0949d947,Fix name of controller token validation,MERGED,2017-10-03 14:52:23.000000000,2017-10-05 09:50:15.000000000,2017-10-05 09:50:15.000000000,"[{'_account_id': 3}, {'_account_id': 8449}, {'_account_id': 9317}, {'_account_id': 13039}, {'_account_id': 17888}]","[{'number': 1, 'created': '2017-10-03 14:52:23.000000000', 'files': ['validations/controller-token.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b68eb5622645a039ea4e8e01793f7dc2deefe9c3', 'message': 'Fix name of controller token validation\n\nThe `name` metadata key had an uppercase first letter.\n\nChange-Id: Ibf5034ebb5b422c5b822ba2db7bc3d5f0949d947\nCloses-Bug: #1714962\n(cherry picked from commit 1d9055449d5610bb77295e6aa862dd1ad6f92e20)\n'}]",0,509195,b68eb5622645a039ea4e8e01793f7dc2deefe9c3,9,5,1,11491,,,0,"Fix name of controller token validation

The `name` metadata key had an uppercase first letter.

Change-Id: Ibf5034ebb5b422c5b822ba2db7bc3d5f0949d947
Closes-Bug: #1714962
(cherry picked from commit 1d9055449d5610bb77295e6aa862dd1ad6f92e20)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/95/509195/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/controller-token.yaml'],1,b68eb5622645a039ea4e8e01793f7dc2deefe9c3,bug/1714962, name: Verify that keystone admin token is disabled, Name: Verify that keystone admin token is disabled.,1,1
openstack%2Fneutron-lib~master~Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165,openstack/neutron-lib,master,Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165,bgpvpn-vni api extension,MERGED,2017-09-14 05:15:24.000000000,2017-10-05 09:49:58.000000000,2017-10-05 09:49:57.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7016}, {'_account_id': 7715}, {'_account_id': 9361}, {'_account_id': 9656}, {'_account_id': 12021}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23630}, {'_account_id': 25171}]","[{'number': 1, 'created': '2017-09-14 05:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e353e07e91e9835d1b3f7018eebc67b810c76373', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}, {'number': 2, 'created': '2017-09-14 12:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/52e7b9b170da890b9e190d731db8883c57161f3e', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}, {'number': 3, 'created': '2017-09-18 10:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a152cc5ada9b60ce68d00cf544f1224962711ee4', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}, {'number': 4, 'created': '2017-09-18 12:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/cec4829737c3d853eef8fecea600f0ed27913b5c', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}, {'number': 5, 'created': '2017-09-19 05:11:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/b49513f47f7ab6d4242148136d83865b751b2182', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}, {'number': 6, 'created': '2017-09-20 04:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/58b3bb052bcf9a6600386693f2441e81c487ecae', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}, {'number': 7, 'created': '2017-09-20 12:31:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/f3a88e8fa340121238992e61eec79476917385a1', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}, {'number': 8, 'created': '2017-09-22 05:54:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/94f57ddcdee9548e6f81101a2e3d53f1c5c19b4c', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}, {'number': 9, 'created': '2017-09-22 09:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/4cdbc5d2ffabcb3729f6782f1292401b18494b00', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}, {'number': 10, 'created': '2017-09-25 05:37:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7b567bf01538e0bd97ffb4b1f8dc8373f723c8ae', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}, {'number': 11, 'created': '2017-09-25 06:44:41.000000000', 'files': ['api-ref/source/v2/samples/bgpvpn/bgpvpns/bgpvpn-create-request.json', 'neutron_lib/tests/unit/api/definitions/test_bgpvpn_vni.py', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/bgpvpn/bgpvpns/bgpvpn-create-response.json', 'neutron_lib/api/definitions/base.py', 'api-ref/source/v2/bgpvpn-bgpvpns.inc', 'api-ref/source/v2/samples/bgpvpn/bgpvpns/bgpvpn-show-response.json', 'api-ref/source/v2/samples/bgpvpn/bgpvpns/bgpvpn-update-response.json', 'api-ref/source/v2/samples/bgpvpn/bgpvpns/bgpvpns-list-response.json', 'api-ref/source/v2/bgpvpn-overview.inc', 'api-ref/source/v2/parameters.yaml', 'releasenotes/notes/add-vni-to-bgpvpn-7531df9fa4f8955b.yaml', 'neutron_lib/api/definitions/bgpvpn_vni.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a90d73a9505d8a7310a8cb720842e28ef48acaba', 'message': 'bgpvpn-vni api extension\n\nSupport vni attribute for BGPVPN, when VXLAN encapsulation is used\n\nChange-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165\nPartial-Bug: #1590908\n'}]",59,503954,a90d73a9505d8a7310a8cb720842e28ef48acaba,67,14,11,25171,,,0,"bgpvpn-vni api extension

Support vni attribute for BGPVPN, when VXLAN encapsulation is used

Change-Id: Iae5fe901f0cddfbf8b1ef3afd529f9131b0aa165
Partial-Bug: #1590908
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/54/503954/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/bgpvpn/bgpvpns/bgpvpn-create-request.json', 'neutron_lib/tests/unit/api/definitions/test_bgpvpn_vni.py', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/bgpvpn/bgpvpns/bgpvpn-create-response.json', 'neutron_lib/api/definitions/base.py', 'api-ref/source/v2/bgpvpn-bgpvpns.inc', 'api-ref/source/v2/samples/bgpvpn/bgpvpns/bgpvpn-show-response.json', 'api-ref/source/v2/samples/bgpvpn/bgpvpns/bgpvpn-update-response.json', 'api-ref/source/v2/samples/bgpvpn/bgpvpns/bgpvpns-list-response.json', 'api-ref/source/v2/bgpvpn-overview.inc', 'api-ref/source/v2/parameters.yaml', 'releasenotes/notes/add-vni-to-bgpvpn-7531df9fa4f8955b.yaml', 'neutron_lib/api/definitions/bgpvpn_vni.py']",13,e353e07e91e9835d1b3f7018eebc67b810c76373,bug/1590908,"# # Copyright 2017 Ericsson India Global Services Pvt Ltd. All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from neutron_lib.api import converters as lib_converters from neutron_lib.api.definitions import bgpvpn from neutron_lib import constants VNI = 'vni' # The alias of the extension. ALIAS = 'bgpvpn-vni' # The label to lookup the plugin in the plugin directory. It can match the # alias, as required. LABEL = ALIAS # Whether or not this extension is simply signaling behavior to the user # or it actively modifies the attribute map. IS_SHIM_EXTENSION = False # Whether the extension is marking the adoption of standardattr model for # legacy resources, or introducing new standardattr attributes. False or # None if the standardattr model is adopted since the introduction of # resource extension. # If this is True, the alias for the extension should be prefixed with # 'standard-attr-'. IS_STANDARD_ATTR_EXTENSION = False # The name of the extension. NAME = 'BGPVPN VNI Extension' # A prefix for API resources. An empty prefix means that the API is going # to be exposed at the v2/ level as any other core resource. API_PREFIX = '' # The description of the extension. DESCRIPTION = ""BGPVPN VNI Extension"" # A timestamp of when the extension was introduced. UPDATED_TIMESTAMP = ""2017-09-12T10:00:00-00:00"" RESOURCE_ATTRIBUTE_MAP = { bgpvpn.COLLECTION_NAME: { VNI: {'allow_post': True, 'allow_put': True, 'convert_to': lib_converters.convert_to_int_if_not_none, 'validate': {'type:range_or_none': [constants.MIN_VXLAN_VNI, constants.MAX_VXLAN_VNI] }, 'is_visible': True, 'enforce_policy': True}, }, } # The subresource attribute map for the extension. It adds child resources # to main extension's resource. The subresource map must have a parent and # a parameters entry. If an extension does not need such a map, None can # be specified (mandatory). SUB_RESOURCE_ATTRIBUTE_MAP = {} # The action map: it associates verbs with methods to be performed on # the API resource. ACTION_MAP = {} # The action status. ACTION_STATUS = { } # The list of required extensions. REQUIRED_EXTENSIONS = [bgpvpn.ALIAS] # The list of optional extensions. OPTIONAL_EXTENSIONS = []",,198,5
openstack%2Fopenstack-zuul-jobs~master~I3a2e887b72806e5abc70c9d920179f59e09c7fab,openstack/openstack-zuul-jobs,master,I3a2e887b72806e5abc70c9d920179f59e09c7fab,Add required projects to a legacy n8g-bgpvpn job,MERGED,2017-10-03 13:06:05.000000000,2017-10-05 09:49:06.000000000,2017-10-05 09:49:06.000000000,"[{'_account_id': 4162}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6854}, {'_account_id': 9656}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 13:06:05.000000000', 'files': ['zuul.d/zuul-legacy-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/df45003c98055995f615787e01f7ad07b4acfc41', 'message': 'Add required projects to a legacy n8g-bgpvpn job\n\nChange-Id: I3a2e887b72806e5abc70c9d920179f59e09c7fab\n'}]",0,509167,df45003c98055995f615787e01f7ad07b4acfc41,11,7,1,12021,,,0,"Add required projects to a legacy n8g-bgpvpn job

Change-Id: I3a2e887b72806e5abc70c9d920179f59e09c7fab
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/67/509167/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/zuul-legacy-jobs.yaml'],1,df45003c98055995f615787e01f7ad07b4acfc41,bgpvpn_required_projects, - openstack/neutron - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon,,4,0
openstack%2Fproject-config~master~Ice99ba52055ba4c5ca52277460ac49194e8f14af,openstack/project-config,master,Ice99ba52055ba4c5ca52277460ac49194e8f14af,v3: Use openstack-tox-validate,MERGED,2017-10-04 18:13:01.000000000,2017-10-05 09:27:51.000000000,2017-10-05 09:27:51.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 18:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5cffa73ded76f0abee661f4e936c8933c6e2ece2', 'message': 'v3: Use openstack-tox-validate\n\nUse the new openstack-tox-validate job where possible.\n\nDepends-On: I53a40244c58198fbd706bf7db2125ebf016eae9a\nNeeded-By: I386a1669f27d5a3da81a7af3167050889b0a9ea7\nChange-Id: Ice99ba52055ba4c5ca52277460ac49194e8f14af\n'}, {'number': 2, 'created': '2017-10-04 18:19:35.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e4f4ecc43de89cfc832eff67135d96ef784db4a1', 'message': 'v3: Use openstack-tox-validate\n\nUse the new openstack-tox-validate job where possible.\n\nDepends-On: I53a40244c58198fbd706bf7db2125ebf016eae9a\nNeeded-By: I386a1669f27d5a3da81a7af3167050889b0a9ea7\nChange-Id: Ice99ba52055ba4c5ca52277460ac49194e8f14af\n'}]",0,509578,e4f4ecc43de89cfc832eff67135d96ef784db4a1,9,4,2,6547,,,0,"v3: Use openstack-tox-validate

Use the new openstack-tox-validate job where possible.

Depends-On: I53a40244c58198fbd706bf7db2125ebf016eae9a
Needed-By: I386a1669f27d5a3da81a7af3167050889b0a9ea7
Change-Id: Ice99ba52055ba4c5ca52277460ac49194e8f14af
",git fetch https://review.opendev.org/openstack/project-config refs/changes/78/509578/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,5cffa73ded76f0abee661f4e936c8933c6e2ece2,zuulv3-jobs, - openstack-tox-validate: - openstack-tox-validate - openstack-tox-validate - openstack-tox-validate - openstack-tox-validate - openstack-tox-validate - openstack-tox-validate, - legacy-governance-tox-validate: - legacy-project-navigator-data-tox-validate - legacy-project-navigator-data-tox-validate - legacy-releases-tox-validate - legacy-releases-tox-validate - legacy-requirements-tox-validate - legacy-requirements-tox-validate,7,7
openstack%2Fproject-config~master~Ic03438fc1bde8236043a3804af302e79740c4897,openstack/project-config,master,Ic03438fc1bde8236043a3804af302e79740c4897,Use release-notes-jobs-neutron for networking-ovn,MERGED,2017-10-03 13:35:47.000000000,2017-10-05 09:27:49.000000000,2017-10-05 09:27:49.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-03 13:35:47.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/79f8b5913f7df6787c033f418b8e6f27765e70b8', 'message': 'Use release-notes-jobs-neutron for networking-ovn\n\nThis patch is replacing the release-notes-jobs for networking-ovn with\nthe release-notes-jobs-neutron one which contains neutron as an explicit\ndependency for it.\n\nChange-Id: Ic03438fc1bde8236043a3804af302e79740c4897\nDepends-On: Ibf6c4c268fecd8ef0bd0bb234abac3d2e3b20278\n'}]",0,509176,79f8b5913f7df6787c033f418b8e6f27765e70b8,14,6,1,6773,,,0,"Use release-notes-jobs-neutron for networking-ovn

This patch is replacing the release-notes-jobs for networking-ovn with
the release-notes-jobs-neutron one which contains neutron as an explicit
dependency for it.

Change-Id: Ic03438fc1bde8236043a3804af302e79740c4897
Depends-On: Ibf6c4c268fecd8ef0bd0bb234abac3d2e3b20278
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/509176/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,79f8b5913f7df6787c033f418b8e6f27765e70b8,release-notes-jobs-neutron, - release-notes-jobs-neutron, - release-notes-jobs,1,1
openstack%2Fproject-config~master~Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36,openstack/project-config,master,Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36,Add projects to required-projects for networking-(bagpipe|bgpvpn),MERGED,2017-10-02 08:41:11.000000000,2017-10-05 09:24:56.000000000,2017-10-05 09:24:56.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 6854}, {'_account_id': 12021}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-02 08:41:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/1db79961a052b4222e83deaf5e71c71a28bb8eca', 'message': 'Add projects to required-projects for networking-(bagpipe|bgpvpn)\n\nChange-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36\n'}, {'number': 2, 'created': '2017-10-02 09:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9cc38bfff4153d2f7f94fd617a0eedf966c3a6de', 'message': 'Add projects to required-projects for networking-(bagpipe|bgpvpn)\n\nChange-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36\n'}, {'number': 3, 'created': '2017-10-02 09:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/80759d4939f9383ef45203cf138868cebfedc189', 'message': 'Add projects to required-projects for networking-(bagpipe|bgpvpn)\n\nChange-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36\n'}, {'number': 4, 'created': '2017-10-02 09:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/da90361f6c5f734c639ea57583e0c1a2a8807c38', 'message': 'Add projects to required-projects for networking-(bagpipe|bgpvpn)\n\nChange-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36\n'}, {'number': 5, 'created': '2017-10-03 09:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/442cd8d87a4f27b83212638a2d67f042040e9c3e', 'message': 'Add projects to required-projects for networking-(bagpipe|bgpvpn)\n\nChange-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36\n'}, {'number': 6, 'created': '2017-10-03 09:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/990004c81234c2732ef89db57bf352f3d2c1d20f', 'message': 'Add projects to required-projects for networking-(bagpipe|bgpvpn)\n\nChange-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36\n'}, {'number': 7, 'created': '2017-10-03 12:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/6bc2e36cc216e99e3cd8e372ebc8c442a7af3652', 'message': 'Add projects to required-projects for networking-(bagpipe|bgpvpn)\n\nChange-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36\n'}, {'number': 8, 'created': '2017-10-03 13:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/f406540b76c8831b8f3aca904492171d0e2881af', 'message': 'Add projects to required-projects for networking-(bagpipe|bgpvpn)\n\nChange-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36\n'}, {'number': 9, 'created': '2017-10-03 23:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/53934f6aa7cdda1baf9deba4e99b3d89cc761712', 'message': 'Add projects to required-projects for networking-(bagpipe|bgpvpn)\n\nChange-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36\n'}, {'number': 10, 'created': '2017-10-04 08:06:53.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0a3cf819a9468caf5a9ef2bc18329e6b134bdb79', 'message': 'Add projects to required-projects for networking-(bagpipe|bgpvpn)\n\nChange-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36\n'}]",7,508825,0a3cf819a9468caf5a9ef2bc18329e6b134bdb79,33,9,10,12021,,,0,"Add projects to required-projects for networking-(bagpipe|bgpvpn)

Change-Id: Ic84f9739ae6850b7c0c6a2330eaf5eb8b132eb36
",git fetch https://review.opendev.org/openstack/project-config refs/changes/25/508825/7 && git format-patch -1 --stdout FETCH_HEAD,['zuul/layout.yaml'],1,1db79961a052b4222e83deaf5e71c71a28bb8eca,required_projects, - build-openstack-sphinx-docs: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack-tox-pep8: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack-tox-py27: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack-tox-py35: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack-tox-cover: required-projects: - openstack/neutron - openstack/networking-bgpvpn - build-openstack-sphinx-docs: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack-tox-pep8: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack-tox-py27: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack-tox-py35: required-projects: - openstack/neutron - openstack/networking-bgpvpn - openstack-tox-cover: required-projects: - openstack/neutron - openstack/networking-bgpvpn - build-openstack-sphinx-docs: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/horizon - openstack-tox-pep8: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon - openstack-tox-py27: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon - openstack-tox-py35: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon - openstack-tox-cover: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon - build-openstack-sphinx-docs: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon - openstack-tox-pep8: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon - openstack-tox-py27: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon - openstack-tox-py35: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon - openstack-tox-cover: required-projects: - openstack/neutron - openstack/networking-bagpipe - openstack/networking-odl - openstack/horizon,,99,0
openstack%2Floci~master~Idda951abaae97682365ab04620681b2ba53802ee,openstack/loci,master,Idda951abaae97682365ab04620681b2ba53802ee,Add missing LVM packages,MERGED,2017-10-04 15:55:14.000000000,2017-10-05 09:22:02.000000000,2017-10-05 09:22:02.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 14119}]","[{'number': 1, 'created': '2017-10-04 15:55:14.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/163cd8a3e41e1748b4c1b739102cf5a8ca2deb17', 'message': ""Add missing LVM packages\n\nWhile switching over Cinders BlockBox to build directly from\ngithub.com/openstack/loci-cinder I noticed that there are a\ncouple of things needed still.\n\nSince originally adding the loci-cinder lvm Dockerfile we've\nswitched cinder to use thin provisioning as a default.  As\na result, now we need to make sure the Dockerfile includes\nadding thin tools for deb based images.\n\nWhile looking at this I also noticed that the Centos image\nis missing the tgt utils, we could add epel and scsi-target-utils\nhere, but Rhel based distros have been defaulting to LIO for a\nwhile now so we should probably honor that and leave tgt out.\n\nChange-Id: Idda951abaae97682365ab04620681b2ba53802ee\n""}]",0,509522,163cd8a3e41e1748b4c1b739102cf5a8ca2deb17,7,3,1,2243,,,0,"Add missing LVM packages

While switching over Cinders BlockBox to build directly from
github.com/openstack/loci-cinder I noticed that there are a
couple of things needed still.

Since originally adding the loci-cinder lvm Dockerfile we've
switched cinder to use thin provisioning as a default.  As
a result, now we need to make sure the Dockerfile includes
adding thin tools for deb based images.

While looking at this I also noticed that the Centos image
is missing the tgt utils, we could add epel and scsi-target-utils
here, but Rhel based distros have been defaulting to LIO for a
while now so we should probably honor that and leave tgt out.

Change-Id: Idda951abaae97682365ab04620681b2ba53802ee
",git fetch https://review.opendev.org/openstack/loci refs/changes/22/509522/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,163cd8a3e41e1748b4c1b739102cf5a8ca2deb17,add_missing_lvm_pkgs,lvm2 [lvm] tgt [platform:dpkg lvm] thin-provisioning-tools [platform:dpkg lvm] targetcli [platform:rpm lvm],lvm2 [lvm] tgt [platform:dpkg lvm] targetcli [platform:rpm lvm],6,3
openstack%2Fopenstack-zuul-jobs~master~I929a26738938b22fae7e2581476b6b388883e0cf,openstack/openstack-zuul-jobs,master,I929a26738938b22fae7e2581476b6b388883e0cf,Fetch python-octaviaclient from pip,ABANDONED,2017-09-29 15:54:35.000000000,2017-10-05 09:19:37.000000000,,"[{'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 11628}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-09-29 15:54:35.000000000', 'files': ['playbooks/legacy/tempest-dsvm-octavia-kuryr-kubernetes/run.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/e01b7680a5a2780d287c7d9153532200fc0e8039', 'message': 'Fetch python-octaviaclient from pip\n\nThis commit disables fetching python-octaviaclient using LIBS_FROM_GIT\nas it was failing on the zuulv3 gate.\n\nChange-Id: I929a26738938b22fae7e2581476b6b388883e0cf\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}]",0,508550,e01b7680a5a2780d287c7d9153532200fc0e8039,9,6,1,14885,,,0,"Fetch python-octaviaclient from pip

This commit disables fetching python-octaviaclient using LIBS_FROM_GIT
as it was failing on the zuulv3 gate.

Change-Id: I929a26738938b22fae7e2581476b6b388883e0cf
Signed-off-by: Daniel Mellado <dmellado@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/50/508550/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/tempest-dsvm-octavia-kuryr-kubernetes/run.yaml'],1,e01b7680a5a2780d287c7d9153532200fc0e8039,octavia_kuryr_gate,, LIBS_FROM_GIT+=python-octaviaclient,0,1
openstack%2Fcharms.openstack~master~Ib544b1dec579f77a0c474bf829a1a4b389ad6cde,openstack/charms.openstack,master,Ib544b1dec579f77a0c474bf829a1a4b389ad6cde,"Revert ""Add snap support""",MERGED,2017-10-04 13:38:26.000000000,2017-10-05 09:17:25.000000000,2017-10-05 09:17:25.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-10-04 13:38:26.000000000', 'files': ['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/classes.py', 'charms_openstack/charm/defaults.py', 'charms_openstack/adapters.py', 'charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/42ee4248b76dd7f6f79e614753a008403b17923a', 'message': 'Revert ""Add snap support""\n\nThis reverts commit e8e7f83d00e9f78a34eb7d6542585534e319262e.\n\nChange-Id: Ib544b1dec579f77a0c474bf829a1a4b389ad6cde\n'}]",0,509446,42ee4248b76dd7f6f79e614753a008403b17923a,7,3,1,935,,,0,"Revert ""Add snap support""

This reverts commit e8e7f83d00e9f78a34eb7d6542585534e319262e.

Change-Id: Ib544b1dec579f77a0c474bf829a1a4b389ad6cde
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/46/509446/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/charms_openstack/charm/test_defaults.py', 'charms_openstack/charm/classes.py', 'charms_openstack/charm/defaults.py', 'charms_openstack/adapters.py', 'charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/charms_openstack/charm/test_classes.py']",7,42ee4248b76dd7f6f79e614753a008403b17923a,revert-snap-support,TEST_CONFIG = {'config': True},"TEST_CONFIG = {'config': True, 'openstack-origin': None} self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False) self.patch_object(chm.os_utils, 'snap_install_requested', return_value=False)",46,425
