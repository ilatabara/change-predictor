id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Freleases~master~I1542ba874c912930f9025e42211368c6d7e51b4b,openstack/releases,master,I1542ba874c912930f9025e42211368c6d7e51b4b,Release Ocata 8.0.1 for heat,MERGED,2017-04-18 07:59:21.000000000,2017-04-25 13:27:42.000000000,2017-04-25 13:27:42.000000000,"[{'_account_id': 3}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 16312}]","[{'number': 1, 'created': '2017-04-18 07:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/36ddbedb87eefe26a7e47f13cca2b4363ff2ef39', 'message': 'Release Ocata 8.0.1 for heat\n\nWe have several security or bug fixs in this release.\n\nChange-Id: I1542ba874c912930f9025e42211368c6d7e51b4b\n'}, {'number': 2, 'created': '2017-04-19 10:06:09.000000000', 'files': ['deliverables/ocata/heat.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b4ec629af55578954487202122dd5e446e7e98f0', 'message': 'Release Ocata 8.0.1 for heat\n\nWe have several security or bug fixs in this release.\n\nChange-Id: I1542ba874c912930f9025e42211368c6d7e51b4b\n'}]",1,457499,b4ec629af55578954487202122dd5e446e7e98f0,11,4,2,12404,,,0,"Release Ocata 8.0.1 for heat

We have several security or bug fixs in this release.

Change-Id: I1542ba874c912930f9025e42211368c6d7e51b4b
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/457499/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/heat.yaml'],1,36ddbedb87eefe26a7e47f13cca2b4363ff2ef39,release-heat-ocata-8.0.1, - version: 8.0.0.1 projects: - repo: openstack/heat hash: e2a317a6ab48ab500b645266afcb57c6319e37b4,,4,0
openstack%2Freleases~master~I485454faca5978af979905d6c78c6b57dabbd187,openstack/releases,master,I485454faca5978af979905d6c78c6b57dabbd187,Release python-heatclient ocata 1.8.1,MERGED,2017-04-18 08:03:46.000000000,2017-04-25 13:26:57.000000000,2017-04-25 13:26:57.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-04-18 08:03:46.000000000', 'files': ['deliverables/ocata/python-heatclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a23773cddd6cc2dbaa30ea02a6b54735a50415c7', 'message': 'Release python-heatclient ocata 1.8.1\n\nChange-Id: I485454faca5978af979905d6c78c6b57dabbd187\n'}]",0,457500,a23773cddd6cc2dbaa30ea02a6b54735a50415c7,7,2,1,12404,,,0,"Release python-heatclient ocata 1.8.1

Change-Id: I485454faca5978af979905d6c78c6b57dabbd187
",git fetch https://review.opendev.org/openstack/releases refs/changes/00/457500/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ocata/python-heatclient.yaml'],1,a23773cddd6cc2dbaa30ea02a6b54735a50415c7,release-python-heatclient-ocata-1.8.1, - version: 1.8.1 projects: - repo: openstack/python-heatclient hash: 56b497539877ca9e0e83ce6dad5a7f862efc7a63,,4,0
openstack%2Fhorizon~master~I84e1727394bdd1dba6bc5c49c776b1da4b13e599,openstack/horizon,master,I84e1727394bdd1dba6bc5c49c776b1da4b13e599,No hostname validation in launch instance angularjs panel,ABANDONED,2015-11-11 15:06:39.000000000,2017-04-25 13:26:35.000000000,,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 6763}, {'_account_id': 8533}, {'_account_id': 8871}, {'_account_id': 9622}, {'_account_id': 12826}, {'_account_id': 14124}, {'_account_id': 17172}, {'_account_id': 23757}]","[{'number': 1, 'created': '2015-11-11 15:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c7db526a4587d566a1021fe228a48d4e02f0430a', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 2, 'created': '2015-11-17 11:16:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/aac684ff6d6c6be31a762b066bf844c641f10550', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 3, 'created': '2015-11-17 14:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b386e02cae4399707b342ed86614586eb406f900', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 4, 'created': '2015-11-18 07:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/14ec45024c0dfe3193ab089d1f203e9559809691', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 5, 'created': '2015-11-24 13:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0963a50c75ebe52d20de7ad09c3848faf9638270', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 6, 'created': '2015-11-24 15:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/2d100e745ffa5b1ca83a1000035b51c2f2d4dc48', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 7, 'created': '2015-12-08 08:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/153392b83db1b45b2cb4100fc49ff198c4db7b87', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 8, 'created': '2015-12-09 10:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/709e7d3c9584fefa171b122d2493fba4f0ceb55f', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 9, 'created': '2015-12-10 14:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c8c47062467b2c1af8947baeaefe2a06d9ea22cf', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 10, 'created': '2016-03-04 15:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3f773592339f60b0d7e69a5c39e97241521dc202', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 11, 'created': '2016-04-14 09:44:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/327afb4643ce98118c734042e113c5e7f9898f17', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 12, 'created': '2016-04-14 12:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4ead00c20f2599717cfbcedbcb24a69cbb9332ab', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 13, 'created': '2016-04-14 15:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9e4797003d50cdee4fc1381a34348f4142667a5a', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 14, 'created': '2016-04-15 08:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f0a51226c260cdc4e3988f917dac3f6b5030d369', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 15, 'created': '2016-04-19 08:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/379624b76a518e67f82a41773a365110e9d59a6c', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 16, 'created': '2016-04-19 12:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c2e0744d9f4f5238e471d6dc21a1c4eb4bbbb78e', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 17, 'created': '2016-04-21 09:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9c24d3c423b441d38120aad2cb416fc0ba32f13e', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}, {'number': 18, 'created': '2016-04-21 09:41:33.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.instance.spec.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/details/details.html'], 'web_link': 'https://opendev.org/openstack/horizon/commit/49bc96244a41904a1addb72be5335bfae9527cd8', 'message': 'No hostname validation in launch instance angularjs panel\n\nHorizon Juno does not have hostname validation in AngularJS launch instance\nform. For example, you can create a new instance with name: ""#3rtttt""\n\nThat name will cause problems when Nova try to handle, but Horizon allow\nlaunch a new instance with a not valid hostname. A valid hostname is\nspecified by RFC1123 (http://tools.ietf.org/html/rfc1123).\n\nThis patch is quite similar to\nhttps://bugs.launchpad.net/horizon/+bug/1458800 but the validation\nhappens in different layers. This patch is needed as Horizon supports\nthe new AngularJS launch instance form.\n\nChange-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599\nCloses-Bug: #1490850\n'}]",0,244145,49bc96244a41904a1addb72be5335bfae9527cd8,60,10,18,8533,,,0,"No hostname validation in launch instance angularjs panel

Horizon Juno does not have hostname validation in AngularJS launch instance
form. For example, you can create a new instance with name: ""#3rtttt""

That name will cause problems when Nova try to handle, but Horizon allow
launch a new instance with a not valid hostname. A valid hostname is
specified by RFC1123 (http://tools.ietf.org/html/rfc1123).

This patch is quite similar to
https://bugs.launchpad.net/horizon/+bug/1458800 but the validation
happens in different layers. This patch is needed as Horizon supports
the new AngularJS launch instance form.

Change-Id: I84e1727394bdd1dba6bc5c49c776b1da4b13e599
Closes-Bug: #1490850
",git fetch https://review.opendev.org/openstack/horizon refs/changes/45/244145/11 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/launch-instance-model.service.js', 'openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.html']",2,c7db526a4587d566a1021fe228a48d4e02f0430a,(detached," ng-model=""model.newInstanceSpec.name"" ng-required=""true"" ng-pattern=""model.instance_regex"">"," ng-model=""model.newInstanceSpec.name"" ng-required=""true"">",8,1
openstack%2Ffuel-agent~master~I5fb95063402e5adffeee0c2ead7adfd44eb76179,openstack/fuel-agent,master,I5fb95063402e5adffeee0c2ead7adfd44eb76179,Replaces yaml.load() with yaml.safe_load() for fuel-agent,MERGED,2017-02-04 09:58:24.000000000,2017-04-25 13:23:46.000000000,2017-04-25 13:22:00.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8003}, {'_account_id': 8971}, {'_account_id': 10488}, {'_account_id': 20656}, {'_account_id': 25173}]","[{'number': 1, 'created': '2017-02-04 09:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/1093d3a4c7d9ef41284ad09848f0c348b830773e', 'message': 'Replaces yaml.load() with yaml.safe_load()\n\nYaml.load() return Python object may be dangerous if you receive\na YAML document from an untrusted source such as the Internet.\nThe function yaml.safe_load() limits this ability to simple Python\nobjects like integers or lists.\n\nReference:\nhttps://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html\n\nChange-Id: I5fb95063402e5adffeee0c2ead7adfd44eb76179\n'}, {'number': 2, 'created': '2017-03-10 01:08:05.000000000', 'files': ['fuel_agent/drivers/nailgun.py', 'fuel_agent/utils/build.py', 'contrib/fuel_bootstrap/fuel_bootstrap_cli/fuel_bootstrap/settings.py'], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/31c2a87e61daff1ab66270e858d2cf7a928d6669', 'message': 'Replaces yaml.load() with yaml.safe_load() for fuel-agent\n\nYaml.load() return Python object may be dangerous if you receive\na YAML document from an untrusted source such as the Internet.\nThe function yaml.safe_load() limits this ability to simple Python\nobjects like integers or lists.\n\nReference:\nhttps://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html\n\nChange-Id: I5fb95063402e5adffeee0c2ead7adfd44eb76179\n'}]",0,429252,31c2a87e61daff1ab66270e858d2cf7a928d6669,22,7,2,22484,,,0,"Replaces yaml.load() with yaml.safe_load() for fuel-agent

Yaml.load() return Python object may be dangerous if you receive
a YAML document from an untrusted source such as the Internet.
The function yaml.safe_load() limits this ability to simple Python
objects like integers or lists.

Reference:
https://security.openstack.org/guidelines/dg_avoid-dangerous-input-parsing-libraries.html

Change-Id: I5fb95063402e5adffeee0c2ead7adfd44eb76179
",git fetch https://review.opendev.org/openstack/fuel-agent refs/changes/52/429252/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_agent/drivers/nailgun.py', 'fuel_agent/utils/build.py', 'contrib/fuel_bootstrap/fuel_bootstrap_cli/fuel_bootstrap/settings.py']",3,1093d3a4c7d9ef41284ad09848f0c348b830773e,bug/gengchc, data = yaml.safe_load(f), data = yaml.load(f),4,4
openstack%2Fheat~master~I120e44511c52b20e302292c0254f20e4ba39c36a,openstack/heat,master,I120e44511c52b20e302292c0254f20e4ba39c36a,Add segment resource,MERGED,2017-04-03 05:02:44.000000000,2017-04-25 13:17:18.000000000,2017-04-25 13:17:18.000000000,"[{'_account_id': 3}, {'_account_id': 6577}, {'_account_id': 7385}, {'_account_id': 8289}, {'_account_id': 8833}]","[{'number': 1, 'created': '2017-04-03 05:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/49b5bda9bfd1864bb4e3bd604d5a96228caf1c24', 'message': 'Add segment resource\n\nChange-Id: I120e44511c52b20e302292c0254f20e4ba39c36a\nPartially-Implements: blueprint neutron-routed-networks\n'}, {'number': 2, 'created': '2017-04-03 07:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ae60f7d8e6193cd74f804a53e1401f339483aebe', 'message': 'Add segment resource\n\nChange-Id: I120e44511c52b20e302292c0254f20e4ba39c36a\nPartially-Implements: blueprint neutron-routed-networks\n'}, {'number': 3, 'created': '2017-04-16 13:22:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/baefcb9d0fe17d25ef05d4f556f36b8c96a2e8d0', 'message': 'Add segment resource\n\nChange-Id: I120e44511c52b20e302292c0254f20e4ba39c36a\nPartially-Implements: blueprint neutron-routed-networks\n'}, {'number': 4, 'created': '2017-04-19 09:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/cd3f79fb2f85f74a2757d29217618428357defe6', 'message': 'Add segment resource\n\nChange-Id: I120e44511c52b20e302292c0254f20e4ba39c36a\nPartially-Implements: blueprint neutron-routed-networks\n'}, {'number': 5, 'created': '2017-04-24 07:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/3bfaf93ecc70db41fd339a8e46dee2ef393a4c70', 'message': 'Add segment resource\n\nChange-Id: I120e44511c52b20e302292c0254f20e4ba39c36a\nPartially-Implements: blueprint neutron-routed-networks\n'}, {'number': 6, 'created': '2017-04-25 09:00:22.000000000', 'files': ['heat/tests/openstack/neutron/inline_templates.py', 'heat/engine/resources/openstack/neutron/segment.py', 'heat/tests/openstack/neutron/test_neutron_segment.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/889c1c774ec112906e53be0540762d283d5b2409', 'message': 'Add segment resource\n\nChange-Id: I120e44511c52b20e302292c0254f20e4ba39c36a\nPartially-Implements: blueprint neutron-routed-networks\n'}]",9,452596,889c1c774ec112906e53be0540762d283d5b2409,24,5,6,8833,,,0,"Add segment resource

Change-Id: I120e44511c52b20e302292c0254f20e4ba39c36a
Partially-Implements: blueprint neutron-routed-networks
",git fetch https://review.opendev.org/openstack/heat refs/changes/96/452596/3 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/neutron/inline_templates.py', 'heat/engine/resources/openstack/neutron/segment.py', 'heat/tests/openstack/neutron/test_neutron_segment.py']",3,49b5bda9bfd1864bb4e3bd604d5a96228caf1c24,bp/neutron-routed-networks,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock from neutronclient.neutron import v2_0 as neutronV20 import six from heat.common import exception from heat.common import template_format from heat.engine.clients.os import neutron from heat.engine import rsrc_defn from heat.engine import stack from heat.engine import template from heat.tests import common from heat.tests.openstack.neutron import inline_templates from heat.tests import utils class NeutronSegmentTest(common.HeatTestCase): def setUp(self): super(NeutronSegmentTest, self).setUp() self.ctx = utils.dummy_context() tpl = template_format.parse(inline_templates.SEGMENT_TEMPLATE) self.stack = stack.Stack( self.ctx, 'segment_test', template.Template(tpl) ) self.sdkclient = mock.MagicMock() self.patchobject(neutron.NeutronClientPlugin, 'has_extension', return_value=True) self.segment = self.stack['segment'] self.segment.client = mock.Mock( return_value=self.sdkclient) self.patchobject(self.segment, 'physical_resource_name', return_value='test_segment') self.patchobject(neutronV20, 'find_resourceid_by_name_or_id', return_value='private') def test_segment_handle_create(self): seg = mock.Mock(id='9c1eb3fe-7bba-479d-bd43-1d497e53c384') create_props = {'name': 'test_segment', 'network_id': 'private', 'network_type': 'vxlan', 'segmentation_id': -101} mock_create = self.patchobject(self.sdkclient.network, 'create_segment', return_value=seg) self.segment.handle_create() self.assertEqual('9c1eb3fe-7bba-479d-bd43-1d497e53c384', self.segment.resource_id) mock_create.assert_called_once_with(**create_props) def test_segment_handle_delete(self): segment_id = '477e8273-60a7-4c41-b683-fdb0bc7cd151' self.segment.resource_id = segment_id mock_delete = self.patchobject(self.sdkclient.network, 'delete_segment', return_value=None) self.assertIsNone(self.segment.handle_delete()) mock_delete.assert_called_once_with(self.segment.resource_id) def test_segment_handle_delete_not_found(self): segment_id = '477e8273-60a7-4c41-b683-fdb0bc7cd151' self.segment.resource_id = segment_id not_found = self.sdkclient.NotFound mock_delete = self.patchobject(self.sdkclient.network, 'delete_segment', side_effect=not_found) self.assertIsNone(self.segment.handle_delete()) mock_delete.assert_called_once_with(self.segment.resource_id) def test_segment_delete_resource_id_is_none(self): self.segment.resource_id = None mock_delete = self.patchobject(self.sdkclient.network, 'delete_segment') self.assertIsNone(self.segment.handle_delete()) self.assertEqual(0, mock_delete.call_count) def test_segment_handle_update(self): segment_id = '477e8273-60a7-4c41-b683-fdb0bc7cd151' self.segment.resource_id = segment_id props = { 'name': 'test_segment', 'description': 'updated' } mock_update = self.patchobject(self.sdkclient.network, 'update_segment') update_dict = props.copy() update_snippet = rsrc_defn.ResourceDefinition( self.segment.name, self.segment.type(), props) # with name self.segment.handle_update( json_snippet=update_snippet, tmpl_diff={}, prop_diff=props) # without name props['name'] = None self.segment.handle_update( json_snippet=update_snippet, tmpl_diff={}, prop_diff=props) self.assertEqual(2, mock_update.call_count) mock_update.assert_called_with(segment_id, **update_dict) def test_validate(self): self.t = template_format.parse(inline_templates.SEGMENT_TEMPLATE) props = self.t['resources']['segment']['properties'] props['network_type'] = 'flat' self.stack = utils.parse_stack(self.t) rsrc = self.stack['segment'] errMsg = ('physical_network is required for flat provider network.') error = self.assertRaises(exception.StackValidationFailed, rsrc.validate) self.assertEqual(errMsg, six.text_type(error)) props['network_type'] = 'local' self.stack = utils.parse_stack(self.t) rsrc = self.stack['segment'] errMsg = ('segmentation_id is prohibited for local provider network.') error = self.assertRaises(exception.StackValidationFailed, rsrc.validate) self.assertEqual(errMsg, six.text_type(error)) def test_segment_get_attr(self): segment_id = '477e8273-60a7-4c41-b683-fdb0bc7cd151' self.segment.resource_id = segment_id seg = {'name': 'test_segment', 'id': '477e8273-60a7-4c41-b683-fdb0bc7cd151', 'network_type': 'vxlan', 'network_id': 'private', 'segmentation_id': -101} class FakeSegment(object): def to_dict(self): return seg get_mock = self.patchobject(self.sdkclient.network, 'get_segment', return_value=FakeSegment()) self.assertEqual(seg, self.segment.FnGetAtt('show')) get_mock.assert_called_once_with(self.segment.resource_id) ",,311,0
openstack%2Fsahara-tests~master~Id057547f9a119049369c2b4320a1f608810adcb1,openstack/sahara-tests,master,Id057547f9a119049369c2b4320a1f608810adcb1,Move methods from runner to utils,MERGED,2017-03-15 13:24:35.000000000,2017-04-25 13:12:54.000000000,2017-04-25 13:12:54.000000000,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 10459}, {'_account_id': 12038}, {'_account_id': 13919}, {'_account_id': 22066}]","[{'number': 1, 'created': '2017-03-15 13:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/1eada6a494eb9ff68b2af3238dcd932a09ea2cbc', 'message': 'Move methods from runner to utils\n\nWe need to move some methods to separete file for using in api for\nsahara-scenario\n\nbp pi-for-scenario-tests\nbp refactor-runner\n\nChange-Id: Id057547f9a119049369c2b4320a1f608810adcb1\n'}, {'number': 2, 'created': '2017-03-31 06:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/f64ce013d71c39ea35a0e592ed80ac7c91f08d12', 'message': 'Move methods from runner to utils\n\nWe need to move some methods to separete file for using in api for\nsahara-scenario\n\nbp api-for-scenario-tests\nbp refactor-runner\n\nChange-Id: Id057547f9a119049369c2b4320a1f608810adcb1\n'}, {'number': 3, 'created': '2017-04-21 11:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/1a830540e65199c82d84e4bcae9e88ced6b19b20', 'message': 'Move methods from runner to utils\n\nWe need to move some methods to separete file for using in api for\nsahara-scenario\n\nbp api-for-scenario-tests\nbp refactor-runner\n\nChange-Id: Id057547f9a119049369c2b4320a1f608810adcb1\n'}, {'number': 4, 'created': '2017-04-24 12:43:58.000000000', 'files': ['sahara_tests/scenario/utils.py', 'sahara_tests/scenario/runner.py'], 'web_link': 'https://opendev.org/openstack/sahara-tests/commit/2df790ee266ed6b2964f2bf96ae427c11193a97f', 'message': 'Move methods from runner to utils\n\nWe need to move some methods to separete file for using in api for\nsahara-scenario\n\nbp api-for-scenario-tests\nbp refactor-runner\n\nChange-Id: Id057547f9a119049369c2b4320a1f608810adcb1\n'}]",1,445954,2df790ee266ed6b2964f2bf96ae427c11193a97f,40,6,4,13919,,,0,"Move methods from runner to utils

We need to move some methods to separete file for using in api for
sahara-scenario

bp api-for-scenario-tests
bp refactor-runner

Change-Id: Id057547f9a119049369c2b4320a1f608810adcb1
",git fetch https://review.opendev.org/openstack/sahara-tests refs/changes/54/445954/4 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_tests/scenario/utils.py', 'sahara_tests/scenario/runner.py']",2,1eada6a494eb9ff68b2af3238dcd932a09ea2cbc,bp/api-for-scenario-tests,"from sahara_tests.scenario import utils auth_values = utils.get_auth_values(cloud_config, args) scenario_arguments = utils.get_default_templates(plugin, version, release, scenario_arguments) template_variables = utils.get_templates_variables(files, variable_file, verbose_run, scenario_args, auth_values) config = utils.generate_config(files, template_variables, params_for_login, verbose_run) test_dir_path = utils.create_testcase_file(testcases, credentials, network, report) utils.run_tests(concurrency, test_dir_path)","from mako import template as mako_templateSCENARIO_RESOURCES_DIR = pkg.resource_filename(version.version_info.package, 'scenario') TEST_TEMPLATE_DIR = os.path.join(SCENARIO_RESOURCES_DIR, 'defaults/') DEFAULT_TEMPLATE_VARS = [os.path.join(TEST_TEMPLATE_DIR, 'credentials.yaml.mako'), os.path.join(TEST_TEMPLATE_DIR, 'edp.yaml.mako')] TEST_TEMPLATE_PATH = os.path.join(SCENARIO_RESOURCES_DIR, 'testcase.py.mako') DEFAULT_TESTR_CONF = os.path.join(SCENARIO_RESOURCES_DIR, 'testr.conf') def _merge_dicts_sections(dict_with_section, dict_for_merge, section): if dict_with_section.get(section) is not None: for key in dict_with_section[section]: if dict_for_merge[section].get(key) is not None: if dict_for_merge[section][key] != ( dict_with_section[section][key]): raise ValueError('Sections %s is different' % section) else: dict_for_merge[section][key] = dict_with_section[section][key] return dict_for_merge def read_template_variables(variable_file=None, verbose=False, scenario_args=None, auth_values=None): variables = {} try: cp = six.moves.configparser.ConfigParser() # key-sensitive keys if variable_file: cp.optionxform = lambda option: option cp.readfp(open(variable_file)) variables = cp.defaults() if scenario_args: variables.update(scenario_args) if auth_values: variables.update(auth_values) except IOError as ioe: print(""WARNING: the input contains at least one template, but "" ""the variable configuration file '%s' is not valid: %s"" % (variable_file, ioe)) except six.moves.configparser.Error as cpe: print(""WARNING: the input contains at least one template, but "" ""the variable configuration file '%s' can not be parsed: "" ""%s"" % (variable_file, cpe)) finally: if verbose: print(""Template variables:\n%s"" % (variables)) # continue anyway, as the templates could require no variables return variables def is_template_file(config_file): return config_file.endswith(('.yaml.mako', '.yml.mako')) def read_scenario_config(scenario_config, template_vars=None, verbose=False): """"""Parse the YAML or the YAML template file. If the file is a YAML template file, expand it first. """""" yaml_file = '' if is_template_file(scenario_config): scenario_template = mako_template.Template(filename=scenario_config, strict_undefined=True) template = scenario_template.render_unicode(**template_vars) yaml_file = yaml.safe_load(template) else: with open(scenario_config, 'r') as yaml_file: yaml_file = yaml.safe_load(yaml_file) if verbose: print(""YAML from %s:\n%s"" % (scenario_config, yaml.safe_dump(yaml_file, allow_unicode=True, default_flow_style=False))) return yaml_file def get_templates_variables(files, variable_file, verbose_run, scenario_args, auth_values): template_variables = {} if any(is_template_file(config_file) for config_file in files): template_variables = read_template_variables(variable_file, verbose_run, scenario_args) template_variables.update(read_template_variables( verbose=verbose_run, scenario_args=scenario_args, auth_values=auth_values)) return template_variables def generate_config(files, template_variables, auth_values, verbose_run): config = {'credentials': {}, 'network': {}, 'clusters': [], 'edp_jobs_flow': {}} for scenario_argument in files: test_scenario = read_scenario_config(scenario_argument, template_variables, verbose_run) config = _merge_dicts_sections(test_scenario, config, 'credentials') config = _merge_dicts_sections(test_scenario, config, 'network') if test_scenario.get('clusters') is not None: config['clusters'] += test_scenario['clusters'] if test_scenario.get('edp_jobs_flow') is not None: for key in test_scenario['edp_jobs_flow']: if key not in config['edp_jobs_flow']: config['edp_jobs_flow'][key] = ( test_scenario['edp_jobs_flow'][key]) else: raise ValueError('Job flow exist') config['credentials'].update(auth_values['credentials']) return config def get_default_templates(plugin, version, release, scenario_arguments): templates_location = TEST_TEMPLATE_DIR if release is not None: templates_location = os.path.join(TEST_TEMPLATE_DIR, release) if plugin: if plugin in ['transient', 'fake']: template = ""%s.yaml.mako"" % plugin elif plugin and version: template = ""%s-%s.yaml.mako"" % (plugin, version) else: raise ValueError(""Please, specify version for plugin via '-v'"") DEFAULT_TEMPLATE_VARS.append(os.path.join(templates_location, template)) scenario_arguments = DEFAULT_TEMPLATE_VARS return scenario_arguments def get_auth_values(cloud_config, args): try: cloud = cloud_config.get_one_cloud(argparse=args) cloud_credentials = cloud.get_auth_args() api_version = cloud.config.get('identity_api_version') except os_client_config.exceptions.OpenStackConfigException: # cloud not found api_version = '2.0' cloud_credentials = {} auth_values = { 'os_username': cloud_credentials.get('username', 'admin'), 'os_password': cloud_credentials.get('password', 'nova'), 'os_auth_url': cloud_credentials.get('auth_url', 'http://localhost:5000/v2.0'), 'os_tenant': cloud_credentials.get('project_name', 'admin') } auth_url = auth_values['os_auth_url'] if not any(v in auth_url for v in ('v2.0', 'v3')): version = 'v3' if api_version in ('3', '3.0') else 'v2.0' auth_values['os_auth_url'] = ""%s/%s"" % (auth_url, version) return auth_values auth_values = get_auth_values(cloud_config, args) scenario_arguments = get_default_templates(plugin, version, release, scenario_arguments) template_variables = get_templates_variables(files, variable_file, verbose_run, scenario_args, auth_values) config = generate_config(files, template_variables, params_for_login, verbose_run) # current directory, where to write reports, key files, etc, if required results_dir = os.getcwd() default_templ_dir = os.path.abspath(TEST_TEMPLATE_DIR) # create testcase file test_template = mako_template.Template(filename=TEST_TEMPLATE_PATH) testcase_data = test_template.render(testcases=testcases, credentials=credentials, network=network, report=report, results_dir=results_dir, default_templ_dir=default_templ_dir) test_dir_path = tempfile.mkdtemp() print(""The generated test file located at: %s"" % test_dir_path) fileutils.write_to_tempfile(testcase_data.encode(""ASCII""), prefix='test_', suffix='.py', path=test_dir_path) shutil.copyfile(DEFAULT_TESTR_CONF, os.path.join(test_dir_path, '.testr.conf')) command = ['ostestr'] if concurrency: command.extend(['--concurrency', '%d' % concurrency]) new_env = os.environ.copy() new_env['DISCOVER_DIRECTORY'] = '.' tester_runner = subprocess.Popen(command, env=new_env, cwd=test_dir_path) tester_runner.communicate() sys.exit(tester_runner.returncode) ",229,197
openstack%2Freleases~master~I7ce06b074fb8b66decc0cf87095b63305ccb51d9,openstack/releases,master,I7ce06b074fb8b66decc0cf87095b63305ccb51d9,Release heat Newton 7.0.3,MERGED,2017-04-18 08:08:46.000000000,2017-04-25 13:06:25.000000000,2017-04-25 13:06:25.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 16312}]","[{'number': 1, 'created': '2017-04-18 08:08:46.000000000', 'files': ['deliverables/newton/heat.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/886d34eb1b7f424fdb186e440049ef6362007f9b', 'message': 'Release heat Newton 7.0.3\n\nChange-Id: I7ce06b074fb8b66decc0cf87095b63305ccb51d9\n'}]",0,457504,886d34eb1b7f424fdb186e440049ef6362007f9b,8,3,1,12404,,,0,"Release heat Newton 7.0.3

Change-Id: I7ce06b074fb8b66decc0cf87095b63305ccb51d9
",git fetch https://review.opendev.org/openstack/releases refs/changes/04/457504/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/newton/heat.yaml'],1,886d34eb1b7f424fdb186e440049ef6362007f9b,release-heat-newton-7.0.3, - version: 7.0.3 projects: - repo: openstack/heat hash: d9979236d9082a64d6afa6b868467173f1bc7c28,,4,0
openstack%2Freleases~master~I377949669120bec3a0f8937585283a40db454978,openstack/releases,master,I377949669120bec3a0f8937585283a40db454978,Release python-heatclient Newton 1.5.1,MERGED,2017-04-18 08:15:12.000000000,2017-04-25 13:06:19.000000000,2017-04-25 13:06:19.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-04-18 08:15:12.000000000', 'files': ['deliverables/newton/python-heatclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/972ae9becd30186b993cdfddad3737db62b34ac1', 'message': 'Release python-heatclient Newton 1.5.1\n\nChange-Id: I377949669120bec3a0f8937585283a40db454978\n'}]",0,457506,972ae9becd30186b993cdfddad3737db62b34ac1,7,2,1,12404,,,0,"Release python-heatclient Newton 1.5.1

Change-Id: I377949669120bec3a0f8937585283a40db454978
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/457506/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/newton/python-heatclient.yaml'],1,972ae9becd30186b993cdfddad3737db62b34ac1,release-python-heatclient-newton-1.5.1, - version: 1.5.1 projects: - repo: openstack/python-heatclient hash: 144e5a883d1f9f867e4174df3f35661c83ce4da7,,4,0
openstack%2Freleases~master~I7b7b562e498a7cecd79d060a26fc00845ac6d0d9,openstack/releases,master,I7b7b562e498a7cecd79d060a26fc00845ac6d0d9,Release pymod2pkg 0.7.6,MERGED,2017-04-25 12:53:26.000000000,2017-04-25 13:06:14.000000000,2017-04-25 13:06:14.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 7102}, {'_account_id': 7613}]","[{'number': 1, 'created': '2017-04-25 12:53:26.000000000', 'files': ['deliverables/_independent/pymod2pkg.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1daaab64bbfd942e7702f12f491be165afe1ec3f', 'message': 'Release pymod2pkg 0.7.6\n\nIncludes new mappings for masakari projects.\n\nChange-Id: I7b7b562e498a7cecd79d060a26fc00845ac6d0d9\n'}]",0,459669,1daaab64bbfd942e7702f12f491be165afe1ec3f,8,4,1,2394,,,0,"Release pymod2pkg 0.7.6

Includes new mappings for masakari projects.

Change-Id: I7b7b562e498a7cecd79d060a26fc00845ac6d0d9
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/459669/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/pymod2pkg.yaml'],1,1daaab64bbfd942e7702f12f491be165afe1ec3f,pymod2pkg, - version: 0.7.6 projects: - repo: openstack/pymod2pkg hash: ca620f9f0413aa4995e0558d8262f4384452b060,,4,0
openstack%2Foslo.cache~master~I6a59a145a3381f62e491d7f66bfd462a3c12bf06,openstack/oslo.cache,master,I6a59a145a3381f62e491d7f66bfd462a3c12bf06,Remove unused/duplicated logging import,MERGED,2017-02-17 06:39:08.000000000,2017-04-25 13:06:08.000000000,2017-04-25 13:06:08.000000000,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 6928}, {'_account_id': 17654}]","[{'number': 1, 'created': '2017-02-17 06:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/9cb8fbcdab3d5931140b03b7a22ac65cc44c7ba8', 'message': 'Remove unused logging import\n\nChange-Id: I6a59a145a3381f62e491d7f66bfd462a3c12bf06\n'}, {'number': 2, 'created': '2017-03-17 09:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/6a7ad67b850f22c23948ddcc7c244db1920a44fb', 'message': 'Remove unused/duplicated logging import\n\nChange-Id: I6a59a145a3381f62e491d7f66bfd462a3c12bf06\n'}, {'number': 3, 'created': '2017-04-24 15:18:47.000000000', 'files': ['oslo_cache/backends/memcache_pool.py', 'oslo_cache/_memcache_pool.py'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/5fed740b6631d3bdd6cec1011a422c2f3b863806', 'message': 'Remove unused/duplicated logging import\n\nChange-Id: I6a59a145a3381f62e491d7f66bfd462a3c12bf06\n'}]",0,435271,5fed740b6631d3bdd6cec1011a422c2f3b863806,13,4,3,19935,,,0,"Remove unused/duplicated logging import

Change-Id: I6a59a145a3381f62e491d7f66bfd462a3c12bf06
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/71/435271/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_cache/backends/memcache_pool.py'],1,9cb8fbcdab3d5931140b03b7a22ac65cc44c7ba8,rm_log,,import loggingLOG = logging.getLogger(__name__) ,0,4
openstack%2Fos-vif~stable%2Focata~Ic5d26c5d8311e158997e8f49f03a3b385e1d83e2,openstack/os-vif,stable/ocata,Ic5d26c5d8311e158997e8f49f03a3b385e1d83e2,Sync pbr with latest from global-requirements in stable/ocata,MERGED,2017-04-24 20:26:36.000000000,2017-04-25 13:06:07.000000000,2017-04-25 13:06:07.000000000,"[{'_account_id': 3}, {'_account_id': 6873}, {'_account_id': 8213}, {'_account_id': 11604}]","[{'number': 1, 'created': '2017-04-24 20:26:36.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/98fa063614c8317d39871ddc4336cb897ac302d5', 'message': ""Sync pbr with latest from global-requirements in stable/ocata\n\nThis is needed to fix docs for os-vif in stable/ocata.\n\nNote we aren't doing a full sync from global-requirements\nas that would pull in a minimum version bump to oslo.versionedobjects\nwhich we don't need or want to do in a stable release.\n\nChange-Id: Ic5d26c5d8311e158997e8f49f03a3b385e1d83e2\n""}]",3,459442,98fa063614c8317d39871ddc4336cb897ac302d5,10,4,1,6873,,,0,"Sync pbr with latest from global-requirements in stable/ocata

This is needed to fix docs for os-vif in stable/ocata.

Note we aren't doing a full sync from global-requirements
as that would pull in a minimum version bump to oslo.versionedobjects
which we don't need or want to do in a stable release.

Change-Id: Ic5d26c5d8311e158997e8f49f03a3b385e1d83e2
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/42/459442/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,98fa063614c8317d39871ddc4336cb897ac302d5,sync-reqs-ocata,"pbr<2.0.0,>=1.8 # Apache-2.0",pbr>=1.6 # Apache-2.0,1,1
openstack%2Fneutron~master~Iaea3cf0d10b814bcdc690df6192f9e729f77304f,openstack/neutron,master,Iaea3cf0d10b814bcdc690df6192f9e729f77304f,Creating subnet for tagged network without GW.,MERGED,2017-04-23 11:08:55.000000000,2017-04-25 13:05:19.000000000,2017-04-25 13:05:19.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4727}, {'_account_id': 6579}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 14571}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 19118}, {'_account_id': 21302}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-04-23 11:08:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95f3825d4b886d5aa81e707aa9364354f34566b5', 'message': 'Creating subnet for tagged network with ou GW.\n\nIn order to have only 1 GW passed to the VM we need to create\nsecond subnet without GW configured.\nThis fixes the VM connectivity loss issue.\n\nChange-Id: Iaea3cf0d10b814bcdc690df6192f9e729f77304f\ncloses-bug: 1685602\n'}, {'number': 2, 'created': '2017-04-23 11:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb5ecad03e39f94570bb454bf08cf8d61aad9a87', 'message': 'Creating subnet for tagged network with out GW.\n\nIn order to have only 1 GW passed to the VM we need to create\nsecond subnet without GW configured.\nThis fixes the VM connectivity loss issue.\n\nChange-Id: Iaea3cf0d10b814bcdc690df6192f9e729f77304f\ncloses-bug: 1685602\n'}, {'number': 3, 'created': '2017-04-23 13:14:13.000000000', 'files': ['neutron/tests/tempest/scenario/test_trunk.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/070571dcbc89e8782508421a7a377ad13b779e22', 'message': 'Creating subnet for tagged network without GW.\n\nIn order to have only 1 GW passed to the VM we need to create\nsecond subnet without GW configured.\nThis fixes the VM connectivity loss issue.\n\nChange-Id: Iaea3cf0d10b814bcdc690df6192f9e729f77304f\ncloses-bug: 1685602\n'}]",1,459100,070571dcbc89e8782508421a7a377ad13b779e22,27,13,3,18746,,,0,"Creating subnet for tagged network without GW.

In order to have only 1 GW passed to the VM we need to create
second subnet without GW configured.
This fixes the VM connectivity loss issue.

Change-Id: Iaea3cf0d10b814bcdc690df6192f9e729f77304f
closes-bug: 1685602
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/459100/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/scenario/test_trunk.py'],1,95f3825d4b886d5aa81e707aa9364354f34566b5,bug/1685602," self.create_subnet(vlan_network, gateway=None, cidr=new_subnet_cidr)"," self.create_subnet(vlan_network, cidr=new_subnet_cidr)",1,1
openstack%2Fkeystone~master~Ia9f069223625609ac01ad7e81075df7eeea9c585,openstack/keystone,master,Ia9f069223625609ac01ad7e81075df7eeea9c585,Trivial Fix: fix typo in test comments,MERGED,2017-04-20 10:08:16.000000000,2017-04-25 13:04:39.000000000,2017-04-25 13:04:39.000000000,"[{'_account_id': 3}, {'_account_id': 8482}, {'_account_id': 17860}]","[{'number': 1, 'created': '2017-04-20 10:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/bac76bb2c2f75be1764a31d973a360b47bef3f21', 'message': 'Trivial Fix: fix typo in test comments\n\nChange-Id: Ia9f069223625609ac01ad7e81075df7eeea9c585\n'}, {'number': 2, 'created': '2017-04-21 01:50:51.000000000', 'files': ['keystone/tests/unit/assignment/test_backends.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/cf39ea53d60712f708fb20f34c3a551292fd1cc2', 'message': 'Trivial Fix: fix typo in test comments\n\nChange-Id: Ia9f069223625609ac01ad7e81075df7eeea9c585\n'}]",1,458427,cf39ea53d60712f708fb20f34c3a551292fd1cc2,10,3,2,17645,,,0,"Trivial Fix: fix typo in test comments

Change-Id: Ia9f069223625609ac01ad7e81075df7eeea9c585
",git fetch https://review.opendev.org/openstack/keystone refs/changes/27/458427/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/assignment/test_backends.py'],1,bac76bb2c2f75be1764a31d973a360b47bef3f21,fix_typo," # A domain with a project and sub-project, plus a user. # parent and one group assignment inheritied from the parent. # implied roles (and that non implied roles are included in"," # A domain with a project ans sub-project, plus a user. # parent and one group assignment inhertied from the parent. # implied roles (and that non impled roles are included in",3,3
openstack%2Fgrenade~master~I2727a8df05d02881ed0a3b462eee802caefd27bd,openstack/grenade,master,I2727a8df05d02881ed0a3b462eee802caefd27bd,"Revert ""copy .stackenv to target""",MERGED,2017-04-25 07:48:09.000000000,2017-04-25 13:04:28.000000000,2017-04-25 13:04:28.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 4393}, {'_account_id': 5196}, {'_account_id': 6167}, {'_account_id': 10239}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-04-25 07:48:09.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/18f304fab22509ba9a0ee2152b49bbf379e1d796', 'message': 'Revert ""copy .stackenv to target""\n\nThis reverts commit 4075993fbb9f2a1b48cf5deab0d9051b86a9ec6d.\n\nChange-Id: I2727a8df05d02881ed0a3b462eee802caefd27bd\n'}]",0,459566,18f304fab22509ba9a0ee2152b49bbf379e1d796,8,9,1,14525,,,0,"Revert ""copy .stackenv to target""

This reverts commit 4075993fbb9f2a1b48cf5deab0d9051b86a9ec6d.

Change-Id: I2727a8df05d02881ed0a3b462eee802caefd27bd
",git fetch https://review.opendev.org/openstack/grenade refs/changes/66/459566/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,18f304fab22509ba9a0ee2152b49bbf379e1d796,,, # copy over the base .stackenv to the target one so that openrc # works as expected. cp .stackenv $TARGET_DEVSTACK_DIR,0,3
openstack%2Ftempest~master~I07c69c467743a2f132c99d992773a53bda3bec7b,openstack/tempest,master,I07c69c467743a2f132c99d992773a53bda3bec7b,Use cliff.lister for tempest workspace command,MERGED,2016-07-25 04:41:13.000000000,2017-04-25 13:02:46.000000000,2017-04-25 13:02:46.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8871}, {'_account_id': 10385}]","[{'number': 1, 'created': '2016-07-25 04:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4fb0a3d263c08dc3b81c6cb9decf8e4fd6046697', 'message': 'Use cliff.lister for tempest workspace command\n\nThis commit makes tempest workspace command use cliff.lister to show\nvarious formats. And this commit splits the original class -\nTempestWorkspace into the subcommand classes to use the cliff.lister\nclass. With this splitting, we can get the subcommand helps as a side\neffect.\n\nChange-Id: I07c69c467743a2f132c99d992773a53bda3bec7b\n'}, {'number': 2, 'created': '2017-04-11 22:14:52.000000000', 'files': ['tempest/tests/cmd/test_workspace.py', 'setup.cfg', 'tempest/cmd/workspace.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/00effc933f855ca358910ddee9feb0e409aa9a13', 'message': 'Use cliff.lister for tempest workspace command\n\nThis commit makes tempest workspace command use cliff.lister to show\nvarious formats. And this commit splits the original class -\nTempestWorkspace into the subcommand classes to use the cliff.lister\nclass. With this splitting, we can get the subcommand helps as a side\neffect.\n\nChange-Id: I07c69c467743a2f132c99d992773a53bda3bec7b\n'}]",0,346586,00effc933f855ca358910ddee9feb0e409aa9a13,21,6,2,5689,,,0,"Use cliff.lister for tempest workspace command

This commit makes tempest workspace command use cliff.lister to show
various formats. And this commit splits the original class -
TempestWorkspace into the subcommand classes to use the cliff.lister
class. With this splitting, we can get the subcommand helps as a side
effect.

Change-Id: I07c69c467743a2f132c99d992773a53bda3bec7b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/86/346586/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/cmd/test_workspace.py', 'setup.cfg', 'tempest/cmd/workspace.py']",3,4fb0a3d263c08dc3b81c6cb9decf8e4fd6046697,use-lister-for-workspace,"from cliff import listerdef add_global_arguments(parser): parser.add_argument( '--workspace-path', required=False, default=None, help=""The path to the workspace file, the default is "" ""~/.tempest/workspace.yaml"") return parser class TempestWorkspaceRegister(command.Command): def get_description(self): return ('Registers a new tempest workspace via a given ' '--name and --path') parser = super(TempestWorkspaceRegister, self).get_parser(prog_name) add_global_arguments(parser) parser.add_argument('--name', required=True) parser.add_argument('--path', required=True) def take_action(self, parsed_args): self.manager = WorkspaceManager(parsed_args.workspace_path) self.manager.register_new_workspace(parsed_args.name, parsed_args.path) sys.exit(0) class TempestWorkspaceRename(command.Command): def get_description(self): return 'Renames a tempest workspace from --old-name to --new-name' def get_parser(self, prog_name): parser = super(TempestWorkspaceRename, self).get_parser(prog_name) add_global_arguments(parser) parser.add_argument('--old-name', required=True) parser.add_argument('--new-name', required=True) return parser def take_action(self, parsed_args): self.manager = WorkspaceManager(parsed_args.workspace_path) self.manager.rename_workspace( parsed_args.old_name, parsed_args.new_name) sys.exit(0) class TempestWorkspaceMove(command.Command): def get_description(self): return 'Changes the path of a given tempest workspace --name to --path' def get_parser(self, prog_name): parser = super(TempestWorkspaceMove, self).get_parser(prog_name) add_global_arguments(parser) parser.add_argument('--name', required=True) parser.add_argument('--path', required=True) return parser def take_action(self, parsed_args): self.manager = WorkspaceManager(parsed_args.workspace_path) self.manager.move_workspace(parsed_args.name, parsed_args.path) sys.exit(0) class TempestWorkspaceRemove(command.Command): def get_description(self): return 'Deletes the entry for a given tempest workspace --name' def get_parser(self, prog_name): parser = super(TempestWorkspaceRemove, self).get_parser(prog_name) add_global_arguments(parser) parser.add_argument('--name', required=True) return parser def take_action(self, parsed_args): self.manager = WorkspaceManager(parsed_args.workspace_path) self.manager.remove_workspace(parsed_args.name) sys.exit(0) class TempestWorkspaceList(lister.Lister): def get_description(self): return 'Outputs the name and path of all known tempest workspaces' def get_parser(self, prog_name): parser = super(TempestWorkspaceList, self).get_parser(prog_name) add_global_arguments(parser) return parser def take_action(self, parsed_args): self.manager = WorkspaceManager(parsed_args.workspace_path) return ((""Name"", ""Path""), ((n, p) for n, p in self.manager.list_workspaces().items()))","import prettytableclass TempestWorkspace(command.Command): def take_action(self, parsed_args): self.manager = WorkspaceManager(parsed_args.workspace_path) if getattr(parsed_args, 'register', None): self.manager.register_new_workspace( parsed_args.name, parsed_args.path) elif getattr(parsed_args, 'rename', None): self.manager.rename_workspace( parsed_args.old_name, parsed_args.new_name) elif getattr(parsed_args, 'move', None): self.manager.move_workspace( parsed_args.name, parsed_args.path) elif getattr(parsed_args, 'remove', None): self.manager.remove_workspace( parsed_args.name) else: self._print_workspaces() sys.exit(0) def get_description(self): return 'Tempest workspace actions' parser = super(TempestWorkspace, self).get_parser(prog_name) parser.add_argument( '--workspace-path', required=False, default=None, help=""The path to the workspace file, the default is "" ""~/.tempest/workspace.yaml"") subparsers = parser.add_subparsers() list_parser = subparsers.add_parser( 'list', help='Outputs the name and path of all known tempest ' 'workspaces') list_parser.set_defaults(list=True) register_parser = subparsers.add_parser( 'register', help='Registers a new tempest workspace via a given ' '--name and --path') register_parser.add_argument('--name', required=True) register_parser.add_argument('--path', required=True) register_parser.set_defaults(register=True) update_parser = subparsers.add_parser( 'rename', help='Renames a tempest workspace from --old-name to ' '--new-name') update_parser.add_argument('--old-name', required=True) update_parser.add_argument('--new-name', required=True) update_parser.set_defaults(rename=True) move_parser = subparsers.add_parser( 'move', help='Changes the path of a given tempest workspace ' '--name to --path') move_parser.add_argument('--name', required=True) move_parser.add_argument('--path', required=True) move_parser.set_defaults(move=True) remove_parser = subparsers.add_parser( 'remove', help='Deletes the entry for a given tempest workspace ' '--name') remove_parser.add_argument('--name', required=True) remove_parser.set_defaults(remove=True) def _print_workspaces(self): output = prettytable.PrettyTable([""Name"", ""Path""]) if self.manager.list_workspaces() is not None: for name, path in self.manager.list_workspaces().items(): output.add_row([name, path]) print(output)",106,77
openstack%2Ftempest~master~Iac08861e13ebc2fcbff83ce6cafc76d280526452,openstack/tempest,master,Iac08861e13ebc2fcbff83ce6cafc76d280526452,Delete volume with snapshot,ABANDONED,2017-04-25 09:48:53.000000000,2017-04-25 13:00:24.000000000,,"[{'_account_id': 3}, {'_account_id': 10385}, {'_account_id': 19262}, {'_account_id': 21897}]","[{'number': 1, 'created': '2017-04-25 09:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6dcc69ad1de6a535f477b4e71db677e0f6f92620', 'message': ""Delete volume with snapshot\n\nsomemtimes,user clean up volumes,they don't care the volumes with snapshot.\nwhen delete volume with snapshot,popup badrequest.\n\nChange-Id: Iac08861e13ebc2fcbff83ce6cafc76d280526452\n""}, {'number': 2, 'created': '2017-04-25 11:02:21.000000000', 'files': ['tempest/api/volume/test_volumes_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b3ae0dccad35a98e020c2095d57083167f36414', 'message': ""Delete volume with snapshot\n\nsomemtimes,user want to clean up volumes,they don't care the volumes with snapshot.\nwhen delete volume with snapshot,popup badrequest.\n\nChange-Id: Iac08861e13ebc2fcbff83ce6cafc76d280526452\n""}]",0,459615,7b3ae0dccad35a98e020c2095d57083167f36414,8,4,2,21897,,,0,"Delete volume with snapshot

somemtimes,user want to clean up volumes,they don't care the volumes with snapshot.
when delete volume with snapshot,popup badrequest.

Change-Id: Iac08861e13ebc2fcbff83ce6cafc76d280526452
",git fetch https://review.opendev.org/openstack/tempest refs/changes/15/459615/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_negative.py'],1,6dcc69ad1de6a535f477b4e71db677e0f6f92620,negative_volume_test," @decorators.idempotent_id('82f4f816-2999-11e7-911b-fa163e65f5ce') def test_delete_volume_with_snapshot(self): # Create a volume volume = self.create_volume() # Create a snapshot self.create_snapshot(self.volume['id']) # Delete a volume with snapshot self.assertRaises(lib_exc.BadRequest, self.volumes_client.delete_volume, self.volume['id']) @decorators.attr(type=['negative'])",,11,0
openstack%2Fcliff~master~Ieeffdde3bb8a1869af01f5be2bc682a1a834ba13,openstack/cliff,master,Ieeffdde3bb8a1869af01f5be2bc682a1a834ba13,covert test suite to use testrepository,MERGED,2017-04-23 14:17:37.000000000,2017-04-25 12:57:38.000000000,2017-04-25 12:57:38.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}]","[{'number': 1, 'created': '2017-04-23 14:17:37.000000000', 'files': ['cliff/tests/test_help.py', '.gitignore', 'cliff/tests/test_commandmanager.py', 'test-requirements.txt', 'cliff/tests/test_complete.py', 'cliff/tests/test_interactive.py', 'cliff/tests/test_formatters_table.py', 'cliff/tests/test_utils.py', 'cliff/tests/test_formatters_yaml.py', 'cliff/tests/test_command.py', 'cliff/tests/test_formatters_json.py', 'cliff/tests/test_show.py', 'cliff/tests/test_columns.py', 'cliff/tests/test_formatters_value.py', 'cliff/tests/test_sphinxext.py', 'cliff/tests/test_lister.py', '.testr.conf', 'cliff/tests/test_app.py', 'cliff/tests/test_formatters_csv.py', 'tox.ini', 'cliff/tests/base.py', 'cliff/tests/test_formatters_shell.py'], 'web_link': 'https://opendev.org/openstack/cliff/commit/c548b7b44cb6108d3f20453d9b3db8f8f7e48b19', 'message': 'covert test suite to use testrepository\n\nDrop the use of nose in favor of testrepository. Set up the gitignore\nrules for the output files.\n\nAdd coverage reporting to test jobs.\n\nUpdate tox.ini so the default environments make sense so it is possible\nto just run ""tox"" for local development.\n\nChange-Id: Ieeffdde3bb8a1869af01f5be2bc682a1a834ba13\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,459112,c548b7b44cb6108d3f20453d9b3db8f8f7e48b19,7,3,1,2472,,,0,"covert test suite to use testrepository

Drop the use of nose in favor of testrepository. Set up the gitignore
rules for the output files.

Add coverage reporting to test jobs.

Update tox.ini so the default environments make sense so it is possible
to just run ""tox"" for local development.

Change-Id: Ieeffdde3bb8a1869af01f5be2bc682a1a834ba13
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/cliff refs/changes/12/459112/1 && git format-patch -1 --stdout FETCH_HEAD,"['cliff/tests/test_help.py', '.gitignore', 'cliff/tests/test_commandmanager.py', 'test-requirements.txt', 'cliff/tests/test_complete.py', 'cliff/tests/test_interactive.py', 'cliff/tests/test_formatters_table.py', 'cliff/tests/test_utils.py', 'cliff/tests/test_formatters_yaml.py', 'cliff/tests/test_command.py', 'cliff/tests/test_formatters_json.py', 'cliff/tests/test_show.py', 'cliff/tests/test_columns.py', 'cliff/tests/test_formatters_value.py', 'cliff/tests/test_sphinxext.py', 'cliff/tests/test_lister.py', '.testr.conf', 'cliff/tests/test_app.py', 'cliff/tests/test_formatters_csv.py', 'tox.ini', 'cliff/tests/base.py', 'cliff/tests/test_formatters_shell.py']",22,c548b7b44cb6108d3f20453d9b3db8f8f7e48b19,use-testrepository,"from cliff.tests import baseclass TestShellFormatter(base.TestBase): def test(self): sf = shell.ShellFormatter() c = ('a', 'b', 'c', 'd') d = ('A', 'B', 'C', '""escape me""') expected = 'a=""A""\nb=""B""\nd=""\\""escape me\\""""\n' output = six.StringIO() args = mock.Mock() args.variables = ['a', 'b', 'd'] args.prefix = '' sf.emit_one(c, d, output, args) actual = output.getvalue() self.assertEqual(expected, actual) def test_args(self): sf = shell.ShellFormatter() c = ('a', 'b', 'c', 'd') d = ('A', 'B', 'C', '""escape me""') expected = 'Xd=""\\""escape me\\""""\n' output = six.StringIO() # Parse arguments as if passed on the command-line parser = argparse.ArgumentParser(description='Testing...') sf.add_argument_group(parser) parsed_args = parser.parse_args(['--variable', 'd', '--prefix', 'X']) sf.emit_one(c, d, output, parsed_args) actual = output.getvalue() self.assertEqual(expected, actual) def test_formattable_column(self): sf = shell.ShellFormatter() c = ('a', 'b', 'c') d = ('A', 'B', test_columns.FauxColumn(['the', 'value'])) expected = '\n'.join([ 'a=""A""', 'b=""B""', 'c=""[\'the\', \'value\']""\n', ]) output = six.StringIO() args = mock.Mock() args.variables = ['a', 'b', 'c'] args.prefix = '' sf.emit_one(c, d, output, args) actual = output.getvalue() self.assertEqual(expected, actual) def test_non_string_values(self): sf = shell.ShellFormatter() c = ('a', 'b', 'c', 'd', 'e') d = (True, False, 100, '""esc""', six.text_type('""esc""')) expected = ('a=""True""\nb=""False""\nc=""100""\n' 'd=""\\""esc\\""""\ne=""\\""esc\\""""\n') output = six.StringIO() args = mock.Mock() args.variables = ['a', 'b', 'c', 'd', 'e'] args.prefix = '' sf.emit_one(c, d, output, args) actual = output.getvalue() self.assertEqual(expected, actual) def test_non_bash_friendly_values(self): sf = shell.ShellFormatter() c = ('a', 'foo-bar', 'provider:network_type') d = (True, 'baz', 'vxlan') expected = 'a=""True""\nfoo_bar=""baz""\nprovider_network_type=""vxlan""\n' output = six.StringIO() args = mock.Mock() args.variables = ['a', 'foo-bar', 'provider:network_type'] args.prefix = '' sf.emit_one(c, d, output, args) actual = output.getvalue() self.assertEqual(expected, actual)","def test_shell_formatter(): sf = shell.ShellFormatter() c = ('a', 'b', 'c', 'd') d = ('A', 'B', 'C', '""escape me""') expected = 'a=""A""\nb=""B""\nd=""\\""escape me\\""""\n' output = six.StringIO() args = mock.Mock() args.variables = ['a', 'b', 'd'] args.prefix = '' sf.emit_one(c, d, output, args) actual = output.getvalue() assert expected == actual def test_shell_formatter_args(): sf = shell.ShellFormatter() c = ('a', 'b', 'c', 'd') d = ('A', 'B', 'C', '""escape me""') expected = 'Xd=""\\""escape me\\""""\n' output = six.StringIO() # Parse arguments as if passed on the command-line parser = argparse.ArgumentParser(description='Testing...') sf.add_argument_group(parser) parsed_args = parser.parse_args(['--variable', 'd', '--prefix', 'X']) sf.emit_one(c, d, output, parsed_args) actual = output.getvalue() assert expected == actual def test_shell_formatter_formattable_column(): sf = shell.ShellFormatter() c = ('a', 'b', 'c') d = ('A', 'B', test_columns.FauxColumn(['the', 'value'])) expected = '\n'.join([ 'a=""A""', 'b=""B""', 'c=""[\'the\', \'value\']""\n', ]) output = six.StringIO() args = mock.Mock() args.variables = ['a', 'b', 'c'] args.prefix = '' sf.emit_one(c, d, output, args) actual = output.getvalue() assert expected == actual def test_shell_formatter_with_non_string_values(): sf = shell.ShellFormatter() c = ('a', 'b', 'c', 'd', 'e') d = (True, False, 100, '""esc""', six.text_type('""esc""')) expected = 'a=""True""\nb=""False""\nc=""100""\nd=""\\""esc\\""""\ne=""\\""esc\\""""\n' output = six.StringIO() args = mock.Mock() args.variables = ['a', 'b', 'c', 'd', 'e'] args.prefix = '' sf.emit_one(c, d, output, args) actual = output.getvalue() assert expected == actual def test_shell_formatter_with_non_bash_friendly_values(): sf = shell.ShellFormatter() c = ('a', 'foo-bar', 'provider:network_type') d = (True, 'baz', 'vxlan') expected = 'a=""True""\nfoo_bar=""baz""\nprovider_network_type=""vxlan""\n' output = six.StringIO() args = mock.Mock() args.variables = ['a', 'foo-bar', 'provider:network_type'] args.prefix = '' sf.emit_one(c, d, output, args) actual = output.getvalue() assert expected == actual",1956,1826
openstack%2Fironic-python-agent~master~I732c4aa3d1760c3159d9672e3fae81f8bd72497c,openstack/ironic-python-agent,master,I732c4aa3d1760c3159d9672e3fae81f8bd72497c,Set valid inspection_dhcp_wait_timeout value in tests,MERGED,2017-04-18 10:04:47.000000000,2017-04-25 12:55:26.000000000,2017-04-25 12:55:26.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 13294}]","[{'number': 1, 'created': '2017-04-18 10:04:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/818a9c785090f9a9fb0bdc4aa29c7133986d0eb8', 'message': 'Set valid inspection_dhcp_wait_timeout value in tests\n\ninspection_dhcp_wait_timeout is defined as IntOpt, but its value was\nset in tests to 0.01. This was ok until oslo.config started enforcing\ntypes in [1], after that unit tests fail for test_timeout.\n\n[1] https://review.openstack.org/328692\n\nChange-Id: I732c4aa3d1760c3159d9672e3fae81f8bd72497c\n'}, {'number': 2, 'created': '2017-04-24 15:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/915aac85def3a4008d0c213785e7f785e4a43a52', 'message': 'Set valid inspection_dhcp_wait_timeout value in tests\n\ninspection_dhcp_wait_timeout is defined as IntOpt, but its value was\nset in tests to 0.01. This was ok until oslo.config started enforcing\ntypes in [1], after that unit tests fail for test_timeout.\n\nFixing by setting the value to 1, and mocking time-related functions\nto avoid a longer wait.\n\n[1] https://review.openstack.org/328692\n\nChange-Id: I732c4aa3d1760c3159d9672e3fae81f8bd72497c\n'}, {'number': 3, 'created': '2017-04-25 10:12:58.000000000', 'files': ['ironic_python_agent/tests/unit/test_inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/32ed01448bbd05fcea210ffd9ceb49ae2b09d4a5', 'message': 'Set valid inspection_dhcp_wait_timeout value in tests\n\ninspection_dhcp_wait_timeout is defined as IntOpt, but its value was\nset in tests to 0.01. This was ok until oslo.config started enforcing\ntypes in [1], after that unit tests fail for test_timeout.\n\nFixing by setting the value to 1, and mocking time-related functions\nto avoid a longer wait.\n\n[1] https://review.openstack.org/328692\n\nChange-Id: I732c4aa3d1760c3159d9672e3fae81f8bd72497c\n'}]",3,457547,32ed01448bbd05fcea210ffd9ceb49ae2b09d4a5,18,4,3,13294,,,0,"Set valid inspection_dhcp_wait_timeout value in tests

inspection_dhcp_wait_timeout is defined as IntOpt, but its value was
set in tests to 0.01. This was ok until oslo.config started enforcing
types in [1], after that unit tests fail for test_timeout.

Fixing by setting the value to 1, and mocking time-related functions
to avoid a longer wait.

[1] https://review.openstack.org/328692

Change-Id: I732c4aa3d1760c3159d9672e3fae81f8bd72497c
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/47/457547/3 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/tests/unit/test_inspector.py'],1,818a9c785090f9a9fb0bdc4aa29c7133986d0eb8,457547," CONF.set_override('inspection_dhcp_wait_timeout', 1)"," CONF.set_override('inspection_dhcp_wait_timeout', 0.02)",1,1
openstack%2Fpython-openstackclient~master~I237e296a31d5fc3267f251b123e1cbcb8c98ca84,openstack/python-openstackclient,master,I237e296a31d5fc3267f251b123e1cbcb8c98ca84,DNM For the love of FSM,ABANDONED,2017-04-21 12:48:38.000000000,2017-04-25 12:47:40.000000000,,"[{'_account_id': 3}, {'_account_id': 6482}]","[{'number': 1, 'created': '2017-04-21 12:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/e0110ea721c539bab1340e545b22ac2c7275ce21', 'message': ""DNM For the love of FSM\n\nBig, auld dirty hack to see what version of argparse is causing the\nissues seen in the gate [1]\n\n[1] http://logs.openstack.org/61/452861/10/check/gate-python-openstackclient-docs-ubuntu-xenial/2b761b0/console.html#_2017-04-21_03_36_25_309625\n\nDon't judge me.\n\nChange-Id: I237e296a31d5fc3267f251b123e1cbcb8c98ca84\n""}, {'number': 2, 'created': '2017-04-24 09:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/2c358823f0cdb7e9251f36b448eb3dbc4323d975', 'message': ""DNM For the love of FSM\n\nBig, auld dirty hack to see what version of argparse is causing the\nissues seen in the gate [1]\n\n[1] http://logs.openstack.org/61/452861/10/check/gate-python-openstackclient-docs-ubuntu-xenial/2b761b0/console.html#_2017-04-21_03_36_25_309625\n\nDon't judge me.\n\nChange-Id: I237e296a31d5fc3267f251b123e1cbcb8c98ca84\n""}, {'number': 3, 'created': '2017-04-24 11:04:40.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d9529ea1d78ed02e56ca6e036898cf29b46fca11', 'message': ""DNM For the love of FSM\n\nBig, auld dirty hack to see what version of argparse is causing the\nissues seen in the gate [1]\n\n[1] http://logs.openstack.org/61/452861/10/check/gate-python-openstackclient-docs-ubuntu-xenial/2b761b0/console.html#_2017-04-21_03_36_25_309625\n\nDon't judge me.\n\nChange-Id: I237e296a31d5fc3267f251b123e1cbcb8c98ca84\n""}]",0,458819,d9529ea1d78ed02e56ca6e036898cf29b46fca11,7,2,3,15334,,,0,"DNM For the love of FSM

Big, auld dirty hack to see what version of argparse is causing the
issues seen in the gate [1]

[1] http://logs.openstack.org/61/452861/10/check/gate-python-openstackclient-docs-ubuntu-xenial/2b761b0/console.html#_2017-04-21_03_36_25_309625

Don't judge me.

Change-Id: I237e296a31d5fc3267f251b123e1cbcb8c98ca84
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/19/458819/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,e0110ea721c539bab1340e545b22ac2c7275ce21,cliff-sphinx-integration,import argparse with open(argparse.__file__) as stream: for line in stream: print(line.rstrip()) ,,6,0
openstack%2Fpuppet-openstacklib~stable%2Focata~Icd7890cca8f1597de395a92044e7178455994f84,openstack/puppet-openstacklib,stable/ocata,Icd7890cca8f1597de395a92044e7178455994f84,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:44:15.000000000,2017-04-25 12:44:32.000000000,2017-04-25 06:13:52.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:44:15.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/01ec3bb607a57653cb14a6381a58f3cfbcf59dab', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: Icd7890cca8f1597de395a92044e7178455994f84\n'}]",0,459370,01ec3bb607a57653cb14a6381a58f3cfbcf59dab,13,4,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: Icd7890cca8f1597de395a92044e7178455994f84
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/70/459370/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,01ec3bb607a57653cb14a6381a58f3cfbcf59dab,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fopenstack-ansible-tests~master~I20c668108aea7404006247c9ba6abb1f5899735a,openstack/openstack-ansible-tests,master,I20c668108aea7404006247c9ba6abb1f5899735a,get-ansible-role-requirements: Do not clone the repositories as root,MERGED,2017-04-25 09:01:28.000000000,2017-04-25 12:35:28.000000000,2017-04-25 12:35:28.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-25 09:01:28.000000000', 'files': ['get-ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/fd13e5a7f6aa2e8225c6240d00ac62a8b82d71f3', 'message': 'get-ansible-role-requirements: Do not clone the repositories as root\n\nCommit cf6bea2acc06 (""Enable cross-repo testing for OSA role tests"")\nadded the ability to test patchsets along with their dependencies.\nHowever, it also modified the get-ansible-role-requirements.yml\nplaybook leading to repositories being cloned as root. This breaks\nregular user testing as follows:\n\nln -s /vagrant /home/vagrant/.ansible/roles/<role>\nln: failed to create symbolic link ‘/home/vagrant/.ansible/roles/<role>’: Permission denied\n\nThe reason for that is that the $HOME/.ansible/roles is created as\n\'root\' in the get-ansible-role-requirements.yml playbook so any attempt\nto make modifications as regular user results to failure. It appears\nthat nothing in that playbook needs \'root\' privileges so we run the\nwhole playbook as a regular user. Moreover, the playbook clears the\n/etc/ansible/roles/* directories but the cloning happens in the $HOME\ndirectory so we fix that as well.\n\nFixes: cf6bea2acc06 (""Enable cross-repo testing for OSA role tests"")\nChange-Id: I20c668108aea7404006247c9ba6abb1f5899735a\n'}]",0,459599,fd13e5a7f6aa2e8225c6240d00ac62a8b82d71f3,9,3,1,23163,,,0,"get-ansible-role-requirements: Do not clone the repositories as root

Commit cf6bea2acc06 (""Enable cross-repo testing for OSA role tests"")
added the ability to test patchsets along with their dependencies.
However, it also modified the get-ansible-role-requirements.yml
playbook leading to repositories being cloned as root. This breaks
regular user testing as follows:

ln -s /vagrant /home/vagrant/.ansible/roles/<role>
ln: failed to create symbolic link ‘/home/vagrant/.ansible/roles/<role>’: Permission denied

The reason for that is that the $HOME/.ansible/roles is created as
'root' in the get-ansible-role-requirements.yml playbook so any attempt
to make modifications as regular user results to failure. It appears
that nothing in that playbook needs 'root' privileges so we run the
whole playbook as a regular user. Moreover, the playbook clears the
/etc/ansible/roles/* directories but the cloning happens in the $HOME
directory so we fix that as well.

Fixes: cf6bea2acc06 (""Enable cross-repo testing for OSA role tests"")
Change-Id: I20c668108aea7404006247c9ba6abb1f5899735a
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/99/459599/1 && git format-patch -1 --stdout FETCH_HEAD,['get-ansible-role-requirements.yml'],1,fd13e5a7f6aa2e8225c6240d00ac62a8b82d71f3,cross-repo-testing," if [[ ! -d ""{{ item.path | default(homedir + '/.ansible/roles') }}/{{ item.name | default(item.src | basename) }}/.git"" ]]; then rm -rf ""{{ item.path | default(homedir + '/.ansible/roles') }}/{{ item.name | default(item.src | basename) }}"""," user: root if [[ ! -d ""{{ item.path | default('/etc/ansible/roles') }}/{{ item.name | default(item.src | basename) }}/.git"" ]]; then rm -rf ""{{ item.path | default('/etc/ansible/roles') }}/{{ item.name | default(item.src | basename) }}""",2,3
openstack%2Fopenstack-ansible-tests~master~I8e478c673511bea5877c8df8a06538f211360970,openstack/openstack-ansible-tests,master,I8e478c673511bea5877c8df8a06538f211360970,[DNM] Test machine image size patch,ABANDONED,2017-04-21 16:00:59.000000000,2017-04-25 12:34:28.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-04-21 16:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/02b7a01042bcdaf9c06318f198c26a4b0470054b', 'message': '[DNM] Test machine image size patch\n\nChange-Id: I8e478c673511bea5877c8df8a06538f211360970\nDepends-On: Ib67da9f203806264c39fc73cc7575ee5acf39e5e\n'}, {'number': 2, 'created': '2017-04-21 18:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/6fc73147159b3b1216284b731d03270bf415b5f6', 'message': '[DNM] Test machine image size patch\n\nChange-Id: I8e478c673511bea5877c8df8a06538f211360970\nDepends-On: Ib67da9f203806264c39fc73cc7575ee5acf39e5e\n'}, {'number': 3, 'created': '2017-04-24 10:38:08.000000000', 'files': ['tests/test.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2e32132a7f9d34a7c841dd108dc0512f00cfacbe', 'message': '[DNM] Test machine image size patch\n\nChange-Id: I8e478c673511bea5877c8df8a06538f211360970\nDepends-On: Ib67da9f203806264c39fc73cc7575ee5acf39e5e\n'}]",0,458905,2e32132a7f9d34a7c841dd108dc0512f00cfacbe,8,1,3,6816,,,0,"[DNM] Test machine image size patch

Change-Id: I8e478c673511bea5877c8df8a06538f211360970
Depends-On: Ib67da9f203806264c39fc73cc7575ee5acf39e5e
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/05/458905/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test.yml'],1,02b7a01042bcdaf9c06318f198c26a4b0470054b,cross-repo-testing,,,1,0
openstack%2Ffuel-web~master~I8258e63b0d3f18a3b05d71f1ea6c7c956379b4e1,openstack/fuel-web,master,I8258e63b0d3f18a3b05d71f1ea6c7c956379b4e1,Setuptools requirements synchronized with OpenStack global requirements,ABANDONED,2017-04-11 09:51:15.000000000,2017-04-25 12:33:09.000000000,,"[{'_account_id': 3}, {'_account_id': 8931}, {'_account_id': 8971}, {'_account_id': 10488}, {'_account_id': 11898}, {'_account_id': 16771}, {'_account_id': 20656}, {'_account_id': 21013}]","[{'number': 1, 'created': '2017-04-11 09:51:15.000000000', 'files': ['nailgun/requirements.txt'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/3153d745cf9bcf1ad4342ee97d5f5aa94e8a23d9', 'message': 'Setuptools requirements synchronized with OpenStack global requirements\n\nChange-Id: I8258e63b0d3f18a3b05d71f1ea6c7c956379b4e1\n'}]",0,455623,3153d745cf9bcf1ad4342ee97d5f5aa94e8a23d9,22,8,1,10959,,,0,"Setuptools requirements synchronized with OpenStack global requirements

Change-Id: I8258e63b0d3f18a3b05d71f1ea6c7c956379b4e1
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/23/455623/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/requirements.txt'],1,3153d745cf9bcf1ad4342ee97d5f5aa94e8a23d9,setuptools-global-requirements,"setuptools>=16.0,!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2 # PSF/ZPL",# NOTE(akscram): pinned until 18.6.2 because the installation in # the editable mode is broken # See: https://bugs.launchpad.net/fuel/+bug/1519727 setuptools<=18.5,1,4
openstack%2Fpython-vitrageclient~master~I2c88a9848371ae4f45d9e529ed82aa7b1954a39f,openstack/python-vitrageclient,master,I2c88a9848371ae4f45d9e529ed82aa7b1954a39f,fix typo,MERGED,2017-04-23 11:32:40.000000000,2017-04-25 12:30:50.000000000,2017-04-25 12:30:50.000000000,"[{'_account_id': 3}, {'_account_id': 19122}, {'_account_id': 19159}]","[{'number': 1, 'created': '2017-04-23 11:32:40.000000000', 'files': ['releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/22c35045569d1a349e6ae2afc0c57df4c37d785e', 'message': 'fix typo\n\nChange-Id: I2c88a9848371ae4f45d9e529ed82aa7b1954a39f\n'}]",0,459103,22c35045569d1a349e6ae2afc0c57df4c37d785e,7,3,1,19134,,,0,"fix typo

Change-Id: I2c88a9848371ae4f45d9e529ed82aa7b1954a39f
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/03/459103/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/conf.py'],1,22c35045569d1a349e6ae2afc0c57df4c37d785e,eyalb/typo,"copyright = u'2016, Vitrage developers'","copyright = u'2016, Vitrgage developers'",1,1
openstack%2Fpython-vitrageclient~master~I6ac69dec113897216adf09c63928f56564f2a6fc,openstack/python-vitrageclient,master,I6ac69dec113897216adf09c63928f56564f2a6fc,fix missing parameter in docstring,MERGED,2017-04-23 11:38:30.000000000,2017-04-25 12:30:45.000000000,2017-04-25 12:30:44.000000000,"[{'_account_id': 3}, {'_account_id': 19122}, {'_account_id': 19159}]","[{'number': 1, 'created': '2017-04-23 11:38:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/b4a599e736300c5e444da7c070d7bfcb27e8b1cd', 'message': 'fix missing parameter in doc string\n\nChange-Id: I6ac69dec113897216adf09c63928f56564f2a6fc\n'}, {'number': 2, 'created': '2017-04-23 11:39:42.000000000', 'files': ['vitrageclient/v1/alarm.py', 'vitrageclient/v1/rca.py', 'vitrageclient/v1/resource.py'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/6228ca2585e64981e24b55ed9aeaad39e1dec989', 'message': 'fix missing parameter in docstring\n\nChange-Id: I6ac69dec113897216adf09c63928f56564f2a6fc\n'}]",0,459104,6228ca2585e64981e24b55ed9aeaad39e1dec989,9,3,2,19134,,,0,"fix missing parameter in docstring

Change-Id: I6ac69dec113897216adf09c63928f56564f2a6fc
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/04/459104/1 && git format-patch -1 --stdout FETCH_HEAD,"['vitrageclient/v1/alarm.py', 'vitrageclient/v1/rca.py', 'vitrageclient/v1/resource.py']",3,b4a599e736300c5e444da7c070d7bfcb27e8b1cd,eyalb/docstring, :param all_tenants: should return all tenants resources,,3,0
openstack%2Foslo.messaging~master~I2ac680bb9b594f0493dfb6d52c3f40bf5282dec7,openstack/oslo.messaging,master,I2ac680bb9b594f0493dfb6d52c3f40bf5282dec7,[AMQP 1.0] Add default SASL realm setting,MERGED,2017-04-13 17:49:36.000000000,2017-04-25 12:30:32.000000000,2017-04-25 12:30:32.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 9796}, {'_account_id': 20523}]","[{'number': 1, 'created': '2017-04-13 17:49:36.000000000', 'files': ['oslo_messaging/_drivers/amqp1_driver/opts.py', 'oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/3b53605bad8b0bf57816f55f37c2bcc491135108', 'message': '[AMQP 1.0] Add default SASL realm setting\n\nChange-Id: I2ac680bb9b594f0493dfb6d52c3f40bf5282dec7\nCloses-Bug: 1681927\n'}]",0,456719,3b53605bad8b0bf57816f55f37c2bcc491135108,8,4,1,8770,,,0,"[AMQP 1.0] Add default SASL realm setting

Change-Id: I2ac680bb9b594f0493dfb6d52c3f40bf5282dec7
Closes-Bug: 1681927
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/19/456719/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_messaging/_drivers/amqp1_driver/opts.py', 'oslo_messaging/tests/drivers/test_amqp_driver.py', 'oslo_messaging/_drivers/amqp1_driver/controller.py']",3,3b53605bad8b0bf57816f55f37c2bcc491135108,bug/1681927," """"""An order list of TransportHost addresses. Connection failover progresses from one host to the next. username, password , and realm come from the configuration and are used only if no username/password/realm is present in the URL. default_password=None, default_realm=None): if default_realm and entry.username and '@' not in entry.username: entry.username = entry.username + '@' + default_realm config.oslo_messaging_amqp.password, config.oslo_messaging_amqp.sasl_default_realm)"," """"""An order list of TransportHost addresses. Connection failover progresses from one host to the next. username and password come from the configuration and are used only if no username/password was given in the URL. default_password=None): config.oslo_messaging_amqp.password)",62,54
openstack%2Foctavia~master~If6e41ca77eefd9e40ce9c7e530f16f77734ee485,openstack/octavia,master,If6e41ca77eefd9e40ce9c7e530f16f77734ee485,Add 'rm -f .testrepository/times.dbm' command in testenv,ABANDONED,2017-04-25 12:22:10.000000000,2017-04-25 12:29:24.000000000,,[{'_account_id': 6579}],"[{'number': 1, 'created': '2017-04-25 12:22:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia/commit/b2a5bb87db56448cf2e5a4988ff4eeaec7de1857', 'message': ""Add 'rm -f .testrepository/times.dbm' command in testenv\n\nRunning py2* post py3* tests results in error. Add\n'rm -f .testrepository/times.dbm' command in testenv to\nresolve this.\n\nChange-Id: If6e41ca77eefd9e40ce9c7e530f16f77734ee485\n""}]",0,459658,b2a5bb87db56448cf2e5a4988ff4eeaec7de1857,3,1,1,20401,,,0,"Add 'rm -f .testrepository/times.dbm' command in testenv

Running py2* post py3* tests results in error. Add
'rm -f .testrepository/times.dbm' command in testenv to
resolve this.

Change-Id: If6e41ca77eefd9e40ce9c7e530f16f77734ee485
",git fetch https://review.opendev.org/openstack/octavia refs/changes/58/459658/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b2a5bb87db56448cf2e5a4988ff4eeaec7de1857,test_env, rm -f .testrepository/times.dbm,,1,0
openstack%2Ffuel-agent~master~I71150ea413e6a59ca3c5712382fc980b1c279d70,openstack/fuel-agent,master,I71150ea413e6a59ca3c5712382fc980b1c279d70,Drop py34 target in tox.ini,MERGED,2017-03-23 11:26:28.000000000,2017-04-25 12:28:17.000000000,2017-04-25 12:26:43.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8003}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-03-23 11:26:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/418c8f0973b15abe73a292f297f8f12601872e20', 'message': 'Drop py34 target in tox.ini\n\nWe do not have python 3.4 in setup.cfg which declares the explicit\nsupported versions. So it is no need to keep the supoort for py34.\n\nChange-Id: I71150ea413e6a59ca3c5712382fc980b1c279d70\n'}, {'number': 2, 'created': '2017-03-23 11:41:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/57d64fa6eb90aaf97bcf611048c62bb635ae870e', 'message': 'Drop py34 target in tox.ini\n\nWe do not have python 3.4 in setup.cfg which declares the explicit\nsupported versions. So it is no need to keep the supoort for py34.\n\nChange-Id: I71150ea413e6a59ca3c5712382fc980b1c279d70\n'}]",0,449082,57d64fa6eb90aaf97bcf611048c62bb635ae870e,18,5,2,20401,,,0,"Drop py34 target in tox.ini

We do not have python 3.4 in setup.cfg which declares the explicit
supported versions. So it is no need to keep the supoort for py34.

Change-Id: I71150ea413e6a59ca3c5712382fc980b1c279d70
",git fetch https://review.opendev.org/openstack/fuel-agent refs/changes/82/449082/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,418c8f0973b15abe73a292f297f8f12601872e20,,"envlist = py27,py35,pep8","envlist = py27,py34,pep8",1,1
openstack%2Fmasakari-monitors~master~Idb2ebbdf4979db083b8d810cec58d407a4f68487,openstack/masakari-monitors,master,Idb2ebbdf4979db083b8d810cec58d407a4f68487,Fix typo of processmonitor,MERGED,2017-04-12 05:37:39.000000000,2017-04-25 12:24:26.000000000,2017-04-25 12:24:26.000000000,"[{'_account_id': 3}, {'_account_id': 8716}, {'_account_id': 8988}]","[{'number': 1, 'created': '2017-04-12 05:37:39.000000000', 'files': ['masakarimonitors/processmonitor/process_handler/handle_process.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/12f59d56d6e46dd334e3ce4a053dfb27b5411ea5', 'message': ""Fix typo of processmonitor\n\nThere is a typo in processmonitor's log message.\nThis patch fixed it.\n\nChange-Id: Idb2ebbdf4979db083b8d810cec58d407a4f68487\n""}]",0,456058,12f59d56d6e46dd334e3ce4a053dfb27b5411ea5,7,3,1,23226,,,0,"Fix typo of processmonitor

There is a typo in processmonitor's log message.
This patch fixed it.

Change-Id: Idb2ebbdf4979db083b8d810cec58d407a4f68487
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/58/456058/1 && git format-patch -1 --stdout FETCH_HEAD,['masakarimonitors/processmonitor/process_handler/handle_process.py'],1,12f59d56d6e46dd334e3ce4a053dfb27b5411ea5,fix_typo," _LI(""Restart of process with executing command: %s""), cmd_str)"," _LI(""Retart of process with executing command: %s""), cmd_str)",1,1
openstack%2Fpython-muranoclient~master~I4badd4d3e9dc84f236f38da950dbb84bb7a30ac9,openstack/python-muranoclient,master,I4badd4d3e9dc84f236f38da950dbb84bb7a30ac9,Murano Migrate to Glance API v2,NEW,2017-04-14 05:49:37.000000000,2017-04-25 12:23:06.000000000,,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 23186}, {'_account_id': 23382}]","[{'number': 1, 'created': '2017-04-14 05:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/e28533bad5042916fa8d252312e4125d24c9aa9b', 'message': 'Murano Migrate to Glance API v2\n\nHere using the glancev2 task to instend of the glancev1 copy-from.\n\nChange-Id: I4badd4d3e9dc84f236f38da950dbb84bb7a30ac9\nImplements: blueprint migrate-to-glance-v2\n'}, {'number': 2, 'created': '2017-04-14 06:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/5754ebe85d57e17fbbba52676ea5aff2a271a7ba', 'message': 'Murano Migrate to Glance API v2\n\nHere using the glancev2 task to instend of the glancev1 copy-from.\n\nChange-Id: I4badd4d3e9dc84f236f38da950dbb84bb7a30ac9\nImplements: blueprint migrate-to-glance-v2\n'}, {'number': 3, 'created': '2017-04-21 09:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/653c385b9a9d54a829a1b9cc9905ac7761f0c0b0', 'message': 'Murano Migrate to Glance API v2\n\nUsing the glancev2 task to instend of the glancev1 copy-from.\n\nChange-Id: I4badd4d3e9dc84f236f38da950dbb84bb7a30ac9\nImplements: blueprint migrate-to-glance-v2\n'}, {'number': 4, 'created': '2017-04-25 02:04:12.000000000', 'files': ['muranoclient/common/utils.py', 'muranoclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/1ad322913c18862732197e6b94e290db4afa6598', 'message': 'Murano Migrate to Glance API v2\n\nUsing the glancev2 task to instend of the glancev1 copy-from.\nwe can reference here [0] to know about glance tasks.\n\n[0]: https://wiki.openstack.org/wiki/Glance-tasks-import\n\nChange-Id: I4badd4d3e9dc84f236f38da950dbb84bb7a30ac9\nImplements: blueprint migrate-to-glance-v2\n'}]",4,456831,1ad322913c18862732197e6b94e290db4afa6598,20,6,4,14107,,,0,"Murano Migrate to Glance API v2

Using the glancev2 task to instend of the glancev1 copy-from.
we can reference here [0] to know about glance tasks.

[0]: https://wiki.openstack.org/wiki/Glance-tasks-import

Change-Id: I4badd4d3e9dc84f236f38da950dbb84bb7a30ac9
Implements: blueprint migrate-to-glance-v2
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/31/456831/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranoclient/common/utils.py', 'muranoclient/shell.py']",2,e28533bad5042916fa8d252312e4125d24c9aa9b,bp/migrate-to-glance-v2," '2', glance_endpoint, **glance_kwargs)"," # TODO(starodubcevna): switch back to glance APIv2 when it will # be ready for use. '1', glance_endpoint, **glance_kwargs)",18,15
openstack%2Fnetworking-ovn~master~I66cbcd9f6b85f019a63e12b811ce6afe34df0738,openstack/networking-ovn,master,I66cbcd9f6b85f019a63e12b811ce6afe34df0738,DNM: Test for neutron callback shim,ABANDONED,2017-04-18 20:33:20.000000000,2017-04-25 12:22:46.000000000,,"[{'_account_id': 3}, {'_account_id': 5367}]","[{'number': 1, 'created': '2017-04-18 20:33:20.000000000', 'files': ['networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/07fde901a76c2a08e312224b8d679669842cc0f2', 'message': 'DNM: Test for neutron callback shim\n\nDo not merge!\n\nThis a dummy patch to test the neutron callbacks shim referenced in the\ndependency.\n\nChange-Id: I66cbcd9f6b85f019a63e12b811ce6afe34df0738\nDepends-On: Ib6baee2aaeb044aaba42a97b35900d75dd43021f\n'}]",0,457790,07fde901a76c2a08e312224b8d679669842cc0f2,4,2,1,5367,,,0,"DNM: Test for neutron callback shim

Do not merge!

This a dummy patch to test the neutron callbacks shim referenced in the
dependency.

Change-Id: I66cbcd9f6b85f019a63e12b811ce6afe34df0738
Depends-On: Ib6baee2aaeb044aaba42a97b35900d75dd43021f
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/90/457790/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/ml2/trunk_driver.py'],1,07fde901a76c2a08e312224b8d679669842cc0f2,,# NOTE(boden): this is a dummy change ,,2,0
openstack%2Ffuel-qa~stable%2Fmitaka~I6da435c393cbead6fbfca0421c05de399471137a,openstack/fuel-qa,stable/mitaka,I6da435c393cbead6fbfca0421c05de399471137a,Reset aux master node repo priority according to env config,ABANDONED,2017-01-21 12:29:20.000000000,2017-04-25 12:22:14.000000000,,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}]","[{'number': 1, 'created': '2017-01-21 12:29:20.000000000', 'files': ['fuelweb_test/helpers/fuel_actions.py', 'fuelweb_test/settings.py'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/81b460c78012fdcbf531e0a7dec8c1c5b7bdda54', 'message': 'Reset aux master node repo priority according to env config\n\nWe need to be able to set aux master repo priority to avoid\nissues when we have a repo preconfigured already, but we add\nsome additional repos with other priorities and cannot\ncontrol things and get packages excluded.\nThis commit adds 2 additional settings that specify aux repo\nname and its priority.\n\nChange-Id: I6da435c393cbead6fbfca0421c05de399471137a\nRelated-bug: #1658063\n'}]",0,423622,81b460c78012fdcbf531e0a7dec8c1c5b7bdda54,7,3,1,8786,,,0,"Reset aux master node repo priority according to env config

We need to be able to set aux master repo priority to avoid
issues when we have a repo preconfigured already, but we add
some additional repos with other priorities and cannot
control things and get packages excluded.
This commit adds 2 additional settings that specify aux repo
name and its priority.

Change-Id: I6da435c393cbead6fbfca0421c05de399471137a
Related-bug: #1658063
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/22/423622/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/helpers/fuel_actions.py', 'fuelweb_test/settings.py']",2,81b460c78012fdcbf531e0a7dec8c1c5b7bdda54,bug/1658063,"# Auxiliary repository settings for the master node AUX_MASTER_REPO_NAME = os.environ.get('AUX_MASTER_REPO_NAME', '9.0_auxiliary') AUX_MASTER_REPO_PRIORITY = os.environ.get( 'AUX_MASTER_REPO_PRIORITY', max(int(EXTRA_RPM_REPOS_PRIORITY) - 1, 1)) ",,26,0
openstack%2Fmasakari-monitors~master~I5cf815a418d885a52e7f8dcb14607e49e2a9f5bc,openstack/masakari-monitors,master,I5cf815a418d885a52e7f8dcb14607e49e2a9f5bc,Add testcases of instancemonitor,MERGED,2017-03-24 02:28:11.000000000,2017-04-25 12:21:48.000000000,2017-04-25 12:21:48.000000000,"[{'_account_id': 3}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 23226}]","[{'number': 1, 'created': '2017-03-24 02:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/e88ca7f82f8ba5b3f961a7d27da8f217358e4a56', 'message': 'Add testcases of instancemonitor\n\nThis patch added missing testcases for instancemonitor directory.\nAnd also improved existing testcases for them.\n\nChange-Id: I5cf815a418d885a52e7f8dcb14607e49e2a9f5bc\n'}, {'number': 2, 'created': '2017-03-29 08:20:46.000000000', 'files': ['masakarimonitors/tests/unit/instancemonitor/libvirt_handler/test_eventfilter.py', 'masakarimonitors/tests/unit/instancemonitor/test_instance.py', 'masakarimonitors/tests/unit/instancemonitor/fakes.py', 'masakarimonitors/tests/unit/instancemonitor/libvirt_handler/test_callback.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/899963d60a6d05f8854a52834ec09ee9503ebd3c', 'message': 'Add testcases of instancemonitor\n\nThis patch added missing testcases for instancemonitor directory.\nAnd also improved existing testcases for them.\n\nChange-Id: I5cf815a418d885a52e7f8dcb14607e49e2a9f5bc\n'}]",6,449403,899963d60a6d05f8854a52834ec09ee9503ebd3c,12,4,2,23226,,,0,"Add testcases of instancemonitor

This patch added missing testcases for instancemonitor directory.
And also improved existing testcases for them.

Change-Id: I5cf815a418d885a52e7f8dcb14607e49e2a9f5bc
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/03/449403/2 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/instancemonitor/libvirt_handler/test_eventfilter.py', 'masakarimonitors/tests/unit/instancemonitor/test_instance.py', 'masakarimonitors/tests/unit/instancemonitor/fakes.py', 'masakarimonitors/tests/unit/instancemonitor/libvirt_handler/test_callback.py']",4,e88ca7f82f8ba5b3f961a7d27da8f217358e4a56,add_instancemonitor_ut,"import socketimport uuidfrom masakarimonitors.ha import masakarifrom masakarimonitors.objects import event_constants as ec @mock.patch.object(masakari.SendNotification, 'send_notification') def test_libvirt_event_callback(self, mock_send_notification): mock_send_notification.return_value = None event_id = 0 details = 5 domain_uuid = uuid.uuid4() notice_type = ec.EventConstants.TYPE_VM hostname = socket.gethostname() current_time = timeutils.utcnow() obj.libvirt_event_callback(event_id, details, domain_uuid, notice_type, hostname, current_time) retry_max = 12 retry_interval = 10 event = { 'notification': { 'type': notice_type, 'hostname': hostname, 'generated_time': current_time, 'payload': { 'event': event_id, 'instance_uuid': domain_uuid, 'vir_domain_event': details } } } mock_send_notification.assert_called_once_with( retry_max, retry_interval, event)","from openstack import connection from openstack import profilefrom masakarimonitors.tests.unit.instancemonitor import fakes @mock.patch.object(connection, 'Connection') @mock.patch.object(profile.Profile, 'set_interface') @mock.patch.object(profile.Profile, 'set_version') @mock.patch.object(profile.Profile, 'set_region') @mock.patch.object(profile.Profile, 'set_name') @mock.patch.object(profile.Profile, '_add_service') def test_vir_event_filter(self, mock_add_service, mock_set_name, mock_set_region, mock_set_version, mock_set_interface, mock_Connection): mock_add_service.return_value = None mock_set_name.return_value = None mock_set_region.return_value = None mock_set_version.return_value = None mock_set_interface.return_value = None mock_Connection.return_value = fakes.FakeConnection() eventID_val = 0 detail_val = 5 uuID = 'test_uuid' noticeType = 'VM' hostname = 'masakari-node' currentTime = timeutils.utcnow() obj.libvirt_event_callback(eventID_val, detail_val, uuID, noticeType, hostname, currentTime)",368,95
openstack%2Fmasakari-monitors~master~Ifd9681b53b71122aa9ca738e6e6bf49f282b1f61,openstack/masakari-monitors,master,Ifd9681b53b71122aa9ca738e6e6bf49f282b1f61,Add testcases of ha and processmonitor,MERGED,2017-03-17 08:53:25.000000000,2017-04-25 12:21:45.000000000,2017-04-25 12:21:45.000000000,"[{'_account_id': 3}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 23226}]","[{'number': 1, 'created': '2017-03-17 08:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/390d438b581cc0820020c15cf5560e3e250abe72', 'message': 'Add testcases of ha and processmonitor\n\nThis patch added missing testcases for ha and processmonitor\ndirectory. And also improved existing testcases for them.\n\nChange-Id: Ifd9681b53b71122aa9ca738e6e6bf49f282b1f61\n'}, {'number': 2, 'created': '2017-03-22 06:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/742b29c06d4e8e31f3c6e60435f835a001d4011f', 'message': 'Add testcases of ha and processmonitor\n\nThis patch added missing testcases for ha and processmonitor\ndirectory. And also improved existing testcases for them.\n\nChange-Id: Ifd9681b53b71122aa9ca738e6e6bf49f282b1f61\n'}, {'number': 3, 'created': '2017-03-23 09:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/5c6adf41473ec3fe296790b5bf0fb655d5fa3107', 'message': 'Add testcases of ha and processmonitor\n\nThis patch added missing testcases for ha and processmonitor\ndirectory. And also improved existing testcases for them.\n\nChange-Id: Ifd9681b53b71122aa9ca738e6e6bf49f282b1f61\n'}, {'number': 4, 'created': '2017-03-29 09:33:42.000000000', 'files': ['masakarimonitors/tests/unit/processmonitor/test_process.py', 'masakarimonitors/tests/unit/ha/test_masakari.py', 'masakarimonitors/tests/unit/ha/__init__.py', 'masakarimonitors/tests/unit/processmonitor/process_handler/test_handle_process.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/7aef952a4153c810ac290813d6830b7faec7221c', 'message': 'Add testcases of ha and processmonitor\n\nThis patch added missing testcases for ha and processmonitor\ndirectory. And also improved existing testcases for them.\n\nChange-Id: Ifd9681b53b71122aa9ca738e6e6bf49f282b1f61\n'}]",18,446895,7aef952a4153c810ac290813d6830b7faec7221c,17,4,4,23226,,,0,"Add testcases of ha and processmonitor

This patch added missing testcases for ha and processmonitor
directory. And also improved existing testcases for them.

Change-Id: Ifd9681b53b71122aa9ca738e6e6bf49f282b1f61
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/95/446895/4 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/tests/unit/processmonitor/test_process.py', 'masakarimonitors/tests/unit/ha/test_masakari.py', 'masakarimonitors/tests/unit/ha/__init__.py', 'masakarimonitors/tests/unit/processmonitor/process_handler/test_handle_process.py']",4,390d438b581cc0820020c15cf5560e3e250abe72,add_ha_and_processmonitor_ut,"from masakarimonitors.ha import masakari self.assertEqual(process_list, obj.process_list) def test_start_processes_pre_cmd_fail(self, mock_execute): process_list = MOCK_PROCESS_LIST obj = handle_process.HandleProcess() obj.set_process_list(process_list) mock_execute.return_value = ('test_stdout', 'test_stderr') obj.start_processes() mock_execute.assert_called_once() @mock.patch.object(utils, 'execute') def test_monitor_processes_not_found(self, mock_execute): process_list = MOCK_PROCESS_LIST obj = handle_process.HandleProcess() obj.set_process_list(process_list) mock_execute.return_value = ('', '') down_process_list = obj.monitor_processes() self.assertEqual(MOCK_PROCESS_LIST, down_process_list) @mock.patch.object(utils, 'execute') def test_monitor_processes_exception(self, mock_execute): process_list = MOCK_PROCESS_LIST obj = handle_process.HandleProcess() obj.set_process_list(process_list) mock_execute.side_effect = Exception(""Test exception."") down_process_list = obj.monitor_processes() self.assertEqual([], down_process_list) @mock.patch.object(utils, 'execute') self.assertEqual([], obj.restart_failure_list) @mock.patch.object(utils, 'execute') def test_restart_processes_failed_to_restart_previously( self, mock_execute): process_list = MOCK_PROCESS_LIST obj = handle_process.HandleProcess() obj.set_process_list(process_list) restart_failure_list = [MOCK_DOWN_PROCESS_LIST[0].get('process_name')] obj.restart_failure_list = restart_failure_list down_process_list = MOCK_DOWN_PROCESS_LIST obj.restart_processes(down_process_list) self.assertEqual(restart_failure_list, obj.restart_failure_list) mock_execute.assert_not_called() @mock.patch.object(masakari.SendNotification, 'send_notification') @mock.patch.object(eventlet.greenthread, 'sleep') @mock.patch.object(utils, 'execute') def test_restart_processes_pre_restart_command_retry_over( self, mock_execute, mock_sleep, mock_send_notification): process_list = MOCK_PROCESS_LIST obj = handle_process.HandleProcess() obj.set_process_list(process_list) down_process_list = MOCK_DOWN_PROCESS_LIST mock_execute.side_effect = [('test_stdout', 'test_stderr'), ('test_stdout', 'test_stderr'), ('test_stdout', 'test_stderr'), ('test_stdout', 'test_stderr')] mock_sleep.return_value = None mock_send_notification.return_value = None obj.restart_processes(down_process_list) self.assertEqual(4, mock_execute.call_count) for var in range(0, mock_execute.call_count): args, kwargs = mock_execute.call_args_list[var] self.assertEqual( (MOCK_DOWN_PROCESS_LIST[0].get('pre_restart_command'),), args) self.assertEqual({'run_as_root': True}, kwargs) mock_send_notification.assert_called_once() self.assertEqual( [MOCK_DOWN_PROCESS_LIST[0].get('process_name')], obj.restart_failure_list) @mock.patch.object(masakari.SendNotification, 'send_notification') @mock.patch.object(eventlet.greenthread, 'sleep') @mock.patch.object(utils, 'execute') def test_restart_processes_restart_command_retry_over( self, mock_execute, mock_sleep, mock_send_notification): process_list = MOCK_PROCESS_LIST obj = handle_process.HandleProcess() obj.set_process_list(process_list) down_process_list = MOCK_DOWN_PROCESS_LIST mock_execute.side_effect = [('test_stdout', ''), ('test_stdout', 'test_stderr'), ('test_stdout', ''), ('test_stdout', 'test_stderr'), ('test_stdout', ''), ('test_stdout', 'test_stderr'), ('test_stdout', ''), ('test_stdout', 'test_stderr')] mock_sleep.return_value = None mock_send_notification.return_value = None obj.restart_processes(down_process_list) self.assertEqual(8, mock_execute.call_count) for var in range(0, mock_execute.call_count): if (var + 1) % 2 == 0: args, kwargs = mock_execute.call_args_list[var] self.assertEqual( (MOCK_DOWN_PROCESS_LIST[0].get('restart_command'),), args) self.assertEqual({'run_as_root': True}, kwargs) mock_send_notification.assert_called_once() self.assertEqual( [MOCK_DOWN_PROCESS_LIST[0].get('process_name')], obj.restart_failure_list) @mock.patch.object(masakari.SendNotification, 'send_notification') @mock.patch.object(eventlet.greenthread, 'sleep') @mock.patch.object(utils, 'execute') def test_restart_processes_post_restart_command_retry_over( self, mock_execute, mock_sleep, mock_send_notification): process_list = MOCK_PROCESS_LIST obj = handle_process.HandleProcess() obj.set_process_list(process_list) down_process_list = MOCK_DOWN_PROCESS_LIST mock_execute.side_effect = [('test_stdout', ''), ('test_stdout', ''), ('test_stdout', 'test_stderr'), ('test_stdout', ''), ('test_stdout', ''), ('test_stdout', 'test_stderr'), ('test_stdout', ''), ('test_stdout', ''), ('test_stdout', 'test_stderr'), ('test_stdout', ''), ('test_stdout', ''), ('test_stdout', 'test_stderr')] mock_sleep.return_value = None mock_send_notification.return_value = None obj.restart_processes(down_process_list) self.assertEqual(12, mock_execute.call_count) for var in range(0, mock_execute.call_count): if (var + 1) % 3 == 0: args, kwargs = mock_execute.call_args_list[var] self.assertEqual( (MOCK_DOWN_PROCESS_LIST[0].get('post_restart_command'),), args) self.assertEqual({'run_as_root': True}, kwargs) mock_send_notification.assert_called_once() self.assertEqual( [MOCK_DOWN_PROCESS_LIST[0].get('process_name')], obj.restart_failure_list) @mock.patch.object(utils, 'execute') def test_execute_cmd_exception(self, mock_execute): mock_execute.side_effect = Exception(""Test exception."") obj = handle_process.HandleProcess() ret = obj._execute_cmd(MOCK_PROCESS_LIST[0].get('start_command'), MOCK_PROCESS_LIST[0].get('run_as_root')) self.assertEqual(ret, 1)",,423,2
openstack%2Ffuel-library~stable%2Fnewton~I19932d6dc53e57347a5f496edc4ad16df8531a11,openstack/fuel-library,stable/newton,I19932d6dc53e57347a5f496edc4ad16df8531a11,Set aux repos priority to 5,ABANDONED,2017-02-10 13:19:27.000000000,2017-04-25 12:21:16.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 19921}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-02-10 13:19:27.000000000', 'files': ['deployment/puppet/fuel/manifests/auxiliaryrepos.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/687d65063b987ebad7f5c2ce857da6ecddde1b4f', 'message': 'Set aux repos priority to 5\n\nChange-Id: I19932d6dc53e57347a5f496edc4ad16df8531a11\nRelated-bug: #1658063\n(cherry picked from commit d600a302c63b8c9de2b9945a4469abaea2a01ec1)\n'}]",0,432298,687d65063b987ebad7f5c2ce857da6ecddde1b4f,18,4,1,8786,,,0,"Set aux repos priority to 5

Change-Id: I19932d6dc53e57347a5f496edc4ad16df8531a11
Related-bug: #1658063
(cherry picked from commit d600a302c63b8c9de2b9945a4469abaea2a01ec1)
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/98/432298/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/fuel/manifests/auxiliaryrepos.pp'],1,687d65063b987ebad7f5c2ce857da6ecddde1b4f,bug/1658063," $priority = '5',"," $priority = '15',",1,1
openstack%2Ffuel-library~master~I19932d6dc53e57347a5f496edc4ad16df8531a11,openstack/fuel-library,master,I19932d6dc53e57347a5f496edc4ad16df8531a11,Set aux repos priority to 5,ABANDONED,2017-02-10 13:19:35.000000000,2017-04-25 12:21:14.000000000,,"[{'_account_id': 3}, {'_account_id': 7468}, {'_account_id': 8971}, {'_account_id': 9037}, {'_account_id': 11827}, {'_account_id': 14200}, {'_account_id': 16771}, {'_account_id': 19921}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-02-10 13:19:35.000000000', 'files': ['deployment/puppet/fuel/manifests/auxiliaryrepos.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/9cc004a1e85f41dbd8cc75882d59f0b6c8ee32db', 'message': 'Set aux repos priority to 5\n\nChange-Id: I19932d6dc53e57347a5f496edc4ad16df8531a11\nRelated-bug: #1658063\n(cherry picked from commit d600a302c63b8c9de2b9945a4469abaea2a01ec1)\n'}]",0,432299,9cc004a1e85f41dbd8cc75882d59f0b6c8ee32db,22,9,1,8786,,,0,"Set aux repos priority to 5

Change-Id: I19932d6dc53e57347a5f496edc4ad16df8531a11
Related-bug: #1658063
(cherry picked from commit d600a302c63b8c9de2b9945a4469abaea2a01ec1)
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/99/432299/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/puppet/fuel/manifests/auxiliaryrepos.pp'],1,9cc004a1e85f41dbd8cc75882d59f0b6c8ee32db,bug/1658063," $priority = '5',"," $priority = '15',",1,1
openstack%2Fmasakari-monitors~master~Ic72cf7226b226a045f5154ba91e2e9758e2cc9db,openstack/masakari-monitors,master,Ic72cf7226b226a045f5154ba91e2e9758e2cc9db,Change the condition of success or failure of notifying,MERGED,2017-03-29 07:12:43.000000000,2017-04-25 12:18:19.000000000,2017-04-25 12:18:19.000000000,"[{'_account_id': 3}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 23226}]","[{'number': 1, 'created': '2017-03-29 07:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/1a7b6664a8128f98e189041d807d88071867ac51', 'message': 'Change the condition of success or failure of notifying\n\nThis patch fixed so that failure messages of notifying are output\nwhen the retuen value of notifying is not 0.\nWith this fix, the success message is output only when the return\nvalue of notifying is 0, and when the other return value, the\nfailure message is output.\n\nChange-Id: Ic72cf7226b226a045f5154ba91e2e9758e2cc9db\nCloses-Bug: #1676338\n'}, {'number': 2, 'created': '2017-03-29 08:11:56.000000000', 'files': ['masakarimonitors/hostmonitor/hostmonitor.sh', 'masakarimonitors/processmonitor/processmonitor.sh'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/7e8c8558b4e91876d391053c0c184142983cca8f', 'message': 'Change the condition of success or failure of notifying\n\nThis patch fixed so that failure messages of notifying are output\nwhen the retuen value of notifying is not 0.\nWith this fix, the success message is output only when the return\nvalue of notifying is 0, and when the other return value, the\nfailure message is output.\nAnd, this patch also fixed the problem of return value conditions\nother than when notifying.\n\nChange-Id: Ic72cf7226b226a045f5154ba91e2e9758e2cc9db\nCloses-Bug: #1676338\n'}]",4,451218,7e8c8558b4e91876d391053c0c184142983cca8f,11,4,2,23226,,,0,"Change the condition of success or failure of notifying

This patch fixed so that failure messages of notifying are output
when the retuen value of notifying is not 0.
With this fix, the success message is output only when the return
value of notifying is 0, and when the other return value, the
failure message is output.
And, this patch also fixed the problem of return value conditions
other than when notifying.

Change-Id: Ic72cf7226b226a045f5154ba91e2e9758e2cc9db
Closes-Bug: #1676338
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/18/451218/2 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/hostmonitor/hostmonitor.sh', 'masakarimonitors/processmonitor/processmonitor.sh']",2,1a7b6664a8128f98e189041d807d88071867ac51,bug/1676338," if [ $result -eq 0 ]; then log_info ""info : Succeeded in sending a notification."" log_info ""info : $RESP"" else"," if [ $result -eq 1 ]; then else log_info ""info : Succeeded in sending a notification."" log_info ""info : $RESP""",7,7
openstack%2Fmasakari~master~Id1cce45aad253527bedb58ab32f3d89637e02582,openstack/masakari,master,Id1cce45aad253527bedb58ab32f3d89637e02582,Ignore instance recovery for 'paused' or 'rescued' instance,MERGED,2017-04-07 13:27:40.000000000,2017-04-25 12:18:14.000000000,2017-04-25 12:18:14.000000000,"[{'_account_id': 3}, {'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 20191}]","[{'number': 1, 'created': '2017-04-07 13:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/92adea8a298476c2ef4f484d6abd19eb792b0b28', 'message': 'Ignore instance recovery for \'paused\' or \'rescued\' instance\n\nIf masakari receives instance failure notification it fails to\nrecover that instance if it is in \'paused\' or \'rescued\' state.\nAs a recovery action masakari-engine gives call to nova to stop\nthe instance but as nova doesn\'t allow this it returns 409 which\nresult into instance recovery failure and masakari marks that\nnotification status as ""error"".\n\nThis can be solved by maintaning consistency between the vm_state\nbefore and after recovery but it requires to start the instance\nagain to gain the qemu process of an instance back alive which\nmight change the internal state of the instance which results into\ninconsistency between instance state before and after recovery.\nSo as a solution this patch proposes to ignore the instance recovery\nand logs a warning if the instance is in \'paused\' or \'rescued\' state.\n\nCloses-Bug: #1663513\nChange-Id: Id1cce45aad253527bedb58ab32f3d89637e02582\n'}, {'number': 2, 'created': '2017-04-19 11:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/5c4f4b177f1b91531f1818a893f81b7f8f7e55bb', 'message': 'Ignore instance recovery for \'paused\' or \'rescued\' instance\n\nIf masakari receives instance failure notification it fails to\nrecover that instance if it is in \'paused\' or \'rescued\' state.\nAs a recovery action masakari-engine gives call to nova to stop\nthe instance but as nova doesn\'t allow this it returns 409 which\nresult into instance recovery failure and masakari marks that\nnotification status as ""error"".\n\nThis can be solved by maintaning consistency between the vm_state\nbefore and after recovery but it requires to start the instance\nagain to gain the qemu process of an instance back alive which\nmight change the internal state of the instance which results into\ninconsistency between instance state before and after recovery.\nSo as a solution this patch proposes to ignore the instance recovery\nand logs a warning if the instance is in \'paused\' or \'rescued\' state.\n\nCloses-Bug: #1663513\nChange-Id: Id1cce45aad253527bedb58ab32f3d89637e02582\n'}, {'number': 3, 'created': '2017-04-20 06:43:32.000000000', 'files': ['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/engine/manager.py', 'masakari/engine/drivers/taskflow/instance_failure.py', 'masakari/exception.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/7aef2966f5a8c0f097d9614fcece7657e80f20b4', 'message': 'Ignore instance recovery for \'paused\' or \'rescued\' instance\n\nIf masakari receives instance failure notification it fails to\nrecover that instance if it is in \'paused\' or \'rescued\' state.\nAs a recovery action masakari-engine gives call to nova to stop\nthe instance but as nova doesn\'t allow this it returns 409 which\nresult into instance recovery failure and masakari marks that\nnotification status as ""error"".\n\nThis can be solved by maintaning consistency between the vm_state\nbefore and after recovery but it requires to start the instance\nagain to gain the qemu process of an instance back alive which\nmight change the internal state of the instance which results into\ninconsistency between instance state before and after recovery.\nSo as a solution this patch proposes to ignore the instance recovery\nand logs a warning if the instance is in \'paused\' or \'rescued\' state.\n\nCloses-Bug: #1663513\nChange-Id: Id1cce45aad253527bedb58ab32f3d89637e02582\n'}]",5,454721,7aef2966f5a8c0f097d9614fcece7657e80f20b4,17,6,3,20191,,,0,"Ignore instance recovery for 'paused' or 'rescued' instance

If masakari receives instance failure notification it fails to
recover that instance if it is in 'paused' or 'rescued' state.
As a recovery action masakari-engine gives call to nova to stop
the instance but as nova doesn't allow this it returns 409 which
result into instance recovery failure and masakari marks that
notification status as ""error"".

This can be solved by maintaning consistency between the vm_state
before and after recovery but it requires to start the instance
again to gain the qemu process of an instance back alive which
might change the internal state of the instance which results into
inconsistency between instance state before and after recovery.
So as a solution this patch proposes to ignore the instance recovery
and logs a warning if the instance is in 'paused' or 'rescued' state.

Closes-Bug: #1663513
Change-Id: Id1cce45aad253527bedb58ab32f3d89637e02582
",git fetch https://review.opendev.org/openstack/masakari refs/changes/21/454721/3 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/engine/test_engine_mgr.py', 'masakari/engine/manager.py', 'masakari/engine/drivers/taskflow/instance_failure.py', 'masakari/exception.py']",4,92adea8a298476c2ef4f484d6abd19eb792b0b28,bug/1663513, class IgnoreInstanceRecoveryException(MasakariException): msg_fmt = _('Instance recovery is ignored.'),,54,0
openstack%2Fopenstack-ansible-os_sahara~master~Id49a182f85217cac752f306147bd9f35cc6b9bd4,openstack/openstack-ansible-os_sahara,master,Id49a182f85217cac752f306147bd9f35cc6b9bd4,Optimise apt cache update task,MERGED,2017-04-21 15:47:30.000000000,2017-04-25 12:13:35.000000000,2017-04-25 12:01:57.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-21 15:47:30.000000000', 'files': ['tasks/sahara_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_sahara/commit/96c46dcf2fb97137b9a7f477be3fb65adf0dd742', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: Id49a182f85217cac752f306147bd9f35cc6b9bd4\n""}]",0,458893,96c46dcf2fb97137b9a7f477be3fb65adf0dd742,10,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: Id49a182f85217cac752f306147bd9f35cc6b9bd4
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_sahara refs/changes/93/458893/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/sahara_install.yml', 'meta/main.yml']",2,96c46dcf2fb97137b9a7f477be3fb65adf0dd742,use_package_module, min_ansible_version: 2.2, min_ansible_version: 2.1,3,8
openstack%2Fmasakari~master~Ie3ce3316c6e2fc3f98df3a51db59ca7f1f1625b8,openstack/masakari,master,Ie3ce3316c6e2fc3f98df3a51db59ca7f1f1625b8,Use DDT to reduce test code duplication,MERGED,2017-01-24 09:56:13.000000000,2017-04-25 12:11:06.000000000,2017-04-25 12:11:06.000000000,"[{'_account_id': 3}, {'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 20191}, {'_account_id': 25267}]","[{'number': 1, 'created': '2017-01-24 09:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/1ed2a1183259c7292e06f667e8f32a6e89ddfbfc', 'message': 'Use DDT to reduce test code duplication\n\nDDT can ease up error tracing and auto generates tests on\nbasis of different input data.\nReduce test code data by using DDT for segments, hosts, and\nnotifications.\n\nChange-Id: Ie3ce3316c6e2fc3f98df3a51db59ca7f1f1625b8\n'}, {'number': 2, 'created': '2017-03-20 12:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/1d66beee9ae3bfe280f8a786ca5a5e5297f46b4a', 'message': 'Use DDT to reduce test code duplication\n\nDDT can ease up error tracing and auto generates tests on\nbasis of different input data.\nReduce test code data by using DDT for segments, hosts, and\nnotifications.\n\nCo-author: Dinesh Bhor <dinesh.bhor@nttdata.com>\nChange-Id: Ie3ce3316c6e2fc3f98df3a51db59ca7f1f1625b8\n'}, {'number': 3, 'created': '2017-04-06 11:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9619dbf0434ac74d2e794cd4db9571ce32670395', 'message': 'Use DDT to reduce test code duplication\n\nDDT can ease up error tracing and auto generates tests on\nbasis of different input data.\nReduce test code data by using DDT for segments, hosts, and\nnotifications.\n\nCo-author: Dinesh Bhor <dinesh.bhor@nttdata.com>\nChange-Id: Ie3ce3316c6e2fc3f98df3a51db59ca7f1f1625b8\n'}, {'number': 4, 'created': '2017-04-19 11:22:48.000000000', 'files': ['masakari/tests/unit/api/openstack/ha/test_hosts.py', 'test-requirements.txt', 'masakari/tests/unit/api/openstack/ha/test_notifications.py', 'masakari/tests/unit/api/openstack/ha/test_segments.py'], 'web_link': 'https://opendev.org/openstack/masakari/commit/72e6d5596b6a4030292e97ddae591eb749810b27', 'message': 'Use DDT to reduce test code duplication\n\nDDT can ease up error tracing and auto generates tests on\nbasis of different input data.\nReduce test code data by using DDT for segments, hosts, and\nnotifications.\n\nCo-author: Dinesh Bhor <dinesh.bhor@nttdata.com>\nChange-Id: Ie3ce3316c6e2fc3f98df3a51db59ca7f1f1625b8\n'}]",2,424549,72e6d5596b6a4030292e97ddae591eb749810b27,20,6,4,22793,,,0,"Use DDT to reduce test code duplication

DDT can ease up error tracing and auto generates tests on
basis of different input data.
Reduce test code data by using DDT for segments, hosts, and
notifications.

Co-author: Dinesh Bhor <dinesh.bhor@nttdata.com>
Change-Id: Ie3ce3316c6e2fc3f98df3a51db59ca7f1f1625b8
",git fetch https://review.opendev.org/openstack/masakari refs/changes/49/424549/4 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/tests/unit/api/openstack/ha/test_hosts.py', 'test-requirements.txt', 'masakari/tests/unit/api/openstack/ha/test_notifications.py', 'masakari/tests/unit/api/openstack/ha/test_segments.py']",4,1ed2a1183259c7292e06f667e8f32a6e89ddfbfc,use_ddt,"import ddt@ddt.ddt @ddt.data( # limit negative 'limit=-1', # invalid sort key 'sort_key=abcd', # invalid sort dir 'sort_dir=abcd') def test_index_invalid(self, param): req = fakes.HTTPRequest.blank(""/v1/segments?%s"" % param, @ddt.data( # no segment {""body"": { ""description"": ""failover_segment for compute""}}, # no name {""body"": { ""description"": ""failover_segment for compute""}}}, # name with leading trailing spaces {""body"": { ""description"": ""failover_segment for compute""}}}, # null name {""body"": { ""description"": ""failover_segment for compute""}}}, # name too long {""body"": { ""description"": ""failover_segment for compute""}}}, # extra invalid args {""body"": { ""foo"": ""fake_foo""}}} ) @ddt.unpack def test_create_failure(self, body): @ddt.data( {""body"": {""segment"": {""name"": ""segment1"", ""service_type"": ""COMPUTE"", ""recovery_method"": ""auto""}}}, # with name only {""body"": {""segment"": {""name"": ""segment1""}}} ) @ddt.unpack def test_update(self, mock_update_segment, body): @ddt.data( # no updates {""test_data"": {""segment"": {}}}, # no update key {""test_data"": {""asdf"": {}}}, # wrong updates {""test_data"": {""segment"": {""name"": ""disable"", ""foo"": ""bar""}}}, # null name {""test_data"": {""segment"": {""name"": """"}}}, # name too long {""test_data"": {""segment"": {""name"": ""x"" * 256}}} ) @ddt.unpack def test_update_failure(self, test_data):"," def test_get_all_marker_negative(self): fake_request = fakes.HTTPRequest.blank('/v1/segments?limit=-1', use_admin_context=True) self.assertRaises(exc.HTTPBadRequest, self.controller.index, fake_request) def test_index_invalid_sort_key(self): req = fakes.HTTPRequest.blank('/v1/segments?sort_key=abcd', self.assertRaises(exc.HTTPBadRequest, self.controller.index, req) def test_index_invalid_sort_dir(self): req = fakes.HTTPRequest.blank('/v1/segments?sort_dir=abcd', use_admin_context=True) def test_create_with_no_segment(self): body = { ""description"": ""failover_segment for compute"" } self.assertRaises(self.bad_request, self.controller.create, self.req, body=body) def test_create_with_no_name(self): body = { ""description"": ""failover_segment for compute"" } } self.assertRaises(self.bad_request, self.controller.create, self.req, body=body) def test_create_name_with_leading_trailing_spaces(self): body = { ""description"": ""failover_segment for compute"" } } self.assertRaises(self.bad_request, self.controller.create, self.req, body=body) def test_create_with_null_name(self): body = { ""description"": ""failover_segment for compute"" } } self.assertRaises(self.bad_request, self.controller.create, self.req, body=body) def test_create_with_name_too_long(self): body = { ""description"": ""failover_segment for compute"" } } self.assertRaises(self.bad_request, self.controller.create, self.req, body=body) def test_create_with_extra_invalid_arg(self): body = { ""foo"": ""fake_foo"" } } def test_update(self, mock_update_segment): body = {""segment"": {""name"": ""segment1"", ""service_type"": ""COMPUTE"", ""recovery_method"": ""auto""}} @mock.patch.object(ha_api.FailoverSegmentAPI, 'update_segment') def test_update_with_only_name(self, mock_update_segment): mock_update_segment.return_value = FAILOVER_SEGMENT body = {""segment"": {""name"": ""segment1""}} result = self.controller.update(self.req, uuidsentinel.fake_segment, body=body) result = result['segment'] self._assert_segment_data(FAILOVER_SEGMENT, _make_segment_obj(result)) def test_update_with_no_updates(self): test_data = {""segment"": {}} def test_update_with_no_update_key(self): test_data = {""asdf"": {}} self.assertRaises(self.bad_request, self.controller.update, self.req, uuidsentinel.fake_segment, body=test_data) def test_update_with_wrong_updates(self): test_data = {""segment"": {""name"": ""disable"", ""foo"": ""bar""}} self.assertRaises(self.bad_request, self.controller.update, self.req, uuidsentinel.fake_segment, body=test_data) def test_update_with_null_name(self): test_metadata = {""segment"": {""name"": """"}} self.assertRaises(self.bad_request, self.controller.update, self.req, uuidsentinel.fake_segment, body=test_metadata) def test_update_with_name_too_long(self): test_metadata = {""segment"": {""name"": ""x"" * 256}} self.assertRaises(self.bad_request, self.controller.update, self.req, uuidsentinel.fake_segment, body=test_metadata) ",217,323
openstack%2Fopenstack-helm~master~I57d7c3f6b9fd43562cfb7fa9a5cc59e1bdfa8a29,openstack/openstack-helm,master,I57d7c3f6b9fd43562cfb7fa9a5cc59e1bdfa8a29,Nova chart: libvirt connection uri typo,MERGED,2017-04-24 13:58:06.000000000,2017-04-25 12:06:43.000000000,2017-04-25 12:06:43.000000000,"[{'_account_id': 3}, {'_account_id': 11600}, {'_account_id': 21307}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-04-24 13:58:06.000000000', 'files': ['nova/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0e25aa57194056bfb0713af56b8c0ebdea568ba6', 'message': 'Nova chart: libvirt connection uri typo\n\nCorrection of libvirt uri, since it contained ""connecton"" not ""connection"".\n\nChange-Id: I57d7c3f6b9fd43562cfb7fa9a5cc59e1bdfa8a29\n'}]",0,459317,0e25aa57194056bfb0713af56b8c0ebdea568ba6,8,4,1,15518,,,0,"Nova chart: libvirt connection uri typo

Correction of libvirt uri, since it contained ""connecton"" not ""connection"".

Change-Id: I57d7c3f6b9fd43562cfb7fa9a5cc59e1bdfa8a29
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/17/459317/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/values.yaml'],1,0e25aa57194056bfb0713af56b8c0ebdea568ba6,nova_libvirt_uri," connection_uri: ""qemu+tcp://127.0.0.1/system""", connecton_uri: qemu+tcp://127.0.0.1/system,1,1
openstack%2Ffuel-agent~stable%2Fnewton~I6b472e0eb2fceb49bb506785f5188e023e1d3968,openstack/fuel-agent,stable/newton,I6b472e0eb2fceb49bb506785f5188e023e1d3968,Using sys.exit(main()) instead of main(),MERGED,2017-02-13 16:14:20.000000000,2017-04-25 12:01:37.000000000,2017-04-25 11:59:56.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8971}, {'_account_id': 11827}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-02-13 16:14:20.000000000', 'files': ['fuel_agent/cmd/agent.py'], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/5e78a699667fccfe897130e5631b58f9caa19a6b', 'message': ""Using sys.exit(main()) instead of main()\n\nAs we known, Exceptions are raised by the sys.exit() function.\nWhen they are not handled, no stack traceback is printed in the Python interpreter.\n\nIn this patch we have known main() got return values(eg:0, 1), but it can't\nspecifies exit status when terminate the main thread by unusing sys.exit().\nSo when using sys.exit(main()) instead of main() may be more readable and\nreasonable.\n\nChange-Id: I6b472e0eb2fceb49bb506785f5188e023e1d3968\n(cherry picked from commit 675eb6abafa6489587f63dd536a664f94bc7d276)\n""}]",0,433156,5e78a699667fccfe897130e5631b58f9caa19a6b,13,5,1,13344,,,0,"Using sys.exit(main()) instead of main()

As we known, Exceptions are raised by the sys.exit() function.
When they are not handled, no stack traceback is printed in the Python interpreter.

In this patch we have known main() got return values(eg:0, 1), but it can't
specifies exit status when terminate the main thread by unusing sys.exit().
So when using sys.exit(main()) instead of main() may be more readable and
reasonable.

Change-Id: I6b472e0eb2fceb49bb506785f5188e023e1d3968
(cherry picked from commit 675eb6abafa6489587f63dd536a664f94bc7d276)
",git fetch https://review.opendev.org/openstack/fuel-agent refs/changes/56/433156/1 && git format-patch -1 --stdout FETCH_HEAD,['fuel_agent/cmd/agent.py'],1,5e78a699667fccfe897130e5631b58f9caa19a6b,sysexitmain, sys.exit(main()), main(),1,1
openstack%2Fheat~master~I4c179f05cc26602ec6814cbec9dec8c443013d50,openstack/heat,master,I4c179f05cc26602ec6814cbec9dec8c443013d50,Use mock for router tests,MERGED,2017-04-20 04:18:51.000000000,2017-04-25 12:00:02.000000000,2017-04-25 12:00:02.000000000,"[{'_account_id': 3}, {'_account_id': 12404}, {'_account_id': 13009}]","[{'number': 1, 'created': '2017-04-20 04:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fdb22851a8266a2eab6ec12a7d76f7bf8fa842aa', 'message': 'Use mock for router tests\n\nChange-Id: I4c179f05cc26602ec6814cbec9dec8c443013d50\n'}, {'number': 2, 'created': '2017-04-20 10:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fffa3f11030ae9e0ce3b1c6cb8c2719fd5e7107d', 'message': 'Use mock for router tests\n\nChange-Id: I4c179f05cc26602ec6814cbec9dec8c443013d50\n'}, {'number': 3, 'created': '2017-04-25 10:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/7c373e44ab18c636155e3e709aa5a08e8fc4c733', 'message': 'Use mock for router tests\n\nChange-Id: I4c179f05cc26602ec6814cbec9dec8c443013d50\n'}, {'number': 4, 'created': '2017-04-25 10:19:30.000000000', 'files': ['heat/tests/openstack/neutron/test_neutron_router.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/dc2dbe526b9ee2e9dc4456f4e1f370c76b2312f2', 'message': 'Use mock for router tests\n\nChange-Id: I4c179f05cc26602ec6814cbec9dec8c443013d50\n'}]",0,458322,dc2dbe526b9ee2e9dc4456f4e1f370c76b2312f2,13,3,4,8289,,,0,"Use mock for router tests

Change-Id: I4c179f05cc26602ec6814cbec9dec8c443013d50
",git fetch https://review.opendev.org/openstack/heat refs/changes/22/458322/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/openstack/neutron/test_neutron_router.py'],1,fdb22851a8266a2eab6ec12a7d76f7bf8fa842aa,use-mock-for-router-tests,"import mock self.create_mock = self.patchobject(neutronclient.Client, 'create_router') self.delete_mock = self.patchobject(neutronclient.Client, 'delete_router') self.show_mock = self.patchobject(neutronclient.Client, 'show_router') self.update_mock = self.patchobject(neutronclient.Client, 'update_router') self.add_if_mock = self.patchobject(neutronclient.Client, 'add_interface_router') self.remove_if_mock = self.patchobject(neutronclient.Client, 'remove_interface_router') self.add_gw_mock = self.patchobject(neutronclient.Client, 'add_gateway_router') self.remove_gw_mock = self.patchobject(neutronclient.Client, 'remove_gateway_router') self.add_router_mock = self.patchobject( neutronclient.Client, 'add_router_to_l3_agent') self.remove_router_mock = self.patchobject( neutronclient.Client, 'remove_router_from_l3_agent') self.list_l3_hr_mock = self.patchobject( neutronclient.Client, 'list_l3_agent_hosting_routers') self.find_rsrc_mock = self.patchobject( neutronV20, 'find_resourceid_by_name_or_id') create_body = { 'admin_state_up': True}} router_base_info = { 'router': { ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8""}} router_active_info = copy.deepcopy(router_base_info) router_active_info['router']['status'] = 'ACTIVE' self.create_mock.return_value = router_base_info self.show_mock.side_effect = [ # create complete check router_base_info, router_active_info, # first get_attr tenant qe.NeutronClientException(status_code=404), # second get_attr tenant router_active_info, # delete complete check qe.NeutronClientException(status_code=404)] agents_info = { } agents_info1 = copy.deepcopy(agents_info) agent = agents_info1['agents'][0] agent['id'] = '63b3fd83-2c5f-4dad-b3ae-e0f83a40f216' self.list_l3_hr_mock.side_effect = [ {""agents"": []}, agents_info, agents_info1 ] self.delete_mock.side_effect = [ None, qe.NeutronClientException(status_code=404)] self.create_mock.assert_called_with(create_body) self.update_mock.assert_called_with( '3e46229d-8fce-4733-819a-b5fe630550f8', {'router': { 'name': 'myrouter', 'admin_state_up': False }} ) add_router_calls = [ # create mock.call( u'792ff887-6c85-4a56-b518-23f24fa65581', {'router_id': u'3e46229d-8fce-4733-819a-b5fe630550f8'}), # first update mock.call( u'63b3fd83-2c5f-4dad-b3ae-e0f83a40f216', {'router_id': u'3e46229d-8fce-4733-819a-b5fe630550f8'}), # second update mock.call( u'4c692423-2c5f-4dad-b3ae-e2339f58539f', {'router_id': u'3e46229d-8fce-4733-819a-b5fe630550f8'}), mock.call( u'8363b3fd-2c5f-4dad-b3ae-0f216e0f83a4', {'router_id': u'3e46229d-8fce-4733-819a-b5fe630550f8'}) ] remove_router_calls = [ # first update mock.call( u'792ff887-6c85-4a56-b518-23f24fa65581', u'3e46229d-8fce-4733-819a-b5fe630550f8'), # second update mock.call( u'63b3fd83-2c5f-4dad-b3ae-e0f83a40f216', u'3e46229d-8fce-4733-819a-b5fe630550f8') ] self.add_router_mock.assert_has_calls(add_router_calls) self.remove_router_mock.assert_has_calls(remove_router_calls) self.remove_if_mock.side_effect = [ None, qe.NeutronClientException(status_code=404) ] self.find_rsrc_mock.side_effect = [ '91e47a57-7508-46fe-afc9-fc454e8580e1', '3e46229d-8fce-4733-819a-b5fe630550f8'] router_key = 'router' subnet_key = 'subnet' self.add_if_mock.assert_called_with( '3e46229d-8fce-4733-819a-b5fe630550f8', {'subnet_id': '91e47a57-7508-46fe-afc9-fc454e8580e1'}) self.find_rsrc_mock.side_effect = [ '3e46229d-8fce-4733-819a-b5fe630550f8'] self.remove_if_mock.side_effect = [ None, qe.NeutronClientException(status_code=404) ] self.add_if_mock.assert_called_with( '3e46229d-8fce-4733-819a-b5fe630550f8', {'subnet_id': '91e47a57-7508-46fe-afc9-fc454e8580e1'} ) self.find_rsrc_mock.side_effect = [ '9577cafd-8e98-4059-a2e6-8a771b4d318e'] self.remove_if_mock.side_effect = [ None, qe.NeutronClientException(status_code=404)] self.find_rsrc_mock.side_effect = [ # first validate '8577cafd-8e98-4059-a2e6-8a771b4d318e', # second validate 'ae478782-53c0-4434-ab16-49900c88016c', '9577cafd-8e98-4059-a2e6-8a771b4d318e', # third validate '8577cafd-8e98-4059-a2e6-8a771b4d318e', 'ae478782-53c0-4434-ab16-49900c88016c', # fourth validate 'ae478782-53c0-4434-ab16-49900c88016c' ] 'subnet_id': '8577cafd-8e98-4059-a2e6-8a771b4d318e', 'subnet_id': '8577cafd-8e98-4059-a2e6-8a771b4d318e'} self.find_rsrc_mock.side_effect = [ 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'fc68ea2c-b60b-4b4f-bd82-94ec81110766'] self.remove_gw_mock.side_effect = [ None, qe.NeutronClientException(status_code=404)] self.add_gw_mock.assert_called_with( '3e46229d-8fce-4733-819a-b5fe630550f8', {'network_id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766'} ) def _test_router_with_gateway(self, for_delete=False, for_update=False): t = template_format.parse(neutron_external_gateway_template) stack = utils.parse_stack(t) if for_update: self.find_rsrc_mock.side_effect = [ 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'sub1234', 'sub1234', '91e47a57-7508-46fe-afc9-fc454e8580e1', '91e47a57-7508-46fe-afc9-fc454e8580e1', 'sub1234'] else: self.find_rsrc_mock.side_effect = [ 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'sub1234', 'sub1234'] base_info = { ""router"": { ""status"": ""BUILD"", ""external_gateway_info"": None, ""name"": ""Test Router"", ""admin_state_up"": True, ""tenant_id"": ""3e21026f2dc94372b105808c0e721661"", ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"", } } external_gw_info = { ""network_id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"", ""enable_snat"": True, 'external_fixed_ips': [{ 'ip_address': '192.168.10.99', 'subnet_id': 'sub1234' }]} active_info = copy.deepcopy(base_info) active_info['router']['status'] = 'ACTIVE' active_info['router']['external_gateway_info'] = external_gw_info ex_gw_info1 = copy.deepcopy(external_gw_info) ex_gw_info1['network_id'] = '91e47a57-7508-46fe-afc9-fc454e8580e1' ex_gw_info1['enable_snat'] = False active_info1 = copy.deepcopy(active_info) active_info1['router']['external_gateway_info'] = ex_gw_info1 self.create_mock.return_value = base_info if for_delete: self.show_mock.side_effect = [ # create complete check active_info, # delete complete check qe.NeutronClientException(status_code=404)] elif for_update: self.show_mock.side_effect = [ # create complete check active_info, # get attr after create active_info, # get attr after update active_info1] else: self.show_mock.side_effect = [ # create complete check active_info, # get attr after create active_info] return t, stack def test_create_router_gateway_as_property(self): t, stack = self._test_router_with_gateway() rsrc = self.create_router(t, stack, 'router') ref_id = rsrc.FnGetRefId() self.assertEqual('3e46229d-8fce-4733-819a-b5fe630550f8', ref_id) gateway_info = rsrc.FnGetAtt('external_gateway_info') self.assertEqual('fc68ea2c-b60b-4b4f-bd82-94ec81110766', gateway_info.get('network_id')) self.assertTrue(gateway_info.get('enable_snat')) self.assertEqual([{'subnet_id': 'sub1234', 'ip_address': '192.168.10.99'}], gateway_info.get('external_fixed_ips')) def test_create_router_gateway_enable_snat(self): self.find_rsrc_mock.side_effect = [ 'fc68ea2c-b60b-4b4f-bd82-94ec81110766'] router_info = { ""router"": { ""name"": ""Test Router"", ""external_gateway_info"": { 'network_id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', }, ""admin_state_up"": True, 'status': 'BUILD', 'id': '3e46229d-8fce-4733-819a-b5fe630550f8' } } active_info = copy.deepcopy(router_info) active_info['router']['status'] = 'ACTIVE' self.create_mock.return_value = router_info self.show_mock.side_effect = [ # create complete check active_info, # get attr active_info ] t = template_format.parse(neutron_external_gateway_template) t[""resources""][""router""][""properties""][""external_gateway_info""].pop( ""enable_snat"") t[""resources""][""router""][""properties""][""external_gateway_info""].pop( ""external_fixed_ips"") stack = utils.parse_stack(t) rsrc = self.create_router(t, stack, 'router') self.create_mock.assert_called_with( { ""router"": { ""name"": ""Test Router"", ""external_gateway_info"": { 'network_id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', }, ""admin_state_up"": True, } } ) rsrc.validate() ref_id = rsrc.FnGetRefId() self.assertEqual('3e46229d-8fce-4733-819a-b5fe630550f8', ref_id) gateway_info = rsrc.FnGetAtt('external_gateway_info') self.assertEqual('fc68ea2c-b60b-4b4f-bd82-94ec81110766', gateway_info.get('network_id')) def test_update_router_gateway_as_property(self): t, stack = self._test_router_with_gateway(for_update=True) rsrc = self.create_router(t, stack, 'router') gateway_info = rsrc.FnGetAtt('external_gateway_info') self.assertEqual('fc68ea2c-b60b-4b4f-bd82-94ec81110766', gateway_info.get('network_id')) self.assertTrue(gateway_info.get('enable_snat')) props = t['resources']['router']['properties'].copy() props['external_gateway_info'] = { ""network"": ""other_public"", ""enable_snat"": False } update_template = rsrc.t.freeze(properties=props) scheduler.TaskRunner(rsrc.update, update_template)() self.assertEqual((rsrc.UPDATE, rsrc.COMPLETE), rsrc.state) self.update_mock.assert_called_with( '3e46229d-8fce-4733-819a-b5fe630550f8', {'router': { ""external_gateway_info"": { 'network_id': '91e47a57-7508-46fe-afc9-fc454e8580e1', 'enable_snat': False }, }} ) gateway_info = rsrc.FnGetAtt('external_gateway_info') self.assertEqual('91e47a57-7508-46fe-afc9-fc454e8580e1', gateway_info.get('network_id')) self.assertFalse(gateway_info.get('enable_snat')) def _assert_mock_call_create_with_router_gw(self): self.create_mock.assert_called_with({ def test_delete_router_gateway_as_property(self): t, stack = self._test_router_with_gateway(for_delete=True) self._assert_mock_call_create_with_router_gw()","import mox self.m.StubOutWithMock(neutronclient.Client, 'create_router') self.m.StubOutWithMock(neutronclient.Client, 'delete_router') self.m.StubOutWithMock(neutronclient.Client, 'show_router') self.m.StubOutWithMock(neutronclient.Client, 'update_router') self.m.StubOutWithMock(neutronclient.Client, 'add_interface_router') self.m.StubOutWithMock(neutronclient.Client, 'remove_interface_router') self.m.StubOutWithMock(neutronclient.Client, 'add_gateway_router') self.m.StubOutWithMock(neutronclient.Client, 'remove_gateway_router') self.m.StubOutWithMock(neutronclient.Client, 'add_router_to_l3_agent') self.m.StubOutWithMock(neutronclient.Client, 'remove_router_from_l3_agent') self.m.StubOutWithMock(neutronclient.Client, 'list_l3_agent_hosting_routers') self.m.StubOutWithMock(neutronV20, 'find_resourceid_by_name_or_id') self.m.VerifyAll() self.m.VerifyAll() self.m.VerifyAll() self.m.VerifyAll() neutronclient.Client.create_router({ 'admin_state_up': True, } }).AndReturn({ ""router"": { ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"", } }) neutronclient.Client.list_l3_agent_hosting_routers( u'3e46229d-8fce-4733-819a-b5fe630550f8' ).AndReturn({""agents"": []}) neutronclient.Client.add_router_to_l3_agent( u'792ff887-6c85-4a56-b518-23f24fa65581', {'router_id': u'3e46229d-8fce-4733-819a-b5fe630550f8'} ).AndReturn(None) neutronclient.Client.show_router( '3e46229d-8fce-4733-819a-b5fe630550f8').AndReturn({ ""router"": { ""status"": ""BUILD"", ""external_gateway_info"": None, ""name"": utils.PhysName(stack.name, 'router'), ""admin_state_up"": True, ""tenant_id"": ""3e21026f2dc94372b105808c0e721661"", ""routes"": [], ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"" } }) neutronclient.Client.show_router( '3e46229d-8fce-4733-819a-b5fe630550f8').AndReturn({ ""router"": { ""status"": ""ACTIVE"", ""external_gateway_info"": None, ""name"": utils.PhysName(stack.name, 'router'), ""admin_state_up"": True, ""tenant_id"": ""3e21026f2dc94372b105808c0e721661"", ""routes"": [], ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"" } }) neutronclient.Client.show_router( '3e46229d-8fce-4733-819a-b5fe630550f8').AndRaise( qe.NeutronClientException(status_code=404)) neutronclient.Client.show_router( '3e46229d-8fce-4733-819a-b5fe630550f8').AndReturn({ ""router"": { ""status"": ""ACTIVE"", ""external_gateway_info"": None, ""name"": utils.PhysName(stack.name, 'router'), ""admin_state_up"": True, ""tenant_id"": ""3e21026f2dc94372b105808c0e721661"", ""routes"": [], ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"" } }) # Update script neutronclient.Client.list_l3_agent_hosting_routers( u'3e46229d-8fce-4733-819a-b5fe630550f8' ).AndReturn({ }) neutronclient.Client.remove_router_from_l3_agent( u'792ff887-6c85-4a56-b518-23f24fa65581', u'3e46229d-8fce-4733-819a-b5fe630550f8' ).AndReturn(None) neutronclient.Client.add_router_to_l3_agent( u'63b3fd83-2c5f-4dad-b3ae-e0f83a40f216', {'router_id': u'3e46229d-8fce-4733-819a-b5fe630550f8'} ).AndReturn(None) neutronclient.Client.update_router( '3e46229d-8fce-4733-819a-b5fe630550f8', {'router': { 'name': 'myrouter', 'admin_state_up': False }} ) # Update again script neutronclient.Client.list_l3_agent_hosting_routers( u'3e46229d-8fce-4733-819a-b5fe630550f8' ).AndReturn({ ""agents"": [{ ""admin_state_up"": True, ""agent_type"": ""L3 agent"", ""alive"": True, ""binary"": ""neutron-l3-agent"", ""configurations"": { ""ex_gw_ports"": 1, ""floating_ips"": 0, ""gateway_external_network_id"": """", ""handle_internal_only_routers"": True, ""interface_driver"": ""DummyDriver"", ""interfaces"": 1, ""router_id"": """", ""routers"": 1, ""use_namespaces"": True}, ""created_at"": ""2014-03-11 05:00:05"", ""description"": None, ""heartbeat_timestamp"": ""2014-03-11 05:01:49"", ""host"": ""l3_agent_host"", ""id"": ""63b3fd83-2c5f-4dad-b3ae-e0f83a40f216"", ""started_at"": ""2014-03-11 05:00:05"", ""topic"": ""l3_agent"" }] }) neutronclient.Client.remove_router_from_l3_agent( u'63b3fd83-2c5f-4dad-b3ae-e0f83a40f216', u'3e46229d-8fce-4733-819a-b5fe630550f8' ).AndReturn(None) neutronclient.Client.add_router_to_l3_agent( u'4c692423-2c5f-4dad-b3ae-e2339f58539f', {'router_id': u'3e46229d-8fce-4733-819a-b5fe630550f8'} ).AndReturn(None) neutronclient.Client.add_router_to_l3_agent( u'8363b3fd-2c5f-4dad-b3ae-0f216e0f83a4', {'router_id': u'3e46229d-8fce-4733-819a-b5fe630550f8'} ).AndReturn(None) # Delete script neutronclient.Client.delete_router( '3e46229d-8fce-4733-819a-b5fe630550f8' ).AndReturn(None) neutronclient.Client.show_router( '3e46229d-8fce-4733-819a-b5fe630550f8' ).AndRaise(qe.NeutronClientException(status_code=404)) neutronclient.Client.delete_router( '3e46229d-8fce-4733-819a-b5fe630550f8' ).AndRaise(qe.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.add_interface_router( '3e46229d-8fce-4733-819a-b5fe630550f8', {'subnet_id': '91e47a57-7508-46fe-afc9-fc454e8580e1'} ).AndReturn(None) neutronclient.Client.remove_interface_router( '3e46229d-8fce-4733-819a-b5fe630550f8', {'subnet_id': '91e47a57-7508-46fe-afc9-fc454e8580e1'} ).AndReturn(None) neutronclient.Client.remove_interface_router( '3e46229d-8fce-4733-819a-b5fe630550f8', {'subnet_id': '91e47a57-7508-46fe-afc9-fc454e8580e1'} ).AndRaise(qe.NeutronClientException(status_code=404)) neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'router', '3e46229d-8fce-4733-819a-b5fe630550f8', cmd_resource=None, ).MultipleTimes().AndReturn('3e46229d-8fce-4733-819a-b5fe630550f8') router_key = 'router' neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', '91e47a57-7508-46fe-afc9-fc454e8580e1', cmd_resource=None, ).MultipleTimes().AndReturn('91e47a57-7508-46fe-afc9-fc454e8580e1') subnet_key = 'subnet' self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'router', '3e46229d-8fce-4733-819a-b5fe630550f8', cmd_resource=None, ).MultipleTimes().AndReturn('3e46229d-8fce-4733-819a-b5fe630550f8') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', cmd_resource=None, ).MultipleTimes().AndReturn('91e47a57-7508-46fe-afc9-fc454e8580e1') neutronclient.Client.add_interface_router( '3e46229d-8fce-4733-819a-b5fe630550f8', {'subnet_id': '91e47a57-7508-46fe-afc9-fc454e8580e1'} ).AndReturn(None) neutronclient.Client.remove_interface_router( '3e46229d-8fce-4733-819a-b5fe630550f8', {'subnet_id': '91e47a57-7508-46fe-afc9-fc454e8580e1'} ).AndReturn(None) neutronclient.Client.remove_interface_router( '3e46229d-8fce-4733-819a-b5fe630550f8', {'subnet_id': '91e47a57-7508-46fe-afc9-fc454e8580e1'} ).AndRaise(qe.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'port', '9577cafd-8e98-4059-a2e6-8a771b4d318e', cmd_resource=None, ).MultipleTimes().AndReturn('9577cafd-8e98-4059-a2e6-8a771b4d318e') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'router', cmd_resource=None, ).MultipleTimes().AndReturn('ae478782-53c0-4434-ab16-49900c88016c') neutronclient.Client.add_interface_router( 'ae478782-53c0-4434-ab16-49900c88016c', {'port_id': '9577cafd-8e98-4059-a2e6-8a771b4d318e'} ).AndReturn(None) neutronclient.Client.remove_interface_router( 'ae478782-53c0-4434-ab16-49900c88016c', {'port_id': '9577cafd-8e98-4059-a2e6-8a771b4d318e'} ).AndReturn(None) neutronclient.Client.remove_interface_router( 'ae478782-53c0-4434-ab16-49900c88016c', {'port_id': '9577cafd-8e98-4059-a2e6-8a771b4d318e'} ).AndRaise(qe.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'port', '9577cafd-8e98-4059-a2e6-8a771b4d318e', cmd_resource=None, ).MultipleTimes().AndReturn('9577cafd-8e98-4059-a2e6-8a771b4d318e') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'router', cmd_resource=None, ).MultipleTimes().AndReturn('ae478782-53c0-4434-ab16-49900c88016c') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', cmd_resource=None, ).MultipleTimes().AndReturn('9577cafd-8e98-4059-a2e6-8a771b4d318e') self.m.ReplayAll() 'subnet_id': '9577cafd-8e98-4059-a2e6-8a771b4d318e', 'subnet_id': '9577cafd-8e98-4059-a2e6-8a771b4d318e'} self.m.VerifyAll() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', cmd_resource=None, ).MultipleTimes().AndReturn('fc68ea2c-b60b-4b4f-bd82-94ec81110766') neutronclient.Client.add_gateway_router( '3e46229d-8fce-4733-819a-b5fe630550f8', {'network_id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766'} ).AndReturn(None) neutronclient.Client.remove_gateway_router( '3e46229d-8fce-4733-819a-b5fe630550f8' ).AndReturn(None) neutronclient.Client.remove_gateway_router( '3e46229d-8fce-4733-819a-b5fe630550f8' ).AndRaise(qe.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() def _create_router_with_gateway(self): neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'public', cmd_resource=None, ).MultipleTimes().AndReturn('fc68ea2c-b60b-4b4f-bd82-94ec81110766') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub1234', cmd_resource=None, ).MultipleTimes().AndReturn('sub1234') neutronclient.Client.create_router({ }).AndReturn({ ""router"": { ""status"": ""BUILD"", ""external_gateway_info"": None, ""name"": ""Test Router"", ""admin_state_up"": True, ""tenant_id"": ""3e21026f2dc94372b105808c0e721661"", ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"", } neutronclient.Client.show_router( '3e46229d-8fce-4733-819a-b5fe630550f8').AndReturn({ ""router"": { ""status"": ""ACTIVE"", ""external_gateway_info"": { ""network_id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"", ""enable_snat"": True, 'external_fixed_ips': [{ 'ip_address': '192.168.10.99', 'subnet_id': 'sub1234' }] }, ""name"": ""Test Router"", ""admin_state_up"": True, ""tenant_id"": ""3e21026f2dc94372b105808c0e721661"", ""routes"": [], ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"" } }) def test_create_router_gateway_as_property(self): self._create_router_with_gateway() neutronclient.Client.show_router( '3e46229d-8fce-4733-819a-b5fe630550f8').AndReturn({ ""router"": { ""status"": ""ACTIVE"", ""external_gateway_info"": { ""network_id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"", ""enable_snat"": True, 'external_fixed_ips': [{ 'ip_address': '192.168.10.99', 'subnet_id': '9577cafd-8e98-4059-a2e6-8a771b4d318e' }] }, ""name"": ""Test Router"", ""admin_state_up"": True, ""tenant_id"": ""3e21026f2dc94372b105808c0e721661"", ""routes"": [], ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"" } }) self.m.ReplayAll() t = template_format.parse(neutron_external_gateway_template) stack = utils.parse_stack(t) rsrc = self.create_router(t, stack, 'router') rsrc.validate() ref_id = rsrc.FnGetRefId() self.assertEqual('3e46229d-8fce-4733-819a-b5fe630550f8', ref_id) gateway_info = rsrc.FnGetAtt('external_gateway_info') self.assertEqual('fc68ea2c-b60b-4b4f-bd82-94ec81110766', gateway_info.get('network_id')) self.assertTrue(gateway_info.get('enable_snat')) self.assertEqual([{'subnet_id': '9577cafd-8e98-4059-a2e6-8a771b4d318e', 'ip_address': '192.168.10.99'}], gateway_info.get('external_fixed_ips')) self.m.VerifyAll() def test_create_router_gateway_enable_snat(self): neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'public', cmd_resource=None, ).AndReturn('fc68ea2c-b60b-4b4f-bd82-94ec81110766') neutronclient.Client.create_router({ ""router"": { ""name"": ""Test Router"", ""external_gateway_info"": { 'network_id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', }, ""admin_state_up"": True, } }).AndReturn({ ""router"": { ""status"": ""BUILD"", ""external_gateway_info"": None, ""name"": ""Test Router"", ""admin_state_up"": True, ""tenant_id"": ""3e21026f2dc94372b105808c0e721661"", ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"", } }) neutronclient.Client.show_router( '3e46229d-8fce-4733-819a-b5fe630550f8').MultipleTimes().AndReturn({ ""router"": { ""status"": ""ACTIVE"", ""external_gateway_info"": { ""network_id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"", ""enable_snat"": True }, ""name"": ""Test Router"", ""admin_state_up"": True, ""tenant_id"": ""3e21026f2dc94372b105808c0e721661"", ""routes"": [], ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"" } }) self.m.ReplayAll() t = template_format.parse(neutron_external_gateway_template) t[""resources""][""router""][""properties""][""external_gateway_info""].pop( ""enable_snat"") t[""resources""][""router""][""properties""][""external_gateway_info""].pop( ""external_fixed_ips"") stack = utils.parse_stack(t) rsrc = self.create_router(t, stack, 'router') rsrc.validate() ref_id = rsrc.FnGetRefId() self.assertEqual('3e46229d-8fce-4733-819a-b5fe630550f8', ref_id) gateway_info = rsrc.FnGetAtt('external_gateway_info') self.assertEqual('fc68ea2c-b60b-4b4f-bd82-94ec81110766', gateway_info.get('network_id')) self.m.VerifyAll() def test_update_router_gateway_as_property(self): self._create_router_with_gateway() neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'network', 'other_public', cmd_resource=None, ).AndReturn('91e47a57-7508-46fe-afc9-fc454e8580e1') neutronV20.find_resourceid_by_name_or_id( mox.IsA(neutronclient.Client), 'subnet', 'sub1234', cmd_resource=None, ).AndReturn('sub1234') neutronclient.Client.update_router( '3e46229d-8fce-4733-819a-b5fe630550f8', {'router': { ""external_gateway_info"": { 'network_id': '91e47a57-7508-46fe-afc9-fc454e8580e1', 'enable_snat': False }, }} ).AndReturn(None) neutronclient.Client.show_router( '3e46229d-8fce-4733-819a-b5fe630550f8').MultipleTimes().AndReturn({ ""router"": { ""status"": ""ACTIVE"", ""external_gateway_info"": { ""network_id"": ""91e47a57-7508-46fe-afc9-fc454e8580e1"", ""enable_snat"": False }, ""name"": ""Test Router"", ""admin_state_up"": True, ""tenant_id"": ""3e21026f2dc94372b105808c0e721661"", ""routes"": [], ""id"": ""3e46229d-8fce-4733-819a-b5fe630550f8"" } }) self.m.ReplayAll() t = template_format.parse(neutron_external_gateway_template) stack = utils.parse_stack(t) rsrc = self.create_router(t, stack, 'router') props = t['resources']['router']['properties'].copy() props['external_gateway_info'] = { ""network"": ""other_public"", ""enable_snat"": False } update_template = rsrc.t.freeze(properties=props) scheduler.TaskRunner(rsrc.update, update_template)() self.assertEqual((rsrc.UPDATE, rsrc.COMPLETE), rsrc.state) gateway_info = rsrc.FnGetAtt('external_gateway_info') self.assertEqual('91e47a57-7508-46fe-afc9-fc454e8580e1', gateway_info.get('network_id')) self.assertFalse(gateway_info.get('enable_snat')) self.m.VerifyAll() def test_delete_router_gateway_as_property(self): self._create_router_with_gateway() neutronclient.Client.delete_router( '3e46229d-8fce-4733-819a-b5fe630550f8' ).AndReturn(None) neutronclient.Client.show_router( '3e46229d-8fce-4733-819a-b5fe630550f8' ).AndRaise(qe.NeutronClientException(status_code=404)) self.m.ReplayAll() t = template_format.parse(neutron_external_gateway_template) stack = utils.parse_stack(t) self.m.VerifyAll()",311,485
openstack%2Fnetworking-bgpvpn~stable%2Fnewton~Iaea3cd206c2d11bcdf71dd7cd1c3e53488ee98a8,openstack/networking-bgpvpn,stable/newton,Iaea3cd206c2d11bcdf71dd7cd1c3e53488ee98a8,DO NOT MERGE : a patch to test our experimental jobs,ABANDONED,2017-04-19 15:04:54.000000000,2017-04-25 11:53:50.000000000,,"[{'_account_id': 3}, {'_account_id': 2888}]","[{'number': 1, 'created': '2017-04-19 15:04:54.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c6ba02a18bfe1ac1d88cd7706038f49e1befd0e7', 'message': 'DO NOT MERGE : a patch to test our experimental jobs\n\nChange-Id: Iaea3cd206c2d11bcdf71dd7cd1c3e53488ee98a8\n'}]",0,458120,c6ba02a18bfe1ac1d88cd7706038f49e1befd0e7,5,2,1,2888,,,0,"DO NOT MERGE : a patch to test our experimental jobs

Change-Id: Iaea3cd206c2d11bcdf71dd7cd1c3e53488ee98a8
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/20/458120/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,c6ba02a18bfe1ac1d88cd7706038f49e1befd0e7,,# no-op ,,1,0
openstack%2Ffuel-agent~master~I269c1b95ee5702ed435df30834e239bd6f6f0582,openstack/fuel-agent,master,I269c1b95ee5702ed435df30834e239bd6f6f0582,Use new Ironic's heartbeat API,MERGED,2016-08-31 15:57:12.000000000,2017-04-25 11:53:50.000000000,2017-04-25 11:52:05.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8003}, {'_account_id': 8971}, {'_account_id': 9542}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-08-31 15:57:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/906de264cfcf9920e7ebd9745ca40d38119a88ad', 'message': ""Use new Ironic's heartbeat API\n\nalso make the callback script more resilent by retrying attempts\nto contact Ironic API (hardcoded 50 times).\n\nChange-Id: I269c1b95ee5702ed435df30834e239bd6f6f0582\n""}, {'number': 2, 'created': '2016-09-07 08:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/f810de75cccc98fae40b54673747b0da039f9c8f', 'message': ""Use new Ironic's heartbeat API\n\nalso make the callback script more resilent by retrying attempts\nto contact Ironic API (hardcoded 50 times).\n\nChange-Id: I269c1b95ee5702ed435df30834e239bd6f6f0582\n""}, {'number': 3, 'created': '2016-09-07 08:27:30.000000000', 'files': ['fuel_agent/cmd/ironic_callback.py', 'contrib/ironic/ironic-fa-deploy/ironic_fa_deploy/modules/fuel_agent.py'], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/8770b8563d6bd4411630d7145315da1611accf3c', 'message': ""Use new Ironic's heartbeat API\n\nalso make the callback script more resilent by retrying attempts\nto contact Ironic API (hardcoded 50 times).\n\nChange-Id: I269c1b95ee5702ed435df30834e239bd6f6f0582\n""}]",0,363767,8770b8563d6bd4411630d7145315da1611accf3c,38,6,3,9542,,,0,"Use new Ironic's heartbeat API

also make the callback script more resilent by retrying attempts
to contact Ironic API (hardcoded 50 times).

Change-Id: I269c1b95ee5702ed435df30834e239bd6f6f0582
",git fetch https://review.opendev.org/openstack/fuel-agent refs/changes/67/363767/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_agent/cmd/ironic_callback.py', 'contrib/ironic/ironic-fa-deploy/ironic_fa_deploy/modules/fuel_agent.py']",2,906de264cfcf9920e7ebd9745ca40d38119a88ad,new-heartbeat-api,"import six.moves.urllib.parse as urlparse def heartbeat(self, task, callback_url): # NOTE(pas-ha) this driver does not support cleaning, # so the only valid state to continue on heartbeat is DEPLOYWAIT if node.provision_state != states.DEPLOYWAIT: LOG.warning(_LW('Call back from %(node)s in invalid provision ' 'state %(state)s'), {'node': node.uuid, 'state': node.provision_state}) task.upgrade_lock(purpose='deploy') task.process_event('resume') params['host'] = urlparse.urlparse(callback_url).netloc.split(':')[0] # NOTE(pas-ha) pass collect_logs=False once # https://review.openstack.org/#/c/359381/ is merged"," class FuelAgentVendor(base.VendorInterface): def get_properties(self): """"""Return the properties of the interface. :returns: dictionary of <property name>:<property description> entries. """""" return COMMON_PROPERTIES def validate(self, task, method, **kwargs): """"""Validate the driver-specific Node deployment info. :param task: a TaskManager instance :param method: method to be validated """""" _parse_driver_info(task.node) if not kwargs.get('status'): raise exception.MissingParameterValue(_('Unknown Fuel Agent status' ' on a node.')) if not kwargs.get('address'): raise exception.MissingParameterValue(_('Fuel Agent must pass ' 'address of a node.')) @base.passthru(['POST']) @task_manager.require_exclusive_lock def pass_deploy_info(self, task, **kwargs): task.process_event('resume') err_msg = _('Failed to continue deployment with Fuel Agent.') agent_status = kwargs.get('status') if agent_status != 'ready': LOG.error(_LE('Deploy failed for node %(node)s. Fuel Agent is not ' 'in ready state, error: %(error)s'), {'node': node.uuid, 'error': kwargs.get('error_message')}) deploy_utils.set_failed_state(task, err_msg) params['host'] = kwargs.get('address')",42,54
openstack%2Fnetworking-bgpvpn~master~Iaea3cd206c2d11bcdf71dd7cd1c3e53488ee98a8,openstack/networking-bgpvpn,master,Iaea3cd206c2d11bcdf71dd7cd1c3e53488ee98a8,DO NOT MERGE : a patch to test our experimental jobs,ABANDONED,2017-04-19 14:19:21.000000000,2017-04-25 11:53:41.000000000,,"[{'_account_id': 3}, {'_account_id': 2888}]","[{'number': 1, 'created': '2017-04-19 14:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/9bc9897ec4f09e6bd92996dde68009cee8c119bb', 'message': 'DO NOT MERGE : a patch to test that our experimental jobs\n\nChange-Id: Iaea3cd206c2d11bcdf71dd7cd1c3e53488ee98a8\n'}, {'number': 2, 'created': '2017-04-19 15:04:35.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/2b74b3ecda5552310f416d059892b3c1df53f674', 'message': 'DO NOT MERGE : a patch to test our experimental jobs\n\nChange-Id: Iaea3cd206c2d11bcdf71dd7cd1c3e53488ee98a8\n'}]",0,458101,2b74b3ecda5552310f416d059892b3c1df53f674,8,2,2,2888,,,0,"DO NOT MERGE : a patch to test our experimental jobs

Change-Id: Iaea3cd206c2d11bcdf71dd7cd1c3e53488ee98a8
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/01/458101/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,9bc9897ec4f09e6bd92996dde68009cee8c119bb,,# no-op ,,1,0
openstack%2Ffuel-agent~master~Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20,openstack/fuel-agent,master,Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20,[Multitenancy] Add logic to work with network providers,MERGED,2016-06-13 11:06:46.000000000,2017-04-25 11:51:49.000000000,2017-04-25 11:49:51.000000000,"[{'_account_id': 3}, {'_account_id': 3009}, {'_account_id': 8003}, {'_account_id': 8971}, {'_account_id': 14200}, {'_account_id': 14525}, {'_account_id': 17270}, {'_account_id': 20656}]","[{'number': 1, 'created': '2016-06-13 11:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/fce03b9ad8c6175aa987079d547283d51b7eb369', 'message': '[Multitenancy] Add logic to work with network providers\n\nThis patch adds logic to work with network providers to fuel_* ironic drivers.\n\nChange-Id: Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20\nRelated-Bug: #1588380\n'}, {'number': 2, 'created': '2016-06-15 13:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/7cf0539f02d5ab60e3b03fcff37b16c512012472', 'message': '[Multitenancy] Add logic to work with network providers\n\nThis patch adds logic to work with network providers to fuel_* ironic drivers.\n\nChange-Id: Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20\nRelated-Bug: #1588380\n'}, {'number': 3, 'created': '2017-03-23 14:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/b9badcabbe791b24be8b6a0b9d8709c1c904174f', 'message': '[Multitenancy] Add logic to work with network providers\n\nThis patch adds logic to work with network providers to fuel_* ironic drivers.\n\nDepends-On: I742a52c991058d1f8bd9170f9b583c28dff22839\n\nChange-Id: Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20\nRelated-Bug: #1588380\n'}, {'number': 4, 'created': '2017-04-03 17:11:52.000000000', 'files': ['contrib/ironic/ironic-fa-deploy/ironic_fa_deploy/modules/fuel_agent.py'], 'web_link': 'https://opendev.org/openstack/fuel-agent/commit/0d058150adc4a0b19888710636397d9587c475c0', 'message': '[Multitenancy] Add logic to work with network providers\n\nThis patch adds logic to work with network providers to fuel_* ironic drivers.\n\nDepends-On: I742a52c991058d1f8bd9170f9b583c28dff22839\n\nChange-Id: Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20\nRelated-Bug: #1588380\n'}]",1,328951,0d058150adc4a0b19888710636397d9587c475c0,44,8,4,14525,,,0,"[Multitenancy] Add logic to work with network providers

This patch adds logic to work with network providers to fuel_* ironic drivers.

Depends-On: I742a52c991058d1f8bd9170f9b583c28dff22839

Change-Id: Ic3f831a9a9e5ec9031bf1a588df62c9338c47d20
Related-Bug: #1588380
",git fetch https://review.opendev.org/openstack/fuel-agent refs/changes/51/328951/4 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ironic/ironic-fa-deploy/ironic_fa_deploy/modules/fuel_agent.py'],1,fce03b9ad8c6175aa987079d547283d51b7eb369,bug/1588380," task.driver.network.unconfigure_tenant_networks(task) if node.provision_state != states.ACTIVE: if node.provision_state == states.DEPLOYING: # Adding the node to provisioning network so that the dhcp # options get added for the provisioning port. manager_utils.node_power_action(task, states.POWER_OFF) task.driver.network.add_provisioning_network(task) ",,8,0
openstack%2Fnova~master~I46c220bb8359e57726d8b2826ffa77c2bb49e1a1,openstack/nova,master,I46c220bb8359e57726d8b2826ffa77c2bb49e1a1,encryptors: Always default to the NoOpEncrytor,ABANDONED,2017-04-04 17:03:18.000000000,2017-04-25 11:51:22.000000000,,"[{'_account_id': 3}, {'_account_id': 7012}, {'_account_id': 7764}, {'_account_id': 8623}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 15286}, {'_account_id': 15524}, {'_account_id': 15751}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 24711}]","[{'number': 1, 'created': '2017-04-04 17:03:18.000000000', 'files': ['nova/volume/encryptors/__init__.py', 'nova/tests/unit/volume/encryptors/test_base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3db2cf94df82c02479ffd0bc607713fe5b50fa3e', 'message': 'encryptors: Always default to the NoOpEncrytor\n\nA NameError will be encountered due to the encryptor variable not being set if\ncontrol_location is not provided to get_volume_encryptor as a kwarg :\n\nhttps://review.openstack.org/#/c/393901/12/nova/volume/encryptors/__init__.py@82\n\nTo correct this the encryptor now defaults to a NoOpEncryptor object as it did\nprior to the above change.\n\nChange-Id: I46c220bb8359e57726d8b2826ffa77c2bb49e1a1\nCloses-bug: #1679717\n'}]",6,453265,3db2cf94df82c02479ffd0bc607713fe5b50fa3e,19,18,1,10135,,,0,"encryptors: Always default to the NoOpEncrytor

A NameError will be encountered due to the encryptor variable not being set if
control_location is not provided to get_volume_encryptor as a kwarg :

https://review.openstack.org/#/c/393901/12/nova/volume/encryptors/__init__.py@82

To correct this the encryptor now defaults to a NoOpEncryptor object as it did
prior to the above change.

Change-Id: I46c220bb8359e57726d8b2826ffa77c2bb49e1a1
Closes-bug: #1679717
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/453265/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/volume/encryptors/__init__.py', 'nova/tests/unit/volume/encryptors/test_base.py']",2,3db2cf94df82c02479ffd0bc607713fe5b50fa3e,bug/1679717," def test_get_encryptor_default_to_NoOpEncryptor(self): # Assert that we default to the NoOpEncryptor even with no kwargs encryptor = encryptors.get_volume_encryptor(self.connection_info) self.assertIsInstance(encryptor, nop.NoOpEncryptor) ",,8,0
openstack%2Fnetworking-midonet~master~I39b9aff3e65427a28cd9479f9d0e40c07e123ea9,openstack/networking-midonet,master,I39b9aff3e65427a28cd9479f9d0e40c07e123ea9,DB migration milestone for ocata,MERGED,2017-02-06 01:29:45.000000000,2017-04-25 11:50:00.000000000,2017-04-25 11:38:49.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 8837}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-02-06 01:29:45.000000000', 'files': ['midonet/neutron/db/migration/alembic_migration/versions/ocata/contract/1612b5389e6e_remove_agent_membership.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/9f3992811410_add_logging_resource.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/685747a9c3e762dc116c4cb72ece2a0cd285e61a', 'message': 'DB migration milestone for ocata\n\nCloses-Bug: #1662041\nChange-Id: I39b9aff3e65427a28cd9479f9d0e40c07e123ea9\n'}]",0,429434,685747a9c3e762dc116c4cb72ece2a0cd285e61a,18,5,1,6854,,,0,"DB migration milestone for ocata

Closes-Bug: #1662041
Change-Id: I39b9aff3e65427a28cd9479f9d0e40c07e123ea9
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/34/429434/1 && git format-patch -1 --stdout FETCH_HEAD,"['midonet/neutron/db/migration/alembic_migration/versions/ocata/contract/1612b5389e6e_remove_agent_membership.py', 'midonet/neutron/db/migration/alembic_migration/versions/mitaka/expand/9f3992811410_add_logging_resource.py']",2,685747a9c3e762dc116c4cb72ece2a0cd285e61a,bug/1662041,"neutron_milestone = [migration.MITAKA, migration.NEWTON, migration.OCATA]","neutron_milestone = [migration.MITAKA, migration.NEWTON]",8,2
openstack%2Freleases~master~Ice7ff376a030fee41589408a3657658a4e076a16,openstack/releases,master,Ice7ff376a030fee41589408a3657658a4e076a16,improve npm version validation,MERGED,2017-04-20 19:41:09.000000000,2017-04-25 11:49:29.000000000,2017-04-25 11:49:29.000000000,"[{'_account_id': 3}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-04-20 19:41:09.000000000', 'files': ['openstack_releases/cmds/validate.py', 'openstack_releases/tests/test_npmutils.py', 'openstack_releases/npmutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/b9e5af63714fc1b7accf11675091ccbab725c6a5', 'message': 'improve npm version validation\n\nRequire the package.json version to match the tag.\n\nChange-Id: Ice7ff376a030fee41589408a3657658a4e076a16\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",1,458629,b9e5af63714fc1b7accf11675091ccbab725c6a5,8,2,1,2472,,,0,"improve npm version validation

Require the package.json version to match the tag.

Change-Id: Ice7ff376a030fee41589408a3657658a4e076a16
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/458629/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_releases/cmds/validate.py', 'openstack_releases/tests/test_npmutils.py', 'openstack_releases/npmutils.py']",3,b9e5af63714fc1b7accf11675091ccbab725c6a5,improve-npm-validation,"# All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import json import os.path def looks_like_a_module(workdir, repo): ""Does the directory look like it contains an npm module?"" return os.path.exists(os.path.join(workdir, repo, 'package.json')) def get_metadata(workdir, repo): ""Load the package.json file from the repo"" with open(os.path.join(workdir, repo, 'package.json'), 'r') as f: body = f.read() return json.loads(body) def get_version(workdir, repo): ""Get the version string from the project metadata."" return get_metadata(workdir, repo).get('version') ",,128,0
openstack%2Freleases~master~Iefe6f8b77a7a80e9417448e5c8baccc673cf680c,openstack/releases,master,Iefe6f8b77a7a80e9417448e5c8baccc673cf680c,Add missing Pike projected release date,MERGED,2017-04-13 15:15:06.000000000,2017-04-25 11:49:24.000000000,2017-04-25 11:49:24.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 5638}]","[{'number': 1, 'created': '2017-04-13 15:15:06.000000000', 'files': ['doc/source/pike/index.rst'], 'web_link': 'https://opendev.org/openstack/releases/commit/0be35d4013ee4554c31bd8a0d5449804b2fb2bc8', 'message': 'Add missing Pike projected release date\n\nThe index for Pike was missing the projected release date.\n\nChange-Id: Iefe6f8b77a7a80e9417448e5c8baccc673cf680c\n'}]",0,456661,0be35d4013ee4554c31bd8a0d5449804b2fb2bc8,7,3,1,308,,,0,"Add missing Pike projected release date

The index for Pike was missing the projected release date.

Change-Id: Iefe6f8b77a7a80e9417448e5c8baccc673cf680c
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/456661/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/pike/index.rst'],1,0be35d4013ee4554c31bd8a0d5449804b2fb2bc8,set-release-date,"Projected Release Date: Aug 30, 2017",Projected Release Date: TBD,1,1
openstack%2Fopenstack-ansible-os_glance~stable%2Focata~Ief4818b7a3f0b87ddb4d0cdfd56809c2f09a59c1,openstack/openstack-ansible-os_glance,stable/ocata,Ief4818b7a3f0b87ddb4d0cdfd56809c2f09a59c1,Optimise apt cache update task,MERGED,2017-04-24 09:29:38.000000000,2017-04-25 11:47:20.000000000,2017-04-25 11:47:20.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-24 09:29:38.000000000', 'files': ['tasks/glance_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/b7d7f408d24011b1d1c6ab583880104f8762c576', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: Ief4818b7a3f0b87ddb4d0cdfd56809c2f09a59c1\n(cherry picked from commit 1e9e5a6481241c676e8b564c48510ceb9935b1aa)\n""}]",0,459213,b7d7f408d24011b1d1c6ab583880104f8762c576,9,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: Ief4818b7a3f0b87ddb4d0cdfd56809c2f09a59c1
(cherry picked from commit 1e9e5a6481241c676e8b564c48510ceb9935b1aa)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/13/459213/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/glance_install.yml', 'meta/main.yml']",2,b7d7f408d24011b1d1c6ab583880104f8762c576,use_package_module, min_ansible_version: 2.2, min_ansible_version: 2.1,3,8
openstack%2Fopenstack-ansible-os_trove~stable%2Focata~Ieaf67c9a776c43e9fd39c63a92642b55a49bb9bc,openstack/openstack-ansible-os_trove,stable/ocata,Ieaf67c9a776c43e9fd39c63a92642b55a49bb9bc,Optimise apt cache update task,MERGED,2017-04-24 09:31:20.000000000,2017-04-25 11:44:32.000000000,2017-04-25 11:44:32.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-24 09:31:20.000000000', 'files': ['tasks/trove_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/bfc42ab04807d45bc7d769c3c1409253b8380324', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: Ieaf67c9a776c43e9fd39c63a92642b55a49bb9bc\n(cherry picked from commit 27545d222ad69f56a7d0a56303256412bae68723)\n""}]",0,459215,bfc42ab04807d45bc7d769c3c1409253b8380324,7,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: Ieaf67c9a776c43e9fd39c63a92642b55a49bb9bc
(cherry picked from commit 27545d222ad69f56a7d0a56303256412bae68723)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/15/459215/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/trove_install.yml', 'meta/main.yml']",2,bfc42ab04807d45bc7d769c3c1409253b8380324,use_package_module, min_ansible_version: 2.2, min_ansible_version: 2.0,3,8
openstack%2Fnetworking-bgpvpn~master~I2aab28f67c096bdb399ca76a2b8d27240823330e,openstack/networking-bgpvpn,master,I2aab28f67c096bdb399ca76a2b8d27240823330e,Register query hooks at BGPVPNPluginDb object creation,MERGED,2017-04-25 08:47:02.000000000,2017-04-25 11:37:11.000000000,2017-04-25 11:37:11.000000000,"[{'_account_id': 3}, {'_account_id': 12021}]","[{'number': 1, 'created': '2017-04-25 08:47:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/ae8099eff2ece749129d09b2bf09efc9e2b0eab7', 'message': 'Register query hooks at BGPVPNPluginDb object creation\n\nChange-Id: I2aab28f67c096bdb399ca76a2b8d27240823330e\nCloses-bug: 1685930\n'}, {'number': 2, 'created': '2017-04-25 09:42:16.000000000', 'files': ['networking_bgpvpn_tempest/tests/api/test_bgpvpn.py', 'networking_bgpvpn/neutron/db/bgpvpn_db.py'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c7211ed718f9b18e186bc66eb460b1526dba40f2', 'message': 'Register query hooks at BGPVPNPluginDb object creation\n\nThis change also modifies the expected exception raised in tempest\nwhile testing a delete of a bgpvpn by a regular tenant :\nthe Forbidden exception is now raised instead of the NotFound one.\n\nChange-Id: I2aab28f67c096bdb399ca76a2b8d27240823330e\nCloses-bug: 1685930\n'}]",0,459585,c7211ed718f9b18e186bc66eb460b1526dba40f2,8,2,2,2888,,,0,"Register query hooks at BGPVPNPluginDb object creation

This change also modifies the expected exception raised in tempest
while testing a delete of a bgpvpn by a regular tenant :
the Forbidden exception is now raised instead of the NotFound one.

Change-Id: I2aab28f67c096bdb399ca76a2b8d27240823330e
Closes-bug: 1685930
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/85/459585/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bgpvpn/neutron/db/bgpvpn_db.py'],1,ae8099eff2ece749129d09b2bf09efc9e2b0eab7,bug/1685930,"from neutron.db import _model_query as model_querydef _list_bgpvpns_result_filter_hook(query, filters): values = filters and filters.get('networks', []) if values: query = query.join(BGPVPNNetAssociation) query = query.filter(BGPVPNNetAssociation.network_id.in_(values)) values = filters and filters.get('routers', []) if values: query = query.join(BGPVPNRouterAssociation) query = query.filter(BGPVPNRouterAssociation.router_id.in_(values)) return query def __new__(cls, *args, **kwargs): model_query.register_hook( BGPVPN, ""bgpvpn_filter_by_resource_association"", query_hook=None, filter_hook=None, result_filters=_list_bgpvpns_result_filter_hook) return super(BGPVPNPluginDb, cls).__new__(cls, *args, **kwargs) "," def _list_bgpvpns_result_filter_hook(self, query, filters): values = filters and filters.get('networks', []) if values: query = query.join(BGPVPNNetAssociation) query = query.filter(BGPVPNNetAssociation.network_id.in_(values)) values = filters and filters.get('routers', []) if values: query = query.join(BGPVPNRouterAssociation) query = query.filter(BGPVPNRouterAssociation.router_id.in_(values)) return query common_db_mixin.CommonDbMixin.register_model_query_hook( BGPVPN, ""bgpvpn_filter_by_resource_association"", None, None, '_list_bgpvpns_result_filter_hook') ",24,20
openstack%2Fopenstack-manuals~master~Ic11ddb5ac780430cbc2af3e80956daaca0219827,openstack/openstack-manuals,master,Ic11ddb5ac780430cbc2af3e80956daaca0219827,Update outdated nova-conf-sample,MERGED,2017-04-24 02:45:16.000000000,2017-04-25 11:30:30.000000000,2017-04-25 11:30:30.000000000,"[{'_account_id': 3}, {'_account_id': 10607}, {'_account_id': 14947}, {'_account_id': 25340}]","[{'number': 1, 'created': '2017-04-24 02:45:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/6f29c10d21ff79de8db569fdae37cbc0a4dd50e6', 'message': 'Update outdated nova-conf-sample\n\nThe sample uses lot of deprecated options,\nupdate this with a usable one.\n\nChange-Id: Ic11ddb5ac780430cbc2af3e80956daaca0219827\n'}, {'number': 2, 'created': '2017-04-25 10:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d0ee87303c89e18a70ce097bab4f662de1d23959', 'message': 'Update outdated nova-conf-sample\n\nThe sample uses lot of deprecated options,\nupdate this with a usable one.\n\nChange-Id: Ic11ddb5ac780430cbc2af3e80956daaca0219827\n'}, {'number': 3, 'created': '2017-04-25 11:05:24.000000000', 'files': ['doc/config-reference/source/compute/nova-conf-samples.rst', 'doc/config-reference/source/compute/nova.conf'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/add2745e070d16f6d9da84106097c3e847b01b84', 'message': 'Update outdated nova-conf-sample\n\nThe sample uses lot of deprecated options,\nupdate this with a usable one.\n\nChange-Id: Ic11ddb5ac780430cbc2af3e80956daaca0219827\n'}]",0,459147,add2745e070d16f6d9da84106097c3e847b01b84,13,4,3,24013,,,0,"Update outdated nova-conf-sample

The sample uses lot of deprecated options,
update this with a usable one.

Change-Id: Ic11ddb5ac780430cbc2af3e80956daaca0219827
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/47/459147/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/config-reference/source/compute/nova-conf-samples.rst', 'doc/config-reference/source/compute/nova.conf']",2,6f29c10d21ff79de8db569fdae37cbc0a4dd50e6,,"log_dir = /var/log/kolla/nova use_forwarded_for = true state_path = /var/lib/novaapi_paste_config = /etc/nova/api-paste.ini compute_driver = libvirt.LibvirtDriver osapi_compute_listen = CONTROLLER_IP osapi_compute_listen_port = 8774 osapi_compute_workers = 5 scheduler_max_attempts = 10allow_resize_to_same_host = true # METADATA metadata_workers = 5 metadata_listen = CONTROLLER_IP metadata_listen_port = 8775use_neutron = True firewall_driver = nova.virt.firewall.NoopFirewallDriver linuxnet_interface_driver = nova.network.linux_net.LinuxOVSInterfaceDriver my_ip = CONTROLLER_IP # RABBITMQ transport_url = rabbit://openstack:RABBIT_PASSWD@CONTROLLER_IP:5672 [conductor] workers = 5[vnc] novncproxy_host = CONTROLLER_IP novncproxy_port = 6080 vncserver_listen = CONTROLLER_IP vncserver_proxyclient_address = CONTROLLER_IP novncproxy_base_url = http://CONTROLLER_IP:6080/vnc_auto.html [oslo_concurrency] lock_path = /var/lib/nova/tmpapi_servers = http://CONTROLLER_IP:9292 num_retries = 1 # NEUTRON [neutron] url = http://CONTROLLER_IP:9696 metadata_proxy_shared_secret = METADATA_SECRET_KEY service_metadata_proxy = true auth_url = http://CONTROLLER_IP:35357/v3 auth_type = password project_domain_name = default user_domain_id = default project_name = service username = neutron password = NEUTRON_PASSWORDconnection = mysql+pymysql://nova:NOVA_DATABASE_PASSWD@CONTROLLER_IP:3306/nova max_pool_size = 50 max_overflow = 1000 max_retries = -1 # API DATABASE [api_database] connection = mysql+pymysql://nova_api:NOVA_API_DATABASE_PASSWD@CONTROLLER_IP:3306/nova_api max_retries = -1 # KEYSTONE [keystone_authtoken] auth_uri = http://CONTROLLER_IP:5000 auth_url = http://CONTROLLER_IP:35357 auth_type = password project_domain_id = default user_domain_id = default project_name = service username = nova password = NOVA_PASSWORDconnection_uri = ""qemu+tcp://CONTROLLER_IP/system"" virt_type = qemu [upgrade_levels] compute = auto [oslo_messaging_notifications] driver = noop [privsep_entrypoint] helper_command = sudo nova-rootwrap /etc/nova/rootwrap.conf privsep-helper --config-file /etc/nova/nova.conf",logdir=/var/log/nova state_path=/var/lib/nova lock_path=/var/lock/nova rootwrap_config=/etc/nova/rootwrap.conf # SCHEDULER compute_scheduler_driver=nova.scheduler.filter_scheduler.FilterScheduler # VOLUMES # configured in cinder.confcompute_driver=libvirt.LibvirtDriver instance_name_template=instance-%08x api_paste_config=/etc/nova/api-paste.iniallow_resize_to_same_host=True # APIS osapi_compute_extension=nova.api.openstack.compute.contrib.standard_extensions ec2_dmz_host=192.168.206.130 s3_host=192.168.206.130 # RABBITMQ rabbit_host=192.168.206.130 # GLANCE image_service=nova.image.glance.GlanceImageServicenetwork_manager=nova.network.manager.FlatDHCPManager force_dhcp_release=True dhcpbridge_flagfile=/etc/nova/nova.conf firewall_driver=nova.virt.libvirt.firewall.IptablesFirewallDriver # Change my_ip to match each host my_ip=192.168.206.130 public_interface=eth0 vlan_interface=eth0 flat_network_bridge=br100 flat_interface=eth0novncproxy_base_url=http://192.168.206.130:6080/vnc_auto.html # Change vncserver_proxyclient_address and vncserver_listen to match each compute host vncserver_proxyclient_address=192.168.206.130 vncserver_listen=192.168.206.130 # AUTHENTICATION auth_strategy=keystone [keystone_authtoken] auth_host = 127.0.0.1 auth_port = 35357 auth_protocol = http admin_tenant_name = service admin_user = nova admin_password = nova signing_dirname = /tmp/keystone-signing-novaapi_servers=192.168.206.130:9292connection=mysql+pymysql://nova:yourpassword@192.168.206.130/novavirt_type=qemu,90,59
openstack%2Fpuppet-tripleo~master~Ib14f87800ae7657cf6176a4820248a2ce048241d,openstack/puppet-tripleo,master,Ib14f87800ae7657cf6176a4820248a2ce048241d,Add support for Redfish hardware in Ironic,MERGED,2017-04-24 12:50:04.000000000,2017-04-25 11:29:16.000000000,2017-04-25 11:29:16.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}]","[{'number': 1, 'created': '2017-04-24 12:50:04.000000000', 'files': ['releasenotes/notes/redfish-9203af1f7bf02bc5.yaml', 'manifests/profile/base/ironic/conductor.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a640e13f1b4921092f8be9cda6495d4fe7453cdb', 'message': 'Add support for Redfish hardware in Ironic\n\nPart of blueprint redfish-support\n\nDepends-On: Icd065cec7114fc026b658ede0d78be2e777c15aa\nChange-Id: Ib14f87800ae7657cf6176a4820248a2ce048241d\n'}]",0,459274,a640e13f1b4921092f8be9cda6495d4fe7453cdb,13,3,1,10239,,,0,"Add support for Redfish hardware in Ironic

Part of blueprint redfish-support

Depends-On: Icd065cec7114fc026b658ede0d78be2e777c15aa
Change-Id: Ib14f87800ae7657cf6176a4820248a2ce048241d
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/459274/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/redfish-9203af1f7bf02bc5.yaml', 'manifests/profile/base/ironic/conductor.pp']",2,a640e13f1b4921092f8be9cda6495d4fe7453cdb,bp/redfish-support, include ::ironic::drivers::redfish,,6,0
openstack%2Fkolla~master~I82fb48ac2087fa79a8ecea0f76609a20d6a3dbe4,openstack/kolla,master,I82fb48ac2087fa79a8ecea0f76609a20d6a3dbe4,Add pymongo module for creation of MongoDB via Ansible,MERGED,2017-04-14 14:45:20.000000000,2017-04-25 11:26:20.000000000,2017-04-25 11:26:20.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-04-14 14:45:20.000000000', 'files': ['docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c88386e95c87e263fdfb00a93523e50e7ea0133b', 'message': 'Add pymongo module for creation of MongoDB via Ansible\n\nChange-Id: I82fb48ac2087fa79a8ecea0f76609a20d6a3dbe4\nPartial-Bug: #1682813\n'}]",0,456914,c88386e95c87e263fdfb00a93523e50e7ea0133b,10,3,1,13671,,,0,"Add pymongo module for creation of MongoDB via Ansible

Change-Id: I82fb48ac2087fa79a8ecea0f76609a20d6a3dbe4
Partial-Bug: #1682813
",git fetch https://review.opendev.org/openstack/kolla refs/changes/14/456914/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/kolla-toolbox/Dockerfile.j2'],1,c88386e95c87e263fdfb00a93523e50e7ea0133b,bug/1682813," 'pymongo',",,1,0
openstack%2Fopenstack-ansible-pip_install~stable%2Focata~I281016d1e836705afec1579192647ed7c6a7e7cd,openstack/openstack-ansible-pip_install,stable/ocata,I281016d1e836705afec1579192647ed7c6a7e7cd,Optimise apt cache update task,MERGED,2017-04-24 09:29:54.000000000,2017-04-25 11:25:25.000000000,2017-04-25 11:25:25.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-24 09:29:54.000000000', 'files': ['tasks/pre_install_apt.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/7735806bf544330c22d3106f72fcccab0ba12791', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: I281016d1e836705afec1579192647ed7c6a7e7cd\n(cherry picked from commit 508ed6aaa24ed15f9e967b39c6d1c5539611be7f)\n""}]",0,459214,7735806bf544330c22d3106f72fcccab0ba12791,7,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: I281016d1e836705afec1579192647ed7c6a7e7cd
(cherry picked from commit 508ed6aaa24ed15f9e967b39c6d1c5539611be7f)
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/14/459214/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/pre_install_apt.yml', 'meta/main.yml']",2,7735806bf544330c22d3106f72fcccab0ba12791,use_package_module, description: Installation and setup of pip min_ansible_version: 2.2, description: Installation and setup of HAProxy min_ansible_version: 1.6.6,4,7
openstack%2Fopenstack-ansible-rsyslog_client~stable%2Focata~I171c4d7d6e051b69106156df797ea96d6184014a,openstack/openstack-ansible-rsyslog_client,stable/ocata,I171c4d7d6e051b69106156df797ea96d6184014a,Optimise apt cache update task,MERGED,2017-04-24 09:29:31.000000000,2017-04-25 11:25:02.000000000,2017-04-25 11:25:01.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-24 09:29:31.000000000', 'files': ['tasks/rsyslog_client_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/5f5275720d13bd22945348751131c39877b731ab', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: I171c4d7d6e051b69106156df797ea96d6184014a\n(cherry picked from commit 7cfea8b6b51fe70cc2833d17793ebcbc0f1f87b8)\n""}]",0,459212,5f5275720d13bd22945348751131c39877b731ab,7,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: I171c4d7d6e051b69106156df797ea96d6184014a
(cherry picked from commit 7cfea8b6b51fe70cc2833d17793ebcbc0f1f87b8)
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/12/459212/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/rsyslog_client_install.yml', 'meta/main.yml']",2,5f5275720d13bd22945348751131c39877b731ab,use_package_module, min_ansible_version: 2.2, min_ansible_version: 1.6.6,3,8
openstack%2Freleases~master~Ic6bc3ef87455b558350c37095ada5041eb72b4d2,openstack/releases,master,Ic6bc3ef87455b558350c37095ada5041eb72b4d2,oslo.middleware Newton and Mitaka bugfix releases,MERGED,2017-04-16 08:25:47.000000000,2017-04-25 11:16:03.000000000,2017-04-25 11:16:03.000000000,"[{'_account_id': 3}, {'_account_id': 1297}, {'_account_id': 1955}, {'_account_id': 2472}, {'_account_id': 6537}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-04-16 08:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/2c11ee5d5aac75bd36879b05d69330d4cf142715', 'message': 'oslo.middleware Newton and Mitaka bugfix releases\n\nBugfix releases for OSSA-2017-001\nhttps://bugs.launchpad.net/oslo.middleware/+bug/1628031\n\nChange-Id: Ic6bc3ef87455b558350c37095ada5041eb72b4d2\n'}, {'number': 2, 'created': '2017-04-19 16:12:54.000000000', 'files': ['deliverables/mitaka/oslo.middleware.yaml', 'deliverables/newton/oslo.middleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/343da84b5f8f03e8a64a97f72b153504444bb48f', 'message': 'oslo.middleware Newton and Mitaka bugfix releases\n\nBugfix releases for OSSA-2017-001\nhttps://bugs.launchpad.net/oslo.middleware/+bug/1628031\n\nChange-Id: Ic6bc3ef87455b558350c37095ada5041eb72b4d2\n'}]",1,457053,343da84b5f8f03e8a64a97f72b153504444bb48f,12,6,2,1955,,,0,"oslo.middleware Newton and Mitaka bugfix releases

Bugfix releases for OSSA-2017-001
https://bugs.launchpad.net/oslo.middleware/+bug/1628031

Change-Id: Ic6bc3ef87455b558350c37095ada5041eb72b4d2
",git fetch https://review.opendev.org/openstack/releases refs/changes/53/457053/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/mitaka/oslo.middleware.yaml', 'deliverables/newton/oslo.middleware.yaml']",2,2c11ee5d5aac75bd36879b05d69330d4cf142715,OSSA-2017-001, - version: 3.19.1 projects: - repo: openstack/oslo.middleware hash: 6c0f50c1f5f4122b31dbfe25aacdce596bf4b648,,8,0
openstack%2Fpuppet-sahara~stable%2Focata~Ied160d51efcd62b3cb718ce458f2b0200a9dfe46,openstack/puppet-sahara,stable/ocata,Ied160d51efcd62b3cb718ce458f2b0200a9dfe46,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:45:00.000000000,2017-04-25 11:12:05.000000000,2017-04-25 07:59:54.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:45:00.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/2977c033cf55b91bd0c707182a925c54039053c6', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: Ied160d51efcd62b3cb718ce458f2b0200a9dfe46\n'}]",0,459375,2977c033cf55b91bd0c707182a925c54039053c6,14,4,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: Ied160d51efcd62b3cb718ce458f2b0200a9dfe46
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/75/459375/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,2977c033cf55b91bd0c707182a925c54039053c6,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpuppet-ironic~stable%2Focata~I6e28705c20a294e7ee3ba6b49ba8739305ae8ef5,openstack/puppet-ironic,stable/ocata,I6e28705c20a294e7ee3ba6b49ba8739305ae8ef5,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:42:40.000000000,2017-04-25 11:10:23.000000000,2017-04-25 03:27:22.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:42:40.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/d6cb05cdd6181bcdc499180592453b5f57f6aecb', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I6e28705c20a294e7ee3ba6b49ba8739305ae8ef5\n'}]",0,459361,d6cb05cdd6181bcdc499180592453b5f57f6aecb,16,6,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I6e28705c20a294e7ee3ba6b49ba8739305ae8ef5
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/61/459361/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,d6cb05cdd6181bcdc499180592453b5f57f6aecb,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fopenstack-ansible-pip_install~stable%2Focata~Ib0ce83266e933c926f29f855e8b1de38b3e83dac,openstack/openstack-ansible-pip_install,stable/ocata,Ib0ce83266e933c926f29f855e8b1de38b3e83dac,CentOS make sure epel is enabled.,MERGED,2017-04-24 19:40:04.000000000,2017-04-25 11:09:09.000000000,2017-04-25 11:09:09.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-24 19:40:04.000000000', 'files': ['tasks/pre_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/0c98bf739d8afb0485640e609ee436d0d3243d2c', 'message': 'CentOS make sure epel is enabled.\n\nManual backport\n(cherry picked from commit 0aac13037360b187de78045789d891ad3e289002)\n\nChange-Id: Ib0ce83266e933c926f29f855e8b1de38b3e83dac\n'}]",0,459435,0c98bf739d8afb0485640e609ee436d0d3243d2c,7,3,1,13095,,,0,"CentOS make sure epel is enabled.

Manual backport
(cherry picked from commit 0aac13037360b187de78045789d891ad3e289002)

Change-Id: Ib0ce83266e933c926f29f855e8b1de38b3e83dac
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/35/459435/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/pre_install_yum.yml'],1,0c98bf739d8afb0485640e609ee436d0d3243d2c,, --enable epel,,1,0
openstack%2Fopenstack-ansible-pip_install~master~I0c185ad9d2a69f5625309d77a30536d2d373b2b5,openstack/openstack-ansible-pip_install,master,I0c185ad9d2a69f5625309d77a30536d2d373b2b5,Pass list for package install,MERGED,2017-04-21 19:07:26.000000000,2017-04-25 11:08:02.000000000,2017-04-25 11:08:02.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-21 19:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/5a1216eb474b0d46b5aef7d009b1e2301e34ff64', 'message': 'Pass list for package install\n\nAnsible 2.x allows for packages to be passed as a list directly to\nthe `name` argument. This patch moves the EPEL packages into a list\nand converts all package install tasks to pass a list directly\nrather than looping over a list with with_items.\n\nThis should speed things up a bit. ;)\n\nChange-Id: I0c185ad9d2a69f5625309d77a30536d2d373b2b5\n'}, {'number': 2, 'created': '2017-04-24 12:44:14.000000000', 'files': ['tasks/pre_install.yml', 'vars/redhat-7.yml', 'tasks/pre_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/1a9f2124efae07c5127749cd8bb32b45245b086c', 'message': 'Pass list for package install\n\nAnsible 2.x allows for packages to be passed as a list directly to\nthe `name` argument. This patch moves the EPEL packages into a list\nand converts all package install tasks to pass a list directly\nrather than looping over a list with with_items.\n\nThis should speed things up a bit. ;)\n\nChange-Id: I0c185ad9d2a69f5625309d77a30536d2d373b2b5\n'}]",2,458943,1a9f2124efae07c5127749cd8bb32b45245b086c,16,4,2,538,,,0,"Pass list for package install

Ansible 2.x allows for packages to be passed as a list directly to
the `name` argument. This patch moves the EPEL packages into a list
and converts all package install tasks to pass a list directly
rather than looping over a list with with_items.

This should speed things up a bit. ;)

Change-Id: I0c185ad9d2a69f5625309d77a30536d2d373b2b5
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/43/458943/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/pre_install.yml', 'vars/redhat-7.yml', 'tasks/pre_install_yum.yml']",3,5a1216eb474b0d46b5aef7d009b1e2301e34ff64,pass-list-for-package-install," name: ""{{ pip_epel_prep_packages }}"""," name: ""{{ item }}"" with_items: - epel-release - yum-plugin-priorities - yum-utils",8,9
openstack%2Fpuppet-neutron~stable%2Focata~I4b689352243955b73ba6d4c18162ae5401d4f86e,openstack/puppet-neutron,stable/ocata,I4b689352243955b73ba6d4c18162ae5401d4f86e,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:43:33.000000000,2017-04-25 10:46:33.000000000,2017-04-25 06:14:07.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:43:33.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5c58d0ede2422829928bceba9ef1190195b65e3a', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I4b689352243955b73ba6d4c18162ae5401d4f86e\n'}]",0,459366,5c58d0ede2422829928bceba9ef1190195b65e3a,14,4,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I4b689352243955b73ba6d4c18162ae5401d4f86e
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/66/459366/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,5c58d0ede2422829928bceba9ef1190195b65e3a,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Frally~master~Ib0f8557d710bccdb162cb30807d95adf4fae47e1,openstack/rally,master,Ib0f8557d710bccdb162cb30807d95adf4fae47e1,[db] Add lazy-migration for atomics,MERGED,2017-04-20 15:45:27.000000000,2017-04-25 10:46:09.000000000,2017-04-25 10:46:09.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 21528}]","[{'number': 1, 'created': '2017-04-20 15:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/77727d7012bcb84bcf44bfb96b305e5e2a187043', 'message': '[wip] Add lazy-migration for atomics\n\nChange-Id: Ib0f8557d710bccdb162cb30807d95adf4fae47e1\n'}, {'number': 2, 'created': '2017-04-20 15:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4abb6e16519d56ec62c3be1d40b43b3cea0b9381', 'message': '[wip] Add lazy-migration for atomics\n\nCo-Authored-By: chenhb-zte <chen.haibing1@zte.com.cn>\n\nChange-Id: Ib0f8557d710bccdb162cb30807d95adf4fae47e1\n'}, {'number': 3, 'created': '2017-04-21 11:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/ef3a247f3077d792c0384a9184bc6c9b11b47810', 'message': '[wip] Add lazy-migration for atomics\n\nCo-Authored-By: chenhb-zte <chen.haibing1@zte.com.cn>\n\nChange-Id: Ib0f8557d710bccdb162cb30807d95adf4fae47e1\n'}, {'number': 4, 'created': '2017-04-22 09:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/874aafe4ff58c9ae142cfc973c6edff89a23a67f', 'message': '[wip] Add lazy-migration for atomics\n\nCo-Authored-By: chenhb-zte <chen.haibing1@zte.com.cn>\n\nChange-Id: Ib0f8557d710bccdb162cb30807d95adf4fae47e1\n'}, {'number': 5, 'created': '2017-04-24 20:31:08.000000000', 'files': ['tests/unit/common/db/test_api.py', 'rally/common/db/sqlalchemy/models.py', 'rally/common/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/bc8386e351dc952b246bc5c2d15f345765276f4d', 'message': ""[db] Add lazy-migration for atomics\n\nThe new format of atomics was introduced recently. It requires a db\nmigration for old task results. Such migration can take too much time\nfor real database, that is why this patch adds live-migration of\nresults. It doesn't port all results at once, the results will be ported\nwhile accessing them.\n\nCo-Authored-By: chenhb-zte <chen.haibing1@zte.com.cn>\n\nChange-Id: Ib0f8557d710bccdb162cb30807d95adf4fae47e1\n""}]",1,458561,bc8386e351dc952b246bc5c2d15f345765276f4d,20,4,5,9545,,,0,"[db] Add lazy-migration for atomics

The new format of atomics was introduced recently. It requires a db
migration for old task results. Such migration can take too much time
for real database, that is why this patch adds live-migration of
results. It doesn't port all results at once, the results will be ported
while accessing them.

Co-Authored-By: chenhb-zte <chen.haibing1@zte.com.cn>

Change-Id: Ib0f8557d710bccdb162cb30807d95adf4fae47e1
",git fetch https://review.opendev.org/openstack/rally refs/changes/61/458561/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/common/db/sqlalchemy/api.py'],1,77727d7012bcb84bcf44bfb96b305e5e2a187043,atomics," session = get_session() with session.begin(): data = (self.model_query(models.WorkloadData, session=session). filter_by(workload_uuid=workload_uuid). order_by(models.WorkloadData.chunk_order.asc())) if data and isinstance(data[0].chunk_data[""raw""][""atomic_actions""], dict): # NOTE(andreykurilin): It is an old format of atomic actions. # We do not have migration yet, since it can take too much # time on the big databases. Let's lazy-migrate results which # user greps and force a migration after several releases. for workload in data: chunk_data = workload.chunk_data result = chunk_data[""raw""] new_atomic_actions = [] started_at = result[""timestamp""] for action, duration in result[""atomic_actions""].items(): finished_at = started_at + duration new_atomic_actions.append({""name"": action, ""started_at"": started_at, ""finished_at"": finished_at, ""children"": []}) started_at = finished_at result[""atomic_actions""] = new_atomic_actions workload.update({""chunk_data"": result}) workload.save() data = (self.model_query(models.WorkloadData, session=session). filter_by(workload_uuid=workload_uuid). order_by(models.WorkloadData.chunk_order.asc())) return data", return (self.model_query(models.WorkloadData). filter_by(workload_uuid=workload_uuid). order_by(models.WorkloadData.chunk_order.asc())),32,3
openstack%2Frally~master~I087e9abb1d2b2dbe46f2c4f0bace6273e9234e23,openstack/rally,master,I087e9abb1d2b2dbe46f2c4f0bace6273e9234e23,[API] Abandon usage of classmethods & staticmethods in API,MERGED,2017-04-16 10:03:30.000000000,2017-04-25 10:46:02.000000000,2017-04-25 10:46:02.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 22960}]","[{'number': 1, 'created': '2017-04-16 10:03:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/5ea0e521c06ef80fbdd2b720d9d610dcbeb30f57', 'message': '[WIP][API] Remove the DeprecatedAPIClass\n\nChange-Id: I087e9abb1d2b2dbe46f2c4f0bace6273e9234e23\n'}, {'number': 2, 'created': '2017-04-17 01:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/74b3e1baf25c1db1083fcc19bd29626e579ef188', 'message': '[WIP][API] Abandon usage of classmethods in API\n\nChange-Id: I087e9abb1d2b2dbe46f2c4f0bace6273e9234e23\n'}, {'number': 3, 'created': '2017-04-18 16:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/67e5e209186d3218fa194810099d2eead195ccde', 'message': '[WIP][API] Abandon usage of classmethods in API\n\nChange-Id: I087e9abb1d2b2dbe46f2c4f0bace6273e9234e23\n'}, {'number': 4, 'created': '2017-04-18 17:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/a818b2fecc25279b6f19e2786192ef89c7b4f870', 'message': ""[API] Abandon usage of classmethods & staticmethods in API\n\nBased on raas, api can not vist DB directily, so we need\nport all classmethods and static methods to objects' methods.\n\nChange-Id: I087e9abb1d2b2dbe46f2c4f0bace6273e9234e23\n""}, {'number': 5, 'created': '2017-04-24 04:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/9c02d02038f88724c9cd2cbc2fc411a1ffb05dbd', 'message': ""[API] Abandon usage of classmethods & staticmethods in API\n\nBased on raas, api can not vist DB directily, so we need\nport all classmethods and static methods to objects' methods.\n\nChange-Id: I087e9abb1d2b2dbe46f2c4f0bace6273e9234e23\n""}, {'number': 6, 'created': '2017-04-24 16:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/b6e019fa54947a8d0cc9fed156bf7ba9db075a21', 'message': ""[API] Abandon usage of classmethods & staticmethods in API\n\nBased on raas, api can not vist DB directily, so we need\nport all classmethods and static methods to objects' methods.\n\nChange-Id: I087e9abb1d2b2dbe46f2c4f0bace6273e9234e23\n""}, {'number': 7, 'created': '2017-04-25 01:10:51.000000000', 'files': ['rally/api.py', 'tests/unit/test_api.py', 'rally/plugins/common/exporter/file_system.py', 'tests/unit/plugins/common/exporter/test_file_system.py', 'tests/unit/rally_jobs/test_jobs.py', 'tests/unit/doc/test_task_samples.py', 'tests/functional/test_task_samples.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/455fb9ce52ded041c27300a04b0882752e856f00', 'message': ""[API] Abandon usage of classmethods & staticmethods in API\n\nBased on raas, api can not vist DB directily, so we need\nport all classmethods and static methods to objects' methods.\n\nChange-Id: I087e9abb1d2b2dbe46f2c4f0bace6273e9234e23\n""}]",11,457063,455fb9ce52ded041c27300a04b0882752e856f00,32,4,7,22960,,,0,"[API] Abandon usage of classmethods & staticmethods in API

Based on raas, api can not vist DB directily, so we need
port all classmethods and static methods to objects' methods.

Change-Id: I087e9abb1d2b2dbe46f2c4f0bace6273e9234e23
",git fetch https://review.opendev.org/openstack/rally refs/changes/63/457063/5 && git format-patch -1 --stdout FETCH_HEAD,"['rally/api.py', 'tests/unit/test_api.py', 'tests/unit/doc/test_task_samples.py']",3,5ea0e521c06ef80fbdd2b720d9d610dcbeb30f57,api, task_inst = api._Task(api.API()) json_config = yaml.safe_load( task_inst.render_template(json_file.read())) with open(yaml_path) as yaml_file: yaml_config = yaml.safe_load(task_inst.render_template, json_config = yaml.safe_load(api._Task.render_template (json_file.read())) with open(yaml_path) as yaml_file: yaml_config = yaml.safe_load(api._Task.render_template,278,228
openstack%2Fhorizon~master~I51ae06363f974ca8e31e9af152ae500de54aa3ed,openstack/horizon,master,I51ae06363f974ca8e31e9af152ae500de54aa3ed,Update keypair import url,MERGED,2017-04-12 01:35:38.000000000,2017-04-25 10:41:15.000000000,2017-04-25 10:41:15.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 11885}, {'_account_id': 16628}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-04-12 01:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/397a7bb920898751cef6765af1491538d8a8b4fb', 'message': ""Update keypair import url\n\nUpdate KEYPAIR_IMPORT_URL from\n'horizon:project:key_pairs:keypairs:import'\nto\n'horizon:project:key_pairs:import'\n\nChange-Id: I51ae06363f974ca8e31e9af152ae500de54aa3ed\n""}, {'number': 2, 'created': '2017-04-25 09:08:20.000000000', 'files': ['openstack_dashboard/dashboards/project/instances/workflows/create_instance.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/a1de2b544700a7250dcbea4f38f7e917461b90e5', 'message': 'Update keypair import url\n\nSince this bp reorganise-access-and-security,\nmove access_and_security to separate panel,\nthere are some places url need to change too.\n\nPartial-Bug: #1679895\n\nChange-Id: I51ae06363f974ca8e31e9af152ae500de54aa3ed\n'}]",0,455863,a1de2b544700a7250dcbea4f38f7e917461b90e5,12,5,2,14107,,,0,"Update keypair import url

Since this bp reorganise-access-and-security,
move access_and_security to separate panel,
there are some places url need to change too.

Partial-Bug: #1679895

Change-Id: I51ae06363f974ca8e31e9af152ae500de54aa3ed
",git fetch https://review.opendev.org/openstack/horizon refs/changes/63/455863/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/workflows/create_instance.py'],1,397a7bb920898751cef6765af1491538d8a8b4fb,,"KEYPAIR_IMPORT_URL = ""horizon:project:key_pairs:import""","KEYPAIR_IMPORT_URL = ""horizon:project:key_pairs:keypairs:import""",1,1
openstack%2Frally~master~I90aa6066c3539603e22e8898996d47bb39d3e917,openstack/rally,master,I90aa6066c3539603e22e8898996d47bb39d3e917,Unify QoSSpecs returned data,MERGED,2017-04-24 03:58:34.000000000,2017-04-25 10:37:43.000000000,2017-04-25 10:37:43.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-04-24 03:58:34.000000000', 'files': ['rally/plugins/openstack/services/storage/cinder_common.py', 'rally/plugins/openstack/services/storage/block.py', 'tests/unit/plugins/openstack/services/storage/test_cinder_common.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/5766d33d98a60e17fe284296ef6920b7bc70bf89', 'message': 'Unify QoSSpecs returned data\n\nAs far as possible, we need to return the unified data, and do not\ncontain those methods of returned class, ensure that is only interface\nwhich is provided by service class.\n\nChange-Id: I90aa6066c3539603e22e8898996d47bb39d3e917\n'}]",0,459158,5766d33d98a60e17fe284296ef6920b7bc70bf89,13,3,1,21528,,,0,"Unify QoSSpecs returned data

As far as possible, we need to return the unified data, and do not
contain those methods of returned class, ensure that is only interface
which is provided by service class.

Change-Id: I90aa6066c3539603e22e8898996d47bb39d3e917
",git fetch https://review.opendev.org/openstack/rally refs/changes/58/459158/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/plugins/openstack/services/storage/cinder_common.py', 'rally/plugins/openstack/services/storage/block.py', 'tests/unit/plugins/openstack/services/storage/test_cinder_common.py']",3,5766d33d98a60e17fe284296ef6920b7bc70bf89,qos," def test__unify_qos(self): class Qos(object): id = 1 name = ""transfer"" qos = self.service._unify_qos(Qos()) self.assertEqual(1, qos.id) self.assertEqual(""transfer"", qos.name) self.service._unify_qos = mock.MagicMock() self.service._unify_qos.return_value, self.service._unify_qos.assert_called_once_with( self.service._impl.create_qos.return_value ) self.service._unify_qos = mock.MagicMock() self.service._impl.list_qos.return_value = [""qos""] [self.service._unify_qos.return_value], self.service._unify_qos.assert_called_once_with(""qos"") self.service._unify_qos = mock.MagicMock() self.service._unify_qos.return_value, self.service._unify_qos.assert_called_once_with( self.service._impl.get_qos.return_value )"," self.service._impl.create_qos.return_value, self.service._impl.list_qos.return_value, self.service._impl.get_qos.return_value,",31,6
openstack%2Ftripleo-ui~stable%2Focata~Ic6d07c29aa1902c1049aeb908bf2d34290613d8c,openstack/tripleo-ui,stable/ocata,Ic6d07c29aa1902c1049aeb908bf2d34290613d8c,Imported Translations from Zanata,MERGED,2017-04-25 08:35:24.000000000,2017-04-25 10:32:34.000000000,2017-04-25 10:32:34.000000000,"[{'_account_id': 3}, {'_account_id': 4978}]","[{'number': 1, 'created': '2017-04-25 08:35:24.000000000', 'files': ['i18n/locales/es.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/4036cf04a00fa41cf5a3aba6ec4ebfda7752296a', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ic6d07c29aa1902c1049aeb908bf2d34290613d8c\n'}]",0,459582,4036cf04a00fa41cf5a3aba6ec4ebfda7752296a,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Ic6d07c29aa1902c1049aeb908bf2d34290613d8c
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/82/459582/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/es.json'],1,4036cf04a00fa41cf5a3aba6ec4ebfda7752296a,zanata/translations," ""DeploymentPlan.hardwareStepTooltip"": ""Este paso registra e introspecciona los nodos. El registro est\u00e1 relacionado a definir la configuraci\u00f3n de energ\u00eda de cada nodo tal que puedan ser controlados durante la introspecci\u00f3n. Luego del registro los nodos son introspeccionados, lo que significa que el hardware de los nodos es identificado y se construye un perfil para cada uno. Luego del registro e introspecci\u00f3n, se pueden asignar estos nodos a roles espec\u00edficos en la Overcloud."",",,1,0
openstack%2Ftempest~master~I0ed9102bd9d535b40467e9bf4600a291bfca0fc2,openstack/tempest,master,I0ed9102bd9d535b40467e9bf4600a291bfca0fc2,Use base.create_domain to create domain in testcases,MERGED,2017-04-24 08:59:40.000000000,2017-04-25 10:19:55.000000000,2017-04-25 10:19:55.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 7350}]","[{'number': 1, 'created': '2017-04-24 08:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe625c04119a138a7d3d66d8b77104e769894c9d', 'message': 'Use base.create_domain to create domain in testcases\n\nThis is to add **kwargs in base.create_domain, in order that\nit can be more widely used in testcases, so to make code clean.\n\nChange-Id: I0ed9102bd9d535b40467e9bf4600a291bfca0fc2\n'}, {'number': 2, 'created': '2017-04-24 09:02:09.000000000', 'files': ['tempest/api/identity/admin/v3/test_domains_negative.py', 'tempest/api/identity/admin/v3/test_roles.py', 'tempest/api/identity/admin/v3/test_inherits.py', 'tempest/api/identity/admin/v3/test_domains.py', 'tempest/api/identity/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b33c1a1c95b22f5e332ae335e244d009489927a', 'message': 'Use base.create_domain to create domain in testcases\n\nThis is to add **kwargs in base.create_domain, in order that\nit can be more widely used in testcases, so to make code clean.\n\nChange-Id: I0ed9102bd9d535b40467e9bf4600a291bfca0fc2\n'}]",0,459198,2b33c1a1c95b22f5e332ae335e244d009489927a,12,3,2,20190,,,0,"Use base.create_domain to create domain in testcases

This is to add **kwargs in base.create_domain, in order that
it can be more widely used in testcases, so to make code clean.

Change-Id: I0ed9102bd9d535b40467e9bf4600a291bfca0fc2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/459198/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/identity/admin/v3/test_domains_negative.py', 'tempest/api/identity/admin/v3/test_roles.py', 'tempest/api/identity/admin/v3/test_inherits.py', 'tempest/api/identity/admin/v3/test_domains.py', 'tempest/api/identity/base.py']",5,fe625c04119a138a7d3d66d8b77104e769894c9d,create_domain," def create_domain(cls, **kwargs): if 'name' not in kwargs: kwargs['name'] = data_utils.rand_name('test_domain') if 'description' not in kwargs: kwargs['description'] = data_utils.rand_name('desc') domain = cls.domains_client.create_domain(**kwargs)['domain']"," def create_domain(cls): domain = cls.domains_client.create_domain( name=data_utils.rand_name('test_domain'), description=data_utils.rand_name('desc'))['domain']",11,19
openstack%2Ftempest~master~I2cbae9775d54da40cc6af8a247a8113dde2a5579,openstack/tempest,master,I2cbae9775d54da40cc6af8a247a8113dde2a5579,Use image native api in volume tests,MERGED,2017-04-14 08:02:09.000000000,2017-04-25 10:12:35.000000000,2017-04-25 10:12:35.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 23081}]","[{'number': 1, 'created': '2017-04-14 08:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5e15d4609d567e746afc8d195c3421e9eef08a64', 'message': 'WIP: Substitute compute_image_client with images_client in volume tests\n\nChange-Id: I2cbae9775d54da40cc6af8a247a8113dde2a5579\n'}, {'number': 2, 'created': '2017-04-14 14:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a65b15239f094e8533ad856a497d16e4f5394b74', 'message': 'Substitute compute_image_client with images_client in volume tests\n\nImage APIs in compute has been deprecated, just like volume extension\n(os-volumes, os-snapshots), networks(os-networks), etc. Image native APIs\nis recommended. This patch just substitue the compute_image_client with\nimages_client in volume tests.\n\nChange-Id: I2cbae9775d54da40cc6af8a247a8113dde2a5579\n'}, {'number': 3, 'created': '2017-04-21 04:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e8b07ebe9c61e3556449d6830e361b4223a8ac18', 'message': 'Use image native api in volume tests\n\nImage APIs in compute has been deprecated, just like volume extension\n(os-volumes, os-snapshots), networks(os-networks), etc. Image native APIs\nare recommended. And Glance V1 APIs are deprecated and v2 are current.\nThis patch substitue the old compute_image_client and remove Glance v1\nAPIs in volume tests, just use Glance v2 APIs.\n\nChange-Id: I2cbae9775d54da40cc6af8a247a8113dde2a5579\n'}, {'number': 4, 'created': '2017-04-21 09:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6977dd83b00a7d8411498d62ff4560943896eab9', 'message': 'Use image native api in volume tests\n\nImage APIs in compute has been deprecated, just like volume extension\n(os-volumes, os-snapshots), networks(os-networks), etc. Image native APIs\nare recommended. And Glance V1 APIs are deprecated and v2 are current.\nThis patch substitue the old compute_image_client and remove Glance v1\nAPIs in volume tests, just use Glance v2 APIs.\n\nChange-Id: I2cbae9775d54da40cc6af8a247a8113dde2a5579\n'}, {'number': 5, 'created': '2017-04-24 02:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca0767711427c5f40774948b48c8fda57705929c', 'message': 'Use image native api in volume tests\n\nImage APIs in compute has been deprecated, just like volume extension\n(os-volumes, os-snapshots), networks(os-networks), etc. Image native APIs\nare recommended. And Glance V1 APIs are deprecated and v2 are current.\nThis patch substitue the old compute_image_client and remove Glance v1\nAPIs in volume tests, just use Glance v2 APIs.\n\nChange-Id: I2cbae9775d54da40cc6af8a247a8113dde2a5579\n'}, {'number': 6, 'created': '2017-04-24 07:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/719a804513bd4707c6978faceff176e7dec50d73', 'message': 'Use image native api in volume tests\n\nImage APIs in compute has been deprecated, just like volume extension\n(os-volumes, os-snapshots), networks(os-networks), etc. Image native APIs\nare recommended. And Glance V1 APIs are deprecated and v2 are current.\nThis patch substitue the old compute_image_client and remove Glance v1\nAPIs in volume tests, just use Glance v2 APIs.\n\nChange-Id: I2cbae9775d54da40cc6af8a247a8113dde2a5579\n'}, {'number': 7, 'created': '2017-04-25 00:51:35.000000000', 'files': ['releasenotes/notes/deprecate-compute-images-client-in-volume-tests-92b6dd55fcaba620.yaml', 'tempest/api/volume/base.py', 'tempest/api/volume/test_volumes_actions.py', 'tempest/api/volume/test_volumes_get.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cb0dd583a0fa099011a207e1db9b9ee2ca005e68', 'message': 'Use image native api in volume tests\n\nImage APIs in compute has been deprecated, just like volume extension\n(os-volumes, os-snapshots), networks(os-networks), etc. Image native APIs\nare recommended. And Glance V1 APIs are deprecated and v2 are current.\nThis patch substitue the old compute_image_client and remove Glance v1\nAPIs in volume tests, just use Glance v2 APIs.\n\nChange-Id: I2cbae9775d54da40cc6af8a247a8113dde2a5579\n'}]",4,456848,cb0dd583a0fa099011a207e1db9b9ee2ca005e68,46,6,7,23081,,,0,"Use image native api in volume tests

Image APIs in compute has been deprecated, just like volume extension
(os-volumes, os-snapshots), networks(os-networks), etc. Image native APIs
are recommended. And Glance V1 APIs are deprecated and v2 are current.
This patch substitue the old compute_image_client and remove Glance v1
APIs in volume tests, just use Glance v2 APIs.

Change-Id: I2cbae9775d54da40cc6af8a247a8113dde2a5579
",git fetch https://review.opendev.org/openstack/tempest refs/changes/48/456848/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/base.py', 'tempest/api/volume/test_volumes_get.py']",2,5e15d4609d567e746afc8d195c3421e9eef08a64,use_image_client, image = self.images_client.show_image(CONF.compute.image_ref) min_disk = image['min_disk'], image = self.compute_images_client.show_image( CONF.compute.image_ref)['image'] min_disk = image.get('minDisk'),5,8
openstack%2Fswift~master~I892725b50a9b83e1dd87e40165df7a70804d2a99,openstack/swift,master,I892725b50a9b83e1dd87e40165df7a70804d2a99,Add 'rm -f .testrepository/times.dbm' command in testenv,NEW,2017-04-25 08:12:04.000000000,2017-04-25 10:10:39.000000000,,"[{'_account_id': 3}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-04-25 08:12:04.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/swift/commit/24768c88adfdf834593153d4666792694a36cef1', 'message': ""Add 'rm -f .testrepository/times.dbm' command in testenv\n\nRunning py2* post py3* tests results in error. Add\n'rm -f .testrepository/times.dbm' command in testenv to\nresolve this.\n\nChange-Id: I892725b50a9b83e1dd87e40165df7a70804d2a99\n""}]",0,459575,24768c88adfdf834593153d4666792694a36cef1,3,2,1,20401,,,0,"Add 'rm -f .testrepository/times.dbm' command in testenv

Running py2* post py3* tests results in error. Add
'rm -f .testrepository/times.dbm' command in testenv to
resolve this.

Change-Id: I892725b50a9b83e1dd87e40165df7a70804d2a99
",git fetch https://review.opendev.org/openstack/swift refs/changes/75/459575/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,24768c88adfdf834593153d4666792694a36cef1,test_env,"commands = rm -f .testrepository/times.dbm find . -type f -name ""*.py[c|o]"" -delete","commands = find . -type f -name ""*.py[c|o]"" -delete",2,1
openstack%2Fmanila~master~I770756e0a36c5b61386878164b651fadf9730b7f,openstack/manila,master,I770756e0a36c5b61386878164b651fadf9730b7f,GPFS CES: Fix bugs related to access rules not found,MERGED,2016-12-15 00:28:18.000000000,2017-04-25 10:10:20.000000000,2016-12-20 11:00:36.000000000,"[{'_account_id': 3}, {'_account_id': 7689}, {'_account_id': 8871}, {'_account_id': 9003}, {'_account_id': 9207}, {'_account_id': 10621}, {'_account_id': 11047}, {'_account_id': 13998}, {'_account_id': 14567}, {'_account_id': 15942}, {'_account_id': 16203}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 19900}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22450}]","[{'number': 1, 'created': '2016-12-15 00:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e6b91df7d9c66374b66cf6b8b48306ba3f62fc00', 'message': 'GPFS CES: Fix bugs related to access rules not found\n\nSeveral bugs are caused by an error code and\nexception raised when a path has no NFS exports.\nUse the machine-readable mmnfs export list command\n(the -Y option) which does not cause an exception\nwhen checking for exports.\n\nCo-Authored-By: digvijay2016 <digvijay.ukirde@in.ibm.com>\n\nChange-Id: I770756e0a36c5b61386878164b651fadf9730b7f\nCloses-Bug: #1650043\nCloses-Bug: #1650044\nCloses-Bug: #1650045\n'}, {'number': 2, 'created': '2016-12-16 19:23:17.000000000', 'files': ['manila/share/drivers/ibm/gpfs.py', 'releasenotes/notes/bug-1650043-gpfs-access-bugs-8c10f26ff1f795f4.yaml', 'manila/tests/share/drivers/ibm/test_gpfs.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5e7323cd1f53f7f7096bcd32e84c36cc4858097a', 'message': 'GPFS CES: Fix bugs related to access rules not found\n\nSeveral bugs are caused by an error code and\nexception raised when a path has no NFS exports.\nUse the machine-readable mmnfs export list command\n(the -Y option) which does not cause an exception\nwhen checking for exports.\n\nCo-Authored-By: digvijay2016 <digvijay.ukirde@in.ibm.com>\n\nChange-Id: I770756e0a36c5b61386878164b651fadf9730b7f\nCloses-Bug: #1650043\nCloses-Bug: #1650044\nCloses-Bug: #1650045\n'}]",9,411010,5e7323cd1f53f7f7096bcd32e84c36cc4858097a,44,17,2,11047,,,0,"GPFS CES: Fix bugs related to access rules not found

Several bugs are caused by an error code and
exception raised when a path has no NFS exports.
Use the machine-readable mmnfs export list command
(the -Y option) which does not cause an exception
when checking for exports.

Co-Authored-By: digvijay2016 <digvijay.ukirde@in.ibm.com>

Change-Id: I770756e0a36c5b61386878164b651fadf9730b7f
Closes-Bug: #1650043
Closes-Bug: #1650044
Closes-Bug: #1650045
",git fetch https://review.opendev.org/openstack/manila refs/changes/10/411010/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/ibm/gpfs.py', 'releasenotes/notes/bug-1650043-gpfs-access-bugs-8c10f26ff1f795f4.yaml', 'manila/tests/share/drivers/ibm/test_gpfs.py']",3,e6b91df7d9c66374b66cf6b8b48306ba3f62fc00,bug/1650043," self.fake_ces_exports = """""" mmcesnfslsexport:nfsexports:HEADER:version:reserved:reserved:Path:Delegations:Clients:Access_Type:Protocols:Transports:Squash:Anonymous_uid:Anonymous_gid:SecType:PrivilegedPort:DefaultDelegations:Manage_Gids:NFS_Commit: mmcesnfslsexport:nfsexports:0:1:::/gpfs0/share-fakeid:none:44.3.2.11:RW:3,4:TCP:ROOT_SQUASH:-2:-2:SYS:FALSE:none:FALSE:FALSE: mmcesnfslsexport:nfsexports:0:1:::/gpfs0/share-fakeid:none:1:2:3:4:5:6:7:8:RW:3,4:TCP:ROOT_SQUASH:-2:-2:SYS:FALSE:none:FALSE:FALSE: mmcesnfslsexport:nfsexports:0:1:::/gpfs0/share-fakeid:none:10.0.0.1:RW:3,4:TCP:ROOT_SQUASH:-2:-2:SYS:FALSE:none:FALSE:FALSE: """""" self.fake_ces_exports_not_found = """""" mmcesnfslsexport:nfsexports:HEADER:version:reserved:reserved:Path:Delegations:Clients:Access_Type:Protocols:Transports:Squash:Anonymous_uid:Anonymous_gid:SecType:PrivilegedPort:DefaultDelegations:Manage_Gids:NFS_Commit: """""" @ddt.data((None, True), ('44.3.2.11', True), ('44.3.2.1', False), ('4.3.2.1', False), ('4.3.2.11', False), ('1.2.3.4', False), ('1:2:3:4:5:6:7:8', True)) @ddt.unpack def test_ces__has_client_access(self, ip, has_access): mock_out = self.fake_ces_exports return_value=(mock_out, '')) self.assertEqual(has_access, self._ces_helper._has_client_access(local_path, ip)) self._ces_helper._execute.assert_called_once_with( 'mmnfs', 'export', 'list', '-n', local_path, '-Y') def test_ces_remove_export_no_exports(self): mock_out = self.fake_ces_exports_not_found self._ces_helper._execute = mock.Mock( return_value=(mock_out, '')) local_path = self.fakesharepath self._ces_helper._execute.assert_called_once_with( 'mmnfs', 'export', 'list', '-n', local_path, '-Y') def test_ces_remove_export_existing_exports(self): mock_out = self.fake_ces_exports self._ces_helper._execute = mock.Mock( return_value=(mock_out, '')) local_path = self.fakesharepath self._ces_helper.remove_export(local_path, self.share) self._ces_helper._execute.assert_has_calls([ mock.call('mmnfs', 'export', 'list', '-n', local_path, '-Y'), mock.call('mmnfs', 'export', 'remove', local_path), ]) mock_out = self.fake_ces_exports_not_found return_value=(mock_out, '')) self._ces_helper._execute.assert_has_calls([ mock.call('mmnfs', 'export', 'list', '-n', local_path, '-Y'), mock.call('mmnfs', 'export', 'add', local_path, '-c', access['access_to'] + '(' + export_opts + ')')]) def test_ces_allow_access_existing_exports(self): mock_out = self.fake_ces_exports return_value=(mock_out, '')) self._ces_helper._execute.assert_has_calls([ mock.call('mmnfs', 'export', 'list', '-n', local_path, '-Y'), mock.call('mmnfs', 'export', 'change', local_path, '--nfsadd', access['access_to'] + '(' + export_opts + ')')]) mock_out = self.fake_ces_exports return_value=(mock_out, '')) self._ces_helper._execute.assert_has_calls([ mock.call('mmnfs', 'export', 'list', '-n', local_path, '-Y'), mock.call('mmnfs', 'export', 'change', local_path, '--nfsremove', access['access_to'])])"," def test_ces_remove_export(self): mock_out = ""Path Delegations Clients\n\ ------------------------\n\ /gpfs0/share-fakeid none *"" return_value=[mock_out, 0]) mock_search_out = ""/gpfs0/share-fakeid"" self.mock_object(re, 'search', mock.Mock(return_value=mock_search_out)) self._ces_helper._execute.assert_any_call('mmnfs', 'export', 'list', '-n', local_path) self._ces_helper._execute.assert_any_call('mmnfs', 'export', 'remove', local_path) mock_out = ""Path Delegations Clients\n\ ------------------------"" return_value=[mock_out, 0]) self.mock_object(re, 'search', mock.Mock(return_value=None)) self._ces_helper._execute.assert_any_call('mmnfs', 'export', 'list', '-n', local_path) self._ces_helper._execute.assert_any_call('mmnfs', 'export', 'add', local_path, '-c', access['access_to'] + '(' + export_opts + ')') def test_ces_allow_access_existing_export(self): mock_out = ""Path Delegations Clients\n\ ------------------------\n\ /gpfs0/share-fakeid none *"" return_value=[mock_out, 0]) mock_search_out = ""/gpfs0/share-fakeid"" self.mock_object(re, 'search', mock.Mock(return_value=mock_search_out)) self._ces_helper._execute.assert_any_call('mmnfs', 'export', 'list', '-n', local_path) self._ces_helper._execute.assert_any_call('mmnfs', 'export', 'change', local_path, '--nfsadd', access['access_to'] + '(' + export_opts + ')') mock_out = ""Path Delegations Clients\n\ ------------------------\n\ /gpfs0/share-fakeid none *"" return_value=[mock_out, 0]) mock_search_out = ""/gpfs0/share-fakeid"" self.mock_object(re, 'search', mock.Mock(return_value=mock_search_out)) self._ces_helper._execute.assert_any_call('mmnfs', 'export', 'list', '-n', local_path) self._ces_helper._execute.assert_any_call('mmnfs', 'export', 'change', local_path, '--nfsremove', access['access_to'])",91,63
openstack%2Fkolla-ansible~master~I8b13d1f492344ca0b65020eb56f0e016c6bb6369,openstack/kolla-ansible,master,I8b13d1f492344ca0b65020eb56f0e016c6bb6369,Fix senlin workers and events,MERGED,2017-04-04 12:09:07.000000000,2017-04-25 10:09:33.000000000,2017-04-25 10:09:33.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22582}, {'_account_id': 22959}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-04-04 12:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bab2045b14c007522db6799cf75a4cd3a76676bd', 'message': 'Update senlin config\n\nChange-Id: I8b13d1f492344ca0b65020eb56f0e016c6bb6369\n'}, {'number': 2, 'created': '2017-04-04 13:34:38.000000000', 'files': ['ansible/roles/senlin/templates/senlin.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1ab0c16ba37cf15fab5e01e9c97ecd46855a7ac4', 'message': 'Fix senlin workers and events\n\nRemove deprecation warning about service_token_roles_required\nSet number of engine workers to avoid too many resources consuming.\nSenlin can poll events from ceilometer when is enabled.\n\nCloses-Bug: #1679697\nChange-Id: I8b13d1f492344ca0b65020eb56f0e016c6bb6369\n'}]",0,453146,1ab0c16ba37cf15fab5e01e9c97ecd46855a7ac4,21,8,2,19316,,,0,"Fix senlin workers and events

Remove deprecation warning about service_token_roles_required
Set number of engine workers to avoid too many resources consuming.
Senlin can poll events from ceilometer when is enabled.

Closes-Bug: #1679697
Change-Id: I8b13d1f492344ca0b65020eb56f0e016c6bb6369
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/46/453146/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/senlin/templates/senlin.conf.j2'],1,bab2045b14c007522db6799cf75a4cd3a76676bd,bug/1679697,{% if service_name == 'senlin-engine' %} num_engine_workers = {{ openstack_service_workers }} {% endif %} service_token_roles_required = False[health_manager] heat_control_exchange = heat nova_control_exchange = nova {% if enable_ceilometer | bool %} driver = messagingv2 topics = 'notifications' {% else %}{% endif %},,14,0
openstack%2Fopenstack-manuals~master~I9cfdf6b75bd3e47a354b3d4095209f7f3c0aaf48,openstack/openstack-manuals,master,I9cfdf6b75bd3e47a354b3d4095209f7f3c0aaf48,"[image-guide] Update fedora, centos and other pages",MERGED,2017-04-21 16:00:41.000000000,2017-04-25 10:05:46.000000000,2017-04-25 10:05:46.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 10607}, {'_account_id': 22165}, {'_account_id': 25340}]","[{'number': 1, 'created': '2017-04-21 16:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/f4eb9e81de969b7f16356fd867694e29f08ef788', 'message': '[image-guide] Update fedora, centos and other pages\n\nUpdate for latest Fedora and CentOS images.\nOther updates throughout the guide.\n\nChange-Id: I9cfdf6b75bd3e47a354b3d4095209f7f3c0aaf48\nCloses-bug: 1443815\n'}, {'number': 2, 'created': '2017-04-24 11:13:56.000000000', 'files': ['doc/image-guide/source/obtain-images.rst', 'doc/image-guide/source/create-images-automatically.rst', 'doc/image-guide/source/virt-manager.rst', 'doc/image-guide/source/figures/virt-manager.png', 'doc/image-guide/source/ubuntu-image.rst', 'doc/image-guide/source/fedora-image.rst', 'doc/image-guide/source/centos-image.rst', 'doc/image-guide/source/virt-install.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d19860c302f9e150937ba7dafc19312d50406db4', 'message': '[image-guide] Update fedora, centos and other pages\n\nUpdate for latest Fedora and CentOS images.\nOther updates throughout the guide.\n\nChange-Id: I9cfdf6b75bd3e47a354b3d4095209f7f3c0aaf48\nCloses-bug: 1443815\n'}]",0,458903,d19860c302f9e150937ba7dafc19312d50406db4,12,5,2,20156,,,0,"[image-guide] Update fedora, centos and other pages

Update for latest Fedora and CentOS images.
Other updates throughout the guide.

Change-Id: I9cfdf6b75bd3e47a354b3d4095209f7f3c0aaf48
Closes-bug: 1443815
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/03/458903/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/image-guide/source/obtain-images.rst', 'doc/image-guide/source/create-images-automatically.rst', 'doc/image-guide/source/virt-manager.rst', 'doc/image-guide/source/figures/virt-manager.png', 'doc/image-guide/source/ubuntu-image.rst', 'doc/image-guide/source/centos-image.rst', 'doc/image-guide/source/fedora-image.rst', 'doc/image-guide/source/virt-install.rst']",8,f4eb9e81de969b7f16356fd867694e29f08ef788,bug/1443815,"If you do not wish to use :command:`virt-manager` (for example, you do not want to install the dependencies on your server, you do not have an X server running locally, the X11 forwarding over SSH is not working), you can use the :command:`virt-install` tool to boot`Vinagre <https://wiki.gnome.org/Apps/Vinagre>`_ (GNOME). # qemu-img create -f qcow2 /tmp/centos.qcow2 10G # virt-install --virt-type kvm --name centos --ram 1024 \ --disk /tmp/centos.qcow2,format=qcow2 \ --network network=default \ --graphics vnc,listen=0.0.0.0 --noautoconsole \ --os-type=linux --os-variant=centos7.0 \ --location=/data/isos/CentOS-7-x86_64-NetInstall-1611.isolibvirt name, ``centos``, with 1024 MB of RAM.with the ``/data/isos/CentOS-7-x86_64-NetInstall-1611.iso`` file andin the host at ``/tmp/centos.qcow2``.for a Linux guest running a CentOS 7 distribution.Run the :command:`osinfo-query os` command # virsh vncdisplay centosIn the example above, the guest ``centos`` uses VNC","If you do not wish to use virt-manager (for example, you do not want to install the dependencies on your server, you don't have an X server running locally, the X11 forwarding over SSH isn't working), you can use the :command:`virt-install` tool to boot`Vinagre <http://projects.gnome.org/vinagre/>`_ (GNOME). # qemu-img create -f qcow2 /data/centos-6.4.qcow2 10G # virt-install --virt-type kvm --name centos-6.4 --ram 1024 \ --cdrom=/data/CentOS-6.4-x86_64-netinstall.iso \ --disk path=/data/centos-6.4.qcow2,size=10,format=qcow2 \ --network network=default \ --graphics vnc,listen=0.0.0.0 --noautoconsole \ --os-type=linux --os-variant=rhel6libvirt name, ``centos-6.4``, with 1024 MB of RAM.with the ``/data/CentOS-6.4-x86_64-netinstall.iso`` file andin the host at ``/data/centos-6.4.qcow2``.for a Linux guest running a RHEL 6.x distribution.Run the :command:`virt-install --os-variant list` command # virsh vncdisplay centos-6.4In the example above, the guest ``centos-6.4`` uses VNC",338,288
openstack%2Fswift~master~I2e656a4158763307078714be79630e0c8882dba3,openstack/swift,master,I2e656a4158763307078714be79630e0c8882dba3,Update version in controller-install-ubuntu,MERGED,2017-04-14 02:00:39.000000000,2017-04-25 09:54:10.000000000,2017-04-25 09:54:10.000000000,"[{'_account_id': 3}, {'_account_id': 6968}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-04-14 02:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5ed5d04f975b40a022ae2a1b1c6a142315b0ae98', 'message': 'Update version newton to ocata\n\nUpdate version newton to ocata in controller-install-ubuntu.rst.\n\nChange-Id: I2e656a4158763307078714be79630e0c8882dba3\n'}, {'number': 2, 'created': '2017-04-14 02:10:47.000000000', 'files': ['install-guide/source/controller-install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/a27b2915c712996374d131330955d393efdb8033', 'message': 'Update version in controller-install-ubuntu\n\nUpdate version newton to ocata in controller-install-ubuntu.rst.\n\nChange-Id: I2e656a4158763307078714be79630e0c8882dba3\n'}]",0,456800,a27b2915c712996374d131330955d393efdb8033,9,3,2,24330,,,0,"Update version in controller-install-ubuntu

Update version newton to ocata in controller-install-ubuntu.rst.

Change-Id: I2e656a4158763307078714be79630e0c8882dba3
",git fetch https://review.opendev.org/openstack/swift refs/changes/00/456800/2 && git format-patch -1 --stdout FETCH_HEAD,['install-guide/source/controller-install-ubuntu.rst'],1,5ed5d04f975b40a022ae2a1b1c6a142315b0ae98,controll-ubuntu, # curl -o /etc/swift/proxy-server.conf https://git.openstack.org/cgit/openstack/swift/plain/etc/proxy-server.conf-sample?h=stable/ocata, # curl -o /etc/swift/proxy-server.conf https://git.openstack.org/cgit/openstack/swift/plain/etc/proxy-server.conf-sample?h=stable/newton,1,1
openstack%2Fswift~master~Ia3ab4a70f47c43238404d0312a0d5f4303333ff7,openstack/swift,master,Ia3ab4a70f47c43238404d0312a0d5f4303333ff7,Update version in controller-install-debian,MERGED,2017-04-14 01:56:05.000000000,2017-04-25 09:54:02.000000000,2017-04-25 09:54:02.000000000,"[{'_account_id': 3}, {'_account_id': 6968}, {'_account_id': 13052}]","[{'number': 1, 'created': '2017-04-14 01:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2a5827ef650cd784c73b238a42ff8eb4edcbbec9', 'message': 'Update newton to ocata\n\nUpdate version newton to ocata in controller-install-debian.\n\nChange-Id: Ia3ab4a70f47c43238404d0312a0d5f4303333ff7\n'}, {'number': 2, 'created': '2017-04-14 02:09:39.000000000', 'files': ['install-guide/source/controller-install-debian.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/e3420e172880fe2a518bf4f42da0d71a37830a2f', 'message': 'Update version in controller-install-debian\n\nUpdate version newton to ocata in controller-install-debian.\n\nChange-Id: Ia3ab4a70f47c43238404d0312a0d5f4303333ff7\n'}]",0,456799,e3420e172880fe2a518bf4f42da0d71a37830a2f,9,3,2,24330,,,0,"Update version in controller-install-debian

Update version newton to ocata in controller-install-debian.

Change-Id: Ia3ab4a70f47c43238404d0312a0d5f4303333ff7
",git fetch https://review.opendev.org/openstack/swift refs/changes/99/456799/1 && git format-patch -1 --stdout FETCH_HEAD,['install-guide/source/controller-install-debian.rst'],1,2a5827ef650cd784c73b238a42ff8eb4edcbbec9,controller, # curl -o /etc/swift/proxy-server.conf https://git.openstack.org/cgit/openstack/swift/plain/etc/proxy-server.conf-sample?h=stable/ocata, # curl -o /etc/swift/proxy-server.conf https://git.openstack.org/cgit/openstack/swift/plain/etc/proxy-server.conf-sample?h=stable/newton,1,1
openstack%2Fpuppet-tripleo~master~Ib52144e5877d9293057713d6bdca557724baad5c,openstack/puppet-tripleo,master,Ib52144e5877d9293057713d6bdca557724baad5c,Include zaqar apache module,MERGED,2017-03-21 08:52:02.000000000,2017-04-25 09:53:09.000000000,2017-04-25 09:53:09.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6924}, {'_account_id': 7144}, {'_account_id': 7385}, {'_account_id': 10873}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-03-21 08:52:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0a026fe739d10cceb384ac38a5f4c1a6d5e0611d', 'message': 'Include zaqar apache module\n\nThis includes the Zaqar apache module, allowing to run Zaqar behind\nhttpd.\n\nChange-Id: Ib52144e5877d9293057713d6bdca557724baad5c\n'}, {'number': 2, 'created': '2017-04-11 20:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/20914511df87374a73039f5c2b7a350ed7095fc0', 'message': 'Include zaqar apache module\n\nThis includes the Zaqar apache module, allowing to run Zaqar behind\nhttpd.\n\nDepends-On: Iccd96c8c476a7c372f7a92a8b6be57e031cd31bd\nChange-Id: Ib52144e5877d9293057713d6bdca557724baad5c\n'}, {'number': 3, 'created': '2017-04-13 14:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/27b38dc62f2f2b0308895c9eeaed040459651a9b', 'message': 'Include zaqar apache module\n\nThis includes the Zaqar apache module, allowing to run Zaqar behind\nhttpd.\n\nDepends-On: Iccd96c8c476a7c372f7a92a8b6be57e031cd31bd\nChange-Id: Ib52144e5877d9293057713d6bdca557724baad5c\n'}, {'number': 4, 'created': '2017-04-18 09:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0cfbb830896ceb84fb71dc8a4849767425a538d4', 'message': 'Include zaqar apache module\n\nThis includes the Zaqar apache module, allowing to run Zaqar behind\nhttpd.\n\nDepends-On: Iccd96c8c476a7c372f7a92a8b6be57e031cd31bd\nChange-Id: Ib52144e5877d9293057713d6bdca557724baad5c\n'}, {'number': 5, 'created': '2017-04-20 08:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e7d77b767b8f5e91a8b9e1a490203f49ae3b0ca0', 'message': 'Include zaqar apache module\n\nThis includes the Zaqar apache module, allowing to run Zaqar behind\nhttpd.\n\nDepends-On: I69b923dd76a60e9ec786cae886c137ba572ec906\nChange-Id: Ib52144e5877d9293057713d6bdca557724baad5c\n'}, {'number': 6, 'created': '2017-04-20 08:14:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b5cd45fffdf45410923571ff5eb0c05fb0bca610', 'message': 'Include zaqar apache module\n\nThis includes the Zaqar apache module, allowing to run Zaqar behind\nhttpd.\n\nDepends-On: I69b923dd76a60e9ec786cae886c137ba572ec906\nChange-Id: Ib52144e5877d9293057713d6bdca557724baad5c\n'}, {'number': 7, 'created': '2017-04-20 10:20:07.000000000', 'files': ['manifests/profile/base/zaqar.pp', 'releasenotes/notes/zaqar-httpd-93db7feb60622687.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2ce8aa08e5337f2643d5e8bc3a1d8ccdc3662652', 'message': 'Include zaqar apache module\n\nThis includes the Zaqar apache module, allowing to run Zaqar behind\nhttpd.\n\nDepends-On: I69b923dd76a60e9ec786cae886c137ba572ec906\nChange-Id: Ib52144e5877d9293057713d6bdca557724baad5c\n'}]",1,447957,2ce8aa08e5337f2643d5e8bc3a1d8ccdc3662652,53,7,7,7385,,,0,"Include zaqar apache module

This includes the Zaqar apache module, allowing to run Zaqar behind
httpd.

Depends-On: I69b923dd76a60e9ec786cae886c137ba572ec906
Change-Id: Ib52144e5877d9293057713d6bdca557724baad5c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/57/447957/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/zaqar.pp'],1,0a026fe739d10cceb384ac38a5f4c1a6d5e0611d,zaqar-httpd, # separate services. include ::zaqar::wsgi::apache, # seperate services.,2,1
openstack%2Fswift~master~I51c96ba8ec7b32d20e420b22ee18c226410c8891,openstack/swift,master,I51c96ba8ec7b32d20e420b22ee18c226410c8891,Add ocata.rst file,ABANDONED,2017-04-14 04:36:27.000000000,2017-04-25 09:50:33.000000000,,"[{'_account_id': 3}, {'_account_id': 13052}, {'_account_id': 24330}]","[{'number': 1, 'created': '2017-04-14 04:36:27.000000000', 'files': ['releasenotes/source/ocata.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/bee9779cae9789f3620ae48e84bb9f8ec8744802', 'message': 'Add ocata.rst file\n\nAdd ocata.rst file in releasenotes.\n\nChange-Id: I51c96ba8ec7b32d20e420b22ee18c226410c8891\n'}]",0,456828,bee9779cae9789f3620ae48e84bb9f8ec8744802,7,3,1,24330,,,0,"Add ocata.rst file

Add ocata.rst file in releasenotes.

Change-Id: I51c96ba8ec7b32d20e420b22ee18c226410c8891
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/456828/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ocata.rst', 'releasenotes/source/index.rst']",2,bee9779cae9789f3620ae48e84bb9f8ec8744802,index, ocata,,7,1
openstack%2Ftripleo-heat-templates~master~I3dacbd7a3c673d2f34998ee9f433889727c6a0f7,openstack/tripleo-heat-templates,master,I3dacbd7a3c673d2f34998ee9f433889727c6a0f7,Disable Manila CephFS snapshots by default,MERGED,2017-02-21 11:08:43.000000000,2017-04-25 09:43:14.000000000,2017-04-25 06:14:13.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 7582}, {'_account_id': 8056}, {'_account_id': 9003}]","[{'number': 1, 'created': '2017-02-21 11:08:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/843e36338b2a52f55b8360db17f9f76092d522df', 'message': 'Disable Manila CephFS snapshots by default\n\nBecause CephFS Snapshots are still an experimental feature and\nalso Manila Ceph driver has this feature disabled by default,\nit makes sense to not override this value by default.\n\nChange-Id: I3dacbd7a3c673d2f34998ee9f433889727c6a0f7\n'}, {'number': 2, 'created': '2017-03-01 14:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/63de3073c7940f6dea47230725f339586b4b68c9', 'message': 'Disable Manila CephFS snapshots by default\n\nBecause CephFS Snapshots are still an experimental feature and\nalso Manila Ceph driver has this feature disabled by default,\nit makes sense to not override this value by default.\n\nChange-Id: I3dacbd7a3c673d2f34998ee9f433889727c6a0f7\n'}, {'number': 3, 'created': '2017-04-06 12:32:39.000000000', 'files': ['environments/manila-cephfsnative-config.yaml', 'releasenotes/notes/disable-manila-cephfs-snapshots-by-default-d5320a05d9b501cf.yaml', 'ci/pingtests/scenario004-multinode.yaml', 'puppet/services/manila-backend-cephfs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/99371a90a29b4f9ffda606263540a1ef0b919633', 'message': 'Disable Manila CephFS snapshots by default\n\nBecause CephFS Snapshots are still an experimental feature and\nalso Manila Ceph driver has this feature disabled by default,\nit makes sense to not override this value by default.\n\nChange-Id: I3dacbd7a3c673d2f34998ee9f433889727c6a0f7\n'}]",0,436411,99371a90a29b4f9ffda606263540a1ef0b919633,33,8,3,7582,,,0,"Disable Manila CephFS snapshots by default

Because CephFS Snapshots are still an experimental feature and
also Manila Ceph driver has this feature disabled by default,
it makes sense to not override this value by default.

Change-Id: I3dacbd7a3c673d2f34998ee9f433889727c6a0f7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/436411/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/manila-cephfsnative-config.yaml', 'puppet/services/manila-backend-cephfs.yaml']",2,843e36338b2a52f55b8360db17f9f76092d522df,snap, default: false, default: true,2,2
openstack%2Ftempest~master~I7d41e33bc42f8eb354c8a659123bf34e077a9626,openstack/tempest,master,I7d41e33bc42f8eb354c8a659123bf34e077a9626,Replace oslo_utils.timeutils.isotime,MERGED,2017-04-24 20:51:21.000000000,2017-04-25 09:40:43.000000000,2017-04-25 09:40:43.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}]","[{'number': 1, 'created': '2017-04-24 20:51:21.000000000', 'files': ['tempest/api/identity/admin/v3/test_trusts.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/fb89271d84e1ff66b498c811079364bb3a66d7a2', 'message': ""Replace oslo_utils.timeutils.isotime\n\nThe function 'oslo_utils.timeutils.isotime()' is deprecated in\nversion '1.6' and will be removed in a future version.\nWe are using datetime.datetime.isoformat() instead.\nFor more information: http://docs.openstack.org/developer/oslo.utils/api/timeutils.html#oslo_utils.timeutils.isotime\n\nChange-Id: I7d41e33bc42f8eb354c8a659123bf34e077a9626\nCloses-Bug: #1514331\n""}]",0,459452,fb89271d84e1ff66b498c811079364bb3a66d7a2,8,3,1,9194,,,0,"Replace oslo_utils.timeutils.isotime

The function 'oslo_utils.timeutils.isotime()' is deprecated in
version '1.6' and will be removed in a future version.
We are using datetime.datetime.isoformat() instead.
For more information: http://docs.openstack.org/developer/oslo.utils/api/timeutils.html#oslo_utils.timeutils.isotime

Change-Id: I7d41e33bc42f8eb354c8a659123bf34e077a9626
Closes-Bug: #1514331
",git fetch https://review.opendev.org/openstack/tempest refs/changes/52/459452/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_trusts.py'],1,fb89271d84e1ff66b498c811079364bb3a66d7a2,bug/1514331, # to 2015-02-17T17:34:02.000000Z. That is why we set microsecond to # 0 when we invoke isoformat to avoid problems with rounding. expires_at = expires_at.replace(microsecond=0) # NOTE(ekhugen) Python datetime does not support military timezones # since we used UTC we'll add the Z so our compare works. expires_str = expires_at.isoformat() + 'Z'," # to 2015-02-17T17:34:02.000000Z. That is why we shouldn't set flag # ""subsecond"" to True when we invoke timeutils.isotime(...) to avoid # problems with rounding. expires_str = timeutils.isotime(at=expires_at)",6,4
openstack%2Ftripleo-puppet-elements~master~I5fae2520766cf89da40a216d0079db5d7f1ffbc1,openstack/tripleo-puppet-elements,master,I5fae2520766cf89da40a216d0079db5d7f1ffbc1,Add puppet-etcd module,MERGED,2017-04-24 17:29:06.000000000,2017-04-25 09:40:12.000000000,2017-04-25 09:40:11.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 13039}, {'_account_id': 14985}, {'_account_id': 20775}]","[{'number': 1, 'created': '2017-04-24 17:29:06.000000000', 'files': ['releasenotes/notes/add_puppet_etcd-12b6c13a04137e2b.yaml', 'elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/b8d6406167384f367482f7e54067b3f7c457a7b5', 'message': 'Add puppet-etcd module\n\nThis puppet module is needed to manage etcd clusters\n\nRelated-bug: #1668938\n\nChange-Id: I5fae2520766cf89da40a216d0079db5d7f1ffbc1\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,459414,b8d6406167384f367482f7e54067b3f7c457a7b5,11,6,1,6926,,,0,"Add puppet-etcd module

This puppet module is needed to manage etcd clusters

Related-bug: #1668938

Change-Id: I5fae2520766cf89da40a216d0079db5d7f1ffbc1
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/14/459414/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_puppet_etcd-12b6c13a04137e2b.yaml', 'elements/puppet-modules/environment.d/02-puppet-modules-install-types.sh', 'elements/puppet-modules/source-repository-puppet-modules']",3,b8d6406167384f367482f7e54067b3f7c457a7b5,bug/1668938,puppet-etcd git /opt/stack/puppet-modules/etcd https://github.com/cristifalcas/puppet-etcd.git,,6,0
openstack%2Fnetworking-hyperv~stable%2Fnewton~Ib0152b6b413e60a664bfb1cd4b485490b2c7482f,openstack/networking-hyperv,stable/newton,Ib0152b6b413e60a664bfb1cd4b485490b2c7482f,Fixes HyperVSecurityGroupsDriver for ports without security groups,MERGED,2017-04-05 16:43:54.000000000,2017-04-25 09:39:28.000000000,2017-04-25 08:44:24.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-04-05 16:43:54.000000000', 'files': ['hyperv/neutron/security_groups_driver.py', 'hyperv/tests/unit/neutron/test_security_groups_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/f72713d8408683cb782aee05c2b6a81a8962716d', 'message': ""Fixes HyperVSecurityGroupsDriver for ports without security groups\n\nIf a port has security groups disabled, it might not have the\n'port_security_enabled' key.\n\nChange-Id: Ib0152b6b413e60a664bfb1cd4b485490b2c7482f\nCloses-Bug: #1659527\n(cherry picked from commit bad3da0d60499c725f57c57ee53dea5483d24423)\n""}]",0,453749,f72713d8408683cb782aee05c2b6a81a8962716d,45,3,1,8213,,,0,"Fixes HyperVSecurityGroupsDriver for ports without security groups

If a port has security groups disabled, it might not have the
'port_security_enabled' key.

Change-Id: Ib0152b6b413e60a664bfb1cd4b485490b2c7482f
Closes-Bug: #1659527
(cherry picked from commit bad3da0d60499c725f57c57ee53dea5483d24423)
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/49/453749/1 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/neutron/security_groups_driver.py', 'hyperv/tests/unit/neutron/test_security_groups_driver.py']",2,f72713d8408683cb782aee05c2b6a81a8962716d,bug/1659527, mock_port.pop('port_security_enabled') mock_port.pop('port_security_enabled'), mock_port['port_security_enabled'] = False mock_port['port_security_enabled'] = False,4,4
openstack%2Fnetworking-hyperv~stable%2Fnewton~Ia72ddaf0743bb6b0599f5021339da6cfe07d9924,openstack/networking-hyperv,stable/newton,Ia72ddaf0743bb6b0599f5021339da6cfe07d9924,Updates networkutils caches on worker error,MERGED,2017-04-01 12:03:35.000000000,2017-04-25 09:31:43.000000000,2017-04-25 08:44:19.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-04-01 12:03:35.000000000', 'files': ['hyperv/tests/unit/neutron/test_hyperv_neutron_agent.py', 'hyperv/neutron/hyperv_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/9b013b069430677800791717de93dd4330ac0c67', 'message': ""Updates networkutils caches on worker error\n\nos_win's networkutils caches switch ports, ACLs, VLAN SDs, etc.\nfor performance reasons, and it is refreshed on exception in the\ndaemon_loop, but that case is not happening anymore since we switched\nto worker threads; the exceptions are treated by the workers.\n\nNow, if a worker encounters an exception, it will set a refresh cache\nflag, and the daemon_loop will refresh the caches if the flag is set.\n\nChange-Id: Ia72ddaf0743bb6b0599f5021339da6cfe07d9924\nCloses-Bug: #1676941\n(cherry picked from commit 832ab6521bea53b60b4cb3a9196cafcfab816537)\n""}]",0,452457,9b013b069430677800791717de93dd4330ac0c67,46,3,1,8213,,,0,"Updates networkutils caches on worker error

os_win's networkutils caches switch ports, ACLs, VLAN SDs, etc.
for performance reasons, and it is refreshed on exception in the
daemon_loop, but that case is not happening anymore since we switched
to worker threads; the exceptions are treated by the workers.

Now, if a worker encounters an exception, it will set a refresh cache
flag, and the daemon_loop will refresh the caches if the flag is set.

Change-Id: Ia72ddaf0743bb6b0599f5021339da6cfe07d9924
Closes-Bug: #1676941
(cherry picked from commit 832ab6521bea53b60b4cb3a9196cafcfab816537)
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/57/452457/1 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/tests/unit/neutron/test_hyperv_neutron_agent.py', 'hyperv/neutron/hyperv_neutron_agent.py']",2,9b013b069430677800791717de93dd4330ac0c67,bug/1676941," self._refresh_cache = False # force cache refresh. self._refresh_cache = True if self._refresh_cache: # Inconsistent cache might cause exceptions. For example, # if a port has been removed, it will be known in the next # loop. Using the old switch port can cause exceptions. LOG.debug(""Refreshing os_win caches..."") self._utils.update_cache() self._refresh_cache = False "," # inconsistent cache might cause exceptions. for example, if a # port has been removed, it will be known in the next loop. # using the old switch port can cause exceptions. self._utils.update_cache() ",14,5
openstack%2Frally~master~I0b9fefd368b0fb53f0c136c90430b1325c593b36,openstack/rally,master,I0b9fefd368b0fb53f0c136c90430b1325c593b36,[spec] OSProfiler integration in Rally,MERGED,2017-04-12 16:09:17.000000000,2017-04-25 09:30:34.000000000,2017-04-25 09:30:34.000000000,"[{'_account_id': 3}, {'_account_id': 3012}, {'_account_id': 9545}, {'_account_id': 14817}, {'_account_id': 21528}, {'_account_id': 22960}, {'_account_id': 23630}, {'_account_id': 23936}]","[{'number': 1, 'created': '2017-04-12 16:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/da876a28d37c346d5f4cc386cee8e4fccfac50b5', 'message': '[spec] OSprofiler integration in Rally\n\nChange-Id: I0b9fefd368b0fb53f0c136c90430b1325c593b36\n'}, {'number': 2, 'created': '2017-04-24 20:50:19.000000000', 'files': ['doc/specs/template.rst', 'doc/specs/README.rst', 'doc/specs/in-progress/osprofiler.rst', 'tests/unit/doc/test_specs.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/a28cf9af27a5d9f68f3cf06f8c3213b3a5b158ff', 'message': '[spec] OSProfiler integration in Rally\n\nChange-Id: I0b9fefd368b0fb53f0c136c90430b1325c593b36\n'}]",9,456278,a28cf9af27a5d9f68f3cf06f8c3213b3a5b158ff,17,8,2,9545,,,0,"[spec] OSProfiler integration in Rally

Change-Id: I0b9fefd368b0fb53f0c136c90430b1325c593b36
",git fetch https://review.opendev.org/openstack/rally refs/changes/78/456278/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/specs/template.rst', 'doc/specs/README.rst', 'doc/specs/in-progress/osprofiler.rst']",3,da876a28d37c346d5f4cc386cee8e4fccfac50b5,spec,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/rally/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ================================= OSprofiler integration into Rally ================================= The OSprofiler is a distributed trace toolkit library. It provides pythonic helpers to do trace generation to avoid repeated code to trace WSGI, RPC, DB, and other important places... Integration OSProfiler into Rally can help to dig into concurrency problems of OpenStack which is a huge ecosystem of cooperative services. Problem description =================== Rally Framework provides a powerful interface to generate real, big, load for the deployment. Such load can kill the cloud, specifically OpenStack. There is no way to identify reasons and bottlenecks without parsing timestamps and logs. To fix that issue embedding profiling into each of workload iteration can help to display wide picture of where we were in that particular moment when something went wrong. Proposed change =============== Two facts about OSprofiler which are the start point for the proposed changes: * HMAC key is used as a secret identifier while profiling * Initialization of profiling is made in thread save mode. Profiling of one iteration should not influence profiling another one Storing secret key ------------------ The HMAC key is not something that will be changed from one task to another. It is specific thing for the deployment, like authentication url or other credentials. That is why Rally deployment config is the best place to store such information. Since OSprofiler is OpenStack specific tool, we need to extend OpenStack credentials model in Rally to support new argument. It should be done in two places: validation (by modifying jsonschema [0]_) and the place where credentials are store (specific class [1]_ [2]_). Initialization profiling ------------------------ As it was mentioned before, we need to initialize OSprofiler per iteration. OSprofiler is made in thread safe mode [3]_, so we should not have problem from that side. Initialization of OSprofiler is quite simple. .. code-block:: python from osprofiler import profiler profiler.init(HMAC_KEY) As for the place where to initialize OSprofiler in Rally, constructor of scenario is a good choice. First of all, we have a separate class for OpenStack scenarios[4] which means that integration with OSprofiler there will not affect all other platforms. Another reason for using constructor is that we initialize new instance of scenario class for each iterations. Storing profiling results ------------------------- OSprofiler sends to collector a message at every trace point. We should not care about supported OSprofiler backends and use only OSprofiler as entry-point. The full trace can be obtained via trace-id after profiling is initialized. .. code-block:: python from osprofiler import profiler trace_id = profiler.get().get_base_id() At the first step of integration OSprofiler in Rally, let's store that trace-id just like simple text. It will allow to show trace-id in Rally HTML and JSON reports. .. code-block:: python self.add_output(complete={""title"": ""OSprofiler Trace-ID"", ""chart_plugin"": ""TextArea"", ""data"": [trace_id]}) We can execute these lines in the same place where we initialize OSprofiler. In future, we should develop a separate chart that will embed OSprofiler html report as a separate tab in the Rally report. Enabling profiling ------------------ Enabling/disabling profiling should be done via rally configuration file: * It is common place for storing different kinds of options. * There is planned feature that will able to re-set config options via deployment config or task file. The default value of that options should be True. In case of missing HMAC key in credentials, attempt to initialize OSprofiler should not be started. Alternatives ------------ Here [4]_ you can find the answer to that section. Implementation ============== Assignee(s) ----------- Primary assignee: Andrey Kurilin <andr.kurilin@gmail.com> Work Items ---------- * Extend OpenStack credentials * Add new configuration option to Rally * Extend OpenStack scenario base class to initialize OSprofiler and store trace id References ========== .. [0] https://github.com/openstack/rally/blob/a5691d7850b5abd7ea707730f0d48d75116d88d3/rally/plugins/openstack/credential.py#L154 .. [1] https://github.com/openstack/rally/blob/a5691d7850b5abd7ea707730f0d48d75116d88d3/rally/plugins/openstack/credential.py#L26 .. [2] https://github.com/openstack/rally/blob/a5691d7850b5abd7ea707730f0d48d75116d88d3/rally/plugins/openstack/credential.py#L161 .. [3] https://github.com/openstack/osprofiler/blob/1.8.0/osprofiler/profiler.py#L29-L30 .. [4] https://docs.openstack.org/developer/osprofiler/background.html#why-not-cprofile-and-etc ",,161,5
openstack%2Fswift~master~Ibb4610747e8ad896b0d4b970094beb12c495e013,openstack/swift,master,Ibb4610747e8ad896b0d4b970094beb12c495e013,Update reno for stable/ocata,MERGED,2017-02-16 09:59:00.000000000,2017-04-25 09:24:02.000000000,2017-04-25 09:24:02.000000000,"[{'_account_id': 3}, {'_account_id': 6968}, {'_account_id': 13052}, {'_account_id': 15343}]","[{'number': 1, 'created': '2017-02-16 09:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9a7594ee413f6162049301711be60941e52477a0', 'message': 'Update reno for stable/ocata\n\nChange-Id: Ibb4610747e8ad896b0d4b970094beb12c495e013\n'}, {'number': 2, 'created': '2017-04-11 21:58:16.000000000', 'files': ['releasenotes/source/ocata.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/d633e9df59dc704220735d8ac04b92b8c6946541', 'message': 'Update reno for stable/ocata\n\nChange-Id: Ibb4610747e8ad896b0d4b970094beb12c495e013\n'}]",0,434785,d633e9df59dc704220735d8ac04b92b8c6946541,14,4,2,22816,,,0,"Update reno for stable/ocata

Change-Id: Ibb4610747e8ad896b0d4b970094beb12c495e013
",git fetch https://review.opendev.org/openstack/swift refs/changes/85/434785/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/ocata.rst'],1,9a7594ee413f6162049301711be60941e52477a0,reno-ocata,=================================== Ocata Series Release Notes =================================== .. release-notes:: :branch: origin/stable/ocata ,,6,0
openstack%2Fzun~master~I3a9d3f181a7fd70c02e111ee2da22ced141e0678,openstack/zun,master,I3a9d3f181a7fd70c02e111ee2da22ced141e0678,Seems the kuryr integration missed requirements,ABANDONED,2017-04-25 08:56:26.000000000,2017-04-25 09:16:26.000000000,,"[{'_account_id': 3}, {'_account_id': 8264}, {'_account_id': 11536}]","[{'number': 1, 'created': '2017-04-25 08:56:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/zun/commit/e99bb9911f8a1ddfcbbba537a01cf927d63df083', 'message': 'Seems the kuryr integration missed requirements\n\nSeems the kuryr integration missed requirements.\n\nChange-Id: I3a9d3f181a7fd70c02e111ee2da22ced141e0678\n'}]",0,459588,e99bb9911f8a1ddfcbbba537a01cf927d63df083,4,3,1,8264,,,0,"Seems the kuryr integration missed requirements

Seems the kuryr integration missed requirements.

Change-Id: I3a9d3f181a7fd70c02e111ee2da22ced141e0678
",git fetch https://review.opendev.org/openstack/zun refs/changes/88/459588/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,e99bb9911f8a1ddfcbbba537a01cf927d63df083,requirements,kuryr-libnetwork=0.1.0 kuryr-lib=0.4.0,,2,0
openstack%2Fcompute-hyperv~stable%2Fnewton~Ie8119bfe90690fd4a13e03162963b25696f3d565,openstack/compute-hyperv,stable/newton,Ie8119bfe90690fd4a13e03162963b25696f3d565,Fix live migration log message formatting,MERGED,2017-04-25 06:55:12.000000000,2017-04-25 09:04:46.000000000,2017-04-25 08:39:29.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2017-04-25 06:55:12.000000000', 'files': ['hyperv/nova/livemigrationops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/4d1ff2705398f043f98dc622c6b2aa6043013939', 'message': ""Fix live migration log message formatting\n\nAt the moment, whenever we live migrate an instance, we'll get a\ntrace in the logs because of a log formatting exception.\n\nThis change fixes this trivial issue.\n\nChange-Id: Ie8119bfe90690fd4a13e03162963b25696f3d565\n(cherry picked from commit 820fa8ca5e1568f9f48d66455e6b07f00b532e03)\n""}]",0,459537,4d1ff2705398f043f98dc622c6b2aa6043013939,7,4,1,8213,,,0,"Fix live migration log message formatting

At the moment, whenever we live migrate an instance, we'll get a
trace in the logs because of a log formatting exception.

This change fixes this trivial issue.

Change-Id: Ie8119bfe90690fd4a13e03162963b25696f3d565
(cherry picked from commit 820fa8ca5e1568f9f48d66455e6b07f00b532e03)
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/37/459537/1 && git format-patch -1 --stdout FETCH_HEAD,['hyperv/nova/livemigrationops.py'],1,4d1ff2705398f043f98dc622c6b2aa6043013939,," LOG.debug(""check_can_live_migrate_source called"", instance=instance_ref)"," LOG.debug(""check_can_live_migrate_source called"", instance_ref)",2,1
openstack%2Ftripleo-ci~master~If38784ceae618557a977ecb8352ca79915b19d5a,openstack/tripleo-ci,master,If38784ceae618557a977ecb8352ca79915b19d5a,Include experimental jobs in cistatus page,MERGED,2017-04-24 17:05:11.000000000,2017-04-25 08:56:20.000000000,2017-04-25 08:56:20.000000000,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 10873}]","[{'number': 1, 'created': '2017-04-24 17:05:11.000000000', 'files': ['scripts/tripleo-jobs-gerrit.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a75a1bea325e1dd2a7d84ef04ae5cf16b4386171', 'message': 'Include experimental jobs in cistatus page\n\nPreviously only check-tripleo and check queue jobs were read.  We\nhave some experimental jobs that were added to the status page that\nneed to be supported as well.\n\nChange-Id: If38784ceae618557a977ecb8352ca79915b19d5a\n'}]",0,459408,a75a1bea325e1dd2a7d84ef04ae5cf16b4386171,8,3,1,6928,,,0,"Include experimental jobs in cistatus page

Previously only check-tripleo and check queue jobs were read.  We
have some experimental jobs that were added to the status page that
need to be supported as well.

Change-Id: If38784ceae618557a977ecb8352ca79915b19d5a
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/08/459408/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-jobs-gerrit.py'],1,a75a1bea325e1dd2a7d84ef04ae5cf16b4386171,cistatus-experimental," # NOTE(bnemec): For some reason the experimental-tripleo # message does not include ""pipeline"". if (""check-tripleo pipeline"" not in comment['message'] and ""check pipeline"" not in comment['message'] and ""experimental-tripleo"" not in comment['message']):"," if ""check-tripleo pipeline"" not in comment['message'] and \ ""check pipeline"" not in comment['message']:",5,2
openstack%2Fpuppet-barbican~stable%2Focata~I31b6998337b6f7eb675e63be078ab4d755418c69,openstack/puppet-barbican,stable/ocata,I31b6998337b6f7eb675e63be078ab4d755418c69,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:40:53.000000000,2017-04-25 08:56:14.000000000,2017-04-25 08:56:14.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:40:53.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/94df4be8560ea8b426a14373aa0eed17f0d757e5', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I31b6998337b6f7eb675e63be078ab4d755418c69\n'}]",0,459350,94df4be8560ea8b426a14373aa0eed17f0d757e5,12,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I31b6998337b6f7eb675e63be078ab4d755418c69
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/50/459350/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,94df4be8560ea8b426a14373aa0eed17f0d757e5,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpuppet-mistral~stable%2Focata~Ie74bc943e94aacd82e99bbcbf8fe7298db287d3c,openstack/puppet-mistral,stable/ocata,Ie74bc943e94aacd82e99bbcbf8fe7298db287d3c,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:43:08.000000000,2017-04-25 08:56:09.000000000,2017-04-25 08:56:09.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:43:08.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/baf48d9d4c46fc4910915f0dff7294bcb684239c', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: Ie74bc943e94aacd82e99bbcbf8fe7298db287d3c\n'}]",0,459364,baf48d9d4c46fc4910915f0dff7294bcb684239c,13,4,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: Ie74bc943e94aacd82e99bbcbf8fe7298db287d3c
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/64/459364/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,baf48d9d4c46fc4910915f0dff7294bcb684239c,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Ftripleo-ci~master~I825038eeb134590fe9bb68697a193e5c6626f991,openstack/tripleo-ci,master,I825038eeb134590fe9bb68697a193e5c6626f991,Remove centos-release-openstack-* in nodes preparation,MERGED,2017-04-24 18:36:38.000000000,2017-04-25 08:55:57.000000000,2017-04-25 08:55:57.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-24 18:36:38.000000000', 'files': ['toci_instack_osinfra.sh', 'toci_instack_ovb.sh', 'scripts/bootstrap-overcloud-full.sh', 'scripts/quickstart/prepare_slave.yml', 'toci-quickstart/playbooks/prepare_slave.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/16b35e095070ebffc009b2ee1352f250589d4c9b', 'message': 'Remove centos-release-openstack-* in nodes preparation\n\nCurrently, tripleo-ci scrips clean up repos removing rdo-release\nrpm, but https://review.openstack.org/#/c/453325 moved base image to\nuse centos openstack release rpm instead of rdo-release.\n\nThis patch removes all centos-release-openstack packages in addition\nto rdo-release. Note that yum returns 0 even if no matching packages\nare found so this should be ok.\n\nChange-Id: I825038eeb134590fe9bb68697a193e5c6626f991\nCloses-Bug: #1685418\n'}]",0,459421,16b35e095070ebffc009b2ee1352f250589d4c9b,11,4,1,16312,,,0,"Remove centos-release-openstack-* in nodes preparation

Currently, tripleo-ci scrips clean up repos removing rdo-release
rpm, but https://review.openstack.org/#/c/453325 moved base image to
use centos openstack release rpm instead of rdo-release.

This patch removes all centos-release-openstack packages in addition
to rdo-release. Note that yum returns 0 even if no matching packages
are found so this should be ok.

Change-Id: I825038eeb134590fe9bb68697a193e5c6626f991
Closes-Bug: #1685418
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/21/459421/1 && git format-patch -1 --stdout FETCH_HEAD,"['toci_instack_osinfra.sh', 'toci_instack_ovb.sh', 'scripts/bootstrap-overcloud-full.sh', 'scripts/quickstart/prepare_slave.yml', 'toci-quickstart/playbooks/prepare_slave.yml']",5,16b35e095070ebffc009b2ee1352f250589d4c9b,bug/1685418, sudo yum remove -y puppet hiera puppetlabs-release rdo-release centos-release-openstack-*;, sudo yum remove -y puppet hiera puppetlabs-release rdo-release;,6,6
openstack%2Fpuppet-glance~stable%2Focata~I392f5dc0797055934bbccd813c101d97a5981165,openstack/puppet-glance,stable/ocata,I392f5dc0797055934bbccd813c101d97a5981165,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:41:58.000000000,2017-04-25 08:55:55.000000000,2017-04-25 08:55:55.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:41:58.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1067c42dfe7c90fbc5791bdd087735cd3d01b40f', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I392f5dc0797055934bbccd813c101d97a5981165\n'}]",0,459357,1067c42dfe7c90fbc5791bdd087735cd3d01b40f,14,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I392f5dc0797055934bbccd813c101d97a5981165
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/57/459357/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,1067c42dfe7c90fbc5791bdd087735cd3d01b40f,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpuppet-cinder~stable%2Focata~Ieb21b40bbcceac3c41900eb664e83df08c9cb97f,openstack/puppet-cinder,stable/ocata,Ieb21b40bbcceac3c41900eb664e83df08c9cb97f,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:41:19.000000000,2017-04-25 08:52:35.000000000,2017-04-25 06:14:20.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:41:19.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/86400c8b82a0e978f88458ecdfeb07a1a1053c89', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: Ieb21b40bbcceac3c41900eb664e83df08c9cb97f\n'}]",0,459353,86400c8b82a0e978f88458ecdfeb07a1a1053c89,15,4,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: Ieb21b40bbcceac3c41900eb664e83df08c9cb97f
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/53/459353/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,86400c8b82a0e978f88458ecdfeb07a1a1053c89,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fnetworking-hyperv~stable%2Fnewton~I23eec565bf39c129674c07a9eaaa19f461efbe5a,openstack/networking-hyperv,stable/newton,I23eec565bf39c129674c07a9eaaa19f461efbe5a,uses upper-constraints,MERGED,2017-04-25 07:49:00.000000000,2017-04-25 08:46:09.000000000,2017-04-25 08:05:24.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-04-25 07:49:00.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/7ff181c776f4bac3f24daf951ed4f6f434c63d12', 'message': 'uses upper-constraints\n\nThe gate is breaking, as the upper-constraints are not used, and later\npackages are used.\n\nChange-Id: I23eec565bf39c129674c07a9eaaa19f461efbe5a\n'}]",0,459568,7ff181c776f4bac3f24daf951ed4f6f434c63d12,7,3,1,8213,,,0,"uses upper-constraints

The gate is breaking, as the upper-constraints are not used, and later
packages are used.

Change-Id: I23eec565bf39c129674c07a9eaaa19f461efbe5a
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/68/459568/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7ff181c776f4bac3f24daf951ed4f6f434c63d12,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages} -egit+https://github.com/openstack/neutron@stable/newton#egg=neutron,install_command = {toxinidir}/tools/tox_install.sh {opts} {packages},2,1
openstack%2Fos-traits~master~If8a9f08b8b45ebcac53ea9a406c210605b163516,openstack/os-traits,master,If8a9f08b8b45ebcac53ea9a406c210605b163516,Add NIC namespace and features,MERGED,2017-03-21 21:14:59.000000000,2017-04-25 08:40:28.000000000,2017-04-25 08:40:28.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 1063}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8802}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}]","[{'number': 1, 'created': '2017-03-21 21:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/c7fb69e474fdd11b2c227371b55c7f35bdb4dfd8', 'message': 'Add NIC namespace and features\n\nAdds a set of traits representing features that hardware networking interface\ncontrollers expose. A number of source documents were used to come up with\nthese traits:\n\nhttps://review.openstack.org/#/c/341341/4/specs/newton/approved/standardize-network-capabilities.rst\nhttps://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/network-nic-offloads.html\nhttps://www.kernel.org/doc/Documentation/networking/scaling.txt\nhttps://www.kernel.org/doc/Documentation/networking/multiqueue.txt\n\nChange-Id: If8a9f08b8b45ebcac53ea9a406c210605b163516\n'}, {'number': 2, 'created': '2017-03-24 17:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/92734bea1977d1d783a0defb0083af4b6f9fe140', 'message': 'Add NIC namespace and features\n\nAdds a set of traits representing features that hardware networking interface\ncontrollers expose. A number of source documents were used to come up with\nthese traits:\n\nhttps://review.openstack.org/#/c/341341/4/specs/newton/approved/standardize-network-capabilities.rst\nhttps://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/network-nic-offloads.html\nhttps://www.kernel.org/doc/Documentation/networking/scaling.txt\nhttps://www.kernel.org/doc/Documentation/networking/multiqueue.txt\n\nChange-Id: If8a9f08b8b45ebcac53ea9a406c210605b163516\n'}, {'number': 3, 'created': '2017-03-27 16:57:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/d8c4c98643d31226d4d345fd8cf4c1c26aef8dea', 'message': 'Add NIC namespace and features\n\nAdds a set of traits representing features that hardware networking interface\ncontrollers expose. A number of source documents were used to come up with\nthese traits:\n\nhttps://review.openstack.org/#/c/341341/4/specs/newton/approved/standardize-network-capabilities.rst\nhttps://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/network-nic-offloads.html\nhttps://www.kernel.org/doc/Documentation/networking/scaling.txt\nhttps://www.kernel.org/doc/Documentation/networking/multiqueue.txt\n\nChange-Id: If8a9f08b8b45ebcac53ea9a406c210605b163516\n'}, {'number': 4, 'created': '2017-04-06 13:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/f9f5e2bd3584b0d09ca163bb2b9c1163e40c2211', 'message': 'Add NIC namespace and features\n\nAdds a set of traits representing features that hardware networking interface\ncontrollers expose. A number of source documents were used to come up with\nthese traits:\n\nhttps://review.openstack.org/#/c/341341/4/specs/newton/approved/standardize-network-capabilities.rst\nhttps://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/network-nic-offloads.html\nhttps://www.kernel.org/doc/Documentation/networking/scaling.txt\nhttps://www.kernel.org/doc/Documentation/networking/multiqueue.txt\n\nChange-Id: If8a9f08b8b45ebcac53ea9a406c210605b163516\n'}, {'number': 5, 'created': '2017-04-24 15:56:53.000000000', 'files': ['os_traits/hw/nic/accel.py', 'os_traits/hw/nic/dcb.py', 'os_traits/hw/nic/sriov.py', 'os_traits/hw/nic/__init__.py', 'os_traits/tests/test_os_traits.py', 'os_traits/__init__.py', 'os_traits/hw/nic/offload.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/842a43b515c1879eb64c69848e1a3e9714d67385', 'message': 'Add NIC namespace and features\n\nAdds a set of traits representing features that hardware networking interface\ncontrollers expose. A number of source documents were used to come up with\nthese traits:\n\nhttps://review.openstack.org/#/c/341341/4/specs/newton/approved/standardize-network-capabilities.rst\nhttps://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/network-nic-offloads.html\nhttps://www.kernel.org/doc/Documentation/networking/scaling.txt\nhttps://www.kernel.org/doc/Documentation/networking/multiqueue.txt\n\nChange-Id: If8a9f08b8b45ebcac53ea9a406c210605b163516\n'}]",12,448283,842a43b515c1879eb64c69848e1a3e9714d67385,34,10,5,7,,,0,"Add NIC namespace and features

Adds a set of traits representing features that hardware networking interface
controllers expose. A number of source documents were used to come up with
these traits:

https://review.openstack.org/#/c/341341/4/specs/newton/approved/standardize-network-capabilities.rst
https://access.redhat.com/documentation/en-US/Red_Hat_Enterprise_Linux/6/html/Performance_Tuning_Guide/network-nic-offloads.html
https://www.kernel.org/doc/Documentation/networking/scaling.txt
https://www.kernel.org/doc/Documentation/networking/multiqueue.txt

Change-Id: If8a9f08b8b45ebcac53ea9a406c210605b163516
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/83/448283/5 && git format-patch -1 --stdout FETCH_HEAD,"['os_traits/hardware/nic.py', 'os_traits/namespace.py', 'os_traits/tests/test_os_traits.py', 'os_traits/__init__.py']",4,c7fb69e474fdd11b2c227371b55c7f35bdb4dfd8,autoimport,from os_traits.hardware.nic import * # noqa,,87,0
openstack%2Fcompute-hyperv~stable%2Focata~Ie8119bfe90690fd4a13e03162963b25696f3d565,openstack/compute-hyperv,stable/ocata,Ie8119bfe90690fd4a13e03162963b25696f3d565,Fix live migration log message formatting,MERGED,2017-04-25 06:55:00.000000000,2017-04-25 08:35:46.000000000,2017-04-25 08:35:07.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2017-04-25 06:55:00.000000000', 'files': ['hyperv/nova/livemigrationops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/58043ab9be84afbec28e1baf5bc0fd8ff45ea9c7', 'message': ""Fix live migration log message formatting\n\nAt the moment, whenever we live migrate an instance, we'll get a\ntrace in the logs because of a log formatting exception.\n\nThis change fixes this trivial issue.\n\nChange-Id: Ie8119bfe90690fd4a13e03162963b25696f3d565\n(cherry picked from commit 820fa8ca5e1568f9f48d66455e6b07f00b532e03)\n""}]",0,459536,58043ab9be84afbec28e1baf5bc0fd8ff45ea9c7,7,4,1,8213,,,0,"Fix live migration log message formatting

At the moment, whenever we live migrate an instance, we'll get a
trace in the logs because of a log formatting exception.

This change fixes this trivial issue.

Change-Id: Ie8119bfe90690fd4a13e03162963b25696f3d565
(cherry picked from commit 820fa8ca5e1568f9f48d66455e6b07f00b532e03)
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/36/459536/1 && git format-patch -1 --stdout FETCH_HEAD,['hyperv/nova/livemigrationops.py'],1,58043ab9be84afbec28e1baf5bc0fd8ff45ea9c7,," LOG.debug(""check_can_live_migrate_source called"", instance=instance_ref)"," LOG.debug(""check_can_live_migrate_source called"", instance_ref)",2,1
openstack%2Fpuppet-ceilometer~stable%2Focata~I4a44713fc216dfb75677151d782c2d7ed7e7eed5,openstack/puppet-ceilometer,stable/ocata,I4a44713fc216dfb75677151d782c2d7ed7e7eed5,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:41:03.000000000,2017-04-25 08:13:30.000000000,2017-04-25 00:18:02.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:41:03.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/b4a034c4ef49cb762b8c49ddf453a5604912712f', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I4a44713fc216dfb75677151d782c2d7ed7e7eed5\n'}]",0,459351,b4a034c4ef49cb762b8c49ddf453a5604912712f,10,4,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I4a44713fc216dfb75677151d782c2d7ed7e7eed5
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/51/459351/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b4a034c4ef49cb762b8c49ddf453a5604912712f,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpymod2pkg~master~I548ed8f1beb4caf476eee6dd8dd74e9ad44ece88,openstack/pymod2pkg,master,I548ed8f1beb4caf476eee6dd8dd74e9ad44ece88,Add mappings for masakari,MERGED,2017-04-24 13:28:08.000000000,2017-04-25 08:09:55.000000000,2017-04-25 08:09:55.000000000,"[{'_account_id': 3}, {'_account_id': 2394}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8716}, {'_account_id': 13294}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-04-24 13:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/f619d98e5eef7d2609887520fb5d12cba7f7f841', 'message': 'Add mappings for masakari\n\nThere are three masakari projects on PyPI:\n\n    - masakari\n    - masakari-monitors\n    - python-masakariclient\n\nhttps://pypi.org/search/?q=masakari\n\nChange-Id: I548ed8f1beb4caf476eee6dd8dd74e9ad44ece88\nSigned-off-by: Adam Spiers <aspiers@suse.com>\n'}, {'number': 2, 'created': '2017-04-24 13:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/cc100422f871aa50b5ce1d2c2e47abababd4f2e1', 'message': 'Add mappings for masakari\n\nThere are three masakari projects on PyPI:\n\n    - masakari\n    - masakari-monitors\n    - python-masakariclient\n\nhttps://pypi.org/search/?q=masakari\n\nChange-Id: I548ed8f1beb4caf476eee6dd8dd74e9ad44ece88\nSigned-off-by: Adam Spiers <aspiers@suse.com>\n'}, {'number': 3, 'created': '2017-04-24 23:05:26.000000000', 'files': ['pymod2pkg/__init__.py'], 'web_link': 'https://opendev.org/openstack/pymod2pkg/commit/ca620f9f0413aa4995e0558d8262f4384452b060', 'message': 'Add mappings for masakari\n\nThere are three masakari projects on PyPI:\n\n    - masakari\n    - masakari-monitors\n    - python-masakariclient\n\nhttps://pypi.org/search/?q=masakari\n\nChange-Id: I548ed8f1beb4caf476eee6dd8dd74e9ad44ece88\nSigned-off-by: Adam Spiers <aspiers@suse.com>\n'}]",3,459293,ca620f9f0413aa4995e0558d8262f4384452b060,15,7,3,2394,,,0,"Add mappings for masakari

There are three masakari projects on PyPI:

    - masakari
    - masakari-monitors
    - python-masakariclient

https://pypi.org/search/?q=masakari

Change-Id: I548ed8f1beb4caf476eee6dd8dd74e9ad44ece88
Signed-off-by: Adam Spiers <aspiers@suse.com>
",git fetch https://review.opendev.org/openstack/pymod2pkg refs/changes/93/459293/3 && git format-patch -1 --stdout FETCH_HEAD,['pymod2pkg/__init__.py'],1,f619d98e5eef7d2609887520fb5d12cba7f7f841,masakari," 'ironic-python-agent', 'keystone', 'magnum', 'manila', 'masakari', 'heat', 'ironic', 'keystone', 'manila', 'masakari', 'masakari-monitors', 'mistral', 'magnum', 'manila', 'masakari', 'mistral', 'monasca', 'magnum', 'manila', 'masakari', 'mistral', 'monasca',"," 'ironic-python-agent', 'keystone', 'magnum', 'manila', 'heat', 'ironic', 'keystone', 'manila', 'mistral', 'magnum', 'manila', 'mistral', 'monasca', 'magnum', 'manila', 'mistral', 'monasca',",5,4
openstack%2Ftripleo-quickstart-extras~master~I42293262ed85e203144f317fc6ec8661410037ab,openstack/tripleo-quickstart-extras,master,I42293262ed85e203144f317fc6ec8661410037ab,[overcloud-deploy] Fix hosts file generation,ABANDONED,2017-02-27 17:08:13.000000000,2017-04-25 08:06:02.000000000,,"[{'_account_id': 3}, {'_account_id': 8652}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10873}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 12715}, {'_account_id': 18846}, {'_account_id': 19339}, {'_account_id': 24752}]","[{'number': 1, 'created': '2017-02-27 17:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f6693bf802fb2fe0cb3b845379a90064d14ee079', 'message': ""Fix hosts file generation\n\n- In HA deployment, some '\\n' are present in the beginning of line\nbefore the IP Address. This patch is a quick workaround until a\nproper fix for that is proposed somewhere in Heat.\n\nChange-Id: I42293262ed85e203144f317fc6ec8661410037ab\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2017-02-27 17:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e2dd3fdb6ba3e82e8736b821e8afdfbcbe20a602', 'message': ""Fix hosts file generation\n\n- In HA deployment, some '\\n' are present in the beginning of line\nbefore the IP Address. This patch is a quick workaround until a\nproper fix for that is proposed somewhere in THT[1].\n\n[1] - https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud.j2.yaml\n\nChange-Id: I42293262ed85e203144f317fc6ec8661410037ab\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2017-03-02 11:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/95fbb2be4b26e0b710c95846a257631498fca10c', 'message': ""[overcloud-deploy] Fix hosts file generation\n\n- In HA deployment, some '\\n' are present in the beginning of line\nbefore the IP Address. This patch is a quick workaround until a\nproper fix for that is proposed somewhere in THT[1].\n\n[1] - https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud.j2.yaml\n\nChange-Id: I42293262ed85e203144f317fc6ec8661410037ab\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 4, 'created': '2017-03-07 13:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e51418a467bc0b5930b8d0017b36bba6b72437d9', 'message': ""[overcloud-deploy] Fix hosts file generation\n\n- In HA deployment, some '\\n' are present in the beginning of line\nbefore the IP Address. This patch is a quick workaround until a\nproper fix for that is proposed somewhere in THT[1].\n\n[1] - https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud.j2.yaml\n\nChange-Id: I42293262ed85e203144f317fc6ec8661410037ab\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 5, 'created': '2017-03-17 14:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2bafd94245479daaf083bfa0a2a45ae390efc31f', 'message': ""[overcloud-deploy] Fix hosts file generation\n\n- In HA deployment, some '\\n' are present in the beginning of line\nbefore the IP Address. This patch is a quick workaround until a\nproper fix for that is proposed somewhere in THT[1].\n\n[1] - https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud.j2.yaml\n\nChange-Id: I42293262ed85e203144f317fc6ec8661410037ab\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 6, 'created': '2017-03-21 10:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3e957a8b6c6fc8dda22fea3b0b2dc92f997d387e', 'message': ""[overcloud-deploy] Fix hosts file generation\n\n- In HA deployment, some '\\n' are present in the beginning of line\nbefore the IP Address. This patch is a quick workaround until a\nproper fix for that is proposed somewhere in THT[1].\n\n[1] - https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud.j2.yaml\n\nChange-Id: I42293262ed85e203144f317fc6ec8661410037ab\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 7, 'created': '2017-03-22 10:04:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/db1e4065fb7444d2530953c168da2f457d5239da', 'message': ""[overcloud-deploy] Fix hosts file generation\n\n- In HA deployment, some '\\n' are present in the beginning of line\nbefore the IP Address. This patch is a quick workaround until a\nproper fix for that is proposed somewhere in THT[1].\n\n[1] - https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud.j2.yaml\n\nChange-Id: I42293262ed85e203144f317fc6ec8661410037ab\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 8, 'created': '2017-03-27 08:45:02.000000000', 'files': ['roles/overcloud-deploy/templates/overcloud-deploy-post.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0aa5a313ead7c594da501ed07b1a88d9a0f1992b', 'message': ""[overcloud-deploy] Fix hosts file generation\n\n- In HA deployment, some '\\n' are present in the beginning of line\nbefore the IP Address. This patch is a quick workaround until a\nproper fix for that is proposed somewhere in THT[1].\n\n[1] - https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud.j2.yaml\n\nChange-Id: I42293262ed85e203144f317fc6ec8661410037ab\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",1,438625,0aa5a313ead7c594da501ed07b1a88d9a0f1992b,58,12,8,11491,,,0,"[overcloud-deploy] Fix hosts file generation

- In HA deployment, some '\n' are present in the beginning of line
before the IP Address. This patch is a quick workaround until a
proper fix for that is proposed somewhere in THT[1].

[1] - https://github.com/openstack/tripleo-heat-templates/blob/master/overcloud.j2.yaml

Change-Id: I42293262ed85e203144f317fc6ec8661410037ab
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/25/438625/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-deploy/templates/overcloud-deploy-post.sh.j2'],1,f6693bf802fb2fe0cb3b845379a90064d14ee079,heat_deprecated_refs,$(heat output-show -F raw overcloud HostsEntry | sed 's;^\\n;;g'),$(heat output-show -F raw overcloud HostsEntry),1,1
openstack%2Fmagnum~master~I6a920a189264bf4c306be44399caa25537d4a0ce,openstack/magnum,master,I6a920a189264bf4c306be44399caa25537d4a0ce,Use right no proxy settings for swarm master and agent,MERGED,2017-01-31 09:22:56.000000000,2017-04-25 08:03:31.000000000,2017-02-07 01:21:42.000000000,"[{'_account_id': 3}, {'_account_id': 9591}, {'_account_id': 10992}, {'_account_id': 11536}, {'_account_id': 18552}, {'_account_id': 21660}]","[{'number': 1, 'created': '2017-01-31 09:22:56.000000000', 'files': ['magnum/drivers/common/templates/swarm/fragments/write-swarm-agent-service.sh', 'magnum/drivers/common/templates/swarm/fragments/write-swarm-master-service.sh'], 'web_link': 'https://opendev.org/openstack/magnum/commit/a24de0a536404d26120fbb9bc8121ab673ac299d', 'message': 'Use right no proxy settings for swarm master and agent\n\nChange-Id: I6a920a189264bf4c306be44399caa25537d4a0ce\nCloses-Bug: 1660562\n'}]",2,427073,a24de0a536404d26120fbb9bc8121ab673ac299d,24,6,1,18552,,,0,"Use right no proxy settings for swarm master and agent

Change-Id: I6a920a189264bf4c306be44399caa25537d4a0ce
Closes-Bug: 1660562
",git fetch https://review.opendev.org/openstack/magnum refs/changes/73/427073/1 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/swarm/fragments/write-swarm-agent-service.sh', 'magnum/drivers/common/templates/swarm/fragments/write-swarm-master-service.sh']",2,a24de0a536404d26120fbb9bc8121ab673ac299d,bug/1660562,"if [ -z ""$NO_PROXY"" ]; then NO_PROXY=$SWARM_API_IP,$ETCD_SERVER_IP,$SWARM_NODE_IP fi ",,8,0
openstack%2Fpuppet-vswitch~stable%2Focata~I54fd5969cfbc65134abcc60bdbded360d6eb6c6a,openstack/puppet-vswitch,stable/ocata,I54fd5969cfbc65134abcc60bdbded360d6eb6c6a,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:45:50.000000000,2017-04-25 08:00:00.000000000,2017-04-25 08:00:00.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:45:50.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/910969d3b4c0754ea0801c8dcd39da904058efd4', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I54fd5969cfbc65134abcc60bdbded360d6eb6c6a\n'}]",0,459380,910969d3b4c0754ea0801c8dcd39da904058efd4,12,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I54fd5969cfbc65134abcc60bdbded360d6eb6c6a
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/80/459380/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,910969d3b4c0754ea0801c8dcd39da904058efd4,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fgrenade~master~Ie59c6f824ae0801b2373c50eb2047f05a008790e,openstack/grenade,master,Ie59c6f824ae0801b2373c50eb2047f05a008790e,copy .stackenv to target,MERGED,2017-04-20 18:57:47.000000000,2017-04-25 07:48:09.000000000,2017-04-21 17:43:36.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 5196}]","[{'number': 1, 'created': '2017-04-20 18:57:47.000000000', 'files': ['grenade.sh'], 'web_link': 'https://opendev.org/openstack/grenade/commit/4075993fbb9f2a1b48cf5deab0d9051b86a9ec6d', 'message': 'copy .stackenv to target\n\nWith changes to the way that openrc is working, especially with\nkeystone not just being a simple host / port combo, we need to copy\nover out stackenv to the new side.\n\nChange-Id: Ie59c6f824ae0801b2373c50eb2047f05a008790e\n'}]",0,458620,4075993fbb9f2a1b48cf5deab0d9051b86a9ec6d,8,3,1,2750,,,0,"copy .stackenv to target

With changes to the way that openrc is working, especially with
keystone not just being a simple host / port combo, we need to copy
over out stackenv to the new side.

Change-Id: Ie59c6f824ae0801b2373c50eb2047f05a008790e
",git fetch https://review.opendev.org/openstack/grenade refs/changes/20/458620/1 && git format-patch -1 --stdout FETCH_HEAD,['grenade.sh'],1,4075993fbb9f2a1b48cf5deab0d9051b86a9ec6d,, # copy over the base .stackenv to the target one so that openrc # works as expected. cp .stackenv $TARGET_DEVSTACK_DIR,,3,0
openstack%2Fcinder~master~If802b8847a6b5bae09e682a00d66cc9038fdb8ec,openstack/cinder,master,If802b8847a6b5bae09e682a00d66cc9038fdb8ec,Fix typo in comments.,MERGED,2017-04-24 09:41:36.000000000,2017-04-25 07:41:22.000000000,2017-04-24 20:04:57.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18602}, {'_account_id': 19852}, {'_account_id': 21239}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-04-24 09:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/68b140ac1db9480ee5c765a009991fcaf4cae5a6', 'message': ""Fix typo\n\nFix type in 'migrate_volume_completion' method.\n\nChange-Id: If802b8847a6b5bae09e682a00d66cc9038fdb8ec\n""}, {'number': 2, 'created': '2017-04-24 13:42:33.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f6fa604781f67d8c59ef8a9ba14d067d1fea685b', 'message': ""Fix typo in comments.\n\nFix typo in 'migrate_volume_completion' method's comments.\n\nChange-Id: If802b8847a6b5bae09e682a00d66cc9038fdb8ec\n""}]",2,459218,f6fa604781f67d8c59ef8a9ba14d067d1fea685b,63,29,2,23083,,,0,"Fix typo in comments.

Fix typo in 'migrate_volume_completion' method's comments.

Change-Id: If802b8847a6b5bae09e682a00d66cc9038fdb8ec
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/459218/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,68b140ac1db9480ee5c765a009991fcaf4cae5a6,bug/fix_attachment_typos," # As after detach and refresh, volume_attachments will be None. # Restore the attachments"," # As after detach and refresh, volume_attchments will be None. # Restore the attachmens",2,2
openstack%2Fpuppet-tempest~stable%2Focata~I43b1968ad6d8483539ed7d49bd9e5b4ce7076ddb,openstack/puppet-tempest,stable/ocata,I43b1968ad6d8483539ed7d49bd9e5b4ce7076ddb,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:45:30.000000000,2017-04-25 07:31:11.000000000,2017-04-25 07:31:11.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:45:30.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/5b98612a7369bcf5ee69f96fd001337364510651', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I43b1968ad6d8483539ed7d49bd9e5b4ce7076ddb\n'}]",0,459378,5b98612a7369bcf5ee69f96fd001337364510651,13,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I43b1968ad6d8483539ed7d49bd9e5b4ce7076ddb
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/78/459378/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,5b98612a7369bcf5ee69f96fd001337364510651,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpython-zaqarclient~master~Ie3e7c4392bb672c98ff17aa34fc85e9ecb959380,openstack/python-zaqarclient,master,Ie3e7c4392bb672c98ff17aa34fc85e9ecb959380,Add 'rm -f .testrepository/times.dbm' command in testenv,NEW,2017-04-25 06:52:58.000000000,2017-04-25 07:13:07.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-04-25 06:52:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/b193c10373732fb60d17d57765b83521f2022f04', 'message': ""Add 'rm -f .testrepository/times.dbm' command in testenv\n\nRunning py2* post py3* tests results in error. Add\n'rm -f .testrepository/times.dbm' command in testenv to\nresolve this.\n\nChange-Id: Ie3e7c4392bb672c98ff17aa34fc85e9ecb959380\n""}]",0,459534,b193c10373732fb60d17d57765b83521f2022f04,2,1,1,20401,,,0,"Add 'rm -f .testrepository/times.dbm' command in testenv

Running py2* post py3* tests results in error. Add
'rm -f .testrepository/times.dbm' command in testenv to
resolve this.

Change-Id: Ie3e7c4392bb672c98ff17aa34fc85e9ecb959380
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/34/459534/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b193c10373732fb60d17d57765b83521f2022f04,test_env,"commands = rm -f .testrepository/times.dbm find . -type f -name ""*.pyc"" -delete","commands = find . -type f -name ""*.pyc"" -delete",2,1
openstack%2Fgnocchi~master~I3ab657072706c648cb66eee83a58b69feb919b93,openstack/gnocchi,master,I3ab657072706c648cb66eee83a58b69feb919b93,hide lock error on delete_metric,MERGED,2017-04-09 17:48:36.000000000,2017-04-25 07:03:15.000000000,2017-04-25 07:03:15.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-04-09 17:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/d85bff9a8aca912f27003a8b26840fa6759d93ac', 'message': ""hide lock error on delete_metric\n\ntooz non-blocking lock with raise an error if done through\ncontextmanager. delete_metric uses this functionality. we shouldn't\npush an error log in this case since it likely means another process\nis handling it. catch error and skip processing, either another\nprocess handles it, or we will come back to it.\n\nChange-Id: I3ab657072706c648cb66eee83a58b69feb919b93\n""}, {'number': 2, 'created': '2017-04-10 21:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/67f588ccef2636db63f4e8a52808cf440234a885', 'message': ""hide lock error on delete_metric\n\ntooz non-blocking lock will raise an error if done through\ncontextmanager. delete_metric uses this functionality. we shouldn't\nshow an error log in this case since it likely means another process\nis handling it. catch error and skip processing, either another\nprocess handles it, or we will come back to it.\n\nChange-Id: I3ab657072706c648cb66eee83a58b69feb919b93\n""}, {'number': 3, 'created': '2017-04-13 15:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/57013e65c0bff1b21e2e4e0dd47a5aa188221b96', 'message': ""hide lock error on delete_metric\n\ntooz non-blocking lock will raise an error if done through\ncontextmanager. delete_metric uses this functionality. we shouldn't\nshow an error log in this case since it likely means another process\nis handling it. this raises an non-critical error to be caught so\nworker skips processing, either another process handles it, or we\nwill come back to it.\n\nalso, metric should only be removed from indexer if storage completes\nsuccesfully.\n\nChange-Id: I3ab657072706c648cb66eee83a58b69feb919b93\n""}, {'number': 4, 'created': '2017-04-18 17:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/cb722d35ec8a1ce8770b684631704fbf0ee0d7af', 'message': ""hide lock error on delete_metric\n\ntooz non-blocking lock will raise an error if done through\ncontextmanager. delete_metric uses this functionality. we shouldn't\nshow an error log in this case since it likely means another process\nis handling it. this raises an non-critical error to be caught so\nworker skips processing, either another process handles it, or we\nwill come back to it.\n\nalso, metric should only be removed from indexer if storage completes\nsuccesfully.\n\nChange-Id: I3ab657072706c648cb66eee83a58b69feb919b93\n""}, {'number': 5, 'created': '2017-04-21 18:11:31.000000000', 'files': ['gnocchi/storage/__init__.py', 'gnocchi/storage/_carbonara.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/b6188b69c9405079e9c8e9a08ba2d57d81a07bdb', 'message': ""hide lock error on delete_metric\n\ntooz non-blocking lock will raise an error if done through\ncontextmanager. delete_metric uses this functionality. we shouldn't\nshow an error log in this case since it likely means another process\nis handling it. this raises an non-critical error to be caught so\nworker skips processing, either another process handles it, or we\nwill come back to it.\n\nalso, metric should only be removed from indexer if storage completes\nsuccesfully.\n\nChange-Id: I3ab657072706c648cb66eee83a58b69feb919b93\n""}]",5,455078,b6188b69c9405079e9c8e9a08ba2d57d81a07bdb,26,4,5,6537,,,0,"hide lock error on delete_metric

tooz non-blocking lock will raise an error if done through
contextmanager. delete_metric uses this functionality. we shouldn't
show an error log in this case since it likely means another process
is handling it. this raises an non-critical error to be caught so
worker skips processing, either another process handles it, or we
will come back to it.

also, metric should only be removed from indexer if storage completes
succesfully.

Change-Id: I3ab657072706c648cb66eee83a58b69feb919b93
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/78/455078/2 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/storage/__init__.py'],1,d85bff9a8aca912f27003a8b26840fa6759d93ac,bug/1629420,from tooz import coordination except coordination.LockAcquiredFailed: continue # another process is working on it.,,3,0
openstack%2Fwatcher~master~Ibd02a126bb4808625cede8fe04255ac014268adb,openstack/watcher,master,Ibd02a126bb4808625cede8fe04255ac014268adb,[Doc] fix local.conf.compute,MERGED,2017-04-24 11:58:39.000000000,2017-04-25 07:01:57.000000000,2017-04-25 07:01:57.000000000,"[{'_account_id': 3}, {'_account_id': 18971}, {'_account_id': 21692}, {'_account_id': 22255}]","[{'number': 1, 'created': '2017-04-24 11:58:39.000000000', 'files': ['devstack/local.conf.compute'], 'web_link': 'https://opendev.org/openstack/watcher/commit/216f3bab29d7e4d13ae719fa5be0379bce370f25', 'message': '[Doc] fix local.conf.compute\n\nCompute node needs placement-client service from Ocata.\n\nChange-Id: Ibd02a126bb4808625cede8fe04255ac014268adb\n'}]",0,459254,216f3bab29d7e4d13ae719fa5be0379bce370f25,8,4,1,13111,,,0,"[Doc] fix local.conf.compute

Compute node needs placement-client service from Ocata.

Change-Id: Ibd02a126bb4808625cede8fe04255ac014268adb
",git fetch https://review.opendev.org/openstack/watcher refs/changes/54/459254/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/local.conf.compute'],1,216f3bab29d7e4d13ae719fa5be0379bce370f25,fix_local_conf,"ENABLED_SERVICES=n-cpu,n-api-meta,c-vol,q-agt,placement-client","ENABLED_SERVICES=n-cpu,n-api-meta,c-vol,q-agt",1,1
openstack%2Fpuppet-keystone~stable%2Focata~I639d67cda4c36bf465f12c7d5b9e307fe483c2e6,openstack/puppet-keystone,stable/ocata,I639d67cda4c36bf465f12c7d5b9e307fe483c2e6,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:42:51.000000000,2017-04-25 07:00:53.000000000,2017-04-25 00:29:03.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:42:51.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/c1ba8c9447da5fc6960d5edb3bb11d05493b15f3', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I639d67cda4c36bf465f12c7d5b9e307fe483c2e6\n'}]",0,459362,c1ba8c9447da5fc6960d5edb3bb11d05493b15f3,12,5,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I639d67cda4c36bf465f12c7d5b9e307fe483c2e6
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/62/459362/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,c1ba8c9447da5fc6960d5edb3bb11d05493b15f3,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fgnocchi~master~I3db6a69ee35be3e7cd627bbeb929dcfe4c548603,openstack/gnocchi,master,I3db6a69ee35be3e7cd627bbeb929dcfe4c548603,tox: remove useless variable declarations,MERGED,2017-04-20 15:22:55.000000000,2017-04-25 06:59:17.000000000,2017-04-25 06:59:17.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-04-20 15:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/01754669da3a65b23fc94d8f7da22cffc20a43d8', 'message': 'tox: be explicit about the used drivers in docs-gnocchi.xyz\n\nThese are the default but better be explicit.\n\nChange-Id: I3db6a69ee35be3e7cd627bbeb929dcfe4c548603\n'}, {'number': 2, 'created': '2017-04-21 07:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/cef77d737da3d36e34823ddc9f5a21b7cf65aa36', 'message': 'tox: be explicit about the used drivers in docs-gnocchi.xyz\n\nThese are the default but better be explicit.\n\nChange-Id: I3db6a69ee35be3e7cd627bbeb929dcfe4c548603\n'}, {'number': 3, 'created': '2017-04-21 08:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/4d923201b889a73d546dda68e1845daa850bdc63', 'message': ""tox: remove useless variable declarations\n\nThose are only used when running tests, otherwise they're just either default\nor passed via pifpaf\n\nChange-Id: I3db6a69ee35be3e7cd627bbeb929dcfe4c548603\n""}, {'number': 4, 'created': '2017-04-21 10:00:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/882548f2b31bcc1e7ac88257c5e3c57cfd174a32', 'message': ""tox: remove useless variable declarations\n\nThose are only used when running tests, otherwise they're just either default\nor passed via pifpaf\n\nChange-Id: I3db6a69ee35be3e7cd627bbeb929dcfe4c548603\n""}]",0,458553,882548f2b31bcc1e7ac88257c5e3c57cfd174a32,14,4,4,1669,,,0,"tox: remove useless variable declarations

Those are only used when running tests, otherwise they're just either default
or passed via pifpaf

Change-Id: I3db6a69ee35be3e7cd627bbeb929dcfe4c548603
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/53/458553/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,01754669da3a65b23fc94d8f7da22cffc20a43d8,jd/new-logo,setenv = GNOCCHI_TEST_STORAGE_DRIVER=file GNOCCHI_TEST_INDEXER_DRIVER=postgresql,,2,0
openstack%2Fgnocchi~master~I040bd1a12ade7a255e0d52c2c1fb6ff61be007d9,openstack/gnocchi,master,I040bd1a12ade7a255e0d52c2c1fb6ff61be007d9,tox: factorize docs dependencies,MERGED,2017-04-20 15:22:55.000000000,2017-04-25 06:59:12.000000000,2017-04-25 06:59:11.000000000,"[{'_account_id': 3}, {'_account_id': 2813}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-04-20 15:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/ae838737dc6b58dc4d41c6d92715f01da8ffe283', 'message': 'tox: factorize docs dependencies\n\nThis has been fixed in tox 2.4.\n\nChange-Id: I040bd1a12ade7a255e0d52c2c1fb6ff61be007d9\n'}, {'number': 2, 'created': '2017-04-21 07:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/cb661519df17789a81869a36b9c4f5d330175000', 'message': 'tox: factorize docs dependencies\n\nThis has been fixed in tox 2.4.\n\nChange-Id: I040bd1a12ade7a255e0d52c2c1fb6ff61be007d9\n'}, {'number': 3, 'created': '2017-04-21 10:00:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/977a4218cb558bec496827a74e396462ee5fc5bd', 'message': 'tox: factorize docs dependencies\n\nThis has been fixed in tox 2.4.\n\nChange-Id: I040bd1a12ade7a255e0d52c2c1fb6ff61be007d9\n'}]",1,458552,977a4218cb558bec496827a74e396462ee5fc5bd,14,3,3,1669,,,0,"tox: factorize docs dependencies

This has been fixed in tox 2.4.

Change-Id: I040bd1a12ade7a255e0d52c2c1fb6ff61be007d9
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/52/458552/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ae838737dc6b58dc4d41c6d92715f01da8ffe283,jd/new-logo,"minversion = 2.4deps = {[testenv]deps} .[postgresql,file,doc]deps = {[testenv:docs]deps} sphinx_rtd_theme","minversion = 1.8# This does not work, see: https://bitbucket.org/hpk42/tox/issues/302 # deps = {[testenv]deps} # .[doc] deps = .[test,postgresql,file,doc]deps = .[file,postgresql,test,doc]",5,6
openstack%2Fcompute-hyperv~master~Ie8119bfe90690fd4a13e03162963b25696f3d565,openstack/compute-hyperv,master,Ie8119bfe90690fd4a13e03162963b25696f3d565,Fix live migration log message formatting,MERGED,2017-04-07 08:50:32.000000000,2017-04-25 06:55:12.000000000,2017-04-07 09:06:54.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2017-04-07 08:50:32.000000000', 'files': ['hyperv/nova/livemigrationops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/820fa8ca5e1568f9f48d66455e6b07f00b532e03', 'message': ""Fix live migration log message formatting\n\nAt the moment, whenever we live migrate an instance, we'll get a\ntrace in the logs because of a log formatting exception.\n\nThis change fixes this trivial issue.\n\nChange-Id: Ie8119bfe90690fd4a13e03162963b25696f3d565\n""}]",0,454615,820fa8ca5e1568f9f48d66455e6b07f00b532e03,10,4,1,8543,,,0,"Fix live migration log message formatting

At the moment, whenever we live migrate an instance, we'll get a
trace in the logs because of a log formatting exception.

This change fixes this trivial issue.

Change-Id: Ie8119bfe90690fd4a13e03162963b25696f3d565
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/15/454615/1 && git format-patch -1 --stdout FETCH_HEAD,['hyperv/nova/livemigrationops.py'],1,820fa8ca5e1568f9f48d66455e6b07f00b532e03,," LOG.debug(""check_can_live_migrate_source called"", instance=instance_ref)"," LOG.debug(""check_can_live_migrate_source called"", instance_ref)",2,1
openstack%2Fkarbor~master~Ie9b3f42273ee7dc37f31c8a7396be02d6c4f584e,openstack/karbor,master,Ie9b3f42273ee7dc37f31c8a7396be02d6c4f584e,Fix error in doc,MERGED,2017-04-24 04:01:43.000000000,2017-04-25 06:49:02.000000000,2017-04-25 06:49:02.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 20883}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-04-24 04:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/167fa9ac4946b897ee533d33402f4e0e065e80d2', 'message': 'Fix error in doc\n\nCorrect the error which copies wsgi file from watcher code instead of\nkarbor. However that file in karbor currently does not exist.\n\nChange-Id: Ie9b3f42273ee7dc37f31c8a7396be02d6c4f584e\n'}, {'number': 2, 'created': '2017-04-24 04:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/c6e61591e6b5a00aee2e5011d14b9ed03b637737', 'message': 'Fix error in doc\n\nCorrect the error which points to watcher code instead of\nkarbor.\n\nChange-Id: Ie9b3f42273ee7dc37f31c8a7396be02d6c4f584e\n'}, {'number': 3, 'created': '2017-04-24 07:25:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/9f10d8b124e77b76536a5dbe40850a03de95c33d', 'message': 'Fix error in doc\n\nCorrect the error which points to watcher code instead of\nkarbor.\n\nChange-Id: Ie9b3f42273ee7dc37f31c8a7396be02d6c4f584e\n'}, {'number': 4, 'created': '2017-04-24 07:26:52.000000000', 'files': ['doc/source/mod_wsgi.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/1f690c33423de39811c49a5a011caeeb86444003', 'message': 'Fix error in doc\n\nCorrect the error which points to watcher code instead of karbor.\n\nChange-Id: Ie9b3f42273ee7dc37f31c8a7396be02d6c4f584e\n'}]",2,459159,1f690c33423de39811c49a5a011caeeb86444003,18,4,4,21797,,,0,"Fix error in doc

Correct the error which points to watcher code instead of karbor.

Change-Id: Ie9b3f42273ee7dc37f31c8a7396be02d6c4f584e
",git fetch https://review.opendev.org/openstack/karbor refs/changes/59/459159/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/mod_wsgi.rst'],1,167fa9ac4946b897ee533d33402f4e0e065e80d2,doc, karbor/api/app.wsgi script. * Modify the ``Directory`` directive to set the path to the Karbor API , watcher/api/app.wsgi script. * Modify the ``Directory`` directive to set the path to the Watcher API ,2,2
openstack%2Fcompute-hyperv~stable%2Fnewton~I8cd42bed4515f4f75c92e595c4d8b847b16058dd,openstack/compute-hyperv,stable/newton,I8cd42bed4515f4f75c92e595c4d8b847b16058dd,HyperV: ensure config drives are copied as well during resizes,MERGED,2017-04-05 16:49:04.000000000,2017-04-25 06:48:57.000000000,2017-04-25 06:48:57.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2017-04-05 16:49:04.000000000', 'files': ['hyperv/tests/unit/test_migrationops.py', 'hyperv/nova/migrationops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/1e2cc6ff213bc3ffafd57bfc162b67acae2c0ecc', 'message': 'HyperV: ensure config drives are copied as well during resizes\n\nDuring cold migration, vhd config drive images are not copied\nover, on the wrong assumption that the instance is already\nconfigured and does not need the config drive.\n\nFor this reason, migrating instances using vhd config drives\nwill fail, as there is a check ensuring that the config drive\nis present, if required.\n\nThis change addresses the issue, removing the check that was\npreventing the config drive from being copied.\n\n(cherry-picked from commit 2dd231cff199bd75bcd3d1031a9ff0a1a82ec1cb)\n\nChange-Id: I8cd42bed4515f4f75c92e595c4d8b847b16058dd\nCloses-Bug: #1619602\n'}]",0,453784,1e2cc6ff213bc3ffafd57bfc162b67acae2c0ecc,26,3,1,8213,,,0,"HyperV: ensure config drives are copied as well during resizes

During cold migration, vhd config drive images are not copied
over, on the wrong assumption that the instance is already
configured and does not need the config drive.

For this reason, migrating instances using vhd config drives
will fail, as there is a check ensuring that the config drive
is present, if required.

This change addresses the issue, removing the check that was
preventing the config drive from being copied.

(cherry-picked from commit 2dd231cff199bd75bcd3d1031a9ff0a1a82ec1cb)

Change-Id: I8cd42bed4515f4f75c92e595c4d8b847b16058dd
Closes-Bug: #1619602
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/84/453784/1 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/tests/unit/test_migrationops.py', 'hyperv/nova/migrationops.py']",2,1e2cc6ff213bc3ffafd57bfc162b67acae2c0ecc,bug/1619602," LOG.debug('Copying disk ""%(disk_file)s"" to ' '""%(dest_path)s""', {'disk_file': disk_file, 'dest_path': dest_path}) self._pathutils.copy(disk_file, dest_path)"," # Skip the config drive as the instance is already configured if os.path.basename(disk_file).lower() != 'configdrive.vhd': LOG.debug('Copying disk ""%(disk_file)s"" to ' '""%(dest_path)s""', {'disk_file': disk_file, 'dest_path': dest_path}) self._pathutils.copy(disk_file, dest_path)",15,9
openstack%2Fcompute-hyperv~stable%2Fnewton~I9097debeb68cb25dec27e7b3e979cf51d951c250,openstack/compute-hyperv,stable/newton,I9097debeb68cb25dec27e7b3e979cf51d951c250,hyperv: make sure to plug OVS VIFs after resize/migrate,MERGED,2017-04-05 16:54:12.000000000,2017-04-25 06:48:48.000000000,2017-04-25 06:48:48.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-04-05 16:54:12.000000000', 'files': ['hyperv/tests/unit/test_migrationops.py', 'hyperv/nova/migrationops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/701f37a9fa41e6c0ff6fd3a283a43cdf21d705cc', 'message': ""hyperv: make sure to plug OVS VIFs after resize/migrate\n\nSince the network_info wasn't getting passed to vmops.power_on\nafter a resize/cold migrate confirmation, the OVS VIFs weren't\ngetting plugged.\n\nNOTE(claudiub): the way migrations work changed in Ocata, which is\nthe reason of the conflict.\n\n(cherry-picked from commit 568a682e5efa6e4fd49b69e02cbd80f1d8a96c63)\n\n(cherry picked from commit 5eb0db9b369dbcf594e0dd66fcebf12c69699417)\n\nConflicts:\n\thyperv/nova/migrationops.py\n\thyperv/tests/unit/test_migrationops.py\n\nCloses-Bug: #1657424\n\nChange-Id: I9097debeb68cb25dec27e7b3e979cf51d951c250\n""}]",0,453785,701f37a9fa41e6c0ff6fd3a283a43cdf21d705cc,20,2,1,8213,,,0,"hyperv: make sure to plug OVS VIFs after resize/migrate

Since the network_info wasn't getting passed to vmops.power_on
after a resize/cold migrate confirmation, the OVS VIFs weren't
getting plugged.

NOTE(claudiub): the way migrations work changed in Ocata, which is
the reason of the conflict.

(cherry-picked from commit 568a682e5efa6e4fd49b69e02cbd80f1d8a96c63)

(cherry picked from commit 5eb0db9b369dbcf594e0dd66fcebf12c69699417)

Conflicts:
	hyperv/nova/migrationops.py
	hyperv/tests/unit/test_migrationops.py

Closes-Bug: #1657424

Change-Id: I9097debeb68cb25dec27e7b3e979cf51d951c250
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/85/453785/1 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/tests/unit/test_migrationops.py', 'hyperv/nova/migrationops.py']",2,701f37a9fa41e6c0ff6fd3a283a43cdf21d705cc,bug/1657424," self._vmops.power_on(instance, network_info=network_info)", self._vmops.power_on(instance),2,2
openstack%2Fec2-api~master~Ide2e6f2fe9d5b3c7b33e2fefdd3d306284684ba1,openstack/ec2-api,master,Ide2e6f2fe9d5b3c7b33e2fefdd3d306284684ba1,Add 'rm -f .testrepository/times.dbm' command in testenv,MERGED,2017-04-25 04:52:10.000000000,2017-04-25 06:45:59.000000000,2017-04-25 06:45:59.000000000,"[{'_account_id': 3}, {'_account_id': 10234}]","[{'number': 1, 'created': '2017-04-25 04:52:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a7faec02158fa98227b166666db0b235e43bee25', 'message': ""Add 'rm -f .testrepository/times.dbm' command in testenv\n\nRunning py2* post py3* tests results in error. Add\n'rm -f .testrepository/times.dbm' command in testenv to\nresolve this.\n\nChange-Id: Ide2e6f2fe9d5b3c7b33e2fefdd3d306284684ba1\n""}]",0,459506,a7faec02158fa98227b166666db0b235e43bee25,6,2,1,25571,,,0,"Add 'rm -f .testrepository/times.dbm' command in testenv

Running py2* post py3* tests results in error. Add
'rm -f .testrepository/times.dbm' command in testenv to
resolve this.

Change-Id: Ide2e6f2fe9d5b3c7b33e2fefdd3d306284684ba1
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/06/459506/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a7faec02158fa98227b166666db0b235e43bee25,, rm -f .testrepository/times.dbm ,,2,1
openstack%2Fcompute-hyperv~master~I225bb63050c7f044d1c7562bcdb2640da4321273,openstack/compute-hyperv,master,I225bb63050c7f044d1c7562bcdb2640da4321273,Improve cluster event listener,MERGED,2017-04-10 08:06:54.000000000,2017-04-25 06:44:37.000000000,2017-04-21 09:07:05.000000000,"[{'_account_id': 3}, {'_account_id': 5170}, {'_account_id': 8213}, {'_account_id': 8543}]","[{'number': 1, 'created': '2017-04-10 08:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/b9538fe345cd16b3bbdf544d465ea3673f13b27d', 'message': ""[wip - needs ut] Improve cluster event listener\n\nAt the moment, we handle each failover event sequentially, also\nwaiting a fixed amount between them.\n\nThis change ensures we do this concurrently and that we don't wait\nbetween events.\n\nChange-Id: I225bb63050c7f044d1c7562bcdb2640da4321273\n""}, {'number': 2, 'created': '2017-04-10 12:13:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/b842565166c9bb12bec596a31b85a0f194a1bf73', 'message': ""Improve cluster event listener\n\nAt the moment, we handle each failover event sequentially, also\nwaiting a fixed amount between them.\n\nThis change ensures we do this concurrently and that we don't wait\nbetween events.\n\nChange-Id: I225bb63050c7f044d1c7562bcdb2640da4321273\n""}, {'number': 3, 'created': '2017-04-10 12:14:54.000000000', 'files': ['hyperv/nova/cluster/clusterops.py', 'hyperv/tests/unit/cluster/test_clusterops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/9f0ea777a77badfd66b5a19e768324581a47e592', 'message': ""Improve cluster event listener\n\nAt the moment, we handle each failover event sequentially, also\nwaiting a fixed amount between them.\n\nThis change ensures we do this concurrently and that we don't wait\nbetween events.\n\nChange-Id: I225bb63050c7f044d1c7562bcdb2640da4321273\n""}]",0,455147,9f0ea777a77badfd66b5a19e768324581a47e592,14,4,3,8543,,,0,"Improve cluster event listener

At the moment, we handle each failover event sequentially, also
waiting a fixed amount between them.

This change ensures we do this concurrently and that we don't wait
between events.

Change-Id: I225bb63050c7f044d1c7562bcdb2640da4321273
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/47/455147/1 && git format-patch -1 --stdout FETCH_HEAD,['hyperv/nova/cluster/clusterops.py'],1,b9538fe345cd16b3bbdf544d465ea3673f13b27d,,"import functools from nova import utils listener = self._clustutils.get_vm_owner_change_listener() cbk = functools.partial(utils.spawn_n, self._failover_migrate) utils.spawn_n(listener, cbk) utils.spawn_n(self._failover_migrate, instance.name, instance.host, self._this_node)","from oslo_service import loopingcall self._daemon = None def _looper(): try: self._clustutils.monitor_vm_failover(self._failover_migrate) except Exception: LOG.exception(_LE('Exception occured during failover ' 'observation / migration.')) self._daemon = loopingcall.FixedIntervalLoopingCall(_looper) self._daemon.start( interval=CONF.hyperv.cluster_event_check_interval) self._failover_migrate(instance.name, instance.host, self._this_node)",9,14
openstack%2Ffuel-web~stable%2Fmitaka~I381d13629adf478bd2b0f107a50ff6a725536881,openstack/fuel-web,stable/mitaka,I381d13629adf478bd2b0f107a50ff6a725536881,"Revert ""Fix requests requirements""",ABANDONED,2017-04-24 13:14:22.000000000,2017-04-25 06:31:47.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-04-24 13:14:22.000000000', 'files': ['nailgun/requirements.txt'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/6e5284ab1e811173168d736c038323e5736943ce', 'message': 'Revert ""Fix requests requirements""\n\nThis reverts commit e40c36f09e394f1ddd4af092f537e60687b4f455.\n\nChange-Id: I381d13629adf478bd2b0f107a50ff6a725536881\nCloses-Bug: #1685783\n'}]",0,459284,6e5284ab1e811173168d736c038323e5736943ce,17,3,1,14610,,,0,"Revert ""Fix requests requirements""

This reverts commit e40c36f09e394f1ddd4af092f537e60687b4f455.

Change-Id: I381d13629adf478bd2b0f107a50ff6a725536881
Closes-Bug: #1685783
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/84/459284/1 && git format-patch -1 --stdout FETCH_HEAD,['nailgun/requirements.txt'],1,6e5284ab1e811173168d736c038323e5736943ce,bug/1672658,"requests>=2.5.2,!=2.8.0,!=2.9.0","requests!=2.12.2,!=2.13.0,>=2.10.0",1,1
openstack%2Fos-net-config~master~I1acc8a3b8bbacc613344207b43684b0f86ff4a15,openstack/os-net-config,master,I1acc8a3b8bbacc613344207b43684b0f86ff4a15,Removed vlan port on ovs_user_bridge in dpdk bond samples,MERGED,2017-03-20 10:49:23.000000000,2017-04-25 06:14:32.000000000,2017-04-25 06:14:32.000000000,"[{'_account_id': 3}, {'_account_id': 6681}, {'_account_id': 6928}, {'_account_id': 12398}]","[{'number': 1, 'created': '2017-03-20 10:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/73506a9ef0664ef15558a789fa319af7c9d29415', 'message': 'Removed vlan port on ovs_user_bridge in dpdk bond samples\n\nvlan port is not supported on the netdev bridges. But the\ndpdk bond sample contains this wrong configuration. Removing\nthe vlan port on the ovs_user_bridge.\nCloses-Bug: #1674280\n\nChange-Id: I1acc8a3b8bbacc613344207b43684b0f86ff4a15\n'}, {'number': 2, 'created': '2017-04-11 11:23:23.000000000', 'files': ['etc/os-net-config/samples/ovs_dpdk_bond.json', 'etc/os-net-config/samples/ovs_dpdk_bond.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/ed0f6e61d2e83d0b4b690797d5bf61e590c23e92', 'message': 'Removed vlan port on ovs_user_bridge in dpdk bond samples\n\nvlan port is not supported on the netdev bridges. But the\ndpdk bond sample contains this wrong configuration. Removing\nthe vlan port on the ovs_user_bridge.\nCloses-Bug: #1674280\n\nChange-Id: I1acc8a3b8bbacc613344207b43684b0f86ff4a15\n'}]",0,447446,ed0f6e61d2e83d0b4b690797d5bf61e590c23e92,11,4,2,18575,,,0,"Removed vlan port on ovs_user_bridge in dpdk bond samples

vlan port is not supported on the netdev bridges. But the
dpdk bond sample contains this wrong configuration. Removing
the vlan port on the ovs_user_bridge.
Closes-Bug: #1674280

Change-Id: I1acc8a3b8bbacc613344207b43684b0f86ff4a15
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/46/447446/2 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/ovs_dpdk_bond.json', 'etc/os-net-config/samples/ovs_dpdk_bond.yaml']",2,73506a9ef0664ef15558a789fa319af7c9d29415,bug/1674280,, - type: vlan vlan_id: 16 addresses: - ip_netmask: 192.0.2.1/24,0,15
openstack%2Fpuppet-manila~stable%2Focata~I3940eb545f668c426ab8a7aee9e05a6296867a83,openstack/puppet-manila,stable/ocata,I3940eb545f668c426ab8a7aee9e05a6296867a83,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:43:00.000000000,2017-04-25 06:14:27.000000000,2017-04-25 06:14:27.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:43:00.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/ea94d9fa48ede5ff08c64ec77cb68dfdad97e54f', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I3940eb545f668c426ab8a7aee9e05a6296867a83\n'}]",0,459363,ea94d9fa48ede5ff08c64ec77cb68dfdad97e54f,10,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I3940eb545f668c426ab8a7aee9e05a6296867a83
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/63/459363/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,ea94d9fa48ede5ff08c64ec77cb68dfdad97e54f,ocata/gemfile," :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/ocata',"," :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-congress~stable%2Focata~I09215920ff35a8040d275e38ad1cc213e4349d75,openstack/puppet-congress,stable/ocata,I09215920ff35a8040d275e38ad1cc213e4349d75,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:41:32.000000000,2017-04-25 06:14:25.000000000,2017-04-25 06:14:25.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:41:32.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/6128a8a23ff075c1671af202751697c32d2299a6', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I09215920ff35a8040d275e38ad1cc213e4349d75\n'}]",0,459354,6128a8a23ff075c1671af202751697c32d2299a6,10,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I09215920ff35a8040d275e38ad1cc213e4349d75
",git fetch https://review.opendev.org/openstack/puppet-congress refs/changes/54/459354/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,6128a8a23ff075c1671af202751697c32d2299a6,ocata/gemfile," :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/ocata', :require => false"," :require => 'false', :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper'",3,2
openstack%2Fpuppet-openstack_extras~stable%2Focata~I2d5dff62aeb1f11785b261273d8c4d0768b2f513,openstack/puppet-openstack_extras,stable/ocata,I2d5dff62aeb1f11785b261273d8c4d0768b2f513,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:44:01.000000000,2017-04-25 06:14:03.000000000,2017-04-25 06:14:03.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:44:01.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/55259a1d85f3dd874e63dec6e1975dc1ee2afd60', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I2d5dff62aeb1f11785b261273d8c4d0768b2f513\n'}]",0,459369,55259a1d85f3dd874e63dec6e1975dc1ee2afd60,10,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I2d5dff62aeb1f11785b261273d8c4d0768b2f513
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/69/459369/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,55259a1d85f3dd874e63dec6e1975dc1ee2afd60,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpuppet-gnocchi~stable%2Focata~I615d116141e82b77b938726fffcd63891efa99c5,openstack/puppet-gnocchi,stable/ocata,I615d116141e82b77b938726fffcd63891efa99c5,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:42:12.000000000,2017-04-25 06:13:57.000000000,2017-04-25 06:13:57.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:42:12.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/b803ad1508da52f23b02c7c523a57d099147f366', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I615d116141e82b77b938726fffcd63891efa99c5\n'}]",0,459358,b803ad1508da52f23b02c7c523a57d099147f366,11,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I615d116141e82b77b938726fffcd63891efa99c5
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/58/459358/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b803ad1508da52f23b02c7c523a57d099147f366,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpython-mistralclient~master~I4f960757d84a3d958caa2bef8e913b4f5dd01ccd,openstack/python-mistralclient,master,I4f960757d84a3d958caa2bef8e913b4f5dd01ccd,Explicitly set 'builders' option,MERGED,2017-04-19 09:15:08.000000000,2017-04-25 06:07:53.000000000,2017-04-25 06:07:53.000000000,"[{'_account_id': 3}, {'_account_id': 6732}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 15334}, {'_account_id': 18238}, {'_account_id': 20863}, {'_account_id': 25632}]","[{'number': 1, 'created': '2017-04-19 09:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/20c3f303af661025b6f2a1cff76b30ce9b27dfc0', 'message': ""Explicitly set 'builders' option\n\nAn upcoming release of pbr will require explicitly stating which\nbuilders are requested, rather than defaulting to html and man. Head off\nany potential impact this may cause by explicitly setting this\nconfiguration now.\n\nChange-Id: I4f960757d84a3d958caa2bef8e913b4f5dd01ccd\n""}, {'number': 2, 'created': '2017-04-24 09:11:22.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/25a29b733742c56a0762e9e312e5b89ac7184fe7', 'message': ""Explicitly set 'builders' option\n\nAn upcoming release of pbr will require explicitly stating which\nbuilders are requested, rather than defaulting to html and man. Head off\nany potential impact this may cause by explicitly setting this\nconfiguration now.\n\nChange-Id: I4f960757d84a3d958caa2bef8e913b4f5dd01ccd\n""}]",0,457940,25a29b733742c56a0762e9e312e5b89ac7184fe7,15,8,2,15334,,,0,"Explicitly set 'builders' option

An upcoming release of pbr will require explicitly stating which
builders are requested, rather than defaulting to html and man. Head off
any potential impact this may cause by explicitly setting this
configuration now.

Change-Id: I4f960757d84a3d958caa2bef8e913b4f5dd01ccd
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/40/457940/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,20c3f303af661025b6f2a1cff76b30ce9b27dfc0,sphinx15,"builders = html,man",,1,0
openstack%2Fpython-mistralclient~master~Ib245a0098c9fab722c0edeb7a8741ced0c49fddb,openstack/python-mistralclient,master,Ib245a0098c9fab722c0edeb7a8741ced0c49fddb,fix release note formatting,MERGED,2017-04-24 15:02:29.000000000,2017-04-25 06:07:47.000000000,2017-04-25 06:07:47.000000000,"[{'_account_id': 3}, {'_account_id': 6732}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 10873}, {'_account_id': 11085}, {'_account_id': 18238}]","[{'number': 1, 'created': '2017-04-24 15:02:29.000000000', 'files': ['releasenotes/notes/fix-region-name-2031ff4b83b6308e.yaml'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/ddbb43a36cc32b0387e8340b452f6243bd481dee', 'message': 'fix release note formatting\n\nThe release notes sections need to be lists of strings. The backticks\n(`) starting the string in fix-region-name need to be escaped for\nthe YAML parser, so mark the list entry as literal text.\n\nChange-Id: Ib245a0098c9fab722c0edeb7a8741ced0c49fddb\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,459341,ddbb43a36cc32b0387e8340b452f6243bd481dee,13,7,1,2472,,,0,"fix release note formatting

The release notes sections need to be lists of strings. The backticks
(`) starting the string in fix-region-name need to be escaped for
the YAML parser, so mark the list entry as literal text.

Change-Id: Ib245a0098c9fab722c0edeb7a8741ced0c49fddb
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/41/459341/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/fix-region-name-2031ff4b83b6308e.yaml'],1,ddbb43a36cc32b0387e8340b452f6243bd481dee,fix-release-notes-build, - | ``--os-region-name`` or ``OS_REGION_NAME`` is fully supported now and will, - ``--os-region-name`` or ``OS_REGION_NAME`` is fully supported now and will,2,1
openstack%2Fpuppet-heat~stable%2Focata~I4447905ad91fede919391c70c34c04a8dfc67662,openstack/puppet-heat,stable/ocata,I4447905ad91fede919391c70c34c04a8dfc67662,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:42:21.000000000,2017-04-25 06:04:33.000000000,2017-04-25 00:18:21.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:42:21.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/f6471e8e1769d0cc44278f7a69d6648d1776e5cc', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I4447905ad91fede919391c70c34c04a8dfc67662\n'}]",0,459359,f6471e8e1769d0cc44278f7a69d6648d1776e5cc,12,5,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I4447905ad91fede919391c70c34c04a8dfc67662
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/59/459359/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,f6471e8e1769d0cc44278f7a69d6648d1776e5cc,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpython-openstackclient~master~Ifaddc57dfa192bde04d0482e2cdcce111313a22a,openstack/python-openstackclient,master,Ifaddc57dfa192bde04d0482e2cdcce111313a22a,Improve no-auth path,MERGED,2017-04-24 23:59:51.000000000,2017-04-25 06:02:23.000000000,2017-04-25 06:02:22.000000000,"[{'_account_id': 3}, {'_account_id': 970}, {'_account_id': 6482}]","[{'number': 1, 'created': '2017-04-24 23:59:51.000000000', 'files': ['openstackclient/tests/unit/common/test_clientmanager.py', 'openstackclient/shell.py', 'openstackclient/common/clientmanager.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ef99f444628282d06feae04514bd2a6328d87b93', 'message': 'Improve no-auth path\n\nThe commands that do not require authentication sometimes still need\nto call ClientManager.is_network_endpoint_enabled() to see if Neutron\nis available.  Optimize the paths a bit to skip auth when it is not\nnecessary; the upshot is Neutron will be assumed in these cases now.\n\nThis gets a LOT cleaner when it appears is a future osc-lib.\n\nChange-Id: Ifaddc57dfa192bde04d0482e2cdcce111313a22a\n'}]",0,459471,ef99f444628282d06feae04514bd2a6328d87b93,7,3,1,970,,,0,"Improve no-auth path

The commands that do not require authentication sometimes still need
to call ClientManager.is_network_endpoint_enabled() to see if Neutron
is available.  Optimize the paths a bit to skip auth when it is not
necessary; the upshot is Neutron will be assumed in these cases now.

This gets a LOT cleaner when it appears is a future osc-lib.

Change-Id: Ifaddc57dfa192bde04d0482e2cdcce111313a22a
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/71/459471/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/tests/unit/common/test_clientmanager.py', 'openstackclient/shell.py', 'openstackclient/common/clientmanager.py']",3,ef99f444628282d06feae04514bd2a6328d87b93,," # Let the commands set this _auth_required = False if ( self._auth_required and self._cli_options._openstack_config is not None ): @property def auth_ref(self): if not self._auth_required: return None else: return super(ClientManager, self).auth_ref ", if self._cli_options._openstack_config is not None:,23,2
openstack%2Fnetworking-midonet~master~I9a891b4e0a143b1157850c1c77dae3fd1815216b,openstack/networking-midonet,master,I9a891b4e0a143b1157850c1c77dae3fd1815216b,devstack: Remove an OSC issue workaround,MERGED,2017-02-09 22:56:41.000000000,2017-04-25 05:57:58.000000000,2017-04-25 05:47:11.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 8837}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-02-09 22:56:41.000000000', 'files': ['devstack/uplink/create_uplink.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d26fb68889875790667d53b139008d9fdb669a6a', 'message': 'devstack: Remove an OSC issue workaround\n\nThe issue was fixed in python-openstackclient 3.8.0.\n\nRelated-Bug: #1657311\nChange-Id: I9a891b4e0a143b1157850c1c77dae3fd1815216b\n'}]",0,431767,d26fb68889875790667d53b139008d9fdb669a6a,13,4,1,6854,,,0,"devstack: Remove an OSC issue workaround

The issue was fixed in python-openstackclient 3.8.0.

Related-Bug: #1657311
Change-Id: I9a891b4e0a143b1157850c1c77dae3fd1815216b
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/67/431767/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/uplink/create_uplink.sh'],1,d26fb68889875790667d53b139008d9fdb669a6a,bug/1657311,openstack --os-project-name admin \ network create \ --provider-network-type uplink \ ${UPLINK_NET_NAME},# NOTE(yamamoto): Still using neutron command here to workaround bug 1657311 neutron --os-project-name admin \ net-create \ ${UPLINK_NET_NAME} \ --provider:network_type uplink #openstack --os-project-name admin \ # network create \ # --provider-network-type uplink \ # ${UPLINK_NET_NAME},4,9
openstack%2Fnetworking-midonet~master~Ib2c9fb7468cc6e8071e48031b785bec58b75515d,openstack/networking-midonet,master,Ib2c9fb7468cc6e8071e48031b785bec58b75515d,devstack: Update for the latest lib/neutron,MERGED,2017-02-22 23:53:02.000000000,2017-04-25 05:50:22.000000000,2017-04-25 05:40:16.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 8837}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-02-22 23:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/88a6eeb8345ebd09f0f838cab34e9cce5e9b70ca', 'message': 'devstack: Update for the latest lib/neutron\n\nChange-Id: Ib2c9fb7468cc6e8071e48031b785bec58b75515d\nCloses-Bug: #1604664\n'}, {'number': 2, 'created': '2017-02-22 23:55:09.000000000', 'files': ['devstack/ml2/functions', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f5d977e0474780fd0408f81a68949d10abfe8bf9', 'message': ""devstack: Update for the latest lib/neutron\n\nAlso, add ml2 settings for midonet.\n(unlike neutron-legacy, lib/neutron doesn't have vars for them.)\n\nCloses-Bug: #1604664\nChange-Id: Ib2c9fb7468cc6e8071e48031b785bec58b75515d\n""}]",2,437193,f5d977e0474780fd0408f81a68949d10abfe8bf9,15,4,2,6854,,,0,"devstack: Update for the latest lib/neutron

Also, add ml2 settings for midonet.
(unlike neutron-legacy, lib/neutron doesn't have vars for them.)

Closes-Bug: #1604664
Change-Id: Ib2c9fb7468cc6e8071e48031b785bec58b75515d
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/93/437193/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/ml2/functions', 'devstack/plugin.sh']",2,88a6eeb8345ebd09f0f838cab34e9cce5e9b70ca,bug/1604664,Q_PLUGIN_CONF_FILE=${Q_PLUGIN_CONF_FILE:-$NEUTRON_CORE_PLUGIN_CONF},Q_PLUGIN_CONF_FILE=${Q_PLUGIN_CONF_FILE:-$NEUTRON_PLUGIN_CONF},10,4
openstack%2Fnetworking-midonet~master~Ib0fa10bcd35ac419bbf2237d63974f965be91963,openstack/networking-midonet,master,Ib0fa10bcd35ac419bbf2237d63974f965be91963,sg_callback: Remove a hack for kilo,MERGED,2017-02-16 04:10:33.000000000,2017-04-25 05:50:22.000000000,2017-04-25 05:40:11.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 8837}, {'_account_id': 9925}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-02-16 04:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/f8a6cd5b6c5631eb04669923ede31d3abc878a3f', 'message': 'sg_callback: Remove a hack for kilo\n\nThe use of weakref has been removed from\nthe callback registry long ago. [1]\n\n[1] Idcd0286fc4235af82901c8a17ea45bc758b62b37\n\nCloses-Bug: #1549591\nChange-Id: Ib0fa10bcd35ac419bbf2237d63974f965be91963\n'}, {'number': 2, 'created': '2017-02-16 04:11:48.000000000', 'files': ['midonet/neutron/ml2/sg_callback.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/895bdeb97b86d3e5a99ac787fcfb96a0cb47f447', 'message': 'sg_callback: Remove a hack for kilo\n\nThe use of weakref has been removed from\nthe callback registry long ago. [1]\n\n[1] Idcd0286fc4235af82901c8a17ea45bc758b62b37\n\nCloses-Bug: #1549591\nChange-Id: Ib0fa10bcd35ac419bbf2237d63974f965be91963\n'}]",0,434634,895bdeb97b86d3e5a99ac787fcfb96a0cb47f447,15,5,2,6854,,,0,"sg_callback: Remove a hack for kilo

The use of weakref has been removed from
the callback registry long ago. [1]

[1] Idcd0286fc4235af82901c8a17ea45bc758b62b37

Closes-Bug: #1549591
Change-Id: Ib0fa10bcd35ac419bbf2237d63974f965be91963
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/34/434634/2 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/ml2/sg_callback.py'],1,f8a6cd5b6c5631eb04669923ede31d3abc878a3f,bug/1549591," self.create_security_group, resources.SECURITY_GROUP, events.AFTER_CREATE) self.update_security_group, resources.SECURITY_GROUP, events.AFTER_UPDATE) self.delete_security_group, resources.SECURITY_GROUP, events.AFTER_DELETE) self.create_security_group_rule, resources.SECURITY_GROUP_RULE, self.delete_security_group_rule, resources.SECURITY_GROUP_RULE,"," # REVISIT(Ryu): Keep an extra set of strong references to the callback # methods so that they are not prematurely garbage collected. # This hack is required in the Liberty branch (not stable/kilo) because # currently the Liberty mechanism driver is expected to work with Kilo # ML2 plugin for MidoNet, and in Kilo ML2, there is a bug in which # these methods were referenced as weakrefs where a garbage collection # could remove these callbacks if they were part of an object. self._create_sg_f = self.create_security_group self._update_sg_f = self.update_security_group self._delete_sg_f = self.delete_security_group self._create_sgr_f = self.create_security_group_rule self._delete_sgr_f = self.delete_security_group_rule self._create_sg_f, resources.SECURITY_GROUP, events.AFTER_CREATE) self._update_sg_f, resources.SECURITY_GROUP, events.AFTER_UPDATE) self._delete_sg_f, resources.SECURITY_GROUP, events.AFTER_DELETE) self._create_sgr_f, resources.SECURITY_GROUP_RULE, self._delete_sgr_f, resources.SECURITY_GROUP_RULE,",10,19
openstack%2Fnetworking-midonet~master~I238d013a5a3d6f5299acd5066252320da416ee86,openstack/networking-midonet,master,I238d013a5a3d6f5299acd5066252320da416ee86,devstack: Stop using devmido,MERGED,2017-01-31 01:49:50.000000000,2017-04-25 05:40:10.000000000,2017-04-25 05:25:39.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 8837}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-01-31 01:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/eb16817e94457e16b0ff3acaa9621f8381f309d7', 'message': 'devstack: Stop using devmido\n\n- In case of MIDONET_USE_PACKAGE=False, build and install pacakges\n  from the source using our own scripts, rather than using devmido.\n- Remove MIDONET_USE_UPLINK. (treat it always true)\n\nChange-Id: I238d013a5a3d6f5299acd5066252320da416ee86\n'}, {'number': 2, 'created': '2017-02-03 06:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6fc79b95bff4d6e44129eb009d575b4bf91abfb7', 'message': 'devstack: Stop using devmido\n\n- In case of MIDONET_USE_PACKAGE=False, build and install pacakges\n  from the source using our own scripts, rather than using devmido.\n- Remove MIDONET_USE_UPLINK. (treat it always true)\n\nChange-Id: I238d013a5a3d6f5299acd5066252320da416ee86\n'}, {'number': 3, 'created': '2017-02-13 22:23:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/cc2ecefe8cb9c5dc3dc74e7bf574d75d79e776fb', 'message': 'devstack: Stop using devmido\n\n- In case of MIDONET_USE_PACKAGE=False, build and install pacakges\n  from the source using our own scripts, rather than using devmido.\n- Remove MIDONET_USE_UPLINK. (treat it always true)\n\nChange-Id: I238d013a5a3d6f5299acd5066252320da416ee86\n'}, {'number': 4, 'created': '2017-02-15 06:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5af932f59f903c00c460a9661bb0d678653acf1a', 'message': 'devstack: Stop using devmido\n\n- In case of MIDONET_USE_PACKAGE=False, build and install pacakges\n  from the source using our own scripts, rather than using devmido.\n- Remove MIDONET_USE_UPLINK. (treat it always true)\n\nChange-Id: I238d013a5a3d6f5299acd5066252320da416ee86\n'}, {'number': 5, 'created': '2017-02-15 12:04:21.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bbb4a47027c477984282fac676d9dafdfa962e89', 'message': 'devstack: Stop using devmido\n\n- In case of MIDONET_USE_PACKAGE=False, build and install pacakges\n  from the source using our own scripts, rather than using devmido.\n- Remove MIDONET_USE_UPLINK. (treat it always true)\n\nChange-Id: I238d013a5a3d6f5299acd5066252320da416ee86\n'}]",4,426996,bbb4a47027c477984282fac676d9dafdfa962e89,30,5,5,6854,,,0,"devstack: Stop using devmido

- In case of MIDONET_USE_PACKAGE=False, build and install pacakges
  from the source using our own scripts, rather than using devmido.
- Remove MIDONET_USE_UPLINK. (treat it always true)

Change-Id: I238d013a5a3d6f5299acd5066252320da416ee86
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/96/426996/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,eb16817e94457e16b0ff3acaa9621f8381f309d7,MI-2001,# Use MidoNet binary packages,"# Use MidoNet binary packages rather than devmido # NOTE(yamamoto): This doesn't support java7, which is used by MidoNet < 5.0# Ignored if MIDONET_USE_PACKAGE!=True# Use uplink network for ""fake"" uplink # MIDONET_USE_UPLINK=False is incompatible with MIDONET_USE_PACKAGE=True MIDONET_USE_UPLINK=${MIDONET_USE_UPLINK:-True}",38,59
openstack%2Fnetworking-midonet~master~I633aeaec7c595ab32801d6c96b136655f0827ab6,openstack/networking-midonet,master,I633aeaec7c595ab32801d6c96b136655f0827ab6,Add coverage threshold,MERGED,2017-02-15 00:29:08.000000000,2017-04-25 05:32:34.000000000,2017-04-25 05:21:57.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 8837}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-02-15 00:29:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d8667142cfcb1866474b7a783a52d1903a573edf', 'message': 'Add coverage threshold\n\nCopied from neutron change. [1]\n\nThe threshold value is a bit arbitrarily chosen, considering\nthe current coverage which is about 75%.\n\n[1] Ia30116fff8b834486bde93c329543fce15be429f\n\nChange-Id: I633aeaec7c595ab32801d6c96b136655f0827ab6\n'}]",0,433998,d8667142cfcb1866474b7a783a52d1903a573edf,15,4,1,6854,,,0,"Add coverage threshold

Copied from neutron change. [1]

The threshold value is a bit arbitrarily chosen, considering
the current coverage which is about 75%.

[1] Ia30116fff8b834486bde93c329543fce15be429f

Change-Id: I633aeaec7c595ab32801d6c96b136655f0827ab6
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/98/433998/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d8667142cfcb1866474b7a783a52d1903a573edf,coverage, coverage report --fail-under=74 --skip-covered,,1,0
openstack%2Ftempest~master~I0454200dc730fd4d3f0e1b234d48d8875c843fb6,openstack/tempest,master,I0454200dc730fd4d3f0e1b234d48d8875c843fb6,Replace deprecated function,MERGED,2017-04-24 15:47:55.000000000,2017-04-25 05:25:30.000000000,2017-04-25 05:25:30.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 5689}]","[{'number': 1, 'created': '2017-04-24 15:47:55.000000000', 'files': ['tempest/api/compute/flavors/test_flavors_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/225d9efaba519b8153a77acf3a491bd2e4bd4f84', 'message': 'Replace deprecated function\n\nassertRaisesRegexp is deprecated because in unittest version 3.2 was renamed\nto assertRaisesRegex.\n\nChange-Id: I0454200dc730fd4d3f0e1b234d48d8875c843fb6\nCloses-Bug: #1683818\n'}]",0,459384,225d9efaba519b8153a77acf3a491bd2e4bd4f84,8,3,1,22873,,,0,"Replace deprecated function

assertRaisesRegexp is deprecated because in unittest version 3.2 was renamed
to assertRaisesRegex.

Change-Id: I0454200dc730fd4d3f0e1b234d48d8875c843fb6
Closes-Bug: #1683818
",git fetch https://review.opendev.org/openstack/tempest refs/changes/84/459384/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/flavors/test_flavors_negative.py'],1,225d9efaba519b8153a77acf3a491bd2e4bd4f84,bug/1683818," self.assertRaisesRegex(lib_exc.BadRequest, ""Flavor's memory is too small for "" ""requested image"", self.create_test_server, image_id=image['id'], flavor=flavor['id'])"," self.assertRaisesRegexp(lib_exc.BadRequest, ""Flavor's memory is too small for "" ""requested image"", self.create_test_server, image_id=image['id'], flavor=flavor['id'])",6,6
openstack%2Ftempest~master~I2f84b2996e8f062930add348668f50c9c66dda9d,openstack/tempest,master,I2f84b2996e8f062930add348668f50c9c66dda9d,Update help text for block_migrate_cinder_iscsi option,MERGED,2017-04-24 15:44:36.000000000,2017-04-25 05:07:53.000000000,2017-04-25 05:07:53.000000000,"[{'_account_id': 3}, {'_account_id': 5196}, {'_account_id': 5689}, {'_account_id': 6873}, {'_account_id': 10385}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-04-24 15:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/81103f53488e476af7a64ecb30222b1ac16c31e9', 'message': ""Update help text for block_migrate_cinder_iscsi option\n\nAs shown in change I7d7a708b231070468616ae852d81d2f8b01ba568\nthis test will pass if you're using new enough libvirt. According\nto the change that closed the related bug:\n\nI8fcc3ef3cb5d9fd3a95067929c496fdb5976fd41\n\nLibvirt needs to be >= 1.2.17. We're using libvirt 2.5.0 on\nxenial nodes now so that's why we can enable this test again\nfor master (pike).\n\nChange-Id: I2f84b2996e8f062930add348668f50c9c66dda9d\nRelated-Bug: #1398999\n""}, {'number': 2, 'created': '2017-04-25 01:06:23.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8cf5f90963cf7aa18585e7825516f97af7255ac8', 'message': ""Update help text for block_migrate_cinder_iscsi option\n\nAs shown in change I7d7a708b231070468616ae852d81d2f8b01ba568\nthis test will pass if you're using new enough libvirt. According\nto the change that closed the related bug:\n\nI8fcc3ef3cb5d9fd3a95067929c496fdb5976fd41\n\nLibvirt needs to be >= 1.2.17. We're using libvirt 2.5.0 on\nxenial nodes now so that's why we can enable this test again\nfor master (pike).\n\nChange-Id: I2f84b2996e8f062930add348668f50c9c66dda9d\nRelated-Bug: #1398999\n""}]",1,459373,8cf5f90963cf7aa18585e7825516f97af7255ac8,15,6,2,6873,,,0,"Update help text for block_migrate_cinder_iscsi option

As shown in change I7d7a708b231070468616ae852d81d2f8b01ba568
this test will pass if you're using new enough libvirt. According
to the change that closed the related bug:

I8fcc3ef3cb5d9fd3a95067929c496fdb5976fd41

Libvirt needs to be >= 1.2.17. We're using libvirt 2.5.0 on
xenial nodes now so that's why we can enable this test again
for master (pike).

Change-Id: I2f84b2996e8f062930add348668f50c9c66dda9d
Related-Bug: #1398999
",git fetch https://review.opendev.org/openstack/tempest refs/changes/73/459373/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,81103f53488e476af7a64ecb30222b1ac16c31e9,bug/1398999," ""cinder iSCSI volumes. Note: libvirt >= 1.2.17 is required "" ""to support this if using the libvirt compute driver.""),"," ""cinder iSCSI volumes. Note, libvirt doesn't support this, "" ""see https://bugs.launchpad.net/nova/+bug/1398999""),",2,2
openstack%2Fopenstack-manuals~master~I99024f9ef392c3e14a416646113d5b47f982563f,openstack/openstack-manuals,master,I99024f9ef392c3e14a416646113d5b47f982563f,Add section describing heterogeneous firewall drivers,MERGED,2017-04-21 16:24:59.000000000,2017-04-25 05:02:10.000000000,2017-04-25 05:02:10.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 6547}, {'_account_id': 6804}, {'_account_id': 7368}, {'_account_id': 25340}]","[{'number': 1, 'created': '2017-04-21 16:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/bf92aee616c38fa1a0f37e92777e654be28c5698', 'message': 'Add section describing heterogeneous firewall drivers\n\nThere is now support for mixed firewall drivers configured on\nL2 agents. This patch adds some documentation to help highlight\nand explain that capability.\n\nChange-Id: I99024f9ef392c3e14a416646113d5b47f982563f\nPartial-Bug: 1660687\n'}, {'number': 2, 'created': '2017-04-21 18:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/e2783c50ff80fdef54e2cc7ae0280947999edad8', 'message': 'Add section describing heterogeneous firewall drivers\n\nThere is now support for mixed firewall drivers configured on\nL2 agents. This patch adds some documentation to help highlight\nand explain that capability.\n\nChange-Id: I99024f9ef392c3e14a416646113d5b47f982563f\nPartial-Bug: 1660687\n'}, {'number': 3, 'created': '2017-04-21 18:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1ef67acf312f3164ec35ae361705ece416b27a4d', 'message': 'Add section describing heterogeneous firewall drivers\n\nThere is now support for mixed firewall drivers configured on\nL2 agents. This patch adds some documentation to help highlight\nand explain that capability.\n\nChange-Id: I99024f9ef392c3e14a416646113d5b47f982563f\nPartial-Bug: 1660687\n'}, {'number': 4, 'created': '2017-04-21 19:27:59.000000000', 'files': ['doc/networking-guide/source/config-ovsfwdriver.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/ff028f638cb290569624aac2ccfcb82d6c846f29', 'message': 'Add section describing heterogeneous firewall drivers\n\nThere is now support for mixed firewall drivers configured on\nL2 agents. This patch adds some documentation to help highlight\nand explain that capability.\n\nChange-Id: I99024f9ef392c3e14a416646113d5b47f982563f\nPartial-Bug: 1660687\n'}]",10,458911,ff028f638cb290569624aac2ccfcb82d6c846f29,17,6,4,7368,,,0,"Add section describing heterogeneous firewall drivers

There is now support for mixed firewall drivers configured on
L2 agents. This patch adds some documentation to help highlight
and explain that capability.

Change-Id: I99024f9ef392c3e14a416646113d5b47f982563f
Partial-Bug: 1660687
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/11/458911/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/networking-guide/source/config-ovsfwdriver.rst'],1,bf92aee616c38fa1a0f37e92777e654be28c5698,bug/1660687,"Configuring Heterogeneous Firewall Drivers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ L2 Agents can now be configured to use differing firewall drivers. There is no requirement that they all be the same. If an agent lacks a firewall driver configuration, it will default to what's configured on its server. This also means there's no requirement that the server have any firewall driver configured at all, as long as the agents are configured correctly. ",,9,0
openstack%2Fproject-config~master~I3ee306e46747b77499ff8975cd3d842b09ec2937,openstack/project-config,master,I3ee306e46747b77499ff8975cd3d842b09ec2937,Add iptables rules to nodepool-base element,MERGED,2017-04-21 22:16:37.000000000,2017-04-25 04:49:27.000000000,2017-04-25 04:49:27.000000000,"[{'_account_id': 3}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 8482}]","[{'number': 1, 'created': '2017-04-21 22:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/04611e1a56f6ca8a099c0698353b0b40ee46e585', 'message': 'Add iptables rules to nodepool-base element\n\nInstead of managing firewall rules with puppet we can statically copy\nthem into the image at build time.\n\nChange-Id: I3ee306e46747b77499ff8975cd3d842b09ec2937\n'}, {'number': 2, 'created': '2017-04-24 19:58:27.000000000', 'files': ['nodepool/elements/nodepool-base/post-install.d/20-iptables', 'nodepool/elements/nodepool-base/install.d/20-iptables'], 'web_link': 'https://opendev.org/openstack/project-config/commit/97e65e6924d22b5da681edc7cecf1ddb0e6fa62a', 'message': 'Add iptables rules to nodepool-base element\n\nInstead of managing firewall rules with puppet we can statically copy\nthem into the image at build time.\n\nChange-Id: I3ee306e46747b77499ff8975cd3d842b09ec2937\n'}]",3,458985,97e65e6924d22b5da681edc7cecf1ddb0e6fa62a,14,4,2,8482,,,0,"Add iptables rules to nodepool-base element

Instead of managing firewall rules with puppet we can statically copy
them into the image at build time.

Change-Id: I3ee306e46747b77499ff8975cd3d842b09ec2937
",git fetch https://review.opendev.org/openstack/project-config refs/changes/85/458985/2 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/nodepool-base/install.d/20-iptables'],1,04611e1a56f6ca8a099c0698353b0b40ee46e585,unpuppet-zuul-workers,"#!/bin/bash # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # # See the License for the specific language governing permissions and # limitations under the License. # dib-lint: disable=setu setpipefail if [ ${DIB_DEBUG_TRACE:-0} -gt 0 ]; then set -x fi set -e if [[ ""$DISTRO_NAME"" =~ (debian|ubuntu) ]] ; then if [[ ""$DIB_RELEASE"" == 'trusty' ]] ; then service_name=iptables-persistent else service_name=netfilter-persistent fi rules_dir=/etc/iptables ipv4_rules=${rules_dir}/rules.v4 ipv6_rules=${rules_dir}/rules.v6 elif [[ ""$DISTRO_NAME"" =~ (centos|fedora) ]] ; then service_name=iptables rules_dir=/etc/sysconfig ipv4_rules=${rules_dir}/iptables ipv6_rules=${rules_dir}/ip6tables else echo ""Unsupported operating system $DISTRO_NAME"" exit 1 fi case ""$DIB_INIT_SYSTEM"" in upstart) # nothing to do ;; systemd) systemctl enable ${service_name}.service if [[ ""$DISTRO_NAME"" =~ (centos|fedora) ]] ; then systemctl enable ip6tables.service fi ;; *) echo ""Unsupported init system $DIB_INIT_SYSTEM"" exit 1 ;; esac mkdir -p $rules_dir cat > $ipv4_rules << EOF *filter :INPUT ACCEPT [0:0] :FORWARD ACCEPT [0:0] :OUTPUT ACCEPT [0:0] :openstack-INPUT - [0:0] -A INPUT -j openstack-INPUT -A openstack-INPUT -i lo -j ACCEPT -A openstack-INPUT -p icmp --icmp-type any -j ACCEPT #-A openstack-INPUT -p udp --dport 5353 -d 224.0.0.251 -j ACCEPT -A openstack-INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT # SSH from anywhere -A openstack-INPUT -m state --state NEW -m tcp -p tcp --dport 22 -j ACCEPT # Public TCP ports -A openstack-INPUT -p tcp -m state --state NEW -m tcp --dport 19885 -j ACCEPT # Ports 69 and 6385 allow to allow ironic VM nodes to reach tftp and # the ironic API from the neutron public net -A openstack-INPUT -s 172.24.4.0/23 -p udp -m udp --dport 69 -j ACCEPT -A openstack-INPUT -s 172.24.4.0/23 -p tcp -m tcp --dport 6385 -j ACCEPT # Ports 8000, 8003, 8004 from the devstack neutron public net to allow # nova servers to reach heat-api-cfn, heat-api-cloudwatch, heat-api -A openstack-INPUT -s 172.24.4.0/23 -p tcp -m tcp --dport 8000 -j ACCEPT -A openstack-INPUT -s 172.24.4.0/23 -p tcp -m tcp --dport 8003 -j ACCEPT -A openstack-INPUT -s 172.24.4.0/23 -p tcp -m tcp --dport 8004 -j ACCEPT -A openstack-INPUT -m limit --limit 2/min -j LOG --log-prefix ""iptables dropped: "" -A openstack-INPUT -j REJECT --reject-with icmp-host-prohibited COMMIT EOF ln -s ${ipv4_rules} ${rules_dir}/rules cat > $ipv6_rules << EOF *filter :INPUT ACCEPT [0:0] :FORWARD ACCEPT [0:0] :OUTPUT ACCEPT [0:0] :openstack-INPUT - [0:0] -A INPUT -j openstack-INPUT -A openstack-INPUT -i lo -j ACCEPT -A openstack-INPUT -p ipv6-icmp -j ACCEPT -A openstack-INPUT -m state --state RELATED,ESTABLISHED -j ACCEPT # SSH from anywhere -A openstack-INPUT -p tcp -m state --state NEW -m tcp --dport 22 -j ACCEPT # Public TCP ports -A openstack-INPUT -p tcp -m state --state NEW -m tcp --dport 19885 -j ACCEPT -A openstack-INPUT -j REJECT --reject-with icmp6-adm-prohibited COMMIT EOF ",,106,0
openstack%2Fnetworking-midonet~master~If2afeffb75829d74280f62ecd28aa3c6aae0a62e,openstack/networking-midonet,master,If2afeffb75829d74280f62ecd28aa3c6aae0a62e,Imported Translations from Zanata,MERGED,2017-03-24 07:12:19.000000000,2017-04-25 04:40:22.000000000,2017-04-25 04:29:40.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-03-24 07:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/a430281801955ebbc5d4ecfc7b1f6a8edde75865', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: If2afeffb75829d74280f62ecd28aa3c6aae0a62e\n'}, {'number': 2, 'created': '2017-03-28 07:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b727a339b26d1c99a528a4a6fb6f5ae1626dc08e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: If2afeffb75829d74280f62ecd28aa3c6aae0a62e\n'}, {'number': 3, 'created': '2017-04-14 07:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/3c0634a06d1296b446bcc24631cb9c4191b62846', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: If2afeffb75829d74280f62ecd28aa3c6aae0a62e\n'}, {'number': 4, 'created': '2017-04-15 19:24:01.000000000', 'files': ['releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/418fb2ba36a62706966cded63a4b99fc54751b49', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: If2afeffb75829d74280f62ecd28aa3c6aae0a62e\n'}]",0,449446,418fb2ba36a62706966cded63a4b99fc54751b49,19,4,4,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: If2afeffb75829d74280f62ecd28aa3c6aae0a62e
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/46/449446/4 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/fr/LC_MESSAGES/releasenotes.po'],1,a430281801955ebbc5d4ecfc7b1f6a8edde75865,zanata/translations,"# Gérald LONLAS <g.lonlas@gmail.com>, 2016. #zanata msgid """" msgstr """" ""Project-Id-Version: Midonet Release Notes 4.0.1.dev25\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2017-03-17 23:21+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2016-10-22 05:32+0000\n"" ""Last-Translator: Gérald LONLAS <g.lonlas@gmail.com>\n"" ""Language-Team: French\n"" ""Language: fr\n"" ""X-Generator: Zanata 3.9.6\n"" ""Plural-Forms: nplurals=2; plural=(n > 1)\n"" msgid ""2.0.0"" msgstr ""2.0.0"" msgid ""Contents:"" msgstr ""Contenu :"" msgid ""Current Series Release Notes"" msgstr ""Note de la release actuelle"" msgid ""Deprecation Notes"" msgstr ""Notes dépréciées "" msgid ""Mitaka Series Release Notes"" msgstr ""Note de release pour Mitaka"" msgid ""Networking-Midonet Release Notes"" msgstr ""Note de release de Networking-Midonet"" msgid ""New Features"" msgstr ""Nouvelles fonctionnalités"" ",,36,0
openstack%2Fnetworking-midonet~master~I5e950ee4abc21c8e1dee77bbf8c918867a522719,openstack/networking-midonet,master,I5e950ee4abc21c8e1dee77bbf8c918867a522719,devstack README: Replace introduction,MERGED,2017-02-10 03:45:37.000000000,2017-04-25 04:40:22.000000000,2017-04-25 04:29:57.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 8837}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-02-10 03:45:37.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d37c1b6be45e604f168a9a281fa3b8bb474b5787', 'message': 'devstack README: Replace introduction\n\nThe current description is too generic to be useful.\n\nChange-Id: I5e950ee4abc21c8e1dee77bbf8c918867a522719\n'}]",0,431867,d37c1b6be45e604f168a9a281fa3b8bb474b5787,14,5,1,6854,,,0,"devstack README: Replace introduction

The current description is too generic to be useful.

Change-Id: I5e950ee4abc21c8e1dee77bbf8c918867a522719
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/67/431867/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.rst'],1,d37c1b6be45e604f168a9a281fa3b8bb474b5787,bug/1663450,networking-midonet has its `devstack plugin <http://docs.openstack.org/developer/devstack/plugins.html>`_. The following ``local.conf`` snippet would enable it:: enable_plugin networking-midonet https://git.openstack.org/openstack/networking-midonet, To Run DevStack with Full OpenStack Environment ----------------------------------------------- 1. Download DevStack 2. Prepare ``local.conf`` 3. Run ``stack.sh``,4,6
openstack%2Fnetworking-midonet~master~I728d57e7ba71d97b83624eb4f0868ec1146a03c8,openstack/networking-midonet,master,I728d57e7ba71d97b83624eb4f0868ec1146a03c8,devstack README: Inline examples,MERGED,2017-02-10 03:45:37.000000000,2017-04-25 04:40:22.000000000,2017-04-25 04:29:53.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 8837}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-02-10 03:45:37.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2c09bee4acbff7232db69f0838c8ae912082ee19', 'message': 'devstack README: Inline examples\n\nAlso, remove stale explanation of examples.\n\nChange-Id: I728d57e7ba71d97b83624eb4f0868ec1146a03c8\n'}]",0,431866,2c09bee4acbff7232db69f0838c8ae912082ee19,13,4,1,6854,,,0,"devstack README: Inline examples

Also, remove stale explanation of examples.

Change-Id: I728d57e7ba71d97b83624eb4f0868ec1146a03c8
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/66/431866/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.rst'],1,2c09bee4acbff7232db69f0838c8ae912082ee19,bug/1663450,local.conf examples ------------------- ML2 Plugin with MidoNet drivers ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ You can find an example at `devstack/ml2/local.conf.sample <https://git.openstack.org/cgit/openstack/networking-midonet/plain/devstack/ml2/local.conf.sample>`_ in the source tree. .. literalinclude:: ../../devstack/ml2/local.conf.sample MidoNet plugin (deprecated) ~~~~~~~~~~~~~~~~~~~~~~~~~~~ You can find an example at `devstack/midonet/local.conf.sample <https://git.openstack.org/cgit/openstack/networking-midonet/plain/devstack/midonet/local.conf.sample>`_ in the source tree. .. literalinclude:: ../../devstack/midonet/local.conf.sample,"To Run DevStack with monolithic midonet plugin ----------------------------------------------- 1. Download DevStack 2. Copy the sample ``midonet/local.conf.sample`` file over to the devstack directory as ``local.conf``. 3. Run ``stack.sh`` To Run DevStack with ML2 and midonet mechanism driver ----------------------------------------------------- 1. Download DevStack 2. Copy the sample ``ml2/local.conf.sample`` file over to the devstack directory as ``local.conf``. 3. Run ``stack.sh`` Note that with these configurations, only the following services are started:: rabbit mysql keystone nova glance neutron lbaas tempest horizon",14,22
openstack%2Fnetworking-midonet~master~Ie65c07c0e288eda75e2eb5244962af176e20ebc4,openstack/networking-midonet,master,Ie65c07c0e288eda75e2eb5244962af176e20ebc4,devstack README: Remove wiki link,MERGED,2017-02-10 03:45:37.000000000,2017-04-25 04:40:22.000000000,2017-04-25 04:29:48.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 8837}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-02-10 03:45:37.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/90ff3a4c25bc27b345f2c16601f1a4a572a77dd2', 'message': 'devstack README: Remove wiki link\n\nThe wiki page seems outdated.\n\nChange-Id: Ie65c07c0e288eda75e2eb5244962af176e20ebc4\n'}]",0,431865,90ff3a4c25bc27b345f2c16601f1a4a572a77dd2,13,4,1,6854,,,0,"devstack README: Remove wiki link

The wiki page seems outdated.

Change-Id: Ie65c07c0e288eda75e2eb5244962af176e20ebc4
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/65/431865/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.rst'],1,90ff3a4c25bc27b345f2c16601f1a4a572a77dd2,bug/1663450,,There are more detailed info on the wiki. https://github.com/midonet/midonet/wiki/Devstack ,0,3
openstack%2Foslo.cache~master~If1f368635d5a88cd066773d0cf625730f9eebe6e,openstack/oslo.cache,master,If1f368635d5a88cd066773d0cf625730f9eebe6e,Check reStructuredText documents for common style issues.,MERGED,2017-03-24 02:38:36.000000000,2017-04-25 04:26:59.000000000,2017-04-25 04:26:59.000000000,"[{'_account_id': 3}, {'_account_id': 9796}, {'_account_id': 15334}]","[{'number': 1, 'created': '2017-03-24 02:38:36.000000000', 'files': ['HACKING.rst'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/ca153fa9f821ecf40f8ea77eb2c80ff60f9769f5', 'message': 'Check reStructuredText documents for common style issues.\n\nChange-Id: If1f368635d5a88cd066773d0cf625730f9eebe6e\n'}]",0,449406,ca153fa9f821ecf40f8ea77eb2c80ff60f9769f5,22,3,1,9414,,,0,"Check reStructuredText documents for common style issues.

Change-Id: If1f368635d5a88cd066773d0cf625730f9eebe6e
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/06/449406/1 && git format-patch -1 --stdout FETCH_HEAD,['HACKING.rst'],1,ca153fa9f821ecf40f8ea77eb2c80ff60f9769f5,fix_HACKING,Style Commandments ==================,oslo.cache Style Commandments ======================================================,2,2
openstack%2Fnetworking-ovn~master~Ib867c2d9a104d69628677090c72c7f785c4ff3e0,openstack/networking-ovn,master,Ib867c2d9a104d69628677090c72c7f785c4ff3e0,Acknowledge Neutron that DHCP has changed,MERGED,2017-04-19 11:47:01.000000000,2017-04-25 04:12:46.000000000,2017-04-25 04:12:46.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 9656}, {'_account_id': 10237}, {'_account_id': 14885}, {'_account_id': 23458}]","[{'number': 1, 'created': '2017-04-19 11:47:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b4584d01a6c159afe2fcc7e679ceaa8581fc1bd1', 'message': ""Acknowledge Neutron that DHCP has changed\n\nProvisioning blocks have been merged in Neutron as part of the Newton\nreleased and in Pike it's very likely that the bits which notify neutron\nabout DHCP changes will be updated to use this new mechanism.\n\nThis patch is updating networking-ovn to use the provisioning blocks to\nacknowledge neutron about the DHCP changes, that way we will not break\nonce [0] lands.\n\nThe code seems to be backward compatible as well, even without [0] been\nmerged, DHCP should work as normal.\n\n[0] https://review.openstack.org/#/c/452009/\n\nChange-Id: Ib867c2d9a104d69628677090c72c7f785c4ff3e0\n""}, {'number': 2, 'created': '2017-04-19 11:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f2e052192c75e12bf1d75b43b4ea8b1ab87b3347', 'message': ""Acknowledge Neutron that DHCP has changed\n\nProvisioning blocks have been merged in Neutron as part of the Newton\nreleased and in Pike it's very likely that the bits which notify neutron\nabout DHCP changes will be updated to use this new mechanism.\n\nThis patch is updating networking-ovn to use the provisioning blocks to\nacknowledge neutron about the DHCP changes, that way we will not break\nonce [0] lands.\n\nThe code seems to be backward compatible as well, even without [0] been\nmerged, DHCP should work as normal.\n\n[0] https://review.openstack.org/#/c/452009/\n\nChange-Id: Ib867c2d9a104d69628677090c72c7f785c4ff3e0\n""}, {'number': 3, 'created': '2017-04-19 14:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/581c04ccab6ef7ed852afaac55b9e5024c79b7c3', 'message': ""Acknowledge Neutron that DHCP has changed\n\nProvisioning blocks have been merged in Neutron as part of the Newton\nreleased and in Pike it's very likely that the bits which notify neutron\nabout DHCP changes will be updated to use this new mechanism.\n\nThis patch is updating networking-ovn to use the provisioning blocks to\nacknowledge neutron about the DHCP changes, that way we will not break\nonce [0] lands.\n\nThe code seems to be backward compatible as well, even without [0] been\nmerged, DHCP should work as normal.\n\n[0] https://review.openstack.org/#/c/452009/\n\nChange-Id: Ib867c2d9a104d69628677090c72c7f785c4ff3e0\n""}, {'number': 4, 'created': '2017-04-24 09:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/09ffba6fb0ee5c3757b0aea737b47d6238bff97e', 'message': ""Acknowledge Neutron that DHCP has changed\n\nProvisioning blocks have been merged in Neutron as part of the Newton\nreleased and in Pike it's very likely that the bits which notify neutron\nabout DHCP changes will be updated to use this new mechanism.\n\nThis patch is updating networking-ovn to use the provisioning blocks to\nacknowledge neutron about the DHCP changes, that way we will not break\nonce [0] lands.\n\nThe code seems to be backward compatible as well, even without [0] been\nmerged, DHCP should work as normal.\n\n[0] https://review.openstack.org/#/c/452009/\n\nChange-Id: Ib867c2d9a104d69628677090c72c7f785c4ff3e0\n""}, {'number': 5, 'created': '2017-04-24 16:08:53.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d4d4c0a5b2b9f8c10f04a9a732fd4832d17b00ad', 'message': ""Acknowledge Neutron that DHCP has changed\n\nProvisioning blocks have been merged in Neutron as part of the Newton\nreleased and in Pike it's very likely that the bits which notify neutron\nabout DHCP changes will be updated to use this new mechanism.\n\nThis patch is updating networking-ovn to use the provisioning blocks to\nacknowledge neutron about the DHCP changes, that way we will not break\nonce [0] lands.\n\nThe code seems to be backward compatible as well, even without [0] been\nmerged, DHCP should work as normal.\n\n[0] https://review.openstack.org/#/c/452009/\n\nChange-Id: Ib867c2d9a104d69628677090c72c7f785c4ff3e0\n""}]",10,458035,d4d4c0a5b2b9f8c10f04a9a732fd4832d17b00ad,42,6,5,6773,,,0,"Acknowledge Neutron that DHCP has changed

Provisioning blocks have been merged in Neutron as part of the Newton
released and in Pike it's very likely that the bits which notify neutron
about DHCP changes will be updated to use this new mechanism.

This patch is updating networking-ovn to use the provisioning blocks to
acknowledge neutron about the DHCP changes, that way we will not break
once [0] lands.

The code seems to be backward compatible as well, even without [0] been
merged, DHCP should work as normal.

[0] https://review.openstack.org/#/c/452009/

Change-Id: Ib867c2d9a104d69628677090c72c7f785c4ff3e0
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/35/458035/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_mech_driver.py', 'networking_ovn/ml2/mech_driver.py']",2,b4584d01a6c159afe2fcc7e679ceaa8581fc1bd1,acknowledge-dhcp," # Acknowledge Neutron that DHCP has been updated provisioning_blocks.provisioning_complete( n_context.get_admin_context(), port['id'], resources.PORT, provisioning_blocks.DHCP_ENTITY)",,26,0
openstack%2Ftripleo-heat-templates~master~I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692,openstack/tripleo-heat-templates,master,I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692,Add initial support for NSX plugin,MERGED,2017-03-05 11:54:41.000000000,2017-04-25 04:11:08.000000000,2017-04-25 04:11:08.000000000,"[{'_account_id': 3}, {'_account_id': 1653}, {'_account_id': 7144}, {'_account_id': 12024}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-03-05 11:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/185d197d6369d3ab75d1b46e5cd837a490417dd0', 'message': 'Add initail support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}, {'number': 2, 'created': '2017-03-05 13:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7e98df4319c1529f465e352c63dabdd774c3a1a8', 'message': 'Add initial support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}, {'number': 3, 'created': '2017-03-05 15:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/898b9cec87a1193004a3576dceaeec597039f676', 'message': 'Add initial support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}, {'number': 4, 'created': '2017-03-05 18:55:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a141473b7ff51647e8be7a2ef4562b296c05268d', 'message': 'Add initial support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}, {'number': 5, 'created': '2017-03-06 03:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8815230957ba1ff1bd66632f289866614523c1a4', 'message': 'Add initial support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}, {'number': 6, 'created': '2017-03-06 10:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13d22b44eeb336c48e6d070886973a87a41f1e1d', 'message': 'Add initial support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}, {'number': 7, 'created': '2017-03-06 15:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0ff1b84260f26e3223b1d7e0c03b6a199815c826', 'message': 'Add initial support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}, {'number': 8, 'created': '2017-03-31 05:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bb32f8c999c5d147e356f0bc4847a2efe77cf69b', 'message': 'Add initial support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}, {'number': 9, 'created': '2017-04-02 11:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/193a208ac4919a743e7b3b6a457a8839f13fc162', 'message': 'Add initial support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nCo-Authored-By: Tong Liu <tongl@vmware.com>\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}, {'number': 10, 'created': '2017-04-06 10:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/718a9d34625c570734ac1aeb9b98598b846846a9', 'message': 'Add initial support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nCo-Authored-By: Tong Liu <tongl@vmware.com>\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}, {'number': 11, 'created': '2017-04-06 11:11:41.000000000', 'files': ['puppet/services/neutron-plugin-nsx.yaml', 'environments/neutron-nsx.yaml', 'capabilities-map.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/nsx-support-1254839718d8df8c.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78f4a3316616d28f21a0ecc2f1258390cfb04604', 'message': 'Add initial support for NSX plugin\n\nAdd the support for the VMware NSX plugin\n\nCo-Authored-By: Tong Liu <tongl@vmware.com>\n\nChange-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692\n'}]",2,441668,78f4a3316616d28f21a0ecc2f1258390cfb04604,43,5,11,1653,,,0,"Add initial support for NSX plugin

Add the support for the VMware NSX plugin

Co-Authored-By: Tong Liu <tongl@vmware.com>

Change-Id: I3567cbb4ed8d6e5b2a3ea6b8cff6c7b8ed13b692
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/441668/7 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-nsx.yaml', 'capabilities-map.yaml', 'puppet/services/neutron-nsx.yaml', 'overcloud-resource-registry-puppet.j2.yaml']",4,185d197d6369d3ab75d1b46e5cd837a490417dd0,nsx, OS::TripleO::Services::NeutronCorePluginNSX: puppet/services/neutron-nsx.yaml,,70,0
openstack%2Finstack-undercloud~stable%2Focata~I6902a64aae584d2ef4b523d0c0dec828a4a9883b,openstack/instack-undercloud,stable/ocata,I6902a64aae584d2ef4b523d0c0dec828a4a9883b,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:48:30.000000000,2017-04-25 04:11:02.000000000,2017-04-25 04:11:02.000000000,"[{'_account_id': 3}, {'_account_id': 7144}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-24 15:48:30.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/6790ae8b3d17e6a7aea2a7bf854763486d30c2a1', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I6902a64aae584d2ef4b523d0c0dec828a4a9883b\n'}]",0,459385,6790ae8b3d17e6a7aea2a7bf854763486d30c2a1,8,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I6902a64aae584d2ef4b523d0c0dec828a4a9883b
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/85/459385/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,6790ae8b3d17e6a7aea2a7bf854763486d30c2a1,ocata/gemfile," :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/ocata', :require => false"," :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper', :branch => 'master', :require => false",3,3
openstack%2Fdragonflow~master~If45648b00ddbf4ed4355646d44892bf0c9d461c6,openstack/dragonflow,master,If45648b00ddbf4ed4355646d44892bf0c9d461c6,Add get_index() convenience method,MERGED,2017-04-18 10:50:30.000000000,2017-04-25 03:55:21.000000000,2017-04-25 03:55:21.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 20229}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-04-18 10:50:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/c255cf4e20eb9c53662e65a5b2dcf90a15fae95c', 'message': 'Add get_index() convenience method\n\nChange-Id: If45648b00ddbf4ed4355646d44892bf0c9d461c6\n'}, {'number': 2, 'created': '2017-04-19 05:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/76751d52897b913e01146efd1b2aa1d9f08451b5', 'message': 'Add get_index() convenience method\n\nChange-Id: If45648b00ddbf4ed4355646d44892bf0c9d461c6\n'}, {'number': 3, 'created': '2017-04-20 07:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/20ee4103a4edcc3bb4f37b8899012ab0a22e130e', 'message': 'Add get_index() convenience method\n\nChange-Id: If45648b00ddbf4ed4355646d44892bf0c9d461c6\n'}, {'number': 4, 'created': '2017-04-23 10:46:06.000000000', 'files': ['dragonflow/db/db_store2.py', 'dragonflow/controller/topology.py', 'dragonflow/tests/unit/test_db_store.py', 'doc/source/devrefs/models.rst', 'dragonflow/controller/l3_app.py', 'dragonflow/db/model_framework.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/7322b2da2e5d28ae54f8b768a16a51d9d64575a5', 'message': 'Add get_index() convenience method\n\nChange-Id: If45648b00ddbf4ed4355646d44892bf0c9d461c6\n'}]",1,457563,7322b2da2e5d28ae54f8b768a16a51d9d64575a5,23,5,4,23766,,,0,"Add get_index() convenience method

Change-Id: If45648b00ddbf4ed4355646d44892bf0c9d461c6
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/63/457563/4 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/db/db_store2.py', 'dragonflow/controller/topology.py', 'dragonflow/tests/unit/test_db_store.py', 'dragonflow/db/model_framework.py']",4,c255cf4e20eb9c53662e65a5b2dcf90a15fae95c,add_get_index," @classmethod def get_index(cls, index): return cls.get_indexes()[index] ",,19,15
openstack%2Fcinder~master~I17e28a7cb4df50147f6c8d2bca388830979779ed,openstack/cinder,master,I17e28a7cb4df50147f6c8d2bca388830979779ed,Add volume type filter to API Get-Pools,ABANDONED,2016-09-08 06:33:24.000000000,2017-04-25 03:54:33.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 2243}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12176}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 13394}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14259}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 14797}, {'_account_id': 14969}, {'_account_id': 15100}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15374}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16160}, {'_account_id': 16203}, {'_account_id': 16269}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16660}, {'_account_id': 16803}, {'_account_id': 16834}, {'_account_id': 16862}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17565}, {'_account_id': 17852}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19146}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21193}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22450}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23602}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2016-09-08 06:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/84fd5bbccf157a9512d04e6d5d594584b217dbf1', 'message': ""add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 2, 'created': '2016-09-08 08:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/cba3f33104e69fd50328f83c0277640f6ae8413f', 'message': ""add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 3, 'created': '2016-09-18 06:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f9abb7c36515aaa4c91349a66a25757d814b7704', 'message': ""Add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 4, 'created': '2016-09-18 09:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f769da8a50d245d4229d4b3fc0797fa202f55ada', 'message': ""Add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 5, 'created': '2016-10-06 08:09:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aecd893ba0e85bdef9982a1e2c3c4d49f8484c4d', 'message': ""Add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 6, 'created': '2016-10-12 08:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a7764e6532a0ba06ca0ce6f9a4e3692d8c1b7fe', 'message': ""Add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 7, 'created': '2016-10-12 12:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac18760f05e8e30841540724252358f7bbf2b54c', 'message': ""Add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 8, 'created': '2016-10-21 00:53:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c6529c02a69e842688072d437f0c7c90aed39bc', 'message': ""Add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 9, 'created': '2017-02-04 06:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/74123393df66e1152fdf4e3af361299b1a9f71bc', 'message': ""Add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 10, 'created': '2017-02-04 09:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8291846f22023c2f0a9cfceb7c633c5fb80dc041', 'message': ""Add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 11, 'created': '2017-02-17 08:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6ec2e030e31224b48e413d77bcb5999bbc405300', 'message': ""Add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}, {'number': 12, 'created': '2017-02-21 02:49:17.000000000', 'files': ['releasenotes/notes/add-volume-type-filter-to_get-pools-c791132540921398.yaml', 'cinder/tests/unit/scheduler/test_host_manager.py', 'cinder/api/contrib/scheduler_stats.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/tests/unit/api/contrib/test_scheduler_stats.py', 'cinder/scheduler/host_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2b5045069e41c9e8d312a1ab9d764ebf667426f6', 'message': ""Add volume type filter to API Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered\nby volume-type's extra-spec.\n\nAPIImpact\nImplements: blueprint add-volume-type-filter-to-get-pool\n\nChange-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed\n""}]",19,367110,2b5045069e41c9e8d312a1ab9d764ebf667426f6,358,71,12,23083,,,0,"Add volume type filter to API Get-Pools

Add feature that administrators can get back-end storage pools
filtered by volume-type, cinder will return the pools filtered
by volume-type's extra-spec.

APIImpact
Implements: blueprint add-volume-type-filter-to-get-pool

Change-Id: I17e28a7cb4df50147f6c8d2bca388830979779ed
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/367110/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/scheduler/filter_scheduler.py', 'releasenotes/notes/add-volume-type-filter-to_get-pools-c791132540921398.yaml', 'cinder/tests/unit/scheduler/test_host_manager.py', 'cinder/api/contrib/scheduler_stats.py', 'cinder/api/openstack/api_version_request.py', 'cinder/api/openstack/rest_api_version_history.rst', 'cinder/volume/volume_types.py', 'cinder/tests/unit/api/contrib/test_scheduler_stats.py', 'cinder/scheduler/host_manager.py']",9,84fd5bbccf157a9512d04e6d5d594584b217dbf1,bp/add-volume-type-filter-to-get-pool," def _filter_pools_by_volume_type(self, context, volume_type, pools): """"""Return the pools filtered by volume type specs"""""" # wrap filter properties only with volume_type filter_properties = {'context': context, 'volume_type': volume_type, 'resource_type': volume_type} filtered = self.get_filtered_hosts(pools.values(), filter_properties) # filter the pools by value return {k: v for k, v in pools.items() if v in filtered} def get_pools(self, context, filters=None): all_pools = {} # use host#pool_name to make sure key is unique all_pools[pool_key] = pool # filter pools by volume type if filters and filters.get('volume_type', None): all_pools = \ self._filter_pools_by_volume_type(context, filters['volume_type'], all_pools) # encapsulate pools in format:{name: XXX, capabilities: XXX} return [dict(name=key, capabilities=pool.capabilities) for key, pool in all_pools.items()]"," def get_pools(self, context): all_pools = [] # use host.pool_name to make sure key is unique new_pool = dict(name=pool_key) new_pool.update(dict(capabilities=pool.capabilities)) all_pools.append(new_pool) return all_pools",139,16
openstack%2Fnova~stable%2Focata~Ia2738dd0c7d1842b68c83d0a9e75e26b2f8d492a,openstack/nova,stable/ocata,Ia2738dd0c7d1842b68c83d0a9e75e26b2f8d492a,Use deepcopy when process filters in db api,MERGED,2017-04-17 19:19:03.000000000,2017-04-25 03:50:46.000000000,2017-04-25 03:50:46.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 7166}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}]","[{'number': 1, 'created': '2017-04-17 19:19:03.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1682693.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/01ffbdf8be1cec567ccebb1d9dcb1b390cfaa31a', 'message': 'Use deepcopy when process filters in db api\n\nIn db API when we process filters, we didn\'t\nuse deepcopy. In cases of ""tags"" and ""not-tags""\nwe used pop to get the first tag, filtered out\nresults, and then joined with other tags for\nlater filtering. When we did pop(), the original\nvalue was deleted, the key ""tags""/""not-tags"" remains.\n\nIn the cell scenario, both single cell(we will\nquery cell0 and the other cell) and multicell,\nas we have to query all the cells in a loop and\nthe tags list in the filter will keep popping,\nthis will lead to either a HTTP 500 error(popping\nfrom an empty list) or incorrect result(when\nnumber of tags in the list is larger than cell\nnumber, no HTTP 500 will show, but the filter\nresults for each cell will be different as\neach loop will pop one tag).\n\ncloses-bug: #1682693\n\nChange-Id: Ia2738dd0c7d1842b68c83d0a9e75e26b2f8d492a\n(cherry picked from commit c4820305d2f9ee8d62bcc708baf3fa6dfe7ca960)\n'}]",0,457336,01ffbdf8be1cec567ccebb1d9dcb1b390cfaa31a,44,6,1,6873,,,0,"Use deepcopy when process filters in db api

In db API when we process filters, we didn't
use deepcopy. In cases of ""tags"" and ""not-tags""
we used pop to get the first tag, filtered out
results, and then joined with other tags for
later filtering. When we did pop(), the original
value was deleted, the key ""tags""/""not-tags"" remains.

In the cell scenario, both single cell(we will
query cell0 and the other cell) and multicell,
as we have to query all the cells in a loop and
the tags list in the filter will keep popping,
this will lead to either a HTTP 500 error(popping
from an empty list) or incorrect result(when
number of tags in the list is larger than cell
number, no HTTP 500 will show, but the filter
results for each cell will be different as
each loop will pop one tag).

closes-bug: #1682693

Change-Id: Ia2738dd0c7d1842b68c83d0a9e75e26b2f8d492a
(cherry picked from commit c4820305d2f9ee8d62bcc708baf3fa6dfe7ca960)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/457336/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py', 'nova/tests/functional/regressions/test_bug_1682693.py']",3,01ffbdf8be1cec567ccebb1d9dcb1b390cfaa31a,bug/1682693," servers = self.api.get_servers(search_opts=dict(tags='foo')) self.assertEqual(2, len(servers))","from nova.tests.functional.api import client as api_client # FIXME(mriedem): This causes a 500 error until bug 1682693 is fixed. ex = self.assertRaises(api_client.OpenStackApiException, self.api.get_servers, search_opts=dict(tags='foo')) self.assertEqual(500, ex.response.status_code) self.assertIn('IndexError', ex.message)",29,8
openstack%2Fnetworking-midonet~master~Icef59a03184473476e0657334bcc30dc7bf4f9ff,openstack/networking-midonet,master,Icef59a03184473476e0657334bcc30dc7bf4f9ff,Disable new N537 hacking check from next neutron-lib,MERGED,2017-04-17 01:49:44.000000000,2017-04-25 03:44:10.000000000,2017-04-25 03:33:38.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 9656}, {'_account_id': 9925}]","[{'number': 1, 'created': '2017-04-17 01:49:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/1584efef70228a9a0e913a7c2938ef6c2714a720', 'message': 'Disable new N537 hacking check from next neutron-lib\n\nOnce a new neutron-lib release will be cut off, the new hacking check\nwill break the pep8 target because the code still uses translation\nmarkers for log messages.\n\nInstead of fixing all remaining log messages and hoping no new messages\nland before neutron-lib release, we temporarily disable the check; we\nwill reenable it back once we have a neutron-lib release in gate that we\ncan validate the patch removing translation markers against.\n\nChange-Id: Icef59a03184473476e0657334bcc30dc7bf4f9ff\n'}, {'number': 2, 'created': '2017-04-21 05:11:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c27bfa6ad7348b96a1f15a3c9d56040471fb25d7', 'message': 'Disable new N537 hacking check from next neutron-lib\n\nOnce a new neutron-lib release will be cut off, the new hacking check\nwill break the pep8 target because the code still uses translation\nmarkers for log messages.\n\nInstead of fixing all remaining log messages and hoping no new messages\nland before neutron-lib release, we temporarily disable the check; we\nwill reenable it back once we have a neutron-lib release in gate that we\ncan validate the patch removing translation markers against.\n\nChange-Id: Icef59a03184473476e0657334bcc30dc7bf4f9ff\n'}]",0,457112,c27bfa6ad7348b96a1f15a3c9d56040471fb25d7,15,5,2,9656,,,0,"Disable new N537 hacking check from next neutron-lib

Once a new neutron-lib release will be cut off, the new hacking check
will break the pep8 target because the code still uses translation
markers for log messages.

Instead of fixing all remaining log messages and hoping no new messages
land before neutron-lib release, we temporarily disable the check; we
will reenable it back once we have a neutron-lib release in gate that we
can validate the patch removing translation markers against.

Change-Id: Icef59a03184473476e0657334bcc30dc7bf4f9ff
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/12/457112/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1584efef70228a9a0e913a7c2938ef6c2714a720,,"# TODO(ihrachys) -- reenable N537 when new neutron-lib release is available # N537 Log messages should not be translated ignore = E125,E126,E128,H404,H405,N530,N537","ignore = E125,E126,E128,H404,H405,N530",3,1
openstack%2Fpuppet-oslo~stable%2Focata~I3005c9fea498bf0cf1f6a1180c6292c861a2067f,openstack/puppet-oslo,stable/ocata,I3005c9fea498bf0cf1f6a1180c6292c861a2067f,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:44:24.000000000,2017-04-25 03:36:14.000000000,2017-04-24 20:25:43.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:44:24.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/7086de138cb8a6b2abb0922b0b18844b8501472c', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I3005c9fea498bf0cf1f6a1180c6292c861a2067f\n'}]",0,459371,7086de138cb8a6b2abb0922b0b18844b8501472c,8,4,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I3005c9fea498bf0cf1f6a1180c6292c861a2067f
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/71/459371/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,7086de138cb8a6b2abb0922b0b18844b8501472c,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fheat~master~I395144f2c8df6b9b2f7b0e0501dfb5ded053ea33,openstack/heat,master,I395144f2c8df6b9b2f7b0e0501dfb5ded053ea33,Improve logging of convergence scenario tests,MERGED,2017-02-17 00:34:39.000000000,2017-04-25 03:30:34.000000000,2017-04-25 03:30:34.000000000,"[{'_account_id': 3}, {'_account_id': 7385}, {'_account_id': 8289}]","[{'number': 1, 'created': '2017-02-17 00:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/eccecaef57dd4ce557f34deb8ba02ca5e4b165ad', 'message': 'Improve logging of convergence scenario tests\n\nChange-Id: I395144f2c8df6b9b2f7b0e0501dfb5ded053ea33\n'}, {'number': 2, 'created': '2017-02-18 20:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/0a513220582aa189269e3129a5e6cffdda5bf8c2', 'message': 'Improve logging of convergence scenario tests\n\nChange-Id: I395144f2c8df6b9b2f7b0e0501dfb5ded053ea33\n'}, {'number': 3, 'created': '2017-02-18 21:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/68b90a080c7878c9b535b0a22573af959fd46d43', 'message': 'Improve logging of convergence scenario tests\n\nChange-Id: I395144f2c8df6b9b2f7b0e0501dfb5ded053ea33\n'}, {'number': 4, 'created': '2017-02-24 15:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5207d3ed038fb1ee332f1e95d4a91e7653561475', 'message': 'Improve logging of convergence scenario tests\n\nChange-Id: I395144f2c8df6b9b2f7b0e0501dfb5ded053ea33\n'}, {'number': 5, 'created': '2017-02-24 19:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/37183df2b9f8c6538acafc730d2330c76362b450', 'message': 'Improve logging of convergence scenario tests\n\nChange-Id: I395144f2c8df6b9b2f7b0e0501dfb5ded053ea33\n'}, {'number': 6, 'created': '2017-04-05 17:37:34.000000000', 'files': ['heat/tests/convergence/framework/fake_resource.py', 'heat/tests/convergence/framework/message_processor.py', 'heat/tests/convergence/framework/testutils.py', 'heat/tests/convergence/framework/scenario_template.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f11fd695709a282af2a60be9a4e2b8f3ab2601ee', 'message': 'Improve logging of convergence scenario tests\n\nChange-Id: I395144f2c8df6b9b2f7b0e0501dfb5ded053ea33\n'}]",2,435174,f11fd695709a282af2a60be9a4e2b8f3ab2601ee,20,3,6,4257,,,0,"Improve logging of convergence scenario tests

Change-Id: I395144f2c8df6b9b2f7b0e0501dfb5ded053ea33
",git fetch https://review.opendev.org/openstack/heat refs/changes/74/435174/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/convergence/framework/fake_resource.py', 'heat/tests/convergence/framework/message_processor.py', 'heat/tests/convergence/framework/testutils.py', 'heat/tests/convergence/framework/scenario_template.py']",4,eccecaef57dd4ce557f34deb8ba02ca5e4b165ad,bp/stack-definition," def __repr__(self): return 'GetRes(%r)' % self.target_name def __repr__(self): return 'GetAtt(%r, %r)' % (self.target_name, self.attr) def __repr__(self): return 'RsrcDef(%r, %r)' % (self.properties, self.depends_on) ",,35,8
openstack%2Fnetworking-midonet~master~I590ce615699c5e26abd47b84eedb27a9a6fd1455,openstack/networking-midonet,master,I590ce615699c5e26abd47b84eedb27a9a6fd1455,v2/bgp: a few enginefacade related updates,MERGED,2017-04-17 08:12:22.000000000,2017-04-25 03:29:41.000000000,2017-04-25 03:18:50.000000000,"[{'_account_id': 3}, {'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 8837}, {'_account_id': 8858}, {'_account_id': 9925}, {'_account_id': 13196}]","[{'number': 1, 'created': '2017-04-17 08:12:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/8433a6a8901da8ef68fc82ea12de0c61deaff7b0', 'message': 'v2: a few enginefacade related updates\n\nCloses-Bug: #1683234\nRelated-Bug: #1490917\nChange-Id: I590ce615699c5e26abd47b84eedb27a9a6fd1455\n'}, {'number': 2, 'created': '2017-04-17 10:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/c73912a1030cc6a246ab5d31b166f2b2aa79e022', 'message': 'v2/bgp: a few enginefacade related updates\n\nCloses-Bug: #1683234\nRelated-Bug: #1490917\nChange-Id: I590ce615699c5e26abd47b84eedb27a9a6fd1455\n'}, {'number': 3, 'created': '2017-04-17 12:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/57b046e731fa887bbd6d7980eb123e642a529c17', 'message': 'v2/bgp: a few enginefacade related updates\n\nCloses-Bug: #1683234\nRelated-Bug: #1490917\nChange-Id: I590ce615699c5e26abd47b84eedb27a9a6fd1455\n'}, {'number': 4, 'created': '2017-04-18 04:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/31b6c2f5730b26d9386e374544a272929d567ae5', 'message': 'v2/bgp: a few enginefacade related updates\n\nCloses-Bug: #1683234\nRelated-Bug: #1490917\n\nAlso, this commit includes the following unrelated change\nto pass the gate.\n--------------------\nRemove QoS notification driver\n\nFollow the recent neutron change. [1]\n\n[1] I5f747635be3fd66b70326d9f94c85a6736286bd2\n\nCloses-Bug: #1683586\n--------------------\n\nChange-Id: I590ce615699c5e26abd47b84eedb27a9a6fd1455\n'}, {'number': 5, 'created': '2017-04-20 08:13:01.000000000', 'files': ['midonet/neutron/services/bgp/plugin.py', 'devstack/midonet-pkg/configure_and_start_midonet.sh', 'devstack/plugin.sh', 'setup.cfg', 'midonet/neutron/services/qos/driver.py', 'midonet/neutron/db/bgp_speaker_router_insertion_db.py', 'midonet/neutron/plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d8da4255438006cd7f872de6f028a251fab4024b', 'message': 'v2/bgp: a few enginefacade related updates\n\nCloses-Bug: #1683234\nRelated-Bug: #1490917\n\nAlso, this commit includes the following unrelated changes\nto pass the gate.\n--------------------\nRemove QoS notification driver\n\nFollow the recent neutron change. [1]\n\n[1] I5f747635be3fd66b70326d9f94c85a6736286bd2\n\nCloses-Bug: #1683586\n--------------------\ndevstack: Adapt to the recent uwsgi switch\n\nUpdate after the recent devstack change. [1]\n\nNote: this breaks devmido case\nNote: this requires relatively recent version of MidoNet [2]\n\n[1] I46294fb24e3c23fa19fcfd7d6c9ee8a932354702\n[2] Ieb311acac367532b71f502075cc4839288f4cd05\n\nCloses-Bug: #1684338\nChange-Id: I2ae8a8f1f34e5105d002905230a43a8b04093de5\n--------------------\nv2: notify NETWORK PRECOMMIT_CREATE/PRECOMMIT_UPDATE events\n\nThey are used by auto_allocate after the recent neutron change. [1]\n\n[1] Id2db458f4688e4aa4c70ccdb09867b9a66de28ea\n\nCloses-Bug: #1684350\nChange-Id: I8460ca4b0156c9ab28d3e5b638a033931ca78e39\n--------------------\n\nChange-Id: I590ce615699c5e26abd47b84eedb27a9a6fd1455\n'}]",0,457173,d8da4255438006cd7f872de6f028a251fab4024b,29,7,5,6854,,,0,"v2/bgp: a few enginefacade related updates

Closes-Bug: #1683234
Related-Bug: #1490917

Also, this commit includes the following unrelated changes
to pass the gate.
--------------------
Remove QoS notification driver

Follow the recent neutron change. [1]

[1] I5f747635be3fd66b70326d9f94c85a6736286bd2

Closes-Bug: #1683586
--------------------
devstack: Adapt to the recent uwsgi switch

Update after the recent devstack change. [1]

Note: this breaks devmido case
Note: this requires relatively recent version of MidoNet [2]

[1] I46294fb24e3c23fa19fcfd7d6c9ee8a932354702
[2] Ieb311acac367532b71f502075cc4839288f4cd05

Closes-Bug: #1684338
Change-Id: I2ae8a8f1f34e5105d002905230a43a8b04093de5
--------------------
v2: notify NETWORK PRECOMMIT_CREATE/PRECOMMIT_UPDATE events

They are used by auto_allocate after the recent neutron change. [1]

[1] Id2db458f4688e4aa4c70ccdb09867b9a66de28ea

Closes-Bug: #1684350
Change-Id: I8460ca4b0156c9ab28d3e5b638a033931ca78e39
--------------------

Change-Id: I590ce615699c5e26abd47b84eedb27a9a6fd1455
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/73/457173/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/plugin_v2.py'],1,8433a6a8901da8ef68fc82ea12de0c61deaff7b0,bug/1683234," s, net_db, ipam_sub = self._create_subnet_precommit( context, subnet) # db base plugin post commit ops self._create_subnet_postcommit(context, s, net_db, ipam_sub) with db_api.context_manager.writer.using(context):"," s = super(MidonetPluginV2, self).create_subnet(context, subnet) # REVISIT(yamamoto): this nested transaction is a workaround # for bug #1490917. with db_api.autonested_transaction(context.session):",5,4
openstack%2Fmasakari-specs~master~I7dce74430e4569a5978f8f4b953db3b20125c53e,openstack/masakari-specs,master,I7dce74430e4569a5978f8f4b953db3b20125c53e,Prepare specs repository for Pike,MERGED,2017-04-19 10:56:33.000000000,2017-04-25 03:27:44.000000000,2017-04-25 03:27:44.000000000,"[{'_account_id': 3}, {'_account_id': 1011}, {'_account_id': 9303}, {'_account_id': 12950}]","[{'number': 1, 'created': '2017-04-19 10:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/c96f4e274e86049b177c5266cfa1d29778f48b91', 'message': 'Prepare specs repository for Pike\n\nAdd directories, index file, and template symlinks for Pike specs.\n\nChange-Id: I7dce74430e4569a5978f8f4b953db3b20125c53e\n'}, {'number': 2, 'created': '2017-04-20 06:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/dd995548924e138533a56bbbdcf006009786ed63', 'message': 'Prepare specs repository for Pike\n\nAdd directories, index file, and template symlinks for Pike specs.\n\nChange-Id: I7dce74430e4569a5978f8f4b953db3b20125c53e\n'}, {'number': 3, 'created': '2017-04-21 06:32:56.000000000', 'files': ['doc/source/specs/pike/implemented', 'specs/pike/implemented/pike-template.rst', 'doc/source/specs/pike/redirects', 'doc/source/index.rst', 'specs/pike-template.rst', 'doc/source/specs/pike/approved', 'doc/source/specs/pike/index.rst', 'specs/pike/redirects', 'doc/source/specs/pike/template.rst', 'specs/pike/approved/pike-template.rst'], 'web_link': 'https://opendev.org/openstack/masakari-specs/commit/21aeb965acea0b3ebe8448715bb88df4409dd402', 'message': 'Prepare specs repository for Pike\n\nAdd directories, index file, and template symlinks for Pike specs.\n\nChange-Id: I7dce74430e4569a5978f8f4b953db3b20125c53e\n'}]",1,458022,21aeb965acea0b3ebe8448715bb88df4409dd402,16,4,3,9303,,,0,"Prepare specs repository for Pike

Add directories, index file, and template symlinks for Pike specs.

Change-Id: I7dce74430e4569a5978f8f4b953db3b20125c53e
",git fetch https://review.opendev.org/openstack/masakari-specs refs/changes/22/458022/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/pike/implemented', 'doc/source/index.rst', 'doc/source/specs/pike/redirects', 'doc/source/specs/pike/approved', 'doc/source/specs/pike/index.rst', 'specs/pike/redirects', 'doc/source/specs/pike/template.rst', 'specs/pike/approved/pike-template.rst']",8,c96f4e274e86049b177c5266cfa1d29778f48b91,bp/recovery-method-customization,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Example Spec - The title of your blueprint ========================================== Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/masakari/+spec/example Introduction paragraph -- why are we doing anything? A single paragraph of prose that operators can understand. The title and this first paragraph should be used as the subject line and body of the commit message respectively. Some notes about the masakari-spec and blueprint process: * Not all blueprints need a spec. For more information see https://wiki.openstack.org/wiki/Masakari-specs * The aim of this document is first to define the problem we need to solve, and second agree the overall approach to solve that problem. * This is not intended to be extensive documentation for a new feature. For example, there is no need to specify the exact configuration changes, nor the exact details of any DB model changes. But you should still define that such changes are required, and be clear on how that will affect upgrades. * You should aim to get your spec approved before writing your code. While you are free to write prototypes and code before getting your spec approved, its possible that the outcome of the spec review process leads you towards a fundamentally different solution than you first envisaged. * But, API changes are held to a much higher level of scrutiny. As soon as an API change merges, we must assume it could be in production somewhere, and as such, we then need to support that API change forever. To avoid getting that wrong, we do want lots of details about API changes upfront. Some notes about using this template: * Your spec should be in ReSTructured text, like this template. * Please wrap text at 79 columns. * The filename in the git repository should match the launchpad URL, for example a URL of: https://blueprints.launchpad.net/masakari/+spec/awesome-thing should be named awesome-thing.rst * Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None * For help with syntax, see http://sphinx-doc.org/rest.html * To test out your formatting, build the docs using tox and see the generated HTML file in doc/build/html/specs/<path_of_your_file> * If you would like to provide a diagram with your spec, ascii diagrams are required. http://asciiflow.com/ is a very nice tool to assist with making ascii diagrams. The reason for this is that the tool used to review specs is based purely on plain text. Plain text will allow review to proceed without having to look at additional files which can not be viewed in gerrit. It will also allow inline feedback on the diagram itself. * If your specification proposes any changes to the Masakari REST API such as changing parameters which can be returned or accepted, or even the semantics of what happens when a client calls into the API, then you should add the APIImpact flag to the commit message. Problem description =================== A detailed description of the problem. What problem is this blueprint addressing? Use Cases --------- What use cases does this address? What impact on actors does this change have? Ensure you are clear about the actors in each use case: Developer, End User, Deployer etc. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? At this point, if you would like to just get feedback on if the problem and proposed change fit in Masakari, you can stop here and post this for review to get preliminary feedback. If so please say: Posting to get preliminary feedback on the scope of this spec. Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change. * How will the initial set of new data objects be generated, for example if you need to take into account existing instances, or modify other existing data describe how that will work. REST API impact --------------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does suitable for use in user documentation * Method type (POST/PUT/GET/DELETE) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included describing semantic errors which can cause it such as inconsistent parameters supplied to the method, or when an instance is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema definition do not need to be included. * URL for the resource * URL should not include underscores, and use hyphens instead. * Parameters which can be passed via the url * JSON schema definition for the request body data if allowed * Field names should use snake_case style, not CamelCase or MixedCase style. * JSON schema definition for the response body data if any * Field names should use snake_case style, not CamelCase or MixedCase style. * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted (eg additionaProperties should be False). Reuse of existing predefined parameter types such as regexps for passwords and user defined names is highly encouraged. Security impact --------------- Describe any potential security impact on the system. Some of the items to consider include: * Does this change touch sensitive data such as tokens, keys, or user data? * Does this change alter the API in a way that may impact security, such as a new way to access sensitive information or a new way to login? * Does this change involve cryptography or hashing? * Does this change require the use of sudo or any elevated privileges? * Does this change involve using or parsing user-provided data? This could be directly at the API level or indirectly such as changes to a cache layer. * Can this change enable a resource exhaustion attack, such as allowing a single API interaction to consume significant server resources? Some examples of this include launching subprocesses for each connection, or entity expansion attacks in XML. For more detailed guidance, please see the OpenStack Security Guidelines as a reference (https://wiki.openstack.org/wiki/Security/Guidelines). These guidelines are a work in progress and are designed to help you identify security best practices. For further information, feel free to reach out to the OpenStack Security Group at openstack-security@lists.openstack.org. Notifications impact -------------------- Please specify any changes to notifications. Be that an extra notification, changes to an existing notification, or removing a notification. Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on python-masakariclient? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A periodic task might look like a small addition but if it calls conductor or another service the load is multiplied by the number of nodes in the system. * Scheduler filters get called once per host for every instance being created, so any latency they introduce is linear with the size of the system. * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries (whether direct or via conductor) can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed (for example a flag that other hypervisor drivers might want to implement as well)? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. For example, if we change the directory name that instances are stored in, how do we handle instance directories created before the change landed? Do we move them? Do we have a special case in the code? Do we assume that the operator will recreate all the instances in their cloud? Developer impact ---------------- Discuss things that will affect other developers working on OpenStack, such as: * If the blueprint proposes a change to the driver API, discussion of how other hypervisors would implement the feature is required. Implementation ============== Assignee(s) ----------- Who is leading the writing of the code? Or is this a blueprint where you're throwing it out there to see who picks it up? If more than one person is working on the implementation, please designate the primary author and contact. Primary assignee: <launchpad-id or None> Other contributors: <launchpad-id or None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to specs and/or blueprints in Masakari, or in other projects, that this one either depends on or is related to. * If this requires functionality of another project that is not currently used by Masakari (such as nova, or masakari-monitors, python-masakariclient), document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of library? Testing ======= Please discuss the important scenarios needed to test here, as well as specific edge cases we should be ensuring work correctly. For each scenario please specify if this requires specialized hardware, a full openstack environment, or can be simulated inside the Masakari tree. Please discuss how the change will be tested. We especially want to know what tempest tests will be added. It is assumed that unit test coverage will be added so that doesn't need to be mentioned explicitly, but discussion of why you think unit tests are sufficient and we don't need to add more tempest tests would need to be included. Is this untestable in gate given current limitations (specific hardware / software configurations available)? If so, are there mitigation plans (3rd party testing, gate enhancements, etc). Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. For example, the Operations Guide targets cloud operators, and the End User Guide would need to be updated if the change offers a new feature available through the CLI or dashboard. If a config option changes or is deprecated, note here that the documentation needs to be updated to reflect this specification's change. References ========== Please add any useful references here. You are not required to have any reference. Moreover, this specification should still make sense when your references are unavailable. Examples of what you could include are: * Links to mailing list or IRC discussions * Links to notes from a summit session * Links to relevant research, if appropriate * Related specifications as appropriate (e.g. if it's an EC2 thing, link the EC2 docs) * Anything else you feel it is worthwhile to refer to History ======= Optional section intended to be used each time the spec is updated to describe new design, API or any database schema updated. Useful to let reader understand what's happened along the time. .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Ocata - Introduced ",,417,0
openstack%2Fzaqar~master~Ie1ecf45962dafb8b46f1bd138a2d44521c8eff67,openstack/zaqar,master,Ie1ecf45962dafb8b46f1bd138a2d44521c8eff67,Switch to use test_utils.call_until_true,MERGED,2017-02-09 17:50:22.000000000,2017-04-25 03:19:41.000000000,2017-02-13 04:01:24.000000000,"[{'_account_id': 3}, {'_account_id': 6484}, {'_account_id': 15054}]","[{'number': 1, 'created': '2017-02-09 17:50:22.000000000', 'files': ['zaqar/tests/tempest_plugin/tests/v2/test_subscriptions.py'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/d959f5f2ddb6a4aab2cf1084210ae2e58e6ceab3', 'message': 'Switch to use test_utils.call_until_true\n\ntest.call_until_true has been deprecated since Newton on Tempest side,\nand now Tempest provides test_utils.call_until_true as the stable\nlibrary method. So this patch switches to use the stable method before\nremoving old test.call_until_true on Tempest side.\n\nChange-Id: Ie1ecf45962dafb8b46f1bd138a2d44521c8eff67\n'}]",0,431668,d959f5f2ddb6a4aab2cf1084210ae2e58e6ceab3,8,3,1,6167,,,0,"Switch to use test_utils.call_until_true

test.call_until_true has been deprecated since Newton on Tempest side,
and now Tempest provides test_utils.call_until_true as the stable
library method. So this patch switches to use the stable method before
removing old test.call_until_true on Tempest side.

Change-Id: Ie1ecf45962dafb8b46f1bd138a2d44521c8eff67
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/68/431668/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqar/tests/tempest_plugin/tests/v2/test_subscriptions.py'],1,d959f5f2ddb6a4aab2cf1084210ae2e58e6ceab3,switch-call_until_true,from tempest.lib.common.utils import test_utils if not test_utils.call_until_true(,from tempest import test if not test.call_until_true(,2,2
openstack%2Fneutron~master~I78556fb31bea111c988eca23de562704435d5a85,openstack/neutron,master,I78556fb31bea111c988eca23de562704435d5a85,Remove unused parameter in test_extension_driver_port_security.py,MERGED,2017-04-24 03:13:08.000000000,2017-04-25 03:05:25.000000000,2017-04-25 03:05:25.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 9732}, {'_account_id': 20363}, {'_account_id': 25670}]","[{'number': 1, 'created': '2017-04-24 03:13:08.000000000', 'files': ['neutron/tests/tempest/api/test_extension_driver_port_security.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4679f5b086e98de9c804663404a6bc270edfab8f', 'message': 'Remove unused parameter in test_extension_driver_port_security.py\n\nChange-Id: I78556fb31bea111c988eca23de562704435d5a85\n'}]",1,459151,4679f5b086e98de9c804663404a6bc270edfab8f,15,6,1,21897,,,0,"Remove unused parameter in test_extension_driver_port_security.py

Change-Id: I78556fb31bea111c988eca23de562704435d5a85
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/459151/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/tempest/api/test_extension_driver_port_security.py'],1,4679f5b086e98de9c804663404a6bc270edfab8f,remove_unused_parameter," sec_group_body, _ = self._create_security_group()"," sec_group_body, sec_group_name = self._create_security_group()",1,1
openstack%2Frally~master~Id52ca3c86adb0d412b6dba61a887ac8d100e5b1e,openstack/rally,master,Id52ca3c86adb0d412b6dba61a887ac8d100e5b1e,Fix details of nova_utils,MERGED,2017-04-24 16:47:59.000000000,2017-04-25 02:55:58.000000000,2017-04-25 02:55:57.000000000,"[{'_account_id': 3}, {'_account_id': 9545}]","[{'number': 1, 'created': '2017-04-24 16:47:59.000000000', 'files': ['rally/plugins/openstack/scenarios/nova/utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/f09149c839d4fce1ef7a5b73549f4a1ad41664e7', 'message': ""Fix details of nova_utils\n\nWe can use image's ID or instance and flavor's ID or instance\nto boot server in scenarios.nova.utils._boot_server function.\n\nChange-Id: Id52ca3c86adb0d412b6dba61a887ac8d100e5b1e\n""}]",0,459407,f09149c839d4fce1ef7a5b73549f4a1ad41664e7,9,2,1,22960,,,0,"Fix details of nova_utils

We can use image's ID or instance and flavor's ID or instance
to boot server in scenarios.nova.utils._boot_server function.

Change-Id: Id52ca3c86adb0d412b6dba61a887ac8d100e5b1e
",git fetch https://review.opendev.org/openstack/rally refs/changes/07/459407/1 && git format-patch -1 --stdout FETCH_HEAD,['rally/plugins/openstack/scenarios/nova/utils.py'],1,f09149c839d4fce1ef7a5b73549f4a1ad41664e7,fix_details," def _boot_server(self, image, flavor, :param image: image ID or instance for server creation :param flavor: int, flavor ID or instance for server creation server_name, image, flavor, **kwargs)"," def _boot_server(self, image_id, flavor_id, :param image_id: int, image ID for server creation :param flavor_id: int, flavor ID for server creation server_name, image_id, flavor_id, **kwargs)",4,4
openstack%2Fpanko~master~I5fa8b862cf19c524f90d34681980cbd062ad9bf1,openstack/panko,master,I5fa8b862cf19c524f90d34681980cbd062ad9bf1,add ceilometer publisher,MERGED,2017-02-09 15:11:55.000000000,2017-04-25 02:38:15.000000000,2017-02-22 04:28:44.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 8290}, {'_account_id': 10842}, {'_account_id': 22752}]","[{'number': 1, 'created': '2017-02-09 15:11:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/panko/commit/c16c91625d13d1c82ae38c023a848f78bf594d37', 'message': 'add ceilometer publisher\n\nceilometer is deprecating collector. this adds support to push\nstraight from publishers instead of using direct:// publisher\nhack. dispatchers also have an extra serialize/deserialize step\nwhich can be avoided.\n\nChange-Id: I5fa8b862cf19c524f90d34681980cbd062ad9bf1\n'}, {'number': 2, 'created': '2017-02-21 12:51:36.000000000', 'files': ['releasenotes/notes/ceilometer-panko-publisher-763231cca21cb2ec.yaml', 'panko/publisher/__init__.py', 'panko/dispatcher/database.py', 'setup.cfg', 'panko/publisher/database.py'], 'web_link': 'https://opendev.org/openstack/panko/commit/49e74f61e57e242cbc78c6f8256496358e270eb6', 'message': 'add ceilometer publisher\n\nceilometer is deprecating collector. this adds support to push\nstraight from publishers instead of using direct:// publisher\nhack. dispatchers also have an extra serialize/deserialize step\nwhich can be avoided.\n\nChange-Id: I5fa8b862cf19c524f90d34681980cbd062ad9bf1\n'}]",11,431593,49e74f61e57e242cbc78c6f8256496358e270eb6,20,6,2,6537,,,0,"add ceilometer publisher

ceilometer is deprecating collector. this adds support to push
straight from publishers instead of using direct:// publisher
hack. dispatchers also have an extra serialize/deserialize step
which can be avoided.

Change-Id: I5fa8b862cf19c524f90d34681980cbd062ad9bf1
",git fetch https://review.opendev.org/openstack/panko refs/changes/93/431593/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ceilometer-panko-publisher-763231cca21cb2ec.yaml', 'panko/publisher/__init__.py', 'panko/dispatcher/database.py', 'setup.cfg', 'panko/publisher/database.py']",5,c16c91625d13d1c82ae38c023a848f78bf594d37,publisher,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from panko import service from panko import storage class DatabasePublisher(object): """"""Publisher class for recording event data into database. The publisher class which records each event into a database configured in Ceilometer configuration file. To enable this publisher, the following section needs to be present in panko.conf file [database] connection = mysql+pymysql://panko:password@127.0.0.1/panko?charset=utf8 Then, panko:// should be added to Ceilometer's event_pipeline.yaml """""" def __init__(self, conf, parsed_url): conf = service.prepare_service([]) self.conn = storage.get_connection_from_config(conf) def publish_events(self, events): if not isinstance(events, list): events = [events] self.conn.record_events(events) ",,60,0
openstack%2Fstorlets~master~Ieb46c7a696e8a4c2fe3a9cc0858ab5fef12678c6,openstack/storlets,master,Ieb46c7a696e8a4c2fe3a9cc0858ab5fef12678c6,Refactor IPython extension and the tests,ABANDONED,2017-04-03 07:22:14.000000000,2017-04-25 02:28:32.000000000,,"[{'_account_id': 3}, {'_account_id': 4608}, {'_account_id': 11317}]","[{'number': 1, 'created': '2017-04-03 07:22:14.000000000', 'files': ['tests/unit/tools/extensions/test_ipython.py', 'storlets/tools/extensions/ipython.py'], 'web_link': 'https://opendev.org/openstack/storlets/commit/72d50fa6386822a63c03d8f2c8bc2c38e03c82b5', 'message': 'Refactor IPython extension and the tests\n\nMainly:\n\n- Implements Response class instead of response dict\n  (need to update the docs)\n\n- Fix FakeConnection class from the redandunt code perspective\n\nNeed to more generarize around _call_xx in the tests...\n\nChange-Id: Ieb46c7a696e8a4c2fe3a9cc0858ab5fef12678c6\n'}]",0,452617,72d50fa6386822a63c03d8f2c8bc2c38e03c82b5,5,3,1,4608,,,0,"Refactor IPython extension and the tests

Mainly:

- Implements Response class instead of response dict
  (need to update the docs)

- Fix FakeConnection class from the redandunt code perspective

Need to more generarize around _call_xx in the tests...

Change-Id: Ieb46c7a696e8a4c2fe3a9cc0858ab5fef12678c6
",git fetch https://review.opendev.org/openstack/storlets refs/changes/17/452617/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/tools/extensions/test_ipython.py', 'storlets/tools/extensions/ipython.py']",2,72d50fa6386822a63c03d8f2c8bc2c38e03c82b5,ipython_invoke,"class Response(object): """""" Response object to return the object to ipython cell :param status: int for status code :param headers: a dict for repsonse headers :param body_iter: an iterator object which takes the body content from """""" def __init__(self, status, headers, body_iter=None): self.status = status self.headers = headers self._body_iter = body_iter or iter([]) def __iter__(self): print('hoge') return self._body_iter def iter_content(self): # TODO(kota_): supports chunk_size like requests.Response return self._body_iter @property def content(self): return ''.join([chunk for chunk in self._body_iter]) def _parse_input_path(self, path_str): """""" Parse formatted to path to swift container and object names :param path_str: path string starts with ""path:"" prefix :return (container, obj): Both container and obj are formatted as string :raise UsageError: if the path_str is not formatted as expected """""" if not path_str.startswith('path:'): src_container_obj = path_str[len('path:'):] def _generate_params_headers(self, param_dict): """""" Parse parameter args dict to swift headers :param param_dict: a dict of input parameters :return headers: a dict for swift headers """""" for i, (key, value) in enumerate(param_dict.items()): '%s:%s' % (key, value) # pick -i option and translate the params to # X-Storlet-Parameter-x headers storlet_headers = self._generate_params_headers( self.shell.user_ns[args.i] if args.i else {}) headers.update(storlet_headers) res = Response(int(response_dict['status']), resp_headers, resp_content_iter) # pick -i option and translate the params to # X-Storlet-Parameter-x headers storlet_headers = self._generate_params_headers( self.shell.user_ns[args.i] if args.i else {}) headers.update(storlet_headers) res = Response(int(response_dict['status']), response_dict['resp_headers']) # pick -i option and translate the params to # X-Storlet-Parameter-x headers storlet_headers = self._generate_params_headers( self.shell.user_ns[args.i] if args.i else {}) headers.update(storlet_headers) res = Response(int(response_dict['status']), response_dict['resp_headers'])"," def _parse_input_path(self, path_arg): if not path_arg.startswith('path:'): src_container_obj = path_arg[len('path:'):] def _generate_params_headers(self, args): if not args.i: return headers user_ns = self.shell.user_ns params = user_ns[args.i] i = 0 for key in params: '%s:%s' % (key, params[key]) i = i + 1 headers.update(self._generate_params_headers(args)) res = dict() res['headers'] = resp_headers res['content_iter'] = resp_content_iter res['status'] = response_dict['status'] headers.update(self._generate_params_headers(args)) res = dict() res['headers'] = response_dict['headers'] res['status'] = response_dict['status'] headers.update(self._generate_params_headers(args)) res = dict() res['headers'] = response_dict['headers'] res['status'] = response_dict['status']",110,57
openstack%2Fneutron-lib~master~Ib7334655be3506aa6573954b36059cd7f875b320,openstack/neutron-lib,master,Ib7334655be3506aa6573954b36059cd7f875b320,Add new protocols in Firewalls,MERGED,2017-04-10 18:41:19.000000000,2017-04-25 02:25:45.000000000,2017-04-25 02:25:45.000000000,"[{'_account_id': 3}, {'_account_id': 6995}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 9396}, {'_account_id': 10850}, {'_account_id': 13702}, {'_account_id': 16688}, {'_account_id': 17776}]","[{'number': 1, 'created': '2017-04-10 18:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/e38767baf04f2ad1f8fdff3ec8182286d7f78e96', 'message': 'Add new protocols in Firewalls\n\nFirewall rules can now also filter DCCP and\nSCTP protocols.\nPartial-Bug: #1669956\n\nChange-Id: Ib7334655be3506aa6573954b36059cd7f875b320\n'}, {'number': 2, 'created': '2017-04-10 19:18:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/277250a55a3d48cc2080ebc66141877e2b80fc90', 'message': 'Add new protocols in Firewalls\n\nFirewall rules can now also filter DCCP and\nSCTP protocols.\nPartial-Bug: #1669956\n\nChange-Id: Ib7334655be3506aa6573954b36059cd7f875b320\n'}, {'number': 3, 'created': '2017-04-13 08:34:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/de7da1bceb6fd19cb75906e062420f28470c9f0c', 'message': 'Add new protocols in Firewalls\n\nFirewall rules can now also filter DCCP and\nSCTP protocols.\nPartial-Bug: #1669956\n\nChange-Id: Ib7334655be3506aa6573954b36059cd7f875b320\n'}, {'number': 4, 'created': '2017-04-18 14:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5f44597b27559cc540a5b53c3386d30ddfbcae10', 'message': 'Add new protocols in Firewalls\n\nFirewall rules can now also filter DCCP and\nSCTP protocols.\nPartial-Bug: #1669956\n\nChange-Id: Ib7334655be3506aa6573954b36059cd7f875b320\n'}, {'number': 5, 'created': '2017-04-19 23:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fa25814a3bcc68cc4a9e2076158b3eb0ba76e495', 'message': 'Add new protocols in Firewalls\n\nFirewall rules can now also filter DCCP and\nSCTP protocols.\nPartial-Bug: #1669956\n\nChange-Id: Ib7334655be3506aa6573954b36059cd7f875b320\n'}, {'number': 6, 'created': '2017-04-21 05:18:14.000000000', 'files': ['neutron_lib/api/definitions/firewall.py', 'neutron_lib/api/definitions/constants.py', 'neutron_lib/api/definitions/firewall_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d136fd4c62c1db4ac5760f1693dcd0fc38dae6fc', 'message': 'Add new protocols in Firewalls\n\nFirewall rules can now also filter DCCP and\nSCTP protocols.\nPartial-Bug: #1669956\n\nChange-Id: Ib7334655be3506aa6573954b36059cd7f875b320\n'}]",9,455422,d136fd4c62c1db4ac5760f1693dcd0fc38dae6fc,31,9,6,17776,,,0,"Add new protocols in Firewalls

Firewall rules can now also filter DCCP and
SCTP protocols.
Partial-Bug: #1669956

Change-Id: Ib7334655be3506aa6573954b36059cd7f875b320
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/22/455422/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/api/definitions/firewall.py', 'neutron_lib/api/definitions/constants.py', 'neutron_lib/api/definitions/firewall_v2.py']",3,e38767baf04f2ad1f8fdff3ec8182286d7f78e96,bug/1669956," 'validate': {'type:values':FW_PROTOCOL_VALUES}},"," 'validate': {'type:values': constants.IPTABLES_PROTOCOL_MAP}},",6,4
openstack%2Ftempest~master~I43459cb1a96e725dde41e23962e367dbdc345686,openstack/tempest,master,I43459cb1a96e725dde41e23962e367dbdc345686,Add api_v2_admin flag,MERGED,2017-04-21 13:37:31.000000000,2017-04-25 02:22:32.000000000,2017-04-24 15:27:45.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 5196}, {'_account_id': 10385}, {'_account_id': 12033}]","[{'number': 1, 'created': '2017-04-21 13:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/13b681f2d2a3d25b16305e11187b674e22faf5a1', 'message': 'Add api_v2_admin flag\n\nOnly run Identity V2 admin tests if the identity v2 admin API is\navailable. The new config flag is set to True by default.\n\nChange-Id: I43459cb1a96e725dde41e23962e367dbdc345686\n'}, {'number': 2, 'created': '2017-04-21 13:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/56047263d761fcead8b948f1f0bf5012f418a396', 'message': 'Add api_v2_admin flag\n\nOnly run Identity V2 admin tests if the identity v2 admin API is\navailable. The new config flag is set to True by default.\n\nChange-Id: I43459cb1a96e725dde41e23962e367dbdc345686\n'}, {'number': 3, 'created': '2017-04-24 10:10:22.000000000', 'files': ['tempest/config.py', 'releasenotes/notes/api_v2_admin_flag-dea5ca9bc2ce63bc.yaml', 'tempest/api/identity/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1413ba9c0686956463d0f4e61c44927fba45541f', 'message': 'Add api_v2_admin flag\n\nOnly run Identity V2 admin tests if the identity v2 admin API is\navailable. The new config flag is set to True by default.\n\nChange-Id: I43459cb1a96e725dde41e23962e367dbdc345686\n'}]",0,458844,1413ba9c0686956463d0f4e61c44927fba45541f,17,6,3,1921,,,0,"Add api_v2_admin flag

Only run Identity V2 admin tests if the identity v2 admin API is
available. The new config flag is set to True by default.

Change-Id: I43459cb1a96e725dde41e23962e367dbdc345686
",git fetch https://review.opendev.org/openstack/tempest refs/changes/44/458844/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/config.py', 'tempest/api/identity/base.py']",2,13b681f2d2a3d25b16305e11187b674e22faf5a1,fix_user_provision_api_version," def skip_checks(cls): super(BaseIdentityV2AdminTest, cls).skip_checks() if not CONF.identity_feature_available.api_v2_admin: raise cls.skipException('Identity v2 admin not available') @classmethod",,10,0
openstack%2Fpuppet-tripleo~master~Ibf8c333f62556d421d67c853f1f0740d7f9985bf,openstack/puppet-tripleo,master,Ibf8c333f62556d421d67c853f1f0740d7f9985bf,Dell SC: Add secondary DSM support,MERGED,2017-04-10 16:46:49.000000000,2017-04-25 01:58:09.000000000,2017-04-25 01:58:09.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 7160}, {'_account_id': 10379}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-10 16:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e65b4fff88c2388df465de26f6bd02772d9f2287', 'message': 'Dell SC: Add secondary DSM support\n\nAdds support for a secondary DSM in case the primary becomes\nunavailable.\n\nChange-Id: Ibf8c333f62556d421d67c853f1f0740d7f9985bf\n'}, {'number': 2, 'created': '2017-04-12 19:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f846287b8b494712e7778166ce73dbc133c565c3', 'message': 'Dell SC: Add secondary DSM support\n\nAdds support for a secondary DSM in case the primary becomes\nunavailable.\n\nChange-Id: Ibf8c333f62556d421d67c853f1f0740d7f9985bf\nDepends-On: I331466e4f254b2b8ff7891b796e78cd30c2c87f7\n'}, {'number': 3, 'created': '2017-04-19 21:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4e0c91e200152113b9346782ee2740070d1a5c66', 'message': 'Dell SC: Add secondary DSM support\n\nAdds support for a secondary DSM in case the primary becomes\nunavailable.\n\nChange-Id: Ibf8c333f62556d421d67c853f1f0740d7f9985bf\nDepends-On: I331466e4f254b2b8ff7891b796e78cd30c2c87f7\n'}, {'number': 4, 'created': '2017-04-19 21:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2c3de1e6696ba16b6f6abddf9747c8954b31ae09', 'message': 'Dell SC: Add secondary DSM support\n\nAdds support for a secondary DSM in case the primary becomes\nunavailable.\n\nChange-Id: Ibf8c333f62556d421d67c853f1f0740d7f9985bf\nDepends-On: I331466e4f254b2b8ff7891b796e78cd30c2c87f7\n'}, {'number': 5, 'created': '2017-04-19 21:11:48.000000000', 'files': ['manifests/profile/base/cinder/volume/dellsc.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f30b791103ec3c5ff9b2e656fe751ad4bb3c6a6c', 'message': 'Dell SC: Add secondary DSM support\n\nAdds support for a secondary DSM in case the primary becomes\nunavailable.\n\nChange-Id: Ibf8c333f62556d421d67c853f1f0740d7f9985bf\nDepends-On: I331466e4f254b2b8ff7891b796e78cd30c2c87f7\n'}]",0,455386,f30b791103ec3c5ff9b2e656fe751ad4bb3c6a6c,27,5,5,10379,,,0,"Dell SC: Add secondary DSM support

Adds support for a secondary DSM in case the primary becomes
unavailable.

Change-Id: Ibf8c333f62556d421d67c853f1f0740d7f9985bf
Depends-On: I331466e4f254b2b8ff7891b796e78cd30c2c87f7
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/86/455386/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/cinder/volume/dellsc.pp'],1,e65b4fff88c2388df465de26f6bd02772d9f2287,dellsc_secondarydsm," san_ip => hiera('cinder::backend::dellsc_iscsi::san_ip', undef), san_login => hiera('cinder::backend::dellsc_iscsi::san_login', undef), san_password => hiera('cinder::backend::dellsc_iscsi::san_password', undef), dell_sc_ssn => hiera('cinder::backend::dellsc_iscsi::dell_sc_ssn', undef), iscsi_ip_address => hiera('cinder::backend::dellsc_iscsi::iscsi_ip_address', undef), iscsi_port => hiera('cinder::backend::dellsc_iscsi::iscsi_port', undef), dell_sc_api_port => hiera('cinder::backend::dellsc_iscsi::dell_sc_api_port', undef), dell_sc_server_folder => hiera('cinder::backend::dellsc_iscsi::dell_sc_server_folder', undef), dell_sc_volume_folder => hiera('cinder::backend::dellsc_iscsi::dell_sc_volume_folder', undef), secondary_san_ip => hiera('cinder::backend::dellsc_iscsi::secondary_san_ip', undef), secondary_san_login => hiera('cinder::backend::dellsc_iscsi::secondary_san_login', undef), secondary_san_password => hiera('cinder::backend::dellsc_iscsi::secondary_san_password', undef), secondary_sc_api_port => hiera('cinder::backend::dellsc_iscsi::secondary_sc_api_port', undef),"," san_ip => hiera('cinder::backend::dellsc_iscsi::san_ip', undef), san_login => hiera('cinder::backend::dellsc_iscsi::san_login', undef), san_password => hiera('cinder::backend::dellsc_iscsi::san_password', undef), dell_sc_ssn => hiera('cinder::backend::dellsc_iscsi::dell_sc_ssn', undef), iscsi_ip_address => hiera('cinder::backend::dellsc_iscsi::iscsi_ip_address', undef), iscsi_port => hiera('cinder::backend::dellsc_iscsi::iscsi_port', undef), dell_sc_api_port => hiera('cinder::backend::dellsc_iscsi::dell_sc_api_port', undef), dell_sc_server_folder => hiera('cinder::backend::dellsc_iscsi::dell_sc_server_folder', undef), dell_sc_volume_folder => hiera('cinder::backend::dellsc_iscsi::dell_sc_volume_folder', undef),",13,9
openstack%2Fkolla-ansible~master~Iaa2bfce27e9d9cdbb574121147fc761810d7dd71,openstack/kolla-ansible,master,Iaa2bfce27e9d9cdbb574121147fc761810d7dd71,Add release note for versionless keystone endpoint,MERGED,2017-04-05 12:49:19.000000000,2017-04-25 01:57:07.000000000,2017-04-25 01:57:07.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 22582}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-04-05 12:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0ba9bc11d810e3eeb55dd02ef64ef6e5c728264', 'message': 'Add release note for versionless keystone endpoint\n\nInclude an upgrade release note to make users know\nthat endpoint are going to be updated while upgrading\nto Pike.\n\nChange-Id: Iaa2bfce27e9d9cdbb574121147fc761810d7dd71\n'}, {'number': 2, 'created': '2017-04-05 12:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/24635db5af8c47b41d28a999d6e9de5115a05408', 'message': 'Add release note for versionless keystone endpoint\n\nInclude an upgrade release note to make users know\nthat endpoint are going to be updated while upgrading\nto Pike.\n\nChange-Id: Iaa2bfce27e9d9cdbb574121147fc761810d7dd71\n'}, {'number': 3, 'created': '2017-04-05 12:53:36.000000000', 'files': ['releasenotes/notes/keystone-versionless-endpoint-ae9274c81927d949.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ed07f9ffef074a05a3b0e42c97568fb02baa69a', 'message': 'Add release note for versionless keystone endpoint\n\nInclude an upgrade release note to make users know\nthat endpoint are going to be updated while upgrading\nto Pike.\n\nChange-Id: Iaa2bfce27e9d9cdbb574121147fc761810d7dd71\n'}]",0,453620,5ed07f9ffef074a05a3b0e42c97568fb02baa69a,13,5,3,19316,,,0,"Add release note for versionless keystone endpoint

Include an upgrade release note to make users know
that endpoint are going to be updated while upgrading
to Pike.

Change-Id: Iaa2bfce27e9d9cdbb574121147fc761810d7dd71
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/453620/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/keystone-versionless-endpoint-ae9274c81927d949.yaml'],1,a0ba9bc11d810e3eeb55dd02ef64ef6e5c728264,,--- upgrade: - Keystone version will be removed from keystone endpoints while upgrading to Pike. ,,4,0
openstack%2Fkarbor~master~Ie851bf6739bca301325f5adeaa12e73e09a65b5d,openstack/karbor,master,Ie851bf6739bca301325f5adeaa12e73e09a65b5d,Add install-guide for karbor,MERGED,2017-03-27 08:18:55.000000000,2017-04-25 01:52:21.000000000,2017-04-25 01:52:21.000000000,"[{'_account_id': 3}, {'_account_id': 2023}, {'_account_id': 17151}, {'_account_id': 19339}, {'_account_id': 19346}, {'_account_id': 20883}, {'_account_id': 21648}]","[{'number': 1, 'created': '2017-03-27 08:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/85b4592c6cad9201bcb6eb42f7f49eb0b6807a6f', 'message': 'Add install-guide for karbor\n\nThe heat install-guide structure is based on Install Guide\nCookiecutter [1].\n\n[1] https://review.openstack.org/#/c/314229/\n\nChange-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d\n'}, {'number': 2, 'created': '2017-03-27 08:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/3ebc0daddfb7769c9121162ccc262764f6d55286', 'message': 'Add install-guide for karbor\n\nThe heat install-guide structure is based on Install Guide\nCookiecutter [1].\n\n[1] https://review.openstack.org/#/c/314229/\n\nChange-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d\n'}, {'number': 3, 'created': '2017-03-27 09:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/7adb26fef5b79d32a5294da34013aaa517ce1326', 'message': 'Add install-guide for karbor\n\nThe heat install-guide structure is based on Install Guide\nCookiecutter [1].\n\n[1] https://review.openstack.org/#/c/314229/\n\nChange-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d\n'}, {'number': 4, 'created': '2017-03-27 09:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/919d18ba4916d147ace87eff676e20dfc9856fe6', 'message': 'Add install-guide for karbor\n\nThe heat install-guide structure is based on Install Guide\nCookiecutter [1].\n\n[1] https://review.openstack.org/#/c/314229/\n\nChange-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d\n'}, {'number': 5, 'created': '2017-03-27 09:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/49610e445851e9a54b2a380c7f453c35e66d7af8', 'message': 'Add install-guide for karbor\n\nThe heat install-guide structure is based on Install Guide\nCookiecutter [1].\n\n[1] https://review.openstack.org/#/c/314229/\n\nChange-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d\n'}, {'number': 6, 'created': '2017-03-27 11:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/bb1cbc8b80db577b1cb77a741ec2c7648df91210', 'message': 'Add install-guide for karbor\n\nThe heat install-guide structure is based on Install Guide\nCookiecutter [1].\n\n[1] https://review.openstack.org/#/c/314229/\n\nChange-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d\n'}, {'number': 7, 'created': '2017-03-27 11:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/14b1e3ec4e9841bba669c6caec02e8f20b33ec5b', 'message': 'Add install-guide for karbor\n\nThe heat install-guide structure is based on Install Guide\nCookiecutter [1].\n\n[1] https://review.openstack.org/#/c/314229/\n\nChange-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d\n'}, {'number': 8, 'created': '2017-03-27 12:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/531327a80862462acfb99c857d21ba51ee296d17', 'message': 'Add install-guide for karbor\n\nThe heat install-guide structure is based on Install Guide\nCookiecutter [1].\n\n[1] https://review.openstack.org/#/c/314229/\n\nChange-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d\n'}, {'number': 9, 'created': '2017-03-27 12:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/4334e658a89a1bb35eb9395af9f43b92793a99e5', 'message': 'Add install-guide for karbor\n\nThe heat install-guide structure is based on Install Guide\nCookiecutter [1].\n\n[1] https://review.openstack.org/#/c/314229/\n\nChange-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d\n'}, {'number': 10, 'created': '2017-04-22 07:47:52.000000000', 'files': ['install-guide/source/index.rst', 'install-guide/source/install.rst', 'install-guide/source/launch-instance.rst', 'install-guide/source/get_started.rst', 'install-guide/source/conf.py', 'install-guide/source/next-steps.rst', 'install-guide/source/verify.rst', 'tox.ini', 'install-guide/source/install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/karbor/commit/23c3da4e5b26063ed1c85c732302606c8451d010', 'message': 'Add install-guide for karbor\n\nThe heat install-guide structure is based on Install Guide\nCookiecutter [1].\n\n[1] https://review.openstack.org/#/c/314229/\n\nCo-authored-by: chenying <ying.chen@huawei.com>\n\nChange-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d\n'}]",7,450115,23c3da4e5b26063ed1c85c732302606c8451d010,32,7,10,21648,,,0,"Add install-guide for karbor

The heat install-guide structure is based on Install Guide
Cookiecutter [1].

[1] https://review.openstack.org/#/c/314229/

Co-authored-by: chenying <ying.chen@huawei.com>

Change-Id: Ie851bf6739bca301325f5adeaa12e73e09a65b5d
",git fetch https://review.opendev.org/openstack/karbor refs/changes/15/450115/10 && git format-patch -1 --stdout FETCH_HEAD,"['install-guide/source/index.rst', 'install-guide/source/install.rst', 'install-guide/source/get_started.rst', 'install-guide/source/conf.py', 'install-guide/source/install-ubuntu.rst']",5,85b4592c6cad9201bcb6eb42f7f49eb0b6807a6f,add-install-guide,".. _install-ubuntu: Install and configure for Ubuntu ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This section describes how to install and configure the Data Protection service for Ubuntu 14.04 (LTS) and Ubuntu 16.04 (LTS). Prerequisites ------------- Before you install and configure Data Protection service, you must create a database, service credentials, and API endpoints. Data Protection service also requires additional information in the Identity service. #. To create the database, complete these steps: * Use the database access client to connect to the database server as the ``root`` user: .. code-block:: console $ mysql -u root -p * Create the ``karbor`` database: .. code-block:: console CREATE DATABASE karbor; * Grant proper access to the ``karbor`` database: .. code-block:: console GRANT ALL PRIVILEGES ON karbor.* TO 'karbor'@'localhost' \ IDENTIFIED BY 'KARBOR_DBPASS'; GRANT ALL PRIVILEGES ON karbor.* TO 'karbor'@'%' \ IDENTIFIED BY 'KARBOR_DBPASS'; Replace ``KARBOR_DBPASS`` with a suitable password. * Exit the database access client. #. Source the ``admin`` credentials to gain access to admin-only CLI commands: .. code-block:: console $ . admin-openrc #. To create the service credentials, complete these steps: * Create the ``karbor`` user: .. code-block:: console $ openstack user create --domain default --password-prompt karbor User Password: Repeat User Password: +-----------+----------------------------------+ | Field | Value | +-----------+----------------------------------+ | domain_id | e0353a670a9e496da891347c589539e9 | | enabled | True | | id | ca2e175b851943349be29a328cc5e360 | | name | karbor | +-----------+----------------------------------+ * Add the ``admin`` role to the ``karbor`` user: .. code-block:: console $ openstack role add --project service --user karbor admin .. note:: This command provides no output. * Create the ``karbor`` service entities: .. code-block:: console $ openstack service create --name karbor \ --description ""Application Data Protection Service"" data-protect +-------------+-------------------------------------+ | Field | Value | +-------------+-------------------------------------+ | description | Application Data Protection Service | | enabled | True | | id | 727841c6f5df4773baa4e8a5ae7d72eb | | name | karbor | | type | data-protect | +-------------+-------------------------------------+ #. Create the Data Protection service API endpoints: .. code-block:: console $ openstack endpoint create --region RegionOne \ data-protect public http://controller:8799/v1/%\(project_id\)s +--------------+------------------------------------------+ | Field | Value | +--------------+------------------------------------------+ | enabled | True | | id | 3f4dab34624e4be7b000265f25049609 | | interface | public | | region | RegionOne | | region_id | RegionOne | | service_id | 727841c6f5df4773baa4e8a5ae7d72eb | | service_name | karbor | | service_type | data-protect | | url | http://controller:8799/v1/%(project_id)s | +--------------+------------------------------------------+ $ openstack endpoint create --region RegionOne \ data-protect internal http://controller:8799/v1/%\(project_id\)s +--------------+------------------------------------------+ | Field | Value | +--------------+------------------------------------------+ | enabled | True | | id | 3f4dab34624e4be7b000265f25049609 | | interface | internal | | region | RegionOne | | region_id | RegionOne | | service_id | 727841c6f5df4773baa4e8a5ae7d72eb | | service_name | karbor | | service_type | data-protect | | url | http://controller:8799/v1/%(project_id)s | +--------------+------------------------------------------+ $ openstack endpoint create --region RegionOne \ data-protect admin http://controller:8799/v1/%\(project_id\)s +--------------+------------------------------------------+ | Field | Value | +--------------+------------------------------------------+ | enabled | True | | id | 3f4dab34624e4be7b000265f25049609 | | interface | admin | | region | RegionOne | | region_id | RegionOne | | service_id | 727841c6f5df4773baa4e8a5ae7d72eb | | service_name | karbor | | service_type | data-protect | | url | http://controller:8799/v1/%(project_id)s | +--------------+------------------------------------------+ Install and configure components -------------------------------- .. note:: Default configuration files vary by distribution. You might need to add these sections and options rather than modifying existing sections and options. Also, an ellipsis (``...``) in the configuration snippets indicates potential default configuration options that you should retain. #. Install the packages: .. code-block:: console # apt-get install karbor 2. Edit the ``/etc/karbor/karbor.conf`` file and complete the following actions: * In the ``[database]`` section, configure database access: .. code-block:: none [database] ... connection = mysql+pymysql://karbor:KARBOR_DBPASS@controller/karbor Replace ``KARBOR_DBPASS`` with the password you chose for the Data Protection database. * In the ``[DEFAULT]`` section, configure ``RabbitMQ`` message queue access: .. code-block:: none [DEFAULT] ... transport_url = rabbit://openstack:RABBIT_PASS@controller Replace ``RABBIT_PASS`` with the password you chose for the ``openstack`` account in ``RabbitMQ``. * In the ``[keystone_authtoken]``, ``[trustee]``, ``[clients_keystone]``, and ``[karbor_client]`` sections, configure Identity service access: .. code-block:: none [keystone_authtoken] ... auth_uri = http://controller/identity auth_url = http://controller/identity_admin memcached_servers = controller:11211 auth_type = password project_domain_name = default user_domain_name = default project_name = service username = karbor password = KARBOR_PASS [trustee] ... auth_type = password auth_url = http://controller/identity_admin username = karbor password = KARBOR_PASS user_domain_name = default [clients_keystone] ... auth_uri = http://controller/identity_admin [karbor_client] ... version = 1 service_type = data-protect service_name = karbor Replace ``KARBOR_PASS`` with the password you chose for the ``karbor`` user in the Identity service. 3. Populate the Data Protection database: .. code-block:: console # su -s /bin/sh -c ""karbor-manage db sync"" karbor .. note:: Ignore any deprecation messages in this output. Finalize installation --------------------- 1. Restart the Data Protection services: .. code-block:: console # service karbor-api restart # service karbor-operationengine restart # service karbor-protection restart ",,607,0
openstack%2Fkolla-ansible~master~Iaea80c1e09ef16a6d2530a75e6f37e6259bb4ca7,openstack/kolla-ansible,master,Iaea80c1e09ef16a6d2530a75e6f37e6259bb4ca7,Fix Haproxy reconfigure,MERGED,2017-03-31 11:53:57.000000000,2017-04-25 01:43:23.000000000,2017-04-25 01:43:23.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22582}, {'_account_id': 23717}, {'_account_id': 24164}]","[{'number': 1, 'created': '2017-03-31 11:53:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73a1a83b3c61de4f5b72bb76b1f0ffd09a2f7629', 'message': 'Fix Haproxy reconfigure\n\nHAproxy always restart containers when doing reconfigure.\nCheck containers not evaluate privileged while the containers\nare privileged.\ncheck_container always evaluate as true because of this.\n\nChange-Id: Iaea80c1e09ef16a6d2530a75e6f37e6259bb4ca7\n'}, {'number': 2, 'created': '2017-03-31 12:48:42.000000000', 'files': ['ansible/roles/haproxy/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c27bd0d419287ef4f9c52012411f2ad748dd31f', 'message': 'Fix Haproxy reconfigure\n\nHAproxy always restart containers when doing reconfigure.\ncompare_container not evaluate privileged while the containers\nare privileged.\ncompare_container always evaluates true because of this.\n\nCloses-Bug: #1678122\nChange-Id: Iaea80c1e09ef16a6d2530a75e6f37e6259bb4ca7\n'}]",0,452166,4c27bd0d419287ef4f9c52012411f2ad748dd31f,20,8,2,19316,,,0,"Fix Haproxy reconfigure

HAproxy always restart containers when doing reconfigure.
compare_container not evaluate privileged while the containers
are privileged.
compare_container always evaluates true because of this.

Closes-Bug: #1678122
Change-Id: Iaea80c1e09ef16a6d2530a75e6f37e6259bb4ca7
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/452166/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/haproxy/tasks/config.yml'],1,73a1a83b3c61de4f5b72bb76b1f0ffd09a2f7629,bug/1678122," privileged: ""{{ item.value.privileged | default(False) }}""",,1,0
openstack%2Fpuppet-nova~stable%2Focata~I5e77e8ce6d461623bb3197f376d21504f78a1fcc,openstack/puppet-nova,stable/ocata,I5e77e8ce6d461623bb3197f376d21504f78a1fcc,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:43:45.000000000,2017-04-25 01:42:51.000000000,2017-04-24 19:38:33.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:43:45.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/5574ef6c6c3adae2908a9b1b2e9f46359c89e33b', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I5e77e8ce6d461623bb3197f376d21504f78a1fcc\n'}]",0,459367,5574ef6c6c3adae2908a9b1b2e9f46359c89e33b,9,4,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I5e77e8ce6d461623bb3197f376d21504f78a1fcc
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/67/459367/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,5574ef6c6c3adae2908a9b1b2e9f46359c89e33b,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Ffuel-qa~stable%2Fnewton~I8ebac9d95de2a86bc9ddcbf2287b81ec9ff6fa06,openstack/fuel-qa,stable/newton,I8ebac9d95de2a86bc9ddcbf2287b81ec9ff6fa06,Update network templates,ABANDONED,2017-03-14 13:24:33.000000000,2017-04-25 01:30:23.000000000,,[{'_account_id': 17737}],"[{'number': 1, 'created': '2017-03-14 13:24:33.000000000', 'files': ['fuelweb_test/network_templates/default.yaml', 'fuelweb_test/network_templates/public_api.yaml', 'fuelweb_test/network_templates/hardware.yaml', 'fuelweb_test/network_templates/cinder_add_nodes.yaml', 'fuelweb_test/network_templates/cinder.yaml', 'fuelweb_test/network_templates/default_no_mgmt_nwk.yaml', 'fuelweb_test/network_templates/default_ovs.yaml', 'fuelweb_test/network_templates/ceph.yaml', 'fuelweb_test/network_templates/two_nodegroups.yaml'], 'web_link': 'https://opendev.org/openstack/fuel-qa/commit/adce5611fac502eca8f316106bb51bc516615d7f', 'message': 'Update network templates\n\nChange-Id: I8ebac9d95de2a86bc9ddcbf2287b81ec9ff6fa06\n'}]",0,445488,adce5611fac502eca8f316106bb51bc516615d7f,3,1,1,9588,,,0,"Update network templates

Change-Id: I8ebac9d95de2a86bc9ddcbf2287b81ec9ff6fa06
",git fetch https://review.opendev.org/openstack/fuel-qa refs/changes/88/445488/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuelweb_test/network_templates/default.yaml', 'fuelweb_test/network_templates/public_api.yaml', 'fuelweb_test/network_templates/hardware.yaml', 'fuelweb_test/network_templates/cinder.yaml', 'fuelweb_test/network_templates/cinder_add_nodes.yaml', 'fuelweb_test/network_templates/default_no_mgmt_nwk.yaml', 'fuelweb_test/network_templates/ceph.yaml', 'fuelweb_test/network_templates/default_ovs.yaml', 'fuelweb_test/network_templates/two_nodegroups.yaml']",9,adce5611fac502eca8f316106bb51bc516615d7f,bug1632332,, mongo/db: br-mgmt ceilometer/api: br-mgmt murano/api: br-mgmt murano/cfapi: br-mgmt mongo/db: br-mgmt ceilometer/api: br-mgmt murano/api: br-mgmt,0,129
openstack%2Ffuel-web~master~I3db7a5a4c1ea7128a4b16a73cf1196a4a4084437,openstack/fuel-web,master,I3db7a5a4c1ea7128a4b16a73cf1196a4a4084437,Update requirements,ABANDONED,2017-03-21 16:51:49.000000000,2017-04-25 01:30:21.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 12841}, {'_account_id': 17737}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-03-21 16:51:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/b62daf72e2c27ccbf4e9bf92e7660289166b186a', 'message': 'Update requirements\n\nNew version of Setuptools package [1] was released with a required [2]\nfix [3]. Therefore upper bound for it is not required anymore.\n\n[1] https://pypi.python.org/pypi/setuptools/18.6.1\n[2] https://github.com/pypa/setuptools/issues/464\n[3] https://github.com/pypa/setuptools/commit/\n    e311cafb5305a445def27fbc79fdc5f098c76728\n\nChange-Id: I3db7a5a4c1ea7128a4b16a73cf1196a4a4084437\nRelated-Bug: #1519727\nRelated-Bug: #1519727\n'}, {'number': 2, 'created': '2017-03-21 16:52:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/d700957b64d5fcd0503ec1ec541ad2fe2293fb36', 'message': 'Update requirements\n\nNew version of Setuptools package [1] was released with a required [2]\nfix [3]. Therefore upper bound for it is not required anymore.\n\n[1] https://pypi.python.org/pypi/setuptools/18.6.1\n[2] https://github.com/pypa/setuptools/issues/464\n[3] https://github.com/pypa/setuptools/commit/\n    e311cafb5305a445def27fbc79fdc5f098c76728\n\nChange-Id: I3db7a5a4c1ea7128a4b16a73cf1196a4a4084437\nRelated-Bug: #1519727\nRelated-Bug: #1519727\n'}, {'number': 3, 'created': '2017-03-21 17:13:09.000000000', 'files': ['specs/fuel-nailgun.spec', 'debian/changelog', 'nailgun/requirements.txt', 'debian/control'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/c6048455fb07ab5330b8b567b036115419395a14', 'message': 'Update requirements\n\nNew version of Setuptools package [1] was released with a required [2]\nfix [3]. Therefore upper bound for it is not required anymore.\n\n[1] https://pypi.python.org/pypi/setuptools/18.6.1\n[2] https://github.com/pypa/setuptools/issues/464\n[3] https://github.com/pypa/setuptools/commit/\n    e311cafb5305a445def27fbc79fdc5f098c76728\n\nChange-Id: I3db7a5a4c1ea7128a4b16a73cf1196a4a4084437\nRelated-Bug: #1519727\nRelated-Bug: #1519727\n'}]",0,448194,c6048455fb07ab5330b8b567b036115419395a14,58,5,3,12841,,,0,"Update requirements

New version of Setuptools package [1] was released with a required [2]
fix [3]. Therefore upper bound for it is not required anymore.

[1] https://pypi.python.org/pypi/setuptools/18.6.1
[2] https://github.com/pypa/setuptools/issues/464
[3] https://github.com/pypa/setuptools/commit/
    e311cafb5305a445def27fbc79fdc5f098c76728

Change-Id: I3db7a5a4c1ea7128a4b16a73cf1196a4a4084437
Related-Bug: #1519727
Related-Bug: #1519727
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/94/448194/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/fuel-nailgun.spec', 'debian/changelog', 'nailgun/requirements.txt', 'debian/control']",4,b62daf72e2c27ccbf4e9bf92e7660289166b186a,bug/1519727,"<<<<<<< HEAD python-setuptools (>= 18.6.1),======= Section: unknown Priority: net Maintainer: Mirantis Producta <product@mirantis.com> Build-Depends: debhelper (>= 8.0.0), python-setuptools (>= 18.6.1) X-Python-Version: 2.6, 2.7 Standards-Version: 3.9.2 Homepage: mirantis.com >>>>>>> 5ac2c1b... Update requirements"," python-setuptools (>= 16.0),",21,7
openstack%2Ffuel-web~stable%2Focata~I50bf740ec726c9cc57ff63d49aff718e812e6feb,openstack/fuel-web,stable/ocata,I50bf740ec726c9cc57ff63d49aff718e812e6feb,add removed handlers,ABANDONED,2017-03-23 13:24:44.000000000,2017-04-25 01:30:19.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 17737}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-03-23 13:24:44.000000000', 'files': ['nailgun/nailgun/api/v1/handlers/removed.py', 'nailgun/nailgun/test/unit/test_handlers.py', 'nailgun/nailgun/api/v1/urls.py'], 'web_link': 'https://opendev.org/openstack/fuel-web/commit/7d14854655f0ac5f5b5fcfb48b197e71a0120bc6', 'message': 'add removed handlers\n\nThere were urls and handlers for vmware in the nailgun, that were\nremoved completely in\nreview.openstack.org/#/c/428402/15/nailgun/nailgun/api/v1/urls.py\n\nThe better approach is remain the urls and make special stub-handlers\ninstead of real ones.\n\nChange-Id: I50bf740ec726c9cc57ff63d49aff718e812e6feb\nCloses-Bug: #1668258\n(cherry picked from commit cb8529a84ab25d7942c26766417fa7e37744c7b9)\n'}]",0,449145,7d14854655f0ac5f5b5fcfb48b197e71a0120bc6,17,4,1,12199,,,0,"add removed handlers

There were urls and handlers for vmware in the nailgun, that were
removed completely in
review.openstack.org/#/c/428402/15/nailgun/nailgun/api/v1/urls.py

The better approach is remain the urls and make special stub-handlers
instead of real ones.

Change-Id: I50bf740ec726c9cc57ff63d49aff718e812e6feb
Closes-Bug: #1668258
(cherry picked from commit cb8529a84ab25d7942c26766417fa7e37744c7b9)
",git fetch https://review.opendev.org/openstack/fuel-web refs/changes/45/449145/1 && git format-patch -1 --stdout FETCH_HEAD,"['nailgun/nailgun/api/v1/handlers/removed.py', 'nailgun/nailgun/test/unit/test_handlers.py', 'nailgun/nailgun/api/v1/urls.py']",3,7d14854655f0ac5f5b5fcfb48b197e71a0120bc6,bug/1668258,"from nailgun.api.v1.handlers.removed import \ RemovedIn10VmwareAttributesDefaultsHandler from nailgun.api.v1.handlers.removed import RemovedIn10VmwareAttributesHandler r'/clusters/(?P<cluster_id>\d+)/vmware_attributes/?$', RemovedIn10VmwareAttributesHandler, r'/clusters/(?P<cluster_id>\d+)/vmware_attributes/defaults/?$', RemovedIn10VmwareAttributesDefaultsHandler, ",,47,0
openstack%2Ffuel-ostf~master~I96302969990f727421b17c941db0b08b83ccec16,openstack/fuel-ostf,master,I96302969990f727421b17c941db0b08b83ccec16,Replaces uuid.uuid4() with uuidutils.generate_uuid(),ABANDONED,2017-03-24 08:16:55.000000000,2017-04-25 01:30:18.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 15984}, {'_account_id': 17737}, {'_account_id': 20519}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-03-24 08:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/d217bf08d33ccda8db9e75e89357fb71dbc28a86', 'message': 'Replaces uuid.uuid4() with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids. We should\nonly use that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: I96302969990f727421b17c941db0b08b83ccec16\n'}, {'number': 2, 'created': '2017-03-24 08:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/5285d77510498ef68fc978cb6787c9a1a53c22d6', 'message': 'Replaces uuid.uuid4() with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids. We should\nonly use that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: I96302969990f727421b17c941db0b08b83ccec16\n'}, {'number': 3, 'created': '2017-03-24 08:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/1cd31f2b3c6d5cf2a119f68f544db7dc460b99f1', 'message': 'Replaces uuid.uuid4() with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids. We should\nonly use that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: I96302969990f727421b17c941db0b08b83ccec16\n'}, {'number': 4, 'created': '2017-03-24 09:04:36.000000000', 'files': ['fuel_health/tests/tests_platform/test_murano_linux.py', 'fuel_health/common/utils/data_utils.py'], 'web_link': 'https://opendev.org/openstack/fuel-ostf/commit/9735afee368e2063e86930bd9c757e83c6f58e3d', 'message': 'Replaces uuid.uuid4() with uuidutils.generate_uuid()\n\nOpenstack common has a wrapper for generating uuids. We should\nonly use that function when generating uuids for consistency.\n\nFixes bug #1082248\n\nChange-Id: I96302969990f727421b17c941db0b08b83ccec16\n'}]",0,449477,9735afee368e2063e86930bd9c757e83c6f58e3d,29,6,4,25225,,,0,"Replaces uuid.uuid4() with uuidutils.generate_uuid()

Openstack common has a wrapper for generating uuids. We should
only use that function when generating uuids for consistency.

Fixes bug #1082248

Change-Id: I96302969990f727421b17c941db0b08b83ccec16
",git fetch https://review.opendev.org/openstack/fuel-ostf refs/changes/77/449477/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuel_health/tests/tests_platform/test_murano_linux.py', 'fuel_health/common/utils/data_utils.py']",2,d217bf08d33ccda8db9e75e89357fb71dbc28a86,bug/1082248, return uuidutils.generate_uuid(dashed=False) , return uuid.uuid4().hex,18,18
openstack%2Fcinder-specs~master~I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf,openstack/cinder-specs,master,I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf,Add volume type filter to Get-Pools,MERGED,2016-08-30 09:53:08.000000000,2017-04-25 01:23:59.000000000,2017-04-25 01:23:59.000000000,"[{'_account_id': 3}, {'_account_id': 2759}, {'_account_id': 7198}, {'_account_id': 10058}, {'_account_id': 11904}, {'_account_id': 15054}, {'_account_id': 15100}, {'_account_id': 23083}, {'_account_id': 23602}]","[{'number': 1, 'created': '2016-08-30 09:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/51e621fd10d0011852a3a81ec11d30fe9fe7d4b2', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 2, 'created': '2016-08-30 09:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/e92a9048f4844100e5d26643ca6733048464da44', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 3, 'created': '2016-08-30 11:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/4ff354921c5b7055b0701de0d904cdc46c67f0cd', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 4, 'created': '2016-08-30 14:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/894c90024fdf37c42b066a19e2c77fa62ea8813a', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 5, 'created': '2016-09-27 02:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/5644a76fe565cfeb01e5472ebd54d047c53ae7eb', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 6, 'created': '2016-10-06 07:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/03a59abc61537611a35fd01e2eacbba34139deb8', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 7, 'created': '2016-10-06 08:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/f091e64d661ada4c156cc92a12545808384dcb53', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 8, 'created': '2016-10-06 08:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/5e47a4e0aecf632640acf6e099bcce39ee79815d', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 9, 'created': '2016-10-08 02:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/39053c6756a2ed03ff79c73d55257ea7e628a056', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 10, 'created': '2016-11-18 03:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/5d789c1bc5951191ffe2830ba1012a3255bb1a4c', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 11, 'created': '2017-02-07 03:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/9c0f9c344a13842a6fea2c427e6449e4be748389', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 12, 'created': '2017-03-02 09:39:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/2aadde7a4dcd1b7b866ab954981b85cd893d4163', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools filtered by\nvolume-type, cinder will return the pools filtered by volume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 13, 'created': '2017-03-29 15:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/55684fed6892c39f057fa6162fc0aab4634f9049', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered by\nvolume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 14, 'created': '2017-04-10 12:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/4ef72b863094ced14850288bceb845d1093a0b5f', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, cinder will return the pools filtered by\nvolume-type's extra-spec.\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 15, 'created': '2017-04-22 01:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/e56a8e40e3ac58a2d010e93d3f50cdacf78ad4a8', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, underground cinder will return the pools\nfiltered by volume-type's extra-spec.\nThis is depended on generalized  resource filtering feature [1].\n\n[1] https://review.openstack.org/#/c/441516/\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 16, 'created': '2017-04-22 23:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/bad70386f9ca3d00d90e9791846403e4e7fbcc19', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, underground cinder will return the pools\nfiltered by volume-type's extra-spec.\nThis is depended on generalized  resource filtering feature [1].\n\n[1] https://review.openstack.org/#/c/441516/\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}, {'number': 17, 'created': '2017-04-23 00:27:20.000000000', 'files': ['specs/pike/add-volume-type-filter-to-get-pools.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/23891402632cafe04822f7ab59bf8dda9407215e', 'message': ""Add volume type filter to Get-Pools\n\nAdd feature that administrators can get back-end storage pools\nfiltered by volume-type, underground cinder will return the pools\nfiltered by volume-type's extra-spec.\nThis is depended on generalized  resource filtering feature [1].\n\n[1] https://review.openstack.org/#/c/441516/\n\nChange-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf\nblueprint: add-volume-type-filter-to-get-pool\n""}]",23,362747,23891402632cafe04822f7ab59bf8dda9407215e,59,9,17,23083,,,0,"Add volume type filter to Get-Pools

Add feature that administrators can get back-end storage pools
filtered by volume-type, underground cinder will return the pools
filtered by volume-type's extra-spec.
This is depended on generalized  resource filtering feature [1].

[1] https://review.openstack.org/#/c/441516/

Change-Id: I8ed01bbee0c1f54f1761c812987ac70b4c4bbbcf
blueprint: add-volume-type-filter-to-get-pool
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/47/362747/9 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/add-volume-type-filter-to-get-pools.rst'],1,51e621fd10d0011852a3a81ec11d30fe9fe7d4b2,bp/add-volume-type-filter-to-get-pool,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================== Support retrieve pools filtered by volume-type ======================================================== https://blueprints.launchpad.net/cinder/+spec/add-volume-type-filter-to-get-pool Add feature that administrators can get back-end storage pools filtered by volume-type, cinder will return the pools filtered by volume-type's extra-spec. Problem description =================== Now get-pools's API only support filter pools by name,this is not enough when administrators wants to know the pools state which also can meet the specified volume type's requirements,the statistics is useful when kind of volume-type based capability statistics is required,the administrators also can get all pools and filter them on their own,but it's more complicated and inefficient. This change intends to cover this situation and bring more convenience to administrators Use Cases ========= In production environment, administrators often need to have an overall pool avaliable statistics grouped by volume type,this will help them to make an adjustment before resources run out. Proposed change =============== * Introduce volume filter when retrieving pools. It accepts a volume-type name or ID and return the filtered pools which's capabilities meets volume-type's extra-specs Alternatives ------------ Administrators also can retrieve and filter by themselves, but it's more complicated and inefficient. This change can reduce the request amount and filter unnecessary data transmitted from server to client. Data model impact ----------------- None REST API impact --------------- Get-Pool API will accept new query string parameter volume-type. Administrators can pass name or id to retrieve pools filtered. * ``GET /v3/​{tenant_id}​/scheduler-stats/get_pools?volume-type=lvm-default`` Security impact --------------- None Notifications impact -------------------- None. Other end user impact --------------------- Python client need to add new parameter '--volume-type' when get_pools to support this. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: TommyLike(tommylikehu@gmail.com) Work Items ---------- * Add Get-Pools's filter * Add filter logic when retrieving pools * Add related test Dependencies ============ None Testing ======= 1. Unit test to test whether volume-type filter can be correctly applied. 2. Tempest test whether volume-type filter work correctly from API perspective. Documentation Impact ==================== 1. The cinder API documentation will need to be updated to reflect the REST API changes. References ========== None ",,138,0
openstack%2Ftempest~master~If597838f828f81c0919c11a8436b1a0d322758a4,openstack/tempest,master,If597838f828f81c0919c11a8436b1a0d322758a4,Add docstring example for get_opt_lists,MERGED,2017-04-24 10:03:33.000000000,2017-04-25 01:14:19.000000000,2017-04-24 23:37:04.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 12033}, {'_account_id': 12393}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-04-24 10:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8f7d3c03f96dc7fea4a9b47975aeabd68e58ad49', 'message': 'Add docstring example for get_opt_lists\n\nAdd an example (typical) implementation of get_opt_lists.\n\nChange-Id: If597838f828f81c0919c11a8436b1a0d322758a4\n'}, {'number': 2, 'created': '2017-04-24 10:07:42.000000000', 'files': ['tempest/test_discover/plugins.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f1c6825210aba33ef0a7ef7da10025b1fa73bf34', 'message': 'Add docstring example for get_opt_lists\n\nAdd an example (typical) implementation of get_opt_lists.\n\nChange-Id: If597838f828f81c0919c11a8436b1a0d322758a4\n'}]",1,459227,f1c6825210aba33ef0a7ef7da10025b1fa73bf34,17,6,2,1921,,,0,"Add docstring example for get_opt_lists

Add an example (typical) implementation of get_opt_lists.

Change-Id: If597838f828f81c0919c11a8436b1a0d322758a4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/27/459227/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/test_discover/plugins.py'],1,8f7d3c03f96dc7fea4a9b47975aeabd68e58ad49,plugin_docs," Example:: # Config options are defined in a config.py module service_option = cfg.BoolOpt( ""my_service"", default=True, help=""Whether or not my service is available"") my_service_group = cfg.OptGroup(name=""my-service"", title=""My service options"") my_service_features_group = cfg.OptGroup( name=""my-service-features"", title=""My service available features"") MyServiceGroup = [<list of options>] MyServiceFeaturesGroup = [<list of options>] # Plugin is implemented in a plugin.py module from my_plugin import config as my_config def get_opt_lists(self, conf): return [ (my_service_group.name, MyServiceGroup), (my_service_features_group.name, MyServiceFeaturesGroup) ]",,25,0
openstack%2Fshade~master~I5fb9f8fdb14db0889b2f7a63415218b8774cc7bc,openstack/shade,master,I5fb9f8fdb14db0889b2f7a63415218b8774cc7bc,Define a base function to remove unneeded attributes,MERGED,2017-04-24 18:38:47.000000000,2017-04-25 01:08:19.000000000,2017-04-25 01:08:18.000000000,"[{'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2017-04-24 18:38:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/4938548e23caec0d78ff506e3a68bb8a7293b409', 'message': ""Define a base function to remove unneeded attributes\n\nMany of the _normalize_* methods are removing the same\nattributes, let's have just define a base function that\ndoes that.\n\nChange-Id: I5fb9f8fdb14db0889b2f7a63415218b8774cc7bc\nSigned-off-by: Rosario Di Somma <rosario.disomma@gmail.com>\n""}, {'number': 2, 'created': '2017-04-24 23:40:37.000000000', 'files': ['shade/tests/unit/test_normalize.py', 'shade/_normalize.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/b964757de8dbf9bf0ea7d79923fd5f040816ece4', 'message': ""Define a base function to remove unneeded attributes\n\nMany of the _normalize_* methods are removing the same\nattributes, let's have just define a base function that\ndoes that.\n\nChange-Id: I5fb9f8fdb14db0889b2f7a63415218b8774cc7bc\nSigned-off-by: Rosario Di Somma <rosario.disomma@gmail.com>\n""}]",1,459422,b964757de8dbf9bf0ea7d79923fd5f040816ece4,9,2,2,986,,,0,"Define a base function to remove unneeded attributes

Many of the _normalize_* methods are removing the same
attributes, let's have just define a base function that
does that.

Change-Id: I5fb9f8fdb14db0889b2f7a63415218b8774cc7bc
Signed-off-by: Rosario Di Somma <rosario.disomma@gmail.com>
",git fetch https://review.opendev.org/openstack/shade refs/changes/22/459422/2 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_normalize.py', 'shade/_normalize.py']",2,4938548e23caec0d78ff506e3a68bb8a7293b409,cinder-requests-mock," def _remove_novaclient_artifacts(self, item): # Remove novaclient artifacts item.pop('links', None) item.pop('NAME_ATTR', None) item.pop('HUMAN_ID', None) item.pop('human_id', None) item.pop('request_ids', None) item.pop('x_openstack_request_ids', None) self._remove_novaclient_artifacts(flavor) # Discard noise self._remove_novaclient_artifacts(image) # Discard noise self._remove_novaclient_artifacts(group) self._remove_novaclient_artifacts(server) self._remove_novaclient_artifacts(project) self._remove_novaclient_artifacts(volume) self._remove_novaclient_artifacts(attachment) self._remove_novaclient_artifacts(usage) self._remove_novaclient_artifacts(stack) "," flavor.pop('NAME_ATTR', None) flavor.pop('HUMAN_ID', None) flavor.pop('human_id', None) flavor.pop('request_ids', None) image.pop('links', None) image.pop('NAME_ATTR', None) image.pop('HUMAN_ID', None) image.pop('human_id', None) # Remove novaclient artifacts group.pop('links', None) group.pop('NAME_ATTR', None) group.pop('HUMAN_ID', None) group.pop('human_id', None) group.pop('request_ids', None) group.pop('x_openstack_request_ids', None) server.pop('links', None) server.pop('NAME_ATTR', None) server.pop('HUMAN_ID', None) server.pop('human_id', None) project.pop('links', None) project.pop('NAME_ATTR', None) project.pop('HUMAN_ID', None) project.pop('human_id', None) volume.pop('links', None) volume.pop('NAME_ATTR', None) volume.pop('HUMAN_ID', None) volume.pop('human_id', None) volume.pop('request_ids', None) volume.pop('x_openstack_request_ids', None) usage.pop('links', None) usage.pop('NAME_ATTR', None) usage.pop('HUMAN_ID', None) usage.pop('human_id', None) usage.pop('request_ids', None) stack.pop('HUMAN_ID', None) stack.pop('human_id', None) stack.pop('NAME_ATTR', None) stack.pop('links', None)",26,50
openstack%2Ftempest~master~Ifb6731fd893a32bea6c7832236bb26a2eacaf56c,openstack/tempest,master,Ifb6731fd893a32bea6c7832236bb26a2eacaf56c,Make delete_volume in volumes_client.py use **params,MERGED,2017-04-10 12:30:31.000000000,2017-04-25 01:05:39.000000000,2017-04-25 01:05:39.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 20190}, {'_account_id': 23186}, {'_account_id': 24248}]","[{'number': 1, 'created': '2017-04-10 12:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/47876218c6f37dd62917aa77a942aa411c67d9ee', 'message': 'Make delete_volume in volumes_client.py use **params\n\nI99f9910f75aef095f2bbb37680ee584e52bf82da introduced a new\nkwarg to the delete_volume() method. But the correct way to\ndo this is to introduce a generic **params argument, so avoid\nchanging the signature of the method too often.\n\nChange-Id: Ifb6731fd893a32bea6c7832236bb26a2eacaf56c\n'}, {'number': 2, 'created': '2017-04-11 09:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b235a6c96867409e2ee70c48aee1108918cfe6eb', 'message': 'Make delete_volume in volumes_client.py use **params\n\nI99f9910f75aef095f2bbb37680ee584e52bf82da introduced a new\nkwarg to the delete_volume() method. But the correct way to\ndo this is to introduce a generic **params argument, so avoid\nchanging the signature of the method too often.\n\nChange-Id: Ifb6731fd893a32bea6c7832236bb26a2eacaf56c\n'}, {'number': 3, 'created': '2017-04-14 08:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7349f0df224ff6d756274fb28eedef274032f948', 'message': 'Make delete_volume in volumes_client.py use **params\n\nI99f9910f75aef095f2bbb37680ee584e52bf82da introduced a new\nkwarg to the delete_volume() method. But the correct way to\ndo this is to introduce a generic **params argument, so avoid\nchanging the signature of the method too often.\n\nChange-Id: Ifb6731fd893a32bea6c7832236bb26a2eacaf56c\n'}, {'number': 4, 'created': '2017-04-20 13:41:26.000000000', 'files': ['tempest/lib/services/volume/v2/volumes_client.py', 'releasenotes/notes/add-kwargs-to-delete-vol-of-vol-client-1ecde75beb62933c.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cb5f650fd4d132f2a34b4a27d388536c8e8dbd98', 'message': 'Make delete_volume in volumes_client.py use **params\n\nI99f9910f75aef095f2bbb37680ee584e52bf82da introduced a new\nkwarg to the delete_volume() method. But the correct way to\ndo this is to introduce a generic **params argument, so avoid\nchanging the signature of the method too often.\n\nChange-Id: Ifb6731fd893a32bea6c7832236bb26a2eacaf56c\n'}]",2,455303,cb5f650fd4d132f2a34b4a27d388536c8e8dbd98,29,9,4,7350,,,0,"Make delete_volume in volumes_client.py use **params

I99f9910f75aef095f2bbb37680ee584e52bf82da introduced a new
kwarg to the delete_volume() method. But the correct way to
do this is to introduce a generic **params argument, so avoid
changing the signature of the method too often.

Change-Id: Ifb6731fd893a32bea6c7832236bb26a2eacaf56c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/03/455303/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/volume/v2/volumes_client.py'],1,47876218c6f37dd62917aa77a942aa411c67d9ee,," def delete_volume(self, volume_id, **params): if params: url += '?%s' % urllib.urlencode(params)"," def delete_volume(self, volume_id, cascade=False): if cascade: url += '?cascade=True'",3,3
openstack%2Fnova~master~I780269ec20600dd07f03dbb1d7f1289fe68daf3e,openstack/nova,master,I780269ec20600dd07f03dbb1d7f1289fe68daf3e,fix typos,MERGED,2017-04-19 10:44:29.000000000,2017-04-25 01:05:05.000000000,2017-04-25 01:05:05.000000000,"[{'_account_id': 3}, {'_account_id': 6167}, {'_account_id': 7634}, {'_account_id': 15334}, {'_account_id': 17814}, {'_account_id': 25632}]","[{'number': 1, 'created': '2017-04-19 10:44:29.000000000', 'files': ['nova/tests/functional/api/openstack/placement/gabbits/resource-provider-aggregates.yaml', 'nova/tests/unit/api/openstack/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/aadb8bd6645b01b04b404cca9ab4aac906a0595d', 'message': 'fix typos\n\nChange-Id: I780269ec20600dd07f03dbb1d7f1289fe68daf3e\n'}]",0,458016,aadb8bd6645b01b04b404cca9ab4aac906a0595d,18,6,1,25632,,,0,"fix typos

Change-Id: I780269ec20600dd07f03dbb1d7f1289fe68daf3e
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/458016/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/api/openstack/placement/gabbits/resource-provider-aggregates.yaml', 'nova/tests/unit/api/openstack/test_wsgi.py']",2,aadb8bd6645b01b04b404cca9ab4aac906a0595d,fix_version," ('legacy-microversion', {"," ('legacy-microverison', {",2,2
openstack%2Ftempest~master~Ia7b49cfb5324a6061ad9be791225eefed5c2d27f,openstack/tempest,master,Ia7b49cfb5324a6061ad9be791225eefed5c2d27f,Add test about associate floating_ip to VM,MERGED,2017-03-03 03:11:45.000000000,2017-04-25 01:04:55.000000000,2017-04-25 01:04:55.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 15941}, {'_account_id': 20190}, {'_account_id': 21884}, {'_account_id': 21897}, {'_account_id': 23317}, {'_account_id': 25670}]","[{'number': 1, 'created': '2017-03-03 03:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a4a91cc4a21123ca6bd02b96f8cb3c34ccc4ea2b', 'message': 'Optimize floating_ips tempest api tests\n\nAdd a api test for test_floating_ips_actions_negative\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n'}, {'number': 2, 'created': '2017-03-03 07:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/925b9bae3a7f04336da07962e90475228eba0f2b', 'message': 'Optimize floating_ips tempest api tests\n\nAdd a api test for test_floating_ips_actions_negative\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n'}, {'number': 3, 'created': '2017-03-03 10:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4e42c4763075d0aa84a53ce428814b7034b968ab', 'message': 'Optimize floating_ips tempest api tests\n\nAdd a api test for test_floating_ips_actions_negative\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n'}, {'number': 4, 'created': '2017-03-06 07:40:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0d133ab0425a010fe2f2aa5d147021da9c28f5f0', 'message': 'Optimize floating_ips tempest api tests\n\nAdd a api test for test_floating_ips_actions_negative\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n'}, {'number': 5, 'created': '2017-03-06 09:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8d288e00d6ebc92349df1b13e8bab40e56076785', 'message': 'Optimize floating_ips tempest api tests\n\nAdd a api test for test_floating_ips_actions_negative\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n'}, {'number': 6, 'created': '2017-03-08 09:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1648cb0c332831897b9d53f67297743c2d976cc2', 'message': ""Add a api negative test for test_floating_ips_actions\n\nUser create a floating_ip1 and associate to VM1,\nand then want to change VM1's floating_ip to floating_ip2.\nNaturally,they direct to associate floating_ip2 to VM1,\nso we should add negative test as below.\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n""}, {'number': 7, 'created': '2017-03-13 13:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4bc1d03ffc75b608c2af4f3fe502e7e573a1002d', 'message': ""Add a api negative test for test_floating_ips_actions\n\nUser create a floating_ip1 and associate to VM1,\nand then want to change VM1's floating_ip to floating_ip2.\nNaturally,they direct to associate floating_ip2 to VM1,\nso we should add negative test as below.\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n""}, {'number': 8, 'created': '2017-03-21 01:16:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/48fd9fd7ffba9f3b09dbd9c3d51809d33778f6ab', 'message': ""Add test for assign floating_ip to the VM which have bind floating_ip.\n\nUser create a floating_ip1 and associate to VM1,\nand then want to change VM1's floating_ip to floating_ip2.\nNaturally,they direct to associate floating_ip2 to VM1,\nso we should add negative test as below.\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n""}, {'number': 9, 'created': '2017-03-21 01:17:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/355978056a4ff4ec45eedb66a04acbb090900d91', 'message': ""Add test for assign floating_ip to the VM which have bind floating_ip\n\nUser create a floating_ip1 and associate to VM1,\nand then want to change VM1's floating_ip to floating_ip2.\nNaturally,they direct to associate floating_ip2 to VM1,\nso we should add negative test as below.\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n""}, {'number': 10, 'created': '2017-03-30 11:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fb506a9a648a82a72fa6dd0fd841f3e747d2cac3', 'message': ""Add test for assign floating_ip to the VM which have bind floating_ip\n\nUser create a floating_ip1 and associate to VM1,\nand then want to change VM1's floating_ip to floating_ip2.\nNaturally,they direct to associate floating_ip2 to VM1.\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n""}, {'number': 11, 'created': '2017-04-20 12:23:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea423d7d57464331d13f5d2e689b4e2d494569c4', 'message': ""Add test about associate floating_ip to VM\n\nUser create a floating_ip1 and a VM1 which have one port,\nassociate floating_ip1 to VM1.\nUser create a floating_ip2 which is from same pool with floating_ip1.\nUser want to change VM1's floating_ip from floating_ip1 to floating_ip2.\nNaturally,they direct to associate floating_ip2 to VM1.\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n""}, {'number': 12, 'created': '2017-04-20 12:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ae9ce4db83bbd07737eee1d7b632324e9f3d876a', 'message': ""Add test about associate floating_ip to VM\n\nUser create a floating_ip1 and a VM1 which have one port,\nassociate floating_ip1 to VM1.\nUser create a floating_ip2 which is from same pool with floating_ip1.\nUser want to change VM1's floating_ip from floating_ip1 to floating_ip2.\nNaturally,they direct to associate floating_ip2 to VM1.\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n""}, {'number': 13, 'created': '2017-04-21 05:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6477d535d54d73276df86e36380949a2e31f7ebc', 'message': 'Add test about associate floating_ip to VM\n\nOnly one floating IP address can be allocated to\nan instance which have one port.\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n'}, {'number': 14, 'created': '2017-04-21 05:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cae92ed62131a3aedde919e821f6e6ae8515033e', 'message': 'Add test about associate floating_ip to VM\n\nOnly one floating IP address can be allocated to\nan instance which have one port.\n\nhttps://docs.openstack.org/user-guide/cli-manage-ip-addresses.html\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n'}, {'number': 15, 'created': '2017-04-24 06:25:33.000000000', 'files': ['tempest/api/compute/floating_ips/test_floating_ips_actions_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/343ca198166ded0bbf6e23535aeae0ea15a922dc', 'message': 'Add test about associate floating_ip to VM\n\nOnly one floating IP address can be allocated to\nan instance which have one port.\n\nhttps://docs.openstack.org/user-guide/cli-manage-ip-addresses.html\n\nChange-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f\n'}]",32,440913,343ca198166ded0bbf6e23535aeae0ea15a922dc,118,15,15,21897,,,0,"Add test about associate floating_ip to VM

Only one floating IP address can be allocated to
an instance which have one port.

https://docs.openstack.org/user-guide/cli-manage-ip-addresses.html

Change-Id: Ia7b49cfb5324a6061ad9be791225eefed5c2d27f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/13/440913/9 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/floating_ips/test_floating_ips_actions_negative.py'],1,a4a91cc4a21123ca6bd02b96f8cb3c34ccc4ea2b,floatingip-test,"import testtools @test.attr(type=['negative']) @decorators.idempotent_id('58a80596-ffb2-11e6-9393-fa163e4fa634') @test.services('network') @testtools.skipUnless(CONF.network.public_network_id, 'The public_network_id option must be specified.') def test_associate_ip_to_server_with_floating_ip(self): # Negative test:Association a floating IP to specific server # which has associated a floating IP # should raise BadRequest exception self.client.associate_floating_ip_to_server( self.floating_ip, self.server_id) body = self.client.create_floating_ip( pool=CONF.network.floating_network_name)['floating_ip'] self.new_floating_ip = body['ip'] self.new_floating_ip_id = body['id'] self.addCleanup(self.client.delete_floating_ip, self.new_floating_ip_id) self.assertRaises(lib_exc.BadRequest, self.client.associate_floating_ip_to_server, self.new_floating_ip, self.server_id)",,24,0
openstack%2Fcinder~master~I358f5e7129f2c1abebb76fd887df28f1d71b4b7c,openstack/cinder,master,I358f5e7129f2c1abebb76fd887df28f1d71b4b7c,Add VolumeStatus enum field-Part(2),ABANDONED,2017-04-20 03:55:03.000000000,2017-04-25 00:55:47.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13628}, {'_account_id': 13915}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18444}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-04-20 03:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/42108a294f3ec60e032fb7bbba4235f7215693c7', 'message': ""Add VolumeStatus enum field-Part(2)\n\nThis change adds a new enum and field, VolumeStatus and\nVolumeStatusField, that will hold the constants for the 'status'\nfield of the VolumeStatus object. This enum and field are based\noff the base oslo.versionedobjects enum and field. This also changes\nover the Volume object to use the new field and bumps up the version\nso newer versions know to enforce valid values. Finally, all uses of\nstrings for comparison and assignment to this field are changed over\nto use the constants defined within the enum.\n\nSome status like 'available','in-use','error' are used in so many\nplace, for the convenience to review, it's better to split the\nchanges to some small patches, i.e, changes for tests and\nchanges for drivers.\n\nThis patch finished: 'error', 'in-use', 'creating', 'extending',\n'attaching', 'reserved', 'detaching', 'error_deleting',\n'error_backing-up', 'downloading', 'awaiting-transfer','managing'.\n\nOthers will be done in the follow patches.\n\nCo-Authored-By: wanghao<sxmatch1986@gmail.com>\n\nChange-Id: I358f5e7129f2c1abebb76fd887df28f1d71b4b7c\nPartial-Implements: bp cinder-object-fields\n""}, {'number': 2, 'created': '2017-04-20 09:06:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d36b8f3c2f2124e5e3f2ac74a46e45e80a200c82', 'message': ""Add VolumeStatus enum field-Part(2)\n\nThis change adds a new enum and field, VolumeStatus and\nVolumeStatusField, that will hold the constants for the 'status'\nfield of the VolumeStatus object. This enum and field are based\noff the base oslo.versionedobjects enum and field. This also changes\nover the Volume object to use the new field and bumps up the version\nso newer versions know to enforce valid values. Finally, all uses of\nstrings for comparison and assignment to this field are changed over\nto use the constants defined within the enum.\n\nSome status like 'available','in-use','error' are used in so many\nplace, for the convenience to review, it's better to split the\nchanges to some small patches, i.e, changes for tests and\nchanges for drivers.\n\nThis patch finished the rest part.\n\nCo-Authored-By: wanghao<sxmatch1986@gmail.com>\n\nChange-Id: I358f5e7129f2c1abebb76fd887df28f1d71b4b7c\nPartial-Implements: bp cinder-object-fields\n""}, {'number': 3, 'created': '2017-04-21 02:22:43.000000000', 'files': ['cinder/api/v2/views/volumes.py', 'cinder/volume/manager.py', 'cinder/backup/api.py', 'cinder/backup/manager.py', 'cinder/scheduler/flows/create_volume.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/scheduler/manager.py', 'cinder/volume/flows/api/manage_existing.py', 'cinder/cmd/manage.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/vzstorage.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/drivers/huawei/hypermetro.py', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/huawei/huawei_driver.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/dell/dell_storagecenter_common.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/group/api.py', 'cinder/volume/drivers/lvm.py', 'cinder/volume/drivers/netapp/eseries/library.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/volume/drivers/ibm/gpfs.py', 'cinder/volume/drivers/pure.py', 'cinder/volume/drivers/solidfire.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/transfer/api.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/falconstor/fss_common.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py', 'cinder/volume/drivers/hpe/hpe_lefthand_iscsi.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/utils.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/nec/volume_helper.py', 'cinder/volume/drivers/netapp/eseries/host_mapper.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/volume/drivers/remotefs.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9a1c314ec010f009cbfd1eaf21e473636b377296', 'message': ""Add VolumeStatus enum field-Part(2)\n\nThis change adds a new enum and field, VolumeStatus and\nVolumeStatusField, that will hold the constants for the 'status'\nfield of the VolumeStatus object. This enum and field are based\noff the base oslo.versionedobjects enum and field. This also changes\nover the Volume object to use the new field and bumps up the version\nso newer versions know to enforce valid values. Finally, all uses of\nstrings for comparison and assignment to this field are changed over\nto use the constants defined within the enum.\n\nSome status like 'available','in-use','error' are used in so many\nplace, for the convenience to review, it's better to split the\nchanges to some small patches, i.e, changes for tests and\nchanges for drivers.\n\nThis patch finished the rest part.\n\nCo-Authored-By: wanghao<sxmatch1986@gmail.com>\n\nChange-Id: I358f5e7129f2c1abebb76fd887df28f1d71b4b7c\nPartial-Implements: bp cinder-object-fields\n""}]",0,458318,9a1c314ec010f009cbfd1eaf21e473636b377296,57,30,3,15054,,,0,"Add VolumeStatus enum field-Part(2)

This change adds a new enum and field, VolumeStatus and
VolumeStatusField, that will hold the constants for the 'status'
field of the VolumeStatus object. This enum and field are based
off the base oslo.versionedobjects enum and field. This also changes
over the Volume object to use the new field and bumps up the version
so newer versions know to enforce valid values. Finally, all uses of
strings for comparison and assignment to this field are changed over
to use the constants defined within the enum.

Some status like 'available','in-use','error' are used in so many
place, for the convenience to review, it's better to split the
changes to some small patches, i.e, changes for tests and
changes for drivers.

This patch finished the rest part.

Co-Authored-By: wanghao<sxmatch1986@gmail.com>

Change-Id: I358f5e7129f2c1abebb76fd887df28f1d71b4b7c
Partial-Implements: bp cinder-object-fields
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/458318/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/v2/views/volumes.py', 'cinder/volume/manager.py', 'cinder/backup/api.py', 'cinder/backup/manager.py', 'cinder/scheduler/flows/create_volume.py', 'cinder/volume/flows/api/create_volume.py', 'cinder/scheduler/manager.py', 'cinder/volume/flows/api/manage_existing.py', 'cinder/cmd/manage.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/vzstorage.py', 'cinder/db/sqlalchemy/api.py', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/huawei/huawei_driver.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/dell/dell_storagecenter_common.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/volume/drivers/hpe/hpe_3par_iscsi.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/dell_emc/vmax/common.py', 'cinder/volume/drivers/hpe/hpe_3par_fc.py', 'cinder/volume/drivers/lvm.py', 'cinder/volume/drivers/rbd.py', 'cinder/volume/drivers/windows/smbfs.py', 'cinder/volume/drivers/pure.py', 'cinder/volume/drivers/solidfire.py', 'cinder/transfer/api.py', 'cinder/volume/drivers/dell_emc/scaleio/driver.py', 'cinder/volume/flows/manager/create_volume.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/nec/volume_helper.py', 'cinder/volume/drivers/netapp/eseries/host_mapper.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/volume/drivers/remotefs.py', 'cinder/volume/api.py']",35,42108a294f3ec60e032fb7bbba4235f7215693c7,bp/cinder-object-fields," volume.update( {'status': fields.VolumeStatus.ERROR_DELETING}) result = volume.conditional_update( {'status': fields.VolumeStatus.ATTACHING}, expected) expected = {'status': fields.VolumeStatus.ATTACHING} fields.VolumeStatus.INUSE)], result = volume.conditional_update( {'status': fields.VolumeStatus.DETACHING}, expected) {'status': fields.VolumeStatus.DETACHING}) if volume['status'] == fields.VolumeStatus.ERROR: values = {'status': fields.VolumeStatus.UPLOADING, {'status': fields.VolumeStatus.UPLOADING}) ""status"": fields.VolumeStatus.UPLOADING, value = {'status': fields.VolumeStatus.EXTENDING} fields.VolumeStatus.DOWNLOADING) fields.VolumeStatus.DOWNLOADING))} result = vref.conditional_update( {'status': fields.VolumeStatus.RESERVED}, expected)"," volume.update({'status': 'error_deleting'}) result = volume.conditional_update({'status': 'attaching'}, expected) expected = {'status': 'attaching'} 'in-use')], result = volume.conditional_update({'status': 'detaching'}, expected) {'status': 'detaching'}) if volume['status'] == 'error': values = {'status': 'uploading', {'status': 'uploading'}) ""status"": 'uploading', value = {'status': 'extending'} 'downloading') 'downloading'))} result = vref.conditional_update({'status': 'reserved'}, expected)",112,85
openstack%2Fhorizon~master~I73209122df20689eee33da9dccffa994a04a3ec0,openstack/horizon,master,I73209122df20689eee33da9dccffa994a04a3ec0,Don't update cinder quotas if disabled,MERGED,2017-03-30 07:21:32.000000000,2017-04-25 00:54:18.000000000,2017-04-25 00:54:18.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 6825}, {'_account_id': 11885}, {'_account_id': 16628}, {'_account_id': 24056}, {'_account_id': 25434}]","[{'number': 1, 'created': '2017-03-30 07:21:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/277397a2de8975d8baa9234de97b7e07158651cf', 'message': ""Don't update cinder quotas if disabled\n\nThe quotas for cinder were being updated even if they were disabled,\nresulting in None being sent as the value, and an error being thrown\nby the API.\n\nThis patch cleans up that code to use the same logic in all three cases\nfor nova, cinder and neutron.\n\nChange-Id: I73209122df20689eee33da9dccffa994a04a3ec0\nCloses-bug: #1671911\n""}, {'number': 2, 'created': '2017-03-30 08:25:10.000000000', 'files': ['openstack_dashboard/dashboards/identity/projects/workflows.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/3055a987632c29175c06d73e77fbad9062fcc2c4', 'message': ""Don't update cinder quotas if disabled\n\nThe quotas for cinder were being updated even if they were disabled,\nresulting in None being sent as the value, and an error being thrown\nby the API.\n\nThis patch cleans up that code to use the same logic in all three cases\nfor nova, cinder and neutron.\n\nChange-Id: I73209122df20689eee33da9dccffa994a04a3ec0\nCloses-bug: #1671911\n""}]",3,451679,3055a987632c29175c06d73e77fbad9062fcc2c4,15,7,2,8648,,,0,"Don't update cinder quotas if disabled

The quotas for cinder were being updated even if they were disabled,
resulting in None being sent as the value, and an error being thrown
by the API.

This patch cleans up that code to use the same logic in all three cases
for nova, cinder and neutron.

Change-Id: I73209122df20689eee33da9dccffa994a04a3ec0
Closes-bug: #1671911
",git fetch https://review.opendev.org/openstack/horizon refs/changes/79/451679/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/identity/projects/workflows.py'],1,277397a2de8975d8baa9234de97b7e07158651cf,bug/1671911," quotas.NOVA_QUOTA_FIELDS if key not in disabled_quotas} if nova_data: nova.tenant_quota_update(request, project_id, **nova_data) cinder_data = {key: data[key] for key in quotas.CINDER_QUOTA_FIELDS if key not in disabled_quotas} if cinder_data: cinder.tenant_quota_update(request, project_id, **cinder_data) if (api.base.is_service_enabled(request, 'network') and api.neutron.is_quotas_extension_supported(request)): neutron_data = {key: data[key] for key in quotas.NEUTRON_QUOTA_FIELDS if key not in disabled_quotas} if neutron_data: api.neutron.tenant_quota_update(request, project_id, **neutron_data)"," set(quotas.NOVA_QUOTA_FIELDS) - disabled_quotas} nova.tenant_quota_update(request, project_id, **nova_data) cinder_data = dict([(key, data[key]) for key in quotas.CINDER_QUOTA_FIELDS]) cinder.tenant_quota_update(request, project_id, **cinder_data) if api.base.is_service_enabled(request, 'network') and \ api.neutron.is_quotas_extension_supported(request): neutron_data = {} for key in quotas.NEUTRON_QUOTA_FIELDS: if key not in disabled_quotas: neutron_data[key] = data[key] api.neutron.tenant_quota_update(request, project_id, **neutron_data)",17,16
openstack%2Fos-brick~master~Ia8e17daf94c808c797e7d64a29747100484f6193,openstack/os-brick,master,Ia8e17daf94c808c797e7d64a29747100484f6193,Change retry time of VolumePathNotRemoved,ABANDONED,2016-06-07 08:40:18.000000000,2017-04-25 00:39:03.000000000,,"[{'_account_id': 3}, {'_account_id': 1207}, {'_account_id': 5997}, {'_account_id': 7173}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14039}, {'_account_id': 15941}, {'_account_id': 16595}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18402}]","[{'number': 1, 'created': '2016-06-07 08:40:18.000000000', 'files': ['os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/9e4c7fa50ea34fec138485eb1fb168ba2c1c0525', 'message': 'Change retry time of VolumePathNotRemoved\n\nWhen using pysical storage, and removing volume, the timeout for\nVolumePathNotRemoved is not long enough for some time.\nThis fix increase ""retries"" of VolumePathNotRemoved from 3 to 5.\nAnd also removing ""backoff_rate=2"" for it is a default value.\n\nChange-Id: Ia8e17daf94c808c797e7d64a29747100484f6193\n'}]",0,326294,9e4c7fa50ea34fec138485eb1fb168ba2c1c0525,14,12,1,14039,,,0,"Change retry time of VolumePathNotRemoved

When using pysical storage, and removing volume, the timeout for
VolumePathNotRemoved is not long enough for some time.
This fix increase ""retries"" of VolumePathNotRemoved from 3 to 5.
And also removing ""backoff_rate=2"" for it is a default value.

Change-Id: Ia8e17daf94c808c797e7d64a29747100484f6193
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/94/326294/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/initiator/linuxscsi.py'],1,9e4c7fa50ea34fec138485eb1fb168ba2c1c0525,change-VolumePathNotRemoved-retries," @utils.retry(exceptions=exception.VolumePathNotRemoved, retries=5)"," @utils.retry(exceptions=exception.VolumePathNotRemoved, retries=3, backoff_rate=2)",1,2
openstack%2Fpuppet-ironic~master~Icd065cec7114fc026b658ede0d78be2e777c15aa,openstack/puppet-ironic,master,Icd065cec7114fc026b658ede0d78be2e777c15aa,Support configuring the Redfish driver,MERGED,2017-04-24 11:43:26.000000000,2017-04-25 00:18:27.000000000,2017-04-25 00:18:27.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 8971}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-24 11:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/ef587dfd16e1f6de1ca7e80c2c21c98e3a57a81b', 'message': 'Support configuring the Redfish driver\n\nPart of TripleO blueprint redfish-support\n\nChange-Id: Icd065cec7114fc026b658ede0d78be2e777c15aa\n'}, {'number': 2, 'created': '2017-04-24 11:55:01.000000000', 'files': ['spec/classes/ironic_drivers_redfish_spec.rb', 'releasenotes/notes/redfish-4afc29a2ff07917f.yaml', 'manifests/drivers/redfish.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/804bb619d585a38e1a3912953c8a9f18a5022187', 'message': 'Support configuring the Redfish driver\n\nPart of TripleO blueprint redfish-support\n\nChange-Id: Icd065cec7114fc026b658ede0d78be2e777c15aa\n'}]",0,459248,804bb619d585a38e1a3912953c8a9f18a5022187,11,4,2,10239,,,0,"Support configuring the Redfish driver

Part of TripleO blueprint redfish-support

Change-Id: Icd065cec7114fc026b658ede0d78be2e777c15aa
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/48/459248/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_drivers_redfish_spec.rb', 'manifests/drivers/redfish.pp']",2,ef587dfd16e1f6de1ca7e80c2c21c98e3a57a81b,bp/redfish-support,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # Configure the Redfish driver in Ironic # # === Parameters # # [*package_ensure*] # (optional) The state of the sushy package # Defaults to 'present' # # [*connection_attempts*] # (optional) Maximum number of attempts to try to connect to Redfish. # Should be a positive integer value. # Defaults to $::os_service_default. # # [*connection_retry_interval*] # (optional) Number of seconds to wait between attempts to connect to Redfish # Should be a positive integer value. # Defaults to $::os_service_default. # class ironic::drivers::redfish ( $package_ensure = 'present', $connection_attempts = $::os_service_default, $connection_retry_interval = $::os_service_default, ) { include ::ironic::deps ironic_config { 'redfish/connection_attempts': value => $connection_attempts; 'redfish/connection_retry_interval': value => $connection_retry_interval; } ensure_packages('python-sushy', { ensure => $package_ensure, tag => ['openstack', 'ironic-package'], } ) } ",,117,0
openstack%2Ftripleo-common~master~If4b01934a9a5cb6ca2ff6c1831e4fe073f1b04ea,openstack/tripleo-common,master,If4b01934a9a5cb6ca2ff6c1831e4fe073f1b04ea,Add etcd image to overcloud containers,MERGED,2017-03-15 11:29:52.000000000,2017-04-25 00:18:07.000000000,2017-04-25 00:18:07.000000000,"[{'_account_id': 3}, {'_account_id': 4571}, {'_account_id': 6159}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-03-15 11:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/262a63ae7d9ab878bfa0ab53e9dfef7c38f23581', 'message': 'Add etcd image to overcloud containers\n\nUse tripleoupstream/centos-binary-etcd\n\nPartial bug: #1668938\n\nChange-Id: If4b01934a9a5cb6ca2ff6c1831e4fe073f1b04ea\nSigned-off-by: Bogdan Dobrelya <bogdando@mail.ru>\n'}, {'number': 2, 'created': '2017-03-15 11:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5377c190d47bf1d026b9cb5ae3a0e24892881483', 'message': 'Add etcd image to overcloud containers\n\nUse tripleoupstream/centos-binary-etcd\n\nPartial bug: #1668938\n\nChange-Id: If4b01934a9a5cb6ca2ff6c1831e4fe073f1b04ea\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2017-03-21 08:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e64fbdf4b56f30c1e6a7c22ae3e60c53fd21b7f4', 'message': 'Add etcd image to overcloud containers\n\nUse tripleoupstream/centos-binary-etcd\n\nPartial bug: #1668938\n\nChange-Id: If4b01934a9a5cb6ca2ff6c1831e4fe073f1b04ea\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2017-04-24 15:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9635952e2882cec0574a9697e4b53dff71295cd4', 'message': 'Add etcd image to overcloud containers\n\nUse tripleoupstream/centos-binary-etcd\n\nPartial bug: #1668938\n\nChange-Id: If4b01934a9a5cb6ca2ff6c1831e4fe073f1b04ea\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2017-04-24 15:59:52.000000000', 'files': ['container-images/overcloud_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c2cdd7d8595fa066a02cb094207f6ddc856739f7', 'message': 'Add etcd image to overcloud containers\n\nUse tripleoupstream/centos-binary-etcd\n\nPartial bug: #1668938\n\nChange-Id: If4b01934a9a5cb6ca2ff6c1831e4fe073f1b04ea\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,445883,c2cdd7d8595fa066a02cb094207f6ddc856739f7,25,6,5,6926,,,0,"Add etcd image to overcloud containers

Use tripleoupstream/centos-binary-etcd

Partial bug: #1668938

Change-Id: If4b01934a9a5cb6ca2ff6c1831e4fe073f1b04ea
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/83/445883/4 && git format-patch -1 --stdout FETCH_HEAD,['contrib/overcloud_containers.yaml'],1,262a63ae7d9ab878bfa0ab53e9dfef7c38f23581,bug/1668938, - imagename: tripleoupstream/centos-binary-etcd:latest uploader: docker pull_source: docker.io,,3,0
openstack%2Fpuppet-murano~stable%2Focata~Id5661cfd48199f4becd90f4b71a5c6542d7cb3a7,openstack/puppet-murano,stable/ocata,Id5661cfd48199f4becd90f4b71a5c6542d7cb3a7,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:43:21.000000000,2017-04-25 00:17:22.000000000,2017-04-24 17:19:06.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:43:21.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/b12e7588e4a4d4531719f0c36a9a6b6449cda0aa', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: Id5661cfd48199f4becd90f4b71a5c6542d7cb3a7\n'}]",0,459365,b12e7588e4a4d4531719f0c36a9a6b6449cda0aa,8,4,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: Id5661cfd48199f4becd90f4b71a5c6542d7cb3a7
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/65/459365/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b12e7588e4a4d4531719f0c36a9a6b6449cda0aa,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fshade~master~Ifa179c062c164d7e48e8a09c52e554dce5ddd1cb,openstack/shade,master,Ifa179c062c164d7e48e8a09c52e554dce5ddd1cb,Replace neutronclient with REST API calls in network commands,MERGED,2017-04-24 19:52:10.000000000,2017-04-25 00:14:32.000000000,2017-04-25 00:14:32.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6488}, {'_account_id': 6554}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-04-24 19:52:10.000000000', 'files': ['shade/_tasks.py', 'shade/openstackcloud.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/80ebf88bc28be12ea4d09135fc996787b8baec2b', 'message': 'Replace neutronclient with REST API calls in network commands\n\nAll network related commands to Neutron (list/create/delete)\nare now made via keystoneauth\n\nChange-Id: Ifa179c062c164d7e48e8a09c52e554dce5ddd1cb\n'}]",0,459438,80ebf88bc28be12ea4d09135fc996787b8baec2b,6,15,1,11975,,,0,"Replace neutronclient with REST API calls in network commands

All network related commands to Neutron (list/create/delete)
are now made via keystoneauth

Change-Id: Ifa179c062c164d7e48e8a09c52e554dce5ddd1cb
",git fetch https://review.opendev.org/openstack/shade refs/changes/38/459438/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/_tasks.py', 'shade/openstackcloud.py']",2,80ebf88bc28be12ea4d09135fc996787b8baec2b,replace_network_cmds_with_keystoneauth," return self._network_client.get(""/networks.json"", params=filters) net = self._network_client.post(""/networks.json"", json={'network': network}) return net self._network_client.delete( ""/networks/{network_id}.json"".format(network_id=network['id']))"," with _utils.neutron_exceptions(""Error fetching network list""): return self.manager.submit_task( _tasks.NetworkList(**filters))['networks'] with _utils.neutron_exceptions( ""Error creating network {0}"".format(name)): net = self.manager.submit_task( _tasks.NetworkCreate(body=dict({'network': network}))) return net['network'] with _utils.neutron_exceptions( ""Error deleting network {0}"".format(name_or_id)): self.manager.submit_task( _tasks.NetworkDelete(network=network['id']))",6,27
openstack%2Fshade~master~I9eee8c676280ea08b8e2c5fb70c1b63f746f4819,openstack/shade,master,I9eee8c676280ea08b8e2c5fb70c1b63f746f4819,Move router related tests to separate module,MERGED,2017-04-23 20:20:31.000000000,2017-04-25 00:14:26.000000000,2017-04-25 00:14:26.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6488}, {'_account_id': 6554}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-04-23 20:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/5f7bfd83d047e30b2975fd33c02bb072dad76106', 'message': 'Move router related tests to separate module\n\nAll router tests were in common test_shade.py file.\nNow all those tests are in separate test module,\nlike it is done for network related tests.\n\nChange-Id: I9eee8c676280ea08b8e2c5fb70c1b63f746f4819\n'}, {'number': 2, 'created': '2017-04-24 13:32:46.000000000', 'files': ['shade/tests/unit/test_shade.py', 'shade/tests/unit/test_router.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/1c0c81fe09ba69413e6b6e55d8823741dc58be47', 'message': 'Move router related tests to separate module\n\nAll router tests were in common test_shade.py file.\nNow all those tests are in separate test module,\nlike it is done for network related tests.\n\nChange-Id: I9eee8c676280ea08b8e2c5fb70c1b63f746f4819\n'}]",0,459128,1c0c81fe09ba69413e6b6e55d8823741dc58be47,11,15,2,11975,,,0,"Move router related tests to separate module

All router tests were in common test_shade.py file.
Now all those tests are in separate test module,
like it is done for network related tests.

Change-Id: I9eee8c676280ea08b8e2c5fb70c1b63f746f4819
",git fetch https://review.opendev.org/openstack/shade refs/changes/28/459128/2 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_shade.py', 'shade/tests/unit/test_router.py']",2,5f7bfd83d047e30b2975fd33c02bb072dad76106,move_router_tests_to_separate_module,"# Copyright 2017 OVH SAS # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the 'License'); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import mock import shade from shade import exc from shade.tests.unit import base class TestSubnet(base.RequestsMockTestCase): @mock.patch.object(shade.OpenStackCloud, 'search_routers') def test_get_router(self, mock_search): router1 = dict(id='123', name='mickey') mock_search.return_value = [router1] r = self.cloud.get_router('mickey') self.assertIsNotNone(r) self.assertDictEqual(router1, r) @mock.patch.object(shade.OpenStackCloud, 'search_routers') def test_get_router_not_found(self, mock_search): mock_search.return_value = [] r = self.cloud.get_router('goofy') self.assertIsNone(r) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_router(self, mock_client): self.cloud.create_router(name='goofy', admin_state_up=True) self.assertTrue(mock_client.create_router.called) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_router_specific_tenant(self, mock_client): self.cloud.create_router(""goofy"", project_id=""project_id_value"") mock_client.create_router.assert_called_once_with( body=dict( router=dict( name='goofy', admin_state_up=True, tenant_id=""project_id_value"", ) ) ) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_router_with_enable_snat_True(self, mock_client): """"""Do not send enable_snat when same as neutron default."""""" self.cloud.create_router(name='goofy', admin_state_up=True, enable_snat=True) mock_client.create_router.assert_called_once_with( body=dict( router=dict( name='goofy', admin_state_up=True, ) ) ) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_router_with_enable_snat_False(self, mock_client): """"""Send enable_snat when it is False."""""" self.cloud.create_router(name='goofy', admin_state_up=True, enable_snat=False) mock_client.create_router.assert_called_once_with( body=dict( router=dict( name='goofy', admin_state_up=True, external_gateway_info=dict( enable_snat=False ) ) ) ) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_add_router_interface(self, mock_client): self.cloud.add_router_interface({'id': '123'}, subnet_id='abc') mock_client.add_interface_router.assert_called_once_with( router='123', body={'subnet_id': 'abc'} ) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_remove_router_interface(self, mock_client): self.cloud.remove_router_interface({'id': '123'}, subnet_id='abc') mock_client.remove_interface_router.assert_called_once_with( router='123', body={'subnet_id': 'abc'} ) def test_remove_router_interface_missing_argument(self): self.assertRaises(ValueError, self.cloud.remove_router_interface, {'id': '123'}) @mock.patch.object(shade.OpenStackCloud, 'get_router') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_update_router(self, mock_client, mock_get): router1 = dict(id='123', name='mickey') mock_get.return_value = router1 self.cloud.update_router('123', name='goofy') self.assertTrue(mock_client.update_router.called) @mock.patch.object(shade.OpenStackCloud, 'search_routers') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_router(self, mock_client, mock_search): router1 = dict(id='123', name='mickey') mock_search.return_value = [router1] self.cloud.delete_router('mickey') self.assertTrue(mock_client.delete_router.called) @mock.patch.object(shade.OpenStackCloud, 'search_routers') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_router_not_found(self, mock_client, mock_search): mock_search.return_value = [] r = self.cloud.delete_router('goofy') self.assertFalse(r) self.assertFalse(mock_client.delete_router.called) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_router_multiple_found(self, mock_client): router1 = dict(id='123', name='mickey') router2 = dict(id='456', name='mickey') mock_client.list_routers.return_value = dict(routers=[router1, router2]) self.assertRaises(exc.OpenStackCloudException, self.cloud.delete_router, 'mickey') self.assertFalse(mock_client.delete_router.called) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_router_multiple_using_id(self, mock_client): router1 = dict(id='123', name='mickey') router2 = dict(id='456', name='mickey') mock_client.list_routers.return_value = dict(routers=[router1, router2]) self.cloud.delete_router('123') self.assertTrue(mock_client.delete_router.called) @mock.patch.object(shade.OpenStackCloud, 'search_ports') def test_list_router_interfaces_no_gw(self, mock_search): """""" If a router does not have external_gateway_info, do not fail. """""" external_port = {'id': 'external_port_id', 'fixed_ips': [ ('external_subnet_id', 'ip_address'), ]} port_list = [external_port] router = { 'id': 'router_id', } mock_search.return_value = port_list ret = self.cloud.list_router_interfaces(router, interface_type='external') mock_search.assert_called_once_with( filters={'device_id': router['id']} ) self.assertEqual([], ret) # A router can have its external_gateway_info set to None router['external_gateway_info'] = None ret = self.cloud.list_router_interfaces(router, interface_type='external') self.assertEqual([], ret) @mock.patch.object(shade.OpenStackCloud, 'search_ports') def test_list_router_interfaces_all(self, mock_search): internal_port = {'id': 'internal_port_id', 'fixed_ips': [ ('internal_subnet_id', 'ip_address'), ]} external_port = {'id': 'external_port_id', 'fixed_ips': [ ('external_subnet_id', 'ip_address'), ]} port_list = [internal_port, external_port] router = { 'id': 'router_id', 'external_gateway_info': { 'external_fixed_ips': [('external_subnet_id', 'ip_address')] } } mock_search.return_value = port_list ret = self.cloud.list_router_interfaces(router) mock_search.assert_called_once_with( filters={'device_id': router['id']} ) self.assertEqual(port_list, ret) @mock.patch.object(shade.OpenStackCloud, 'search_ports') def test_list_router_interfaces_internal(self, mock_search): internal_port = {'id': 'internal_port_id', 'fixed_ips': [ ('internal_subnet_id', 'ip_address'), ]} external_port = {'id': 'external_port_id', 'fixed_ips': [ ('external_subnet_id', 'ip_address'), ]} port_list = [internal_port, external_port] router = { 'id': 'router_id', 'external_gateway_info': { 'external_fixed_ips': [('external_subnet_id', 'ip_address')] } } mock_search.return_value = port_list ret = self.cloud.list_router_interfaces(router, interface_type='internal') mock_search.assert_called_once_with( filters={'device_id': router['id']} ) self.assertEqual([internal_port], ret) @mock.patch.object(shade.OpenStackCloud, 'search_ports') def test_list_router_interfaces_external(self, mock_search): internal_port = {'id': 'internal_port_id', 'fixed_ips': [ ('internal_subnet_id', 'ip_address'), ]} external_port = {'id': 'external_port_id', 'fixed_ips': [ ('external_subnet_id', 'ip_address'), ]} port_list = [internal_port, external_port] router = { 'id': 'router_id', 'external_gateway_info': { 'external_fixed_ips': [('external_subnet_id', 'ip_address')] } } mock_search.return_value = port_list ret = self.cloud.list_router_interfaces(router, interface_type='external') mock_search.assert_called_once_with( filters={'device_id': router['id']} ) self.assertEqual([external_port], ret) ",,249,226
openstack%2Fwatcher~master~I4170b96946b07435411ada5ff4a14c978c0435b4,openstack/watcher,master,I4170b96946b07435411ada5ff4a14c978c0435b4,use instance data replace exception.NoDataFound,MERGED,2017-04-12 05:07:10.000000000,2017-04-25 00:14:07.000000000,2017-04-25 00:14:07.000000000,"[{'_account_id': 3}, {'_account_id': 13111}, {'_account_id': 18971}, {'_account_id': 19055}, {'_account_id': 21692}]","[{'number': 1, 'created': '2017-04-12 05:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/8a5b8f77ec1dcd006cda42c74f68672d3716a58f', 'message': 'use instance data replace exception.NoDataFound\n\nIf instance_ram_util and instance_disk_util can not get data\nfrom datasource. we can use instance data,\njust like total_cpu_utilization\n\nChange-Id: I4170b96946b07435411ada5ff4a14c978c0435b4\n'}, {'number': 2, 'created': '2017-04-13 05:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/94322b46b99cc3ac853d9152dc47e86f1c182398', 'message': 'use instance data replace exception.NoDataFound\n\nIf instance_ram_util and instance_disk_util can not get data\nfrom datasource. we can use instance data,\njust like total_cpu_utilization\n\nChange-Id: I4170b96946b07435411ada5ff4a14c978c0435b4\n'}, {'number': 3, 'created': '2017-04-24 06:59:12.000000000', 'files': ['watcher/decision_engine/strategy/strategies/vm_workload_consolidation.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/d892153b58f42c13d484dcd2e28929c52bd49d65', 'message': 'use instance data replace exception.NoDataFound\n\nIf instance_ram_util and instance_disk_util can not get data\nfrom datasource. we can use instance data,\njust like total_cpu_utilization\n\nChange-Id: I4170b96946b07435411ada5ff4a14c978c0435b4\n'}]",8,456047,d892153b58f42c13d484dcd2e28929c52bd49d65,16,5,3,21692,,,0,"use instance data replace exception.NoDataFound

If instance_ram_util and instance_disk_util can not get data
from datasource. we can use instance data,
just like total_cpu_utilization

Change-Id: I4170b96946b07435411ada5ff4a14c978c0435b4
",git fetch https://review.opendev.org/openstack/watcher refs/changes/47/456047/1 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/strategy/strategies/vm_workload_consolidation.py'],1,8a5b8f77ec1dcd006cda42c74f68672d3716a58f,vm_workload_consolidation, if not instance_ram_util: instance_ram_util = instance.memory if not instance_disk_util: instance_disk_util = instance.disk," if not instance_ram_util or not instance_disk_util: LOG.error( 'No values returned by %s for memory.usage ' 'or disk.root.size', instance.uuid) raise exception.NoDataFound",5,5
openstack%2Fhorizon~master~I6ecb7d61095fed863d361390db56f2917de3e084,openstack/horizon,master,I6ecb7d61095fed863d361390db56f2917de3e084,Updated from global requirements,MERGED,2017-04-23 20:43:38.000000000,2017-04-25 00:09:18.000000000,2017-04-25 00:09:18.000000000,"[{'_account_id': 3}, {'_account_id': 5623}]","[{'number': 1, 'created': '2017-04-23 20:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/39b39a6566e67d4a2086618c7d5d884dab3128d9', 'message': 'Updated from global requirements\n\nChange-Id: I6ecb7d61095fed863d361390db56f2917de3e084\n'}, {'number': 2, 'created': '2017-04-24 16:53:26.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b93c58fa3ffb22b9415c3fe855e5d368fd337c6b', 'message': 'Updated from global requirements\n\nChange-Id: I6ecb7d61095fed863d361390db56f2917de3e084\n'}]",0,459130,b93c58fa3ffb22b9415c3fe855e5d368fd337c6b,8,2,2,11131,,,0,"Updated from global requirements

Change-Id: I6ecb7d61095fed863d361390db56f2917de3e084
",git fetch https://review.opendev.org/openstack/horizon refs/changes/30/459130/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,39b39a6566e67d4a2086618c7d5d884dab3128d9,openstack/requirements,"futurist!=0.15.0,>=0.11.0 # Apache-2.0","futurist>=0.11.0,!=0.15.0 # Apache-2.0",1,1
openstack%2Fhorizon~master~I9199d2f5a61925fb86763b0f80152d260906991e,openstack/horizon,master,I9199d2f5a61925fb86763b0f80152d260906991e,Fix regression when identity panel is not registered.,MERGED,2017-04-07 10:56:35.000000000,2017-04-25 00:02:37.000000000,2017-04-25 00:02:37.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 5623}, {'_account_id': 16628}, {'_account_id': 23757}, {'_account_id': 25747}]","[{'number': 1, 'created': '2017-04-07 10:56:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/fb28fe12dd5335bd595e10e9f0a2bd9f049bdfea', 'message': 'Fix regression when identity panel is not registered.\n\nWhen the admin user logs in and the identity dashboard is not\nregistered we should simply get the default dashboard instead.\nThis fixes a regression introduced in I27300e928855ec10ca5d2a623d636e50d756b698\n\nChange-Id: I9199d2f5a61925fb86763b0f80152d260906991e\n'}, {'number': 2, 'created': '2017-04-07 11:17:48.000000000', 'files': ['openstack_dashboard/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/87b2a0544a19e81bd1351fc77d54295132dda8f9', 'message': 'Fix regression when identity panel is not registered.\n\nWhen the admin user logs in and the identity dashboard is not\nregistered we should simply get the default dashboard instead.\nThis fixes a regression introduced in I27300e928855ec10ca5d2a623d636e50d756b698\n\nCloses-Bug: #1680810\nChange-Id: I9199d2f5a61925fb86763b0f80152d260906991e\n'}]",9,454671,87b2a0544a19e81bd1351fc77d54295132dda8f9,19,6,2,14394,,,0,"Fix regression when identity panel is not registered.

When the admin user logs in and the identity dashboard is not
registered we should simply get the default dashboard instead.
This fixes a regression introduced in I27300e928855ec10ca5d2a623d636e50d756b698

Closes-Bug: #1680810
Change-Id: I9199d2f5a61925fb86763b0f80152d260906991e
",git fetch https://review.opendev.org/openstack/horizon refs/changes/71/454671/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/views.py'],1,fb28fe12dd5335bd595e10e9f0a2bd9f049bdfea,bug/1680810, dashboard = None if dashboard is None:, else:,3,1
openstack%2Fshade~master~Id6cf281d9a9e8f891812ad081c32272a3e7f3438,openstack/shade,master,Id6cf281d9a9e8f891812ad081c32272a3e7f3438,Remove neutronclient mocks from subnet tests,MERGED,2017-04-24 21:38:31.000000000,2017-04-25 00:00:25.000000000,2017-04-25 00:00:25.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6488}, {'_account_id': 6554}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-04-24 21:38:31.000000000', 'files': ['shade/tests/unit/test_subnet.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/66e3168f954082173d0bce78df9f2c6bcf1ec29e', 'message': 'Remove neutronclient mocks from subnet tests\n\nNeutronclient mock is replaced by mocking REST calls using\nbase.RequestsMockTestCase class\n\nChange-Id: Id6cf281d9a9e8f891812ad081c32272a3e7f3438\n'}]",0,459457,66e3168f954082173d0bce78df9f2c6bcf1ec29e,6,15,1,11975,,,0,"Remove neutronclient mocks from subnet tests

Neutronclient mock is replaced by mocking REST calls using
base.RequestsMockTestCase class

Change-Id: Id6cf281d9a9e8f891812ad081c32272a3e7f3438
",git fetch https://review.opendev.org/openstack/shade refs/changes/57/459457/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/tests/unit/test_subnet.py'],1,66e3168f954082173d0bce78df9f2c6bcf1ec29e,remove_neutronclient_mocks_from_subnet_tests,"import copy network_name = 'network_name' subnet_name = 'subnet_name' subnet_id = '1f1696eb-7f47-47f6-835c-4889bff88604' subnet_cidr = '192.168.199.0/24' mock_network_rep = { 'id': '881d1bb7-a663-44c0-8f9f-ee2765b74486', 'name': network_name, } mock_subnet_rep = { 'allocation_pools': [{ 'start': u'192.168.199.2', 'end': u'192.168.199.254' }], 'cidr': subnet_cidr, 'created_at': '2017-04-24T20:22:23Z', 'description': '', 'dns_nameservers': [], 'enable_dhcp': False, 'gateway_ip': '192.168.199.1', 'host_routes': [], 'id': subnet_id, 'ip_version': 4, 'ipv6_address_mode': None, 'ipv6_ra_mode': None, 'name': subnet_name, 'network_id': mock_network_rep['id'], 'project_id': '861808a93da0484ea1767967c4df8a23', 'revision_number': 2, 'service_types': [], 'subnetpool_id': None, 'tags': [] } def test_get_subnet(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': [self.mock_subnet_rep]}) ]) r = self.cloud.get_subnet(self.subnet_name) self.assertIsNotNone(r) self.assertDictEqual(self.mock_subnet_rep, r) self.assert_calls() def test_create_subnet(self): mock_subnet_rep = copy.copy(self.mock_subnet_rep) mock_subnet_rep['allocation_pools'] = pool mock_subnet_rep['dns_nameservers'] = dns mock_subnet_rep['host_routes'] = routes self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [self.mock_network_rep]}), dict(method='POST', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnet': mock_subnet_rep}, validate=dict( json={'subnet': { 'cidr': self.subnet_cidr, 'enable_dhcp': False, 'ip_version': 4, 'network_id': self.mock_network_rep['id'], 'allocation_pools': pool, 'dns_nameservers': dns, 'host_routes': routes}})) ]) subnet = self.cloud.create_subnet(self.network_name, self.subnet_cidr, allocation_pools=pool, dns_nameservers=dns, host_routes=routes) self.assertDictEqual(mock_subnet_rep, subnet) self.assert_calls() def test_create_subnet_string_ip_version(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [self.mock_network_rep]}), dict(method='POST', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnet': self.mock_subnet_rep}, validate=dict( json={'subnet': { 'cidr': self.subnet_cidr, 'enable_dhcp': False, 'ip_version': 4, 'network_id': self.mock_network_rep['id']}})) ]) subnet = self.cloud.create_subnet( self.network_name, self.subnet_cidr, ip_version='4') self.assertDictEqual(self.mock_subnet_rep, subnet) self.assert_calls() def test_create_subnet_bad_ip_version(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [self.mock_network_rep]}) ]) self.cloud.create_subnet( self.network_name, self.subnet_cidr, ip_version='4x') self.assert_calls() def test_create_subnet_without_gateway_ip(self): pool = [{'start': '192.168.199.2', 'end': '192.168.199.254'}] mock_subnet_rep = copy.copy(self.mock_subnet_rep) mock_subnet_rep['allocation_pools'] = pool mock_subnet_rep['dns_nameservers'] = dns mock_subnet_rep['gateway_ip'] = None self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [self.mock_network_rep]}), dict(method='POST', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnet': mock_subnet_rep}, validate=dict( json={'subnet': { 'cidr': self.subnet_cidr, 'enable_dhcp': False, 'ip_version': 4, 'network_id': self.mock_network_rep['id'], 'allocation_pools': pool, 'gateway_ip': None, 'dns_nameservers': dns}})) ]) subnet = self.cloud.create_subnet(self.network_name, self.subnet_cidr, allocation_pools=pool, dns_nameservers=dns, disable_gateway_ip=True) self.assertDictEqual(mock_subnet_rep, subnet) self.assert_calls() def test_create_subnet_with_gateway_ip(self): pool = [{'start': '192.168.199.8', 'end': '192.168.199.254'}] gateway = '192.168.199.2' mock_subnet_rep = copy.copy(self.mock_subnet_rep) mock_subnet_rep['allocation_pools'] = pool mock_subnet_rep['dns_nameservers'] = dns mock_subnet_rep['gateway_ip'] = gateway self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [self.mock_network_rep]}), dict(method='POST', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnet': mock_subnet_rep}, validate=dict( json={'subnet': { 'cidr': self.subnet_cidr, 'enable_dhcp': False, 'ip_version': 4, 'network_id': self.mock_network_rep['id'], 'allocation_pools': pool, 'gateway_ip': gateway, 'dns_nameservers': dns}})) ]) subnet = self.cloud.create_subnet(self.network_name, self.subnet_cidr, allocation_pools=pool, dns_nameservers=dns, gateway_ip=gateway) self.assertDictEqual(mock_subnet_rep, subnet) self.assert_calls() def test_create_subnet_conflict_gw_ops(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [self.mock_network_rep]}) ]) self.subnet_cidr, gateway_ip=gateway, self.assert_calls() def test_create_subnet_bad_network(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [self.mock_network_rep]}) ]) 'duck', self.subnet_cidr) self.assert_calls() def test_create_subnet_non_unique_network(self): net1 = dict(id='123', name=self.network_name) net2 = dict(id='456', name=self.network_name) self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [net1, net2]}) ]) self.network_name, self.subnet_cidr) self.assert_calls() def test_delete_subnet(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': [self.mock_subnet_rep]}), dict(method='DELETE', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets', '%s.json' % self.subnet_id]), json={}) ]) self.assertTrue(self.cloud.delete_subnet(self.subnet_name)) self.assert_calls() def test_delete_subnet_not_found(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': []}) ]) self.assertFalse(self.cloud.delete_subnet('goofy')) self.assert_calls() def test_delete_subnet_multiple_found(self): subnet1 = dict(id='123', name=self.subnet_name) subnet2 = dict(id='456', name=self.subnet_name) self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': [subnet1, subnet2]}) ]) self.subnet_name) self.assert_calls() def test_delete_subnet_multiple_using_id(self): subnet1 = dict(id='123', name=self.subnet_name) subnet2 = dict(id='456', name=self.subnet_name) self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': [subnet1, subnet2]}), dict(method='DELETE', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets', '%s.json' % subnet1['id']]), json={}) ]) self.assertTrue(self.cloud.delete_subnet(subnet1['id'])) self.assert_calls() def test_update_subnet(self): expected_subnet = copy.copy(self.mock_subnet_rep) expected_subnet['name'] = 'goofy' self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': [self.mock_subnet_rep]}), dict(method='PUT', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets', '%s.json' % self.subnet_id]), json={'subnet': expected_subnet}, validate=dict( json={'subnet': {'name': 'goofy'}})) ]) subnet = self.cloud.update_subnet(self.subnet_id, subnet_name='goofy') self.assertDictEqual(expected_subnet, subnet) self.assert_calls() def test_update_subnet_gateway_ip(self): expected_subnet = copy.copy(self.mock_subnet_rep) gateway = '192.168.199.3' expected_subnet['gateway_ip'] = gateway self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': [self.mock_subnet_rep]}), dict(method='PUT', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets', '%s.json' % self.subnet_id]), json={'subnet': expected_subnet}, validate=dict( json={'subnet': {'gateway_ip': gateway}})) ]) subnet = self.cloud.update_subnet(self.subnet_id, gateway_ip=gateway) self.assertDictEqual(expected_subnet, subnet) self.assert_calls() def test_update_subnet_disable_gateway_ip(self): expected_subnet = copy.copy(self.mock_subnet_rep) expected_subnet['gateway_ip'] = None self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets.json']), json={'subnets': [self.mock_subnet_rep]}), dict(method='PUT', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'subnets', '%s.json' % self.subnet_id]), json={'subnet': expected_subnet}, validate=dict( json={'subnet': {'gateway_ip': None}})) ]) subnet = self.cloud.update_subnet(self.subnet_id, disable_gateway_ip=True) self.assertDictEqual(expected_subnet, subnet) self.assert_calls() def test_update_subnet_conflict_gw_ops(self): self.subnet_id, gateway_ip=""192.168.199.3"", disable_gateway_ip=True)","import mockimport shade @mock.patch.object(shade.OpenStackCloud, 'search_subnets') def test_get_subnet(self, mock_search): subnet = dict(id='123', name='mickey') mock_search.return_value = [subnet] r = self.cloud.get_subnet('mickey') self.assertIsNotNone(r) self.assertDictEqual(subnet, r) @mock.patch.object(shade.OpenStackCloud, 'search_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet(self, mock_client, mock_search): net1 = dict(id='123', name='donald') mock_search.return_value = [net1] self.cloud.create_subnet('donald', '192.168.199.0/24', allocation_pools=pool, dns_nameservers=dns, host_routes=routes) self.assertTrue(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet_string_ip_version(self, mock_client, mock_search): net1 = dict(id='123', name='donald') mock_search.return_value = [net1] self.cloud.create_subnet('donald', '192.168.199.0/24', ip_version='4') self.assertTrue(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_networks') def test_create_subnet_bad_ip_version(self, mock_search): net1 = dict(id='123', name='donald') mock_search.return_value = [net1] self.cloud.create_subnet('donald', '192.168.199.0/24', ip_version='4x') @mock.patch.object(shade.OpenStackCloud, 'search_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet_without_gateway_ip(self, mock_client, mock_search): net1 = dict(id='123', name='donald') mock_search.return_value = [net1] pool = [{'start': '192.168.200.2', 'end': '192.168.200.254'}] self.cloud.create_subnet('kooky', '192.168.200.0/24', allocation_pools=pool, dns_nameservers=dns, disable_gateway_ip=True) self.assertTrue(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet_with_gateway_ip(self, mock_client, mock_search): net1 = dict(id='123', name='donald') mock_search.return_value = [net1] pool = [{'start': '192.168.200.8', 'end': '192.168.200.254'}] gateway = '192.168.200.2' self.cloud.create_subnet('kooky', '192.168.200.0/24', allocation_pools=pool, dns_nameservers=dns, gateway_ip=gateway) self.assertTrue(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_networks') def test_create_subnet_conflict_gw_ops(self, mock_search): net1 = dict(id='123', name='donald') mock_search.return_value = [net1] '192.168.200.0/24', gateway_ip=gateway, @mock.patch.object(shade.OpenStackCloud, 'list_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet_bad_network(self, mock_client, mock_list): net1 = dict(id='123', name='donald') mock_list.return_value = [net1] 'duck', '192.168.199.0/24') self.assertFalse(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet_non_unique_network(self, mock_client, mock_search): net1 = dict(id='123', name='donald') net2 = dict(id='456', name='donald') mock_search.return_value = [net1, net2] 'donald', '192.168.199.0/24') self.assertFalse(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_subnets') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_subnet(self, mock_client, mock_search): subnet1 = dict(id='123', name='mickey') mock_search.return_value = [subnet1] self.cloud.delete_subnet('mickey') self.assertTrue(mock_client.delete_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_subnets') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_subnet_not_found(self, mock_client, mock_search): mock_search.return_value = [] r = self.cloud.delete_subnet('goofy') self.assertFalse(r) self.assertFalse(mock_client.delete_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_subnet_multiple_found(self, mock_client): subnet1 = dict(id='123', name='mickey') subnet2 = dict(id='456', name='mickey') mock_client.list_subnets.return_value = dict(subnets=[subnet1, subnet2]) 'mickey') self.assertFalse(mock_client.delete_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_subnet_multiple_using_id(self, mock_client): subnet1 = dict(id='123', name='mickey') subnet2 = dict(id='456', name='mickey') mock_client.list_subnets.return_value = dict(subnets=[subnet1, subnet2]) self.cloud.delete_subnet('123') self.assertTrue(mock_client.delete_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'get_subnet') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_update_subnet(self, mock_client, mock_get): subnet1 = dict(id='123', name='mickey') mock_get.return_value = subnet1 self.cloud.update_subnet('123', subnet_name='goofy') self.assertTrue(mock_client.update_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'get_subnet') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_update_subnet_gateway_ip(self, mock_client, mock_get): subnet1 = dict(id='456', name='kooky') mock_get.return_value = subnet1 gateway = '192.168.200.3' self.cloud.update_subnet( '456', gateway_ip=gateway) self.assertTrue(mock_client.update_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'get_subnet') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_update_subnet_disable_gateway_ip(self, mock_client, mock_get): subnet1 = dict(id='456', name='kooky') mock_get.return_value = subnet1 self.cloud.update_subnet( '456', disable_gateway_ip=True) self.assertTrue(mock_client.update_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'get_subnet') def test_update_subnet_conflict_gw_ops(self, mock_get): subnet1 = dict(id='456', name='kooky') mock_get.return_value = subnet1 gateway = '192.168.200.3' '456', gateway_ip=gateway, disable_gateway_ip=True)",312,136
openstack%2Fhorizon~master~I71ae3ed270d9472190430ac5b4a34682ce3b3f29,openstack/horizon,master,I71ae3ed270d9472190430ac5b4a34682ce3b3f29,Support allowed() in workflows.Step,MERGED,2017-04-17 08:23:59.000000000,2017-04-24 23:48:16.000000000,2017-04-24 23:48:16.000000000,"[{'_account_id': 3}, {'_account_id': 5623}, {'_account_id': 11592}, {'_account_id': 12156}, {'_account_id': 16628}, {'_account_id': 17172}]","[{'number': 1, 'created': '2017-04-17 08:23:59.000000000', 'files': ['horizon/test/tests/workflows.py', 'releasenotes/notes/workflow-step-allowed-support-d0a770da1d30efb7.yaml', 'horizon/workflows/base.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fd55569ab0a087e5518e235c770ae86244257baf', 'message': 'Support allowed() in workflows.Step\n\nThere are cases where we want to display workflow Step conditionally.\n\nChange-Id: I71ae3ed270d9472190430ac5b4a34682ce3b3f29\nCloses-Bug: #1683262\n'}]",0,457177,fd55569ab0a087e5518e235c770ae86244257baf,12,6,1,841,,,0,"Support allowed() in workflows.Step

There are cases where we want to display workflow Step conditionally.

Change-Id: I71ae3ed270d9472190430ac5b4a34682ce3b3f29
Closes-Bug: #1683262
",git fetch https://review.opendev.org/openstack/horizon refs/changes/77/457177/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/test/tests/workflows.py', 'releasenotes/notes/workflow-step-allowed-support-d0a770da1d30efb7.yaml', 'horizon/workflows/base.py']",3,fd55569ab0a087e5518e235c770ae86244257baf,bug/1683262," def allowed(self, request): """"""Determines whether or not the step is displayed. Step instances can override this method to specify conditions under which this tab should not be shown at all by returning ``False``. The default behavior is to return ``True`` for all cases. """""" return True policy.check(cls.policy_rules, self.request) and cls.allowed(self.request)):"," policy.check(cls.policy_rules, self.request)):",44,1
openstack%2Fhorizon~master~Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7,openstack/horizon,master,Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7,Hide IPv6 filter choice if enable_ipv6 is set to False,MERGED,2016-06-28 18:25:54.000000000,2017-04-24 23:45:54.000000000,2017-04-24 23:45:53.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 5623}, {'_account_id': 9155}, {'_account_id': 9622}, {'_account_id': 11885}, {'_account_id': 14151}, {'_account_id': 20509}, {'_account_id': 22235}, {'_account_id': 25747}]","[{'number': 1, 'created': '2016-06-28 18:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e27b1f55641d8da7a91598346da9aa80ec228b81', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\nCloses-bug: 1588071\n'}, {'number': 2, 'created': '2016-06-28 19:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6ff5c2def3b618f7e354552642dccf7676ad49e4', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\nCloses-bug: 1588071\n'}, {'number': 3, 'created': '2016-06-29 19:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/58a1471e96c4b49cae1d7be90d379c57222e9454', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 4, 'created': '2016-07-11 17:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a865becec0403e67c85a4b7643225bd7a8606a7b', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 5, 'created': '2016-07-11 17:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/82c71b64a216452b1f80a5287590b60686617a3d', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 6, 'created': '2016-07-29 04:43:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/9c52d4dad3a9f2d08fbac04a8c346a95ae7ea595', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 7, 'created': '2016-08-10 15:46:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1cc971dee61f8f19978555ad3f64159daa4a0323', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 8, 'created': '2016-08-26 17:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6987fa6a1b8c514c6aee349a9623d30f30cd839b', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 9, 'created': '2016-08-26 17:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6c5716f3bdb7be40b84625511175de2d520cec24', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 10, 'created': '2016-08-26 18:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0776588e2fad2f11035a2a7001c2161763aedac2', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 11, 'created': '2016-10-19 15:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6bc185371b5d1896094fb0d9c72a79aee7cd4422', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 12, 'created': '2016-10-31 16:53:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e924773f93b3c2bd615e63f930e519c173d27999', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 13, 'created': '2016-12-07 21:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/97e8837d0f0eca71b6536bd22f7177f848543e86', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: 1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}, {'number': 14, 'created': '2017-04-23 23:24:39.000000000', 'files': ['horizon/tables/actions.py', 'openstack_dashboard/dashboards/project/instances/tables.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ff42a42c3de6ca98484bd430f4639a98a515d211', 'message': 'Hide IPv6 filter choice if enable_ipv6 is set to False\n\nThis patch hides filter choice IPv6 under Project->Instances\nand Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6\nis set to False\n\nCloses-bug: #1588071\nChange-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7\n'}]",9,335159,ff42a42c3de6ca98484bd430f4639a98a515d211,44,10,14,9155,,,0,"Hide IPv6 filter choice if enable_ipv6 is set to False

This patch hides filter choice IPv6 under Project->Instances
and Admin->Instances if OPENSTACK_NEUTRON_NETWORK.enable_ipv6
is set to False

Closes-bug: #1588071
Change-Id: Ibdccb94c2cbc07a8dbbe02f72ca7c8b6a36360f7
",git fetch https://review.opendev.org/openstack/horizon refs/changes/59/335159/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/instances/tables.py'],1,e27b1f55641d8da7a91598346da9aa80ec228b81,bug/1588071,"def is_ipv6_enabled(): return getattr(settings, 'OPENSTACK_NEUTRON_NETWORK', {})\ .get('enable_ipv6', False) ('ip6', _(""IPv6 Address""), is_ipv6_enabled()),"," ('ip6', _(""IPv6 Address""), True),",5,1
openstack%2Fopenstack-ansible-tests~master~Id8c020264e61bd77a04b41957ee1313f693328eb,openstack/openstack-ansible-tests,master,Id8c020264e61bd77a04b41957ee1313f693328eb,test-ansible-env-prep.sh: Do not exit if ZUUL_CHANGE_IDS is empty,MERGED,2017-04-24 22:15:09.000000000,2017-04-24 23:43:30.000000000,2017-04-24 23:43:30.000000000,"[{'_account_id': 3}, {'_account_id': 14805}, {'_account_id': 17799}, {'_account_id': 23163}]","[{'number': 1, 'created': '2017-04-24 22:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/79cb8c4324f7eb8c53af52bb57b307e861fb30c6', 'message': 'test-ansible-env-prep.sh: Do not exit if ZUUL_CHANGE_IDS is empty\n\nCommit cf6bea2acc06 (""Enable cross-repo testing for OSA role tests"")\nadded the ability to test patchsets along with their dependencies.\nHowever, this breaks regular testing since the \'grep ^ZUUL\' will return\nfalse in case we are not in an zuul environment. As such, fix this\ncommand to always return true.\n\nChange-Id: Id8c020264e61bd77a04b41957ee1313f693328eb\nFixes: cf6bea2acc06 (""Enable cross-repo testing for OSA role tests"")\n'}, {'number': 2, 'created': '2017-04-24 22:20:05.000000000', 'files': ['test-ansible-env-prep.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/a6c205c986259635a72c490abdac72b8eab829b3', 'message': 'test-ansible-env-prep.sh: Do not exit if ZUUL_CHANGE_IDS is empty\n\nCommit cf6bea2acc06 (""Enable cross-repo testing for OSA role tests"")\nadded the ability to test patchsets along with their dependencies.\nHowever, this breaks regular testing since the \'grep ^ZUUL\' will return\nfalse in case we are not in an zuul environment. As such, fix this\ncommand to always return true.\n\nFixes: cf6bea2acc06 (""Enable cross-repo testing for OSA role tests"")\nChange-Id: Id8c020264e61bd77a04b41957ee1313f693328eb\n'}]",2,459461,a6c205c986259635a72c490abdac72b8eab829b3,10,4,2,23163,,,0,"test-ansible-env-prep.sh: Do not exit if ZUUL_CHANGE_IDS is empty

Commit cf6bea2acc06 (""Enable cross-repo testing for OSA role tests"")
added the ability to test patchsets along with their dependencies.
However, this breaks regular testing since the 'grep ^ZUUL' will return
false in case we are not in an zuul environment. As such, fix this
command to always return true.

Fixes: cf6bea2acc06 (""Enable cross-repo testing for OSA role tests"")
Change-Id: Id8c020264e61bd77a04b41957ee1313f693328eb
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/61/459461/1 && git format-patch -1 --stdout FETCH_HEAD,['test-ansible-env-prep.sh'],1,79cb8c4324f7eb8c53af52bb57b307e861fb30c6,fix-exit-code-when-not-zuul, printenv | grep ^ZUUL | cat, printenv | grep ^ZUUL,1,1
openstack%2Fneutron-dynamic-routing~master~Idd8bd702fd649acdb5dfd1d6226c7e1ad001344a,openstack/neutron-dynamic-routing,master,Idd8bd702fd649acdb5dfd1d6226c7e1ad001344a,"Revert ""Enable BGP extension""",MERGED,2017-04-20 07:25:04.000000000,2017-04-24 23:14:25.000000000,2017-04-24 23:14:24.000000000,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 7787}]","[{'number': 1, 'created': '2017-04-20 07:25:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ec52766c7938397340e7bb030b1915861f0cf621', 'message': 'Revert ""Enable BGP extension""\n\nThis reverts commit 5d86e9d1fa9f78356b654c9f4597b4057266bebf.\n\nbecause ""all"" is unlikely appropriate for\nnetworking-foo projects which consume neutron-dynamic-routing.\n\nChange-Id: Idd8bd702fd649acdb5dfd1d6226c7e1ad001344a\n'}, {'number': 2, 'created': '2017-04-24 00:05:21.000000000', 'files': ['devstack/settings'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/6115dd1d8ed5faf4b7dfa85d724b1daaa8f97ebc', 'message': 'Revert ""Enable BGP extension""\n\nThis reverts commit 5d86e9d1fa9f78356b654c9f4597b4057266bebf.\n\nbecause ""all"" is unlikely appropriate for\nnetworking-foo projects which consume neutron-dynamic-routing.\n\nChange-Id: Idd8bd702fd649acdb5dfd1d6226c7e1ad001344a\n'}]",0,458365,6115dd1d8ed5faf4b7dfa85d724b1daaa8f97ebc,14,3,2,6854,,,0,"Revert ""Enable BGP extension""

This reverts commit 5d86e9d1fa9f78356b654c9f4597b4057266bebf.

because ""all"" is unlikely appropriate for
networking-foo projects which consume neutron-dynamic-routing.

Change-Id: Idd8bd702fd649acdb5dfd1d6226c7e1ad001344a
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/65/458365/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/settings'],1,ec52766c7938397340e7bb030b1915861f0cf621,bug/1683580,,# This enables BGP extension NETWORK_API_EXTENSIONS=all ,0,3
openstack%2Fgnocchi~stable%2F3.1~Id3fc343cb1556b94af501344a8b016618cbebce3,openstack/gnocchi,stable/3.1,Id3fc343cb1556b94af501344a8b016618cbebce3,retry to get block on error,MERGED,2017-04-22 17:33:46.000000000,2017-04-24 23:10:33.000000000,2017-04-24 23:10:33.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-04-22 17:33:46.000000000', 'files': ['gnocchi/cli.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/70c226c6c6fff9ecadead48ae681c4e9260ec8ef', 'message': ""retry to get block on error\n\nWhen something wrong occurs in coordinator callback we just print a\nwarning for deployer.But we should also print the root cause and\nretry later to get the correct block_size. Otherwise the worker\nwill never work on its block and an entire will never been processed.\n\nThis change tracks the correctness of the block_size and retries if\nthis one not synced.\n\nThis change can't be backported, because on master this code is gone.\n\nChange-Id: Id3fc343cb1556b94af501344a8b016618cbebce3\n""}]",0,459064,70c226c6c6fff9ecadead48ae681c4e9260ec8ef,15,3,1,2813,,,0,"retry to get block on error

When something wrong occurs in coordinator callback we just print a
warning for deployer.But we should also print the root cause and
retry later to get the correct block_size. Otherwise the worker
will never work on its block and an entire will never been processed.

This change tracks the correctness of the block_size and retries if
this one not synced.

This change can't be backported, because on master this code is gone.

Change-Id: Id3fc343cb1556b94af501344a8b016618cbebce3
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/64/459064/1 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/cli.py'],1,70c226c6c6fff9ecadead48ae681c4e9260ec8ef,sileht/shallowed-exc-ocata," self.block_synced = False self.block_synced = False self.block_synced = True LOG.error('Error getting block to work on (%s), ' 'defaulting to first', exc_info=True) done = self._coord.run_watchers() if not done and not self.block_synced: self.set_block(None)"," LOG.warning('Error getting block to work on, defaulting to first') self._coord.run_watchers()",8,2
openstack%2Fneutron-lbaas~master~Ide09c95bfddc7603b5fa47f0df97c5222a30a824,openstack/neutron-lbaas,master,Ide09c95bfddc7603b5fa47f0df97c5222a30a824,Fix py3x errors in tempest testing,MERGED,2017-04-12 23:29:29.000000000,2017-04-24 23:07:19.000000000,2017-04-17 08:14:46.000000000,"[{'_account_id': 3}, {'_account_id': 7787}, {'_account_id': 9008}, {'_account_id': 10850}, {'_account_id': 12040}, {'_account_id': 23619}]","[{'number': 1, 'created': '2017-04-12 23:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/30e687178e1118270a85418f636901007132721c', 'message': 'Fix py3x errors in tempest testing\n\nChange-Id: Ide09c95bfddc7603b5fa47f0df97c5222a30a824\n'}, {'number': 2, 'created': '2017-04-13 00:30:44.000000000', 'files': ['neutron_lbaas/tests/tempest/v2/scenario/test_session_persistence.py', 'neutron_lbaas/tests/tempest/v2/scenario/test_load_balancer_basic.py', 'neutron_lbaas/tests/tempest/v2/scenario/test_shared_pools.py', 'neutron_lbaas/tests/tempest/v2/scenario/test_listener_basic.py', 'neutron_lbaas/tests/tempest/v2/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/7ad2506b8602684e82edb5c807401e043d68fc14', 'message': 'Fix py3x errors in tempest testing\n\nChange-Id: Ide09c95bfddc7603b5fa47f0df97c5222a30a824\n'}]",1,456411,7ad2506b8602684e82edb5c807401e043d68fc14,14,6,2,10273,,,0,"Fix py3x errors in tempest testing

Change-Id: Ide09c95bfddc7603b5fa47f0df97c5222a30a824
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/11/456411/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/tempest/v2/scenario/test_session_persistence.py', 'neutron_lbaas/tests/tempest/v2/scenario/test_load_balancer_basic.py', 'neutron_lbaas/tests/tempest/v2/scenario/test_shared_pools.py', 'neutron_lbaas/tests/tempest/v2/scenario/test_listener_basic.py', 'neutron_lbaas/tests/tempest/v2/scenario/base.py']",5,30e687178e1118270a85418f636901007132721c,," self.server = self._create_server(name=(u""server%s"" % (count + 1)))"," self.server = self._create_server(name=(""server%s"" % (count + 1)))",5,5
openstack%2Fnova~master~I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0,openstack/nova,master,I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0,Sort CellMappingList.get_all() for safety,MERGED,2017-03-08 15:22:51.000000000,2017-04-24 23:07:02.000000000,2017-04-24 21:44:51.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-03-08 15:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed34beb355b91487e8477ea3ab09a8f83700b993', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 2, 'created': '2017-03-08 15:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/94314b20c758c2f821cc4aa9299cc545ccb3f13a', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 3, 'created': '2017-03-08 19:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2e25d821549d1f287269946e5958dc37e08cf273', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 4, 'created': '2017-03-08 20:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/595288818b8948f442eb383886343e7e9ac24da0', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 5, 'created': '2017-03-09 23:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1098271e56e5cdc400a11bb682441b0da35adcc3', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 6, 'created': '2017-03-10 03:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1b2d929aed87f34ddeaddf7a09c4f8dbfc05ad37', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 7, 'created': '2017-03-10 19:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a0a5f980d37645ba768960b85a50e313b906d68a', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 8, 'created': '2017-03-13 18:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7af1faeeca20030b5cb0e6f2136031fe17772b1a', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 9, 'created': '2017-03-15 00:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d3df5866aec70986e955a30fa6abb137ece32156', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 10, 'created': '2017-03-16 19:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05b025c6de7cae08f8b07e75d92ee468b440d70c', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 11, 'created': '2017-03-23 16:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/80c24f9549f25f701f37467d9c9d058486f1f04b', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 12, 'created': '2017-03-27 20:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/99f0dcb1f226851525d1ef52c53dee1ffe95ab5f', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 13, 'created': '2017-03-29 16:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d496672da3f8ce80c5e40a0fcb5b1785e63b862d', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 14, 'created': '2017-03-30 20:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c01ea78b81c529fcce882f18993b06d003899a4', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 15, 'created': '2017-04-05 22:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c89af44a85b45c5c28c58c309af0d117d7c90b59', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 16, 'created': '2017-04-06 16:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46242071627f348943bbe63a8b2a97dc4d74f567', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 17, 'created': '2017-04-06 17:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4adad01b6e72fe30221a9b6a63fc51b6766d050', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 18, 'created': '2017-04-06 18:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/207d43da4af6209d32a4159c4399b278fe2192e7', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 19, 'created': '2017-04-12 16:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3f42f55911f783530a7d5d7691db2a8643ca9507', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 20, 'created': '2017-04-17 19:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b433cdd78a61e7c48f25cf166028f7841b3f3bc7', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 21, 'created': '2017-04-18 18:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb44ec2faf26c94b8b1a03631fc1f7df254fbd3d', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 22, 'created': '2017-04-19 16:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d1aa3ca3d17a5d153f97f41e0756ee8e0b59ae1', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 23, 'created': '2017-04-20 16:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e239e402dac1baeab76f58b32587422de88839b1', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}, {'number': 24, 'created': '2017-04-24 18:35:26.000000000', 'files': ['nova/objects/cell_mapping.py', 'nova/tests/unit/objects/test_cell_mapping.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/32ecd3b50aed66b952cb73ef7cab7b999381ef18', 'message': 'Sort CellMappingList.get_all() for safety\n\nThe result of this method should be stable in database order, but since\nwe depend on it for some pagination, this patch sorts the results by\nthe most efficient thing we have to be sure.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0\n'}]",0,443174,32ecd3b50aed66b952cb73ef7cab7b999381ef18,306,24,24,4393,,,0,"Sort CellMappingList.get_all() for safety

The result of this method should be stable in database order, but since
we depend on it for some pagination, this patch sorts the results by
the most efficient thing we have to be sure.

Related to blueprint cells-aware-api

Change-Id: I81fb8a2a342ad54adc386c02a5fe4a90800fcbb0
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/443174/24 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/cell_mapping.py', 'nova/tests/unit/objects/test_cell_mapping.py']",2,ed34beb355b91487e8477ea3ab09a8f83700b993,multi-cell-testing,"from nova.tests import uuidsentinel as uuids def test_get_all_sorted(self): for ident in (10, 3): cm = objects.CellMapping(context=self.context, id=ident, uuid=getattr(uuids, 'cell%i' % ident), transport_url='fake://%i' % ident, database_connection='fake://%i' % ident) cm.create() obj = objects.CellMappingList.get_all(self.context) ids = [cm.id for cm in obj] # Find the two normal cells, plus the two we created, but in the right # order self.assertEqual([1, 2, 3, 10], ids) ",,19,1
openstack%2Fmonasca-ceilometer~master~I8d7f5e1b87a1de6078b4d397e96dab624fde42bb,openstack/monasca-ceilometer,master,I8d7f5e1b87a1de6078b4d397e96dab624fde42bb,Support jsonpath definitions in monasca_field_definitions.yaml,MERGED,2017-04-06 00:52:44.000000000,2017-04-24 22:56:59.000000000,2017-04-24 22:56:59.000000000,"[{'_account_id': 3}, {'_account_id': 7052}, {'_account_id': 10311}, {'_account_id': 11580}, {'_account_id': 12637}, {'_account_id': 16168}]","[{'number': 1, 'created': '2017-04-06 00:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/55409cf1cf713041b34f5d96a3f756f04cb1e596', 'message': 'Support jsonpath definitions in monasca_field_definitions.yaml\n\nTo enhance flexibility when mapping a ceilometer sample to the\nmonasca fields, add support for jsonpath parsing of metadata.\nFor example, the cinder samples have metadata stored in lists,\nwhich the current parsing (including . notation) cannot handle.\nSimilar requests have been made in the past, and this should\ngive enough power to meet most requests.\n\nSee https://storyboard.openstack.org/#!/story/2000954\n\nChange-Id: I8d7f5e1b87a1de6078b4d397e96dab624fde42bb\n'}, {'number': 2, 'created': '2017-04-06 04:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/5963db2ba57de515136fd98ca5c30df688ad3c48', 'message': 'Support jsonpath definitions in monasca_field_definitions.yaml\n\nTo enhance flexibility when mapping a ceilometer sample to the\nmonasca fields, add support for jsonpath parsing of metadata.\nFor example, the cinder samples have metadata stored in lists,\nwhich the current parsing (including . notation) cannot handle.\nSimilar requests have been made in the past, and this should\ngive enough power to meet most requests.\n\nSee https://storyboard.openstack.org/#!/story/2000954\n\nChange-Id: I8d7f5e1b87a1de6078b4d397e96dab624fde42bb\n'}, {'number': 3, 'created': '2017-04-07 20:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/3b89df68abdca67dccb2a8fe6c46e2b746ad268b', 'message': 'Support jsonpath definitions in monasca_field_definitions.yaml\n\nTo enhance flexibility when mapping a ceilometer sample to the\nmonasca fields, add support for jsonpath parsing of metadata.\nFor example, the cinder samples have metadata stored in lists,\nwhich the current parsing (including . notation) cannot handle.\nSimilar requests have been made in the past, and this should\ngive enough power to meet most requests.\n\nSee https://storyboard.openstack.org/#!/story/2000954\n\nChange-Id: I8d7f5e1b87a1de6078b4d397e96dab624fde42bb\n'}, {'number': 4, 'created': '2017-04-13 06:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/1844e5cf45657c634a11c55115cb64ce2254fd1e', 'message': 'Support jsonpath definitions in monasca_field_definitions.yaml\n\nTo enhance flexibility when mapping a ceilometer sample to the\nmonasca fields, add support for jsonpath parsing of metadata.\nFor example, the cinder samples have metadata stored in lists,\nwhich the current parsing (including . notation) cannot handle.\nSimilar requests have been made in the past, and this should\ngive enough power to meet most requests.\n\nFor a jsonpath that does not resolve to a simple leaf (string\nvalue), a CeiloscaMappingDefinitionException is raised.\n\nSee https://storyboard.openstack.org/#!/story/2000954\n\nChange-Id: I8d7f5e1b87a1de6078b4d397e96dab624fde42bb\n'}, {'number': 5, 'created': '2017-04-13 17:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/4d0e8380bef86499be80e327efc98c84e9be2e82', 'message': 'Support jsonpath definitions in monasca_field_definitions.yaml\n\nTo enhance flexibility when mapping a ceilometer sample to the\nmonasca fields, add support for jsonpath parsing of metadata.\nFor example, the cinder samples have metadata stored in lists,\nwhich the current parsing (including . notation) cannot handle.\nSimilar requests have been made in the past, and this should\ngive enough power to meet most requests.\n\nFor a jsonpath that does not resolve to a simple leaf (string\nvalue), a CeiloscaMappingDefinitionException is raised.\n\nSee https://storyboard.openstack.org/#!/story/2000954\n\nChange-Id: I8d7f5e1b87a1de6078b4d397e96dab624fde42bb\n'}, {'number': 6, 'created': '2017-04-13 18:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/29f77596bba2fed905eab86eed73ec0ce182f555', 'message': 'Support jsonpath definitions in monasca_field_definitions.yaml\n\nTo enhance flexibility when mapping a ceilometer sample to the\nmonasca fields, add support for jsonpath parsing of metadata.\nFor example, the cinder samples have metadata stored in lists,\nwhich the current parsing (including . notation) cannot handle.\nSimilar requests have been made in the past, and this should\ngive enough power to meet most requests.\n\nFor a jsonpath that does not resolve to a simple leaf (string\nvalue), a CeiloscaMappingDefinitionException is raised.\n\nSee https://storyboard.openstack.org/#!/story/2000954\n\nChange-Id: I8d7f5e1b87a1de6078b4d397e96dab624fde42bb\n'}, {'number': 7, 'created': '2017-04-13 18:53:26.000000000', 'files': ['ceilosca/ceilometer/publisher/monasca_data_filter.py', 'ceilosca/ceilometer/tests/unit/publisher/test_monasca_data_filter.py'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/46e76a488a579c506aa158005bee9339f4535351', 'message': 'Support jsonpath definitions in monasca_field_definitions.yaml\n\nTo enhance flexibility when mapping a ceilometer sample to the\nmonasca fields, add support for jsonpath parsing of metadata.\nFor example, the cinder samples have metadata stored in lists,\nwhich the current parsing (including . notation) cannot handle.\nSimilar requests have been made in the past, and this should\ngive enough power to meet most requests.\n\nFor a jsonpath that does not resolve to a simple leaf (string\nvalue), a CeiloscaMappingDefinitionException is raised.\n\nSee https://storyboard.openstack.org/#!/story/2000954\n\nChange-Id: I8d7f5e1b87a1de6078b4d397e96dab624fde42bb\n'}]",0,453937,46e76a488a579c506aa158005bee9339f4535351,29,6,7,10311,,,0,"Support jsonpath definitions in monasca_field_definitions.yaml

To enhance flexibility when mapping a ceilometer sample to the
monasca fields, add support for jsonpath parsing of metadata.
For example, the cinder samples have metadata stored in lists,
which the current parsing (including . notation) cannot handle.
Similar requests have been made in the past, and this should
give enough power to meet most requests.

For a jsonpath that does not resolve to a simple leaf (string
value), a CeiloscaMappingDefinitionException is raised.

See https://storyboard.openstack.org/#!/story/2000954

Change-Id: I8d7f5e1b87a1de6078b4d397e96dab624fde42bb
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/37/453937/6 && git format-patch -1 --stdout FETCH_HEAD,"['etc/ceilometer/monasca_field_definitions.yaml', 'ceilosca/ceilometer/publisher/monasca_data_filter.py', 'ceilosca/ceilometer/tests/unit/publisher/test_monasca_data_filter.py']",3,55409cf1cf713041b34f5d96a3f756f04cb1e596,support-jsonpath-field-def," self._field_mappings_cinder = { 'dimensions': ['resource_id', 'project_id', 'user_id', 'geolocation', 'region', 'source', 'availability_zone'], 'metadata': { 'common': ['event_type', 'audit_period_beginning', 'audit_period_ending', 'arbitrary_new_field'], 'volume.create.end': ['size', 'status', {'metering.prn_name': ""$.metadata[?(@.key = 'metering.prn_name')].value""}, # new {'metering.prn_type': ""$.metadata[?(@.key = 'metering.prn_type')].value""}, # new 'volume_type', 'created_at', 'host'], 'volume': ['status'], 'volume.size': ['status'], } } def test_process_sample_metadata_with_jsonpath(self): """""" Test meter sample in a format produced by cinder. """""" s = sample.Sample( name='volume.create.end', type=sample.TYPE_CUMULATIVE, unit='', volume=1, user_id='test', project_id='test', resource_id='test_run_tasks', source='', timestamp=datetime.datetime.utcnow().isoformat(), resource_metadata={'event_type': 'volume.create.end', 'status': 'available', 'volume_type': None, # 'created_at': '2017-03-21T21:05:44+00:00', 'host': 'testhost', # this ""value: , key: "" format is how cinder reports metadata 'metadata': [{'value': 'aaa0001', 'key': 'metering.prn_name'}, {'value': 'Cust001', 'key': 'metering.prn_type'}], 'size': 0}, ) to_patch = (""ceilometer.publisher.monasca_data_filter."" ""MonascaDataFilter._get_mapping"") # use the cinder specific mapping with mock.patch(to_patch, side_effect=[self._field_mappings_cinder]): data_filter = mdf.MonascaDataFilter() r = data_filter.process_sample_for_monasca(s) self.assertEqual(s.name, r['name']) self.assertIsNotNone(r.get('value_meta')) # too simplistic #self.assertTrue(set(self.convert_dict_to_list(s.resource_metadata). # items()).issubset(set(r['value_meta'].items()))) print(r) self.assertEqual(r.get('value_meta')['event_type'], s.resource_metadata.get('event_type'), ""Failed to match common element."") self.assertEqual(r.get('value_meta')['host'], s.resource_metadata.get('host'), ""Failed to match meter specific element."") self.assertEqual(r.get('value_meta')['size'], s.resource_metadata.get('size'), ""Unable to handle an int."") self.assertEqual(r.get('value_meta')['metering.prn_name'], 'aaa0001', ""Failed to extract a value using specified jsonpath."") def test_process_sample_metadata_with_jsonpath_nomatch(self): """""" Test meter sample in a format produced by cinder. Behavior when no matching element is found for the specified jsonpath """""" s = sample.Sample( name='volume.create.end', type=sample.TYPE_CUMULATIVE, unit='', volume=1, user_id='test', project_id='test', resource_id='test_run_tasks', source='', timestamp=datetime.datetime.utcnow().isoformat(), resource_metadata={'event_type': 'volume.create.end', 'status': 'available', 'volume_type': None, # 'created_at': '2017-03-21T21:05:44+00:00', 'host': 'testhost', 'metadata': [{'value': 'aaa0001', 'key': 'metering.THISWONTMATCH'}], 'size': 0}, ) to_patch = (""ceilometer.publisher.monasca_data_filter."" ""MonascaDataFilter._get_mapping"") # use the cinder specific mapping with mock.patch(to_patch, side_effect=[self._field_mappings_cinder]): data_filter = mdf.MonascaDataFilter() r = data_filter.process_sample_for_monasca(s) self.assertEqual(s.name, r['name']) self.assertIsNotNone(r.get('value_meta')) # too simplistic #self.assertTrue(set(self.convert_dict_to_list(s.resource_metadata). # items()).issubset(set(r['value_meta'].items()))) print(r) self.assertEqual(r.get('value_meta')['event_type'], s.resource_metadata.get('event_type'), ""Failed to match common element."") self.assertEqual(r.get('value_meta')['host'], s.resource_metadata.get('host'), ""Failed to match meter specific element."") self.assertEqual(r.get('value_meta')['size'], s.resource_metadata.get('size'), ""Unable to handle an int."") self.assertEqual(r.get('value_meta')['metering.prn_name'], 'None', ""This metadata should not match and then return 'None'."")",,193,27
openstack%2Fnova~master~I22e1a0736a269d89b55b71c2413fa763d5f1fd0c,openstack/nova,master,I22e1a0736a269d89b55b71c2413fa763d5f1fd0c,Add workaround to disable group policy check upcall,MERGED,2017-03-07 19:28:29.000000000,2017-04-24 22:54:19.000000000,2017-04-24 21:44:23.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 20040}, {'_account_id': 21784}]","[{'number': 1, 'created': '2017-03-07 19:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96c19cc04d649a138c032f0e44316870658800b8', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 2, 'created': '2017-03-07 19:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ce81712203bdb086dbe5e5d6c0873abb6e5f7cac', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 3, 'created': '2017-03-07 21:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/09f13d1ff24d83441c3c5e2e119d833864d76617', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 4, 'created': '2017-03-07 23:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/911022db774b38503d9a0e742bf77447056f5bee', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 5, 'created': '2017-03-08 00:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9c69e096334037711e385890fa4e28bc3aa3b346', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 6, 'created': '2017-03-08 19:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d8795fa735ad30358f00356e7a30b0b1ae584ef8', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 7, 'created': '2017-03-08 20:04:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d5d6dcfb0819081e20aea0344749c85364e158bc', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 8, 'created': '2017-03-09 23:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f71d7c3c3ab38a621e6ab4f3b51f7aa56ea004fc', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 9, 'created': '2017-03-10 03:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dce75d230714d2954c9690186ae608e33c38c8be', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 10, 'created': '2017-03-10 19:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/32da938dd1e833e8e771173d3cc4c6181edbd139', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 11, 'created': '2017-03-13 18:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79318dc0de0dd3eadb3b708213cc4f8fde167453', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 12, 'created': '2017-03-15 00:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9917486141aa25f692c2a62b22cc4e51667e60cf', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 13, 'created': '2017-03-16 19:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/297e0bbc0c5b055f53a16e2f0e5b76b47ee24bf4', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 14, 'created': '2017-03-23 16:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c4674e2a6eee74e1d2908082b8ea83518f5f9d5', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 15, 'created': '2017-03-27 20:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e9a6a4024ee7a926e5aeed98e0a340bea258f68', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 16, 'created': '2017-03-29 16:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/981caac7ac2478173cf97ea6382af66f39273efc', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 17, 'created': '2017-03-30 20:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5549610efe0e3fc3e127e8b72b3ac6de20dfa867', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 18, 'created': '2017-04-05 22:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6ae0cba685570a0d49d385a66340e2c47e4d2a4d', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 19, 'created': '2017-04-06 16:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1f1de0bf3967d4a292759cea6b02301e4aaab8fe', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 20, 'created': '2017-04-06 17:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/869f7c55bd535caa79ce90fe6550f253aef53b41', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 21, 'created': '2017-04-06 18:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e39aa0dde19309965ad1443702047b81a05826', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 22, 'created': '2017-04-12 16:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8a519b3aa5c7c523639e714e4245d34483a0efe8', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 23, 'created': '2017-04-17 19:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4445bbb70f622802587de1ad18942be311d20677', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 24, 'created': '2017-04-18 18:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17f2acc7322655e728e7c55a77b0e9b65820d90f', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 25, 'created': '2017-04-19 16:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7eea533c3dd60e1b15f766b272f4a64e0832e36', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 26, 'created': '2017-04-20 16:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7af5686930352fd0c75b20a6cff4c11c3560b067', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}, {'number': 27, 'created': '2017-04-24 18:35:26.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/scheduler-upcalls-with-isolated-cells-0100eb5d1f212210.yaml', 'nova/conf/scheduler.py', 'nova/compute/manager.py', 'nova/conf/workarounds.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ef1c539ad1f4b94b077f606502c8c53daf6620d2', 'message': ""Add workaround to disable group policy check upcall\n\nRight now, the compute node is responsible for validating that the scheduler\nhonored the affinity policy of a server group. It does this by listing all\nthe instances in a server group and validating that affinity or anti-affinity\nwas kept true. With cellsv2, this check requires an upcall to the API\ndatabase as server groups are stored there. This violates our goal of not\nallowing any upcalls to be congruent with known restrictions that actual\ncells(v1) deployers require.\n\nThis adds a workaround flag, disabled by default, which defeats this check\nin the compute node. For smaller deployments, isolation of the cell and api\nservices is not as big of a deal, so by default, this check will continue\nto work as it does today. Larger deployments which care more about the\nisolation than they do the absolute affinity guarantees can enable this\nworkaround to avoid the upcall check. A user can still detect a violation of\ntheir affinity request by examining the obscured host identifier.\n\nLonger-term, this problem goes away when we're doing claims in the scheduler\nand placement has a notion of affinity that it can enforce early in the\nboot process, eliminating the race and the need for this check entirely.\n\nRelated to blueprint cells-aware-api\n\nChange-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c\n""}]",5,442736,ef1c539ad1f4b94b077f606502c8c53daf6620d2,337,22,27,4393,,,0,"Add workaround to disable group policy check upcall

Right now, the compute node is responsible for validating that the scheduler
honored the affinity policy of a server group. It does this by listing all
the instances in a server group and validating that affinity or anti-affinity
was kept true. With cellsv2, this check requires an upcall to the API
database as server groups are stored there. This violates our goal of not
allowing any upcalls to be congruent with known restrictions that actual
cells(v1) deployers require.

This adds a workaround flag, disabled by default, which defeats this check
in the compute node. For smaller deployments, isolation of the cell and api
services is not as big of a deal, so by default, this check will continue
to work as it does today. Larger deployments which care more about the
isolation than they do the absolute affinity guarantees can enable this
workaround to avoid the upcall check. A user can still detect a violation of
their affinity request by examining the obscured host identifier.

Longer-term, this problem goes away when we're doing claims in the scheduler
and placement has a notion of affinity that it can enforce early in the
boot process, eliminating the race and the need for this check entirely.

Related to blueprint cells-aware-api

Change-Id: I22e1a0736a269d89b55b71c2413fa763d5f1fd0c
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/442736/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/conf/workarounds.py']",3,96c19cc04d649a138c032f0e44316870658800b8,multi-cell-testing," cfg.BoolOpt( 'disable_group_policy_check_upcall', default=False, help="""""" Disable the server group policy check upcall in compute. In order to detect races with server group affinity policy, the compute service attempts to validate that the policy was not violated by the scheduler. It does this by making an upcall to the API database to list the instances in the server group for one that it is booting, which violates our api/cell isolation goals. Eventually this will be solved by proper affinity guarantees in the scheduler and placemetn service, but until then, this late check is needed to ensure proper affinity policy. Operators that desire api/cell isolation over this check should enable this flag, which will avoid making that upcall from compute. """"""),",,40,1
openstack%2Fmonasca-ceilometer~master~Ibc9e1baf64658a670bc697d586b3ca34af33fe18,openstack/monasca-ceilometer,master,Ibc9e1baf64658a670bc697d586b3ca34af33fe18,Update ceilosca.sh to Newton vintage,MERGED,2017-04-07 16:48:36.000000000,2017-04-24 22:53:54.000000000,2017-04-24 22:53:54.000000000,"[{'_account_id': 3}, {'_account_id': 7052}, {'_account_id': 10311}, {'_account_id': 11580}, {'_account_id': 12637}, {'_account_id': 16168}]","[{'number': 1, 'created': '2017-04-07 16:48:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/5a3ab66c71885780318a51aeb94f824680b9b0b3', 'message': 'Update ceilosca.sh to Newton vintage\n\nUpdate the included local.conf settings which ceilosca.sh uses\nto configure services.\nUpdate the README.md to reflect ceilosca.sh update\nAdd a workaround to plugin.sh to avoid an issue with auth_url\nand the ceilometer client.\n\nChange-Id: Ibc9e1baf64658a670bc697d586b3ca34af33fe18\n'}, {'number': 2, 'created': '2017-04-11 20:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/41a1075a5fbb6f25f4b88a948588fdbeccd3dcbb', 'message': 'Update ceilosca.sh to Newton vintage\n\nUpdate the included local.conf settings which ceilosca.sh uses\nto configure services.\nUpdate the README.md to reflect ceilosca.sh update\nAdd a workaround to plugin.sh to avoid an issue with auth_url\nand the ceilometer client.\nChange to bento/ubuntu-16.04 Vagrant box.\n\nChange-Id: Ibc9e1baf64658a670bc697d586b3ca34af33fe18\n'}, {'number': 3, 'created': '2017-04-11 23:00:27.000000000', 'files': ['devstack/Vagrantfile', 'devstack/plugin.sh', 'devstack/README.md', 'devstack/ceilosca.sh'], 'web_link': 'https://opendev.org/openstack/monasca-ceilometer/commit/a27baa6411b17c2bbbf05ce9fe002f797ed4da5e', 'message': 'Update ceilosca.sh to Newton vintage\n\nUpdate the included local.conf settings which ceilosca.sh uses\nto configure services.\nUpdate the README.md to reflect ceilosca.sh update\nAdd a workaround to plugin.sh to avoid an issue with auth_url\nand the ceilometer client.\nChange to bento/ubuntu-16.04 Vagrant box.\n\nChange-Id: Ibc9e1baf64658a670bc697d586b3ca34af33fe18\n'}]",0,454798,a27baa6411b17c2bbbf05ce9fe002f797ed4da5e,15,6,3,10311,,,0,"Update ceilosca.sh to Newton vintage

Update the included local.conf settings which ceilosca.sh uses
to configure services.
Update the README.md to reflect ceilosca.sh update
Add a workaround to plugin.sh to avoid an issue with auth_url
and the ceilometer client.
Change to bento/ubuntu-16.04 Vagrant box.

Change-Id: Ibc9e1baf64658a670bc697d586b3ca34af33fe18
",git fetch https://review.opendev.org/openstack/monasca-ceilometer refs/changes/98/454798/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/README.md', 'devstack/ceilosca.sh']",3,5a3ab66c71885780318a51aeb94f824680b9b0b3,devstack-update-b,#Clone devstack and switch to newtongit checkout stable/newton#NOTE: setting other services to versions compatible with newton and later Ceiloscadisable_service monasca-thresh # The following must be disabled as the test does not work at this point # See https://bugs.launchpad.net/monasca/+bug/1636508 disable_service monasca-smoke-testenable_plugin monasca-api https://git.openstack.org/openstack/monasca-api stable/newton enable_plugin ceilometer https://git.openstack.org/openstack/ceilometer stable/newton enable_plugin ceilosca https://github.com/openstack/monasca-ceilometer master # Optional #enable_plugin monasca-transform https://git.openstack.org/openstack/monasca-transform master,#Clone devstack and switch to mitakagit checkout stable/mitakaenable_plugin monasca-api https://git.openstack.org/openstack/monasca-api enable_plugin ceilometer https://git.openstack.org/openstack/ceilometer enable_plugin ceilosca https://github.com/openstack/monasca-ceilometer,26,9
openstack%2Fgnocchi~master~I7c7bb15a0368c59c14926a1eec226682a9d86a93,openstack/gnocchi,master,I7c7bb15a0368c59c14926a1eec226682a9d86a93,ceph: make sure aio_remove operations return,MERGED,2017-03-28 13:35:40.000000000,2017-04-24 22:40:51.000000000,2017-04-24 22:40:51.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-03-28 13:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/8daafb277602d23a4d77365cac945f8d89cf9990', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 2, 'created': '2017-03-28 15:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/f481e785db1a46e21856e9945b38bdb5996ecd05', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 3, 'created': '2017-03-29 15:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/fe12bcbd6c792d5a5487590057cd7bee35cdc4ba', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 4, 'created': '2017-03-30 10:03:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/2706e95c15bbf4019acb3a6c7cf93911768c5352', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 5, 'created': '2017-04-18 08:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/a67dd6422fa83d967b52aedef813ba779a824a3e', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 6, 'created': '2017-04-20 14:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/042f8640ba9d5dc9ab385459914d9580b6741d79', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 7, 'created': '2017-04-20 20:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/0df19297a39378f718771e01266192957a20dde1', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 8, 'created': '2017-04-21 07:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/789e1f4b44b5cef8a0eb04c61b575f40cb307f7c', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 9, 'created': '2017-04-21 10:07:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/27751fc1ad216d09c75f8aabb26f5ee537d600f4', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 10, 'created': '2017-04-22 09:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/73d9e646966ee12742b0a81c91cb75b342788d46', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 11, 'created': '2017-04-22 10:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/8ae2413d04b4158490b6d84d9ed345bae24b4d5f', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 12, 'created': '2017-04-24 07:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/e616dfc42a5972040608a38020d38b2cd330defc', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}, {'number': 13, 'created': '2017-04-24 07:32:40.000000000', 'files': ['gnocchi/storage/ceph.py', 'gnocchi/storage/incoming/ceph.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/a9b4e485eb2b64b6b787809d236cb815941c9ab7', 'message': ""ceph: make sure aio_remove operations return\n\nThere's no guarantee that an aio_remove operation will ever finish if Gnocchi\ncrashes in the middle of an operation. A metric could be entirely expunged from\nthe indexer while some of its measures/archive files would never be deleted,\nleaving stalled files for ever in Ceph.\n\nThis patches makes sure this does not happen by waiting for the aio_remove\noperation to finish before proceeding to any next steps, or by switching to the\nsync remove call.\n\nChange-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93\n""}]",13,450785,a9b4e485eb2b64b6b787809d236cb815941c9ab7,47,4,13,1669,,,0,"ceph: make sure aio_remove operations return

There's no guarantee that an aio_remove operation will ever finish if Gnocchi
crashes in the middle of an operation. A metric could be entirely expunged from
the indexer while some of its measures/archive files would never be deleted,
leaving stalled files for ever in Ceph.

This patches makes sure this does not happen by waiting for the aio_remove
operation to finish before proceeding to any next steps, or by switching to the
sync remove call.

Change-Id: I7c7bb15a0368c59c14926a1eec226682a9d86a93
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/85/450785/6 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/storage/ceph.py', 'gnocchi/storage/incoming/ceph.py']",2,8daafb277602d23a4d77365cac945f8d89cf9990,jd/ceph-aio, self.ioctx.remove(object_name) self.ioctx.remove(object_name), self.ioctx.aio_remove(object_name) self.ioctx.aio_remove(object_name),12,8
openstack%2Fmonasca-transform~master~I6d2c46d4ec53475e49f5bff6f2b82dccc0d01bbf,openstack/monasca-transform,master,I6d2c46d4ec53475e49f5bff6f2b82dccc0d01bbf,Monasca Transform devstack rotate spark logs in /var/run/spark,MERGED,2017-04-20 19:54:09.000000000,2017-04-24 22:28:37.000000000,2017-04-24 22:28:37.000000000,"[{'_account_id': 3}, {'_account_id': 10311}]","[{'number': 1, 'created': '2017-04-20 19:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/bcec6ea73f04d48c5db16bc535ad2e22155b0476', 'message': 'Monasca Transform devstack rotate spark logs\nin /var/run/spark\n\nEnable spark configuration to rotate logs\nin /var/run/spark directory and keep minimum\nset of files on devstack environment.\n\nChange-Id: I6d2c46d4ec53475e49f5bff6f2b82dccc0d01bbf\n'}, {'number': 2, 'created': '2017-04-20 19:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/86ddae85c23ea42ee4dc51d8765f0048366104d2', 'message': 'Monasca Transform devstack rotate spark logs\nin /var/run/spark\n\nEnable spark configuration to rotate logs\nin /var/run/spark directory and keep minimum\nset of files on devstack environment.\n\nChange-Id: I6d2c46d4ec53475e49f5bff6f2b82dccc0d01bbf\n'}, {'number': 3, 'created': '2017-04-20 19:57:42.000000000', 'files': ['devstack/files/spark/spark-defaults.conf'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/8feb6db47d9bc6e3524dbc1a142b127d3fac9d5d', 'message': 'Monasca Transform devstack rotate spark logs\nin /var/run/spark\n\nEnable spark configuration to rotate logs\nin /var/run/spark directory and keep minimum\nset of files on devstack environment.\n\nChange-Id: I6d2c46d4ec53475e49f5bff6f2b82dccc0d01bbf\n'}]",0,458639,8feb6db47d9bc6e3524dbc1a142b127d3fac9d5d,8,2,3,11580,,,0,"Monasca Transform devstack rotate spark logs
in /var/run/spark

Enable spark configuration to rotate logs
in /var/run/spark directory and keep minimum
set of files on devstack environment.

Change-Id: I6d2c46d4ec53475e49f5bff6f2b82dccc0d01bbf
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/39/458639/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/files/spark/spark-defaults.conf'],1,bcec6ea73f04d48c5db16bc535ad2e22155b0476,spark-rotate-run-logs,spark.driver.extraClassPath /opt/spark/current/lib/drizzle-jdbc-2.3.jarspark.executor.logs.rolling.maxRetainedFiles 6 spark.executor.logs.rolling.strategy time spark.executor.logs.rolling.time.interval hourly ,spark.driver.extraClassPath /opt/spark/current/lib/drizzle-jdbc-1.3.jar,4,1
openstack%2Fmonasca-transform~master~Idab02d555eed192d8242c870017955b935532c3d,openstack/monasca-transform,master,Idab02d555eed192d8242c870017955b935532c3d,Enhanced refresh monasca transform script,MERGED,2017-04-19 02:18:46.000000000,2017-04-24 22:25:27.000000000,2017-04-24 22:25:27.000000000,"[{'_account_id': 3}, {'_account_id': 7565}, {'_account_id': 9276}, {'_account_id': 10311}, {'_account_id': 11580}]","[{'number': 1, 'created': '2017-04-19 02:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/56e56c119608ebc45e380285d27057af4769456c', 'message': 'Fix refresh monasca-transform script\n\nChanges to stop and start monasca-transform\nservice running in screen session when\nrefresh_monasca_transform script is run.\n\nChange-Id: Idab02d555eed192d8242c870017955b935532c3d\n'}, {'number': 2, 'created': '2017-04-19 19:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/a1ed39cb087ff624210455aad5645fd7370a386e', 'message': 'Fix refresh monasca transform script\n\nChanges to stop and start monasca-transform\nservice running in screen session when\nrefresh_monasca_transform script is run.\n\nChange-Id: Idab02d555eed192d8242c870017955b935532c3d\n'}, {'number': 3, 'created': '2017-04-19 23:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/659873821c3d5bf2ea0941c492a3e1f1b2c32757', 'message': 'Enhanced refresh monasca transform script\n\nrefresh_monasca_script.sh is useful for\ndevelopment in a devstack environment.\n\nEnhanced the script to\n* start and stop monasca-transform process\n  running in a screen session\n* added more hardening to catch for errors\n  and exit if any command fails.\n* added debugging statements help track\n  down any errors when the script is run.\n\nChange-Id: Idab02d555eed192d8242c870017955b935532c3d\n'}, {'number': 4, 'created': '2017-04-19 23:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/6e243d87b6d4ccbf4a23ea2bb2b3d5a71a4d9210', 'message': 'Enhanced refresh monasca transform script\n\nrefresh_monasca_script.sh is useful for\ndevelopment in a devstack environment.\n\nEnhanced the script to\n* start and stop monasca-transform process\n  running in a screen session\n* added more hardening to catch for errors\n  and exit if any command fails.\n* added debugging statements help track\n  down any errors when the script is run.\n\nChange-Id: Idab02d555eed192d8242c870017955b935532c3d\n'}, {'number': 5, 'created': '2017-04-20 00:17:07.000000000', 'files': ['tools/vagrant/refresh_monasca_transform.sh', 'scripts/create_zip.sh', 'monasca_transform/service/transform_service.py', 'scripts/generate_ddl.sh', 'devstack/README.md', 'tools/vagrant/setup_local_repos.sh'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/5c15a99a5ccc8aafc3469aa801e399e12cfe74dd', 'message': 'Enhanced refresh monasca transform script\n\nrefresh_monasca_script.sh is useful for\ndevelopment in a devstack environment.\n\nEnhanced the script to\n* start and stop monasca-transform process\n  running in a screen session\n* added more hardening to catch for errors\n  and exit if any command fails.\n* added debugging statements help track\n  down any errors when the script is run.\n\nChange-Id: Idab02d555eed192d8242c870017955b935532c3d\n'}]",0,457839,5c15a99a5ccc8aafc3469aa801e399e12cfe74dd,17,5,5,11580,,,0,"Enhanced refresh monasca transform script

refresh_monasca_script.sh is useful for
development in a devstack environment.

Enhanced the script to
* start and stop monasca-transform process
  running in a screen session
* added more hardening to catch for errors
  and exit if any command fails.
* added debugging statements help track
  down any errors when the script is run.

Change-Id: Idab02d555eed192d8242c870017955b935532c3d
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/39/457839/4 && git format-patch -1 --stdout FETCH_HEAD,"['tools/vagrant/refresh_monasca_transform.sh', 'monasca_transform/service/transform_service.py', 'tools/vagrant/setup_local_repos.sh']",3,56e56c119608ebc45e380285d27057af4769456c,devstack-stop-start,,,33,11
openstack%2Fpuppet-watcher~stable%2Focata~I2d78cde95d6244adfe1fe84af95b516eefa0220f,openstack/puppet-watcher,stable/ocata,I2d78cde95d6244adfe1fe84af95b516eefa0220f,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:46:05.000000000,2017-04-24 22:14:56.000000000,2017-04-24 22:14:56.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:46:05.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/8abefaefeb46fc9135a4dd115e3ecad6c5996a29', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I2d78cde95d6244adfe1fe84af95b516eefa0220f\n'}]",0,459381,8abefaefeb46fc9135a4dd115e3ecad6c5996a29,8,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I2d78cde95d6244adfe1fe84af95b516eefa0220f
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/81/459381/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,8abefaefeb46fc9135a4dd115e3ecad6c5996a29,ocata/gemfile," :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/ocata', :require => false"," :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper', :require => 'false'",3,2
openstack%2Fpuppet-trove~stable%2Focata~I6453ca8862480063e2d5cfea285c2a8a4624987a,openstack/puppet-trove,stable/ocata,I6453ca8862480063e2d5cfea285c2a8a4624987a,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:45:40.000000000,2017-04-24 22:14:50.000000000,2017-04-24 22:14:50.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:45:40.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/31c46d68f4024dccd993bd9e41a9855c66810e08', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I6453ca8862480063e2d5cfea285c2a8a4624987a\n'}]",0,459379,31c46d68f4024dccd993bd9e41a9855c66810e08,8,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I6453ca8862480063e2d5cfea285c2a8a4624987a
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/79/459379/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,31c46d68f4024dccd993bd9e41a9855c66810e08,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpuppet-zaqar~stable%2Focata~I2592d7f76a19cf671ee324f5ad564ef9933f4d82,openstack/puppet-zaqar,stable/ocata,I2592d7f76a19cf671ee324f5ad564ef9933f4d82,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:46:14.000000000,2017-04-24 22:14:44.000000000,2017-04-24 22:14:44.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:46:14.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/a5ab4f95b5a7d0bdaad12f30f0c94d8f2cff2a82', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I2592d7f76a19cf671ee324f5ad564ef9933f4d82\n'}]",0,459382,a5ab4f95b5a7d0bdaad12f30f0c94d8f2cff2a82,7,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I2592d7f76a19cf671ee324f5ad564ef9933f4d82
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/82/459382/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,a5ab4f95b5a7d0bdaad12f30f0c94d8f2cff2a82,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpuppet-aodh~stable%2Focata~Ibc866b29b47c23e2237617efd5ebe035c03b6aae,openstack/puppet-aodh,stable/ocata,Ibc866b29b47c23e2237617efd5ebe035c03b6aae,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:40:44.000000000,2017-04-24 22:14:38.000000000,2017-04-24 22:14:38.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:40:44.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/0350ad3ce00c833bc6e2d46cbf936d0b02800196', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: Ibc866b29b47c23e2237617efd5ebe035c03b6aae\n'}]",0,459349,0350ad3ce00c833bc6e2d46cbf936d0b02800196,9,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: Ibc866b29b47c23e2237617efd5ebe035c03b6aae
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/49/459349/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,0350ad3ce00c833bc6e2d46cbf936d0b02800196,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fneutron-specs~master~Id534acb1593f1fe210c561b1451656dce69514db,openstack/neutron-specs,master,Id534acb1593f1fe210c561b1451656dce69514db,Neutron resource diagnostics,MERGED,2016-04-21 13:08:48.000000000,2017-04-24 22:11:09.000000000,2017-04-24 22:11:09.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7448}, {'_account_id': 7787}, {'_account_id': 8344}, {'_account_id': 8788}, {'_account_id': 8873}, {'_account_id': 11975}, {'_account_id': 14535}, {'_account_id': 14605}, {'_account_id': 15130}, {'_account_id': 15309}, {'_account_id': 17120}, {'_account_id': 19797}, {'_account_id': 20277}]","[{'number': 1, 'created': '2016-04-21 13:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b16ee47a59ae0ac6a97b57d38250353dc9282d5a', 'message': 'Diagnostics of Neutron components\n\nThis specification provides a specification for enhancing Neutron API\nwith diagnostic URLs.\n\nThis specification is here at this time to allow it to be commented on\nin the discussion in 2016 Austin summit.\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\nRelated-Bug: 1507499\nRelated-Bug: 1519537\nRelated-Bug: 1537686\nRelated-Bug: 1563538\n'}, {'number': 2, 'created': '2016-05-06 13:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/94e512c21b2e927aee9ce4cf23780209e90ac0d8', 'message': 'Diagnostics of Neutron components\n\nThis blueprint provides a specification for enhancing Neutron API\nwith diagnostic URLs.\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\nRelated-Bug: 1507499\nRelated-Bug: 1519537\nRelated-Bug: 1537686\nRelated-Bug: 1563538\n'}, {'number': 3, 'created': '2016-05-10 10:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d2b69061e66011617dbdcd560a322f5c682e7b8b', 'message': 'Diagnostics of Neutron components\n\nThis blueprint provides a specification for enhancing Neutron API\nwith diagnostic URLs.\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\nRelated-Bug: 1507499\nRelated-Bug: 1519537\nRelated-Bug: 1537686\nRelated-Bug: 1563538\n'}, {'number': 4, 'created': '2016-05-16 05:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a31b5f3e6fbeb379b6bffaecc4b52beb70d71735', 'message': 'Diagnostics of Neutron components\n\nThis blueprint provides a specification for enhancing Neutron API\nwith diagnostic URLs.\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\nRelated-Bug: 1507499\nRelated-Bug: 1519537\nRelated-Bug: 1537686\nRelated-Bug: 1563538\n'}, {'number': 5, 'created': '2016-06-21 08:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4aeab5d6f89fa2208d7b902c0db5d9fc06ad4935', 'message': 'Diagnostics of Neutron components\n\nThis blueprint provides a specification for enhancing Neutron API\nwith diagnostic URLs.\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\nRelated-Bug: 1507499\nRelated-Bug: 1519537\nRelated-Bug: 1537686\nRelated-Bug: 1563538\n'}, {'number': 6, 'created': '2016-09-07 11:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5a16a3bf9d7021d88398e6cf5d7642f3e76a4f09', 'message': 'Diagnostics of Neutron components\n\nThis blueprint provides a specification for enhancing Neutron API\nwith diagnostic URLs.\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\nRelated-Bug: 1507499\nRelated-Bug: 1519537\nRelated-Bug: 1537686\nRelated-Bug: 1563538\n'}, {'number': 7, 'created': '2016-11-08 18:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8c6e65911368a5b4b6cdf96c50de5dfdbe8cae7c', 'message': ""Neutron resource diagnostics\n\nThis spec introduces the notion of Neutron resource diagnostics\nthat largely follow suit with Nova's approach [1]. Rather than\nattempting to solve all the diagnostics use cases at once, the\nproposed implementation seeks to build-out the initial diagnostic\nplumbing as well as provide an initial reference implementation and\nsuggested re-iterating on diagnostics once this concept has had\nsome time to run in the wild.\n\n[1] https://wiki.openstack.org/wiki/Nova_VM_Diagnostics\n\nRelated-Bug: #1507499\nRelated-Bug: #1519537\nRelated-Bug: #1537686\nRelated-Bug: #1563538\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\n""}, {'number': 8, 'created': '2016-12-13 22:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2f9315bcd954d84e52517b94c76a0a72de48c320', 'message': ""Neutron resource diagnostics\n\nThis spec introduces the notion of Neutron resource diagnostics\nAPI.\n\nI'll fill this out more once we agree on an approach.\n\n[1] https://wiki.openstack.org/wiki/Nova_VM_Diagnostics\n\nRelated-Bug: #1507499\nRelated-Bug: #1519537\nRelated-Bug: #1537686\nRelated-Bug: #1563538\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\n""}, {'number': 9, 'created': '2017-02-15 22:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/075a41b6ead1c5dc60bfb71caa2716599f7cb043', 'message': 'Neutron resource diagnostics\n\nThis spec proposes the introduction of a neutron diagnostics framework\nand API extension capable collecting resource diagnostics across\nneutron API and agent nodes. To keep the spec containable, the proposal\nsuggests only providing a sample diagnostic check and reiterating on\nconcrete diagnostics once we get the plumbing in place.\n\nWhile this spec has some inspiration from nova diagnostics [1],\nthe approach herein is more generic and extensible supporting a\nbroader set of use cases longer term.\n\nFinally it seeks to pave the way for supporting use case / features\nproposed in the related bugs.\n\n[1] https://wiki.openstack.org/wiki/Nova_VM_Diagnostics\n\nRelated-Bug: #1507499\nRelated-Bug: #1519537\nRelated-Bug: #1537686\nRelated-Bug: #1563538\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\n'}, {'number': 10, 'created': '2017-02-15 22:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b0e2aa56f987ae5c3bb481c3ebec81979d0afc7e', 'message': 'Neutron resource diagnostics\n\nThis spec proposes the introduction of a neutron diagnostics framework\nand API extension capable collecting resource diagnostics across\nneutron API and agent nodes. To keep the spec containable, the proposal\nsuggests only providing a sample diagnostic check and reiterating on\nconcrete diagnostics once we get the plumbing in place.\n\nWhile this spec has some inspiration from nova diagnostics [1],\nthe approach herein is more generic and extensible supporting a\nbroader set of use cases longer term.\n\nFinally it seeks to pave the way for supporting use case / features\nproposed in the related bugs.\n\n[1] https://wiki.openstack.org/wiki/Nova_VM_Diagnostics\n\nRelated-Bug: #1507499\nRelated-Bug: #1519537\nRelated-Bug: #1537686\nRelated-Bug: #1563538\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\n'}, {'number': 11, 'created': '2017-02-28 17:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/071c341d13bbca769e5773bb9f2f5dc10e990c36', 'message': 'Neutron resource diagnostics\n\nThis spec proposes the introduction of a neutron diagnostics framework\nand API extension capable collecting resource diagnostics across\nneutron API and agent nodes. To keep the spec containable, the proposal\nsuggests only providing a sample diagnostic check and reiterating on\nconcrete diagnostics once we get the plumbing in place.\n\nWhile this spec has some inspiration from nova diagnostics [1],\nthe approach herein is more generic and extensible supporting a\nbroader set of use cases longer term.\n\nFinally it seeks to pave the way for supporting use case / features\nproposed in the related bugs.\n\n[1] https://wiki.openstack.org/wiki/Nova_VM_Diagnostics\n\nRelated-Bug: #1507499\nRelated-Bug: #1519537\nRelated-Bug: #1537686\nRelated-Bug: #1563538\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\n'}, {'number': 12, 'created': '2017-03-03 21:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d2be0d06744853b7089d7d0402ce2161e22c943f', 'message': 'Neutron resource diagnostics\n\nThis spec proposes the introduction of a neutron diagnostics framework\nand API extension capable collecting resource diagnostics across\nneutron API and agent nodes. To keep the spec containable, the proposal\nsuggests only providing a sample diagnostic check and reiterating on\nconcrete diagnostics once we get the plumbing in place.\n\nWhile this spec has some inspiration from nova diagnostics [1],\nthe approach herein is more generic and extensible supporting a\nbroader set of use cases longer term.\n\nFinally it seeks to pave the way for supporting use case / features\nproposed in the related bugs.\n\n[1] https://wiki.openstack.org/wiki/Nova_VM_Diagnostics\n\nRelated-Bug: #1507499\nRelated-Bug: #1519537\nRelated-Bug: #1537686\nRelated-Bug: #1563538\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\n'}, {'number': 13, 'created': '2017-04-07 16:36:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/399ded5ad83fa02fc71d89442d72c02dccee3073', 'message': 'Neutron resource diagnostics\n\nThis spec proposes the introduction of a neutron diagnostics framework\nand API extension capable collecting resource diagnostics across\nneutron API and agent nodes. To keep the spec containable, the proposal\nsuggests only providing a sample diagnostic check and reiterating on\nconcrete diagnostics once we get the plumbing in place.\n\nWhile this spec has some inspiration from nova diagnostics [1],\nthe approach herein is more generic and extensible supporting a\nbroader set of use cases longer term.\n\nFinally it seeks to pave the way for supporting use case / features\nproposed in the related bugs.\n\n[1] https://wiki.openstack.org/wiki/Nova_VM_Diagnostics\n\nRelated-Bug: #1507499\nRelated-Bug: #1519537\nRelated-Bug: #1537686\nRelated-Bug: #1563538\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\n'}, {'number': 14, 'created': '2017-04-13 21:30:21.000000000', 'files': ['specs/pike/diagnostics.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/dc11da5109759d13636aaaef35420fa4ac1d88d6', 'message': 'Neutron resource diagnostics\n\nThis spec proposes the introduction of a neutron diagnostics framework\nand API extension capable collecting resource diagnostics across\nneutron API and agent nodes. To keep the spec containable, the proposal\nsuggests only providing a sample diagnostic check and reiterating on\nconcrete diagnostics once we get the plumbing in place.\n\nWhile this spec has some inspiration from nova diagnostics [1],\nthe approach herein is more generic and extensible supporting a\nbroader set of use cases longer term.\n\nFinally it seeks to pave the way for supporting use case / features\nproposed in the related bugs.\n\n[1] https://wiki.openstack.org/wiki/Nova_VM_Diagnostics\n\nRelated-Bug: #1507499\nRelated-Bug: #1519537\nRelated-Bug: #1537686\nRelated-Bug: #1563538\n\nChange-Id: Id534acb1593f1fe210c561b1451656dce69514db\n'}]",287,308973,dc11da5109759d13636aaaef35420fa4ac1d88d6,102,18,14,19797,,,0,"Neutron resource diagnostics

This spec proposes the introduction of a neutron diagnostics framework
and API extension capable collecting resource diagnostics across
neutron API and agent nodes. To keep the spec containable, the proposal
suggests only providing a sample diagnostic check and reiterating on
concrete diagnostics once we get the plumbing in place.

While this spec has some inspiration from nova diagnostics [1],
the approach herein is more generic and extensible supporting a
broader set of use cases longer term.

Finally it seeks to pave the way for supporting use case / features
proposed in the related bugs.

[1] https://wiki.openstack.org/wiki/Nova_VM_Diagnostics

Related-Bug: #1507499
Related-Bug: #1519537
Related-Bug: #1537686
Related-Bug: #1563538

Change-Id: Id534acb1593f1fe210c561b1451656dce69514db
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/73/308973/1 && git format-patch -1 --stdout FETCH_HEAD,"['images/diagnostics.png', 'specs/newton/diagnostics.rst']",2,b16ee47a59ae0ac6a97b57d38250353dc9282d5a,bug/1507499,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================== Neutron diagnostics ====================== RFE: https://bugs.launchpad.net/neutron/+bug/1507499 To enable operators to reduce manual work upon experiencing networking issue, and to fast pinpoint the cause of a failure, there is a need for neutron to provide real-time diagnostics of its resources. This way, current need for manual checks, often requiring root access, would be gradually replaced by API queries. Providing diagnostics options in neutron API would also open space for development of specialized tools that would solve particular type of issues, e.g. inability to ping VM’s interface. This blueprint describes generic API for diagnostics of real state of neutron resources. While it provides examples of the actual diagnostic checks to be implemented, it should not be treated as a base that lists all of them. Problem Description =================== One of common questions seen at ask.openstack.org and mailing lists is ""Why cannot I ping my floating IP address?"". Usually, there are common steps in the diagnostics required to answer the question involving determination of relevant namespaces, pinging the instance from that namespaces etc. Currently, these steps need to be performed manually, often by crawling the relevant hosts and running tools that require root access. Neutron currently provides data on how the resources *should* be configured. It however provides only a very little diagnostics information reflecting *actual* resource state. Hence if an issue occurs, user is often left with only a little details of what works and what not, and has to manually crawl affected hosts to troubleshoot the issue. This blueprint describes an extension of current API that exposes diagnostics for neutron resources so that it is accessible via API calls, reducing amount of needed manual work. For the following text, it is necessary to clarify difference of diagnostics and troubleshooting: - *Diagnostics* is a plain description of the current state - *Troubleshooting* is a *process* that uses diagnostic information to find the root cause (and potentially fix it). Troubleshooting relates to a particular types of issues, e.g. ""cannot ping VM's IP"" or ""DHCP address not being allocated"" that can be caused by combination of bad configuration, resource failures etc. Thus it is always complex task. Troubleshooting is out of scope of this blueprint. Sample user story ----------------- The user spawns a virtual machine *X* but cannot ping its floating IP. According to *port-show* command, VM *X* is bound to a port that is assigned both fixed and floating IP address. Suppose now that the step of setting floating IP to the router has failed. Currently, user investigates the cause of the issue by logging to the host where port should have been created, finding out namespace in which the port was created, checking that the port is really there, attempt to ping relevant router, and once they find out this works, they have to log to (potentially different) host where the router resides, and finally find out that there is no interface in the router namespace that has respective floating IP assigned. If API proposed by this blueprint was available, it would be possible to automate some parts of the troubleshooting, namely obtaining the diagnostic information, as illustrated in the Figure 1 below. The user (or a troubleshooting tool) would first determine the setup of the tested part of the network (steps 1.1 - 1.3) and then perform straightforward API calls (steps 2 - 4) to obtain the same result as after execution of the manual steps above. | |image0| | Figure 1: Sample flow of troubleshooting using diagnostics via API calls Proposed Change =============== Changes in Neutron API ---------------------- Existing API (v2) URL structure follows the template /v2/*collection*/*object\_id* (plus allowing for parent objects syntax). We propose enhancing the API with two new subroots: - /v2/*collection*/**health** - for diagnostics of the resource collection - /v2/*collection*/*object\_id*/**health** - for diagnostics of a named resource The sets of diagnostic checks for a collection and for a resource are generally different. The checks is obtained dynamically upon initialization of the newly created diagnostic extension. The implemented checks should only be low-level checks that do not consist of other exposed checks (e.g. ping, is HA router’s keepalived process alive?, is given interface up and running?), and not high-level checks that aggregate results from other checks (e.g. is DHCP working? - that consists of checking DHCP port liveness, checking dnsmasq process etc.). The aggregation of the results belongs to troubleshooting tool that needs to be aware of environment configuration. This reflects the way of troubleshooting similar to what operators do. The requests to **health** are processed as follows: - For the subroot itself (i.e. request to ../\ **health**) +----------+----------------------------------------------------------------------------+ | Method | Description | +==========+============================================================================+ | POST | Executes the named checks (check1, check2, ...), passing in parameters: | | | | | | Request body: | | | | | | | { | | | | ""check1"": { p1: value1, p2: value2, ... }, | | | | ""check2"": { r1: value1, r2: value2, ... }, | | | | ... | | | | } | | | | | | Response: | | | | | | | { | | | | ""check1"": { | | | | ""err\_code"": numeric\_code, | | | | ""status"": text\_status, | | | | ""stdout"": """", | | | | ""stderr"": """", | | | | ""*result\_field\_1*\ "": ""..."", | | | | ""*result\_field\_2*\ "": ""..."", | | | | ... | | | | }, | | | | ""check2"": { ... }, | | | | ... | | | | } | | | | | | The check mandatorily returns only the **err\_code** and | | | **status** fields that describe numeric error code (zero is no error, | | | nonzero is an error code specific to that check) and the text describing | | | corresponding status message (“No error” for no error, error message | | | otherwise). | | | | | | Process-oriented checks may return standard and error | | | outputs in **stdout** and **stderr** fields, respectively. Check can | | | optionally return any further fields depending on its logic. | | | | +----------+----------------------------------------------------------------------------+ If the check does not exist, the server responds with HTTP error 404 (Not Found). If the check cannot be performed due to missing parameters, server responds with HTTP error 400 (Bad Request). If the check cannot be performed due to timeout, server responds with HTTP error 408 (Request timeout) Notes: - Neutron diagnostics HTTP interface is the same for both member and collection URLs. - Collection diagnostic type of URLs allow for checks for nonexistent resources, e.g. a check *orphaned\_dhcp\_namespace* in /v2/subnets/**health**. - Execution of a registered check is always attempted, and if not supported by a backend, an error is returned. - Examples of possible diagnostic checks are at the end of this blueprint. - *Technical note:* It is possible that two different diagnostic checks register themselves for the same name. In that case, an error will be logged and check would not be available. Changes in Neutron CLI ---------------------- Set of neutron CLI commands would be enhanced with a **diagnose** verb per each resource. Depending on presence of resource ID, There will be two modes of operation, reflecting the API calls for collections and resources, respectively: Diagnostics of collections: +------------+-------------------------------------------------------------------+ | Syntax: | *<resource>*\ **-diagnose** <*check*\ > [ --param1 value ... ] | +============+===================================================================+ | Maps to: | POST /v2/<*collection*\ >/\ **health** | +------------+-------------------------------------------------------------------+ | Example: | network-diagnose orphaned-namespaces | +------------+-------------------------------------------------------------------+ Diagnostics of resources: +------------+--------------------------------------------------------------------------------+ | Syntax: | *<resource>*\ **-diagnose --id** <*id*\ > <*check*\ > [ --param1 value ... ] | +============+================================================================================+ | Maps to: | POST /v2/<*collection*\ >/<*id*\ >/\ **health** | +------------+--------------------------------------------------------------------------------+ | Example: | port-diagnose --id *UUID* ping --ip 10.0.0.10 | +------------+--------------------------------------------------------------------------------+ Implementation phases --------------------- There will be three phases in the implementation: 1. *Neutron server-side changes:* introduction of an extension that controls presence of **health** URL part; introduction of the new API controllers for handling **health** subroots; implementation of logic in agents to supply diagnostic information upon request, and an implementation of a **ping** check. 2. *Neutron CLI changes:* enhance CLI with commands to invoke diagnostics API. 3. *Sample troubleshooting tool:* A sample troubleshooting tool will be implemented outside neutron tree to illustrate how to use API to perform a troubleshooting task. This application would be able to use neutron-client module updated for diagnostics from previous step. Future work ----------- The diagnostic extension registers all checks. As such, it would able to return list of all available checks, for sake of e.g. CLI tools autocompletion. Format of a description of a single check may be this: | { | ""check1"": { | ""description"": ""..."", | ""tags"": [""tag1"", ""tag2"", ...], | ""parameters"": [{""name"": ""p1"", ""description"": ""..""}, | {""name"": ""p2"", ""description"": ""..""}], | ""result\_fields"": [{""name"": ""r1"", ""description"": ""..""}, | {""name"": ""r2"", ""description"": ""..""}] | }, | ""check2"": { ... }, | ... | } Response for a check contains check **description**, **tags** of this check, and a list of accepted **parameters** in respective fields. Tags are strings - categories of checks that the troubleshooting tool can use to present certain area of checks to the user, e.g. backend\_resource\_existence - all checks that report existence of subprocesses, ports etc., effectively providing same functionality as *mapping types* from [BR]. If the check returns any nonstandard result fields, they are described in the **result\_fields** output parameter. Comparison with related proposals --------------------------------- There are related proposals, addressing the diagnostics and troubleshooting from different perspectives. To ease consensus, similarities and differences with this blueprint are discussed below. [RFE] Centralized Management System for testing the environment ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The RFE `*[KG]* <https://bugs.launchpad.net/neutron/+bug/1507499>`__ is in accordance with this blueprint with respect to requirement of API changes. It is wider, affecting several components (requesting changes in openstack dashboard) that are out of scope of this RFE. [RFE] - Diagnostics Extension for Neutron ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The RFE `*[RR]* <https://bugs.launchpad.net/neutron/+bug/1519537>`__ proposes changes in API that targets individual agents, hence it is tied with current implementation structure. Further discussion suggests format of /<object>/:id/diagnostics that is consistent with this blueprint. It also still suggests /<object>/:id/diagnostics/<agent>/:id/<verb> format which targets agents. I do not think agents should be targeted directly. If however there is ever such a need, this can be achieved by passing the parameters to the appropriate check. Mapping from this RFE to the current blueprint would then be: +------------------------------------------------+------------------------------------------------------------------------------------+ | RFE | Sample URL as per this blueprint | +================================================+====================================================================================+ | /<object>/:id/diagnostics | POST /v2/<object>/*id*/**health** | +------------------------------------------------+------------------------------------------------------------------------------------+ | /<object>/:id/diagnostics/<agent>/:id/<verb> | POST /v2/<object>/*id*/**health**/<verb> | | | | | | where executed check is given by the <verb> and parameters would contain mapping | | | | | | { agent: "":id"" } | +------------------------------------------------+------------------------------------------------------------------------------------+ Diagnosing Neutron connectivity issues ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The RFE `*[HM]* <https://bugs.launchpad.net/neutron/+bug/1537686>`__ proposes changes in neutron-client for troubleshooting and expects future changes in API/RPC for execution of diagnostic steps in neutron server. It does not specify the changes in API though. [RFE] Admin extension for viewing & remediating neutron/backend resource mappings ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The RFE `*[RB]* <https://bugs.launchpad.net/neutron/+bug/1563538>`__ requests both diagnostics and remediation to be present in neutron server. The interesting point from diagnostics point of view is possibility to check whether existing resources do have their counterpart in expected resources, e.g. revealing accidentally unremoved DHCP namespace. This blueprint places this type of checks that have no defined resource to /v2/*collection*/**health** root. Conceptually, the diagnostic part of `*[RB]* <https://bugs.launchpad.net/neutron/+bug/1563538>`__ can be in context of this blueprint rephrased this way: - A single *resource type* corresponds to a named diagnostic check (not *execution* of that check but the check alone). - This needs a bit of explanation. For example, *agent\_service* in `*[RB]* <https://bugs.launchpad.net/neutron/+bug/1563538>`__ is a resource type that (when given network ID) reports agent status as running / not running for particular network ID. It can be seen as a function behaving this way. In the current PBAM implementation, all dnsmasq processes are inspected and added to a list with net-id being a key. A corresponding diagnostic check is hence a function checking for presence of the dnsmasq process with respective network ID in the list of running dnsmasq processes. - A *mapping resource* corresponds to an execution of a single diagnostic check on a resource (yielding status ""AVAILABLE"", ""UNAVAILABLE""). - A *mapping type* is a named group of resource types, i.e. diagnostic checks that operate upon the same resource (including nonexistent ones to be able to report on orphaned resources). It is similar in function to tags of checks in this blueprint. - A *mapping* is then a result of an execution of checks from the respective mapping type and an aggregator of the results (so that it can report aggregated result ""SYNC"", ""LOST"", ""ORPHANED"") PBAM contains remediation logic that actively changes the state of neutron resources. It might be possible to extend this blueprint in the future with e.g. new HTTP verbs for the health checks that would perform some limited remediation. Sample diagnostic checks ------------------------ This section contains sample URLs that maps a check to an API URL. The sample checks are taken from the related RFEs. Please note that this section is only intended to give a picture on how the various checks from the RFEs might map to the API suggested by this blueprint, so is subject to future discussions and changes. +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | **Check** | **Sample URL** | +============================================================================================================================================================================================================================+==========================================================================+ | Ping | Ping from a particular port and corresponding DHCP / router namespace: | | | | | | /v2/ports/*id*/**health**/ping | | | | | | *Parameters:* { target: ""<ip>"" } | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | arping | /v2/ports/*id*/**health**/arping | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | check whether port is set up in the system | /v2/ports/*id*/**health**/l2\_up | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | stats on qvo,qbr,tap interfaces | /v2/ports/*id*/**health**/statistics | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | check that floating IP is assigned at router | /v2/routers/*id*/**health**/floating\_ip\_assigned | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | check if namespace is configured on L3 agent host | /v2/routers/*id*/**health**/namespace\_defined | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | does the software switch have mac entry for a port | /v2/networks/*id*/**health**/has\_port | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | iptables rules programmed | Rules for particular network: | | | | | *Questionable* | /v2/networks/*id*/**health**/fw\_rules | | | | | | Rules for particular router: | | | | | | /v2/router/*id*/**health**/fw\_rules | | | | | | Rules for particular port: | | | | | | /v2/port/*id*/**health**/fw\_rules | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | dhcp transactions for a port | /v2/networks/*id*/**health**/dhcp\_transactions | | | | | | *Parameters:* { port: ""<id>"" } | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | check DHCP agent service (binary) running on a host | /v2/networks/*id*/**health**/dhcp\_service\_up | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | check existence of neutron port used for DHCP traffic on a DHCP enabled neutron | /v2/networks/*id*/**health**/dhcp\_port\_up | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | check DHCP agent network configuration directory contains addn\_hosts, interface info, etc. | /v2/networks/*id*/**health**/dhcp\_service\_configured | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ | check that there is no namespace that would belong to already-removed DHCP agent resources (a.k.a. *agent\_netnamespace + neutron\_dhcp\_net* check in `*[BR]* <https://github.com/bodenr/neutron/tree/feature/pbam>`__) | /v2/networks/**health**/orphaned\_namespaces | +----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+--------------------------------------------------------------------------+ References ========== [BR] https://bugs.launchpad.net/neutron/+bug/1563538 [HM] https://bugs.launchpad.net/neutron/+bug/1537686 [KG] https://bugs.launchpad.net/neutron/+bug/1507499 [RR] https://bugs.launchpad.net/neutron/+bug/1519537 .. |image0| image:: ../../images/diagnostics.png :scale: 50 % ",,436,0
openstack%2Fopenstack-ansible~stable%2Fnewton~I3c7e9fb01f3c2f927009ef24cbd47c1c7fda7798,openstack/openstack-ansible,stable/newton,I3c7e9fb01f3c2f927009ef24cbd47c1c7fda7798,"Only bind haproxy to internal IP, repo and galera",MERGED,2017-04-21 09:46:04.000000000,2017-04-24 22:07:25.000000000,2017-04-24 22:07:25.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 2245}, {'_account_id': 7353}, {'_account_id': 13095}]","[{'number': 1, 'created': '2017-04-21 09:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a34f9e8097c0f5b65886d15d913ecef267180f2', 'message': 'Only bind haproxy to internal IP, repo and galera\n\n- bind repo and galera to internal ip.\n- disable ssl for repo_all and repo_cache\n\nChange-Id: I3c7e9fb01f3c2f927009ef24cbd47c1c7fda7798\n'}, {'number': 2, 'created': '2017-04-24 13:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b269f5573a6c4a13d838df50979e366e3a5ca68e', 'message': 'Only bind haproxy to internal IP, repo and galera\n\n- bind repo and galera to internal ip.\n- disable ssl for repo_all and repo_cache\n\nChange-Id: I3c7e9fb01f3c2f927009ef24cbd47c1c7fda7798\n(cherry picked from commit 13a8c273643364e0bcbb2112411f9310d849f547)\n'}, {'number': 3, 'created': '2017-04-24 19:44:21.000000000', 'files': ['playbooks/vars/configs/haproxy_config.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ba6ee18960e1d09ef1431431e05882ef023c8dab', 'message': 'Only bind haproxy to internal IP, repo and galera\n\n- bind repo and galera to internal ip.\n- disable ssl for repo_all and repo_cache\n\nChange-Id: I3c7e9fb01f3c2f927009ef24cbd47c1c7fda7798\n(cherry picked from commit 13a8c273643364e0bcbb2112411f9310d849f547)\n'}]",0,458794,ba6ee18960e1d09ef1431431e05882ef023c8dab,13,5,3,2245,,,0,"Only bind haproxy to internal IP, repo and galera

- bind repo and galera to internal ip.
- disable ssl for repo_all and repo_cache

Change-Id: I3c7e9fb01f3c2f927009ef24cbd47c1c7fda7798
(cherry picked from commit 13a8c273643364e0bcbb2112411f9310d849f547)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/458794/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/vars/configs/haproxy_config.yml'],1,8a34f9e8097c0f5b65886d15d913ecef267180f2,internal-service-bind," haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"" haproxy_bind: ""{{ [internal_lb_vip_address] }}"""," haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl: ""{{ haproxy_ssl }}"" haproxy_ssl: ""{{ haproxy_ssl }}""",4,3
openstack%2Frequirements~master~I42a8fc1c8a2af89d493546f3a21cb909cf12ec30,openstack/requirements,master,I42a8fc1c8a2af89d493546f3a21cb909cf12ec30,update constraint for tripleo-common to new release 7.0.0,MERGED,2017-04-24 13:45:37.000000000,2017-04-24 21:58:58.000000000,2017-04-24 21:58:58.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-04-24 13:45:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/67d9c0e7d9787e9d5e4e44db2a6f723dedc0fc95', 'message': 'update constraint for tripleo-common to new release 7.0.0\n\nChange-Id: I42a8fc1c8a2af89d493546f3a21cb909cf12ec30\nmeta:version: 7.0.0\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: yes\nmeta:release:Author: Steve Baker <sbaker@redhat.com>\nmeta:release:Commit: Steve Baker <sbaker@redhat.com>\nmeta:release:Change-Id: Ie0e7672af53f74f75e189eda9ec696a07ec7208e\nmeta:release:Code-Review+1: Steven Hardy <shardy@redhat.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,459306,67d9c0e7d9787e9d5e4e44db2a6f723dedc0fc95,10,4,1,11131,,,0,"update constraint for tripleo-common to new release 7.0.0

Change-Id: I42a8fc1c8a2af89d493546f3a21cb909cf12ec30
meta:version: 7.0.0
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: no
meta:first: yes
meta:release:Author: Steve Baker <sbaker@redhat.com>
meta:release:Commit: Steve Baker <sbaker@redhat.com>
meta:release:Change-Id: Ie0e7672af53f74f75e189eda9ec696a07ec7208e
meta:release:Code-Review+1: Steven Hardy <shardy@redhat.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/06/459306/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,67d9c0e7d9787e9d5e4e44db2a6f723dedc0fc95,new-release,tripleo-common===7.0.0,tripleo-common===6.0.0,1,1
openstack%2Frequirements~master~I93ba005d7bd185726df20d51c2e165e6c9a6ca9f,openstack/requirements,master,I93ba005d7bd185726df20d51c2e165e6c9a6ca9f,update constraint for python-zunclient to new release 0.2.0,MERGED,2017-04-24 13:31:39.000000000,2017-04-24 21:58:48.000000000,2017-04-24 21:58:48.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 11904}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-04-24 13:31:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0cbd7631bd8c87adc9ce4336db7d29589a241efa', 'message': 'update constraint for python-zunclient to new release 0.2.0\n\nChange-Id: I93ba005d7bd185726df20d51c2e165e6c9a6ca9f\nmeta:version: 0.2.0\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Hongbin Lu <hongbin.lu@huawei.com>\nmeta:release:Commit: Hongbin Lu <hongbin.lu@huawei.com>\nmeta:release:Change-Id: Ifca7dc2e7e986e1042b68e9c3bebb532316da34f\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,459297,0cbd7631bd8c87adc9ce4336db7d29589a241efa,12,4,1,11131,,,0,"update constraint for python-zunclient to new release 0.2.0

Change-Id: I93ba005d7bd185726df20d51c2e165e6c9a6ca9f
meta:version: 0.2.0
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Hongbin Lu <hongbin.lu@huawei.com>
meta:release:Commit: Hongbin Lu <hongbin.lu@huawei.com>
meta:release:Change-Id: Ifca7dc2e7e986e1042b68e9c3bebb532316da34f
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/459297/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0cbd7631bd8c87adc9ce4336db7d29589a241efa,new-release,python-zunclient===0.2.0,python-zunclient===0.1.0,1,1
openstack%2Frequirements~master~I1c30414b192ebb9e53d9febbe3ee39fa8bddf11d,openstack/requirements,master,I1c30414b192ebb9e53d9febbe3ee39fa8bddf11d,update constraint for oslo.log to new release 3.26.0,MERGED,2017-04-24 17:17:36.000000000,2017-04-24 21:58:42.000000000,2017-04-24 21:58:42.000000000,"[{'_account_id': 3}, {'_account_id': 6593}]","[{'number': 1, 'created': '2017-04-24 17:17:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4fedd56b29e477356b72142ef44a00103f9ec6ea', 'message': 'update constraint for oslo.log to new release 3.26.0\n\nChange-Id: I1c30414b192ebb9e53d9febbe3ee39fa8bddf11d\nmeta:version: 3.26.0\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nmeta:release:Commit: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nmeta:release:Change-Id: I9645c5241034ba68fad3e715a1bc43b1982e10d1\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,459410,4fedd56b29e477356b72142ef44a00103f9ec6ea,8,2,1,11131,,,0,"update constraint for oslo.log to new release 3.26.0

Change-Id: I1c30414b192ebb9e53d9febbe3ee39fa8bddf11d
meta:version: 3.26.0
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: ChangBo Guo(gcb) <eric.guo@easystack.cn>
meta:release:Commit: ChangBo Guo(gcb) <eric.guo@easystack.cn>
meta:release:Change-Id: I9645c5241034ba68fad3e715a1bc43b1982e10d1
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/459410/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4fedd56b29e477356b72142ef44a00103f9ec6ea,new-release,oslo.log===3.26.0,oslo.log===3.25.0,1,1
openstack%2Fneutron-lbaas~stable%2Fnewton~If88be4b310d746ccc885e3d0c1db8a4dfabb2a28,openstack/neutron-lbaas,stable/newton,If88be4b310d746ccc885e3d0c1db8a4dfabb2a28,Remove subunit-trace fork,MERGED,2017-04-18 00:43:46.000000000,2017-04-24 21:54:04.000000000,2017-04-19 18:58:20.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9656}, {'_account_id': 10273}, {'_account_id': 12040}]","[{'number': 1, 'created': '2017-04-18 00:43:46.000000000', 'files': ['tools/subunit-trace.py', 'tools/pretty_tox.sh'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/b93597dacfe7d014d5e56b690c8a91b3f97884e6', 'message': 'Remove subunit-trace fork\n\nThis makes tox use the latest version of the tool from os-testr repo,\nwhich contains some valuable changes, including the one making the gate\nfail if for some reason no tests are executed because all of them are\nskipped (something that we observe in stable branches right now).\n\nChange-Id: If88be4b310d746ccc885e3d0c1db8a4dfabb2a28\n(cherry picked from commit 368416520fa8ed2cdbc75d9d3862b06a78d2f5d6)\n'}]",0,457406,b93597dacfe7d014d5e56b690c8a91b3f97884e6,10,5,1,9656,,,0,"Remove subunit-trace fork

This makes tox use the latest version of the tool from os-testr repo,
which contains some valuable changes, including the one making the gate
fail if for some reason no tests are executed because all of them are
skipped (something that we observe in stable branches right now).

Change-Id: If88be4b310d746ccc885e3d0c1db8a4dfabb2a28
(cherry picked from commit 368416520fa8ed2cdbc75d9d3862b06a78d2f5d6)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/06/457406/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/subunit-trace.py', 'tools/pretty_tox.sh']",2,b93597dacfe7d014d5e56b690c8a91b3f97884e6,remove-subunit-trace-fork,"status=$(exec 4>&1 >&3; (python setup.py testr --slowest --testr-args=""--subunit $TESTRARGS $CONCURRENCY""; echo $? >&4 ) | subunit-trace -f) && exit $status","status=$(exec 4>&1 >&3; (python setup.py testr --slowest --testr-args=""--subunit $TESTRARGS $CONCURRENCY""; echo $? >&4 ) | $(dirname $0)/subunit-trace.py -f) && exit $status",1,308
openstack%2Fneutron-lbaas~stable%2Focata~If88be4b310d746ccc885e3d0c1db8a4dfabb2a28,openstack/neutron-lbaas,stable/ocata,If88be4b310d746ccc885e3d0c1db8a4dfabb2a28,Remove subunit-trace fork,MERGED,2017-04-18 00:43:30.000000000,2017-04-24 21:54:02.000000000,2017-04-19 16:07:44.000000000,"[{'_account_id': 3}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 12040}]","[{'number': 1, 'created': '2017-04-18 00:43:30.000000000', 'files': ['tools/subunit-trace.py', 'tools/pretty_tox.sh'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/6ef1d1a9c7462bbe1dbbe02d17387f80d46d4b98', 'message': 'Remove subunit-trace fork\n\nThis makes tox use the latest version of the tool from os-testr repo,\nwhich contains some valuable changes, including the one making the gate\nfail if for some reason no tests are executed because all of them are\nskipped (something that we observe in stable branches right now).\n\nChange-Id: If88be4b310d746ccc885e3d0c1db8a4dfabb2a28\n(cherry picked from commit 368416520fa8ed2cdbc75d9d3862b06a78d2f5d6)\n'}]",0,457405,6ef1d1a9c7462bbe1dbbe02d17387f80d46d4b98,8,4,1,9656,,,0,"Remove subunit-trace fork

This makes tox use the latest version of the tool from os-testr repo,
which contains some valuable changes, including the one making the gate
fail if for some reason no tests are executed because all of them are
skipped (something that we observe in stable branches right now).

Change-Id: If88be4b310d746ccc885e3d0c1db8a4dfabb2a28
(cherry picked from commit 368416520fa8ed2cdbc75d9d3862b06a78d2f5d6)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/05/457405/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/subunit-trace.py', 'tools/pretty_tox.sh']",2,6ef1d1a9c7462bbe1dbbe02d17387f80d46d4b98,remove-subunit-trace-fork,"status=$(exec 4>&1 >&3; (python setup.py testr --slowest --testr-args=""--subunit $TESTRARGS $CONCURRENCY""; echo $? >&4 ) | subunit-trace -f) && exit $status","status=$(exec 4>&1 >&3; (python setup.py testr --slowest --testr-args=""--subunit $TESTRARGS $CONCURRENCY""; echo $? >&4 ) | $(dirname $0)/subunit-trace.py -f) && exit $status",1,308
openstack%2Fneutron-lbaas~stable%2Focata~Iab001fc31ce81b2fd5e8e87333fa9a3391ecda99,openstack/neutron-lbaas,stable/ocata,Iab001fc31ce81b2fd5e8e87333fa9a3391ecda99,Tests helper function _send_requests should catch socket.error,MERGED,2017-04-03 11:40:59.000000000,2017-04-24 21:53:30.000000000,2017-04-13 15:59:37.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 9656}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12040}]","[{'number': 1, 'created': '2017-04-03 11:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/84ef191b6b3222c3b1593adc9a5ef9d031750546', 'message': ""Tests helper function _send_requests should catch socket.error\n\nSome tests, such as test_listener_basic for example, use helper function\n_send_requests() to send traffic to a loadbalancer both in a positive\n(expect to succeed) and negative (expect to fail) context.\n\nIn a case of a negative context,  _send_requests() currently won't catch\nsocket.error, which is a valid response from a loadbalancer in a case of\na request rejection.\n\nF5's LBaaS driver replays with TCP RST in a case of request rejection and\nthey confirmed[1] that adding by catching socket.error in\n_send_requests() tests work as expected.\n\n[1] https://bugs.launchpad.net/octavia/+bug/1675702/comments/2\n\nChange-Id: Iab001fc31ce81b2fd5e8e87333fa9a3391ecda99\nCloses-Bug: #1675702\n(cherry picked from commit cb4bdc57a5ba63b1456e1b88e1f250569f9b4234)\n""}, {'number': 2, 'created': '2017-04-12 23:06:42.000000000', 'files': ['neutron_lbaas/tests/tempest/v2/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/79d18900d04da88a4e75b4d49c4d65250b022089', 'message': ""Tests helper function _send_requests should catch socket.error\n\nSome tests, such as test_listener_basic for example, use helper function\n_send_requests() to send traffic to a loadbalancer both in a positive\n(expect to succeed) and negative (expect to fail) context.\n\nIn a case of a negative context,  _send_requests() currently won't catch\nsocket.error, which is a valid response from a loadbalancer in a case of\na request rejection.\n\nF5's LBaaS driver replays with TCP RST in a case of request rejection and\nthey confirmed[1] that adding by catching socket.error in\n_send_requests() tests work as expected.\n\n[1] https://bugs.launchpad.net/octavia/+bug/1675702/comments/2\n\nChange-Id: Iab001fc31ce81b2fd5e8e87333fa9a3391ecda99\nCloses-Bug: #1675702\n(cherry picked from commit cb4bdc57a5ba63b1456e1b88e1f250569f9b4234)\n""}]",0,452722,79d18900d04da88a4e75b4d49c4d65250b022089,12,7,2,6579,,,0,"Tests helper function _send_requests should catch socket.error

Some tests, such as test_listener_basic for example, use helper function
_send_requests() to send traffic to a loadbalancer both in a positive
(expect to succeed) and negative (expect to fail) context.

In a case of a negative context,  _send_requests() currently won't catch
socket.error, which is a valid response from a loadbalancer in a case of
a request rejection.

F5's LBaaS driver replays with TCP RST in a case of request rejection and
they confirmed[1] that adding by catching socket.error in
_send_requests() tests work as expected.

[1] https://bugs.launchpad.net/octavia/+bug/1675702/comments/2

Change-Id: Iab001fc31ce81b2fd5e8e87333fa9a3391ecda99
Closes-Bug: #1675702
(cherry picked from commit cb4bdc57a5ba63b1456e1b88e1f250569f9b4234)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/22/452722/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lbaas/tests/tempest/v2/scenario/base.py'],1,84ef191b6b3222c3b1593adc9a5ef9d031750546,bug/1675702," except (error.HTTPError, error.URLError, socket.timeout, socket.error):"," except (error.HTTPError, error.URLError, socket.timeout):",2,1
openstack%2Fneutron-lbaas~master~If17c1bed3fca595502c2e3b93020f6e32a0f40b3,openstack/neutron-lbaas,master,If17c1bed3fca595502c2e3b93020f6e32a0f40b3,Updated from global requirements,MERGED,2017-04-12 04:16:18.000000000,2017-04-24 21:52:55.000000000,2017-04-17 08:14:41.000000000,"[{'_account_id': 3}, {'_account_id': 7787}, {'_account_id': 9008}, {'_account_id': 10850}, {'_account_id': 12040}, {'_account_id': 23619}]","[{'number': 1, 'created': '2017-04-12 04:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/70dcc39433ad54fffbf8c31465cd36e023776a6b', 'message': 'Updated from global requirements\n\nChange-Id: If17c1bed3fca595502c2e3b93020f6e32a0f40b3\n'}, {'number': 2, 'created': '2017-04-12 17:01:32.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/0de573c1c64618a0fa8d8ae4766efc40a9346ed7', 'message': 'Updated from global requirements\n\nChange-Id: If17c1bed3fca595502c2e3b93020f6e32a0f40b3\n'}]",0,455957,0de573c1c64618a0fa8d8ae4766efc40a9346ed7,14,6,2,11131,,,0,"Updated from global requirements

Change-Id: If17c1bed3fca595502c2e3b93020f6e32a0f40b3
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/57/455957/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,70dcc39433ad54fffbf8c31465cd36e023776a6b,openstack/requirements,"pbr!=2.1.0,>=2.0.0 # Apache-2.0",pbr>=2.0.0 # Apache-2.0,1,1
openstack%2Fneutron-lbaas~stable%2Focata~Ifc1c1e701f45eed28afc101a32e2232b3f3c3546,openstack/neutron-lbaas,stable/ocata,Ifc1c1e701f45eed28afc101a32e2232b3f3c3546,Create header with authtoken for requests without args,MERGED,2017-04-11 16:08:11.000000000,2017-04-24 21:52:40.000000000,2017-04-13 00:05:13.000000000,"[{'_account_id': 3}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12040}]","[{'number': 1, 'created': '2017-04-11 16:08:11.000000000', 'files': ['releasenotes/notes/add-authtoken-to-octavia-del-and-get-e001340f621816dd.yaml', 'neutron_lbaas/drivers/octavia/driver.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/3a11200bceaac3ed521f7bfcbd3935bb1e8d0329', 'message': 'Create header with authtoken for requests without args\n\nThis patch adds authentication tokens to headers for requests that do\nnot include arguments like DELETE and GET.\n\nCloses-bug: #1680575\n\nChange-Id: Ifc1c1e701f45eed28afc101a32e2232b3f3c3546\n(cherry picked from commit 9928b3a6db41608cf5a486b85f601961c7ecb3de)\n'}]",0,455765,3a11200bceaac3ed521f7bfcbd3935bb1e8d0329,8,4,1,6681,,,0,"Create header with authtoken for requests without args

This patch adds authentication tokens to headers for requests that do
not include arguments like DELETE and GET.

Closes-bug: #1680575

Change-Id: Ifc1c1e701f45eed28afc101a32e2232b3f3c3546
(cherry picked from commit 9928b3a6db41608cf5a486b85f601961c7ecb3de)
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/65/455765/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-authtoken-to-octavia-del-and-get-e001340f621816dd.yaml', 'neutron_lbaas/drivers/octavia/driver.py']",2,3a11200bceaac3ed521f7bfcbd3935bb1e8d0329,bug/1680575," if not headers or not headers.get('X-Auth-Token'): headers = headers or { 'Content-type': 'application/json', } headers['X-Auth-Token'] = self.auth_session.get_token() "," if not headers: token = self.auth_session.get_token() headers = { 'Content-type': 'application/json', 'X-Auth-Token': token }",12,6
openstack%2Fgnocchi~master~I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6,openstack/gnocchi,master,I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6,Drop usage of importutils,MERGED,2017-04-18 13:51:54.000000000,2017-04-24 21:52:29.000000000,2017-04-24 21:52:29.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}, {'_account_id': 13177}]","[{'number': 1, 'created': '2017-04-18 13:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/333834da79b1345acdcfeb8bdc3e4e7b79b4e72f', 'message': 'Drop usage of importutils\n\nIt actually have no value other just using __import__ directly\n\nChange-Id: I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6\n'}, {'number': 2, 'created': '2017-04-18 13:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/51c07c28233ce96877893d81c0c0110de0547c5e', 'message': 'Drop usage of importutils\n\nIt actually have no value other just using __import__ directly\n\nChange-Id: I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6\n'}, {'number': 3, 'created': '2017-04-18 14:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/1bca58122b481fff5f74578fc3c311199666312e', 'message': 'Drop usage of importutils\n\nIt actually have no value other just using __import__ directly\n\nChange-Id: I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6\n'}, {'number': 4, 'created': '2017-04-21 07:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/ab120e6ab0a16205443faadcada1894f814813e1', 'message': 'Drop usage of importutils\n\nIt actually have no value other just using __import__ directly\n\nChange-Id: I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6\n'}, {'number': 5, 'created': '2017-04-21 08:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/871180103aa247e67fedea5bbebbc9fbd304c22b', 'message': 'Drop usage of importutils\n\nIt actually have no value other just using __import__ directly\n\nChange-Id: I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6\n'}, {'number': 6, 'created': '2017-04-21 10:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/2e6ba6f4e9d77f0e2f40fae85ca316c7e7b360cd', 'message': 'Drop usage of importutils\n\nIt actually have no value other just using __import__ directly\n\nChange-Id: I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6\n'}, {'number': 7, 'created': '2017-04-21 14:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/684c0093ee36b0cdab34fed5813e86a9eef91f98', 'message': 'Drop usage of importutils\n\nIt actually have no value other just using __import__ directly\n\nChange-Id: I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6\n'}, {'number': 8, 'created': '2017-04-22 09:35:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/7c56f6466688f86a5bd1234cf1c1d08ddb7c5786', 'message': 'Drop usage of importutils\n\nIt actually have no value other just using __import__ directly\n\nChange-Id: I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6\n'}, {'number': 9, 'created': '2017-04-24 13:15:54.000000000', 'files': ['gnocchi/storage/common/ceph.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/431ea99739f040ad9f432bffe5306380246f92b6', 'message': 'Drop usage of importutils\n\nIt actually have no value other just using __import__ directly\n\nChange-Id: I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6\n'}]",0,457643,431ea99739f040ad9f432bffe5306380246f92b6,26,5,9,1669,,,0,"Drop usage of importutils

It actually have no value other just using __import__ directly

Change-Id: I2ef6db2e0e4e292ee3ec9c11a654fac1188b75e6
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/43/457643/9 && git format-patch -1 --stdout FETCH_HEAD,['gnocchi/storage/common/ceph.py'],1,333834da79b1345acdcfeb8bdc3e4e7b79b4e72f,jd/strtobool, try: __import__(RADOS_MODULE_NAME) except ImportError: pass else:,from oslo_utils import importutils rados = importutils.try_import(RADOS_MODULE_NAME) if rados is not None:,5,3
openstack%2Fneutron-lbaas~master~Id991d62d87285bf4901a89af64bac138e3ca263e,openstack/neutron-lbaas,master,Id991d62d87285bf4901a89af64bac138e3ca263e,Fix doc generation for Python3,MERGED,2017-04-17 11:50:41.000000000,2017-04-24 21:52:01.000000000,2017-04-19 04:01:21.000000000,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 12040}, {'_account_id': 23619}]","[{'number': 1, 'created': '2017-04-17 11:50:41.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/c8cef78f5eb1c70a02b4429f50e7c63a760a0819', 'message': 'Fix doc generation for Python3\n\nFix the Sphinx html_last_updated_fmt for Python3.\nThe html_last_updated_fmt option is interpeted as a\nbyte string in python3, causing Sphinx build to break.\nThis patch makes it utf-8 string.\n\nChange-Id: Id991d62d87285bf4901a89af64bac138e3ca263e\n'}]",0,457225,c8cef78f5eb1c70a02b4429f50e7c63a760a0819,10,6,1,20401,,,0,"Fix doc generation for Python3

Fix the Sphinx html_last_updated_fmt for Python3.
The html_last_updated_fmt option is interpeted as a
byte string in python3, causing Sphinx build to break.
This patch makes it utf-8 string.

Change-Id: Id991d62d87285bf4901a89af64bac138e3ca263e
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/25/457225/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,c8cef78f5eb1c70a02b4429f50e7c63a760a0819,fix_tox, html_last_updated_fmt = subprocess.check_output(git_cmd).decode('utf-8')," html_last_updated_fmt = subprocess.Popen( git_cmd, stdout=subprocess.PIPE).communicate()[0]",1,2
openstack%2Fneutron-lbaas~master~Ic6e5620d6d3ff33447d3804919cd63716d4a6894,openstack/neutron-lbaas,master,Ic6e5620d6d3ff33447d3804919cd63716d4a6894,Migrate Constants from neutron.plugin to neutron_lib,MERGED,2017-04-14 06:34:53.000000000,2017-04-24 21:48:01.000000000,2017-04-17 07:50:10.000000000,"[{'_account_id': 3}, {'_account_id': 7787}, {'_account_id': 9008}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 12040}, {'_account_id': 23619}]","[{'number': 1, 'created': '2017-04-14 06:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/f6631d54c05d7c93e01a4ba76e3181404b8e2ed7', 'message': 'Migrate Constants from neutron.plugin to neutron_lib\n\nWith the merge of [1], plugin constants are now available in\nneutron_lib, so it makes sense to move there .\n\n[1] https://review.openstack.org/#/c/429036/\n\nChange-Id: Ic6e5620d6d3ff33447d3804919cd63716d4a6894\n'}, {'number': 2, 'created': '2017-04-14 07:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/c09d4502760097df2ccfe08909cf1d7c229ba963', 'message': 'Migrate Constants from neutron.plugin to neutron_lib\n\nWith the merge of [1], plugin constants are now available in\nneutron_lib, so it makes sense to move there .\n\n[1] https://review.openstack.org/#/c/429036/\n\nChange-Id: Ic6e5620d6d3ff33447d3804919cd63716d4a6894\n'}, {'number': 3, 'created': '2017-04-15 05:59:57.000000000', 'files': ['neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancerv2.py', 'neutron_lbaas/tests/unit/drivers/common/test_agent_callbacks.py', 'neutron_lbaas/tests/unit/drivers/common/test_agent_driver_base.py', 'neutron_lbaas/drivers/driver_mixins.py', 'neutron_lbaas/tests/unit/test_agent_scheduler.py', 'neutron_lbaas/agent/agent_manager.py', 'neutron_lbaas/extensions/lbaas_agentschedulerv2.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/drivers/radware/v2_driver.py', 'neutron_lbaas/drivers/common/agent_callbacks.py', 'neutron_lbaas/drivers/haproxy/jinja_cfg.py', 'neutron_lbaas/drivers/haproxy/namespace_driver.py', 'neutron_lbaas/tests/unit/drivers/haproxy/test_namespace_driver.py', 'neutron_lbaas/tests/unit/agent/test_agent_manager.py', 'neutron_lbaas/services/loadbalancer/plugin.py', 'neutron_lbaas/extensions/loadbalancerv2.py', 'neutron_lbaas/extensions/lb_graph.py', 'neutron_lbaas/tests/unit/drivers/radware/test_v2_plugin_driver.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_loadbalancer_plugin.py', 'neutron_lbaas/drivers/netscaler/netscaler_driver_v2.py', 'neutron_lbaas/extensions/l7.py'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/f99f4f8a6dd5893703bbc66fdbb29d26d73fc23b', 'message': 'Migrate Constants from neutron.plugin to neutron_lib\n\nWith the merge of [1], plugin constants are now available in\nneutron_lib, so it makes sense to move there .\n\n[1] https://review.openstack.org/#/c/429036/\n\nChange-Id: Ic6e5620d6d3ff33447d3804919cd63716d4a6894\n'}]",0,456839,f99f4f8a6dd5893703bbc66fdbb29d26d73fc23b,18,8,3,17776,,,0,"Migrate Constants from neutron.plugin to neutron_lib

With the merge of [1], plugin constants are now available in
neutron_lib, so it makes sense to move there .

[1] https://review.openstack.org/#/c/429036/

Change-Id: Ic6e5620d6d3ff33447d3804919cd63716d4a6894
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/39/456839/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lbaas/tests/unit/db/loadbalancer/test_db_loadbalancerv2.py', 'neutron_lbaas/tests/unit/drivers/common/test_agent_callbacks.py', 'neutron_lbaas/tests/unit/drivers/common/test_agent_driver_base.py', 'neutron_lbaas/drivers/driver_mixins.py', 'neutron_lbaas/tests/unit/test_agent_scheduler.py', 'neutron_lbaas/agent/agent_manager.py', 'neutron_lbaas/extensions/lbaas_agentschedulerv2.py', 'neutron_lbaas/db/loadbalancer/loadbalancer_dbv2.py', 'neutron_lbaas/drivers/radware/v2_driver.py', 'neutron_lbaas/drivers/common/agent_callbacks.py', 'neutron_lbaas/drivers/haproxy/jinja_cfg.py', 'neutron_lbaas/drivers/haproxy/namespace_driver.py', 'neutron_lbaas/tests/unit/drivers/haproxy/test_namespace_driver.py', 'neutron_lbaas/tests/unit/agent/test_agent_manager.py', 'neutron_lbaas/services/loadbalancer/plugin.py', 'neutron_lbaas/extensions/loadbalancerv2.py', 'neutron_lbaas/extensions/lb_graph.py', 'neutron_lbaas/tests/unit/drivers/radware/test_v2_plugin_driver.py', 'neutron_lbaas/tests/unit/services/loadbalancer/test_loadbalancer_plugin.py', 'neutron_lbaas/drivers/netscaler/netscaler_driver_v2.py', 'neutron_lbaas/extensions/l7.py']",21,f6631d54c05d7c93e01a4ba76e3181404b8e2ed7,,from neutron_lib.plugins import constants,from neutron.plugins.common import constants,99,97
openstack%2Fneutron-lbaas~master~I0ee236ecbdc468ab3ecf23e7873e3ed7ee07936c,openstack/neutron-lbaas,master,I0ee236ecbdc468ab3ecf23e7873e3ed7ee07936c,Optimize the link address,MERGED,2017-04-10 12:14:12.000000000,2017-04-24 21:48:00.000000000,2017-04-17 08:04:55.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 7787}, {'_account_id': 9008}, {'_account_id': 10850}, {'_account_id': 12040}, {'_account_id': 23619}]","[{'number': 1, 'created': '2017-04-10 12:14:12.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/neutron-lbaas/commit/965672f8cb0c24ac4dbd5e338179580715300bec', 'message': 'Optimize the link address\n\nUse https instead of http to ensure the safety\n\nChange-Id: I0ee236ecbdc468ab3ecf23e7873e3ed7ee07936c\n'}]",0,455297,965672f8cb0c24ac4dbd5e338179580715300bec,11,7,1,20401,,,0,"Optimize the link address

Use https instead of http to ensure the safety

Change-Id: I0ee236ecbdc468ab3ecf23e7873e3ed7ee07936c
",git fetch https://review.opendev.org/openstack/neutron-lbaas refs/changes/97/455297/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,965672f8cb0c24ac4dbd5e338179580715300bec,link-address,.. image:: https://governance.openstack.org/badges/neutron-lbaas.svg :target: https://governance.openstack.org/reference/tags/index.html,.. image:: http://governance.openstack.org/badges/neutron-lbaas.svg :target: http://governance.openstack.org/reference/tags/index.html,2,2
openstack%2Fproject-config~master~I00313c77ef6e57b3f2d347c5a333e665065b0c3e,openstack/project-config,master,I00313c77ef6e57b3f2d347c5a333e665065b0c3e,Confirm haveged has been enabled on boot,MERGED,2017-04-21 18:48:04.000000000,2017-04-24 21:45:43.000000000,2017-04-24 21:45:43.000000000,"[{'_account_id': 3}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 6547}, {'_account_id': 10035}]","[{'number': 1, 'created': '2017-04-21 18:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2518cc0e9369729c8f4b424abbc8a0a19d770008', 'message': 'Confirm haveged has been enabled on boot\n\nMake sure that haveged has been started on boot for systemd.\n\nChange-Id: I00313c77ef6e57b3f2d347c5a333e665065b0c3e\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 2, 'created': '2017-04-21 18:49:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/a2456e09bc1e6a6a54de67fd15ef0690133197bb', 'message': 'Confirm haveged has been enabled on boot\n\nMake sure that haveged has been started on boot for systemd.\n\nChange-Id: I00313c77ef6e57b3f2d347c5a333e665065b0c3e\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}, {'number': 3, 'created': '2017-04-24 21:22:45.000000000', 'files': ['nodepool/elements/infra-package-needs/post-install.d/80-enable-haveged'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ae825f98ff719efecbea66689e8ea8e3d15d4a3f', 'message': 'Confirm haveged has been enabled on boot\n\nMake sure that haveged has been started on boot for systemd.\n\nChange-Id: I00313c77ef6e57b3f2d347c5a333e665065b0c3e\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",4,458933,ae825f98ff719efecbea66689e8ea8e3d15d4a3f,22,5,3,4162,,,0,"Confirm haveged has been enabled on boot

Make sure that haveged has been started on boot for systemd.

Change-Id: I00313c77ef6e57b3f2d347c5a333e665065b0c3e
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/33/458933/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/infra-package-needs/post-install.d/80-enable-haveged'],1,2518cc0e9369729c8f4b424abbc8a0a19d770008,,"#!/bin/bash if [ ""${DIB_DEBUG_TRACE:-0}"" -gt 0 ]; then set -x fi set -eu set -o pipefail case ""$DIB_INIT_SYSTEM"" in upstart) # nothing to do exit 0 ;; systemd) systemctl start haveged.service ;; openrc) # let dib-init-system's postinstall handle enabling init scripts exit 0 ;; sysv) exit 0 ;; *) echo ""Unsupported init system $DIB_INIT_SYSTEM"" exit 1 ;; esac ",,28,0
openstack%2Fmurano-dashboard~master~Iccfcc0b21f500a8c1de8b1efd1d565979f400e18,openstack/murano-dashboard,master,Iccfcc0b21f500a8c1de8b1efd1d565979f400e18,Fix filter image snapshot type with glancev2,MERGED,2017-04-14 08:42:29.000000000,2017-04-24 21:45:37.000000000,2017-04-24 21:45:37.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 7821}, {'_account_id': 15168}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-04-14 08:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/a11c76b45b59ecc79ceccd6976ebe803ee8833fe', 'message': 'Fix filter image snapshot type with glancev2\n\nChange-Id: Iccfcc0b21f500a8c1de8b1efd1d565979f400e18\n'}, {'number': 2, 'created': '2017-04-22 20:26:08.000000000', 'files': ['muranodashboard/tests/unit/images/test_forms.py', 'muranodashboard/images/forms.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/17a139b84285efeb1455c44fee00225a79301689', 'message': 'Fix filter image snapshot type with glancev2\n\nChange-Id: Iccfcc0b21f500a8c1de8b1efd1d565979f400e18\n'}]",0,456854,17a139b84285efeb1455c44fee00225a79301689,12,5,2,14107,,,0,"Fix filter image snapshot type with glancev2

Change-Id: Iccfcc0b21f500a8c1de8b1efd1d565979f400e18
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/54/456854/1 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/tests/unit/images/test_forms.py', 'muranodashboard/images/forms.py']",2,a11c76b45b59ecc79ceccd6976ebe803ee8833fe,," lambda x: getattr(x, 'image_type', None) != 'snapshot', list(images))"," lambda x: x.properties.get(""image_type"", '') != 'snapshot', images)",5,6
openstack%2Fnova~stable%2Focata~Idbda49587f3b62a0870d10817291205bde0e821e,openstack/nova,stable/ocata,Idbda49587f3b62a0870d10817291205bde0e821e,Fix libvirt group selection in live migration test,MERGED,2017-04-21 13:28:18.000000000,2017-04-24 21:45:17.000000000,2017-04-24 21:45:17.000000000,"[{'_account_id': 3}, {'_account_id': 8213}, {'_account_id': 10135}]","[{'number': 1, 'created': '2017-04-21 13:28:18.000000000', 'files': ['nova/tests/live_migration/hooks/ceph.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/fbab83e573f2bc77af81e5f0be3b2ce92046de08', 'message': 'Fix libvirt group selection in live migration test\n\nThe custom start scripting for the nova compute service assumed that the\nlibvirt group is ""libvirtd"". Unforately libvirtd is no longer used by\ndebuntu as they use ""libvirt"". Add a simple check against /etc/group\nfor an existing libvirtd user otherwise use libvirt.\n\nChange-Id: Idbda49587f3b62a0870d10817291205bde0e821e\nDepends-On: If2dbc53d082fea779448998ea12b821bd037a14e\n(cherry picked from commit ea8463679c1c25b496ffca1be6bd9bd026c29225)\n'}]",0,458843,fbab83e573f2bc77af81e5f0be3b2ce92046de08,23,3,1,6873,,,0,"Fix libvirt group selection in live migration test

The custom start scripting for the nova compute service assumed that the
libvirt group is ""libvirtd"". Unforately libvirtd is no longer used by
debuntu as they use ""libvirt"". Add a simple check against /etc/group
for an existing libvirtd user otherwise use libvirt.

Change-Id: Idbda49587f3b62a0870d10817291205bde0e821e
Depends-On: If2dbc53d082fea779448998ea12b821bd037a14e
(cherry picked from commit ea8463679c1c25b496ffca1be6bd9bd026c29225)
",git fetch https://review.opendev.org/openstack/nova refs/changes/43/458843/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/ceph.sh'],1,fbab83e573f2bc77af81e5f0be3b2ce92046de08,fix-libvirt-group-selection," # Determine what the libvirt is. If there is a group called ""libvirtd"" # in /etc/groups use that, otherwise default to ""libvirt"". # Note, new ubuntu and debian use libvirt, everything else is libvirtd. local libvirt_group libvirt_group=$(cut -d ':' -f 1 /etc/group | grep 'libvirtd$' || true) libvirt_group=${libvirt_group:-libvirt} sudo -H -u $STACK_USER bash -c ""/tmp/start_process.sh n-cpu '/usr/local/bin/nova-compute --config-file /etc/nova/nova.conf' $libvirt_group"" ssh $SUBNODE ""sudo -H -u $STACK_USER bash -c '/tmp/start_process.sh n-cpu \""/usr/local/bin/nova-compute --config-file /etc/nova/nova.conf\"" $libvirt_group'"""," sudo -H -u $STACK_USER bash -c ""/tmp/start_process.sh n-cpu '/usr/local/bin/nova-compute --config-file /etc/nova/nova.conf' libvirtd"" ssh $SUBNODE ""sudo -H -u $STACK_USER bash -c '/tmp/start_process.sh n-cpu \""/usr/local/bin/nova-compute --config-file /etc/nova/nova.conf\"" libvirtd'""",8,2
openstack%2Fopenstack-ansible-os_ceilometer~stable%2Focata~Icbb789cfce96df62dff46db1625509a923d79328,openstack/openstack-ansible-os_ceilometer,stable/ocata,Icbb789cfce96df62dff46db1625509a923d79328,Optimise apt cache update task,MERGED,2017-04-24 19:02:32.000000000,2017-04-24 21:40:31.000000000,2017-04-24 21:40:31.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 11268}]","[{'number': 1, 'created': '2017-04-24 19:02:32.000000000', 'files': ['tasks/ceilometer_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/66dd7fd388573ebdb5fb2e43b479908485978ea2', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: Icbb789cfce96df62dff46db1625509a923d79328\n(cherry picked from commit a30e48910cd39ccc81bdb39dcca6f2596a74a054)\n""}]",0,459431,66dd7fd388573ebdb5fb2e43b479908485978ea2,7,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: Icbb789cfce96df62dff46db1625509a923d79328
(cherry picked from commit a30e48910cd39ccc81bdb39dcca6f2596a74a054)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/31/459431/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceilometer_install.yml', 'meta/main.yml']",2,66dd7fd388573ebdb5fb2e43b479908485978ea2,use_package_module, min_ansible_version: 2.2, min_ansible_version: 2.0,5,8
openstack%2Fpuppet-horizon~stable%2Focata~Ib73903f147d764299440bef742ad7b61d5ad5373,openstack/puppet-horizon,stable/ocata,Ib73903f147d764299440bef742ad7b61d5ad5373,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:42:30.000000000,2017-04-24 21:39:39.000000000,2017-04-24 20:03:43.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:42:30.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/0ef19ea8ffe7b53be09890f4dfadc8b54618ea3d', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: Ib73903f147d764299440bef742ad7b61d5ad5373\n'}]",0,459360,0ef19ea8ffe7b53be09890f4dfadc8b54618ea3d,8,4,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: Ib73903f147d764299440bef742ad7b61d5ad5373
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/60/459360/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,0ef19ea8ffe7b53be09890f4dfadc8b54618ea3d,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fos-win~stable%2Focata~I8fabe8799d0e57dcc5627d67b3962c4f11f08f1e,openstack/os-win,stable/ocata,I8fabe8799d0e57dcc5627d67b3962c4f11f08f1e,networkutils: specializes the exception raised by _get_vnic_settings,MERGED,2017-04-20 10:45:01.000000000,2017-04-24 21:39:08.000000000,2017-04-24 21:39:08.000000000,"[{'_account_id': 3}, {'_account_id': 8213}]","[{'number': 1, 'created': '2017-04-20 10:45:01.000000000', 'files': ['os_win/tests/unit/utils/network/test_networkutils.py', 'os_win/utils/network/networkutils.py', 'os_win/exceptions.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/dea4a0971e535455bc37467cae660916371d31dd', 'message': 'networkutils: specializes the exception raised by _get_vnic_settings\n\nVMs can be destroyed before their vNICs had a chance to be bound.\nWhen trying to bind a vNIC of an already-destroyed VM, os-win will\nraise a HyperVException.\n\nThis patch specializes the exception raised in this case, allowing\nconsumers to treat this case differently.\n\nChange-Id: I8fabe8799d0e57dcc5627d67b3962c4f11f08f1e\nCloses-Bug: #1684045\n(cherry picked from commit aa3fbc7512dadc9349697e8b121fc1131df03510)\n'}]",0,458444,dea4a0971e535455bc37467cae660916371d31dd,9,2,1,8213,,,0,"networkutils: specializes the exception raised by _get_vnic_settings

VMs can be destroyed before their vNICs had a chance to be bound.
When trying to bind a vNIC of an already-destroyed VM, os-win will
raise a HyperVException.

This patch specializes the exception raised in this case, allowing
consumers to treat this case differently.

Change-Id: I8fabe8799d0e57dcc5627d67b3962c4f11f08f1e
Closes-Bug: #1684045
(cherry picked from commit aa3fbc7512dadc9349697e8b121fc1131df03510)
",git fetch https://review.opendev.org/openstack/os-win refs/changes/44/458444/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/tests/unit/utils/network/test_networkutils.py', 'os_win/utils/network/networkutils.py', 'os_win/exceptions.py']",3,dea4a0971e535455bc37467cae660916371d31dd,bug/1684045,"class HyperVvNicNotFound(NotFound, HyperVException): msg_fmt = _(""vNic not found: %(vnic_name)s"") ",,21,2
openstack%2Fmurano~master~Ic0cd6d6cb7409c0bd4088c9eb3b743d44e9f7100,openstack/murano,master,Ic0cd6d6cb7409c0bd4088c9eb3b743d44e9f7100,Fix config type of run_service_broker_tests to Boolean,MERGED,2017-04-24 10:46:05.000000000,2017-04-24 21:38:07.000000000,2017-04-24 21:38:07.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 7350}, {'_account_id': 7821}, {'_account_id': 10459}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 16312}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-04-24 10:46:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/0b9b43b5e46f7cd650515c5646777f1fe98496df', 'message': 'Fix config type of run_service_broker_tests to Boolean\n\n* As per the default value of run_service_broker_tests is Boolean\n  but config type is defined as string, It needs to be fixed other\n  wise tempest init will throw warning.\n\nChange-Id: Ic0cd6d6cb7409c0bd4088c9eb3b743d44e9f7100\nCloses-Bug: #1685767\n'}, {'number': 2, 'created': '2017-04-24 12:00:35.000000000', 'files': ['murano_tempest_tests/config.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/4b91b82b5c1ce0bb91736870eee50dcdb9f0bfa5', 'message': 'Fix config type of run_service_broker_tests to Boolean\n\n* As per the default value of run_service_broker_tests is Boolean\n  but config type is defined as string, It needs to be fixed other\n  wise tempest init will throw warning.\n\nChange-Id: Ic0cd6d6cb7409c0bd4088c9eb3b743d44e9f7100\nCloses-Bug: #1685767\n'}]",0,459239,4b91b82b5c1ce0bb91736870eee50dcdb9f0bfa5,14,9,2,12393,,,0,"Fix config type of run_service_broker_tests to Boolean

* As per the default value of run_service_broker_tests is Boolean
  but config type is defined as string, It needs to be fixed other
  wise tempest init will throw warning.

Change-Id: Ic0cd6d6cb7409c0bd4088c9eb3b743d44e9f7100
Closes-Bug: #1685767
",git fetch https://review.opendev.org/openstack/murano refs/changes/39/459239/1 && git format-patch -1 --stdout FETCH_HEAD,['murano_tempest_tests/config.py'],1,0b9b43b5e46f7cd650515c5646777f1fe98496df,bug/1685767," cfg.BoolOpt(""run_service_broker_tests"","," cfg.StrOpt(""run_service_broker_tests"",",1,1
openstack%2Fopenstack-ansible-os_aodh~stable%2Focata~I61d20c0a2c92a43926f27fd9efb1ec10b05c6eea,openstack/openstack-ansible-os_aodh,stable/ocata,I61d20c0a2c92a43926f27fd9efb1ec10b05c6eea,Optimise apt cache update task,MERGED,2017-04-24 19:02:40.000000000,2017-04-24 21:25:40.000000000,2017-04-24 21:25:40.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 11268}]","[{'number': 1, 'created': '2017-04-24 19:02:40.000000000', 'files': ['tasks/aodh_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/eaa2fc621f69d49c69751c476980725a459bff3c', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: I61d20c0a2c92a43926f27fd9efb1ec10b05c6eea\n(cherry picked from commit 68a7905f29a43d09f8967016c69b3228d3a324a0)\n""}]",0,459432,eaa2fc621f69d49c69751c476980725a459bff3c,8,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: I61d20c0a2c92a43926f27fd9efb1ec10b05c6eea
(cherry picked from commit 68a7905f29a43d09f8967016c69b3228d3a324a0)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/32/459432/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/aodh_install.yml', 'meta/main.yml']",2,eaa2fc621f69d49c69751c476980725a459bff3c,use_package_module, min_ansible_version: 2.2, min_ansible_version: 2.0,5,8
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Focata~If8e5227fde174c96dbad566f05c7c82c2646cf14,openstack/openstack-ansible-openstack_hosts,stable/ocata,If8e5227fde174c96dbad566f05c7c82c2646cf14,Disable cache for apt update if behind proxy,MERGED,2017-04-24 13:46:11.000000000,2017-04-24 21:16:27.000000000,2017-04-24 21:16:27.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-04-24 13:46:11.000000000', 'files': ['tasks/openstack_host_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6c74417adf760ab5e343c0bc1893a849750f9adf', 'message': 'Disable cache for apt update if behind proxy\n\nOccasionally with a stale proxy, BADSIG and unauthenticated packages\nerrors are encountered without apt update cache disabled.\n\nChange-Id: If8e5227fde174c96dbad566f05c7c82c2646cf14\n(cherry picked from commit 786131a39a7432d3e3e940ba390d80557c16da47)\n'}]",0,459309,6c74417adf760ab5e343c0bc1893a849750f9adf,7,3,1,2245,,,0,"Disable cache for apt update if behind proxy

Occasionally with a stale proxy, BADSIG and unauthenticated packages
errors are encountered without apt update cache disabled.

Change-Id: If8e5227fde174c96dbad566f05c7c82c2646cf14
(cherry picked from commit 786131a39a7432d3e3e940ba390d80557c16da47)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/09/459309/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_host_install_apt.yml'],1,6c74417adf760ab5e343c0bc1893a849750f9adf,apt-no-cache,"- name: Disable cache for apt update if behind proxy copy: content: | Acquire::http::No-Cache true; dest: ""/etc/apt/apt.conf.d/00apt-no-cache"" when: > global_environment_variables.http_proxy is defined or global_environment_variables.HTTP_PROXY is defined or global_environment_variables.https_proxy is defined or global_environment_variables.HTTPS_PROXY is defined ",,11,0
openstack%2Fironic~master~Icdd89453ec3ebecd8375a5f2efd1a0d4bf6b4064,openstack/ironic,master,Icdd89453ec3ebecd8375a5f2efd1a0d4bf6b4064,Don't pass sqlite_db in db_options.set_defaults(),MERGED,2017-03-28 11:42:45.000000000,2017-04-24 21:14:54.000000000,2017-03-28 23:46:23.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 14760}, {'_account_id': 15362}, {'_account_id': 17998}]","[{'number': 1, 'created': '2017-03-28 11:42:45.000000000', 'files': ['ironic/db/sqlalchemy/models.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d31d984871a03c3e7cc4be85a0f2fb12bda5dc7e', 'message': ""Don't pass sqlite_db in db_options.set_defaults()\n\nThe option sqlite_db was deprecated and removed by\nId269d921e40edf95eb977b011f1753f633b79d18\n\nAs we passed it as positional argument, another max_pool_size\nvar was set automatically.\nThis patch removes dropped sqlite_db option.\n\nChange-Id: Icdd89453ec3ebecd8375a5f2efd1a0d4bf6b4064\nCloses-Bug: #1676809\n""}]",0,450733,d31d984871a03c3e7cc4be85a0f2fb12bda5dc7e,27,8,1,14525,,,0,"Don't pass sqlite_db in db_options.set_defaults()

The option sqlite_db was deprecated and removed by
Id269d921e40edf95eb977b011f1753f633b79d18

As we passed it as positional argument, another max_pool_size
var was set automatically.
This patch removes dropped sqlite_db option.

Change-Id: Icdd89453ec3ebecd8375a5f2efd1a0d4bf6b4064
Closes-Bug: #1676809
",git fetch https://review.opendev.org/openstack/ironic refs/changes/33/450733/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/models.py'],1,d31d984871a03c3e7cc4be85a0f2fb12bda5dc7e,bug/1676809,"db_options.set_defaults(CONF, connection=_DEFAULT_SQL_CONNECTION)","db_options.set_defaults(CONF, _DEFAULT_SQL_CONNECTION, 'ironic.sqlite')",1,1
openstack%2Fopenstack-ansible~stable%2Focata~I9fc98ea9b7d68623cb42c5fa3b9d5383fadb82d8,openstack/openstack-ansible,stable/ocata,I9fc98ea9b7d68623cb42c5fa3b9d5383fadb82d8,Add variable for template filename,MERGED,2017-04-24 14:33:37.000000000,2017-04-24 21:05:43.000000000,2017-04-24 21:05:43.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 15993}]","[{'number': 1, 'created': '2017-04-24 14:33:37.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'releasenotes/notes/add-template-file-var-cac35a99a3faf563.yaml', 'tests/roles/bootstrap-host/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/625415a8d6877739411e6077b99e73a1846d476b', 'message': 'Add variable for template filename\n\nThe current logic for constructing the template filename\ndoes not allow custom scenario names. For example, if an\noutside playbook defines ``boostrap_host_scenario`` to\nbe ""swift"" or ""awesome_scenario"", then the task would try\nto look for the user_variables.swlft.yml.j2 template within the\nrole. This commit allows the user to define a template filename\nusing the variable bootstrap_user_variables_template.\n\nChange-Id: I9fc98ea9b7d68623cb42c5fa3b9d5383fadb82d8\n'}]",0,459329,625415a8d6877739411e6077b99e73a1846d476b,13,3,1,11268,,,0,"Add variable for template filename

The current logic for constructing the template filename
does not allow custom scenario names. For example, if an
outside playbook defines ``boostrap_host_scenario`` to
be ""swift"" or ""awesome_scenario"", then the task would try
to look for the user_variables.swlft.yml.j2 template within the
role. This commit allows the user to define a template filename
using the variable bootstrap_user_variables_template.

Change-Id: I9fc98ea9b7d68623cb42c5fa3b9d5383fadb82d8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/459329/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'releasenotes/notes/add-template-file-var-cac35a99a3faf563.yaml', 'tests/roles/bootstrap-host/defaults/main.yml']",3,625415a8d6877739411e6077b99e73a1846d476b,allow-custom-scenario-names,"# The user variables template to use bootstrap_user_variables_template: ""user_variables.{{ bootstrap_host_scenario }}.yml.j2"" ",,10,1
openstack%2Fpuppet-tacker~stable%2Focata~Ie2e88ab9a3a1383d81f877e29a70b307a1bfc3b2,openstack/puppet-tacker,stable/ocata,Ie2e88ab9a3a1383d81f877e29a70b307a1bfc3b2,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:45:21.000000000,2017-04-24 20:52:06.000000000,2017-04-24 20:52:06.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:45:21.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/64981800ce17720d1e2184bdb7c67b2879a17140', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: Ie2e88ab9a3a1383d81f877e29a70b307a1bfc3b2\n'}]",0,459377,64981800ce17720d1e2184bdb7c67b2879a17140,7,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: Ie2e88ab9a3a1383d81f877e29a70b307a1bfc3b2
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/77/459377/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,64981800ce17720d1e2184bdb7c67b2879a17140,ocata/gemfile," :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/ocata', :require => false"," :require => 'false', :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper'",3,2
openstack%2Fopenstack-ansible~stable%2Focata~I9a05325c6dca69674e026039beee6d914f0c0e41,openstack/openstack-ansible,stable/ocata,I9a05325c6dca69674e026039beee6d914f0c0e41,Unset bootstrap-ansible variables between upgrades,MERGED,2017-04-24 09:49:32.000000000,2017-04-24 20:41:35.000000000,2017-04-24 20:41:35.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-24 09:49:32.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7c140dad0a74aa56ce3d7cd5cb7d46aaf4cc9990', 'message': 'Unset bootstrap-ansible variables between upgrades\n\nDuring upgrade testing, unset environment variables used by the\nbootstrap-ansible script to allow newer versions of Ansible and\nglobal requirements to be installed.\n\nChange-Id: I9a05325c6dca69674e026039beee6d914f0c0e41\n(cherry picked from commit 4279629e5337fcc6f4e4b7310688c1dd852a574d)\n'}]",0,459219,7c140dad0a74aa56ce3d7cd5cb7d46aaf4cc9990,15,4,1,6816,,,0,"Unset bootstrap-ansible variables between upgrades

During upgrade testing, unset environment variables used by the
bootstrap-ansible script to allow newer versions of Ansible and
global requirements to be installed.

Change-Id: I9a05325c6dca69674e026039beee6d914f0c0e41
(cherry picked from commit 4279629e5337fcc6f4e4b7310688c1dd852a574d)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/19/459219/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,7c140dad0a74aa56ce3d7cd5cb7d46aaf4cc9990,periodic_upgrades, # Unset environment variables used by the bootstrap-ansible # script to allow newer versions of Ansible and global # requirements to be installed. unset ANSIBLE_PACKAGE unset UPPER_CONSTRAINTS_FILE ,,6,0
openstack%2Frpm-packaging~stable%2Fnewton~I786700363b24ef93a897fccbd1f4f6f6461b1aff,openstack/rpm-packaging,stable/newton,I786700363b24ef93a897fccbd1f4f6f6461b1aff,Update python-keystoneclient to 3.5.1,MERGED,2017-03-13 11:28:22.000000000,2017-04-24 20:39:11.000000000,2017-04-24 20:37:01.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7613}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-03-13 11:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/66894057e7fa96a1eb54229ef53236f044b1c017', 'message': 'Update python-keystoneclient to 3.5.1\n\nChange-Id: I786700363b24ef93a897fccbd1f4f6f6461b1aff\nDepends-On: Ie932da0e112aa55465b735283a3cf85eab79aac5\n'}, {'number': 2, 'created': '2017-03-13 11:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5ecfef2c92dc67a43aaa1ce299ca47975812bea4', 'message': 'Update python-keystoneclient to 3.5.1\n\nChange-Id: I786700363b24ef93a897fccbd1f4f6f6461b1aff\nDepends-On: Ie932da0e112aa55465b735283a3cf85eab79aac5\nDepends-On: Icf941cc87ee608b5f3e740588fc2178203b52ca2\n'}, {'number': 3, 'created': '2017-03-16 13:31:19.000000000', 'files': ['openstack/python-keystoneclient/python-keystoneclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/dffff304151076b96d749b207b0557efbc93c637', 'message': 'Update python-keystoneclient to 3.5.1\n\nChange-Id: I786700363b24ef93a897fccbd1f4f6f6461b1aff\nDepends-On: If3af97238cd4c37920d53f4bd9a7ee58635ec4c0\nDepends-On: Icf941cc87ee608b5f3e740588fc2178203b52ca2\n'}]",0,444831,dffff304151076b96d749b207b0557efbc93c637,43,8,3,7102,,,0,"Update python-keystoneclient to 3.5.1

Change-Id: I786700363b24ef93a897fccbd1f4f6f6461b1aff
Depends-On: If3af97238cd4c37920d53f4bd9a7ee58635ec4c0
Depends-On: Icf941cc87ee608b5f3e740588fc2178203b52ca2
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/31/444831/3 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-keystoneclient/python-keystoneclient.spec.j2'],1,66894057e7fa96a1eb54229ef53236f044b1c017,stable-newton,Version: 3.5.1,Version: 3.5.0,1,1
openstack%2Frpm-packaging~master~I9f71e7e27c7bf6f6da7cea9ae698a58826fe7d1d,openstack/rpm-packaging,master,I9f71e7e27c7bf6f6da7cea9ae698a58826fe7d1d,Update futurist to 0.23.0,ABANDONED,2017-03-13 17:42:22.000000000,2017-04-24 20:36:15.000000000,,[],"[{'number': 1, 'created': '2017-03-13 17:42:22.000000000', 'files': ['openstack/futurist/futurist.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b83f554ec59674857b0b907e9840dab63dce9cbe', 'message': 'Update futurist to 0.23.0\n\nChange-Id: I9f71e7e27c7bf6f6da7cea9ae698a58826fe7d1d\nDepends-on: Ie36455213ceba41eceee2af27324a5ddbc6e33fa\n'}]",0,445025,b83f554ec59674857b0b907e9840dab63dce9cbe,2,0,1,17130,,,0,"Update futurist to 0.23.0

Change-Id: I9f71e7e27c7bf6f6da7cea9ae698a58826fe7d1d
Depends-on: Ie36455213ceba41eceee2af27324a5ddbc6e33fa
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/25/445025/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/futurist/futurist.spec.j2'],1,b83f554ec59674857b0b907e9840dab63dce9cbe,update-futurist,Version: 0.23.0,Version: 0.22.0,1,1
openstack%2Ftempest~master~If551a3879cf6274ecd3ec2a1aadddc0e0a7cc09f,openstack/tempest,master,If551a3879cf6274ecd3ec2a1aadddc0e0a7cc09f,WIP Add compute consoles client and tests.,ABANDONED,2017-02-13 22:51:33.000000000,2017-04-24 20:35:11.000000000,,"[{'_account_id': 3}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-02-13 22:51:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/69d0eaf663c325de54a13fe28b0e4d0b987d0391', 'message': 'WIP Add compute consoles client and tests.\n\nChange-Id: If551a3879cf6274ecd3ec2a1aadddc0e0a7cc09f\nImplements: blueprint missing-server-consoles-api-test\n'}, {'number': 2, 'created': '2017-02-14 03:08:02.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/tests/lib/services/compute/test_consoles_client.py', 'tempest/clients.py', 'tempest/api/compute/servers/test_server_consoles.py', 'tempest/lib/services/compute/consoles_client.py', 'tempest/lib/api_schema/response/compute/v2_1/consoles.py', 'tempest/lib/services/compute/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/97e10030ac256b3cc914dc2d637e2ab955f40a2e', 'message': 'WIP Add compute consoles client and tests.\n\nChange-Id: If551a3879cf6274ecd3ec2a1aadddc0e0a7cc09f\nImplements: blueprint missing-server-consoles-api-test\n'}]",0,433319,97e10030ac256b3cc914dc2d637e2ab955f40a2e,7,2,2,23186,,,0,"WIP Add compute consoles client and tests.

Change-Id: If551a3879cf6274ecd3ec2a1aadddc0e0a7cc09f
Implements: blueprint missing-server-consoles-api-test
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/433319/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/tests/lib/services/compute/test_consoles_client.py', 'tempest/clients.py', 'tempest/api/compute/servers/test_server_consoles.py', 'tempest/lib/services/compute/consoles_client.py', 'tempest/lib/api_schema/response/compute/v2_1/consoles.py', 'tempest/lib/services/compute/__init__.py']",7,69d0eaf663c325de54a13fe28b0e4d0b987d0391,bp/missing-server-consoles-api-test,"from tempest.lib.services.compute.consoles_client import ConsolesClient 'BaremetalNodesClient', 'CertificatesClient', 'ConsolesClient', 'ExtensionsClient', 'FixedIPsClient', 'FlavorsClient', 'FloatingIPPoolsClient', 'FloatingIPsBulkClient', 'FloatingIPsClient', 'HostsClient', 'HypervisorClient', 'ImagesClient', 'InstanceUsagesAuditLogClient', 'InterfacesClient', 'KeyPairsClient', 'LimitsClient', 'MigrationsClient', 'NetworksClient', 'QuotaClassesClient', 'QuotasClient', 'SecurityGroupDefaultRulesClient', 'SecurityGroupRulesClient', 'SecurityGroupsClient', 'ServerGroupsClient', 'ServersClient', 'ServicesClient', 'SnapshotsClient', 'TenantNetworksClient', 'TenantUsagesClient', 'VersionsClient', 'VolumesClient']"," 'BaremetalNodesClient', 'CertificatesClient', 'ExtensionsClient', 'FixedIPsClient', 'FlavorsClient', 'FloatingIPPoolsClient', 'FloatingIPsBulkClient', 'FloatingIPsClient', 'HostsClient', 'HypervisorClient', 'ImagesClient', 'InstanceUsagesAuditLogClient', 'InterfacesClient', 'KeyPairsClient', 'LimitsClient', 'MigrationsClient', 'NetworksClient', 'QuotaClassesClient', 'QuotasClient', 'SecurityGroupDefaultRulesClient', 'SecurityGroupRulesClient', 'SecurityGroupsClient', 'ServerGroupsClient', 'ServersClient', 'ServicesClient', 'SnapshotsClient', 'TenantNetworksClient', 'TenantUsagesClient', 'VersionsClient', 'VolumesClient']",374,11
openstack%2Fironic~master~Iab7bb24d0aa89cdbef40b2e60331976325a31cab,openstack/ironic,master,Iab7bb24d0aa89cdbef40b2e60331976325a31cab,Ensure we install latest libivrt,MERGED,2017-04-21 07:28:06.000000000,2017-04-24 20:34:56.000000000,2017-04-21 15:12:22.000000000,"[{'_account_id': 3}, {'_account_id': 6637}, {'_account_id': 10379}, {'_account_id': 12356}, {'_account_id': 14525}, {'_account_id': 17998}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-04-21 07:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b4016e7bf4510e22f538a96bff656946a1a85cb', 'message': 'Install libvirt-bin later during stack.sh\n\nBy installing libivrt-bin later will allow to get latest\nversion from UCA repos, as they added during stack.sh\n\nChange-Id: Iab7bb24d0aa89cdbef40b2e60331976325a31cab\n'}, {'number': 2, 'created': '2017-04-21 07:53:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fe5469f76a830eb956fffb235e661e09be374af2', 'message': 'Install libvirt-bin later during stack.sh\n\nBy installing libivrt-bin later will allow to get latest\nversion from UCA repos, as they added during stack.sh\n\nChange-Id: Iab7bb24d0aa89cdbef40b2e60331976325a31cab\n'}, {'number': 3, 'created': '2017-04-21 08:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e461bfa0f11720f9d060a32dd086fab9120f82f1', 'message': 'Install libvirt-bin later during stack.sh\n\nBy installing libivrt-bin later will allow to get latest\nversion from UCA repos, as they added during stack.sh\n\nChange-Id: Iab7bb24d0aa89cdbef40b2e60331976325a31cab\n'}, {'number': 4, 'created': '2017-04-21 08:53:41.000000000', 'files': ['devstack/plugin.sh', 'devstack/files/debs/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ab3982eb27a2dd844885d367feaa87e7e0db17d2', 'message': 'Ensure we install latest libivrt\n\nRecently infra team added UCA repositories and start installing libvirt\nfrom it Ia4434541c71f050fe1ffb54f4c4c1e302391d00b\nThis patch ensures that libvirt-bin is installed later during stack.sh\nphase when new repos are added.\n\nChange-Id: Iab7bb24d0aa89cdbef40b2e60331976325a31cab\n'}]",3,458747,ab3982eb27a2dd844885d367feaa87e7e0db17d2,21,7,4,14525,,,0,"Ensure we install latest libivrt

Recently infra team added UCA repositories and start installing libvirt
from it Ia4434541c71f050fe1ffb54f4c4c1e302391d00b
This patch ensures that libvirt-bin is installed later during stack.sh
phase when new repos are added.

Change-Id: Iab7bb24d0aa89cdbef40b2e60331976325a31cab
",git fetch https://review.opendev.org/openstack/ironic refs/changes/47/458747/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/files/debs/ironic'],1,7b4016e7bf4510e22f538a96bff656946a1a85cb,(HEAD,libvirt-bin # dist:xenial NOPRIME,libvirt-bin,1,1
openstack%2Ftraining-guides~master~I8ef76189394684ae273e31a514dd3ee0a85a6db2,openstack/training-guides,master,I8ef76189394684ae273e31a514dd3ee0a85a6db2,[upstream] Add core info to governance slides,MERGED,2017-04-20 18:44:21.000000000,2017-04-24 20:34:47.000000000,2017-04-24 20:34:47.000000000,"[{'_account_id': 3}, {'_account_id': 7198}, {'_account_id': 9562}, {'_account_id': 11564}, {'_account_id': 14482}, {'_account_id': 15993}, {'_account_id': 23185}]","[{'number': 1, 'created': '2017-04-20 18:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/b00fb510e4f5caf03116ee3364b6637b2010f4a3', 'message': ""[upstream] Add core info to governance slides\n\nWhile running through the slides with my team they were\nsurprised we didn't have anything about the core team members\nalong with the description of the Project Teams.  So,\nadding mention of that here, and re-ordering the slides so that\nwe have the Project Team description immediately followed by\ndescription of the PTL and Core Team Members.\n\nChange-Id: I8ef76189394684ae273e31a514dd3ee0a85a6db2\n""}, {'number': 2, 'created': '2017-04-20 19:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/7a93a4571fa4fc302db073bed82ae97fbd26ed0d', 'message': ""[upstream] Add core info to governance slides\n\nWhile running through the slides with my team they were\nsurprised we didn't have anything about the core team members\nalong with the description of the Project Teams.  So,\nadding mention of that here, and re-ordering the slides so that\nwe have the Project Team description immediately followed by\ndescription of the PTL and Core Team Members.\n\nChange-Id: I8ef76189394684ae273e31a514dd3ee0a85a6db2\n""}, {'number': 3, 'created': '2017-04-20 20:13:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/training-guides/commit/bf44b0d987af23fd530b3080f8a9051ee626d9b9', 'message': ""[upstream] Add core info to governance slides\n\nWhile running through the slides with my team they were\nsurprised we didn't have anything about the core team members\nalong with the description of the Project Teams.  So,\nadding mention of that here, and re-ordering the slides so that\nwe have the Project Team description immediately followed by\ndescription of the PTL and Core Team Members.\n\nChange-Id: I8ef76189394684ae273e31a514dd3ee0a85a6db2\n""}, {'number': 4, 'created': '2017-04-21 12:50:14.000000000', 'files': ['doc/upstream-training/source/slides/howitsmade-governance.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/af735f3156e407c2b9202b7530f05305f2f0b04e', 'message': ""[upstream] Add core info to governance slides\n\nWhile running through the slides with my team they were\nsurprised we didn't have anything about the core team members\nalong with the description of the Project Teams.  So,\nadding mention of that here, and re-ordering the slides so that\nwe have the Project Team description immediately followed by\ndescription of the PTL and Core Team Members.\n\nChange-Id: I8ef76189394684ae273e31a514dd3ee0a85a6db2\n""}]",4,458613,af735f3156e407c2b9202b7530f05305f2f0b04e,25,7,4,7198,,,0,"[upstream] Add core info to governance slides

While running through the slides with my team they were
surprised we didn't have anything about the core team members
along with the description of the Project Teams.  So,
adding mention of that here, and re-ordering the slides so that
we have the Project Team description immediately followed by
description of the PTL and Core Team Members.

Change-Id: I8ef76189394684ae273e31a514dd3ee0a85a6db2
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/13/458613/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/slides/howitsmade-governance.rst'],1,b00fb510e4f5caf03116ee3364b6637b2010f4a3,add-core-info-governance, and are lead by a Project Team Lead and Core teamProject Team Leads (PTLs) ========================= - Manage day-to-day operations - Drive the program goals - Resolve technical disputes - Elected from and by the group of APC's Core Team Members ================= - Have authority to merge code into a project - Assist the PTL in driving program goals - May also be stable core members (able to merge to stable branches) - Elected by PTL and other Core Team Members .. note:: - Election process is more informal than PTLs. - PTL or Core Team Member nominates a person. - PTL e-mails nomination to mailing list. - Person is elected if no team members object to the nomination. Exercise ======== - Determine who the PTL is for your favorite project - Determine the Core Team list for your favorite project ,Project Team Leads (PTLs) ========================= - Manage day-to-day operations - Drive the program goals - Resolve technical disputes - Elected from and by the group of APC's,29,6
openstack%2Fpuppet-panko~stable%2Focata~Ia84e90146c020563d5b6c7e90e1dc9f39fd56b8f,openstack/puppet-panko,stable/ocata,Ia84e90146c020563d5b6c7e90e1dc9f39fd56b8f,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:44:43.000000000,2017-04-24 20:33:37.000000000,2017-04-24 20:33:37.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:44:43.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/94967a303528d8eff1d1121444208806ffcd23d5', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: Ia84e90146c020563d5b6c7e90e1dc9f39fd56b8f\n'}]",0,459374,94967a303528d8eff1d1121444208806ffcd23d5,7,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: Ia84e90146c020563d5b6c7e90e1dc9f39fd56b8f
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/74/459374/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,94967a303528d8eff1d1121444208806ffcd23d5,ocata/gemfile," gem 'puppet-openstack_spec_helper', :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/ocata', :require => false"," gem 'puppet-openstack_spec_helper', :require => 'false', :git => 'https://git.openstack.org/openstack/puppet-openstack_spec_helper'",4,1
openstack%2Fopenstack-ansible-os_nova~stable%2Focata~I98018fca9c277248b77b60081ea560c012b370af,openstack/openstack-ansible-os_nova,stable/ocata,I98018fca9c277248b77b60081ea560c012b370af,Enable Nginx for nova-placement,MERGED,2017-04-24 14:21:37.000000000,2017-04-24 20:24:15.000000000,2017-04-24 20:24:15.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 13095}, {'_account_id': 15993}]","[{'number': 1, 'created': '2017-04-24 14:21:37.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/227e4c8e01efbb50cbd3da4668c061b4daa5fcd6', 'message': 'Enable Nginx for nova-placement\n\nOn CentOS the default is to have service disabled, this ensure nginx is enabled.\n\nCloses-bug: 1681533\nChange-Id: I98018fca9c277248b77b60081ea560c012b370af\n(cherry picked from commit fa3797d8577d38c7b4c3cb652103f4987caba574)\n'}]",0,459326,227e4c8e01efbb50cbd3da4668c061b4daa5fcd6,7,4,1,6816,,,0,"Enable Nginx for nova-placement

On CentOS the default is to have service disabled, this ensure nginx is enabled.

Closes-bug: 1681533
Change-Id: I98018fca9c277248b77b60081ea560c012b370af
(cherry picked from commit fa3797d8577d38c7b4c3cb652103f4987caba574)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/26/459326/1 && git format-patch -1 --stdout FETCH_HEAD,['handlers/main.yml'],1,227e4c8e01efbb50cbd3da4668c061b4daa5fcd6,bug/1681533, enabled: yes,,1,0
openstack%2Frequirements~master~If0924627c4914faee529ef45d5e4104c23413cac,openstack/requirements,master,If0924627c4914faee529ef45d5e4104c23413cac,update constraint for castellan to new release 0.7.0,MERGED,2017-04-24 17:18:21.000000000,2017-04-24 20:22:17.000000000,2017-04-24 20:22:17.000000000,"[{'_account_id': 3}, {'_account_id': 6593}]","[{'number': 1, 'created': '2017-04-24 17:18:21.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/14b5d08b213938ee6c6265694bc61e52afc64d9b', 'message': 'update constraint for castellan to new release 0.7.0\n\nChange-Id: If0924627c4914faee529ef45d5e4104c23413cac\nmeta:version: 0.7.0\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nmeta:release:Commit: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nmeta:release:Change-Id: I9645c5241034ba68fad3e715a1bc43b1982e10d1\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,459412,14b5d08b213938ee6c6265694bc61e52afc64d9b,6,2,1,11131,,,0,"update constraint for castellan to new release 0.7.0

Change-Id: If0924627c4914faee529ef45d5e4104c23413cac
meta:version: 0.7.0
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: no
meta:first: no
meta:release:Author: ChangBo Guo(gcb) <eric.guo@easystack.cn>
meta:release:Commit: ChangBo Guo(gcb) <eric.guo@easystack.cn>
meta:release:Change-Id: I9645c5241034ba68fad3e715a1bc43b1982e10d1
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/12/459412/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,14b5d08b213938ee6c6265694bc61e52afc64d9b,new-release,castellan===0.7.0,castellan===0.6.0,1,1
openstack%2Fopenstack-ansible-tests~master~Iefe86bbebac49efb6a3a98b5e070ff11e7fb07b2,openstack/openstack-ansible-tests,master,Iefe86bbebac49efb6a3a98b5e070ff11e7fb07b2,Add become to neutron install play,MERGED,2017-04-24 17:55:33.000000000,2017-04-24 20:21:00.000000000,2017-04-24 20:21:00.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 15993}]","[{'number': 1, 'created': '2017-04-24 17:55:33.000000000', 'files': ['test-install-neutron.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/53d9f35023b24ea339c5d3feffbdf1dd033963e9', 'message': 'Add become to neutron install play\n\nThis was missed in I08cada62636a1a7a1e2c1b15e0052876437e24aa\n\nChange-Id: Iefe86bbebac49efb6a3a98b5e070ff11e7fb07b2\n'}]",0,459417,53d9f35023b24ea339c5d3feffbdf1dd033963e9,7,3,1,14805,,,0,"Add become to neutron install play

This was missed in I08cada62636a1a7a1e2c1b15e0052876437e24aa

Change-Id: Iefe86bbebac49efb6a3a98b5e070ff11e7fb07b2
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/17/459417/1 && git format-patch -1 --stdout FETCH_HEAD,['test-install-neutron.yml'],1,53d9f35023b24ea339c5d3feffbdf1dd033963e9,fix-2.3, become: true,,1,0
openstack%2Fos-vif~stable%2Focata~I16b33fedd9773c37a0368264aecb5581153ba404,openstack/os-vif,stable/ocata,I16b33fedd9773c37a0368264aecb5581153ba404,vif_plug_ovs: Skip setting MTU on Windows when plugging devices,MERGED,2017-03-14 15:49:30.000000000,2017-04-24 20:17:43.000000000,2017-04-24 20:17:43.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 11604}]","[{'number': 1, 'created': '2017-03-14 15:49:30.000000000', 'files': ['vif_plug_ovs/linux_net.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/619c5e920e63109ed551fe2304fe7c394aa62b85', 'message': 'vif_plug_ovs: Skip setting MTU on Windows when plugging devices\n\nHyper-V with OVS does not support setting the MTU\nof a Virtual interface externally to the VM.\n\nThis change disable the use of ip tool to set\nthe MTU on the guest interface which will always\nfail on Windows.\n\nOn Windows based compute nodes, MTU advertisement\nand configuration will be delegated to\nthe guest os via the DHCP mechanism.\n\nCloses-Bug: #1654616\n\nChange-Id: I16b33fedd9773c37a0368264aecb5581153ba404\n(cherry picked from commit f7502923f271d1edfc5b6236478725124f66506c)\n'}]",0,445540,619c5e920e63109ed551fe2304fe7c394aa62b85,13,7,1,17019,,,0,"vif_plug_ovs: Skip setting MTU on Windows when plugging devices

Hyper-V with OVS does not support setting the MTU
of a Virtual interface externally to the VM.

This change disable the use of ip tool to set
the MTU on the guest interface which will always
fail on Windows.

On Windows based compute nodes, MTU advertisement
and configuration will be delegated to
the guest os via the DHCP mechanism.

Closes-Bug: #1654616

Change-Id: I16b33fedd9773c37a0368264aecb5581153ba404
(cherry picked from commit f7502923f271d1edfc5b6236478725124f66506c)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/40/445540/1 && git format-patch -1 --stdout FETCH_HEAD,['vif_plug_ovs/linux_net.py'],1,619c5e920e63109ed551fe2304fe7c394aa62b85,,"import sys if sys.platform != constants.PLATFORM_WIN32: # Hyper-V with OVS does not support external programming of virtual # interface MTUs via netsh or other Windows tools. # When plugging an interface on Windows, we therefore skip # programming the MTU and fallback to DHCP advertisement. _set_device_mtu(dev, mtu)"," _set_device_mtu(dev, mtu)",7,1
openstack%2Ftripleo-heat-templates~stable%2Focata~I0d6dae0fd24e3dfd89b8d5c9ddee29d4c94636f7,openstack/tripleo-heat-templates,stable/ocata,I0d6dae0fd24e3dfd89b8d5c9ddee29d4c94636f7,Add DeploymentSwiftDataMap parameter,ABANDONED,2017-04-24 16:14:04.000000000,2017-04-24 20:16:07.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-04-24 16:14:04.000000000', 'files': ['puppet/compute-role.yaml', 'puppet/cephstorage-role.yaml', 'puppet/role.role.j2.yaml', 'puppet/objectstorage-role.yaml', 'releasenotes/notes/add-deploymentswiftdatamap-parameter-351ee63800016e4d.yaml', 'puppet/blockstorage-role.yaml', 'puppet/controller-role.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/924ef9fe2105b7375167636660c16b619a1c1a52', 'message': ""Add DeploymentSwiftDataMap parameter\n\nThe DeploymentSwiftDataMap parameter is used to set the\ndeployment_swift_data property on the Server resoures. The parameter is\na map of role names and node indexes to Swift container and object names\nto be used for storing deployment data.\n\nThe parameter allows for using predefined Swift objects for storing\ndeployment data instead of container/object names with generated uuid's\nfrom Heat.\n\nimplements blueprint split-stack-default\nDepends-On: Ia07e9374a4b95bd0e74fc47fb9df4bf6ad096715\n\nChange-Id: I0d6dae0fd24e3dfd89b8d5c9ddee29d4c94636f7\n""}]",0,459398,924ef9fe2105b7375167636660c16b619a1c1a52,3,1,1,7144,,,0,"Add DeploymentSwiftDataMap parameter

The DeploymentSwiftDataMap parameter is used to set the
deployment_swift_data property on the Server resoures. The parameter is
a map of role names and node indexes to Swift container and object names
to be used for storing deployment data.

The parameter allows for using predefined Swift objects for storing
deployment data instead of container/object names with generated uuid's
from Heat.

implements blueprint split-stack-default
Depends-On: Ia07e9374a4b95bd0e74fc47fb9df4bf6ad096715

Change-Id: I0d6dae0fd24e3dfd89b8d5c9ddee29d4c94636f7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/459398/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/compute-role.yaml', 'puppet/cephstorage-role.yaml', 'puppet/objectstorage-role.yaml', 'puppet/role.role.j2.yaml', 'releasenotes/notes/add-deploymentswiftdatamap-parameter-351ee63800016e4d.yaml', 'puppet/blockstorage-role.yaml', 'puppet/controller-role.yaml']",7,924ef9fe2105b7375167636660c16b619a1c1a52,bp/split-stack-default," DeploymentSwiftDataMap: type: json description: | Map of servers to Swift containers/objects for using for storing deployment data. The keys are role names, and the value is another dictionary whose keys are the node indexes and values are another dict of Swift container/object name. Example: { 'Controller': { '0': { 'container': 'controller', 'object': '0' }, '1': { 'container': 'controller', 'object': '1' }, '2': { 'container': 'controller', 'object': '2' }, }, 'Compute': '0': { 'container': 'compute', 'object': '0' }, } default: {} deployment_swift_data: {get_param: [DeploymentSwiftDataMap, 'Controller', {get_param: NodeIndex}]}",,198,0
openstack%2Fpatrole~master~I5c00fdb345556066343bdaeb5f008d639a94bc4b,openstack/patrole,master,I5c00fdb345556066343bdaeb5f008d639a94bc4b,Identity trust rbac tests,MERGED,2017-04-13 22:03:14.000000000,2017-04-24 20:06:17.000000000,2017-04-24 20:06:17.000000000,"[{'_account_id': 3}, {'_account_id': 17896}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-04-13 22:03:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/800fc28289ef94c0bff79de26f439058493d6a76', 'message': 'Identity trust rbac tests\n\nAdd identity trust rbac tests corresponding to the policy actions\nin [0].\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/trust.py\n\nDepends-On: Ib82e8b8a0d6c8587fb0b1ce415e751c3ebc3c2f9\nChange-Id: I5c00fdb345556066343bdaeb5f008d639a94bc4b\n'}, {'number': 2, 'created': '2017-04-14 02:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/87bf1c26884097fbfd352fb72ba615fa3b8feb07', 'message': '[WIP] Identity trust rbac tests\n\nAdd identity trust rbac tests corresponding to the policy actions\nin [0].\n\nMost of the policy actions in [0] have a rule of \'\' (empty string),\nmeaning any role can perform the action. However, the\n""identity:create_trust"" policy action has a rule of\nbase.RULE_TRUST_OWNER which translates to:\n\n  user_id:%(trust.trustor_user_id)s [1].\n\nThis is a rather unique rule, one that is not dependent on the\ncurrent user\'s user_id, project_id or even role. Rather, this\nrule translates to: ""Does the current user\'s user_id match\nthe user_id of the trustor creating a trust with a trustee?""\n\nAs should be expected, ""trust.trustor_user_id"" can only be\ndynamically calculated at runtime, rather than immediately\nretrieved from a tempest credential variable, as is the case\nwith user_id and project_id.\n\nHence, this patch not only 1) creates trust rbac tests but 2)\nenhances the framework, particularly the rbac_rule_validation\ndecorator, as well as the rbac_policy_parser framework, to\nhandle additional target data that must be passed to\noslo-policy-checker in order for proper authorization\ndetermination to be calculated by the patrole framework.\n\nThe ""target"" parameter in oslo.policy is a dictionary that\ncontains ""As much information about the object being\noperated on as possible"" [2]. Accordingly, the\nrbac_rule_validation decorator has been enhanced with a new\nparam called `extra_target_data` that is a dictionary\ncontaining key-value pairs of dynamically calculated\ndata needed by oslo.policy to correctly determine whether\nthe ""target"" has authorization to perform a policy action.\n\nFor example,\n\n    extra_target_data={\n        ""trust.trustor_user_id"": ""os.auth_provider.credentials.user_id""\n    })\n\nmeans that the policy action ""trust.trustor_user_id"" corresponds to\nthe ""test_obj.os.auth_provider.credentials.user_id"" where test_obj\nis an instance of a tempest test. This relationship is true\nbecause the trustor in the trust that is created has the primary\ncredentia\'s user_id (i.e. cls.trustor_user_id =\ncls.auth_provider.credentials.user_id).\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/trust.py\n[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/base.py\n[2] https://docs.openstack.org/developer/oslo.policy/api/oslo_policy.html\n\nDepends-On: Ib82e8b8a0d6c8587fb0b1ce415e751c3ebc3c2f9\nChange-Id: I5c00fdb345556066343bdaeb5f008d639a94bc4b\n'}, {'number': 3, 'created': '2017-04-14 04:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/2b78802cb931bc221a1ecf970756119082925302', 'message': '[WIP] Identity trust rbac tests\n\nAdd identity trust rbac tests corresponding to the policy actions\nin [0].\n\nMost of the policy actions in [0] have a rule of \'\' (empty string),\nmeaning any role can perform the action. However, the\n""identity:create_trust"" policy action has a rule of\nbase.RULE_TRUST_OWNER which translates to:\n\n  user_id:%(trust.trustor_user_id)s [1].\n\nThis is a rather unique rule, one that is not dependent on the\ncurrent user\'s user_id, project_id or even role. Rather, this\nrule translates to: ""Does the current user\'s user_id match\nthe user_id of the trustor creating a trust with a trustee?""\n\nAs should be expected, ""trust.trustor_user_id"" can only be\ndynamically calculated at runtime, rather than immediately\nretrieved from a tempest credential variable, as is the case\nwith user_id and project_id.\n\nHence, this patch not only 1) creates trust rbac tests but 2)\nenhances the framework, particularly the rbac_rule_validation\ndecorator, as well as the rbac_policy_parser framework, to\nhandle additional target data that must be passed to\noslo-policy-checker in order for proper authorization\ndetermination to be calculated by the patrole framework.\n\nThe ""target"" parameter in oslo.policy is a dictionary that\ncontains ""As much information about the object being\noperated on as possible"" [2]. Accordingly, the\nrbac_rule_validation decorator has been enhanced with a new\nparam called `extra_target_data` that is a dictionary\ncontaining key-value pairs of dynamically calculated\ndata needed by oslo.policy to correctly determine whether\nthe ""target"" has authorization to perform a policy action.\n\nFor example,\n\n    extra_target_data={\n        ""trust.trustor_user_id"": ""os.auth_provider.credentials.user_id""\n    })\n\nmeans that the policy action ""trust.trustor_user_id"" corresponds to\nthe ""test_obj.os.auth_provider.credentials.user_id"" where test_obj\nis an instance of a tempest test. This relationship is true\nbecause the trustor in the trust that is created has the primary\ncredentia\'s user_id (i.e. cls.trustor_user_id =\ncls.auth_provider.credentials.user_id).\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/trust.py\n[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/base.py\n[2] https://docs.openstack.org/developer/oslo.policy/api/oslo_policy.html\n\nDepends-On: Ib82e8b8a0d6c8587fb0b1ce415e751c3ebc3c2f9\nChange-Id: I5c00fdb345556066343bdaeb5f008d639a94bc4b\n'}, {'number': 4, 'created': '2017-04-14 14:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/d34e6c5e067142fba04c1427ea662b210fc5a391', 'message': '[WIP] Identity trust rbac tests\n\nAdd identity trust rbac tests corresponding to the policy actions\nin [0].\n\nMost of the policy actions in [0] have a rule of \'\' (empty string),\nmeaning any role can perform the action. However, the\n""identity:create_trust"" policy action has a rule of\nbase.RULE_TRUST_OWNER which translates to:\n\n  user_id:%(trust.trustor_user_id)s [1].\n\nThis is a rather unique rule, one that is not dependent on the\ncurrent user\'s user_id, project_id or even role. Rather, this\nrule translates to: ""Does the current user\'s user_id match\nthe user_id of the trustor creating a trust with a trustee?""\n\nAs should be expected, ""trust.trustor_user_id"" can only be\ndynamically calculated at runtime, rather than immediately\nretrieved from a tempest credential variable, as is the case\nwith user_id and project_id.\n\nHence, this patch not only 1) creates trust rbac tests but 2)\nenhances the framework, particularly the rbac_rule_validation\ndecorator, as well as the rbac_policy_parser framework, to\nhandle additional target data that must be passed to\noslo-policy-checker in order for proper authorization\ndetermination to be calculated by the patrole framework.\n\nThe ""target"" parameter in oslo.policy is a dictionary that\ncontains ""As much information about the object being\noperated on as possible"" [2]. Accordingly, the\nrbac_rule_validation decorator has been enhanced with a new\nparam called `extra_target_data` that is a dictionary\ncontaining key-value pairs of dynamically calculated\ndata needed by oslo.policy to correctly determine whether\nthe ""target"" has authorization to perform a policy action.\n\nFor example,\n\n    extra_target_data={\n        ""trust.trustor_user_id"": ""os.auth_provider.credentials.user_id""\n    })\n\nmeans that trust.trustor_user_id equals to the primary credential\'s\nuser_id. So, if a trustor\'s user_id equals to the primary credential\'s\nuser_id, then the policy parser will return True for `is_allowed`.\nHowever, if a trustor\'s user_id doesn\'tequal to the primary credential\'s\nuser_id, but rather the alt credential\'s user_id, say, then `is_allowed`\nreturns False.\n\nThus, the only way to do negative testing with test_trusts_rbac is\nto explicitly create a negative test, as described in the above\nparagraph, which is what this patch does. Normally, negative testing\nis baked in, dependent on the `rbac_test_role`, but with more\ncomplicated policy enforcement as described above, this is not\npossible (unless possibly using pre-provisioned credentials, which\nPatrole doesn\'t currently do).\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/trust.py\n[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/base.py\n[2] https://docs.openstack.org/developer/oslo.policy/api/oslo_policy.html\n\nDepends-On: Ib82e8b8a0d6c8587fb0b1ce415e751c3ebc3c2f9\nChange-Id: I5c00fdb345556066343bdaeb5f008d639a94bc4b\n'}, {'number': 5, 'created': '2017-04-14 14:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/bdf7391fc6383f891abf36cb53c8af8549b58be8', 'message': '[WIP] Identity trust rbac tests\n\nAdd identity trust rbac tests corresponding to the policy actions\nin [0].\n\nMost of the policy actions in [0] have a rule of \'\' (empty string),\nmeaning any role can perform the action. However, the\n""identity:create_trust"" policy action has a rule of\nbase.RULE_TRUST_OWNER which translates to:\n\n  user_id:%(trust.trustor_user_id)s [1].\n\nThis is a rather unique rule, one that is not dependent on the\ncurrent user\'s user_id, project_id or even role. Rather, this\nrule translates to: ""Does the current user\'s user_id match\nthe user_id of the trustor creating a trust with a trustee?""\n\nAs should be expected, ""trust.trustor_user_id"" can only be\ndynamically calculated at runtime, rather than immediately\nretrieved from a tempest credential variable, as is the case\nwith user_id and project_id.\n\nHence, this patch not only 1) creates trust rbac tests but 2)\nenhances the framework, particularly the rbac_rule_validation\ndecorator, as well as the rbac_policy_parser framework, to\nhandle additional target data that must be passed to\noslo-policy-checker in order for proper authorization\ndetermination to be calculated by the patrole framework.\n\nThe ""target"" parameter in oslo.policy is a dictionary that\ncontains ""As much information about the object being\noperated on as possible"" [2]. Accordingly, the\nrbac_rule_validation decorator has been enhanced with a new\nparam called `extra_target_data` that is a dictionary\ncontaining key-value pairs of dynamically calculated\ndata needed by oslo.policy to correctly determine whether\nthe ""target"" has authorization to perform a policy action.\n\nFor example,\n\n    extra_target_data={\n        ""trust.trustor_user_id"": ""os.auth_provider.credentials.user_id""\n    })\n\nmeans that trust.trustor_user_id equals to the primary credential\'s\nuser_id. So, if a trustor\'s user_id equals to the primary credential\'s\nuser_id, then the policy parser will return True for `is_allowed`.\nHowever, if a trustor\'s user_id doesn\'tequal to the primary credential\'s\nuser_id, but rather the alt credential\'s user_id, say, then `is_allowed`\nreturns False.\n\nThus, the only way to do negative testing with test_trusts_rbac is\nto explicitly create a negative test, as described in the above\nparagraph, which is what this patch does. Normally, negative testing\nis baked in, dependent on the `rbac_test_role`, but with more\ncomplicated policy enforcement as described above, this is not\npossible (unless possibly using pre-provisioned credentials, which\nPatrole doesn\'t currently do).\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/trust.py\n[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/base.py\n[2] https://docs.openstack.org/developer/oslo.policy/api/oslo_policy.html\n\nDepends-On: Ib82e8b8a0d6c8587fb0b1ce415e751c3ebc3c2f9\nChange-Id: I5c00fdb345556066343bdaeb5f008d639a94bc4b\n'}, {'number': 6, 'created': '2017-04-14 16:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/38255d38a697ef4a2fc09c4ccd446d6fae3e226f', 'message': 'Identity trust rbac tests\n\nAdd identity trust rbac tests corresponding to the policy actions\nin [0].\n\nMost of the policy actions in [0] have a rule of \'\' (empty string),\nmeaning any role can perform the action. However, the\n""identity:create_trust"" policy action has a rule of\nbase.RULE_TRUST_OWNER which translates to:\n\n  user_id:%(trust.trustor_user_id)s [1].\n\nThis is a rather unique rule, one that is not dependent on the\ncurrent user\'s user_id, project_id or even role. Rather, this\nrule translates to: ""Does the current user\'s user_id match\nthe user_id of the trustor creating a trust with a trustee?""\n\nAs should be expected, ""trust.trustor_user_id"" can only be\ndynamically calculated at runtime, rather than immediately\nretrieved from a tempest credential variable, as is the case\nwith user_id and project_id.\n\nHence, this patch not only 1) creates trust rbac tests but 2)\nenhances the framework, particularly the rbac_rule_validation\ndecorator, as well as the rbac_policy_parser framework, to\nhandle additional target data that must be passed to\noslo-policy-checker in order for proper authorization\ndetermination.\n\nThe ""target"" parameter in oslo.policy is a dictionary that\ncontains ""As much information about the object being\noperated on as possible"" [2]. Accordingly, the\nrbac_rule_validation decorator has been enhanced with a new\nparam called `extra_target_data` that is a dictionary\ncontaining key-value pairs of dynamically calculated\ndata needed by oslo.policy to correctly determine whether\nthe ""target"" has authorization to perform a policy action.\n\nFor example,\n\n    extra_target_data={\n        ""trust.trustor_user_id"": ""os.auth_provider.credentials.user_id""\n    })\n\nmeans that trust.trustor_user_id equals the primary credential\'s\nuser_id. So, if a trustor\'s user_id equals the primary credential\'s\nuser_id, then the policy parser will return True for `is_allowed`.\nHowever, if a trustor\'s user_id doesn\'tequal to the primary credential\'s\nuser_id, but rather the alt credential\'s user_id, say, then `is_allowed`\nreturns False.\n\nThus, the only way to do negative testing with test_trusts_rbac is\nto explicitly create a negative test, as described in the above\nparagraph, which is what this patch does. Normally, negative testing\nis baked in, dependent on the `rbac_test_role`, but with more\ncomplicated policy enforcement as described above, this is not\npossible.\n\nWhile it is possible to create a new CONF value called trustor_user_id,\nit would require using pre-provisioned credentials, which is something\nPatrole doesn\'t explicitly use.\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/trust.py\n[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/base.py\n[2] https://docs.openstack.org/developer/oslo.policy/api/oslo_policy.html\n\nDepends-On: Ib82e8b8a0d6c8587fb0b1ce415e751c3ebc3c2f9\nChange-Id: I5c00fdb345556066343bdaeb5f008d639a94bc4b\n'}, {'number': 7, 'created': '2017-04-14 20:26:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/b1a46a8e987d30ca8233568b23856fd3d95cbaee', 'message': 'Identity trust rbac tests\n\nAdd identity trust rbac tests corresponding to the policy actions\nin [0].\n\nMost of the policy actions in [0] have a rule of \'\' (empty string),\nmeaning any role can perform the action. However, the\n""identity:create_trust"" policy action has a rule of\nbase.RULE_TRUST_OWNER which translates to:\n\n  user_id:%(trust.trustor_user_id)s [1].\n\nThis is a rather unique rule, one that is not dependent on the\ncurrent user\'s user_id, project_id or even role. Rather, this\nrule translates to: ""Does the current user\'s user_id match\nthe user_id of the trustor creating a trust with a trustee?""\n\nAs should be expected, ""trust.trustor_user_id"" can only be\ndynamically calculated at runtime, rather than immediately\nretrieved from a tempest credential variable, as is the case\nwith user_id and project_id.\n\nHence, this patch not only 1) creates trust rbac tests but 2)\nenhances the framework, particularly the rbac_rule_validation\ndecorator, as well as the rbac_policy_parser framework, to\nhandle additional target data that must be passed to\noslo-policy-checker in order for proper authorization\ndetermination.\n\nThe ""target"" parameter in oslo.policy is a dictionary that\ncontains ""As much information about the object being\noperated on as possible"" [2]. Accordingly, the\nrbac_rule_validation decorator has been enhanced with a new\nparam called `extra_target_data` that is a dictionary\ncontaining key-value pairs of dynamically calculated\ndata needed by oslo.policy to correctly determine whether\nthe ""target"" has authorization to perform a policy action.\n\nFor example,\n\n    extra_target_data={\n        ""trust.trustor_user_id"": ""os.auth_provider.credentials.user_id""\n    })\n\nmeans that trust.trustor_user_id equals the primary credential\'s\nuser_id. So, if a trustor\'s user_id equals the primary credential\'s\nuser_id, then the policy parser will return True for `is_allowed`.\nHowever, if a trustor\'s user_id doesn\'tequal to the primary credential\'s\nuser_id, but rather the alt credential\'s user_id, say, then `is_allowed`\nreturns False.\n\nThus, the only way to do negative testing with test_trusts_rbac is\nto explicitly create a negative test, as described in the above\nparagraph, which is what this patch does. Normally, negative testing\nis baked in, dependent on the `rbac_test_role`, but with more\ncomplicated policy enforcement as described above, this is not\npossible.\n\nWhile it is possible to create a new CONF value called trustor_user_id,\nit would require using pre-provisioned credentials, which is something\nPatrole doesn\'t explicitly use.\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/trust.py\n[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/base.py\n[2] https://docs.openstack.org/developer/oslo.policy/api/oslo_policy.html\n\nDepends-On: Ib82e8b8a0d6c8587fb0b1ce415e751c3ebc3c2f9\nChange-Id: I5c00fdb345556066343bdaeb5f008d639a94bc4b\n'}, {'number': 8, 'created': '2017-04-14 20:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/d476e961501d054793e98b97570ad6f90073a890', 'message': 'Identity trust rbac tests\n\nAdd identity trust rbac tests corresponding to the policy actions\nin [0].\n\nMost of the policy actions in [0] have a rule of \'\' (empty string),\nmeaning any role can perform the action. However, the\n""identity:create_trust"" policy action has a rule of\nbase.RULE_TRUST_OWNER which translates to:\n\n  user_id:%(trust.trustor_user_id)s [1].\n\nThis is a rather unique rule, one that is not dependent on the\ncurrent user\'s user_id, project_id or even role. Rather, this\nrule translates to: ""Does the current user\'s user_id match\nthe user_id of the trustor creating a trust with a trustee?""\n\nAs should be expected, ""trust.trustor_user_id"" can only be\ndynamically calculated at runtime, rather than immediately\nretrieved from a tempest credential variable, as is the case\nwith user_id and project_id.\n\nHence, this patch not only 1) creates trust rbac tests but 2)\nenhances the framework, particularly the rbac_rule_validation\ndecorator, as well as the rbac_policy_parser framework, to\nhandle additional target data that must be passed to\noslo-policy-checker in order for proper authorization\ndetermination.\n\nThe ""target"" parameter in oslo.policy is a dictionary that\ncontains ""As much information about the object being\noperated on as possible"" [2]. Accordingly, the\nrbac_rule_validation decorator has been enhanced with a new\nparam called `extra_target_data` that is a dictionary\ncontaining key-value pairs of dynamically calculated\ndata needed by oslo.policy to correctly determine whether\nthe ""target"" has authorization to perform a policy action.\n\nFor example,\n\n    extra_target_data={\n        ""trust.trustor_user_id"": ""os.auth_provider.credentials.user_id""\n    })\n\nmeans that trust.trustor_user_id equals the primary credential\'s\nuser_id. So, if a trustor\'s user_id equals the primary credential\'s\nuser_id, then the policy parser will return True for `is_allowed`.\nHowever, if a trustor\'s user_id doesn\'tequal to the primary credential\'s\nuser_id, but rather the alt credential\'s user_id, say, then `is_allowed`\nreturns False.\n\nThus, the only way to do negative testing with test_trusts_rbac is\nto explicitly create a negative test, as described in the above\nparagraph, which is what this patch does. Normally, negative testing\nis baked in, dependent on the `rbac_test_role`, but with more\ncomplicated policy enforcement as described above, this is not\npossible.\n\nWhile it is possible to create a new CONF value called trustor_user_id,\nit would require using pre-provisioned credentials, which is something\nPatrole doesn\'t explicitly use.\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/trust.py\n[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/base.py\n[2] https://docs.openstack.org/developer/oslo.policy/api/oslo_policy.html\n\nDepends-On: Ib82e8b8a0d6c8587fb0b1ce415e751c3ebc3c2f9\nChange-Id: I5c00fdb345556066343bdaeb5f008d639a94bc4b\n'}, {'number': 9, 'created': '2017-04-17 18:11:30.000000000', 'files': ['patrole_tempest_plugin/rbac_rule_validation.py', 'patrole_tempest_plugin/rbac_auth.py', 'patrole_tempest_plugin/tests/unit/test_rbac_rule_validation.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_trusts_rbac.py', 'patrole_tempest_plugin/rbac_policy_parser.py', 'patrole_tempest_plugin/tests/api/identity/v3/rbac_base.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/fd1db988dc92e07be99d975665e5928ca5090978', 'message': 'Identity trust rbac tests\n\nAdd identity trust rbac tests corresponding to the policy actions\nin [0].\n\nMost of the policy actions in [0] have a rule of \'\' (empty string),\nmeaning any role can perform the action. However, the\n""identity:create_trust"" policy action has a rule of\nbase.RULE_TRUST_OWNER which translates to:\n\n  user_id:%(trust.trustor_user_id)s [1].\n\nThis is a rather unique rule, one that is not dependent on the\ncurrent user\'s user_id, project_id or even role. Rather, this\nrule translates to: ""Does the current user\'s user_id match\nthe user_id of the trustor creating a trust with a trustee?""\n\nAs should be expected, ""trust.trustor_user_id"" can only be\ndynamically calculated at runtime, rather than immediately\nretrieved from a tempest credential variable, as is the case\nwith user_id and project_id.\n\nHence, this patch not only 1) creates trust rbac tests but 2)\nenhances the framework, particularly the rbac_rule_validation\ndecorator, as well as the rbac_policy_parser framework, to\nhandle additional target data that must be passed to\noslo-policy-checker in order for proper authorization\ndetermination.\n\nThe ""target"" parameter in oslo.policy is a dictionary that\ncontains ""As much information about the object being\noperated on as possible"" [2]. Accordingly, the\nrbac_rule_validation decorator has been enhanced with a new\nparam called `extra_target_data` that is a dictionary\ncontaining key-value pairs of dynamically calculated\ndata needed by oslo.policy to correctly determine whether\nthe ""target"" has authorization to perform a policy action.\n\nFor example,\n\n    extra_target_data={\n        ""trust.trustor_user_id"": ""os.auth_provider.credentials.user_id""\n    })\n\nmeans that trust.trustor_user_id equals the primary credential\'s\nuser_id. So, if a trustor\'s user_id equals the primary credential\'s\nuser_id, then the policy parser will return True for `is_allowed`.\nHowever, if a trustor\'s user_id doesn\'tequal to the primary credential\'s\nuser_id, but rather the alt credential\'s user_id, say, then `is_allowed`\nreturns False.\n\nThus, the only way to do negative testing with test_trusts_rbac is\nto explicitly create a negative test, as described in the above\nparagraph, which is what this patch does. Normally, negative testing\nis baked in, dependent on the `rbac_test_role`, but with more\ncomplicated policy enforcement as described above, this is not\npossible.\n\nWhile it is possible to create a new CONF value called trustor_user_id,\nit would require using pre-provisioned credentials, which is something\nPatrole doesn\'t explicitly use.\n\n[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/trust.py\n[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/base.py\n[2] https://docs.openstack.org/developer/oslo.policy/api/oslo_policy.html\n\nDepends-On: Ib82e8b8a0d6c8587fb0b1ce415e751c3ebc3c2f9\nChange-Id: I5c00fdb345556066343bdaeb5f008d639a94bc4b\n'}]",5,456767,fd1db988dc92e07be99d975665e5928ca5090978,25,4,9,23186,,,0,"Identity trust rbac tests

Add identity trust rbac tests corresponding to the policy actions
in [0].

Most of the policy actions in [0] have a rule of '' (empty string),
meaning any role can perform the action. However, the
""identity:create_trust"" policy action has a rule of
base.RULE_TRUST_OWNER which translates to:

  user_id:%(trust.trustor_user_id)s [1].

This is a rather unique rule, one that is not dependent on the
current user's user_id, project_id or even role. Rather, this
rule translates to: ""Does the current user's user_id match
the user_id of the trustor creating a trust with a trustee?""

As should be expected, ""trust.trustor_user_id"" can only be
dynamically calculated at runtime, rather than immediately
retrieved from a tempest credential variable, as is the case
with user_id and project_id.

Hence, this patch not only 1) creates trust rbac tests but 2)
enhances the framework, particularly the rbac_rule_validation
decorator, as well as the rbac_policy_parser framework, to
handle additional target data that must be passed to
oslo-policy-checker in order for proper authorization
determination.

The ""target"" parameter in oslo.policy is a dictionary that
contains ""As much information about the object being
operated on as possible"" [2]. Accordingly, the
rbac_rule_validation decorator has been enhanced with a new
param called `extra_target_data` that is a dictionary
containing key-value pairs of dynamically calculated
data needed by oslo.policy to correctly determine whether
the ""target"" has authorization to perform a policy action.

For example,

    extra_target_data={
        ""trust.trustor_user_id"": ""os.auth_provider.credentials.user_id""
    })

means that trust.trustor_user_id equals the primary credential's
user_id. So, if a trustor's user_id equals the primary credential's
user_id, then the policy parser will return True for `is_allowed`.
However, if a trustor's user_id doesn'tequal to the primary credential's
user_id, but rather the alt credential's user_id, say, then `is_allowed`
returns False.

Thus, the only way to do negative testing with test_trusts_rbac is
to explicitly create a negative test, as described in the above
paragraph, which is what this patch does. Normally, negative testing
is baked in, dependent on the `rbac_test_role`, but with more
complicated policy enforcement as described above, this is not
possible.

While it is possible to create a new CONF value called trustor_user_id,
it would require using pre-provisioned credentials, which is something
Patrole doesn't explicitly use.

[0] https://github.com/openstack/keystone/blob/master/keystone/common/policies/trust.py
[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/base.py
[2] https://docs.openstack.org/developer/oslo.policy/api/oslo_policy.html

Depends-On: Ib82e8b8a0d6c8587fb0b1ce415e751c3ebc3c2f9
Change-Id: I5c00fdb345556066343bdaeb5f008d639a94bc4b
",git fetch https://review.opendev.org/openstack/patrole refs/changes/67/456767/9 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/rbac_rule_validation.py', 'patrole_tempest_plugin/rbac_auth.py', 'patrole_tempest_plugin/tests/api/identity/v3/test_trusts_rbac.py', 'patrole_tempest_plugin/rbac_policy_parser.py', 'patrole_tempest_plugin/tests/api/identity/v3/rbac_base.py']",5,800fc28289ef94c0bff79de26f439058493d6a76,identity_trust_rbac_tests," cls.trusts_client = cls.os.trusts_client cls.trusts = [] for trust in cls.trusts: test_utils.call_and_ignore_notfound_exc( cls.trusts_client.delete_trust, trust['id']) def setup_test_trust(cls, trustee_user_id, trustor_user_id, **kwargs): """"""Setup a test trust."""""" trust = cls.trusts_client.create_trust( trustee_user_id=trustee_user_id, trustor_user_id=trustor_user_id, impersonation=False, **kwargs)['trust'] cls.trusts.append(trust) return trust @classmethod",,179,20
openstack%2Fpuppet-ec2api~stable%2Focata~I8d1a59d57e109881297666df0ab59ae39701e350,openstack/puppet-ec2api,stable/ocata,I8d1a59d57e109881297666df0ab59ae39701e350,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:41:49.000000000,2017-04-24 20:03:37.000000000,2017-04-24 20:03:37.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:41:49.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/16961133024b055a143c7f58618a06a3bee59b93', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I8d1a59d57e109881297666df0ab59ae39701e350\n'}]",0,459356,16961133024b055a143c7f58618a06a3bee59b93,7,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I8d1a59d57e109881297666df0ab59ae39701e350
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/56/459356/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,16961133024b055a143c7f58618a06a3bee59b93,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Ffuxi~master~I29d358ce96e64bb98a7a656975c3b7b1aa523202,openstack/fuxi,master,I29d358ce96e64bb98a7a656975c3b7b1aa523202,Make volume providers configurable in devstack,MERGED,2017-04-18 15:31:41.000000000,2017-04-24 19:57:36.000000000,2017-04-24 19:57:36.000000000,"[{'_account_id': 3}, {'_account_id': 9820}, {'_account_id': 11536}, {'_account_id': 14352}, {'_account_id': 15168}, {'_account_id': 18266}]","[{'number': 1, 'created': '2017-04-18 15:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuxi/commit/b8bda4dcf9bf2a78a6f931f34010aa22ea5d9178', 'message': '[WIP] Make volume providers configurable in devstack\n\nChange-Id: I29d358ce96e64bb98a7a656975c3b7b1aa523202\n'}, {'number': 2, 'created': '2017-04-18 18:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuxi/commit/3065dce52a6de89c59e38a4e29ed554bfeb06680', 'message': '[WIP] Make volume providers configurable in devstack\n\nChange-Id: I29d358ce96e64bb98a7a656975c3b7b1aa523202\n'}, {'number': 3, 'created': '2017-04-18 22:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuxi/commit/6637d534430eb60d3af07ab21026fae5d617b915', 'message': 'Make volume providers configurable in devstack\n\nChange-Id: I29d358ce96e64bb98a7a656975c3b7b1aa523202\n'}, {'number': 4, 'created': '2017-04-24 14:00:56.000000000', 'files': ['devstack/local.conf.sample', 'fuxi/tests/contrib/gate_hook.sh', 'devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/fuxi/commit/989dd9e495659522a2155c187407e26427014b6c', 'message': 'Make volume providers configurable in devstack\n\nChange-Id: I29d358ce96e64bb98a7a656975c3b7b1aa523202\n'}]",4,457694,989dd9e495659522a2155c187407e26427014b6c,21,6,4,11536,,,0,"Make volume providers configurable in devstack

Change-Id: I29d358ce96e64bb98a7a656975c3b7b1aa523202
",git fetch https://review.opendev.org/openstack/fuxi refs/changes/94/457694/4 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.sample', 'fuxi/tests/contrib/gate_hook.sh', 'devstack/plugin.sh', 'devstack/settings']",4,b8bda4dcf9bf2a78a6f931f34010aa22ea5d9178,,FUXI_VOLUME_PROVIDERS=${FUXI_VOLUME_PROVIDERS:-cinder},,6,2
openstack%2Fpatrole~master~Ia5bd4feb2708095bbab9eb2a377f336da84103fc,openstack/patrole,master,Ia5bd4feb2708095bbab9eb2a377f336da84103fc,Remove skip exception from virtual interfaces test,MERGED,2017-04-18 03:34:27.000000000,2017-04-24 19:57:30.000000000,2017-04-24 19:57:30.000000000,"[{'_account_id': 3}, {'_account_id': 17896}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-04-18 03:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/a58407d1556b49e0241ee6901a82962e3239f7b8', 'message': 'Remove skip exception from virtual interfaces test\n\nCurrently, test_list_virtual_interfaces in the virtual interfaces\nrbac test file throws a skip exception in the event that a BadRequest\nis thrown -- which happens if neutron is enabled. This is because\nlisting virtual interfaces is only available for nova-network, in nova.\n\nHowever, skipping the test is not necessary, because policy enforcement\nis always performed [0]: the API always performs policy enforcement\nfirst followed by everything else, so a 403 is always thrown before a 400.\n\nSo, this patch gets rid of the unnecessary raising of skipException.\nIt also adds a assertRaisesRegexp with the expected error message:\n""Listing virtual interfaces is not supported by this cloud"" and\nexpected BadRequest error. By checking for a specific regex (error\nmessage), there is certainty that the expected BadRequest is indeed\nthrown; if any other BadRequest is thrown, an AssertionError will be\nraised.\n\nIn short: this patch removes the skipException because policy\nenforcement is always performed and ensures that the correct\nBadRequest is thrown.\n\n[0] https://github.com/openstack/nova/blob/master/nova/api/openstack/compute/virtual_interfaces.py\n\nChange-Id: Ia5bd4feb2708095bbab9eb2a377f336da84103fc\n'}, {'number': 2, 'created': '2017-04-18 17:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/patrole/commit/e97245cad41154af5859b1ddd1e0bd7c8d79bd21', 'message': 'Remove skip exception from virtual interfaces test\n\nCurrently, test_list_virtual_interfaces in the virtual interfaces\nrbac test file throws a skip exception in the event that a BadRequest\nis thrown -- which happens if neutron is enabled. This is because\nlisting virtual interfaces is only available for nova-network, in nova.\n\nHowever, skipping the test is not necessary, because policy enforcement\nis always performed [0]: the API always performs policy enforcement\nfirst followed by everything else, so a 403 is always thrown before a 400.\n\nSo, this patch gets rid of the unnecessary raising of skipException.\nIt also adds a assertRaisesRegexp with the expected error message:\n""Listing virtual interfaces is not supported by this cloud"" and\nexpected BadRequest error. By checking for a specific regex (error\nmessage), there is certainty that the expected BadRequest is indeed\nthrown; if any other BadRequest is thrown, an AssertionError will be\nraised.\n\nIn short: this patch removes the skipException because policy\nenforcement is always performed and ensures that the correct\nBadRequest is thrown.\n\n[0] https://github.com/openstack/nova/blob/master/nova/api/openstack/compute/virtual_interfaces.py\n\nChange-Id: Ia5bd4feb2708095bbab9eb2a377f336da84103fc\n'}, {'number': 3, 'created': '2017-04-19 02:05:01.000000000', 'files': ['patrole_tempest_plugin/tests/api/compute/test_server_virtual_interfaces_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/e46a27df7b220bf0e0658dc7332bbff6b49ab1f0', 'message': 'Remove skip exception from virtual interfaces test\n\nCurrently, test_list_virtual_interfaces in the virtual interfaces\nrbac test file throws a skip exception in the event that a BadRequest\nis thrown -- which happens if neutron is enabled. This is because\nlisting virtual interfaces is only available for nova-network, in nova.\n\nHowever, skipping the test is not necessary, because policy enforcement\nis always performed [0]: the API always performs policy enforcement\nfirst followed by everything else, so a 403 is always thrown before a 400.\n\nSo, this patch gets rid of the unnecessary raising of skipException.\nIt also adds a assertRaisesRegexp with the expected error message:\n""Listing virtual interfaces is not supported by this cloud"" and\nexpected BadRequest error. By checking for a specific regex (error\nmessage), there is certainty that the expected BadRequest is indeed\nthrown; if any other BadRequest is thrown, an AssertionError will be\nraised.\n\nIn short: this patch removes the skipException because policy\nenforcement is always performed and ensures that the correct\nBadRequest is thrown.\n\n[0] https://github.com/openstack/nova/blob/master/nova/api/openstack/compute/virtual_interfaces.py\n\nChange-Id: Ia5bd4feb2708095bbab9eb2a377f336da84103fc\n'}]",0,457446,e46a27df7b220bf0e0658dc7332bbff6b49ab1f0,15,4,3,23186,,,0,"Remove skip exception from virtual interfaces test

Currently, test_list_virtual_interfaces in the virtual interfaces
rbac test file throws a skip exception in the event that a BadRequest
is thrown -- which happens if neutron is enabled. This is because
listing virtual interfaces is only available for nova-network, in nova.

However, skipping the test is not necessary, because policy enforcement
is always performed [0]: the API always performs policy enforcement
first followed by everything else, so a 403 is always thrown before a 400.

So, this patch gets rid of the unnecessary raising of skipException.
It also adds a assertRaisesRegexp with the expected error message:
""Listing virtual interfaces is not supported by this cloud"" and
expected BadRequest error. By checking for a specific regex (error
message), there is certainty that the expected BadRequest is indeed
thrown; if any other BadRequest is thrown, an AssertionError will be
raised.

In short: this patch removes the skipException because policy
enforcement is always performed and ensures that the correct
BadRequest is thrown.

[0] https://github.com/openstack/nova/blob/master/nova/api/openstack/compute/virtual_interfaces.py

Change-Id: Ia5bd4feb2708095bbab9eb2a377f336da84103fc
",git fetch https://review.opendev.org/openstack/patrole refs/changes/46/457446/2 && git format-patch -1 --stdout FETCH_HEAD,['patrole_tempest_plugin/tests/api/compute/test_server_virtual_interfaces_rbac.py'],1,a58407d1556b49e0241ee6901a82962e3239f7b8,undo_skip_virt_faces," if CONF.service_available.neutron: with self.assertRaisesRegexp(exceptions.BadRequest, msg): self.client.list_virtual_interfaces(server['id']) else: self.client.list_virtual_interfaces(server['id'])",from patrole_tempest_plugin import rbac_exceptions try: self.client.list_virtual_interfaces(server['id']) except exceptions.ServerFault as e: raise rbac_exceptions.RbacActionFailed(e) except exceptions.BadRequest as e: if msg == str(e.resp_body['message']): raise self.skipException(msg) else: raise e,6,11
openstack%2Fos-vif~master~I0d06faa2f1736d2e240487ec4e8cf9bc07268724,openstack/os-vif,master,I0d06faa2f1736d2e240487ec4e8cf9bc07268724,docs: Stop building anything but html output,MERGED,2017-04-13 09:44:36.000000000,2017-04-24 19:48:03.000000000,2017-04-24 19:48:03.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 11604}]","[{'number': 1, 'created': '2017-04-13 09:44:36.000000000', 'files': ['doc/source/conf.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/ce96741177b2f7e3b191d607d07f25808a6023aa', 'message': 'docs: Stop building anything but html output\n\nThis lets us remove most of the settings in conf.py\n\nChange-Id: I0d06faa2f1736d2e240487ec4e8cf9bc07268724\n'}]",0,456535,ce96741177b2f7e3b191d607d07f25808a6023aa,7,3,1,15334,,,0,"docs: Stop building anything but html output

This lets us remove most of the settings in conf.py

Change-Id: I0d06faa2f1736d2e240487ec4e8cf9bc07268724
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/35/456535/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'setup.cfg']",2,ce96741177b2f7e3b191d607d07f25808a6023aa,feat/doc-fixes,builders = html,,1,32
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fnewton~If8e5227fde174c96dbad566f05c7c82c2646cf14,openstack/openstack-ansible-openstack_hosts,stable/newton,If8e5227fde174c96dbad566f05c7c82c2646cf14,Disable cache for apt update if behind proxy,MERGED,2017-04-22 01:02:22.000000000,2017-04-24 19:47:21.000000000,2017-04-24 19:47:21.000000000,"[{'_account_id': 3}, {'_account_id': 2245}, {'_account_id': 7353}, {'_account_id': 14805}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-04-22 01:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/f7db03eb03d2d24f832ab13ee0c1f81a9d05c379', 'message': 'Disable cache for apt update if behind proxy\n\nOccasionally with a stale proxy, BADSIG and unauthenticated packages\nerrors are encountered without apt update cache disabled.\n\nChange-Id: If8e5227fde174c96dbad566f05c7c82c2646cf14\n'}, {'number': 2, 'created': '2017-04-24 18:00:48.000000000', 'files': ['tasks/openstack_host_install_apt.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/7ab893b2bcb38ca1654835dfd6251e9b545ef608', 'message': 'Disable cache for apt update if behind proxy\n\nOccasionally with a stale proxy, BADSIG and unauthenticated packages\nerrors are encountered without apt update cache disabled.\n\nChange-Id: If8e5227fde174c96dbad566f05c7c82c2646cf14\n'}]",0,459027,7ab893b2bcb38ca1654835dfd6251e9b545ef608,12,5,2,2245,,,0,"Disable cache for apt update if behind proxy

Occasionally with a stale proxy, BADSIG and unauthenticated packages
errors are encountered without apt update cache disabled.

Change-Id: If8e5227fde174c96dbad566f05c7c82c2646cf14
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/27/459027/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_host_install_apt.yml'],1,f7db03eb03d2d24f832ab13ee0c1f81a9d05c379,apt-no-cache,"- name: Disable cache for apt update if behind proxy copy: content: | Acquire::http::No-Cache true; dest: ""/etc/apt/apt.conf.d/00apt-no-cache"" when: > global_environment_variables.http_proxy is defined or global_environment_variables.HTTP_PROXY is defined or global_environment_variables.https_proxy is defined or global_environment_variables.HTTPS_PROXY is defined ",,11,0
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Fnewton~I2c6eb28bbba6c3fdba19fb4caf35a38de8307ace,openstack/openstack-ansible-openstack_hosts,stable/newton,I2c6eb28bbba6c3fdba19fb4caf35a38de8307ace,Fix undefined Global environment variables,MERGED,2017-04-24 13:40:36.000000000,2017-04-24 19:47:16.000000000,2017-04-24 19:47:16.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-04-24 13:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/d9ce823d4e9e725e4cbea2e3c1175954e21623a4', 'message': 'Fix undefined Global environment variables\n\nWe are using global_environment_variables.http_proxy but never\nensure that global_environment_variables is defined.\n\nThis should do the trick and still allow deployer overrides.\n\nChange-Id: I2c6eb28bbba6c3fdba19fb4caf35a38de8307ace\n(cherry picked from commit 2c518d558fd2e9680fb61af40b0290fbb33b840d)\n'}, {'number': 2, 'created': '2017-04-24 18:00:15.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/4521c8ee62c476e98bbdef21e7f37da5313ec879', 'message': 'Fix undefined Global environment variables\n\nWe are using global_environment_variables.http_proxy but never\nensure that global_environment_variables is defined.\n\nThis should do the trick and still allow deployer overrides.\n\nChange-Id: I2c6eb28bbba6c3fdba19fb4caf35a38de8307ace\n(cherry picked from commit 2c518d558fd2e9680fb61af40b0290fbb33b840d)\n'}]",0,459303,4521c8ee62c476e98bbdef21e7f37da5313ec879,9,5,2,2245,,,0,"Fix undefined Global environment variables

We are using global_environment_variables.http_proxy but never
ensure that global_environment_variables is defined.

This should do the trick and still allow deployer overrides.

Change-Id: I2c6eb28bbba6c3fdba19fb4caf35a38de8307ace
(cherry picked from commit 2c518d558fd2e9680fb61af40b0290fbb33b840d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/03/459303/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,d9ce823d4e9e725e4cbea2e3c1175954e21623a4,apt-no-cache, # Global environment variables should be empty by default global_environment_variables: {},,3,0
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Focata~I2c6eb28bbba6c3fdba19fb4caf35a38de8307ace,openstack/openstack-ansible-openstack_hosts,stable/ocata,I2c6eb28bbba6c3fdba19fb4caf35a38de8307ace,Fix undefined Global environment variables,MERGED,2017-04-24 13:46:11.000000000,2017-04-24 19:47:06.000000000,2017-04-24 19:47:06.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 14805}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-24 13:46:11.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/10ea38437196e331a19b8399244720d43bfc5dcb', 'message': 'Fix undefined Global environment variables\n\nWe are using global_environment_variables.http_proxy but never\nensure that global_environment_variables is defined.\n\nThis should do the trick and still allow deployer overrides.\n\nChange-Id: I2c6eb28bbba6c3fdba19fb4caf35a38de8307ace\n(cherry picked from commit 2c518d558fd2e9680fb61af40b0290fbb33b840d)\n'}]",0,459308,10ea38437196e331a19b8399244720d43bfc5dcb,7,4,1,2245,,,0,"Fix undefined Global environment variables

We are using global_environment_variables.http_proxy but never
ensure that global_environment_variables is defined.

This should do the trick and still allow deployer overrides.

Change-Id: I2c6eb28bbba6c3fdba19fb4caf35a38de8307ace
(cherry picked from commit 2c518d558fd2e9680fb61af40b0290fbb33b840d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/08/459308/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,10ea38437196e331a19b8399244720d43bfc5dcb,apt-no-cache, # Global environment variables should be empty by default global_environment_variables: {},,3,0
openstack%2Ftripleo-common~master~I0a60e877b7e1b3cbce9927c85b15ed22933c5102,openstack/tripleo-common,master,I0a60e877b7e1b3cbce9927c85b15ed22933c5102,WIP: Update sphinx to 1.5.1,ABANDONED,2017-01-10 22:52:26.000000000,2017-04-24 19:46:34.000000000,,"[{'_account_id': 3}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-01-10 22:52:26.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5aea9143ab6fb6d7b43c86ac424112789139c6c2', 'message': 'WIP: Update sphinx to 1.5.1\n\nTest the latest sphinx release, which contains a fix for [0].\n\n[0] https://github.com/sphinx-doc/sphinx/issues/3212\n\nChange-Id: I0a60e877b7e1b3cbce9927c85b15ed22933c5102\n'}]",0,418611,5aea9143ab6fb6d7b43c86ac424112789139c6c2,5,2,1,6159,,,0,"WIP: Update sphinx to 1.5.1

Test the latest sphinx release, which contains a fix for [0].

[0] https://github.com/sphinx-doc/sphinx/issues/3212

Change-Id: I0a60e877b7e1b3cbce9927c85b15ed22933c5102
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/418611/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5aea9143ab6fb6d7b43c86ac424112789139c6c2,,sphinx>=1.5.1 # BSD,"docutils!=0.13.1,>=0.11 # OSI-Approved Open Source, Public Domainsphinx!=1.3b1,<1.4,>=1.2.1 # BSD",1,2
openstack%2Fos-vif~master~I7be9eaba1989bd085389516e29f797a72b5a8417,openstack/os-vif,master,I7be9eaba1989bd085389516e29f797a72b5a8417,doc: Add glossary,MERGED,2017-04-03 09:53:04.000000000,2017-04-24 19:46:32.000000000,2017-04-24 19:46:32.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 16688}]","[{'number': 1, 'created': '2017-04-03 09:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/01e713f1f5e9da90ee2315111e7eb48134a47525', 'message': 'doc: Add glossary\n\nAt the moment, these are a collection of links to other resources but\nthey can be populated further in the future.\n\nChange-Id: I7be9eaba1989bd085389516e29f797a72b5a8417\n'}, {'number': 2, 'created': '2017-04-12 16:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/ec9d1f6b4ffd9c5b05aeb0738279928e502ca459', 'message': 'doc: Add glossary\n\nAt the moment, these are a collection of links to other resources but\nthey can be populated further in the future.\n\nChange-Id: I7be9eaba1989bd085389516e29f797a72b5a8417\n'}, {'number': 3, 'created': '2017-04-13 09:44:36.000000000', 'files': ['doc/source/index.rst', 'doc/source/vif_types.rst', 'doc/source/glossary.rst'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/5f21ae5bd546605a7a4aa238689a1abe1f29a440', 'message': 'doc: Add glossary\n\nAt the moment, these are a collection of links to other resources but\nthey can be populated further in the future.\n\nChange-Id: I7be9eaba1989bd085389516e29f797a72b5a8417\n'}]",8,452666,5f21ae5bd546605a7a4aa238689a1abe1f29a440,18,5,3,15334,,,0,"doc: Add glossary

At the moment, these are a collection of links to other resources but
they can be populated further in the future.

Change-Id: I7be9eaba1989bd085389516e29f797a72b5a8417
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/66/452666/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/vif_types.rst', 'doc/source/glossary.rst']",3,01e713f1f5e9da90ee2315111e7eb48134a47525,feat/doc-fixes,"======== Glossary ======== .. glossary:: Calico Refer to the `Calico documentation`__ for more information. __ http://docs.projectcalico.org Linux Bridge The native networking ""backend"" found in Linux. Refer to the `Linux Foundation wiki`__ for more information. __ https://wiki.linuxfoundation.org/networking/bridge Open vSwitch Refer to the `OVS documentation`__ for more information. __ http://docs.openvswitch.org VEPA Refer to this `NetworkWorld article`__ for more information. __ http://www.networkworld.com/article/2197460/tech-primers/vepa--an-answer-to-virtual-switching.html vhost-user Refer to the `QEMU documentation`__ for more information. __ https://github.com/qemu/qemu/blob/master/docs/specs/vhost-user.txt virtio-net Refer to the `KVM documentation`__ for more information. __ http://www.linux-kvm.org/page/Virtio 802.1Qbg Refer to the `IEEE spec`__ for more information. __ http://www.ieee802.org/1/pages/802.1bg.html 802.1Qbh Refer to the `IEEE spec`__ for more information. __ http://www.ieee802.org/1/pages/802.1bh.html ",,68,11
openstack%2Fec2-api~master~I7a32977ac01e1d2fc49cea750f37588debf17093,openstack/ec2-api,master,I7a32977ac01e1d2fc49cea750f37588debf17093,Removing py34 from tox,MERGED,2017-03-31 07:06:26.000000000,2017-04-24 19:44:15.000000000,2017-04-24 19:44:15.000000000,"[{'_account_id': 3}, {'_account_id': 10234}]","[{'number': 1, 'created': '2017-03-31 07:06:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/61d3ef9ab2f51f3d037d52a4116c310db158a4d6', 'message': 'Removing py34 from tox\n\nNow gate job for Python 3.5 exists and not 3.4,\nwe should remove those references to the 3.4 that is untested\n\nChange-Id: I7a32977ac01e1d2fc49cea750f37588debf17093\n'}]",0,452068,61d3ef9ab2f51f3d037d52a4116c310db158a4d6,15,2,1,20401,,,0,"Removing py34 from tox

Now gate job for Python 3.5 exists and not 3.4,
we should remove those references to the 3.4 that is untested

Change-Id: I7a32977ac01e1d2fc49cea750f37588debf17093
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/68/452068/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,61d3ef9ab2f51f3d037d52a4116c310db158a4d6,tox,"envlist = py35,py27,pep8","envlist = py27,py34,pep8",1,1
openstack%2Fpuppet-designate~stable%2Focata~I4fb0ef4771a57ea0798873618eb89065ce078d71,openstack/puppet-designate,stable/ocata,I4fb0ef4771a57ea0798873618eb89065ce078d71,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:41:41.000000000,2017-04-24 19:38:39.000000000,2017-04-24 19:38:39.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:41:41.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/ecac2e82815b191f9558e6daf3ef7a64fda8de0e', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I4fb0ef4771a57ea0798873618eb89065ce078d71\n'}]",0,459355,ecac2e82815b191f9558e6daf3ef7a64fda8de0e,7,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I4fb0ef4771a57ea0798873618eb89065ce078d71
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/55/459355/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,ecac2e82815b191f9558e6daf3ef7a64fda8de0e,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fopenstack-helm~master~I75ec3222f2f6e94c05d9d03abf0ed44aae3a2af2,openstack/openstack-helm,master,I75ec3222f2f6e94c05d9d03abf0ed44aae3a2af2,Add CONTRIBUTING.rst,MERGED,2017-04-22 21:31:57.000000000,2017-04-24 19:37:37.000000000,2017-04-24 19:37:37.000000000,"[{'_account_id': 3}, {'_account_id': 21307}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-04-22 21:31:57.000000000', 'files': ['CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8f6fa890bffe1f7017ac6b8bf02ec528ea43fe0', 'message': 'Add CONTRIBUTING.rst\n\nAdded CONTRIBUTING.rst to highlight the new workflow for\ncontributors after moving into OpenStack\n\nChange-Id: I75ec3222f2f6e94c05d9d03abf0ed44aae3a2af2\n'}]",0,459075,a8f6fa890bffe1f7017ac6b8bf02ec528ea43fe0,7,3,1,17591,,,0,"Add CONTRIBUTING.rst

Added CONTRIBUTING.rst to highlight the new workflow for
contributors after moving into OpenStack

Change-Id: I75ec3222f2f6e94c05d9d03abf0ed44aae3a2af2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/75/459075/1 && git format-patch -1 --stdout FETCH_HEAD,['CONTRIBUTING.rst'],1,a8f6fa890bffe1f7017ac6b8bf02ec528ea43fe0,add_contributing_rst,"If you would like to contribute to the development of OpenStack, you must follow the steps in this page: http://docs.openstack.org/infra/manual/developers.html Once those steps have been completed, changes to OpenStack should be submitted for review via the Gerrit tool, following the workflow documented at: http://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Launchpad, not GitHub: https://bugs.launchpad.net/openstack-helm ",,16,0
openstack%2Ftraining-guides~master~Iec8d3055ce43a01635c99892193a069f7fca83b7,openstack/training-guides,master,Iec8d3055ce43a01635c99892193a069f7fca83b7,[upstream] Additional improvements for official-projects,MERGED,2017-04-18 17:56:11.000000000,2017-04-24 19:36:06.000000000,2017-04-24 19:36:06.000000000,"[{'_account_id': 3}, {'_account_id': 8556}, {'_account_id': 9562}, {'_account_id': 11564}, {'_account_id': 14482}]","[{'number': 1, 'created': '2017-04-18 17:56:11.000000000', 'files': ['doc/upstream-training/source/slides/howitsmade-official-projects.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/fa0ee7ec0d4425f168bee84a85e66d88571bb21e', 'message': ""[upstream] Additional improvements for official-projects\n\nIn a discussion on IRC it was noted that we should move some of\nthe 'notes' information to the actual slides.  I made this change\nfor the project navigator so that it was clear that this was just\na list of some, not all, the projects.\n\nI also don't know how I left the second bullet on the first slide\nunedited.  I have now improved that wording as well to be clearer.\n\nChange-Id: Iec8d3055ce43a01635c99892193a069f7fca83b7\n""}]",3,457749,fa0ee7ec0d4425f168bee84a85e66d88571bb21e,11,5,1,7198,,,0,"[upstream] Additional improvements for official-projects

In a discussion on IRC it was noted that we should move some of
the 'notes' information to the actual slides.  I made this change
for the project navigator so that it was clear that this was just
a list of some, not all, the projects.

I also don't know how I left the second bullet on the first slide
unedited.  I have now improved that wording as well to be clearer.

Change-Id: Iec8d3055ce43a01635c99892193a069f7fca83b7
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/49/457749/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/upstream-training/source/slides/howitsmade-official-projects.rst'],1,fa0ee7ec0d4425f168bee84a85e66d88571bb21e,official-projects-additional-improvements,"- Projects improve and grow independently but also strive to improve one collaborative framework: OpenStack - Core and mature Big Tent projects are tracked in the - Not all projects are currently tracked in Project Navigator. The goal, however, is for it to be an ever growing list.","- Projects are evolving themselves and also sustain for one collaborative framework, OpenStack - Projects are tracked in the - Project Navigator doesn't include all OpenStack Projects at this time. Currently limited to core projects and more mature Big Tent projects.",5,5
openstack%2Fopenstack-ansible-openstack_hosts~stable%2Focata~Id8f508d7c34e10981e78be1e067e27a6ee2354f7,openstack/openstack-ansible-openstack_hosts,stable/ocata,Id8f508d7c34e10981e78be1e067e27a6ee2354f7,CentOS make sure epel is enabled.,MERGED,2017-04-24 19:09:50.000000000,2017-04-24 19:31:39.000000000,2017-04-24 19:31:39.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 15993}]","[{'number': 1, 'created': '2017-04-24 19:09:50.000000000', 'files': ['tasks/openstack_host_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8280278bc1b4196cb7386a2d2d7b2cdc54317bf9', 'message': 'CentOS make sure epel is enabled.\n\nChange-Id: Id8f508d7c34e10981e78be1e067e27a6ee2354f7\n(cherry picked from commit 8b422be4592c0df164480c50e8134f97af12691d)\n'}]",0,459433,8280278bc1b4196cb7386a2d2d7b2cdc54317bf9,7,3,1,13095,,,0,"CentOS make sure epel is enabled.

Change-Id: Id8f508d7c34e10981e78be1e067e27a6ee2354f7
(cherry picked from commit 8b422be4592c0df164480c50e8134f97af12691d)
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/33/459433/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_host_install_yum.yml'],1,8280278bc1b4196cb7386a2d2d7b2cdc54317bf9,add-epel-Centos, --enable epel,,1,0
openstack%2Fopenstack-ansible-pip_install~master~I184b5f6dfc136da2080ad6336f7e7debe91b6dce,openstack/openstack-ansible-pip_install,master,I184b5f6dfc136da2080ad6336f7e7debe91b6dce,CentOS make sure epel is enabled.,MERGED,2017-04-24 18:58:07.000000000,2017-04-24 19:30:44.000000000,2017-04-24 19:30:44.000000000,"[{'_account_id': 3}, {'_account_id': 14805}, {'_account_id': 15993}]","[{'number': 1, 'created': '2017-04-24 18:58:07.000000000', 'files': ['tasks/pre_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/0aac13037360b187de78045789d891ad3e289002', 'message': 'CentOS make sure epel is enabled.\n\nChange-Id: I184b5f6dfc136da2080ad6336f7e7debe91b6dce\n'}]",0,459430,0aac13037360b187de78045789d891ad3e289002,7,3,1,13095,,,0,"CentOS make sure epel is enabled.

Change-Id: I184b5f6dfc136da2080ad6336f7e7debe91b6dce
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/30/459430/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/pre_install_yum.yml'],1,0aac13037360b187de78045789d891ad3e289002,add-epel-Centos, --enable epel,,1,0
openstack%2Fopenstack-ansible-tests~master~I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7,openstack/openstack-ansible-tests,master,I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7,Enable cross-repo testing for OSA role tests,MERGED,2017-04-04 18:50:56.000000000,2017-04-24 19:25:44.000000000,2017-04-24 19:25:44.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 9061}, {'_account_id': 14119}, {'_account_id': 17068}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-04-04 18:50:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5c5efb0a821be0a4ab3082c6f07d81193999ed7a', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 2, 'created': '2017-04-04 19:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/57fe852195bd474e8477d154daee8b121393280c', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 3, 'created': '2017-04-04 19:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c992dc78b1e6837798df4c576c88f118fe8df388', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie913e5eb75f3601107b53bab7bda4a02ab1c1024\nDepends-On: Ida3897f2553491913a3183e67b6503bed5281d5e\nDepends-On: I930f1711fbd56d2c97e8c80bd990350fa0c7ba73\nDepends-On: I4deb7e0a35a0364ceb57b9a12f283ac7439d5e8a\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 4, 'created': '2017-04-04 20:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/baff07e74ec35c497058b6c801af66b16eb3cc2a', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie913e5eb75f3601107b53bab7bda4a02ab1c1024\nDepends-On: Ida3897f2553491913a3183e67b6503bed5281d5e\nDepends-On: I930f1711fbd56d2c97e8c80bd990350fa0c7ba73\nDepends-On: I4deb7e0a35a0364ceb57b9a12f283ac7439d5e8a\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 5, 'created': '2017-04-04 21:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/cc46193662a3d67cf776917e5da12dcfdbe569d2', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie913e5eb75f3601107b53bab7bda4a02ab1c1024\nDepends-On: Ida3897f2553491913a3183e67b6503bed5281d5e\nDepends-On: I930f1711fbd56d2c97e8c80bd990350fa0c7ba73\nDepends-On: I4deb7e0a35a0364ceb57b9a12f283ac7439d5e8a\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 6, 'created': '2017-04-04 21:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/b99a821f02d7c5c13527593843e0e07b016eea62', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie913e5eb75f3601107b53bab7bda4a02ab1c1024\nDepends-On: Ida3897f2553491913a3183e67b6503bed5281d5e\nDepends-On: I930f1711fbd56d2c97e8c80bd990350fa0c7ba73\nDepends-On: I4deb7e0a35a0364ceb57b9a12f283ac7439d5e8a\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 7, 'created': '2017-04-04 21:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ca0d93bf996fc33536e8eb706034c122d955a967', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie913e5eb75f3601107b53bab7bda4a02ab1c1024\nDepends-On: Ida3897f2553491913a3183e67b6503bed5281d5e\nDepends-On: I930f1711fbd56d2c97e8c80bd990350fa0c7ba73\nDepends-On: I4deb7e0a35a0364ceb57b9a12f283ac7439d5e8a\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 8, 'created': '2017-04-21 11:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/081e4c70c0a4f320becf3280fd46d09c6c949111', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie913e5eb75f3601107b53bab7bda4a02ab1c1024\nDepends-On: Ida3897f2553491913a3183e67b6503bed5281d5e\nDepends-On: I930f1711fbd56d2c97e8c80bd990350fa0c7ba73\nDepends-On: I4deb7e0a35a0364ceb57b9a12f283ac7439d5e8a\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 9, 'created': '2017-04-21 11:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9687bf511896b20dadf81f5a6a8122ad6b5593c1', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie913e5eb75f3601107b53bab7bda4a02ab1c1024\nDepends-On: Ida3897f2553491913a3183e67b6503bed5281d5e\nDepends-On: I930f1711fbd56d2c97e8c80bd990350fa0c7ba73\nDepends-On: I4deb7e0a35a0364ceb57b9a12f283ac7439d5e8a\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 10, 'created': '2017-04-21 11:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/519b8a414e20b7086a18d5d62c9c2bd5fb5b3347', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie913e5eb75f3601107b53bab7bda4a02ab1c1024\nDepends-On: Ida3897f2553491913a3183e67b6503bed5281d5e\nDepends-On: I930f1711fbd56d2c97e8c80bd990350fa0c7ba73\nDepends-On: I4deb7e0a35a0364ceb57b9a12f283ac7439d5e8a\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 11, 'created': '2017-04-21 12:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/27fe4ad499f1a57123437580599f59d892fd18ac', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie8f7ebbf2a8805ec899e089d5eac84997546ded4\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 12, 'created': '2017-04-21 12:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/6d5adf9b58828e6548f394d9f93e4e2ebec0afc0', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie8f7ebbf2a8805ec899e089d5eac84997546ded4\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 13, 'created': '2017-04-21 12:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/44645abba21fca102423cd4a849eed42a1a08ab1', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie8f7ebbf2a8805ec899e089d5eac84997546ded4\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 14, 'created': '2017-04-21 12:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ee62b4cfcd22009a7f04e377888dfb6fb87056fe', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie8f7ebbf2a8805ec899e089d5eac84997546ded4\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 15, 'created': '2017-04-21 12:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5be91d0740458d15f25a99d4c7845fd899007750', 'message': ""[WIP] Enable cross-repo testing\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nDepends-On: Ie8f7ebbf2a8805ec899e089d5eac84997546ded4\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 16, 'created': '2017-04-21 12:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/5fc28a669f21c835c9bd0b4e75fb5f0ad6523c1c', 'message': ""Enable cross-repo testing for OSA repositories\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests and falls\nback to using git if zuul-cloner is not present.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 17, 'created': '2017-04-21 13:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f3a835b1b8fba45547e6a12e0d30493fb05cb5a3', 'message': ""Enable cross-repo testing for OSA repositories\n\nWhen 'Depends-On: <change-id>' is used in a patch, Zuul cloner must be used\nin order to ensure that both patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1] for gate tests and falls\nback to using git if zuul-cloner is not present.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 18, 'created': '2017-04-21 13:07:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/ea4541497a0e77043882ed145dda20accc8eb0aa', 'message': ""Enable cross-repo testing for OSA role tests\n\nWhen 'Depends-On: <change-id>' is used in a patch,\nZuul cloner must be used in order to ensure that\nboth patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1]\nfor gate tests and falls back to using git if\nzuul-cloner is not present.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 19, 'created': '2017-04-24 09:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/75aba6b15941e02749844521c71aad341f0ad278', 'message': ""Enable cross-repo testing for OSA role tests\n\nWhen 'Depends-On: <change-id>' is used in a patch,\nZuul cloner must be used in order to ensure that\nboth patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1]\nfor gate tests and falls back to using git if\nzuul-cloner is not present.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 20, 'created': '2017-04-24 10:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/9be82707a71ea5424850d3a452f9dc252c5452b3', 'message': ""Enable cross-repo testing for OSA role tests\n\nWhen 'Depends-On: <change-id>' is used in a patch,\nZuul cloner must be used in order to ensure that\nboth patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1]\nfor gate tests and falls back to using git if\nzuul-cloner is not present.\n\nAdditionally the playbook execution requires the\nfile based inventory to be used instead of the\nCLI string so that the python interpreter is set.\nThis is required in order to ensure that the copy\nmodule can act against CentOS with access to the\nlibselinux-python library on the host. See [2] for\nmore details.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n[2] https://goo.gl/VCKKfp\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}, {'number': 21, 'created': '2017-04-24 12:14:43.000000000', 'files': ['test-ansible-env-prep.sh', 'get-ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/cf6bea2acc06f642258322c6b71321e16df665c4', 'message': ""Enable cross-repo testing for OSA role tests\n\nWhen 'Depends-On: <change-id>' is used in a patch,\nZuul cloner must be used in order to ensure that\nboth patches are actually used for the gate test.\n\nThis patch implements the use of zuul-cloner [1]\nfor gate tests and falls back to using git if\nzuul-cloner is not present.\n\nAdditionally the playbook execution requires the\nfile based inventory to be used instead of the\nCLI string so that the python interpreter is set.\nThis is required in order to ensure that the copy\nmodule can act against CentOS with access to the\nlibselinux-python library on the host. See [2] for\nmore details.\n\n[1] http://docs.openstack.org/infra/zuul/cloner.html\n[2] https://goo.gl/VCKKfp\n\nChange-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7\n""}]",4,453298,cf6bea2acc06f642258322c6b71321e16df665c4,50,6,21,6816,,,0,"Enable cross-repo testing for OSA role tests

When 'Depends-On: <change-id>' is used in a patch,
Zuul cloner must be used in order to ensure that
both patches are actually used for the gate test.

This patch implements the use of zuul-cloner [1]
for gate tests and falls back to using git if
zuul-cloner is not present.

Additionally the playbook execution requires the
file based inventory to be used instead of the
CLI string so that the python interpreter is set.
This is required in order to ensure that the copy
module can act against CentOS with access to the
libselinux-python library on the host. See [2] for
more details.

[1] http://docs.openstack.org/infra/zuul/cloner.html
[2] https://goo.gl/VCKKfp

Change-Id: I8cf4d7d30284e5ef1e70897f2ecfe1da0b11c0c7
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/98/453298/9 && git format-patch -1 --stdout FETCH_HEAD,['get-ansible-role-requirements.yml'],1,5c5efb0a821be0a4ab3082c6f07d81193999ed7a,cross-repo-testing," - name: Set the clone method to use set_fact: clone_method: ""{{ lookup('pipe', 'if which zuul-cloner; then echo zuul-cloner; else echo git; fi') }}"" - (clone_method == 'git') or (not item.src | match("".*git.openstack.org.*"")) - name: Clone git repos (with git) - (clone_method == 'git') or (not item.src | match("".*git.openstack.org.*"")) - name: Create clone map copy: content: | clonemap: - name: 'openstack/openstack-ansible-(.*)' dest: '{{ homedir }}/.ansible/roles/\1' dest: ""{{ homedir }}/.ansible/clonemap.yml"" when: - clone_method == 'zuul-cloner' - name: Clone git repos (with zuul-cloner) shell: | zuul-cloner -m {{ homedir }}/.ansible/clonemap.yml --cache-dir /opt/git git://git.openstack.org {%- for src in roles | map(attribute='src') -%} {%- if src | match("".*git.openstack.org.*"") -%} {{ src }} {%- endif -%} {%- endfor -%} when: - clone_method == 'zuul-cloner' ", - name: Clone git repos,34,1
openstack%2Frally~master~Id2adf62f25a42f1b39a3d70fb1def16e4161ed43,openstack/rally,master,Id2adf62f25a42f1b39a3d70fb1def16e4161ed43,Move 'image-exists' validator to 'openstack/validators.py',MERGED,2017-04-17 10:39:30.000000000,2017-04-24 19:23:21.000000000,2017-04-24 19:23:21.000000000,"[{'_account_id': 3}, {'_account_id': 9545}, {'_account_id': 14817}]","[{'number': 1, 'created': '2017-04-17 10:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/e3fac0c513a9a892e9f66b966e6f7735c3e78f49', 'message': ""[WIP] Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 2, 'created': '2017-04-18 10:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/411622273d6d7796a5aa1bbb99e9ffa0d7c7b430', 'message': ""[WIP] Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 3, 'created': '2017-04-19 14:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/509cf523505fa7a6ca535e8b56b3e2f1ad5327df', 'message': ""[WIP] Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 4, 'created': '2017-04-20 14:26:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/dcec2f7d2fbb161566ee689f329c89a2fdc12be1', 'message': ""[WIP] Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 5, 'created': '2017-04-20 14:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f820f7b13a79bcc72815a4ee262f8ffe293377df', 'message': ""Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 6, 'created': '2017-04-21 07:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/91c40958970f4f6c3616f7d39e1b8879d1e7475c', 'message': ""Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 7, 'created': '2017-04-21 12:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/4d013df724a456b0565f0289ce864f2445c9b9e3', 'message': ""Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 8, 'created': '2017-04-21 12:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/2b7e2c04c62f73a056e6b52d4dfa9791701e5575', 'message': ""Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 9, 'created': '2017-04-21 13:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/595dc33423958651fc1c456f06c0aa96478ad606', 'message': ""Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 10, 'created': '2017-04-21 13:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/6814c77de4348f19aae182a31c5b956aed815069', 'message': ""Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 11, 'created': '2017-04-24 07:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/32be0e4c7b51d5cb081f657c7aa600f4e0a5d6c5', 'message': ""Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 12, 'created': '2017-04-24 11:09:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/32256c2b43cbfcf3439b449638bf5d828dab4cc0', 'message': ""Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 13, 'created': '2017-04-24 12:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally/commit/f1e6b793c5ea1e240fccc4caf06f2b5aefa1ef85', 'message': ""Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}, {'number': 14, 'created': '2017-04-24 14:26:55.000000000', 'files': ['rally/task/validation.py', 'rally/plugins/openstack/validators.py', 'rally/plugins/openstack/scenarios/cinder/volumes.py', 'tests/unit/task/test_validation.py', 'tests/unit/plugins/openstack/test_validators.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/a062065499a5df99462314984064424d824d76c3', 'message': ""Move 'image-exists' validator to 'openstack/validators.py'\n\nChange-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43\n""}]",7,457203,a062065499a5df99462314984064424d824d76c3,44,3,14,23094,,,0,"Move 'image-exists' validator to 'openstack/validators.py'

Change-Id: Id2adf62f25a42f1b39a3d70fb1def16e4161ed43
",git fetch https://review.opendev.org/openstack/rally refs/changes/03/457203/8 && git format-patch -1 --stdout FETCH_HEAD,"['rally/task/validation.py', 'rally/plugins/openstack/validators.py', 'tests/unit/task/test_validation.py', 'tests/unit/plugins/openstack/test_validators.py']",4,e3fac0c513a9a892e9f66b966e6f7735c3e78f49,astarove-move-image-exists-validator,"# Copyright 2017: Mirantis Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import ddt import mock from glanceclient import exc as glance_exc from rally.plugins.openstack import validators from rally import exceptions from tests.unit import test credentials = { ""openstack"": { ""admin"": mock.Mock(), } } config = {""args"": { ""image"": { ""id"": ""fake_id"", ""image_name"": ""foo_image"" }, ""flavor"": { ""id"": ""fake_flavor_id"", }, ""foo_image"": { ""id"": ""fake_image_id"", }, ""context"": { ""images"": { ""image_name"": ""foo_image"" } }} } @ddt.ddt class ImageExistsValidatorTestCase(test.TestCase): @ddt.unpack @ddt.data( {""param_name"": ""fake_param"", ""nullable"": True, ""err_msg"": None}, {""param_name"": ""fake_param"", ""nullable"": False, ""err_msg"": ""Parameter fake_param is not specified.""}, {""param_name"": ""image"", ""nullable"": True, ""err_msg"": None}, {""param_name"": ""image"", ""nullable"": False, ""err_msg"": ""Image '{'id': 'fake_id', 'image_name': 'foo_image'}' "" ""not found"", ""ex"": glance_exc.HTTPNotFound()}, {""param_name"": ""image"", ""nullable"": False, ""err_msg"": ""Image '{'id': 'fake_id', 'image_name': 'foo_image'}' "" ""not found"", ""ex"": exceptions.InvalidScenarioArgument()}, ) def test_validator(self, param_name, nullable, err_msg, ex=False): validator = validators.ImageExistsValidator(param_name, nullable) admin_creds = credentials[""openstack""][""admin""] admin_creds.clients.return_value = mock.Mock() clients = admin_creds.clients.return_value clients.glance().images.get = mock.Mock() if ex: clients.glance().images.get.side_effect = ex result = validator.validate(config, credentials, None, None) if err_msg: self.assertEqual(err_msg, result.msg) elif result: self.assertIsNone(result, ""Unexpected result '%s'"" % result.msg) ",,199,29
openstack%2Fmonasca-transform~master~Ic53cd023d9007321441bafd6c8e4c9b4f39e58b3,openstack/monasca-transform,master,Ic53cd023d9007321441bafd6c8e4c9b4f39e58b3,Add Constraints support,MERGED,2016-12-21 00:52:44.000000000,2017-04-24 19:20:40.000000000,2017-04-24 19:20:40.000000000,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 10311}, {'_account_id': 11580}]","[{'number': 1, 'created': '2016-12-21 00:52:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/e1715f053b130200bd7a29de23adfa385cc07dfc', 'message': ""Add Constraints support\n\nTo be co-installable with other OpenStack projects and have consistent\ntesting it's a good idea (tm) to use constraints when creating tox\nenvironments.\n\nChange-Id: Ic53cd023d9007321441bafd6c8e4c9b4f39e58b3\n""}, {'number': 2, 'created': '2017-04-17 18:14:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-transform/commit/83650f71b232b890b7827e55b0fb73c730cfb74c', 'message': ""Add Constraints support\n\nTo be co-installable with other OpenStack projects and have consistent\ntesting it's a good idea (tm) to use constraints when creating tox\nenvironments.\n\nChange-Id: Ic53cd023d9007321441bafd6c8e4c9b4f39e58b3\n""}]",0,413301,83650f71b232b890b7827e55b0fb73c730cfb74c,9,4,2,12898,,,0,"Add Constraints support

To be co-installable with other OpenStack projects and have consistent
testing it's a good idea (tm) to use constraints when creating tox
environments.

Change-Id: Ic53cd023d9007321441bafd6c8e4c9b4f39e58b3
",git fetch https://review.opendev.org/openstack/monasca-transform refs/changes/01/413301/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e1715f053b130200bd7a29de23adfa385cc07dfc,feature/add-constraints-support,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},install_command = pip install -U {opts} {packages},1,1
openstack%2Fopenstack-helm~master~Ib1e4769b739d1f85ab22ad66612fb96d4c917b33,openstack/openstack-helm,master,Ib1e4769b739d1f85ab22ad66612fb96d4c917b33,Add /var/log/containers mount,MERGED,2017-04-22 23:32:16.000000000,2017-04-24 19:18:18.000000000,2017-04-24 19:18:18.000000000,"[{'_account_id': 3}, {'_account_id': 20443}, {'_account_id': 23928}]","[{'number': 1, 'created': '2017-04-22 23:32:16.000000000', 'files': ['tools/kubeadm-aio/assets/usr/bin/kubelet'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f5f6dd8a2bc45ffa8b2e4fa4826364349ef812e2', 'message': 'Add /var/log/containers mount\n\nThe /var/log/containers mount is necessary for use with fluentd.\nThe kubelet creates symlinks that grab the pod name, namespace,\nand container name from this directory on the host, so it needs\nto be mounted\n\nChange-Id: Ib1e4769b739d1f85ab22ad66612fb96d4c917b33\n'}]",0,459080,f5f6dd8a2bc45ffa8b2e4fa4826364349ef812e2,7,3,1,17591,,,0,"Add /var/log/containers mount

The /var/log/containers mount is necessary for use with fluentd.
The kubelet creates symlinks that grab the pod name, namespace,
and container name from this directory on the host, so it needs
to be mounted

Change-Id: Ib1e4769b739d1f85ab22ad66612fb96d4c917b33
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/80/459080/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kubeadm-aio/assets/usr/bin/kubelet'],1,f5f6dd8a2bc45ffa8b2e4fa4826364349ef812e2,fix_kubelet_mount, --volume=/var/log/containers:/var/log/containers:rw \,,1,0
openstack%2Fopenstack-ansible-openstack_hosts~master~Id8f508d7c34e10981e78be1e067e27a6ee2354f7,openstack/openstack-ansible-openstack_hosts,master,Id8f508d7c34e10981e78be1e067e27a6ee2354f7,CentOS make sure epel is enabled.,MERGED,2017-04-24 18:58:01.000000000,2017-04-24 19:09:50.000000000,2017-04-24 19:08:25.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-04-24 18:58:01.000000000', 'files': ['tasks/openstack_host_install_yum.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/8b422be4592c0df164480c50e8134f97af12691d', 'message': 'CentOS make sure epel is enabled.\n\nChange-Id: Id8f508d7c34e10981e78be1e067e27a6ee2354f7\n'}]",0,459429,8b422be4592c0df164480c50e8134f97af12691d,8,3,1,13095,,,0,"CentOS make sure epel is enabled.

Change-Id: Id8f508d7c34e10981e78be1e067e27a6ee2354f7
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/29/459429/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/openstack_host_install_yum.yml'],1,8b422be4592c0df164480c50e8134f97af12691d,add-epel-Centos, --enable epel,,1,0
openstack%2Fopenstack-ansible-os_aodh~master~I61d20c0a2c92a43926f27fd9efb1ec10b05c6eea,openstack/openstack-ansible-os_aodh,master,I61d20c0a2c92a43926f27fd9efb1ec10b05c6eea,Optimise apt cache update task,MERGED,2017-04-21 15:11:22.000000000,2017-04-24 19:02:40.000000000,2017-04-24 18:33:33.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 11268}]","[{'number': 1, 'created': '2017-04-21 15:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/eceae380d7e58524211688d36fcb0c2e6cc0a270', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: I61d20c0a2c92a43926f27fd9efb1ec10b05c6eea\n""}, {'number': 2, 'created': '2017-04-21 15:13:40.000000000', 'files': ['tasks/aodh_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/68a7905f29a43d09f8967016c69b3228d3a324a0', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: I61d20c0a2c92a43926f27fd9efb1ec10b05c6eea\n""}]",0,458874,68a7905f29a43d09f8967016c69b3228d3a324a0,11,3,2,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: I61d20c0a2c92a43926f27fd9efb1ec10b05c6eea
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/74/458874/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/aodh_install.yml'],1,eceae380d7e58524211688d36fcb0c2e6cc0a270,use_package_module," update_cache: ""{{ (ansible_pkg_mgr == 'apt') | ternary('yes', omit) }}"" cache_valid_time: ""{{ (ansible_pkg_mgr == 'apt') | ternary(cache_timeout, omit) }}"" update_cache: ""{{ (ansible_pkg_mgr == 'apt') | ternary('yes', omit) }}"" cache_valid_time: ""{{ (ansible_pkg_mgr == 'apt') | ternary(cache_timeout, omit) }}""","- name: Ensure apt cache is up to date apt: update_cache: yes cache_valid_time: ""{{ cache_timeout }}"" when: - ansible_pkg_mgr == 'apt' ",4,7
openstack%2Fopenstack-ansible-os_ceilometer~master~Icbb789cfce96df62dff46db1625509a923d79328,openstack/openstack-ansible-os_ceilometer,master,Icbb789cfce96df62dff46db1625509a923d79328,Optimise apt cache update task,MERGED,2017-04-21 15:13:08.000000000,2017-04-24 19:02:33.000000000,2017-04-24 18:48:01.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 11268}]","[{'number': 1, 'created': '2017-04-21 15:13:08.000000000', 'files': ['tasks/ceilometer_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/a30e48910cd39ccc81bdb39dcca6f2596a74a054', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: Icbb789cfce96df62dff46db1625509a923d79328\n""}]",0,458876,a30e48910cd39ccc81bdb39dcca6f2596a74a054,15,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: Icbb789cfce96df62dff46db1625509a923d79328
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/76/458876/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/ceilometer_install.yml', 'meta/main.yml']",2,a30e48910cd39ccc81bdb39dcca6f2596a74a054,use_package_module, min_ansible_version: 2.2, min_ansible_version: 2.0,5,8
openstack%2Ftripleo-ci~master~Ib8a69ffc26a548dbbd3e6c5ef44ed86085ed8b54,openstack/tripleo-ci,master,Ib8a69ffc26a548dbbd3e6c5ef44ed86085ed8b54,Remove centos-release-* packages,ABANDONED,2017-04-24 14:56:58.000000000,2017-04-24 18:58:48.000000000,,[{'_account_id': 3}],"[{'number': 1, 'created': '2017-04-24 14:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d9478b5200f29e4b2420fb61caffd8e905a89f64', 'message': 'Remove centos-release-* packages\n\nWe get all of these things from dlrn and having the centos-release\nversions installed too is causing problems.\n\nChange-Id: Ib8a69ffc26a548dbbd3e6c5ef44ed86085ed8b54\nCloses-Bug: 1685814\n'}, {'number': 2, 'created': '2017-04-24 14:58:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/289f435de3c43a1590ee4853248ee4975f88a8b9', 'message': 'Remove centos-release-* packages\n\nWe get all of these things from dlrn and having the centos-release\nversions installed too is causing problems.\n\nChange-Id: Ib8a69ffc26a548dbbd3e6c5ef44ed86085ed8b54\nCloses-Bug: 1685814\n'}, {'number': 3, 'created': '2017-04-24 16:14:05.000000000', 'files': ['toci_gate_test-oooq.sh', 'toci_gate_test-orig.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7a4f60d4913dbae03a676ab641ecef29b5694c43', 'message': 'Remove centos-release-* packages\n\nWe get all of these things from dlrn and having the centos-release\nversions installed too is causing problems.\n\nChange-Id: Ib8a69ffc26a548dbbd3e6c5ef44ed86085ed8b54\nCloses-Bug: 1685814\n'}]",0,459340,7a4f60d4913dbae03a676ab641ecef29b5694c43,6,1,3,6928,,,0,"Remove centos-release-* packages

We get all of these things from dlrn and having the centos-release
versions installed too is causing problems.

Change-Id: Ib8a69ffc26a548dbbd3e6c5ef44ed86085ed8b54
Closes-Bug: 1685814
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/40/459340/1 && git format-patch -1 --stdout FETCH_HEAD,['toci_gate_test-orig.sh'],1,d9478b5200f29e4b2420fb61caffd8e905a89f64,bug/1685814,# The centos-release packages may enable repos that conflict with our dlrn ones. sudo yum remove centos-release-ceph-jewel centos-release-openstack-ocata centos-release-qemu-ev centos-release-storage-common centos-release-virt-common ,,3,0
openstack%2Fneutron~master~Id08cd84bae0e69f07c1615121ec8da001e69afba,openstack/neutron,master,Id08cd84bae0e69f07c1615121ec8da001e69afba,Add Linuxbridge agent to no dhcp fullstack connectivity test,MERGED,2017-04-23 21:10:06.000000000,2017-04-24 18:57:57.000000000,2017-04-24 18:57:56.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 6788}, {'_account_id': 6854}, {'_account_id': 6951}, {'_account_id': 7018}, {'_account_id': 7249}, {'_account_id': 7715}, {'_account_id': 7787}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 9656}, {'_account_id': 9732}, {'_account_id': 13995}, {'_account_id': 18051}]","[{'number': 1, 'created': '2017-04-23 21:10:06.000000000', 'files': ['neutron/tests/fullstack/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/09e2b6a498c0a35f4a24c90726ceee15c15a6219', 'message': 'Add Linuxbridge agent to no dhcp fullstack connectivity test\n\nThis commit adds Linuxbridge L2 agent scenario to\nfullstack connectivity testo without DHCP enabled.\n\nChange-Id: Id08cd84bae0e69f07c1615121ec8da001e69afba\n'}]",0,459133,09e2b6a498c0a35f4a24c90726ceee15c15a6219,20,21,1,11975,,,0,"Add Linuxbridge agent to no dhcp fullstack connectivity test

This commit adds Linuxbridge L2 agent scenario to
fullstack connectivity testo without DHCP enabled.

Change-Id: Id08cd84bae0e69f07c1615121ec8da001e69afba
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/459133/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/fullstack/test_connectivity.py'],1,09e2b6a498c0a35f4a24c90726ceee15c15a6219,,"class TestConnectivitySameNetworkNoDhcp(BaseConnectivitySameNetworkTest): scenarios = [ (constants.AGENT_TYPE_OVS, {'l2_agent_type': constants.AGENT_TYPE_OVS}), (constants.AGENT_TYPE_LINUXBRIDGE, {'l2_agent_type': constants.AGENT_TYPE_LINUXBRIDGE}) ] use_dhcp = False network_type = 'vxlan' l2_pop = False ovsdb_interface = 'native' of_interface = 'native' def test_connectivity(self): self._test_connectivity() ",class TestOvsConnectivitySameNetworkNoDhcp(BaseConnectivitySameNetworkTest): use_dhcp = False network_type = 'vxlan' l2_pop = False l2_agent_type = constants.AGENT_TYPE_OVS ovsdb_interface = 'native' of_interface = 'native' def test_connectivity(self): self._test_connectivity() ,19,12
openstack%2Fzun-ui~master~I6b01c35260671ac0c45c5bb188aa07f637fb7eac,openstack/zun-ui,master,I6b01c35260671ac0c45c5bb188aa07f637fb7eac,Combine tty and stdin_open,MERGED,2017-04-20 06:14:05.000000000,2017-04-24 18:56:46.000000000,2017-04-24 18:56:46.000000000,"[{'_account_id': 3}, {'_account_id': 11536}]","[{'number': 1, 'created': '2017-04-20 06:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/f667bc558d6edfcff53bedbac13d3e2db10abb35', 'message': 'Combine tty and stdin_open\n\nChange-Id: I6b01c35260671ac0c45c5bb188aa07f637fb7eac\nCloses-Bug: #1683951\n'}, {'number': 2, 'created': '2017-04-20 06:18:58.000000000', 'files': ['zun_ui/static/dashboard/container/containers/details/overview.html', 'zun_ui/api/client.py', 'zun_ui/static/dashboard/container/containers/details/console.controller.js', 'zun_ui/static/dashboard/container/containers/containers.module.js'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/2a522bec9fb76d877ce525f89bd5f58e9ffbd4d3', 'message': 'Combine tty and stdin_open\n\nChange-Id: I6b01c35260671ac0c45c5bb188aa07f637fb7eac\nCloses-Bug: #1683951\n'}]",0,458344,2a522bec9fb76d877ce525f89bd5f58e9ffbd4d3,8,2,2,23365,,,0,"Combine tty and stdin_open

Change-Id: I6b01c35260671ac0c45c5bb188aa07f637fb7eac
Closes-Bug: #1683951
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/44/458344/2 && git format-patch -1 --stdout FETCH_HEAD,"['zun_ui/static/dashboard/container/containers/details/overview.html', 'zun_ui/api/client.py', 'zun_ui/static/dashboard/container/containers/details/console.controller.js', 'zun_ui/static/dashboard/container/containers/containers.module.js']",4,f667bc558d6edfcff53bedbac13d3e2db10abb35,bug/1683951," 'interactive': {label: gettext('interactive'), filters: ['yesno'] },"," 'stdin_open': {label: gettext('Stdin Open'), filters: ['yesno'] }, 'tty': {label: gettext('TTY'), filters: ['yesno'] },",4,6
openstack%2Fneutron~stable%2Focata~I13898fc661d590609d2ef40873daef987956db6b,openstack/neutron,stable/ocata,I13898fc661d590609d2ef40873daef987956db6b,fullstack: Compile openvswitch module for fullstack test,MERGED,2017-04-21 07:55:32.000000000,2017-04-24 18:56:15.000000000,2017-04-24 18:56:15.000000000,"[{'_account_id': 3}, {'_account_id': 1131}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-04-21 07:55:32.000000000', 'files': ['neutron/tests/contrib/gate_hook.sh', 'devstack/lib/ovs'], 'web_link': 'https://opendev.org/openstack/neutron/commit/085afaa64986651481960603160309116067c55a', 'message': 'fullstack: Compile openvswitch module for fullstack test\n\nAfter switching to UCA, we started getting ovs 2.5.2. There was a\ncondition that compiled openvswitch only if the version was lower than\n2.5.1. This patch always compiles only kernel part of openvswitch so we\nget VXLAN tunnelling working with fullstack.\n\nCloses-bug: 1684897\n\nChange-Id: I13898fc661d590609d2ef40873daef987956db6b\n(cherry picked from commit 70b82034aca8865c423e91cde6ce826cc4c617a1)\n'}]",0,458758,085afaa64986651481960603160309116067c55a,13,3,1,8655,,,0,"fullstack: Compile openvswitch module for fullstack test

After switching to UCA, we started getting ovs 2.5.2. There was a
condition that compiled openvswitch only if the version was lower than
2.5.1. This patch always compiles only kernel part of openvswitch so we
get VXLAN tunnelling working with fullstack.

Closes-bug: 1684897

Change-Id: I13898fc661d590609d2ef40873daef987956db6b
(cherry picked from commit 70b82034aca8865c423e91cde6ce826cc4c617a1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/458758/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/contrib/gate_hook.sh', 'devstack/lib/ovs']",2,085afaa64986651481960603160309116067c55a,bug/1684897,"# prepare_for_compilation() - Fetch ovs git repository and install packages needed for # compilation. function prepare_for_compilation {} # reload_kernel_modules() - reload openvswitch kernel module function reload_kernel_modules { sudo modprobe -r vport_geneve sudo modprobe -r openvswitch load_module openvswitch load_module vport-geneve False dmesg | tail } # compile_ovs() - Compile OVS from source and load needed modules. # Accepts two parameters: # - first one is True by default and means that modules are built and installed. # - second optional parameter defines prefix for ovs compilation # - third optional parameter defines localstatedir for ovs single machine runtime # Env variables OVS_REPO_NAME, OVS_REPO and OVS_BRANCH must be set function compile_ovs { local _pwd=$PWD local build_modules=${1:-True} local prefix=$2 local localstatedir=$3 if [ -n ""$prefix"" ]; then prefix=""--prefix=$prefix"" fi if [ -n ""$localstatedir"" ]; then localstatedir=""--localstatedir=$localstatedir"" fi prepare_for_compilation reload_kernel_modules# action_service - call an action over openvswitch service # Accepts one parameter that can be either # 'start', 'restart' and 'stop'. function action_openvswitch { local action=$1 if is_ubuntu; then ${action}_service openvswitch-switch elif is_fedora; then ${action}_service openvswitch elif is_suse; then if [[ $DISTRO == ""sle12"" ]] && [[ $os_RELEASE -lt 12.2 ]]; then ${action}_service openvswitch-switch else ${action}_service openvswitch fi fi } # compile_ovs_kernel_module() - Compile openvswitch kernel module and load it function compile_ovs_kernel_module { local _pwd=$PWD prepare_for_compilation [ -f configure ] || ./boot.sh if [ ! -f config.status ] || [ configure -nt config.status ] ; then ./configure --with-linux=/lib/modules/$(uname -r)/build fi action_openvswitch stop make -j$[$(nproc) + 1] sudo make INSTALL_MOD_DIR=kernel/net/openvswitch modules_install if [ $? -eq 0 ]; then reload_kernel_modules else echo ""Compiling OVS kernel module failed"" fi action_openvswitch start cd $_pwd } ","# compile_ovs() - Compile OVS from source and load needed modules. # Accepts two parameters: # - first one is True by default and means that modules are built and installed. # - second optional parameter defines prefix for ovs compilation # - third optional parameter defines localstatedir for ovs single machine runtime # Env variables OVS_REPO_NAME, OVS_REPO and OVS_BRANCH must be set function compile_ovs { local _pwd=$PWD local build_modules=${1:-True} local prefix=$2 local localstatedir=$3 if [ -n ""$prefix"" ]; then prefix=""--prefix=$prefix"" fi if [ -n ""$localstatedir"" ]; then localstatedir=""--localstatedir=$localstatedir"" fi sudo modprobe -r vport_geneve sudo modprobe -r openvswitch load_module openvswitch load_module vport-geneve False dmesg | tail",89,26
openstack%2Foslo.log~master~Ib3f34bef021c1a25f64b98d374cc4045d36f017f,openstack/oslo.log,master,Ib3f34bef021c1a25f64b98d374cc4045d36f017f,add the line number to log messages,ABANDONED,2017-04-24 15:41:03.000000000,2017-04-24 18:48:48.000000000,,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-04-24 15:41:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/14d9fb9988e214e8e5083ab861086f02cec5f1c3', 'message': 'add the line number to log messages\n\nShow the line number where the logging call is being made within a\nmodule.\n\nChange-Id: Ib3f34bef021c1a25f64b98d374cc4045d36f017f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2017-04-24 17:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/ac9fe9214a51d5bf5fe6bc5ccc0738792e6610b5', 'message': 'add the line number to log messages\n\nShow the line number where the logging call is being made within a\nmodule.\n\nChange-Id: Ib3f34bef021c1a25f64b98d374cc4045d36f017f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2017-04-24 18:42:10.000000000', 'files': ['oslo_log/tests/unit/test_log.py', 'oslo_log/_options.py'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/457de1e9db66d701100ef46bd2bfcfb989f77a76', 'message': 'add the line number to log messages\n\nShow the line number where the logging call is being made within a\nmodule.\n\nChange-Id: Ib3f34bef021c1a25f64b98d374cc4045d36f017f\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",0,459352,457de1e9db66d701100ef46bd2bfcfb989f77a76,8,2,3,2472,,,0,"add the line number to log messages

Show the line number where the logging call is being made within a
module.

Change-Id: Ib3f34bef021c1a25f64b98d374cc4045d36f017f
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/52/459352/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_log/_options.py'],1,14d9fb9988e214e8e5083ab861086f02cec5f1c3,add-location-to-log-lines, '%(name)s:%(lineno)s ' '[%(request_id)s %(user_identity)s] ', '%(name)s [%(request_id)s %(user_identity)s] ',2,1
openstack%2Fbarbican~master~Ic1ef76acbe178cfd5c6f2d3ab9ff97c652a3e604,openstack/barbican,master,Ic1ef76acbe178cfd5c6f2d3ab9ff97c652a3e604,Fix test cases expect Ubuntu specific assertion messages,MERGED,2017-04-18 13:03:09.000000000,2017-04-24 18:45:54.000000000,2017-04-24 18:45:54.000000000,"[{'_account_id': 3}, {'_account_id': 1091}, {'_account_id': 7764}, {'_account_id': 8623}, {'_account_id': 21797}]","[{'number': 1, 'created': '2017-04-18 13:03:09.000000000', 'files': ['barbican/tests/model/repositories/test_repositories_consumers.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/f4fc902fdbf269c799cef78eea98b79970131b49', 'message': 'Fix test cases expect Ubuntu specific assertion messages\n\nUbuntu and CentOS throw different exception messages for\nSQL contraint checking.  The test cases can only assume\nassertion messages created by Barbican.\n\nChange-Id: Ic1ef76acbe178cfd5c6f2d3ab9ff97c652a3e604\nCloses-bug: #1681988\n'}]",0,457625,f4fc902fdbf269c799cef78eea98b79970131b49,10,5,1,11561,,,0,"Fix test cases expect Ubuntu specific assertion messages

Ubuntu and CentOS throw different exception messages for
SQL contraint checking.  The test cases can only assume
assertion messages created by Barbican.

Change-Id: Ic1ef76acbe178cfd5c6f2d3ab9ff97c652a3e604
Closes-bug: #1681988
",git fetch https://review.opendev.org/openstack/barbican refs/changes/25/457625/1 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/tests/model/repositories/test_repositories_consumers.py', 'barbican/tests/model/repositories/test_repositories_secret_stores.py']",2,f4fc902fdbf269c799cef78eea98b79970131b49,bug/1681988," self.assertIn(""SQL constraint check failed"", ex.message) self.assertIn(""SQL constraint check failed"", ex.message)"," self.assertIn(""UNIQUE constraint"", ex.message) self.assertIn(""UNIQUE constraint"", ex.message)",4,5
openstack%2Ftempest~master~Ib0663c9e1d8ba3fb44d4e7a87a3cf99b3a828395,openstack/tempest,master,Ib0663c9e1d8ba3fb44d4e7a87a3cf99b3a828395,Add ephemeral storage encryption options,ABANDONED,2017-04-21 17:37:30.000000000,2017-04-24 18:28:11.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 7012}, {'_account_id': 7350}, {'_account_id': 7764}, {'_account_id': 8623}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 15022}, {'_account_id': 24711}]","[{'number': 1, 'created': '2017-04-21 17:37:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1d752eaa495362b595dc4e208b850d3c59221406', 'message': 'Add ephemeral storage encryption options\n\nEphemeral storage encryption scenario tests will be added to the\nbarbican-tempest-plugin repository. These tests will require Tempest to be\naware of a handful of ephemeral storage encryption options. This patch simply\nadds those options to the Tempest configuration, with default settings\nspecified.\n\nChange-Id: Ib0663c9e1d8ba3fb44d4e7a87a3cf99b3a828395\n'}, {'number': 2, 'created': '2017-04-21 18:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ddbfd9c0ed499677ef86811f9ed70674c2f6af77', 'message': 'Add ephemeral storage encryption options\n\nEphemeral storage encryption scenario tests will be added to the\nbarbican-tempest-plugin repository. These tests will require Tempest to be\naware of a handful of ephemeral storage encryption options. This patch simply\nadds those options to the Tempest configuration, with default settings\nspecified.\n\nChange-Id: Ib0663c9e1d8ba3fb44d4e7a87a3cf99b3a828395\n'}, {'number': 3, 'created': '2017-04-21 19:46:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4fbbf739ae0f55b55d0b542351e111ba1486de13', 'message': 'Add ephemeral storage encryption options\n\nEphemeral storage encryption scenario tests will be added to the\nbarbican-tempest-plugin repository. These tests will require Tempest to be\naware of a handful of ephemeral storage encryption options. This patch simply\nadds those options to the Tempest configuration, with default settings\nspecified.\n\nChange-Id: Ib0663c9e1d8ba3fb44d4e7a87a3cf99b3a828395\n'}, {'number': 4, 'created': '2017-04-22 00:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/81a26d6e80e892001ca9e66295d2b1e4604d00e6', 'message': 'Add ephemeral storage encryption options\n\nEphemeral storage encryption scenario tests will be added to the\nbarbican-tempest-plugin repository. These tests will require Tempest to\nbe aware of a handful of ephemeral storage encryption options. This\npatch simply adds those options to the Tempest configuration, with\ndefault settings specified.\n\nChange-Id: Ib0663c9e1d8ba3fb44d4e7a87a3cf99b3a828395\n'}, {'number': 5, 'created': '2017-04-22 02:13:52.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3d60deb78d1f0148f0808d882e05e70d20f7882f', 'message': 'Add ephemeral storage encryption options\n\nEphemeral storage encryption scenario tests will be added to the\nbarbican-tempest-plugin repository. These tests will require Tempest to\nbe aware of a handful of ephemeral storage encryption options. This\npatch simply adds those options to the Tempest configuration, with\ndefault settings specified.\n\nChange-Id: Ib0663c9e1d8ba3fb44d4e7a87a3cf99b3a828395\n'}]",2,458921,3d60deb78d1f0148f0808d882e05e70d20f7882f,20,10,5,24711,,,0,"Add ephemeral storage encryption options

Ephemeral storage encryption scenario tests will be added to the
barbican-tempest-plugin repository. These tests will require Tempest to
be aware of a handful of ephemeral storage encryption options. This
patch simply adds those options to the Tempest configuration, with
default settings specified.

Change-Id: Ib0663c9e1d8ba3fb44d4e7a87a3cf99b3a828395
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/458921/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,1d752eaa495362b595dc4e208b850d3c59221406,add_ephemeral_storage_encryption_options," cfg.BoolOpt('ephemeral_storage_encryption_enabled', default=False, help='Does the test environment support ephemeral storage ' 'encryption?'), cfg.StrOpt('ephemeral_storage_encryption_cipher', default='aes-xts-plain64', help='The cipher and mode used to encrypt ephemeral storage. ' 'AES-XTS is recommended by NIST specifically for disk ' 'storage, and the name is shorthand for AES encryption ' 'using the XTS encryption mode. Available ciphers depend ' 'on kernel support. At the command line, type ' '\‘cyrptsetup benchmark\’ to determine the available ' 'options (and see benchmark results), or go to ' '/proc/crypto.'), cfg.IntOpt('ephemeral_storage_encryption_key_size', default=256, help='The key size used to encrypt ephemeral storage.'),",,17,0
openstack%2Fec2-api~master~I26a5a8f1f2ade564d78c39c25ce17d50569a82f6,openstack/ec2-api,master,I26a5a8f1f2ade564d78c39c25ce17d50569a82f6,fix documentation errors,MERGED,2017-04-20 13:02:12.000000000,2017-04-24 18:07:47.000000000,2017-04-24 18:07:47.000000000,"[{'_account_id': 3}, {'_account_id': 10234}]","[{'number': 1, 'created': '2017-04-20 13:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/81b215254b5004a5f59b0e53b34cb7c788126358', 'message': 'fix documentation errors\n\nchange the path ec2 services are installed to by install.sh\n\nChange-Id: I26a5a8f1f2ade564d78c39c25ce17d50569a82f6\nCloses-Bug: #1676071\n'}, {'number': 2, 'created': '2017-04-24 14:43:38.000000000', 'files': ['README.rst', 'install-guide/source/install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/659a6e6132b4f6dbce3d18d04ef9ae4afdc8840f', 'message': 'fix documentation errors\n\nchange the path ec2 services are installed to by install.sh\n\nChange-Id: I26a5a8f1f2ade564d78c39c25ce17d50569a82f6\nCloses-Bug: #1676071\n'}]",0,458495,659a6e6132b4f6dbce3d18d04ef9ae4afdc8840f,9,2,2,19065,,,0,"fix documentation errors

change the path ec2 services are installed to by install.sh

Change-Id: I26a5a8f1f2ade564d78c39c25ce17d50569a82f6
Closes-Bug: #1676071
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/95/458495/2 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'install-guide/source/install-ubuntu.rst']",2,81b215254b5004a5f59b0e53b34cb7c788126358,bug/1676071, /usr/local/bin/ec2-api /usr/local/bin/ec2-api-metadata, /usr/bin/ec2-api /usr/bin/ec2-api-metadata,5,5
openstack%2Fec2-api~master~Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a,openstack/ec2-api,master,Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a,change manual in install-guide,MERGED,2017-03-28 09:53:43.000000000,2017-04-24 18:07:41.000000000,2017-04-24 18:07:41.000000000,"[{'_account_id': 3}, {'_account_id': 10234}, {'_account_id': 19065}]","[{'number': 1, 'created': '2017-03-28 09:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/72f3fbf4010ed13012a7faa8f9a55cad59494bba', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 2, 'created': '2017-04-03 12:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/89d05129d16833608bbc0e371856f1f93a67a672', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 3, 'created': '2017-04-03 13:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/67d1d7a784ab85ca6d6ce04964ab6407988cbf09', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 4, 'created': '2017-04-03 14:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b31f74539802f107edf1f04ab38c3cac05876e7f', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 5, 'created': '2017-04-04 15:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/25fa27a6f8b79b3bc2b378657279e75436c73c47', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 6, 'created': '2017-04-05 11:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/cd14555cf6236e71d47c1d64ba37440b9355d497', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 7, 'created': '2017-04-05 13:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/1417117d818ba07ab3f7a4cfb671c9b993ef73f7', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 8, 'created': '2017-04-05 14:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ea0efc75143f5aa1b3a6ebfe20810a5e286cc71e', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 9, 'created': '2017-04-05 16:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/edf25354cb6b50c00ac01244c9b3f9db3fd8e5d2', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 10, 'created': '2017-04-06 10:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/318804766241c58c4da18facb7342959dd17b226', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 11, 'created': '2017-04-06 11:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/1113622851cc44e6103df85ab5393c1598f9156a', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 12, 'created': '2017-04-06 14:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7d1c825bd072cf361e97120d134a1a858dcac901', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 13, 'created': '2017-04-06 15:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/55a14459ff442c416839b90a86f393814194c1c7', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 14, 'created': '2017-04-07 15:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/09e5a5045f84dd51c1b5837db10eff99accae4de', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 15, 'created': '2017-04-10 11:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/85e5a005e6f83170e8d15843b6b7c3f88196c12c', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 16, 'created': '2017-04-19 13:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/c9c6cb0ff06c17d0fee9529b307c17786b4b3c45', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 17, 'created': '2017-04-19 14:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/822d061eaa852d984cdaaf4e5445251d599e022c', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}, {'number': 18, 'created': '2017-04-24 14:43:38.000000000', 'files': ['install-guide/source/database-creation.rst', 'install-guide/source/endpoints-creation.rst', 'install-guide/source/verify.rst'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/05c9ba210a7cdb3c65723047895f1a6e3d806490', 'message': 'change manual in install-guide\n\nfix commands for service endpoints creation\nfix command for obtaining credentials\n\nChange-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a\n'}]",2,450684,05c9ba210a7cdb3c65723047895f1a6e3d806490,40,3,18,19065,,,0,"change manual in install-guide

fix commands for service endpoints creation
fix command for obtaining credentials

Change-Id: Ib39aa43c004d85e3201c7db8c1d3b9677fb2826a
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/84/450684/4 && git format-patch -1 --stdout FETCH_HEAD,"['install-guide/source/endpoints-creation.rst', 'install-guide/source/verify.rst']",2,72f3fbf4010ed13012a7faa8f9a55cad59494bba,," **""openstack ec2 credentials list""** command)."," **""keystone ec2-credentials-list""** command).",9,7
openstack%2Ftripleo-heat-templates~master~I98a54808aae6fca060b23f074b71178f2d4c815e,openstack/tripleo-heat-templates,master,I98a54808aae6fca060b23f074b71178f2d4c815e,Fix containerized RabbitMQ service deployment,MERGED,2017-04-19 12:34:40.000000000,2017-04-24 17:56:30.000000000,2017-04-24 17:56:30.000000000,"[{'_account_id': 3}, {'_account_id': 360}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 13039}]","[{'number': 1, 'created': '2017-04-19 12:34:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ddcf7686b4900482d4ee3c0c3a6be538c51dd7d0', 'message': ""Fix containerized RabbitMQ service deployment\n\n* Use default puppet tags instead of the 'file' tag only\n* Noop user/policy providers for puppet_config docker step\n  and move them into docker_puppet_tasks (init container)\n\nChange-Id: I98a54808aae6fca060b23f074b71178f2d4c815e\nDepends-on: Ib70176f1edf61228771c983b0c3231fb7939a316\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 2, 'created': '2017-04-19 14:20:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6ab9da1628a90124714a32eb3a192772e5f83473', 'message': ""Fix containerized RabbitMQ service deployment\n\n* Use default puppet tags instead of the 'file' tag only\n* Noop user/policy providers for puppet_config docker step\n  and move them into docker_puppet_tasks (init container)\n\nChange-Id: I98a54808aae6fca060b23f074b71178f2d4c815e\nCloses-bug: #1684138\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 3, 'created': '2017-04-24 10:55:16.000000000', 'files': ['docker/services/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2392bd7d48011bc6627ce3ee6455b38e3ba201b5', 'message': ""Fix containerized RabbitMQ service deployment\n\n* Use default puppet tags instead of the 'file' tag only\n* Noop user/policy providers for puppet_config docker step\n  and move them into docker_puppet_tasks (init container)\n\nChange-Id: I98a54808aae6fca060b23f074b71178f2d4c815e\nCloses-bug: #1684138\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",6,458051,2392bd7d48011bc6627ce3ee6455b38e3ba201b5,33,7,3,6926,,,0,"Fix containerized RabbitMQ service deployment

* Use default puppet tags instead of the 'file' tag only
* Noop user/policy providers for puppet_config docker step
  and move them into docker_puppet_tasks (init container)

Change-Id: I98a54808aae6fca060b23f074b71178f2d4c815e
Closes-bug: #1684138
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/51/458051/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/rabbitmq.yaml'],1,ddcf7686b4900482d4ee3c0c3a6be538c51dd7d0,rabbit_init," # RabbitMQ plugins initialization occurs on every node list_join: - ""\n"" - - ""['Rabbitmq_policy', 'Rabbitmq_user'].each |String $val| { noop_resource($val) }"" - get_attr: [RabbitmqBase, role_data, step_config] - docker_puppet_tasks: # RabbitMQ users and policies initialization occurs only on single node step_1: config_volume: 'rabbit_init_tasks' puppet_tags: 'rabbitmq_policy,rabbitmq_user' step_config: 'include ::tripleo::profile::base::rabbitmq' config_image: *rabbitmq_image volumes: - /var/lib/config-data/rabbitmq/etc/:/etc/:ro - /var/lib/rabbitmq:/var/lib/rabbitmq:ro"," get_attr: [RabbitmqBase, role_data, step_config] puppet_tags: file - ",16,3
openstack%2Fdevstack-plugin-nfs~master~Icc504027a8d6301e0acf4ebc53edd8d0a89b1baa,openstack/devstack-plugin-nfs,master,Icc504027a8d6301e0acf4ebc53edd8d0a89b1baa,Switch to nas_host/nas_share_path options,MERGED,2017-04-20 18:44:19.000000000,2017-04-24 17:56:17.000000000,2017-04-24 17:56:17.000000000,"[{'_account_id': 3}, {'_account_id': 4523}]","[{'number': 1, 'created': '2017-04-20 18:44:19.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/e0e6d0ee67caeeeeac77e1b5e8942956097da9ad', 'message': 'Switch to nas_host/nas_share_path options\n\nUse the new config format instead of writing\n/etc/cinder/nfs-shares.conf\n\nChange-Id: Icc504027a8d6301e0acf4ebc53edd8d0a89b1baa\n'}]",0,458612,e0e6d0ee67caeeeeac77e1b5e8942956097da9ad,6,2,1,4523,,,0,"Switch to nas_host/nas_share_path options

Use the new config format instead of writing
/etc/cinder/nfs-shares.conf

Change-Id: Icc504027a8d6301e0acf4ebc53edd8d0a89b1baa
",git fetch https://review.opendev.org/openstack/devstack-plugin-nfs refs/changes/12/458612/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,e0e6d0ee67caeeeeac77e1b5e8942956097da9ad,, iniset $CINDER_CONF nfs nas_host localhost iniset $CINDER_CONF nfs nas_share_path ${NFS_EXPORT_DIR},"NFS_SHARES_CONF=${NFS_SHARES_CONF:-/etc/cinder/nfs-shares.conf} echo ""localhost:${NFS_EXPORT_DIR}"" > ${NFS_SHARES_CONF} iniset $CINDER_CONF nfs nfs_shares_config ${NFS_SHARES_CONF}",2,3
openstack%2Fcinder-specs~master~I69d31be8932b275fdecad1e5f39721933bb94973,openstack/cinder-specs,master,I69d31be8932b275fdecad1e5f39721933bb94973,Explicit user messages,MERGED,2017-03-30 11:11:26.000000000,2017-04-24 17:48:24.000000000,2017-04-20 16:27:10.000000000,"[{'_account_id': 3}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 7582}, {'_account_id': 11904}, {'_account_id': 23083}]","[{'number': 1, 'created': '2017-03-30 11:11:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/f3a76e22c4f7ce7cd08127f724a2dacd1909629a', 'message': ""Better user messages\n\nUse 'action', 'resource', 'message' to replace 'event'\nin user messages.\n\nChange-Id: I69d31be8932b275fdecad1e5f39721933bb94973\n""}, {'number': 2, 'created': '2017-03-30 12:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/d0661a148cc7476da11cbb5dd631dbe1712caab9', 'message': ""Explicit user messages\n\nUse 'action', 'resource', 'message' to replace 'event'\nin user messages.\n\nChange-Id: I69d31be8932b275fdecad1e5f39721933bb94973\n""}, {'number': 3, 'created': '2017-03-30 14:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/288204c20cd5bdc98aa58a8a5af44de63bf1eeaf', 'message': ""Explicit user messages\n\nUse 'action', 'resource', 'message' to replace 'event'\nin user messages.\n\nChange-Id: I69d31be8932b275fdecad1e5f39721933bb94973\n""}, {'number': 4, 'created': '2017-03-31 03:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/d6c2fd47e47c9a2da9dbe0c0b5b1d01b289c8b96', 'message': ""Explicit user messages\n\nUse 'action', 'resource', 'message' to replace 'event'\nin user messages.\n\nPartial-Implements: blueprint better-user-message\nChange-Id: I69d31be8932b275fdecad1e5f39721933bb94973\n""}, {'number': 5, 'created': '2017-04-05 08:07:00.000000000', 'files': ['specs/pike/explicit-user-messages.rst'], 'web_link': 'https://opendev.org/openstack/cinder-specs/commit/ecb1531939a89f5e2e975cb4a768321f6c9d7691', 'message': ""Explicit user messages\n\nUse 'action', 'resource', 'message' to replace 'event'\nin user messages.\n\nPartial-Implements: blueprint better-user-message\nChange-Id: I69d31be8932b275fdecad1e5f39721933bb94973\n""}]",15,451761,ecb1531939a89f5e2e975cb4a768321f6c9d7691,22,6,5,23083,,,0,"Explicit user messages

Use 'action', 'resource', 'message' to replace 'event'
in user messages.

Partial-Implements: blueprint better-user-message
Change-Id: I69d31be8932b275fdecad1e5f39721933bb94973
",git fetch https://review.opendev.org/openstack/cinder-specs refs/changes/61/451761/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/better-user-messages.rst'],1,f3a76e22c4f7ce7cd08127f724a2dacd1909629a,feature/better-uesr-messages,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================== Better user messages ==================== https://blueprints.launchpad.net/cinder/+spec/better-user-message Use 'action', 'resource', 'message' to replace 'event' in user messages. Problem description =================== We have introduced user messages since Ocata, That's a beneficial feature, because it solve the problem that we doesn't provide enough message when an async task is failed (especially for volume and snapshot resources). It's easy to find out when and where the task failed with our new messages APIs. But, the better user experience is all depended on whether we have hard coded enough user messages in our projects. So that raises a new question, how could we add this messages without changing our code frequently and how could we maintain this 'better user experience but not functionality involved' code cleanly. Here are some of our user message related codes: .. code-block:: python # CODE1: defined event ids UNKNOWN_ERROR = 'VOLUME_000001' UNABLE_TO_ALLOCATE = 'VOLUME_000002' ATTACH_READONLY_VOLUME = 'VOLUME_000003' IMAGE_FROM_VOLUME_OVER_QUOTA = 'VOLUME_000004' .. code-block:: python # CODE2: try/except and write the user messages with excutils.save_and_reraise_exception(): if isinstance(error, exception.ImageLimitExceeded): self.message_api.create( context, defined_messages.EventIds.IMAGE_FROM_VOLUME_OVER_QUOTA, context.project_id, resource_type=resource_types.VOLUME, resource_uuid=volume_id) We would possibly have several issues if we try to add more user messages based on those presets. * [CODE1]: We would redefine a lot of similar event ids, such as ``UNABLE_CREATE_VOLUME_DRIVER_NOT_READY``, ``UNABLE_CREATE_SNAPSHOT_DRIVER_NOT_READY`` and ``UNABLE_CREATE_BACKUP_DRIVER_NOT_READY``, it's obvious that they are all due to the same error and are created at same procedure (create resource). * [CODE2]: To have an explicit message, we would have a bunch of 'if/else' codes which only focus on detecting the error class and write down the corresponding messages, and even worse if the exception gets more and more, we have to update the code again and again. So could we have a better way to fix these? Use Cases ========= The main use-case here is for an explicit user message to administrators and a better maintaining experience for cinder developers. Proposed change =============== The proposed changes are: * Introduce ``message`` (or name it ``detail`` to avoid confusion) to user messages, the 'message' only represent what (no matter error or warning) happened at that explicit time, that means ``QUOTA_EXCEED`` is a valid one while ``UPLOAD_TO_IMAGE_OVER_QUOTA`` isn't. * Build the relationship from exceptions to messages, we have a bunch of exceptions which could directly point out what happened and how to fix, but we couldn't expose this to the end user because it would expose some sensitive information. We couldn't hard code the cleaned messages into exceptions either, because it could add more dependency and hard to remove (presume we have a cross-project user message project in the future), so this is proposed how to do, build a dictionary from exception name to messages (introduced above):: # multi_key dictionary ['HBSDBusy','XtremIOArrayBusy']: MessageIds.DEVICE_IS_BUSY ['ConfigNotFound', 'ViolinInvalidBackendConfig']: MessageIds.INVALID_CONFIGURATION message_map = { MessageIds.DEVICE_IS_BUSY: _(""Backend device is busy at present.""), MessageIds.INVALID_CONFIGURATION: _(""An unknown error occurred.""), } ... * Introduce ``action`` to user messages. This one should be introduced along with the ``messages``, and can use it to indicate when the message is created, such as ``CREATE_SNAPSHOT_IN_BACKEND``, ``UPLOAD_TO_IMAGE``. * Generate ``event_id`` automatically, user message is used to build user friendly messages for project which directly display the information for administrators. But when referring to the projects which detect, classify and use our messages, the event_id is more useful at this case, so we should have 'event_id' no matter how we change the underground behaviour. Instead of manually define and maintain this event_ids we could build them by a combination of ``RESOURCE``, ``ACTION`` and ``MESSAGE``, take these for example:: # This is how we define event currently IMAGE_FROM_VOLUME_OVER_QUOTA = 'VOLUME_000004' # This is how we would build the event_id at response after this change. VOLUME_0001_0002 : ({RESOURCE}_{ACTION_ID}_{MESSAGE_ID}) We could have these benefits: 1. We don't need to define that much events. (we only need to define less messages). 2. It's also unique in cinder. 3. It's reading friendly and easy to classify or analysis. Alternatives ------------ The alternatives is we could keep adding user messages in the way of we currently have `[1]`_. (There could be more alternatives or better solutions, but I failed to figure out.) Data model impact ----------------- Database update is required to store the 'action_id' and 'message_id', also we can deprecate the 'event_id', because we could generate it anytime we want. REST API impact --------------- We don't have API impact because we didn't expose the create API. Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- For a better experience, developers have to maintain the relationship from exception to messages when any related change is made. Implementation ============== Assignee(s) ----------- Primary assignee: tommylikehu(tommylikehu@gmail.com) Work Items ---------- * Upgrade database to reflect new user message object. * Support 'exception' and 'action' in user message APIs. * Add some unit tests. * Add script for database migration. Dependencies ============ None Testing ======= * Unit tests Documentation Impact ==================== * Update developer documentation for 'exception-to-message' dictionary. References ========== _`[1]` https://review.openstack.org/#/c/298052/ ",,215,0
openstack%2Fpatrole~master~I1a52fca1360afb8544148e9e0e8fc2905e74db0a,openstack/patrole,master,I1a52fca1360afb8544148e9e0e8fc2905e74db0a,Add volume user messages rbac test,MERGED,2017-04-17 19:32:00.000000000,2017-04-24 17:45:54.000000000,2017-04-24 17:45:54.000000000,"[{'_account_id': 3}, {'_account_id': 17896}, {'_account_id': 23185}]","[{'number': 1, 'created': '2017-04-17 19:32:00.000000000', 'files': ['patrole_tempest_plugin/tests/api/volume/rbac_base.py', 'patrole_tempest_plugin/tests/api/volume/test_user_messages_rbac.py'], 'web_link': 'https://opendev.org/openstack/patrole/commit/5c4b97de1cc8549eb9220853556b0c38f11b5ad7', 'message': 'Add volume user messages rbac test\n\nThis patch:\n  * Adds test_user_messages_rbac which tests the cinder messages\n    API [0].\n  * Adds volume_types create helper to volume rbac_base.\n\nNote that microversioning is required for this test; see [1]\nfor more details.\n\n[0] https://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=#messages\n[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/admin/test_user_messages.py\n\nChange-Id: I1a52fca1360afb8544148e9e0e8fc2905e74db0a\n'}]",2,457343,5c4b97de1cc8549eb9220853556b0c38f11b5ad7,12,3,1,23186,,,0,"Add volume user messages rbac test

This patch:
  * Adds test_user_messages_rbac which tests the cinder messages
    API [0].
  * Adds volume_types create helper to volume rbac_base.

Note that microversioning is required for this test; see [1]
for more details.

[0] https://developer.openstack.org/api-ref/block-storage/v3/index.html?expanded=#messages
[1] https://github.com/openstack/tempest/blob/master/tempest/api/volume/admin/test_user_messages.py

Change-Id: I1a52fca1360afb8544148e9e0e8fc2905e74db0a
",git fetch https://review.opendev.org/openstack/patrole refs/changes/43/457343/1 && git format-patch -1 --stdout FETCH_HEAD,"['patrole_tempest_plugin/tests/api/volume/rbac_base.py', 'patrole_tempest_plugin/tests/api/volume/test_user_messages_rbac.py']",2,5c4b97de1cc8549eb9220853556b0c38f11b5ad7,test_user_messages_rbac,"# Copyright 2017 AT&T Corporation. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib.common.utils import test_utils from tempest.lib import decorators from patrole_tempest_plugin import rbac_rule_validation from patrole_tempest_plugin.tests.api.volume import rbac_base CONF = config.CONF class MessagesV3RbacTest(rbac_base.BaseVolumeRbacTest): _api_version = 3 min_microversion = '3.3' max_microversion = 'latest' @classmethod def setup_clients(cls): super(MessagesV3RbacTest, cls).setup_clients() cls.client = cls.os.volume_v3_messages_client def _create_user_message(self): """"""Trigger a 'no valid host' situation to generate a message."""""" bad_protocol = data_utils.rand_name('storage_protocol') bad_vendor = data_utils.rand_name('vendor_name') extra_specs = {'storage_protocol': bad_protocol, 'vendor_name': bad_vendor} vol_type_name = data_utils.rand_name( self.__class__.__name__ + '-volume-type') bogus_type = self.create_volume_type( name=vol_type_name, extra_specs=extra_specs) params = {'volume_type': bogus_type['id'], 'size': CONF.volume.volume_size} volume = self.create_volume(wait_until=""error"", **params) messages = self.messages_client.list_messages()['messages'] message_id = None for message in messages: if message['resource_uuid'] == volume['id']: message_id = message['id'] break self.assertIsNotNone(message_id, 'No user message generated for ' 'volume %s' % volume['id']) self.addCleanup(test_utils.call_and_ignore_notfound_exc, self.client.delete_message, message_id) return message_id @decorators.idempotent_id('bf7f31a1-509b-4a7d-a8a8-ad6ce68229c7') @rbac_rule_validation.action( service=""cinder"", rule=""message:get_all"") def test_list_messages(self): self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.client.list_messages()['messages'] @decorators.idempotent_id('9cc1ad1e-68a2-4407-8b60-ea77909bce08') @rbac_rule_validation.action( service=""cinder"", rule=""message:get"") def test_show_message(self): message_id = self._create_user_message() self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.client.show_message(message_id)['message'] @decorators.idempotent_id('65ca7fb7-7f2c-443e-b144-ac86973a97be') @rbac_rule_validation.action( service=""cinder"", rule=""message:delete"") def test_delete_message(self): message_id = self._create_user_message() self.rbac_utils.switch_role(self, toggle_rbac_role=True) self.client.delete_message(message_id) self.client.wait_for_resource_deletion(message_id) ",,122,0
openstack%2Fpython-muranoclient~master~Ia00061376daabeacd524b1afb01e2e9a585ac56f,openstack/python-muranoclient,master,Ia00061376daabeacd524b1afb01e2e9a585ac56f,delete bash_completion in subcommand,MERGED,2017-03-12 01:30:45.000000000,2017-04-24 17:27:00.000000000,2017-04-24 17:27:00.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 21515}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-03-12 01:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/795780828149953c5437171006c88d0d8ba0af38', 'message': 'delete bash_completion in subcommand\n\nThere are two ""completion"" in the subcommand table: bash-completion\nand bash_completion. but ""bash_completion"" is useless, so delete\nit and extra code.\n\nChange-Id: Ia00061376daabeacd524b1afb01e2e9a585ac56f\nCloses-Bug: #1670123\n'}, {'number': 2, 'created': '2017-04-18 01:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/304dd95589fb46208a8289af373c1728e8f0cc54', 'message': 'delete bash_completion in subcommand\n\nThere are two ""completion"" in the subcommand table: bash-completion\nand bash_completion. but ""bash_completion"" is not in help information\nand it is repeated with ""bash-completion"", so delete it.\n\nChange-Id: Ia00061376daabeacd524b1afb01e2e9a585ac56f\nCloses-Bug: #1670123\n'}, {'number': 3, 'created': '2017-04-21 20:13:48.000000000', 'files': ['muranoclient/shell.py'], 'web_link': 'https://opendev.org/openstack/python-muranoclient/commit/0b63a8d6a771bd66d3b8544ac11b34bfda84ad6c', 'message': 'delete bash_completion in subcommand\n\nThere are two ""completion"" in the subcommand table: bash-completion\nand bash_completion. but ""bash_completion"" is not in help information\nand it is repeated with ""bash-completion"", so delete it.\n\nChange-Id: Ia00061376daabeacd524b1afb01e2e9a585ac56f\nCloses-Bug: #1670123\n'}]",0,444616,0b63a8d6a771bd66d3b8544ac11b34bfda84ad6c,27,6,3,21515,,,0,"delete bash_completion in subcommand

There are two ""completion"" in the subcommand table: bash-completion
and bash_completion. but ""bash_completion"" is not in help information
and it is repeated with ""bash-completion"", so delete it.

Change-Id: Ia00061376daabeacd524b1afb01e2e9a585ac56f
Closes-Bug: #1670123
",git fetch https://review.opendev.org/openstack/python-muranoclient refs/changes/16/444616/2 && git format-patch -1 --stdout FETCH_HEAD,['muranoclient/shell.py'],1,795780828149953c5437171006c88d0d8ba0af38,bug/1670123,," self._add_bash_completion_subparser(subparsers) def _add_bash_completion_subparser(self, subparsers): subparser = subparsers.add_parser( 'bash_completion', add_help=False, formatter_class=HelpFormatter ) self.subcommands['bash_completion'] = subparser subparser.set_defaults(func=self.do_bash_completion) commands.remove('bash_completion')",0,12
openstack%2Fironic~master~I2fd92c29b75de2891ac5556417b5ee81f8616a5a,openstack/ironic,master,I2fd92c29b75de2891ac5556417b5ee81f8616a5a,Add a paragraph about image validation to Install Guide,MERGED,2017-03-29 02:36:42.000000000,2017-04-24 17:26:19.000000000,2017-04-24 17:26:19.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 12356}, {'_account_id': 14760}, {'_account_id': 22860}, {'_account_id': 24828}]","[{'number': 1, 'created': '2017-03-29 02:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa1cb336046a50966a9720ac605880a028c4dd44', 'message': 'Add note about vaidation to Install Guide\n\nWhen Nova is used with Ironic, Nova passes image information when a\nnew instance is requested. Because most of deploy drivers require the\nimage information, a node fails validation when it is enrolled. This\npatch add a note to Install guide so that an operators can ignore\nthis failure.\n\nChange-Id: I2fd92c29b75de2891ac5556417b5ee81f8616a5a\n'}, {'number': 2, 'created': '2017-04-24 05:35:56.000000000', 'files': ['install-guide/source/enrollment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0a038a623e368527025d07a28543eadad1fe0be7', 'message': 'Add a paragraph about image validation to Install Guide\n\nWhen Nova is used with Ironic, Nova passes image information when a\nnew instance is requested. Because most of deploy drivers require the\nimage information, a node fails validation when it is enrolled. This\npatch add a paragraph to Install guide so that an operator can ignore\nthis failure.\n\nChange-Id: I2fd92c29b75de2891ac5556417b5ee81f8616a5a\n'}]",3,451148,0a038a623e368527025d07a28543eadad1fe0be7,15,6,2,13689,,,0,"Add a paragraph about image validation to Install Guide

When Nova is used with Ironic, Nova passes image information when a
new instance is requested. Because most of deploy drivers require the
image information, a node fails validation when it is enrolled. This
patch add a paragraph to Install guide so that an operator can ignore
this failure.

Change-Id: I2fd92c29b75de2891ac5556417b5ee81f8616a5a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/451148/1 && git format-patch -1 --stdout FETCH_HEAD,['install-guide/source/enrollment.rst'],1,fa1cb336046a50966a9720ac605880a028c4dd44,install-guide-validate," .. note:: Validation may fail due to lack of image information. In case the Compute service is used, you can continue the enrollment. The Compute service will set image information when an instance is requested:: ironic node-validate $NODE_UUID +------------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | Interface | Result | Reason | +------------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+ | console | True | | | deploy | False | Cannot validate image information for node because one or more parameters are missing from its instance_info. Missing are: ['ramdisk', 'kernel', 'image_source'] | | management | True | | | power | True | | +------------+--------+------------------------------------------------------------------------------------------------------------------------------------------------------------------+ ",,16,0
openstack%2Fnova~master~Ie5ca7f48c32c39783fb869b049600c8077b028c5,openstack/nova,master,Ie5ca7f48c32c39783fb869b049600c8077b028c5,Remove unused _create_block_device_mapping method from API,ABANDONED,2017-04-24 15:55:48.000000000,2017-04-24 17:19:00.000000000,,"[{'_account_id': 6873}, {'_account_id': 15751}]","[{'number': 1, 'created': '2017-04-24 15:55:48.000000000', 'files': ['nova/compute/cells_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/87a85b32b573c865e831ab75f815f2d9bde5e223', 'message': 'Remove unused _create_block_device_mapping method from API\n\nAs of change I8742071b55f018f864f5a382de20075a5b444a79 this\nmethod is no longer used in the compute API. The BDMs are created\nin conductor now so we can safely delete this code.\n\nChange-Id: Ie5ca7f48c32c39783fb869b049600c8077b028c5\n'}]",0,459389,87a85b32b573c865e831ab75f815f2d9bde5e223,4,2,1,6873,,,0,"Remove unused _create_block_device_mapping method from API

As of change I8742071b55f018f864f5a382de20075a5b444a79 this
method is no longer used in the compute API. The BDMs are created
in conductor now so we can safely delete this code.

Change-Id: Ie5ca7f48c32c39783fb869b049600c8077b028c5
",git fetch https://review.opendev.org/openstack/nova refs/changes/89/459389/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/cells_api.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/compute/test_compute_cells.py', 'nova/compute/api.py']",4,87a85b32b573c865e831ab75f815f2d9bde5e223,cellv2-api-cleanup,,"import copy def _create_block_device_mapping(self, block_device_mapping): # Copy the block_device_mapping because this method can be called # multiple times when more than one instance is booted in a single # request. This avoids 'id' being set and triggering the object dupe # detection db_block_device_mapping = copy.deepcopy(block_device_mapping) # Create the BlockDeviceMapping objects in the db. for bdm in db_block_device_mapping: # TODO(alaski): Why is this done? if bdm.volume_size == 0: continue bdm.update_or_create() ",3,46
openstack%2Fpuppet-octavia~stable%2Focata~I4a5bfc12ea95265fd42ac6ded0d2d1a2bc83d87d,openstack/puppet-octavia,stable/ocata,I4a5bfc12ea95265fd42ac6ded0d2d1a2bc83d87d,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:43:53.000000000,2017-04-24 17:17:46.000000000,2017-04-24 17:17:46.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:43:53.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/d64ea34ae4b93db32b7e44a550dcd0f3437c00e6', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: I4a5bfc12ea95265fd42ac6ded0d2d1a2bc83d87d\n'}]",0,459368,d64ea34ae4b93db32b7e44a550dcd0f3437c00e6,7,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: I4a5bfc12ea95265fd42ac6ded0d2d1a2bc83d87d
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/68/459368/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,d64ea34ae4b93db32b7e44a550dcd0f3437c00e6,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fpuppet-ovn~stable%2Focata~Ib53c639a21525cb71c0f46f21ea5dc3799a3a9f0,openstack/puppet-ovn,stable/ocata,Ib53c639a21525cb71c0f46f21ea5dc3799a3a9f0,Update Gemfile to pull spec_helper from stable/ocata,MERGED,2017-04-24 15:44:34.000000000,2017-04-24 17:15:09.000000000,2017-04-24 17:15:09.000000000,"[{'_account_id': 3}, {'_account_id': 14985}, {'_account_id': 15519}]","[{'number': 1, 'created': '2017-04-24 15:44:34.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/52d3de419042ffbe111b9d5d5178c7e283ffe4f3', 'message': 'Update Gemfile to pull spec_helper from stable/ocata\n\nIt was missed after Ocata release, but we need to do it to pull\nthe right version of puppet-openstack_spec_helper.\n\nChange-Id: Ib53c639a21525cb71c0f46f21ea5dc3799a3a9f0\n'}]",0,459372,52d3de419042ffbe111b9d5d5178c7e283ffe4f3,7,3,1,3153,,,0,"Update Gemfile to pull spec_helper from stable/ocata

It was missed after Ocata release, but we need to do it to pull
the right version of puppet-openstack_spec_helper.

Change-Id: Ib53c639a21525cb71c0f46f21ea5dc3799a3a9f0
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/72/459372/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,52d3de419042ffbe111b9d5d5178c7e283ffe4f3,ocata/gemfile," :branch => 'stable/ocata',",,1,0
openstack%2Fbarbican-tempest-plugin~master~I4a50281d637ff32c660854d2a6db7d959f5da34f,openstack/barbican-tempest-plugin,master,I4a50281d637ff32c660854d2a6db7d959f5da34f,TEST,ABANDONED,2017-04-21 19:39:13.000000000,2017-04-24 17:13:32.000000000,,"[{'_account_id': 3}, {'_account_id': 8623}]","[{'number': 1, 'created': '2017-04-21 19:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/60171351f80b6c6d290d1d96ce8e9b15411b5051', 'message': 'TEST\n\nChange-Id: I4a50281d637ff32c660854d2a6db7d959f5da34f\n'}, {'number': 2, 'created': '2017-04-21 21:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/97f2c954643c88cd03088faca92041810aba5cd3', 'message': 'TEST\n\nDepends-On: Ia4f816817627c2975eb83f8d680078208fcf027a\nChange-Id: I4a50281d637ff32c660854d2a6db7d959f5da34f\n'}, {'number': 3, 'created': '2017-04-22 03:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/bbab48e543472fd56de18849ad5e19b43d993473', 'message': 'TEST\n\nChange-Id: I4a50281d637ff32c660854d2a6db7d959f5da34f\n'}, {'number': 4, 'created': '2017-04-22 23:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/88aab90320e5c1cfc7d2fd73484d22dff078ad16', 'message': 'TEST\n\nChange-Id: I4a50281d637ff32c660854d2a6db7d959f5da34f\n'}, {'number': 5, 'created': '2017-04-23 03:25:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/1601f31c9a9be54e18b68f59046e5df69d09f87b', 'message': 'TEST\n\nChange-Id: I4a50281d637ff32c660854d2a6db7d959f5da34f\n'}, {'number': 6, 'created': '2017-04-23 18:11:23.000000000', 'files': ['tools/pre_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/e4d63ade36ac0447715f685f5da6ef7ae0317b40', 'message': 'TEST\n\nChange-Id: I4a50281d637ff32c660854d2a6db7d959f5da34f\n'}]",0,458955,e4d63ade36ac0447715f685f5da6ef7ae0317b40,16,2,6,8623,,,0,"TEST

Change-Id: I4a50281d637ff32c660854d2a6db7d959f5da34f
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/55/458955/6 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,60171351f80b6c6d290d1d96ce8e9b15411b5051,,these tests into tempest. ,these tests into tempest.,1,1
openstack%2Ftripleo-ci~master~Iae704b71e851497ce5cf637913002d82c5ec5831,openstack/tripleo-ci,master,Iae704b71e851497ce5cf637913002d82c5ec5831,Add ovb-fakeha-caserver (TLS everywhere) job to cistatus,MERGED,2017-04-20 11:47:24.000000000,2017-04-24 17:05:32.000000000,2017-04-22 01:41:47.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 6928}, {'_account_id': 7144}, {'_account_id': 10873}, {'_account_id': 12715}]","[{'number': 1, 'created': '2017-04-20 11:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5e04b0abd5c7aefdb85afc516fb2cd99f42703e5', 'message': 'Add ovb-fakeha-caserver (TLS everywhere) job to cistatus\n\nChange-Id: Iae704b71e851497ce5cf637913002d82c5ec5831\n'}, {'number': 2, 'created': '2017-04-21 06:50:03.000000000', 'files': ['scripts/tripleo-jobs-gerrit.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/614cee2b27d8ea8980871601222043e18c5206a8', 'message': 'Add ovb-fakeha-caserver (TLS everywhere) job to cistatus\n\nChange-Id: Iae704b71e851497ce5cf637913002d82c5ec5831\n'}]",0,458468,614cee2b27d8ea8980871601222043e18c5206a8,18,7,2,10873,,,0,"Add ovb-fakeha-caserver (TLS everywhere) job to cistatus

Change-Id: Iae704b71e851497ce5cf637913002d82c5ec5831
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/68/458468/2 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-jobs-gerrit.py'],1,5e04b0abd5c7aefdb85afc516fb2cd99f42703e5,tls-cistatus," 'gate-tripleo-ci-centos-7-ovb-fakeha-caserver',",,1,0
openstack%2Freleases~master~I9645c5241034ba68fad3e715a1bc43b1982e10d1,openstack/releases,master,I9645c5241034ba68fad3e715a1bc43b1982e10d1,"Add Oslo release(s) for April 24, 2017",MERGED,2017-04-24 06:39:28.000000000,2017-04-24 16:59:31.000000000,2017-04-24 16:59:31.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-04-24 06:39:28.000000000', 'files': ['deliverables/pike/castellan.yaml', 'deliverables/pike/oslo.log.yaml', 'deliverables/pike/oslo.config.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9337ba29bbe4622e33d87fdd14188fab1e5c25e4', 'message': 'Add Oslo release(s) for April 24, 2017\n\nChange-Id: I9645c5241034ba68fad3e715a1bc43b1982e10d1\n'}]",0,459174,9337ba29bbe4622e33d87fdd14188fab1e5c25e4,14,2,1,9796,,,0,"Add Oslo release(s) for April 24, 2017

Change-Id: I9645c5241034ba68fad3e715a1bc43b1982e10d1
",git fetch https://review.opendev.org/openstack/releases refs/changes/74/459174/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/pike/castellan.yaml', 'deliverables/pike/oslo.log.yaml', 'deliverables/pike/oslo.config.yaml']",3,9337ba29bbe4622e33d87fdd14188fab1e5c25e4,oslo,- version: 4.0.0 projects: - repo: openstack/oslo.config hash: 4cc7c6cb9bd96c986680241bbf2d3d454bcba246,,12,0
openstack%2Frequirements~master~I6d7ae2e3d110e21a57a5a7e1d1d36ccf00a779dd,openstack/requirements,master,I6d7ae2e3d110e21a57a5a7e1d1d36ccf00a779dd,update constraint for tosca-parser to new release 0.8.1,MERGED,2017-04-24 13:46:07.000000000,2017-04-24 16:50:14.000000000,2017-04-24 16:50:14.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 13404}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-04-24 13:46:07.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7a49c6d76a6a1c6b0bdad9b34244f1f9b6bc5e38', 'message': 'update constraint for tosca-parser to new release 0.8.1\n\nChange-Id: I6d7ae2e3d110e21a57a5a7e1d1d36ccf00a779dd\nmeta:version: 0.8.1\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Bob.Haddleton <bob.haddleton@nokia.com>\nmeta:release:Commit: Bob.Haddleton <bob.haddleton@nokia.com>\nmeta:release:Change-Id: I944eca15c8e4346badf34ac454122c4e09452108\nmeta:release:Code-Review+1: Sahdev Zala <spzala@us.ibm.com>\nmeta:release:Code-Review+1: Tung Doan <doantungbk.203@gmail.com>\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,459307,7a49c6d76a6a1c6b0bdad9b34244f1f9b6bc5e38,9,5,1,11131,,,0,"update constraint for tosca-parser to new release 0.8.1

Change-Id: I6d7ae2e3d110e21a57a5a7e1d1d36ccf00a779dd
meta:version: 0.8.1
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Bob.Haddleton <bob.haddleton@nokia.com>
meta:release:Commit: Bob.Haddleton <bob.haddleton@nokia.com>
meta:release:Change-Id: I944eca15c8e4346badf34ac454122c4e09452108
meta:release:Code-Review+1: Sahdev Zala <spzala@us.ibm.com>
meta:release:Code-Review+1: Tung Doan <doantungbk.203@gmail.com>
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/07/459307/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7a49c6d76a6a1c6b0bdad9b34244f1f9b6bc5e38,new-release,tosca-parser===0.8.1,tosca-parser===0.8.0,1,1
openstack%2Frequirements~master~Iabf5fface4e56cdc79e50bdbc9eb9e0ba714229e,openstack/requirements,master,Iabf5fface4e56cdc79e50bdbc9eb9e0ba714229e,update constraint for python-mistralclient to new release 3.1.0,MERGED,2017-04-24 13:38:44.000000000,2017-04-24 16:50:08.000000000,2017-04-24 16:50:08.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 13404}, {'_account_id': 14288}]","[{'number': 1, 'created': '2017-04-24 13:38:44.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/cf6b98c6ce7cc81226fb0ac5dd1a8ac738ae95d5', 'message': 'update constraint for python-mistralclient to new release 3.1.0\n\nChange-Id: Iabf5fface4e56cdc79e50bdbc9eb9e0ba714229e\nmeta:version: 3.1.0\nmeta:diff-start: -\nmeta:series: pike\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: yes\nmeta:release:Author: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>\nmeta:release:Change-Id: I4b13649dee6cfdc7af44003b772783352e235d47\nmeta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>\nmeta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>\n'}]",0,459299,cf6b98c6ce7cc81226fb0ac5dd1a8ac738ae95d5,8,4,1,11131,,,0,"update constraint for python-mistralclient to new release 3.1.0

Change-Id: Iabf5fface4e56cdc79e50bdbc9eb9e0ba714229e
meta:version: 3.1.0
meta:diff-start: -
meta:series: pike
meta:release-type: release
meta:pypi: yes
meta:first: yes
meta:release:Author: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Commit: Lingxian Kong <anlin.kong@gmail.com>
meta:release:Change-Id: I4b13649dee6cfdc7af44003b772783352e235d47
meta:release:Code-Review+2: Doug Hellmann <doug@doughellmann.com>
meta:release:Workflow+1: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/99/459299/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,cf6b98c6ce7cc81226fb0ac5dd1a8ac738ae95d5,new-release,python-mistralclient===3.1.0,python-mistralclient===3.0.0,1,1
openstack%2Fnova~master~Ifad6487de200767fc16d035ad830c77bba49154a,openstack/nova,master,Ifad6487de200767fc16d035ad830c77bba49154a,add tags field to instance.update notification,MERGED,2016-12-05 22:57:15.000000000,2017-04-24 16:49:26.000000000,2017-04-24 16:49:26.000000000,"[{'_account_id': 3}, {'_account_id': 7}, {'_account_id': 782}, {'_account_id': 5170}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14511}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17130}, {'_account_id': 17292}, {'_account_id': 18337}, {'_account_id': 18603}, {'_account_id': 19590}, {'_account_id': 20040}, {'_account_id': 20217}, {'_account_id': 21784}, {'_account_id': 22056}]","[{'number': 1, 'created': '2016-12-05 22:57:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2f1f17ebf3aaa6c9294643462af084a99df1c8ad', 'message': 'Adding tags to instance notification\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 2, 'created': '2016-12-05 23:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0f3484772c9949c2f49d4cb68b010fe896683add', 'message': 'Adding tags to instance notification\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 3, 'created': '2016-12-07 18:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/707ff77b5df5ac360764f003ceaa2e938e32897e', 'message': 'Adding tags to InstancePayload\n\nAdd tags to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 4, 'created': '2016-12-07 21:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/92f7a4be13e531994da8484e1cc27109cc9ab8d9', 'message': 'Adding tags to InstancePayload\n\nAdd tags to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 5, 'created': '2016-12-09 18:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/433ed50c24f430d3d422956c61bea2e04b7c2dc3', 'message': 'Adding tags to InstancePayload\n\nAdd tags to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 6, 'created': '2016-12-09 19:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/05e78cba8f43d94a7399ec463b8aea206ed4c0dd', 'message': 'Adding tags to InstancePayload\n\nAdd tags to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 7, 'created': '2016-12-19 23:42:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/529a350228249c26b71785e05a52e8fe5d94fd3c', 'message': 'Adding tags to InstancePayload\n\nAdd tags to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 8, 'created': '2016-12-19 23:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d7be943a828a5e2964fbfa6fc4dab859244f20c4', 'message': 'Adding tags to InstancePayload\n\nAdd tags to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 9, 'created': '2016-12-20 17:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b77521e56e6a2514d19fae4801b61a78f417264', 'message': 'Adding tags to InstancePayload\n\nAdd tags to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 10, 'created': '2016-12-21 18:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1121f122a5688ad3f65e934da8e3479324284985', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 11, 'created': '2016-12-21 20:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a30e5a19d90e9b57a5c02d7a28bcf5432d95b64c', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 12, 'created': '2016-12-21 22:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b722106b3add00d906751b77237d303da1801724', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 13, 'created': '2016-12-27 23:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/739118c9d4cf2edc477e47d4f81e6e17816e52cd', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 14, 'created': '2016-12-28 17:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/137f5e11285b9d1474eeec82dca3f82a929b5061', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 15, 'created': '2016-12-28 22:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2125ef84fffeb3b3cf38b5a4680aec4cc0380d6a', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 16, 'created': '2017-01-04 18:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/542d67dc8922553884c2f01d4b67def358792170', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 17, 'created': '2017-01-10 19:35:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e2a3f4cb3582c97a9a6bf0360545cd79f9dd0eb', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 18, 'created': '2017-01-11 17:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e791248437244ea81b1858b49eaea6b32364f30', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 19, 'created': '2017-02-15 17:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c9d216c695419a44f1d90923c6bc82b247d63656', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 20, 'created': '2017-02-16 16:44:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5ffb749cfd08f04b188e0306ef1fa822b4558652', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 21, 'created': '2017-02-22 18:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7af33fd3ce73e5f9137160e68ae531393a5318bc', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 22, 'created': '2017-02-23 16:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba25a0ddab01f897e29f4cadde89090f32ff9d39', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 23, 'created': '2017-03-13 19:13:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/969a7c37461e055a6947b9573e2455296fbeac68', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 24, 'created': '2017-03-13 23:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e6cb13bbf6f9f335d015e10a6869b560b664a748', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 25, 'created': '2017-03-16 14:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/48f61c428df0734c21df14b73920745e62f51223', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 26, 'created': '2017-03-23 19:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/46a25f55c5611a2fd3cf7f896fcf6f1e87bba056', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 27, 'created': '2017-03-23 19:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7e8bd0eb75ab7564fcbf11e15c7bdf9a1108e99f', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 28, 'created': '2017-03-23 21:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc7a3814c634c689eaae89562e40c4e3ccf33b8d', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 29, 'created': '2017-03-23 22:07:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e1c81a42d80348823753d85f9007a335bee0e66', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 30, 'created': '2017-03-23 22:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/213ed692968e8821d00caa1d186837c730ce0e73', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 31, 'created': '2017-03-28 05:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/148233a9add1459159b82a1af2d1f05d1df2b297', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 32, 'created': '2017-03-29 15:28:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7523d2dbe369dd4fbccf837f0dc0287e5719fde4', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 33, 'created': '2017-03-29 15:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4273d7d56246510ef2f2d3637ee95e50cb48e10f', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 34, 'created': '2017-03-29 16:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8786aa69fb8c1cc6bd4462be77fa50bf1176b1ad', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 35, 'created': '2017-03-31 15:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c2c38bff4b9b8ead0faccf340cc365dcff2652f1', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 36, 'created': '2017-04-06 23:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b137f270331247091107f6c385e8bf567dbea09', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 37, 'created': '2017-04-20 15:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cee53df63da0f6a1ee335ac80a69a99fdcc7ade0', 'message': 'add tags field to instance.update notification\n\nTags field is added to the InstanceUpdatePayload based on the\ntags field fo the related Instance object. Adding tags to instance.create\nnotification will be handled in the bp tag-instances-when-boot.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 38, 'created': '2017-04-20 16:24:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0017ee7af60ebc23205dc752ce38756643d822b', 'message': 'add tags field to instance.update notification\n\nTags field is added to the InstanceUpdatePayload based on the\ntags field fo the related Instance object. Adding tags to instance.create\nnotification will be handled in the bp tag-instances-when-boot.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 39, 'created': '2017-04-20 23:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f50f7c3decdd07e743c01d09aec3c491c405e50', 'message': 'add tags field to instance.update notification\n\nTags field is added to the InstanceUpdatePayload based on the\ntags field fo the related Instance object. Adding tags to instance.create\nnotification will be handled in the bp tag-instances-when-boot.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 40, 'created': '2017-04-21 10:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a1dc7020950530123194656898287795988a07a6', 'message': 'Adding tags field to InstancePayload\n\nAdd tags field to Instance Payload based on instance.tags.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}, {'number': 41, 'created': '2017-04-21 10:59:51.000000000', 'files': ['nova/tests/functional/notification_sample_tests/notification_sample_base.py', 'nova/tests/unit/test_notifications.py', 'nova/notifications/objects/instance.py', 'nova/tests/unit/notifications/objects/test_notification.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'doc/notification_samples/instance-update.json'], 'web_link': 'https://opendev.org/openstack/nova/commit/eb1ac77dd792375a2a8ce6915f19a8d68558ede6', 'message': 'add tags field to instance.update notification\n\nTags field is added to the InstanceUpdatePayload based on the\ntags field fo the related Instance object. Adding tags to instance.create\nnotification will be handled in the bp tag-instances-when-boot.\n\nImplements: bp additional-notification-fields-for-searchlight\n\nChange-Id: Ifad6487de200767fc16d035ad830c77bba49154a\n'}]",74,407228,eb1ac77dd792375a2a8ce6915f19a8d68558ede6,569,33,41,18337,,,0,"add tags field to instance.update notification

Tags field is added to the InstanceUpdatePayload based on the
tags field fo the related Instance object. Adding tags to instance.create
notification will be handled in the bp tag-instances-when-boot.

Implements: bp additional-notification-fields-for-searchlight

Change-Id: Ifad6487de200767fc16d035ad830c77bba49154a
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/407228/36 && git format-patch -1 --stdout FETCH_HEAD,"['nova/notifications/objects/instance.py', 'nova/compute/utils.py']",2,2f1f17ebf3aaa6c9294643462af084a99df1c8ad,bp/additional-notification-fields-for-searchlight,"from nova.objects import tagdef _get_instance_tags(instance): tags = [] for instance_tag in instance.tags.objects: tags.append(instance_tag.tag) return tags tags = _get_instance_tags(instance) flavor=flavor, tags=tags) tags = _get_instance_tags(instance) tags=tags,", flavor=flavor),15,2
openstack%2Fkolla~master~I9f3394eb35723f2bbf3205c6af6101b5a9daed38,openstack/kolla,master,I9f3394eb35723f2bbf3205c6af6101b5a9daed38,mariadb: handle lack of external repos on non x86,MERGED,2017-03-13 11:30:01.000000000,2017-04-24 16:34:13.000000000,2017-04-24 16:34:13.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 16620}, {'_account_id': 19316}, {'_account_id': 19339}, {'_account_id': 20663}, {'_account_id': 22959}, {'_account_id': 23717}, {'_account_id': 24072}]","[{'number': 1, 'created': '2017-03-13 11:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cffb0e453cb2268900754f1576f5bd7c5980e018', 'message': ""openstack-base/kolla-toolbox: CentOS has mariadb-devel\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. And even that package provides 'mariadb-devel' one to be\ncompliant with CentOS.\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 2, 'created': '2017-03-13 13:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e3dbf431e03f80d516d2087b2877c496f2170404', 'message': ""openstack-base/kolla-toolbox: CentOS has mariadb-devel\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. And even that package provides 'mariadb-devel' one to be\ncompliant with CentOS.\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 3, 'created': '2017-03-13 20:05:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3d31aec56a06f612c66830aa434f2025bf09dfa1', 'message': ""openstack-base/kolla-toolbox: CentOS has mariadb-devel\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. And even that package provides 'mariadb-devel' one to be\ncompliant with CentOS.\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 4, 'created': '2017-03-14 09:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a3bb861188a948241ea4790a0b8eecf8c22d03dc', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nPartially-Implements: multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 5, 'created': '2017-03-14 17:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bf74262da734b3bb051cdd11309be669b090f4d2', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nPartially-Implements: multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 6, 'created': '2017-03-14 19:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ed4dbc52dae1471736cf2f2d5a4aad2ea7474c13', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nPartially-Implements: multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 7, 'created': '2017-03-15 09:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7e3121f0abe9ce5198e16e54e652b83bbc12c17', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 8, 'created': '2017-03-15 14:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4701c4dc9662fc77a7bba65193f364aada94a3f6', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 9, 'created': '2017-03-16 10:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1e042c494f2d3ec1a6a97535fe460389333bd594', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 10, 'created': '2017-03-23 11:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/90203c34dc9a47ada5746d10d4852170da0cfc7c', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 11, 'created': '2017-03-23 13:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0817f895d61f8ca41f5fd15354e326aff006e645', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 12, 'created': '2017-03-24 07:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b03801ac5bc0989db74ee0589d228e7e6d05a9fa', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 13, 'created': '2017-03-25 20:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/665a13e66352a8c9d94afa1eb6be4299e2cd6607', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 14, 'created': '2017-03-27 08:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c38d01a1df22dd89e0a1f31dc118e653c237e1d', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 15, 'created': '2017-03-27 08:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f4ed437dff76b5c39da19a4894d3938a1a073551', 'message': ""openstack-base/kolla-toolbox: use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 16, 'created': '2017-03-28 14:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/944b9a40012c0b2d291fba3749f72ddf5773830a', 'message': ""use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 17, 'created': '2017-03-29 10:37:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d8543daf1b9ae8a63179b6e1803fd00871341107', 'message': ""use mariadb-devel for CentOS and !x86-64\n\nMariaDB-devel is only used as a name by external repository which is\nx86-64 only. Other architectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 18, 'created': '2017-03-29 11:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/85eee279dd4a31630295b39d8414edce90841747', 'message': ""mariadb: handle lack of external repos on non x86\n\nMariaDB-* packages are from external 'x86_64 only' repository. Other\narchitectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV3:\n- merged in patch for 'mariadb' image which uses MariaDB-Galera-Server\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 19, 'created': '2017-03-29 12:37:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f9e3ee32746d6cea7d7f42faa751f80d4fc6c7af', 'message': ""mariadb: handle lack of external repos on non x86\n\nMariaDB-* packages are from external 'x86_64 only' repository. Other\narchitectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV3:\n- merged in patch for 'mariadb' image which uses MariaDB-Galera-Server\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nDepends-On: I71ddb7ef57c64d2505cac96724b1ab6772a57d6a\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 20, 'created': '2017-04-03 17:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c63e12add1b9b8017e45536ca0bdd17a7e16d31', 'message': ""mariadb: handle lack of external repos on non x86\n\nMariaDB-* packages are from external 'x86_64 only' repository. Other\narchitectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV3:\n- merged in patch for 'mariadb' image which uses MariaDB-Galera-Server\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nDepends-On: I71ddb7ef57c64d2505cac96724b1ab6772a57d6a\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 21, 'created': '2017-04-06 11:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7a446f3208c169b7c711ca426a90fd029b24ec47', 'message': ""mariadb: handle lack of external repos on non x86\n\nMariaDB-* packages are from external 'x86_64 only' repository. Other\narchitectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nChangelog:\n\nV3:\n- merged in patch for 'mariadb' image which uses MariaDB-Galera-Server\n\nV2:\n- fix missing commas ending in MariaDB-clientMariaDB-devel package names\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nDepends-On: I71ddb7ef57c64d2505cac96724b1ab6772a57d6a\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}, {'number': 22, 'created': '2017-04-10 07:16:16.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'docker/mariadb/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/21b04376e3339e1cb987e6877e8431ea054c6502', 'message': ""mariadb: handle lack of external repos on non x86\n\nMariaDB-* packages are from external 'x86_64 only' repository. Other\narchitectures use CentOS packages.\n\nSplit needs to be done as 'mariadb-devel' is provided by three different\npackages on x86-64.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nDepends-On: I71ddb7ef57c64d2505cac96724b1ab6772a57d6a\n\nChange-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38\n""}]",7,444832,21b04376e3339e1cb987e6877e8431ea054c6502,86,9,22,24072,,,0,"mariadb: handle lack of external repos on non x86

MariaDB-* packages are from external 'x86_64 only' repository. Other
architectures use CentOS packages.

Split needs to be done as 'mariadb-devel' is provided by three different
packages on x86-64.

Partially-Implements: blueprint multiarch-and-arm64-containers

Depends-On: I71ddb7ef57c64d2505cac96724b1ab6772a57d6a

Change-Id: I9f3394eb35723f2bbf3205c6af6101b5a9daed38
",git fetch https://review.opendev.org/openstack/kolla refs/changes/32/444832/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",2,cffb0e453cb2268900754f1576f5bd7c5980e018,bp/multiarch-and-arm64-containers," 'mariadb-devel', 'mariadb-shared', 'mariadb-client',"," 'MariaDB-devel', 'MariaDB-shared', 'MariaDB-client',",4,4
openstack%2Fmox3~master~Ica89b115929cd72b27ba33f1d5bd7e1fe5eeddec,openstack/mox3,master,Ica89b115929cd72b27ba33f1d5bd7e1fe5eeddec,Python 3.5 is added,MERGED,2017-03-07 13:36:56.000000000,2017-04-24 16:30:12.000000000,2017-04-24 16:30:12.000000000,"[{'_account_id': 3}, {'_account_id': 6928}, {'_account_id': 9796}, {'_account_id': 16034}]","[{'number': 1, 'created': '2017-03-07 13:36:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mox3/commit/6e301a534a084b2bf84564fc881a0abef18f712b', 'message': 'Python 3.5 is added\n\nPython 3.5 was missing so i have added.\n\nChange-Id: Ica89b115929cd72b27ba33f1d5bd7e1fe5eeddec\n'}, {'number': 2, 'created': '2017-04-24 13:07:21.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mox3/commit/4eb804f23015562ad7046cd71381c38d9c04b3cf', 'message': 'Python 3.5 is added\n\nPython 3.5 was missing so i have added.\n\nChange-Id: Ica89b115929cd72b27ba33f1d5bd7e1fe5eeddec\n'}]",0,442477,4eb804f23015562ad7046cd71381c38d9c04b3cf,10,4,2,25005,,,0,"Python 3.5 is added

Python 3.5 was missing so i have added.

Change-Id: Ica89b115929cd72b27ba33f1d5bd7e1fe5eeddec
",git fetch https://review.opendev.org/openstack/mox3 refs/changes/77/442477/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,6e301a534a084b2bf84564fc881a0abef18f712b,python,"envlist = py35,py27,pep8","envlist = py34,py27,pep8",2,1
openstack%2Fironic~master~Iffd4c64c495fc3666527b41911a5a07601db7c9b,openstack/ironic,master,Iffd4c64c495fc3666527b41911a5a07601db7c9b,Start enforcing config variables type in tests,MERGED,2017-04-24 13:40:04.000000000,2017-04-24 16:29:10.000000000,2017-04-24 15:08:13.000000000,"[{'_account_id': 3}, {'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 17998}]","[{'number': 1, 'created': '2017-04-24 13:40:04.000000000', 'files': ['ironic/tests/base.py', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e6303403ba5749121111ce5b6d375883b4a423f', 'message': 'Start enforcing config variables type in tests\n\nOtherwise we will miss changes that will break us once new oslo.config is out.\nAlso fix already merged tests for Redfish.\n\nChange-Id: Iffd4c64c495fc3666527b41911a5a07601db7c9b\n'}]",5,459301,3e6303403ba5749121111ce5b6d375883b4a423f,10,4,1,10239,,,0,"Start enforcing config variables type in tests

Otherwise we will miss changes that will break us once new oslo.config is out.
Also fix already merged tests for Redfish.

Change-Id: Iffd4c64c495fc3666527b41911a5a07601db7c9b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/01/459301/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/base.py', 'ironic/tests/unit/drivers/modules/redfish/test_utils.py']",2,3e6303403ba5749121111ce5b6d375883b4a423f,," @mock.patch('time.sleep', autospec=True) def test_get_system_resource_connection_error_retry(self, mock_sushy, mock_sleep): mock_sleep.assert_called_with( redfish_utils.CONF.redfish.connection_retry_interval)"," self.config(connection_retry_interval=0, group='redfish') def test_get_system_resource_connection_error_retry(self, mock_sushy): self.config(connection_retry_interval=0, group='redfish')",6,3
openstack%2Freleases~master~I1c3c53910ac2144954c3ee53db8760c09f1c78d5,openstack/releases,master,I1c3c53910ac2144954c3ee53db8760c09f1c78d5,Release Castellan 0.7.0,ABANDONED,2017-04-24 16:25:49.000000000,2017-04-24 16:28:41.000000000,,[],"[{'number': 1, 'created': '2017-04-24 16:25:49.000000000', 'files': ['deliverables/pike/castellan.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b9e357a1e24d9e0de93023391c9b917e330308af', 'message': 'Release Castellan 0.7.0\n\nChange-Id: I1c3c53910ac2144954c3ee53db8760c09f1c78d5\n'}]",0,459402,b9e357a1e24d9e0de93023391c9b917e330308af,2,0,1,8623,,,0,"Release Castellan 0.7.0

Change-Id: I1c3c53910ac2144954c3ee53db8760c09f1c78d5
",git fetch https://review.opendev.org/openstack/releases refs/changes/02/459402/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/castellan.yaml'],1,b9e357a1e24d9e0de93023391c9b917e330308af,release-0.7.0, - version: 0.7.0 projects: - repo: openstack/castellan hash: 8d3f1cf375d28047cfd5f251afbb3f6d3ea7cda5,,4,0
openstack%2Fopenstack-ansible~stable%2Fnewton~I9a05325c6dca69674e026039beee6d914f0c0e41,openstack/openstack-ansible,stable/newton,I9a05325c6dca69674e026039beee6d914f0c0e41,Unset bootstrap-ansible variables between upgrades,MERGED,2017-04-24 09:49:41.000000000,2017-04-24 16:24:48.000000000,2017-04-24 16:24:48.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 14805}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-24 09:49:41.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b5de6145970ec3199b072785561280d78a90e7df', 'message': 'Unset bootstrap-ansible variables between upgrades\n\nDuring upgrade testing, unset environment variables used by the\nbootstrap-ansible script to allow newer versions of Ansible and\nglobal requirements to be installed.\n\nChange-Id: I9a05325c6dca69674e026039beee6d914f0c0e41\n(cherry picked from commit 4279629e5337fcc6f4e4b7310688c1dd852a574d)\n'}]",0,459220,b5de6145970ec3199b072785561280d78a90e7df,11,4,1,6816,,,0,"Unset bootstrap-ansible variables between upgrades

During upgrade testing, unset environment variables used by the
bootstrap-ansible script to allow newer versions of Ansible and
global requirements to be installed.

Change-Id: I9a05325c6dca69674e026039beee6d914f0c0e41
(cherry picked from commit 4279629e5337fcc6f4e4b7310688c1dd852a574d)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/459220/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,b5de6145970ec3199b072785561280d78a90e7df,periodic_upgrades, # Unset environment variables used by the bootstrap-ansible # script to allow newer versions of Ansible and global # requirements to be installed. unset ANSIBLE_PACKAGE unset UPPER_CONSTRAINTS_FILE ,,6,0
openstack%2Fopenstack-ansible-lxc_hosts~master~I540a1ea6fbde5835c4f12a8b88e9d30211c08edb,openstack/openstack-ansible-lxc_hosts,master,I540a1ea6fbde5835c4f12a8b88e9d30211c08edb,Fix machinectl set-limit,MERGED,2017-04-24 13:51:25.000000000,2017-04-24 16:23:55.000000000,2017-04-24 16:23:55.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-24 13:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/93f95c190b3ddf3f95211ce91441acf25aff40e0', 'message': 'Fix machinectl set-limit\n\nThe set limit was not correctly setting the size of the host volume.\n\nChange-Id: I540a1ea6fbde5835c4f12a8b88e9d30211c08edb\n'}, {'number': 2, 'created': '2017-04-24 15:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/45d3aec1aa43993873f6c74ec6880c2349158474', 'message': 'Fix machinectl set-limit\n\nThe set limit was not correctly setting the size of the host volume.\n\nChange-Id: I540a1ea6fbde5835c4f12a8b88e9d30211c08edb\n'}, {'number': 3, 'created': '2017-04-24 15:16:09.000000000', 'files': ['tasks/lxc_cache_preparation_systemd_new.yml', 'tasks/lxc_cache_preparation_systemd_old.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ff5c3434de258d9b730e5cebd9ec4a350f2003e2', 'message': 'Fix machinectl set-limit\n\nThe set limit was not correctly setting the size of the host volume.\n\nChange-Id: I540a1ea6fbde5835c4f12a8b88e9d30211c08edb\n'}]",0,459314,ff5c3434de258d9b730e5cebd9ec4a350f2003e2,15,3,3,2799,,,0,"Fix machinectl set-limit

The set limit was not correctly setting the size of the host volume.

Change-Id: I540a1ea6fbde5835c4f12a8b88e9d30211c08edb
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/14/459314/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_cache_preparation_systemd_new.yml', 'tasks/lxc_cache_preparation_systemd_old.yml', 'defaults/main.yml']",3,93f95c190b3ddf3f95211ce91441acf25aff40e0,,lxc_host_machine_volume_size: 8.0,lxc_host_machine_volume_size: 8,7,3
openstack%2Fhorizon~master~Ia1b9f05bb3a835c0b90340ed724da7bdc3a7aea2,openstack/horizon,master,Ia1b9f05bb3a835c0b90340ed724da7bdc3a7aea2,Imported Translations from Zanata,MERGED,2017-04-24 08:55:57.000000000,2017-04-24 16:07:35.000000000,2017-04-24 16:07:35.000000000,"[{'_account_id': 3}, {'_account_id': 841}]","[{'number': 1, 'created': '2017-04-24 08:55:57.000000000', 'files': ['openstack_dashboard/locale/ja/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8e523de46a9195ad4552b8fc4bc9cac83698d40e', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ia1b9f05bb3a835c0b90340ed724da7bdc3a7aea2\n'}]",0,459196,8e523de46a9195ad4552b8fc4bc9cac83698d40e,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Ia1b9f05bb3a835c0b90340ed724da7bdc3a7aea2
",git fetch https://review.opendev.org/openstack/horizon refs/changes/96/459196/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/locale/ja/LC_MESSAGES/django.po'],1,8e523de46a9195ad4552b8fc4bc9cac83698d40e,zanata/translations,"""Project-Id-Version: horizon 12.0.0.0b2.dev21\n""""POT-Creation-Date: 2017-04-23 22:52+0000\n""""PO-Revision-Date: 2017-04-23 07:44+0000\n""msgid ""Admin State is enabled by default."" msgstr ""管理状態はデフォルトで有効になっています。"" msgid ""Enable Admin State"" msgstr ""管理状態有効"" msgid """" ""The router, subnet and admin state fields require to be enabled. All others "" ""are optional."" msgstr """" ""ルーター、サブネット、管理状態のフィールドは必須です。他の項目は任意です。"" msgid """" ""The state of IPSec site connection to start in. If disabled (not checked), "" ""IPSec site connection does not forward packets."" msgstr """" ""IPsec サイト間接続の初期状態。無効の場合 (チェックが入っていない場合)、IPsec "" ""サイト間接続はパケット転送を行いません。"" msgid """" ""The state of VPN service to start in. If disabled (not checked), VPN service "" ""does not forward packets."" msgstr """" ""VPN サービスの初期状態。無効の場合 (チェックが入っていない場合)、VPN サービス"" ""はパケット転送を行いません。"" ","""Project-Id-Version: horizon 12.0.0.0b2.dev19\n""""POT-Creation-Date: 2017-04-22 11:44+0000\n""""PO-Revision-Date: 2017-04-20 10:29+0000\n""",29,3
openstack%2Fgnocchi~master~I68777282cf008658ce8d343a63b904e7f7ba720b,openstack/gnocchi,master,I68777282cf008658ce8d343a63b904e7f7ba720b,utils: replace bool_from_string by builtin distutils strtobool,MERGED,2017-04-18 13:51:54.000000000,2017-04-24 15:51:51.000000000,2017-04-24 15:51:51.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 6537}]","[{'number': 1, 'created': '2017-04-18 13:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/d0d9081bcc08e5d606954b341586a7ff99c117b7', 'message': 'utils: replace bool_from_string by builtin distutils strtobool\n\nChange-Id: I68777282cf008658ce8d343a63b904e7f7ba720b\n'}, {'number': 2, 'created': '2017-04-18 13:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/2f48fe8e8dda1c0bd4d44926cabf3b6e63055046', 'message': 'utils: replace bool_from_string by builtin distutils strtobool\n\nChange-Id: I68777282cf008658ce8d343a63b904e7f7ba720b\n'}, {'number': 3, 'created': '2017-04-21 07:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/bcd06c55c66d0f089424fdf95be26b17c1a433e9', 'message': 'utils: replace bool_from_string by builtin distutils strtobool\n\nChange-Id: I68777282cf008658ce8d343a63b904e7f7ba720b\n'}, {'number': 4, 'created': '2017-04-21 08:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/b1829681f76941afbbb859b43dd6ab1931f249e2', 'message': 'utils: replace bool_from_string by builtin distutils strtobool\n\nChange-Id: I68777282cf008658ce8d343a63b904e7f7ba720b\n'}, {'number': 5, 'created': '2017-04-21 10:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/cb187110f51cacf791a228fc0a3be852384dff83', 'message': 'utils: replace bool_from_string by builtin distutils strtobool\n\nChange-Id: I68777282cf008658ce8d343a63b904e7f7ba720b\n'}, {'number': 6, 'created': '2017-04-21 14:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/4fbdead7b43b5218ea72d3362e2a3187dcdd36e0', 'message': 'utils: replace bool_from_string by builtin distutils strtobool\n\nChange-Id: I68777282cf008658ce8d343a63b904e7f7ba720b\n'}, {'number': 7, 'created': '2017-04-24 13:15:54.000000000', 'files': ['gnocchi/rest/__init__.py', 'gnocchi/utils.py', 'gnocchi/aggregates/moving_stats.py', 'gnocchi/storage/common/redis.py', 'gnocchi/tests/test_rest.py'], 'web_link': 'https://opendev.org/openstack/gnocchi/commit/4278189688a1142d86a74f20e0d928a5ca0fda4b', 'message': 'utils: replace bool_from_string by builtin distutils strtobool\n\nChange-Id: I68777282cf008658ce8d343a63b904e7f7ba720b\n'}]",1,457642,4278189688a1142d86a74f20e0d928a5ca0fda4b,23,4,7,1669,,,0,"utils: replace bool_from_string by builtin distutils strtobool

Change-Id: I68777282cf008658ce8d343a63b904e7f7ba720b
",git fetch https://review.opendev.org/openstack/gnocchi refs/changes/42/457642/5 && git format-patch -1 --stdout FETCH_HEAD,"['gnocchi/utils.py', 'gnocchi/aggregates/moving_stats.py', 'gnocchi/storage/common/redis.py']",3,d0d9081bcc08e5d606954b341586a7ff99c117b7,jd/strtobool,from gnocchi import utils v = utils.strtobool(options[a][-1]),from oslo_utils import strutils v = strutils.bool_from_string(options[a][-1]),12,5
openstack%2Ffuxi~master~I8eb62d63dab12693534c802623a9a4c406fef46e,openstack/fuxi,master,I8eb62d63dab12693534c802623a9a4c406fef46e,Remove log translations,MERGED,2017-03-21 05:33:16.000000000,2017-04-24 15:46:53.000000000,2017-04-24 15:46:53.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11536}, {'_account_id': 14352}, {'_account_id': 14867}, {'_account_id': 22299}, {'_account_id': 23081}, {'_account_id': 25632}]","[{'number': 1, 'created': '2017-03-21 05:33:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuxi/commit/b4bea05a67d6d5d40f5eeddf0e54a54bbb8b4239', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\n\nChange-Id: I8eb62d63dab12693534c802623a9a4c406fef46e\n'}, {'number': 2, 'created': '2017-03-23 02:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/fuxi/commit/2e9b5eced2ae6ea16debd6cce682189c207bd976', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\nhttps://review.openstack.org/#/c/446762/\n\nChange-Id: I8eb62d63dab12693534c802623a9a4c406fef46e\n'}, {'number': 3, 'created': '2017-04-06 02:23:27.000000000', 'files': ['fuxi/volumeprovider/provider.py', 'fuxi/common/blockdevice.py', 'fuxi/connector/cloudconnector/openstack.py', 'fuxi/controllers.py', 'fuxi/common/state_monitor.py', 'fuxi/volumeprovider/cinder.py', 'fuxi/connector/osbrickconnector.py', 'fuxi/tests/fullstack/fuxi_base.py', 'fuxi/utils.py', 'fuxi/i18n.py', 'fuxi/volumeprovider/manila.py'], 'web_link': 'https://opendev.org/openstack/fuxi/commit/c09006bc4250481f1c53ded8723acdc29b998c78', 'message': 'Remove log translations\n\nLog messages are no longer being translated. This removes all use of\nthe _LE, _LI, and _LW translation markers to simplify logging and to\navoid confusion with new contributions.\n\nSee:\nhttp://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html\nhttp://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html\nhttps://review.openstack.org/#/c/446762/\n\nChange-Id: I8eb62d63dab12693534c802623a9a4c406fef46e\n'}]",5,447823,c09006bc4250481f1c53ded8723acdc29b998c78,27,9,3,22299,,,0,"Remove log translations

Log messages are no longer being translated. This removes all use of
the _LE, _LI, and _LW translation markers to simplify logging and to
avoid confusion with new contributions.

See:
http://lists.openstack.org/pipermail/openstack-i18n/2016-November/002574.html
http://lists.openstack.org/pipermail/openstack-dev/2017-March/113365.html
https://review.openstack.org/#/c/446762/

Change-Id: I8eb62d63dab12693534c802623a9a4c406fef46e
",git fetch https://review.opendev.org/openstack/fuxi refs/changes/23/447823/1 && git format-patch -1 --stdout FETCH_HEAD,"['fuxi/volumeprovider/provider.py', 'fuxi/common/blockdevice.py', 'fuxi/connector/cloudconnector/openstack.py', 'fuxi/controllers.py', 'fuxi/common/state_monitor.py', 'fuxi/volumeprovider/cinder.py', 'fuxi/connector/osbrickconnector.py', 'fuxi/tests/fullstack/fuxi_base.py', 'fuxi/utils.py', 'fuxi/i18n.py', 'fuxi/volumeprovider/manila.py']",11,b4bea05a67d6d5d40f5eeddf0e54a54bbb8b4239,remove_log_translation," msg = ""Volume size must able to convert to int type"" LOG.info(""Volume size doesn't provide from command, so use "" ""default size %sG"", size) msg = ""Must provide a valid volume connector"" LOG.error(""Could not retrieve Manila share list. Error: %s"", e) LOG.error(""Create Manila share failed. Error: {0}"", e) LOG.info(""Waiting for share %s status to be available"", share) LOG.info(""Creating share %s successfully"", share) LOG.error(""Could not find share %s"", share_id) LOG.error(""Provided volume name %(d_name)s does not match "" ""with existing share name %(s_name)s"", LOG.warning(""Volume %(vol)s already exists in Manila, and "" ""the related Manila share is %(share)s"", LOG.warning(""Share %s is still used by other server, so "" ""should not delete it."", share) LOG.error(""Error happened when delete Volume %(vol)s (Manila "" ""share: %(share)s). Error: %(err)s"", LOG.warning(""Find share %s, but not attach to this server, "" ""so connect it"", share) LOG.error('Could not retrieve Manila shares. Error: %s', e) LOG.info(""Retrieve docker volumes %s from Manila "" ""successfully"", docker_volumes)","from fuxi.i18n import _LI, _LW, _LE msg = _LE(""Volume size must able to convert to int type"") LOG.info(_LI(""Volume size doesn't provide from command, so use "" ""default size %sG""), size) msg = _LE(""Must provide a valid volume connector"") LOG.error(_LE(""Could not retrieve Manila share list. Error: %s""), e) LOG.error(_LE(""Create Manila share failed. Error: {0}""), e) LOG.info(_LI(""Waiting for share %s status to be available""), share) LOG.info(_LI(""Creating share %s successfully""), share) LOG.error(_LE(""Could not find share %s""), share_id) LOG.error(_LE(""Provided volume name %(d_name)s does not match "" ""with existing share name %(s_name)s""), LOG.warning(_LW(""Volume %(vol)s already exists in Manila, and "" ""the related Manila share is %(share)s""), LOG.warning(_LE(""Share %s is still used by other server, so "" ""should not delete it.""), share) LOG.error(_LE(""Error happened when delete Volume %(vol)s (Manila "" ""share: %(share)s). Error: %(err)s""), LOG.warning(_LW(""Find share %s, but not attach to this server, "" ""so connect it""), share) LOG.error(_LE('Could not retrieve Manila shares. Error: %s'), e) LOG.info(_LI(""Retrieve docker volumes %s from Manila "" ""successfully""), docker_volumes)",189,207
openstack%2Ftempest~master~I4b09c9da001ecf75563cb132670905ac237bbd0b,openstack/tempest,master,I4b09c9da001ecf75563cb132670905ac237bbd0b,Rename 16.0.0 release notes,MERGED,2017-04-20 05:10:19.000000000,2017-04-24 15:27:53.000000000,2017-04-24 15:27:53.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 7350}]","[{'number': 1, 'created': '2017-04-20 05:10:19.000000000', 'files': ['releasenotes/notes/16.0.0-deprecated-cinder-api-v1-option-df7d5a54d93db5cf.yaml', 'releasenotes/notes/16.0.0-remove-deprecated-allow_port_security_disabled-option-d0ffaeb2e7817707.yaml', 'releasenotes/notes/16.0.0-deprecate-resources-prefix-option-ad490c0a30a0266b.yaml', 'releasenotes/notes/16.0.0-add-cascade-parameter-to-volumes-client-ff4f7f12795003a4.yaml', 'releasenotes/notes/16.0.0-add-tempest-lib-remote-client-adbeb3f42a36910b.yaml', 'releasenotes/notes/16.0.0-add-content-type-without-spaces-b2c9b91b257814f3.yaml', 'releasenotes/notes/16.0.0-deprecate-dvr_extra_resources-config-8c319d6dab7f7e5c.yaml', 'releasenotes/notes/16.0.0-use-keystone-v3-api-935860d30ddbb8e9.yaml', 'releasenotes/notes/16.0.0-deprecate-skip_unless_config-decorator-64c32d588043ab12.yaml', 'releasenotes/notes/16.0.0-deprecate-glance-api-version-config-options-8370b63aea8e14cf.yaml', 'releasenotes/notes/16.0.0-remove-deprecated-identity-reseller-option-4411c7e3951f1094.yaml', 'releasenotes/notes/16.0.0-create-server-tags-client-8c0042a77e859af6.yaml', 'releasenotes/notes/16.0.0-add-list-security-groups-by-servers-to-servers-client-library-088df48f6d81f4be.yaml', 'releasenotes/notes/16.0.0-add-list-version-to-volume-client-4769dd1bd4ab9c5e.yaml', 'releasenotes/notes/16.0.0-add-tempest-run-combine-option-e94c1049ba8985d5.yaml', 'releasenotes/notes/16.0.0-remove-cinder-v1-api-tests-71e266b8d55d475f.yaml', 'releasenotes/notes/16.0.0-add-volume-manage-client-as-library-78ab198a1dc1bd41.yaml', 'releasenotes/notes/16.0.0-deprecate-skip_unless_attr-decorator-450a1ed727494724.yaml', 'releasenotes/notes/16.0.0-add-compute-server-evaculate-client-as-a-library-ed76baf25f02c3ca.yaml', 'releasenotes/notes/16.0.0-deprecate-deactivate_image-config-7a282c471937bbcb.yaml', 'releasenotes/notes/16.0.0-add-list-version-to-identity-client-944cb7396088a575.yaml', 'releasenotes/notes/16.0.0-add-list-glance-api-versions-ec5fc8081fc8a0ae.yaml', 'releasenotes/notes/16.0.0-add-additional-methods-to-roles-client-library-178d4a6000dec72d.yaml', 'releasenotes/notes/16.0.0-dreprecate_client_parameters-cb8d069e62957f7e.yaml', 'releasenotes/notes/16.0.0-remove-volume_feature_enabled.volume_services-c6aa142cc1021297.yaml', 'releasenotes/notes/16.0.0-add-list-auth-project-client-5905076d914a3943.yaml', 'releasenotes/notes/16.0.0-remove-call_until_true-of-test-de9c13bc8f969921.yaml', 'releasenotes/notes/16.0.0-remove-sahara-service-available-44a642aa9c634ab4.yaml', 'releasenotes/notes/16.0.0-remove-deprecated-compute-validation-config-options-part-2-5cd17b6e0e6cb8a3.yaml', 'releasenotes/notes/16.0.0-add-update-encryption-type-to-encryption-types-client-f3093532a0bcf9a1.yaml', 'releasenotes/notes/16.0.0-add-OAUTH-Consumer-Client-tempest-tests-db1df7aae4a9fd4e.yaml', 'releasenotes/notes/16.0.0-add-quota-sets-detail-kwarg-74b72183295b3ce7.yaml', 'releasenotes/notes/16.0.0-volume-transfers-client-e5ed3f5464c0cdc0.yaml', 'releasenotes/notes/16.0.0-fix-volume-v2-service-clients-bugfix-1667354-73d2c3c8fedc08bf.yaml', 'releasenotes/notes/16.0.0-remove-deprecated-dvr_extra_resources-option-e8c441c38eab7ddd.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f4d1d0cbe0dec6ccdd5b7e734bde1465186d82c', 'message': 'Rename 16.0.0 release notes\n\nThis commit renaming all the release notes for 16.0.0.\n\nChange-Id: I4b09c9da001ecf75563cb132670905ac237bbd0b\n'}]",0,458330,2f4d1d0cbe0dec6ccdd5b7e734bde1465186d82c,11,4,1,8556,,,0,"Rename 16.0.0 release notes

This commit renaming all the release notes for 16.0.0.

Change-Id: I4b09c9da001ecf75563cb132670905ac237bbd0b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/30/458330/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/16.0.0-deprecated-cinder-api-v1-option-df7d5a54d93db5cf.yaml', 'releasenotes/notes/16.0.0-remove-deprecated-allow_port_security_disabled-option-d0ffaeb2e7817707.yaml', 'releasenotes/notes/16.0.0-deprecate-resources-prefix-option-ad490c0a30a0266b.yaml', 'releasenotes/notes/16.0.0-add-cascade-parameter-to-volumes-client-ff4f7f12795003a4.yaml', 'releasenotes/notes/16.0.0-add-tempest-lib-remote-client-adbeb3f42a36910b.yaml', 'releasenotes/notes/16.0.0-add-content-type-without-spaces-b2c9b91b257814f3.yaml', 'releasenotes/notes/16.0.0-deprecate-dvr_extra_resources-config-8c319d6dab7f7e5c.yaml', 'releasenotes/notes/16.0.0-use-keystone-v3-api-935860d30ddbb8e9.yaml', 'releasenotes/notes/16.0.0-deprecate-skip_unless_config-decorator-64c32d588043ab12.yaml', 'releasenotes/notes/16.0.0-deprecate-glance-api-version-config-options-8370b63aea8e14cf.yaml', 'releasenotes/notes/16.0.0-remove-deprecated-identity-reseller-option-4411c7e3951f1094.yaml', 'releasenotes/notes/16.0.0-create-server-tags-client-8c0042a77e859af6.yaml', 'releasenotes/notes/16.0.0-add-list-security-groups-by-servers-to-servers-client-library-088df48f6d81f4be.yaml', 'releasenotes/notes/16.0.0-add-list-version-to-volume-client-4769dd1bd4ab9c5e.yaml', 'releasenotes/notes/16.0.0-add-tempest-run-combine-option-e94c1049ba8985d5.yaml', 'releasenotes/notes/16.0.0-remove-cinder-v1-api-tests-71e266b8d55d475f.yaml', 'releasenotes/notes/16.0.0-add-volume-manage-client-as-library-78ab198a1dc1bd41.yaml', 'releasenotes/notes/16.0.0-deprecate-skip_unless_attr-decorator-450a1ed727494724.yaml', 'releasenotes/notes/16.0.0-add-compute-server-evaculate-client-as-a-library-ed76baf25f02c3ca.yaml', 'releasenotes/notes/16.0.0-deprecate-deactivate_image-config-7a282c471937bbcb.yaml', 'releasenotes/notes/16.0.0-add-list-version-to-identity-client-944cb7396088a575.yaml', 'releasenotes/notes/16.0.0-add-list-glance-api-versions-ec5fc8081fc8a0ae.yaml', 'releasenotes/notes/16.0.0-add-additional-methods-to-roles-client-library-178d4a6000dec72d.yaml', 'releasenotes/notes/16.0.0-dreprecate_client_parameters-cb8d069e62957f7e.yaml', 'releasenotes/notes/16.0.0-remove-volume_feature_enabled.volume_services-c6aa142cc1021297.yaml', 'releasenotes/notes/16.0.0-add-list-auth-project-client-5905076d914a3943.yaml', 'releasenotes/notes/16.0.0-remove-call_until_true-of-test-de9c13bc8f969921.yaml', 'releasenotes/notes/16.0.0-remove-sahara-service-available-44a642aa9c634ab4.yaml', 'releasenotes/notes/16.0.0-remove-deprecated-compute-validation-config-options-part-2-5cd17b6e0e6cb8a3.yaml', 'releasenotes/notes/16.0.0-add-update-encryption-type-to-encryption-types-client-f3093532a0bcf9a1.yaml', 'releasenotes/notes/16.0.0-add-OAUTH-Consumer-Client-tempest-tests-db1df7aae4a9fd4e.yaml', 'releasenotes/notes/16.0.0-add-quota-sets-detail-kwarg-74b72183295b3ce7.yaml', 'releasenotes/notes/16.0.0-volume-transfers-client-e5ed3f5464c0cdc0.yaml', 'releasenotes/notes/16.0.0-fix-volume-v2-service-clients-bugfix-1667354-73d2c3c8fedc08bf.yaml', 'releasenotes/notes/16.0.0-remove-deprecated-dvr_extra_resources-option-e8c441c38eab7ddd.yaml']",35,2f4d1d0cbe0dec6ccdd5b7e734bde1465186d82c,,,,0,0
openstack%2Ftempest~master~I2290564af15c821cd8c99c8fcac8ed1d8994cbd1,openstack/tempest,master,I2290564af15c821cd8c99c8fcac8ed1d8994cbd1,[Negative] Create volume from image with decreasing size,MERGED,2017-04-14 03:35:59.000000000,2017-04-24 15:27:33.000000000,2017-04-24 15:27:33.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 23081}]","[{'number': 1, 'created': '2017-04-14 03:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2dc5496f3846feb6a31706ec640b2ba2dbd22f87', 'message': 'WIP: Add test for creating volume from image with decreasing size\n\nChange-Id: I2290564af15c821cd8c99c8fcac8ed1d8994cbd1\n'}, {'number': 2, 'created': '2017-04-15 03:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bcb32caa47800d2dd5c60e18df6a1d4cf877a756', 'message': 'WIP: Add test for creating volume from image with decreasing size\n\nChange-Id: I2290564af15c821cd8c99c8fcac8ed1d8994cbd1\n'}, {'number': 3, 'created': '2017-04-15 05:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c6d3f7d5fa12a0f58e222b9da40413317330702', 'message': 'WIP: Add test for creating volume from image with decreasing size\n\nChange-Id: I2290564af15c821cd8c99c8fcac8ed1d8994cbd1\n'}, {'number': 4, 'created': '2017-04-15 07:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dbafd8b287d0e86f2815a33a395664e75eb95959', 'message': '[Negative] Add test for creating volume from image with decreasing size\n\nThis patch adds a negative test for creating volume from image, which the\nvolume size provided (1G) is supposed to be smaller than the max(size of\nimage, min disk of image). If no available image provided, the test will\nbe skipped.\n\nChange-Id: I2290564af15c821cd8c99c8fcac8ed1d8994cbd1\n'}, {'number': 5, 'created': '2017-04-17 08:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5becf0281797f85b94c11a05823e3cd221e03e29', 'message': '[Negative] Add test for creating volume from image with decreasing size\n\nThis patch adds a negative test for creating volume from image, which the\nvolume size provided (1G) is supposed to be smaller than the max(size of\nimage, min disk of image). If no available image provided, the test will\nbe skipped.\n\nChange-Id: I2290564af15c821cd8c99c8fcac8ed1d8994cbd1\n'}, {'number': 6, 'created': '2017-04-20 14:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4861a0915f321f9d7168589d2b54a910b7e570a8', 'message': '[Negative] Create volume from image with decreasing size\n\nThis patch adds a negative test for creating volume from image, which\nthe volume size provided is smaller than the min_disk of image.\n\nChange-Id: I2290564af15c821cd8c99c8fcac8ed1d8994cbd1\n'}, {'number': 7, 'created': '2017-04-21 04:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/437639396c7f30ca2e5fd59415dd6eff2adaf3c7', 'message': '[Negative] Create volume from image with decreasing size\n\nThis patch adds a negative test for creating volume from image, which\nthe volume size provided is smaller than the min_disk of image.\n\nChange-Id: I2290564af15c821cd8c99c8fcac8ed1d8994cbd1\n'}, {'number': 8, 'created': '2017-04-21 06:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f693537f892ec89b9c27d5199b2d4389560aeb26', 'message': '[Negative] Create volume from image with decreasing size\n\nThis patch adds a negative test for creating volume from image, which\nthe volume size provided is smaller than the min_disk of image.\n\nChange-Id: I2290564af15c821cd8c99c8fcac8ed1d8994cbd1\n'}, {'number': 9, 'created': '2017-04-21 13:55:31.000000000', 'files': ['tempest/api/volume/test_volumes_negative.py', 'tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a427164099f117e22ffb978b55f5f1ca5867633', 'message': '[Negative] Create volume from image with decreasing size\n\nThis patch adds a negative test for creating volume from image, which\nthe volume size provided is smaller than the min_disk of image.\n\nChange-Id: I2290564af15c821cd8c99c8fcac8ed1d8994cbd1\n'}]",10,456824,0a427164099f117e22ffb978b55f5f1ca5867633,43,8,9,23081,,,0,"[Negative] Create volume from image with decreasing size

This patch adds a negative test for creating volume from image, which
the volume size provided is smaller than the min_disk of image.

Change-Id: I2290564af15c821cd8c99c8fcac8ed1d8994cbd1
",git fetch https://review.opendev.org/openstack/tempest refs/changes/24/456824/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_negative.py'],1,2dc5496f3846feb6a31706ec640b2ba2dbd22f87,volume_create_negative,"from tempest import configCONF = config.CONF @test.attr(type=['negative']) @decorators.idempotent_id('5b810c91-0ad1-47ce-aee8-615f789be78f') @test.services('image') def test_create_volume_from_image_with_decreasing_size(self): image = self.compute_images_client.show_image( CONF.compute.image_ref)['image'] image_alt = self.compute_images_client.show_image( CONF.compute.image_ref_alt)['image'] # Choose image with max(size or min_disk) > 1G chosen_image_id = None gb_in_bytes = 1073741824 if max(image['size'] / gb_in_bytes, image['min_disk']) > 1: chosen_image_id = CONF.compute.image_ref elif max(image_alt['size'] / gb_in_bytes, image_alt['min_disk']) > 1: chosen_image_id = CONF.compute.image_ref_alt else: self.skipTest(""No suitable image provided"") # Create volume from image with decreasing size 1G self.assertRaises(lib_exc.BadRequest, self.volumes_client.create_volume, size=1, imageRef=chosen_image_id)",,28,0
openstack%2Ftempest~master~I2f6229076aa7d2939dd91c487085ea73de001403,openstack/tempest,master,I2f6229076aa7d2939dd91c487085ea73de001403,Identity v3 Domain Configuration Client,MERGED,2017-04-03 21:06:54.000000000,2017-04-24 15:27:26.000000000,2017-04-24 15:27:26.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 15941}, {'_account_id': 20190}, {'_account_id': 21884}, {'_account_id': 23185}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-04-03 21:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/191930b2ac8ae16afc0c02579ca2c2de9315cba0', 'message': 'Identity v3 Domain Configuration Client\n\nAdds a new client lib to handle the domain configuration API.\n\nThis patch adds unit tests and API tests for the domain\nconfiguration client.\n\nChange-Id: I2f6229076aa7d2939dd91c487085ea73de001403\n'}, {'number': 2, 'created': '2017-04-05 13:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8d2f19858a5b678cb290a7b7e5c48d702eb8df3d', 'message': 'Identity v3 Domain Configuration Client\n\nAdds a new client lib to handle the domain configuration API.\n\nThis patch adds unit tests and API tests for the domain\nconfiguration client.\n\nChange-Id: I2f6229076aa7d2939dd91c487085ea73de001403\n'}, {'number': 3, 'created': '2017-04-18 22:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3b3c904795f1f3cb8be33f79b3a1472282ad5621', 'message': 'Identity v3 Domain Configuration Client\n\nAdds a new client lib to handle the domain configuration API.\n\nThis patch adds unit tests and API tests for the domain\nconfiguration client.\n\nChange-Id: I2f6229076aa7d2939dd91c487085ea73de001403\n'}, {'number': 4, 'created': '2017-04-19 14:54:58.000000000', 'files': ['tempest/lib/services/identity/v3/domain_configuration_client.py', 'tempest/tests/lib/services/identity/v3/test_domain_configuration_client.py', 'tempest/api/identity/admin/v3/test_domain_configuration.py', 'tempest/lib/services/identity/v3/__init__.py', 'tempest/clients.py', 'releasenotes/notes/add-domain-configuration-client-tempest-tests-e383efabdbb9ad03.yaml', 'tempest/api/identity/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/94d85773650c805d329486b152f72d116c8811c9', 'message': 'Identity v3 Domain Configuration Client\n\nAdds a new client lib to handle the domain configuration API.\n\nThe domain configuration API is part of the standard\nkeystone v3 API [0].\n\nThis patch also adds unit tests and API tests for the domain\nconfiguration client. Most of its APIs are RULE_ADMIN_REQUIRED\n[1] and so the API tests are included in the admin namespace.\n\n[0] https://developer.openstack.org/api-ref/identity/v3/\n[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/domain_config.py\n\nChange-Id: I2f6229076aa7d2939dd91c487085ea73de001403\n'}]",19,452949,94d85773650c805d329486b152f72d116c8811c9,32,10,4,23186,,,0,"Identity v3 Domain Configuration Client

Adds a new client lib to handle the domain configuration API.

The domain configuration API is part of the standard
keystone v3 API [0].

This patch also adds unit tests and API tests for the domain
configuration client. Most of its APIs are RULE_ADMIN_REQUIRED
[1] and so the API tests are included in the admin namespace.

[0] https://developer.openstack.org/api-ref/identity/v3/
[1] https://github.com/openstack/keystone/blob/master/keystone/common/policies/domain_config.py

Change-Id: I2f6229076aa7d2939dd91c487085ea73de001403
",git fetch https://review.opendev.org/openstack/tempest refs/changes/49/452949/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/identity/v3/domain_configuration_client.py', 'tempest/api/identity/admin/v3/test_domain_configuration.py', 'tempest/tests/lib/services/identity/v3/test_domain_configuration_client.py', 'tempest/lib/services/identity/v3/__init__.py', 'tempest/clients.py', 'releasenotes/notes/add-domain-configuration-client-tempest-tests-e383efabdbb9ad03.yaml', 'tempest/api/identity/base.py']",7,191930b2ac8ae16afc0c02579ca2c2de9315cba0,domain_config_client, cls.domain_config_client = cls.os_adm.domain_config_client,,618,6
openstack%2Ftempest~master~I43a0a9d115e59c860714a47aea11017e8b58b5e7,openstack/tempest,master,I43a0a9d115e59c860714a47aea11017e8b58b5e7,Remove duplication of skip_tracker,MERGED,2017-04-20 08:19:11.000000000,2017-04-24 15:27:17.000000000,2017-04-24 15:27:17.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-04-20 08:19:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f6d6e2b2cc9c2180f2a4aa2695dc01ec8e5d3cb2', 'message': ""Remove duplication of skip_tracker\n\nThis commit removes of the duplication of skip_tracker in\ntempest/lib/cmd and tools. And we already have 'skip-tracker' command.\nIt comes from tempest/lib/cmd/skip_tracker.py, so I think we don't need\nto have duplicate code. So we should deprecate it in tools directory.\n\nThis commit also add a default test_path value for convenience and\ncompatibility.\n\nChange-Id: I43a0a9d115e59c860714a47aea11017e8b58b5e7\n""}, {'number': 2, 'created': '2017-04-21 03:13:45.000000000', 'files': ['tools/skip_tracker.py', 'tempest/lib/cmd/skip_tracker.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3bc7395cbc16b8233e5bac02a6d99af0c53cec01', 'message': ""Remove duplication of skip_tracker\n\nThis commit removes of the duplication of skip_tracker in\ntempest/lib/cmd and tools. And we already have 'skip-tracker' command.\nIt comes from tempest/lib/cmd/skip_tracker.py, so I think we don't need\nto have duplicated code. So we should deprecate it in tools directory.\n\nThis commit also add a default test_path value for convenience and\ncompatibility.\n\nChange-Id: I43a0a9d115e59c860714a47aea11017e8b58b5e7\n""}]",2,458383,3bc7395cbc16b8233e5bac02a6d99af0c53cec01,14,5,2,5689,,,0,"Remove duplication of skip_tracker

This commit removes of the duplication of skip_tracker in
tempest/lib/cmd and tools. And we already have 'skip-tracker' command.
It comes from tempest/lib/cmd/skip_tracker.py, so I think we don't need
to have duplicated code. So we should deprecate it in tools directory.

This commit also add a default test_path value for convenience and
compatibility.

Change-Id: I43a0a9d115e59c860714a47aea11017e8b58b5e7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/83/458383/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/skip_tracker.py', 'tempest/lib/cmd/skip_tracker.py']",2,f6d6e2b2cc9c2180f2a4aa2695dc01ec8e5d3cb2,remove-duplication,"BASEDIR = os.path.abspath(os.path.join(os.path.dirname(__file__), '../../..')) TESTDIR = os.path.join(BASEDIR, 'tempest') print(""%s:%s"" % (BASEDIR, TESTDIR)) parser.add_argument('test_path', nargs='?', default=TESTDIR, help='Path of test dir')"," parser.add_argument('test_path', help='Path of test dir')",10,122
openstack%2Ffuel-library~stable%2F8.0~I2e41551dc7df9f3be81df26000b1ae2bb7d76b39,openstack/fuel-library,stable/8.0,I2e41551dc7df9f3be81df26000b1ae2bb7d76b39,Enable swift when there is no RadosGW,MERGED,2017-04-21 12:37:09.000000000,2017-04-24 15:22:14.000000000,2017-04-24 15:21:16.000000000,"[{'_account_id': 3}, {'_account_id': 8786}, {'_account_id': 8971}, {'_account_id': 11827}, {'_account_id': 14610}, {'_account_id': 20656}]","[{'number': 1, 'created': '2017-04-21 12:37:09.000000000', 'files': ['deployment/puppet/osnailyfacter/modular/swift/tasks.yaml', 'deployment/puppet/osnailyfacter/modular/openstack-haproxy/openstack-haproxy-radosgw.pp', 'deployment/puppet/osnailyfacter/modular/openstack-haproxy/openstack-haproxy-swift.pp'], 'web_link': 'https://opendev.org/openstack/fuel-library/commit/285c29cf12b2cdc5ac978b36bc5777beefb6af46', 'message': 'Enable swift when there is no RadosGW\n\nThere is a regression after\nIf319845aa9f2d9b3ca07936350ef374f504679cb.\nAccording to current logic RadosGW and Swift can be installed\nin a same time.\n\nThat commit changes logic. If we have RadosGW, then we have no\nSwift. If we have no RadosGW, then we have Swift.\n\nChange-Id: I2e41551dc7df9f3be81df26000b1ae2bb7d76b39\nCloses-Bug: #1604879\n'}]",0,458816,285c29cf12b2cdc5ac978b36bc5777beefb6af46,32,6,1,23092,,,0,"Enable swift when there is no RadosGW

There is a regression after
If319845aa9f2d9b3ca07936350ef374f504679cb.
According to current logic RadosGW and Swift can be installed
in a same time.

That commit changes logic. If we have RadosGW, then we have no
Swift. If we have no RadosGW, then we have Swift.

Change-Id: I2e41551dc7df9f3be81df26000b1ae2bb7d76b39
Closes-Bug: #1604879
",git fetch https://review.opendev.org/openstack/fuel-library refs/changes/16/458816/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/puppet/osnailyfacter/modular/swift/tasks.yaml', 'deployment/puppet/osnailyfacter/modular/openstack-haproxy/openstack-haproxy-radosgw.pp', 'deployment/puppet/osnailyfacter/modular/openstack-haproxy/openstack-haproxy-swift.pp']",3,285c29cf12b2cdc5ac978b36bc5777beefb6af46,bug/1604879,if !$storage_hash['objects_ceph'] and !$storage_hash['images_vcenter'] {,if (!$storage_hash['images_ceph'] or !$storage_hash['objects_ceph']) and !$storage_hash['images_vcenter'] {,6,6
openstack%2Fopenstack-ansible~master~I9fc98ea9b7d68623cb42c5fa3b9d5383fadb82d8,openstack/openstack-ansible,master,I9fc98ea9b7d68623cb42c5fa3b9d5383fadb82d8,Add variable for template filename,MERGED,2017-04-24 03:39:24.000000000,2017-04-24 15:21:53.000000000,2017-04-24 15:21:53.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-24 03:39:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d2cd8a1e79778be835c84493c4ee39712d683bfd', 'message': 'Add variable for template filename\n\nThe current logic for constructing the template filename\ndoes not allow custom scenario names. For example, if an\noutside playbook defineds ``boostrap_host_scenario`` to\nbe ""swift"" or ""awesome_scenario"", then the task would try\nto look for user_variables.swlft.yml.j2 template within the\nrole. This commit allows the user define a template filename\nusing the variable bootstrap_user_variables_template.\n\nChange-Id: I9fc98ea9b7d68623cb42c5fa3b9d5383fadb82d8\n'}, {'number': 2, 'created': '2017-04-24 03:40:34.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'releasenotes/notes/add-template-file-var-cac35a99a3faf563.yaml', 'tests/roles/bootstrap-host/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/adcdb7ed4d9cc643eebf95bbf6d6103a8e4969ba', 'message': 'Add variable for template filename\n\nThe current logic for constructing the template filename\ndoes not allow custom scenario names. For example, if an\noutside playbook defines ``boostrap_host_scenario`` to\nbe ""swift"" or ""awesome_scenario"", then the task would try\nto look for the user_variables.swlft.yml.j2 template within the\nrole. This commit allows the user to define a template filename\nusing the variable bootstrap_user_variables_template.\n\nChange-Id: I9fc98ea9b7d68623cb42c5fa3b9d5383fadb82d8\n'}]",0,459156,adcdb7ed4d9cc643eebf95bbf6d6103a8e4969ba,10,6,2,11268,,,0,"Add variable for template filename

The current logic for constructing the template filename
does not allow custom scenario names. For example, if an
outside playbook defines ``boostrap_host_scenario`` to
be ""swift"" or ""awesome_scenario"", then the task would try
to look for the user_variables.swlft.yml.j2 template within the
role. This commit allows the user to define a template filename
using the variable bootstrap_user_variables_template.

Change-Id: I9fc98ea9b7d68623cb42c5fa3b9d5383fadb82d8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/56/459156/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'releasenotes/notes/add-template-file-var-cac35a99a3faf563.yaml', 'tests/roles/bootstrap-host/defaults/main.yml']",3,d2cd8a1e79778be835c84493c4ee39712d683bfd,allow-custom-scenario-names,"# The user variables template to use bootstrap_user_variables_template: ""user_variables.{{ bootstrap_host_scenario }}.yml.j2"" ",,10,1
openstack%2Fkolla~stable%2Fnewton~I94480cda06718ab4aa10250520fa58956151e33a,openstack/kolla,stable/newton,I94480cda06718ab4aa10250520fa58956151e33a,Fix neutron-vpnaas for redhat derived bases,MERGED,2017-03-25 16:04:58.000000000,2017-04-24 15:13:20.000000000,2017-04-24 15:13:20.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 19316}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-03-25 16:04:58.000000000', 'files': ['ansible/roles/neutron/tasks/start.yml', 'ansible/roles/neutron/templates/vpnaas_agent.ini.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0e8d96b9ad64fa1974ec1bcbd97980c41780a38c', 'message': ""Fix neutron-vpnaas for redhat derived bases\n\nThe current redhat derived bases that Kolla ships use libreswan instead\nof openswan (even running 'yum install openswan' on these bases results\nin libreswan being installed).\n\nThis means we need to use this device_driver in vpnaas_agent.ini. Also\n/lib/modules is required from the host for the ipsec driver.\n\nChange-Id: I94480cda06718ab4aa10250520fa58956151e33a\nCloses-Bug: #1644518\n""}]",0,449952,0e8d96b9ad64fa1974ec1bcbd97980c41780a38c,11,5,1,1004,,,0,"Fix neutron-vpnaas for redhat derived bases

The current redhat derived bases that Kolla ships use libreswan instead
of openswan (even running 'yum install openswan' on these bases results
in libreswan being installed).

This means we need to use this device_driver in vpnaas_agent.ini. Also
/lib/modules is required from the host for the ipsec driver.

Change-Id: I94480cda06718ab4aa10250520fa58956151e33a
Closes-Bug: #1644518
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/449952/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/neutron/tasks/start.yml', 'ansible/roles/neutron/templates/vpnaas_agent.ini.j2']",2,0e8d96b9ad64fa1974ec1bcbd97980c41780a38c,bug/1644518,"{% set vpn_device_driver = 'neutron_vpnaas.services.vpn.device_drivers.strongswan_ipsec.StrongSwanDriver' if kolla_base_distro in ['ubuntu', 'debian'] else 'neutron_vpnaas.services.vpn.device_drivers.libreswan_ipsec.LibreSwanDriver'%}","{% set vpn_device_driver = 'neutron_vpnaas.services.vpn.device_drivers.strongswan_ipsec.StrongSwanDriver' if kolla_base_distro in ['ubuntu', 'debian'] else 'neutron_vpnaas.services.vpn.device_drivers.ipsec.OpenSwanDriver'%}",2,1
openstack%2Ftempest~master~I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2,openstack/tempest,master,I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2,Add tests about port_security in tempest/api/network,ABANDONED,2017-03-15 09:28:48.000000000,2017-04-24 15:03:58.000000000,,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 14985}, {'_account_id': 15941}, {'_account_id': 17716}, {'_account_id': 20190}, {'_account_id': 21884}, {'_account_id': 21897}, {'_account_id': 25670}]","[{'number': 1, 'created': '2017-03-15 09:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/459fb60f04e8d63fc0ce604d5619f2ceaf5703ae', 'message': 'Add test_create_update_network_port_security_enabled in test_networks.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 2, 'created': '2017-03-15 09:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5815b7c84078b20b1d8e9941ebe194aca7f8f066', 'message': 'Add test_create_update_network_port_security_enabled in test_networks.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 3, 'created': '2017-03-17 23:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8c6decbe0e3e8ee1afcd207ea5633213937e0a27', 'message': 'Add test_create_update_network_port_security_enabled in test_networks.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\nDepends-on:If59d1b25c557eebb8a9b9db24e7bd209373d6720\n'}, {'number': 4, 'created': '2017-03-18 06:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5889ba550a059b49a53921ce8b68b71543205946', 'message': 'Add test_create_update_network_port_security_enabled in test_networks.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 5, 'created': '2017-03-21 00:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f54eae9662d13948033029ddc00fd3389ac2bdbf', 'message': 'Add test_network_toggle_port_security_enabled in test_networks.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 6, 'created': '2017-03-21 03:36:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d641c39f3c46e740aa4ff3f4bb00a00699c39eb6', 'message': 'Add test_toggle_port_security_enabled in test_networks.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 7, 'created': '2017-03-21 03:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d982a26a9b6dc158d90a2b6f219bc08e1d948d0f', 'message': 'Add test_toggle_port_security_enabled in test_networks.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 8, 'created': '2017-03-22 00:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/baf027c9a17c4ec97bf58a74c9ef4d2f8c5a7d66', 'message': 'Add test_toggle_port_security_enabled in test_networks.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 9, 'created': '2017-03-22 06:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/91b108cf974e51eb0c36d9dddb048046d9fd0322', 'message': 'Add test_create_update_network_port_security_enabled in test_networks.py\n\nwhen port_security_enabled is false,the VM traffic bypass Security group.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 10, 'created': '2017-03-30 11:08:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ff5b823567442b5925b2af902ec3d5041017780d', 'message': 'Add test_create_update_network_port_security_enabled in test_networks.py\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 11, 'created': '2017-04-05 11:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/57caa41100c963b40192d32fb58d6c85876d82ce', 'message': 'Add serval port_security test in api/network\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 12, 'created': '2017-04-05 13:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/777515ba943615bc5a2eac65768f1c666c2887c7', 'message': 'Add test about port_security in api/network\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 13, 'created': '2017-04-06 03:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3b6a3ba0a2815398f72ba5bbf662064030f795ea', 'message': 'Add test about port_security in api/network\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 14, 'created': '2017-04-20 07:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/77c1e35441c14465e325ea8973949fa94c80c18a', 'message': ""Add tests about port_security in tempest/api/network\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\nIf the tests about port-security only in Neutron side,when we submit\npatch about nova,the test can't be execute.\nI think the function of port-security is not only have relationship\nwith neutron,but also with nova.\nSo I think the test should also be add in tempest.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n""}, {'number': 15, 'created': '2017-04-20 08:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b54998bd984b13b89c50ca3892243c13d890f333', 'message': ""Add tests about port_security in tempest/api/network\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\nIf the tests about port-security only in Neutron side,when we submit\npatch about nova,the test can't be execute.\nI think the function of port-security is not only have relationship\nwith neutron,but also with nova.\nSo I think the test should also be add in tempest.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n""}, {'number': 16, 'created': '2017-04-20 09:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/63a50cde70017589a2cc7438c1c33ef46b63c55f', 'message': 'Add tests about port_security in tempest/api/network\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 17, 'created': '2017-04-20 10:00:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/10be6914de55ea194fbaf89ca439484ad9a635fe', 'message': 'Add tests about port_security in tempest/api/network\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 18, 'created': '2017-04-20 12:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d1b78b5652a537c3a41e8722379703590e2f0196', 'message': 'Add tests about port_security in tempest/api/network\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 19, 'created': '2017-04-20 12:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d1b4bf477c4f23ee55d7d789abf94ccfce4fe8e7', 'message': 'Add tests about port_security in tempest/api/network\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}, {'number': 20, 'created': '2017-04-20 12:55:47.000000000', 'files': ['tempest/api/network/test_networks.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/72841421f187f9a3d5057adff8d14821b941ff9f', 'message': 'Add tests about port_security in tempest/api/network\n\nSometimes,user want to control the network traffic bypass Security\ngroup,at the moment ,they can set port_security_enabled to false.\n\nChange-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2\n'}]",15,445839,72841421f187f9a3d5057adff8d14821b941ff9f,123,14,20,21897,,,0,"Add tests about port_security in tempest/api/network

Sometimes,user want to control the network traffic bypass Security
group,at the moment ,they can set port_security_enabled to false.

Change-Id: I41e66c4c69daa2a2efaca05f9c1316cc664ab6d2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/445839/10 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_networks.py'],1,459fb60f04e8d63fc0ce604d5619f2ceaf5703ae,port-security," @test.attr(type='smoke') @decorators.idempotent_id('b428bbc6-095e-11e7-a59c-fa163e4fa634') def test_create_update_network_port_security_enabled(self): # create network,set port_security_enabled to False body = self.create_network(port_security_enabled=False) self.assertEqual(False, body['port_security_enabled']) # update port_security_enabled to True body = self.networks_client.update_network(body['id'], port_security_enabled=True) self.assertEqual(True, body['port_security_enabled']) ",,11,0
openstack%2Fovsdbapp~master~I84d1bd91744db08dda2ead476496ce3b29145003,openstack/ovsdbapp,master,I84d1bd91744db08dda2ead476496ce3b29145003,Remove empty unit test directory,MERGED,2017-04-21 21:13:39.000000000,2017-04-24 15:01:36.000000000,2017-04-24 15:01:36.000000000,"[{'_account_id': 3}, {'_account_id': 7787}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-04-21 21:13:39.000000000', 'files': ['ovsdbapp/tests/unit/ovsdb/__init__.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/864a5797571027927498c8687eaaca6547601893', 'message': 'Remove empty unit test directory\n\nChange-Id: I84d1bd91744db08dda2ead476496ce3b29145003\n'}]",1,458974,864a5797571027927498c8687eaaca6547601893,11,3,1,5756,,,0,"Remove empty unit test directory

Change-Id: I84d1bd91744db08dda2ead476496ce3b29145003
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/74/458974/1 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/tests/unit/ovsdb/__init__.py'],1,864a5797571027927498c8687eaaca6547601893,,,,0,0
openstack%2Fzun~master~If181f7d5cb35b15986d83ad6363d0c80a1e5af06,openstack/zun,master,If181f7d5cb35b15986d83ad6363d0c80a1e5af06,Replace 'faultstring' with 'title',MERGED,2017-04-23 00:49:03.000000000,2017-04-24 14:59:03.000000000,2017-04-24 14:59:03.000000000,"[{'_account_id': 3}, {'_account_id': 16277}, {'_account_id': 22076}]","[{'number': 1, 'created': '2017-04-23 00:49:03.000000000', 'files': ['zun/api/middleware/parsable_error.py', 'zun/api/hooks.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/f89ebf5f1f634cf698d36ea2c2de1753db6f5475', 'message': ""Replace 'faultstring' with 'title'\n\nThe field 'faultstring' is not used in Zun's exception. Let's replace\nit with 'title' instead.\n\nChange-Id: If181f7d5cb35b15986d83ad6363d0c80a1e5af06\n""}]",0,459083,f89ebf5f1f634cf698d36ea2c2de1753db6f5475,11,3,1,11536,,,0,"Replace 'faultstring' with 'title'

The field 'faultstring' is not used in Zun's exception. Let's replace
it with 'title' instead.

Change-Id: If181f7d5cb35b15986d83ad6363d0c80a1e5af06
",git fetch https://review.opendev.org/openstack/zun refs/changes/83/459083/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/api/middleware/parsable_error.py', 'zun/api/hooks.py']",2,f89ebf5f1f634cf698d36ea2c2de1753db6f5475,," title = json_body.get('title') if title and (traceback_marker in title): title = title.split(traceback_marker, 1)[0] json_body['title'] = title.rstrip()"," faultsting = json_body.get('faultstring') if faultsting and (traceback_marker in faultsting): faultsting = faultsting.split(traceback_marker, 1)[0] json_body['faultstring'] = faultsting.rstrip()",4,7
openstack%2Fkuryr-kubernetes~master~I98740ddcb090d62debb9b5f81d9c5b895fdf092f,openstack/kuryr-kubernetes,master,I98740ddcb090d62debb9b5f81d9c5b895fdf092f,Handle LB Conflict exceptions during service deletion,MERGED,2017-04-20 09:26:42.000000000,2017-04-24 14:52:40.000000000,2017-04-24 14:52:40.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 10781}, {'_account_id': 14352}, {'_account_id': 14867}, {'_account_id': 15130}, {'_account_id': 15168}, {'_account_id': 19536}, {'_account_id': 21273}, {'_account_id': 23567}]","[{'number': 1, 'created': '2017-04-20 09:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a8ed60c83c6a3deb1aeae388446a7383fabdc1b4', 'message': 'K8s service delete does not delete load balancer\n\nDuring service delete from kubernetes LB object is not getting deleted\nas it has listener associated and Conflict exception raised . This\npatch is to handle the Conflict exception as part of provisioning wait\n\nChange-Id: I98740ddcb090d62debb9b5f81d9c5b895fdf092f\nCloses-Bug: #1683833\n'}, {'number': 2, 'created': '2017-04-24 13:39:55.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/92e72e23d8dc11f26afd30eeff8deb4994f68cdb', 'message': 'Handle LB Conflict exceptions during service deletion\n\nDuring service delete from kubernetes LB object is not getting deleted\nas it has listener associated and Conflict exception raised . This\npatch is to handle the Conflict exception as part of provisioning wait\n\nChange-Id: I98740ddcb090d62debb9b5f81d9c5b895fdf092f\nCloses-Bug: #1683833\n'}]",4,458413,92e72e23d8dc11f26afd30eeff8deb4994f68cdb,15,10,2,10781,,,0,"Handle LB Conflict exceptions during service deletion

During service delete from kubernetes LB object is not getting deleted
as it has listener associated and Conflict exception raised . This
patch is to handle the Conflict exception as part of provisioning wait

Change-Id: I98740ddcb090d62debb9b5f81d9c5b895fdf092f
Closes-Bug: #1683833
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/13/458413/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,a8ed60c83c6a3deb1aeae388446a7383fabdc1b4,bug/1683833," except n_exc.Conflict: self._wait_for_provisioning(loadbalancer, remaining)",,2,0
openstack%2Fironic~stable%2Focata~I348a27a13d3025fe7e8ddfa31992b895a3809730,openstack/ironic,stable/ocata,I348a27a13d3025fe7e8ddfa31992b895a3809730,Fix updating node.driver to classic,MERGED,2017-03-10 12:51:17.000000000,2017-04-24 14:46:39.000000000,2017-04-24 14:46:39.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 7711}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19339}, {'_account_id': 23825}]","[{'number': 1, 'created': '2017-03-10 12:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/41455769c9b2e5f8229949fcf1f9743dd54d5073', 'message': 'Fix updating node.driver to classic\n\nAn issue when it was impossible to update ``node.driver``\nto classic if the current driver is one of hardware types.\n\nChange-Id: I348a27a13d3025fe7e8ddfa31992b895a3809730\nCloses-Bug: #1668579\n(cherry picked from commit 3d02084559e91c0a5c156b259e615eac42a5d882)\n'}, {'number': 2, 'created': '2017-04-24 08:39:54.000000000', 'files': ['ironic/tests/unit/common/test_driver_factory.py', 'ironic/common/driver_factory.py', 'releasenotes/notes/fix-updating-node-driver-to-classic-16b0d5ba47e74d10.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9ce5d15c74f8410738ae6be8d7cf235fdfdc49d', 'message': 'Fix updating node.driver to classic\n\nAn issue when it was impossible to update ``node.driver``\nto classic if the current driver is one of hardware types.\n\nChange-Id: I348a27a13d3025fe7e8ddfa31992b895a3809730\nCloses-Bug: #1668579\n(cherry picked from commit 3d02084559e91c0a5c156b259e615eac42a5d882)\n'}]",0,444276,e9ce5d15c74f8410738ae6be8d7cf235fdfdc49d,30,12,2,10239,,,0,"Fix updating node.driver to classic

An issue when it was impossible to update ``node.driver``
to classic if the current driver is one of hardware types.

Change-Id: I348a27a13d3025fe7e8ddfa31992b895a3809730
Closes-Bug: #1668579
(cherry picked from commit 3d02084559e91c0a5c156b259e615eac42a5d882)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/444276/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_driver_factory.py', 'ironic/common/driver_factory.py', 'releasenotes/notes/fix-updating-node-driver-to-classic-16b0d5ba47e74d10.yaml']",3,41455769c9b2e5f8229949fcf1f9743dd54d5073,bug/1668579,--- fixes: - Fixes failure to update a node's driver from a hardware type to a classic driver. ,,180,9
openstack%2Fsahara-dashboard~stable%2Fnewton~I821a71b169b86e9f0318cbae4c6cc654cb97a4a7,openstack/sahara-dashboard,stable/newton,I821a71b169b86e9f0318cbae4c6cc654cb97a4a7,Fix JS syntax error in variable declaration,MERGED,2017-04-22 19:21:59.000000000,2017-04-24 14:41:41.000000000,2017-04-24 14:41:41.000000000,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 12038}]","[{'number': 1, 'created': '2017-04-22 19:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/2ae2b35c025524e3b65e3f729d1ec79ee352c082', 'message': 'Fix JS syntax error in variable declaration\n\nDeclarations in javascript should end with a semicolon. This\notherwise causes strange and hard to debug issues in minified\njs assets.\n\nChange-Id: I821a71b169b86e9f0318cbae4c6cc654cb97a4a7\n'}, {'number': 2, 'created': '2017-04-23 19:01:26.000000000', 'files': ['sahara_dashboard/content/data_processing/static/dashboard/project/data_processing/js/data_processing.job_launching.js'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/238e8bdd4002a1f0fb0766d055dbb834657c6e32', 'message': 'Fix JS syntax error in variable declaration\n\nDeclarations in javascript should end with a semicolon. This\notherwise causes strange and hard to debug issues in minified\njs assets.\n\nChange-Id: I821a71b169b86e9f0318cbae4c6cc654cb97a4a7\n'}]",0,459068,238e8bdd4002a1f0fb0766d055dbb834657c6e32,9,3,2,6593,,,0,"Fix JS syntax error in variable declaration

Declarations in javascript should end with a semicolon. This
otherwise causes strange and hard to debug issues in minified
js assets.

Change-Id: I821a71b169b86e9f0318cbae4c6cc654cb97a4a7
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/68/459068/2 && git format-patch -1 --stdout FETCH_HEAD,['sahara_dashboard/content/data_processing/static/dashboard/project/data_processing/js/data_processing.job_launching.js'],1,2ae2b35c025524e3b65e3f729d1ec79ee352c082,,};,},1,1
openstack%2Fsahara-dashboard~stable%2Fnewton~Ieb8afdef1e9649b18a4394620e52b9f6ac3d997b,openstack/sahara-dashboard,stable/newton,Ieb8afdef1e9649b18a4394620e52b9f6ac3d997b,Add Constraints support,MERGED,2017-04-23 19:01:26.000000000,2017-04-24 14:41:35.000000000,2017-04-24 14:41:35.000000000,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 12038}, {'_account_id': 12898}]","[{'number': 1, 'created': '2017-04-23 19:01:26.000000000', 'files': ['run_tests.sh', 'tools/pip_install.sh', 'tools/tox_install.sh', 'tools/with_venv.sh', 'tools/install_venv.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/42db19abde02ecb2350fc65b9a72796f0528c8e3', 'message': ""Add Constraints support\n\nAdding constraints support to libraries is slightly more complex than\nservices as the libraries themselves are listed in upper-constraints.txt\nwhich leads to errors that you can't install a specific version and a\nconstrained version.\n\nThis change adds constraints support by also adding a helper script to\nedit the constraints to remove sahara-dashboard.\n\nAs sahara-dashboard also uses run_tests.sh I've modified that code in\nline with the horizon change I9bf85adb5aa2c85d8c0f0f22ac9efe5cac3646c0\n\nChange-Id: Ieb8afdef1e9649b18a4394620e52b9f6ac3d997b\n(cherry picked from commit 978718ab963451278bcf4d20a946c4c5f1f549e9)\n""}]",4,459125,42db19abde02ecb2350fc65b9a72796f0528c8e3,7,4,1,6593,,,0,"Add Constraints support

Adding constraints support to libraries is slightly more complex than
services as the libraries themselves are listed in upper-constraints.txt
which leads to errors that you can't install a specific version and a
constrained version.

This change adds constraints support by also adding a helper script to
edit the constraints to remove sahara-dashboard.

As sahara-dashboard also uses run_tests.sh I've modified that code in
line with the horizon change I9bf85adb5aa2c85d8c0f0f22ac9efe5cac3646c0

Change-Id: Ieb8afdef1e9649b18a4394620e52b9f6ac3d997b
(cherry picked from commit 978718ab963451278bcf4d20a946c4c5f1f549e9)
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/25/459125/1 && git format-patch -1 --stdout FETCH_HEAD,"['run_tests.sh', 'tools/pip_install.sh', 'tools/tox_install.sh', 'tools/with_venv.sh', 'tools/install_venv.py', 'tox.ini']",6,42db19abde02ecb2350fc65b9a72796f0528c8e3,,install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=stable/newton} {opts} {packages} BRANCH_NAME=stable/newton CLIENT_NAME=sahara-dashboard os:openstack/horizon:horizon,install_command = {toxinidir}/tools/pip_install.sh unconstrained {opts} {packages},109,107
openstack%2Fsahara-dashboard~stable%2Focata~I821a71b169b86e9f0318cbae4c6cc654cb97a4a7,openstack/sahara-dashboard,stable/ocata,I821a71b169b86e9f0318cbae4c6cc654cb97a4a7,Fix JS syntax error in variable declaration,MERGED,2017-04-22 19:22:20.000000000,2017-04-24 14:41:30.000000000,2017-04-24 14:41:30.000000000,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 12038}]","[{'number': 1, 'created': '2017-04-22 19:22:20.000000000', 'files': ['sahara_dashboard/content/data_processing/static/dashboard/project/data_processing/js/data_processing.job_launching.js'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/d36968f48995ff8906f51715acc2bd89c43426ca', 'message': 'Fix JS syntax error in variable declaration\n\nDeclarations in javascript should end with a semicolon. This\notherwise causes strange and hard to debug issues in minified\njs assets.\n\nChange-Id: I821a71b169b86e9f0318cbae4c6cc654cb97a4a7\n(cherry picked from commit 052ff09bffdc6f98db17d8a4f5fb93246fceab7f)\n'}]",0,459069,d36968f48995ff8906f51715acc2bd89c43426ca,7,3,1,6593,,,0,"Fix JS syntax error in variable declaration

Declarations in javascript should end with a semicolon. This
otherwise causes strange and hard to debug issues in minified
js assets.

Change-Id: I821a71b169b86e9f0318cbae4c6cc654cb97a4a7
(cherry picked from commit 052ff09bffdc6f98db17d8a4f5fb93246fceab7f)
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/69/459069/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_dashboard/content/data_processing/static/dashboard/project/data_processing/js/data_processing.job_launching.js'],1,d36968f48995ff8906f51715acc2bd89c43426ca,,};,},1,1
openstack%2Fkolla~master~I2db98e758029adb7aae6ec60a4e5b2a229012d1c,openstack/kolla,master,I2db98e758029adb7aae6ec60a4e5b2a229012d1c,Fix tempest dockerfile,MERGED,2017-04-24 03:18:43.000000000,2017-04-24 14:36:43.000000000,2017-04-24 14:36:42.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-04-24 03:18:43.000000000', 'files': ['docker/tempest/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d741d094e2a59968a3beae9f2090f15be2253275', 'message': 'Fix tempest dockerfile\n\nbash: nosetests: command not found\n\nChange-Id: I2db98e758029adb7aae6ec60a4e5b2a229012d1c\nCloses-Bug: #1685684\n'}]",0,459152,d741d094e2a59968a3beae9f2090f15be2253275,7,3,1,11869,,,0,"Fix tempest dockerfile

bash: nosetests: command not found

Change-Id: I2db98e758029adb7aae6ec60a4e5b2a229012d1c
Closes-Bug: #1685684
",git fetch https://review.opendev.org/openstack/kolla refs/changes/52/459152/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/tempest/Dockerfile.j2'],1,d741d094e2a59968a3beae9f2090f15be2253275,bug/1685684," '/tempest', 'nose'", '/tempest',2,1
openstack%2Fsahara-dashboard~master~I821a71b169b86e9f0318cbae4c6cc654cb97a4a7,openstack/sahara-dashboard,master,I821a71b169b86e9f0318cbae4c6cc654cb97a4a7,Fix JS syntax error in variable declaration,MERGED,2017-04-22 19:20:33.000000000,2017-04-24 14:35:45.000000000,2017-04-24 14:35:45.000000000,"[{'_account_id': 3}, {'_account_id': 8932}, {'_account_id': 12038}]","[{'number': 1, 'created': '2017-04-22 19:20:33.000000000', 'files': ['sahara_dashboard/content/data_processing/static/dashboard/project/data_processing/js/data_processing.job_launching.js'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/052ff09bffdc6f98db17d8a4f5fb93246fceab7f', 'message': 'Fix JS syntax error in variable declaration\n\nDeclarations in javascript should end with a semicolon. This\notherwise causes strange and hard to debug issues in minified\njs assets.\n\nChange-Id: I821a71b169b86e9f0318cbae4c6cc654cb97a4a7\n'}]",0,459067,052ff09bffdc6f98db17d8a4f5fb93246fceab7f,7,3,1,6593,,,0,"Fix JS syntax error in variable declaration

Declarations in javascript should end with a semicolon. This
otherwise causes strange and hard to debug issues in minified
js assets.

Change-Id: I821a71b169b86e9f0318cbae4c6cc654cb97a4a7
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/67/459067/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_dashboard/content/data_processing/static/dashboard/project/data_processing/js/data_processing.job_launching.js'],1,052ff09bffdc6f98db17d8a4f5fb93246fceab7f,,};,},1,1
openstack%2Fshade~master~Ied57f41694d1c4f934439c52799f4c87794db0a5,openstack/shade,master,Ied57f41694d1c4f934439c52799f4c87794db0a5,Remove neutronclient mocks from network create tests,MERGED,2017-04-22 20:07:37.000000000,2017-04-24 14:30:02.000000000,2017-04-24 14:30:02.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6488}, {'_account_id': 6554}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-04-22 20:07:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/shade/commit/3d013bf21609534af564563ea770997a4ffa8f72', 'message': 'Remove neutronclient mocks from network create tests\n\nNeutronclient mock is replaced by mocking REST calls using\nbase.RequestsMockTestCase class\n\nChange-Id: Ied57f41694d1c4f934439c52799f4c87794db0a5\n'}, {'number': 2, 'created': '2017-04-23 17:22:44.000000000', 'files': ['shade/tests/unit/test_network.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/950c4500e2f2bcff370146d88f016e6ef84e56ad', 'message': 'Remove neutronclient mocks from network create tests\n\nNeutronclient mock is replaced by mocking REST calls using\nbase.RequestsMockTestCase class\n\nChange-Id: Ied57f41694d1c4f934439c52799f4c87794db0a5\n'}]",0,459070,950c4500e2f2bcff370146d88f016e6ef84e56ad,17,15,2,11975,,,0,"Remove neutronclient mocks from network create tests

Neutronclient mock is replaced by mocking REST calls using
base.RequestsMockTestCase class

Change-Id: Ied57f41694d1c4f934439c52799f4c87794db0a5
",git fetch https://review.opendev.org/openstack/shade refs/changes/70/459070/2 && git format-patch -1 --stdout FETCH_HEAD,['shade/tests/unit/test_network.py'],1,3d013bf21609534af564563ea770997a4ffa8f72,remove_neutronclient_mocks_in_net_create,"import copy mock_new_network_rep = { 'provider:physical_network': None, 'ipv6_address_scope': None, 'revision_number': 3, 'port_security_enabled': True, 'provider:network_type': 'local', 'id': '881d1bb7-a663-44c0-8f9f-ee2765b74486', 'router:external': False, 'availability_zone_hints': [], 'availability_zones': [], 'provider:segmentation_id': None, 'ipv4_address_scope': None, 'shared': False, 'project_id': '861808a93da0484ea1767967c4df8a23', 'status': 'ACTIVE', 'subnets': [], 'description': '', 'tags': [], 'updated_at': '2017-04-22T19:22:53Z', 'is_default': False, 'qos_policy_id': None, 'name': 'netname', 'admin_state_up': True, 'tenant_id': '861808a93da0484ea1767967c4df8a23', 'created_at': '2017-04-22T19:22:53Z', 'mtu': 0 } def test_create_network(self): self.register_uris([ dict(method='POST', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'network': self.mock_new_network_rep}, validate=dict( json={'network': { 'admin_state_up': True, 'name': 'netname'}})) ]) network = self.cloud.create_network(""netname"") self.assertEqual(self.mock_new_network_rep, network) self.assert_calls() def test_create_network_specific_tenant(self): project_id = ""project_id_value"" mock_new_network_rep = copy.copy(self.mock_new_network_rep) mock_new_network_rep['project_id'] = project_id self.register_uris([ dict(method='POST', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'network': mock_new_network_rep}, validate=dict( json={'network': { 'admin_state_up': True, 'name': 'netname', 'tenant_id': project_id}})) ]) network = self.cloud.create_network(""netname"", project_id=project_id) self.assertEqual(mock_new_network_rep, network) self.assert_calls() def test_create_network_external(self): mock_new_network_rep = copy.copy(self.mock_new_network_rep) mock_new_network_rep['router:external'] = True self.register_uris([ dict(method='POST', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'network': mock_new_network_rep}, validate=dict( json={'network': { 'admin_state_up': True, 'name': 'netname', 'router:external': True}})) ]) network = self.cloud.create_network(""netname"", external=True) self.assertEqual(mock_new_network_rep, network) self.assert_calls() def test_create_network_provider(self): new_network_provider_opts = { 'provider:physical_network': 'mynet', 'provider:network_type': 'vlan', 'provider:segmentation_id': 'vlan1' } mock_new_network_rep = copy.copy(self.mock_new_network_rep) mock_new_network_rep.update(new_network_provider_opts) expected_send_params = { 'admin_state_up': True, 'name': 'netname' } expected_send_params.update(new_network_provider_opts) self.register_uris([ dict(method='POST', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'network': mock_new_network_rep}, validate=dict( json={'network': expected_send_params})) ]) network = self.cloud.create_network(""netname"", provider=provider_opts) self.assertEqual(mock_new_network_rep, network) self.assert_calls() def test_create_network_provider_ignored_value(self): new_network_provider_opts = { 'provider:physical_network': 'mynet', 'provider:network_type': 'vlan', 'provider:segmentation_id': 'vlan1' } mock_new_network_rep = copy.copy(self.mock_new_network_rep) mock_new_network_rep.update(new_network_provider_opts) expected_send_params = { 'admin_state_up': True, 'name': 'netname' } expected_send_params.update(new_network_provider_opts) self.register_uris([ dict(method='POST', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'network': mock_new_network_rep}, validate=dict( json={'network': expected_send_params})) ]) network = self.cloud.create_network(""netname"", provider=provider_opts) self.assertEqual(mock_new_network_rep, network) self.assert_calls()"," @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_network(self, mock_neutron): self.cloud.create_network(""netname"") mock_neutron.create_network.assert_called_with( body=dict( network=dict( name='netname', admin_state_up=True ) ) ) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_network_specific_tenant(self, mock_neutron): self.cloud.create_network(""netname"", project_id=""project_id_value"") mock_neutron.create_network.assert_called_with( body=dict( network=dict( name='netname', admin_state_up=True, tenant_id=""project_id_value"", ) ) ) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_network_external(self, mock_neutron): self.cloud.create_network(""netname"", external=True) mock_neutron.create_network.assert_called_with( body=dict( network={ 'name': 'netname', 'admin_state_up': True, 'router:external': True } ) ) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_network_provider(self, mock_neutron): self.cloud.create_network(""netname"", provider=provider_opts) mock_neutron.create_network.assert_called_once_with( body=dict( network={ 'name': 'netname', 'admin_state_up': True, 'provider:physical_network': provider_opts['physical_network'], 'provider:network_type': provider_opts['network_type'], 'provider:segmentation_id': provider_opts['segmentation_id'], } ) ) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_network_provider_ignored_value(self, mock_neutron): self.cloud.create_network(""netname"", provider=provider_opts) mock_neutron.create_network.assert_called_once_with( body=dict( network={ 'name': 'netname', 'admin_state_up': True, 'provider:physical_network': provider_opts['physical_network'], 'provider:network_type': provider_opts['network_type'], 'provider:segmentation_id': provider_opts['segmentation_id'], } ) )",126,69
openstack%2Fheat~master~I361fe305d0f7d082e6c9a1158ef3684b677f1b95,openstack/heat,master,I361fe305d0f7d082e6c9a1158ef3684b677f1b95,Use mock for subnet tests,MERGED,2017-04-18 10:32:56.000000000,2017-04-24 14:29:35.000000000,2017-04-24 14:29:35.000000000,"[{'_account_id': 3}, {'_account_id': 7385}, {'_account_id': 7404}, {'_account_id': 8246}, {'_account_id': 8833}, {'_account_id': 10487}, {'_account_id': 12404}, {'_account_id': 13009}]","[{'number': 1, 'created': '2017-04-18 10:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c28395c8ad3a56be2916c0a9db3fe008674947de', 'message': 'Use mock for subnet tests\n\nChange-Id: I361fe305d0f7d082e6c9a1158ef3684b677f1b95\n'}, {'number': 2, 'created': '2017-04-19 01:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6c23a4f38a1aa517f09480e73bfb69cd531b8529', 'message': 'Use mock for subnet tests\n\nChange-Id: I361fe305d0f7d082e6c9a1158ef3684b677f1b95\n'}, {'number': 3, 'created': '2017-04-19 08:45:52.000000000', 'files': ['heat/tests/openstack/neutron/test_neutron_subnet.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/ef8e2d7a04150ffa2fa46c953d455cd26a6bf9ae', 'message': 'Use mock for subnet tests\n\nChange-Id: I361fe305d0f7d082e6c9a1158ef3684b677f1b95\n'}]",0,457558,ef8e2d7a04150ffa2fa46c953d455cd26a6bf9ae,11,8,3,8289,,,0,"Use mock for subnet tests

Change-Id: I361fe305d0f7d082e6c9a1158ef3684b677f1b95
",git fetch https://review.opendev.org/openstack/heat refs/changes/58/457558/3 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/openstack/neutron/test_neutron_subnet.py'],1,c28395c8ad3a56be2916c0a9db3fe008674947de,use-mock-for-subnet-tests," self.create_mock = self.patchobject(neutronclient.Client, 'create_subnet') self.delete_mock = self.patchobject(neutronclient.Client, 'delete_subnet') self.show_mock = self.patchobject(neutronclient.Client, 'show_subnet') self.update_mock = self.patchobject(neutronclient.Client, 'update_subnet') def _setup_mock(self, stack_name=None, use_deprecated_templ=False): if use_deprecated_templ: t = template_format.parse(neutron_template_deprecated) else: t = template_format.parse(neutron_template) stack = utils.parse_stack(t, stack_name=stack_name) sn = { ""subnet"": { ""name"": ""name"", ""network_id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"", ""tenant_id"": ""c1210485b2424d48804aad5d39c61b8f"", ""allocation_pools"": [ {""start"": ""10.0.3.20"", ""end"": ""10.0.3.150""}], ""gateway_ip"": ""10.0.3.1"", 'host_routes': [ {'destination': u'10.0.4.0/24', 'nexthop': u'10.0.3.20'}], ""ip_version"": 4, ""cidr"": ""10.0.3.0/24"", ""dns_nameservers"": [""8.8.8.8""], ""id"": ""91e47a57-7508-46fe-afc9-fc454e8580e1"", ""enable_dhcp"": True, } } self.create_mock.return_value = sn self.show_mock.side_effect = [ qe.NeutronClientException(status_code=404), sn, sn, qe.NeutronClientException(status_code=404) ] self.delete_mock.side_effect = [ None, qe.NeutronClientException(status_code=404) ] return t, stack t, stack = self._setup_mock() create_props = {'subnet': { 'name': utils.PhysName(stack.name, 'test_subnet'), 'network_id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'dns_nameservers': [u'8.8.8.8'], 'allocation_pools': [ {'start': u'10.0.3.20', 'end': u'10.0.3.150'}], 'host_routes': [ {'destination': u'10.0.4.0/24', 'nexthop': u'10.0.3.20'}], 'ip_version': 4, 'cidr': u'10.0.3.0/24', 'tenant_id': 'c1210485b2424d48804aad5d39c61b8f', 'enable_dhcp': True}} self.create_mock.assert_called_once_with(create_props) self.update_mock.assert_called_once_with( '91e47a57-7508-46fe-afc9-fc454e8580e1', update_props) self.update_mock.assert_called_with( '91e47a57-7508-46fe-afc9-fc454e8580e1', update_props) t, stack = self._setup_mock() self.update_mock.assert_called_once_with( '91e47a57-7508-46fe-afc9-fc454e8580e1', update_props ) t, stack = self._setup_mock(stack_name) self.create_mock.return_value = subnet_dict self.show_mock.side_effect = [ qe.NeutronClientException(status_code=404)] t, stack = self._setup_mock(use_deprecated_templ=True) subnet_info = { } self.create_mock.return_value = subnet_info self.show_mock.side_effect = [ subnet_info, qe.NeutronClientException(status_code=404) ] create_info = { } subnet_info = copy.deepcopy(create_info) subnet_info['subnet']['id'] = ""91e47a57-7508-46fe-afc9-fc454e8580e1"" self.create_mock.return_value = subnet_info self.create_mock.assert_called_once_with(create_info) self.create_mock.return_value = { ""subnet"": { ""id"": ""91e47a57-7508-46fe-afc9-fc454e8580e1"", ""ip_version"": 4, ""name"": ""name"", ""network_id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"", ""tenant_id"": ""c1210485b2424d48804aad5d39c61b8f"" } }"," self.m.StubOutWithMock(neutronclient.Client, 'create_subnet') self.m.StubOutWithMock(neutronclient.Client, 'delete_subnet') self.m.StubOutWithMock(neutronclient.Client, 'show_subnet') self.m.StubOutWithMock(neutronclient.Client, 'update_subnet') t, stack = self._test_subnet(u_props=update_props) neutronclient.Client.update_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1', update_props) self.m.ReplayAll() self.m.VerifyAll() t, stack = self._test_subnet(u_props=update_props_merged) self.m.ReplayAll() self.m.VerifyAll() t, stack = self._test_subnet(stack_name, u_props=update_props_name) self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.create_subnet({ 'subnet': { 'network_id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'name': 'mysubnet', 'subnetpool_id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'prefixlen': 24, 'dns_nameservers': [u'8.8.8.8'], 'allocation_pools': [ {'start': u'10.0.3.20', 'end': u'10.0.3.150'}], 'host_routes': [ {'destination': u'10.0.4.0/24', 'nexthop': u'10.0.3.20'}], 'ip_version': 4, 'enable_dhcp': True, 'tenant_id': 'c1210485b2424d48804aad5d39c61b8f' } }).AndReturn(subnet_dict) neutronclient.Client.delete_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1' ).AndReturn(None) neutronclient.Client.show_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1' ).AndRaise(qe.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.VerifyAll() t, stack = self._test_subnet(resolve_neutron=False) self.m.ReplayAll() self.m.VerifyAll() def _test_subnet(self, stack_name=None, resolve_neutron=True, u_props=None): default_update_props = {'subnet': { 'dns_nameservers': ['8.8.8.8', '192.168.1.254'], 'name': 'mysubnet', 'enable_dhcp': True, 'host_routes': [{'destination': '192.168.1.0/24', 'nexthop': '194.168.1.2'}]}} update_props = u_props if u_props else default_update_props if resolve_neutron: t = template_format.parse(neutron_template) # Update script neutronclient.Client.update_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1', update_props) else: t = template_format.parse(neutron_template_deprecated) stack = utils.parse_stack(t, stack_name=stack_name) neutronclient.Client.create_subnet({ 'subnet': { 'name': utils.PhysName(stack.name, 'test_subnet'), 'network_id': 'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'dns_nameservers': [u'8.8.8.8'], 'allocation_pools': [ {'start': u'10.0.3.20', 'end': u'10.0.3.150'}], 'host_routes': [ {'destination': u'10.0.4.0/24', 'nexthop': u'10.0.3.20'}], 'ip_version': 4, 'cidr': u'10.0.3.0/24', 'tenant_id': 'c1210485b2424d48804aad5d39c61b8f', 'enable_dhcp': True } }).AndReturn({ ""subnet"": { ""allocation_pools"": [ {""start"": ""10.0.3.20"", ""end"": ""10.0.3.150""}], ""cidr"": ""10.0.3.0/24"", ""dns_nameservers"": [""8.8.8.8""], ""enable_dhcp"": True, ""gateway_ip"": ""10.0.3.1"", ""host_routes"": [ {""destination"": ""10.0.4.0/24"", ""nexthop"": ""10.0.3.20""}], ""id"": ""91e47a57-7508-46fe-afc9-fc454e8580e1"", ""ip_version"": 4, ""name"": ""name"", ""network_id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"", ""tenant_id"": ""c1210485b2424d48804aad5d39c61b8f"" } }) neutronclient.Client.show_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1').AndRaise( qe.NeutronClientException(status_code=404)) sn = { ""subnet"": { ""name"": ""name"", ""network_id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"", ""tenant_id"": ""c1210485b2424d48804aad5d39c61b8f"", ""allocation_pools"": [ {""start"": ""10.0.3.20"", ""end"": ""10.0.3.150""}], ""gateway_ip"": ""10.0.3.1"", 'host_routes': [ {'destination': u'10.0.4.0/24', 'nexthop': u'10.0.3.20'}], ""ip_version"": 4, ""cidr"": ""10.0.3.0/24"", ""dns_nameservers"": [""8.8.8.8""], ""id"": ""91e47a57-7508-46fe-afc9-fc454e8580e1"", ""enable_dhcp"": True, } } neutronclient.Client.show_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1').AndReturn(sn) neutronclient.Client.show_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1').AndReturn(sn) # Delete script neutronclient.Client.delete_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1' ).AndReturn(None) neutronclient.Client.show_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1' ).AndRaise(qe.NeutronClientException(status_code=404)) neutronclient.Client.delete_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1' ).AndRaise(qe.NeutronClientException(status_code=404)) return t, stack neutronclient.Client.create_subnet({ 'subnet': { 'name': utils.PhysName(stack.name, 'test_subnet'), 'network_id': u'fc68ea2c-b60b-4b4f-bd82-94ec81110766', 'dns_nameservers': [u'8.8.8.8'], 'allocation_pools': [ {'start': u'10.0.3.20', 'end': u'10.0.3.150'}], 'host_routes': [ {'destination': u'10.0.4.0/24', 'nexthop': u'10.0.3.20'}], 'ip_version': 4, 'enable_dhcp': False, 'cidr': u'10.0.3.0/24', 'tenant_id': 'c1210485b2424d48804aad5d39c61b8f' } }).AndReturn({ }) neutronclient.Client.show_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1').AndReturn({ ""subnet"": { ""name"": ""name"", ""network_id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"", ""tenant_id"": ""c1210485b2424d48804aad5d39c61b8f"", ""allocation_pools"": [ {""start"": ""10.0.3.20"", ""end"": ""10.0.3.150""}], ""host_routes"": [ {""destination"": ""10.0.4.0/24"", ""nexthop"": ""10.0.3.20""}], ""gateway_ip"": ""10.0.3.1"", ""ip_version"": 4, ""cidr"": ""10.0.3.0/24"", ""dns_nameservers"": [""8.8.8.8""], ""id"": ""91e47a57-7508-46fe-afc9-fc454e8580e1"", ""enable_dhcp"": False, } }) neutronclient.Client.delete_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1' ).AndReturn(None) neutronclient.Client.show_subnet( '91e47a57-7508-46fe-afc9-fc454e8580e1' ).AndRaise(qe.NeutronClientException(status_code=404)) self.m.ReplayAll() self.m.ReplayAll() self.m.VerifyAll() neutronclient.Client.create_subnet({ }).AndReturn({ ""subnet"": { ""allocation_pools"": [ {""start"": ""fdfa:6a50:d22b::2"", ""end"": ""fdfa:6a50:d22b:0:ffff:ffff:ffff:fffe""}], ""cidr"": ""fd00:1::/64"", ""enable_dhcp"": True, ""gateway_ip"": ""fdfa:6a50:d22b::1"", ""id"": ""91e47a57-7508-46fe-afc9-fc454e8580e1"", ""ip_version"": 6, ""name"": ""name"", ""network_id"": ""fc68ea2c-b60b-4b4f-bd82-94ec81110766"", ""tenant_id"": ""c1210485b2424d48804aad5d39c61b8f"", 'ipv6_address_mode': 'slaac', 'ipv6_ra_mode': 'slaac' } }) self.m.ReplayAll() self.m.VerifyAll() self.m.VerifyAll()",100,207
openstack%2Foctavia~master~I632f6cfef37175ce860c6bf3abb2049f93d6b9c0,openstack/octavia,master,I632f6cfef37175ce860c6bf3abb2049f93d6b9c0,Correct some v2 Listener response entries,MERGED,2017-04-21 17:24:38.000000000,2017-04-24 14:25:58.000000000,2017-04-24 14:25:58.000000000,"[{'_account_id': 3}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 25632}]","[{'number': 1, 'created': '2017-04-21 17:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/de91d5427f7cb32df9940256b3e2acf3e6e3df6b', 'message': 'Correct some v2 Listener response entries\n\nChange-Id: I632f6cfef37175ce860c6bf3abb2049f93d6b9c0\n'}, {'number': 2, 'created': '2017-04-21 17:31:00.000000000', 'files': ['octavia/api/v2/types/listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c46535d2fb9a81d76ff14e136549146911e92813', 'message': 'Correct some v2 Listener response entries\n\nCloses-Bug: #1681564\nCloses-Bug: #1681565\nChange-Id: I632f6cfef37175ce860c6bf3abb2049f93d6b9c0\n'}]",0,458920,c46535d2fb9a81d76ff14e136549146911e92813,11,4,2,10273,,,0,"Correct some v2 Listener response entries

Closes-Bug: #1681564
Closes-Bug: #1681565
Change-Id: I632f6cfef37175ce860c6bf3abb2049f93d6b9c0
",git fetch https://review.opendev.org/openstack/octavia refs/changes/20/458920/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/api/v2/types/listener.py'],1,de91d5427f7cb32df9940256b3e2acf3e6e3df6b,bug/1681564," _type_to_model_map = {'admin_state_up': 'enabled', 'default_tls_container_ref': 'tls_certificate_id'}class MinimalL7Policy(types.BaseType): id = wtypes.wsattr(wtypes.UuidType()) l7policies = wtypes.wsattr([MinimalL7Policy]) listener.sni_container_refs = [ sni_c.tls_container_id for sni_c in data_model.sni_containers] MinimalLoadBalancer.from_data_model(data_model.load_balancer)] listener.l7policies = [ MinimalL7Policy.from_data_model(i) for i in data_model.l7policies] "," _type_to_model_map = {'admin_state_up': 'enabled'} default_pool = wtypes.wsattr(pool.PoolResponse) l7policies = wtypes.wsattr([l7policy.L7PolicyResponse]) listener.sni_container_refs = [sni_c.tls_container_id for sni_c in data_model.sni_containers] if data_model.tls_certificate_id: listener.default_tls_container_ref = data_model.tls_certificate_id MinimalLoadBalancer.from_data_model(data_model.load_balancer) ] if not children: # NOTE(blogan): do not show default_pool if the request does not # want to see children del listener.default_pool del listener.l7policies return listener if data_model.default_pool: listener.default_pool = pool.PoolResponse.from_data_model( data_model.default_pool, children=children) if data_model.l7policies: listener.l7policies = [l7policy.L7PolicyResponse.from_data_model( policy, children=children) for policy in data_model.l7policies] if not listener.default_pool: del listener.default_pool del listener.default_pool_id if not listener.l7policies: del listener.l7policies ",14,27
openstack%2Fkuryr-libnetwork~master~I1d54203a5de60958c094aaeec4182c4253730bf3,openstack/kuryr-libnetwork,master,I1d54203a5de60958c094aaeec4182c4253730bf3,container connect both bridge and kuryr network in Rally,MERGED,2016-11-10 09:53:12.000000000,2017-04-24 14:23:21.000000000,2017-04-24 14:23:21.000000000,"[{'_account_id': 3}, {'_account_id': 1923}, {'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 11343}, {'_account_id': 12860}, {'_account_id': 14352}, {'_account_id': 14867}, {'_account_id': 15967}]","[{'number': 1, 'created': '2016-11-10 09:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/71bd42d8e4352b7ce9c665a3abdbed5d858dfcaf', 'message': 'container connect both bridge and kuryr network in Rally\n\ndocker_client.create_container will connect to bridge\nnetwork by default.\n\nChange-Id: I1d54203a5de60958c094aaeec4182c4253730bf3\nCloses-bug: #1640720\n'}, {'number': 2, 'created': '2016-11-11 00:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/952ad016639d806fcf93cf501405823e9e6e8c50', 'message': 'container connect both bridge and kuryr network in Rally\n\ndocker_client.create_container will connect to bridge\nnetwork by default.\n\nChange-Id: I1d54203a5de60958c094aaeec4182c4253730bf3\nCloses-bug: #1640720\n'}, {'number': 3, 'created': '2016-12-01 14:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/6c6bcd8d3d8d25f317144a44ec7f4a1b78a7d94c', 'message': 'container connect both bridge and kuryr network in Rally\n\ndocker_client.create_container will connect to bridge\nnetwork by default.\n\nChange-Id: I1d54203a5de60958c094aaeec4182c4253730bf3\nCloses-bug: #1640720\n'}, {'number': 4, 'created': '2017-04-16 05:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/84d76583ff4ee9eab33f6002079977cc8d47ba5f', 'message': 'container connect both bridge and kuryr network in Rally\n\ndocker_client.create_container will connect to bridge\nnetwork by default.\n\nChange-Id: I1d54203a5de60958c094aaeec4182c4253730bf3\nCloses-bug: #1640720\n'}, {'number': 5, 'created': '2017-04-16 05:50:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/b7663ba6b091c2d668e708dfaf3c671ece5d3410', 'message': 'container connect both bridge and kuryr network in Rally\n\ndocker_client.create_container will connect to bridge\nnetwork by default.\n\nChange-Id: I1d54203a5de60958c094aaeec4182c4253730bf3\nCloses-bug: #1640720\n'}, {'number': 6, 'created': '2017-04-16 06:32:56.000000000', 'files': ['rally-jobs/plugins/scenarios/utils.py', 'rally-jobs/plugins/context/docker_networks.py', 'rally-jobs/plugins/scenarios/kuryr.py'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/6543e0472d3a9530c665975643335fc35185ba46', 'message': 'container connect both bridge and kuryr network in Rally\n\ndocker_client.create_container will connect to bridge\nnetwork by default.\n\nChange-Id: I1d54203a5de60958c094aaeec4182c4253730bf3\nCloses-bug: #1640720\n'}]",0,396048,6543e0472d3a9530c665975643335fc35185ba46,40,9,6,9820,,,0,"container connect both bridge and kuryr network in Rally

docker_client.create_container will connect to bridge
network by default.

Change-Id: I1d54203a5de60958c094aaeec4182c4253730bf3
Closes-bug: #1640720
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/48/396048/6 && git format-patch -1 --stdout FETCH_HEAD,"['rally-jobs/plugins/scenarios/utils.py', 'rally-jobs/plugins/context/docker_networks.py']",2,71bd42d8e4352b7ce9c665a3abdbed5d858dfcaf,bug/1640720," self.context[""netname""] = ""kuryr_network""",,6,4
openstack%2Fopenstack-ansible-os_nova~master~I98018fca9c277248b77b60081ea560c012b370af,openstack/openstack-ansible-os_nova,master,I98018fca9c277248b77b60081ea560c012b370af,Enable Nginx for nova-placement,MERGED,2017-04-10 18:37:59.000000000,2017-04-24 14:21:38.000000000,2017-04-24 14:16:49.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 13095}]","[{'number': 1, 'created': '2017-04-10 18:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/212cf838b8cfae05818cedbc054f8a8b0a614445', 'message': 'Enable Nginx for nova-placement\n\nOn CentOS the default is to have service disabled, this ensure nginx is enabled.\n\nCloses-bug: 1681533\nChange-Id: I98018fca9c277248b77b60081ea560c012b370af\n'}, {'number': 2, 'created': '2017-04-12 12:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/64530ad290d922ee2e58ad4b765b14085196f172', 'message': 'Enable Nginx for nova-placement\n\nOn CentOS the default is to have service disabled, this ensure nginx is enabled.\n\nCloses-bug: 1681533\nChange-Id: I98018fca9c277248b77b60081ea560c012b370af\n'}, {'number': 3, 'created': '2017-04-19 11:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/a1b98572a0528f4f582581d8bf8d49baf2c6de88', 'message': 'Enable Nginx for nova-placement\n\nOn CentOS the default is to have service disabled, this ensure nginx is enabled.\n\nCloses-bug: 1681533\nChange-Id: I98018fca9c277248b77b60081ea560c012b370af\n'}, {'number': 4, 'created': '2017-04-20 18:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/986bb30e64ccd5646c87184df8179fa0acbc3371', 'message': 'Enable Nginx for nova-placement\n\nOn CentOS the default is to have service disabled, this ensure nginx is enabled.\n\nCloses-bug: 1681533\nChange-Id: I98018fca9c277248b77b60081ea560c012b370af\n'}, {'number': 5, 'created': '2017-04-20 20:02:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/2b9f7c3b191e89acbf903d7923749533d090ddeb', 'message': 'Enable Nginx for nova-placement\n\nOn CentOS the default is to have service disabled, this ensure nginx is enabled.\n\nCloses-bug: 1681533\nChange-Id: I98018fca9c277248b77b60081ea560c012b370af\n'}, {'number': 6, 'created': '2017-04-23 02:17:11.000000000', 'files': ['handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/fa3797d8577d38c7b4c3cb652103f4987caba574', 'message': 'Enable Nginx for nova-placement\n\nOn CentOS the default is to have service disabled, this ensure nginx is enabled.\n\nCloses-bug: 1681533\nChange-Id: I98018fca9c277248b77b60081ea560c012b370af\n'}]",1,455420,fa3797d8577d38c7b4c3cb652103f4987caba574,37,5,6,13095,,,0,"Enable Nginx for nova-placement

On CentOS the default is to have service disabled, this ensure nginx is enabled.

Closes-bug: 1681533
Change-Id: I98018fca9c277248b77b60081ea560c012b370af
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/20/455420/6 && git format-patch -1 --stdout FETCH_HEAD,['tasks/nova_placement_nginx.yml'],1,212cf838b8cfae05818cedbc054f8a8b0a614445,bug/1681533," - name: Enable Nginx service: name: nginx enabled: ""yes"" notify: - Reload Nginx",,7,0
openstack%2Fkolla~master~I8721854eefa6c55bb6e627db9a051c8f9202d1e1,openstack/kolla,master,I8721854eefa6c55bb6e627db9a051c8f9202d1e1,handle rtslib(-fb) package names and dependencies,MERGED,2017-03-28 14:08:46.000000000,2017-04-24 14:20:53.000000000,2017-04-24 14:20:53.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 11869}, {'_account_id': 16620}, {'_account_id': 19316}, {'_account_id': 22582}, {'_account_id': 22959}]","[{'number': 1, 'created': '2017-03-28 14:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9ed42d263e73e61c86117a4d5706a9d94767e46', 'message': 'nova-compute: enable Debian/source build\n\nChange-Id: I8721854eefa6c55bb6e627db9a051c8f9202d1e1\nPartially-Implements: blueprint multiarch-and-arm64-containers\n'}, {'number': 2, 'created': '2017-03-29 10:54:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8b7f6c20465a8f41d2136bac980d3291fdbc9750', 'message': 'nova-compute: enable Debian/source build\n\nChange-Id: I8721854eefa6c55bb6e627db9a051c8f9202d1e1\nPartially-Implements: blueprint multiarch-and-arm64-containers\n'}, {'number': 3, 'created': '2017-03-29 18:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d6f9f68d6d705ee5c011100ba7adc17815644fe5', 'message': ""handle rtslib(-fb) package names and dependencies\n\nUbuntu has rtslib/targetcli packages while CentOS and Debian use 'fb'\nfork of those.\n\n'targetcli(-fb)' packages already depend on 'python-rtslib(-fb)' so\nthat package was dropped from lists.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I8721854eefa6c55bb6e627db9a051c8f9202d1e1\n""}, {'number': 4, 'created': '2017-03-30 17:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/632c3db2ec4aa6a66902040d0e994055852c5e30', 'message': ""handle rtslib(-fb) package names and dependencies\n\nUbuntu has rtslib/targetcli packages while CentOS and Debian use 'fb'\nfork of those.\n\n'targetcli(-fb)' packages already depend on 'python-rtslib(-fb)' so\nthat package was dropped from lists.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I8721854eefa6c55bb6e627db9a051c8f9202d1e1\n""}, {'number': 5, 'created': '2017-04-03 18:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e17b7e091399a073a5073a81d8356288dd71af3b', 'message': ""handle rtslib(-fb) package names and dependencies\n\nUbuntu has rtslib/targetcli packages while CentOS and Debian use 'fb'\nfork of those.\n\n'targetcli(-fb)' packages already depend on 'python-rtslib(-fb)' so\nthat package was dropped from lists.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I8721854eefa6c55bb6e627db9a051c8f9202d1e1\n""}, {'number': 6, 'created': '2017-04-06 07:51:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d89892f9f4ac823caaa9a6c23573b3738963966d', 'message': ""handle rtslib(-fb) package names and dependencies\n\nUbuntu has rtslib/targetcli packages while CentOS and Debian use 'fb'\nfork of those.\n\n'targetcli(-fb)' packages already depend on 'python-rtslib(-fb)' so\nthat package was dropped from lists.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I8721854eefa6c55bb6e627db9a051c8f9202d1e1\n""}, {'number': 7, 'created': '2017-04-06 08:26:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fe6e0bc48fa7ef25e5aca9115bddee647ad47c5e', 'message': ""handle rtslib(-fb) package names and dependencies\n\nUbuntu has rtslib/targetcli packages while CentOS and Debian use 'fb'\nfork of those.\n\n'targetcli(-fb)' packages already depend on 'python-rtslib(-fb)' so\nthat package was dropped from lists.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I8721854eefa6c55bb6e627db9a051c8f9202d1e1\n""}, {'number': 8, 'created': '2017-04-12 09:01:28.000000000', 'files': ['docker/iscsid/Dockerfile.j2', 'docker/nova/nova-compute/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ebaf1f304240cfcc8201d13183782191cc210f28', 'message': ""handle rtslib(-fb) package names and dependencies\n\nUbuntu has rtslib/targetcli packages while CentOS and Debian use 'fb'\nfork of those.\n\nPartially-Implements: blueprint multiarch-and-arm64-containers\n\nChange-Id: I8721854eefa6c55bb6e627db9a051c8f9202d1e1\n""}]",5,450805,ebaf1f304240cfcc8201d13183782191cc210f28,48,8,8,24072,,,0,"handle rtslib(-fb) package names and dependencies

Ubuntu has rtslib/targetcli packages while CentOS and Debian use 'fb'
fork of those.

Partially-Implements: blueprint multiarch-and-arm64-containers

Change-Id: I8721854eefa6c55bb6e627db9a051c8f9202d1e1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/05/450805/8 && git format-patch -1 --stdout FETCH_HEAD,['docker/nova/nova-compute/Dockerfile.j2'],1,b9ed42d263e73e61c86117a4d5706a9d94767e46,bp/multiarch-and-arm64-containers," 'open-iscsi' # Debian/stretch uses rtslib-fb (like CentOS does) {% if base_distro == 'debian' %} {% set nova_compute_packages = nova_compute_packages + [ 'targetcli-fb', 'python-rtslib-fb' ] %} {% elif base_distro == 'ubuntu' %} {% set nova_compute_packages = nova_compute_packages + [ 'targetcli', 'python-rtslib' ] %} {% endif %} "," 'open-iscsi', 'targetcli', 'python-rtslib'",14,3
openstack%2Fheat~master~I83576f2bea64882404754353ad5eb91dc3d9dc25,openstack/heat,master,I83576f2bea64882404754353ad5eb91dc3d9dc25,Replace six.iteritems() with .items(),ABANDONED,2017-04-24 10:02:01.000000000,2017-04-24 14:20:34.000000000,,"[{'_account_id': 3}, {'_account_id': 7385}]","[{'number': 1, 'created': '2017-04-24 10:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/20a617c7e3fa02a69baa32f1cccddfba772602d9', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the\nlink [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I83576f2bea64882404754353ad5eb91dc3d9dc25\n'}, {'number': 2, 'created': '2017-04-24 10:38:05.000000000', 'files': ['heat/engine/update.py', 'heat/tests/convergence/framework/engine_wrapper.py', 'heat/engine/environment.py', 'heat/engine/resources/openstack/neutron/router.py', 'heat/engine/resources/openstack/magnum/cluster.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'heat/engine/properties.py', 'heat/engine/resources/openstack/manila/share.py', 'heat/engine/scheduler.py', 'heat/tests/test_hacking.py', 'heat/engine/resources/openstack/sahara/templates.py', 'heat/engine/resources/openstack/heat/structured_config.py', 'heat/engine/service.py', 'heat_integrationtests/scenario/test_server_software_config.py', 'heat/api/cloudwatch/watch.py', 'heat/engine/resources/openstack/designate/record.py', 'contrib/rackspace/rackspace/tests/test_cloud_loadbalancer.py', 'heat/tests/openstack/nova/test_floatingip.py', 'heat/engine/resources/openstack/nova/server.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resources/openstack/barbican/container.py', 'heat/engine/plugin_manager.py', 'heat/engine/dependencies.py', 'heat/tests/engine/test_plugin_manager.py', 'heat/engine/parameters.py', 'heat/db/sqlalchemy/filters.py', 'heat/engine/resources/openstack/aodh/alarm.py', 'heat/engine/stk_defn.py', 'heat/engine/resources/openstack/mistral/workflow.py', 'heat/engine/resources/openstack/senlin/cluster.py', 'heat/engine/conditions.py', 'heat/tests/engine/service/test_software_config.py', 'heat/common/wsgi.py', 'heat/engine/resources/aws/autoscaling/launch_config.py', 'heat/common/template_format.py', 'heat/engine/cfn/template.py', 'heat/engine/resources/openstack/magnum/bay.py', 'heat/engine/stack.py', 'heat/engine/function.py', 'tools/custom_guidelines.py', 'heat/tests/openstack/neutron/test_neutron_port.py', 'heat/engine/resources/openstack/designate/zone.py', 'heat/scaling/lbutils.py', 'contrib/heat_docker/heat_docker/resources/docker_container.py', 'heat/engine/template.py', 'heat/tests/test_properties.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/engine/resources/openstack/designate/recordset.py', 'heat/engine/hot/template.py', 'heat/api/openstack/v1/util.py', 'doc/source/ext/resources.py', 'heat/tests/test_resource.py', 'heat/engine/hot/functions.py', 'heat/engine/resources/openstack/barbican/order.py', 'heat/common/exception.py', 'contrib/rackspace/rackspace/resources/cloud_loadbalancer.py', 'heat/tests/openstack/neutron/test_neutron.py', 'heat/tests/generic_resource.py', 'heat/engine/resource.py', 'heat/engine/resources/openstack/designate/domain.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f34485426795ae4942a3c593c5df81b1e6530075', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the\nlink [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I83576f2bea64882404754353ad5eb91dc3d9dc25\n'}]",0,459226,f34485426795ae4942a3c593c5df81b1e6530075,5,2,2,17645,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using six.iteritems to achieve
iterators. We can use dict.items instead, as it will return iterators
in PY3 as well. And dict.items/keys will more readable.
2.In py2, the performance about list should be negligible, see the
link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: I83576f2bea64882404754353ad5eb91dc3d9dc25
",git fetch https://review.opendev.org/openstack/heat refs/changes/26/459226/2 && git format-patch -1 --stdout FETCH_HEAD,"['heat/engine/update.py', 'heat/tests/convergence/framework/engine_wrapper.py', 'heat/engine/environment.py', 'heat/engine/resources/openstack/neutron/router.py', 'heat/engine/resources/openstack/magnum/cluster.py', 'heat/tests/openstack/cinder/test_volume_utils.py', 'heat/engine/properties.py', 'heat/engine/resources/openstack/manila/share.py', 'heat/engine/scheduler.py', 'heat/tests/test_hacking.py', 'heat/engine/resources/openstack/sahara/templates.py', 'heat/engine/resources/openstack/heat/structured_config.py', 'heat/engine/service.py', 'heat_integrationtests/scenario/test_server_software_config.py', 'heat/api/cloudwatch/watch.py', 'heat/engine/resources/openstack/designate/record.py', 'contrib/rackspace/rackspace/tests/test_cloud_loadbalancer.py', 'heat/tests/openstack/nova/test_floatingip.py', 'heat/engine/resources/openstack/nova/server.py', 'heat/objects/resource.py', 'heat/db/sqlalchemy/api.py', 'heat/engine/resources/openstack/barbican/container.py', 'heat/engine/plugin_manager.py', 'heat/engine/dependencies.py', 'heat/tests/engine/test_plugin_manager.py', 'heat/engine/parameters.py', 'heat/db/sqlalchemy/filters.py', 'heat/engine/resources/openstack/aodh/alarm.py', 'heat/engine/stk_defn.py', 'heat/engine/resources/openstack/mistral/workflow.py', 'heat/engine/resources/openstack/senlin/cluster.py', 'heat/engine/conditions.py', 'heat/tests/engine/service/test_software_config.py', 'heat/common/wsgi.py', 'heat/engine/resources/aws/autoscaling/launch_config.py', 'heat/common/template_format.py', 'heat/engine/cfn/template.py', 'heat/engine/resources/openstack/magnum/bay.py', 'heat/engine/stack.py', 'heat/engine/function.py', 'tools/custom_guidelines.py', 'heat/tests/openstack/neutron/test_neutron_port.py', 'heat/engine/resources/openstack/designate/zone.py', 'heat/scaling/lbutils.py', 'contrib/heat_docker/heat_docker/resources/docker_container.py', 'heat/engine/template.py', 'heat/tests/test_properties.py', 'heat/engine/resources/openstack/cinder/volume.py', 'heat/engine/resources/openstack/designate/recordset.py', 'heat/engine/hot/template.py', 'heat/api/openstack/v1/util.py', 'doc/source/ext/resources.py', 'heat/tests/test_resource.py', 'heat/engine/hot/functions.py', 'heat/engine/resources/openstack/barbican/order.py', 'heat/common/exception.py', 'contrib/rackspace/rackspace/resources/cloud_loadbalancer.py', 'heat/tests/openstack/neutron/test_neutron.py', 'heat/tests/generic_resource.py', 'heat/engine/resource.py', 'heat/engine/resources/openstack/designate/domain.py']",61,20a617c7e3fa02a69baa32f1cccddfba772602d9,py3," args = dict((k, v) for k, v in self.properties.items() if v)","import six args = dict((k, v) for k, v in six.iteritems(self.properties) if v)",104,146
openstack%2Fironic~master~I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99,openstack/ironic,master,I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99,Validation before perform node deallocation,MERGED,2016-10-13 14:33:11.000000000,2017-04-24 14:18:47.000000000,2017-03-20 20:05:27.000000000,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 10239}, {'_account_id': 10917}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12356}, {'_account_id': 13295}, {'_account_id': 14525}, {'_account_id': 14629}, {'_account_id': 14675}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19072}, {'_account_id': 19339}, {'_account_id': 19686}, {'_account_id': 20035}, {'_account_id': 21775}]","[{'number': 1, 'created': '2016-10-13 14:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/00c9a6827678acfe38165c707b685665ff14628b', 'message': ""Adds validation before delete profile in oneview\n\nThis patch adds a validation to ensure a node is in use by\nironic before delete its server profile. Without this change\nif a server profile creation fails in oneview the driver\nwill delete a server profile that doesn't exists when\ntear_down and tear_down_cleaning, raising a ValueError.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\n""}, {'number': 2, 'created': '2016-12-15 21:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/999cb1d7976b942badec163445a3674ded8bcff0', 'message': ""Adds validation before delete profile in oneview\n\nThis patch adds a validation to ensure a node is in use by\nironic before delete its server profile. Without this change\nif a server profile creation fails in oneview the driver\nwill delete a server profile that doesn't exists when\ntear_down and tear_down_cleaning, raising a ValueError.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\n""}, {'number': 3, 'created': '2017-01-18 13:01:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eb5f2fe4f1c5a26582866929baf7b54d50880cf1', 'message': ""Adds validation before delete profile in oneview\n\nThis patch adds a validation to ensure a node is in use by\nironic before delete its server profile. Without this change\nif a server profile creation fails in oneview the driver\nwill delete a server profile that doesn't exists when\ntear_down and tear_down_cleaning, raising a ValueError.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\n""}, {'number': 4, 'created': '2017-01-18 18:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/edf7842a4d5456e10e2fdf7bdd1da2217706c288', 'message': ""Adds validation before delete profile in oneview\n\nThis patch adds a validation to ensure a node is in use by\nironic before delete its server profile. Without this change\nif a server profile creation fails in oneview the driver\nwill delete a server profile that doesn't exists when\ntear_down and tear_down_cleaning, raising a ValueError.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\n""}, {'number': 5, 'created': '2017-01-19 21:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/869458f314f137fc346f24b6eeaa1151c7435bdb', 'message': ""Adds validation before delete profile in oneview\n\nThis patch adds a validation to ensure a node is in use by\nironic before delete its server profile. Without this change\nif a server profile creation fails in oneview the driver\nwill delete a server profile that doesn't exists when\ntear_down and tear_down_cleaning, raising a ValueError.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\nCloses-Bug: #1657892\n""}, {'number': 6, 'created': '2017-01-24 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7e137d106f75dc964995b1d280d62a62fe5d6e72', 'message': 'Validation before perform node deallocation\n\nIntroduces a new validation to ensure the node deallocation\nprocess will only be performed to nodes that have Server\nProfile applied in OneView. When the allocation process\nfails, the machine will have no Server Profile applied in\nOneView and in ironic it will have no reference to any\nServer Profile. Under these conditions if the deallocation\nprocess be performed the driver will try to delete a\nnonexistent Server Profile in OneView, leaving the node\nin error state in ironic.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\nCloses-Bug: #1657892\n'}, {'number': 7, 'created': '2017-01-25 15:04:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa4f038e46588b1d6c84eae9f3b15d00c9c5047d', 'message': 'Validation before perform node deallocation\n\nIntroduces a new validation to ensure the node deallocation\nprocess will only be performed to nodes that have Server\nProfile applied in OneView. When the allocation process\nfails, the machine will have no Server Profile applied in\nOneView and in ironic it will have no reference to any\nServer Profile. Under these conditions if the deallocation\nprocess be performed the driver will try to delete a\nnonexistent Server Profile in OneView, leaving the node\nin error state in ironic.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\nCloses-Bug: #1657892\n'}, {'number': 8, 'created': '2017-01-31 20:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/303d6894cbd3fabe629e0c85e3c045a37dda5dcb', 'message': 'Validation before perform node deallocation\n\nIntroduces a new validation to ensure the node deallocation\nprocess will only be performed to nodes that have Server\nProfile applied in OneView. When the allocation process\nfails, the machine will have no Server Profile applied in\nOneView and in ironic it will have no reference to any\nServer Profile. Under these conditions if the deallocation\nprocess be performed the driver will try to delete a\nnonexistent Server Profile in OneView, leaving the node\nin error state in ironic.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\nCloses-Bug: #1657892\n'}, {'number': 9, 'created': '2017-02-06 19:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/df2d46695055ac25d66971cc24aae40ba09532c0', 'message': 'Validation before perform node deallocation\n\nIntroduces a new validation to ensure the node deallocation\nprocess will only be performed to nodes that have Server\nProfile applied in OneView. When the allocation process\nfails, the machine will have no Server Profile applied in\nOneView and in ironic it will have no reference to any\nServer Profile. Under these conditions if the deallocation\nprocess be performed the driver will try to delete a\nnonexistent Server Profile in OneView, leaving the node\nin error state in ironic.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\nCloses-Bug: #1657892\n'}, {'number': 10, 'created': '2017-02-13 15:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a859379e1358247535075553f94143ec1fd2b7ba', 'message': 'Validation before perform node deallocation\n\nIntroduces a new validation to ensure the node deallocation\nprocess will only be performed to nodes that have Server\nProfile applied in OneView. When the allocation process\nfails, the machine will have no Server Profile applied in\nOneView and in ironic it will have no reference to any\nServer Profile. Under these conditions if the deallocation\nprocess be performed the driver will try to delete a\nnonexistent Server Profile in OneView, leaving the node\nin error state in ironic.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\nCloses-Bug: #1657892\n'}, {'number': 11, 'created': '2017-03-07 14:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ab6f2e6380280b9b2a26f975002b99505f72106', 'message': 'Validation before perform node deallocation\n\nIntroduces a new validation to ensure the node deallocation\nprocess will only be performed to nodes that have Server\nProfile applied in OneView. When the allocation process\nfails, the machine will have no Server Profile applied in\nOneView and in ironic it will have no reference to any\nServer Profile. Under these conditions if the deallocation\nprocess be performed the driver will try to delete a\nnonexistent Server Profile in OneView, leaving the node\nin error state in ironic.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\nCloses-Bug: #1657892\n'}, {'number': 12, 'created': '2017-03-09 17:05:09.000000000', 'files': ['ironic/drivers/modules/oneview/deploy_utils.py', 'releasenotes/notes/fix-oneview-deallocate-server-8256e279af837e5d.yaml', 'ironic/drivers/modules/oneview/power.py', 'ironic/tests/unit/drivers/modules/oneview/test_power.py', 'ironic/tests/unit/drivers/modules/oneview/test_deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0b23a041f1111ad112d28619fa020173805edbbe', 'message': 'Validation before perform node deallocation\n\nIntroduces a new validation to ensure the node deallocation\nprocess will only be performed to nodes that have Server\nProfile applied in OneView. When the allocation process\nfails, the machine will have no Server Profile applied in\nOneView and in ironic it will have no reference to any\nServer Profile. Under these conditions if the deallocation\nprocess be performed the driver will try to delete a\nnonexistent Server Profile in OneView, leaving the node\nin error state in ironic.\n\nChange-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99\nCloses-Bug: #1657892\n'}]",55,386014,0b23a041f1111ad112d28619fa020173805edbbe,116,19,12,19072,,,0,"Validation before perform node deallocation

Introduces a new validation to ensure the node deallocation
process will only be performed to nodes that have Server
Profile applied in OneView. When the allocation process
fails, the machine will have no Server Profile applied in
OneView and in ironic it will have no reference to any
Server Profile. Under these conditions if the deallocation
process be performed the driver will try to delete a
nonexistent Server Profile in OneView, leaving the node
in error state in ironic.

Change-Id: I83cef7fafac4e22ebf5eb4fe83f6da26ec132c99
Closes-Bug: #1657892
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/386014/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/oneview/deploy_utils.py', 'ironic/tests/unit/drivers/modules/oneview/test_deploy_utils.py']",2,00c9a6827678acfe38165c707b685665ff14628b,fix-oneview-deallocate-server," sp_uri = '/rest/server-profiles/1234556789' fake_sh = oneview_models.ServerHardware() fake_sh.server_profile_uri = sp_uri ov_client = mock_get_ov_client.return_value ov_client.get_server_hardware_by_uuid.return_value = fake_sh sp_uri = '/rest/server-profiles/1234556789' fake_sh = oneview_models.ServerHardware() fake_sh.server_profile_uri = sp_uri ov_client = mock_get_ov_client.return_value ov_client.get_server_hardware_by_uuid.return_value = fake_sh @mock.patch.object(objects.Node, 'save') def test_deallocate_server_hardware_from_ironic_fail( self, mock_node_save, mock_get_ov_client ): """"""Test for case when server profile application fails. """""" ov_client = mock_get_ov_client.return_value fake_sh = oneview_models.ServerHardware() fake_sh.server_profile_uri = None ov_client.get_server_hardware_by_uuid.return_value = fake_sh mock_get_ov_client.return_value = ov_client with task_manager.acquire(self.context, self.node.uuid) as task: driver_info = task.node.driver_info driver_info['applied_server_profile_uri'] = '' task.node.driver_info = driver_info self.assertRaises( exception.OneViewError, deploy_utils.deallocate_server_hardware_from_ironic, task.node ) self.assertFalse(ov_client.delete_server_profile.called) self.assertTrue( 'applied_server_profile_uri' in task.node.driver_info )",,68,21
openstack%2Fcinder~master~I9d991c50b45ddae19cb50e7f4854f239d035e6ec,openstack/cinder,master,I9d991c50b45ddae19cb50e7f4854f239d035e6ec,Fix InvalidUUID warnings in unit tests (XIV),ABANDONED,2017-02-07 17:33:03.000000000,2017-04-24 14:16:16.000000000,,"[{'_account_id': 3}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10213}, {'_account_id': 10622}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15941}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 16941}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18827}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 20191}, {'_account_id': 21863}, {'_account_id': 21990}, {'_account_id': 22248}, {'_account_id': 23140}, {'_account_id': 23613}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}]","[{'number': 1, 'created': '2017-02-07 17:33:03.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0fb31fac5c49653a3a0fd174f7796613ec6d5e1', 'message': 'Fix InvalidUUID warnings in unit tests (XIV)\n\nRemove a chunk of new Invalid UUID warnings that\nappear when running unit tests.\n\nChange-Id: I9d991c50b45ddae19cb50e7f4854f239d035e6ec\n'}]",2,430380,d0fb31fac5c49653a3a0fd174f7796613ec6d5e1,36,33,1,4523,,,0,"Fix InvalidUUID warnings in unit tests (XIV)

Remove a chunk of new Invalid UUID warnings that
appear when running unit tests.

Change-Id: I9d991c50b45ddae19cb50e7f4854f239d035e6ec
",git fetch https://review.opendev.org/openstack/cinder refs/changes/80/430380/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py'],1,d0fb31fac5c49653a3a0fd174f7796613ec6d5e1,," CG_ID = '8ddf5d27-8667-4596-bc05-bbacf94239ef' CG_NAME = 'cg_8ddf5d27-8667-4596-bc05-bbacf94239ef' CGSNAPSHOT_ID = '27219042-6344-4b19-8f09-b42143b9f378' CGSNAPSHOT_NAME = 'cgs_27219042-6344-4b19-8f09-b42143b9f378' VOLUME_TYPE_ID = 'b85639ff-2944-42a2-8a3e-c8f115d47b15' 'id': CG_ID, 'volume_type_ids': [VOLUME_TYPE_ID], 'id': CGSNAPSHOT_ID, 'consistencygroup_id': CG_ID,TEST_HOST_NAME = 'host_name' TEST_CHAP_NAME = 'chap_name'REPLICA_USER = 'replicauser'REPLICA_POOL = 'replicapool' context=None, name=CG_NAME, id=CG_ID, volume_type_id=VOLUME_TYPE_ID, cg=CG_NAME, cg=CG_NAME, cg=CG_NAME, cg=CG_NAME) cg=CG_NAME) cg=CG_NAME) vol='WTF32', cg=CG_NAME) cg=CG_NAME, snap_group=CGSNAPSHOT_NAME) snap_group=CGSNAPSHOT_NAME)"," 'id': 'WTF32', 'volume_type_ids': ['WTF32'], 'id': 'WTF', 'consistencygroup_id': ""WTF32""TEST_HOST_NAME = 'WTF32' TEST_CHAP_NAME = 'WTF64'REPLICA_USER = 'WTF64'REPLICA_POOL = 'WTF64' context=None, name='WTF32', id='WTF32', volume_type_id='WTF32', cg='cg_WTF32', cg='cg_WTF32', cg='cg_WTF32', cg='cg_WTF32') cg='cg_WTF32') cg='cg_WTF32') vol='WTF32', cg='cg_WTF32') cg='cg_WTF32', snap_group='cgs_WTF') snap_group='cgs_WTF')",28,18
openstack%2Fdragonflow~master~I8a6a603bea463853d07379329684ca3d6a5dc16a,openstack/dragonflow,master,I8a6a603bea463853d07379329684ca3d6a5dc16a,Migrate QoS driver to new driver base,MERGED,2017-04-20 14:41:58.000000000,2017-04-24 14:15:50.000000000,2017-04-24 14:15:50.000000000,"[{'_account_id': 3}, {'_account_id': 6854}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 20229}, {'_account_id': 23458}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-04-20 14:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/01440926eb03b4c45a422f474dc5228426e8a113', 'message': 'Migrate QoS driver to new driver base\n\nChange-Id: I8a6a603bea463853d07379329684ca3d6a5dc16a\n'}, {'number': 2, 'created': '2017-04-20 14:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/5a0e323abe59431a3ab1cd64421252645c494bbf', 'message': 'Migrate QoS driver to new driver base\n\nCloses-Bug: #1683784\nChange-Id: I8a6a603bea463853d07379329684ca3d6a5dc16a\n'}, {'number': 3, 'created': '2017-04-20 14:48:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/b9518deda750113e6f094a52342beda4f4d0f27a', 'message': 'Migrate QoS driver to new driver base\n\nCloses-Bug: #1683784\nChange-Id: I8a6a603bea463853d07379329684ca3d6a5dc16a\n'}, {'number': 4, 'created': '2017-04-23 10:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/95c19520bd66d8557cca240e517762e44ffcf352', 'message': 'Migrate QoS driver to new driver base\n\nCloses-Bug: #1683784\nChange-Id: I8a6a603bea463853d07379329684ca3d6a5dc16a\n'}, {'number': 5, 'created': '2017-04-24 07:16:34.000000000', 'files': ['dragonflow/neutron/services/qos/notification_drivers/df_qos_notification_driver.py', 'doc/source/specs/port_qos.rst', 'dragonflow/neutron/services/qos/drivers/df_qos.py', 'dragonflow/neutron/services/qos/drivers/__init__.py', 'dragonflow/tests/unit/test_df_qos_driver.py', 'devstack/plugin.sh', 'dragonflow/neutron/ml2/mech_driver.py', 'dragonflow/tests/fullstack/test_portqos.py', 'setup.cfg', 'doc/source/manual_deployment.rst'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/63ab27f882a5ece9a227a911ae67b6e958e5ebdc', 'message': 'Migrate QoS driver to new driver base\n\nCloses-Bug: #1683784\nChange-Id: I8a6a603bea463853d07379329684ca3d6a5dc16a\n'}]",24,458535,63ab27f882a5ece9a227a911ae67b6e958e5ebdc,23,7,5,23766,,,0,"Migrate QoS driver to new driver base

Closes-Bug: #1683784
Change-Id: I8a6a603bea463853d07379329684ca3d6a5dc16a
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/35/458535/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/port_qos.rst', 'dragonflow/neutron/services/qos/drivers/df_qos.py', 'dragonflow/neutron/services/qos/drivers/__init__.py', 'dragonflow/tests/unit/test_df_qos_driver.py', 'devstack/plugin.sh', 'dragonflow/neutron/ml2/mech_driver.py', 'dragonflow/tests/fullstack/test_portqos.py', 'setup.cfg', 'doc/source/manual_deployment.rst']",9,01440926eb03b4c45a422f474dc5228426e8a113,bug/1683784,, [qos] notification_drivers = df_notification_driver ,52,68
openstack%2Ftripleo-heat-templates~master~Ib3eca5687285b280832d19b647c3b4aa3d9ac36d,openstack/tripleo-heat-templates,master,Ib3eca5687285b280832d19b647c3b4aa3d9ac36d,Remove no longer used environment files - older upgrade workflows,MERGED,2017-04-21 14:50:59.000000000,2017-04-24 14:06:49.000000000,2017-04-24 12:30:39.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6796}, {'_account_id': 6924}, {'_account_id': 10873}, {'_account_id': 20775}]","[{'number': 1, 'created': '2017-04-21 14:50:59.000000000', 'files': ['environments/major-upgrade-pacemaker-init.yaml', 'environments/major-upgrade-pacemaker-converge.yaml', 'environments/major-upgrade-aodh-migration.yaml', 'environments/major-upgrade-pacemaker.yaml', 'environments/major-upgrade-remove-sahara.yaml', 'environments/major-upgrade-ceilometer-wsgi-mitaka-newton.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61632a621b1ef0fc0e3d20080eb8a5ff05952bbe', 'message': 'Remove no longer used environment files - older upgrade workflows\n\nIn I7831d20eae6ab9668a919b451301fe669e2b1346 we removed some of\nthe old upgrades but left the environment files removed here.\n\nChange-Id: Ib3eca5687285b280832d19b647c3b4aa3d9ac36d\n'}]",0,458864,61632a621b1ef0fc0e3d20080eb8a5ff05952bbe,12,6,1,8449,,,0,"Remove no longer used environment files - older upgrade workflows

In I7831d20eae6ab9668a919b451301fe669e2b1346 we removed some of
the old upgrades but left the environment files removed here.

Change-Id: Ib3eca5687285b280832d19b647c3b4aa3d9ac36d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/458864/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/major-upgrade-pacemaker-init.yaml', 'environments/major-upgrade-pacemaker-converge.yaml', 'environments/major-upgrade-aodh-migration.yaml', 'environments/major-upgrade-pacemaker.yaml', 'environments/major-upgrade-remove-sahara.yaml', 'environments/major-upgrade-ceilometer-wsgi-mitaka-newton.yaml']",6,61632a621b1ef0fc0e3d20080eb8a5ff05952bbe,tidy_up_upgrades_env_files,,resource_registry: # This initiates the upgrades for ceilometer api to run under apache wsgi OS::TripleO::Tasks::UpdateWorkflow: ../extraconfig/tasks/major_upgrade_ceilometer_wsgi_mitaka_newton.yaml # no-op the rest OS::TripleO::PostDeploySteps: OS::Heat::None ,0,37
openstack%2Fdevstack~master~I10ba1d78ab8d7c02c545b1ff275b70487a91d348,openstack/devstack,master,I10ba1d78ab8d7c02c545b1ff275b70487a91d348,Fix uwsgi installation on Virtuozzo,ABANDONED,2017-04-23 17:36:45.000000000,2017-04-24 13:49:14.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 12408}, {'_account_id': 15847}, {'_account_id': 21284}]","[{'number': 1, 'created': '2017-04-23 17:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/1206a8727487ce86286856fc083c527597621211', 'message': 'Fix uwsgi installation on Virtuozzo\n\nAnd perhaps, made it working on Centos 7 and others.\nThe thing is, the default installation (buildconf/default.ini)\ndoesn\'t build ""python_plugin.so"", which is needed in keystone uwsgi config.\n\nChange-Id: I10ba1d78ab8d7c02c545b1ff275b70487a91d348\n'}, {'number': 2, 'created': '2017-04-23 18:00:46.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a9f2c2b8034dfd37ae141f3567964f15b55f8e3f', 'message': 'Fix uwsgi installation on Virtuozzo\n\nAnd perhaps, made it working on Centos 7 and others.\nThe thing is, the default installation (buildconf/default.ini)\ndoesn\'t build ""python_plugin.so"", which is needed in keystone uwsgi config.\n\nChange-Id: I10ba1d78ab8d7c02c545b1ff275b70487a91d348\n'}]",0,459122,a9f2c2b8034dfd37ae141f3567964f15b55f8e3f,7,6,2,13431,,,0,"Fix uwsgi installation on Virtuozzo

And perhaps, made it working on Centos 7 and others.
The thing is, the default installation (buildconf/default.ini)
doesn't build ""python_plugin.so"", which is needed in keystone uwsgi config.

Change-Id: I10ba1d78ab8d7c02c545b1ff275b70487a91d348
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/459122/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,1206a8727487ce86286856fc083c527597621211,," cd uwsgi* cat - <<EOF >buildconf/devstack.ini [uwsgi] main_plugin = python,gevent inherit = base bin_name = /usr/bin/uwsgi plugin_dir = /usr/lib/uwsgi plugins = python EOF sudo mkdir -p /var/lib/uwsgi sudo python uwsgiconfig.py --build devstack sudo $apxs -i -c apache2/mod_proxy_uwsgi.c", pip_install uwsgi cd uwsgi*/apache2 sudo $apxs -i -c mod_proxy_uwsgi.c,14,3
openstack%2Freleases~master~I00dd4b3551438502593ae7f69132771aecaa3427,openstack/releases,master,I00dd4b3551438502593ae7f69132771aecaa3427,Release Gnocchi 3.1.3,MERGED,2017-04-21 09:20:13.000000000,2017-04-24 13:46:57.000000000,2017-04-24 13:46:57.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-04-21 09:20:13.000000000', 'files': ['deliverables/_independent/gnocchi.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6e58bd3df0daaa0c617239b31a2341746fff72c1', 'message': 'Release Gnocchi 3.1.3\n\nChange-Id: I00dd4b3551438502593ae7f69132771aecaa3427\n'}]",0,458784,6e58bd3df0daaa0c617239b31a2341746fff72c1,6,2,1,1669,,,0,"Release Gnocchi 3.1.3

Change-Id: I00dd4b3551438502593ae7f69132771aecaa3427
",git fetch https://review.opendev.org/openstack/releases refs/changes/84/458784/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/gnocchi.yaml'],1,6e58bd3df0daaa0c617239b31a2341746fff72c1,jd/gnocchi31x, - version: 3.1.3 projects: - repo: openstack/gnocchi hash: 89c9170731de528015c10a3426ea53f188c99705,,4,0
openstack%2Freleases~master~I3367e6218f31c1422d8a97f527450d0f3fe0749d,openstack/releases,master,I3367e6218f31c1422d8a97f527450d0f3fe0749d,Release heat Mitaka 6.1.2,MERGED,2017-04-18 08:18:10.000000000,2017-04-24 13:43:01.000000000,2017-04-24 13:43:01.000000000,"[{'_account_id': 3}, {'_account_id': 1955}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-04-18 08:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/aa7d18f4f9f69f45f1968ce3de11585cdfb53f3e', 'message': 'Release heat Mitaka 6.2.0\n\nChange-Id: I3367e6218f31c1422d8a97f527450d0f3fe0749d\n'}, {'number': 2, 'created': '2017-04-20 09:23:04.000000000', 'files': ['deliverables/mitaka/heat.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/90c31fffe050cd658aecf0b07530e4293b6a94c5', 'message': 'Release heat Mitaka 6.1.2\n\nChange-Id: I3367e6218f31c1422d8a97f527450d0f3fe0749d\n'}]",1,457507,90c31fffe050cd658aecf0b07530e4293b6a94c5,11,3,2,12404,,,0,"Release heat Mitaka 6.1.2

Change-Id: I3367e6218f31c1422d8a97f527450d0f3fe0749d
",git fetch https://review.opendev.org/openstack/releases refs/changes/07/457507/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/mitaka/heat.yaml'],1,aa7d18f4f9f69f45f1968ce3de11585cdfb53f3e,release-heat-mitaka-6.1.2, - version: 6.2.0 projects: - repo: openstack/heat hash: 4da6f1a8f3f2c597031685e46f7eb7ada3c0a7ea,,4,0
openstack%2Freleases~master~Ie0e7672af53f74f75e189eda9ec696a07ec7208e,openstack/releases,master,Ie0e7672af53f74f75e189eda9ec696a07ec7208e,Release tripleo-common 7.0.0,MERGED,2017-04-20 20:07:21.000000000,2017-04-24 13:41:21.000000000,2017-04-24 13:41:20.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 3153}, {'_account_id': 4328}]","[{'number': 1, 'created': '2017-04-20 20:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/05033efa76bf0c50a2f743607180aae911af51f5', 'message': 'Release tripleo-common 7.0.0\n\nBecause tripleo-common is a library dependency, its cycle-trailing\nreleases need to be real releases instead of pre-releases. This 7.0.0\nis intended to be the first real release which aligns with milestone-1.\n\nChange-Id: Ie0e7672af53f74f75e189eda9ec696a07ec7208e\n'}, {'number': 2, 'created': '2017-04-20 22:08:52.000000000', 'files': ['deliverables/pike/tripleo-common.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c5569f9c217e9c335838b6b2566a67bb2b4d63f6', 'message': 'Release tripleo-common 7.0.0\n\nBecause tripleo-common is a library dependency, its cycle-trailing\nreleases need to be real releases instead of pre-releases. This 7.0.0\nis intended to be the first real release which aligns with milestone-1.\n\nChange-Id: Ie0e7672af53f74f75e189eda9ec696a07ec7208e\n'}]",0,458646,c5569f9c217e9c335838b6b2566a67bb2b4d63f6,9,4,2,4571,,,0,"Release tripleo-common 7.0.0

Because tripleo-common is a library dependency, its cycle-trailing
releases need to be real releases instead of pre-releases. This 7.0.0
is intended to be the first real release which aligns with milestone-1.

Change-Id: Ie0e7672af53f74f75e189eda9ec696a07ec7208e
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/458646/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/tripleo-common.yaml'],1,05033efa76bf0c50a2f743607180aae911af51f5,tripleo-common, - hash: 5d35b7d174bcdd5564f187551c18da01fee938d3 repo: openstack/tripleo-common version: 7.0.0,,3,0
openstack%2Fdevstack~stable%2Focata~I2e4c7051ae29cf30bdc1fbf940b165d5cb0e6385,openstack/devstack,stable/ocata,I2e4c7051ae29cf30bdc1fbf940b165d5cb0e6385,Adding placement-client to compute node local.conf for multinode setup,MERGED,2017-04-13 09:46:11.000000000,2017-04-24 13:40:28.000000000,2017-04-24 13:40:28.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 14571}]","[{'number': 1, 'created': '2017-04-13 09:46:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9a2dbd29fcf860bc0c3a81d85ce81c331ed5d36d', 'message': '\nAdding placment-client to compute node local.conf for multinode setup\n\nChange-Id: I2e4c7051ae29cf30bdc1fbf940b165d5cb0e6385\nCloses-Bug: #1682362\n'}, {'number': 2, 'created': '2017-04-13 09:48:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d5c4c637e5a9f60aa834f41ea9ddeff1fc04a889', 'message': '\nAdding placment-client to compute node local.conf for multinode setup\n\nChange-Id: I2e4c7051ae29cf30bdc1fbf940b165d5cb0e6385\nCloses-Bug: #1682362\n'}, {'number': 3, 'created': '2017-04-13 09:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/941035fdb7ff527aaa9eb6db4e524304d45a6a34', 'message': 'Adding placment-client to compute node local.conf for multinode setup\n\nChange-Id: I2e4c7051ae29cf30bdc1fbf940b165d5cb0e6385\nCloses-Bug: #1682362\n'}, {'number': 4, 'created': '2017-04-18 05:05:12.000000000', 'files': ['doc/source/guides/multinode-lab.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9b7cf0176bd74a9465c99372d7c25b41b6520531', 'message': 'Adding placement-client to compute node local.conf for multinode setup\n\nChange-Id: I2e4c7051ae29cf30bdc1fbf940b165d5cb0e6385\nCloses-Bug: #1682362\n'}]",0,456537,9b7cf0176bd74a9465c99372d7c25b41b6520531,13,3,4,22879,,,0,"Adding placement-client to compute node local.conf for multinode setup

Change-Id: I2e4c7051ae29cf30bdc1fbf940b165d5cb0e6385
Closes-Bug: #1682362
",git fetch https://review.opendev.org/openstack/devstack refs/changes/37/456537/4 && git format-patch -1 --stdout FETCH_HEAD,[],0,9a2dbd29fcf860bc0c3a81d85ce81c331ed5d36d,,,,0,0
openstack%2Freleases~master~I944eca15c8e4346badf34ac454122c4e09452108,openstack/releases,master,I944eca15c8e4346badf34ac454122c4e09452108,Release tosca-parser 0.8.1,MERGED,2017-04-22 16:25:31.000000000,2017-04-24 13:40:12.000000000,2017-04-24 13:40:12.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 6456}, {'_account_id': 20560}]","[{'number': 1, 'created': '2017-04-22 16:25:31.000000000', 'files': ['deliverables/pike/tosca-parser.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6290ac5bc4273669b600cb61e7ed27ee0a91d317', 'message': 'Release tosca-parser 0.8.1\n\nChange-Id: I944eca15c8e4346badf34ac454122c4e09452108\n'}]",0,459062,6290ac5bc4273669b600cb61e7ed27ee0a91d317,8,4,1,16511,,,0,"Release tosca-parser 0.8.1

Change-Id: I944eca15c8e4346badf34ac454122c4e09452108
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/459062/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/tosca-parser.yaml'],1,6290ac5bc4273669b600cb61e7ed27ee0a91d317,tosca-parser_0.8.1, - version: 0.8.1 projects: - repo: openstack/tosca-parser hash: 0b000ae4e81b28a09fc32c4f669c00c558611671,,4,0
openstack%2Ftempest~master~I2601433585740030ab61433f0e8ca1a919275d9f,openstack/tempest,master,I2601433585740030ab61433f0e8ca1a919275d9f,Always provision accounts with auth_version,MERGED,2017-04-20 14:39:04.000000000,2017-04-24 13:38:46.000000000,2017-04-24 13:38:46.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 2750}, {'_account_id': 5689}, {'_account_id': 10385}, {'_account_id': 12033}]","[{'number': 1, 'created': '2017-04-20 14:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7b2fa6734fdfb8be80134e0040b91ddafea73857', 'message': ""DNM Always provision accounts with auth_version\n\nThe config value identity.auth_version defines the identity API\nversion used for all common API tests, such as identity API calls\nperformed by non-identity tests, as well as provisioning of\ndynamic accounts, with the exception of identity tests.\n\nSince the v2 API is deprecated, we don't need to run v2 admin\ntests in the gate anymore. However v2 user APIs are most likely\nstill widely used by OpenStack users, and we should keep those\ntest runnings.\n\nRight now identity tests control which version of the identity\nAPI is used to allocate / provision test accounts by setting\nan identity_version class attribute.\n\nThis behaviour forces us to run an identity v2 admin endpoint\nonly to be able to provision accounts for identity v2 tests.\n\nThis commit changes the current behaviour to always provision\naccounts with the identity API version specified in\nCONF.identity.auth_version. When v3 is configured (which is\nthe case in all gate jobs), v3 credentials will be provisioned\nand then used for v2 non-admin tests.\n\nChange-Id: I2601433585740030ab61433f0e8ca1a919275d9f\n""}, {'number': 2, 'created': '2017-04-21 10:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/33443c6d09a33df025c7a9798c6ec6d8224ecbb5', 'message': ""DNM Always provision accounts with auth_version\n\nThe config value identity.auth_version defines the identity API\nversion used for all common API tests, such as identity API calls\nperformed by non-identity tests, as well as provisioning of\ndynamic accounts, with the exception of identity tests.\n\nSince the v2 API is deprecated, we don't need to run v2 admin\ntests in the gate anymore. However v2 user APIs are most likely\nstill widely used by OpenStack users, and we should keep those\ntest runnings.\n\nRight now identity tests control which version of the identity\nAPI is used to allocate / provision test accounts by setting\nan identity_version class attribute.\n\nThis behaviour forces us to run an identity v2 admin endpoint\nonly to be able to provision accounts for identity v2 tests.\n\nThis commit changes the current behaviour to always provision\naccounts with the identity API version specified in\nCONF.identity.auth_version. When v3 is configured (which is\nthe case in all gate jobs), v3 credentials will be provisioned\nand then used for v2 non-admin tests.\n\nDepends-on: I801e6740258ddea2a1b628a209970e0307d39d12\nChange-Id: I2601433585740030ab61433f0e8ca1a919275d9f\n""}, {'number': 3, 'created': '2017-04-21 13:20:59.000000000', 'files': ['tempest/test.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9e01dbbe40cff4c148ee6c7b4395f830aab162cd', 'message': ""Always provision accounts with auth_version\n\nThe config value identity.auth_version defines the identity API\nversion used for all common API tests, such as identity API calls\nperformed by non-identity tests, as well as provisioning of\ndynamic accounts, with the exception of identity tests.\n\nSince the v2 API is deprecated, we don't need to run v2 admin\ntests in the gate anymore. However v2 user APIs are most likely\nstill widely used by OpenStack users, and we should keep those\ntest runnings.\n\nRight now identity tests control which version of the identity\nAPI is used to allocate / provision test accounts by setting\nan identity_version class attribute.\n\nThis behaviour forces us to run an identity v2 admin endpoint\nonly to be able to provision accounts for identity v2 tests.\n\nThis commit changes the current behaviour to always provision\naccounts with the identity API version specified in\nCONF.identity.auth_version. When v3 is configured (which is\nthe case in all gate jobs), v3 credentials will be provisioned\nand then used for v2 non-admin tests.\n\nDepends-on: I801e6740258ddea2a1b628a209970e0307d39d12\nChange-Id: I2601433585740030ab61433f0e8ca1a919275d9f\n""}]",1,458533,9e01dbbe40cff4c148ee6c7b4395f830aab162cd,18,6,3,1921,,,0,"Always provision accounts with auth_version

The config value identity.auth_version defines the identity API
version used for all common API tests, such as identity API calls
performed by non-identity tests, as well as provisioning of
dynamic accounts, with the exception of identity tests.

Since the v2 API is deprecated, we don't need to run v2 admin
tests in the gate anymore. However v2 user APIs are most likely
still widely used by OpenStack users, and we should keep those
test runnings.

Right now identity tests control which version of the identity
API is used to allocate / provision test accounts by setting
an identity_version class attribute.

This behaviour forces us to run an identity v2 admin endpoint
only to be able to provision accounts for identity v2 tests.

This commit changes the current behaviour to always provision
accounts with the identity API version specified in
CONF.identity.auth_version. When v3 is configured (which is
the case in all gate jobs), v3 credentials will be provisioned
and then used for v2 non-admin tests.

Depends-on: I801e6740258ddea2a1b628a209970e0307d39d12
Change-Id: I2601433585740030ab61433f0e8ca1a919275d9f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/33/458533/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/test.py'],1,7b2fa6734fdfb8be80134e0040b91ddafea73857,fix_user_provision_api_version," It always use the configuration value from identity.auth_version, since we always want to provision accounts with the current version of the identity API. force_tenant_isolation=force_tenant_isolation)"," It uses self.identity_version if defined, or the configuration value force_tenant_isolation=force_tenant_isolation, identity_version=cls.get_identity_version())",4,3
openstack%2Freleases~master~I4b13649dee6cfdc7af44003b772783352e235d47,openstack/releases,master,I4b13649dee6cfdc7af44003b772783352e235d47,Release python-mistralclient 3.1.0,MERGED,2017-04-21 09:49:51.000000000,2017-04-24 13:32:05.000000000,2017-04-24 13:32:05.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-04-21 09:49:51.000000000', 'files': ['deliverables/pike/python-mistralclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/df8a93f3aff446076321b7974e6eceb802364f56', 'message': 'Release python-mistralclient 3.1.0\n\nChange-Id: I4b13649dee6cfdc7af44003b772783352e235d47\n'}]",0,458795,df8a93f3aff446076321b7974e6eceb802364f56,11,2,1,6732,,,0,"Release python-mistralclient 3.1.0

Change-Id: I4b13649dee6cfdc7af44003b772783352e235d47
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/458795/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/python-mistralclient.yaml'],1,df8a93f3aff446076321b7974e6eceb802364f56,mistralclient-3.1.0,releases: - version: 3.1.0 projects: - repo: openstack/python-mistralclient hash: 9e6ff999c16e9f6de8acf6f7d270e36cda932168 highlights: > - Fix region support in CLI. - Accept keystone session in client.,,8,0
openstack%2Fopenstack-ansible-os_cinder~stable%2Focata~If4a159259d7e1d19167b9bef51fa11bea7d8d333,openstack/openstack-ansible-os_cinder,stable/ocata,If4a159259d7e1d19167b9bef51fa11bea7d8d333,Only install git when developer_mode is enabled,MERGED,2017-04-24 09:51:47.000000000,2017-04-24 13:30:21.000000000,2017-04-24 13:30:21.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 2799}]","[{'number': 1, 'created': '2017-04-24 09:51:47.000000000', 'files': ['vars/redhat-7.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'tasks/cinder_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/69a4cc18a0215af906df947b45c0e8cf51ea9019', 'message': 'Only install git when developer_mode is enabled\n\nChange-Id: If4a159259d7e1d19167b9bef51fa11bea7d8d333\n(cherry picked from commit 28f537a91bbe90dd741c27cb54a818e7f1e1387b)\n'}]",0,459221,69a4cc18a0215af906df947b45c0e8cf51ea9019,7,3,1,6816,,,0,"Only install git when developer_mode is enabled

Change-Id: If4a159259d7e1d19167b9bef51fa11bea7d8d333
(cherry picked from commit 28f537a91bbe90dd741c27cb54a818e7f1e1387b)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/21/459221/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'tasks/cinder_install.yml']",4,69a4cc18a0215af906df947b45c0e8cf51ea9019,,"- name: Install distro packages for developer_mode installs package: name: ""{{ item }}"" state: ""{{ cinder_package_state }}"" register: install_packages until: install_packages|success retries: 5 delay: 2 with_items: ""{{ cinder_developer_mode_packages }}"" when: cinder_developer_mode | bool ",,13,2
openstack%2Freleases~master~Ifca7dc2e7e986e1042b68e9c3bebb532316da34f,openstack/releases,master,Ifca7dc2e7e986e1042b68e9c3bebb532316da34f,Release python-zunclient 0.2.0,MERGED,2017-04-24 04:02:13.000000000,2017-04-24 13:27:19.000000000,2017-04-24 13:27:19.000000000,"[{'_account_id': 3}, {'_account_id': 2472}]","[{'number': 1, 'created': '2017-04-24 04:02:13.000000000', 'files': ['deliverables/pike/python-zunclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f4bae7528a24de738ae33d7377a4c4580a1bb90c', 'message': 'Release python-zunclient 0.2.0\n\nChange-Id: Ifca7dc2e7e986e1042b68e9c3bebb532316da34f\n'}]",0,459160,f4bae7528a24de738ae33d7377a4c4580a1bb90c,6,2,1,11536,,,0,"Release python-zunclient 0.2.0

Change-Id: Ifca7dc2e7e986e1042b68e9c3bebb532316da34f
",git fetch https://review.opendev.org/openstack/releases refs/changes/60/459160/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/pike/python-zunclient.yaml'],1,f4bae7528a24de738ae33d7377a4c4580a1bb90c,,releases: - version: 0.2.0 projects: - repo: openstack/python-zunclient hash: fa61ba016e95d22d71eca565c32f4a4d8bdb7d22,,5,0
openstack%2Fshade~master~Id901c307f1e11e2da48e41b29c363870d4c61bdf,openstack/shade,master,Id901c307f1e11e2da48e41b29c363870d4c61bdf,Fix list_servers tests to not need a ton of neutron,MERGED,2017-04-23 20:01:11.000000000,2017-04-24 13:22:13.000000000,2017-04-24 13:22:13.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6488}, {'_account_id': 6554}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-04-23 20:01:11.000000000', 'files': ['shade/tests/unit/test_shade.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/cee8b6c56440819d5f14ce947cfc511d4f83021d', 'message': 'Fix list_servers tests to not need a ton of neutron\n\nIt was fixed for rebuild/create servers in\nIa877232b8dc167a8414f1601ea82708ff5aa2be9\nbut same issue was also in test_list_servers_all_projects\nand this commit fixes it for this test.\n\nChange-Id: Id901c307f1e11e2da48e41b29c363870d4c61bdf\n'}]",0,459126,cee8b6c56440819d5f14ce947cfc511d4f83021d,6,15,1,11975,,,0,"Fix list_servers tests to not need a ton of neutron

It was fixed for rebuild/create servers in
Ia877232b8dc167a8414f1601ea82708ff5aa2be9
but same issue was also in test_list_servers_all_projects
and this commit fixes it for this test.

Change-Id: Id901c307f1e11e2da48e41b29c363870d4c61bdf
",git fetch https://review.opendev.org/openstack/shade refs/changes/26/459126/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/tests/unit/test_shade.py'],1,cee8b6c56440819d5f14ce947cfc511d4f83021d,fix_list_servers_tests_to_not_use_neutron," def setUp(self): # This set of tests are not testing neutron, they're testing # rebuilding servers, but we do several network calls in service # of a NORMAL rebuild to find the default_network. Putting # in all of the neutron mocks for that will make the tests harder # to read. SO - we're going mock neutron into the off position # and then turn it back on in the few tests that specifically do. # Maybe we should reorg these into two classes - one with neutron # mocked out - and one with it not mocked out super(TestShade, self).setUp() self.has_neutron = False def fake_has_service(*args, **kwargs): return self.has_neutron self.cloud.has_service = fake_has_service ",,17,0
openstack%2Fshade~master~Id026ba11d4ea26dc94fb3670ec93ab2f46813236,openstack/shade,master,Id026ba11d4ea26dc94fb3670ec93ab2f46813236,Move subnet related tests to separate module,MERGED,2017-04-23 20:10:51.000000000,2017-04-24 13:22:06.000000000,2017-04-24 13:22:06.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6488}, {'_account_id': 6554}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-04-23 20:10:51.000000000', 'files': ['shade/tests/unit/test_shade.py', 'shade/tests/unit/test_subnet.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/65c350f7847ded8cc98b6a5993d07d53ce11f53f', 'message': 'Move subnet related tests to separate module\n\nAll subnet tests were in common test_shade.py file.\nNow all those tests will be in separate test module,\nlike it is already done for network related tests.\n\nChange-Id: Id026ba11d4ea26dc94fb3670ec93ab2f46813236\n'}]",0,459127,65c350f7847ded8cc98b6a5993d07d53ce11f53f,6,15,1,11975,,,0,"Move subnet related tests to separate module

All subnet tests were in common test_shade.py file.
Now all those tests will be in separate test module,
like it is already done for network related tests.

Change-Id: Id026ba11d4ea26dc94fb3670ec93ab2f46813236
",git fetch https://review.opendev.org/openstack/shade refs/changes/27/459127/1 && git format-patch -1 --stdout FETCH_HEAD,"['shade/tests/unit/test_shade.py', 'shade/tests/unit/test_subnet.py']",2,65c350f7847ded8cc98b6a5993d07d53ce11f53f,move_subnet_tests_to_separate_module,"# Copyright 2017 OVH SAS # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the 'License'); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import mock import testtools import shade from shade import exc from shade.tests.unit import base class TestSubnet(base.RequestsMockTestCase): @mock.patch.object(shade.OpenStackCloud, 'search_subnets') def test_get_subnet(self, mock_search): subnet = dict(id='123', name='mickey') mock_search.return_value = [subnet] r = self.cloud.get_subnet('mickey') self.assertIsNotNone(r) self.assertDictEqual(subnet, r) @mock.patch.object(shade.OpenStackCloud, 'search_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet(self, mock_client, mock_search): net1 = dict(id='123', name='donald') mock_search.return_value = [net1] pool = [{'start': '192.168.199.2', 'end': '192.168.199.254'}] dns = ['8.8.8.8'] routes = [{""destination"": ""0.0.0.0/0"", ""nexthop"": ""123.456.78.9""}] self.cloud.create_subnet('donald', '192.168.199.0/24', allocation_pools=pool, dns_nameservers=dns, host_routes=routes) self.assertTrue(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet_string_ip_version(self, mock_client, mock_search): '''Allow ip_version as a string''' net1 = dict(id='123', name='donald') mock_search.return_value = [net1] self.cloud.create_subnet('donald', '192.168.199.0/24', ip_version='4') self.assertTrue(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_networks') def test_create_subnet_bad_ip_version(self, mock_search): '''String ip_versions must be convertable to int''' net1 = dict(id='123', name='donald') mock_search.return_value = [net1] with testtools.ExpectedException( exc.OpenStackCloudException, ""ip_version must be an integer"" ): self.cloud.create_subnet('donald', '192.168.199.0/24', ip_version='4x') @mock.patch.object(shade.OpenStackCloud, 'search_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet_without_gateway_ip(self, mock_client, mock_search): net1 = dict(id='123', name='donald') mock_search.return_value = [net1] pool = [{'start': '192.168.200.2', 'end': '192.168.200.254'}] dns = ['8.8.8.8'] self.cloud.create_subnet('kooky', '192.168.200.0/24', allocation_pools=pool, dns_nameservers=dns, disable_gateway_ip=True) self.assertTrue(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet_with_gateway_ip(self, mock_client, mock_search): net1 = dict(id='123', name='donald') mock_search.return_value = [net1] pool = [{'start': '192.168.200.8', 'end': '192.168.200.254'}] dns = ['8.8.8.8'] gateway = '192.168.200.2' self.cloud.create_subnet('kooky', '192.168.200.0/24', allocation_pools=pool, dns_nameservers=dns, gateway_ip=gateway) self.assertTrue(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_networks') def test_create_subnet_conflict_gw_ops(self, mock_search): net1 = dict(id='123', name='donald') mock_search.return_value = [net1] gateway = '192.168.200.3' self.assertRaises(exc.OpenStackCloudException, self.cloud.create_subnet, 'kooky', '192.168.200.0/24', gateway_ip=gateway, disable_gateway_ip=True) @mock.patch.object(shade.OpenStackCloud, 'list_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet_bad_network(self, mock_client, mock_list): net1 = dict(id='123', name='donald') mock_list.return_value = [net1] self.assertRaises(exc.OpenStackCloudException, self.cloud.create_subnet, 'duck', '192.168.199.0/24') self.assertFalse(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_networks') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_create_subnet_non_unique_network(self, mock_client, mock_search): net1 = dict(id='123', name='donald') net2 = dict(id='456', name='donald') mock_search.return_value = [net1, net2] self.assertRaises(exc.OpenStackCloudException, self.cloud.create_subnet, 'donald', '192.168.199.0/24') self.assertFalse(mock_client.create_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_subnets') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_subnet(self, mock_client, mock_search): subnet1 = dict(id='123', name='mickey') mock_search.return_value = [subnet1] self.cloud.delete_subnet('mickey') self.assertTrue(mock_client.delete_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'search_subnets') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_subnet_not_found(self, mock_client, mock_search): mock_search.return_value = [] r = self.cloud.delete_subnet('goofy') self.assertFalse(r) self.assertFalse(mock_client.delete_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_subnet_multiple_found(self, mock_client): subnet1 = dict(id='123', name='mickey') subnet2 = dict(id='456', name='mickey') mock_client.list_subnets.return_value = dict(subnets=[subnet1, subnet2]) self.assertRaises(exc.OpenStackCloudException, self.cloud.delete_subnet, 'mickey') self.assertFalse(mock_client.delete_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_subnet_multiple_using_id(self, mock_client): subnet1 = dict(id='123', name='mickey') subnet2 = dict(id='456', name='mickey') mock_client.list_subnets.return_value = dict(subnets=[subnet1, subnet2]) self.cloud.delete_subnet('123') self.assertTrue(mock_client.delete_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'get_subnet') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_update_subnet(self, mock_client, mock_get): subnet1 = dict(id='123', name='mickey') mock_get.return_value = subnet1 self.cloud.update_subnet('123', subnet_name='goofy') self.assertTrue(mock_client.update_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'get_subnet') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_update_subnet_gateway_ip(self, mock_client, mock_get): subnet1 = dict(id='456', name='kooky') mock_get.return_value = subnet1 gateway = '192.168.200.3' self.cloud.update_subnet( '456', gateway_ip=gateway) self.assertTrue(mock_client.update_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'get_subnet') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_update_subnet_disable_gateway_ip(self, mock_client, mock_get): subnet1 = dict(id='456', name='kooky') mock_get.return_value = subnet1 self.cloud.update_subnet( '456', disable_gateway_ip=True) self.assertTrue(mock_client.update_subnet.called) @mock.patch.object(shade.OpenStackCloud, 'get_subnet') def test_update_subnet_conflict_gw_ops(self, mock_get): subnet1 = dict(id='456', name='kooky') mock_get.return_value = subnet1 gateway = '192.168.200.3' self.assertRaises(exc.OpenStackCloudException, self.cloud.update_subnet, '456', gateway_ip=gateway, disable_gateway_ip=True) ",,198,174
openstack%2Ftripleo-heat-templates~master~I0328406607d451e6bdce4d92c441c03648925fa7,openstack/tripleo-heat-templates,master,I0328406607d451e6bdce4d92c441c03648925fa7,Don't attempt to configure live migration,MERGED,2017-04-20 09:37:05.000000000,2017-04-24 13:12:00.000000000,2017-04-24 13:12:00.000000000,"[{'_account_id': 3}, {'_account_id': 8042}, {'_account_id': 8449}, {'_account_id': 10873}, {'_account_id': 13039}, {'_account_id': 23811}]","[{'number': 1, 'created': '2017-04-20 09:37:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ceecfb57f99e74391f88e7e5e503cc197d1f3ed8', 'message': ""Don't attempt to configure libvirt when not needed\n\nWhen configuring nova containers via puppet, we include a class for live\nmigration, which configures live migration aspects in nova and\nlibvirt.\n\nSome of the libvirt config parts try to notify Service[libvirt], but\nthat service definition is only included in nova-libvirt service, it's\nnot included in the control plane nova services. As a result\nconfiguration of nova control plane services failed, and in turn the\nwhole deployment failed.\n\nThis commit disables the libvirt part of live migration config for nova\nservices that don't include libvirt service. We only keep the part that\nconfigures nova services in those.\n\nChange-Id: I0328406607d451e6bdce4d92c441c03648925fa7\nCloses-Bug: #1684107\n""}, {'number': 2, 'created': '2017-04-21 09:16:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d99b8bb59cbc438f6d50d93041fe7d0fe79a88c', 'message': ""Don't attempt to configure libvirt when not needed\n\nWhen configuring nova containers via puppet, we include a class for live\nmigration, which configures live migration aspects in nova and\nlibvirt.\n\nSome of the libvirt config parts try to notify Service[libvirt], but\nthat service definition is only included in nova-libvirt service, it's\nnot included in the control plane nova services. As a result\nconfiguration of nova control plane services failed, and in turn the\nwhole deployment failed.\n\nThis commit disables the libvirt part of live migration config for nova\nservices that don't include libvirt service. We only keep the part that\nconfigures nova services in those.\n\nChange-Id: I0328406607d451e6bdce4d92c441c03648925fa7\nCloses-Bug: #1684107\n""}, {'number': 3, 'created': '2017-04-21 12:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1883c375e0ebfe2d4eaafd2e171f2eb9fda796c0', 'message': ""Don't attempt to configure live migration\n\nWhen configuring nova containers via puppet, the puppet class chain\nincludes a class for live migration, which configures live migration\naspects in nova and libvirt.\n\nSome of the libvirt config parts try to notify Service[libvirt], but\nthat service definition is only included in nova-libvirt service, it's\nnot included in the control plan nova services. However, our hieradata\nis currently global on the node, it's not per-service, which means even\nthough only nova-libvirt service sets\n\n  tripleo::profile::base::nova::libvirt_enabled: true\n\nthis hiera setting is applied to all containers running puppet, most\nnotably the ones which configure nova control plane services. As a\nresult, configuration of nova control plane services failed, and in turn\nthe whole deployment failed.\n\nThis commit disables the libvirt part of live migration config until we\nimplement some better solution (e.g. hieradata separation between\ndifferent puppet containers, or move the libvirt config parts only to\nnova-compute manifests in puppet-tripleo).\n\nChange-Id: I0328406607d451e6bdce4d92c441c03648925fa7\nCloses-Bug: #1684107\n""}, {'number': 4, 'created': '2017-04-21 13:25:29.000000000', 'files': ['docker/services/nova-libvirt.yaml', 'docker/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c171167f6e6d00b2426e5242d4a3227bb42d0e6', 'message': ""Don't attempt to configure live migration\n\nWhen configuring nova containers via puppet, the puppet class chain\nincludes a class for live migration, which configures live migration\naspects in nova and libvirt.\n\nSome of the libvirt config parts try to notify Service[libvirt], but\nthat service definition is only included in nova-libvirt service, it's\nnot included in the control plan nova services. However, our hieradata\nis currently global on the node, it's not per-service, which means even\nthough only nova-compute and nova-libvirt service set\n\n  tripleo::profile::base::nova::manage_migration: true\n\nthis hiera setting is applied to all containers running puppet, most\nnotably the ones which configure nova control plane services. As a\nresult, configuration of nova control plane services failed, and in turn\nthe whole deployment failed.\n\nThis commit disables the libvirt part of live migration config until we\nimplement some better solution (e.g. hieradata separation between\ndifferent puppet containers, or move the libvirt config parts only to\nnova-compute manifests in puppet-tripleo).\n\nChange-Id: I0328406607d451e6bdce4d92c441c03648925fa7\nCloses-Bug: #1684107\n""}]",4,458414,8c171167f6e6d00b2426e5242d4a3227bb42d0e6,26,6,4,8042,,,0,"Don't attempt to configure live migration

When configuring nova containers via puppet, the puppet class chain
includes a class for live migration, which configures live migration
aspects in nova and libvirt.

Some of the libvirt config parts try to notify Service[libvirt], but
that service definition is only included in nova-libvirt service, it's
not included in the control plan nova services. However, our hieradata
is currently global on the node, it's not per-service, which means even
though only nova-compute and nova-libvirt service set

  tripleo::profile::base::nova::manage_migration: true

this hiera setting is applied to all containers running puppet, most
notably the ones which configure nova control plane services. As a
result, configuration of nova control plane services failed, and in turn
the whole deployment failed.

This commit disables the libvirt part of live migration config until we
implement some better solution (e.g. hieradata separation between
different puppet containers, or move the libvirt config parts only to
nova-compute manifests in puppet-tripleo).

Change-Id: I0328406607d451e6bdce4d92c441c03648925fa7
Closes-Bug: #1684107
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/458414/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/nova-ironic.yaml', 'docker/services/nova-placement.yaml', 'docker/services/nova-scheduler.yaml', 'docker/services/nova-api.yaml', 'docker/services/nova-conductor.yaml']",5,ceecfb57f99e74391f88e7e5e503cc197d1f3ed8,bug/1684107," config_settings: map_merge: - get_attr: [NovaConductorBase, role_data, config_settings] - nova::migration::libvirt::configure_libvirt: false"," config_settings: {get_attr: [NovaConductorBase, role_data, config_settings]}",14,3
openstack%2Ftripleo-ci~master~I3eb2a18b9a140595cdf99c28684bf45de4d4eae1,openstack/tripleo-ci,master,I3eb2a18b9a140595cdf99c28684bf45de4d4eae1,logs: chmod 755 all workspace directories,MERGED,2017-04-21 15:49:13.000000000,2017-04-24 13:11:54.000000000,2017-04-24 13:11:53.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 8449}]","[{'number': 1, 'created': '2017-04-21 15:49:13.000000000', 'files': ['scripts/common_functions.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/cde23b9d3e359dcd292cf1c1806c3d155a5a3230', 'message': 'logs: chmod 755 all workspace directories\n\n... so zuul can remove them after a job has run.\nSome cases like Sensu has files in /etc/sensu owned by root, with 444\npermission, so zuul fails to delete them.\n\nChange-Id: I3eb2a18b9a140595cdf99c28684bf45de4d4eae1\n'}]",0,458895,cde23b9d3e359dcd292cf1c1806c3d155a5a3230,10,4,1,3153,,,0,"logs: chmod 755 all workspace directories

... so zuul can remove them after a job has run.
Some cases like Sensu has files in /etc/sensu owned by root, with 444
permission, so zuul fails to delete them.

Change-Id: I3eb2a18b9a140595cdf99c28684bf45de4d4eae1
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/95/458895/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/common_functions.sh'],1,cde23b9d3e359dcd292cf1c1806c3d155a5a3230,sensu, sudo find $WORKSPACE -type d -exec chmod 755 {} \;,,1,0
openstack%2Fec2-api~master~I0c19a2f76112cc9e915a79bac73136149a262f7f,openstack/ec2-api,master,I0c19a2f76112cc9e915a79bac73136149a262f7f,Include private flavors when listing flavors,NEW,2017-03-14 03:07:36.000000000,2017-04-24 13:07:44.000000000,,"[{'_account_id': 3}, {'_account_id': 3031}, {'_account_id': 10224}, {'_account_id': 10234}]","[{'number': 1, 'created': '2017-03-14 03:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/2cd163d8a101e860859eeb181aae329036c427c4', 'message': ""Include private flavors when listing flavors\n\nPreviously private flavor IDs would resolve to 'unknown' due\nto the client only asking for public flavors.\n\nChange-Id: I0c19a2f76112cc9e915a79bac73136149a262f7f\nCloses-bug: #1672592\n""}, {'number': 2, 'created': '2017-04-19 14:00:30.000000000', 'files': ['ec2api/api/instance.py'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/69f7fe086e930665c95dbb760b8ab21533676a2b', 'message': ""Include private flavors when listing flavors\n\nPreviously private flavor IDs would resolve to 'unknown' due\nto the client only asking for public flavors.\n\nChange-Id: I0c19a2f76112cc9e915a79bac73136149a262f7f\nCloses-bug: #1672592\n""}]",2,445278,69f7fe086e930665c95dbb760b8ab21533676a2b,9,4,2,3031,,,0,"Include private flavors when listing flavors

Previously private flavor IDs would resolve to 'unknown' due
to the client only asking for public flavors.

Change-Id: I0c19a2f76112cc9e915a79bac73136149a262f7f
Closes-bug: #1672592
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/78/445278/1 && git format-patch -1 --stdout FETCH_HEAD,['ec2api/api/instance.py'],1,2cd163d8a101e860859eeb181aae329036c427c4,bug/1672592, os_flavors = clients.nova(context).flavors.list(is_public=None) os_flavor = next(f for f in nova.flavors.list(is_public=None), os_flavors = clients.nova(context).flavors.list() os_flavor = next(f for f in nova.flavors.list(),2,2
openstack%2Fdebtcollector~stable%2Focata~I759b2a71a82e1bc5ffb926bd75f68c83ef5143b1,openstack/debtcollector,stable/ocata,I759b2a71a82e1bc5ffb926bd75f68c83ef5143b1,Updated from global requirements,ABANDONED,2017-03-09 18:12:41.000000000,2017-04-24 13:04:45.000000000,,"[{'_account_id': 3}, {'_account_id': 9796}]","[{'number': 1, 'created': '2017-03-09 18:12:41.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/4fff13aedd1f623b6f75dc0d06520b0605374015', 'message': 'Updated from global requirements\n\nChange-Id: I759b2a71a82e1bc5ffb926bd75f68c83ef5143b1\n'}]",0,443788,4fff13aedd1f623b6f75dc0d06520b0605374015,5,2,1,11131,,,0,"Updated from global requirements

Change-Id: I759b2a71a82e1bc5ffb926bd75f68c83ef5143b1
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/88/443788/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4fff13aedd1f623b6f75dc0d06520b0605374015,openstack/requirements,"pbr<2.0.0,>=1.8 # Apache-2.0",pbr>=1.8 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~master~I69b923dd76a60e9ec786cae886c137ba572ec906,openstack/tripleo-heat-templates,master,I69b923dd76a60e9ec786cae886c137ba572ec906,Run Zaqar with httpd in puppet service,MERGED,2017-03-21 09:02:20.000000000,2017-04-24 13:02:34.000000000,2017-04-24 13:02:34.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 7144}, {'_account_id': 7385}, {'_account_id': 10873}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-03-21 09:02:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf134ac83ecd2d08f7353f766b13ddb77207d96e', 'message': 'Run Zaqar with httpd in puppet service\n\nThis switches Zaqar to run with httpd when configured by puppet.\n\nChange-Id: I69b923dd76a60e9ec786cae886c137ba572ec906\n'}, {'number': 2, 'created': '2017-04-10 12:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a9158d24f48a75d38d49cd9b7033f8e4ac20093b', 'message': 'Run Zaqar with httpd in puppet service\n\nThis switches Zaqar to run with httpd when configured by puppet.\n\nChange-Id: I69b923dd76a60e9ec786cae886c137ba572ec906\n'}, {'number': 3, 'created': '2017-04-10 12:02:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e8f044e19919a22558eeaecd01f661a72d89fa12', 'message': 'Run Zaqar with httpd in puppet service\n\nThis switches Zaqar to run with httpd when configured by puppet.\n\nDepends-On: Ib52144e5877d9293057713d6bdca557724baad5c\nChange-Id: I69b923dd76a60e9ec786cae886c137ba572ec906\n'}, {'number': 4, 'created': '2017-04-20 08:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33a00714857d3bbd0a7d42fa3efe7a6949751155', 'message': 'Run Zaqar with httpd in puppet service\n\nThis switches Zaqar to run with httpd when configured by puppet.\n\nChange-Id: I69b923dd76a60e9ec786cae886c137ba572ec906\n'}, {'number': 5, 'created': '2017-04-20 08:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8846fcd3510c3bfcfee73274422ac2823c901526', 'message': 'Run Zaqar with httpd in puppet service\n\nThis switches Zaqar to run with httpd when configured by puppet.\n\nChange-Id: I69b923dd76a60e9ec786cae886c137ba572ec906\n'}, {'number': 6, 'created': '2017-04-20 11:01:45.000000000', 'files': ['puppet/services/zaqar.yaml', 'releasenotes/notes/zaqar-httpd-e7d91bf396da28d0.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5412dc936f65c7e77bd655da306e2a78782e9a7d', 'message': 'Run Zaqar with httpd in puppet service\n\nThis switches Zaqar to run with httpd when configured by puppet.\n\nChange-Id: I69b923dd76a60e9ec786cae886c137ba572ec906\n'}]",5,447963,5412dc936f65c7e77bd655da306e2a78782e9a7d,35,7,6,7385,,,0,"Run Zaqar with httpd in puppet service

This switches Zaqar to run with httpd when configured by puppet.

Change-Id: I69b923dd76a60e9ec786cae886c137ba572ec906
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/447963/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/zaqar.yaml'],1,cf134ac83ecd2d08f7353f766b13ddb77207d96e,zaqar-httpd,"resources: ApacheServiceBase: type: ./apache.yaml properties: ServiceNetMap: {get_param: ServiceNetMap} DefaultPasswords: {get_param: DefaultPasswords} EndpointMap: {get_param: EndpointMap} map_merge: - get_attr: [ApacheServiceBase, role_data, config_settings] - zaqar::server::service_name: 'httpd' zaqar::keystone::authtoken::password: {get_param: ZaqarPassword} zaqar::keystone::authtoken::project_name: 'service' zaqar::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} zaqar::keystone::authtoken::auth_uri: {get_param: [EndpointMap, KeystoneInternal, uri]} zaqar::debug: {get_param: Debug} zaqar::transport::websocket::bind: {get_param: [EndpointMap, ZaqarInternal, host]} zaqar::transport::wsgi::bind: {get_param: [ServiceNetMap, ZaqarApiNetwork]} zaqar::message_pipeline: 'zaqar.notification.notifier' zaqar::unreliable: true - name: Check for zaqar running under apache (post upgrade) tags: step1 shell: ""httpd -t -D DUMP_VHOSTS | grep -q zaqar_wsgi"" register: zaqar_apache ignore_errors: true - name: Stop zaqar service (running under httpd) tags: step1 service: name=httpd state=stopped when: zaqar_apache.rc == 0 - name: Stop and disable zaqar service (pre-upgrade not under httpd) service: name=openstack-zaqar state=stopped enabled=no"," zaqar::keystone::authtoken::password: {get_param: ZaqarPassword} zaqar::keystone::authtoken::project_name: 'service' zaqar::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]} zaqar::keystone::authtoken::auth_uri: {get_param: [EndpointMap, KeystoneInternal, uri]} zaqar::debug: {get_param: Debug} zaqar::transport::websocket::bind: {get_param: [EndpointMap, ZaqarInternal, host]} zaqar::transport::wsgi::bind: {get_param: [ServiceNetMap, ZaqarApiNetwork]} zaqar::message_pipeline: 'zaqar.notification.notifier' zaqar::unreliable: true - name: Stop zaqar service service: name=openstack-zaqar state=stopped",31,11
openstack%2Fpuppet-ironic~master~I65e65c2e04f6772910e4ef7460254c3dafc9b481,openstack/puppet-ironic,master,I65e65c2e04f6772910e4ef7460254c3dafc9b481,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:01.000000000,2017-04-24 12:59:22.000000000,2017-04-24 09:55:02.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:01.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3559d1940c1eaa827cb30ec14cb20d0ddd1dc0de', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I65e65c2e04f6772910e4ef7460254c3dafc9b481\n'}]",0,458999,3559d1940c1eaa827cb30ec14cb20d0ddd1dc0de,13,4,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I65e65c2e04f6772910e4ef7460254c3dafc9b481
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/99/458999/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,3559d1940c1eaa827cb30ec14cb20d0ddd1dc0de,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-nova~master~I456a305e0bf32c61c80481ab7f6d4a599e08010c,openstack/puppet-nova,master,I456a305e0bf32c61c80481ab7f6d4a599e08010c,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:42.000000000,2017-04-24 12:57:43.000000000,2017-04-24 09:54:48.000000000,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:42.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4d73aec3751c336c6be3cfa972a3a29218659216', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I456a305e0bf32c61c80481ab7f6d4a599e08010c\n'}]",0,459006,4d73aec3751c336c6be3cfa972a3a29218659216,13,4,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I456a305e0bf32c61c80481ab7f6d4a599e08010c
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/06/459006/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,4d73aec3751c336c6be3cfa972a3a29218659216,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',8,8
openstack%2Fkuryr-kubernetes~master~Idf5c9ceaeac924babb547d1dabc220f3509565d0,openstack/kuryr-kubernetes,master,Idf5c9ceaeac924babb547d1dabc220f3509565d0,Updated from global requirements,MERGED,2017-04-12 04:13:31.000000000,2017-04-24 12:43:07.000000000,2017-04-24 12:43:07.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 21273}]","[{'number': 1, 'created': '2017-04-12 04:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2d1cf020ee134fa1b7a1dfdadf5cb7b0d6c832a3', 'message': 'Updated from global requirements\n\nChange-Id: Idf5c9ceaeac924babb547d1dabc220f3509565d0\n'}, {'number': 2, 'created': '2017-04-17 17:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8140512415ee1991c3ae1fb09e538e6ba787d251', 'message': 'Updated from global requirements\n\nChange-Id: Idf5c9ceaeac924babb547d1dabc220f3509565d0\n'}, {'number': 3, 'created': '2017-04-20 16:18:52.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e7bb8e6514d3a1c4f316e004e119b6f4d9d9cd34', 'message': 'Updated from global requirements\n\nChange-Id: Idf5c9ceaeac924babb547d1dabc220f3509565d0\n'}]",0,455931,e7bb8e6514d3a1c4f316e004e119b6f4d9d9cd34,16,3,3,11131,,,0,"Updated from global requirements

Change-Id: Idf5c9ceaeac924babb547d1dabc220f3509565d0
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/31/455931/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2d1cf020ee134fa1b7a1dfdadf5cb7b0d6c832a3,openstack/requirements,"pbr!=2.1.0,>=2.0.0 # Apache-2.0",pbr>=2.0.0 # Apache-2.0,1,1
openstack%2Fnetworking-ovn~master~I8cf1d662c392765d6474abbeff8e6202b6cc970e,openstack/networking-ovn,master,I8cf1d662c392765d6474abbeff8e6202b6cc970e,Bug Fix For QOS,MERGED,2017-04-18 08:35:59.000000000,2017-04-24 12:42:40.000000000,2017-04-24 12:42:40.000000000,"[{'_account_id': 3}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 21583}, {'_account_id': 23458}, {'_account_id': 24438}]","[{'number': 1, 'created': '2017-04-18 08:35:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2e6f280938bcd4d9c85cc078ac9a05b60f1bc169', 'message': ' Bug Fix For QOS\n\n Replacing ""policing_rate"" with ""qos_max_rate"" and ""policing_burst"" with ""qos_burst""\n\n BUG-ID: 1683073\n\nChange-Id: I8cf1d662c392765d6474abbeff8e6202b6cc970e\n'}, {'number': 2, 'created': '2017-04-19 17:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/34c49b5b29732766e644bd80daca0ca35d9e9b8c', 'message': ' Bug Fix For QOS\n\n Replacing ""policing_rate"" with ""qos_max_rate"" and ""policing_burst"" with ""qos_burst""\n\n BUG-ID: 1683073\n\nChange-Id: I8cf1d662c392765d6474abbeff8e6202b6cc970e\n'}, {'number': 3, 'created': '2017-04-20 05:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/01052390aca664994ad4df3cddd798a74baa7a41', 'message': ' Bug Fix For QOS\n\n In OvS 2.6，The NorthDB used “policing_burst”，“policing_rate” to config QoS,\n But in OvS2.7 , It changed by “qos_burst”, “qos_max_rate”.\n\nChange-Id: I8cf1d662c392765d6474abbeff8e6202b6cc970e\nCloses-Bug: #1683073\nSigned-off-by: Arslan Qadeer <arslanq@xgrid.co>\n'}, {'number': 4, 'created': '2017-04-20 09:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f7e0b295f368b6b5088d85175bcaf6a2cc10b1f3', 'message': ' Bug Fix For QOS\n\n In OvS 2.6，The NorthDB used “policing_burst”，“policing_rate” to config QoS,\n But in OvS2.7 , It changed by “qos_burst”, “qos_max_rate”.\n\nChange-Id: I8cf1d662c392765d6474abbeff8e6202b6cc970e\nCloses-Bug: #1683073\nSigned-off-by: Arslan Qadeer <arslanq@xgrid.co>\n'}, {'number': 5, 'created': '2017-04-24 02:26:17.000000000', 'files': ['networking_ovn/ml2/qos_driver.py', 'networking_ovn/tests/unit/ml2/test_qos_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f27eaab983a4e4354543f11f32061e38298a2b93', 'message': ' Bug Fix For QOS\n\n In OvS 2.6，The NorthDB used “policing_burst”，“policing_rate” to config QoS,\n But in OvS2.7 , It changed by “qos_burst”, “qos_max_rate”.\n\nChange-Id: I8cf1d662c392765d6474abbeff8e6202b6cc970e\nCloses-Bug: #1683073\nSigned-off-by: Arslan Qadeer <arslanq@xgrid.co>\n'}]",6,457518,f27eaab983a4e4354543f11f32061e38298a2b93,31,6,5,24867,,,0," Bug Fix For QOS

 In OvS 2.6，The NorthDB used “policing_burst”，“policing_rate” to config QoS,
 But in OvS2.7 , It changed by “qos_burst”, “qos_max_rate”.

Change-Id: I8cf1d662c392765d6474abbeff8e6202b6cc970e
Closes-Bug: #1683073
Signed-off-by: Arslan Qadeer <arslanq@xgrid.co>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/18/457518/5 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/ml2/qos_driver.py', 'networking_ovn/tests/unit/ml2/test_qos_driver.py']",2,2e6f280938bcd4d9c85cc078ac9a05b60f1bc169,," self.expected = {'qos_max_rate': '1', 'qos_burst': '100'}"," self.expected = {'policing_rate': '1', 'policing_burst': '100'}",3,3
openstack%2Ftripleo-ui~stable%2Focata~Idcf777abeb91382699ab43fa2370364b2ad7609d,openstack/tripleo-ui,stable/ocata,Idcf777abeb91382699ab43fa2370364b2ad7609d,Imported Translations from Zanata,MERGED,2017-04-24 09:11:59.000000000,2017-04-24 12:36:17.000000000,2017-04-24 12:36:16.000000000,"[{'_account_id': 3}, {'_account_id': 4978}]","[{'number': 1, 'created': '2017-04-24 09:11:59.000000000', 'files': ['i18n/locales/es.json'], 'web_link': 'https://opendev.org/openstack/tripleo-ui/commit/db08c696926276f38c9c0eb2698d0cbbe1b4c364', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Idcf777abeb91382699ab43fa2370364b2ad7609d\n'}]",0,459206,db08c696926276f38c9c0eb2698d0cbbe1b4c364,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Idcf777abeb91382699ab43fa2370364b2ad7609d
",git fetch https://review.opendev.org/openstack/tripleo-ui refs/changes/06/459206/1 && git format-patch -1 --stdout FETCH_HEAD,['i18n/locales/es.json'],1,db08c696926276f38c9c0eb2698d0cbbe1b4c364,zanata/translations," ""DeploymentPlan.configurePlanStepTooltip"": ""Este paso permite editar par\u00e1metros espec\u00edficos para la configuraci\u00f3n de la red, almacenamiento y otros componentes certificados de la Overcloud. Utilice este paso para definir la configuraci\u00f3n del aislamiento de la red y los par\u00e1metros de configuraci\u00f3n del backend para el almacenamiento."", ""DeploymentPlan.configureRolesStepTooltip"": ""Este paso permite asignar y eliminar nodos de los roles en la Overcloud. En cada ventana de di\u00e1logo, puede etiquetar nodos disponibles al rol que corresponda o eliminar las etiquetar asociadas a los nodos. Seleccione \""Asignar nodos\"" para un rol particular y comience a asignar nodos. En este paso tambi\u00e9n puede personalizar una configuraci\u00f3n espec\u00edfica para los roles. Por ejemplo, puede organizar servicios en cada rol y personalizar par\u00e1metros espec\u00edficos a cada uno de ellos. Seleccione el icono del l\u00e1piz en la esquina superior derecha de cada rol para ver y editar estas configuraciones espec\u00edficas."", ""DeploymentPlan.deploymentStepTooltip"": ""Este paso realiza el despliegue de la Overcloud. Una vez comenzado el despliegue, el director monitoriza el progreso y muestra un reporte de cada paso. Cuando el despliegue termina, se muestra el estado de la Overcloud y detalles de inicio de sesi\u00f3n. Haga click en \""Desplegar\"" para iniciar el despliegue."", ""EnvironmentConfiguration.saveAndClose"": ""Guardar y cerrar"", ""Parameters.saveAndClose"": ""Guardar y cerrar"",",,5,0
openstack%2Fswift~master~If8a445077cbd5956e8506262a2046d0c93c5bd76,openstack/swift,master,If8a445077cbd5956e8506262a2046d0c93c5bd76,Update version in finalize-installation-ubuntu,MERGED,2017-04-14 02:21:18.000000000,2017-04-24 12:31:06.000000000,2017-04-24 12:31:06.000000000,"[{'_account_id': 3}, {'_account_id': 6968}, {'_account_id': 7847}]","[{'number': 1, 'created': '2017-04-14 02:21:18.000000000', 'files': ['install-guide/source/finalize-installation-ubuntu-debian.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/feedf50102b72c60f3cb8dc7d6212f0c66dbd095', 'message': 'Update version in finalize-installation-ubuntu\n\nUpdate swift version newton to ocata in finalize-installation-ubuntu-debian.rst\n\nChange-Id: If8a445077cbd5956e8506262a2046d0c93c5bd76\n'}]",0,456804,feedf50102b72c60f3cb8dc7d6212f0c66dbd095,9,3,1,24330,,,0,"Update version in finalize-installation-ubuntu

Update swift version newton to ocata in finalize-installation-ubuntu-debian.rst

Change-Id: If8a445077cbd5956e8506262a2046d0c93c5bd76
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/456804/1 && git format-patch -1 --stdout FETCH_HEAD,['install-guide/source/finalize-installation-ubuntu-debian.rst'],1,feedf50102b72c60f3cb8dc7d6212f0c66dbd095,finalize-ubuntu, https://git.openstack.org/cgit/openstack/swift/plain/etc/swift.conf-sample?h=stable/ocata, https://git.openstack.org/cgit/openstack/swift/plain/etc/swift.conf-sample?h=stable/newton,1,1
openstack%2Fswift~master~I172528da6e9dfb9e386743df6cfb60f26db3dd54,openstack/swift,master,I172528da6e9dfb9e386743df6cfb60f26db3dd54,Update version in finalize-installation-rdo,MERGED,2017-04-14 02:07:57.000000000,2017-04-24 12:29:10.000000000,2017-04-24 12:29:10.000000000,"[{'_account_id': 3}, {'_account_id': 6968}]","[{'number': 1, 'created': '2017-04-14 02:07:57.000000000', 'files': ['install-guide/source/finalize-installation-rdo.rst'], 'web_link': 'https://opendev.org/openstack/swift/commit/7d7cbefc97fd7ebe1c968326240c584e1d22e12d', 'message': 'Update version in finalize-installation-rdo\n\nUpdate version newton to ocata in finalize-installation-rdo.rst.\n\nChange-Id: I172528da6e9dfb9e386743df6cfb60f26db3dd54\n'}]",0,456801,7d7cbefc97fd7ebe1c968326240c584e1d22e12d,7,2,1,24330,,,0,"Update version in finalize-installation-rdo

Update version newton to ocata in finalize-installation-rdo.rst.

Change-Id: I172528da6e9dfb9e386743df6cfb60f26db3dd54
",git fetch https://review.opendev.org/openstack/swift refs/changes/01/456801/1 && git format-patch -1 --stdout FETCH_HEAD,['install-guide/source/finalize-installation-rdo.rst'],1,7d7cbefc97fd7ebe1c968326240c584e1d22e12d,finalize, https://git.openstack.org/cgit/openstack/swift/plain/etc/swift.conf-sample?h=stable/ocata, https://git.openstack.org/cgit/openstack/swift/plain/etc/swift.conf-sample?h=stable/newton,1,1
openstack%2Fopenstack-ansible-lxc_hosts~master~Ib67da9f203806264c39fc73cc7575ee5acf39e5e,openstack/openstack-ansible-lxc_hosts,master,Ib67da9f203806264c39fc73cc7575ee5acf39e5e,Add option to set the machine image cache size,MERGED,2017-04-21 15:50:48.000000000,2017-04-24 12:23:09.000000000,2017-04-24 12:23:09.000000000,"[{'_account_id': 3}, {'_account_id': 2799}, {'_account_id': 6816}, {'_account_id': 14805}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-21 15:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/5ac6218143d544627d448d27a113b8475f151072', 'message': 'Add option to set the machine image cache size\n\nThis change adds the option `lxc_host_machine_volume_size` which allows\na deployer to set the image cache size, in gigabytes to something mat\nmeets their needs. The default value for this option is 16\n\nChange-Id: Ib67da9f203806264c39fc73cc7575ee5acf39e5e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 2, 'created': '2017-04-21 18:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/242e47731208e54ebcfe9395c157e8e5eb15de81', 'message': 'Add option to set the machine image cache size\n\nThis change adds the option `lxc_host_machine_volume_size` which allows\na deployer to set the image cache size, in gigabytes to something mat\nmeets their needs. The default value for this option is 16\n\nChange-Id: Ib67da9f203806264c39fc73cc7575ee5acf39e5e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 3, 'created': '2017-04-21 18:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/39e2f826ef966da743ebfdf28c2c1c1bbb84b044', 'message': 'Add option to set the machine image cache size\n\nThis change adds the option `lxc_host_machine_volume_size` which allows\na deployer to set the image cache size, in gigabytes to something mat\nmeets their needs. The default value for this option is 16\n\nChange-Id: Ib67da9f203806264c39fc73cc7575ee5acf39e5e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 4, 'created': '2017-04-21 19:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3fe0e9e748de7a3be444c6f34d4700514afafc14', 'message': 'Add option to set the machine image cache size\n\nThis change adds the option `lxc_host_machine_volume_size` which allows\na deployer to set the image cache size, in gigabytes to something mat\nmeets their needs. The default value for this option is 16\n\nChange-Id: Ib67da9f203806264c39fc73cc7575ee5acf39e5e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 5, 'created': '2017-04-21 19:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e4695772e1b73f593059237d1529b25142b8a7f4', 'message': 'Add option to set the machine image cache size\n\nThis change adds the option `lxc_host_machine_volume_size` which allows\na deployer to set the image cache size, in gigabytes to something mat\nmeets their needs. The default value for this option is 16\n\nChange-Id: Ib67da9f203806264c39fc73cc7575ee5acf39e5e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}, {'number': 6, 'created': '2017-04-22 03:32:42.000000000', 'files': ['tasks/lxc_cache_preparation_systemd_new.yml', 'tasks/lxc_cache_preparation_systemd_old.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/18fdecd9d3e1c4f9550ba809186acc2b5efbc571', 'message': 'Add option to set the machine image cache size\n\nThis change adds the option `lxc_host_machine_volume_size` which allows\na deployer to set the image cache size, in gigabytes to something mat\nmeets their needs. The default value for this option is 16\n\nChange-Id: Ib67da9f203806264c39fc73cc7575ee5acf39e5e\nSigned-off-by: Kevin Carter <kevin.carter@rackspace.com>\n'}]",0,458897,18fdecd9d3e1c4f9550ba809186acc2b5efbc571,19,5,6,7353,,,0,"Add option to set the machine image cache size

This change adds the option `lxc_host_machine_volume_size` which allows
a deployer to set the image cache size, in gigabytes to something mat
meets their needs. The default value for this option is 16

Change-Id: Ib67da9f203806264c39fc73cc7575ee5acf39e5e
Signed-off-by: Kevin Carter <kevin.carter@rackspace.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/97/458897/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_cache_preparation_systemd_new.yml', 'tasks/lxc_cache_preparation_systemd_old.yml', 'defaults/main.yml']",3,5ac6218143d544627d448d27a113b8475f151072,,# Set the volume size in gigabytes for the machine image caches. lxc_host_machine_volume_size: 16 ,,30,6
openstack%2Fopenstack-ansible-lxc_hosts~master~I17c452a8ba67561435737ee9d672219a2e306489,openstack/openstack-ansible-lxc_hosts,master,I17c452a8ba67561435737ee9d672219a2e306489,Configure proxy settings for machined,MERGED,2017-04-21 21:20:07.000000000,2017-04-24 12:20:43.000000000,2017-04-24 12:20:43.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 23825}]","[{'number': 1, 'created': '2017-04-21 21:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/091165884410785f01c1c0b410a00fe3cda34591', 'message': 'Configure proxy settings for machined\n\nThe machined pull does not utilize the lxc_cache_environment\nvariable to configure its environment, so it will not use proxies.\n\nThis fixes machined to properly configure its environment so pulls\ncan operate through proxies.\n\nBased on https://wbl.krm.io/howto-proxify-systemd-machined/\n\nChange-Id: I17c452a8ba67561435737ee9d672219a2e306489\n'}, {'number': 2, 'created': '2017-04-21 21:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1ef73df57f0450caa98ee60565c071fbcfa09d2d', 'message': 'Configure proxy settings for machined\n\nThe machined pull does not utilize the lxc_cache_environment\nvariable to configure its environment, so it will not use proxies.\n\nThis fixes machined to properly configure its environment so pulls\ncan operate through proxies.\n\nBased on https://wbl.krm.io/howto-proxify-systemd-machined/\n\nChange-Id: I17c452a8ba67561435737ee9d672219a2e306489\n'}, {'number': 3, 'created': '2017-04-22 00:57:31.000000000', 'files': ['templates/systemd-proxy-unit.conf.j2', 'tasks/lxc_cache_preparation_systemd_new.yml', 'tasks/lxc_cache_preparation.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/89625e66b0bbf7abfbd31b162296a98ab173ce74', 'message': 'Configure proxy settings for machined\n\nThe machined pull does not utilize the lxc_cache_environment\nvariable to configure its environment, so it will not use proxies.\n\nThis fixes machined to properly configure its environment so pulls\ncan operate through proxies.\n\nBased on https://wbl.krm.io/howto-proxify-systemd-machined/\n\nChange-Id: I17c452a8ba67561435737ee9d672219a2e306489\n'}]",2,458977,89625e66b0bbf7abfbd31b162296a98ab173ce74,18,5,3,17799,,,0,"Configure proxy settings for machined

The machined pull does not utilize the lxc_cache_environment
variable to configure its environment, so it will not use proxies.

This fixes machined to properly configure its environment so pulls
can operate through proxies.

Based on https://wbl.krm.io/howto-proxify-systemd-machined/

Change-Id: I17c452a8ba67561435737ee9d672219a2e306489
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/77/458977/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/systemd-proxy-unit.conf.j2', 'tasks/lxc_cache_preparation_systemd_new.yml', 'tasks/lxc_cache_preparation.yml']",3,091165884410785f01c1c0b410a00fe3cda34591,machined-proxy,"- block: - name: Create machined proxy override unit directories file: path: ""/etc/systemd/system/{{ item }}"" owner: root group: root mode: '0755' state: directory with_items: - systemd-machined.service.d - systemd-importd.service.d - name: Drop the machined proxy override units template: src: systemd-proxy-unit.conf.j2 dest: /etc/systemd/system/{{ item }}/proxy.conf owner: root group: root mode: '0644' with_items: - systemd-machined.service.d - systemd-importd.service.d when: lxc_cache_environment.keys() | length > 0 ",,29,1
openstack%2Fpuppet-tripleo~master~Icd152c8e0389b6a104381ba6ab4e0944e9828ba3,openstack/puppet-tripleo,master,Icd152c8e0389b6a104381ba6ab4e0944e9828ba3,Enable setting SubjectaltNames for haproxy and httpd certs,MERGED,2017-04-18 12:49:26.000000000,2017-04-24 12:17:17.000000000,2017-04-24 12:17:17.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 6928}, {'_account_id': 8042}, {'_account_id': 9414}, {'_account_id': 10873}, {'_account_id': 14985}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-04-18 12:49:26.000000000', 'files': ['manifests/certmonger/haproxy.pp', 'manifests/certmonger/httpd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6990da87c36158677d2c1f78405f45c86e915767', 'message': 'Enable setting SubjectaltNames for haproxy and httpd certs\n\nThis enables setting the subjectAltNames for HAProxy and httpd certs.\nThese will eventually replace the usage of many certs, to have instead\njust one that has several subjectAltNames.\n\nChange-Id: Icd152c8e0389b6a104381ba6ab4e0944e9828ba3\n'}]",0,457619,6990da87c36158677d2c1f78405f45c86e915767,16,8,1,10873,,,0,"Enable setting SubjectaltNames for haproxy and httpd certs

This enables setting the subjectAltNames for HAProxy and httpd certs.
These will eventually replace the usage of many certs, to have instead
just one that has several subjectAltNames.

Change-Id: Icd152c8e0389b6a104381ba6ab4e0944e9828ba3
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/19/457619/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/haproxy.pp', 'manifests/certmonger/httpd.pp']",2,6990da87c36158677d2c1f78405f45c86e915767,subjectaltnames,"# [*dnsnames*] # (Optional) The DNS names that will be added for the SubjectAltNames entry # in the certificate. If left unset, the value will be set to the $hostname. # Defaults to undef # $dnsnames = undef, if $dnsnames { $dnsnames_real = $dnsnames } else { $dnsnames_real = $hostname } dnsname => $dnsnames_real,"," dnsname => $hostname,",26,2
openstack%2Finstack-undercloud~master~Icac6efe17fffc78bf74a34206cced82e2b968fcf,openstack/instack-undercloud,master,Icac6efe17fffc78bf74a34206cced82e2b968fcf,Plan format migration: keep the Mistral env around,MERGED,2017-04-21 14:30:06.000000000,2017-04-24 12:17:09.000000000,2017-04-24 12:17:09.000000000,"[{'_account_id': 3}, {'_account_id': 8042}, {'_account_id': 10873}]","[{'number': 1, 'created': '2017-04-21 14:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/b348ac87f8f314e5c0e3e83c80077636dbc20b8a', 'message': ""Plan format migration: keep the Mistral env around\n\nUntil the tripleo-common change at [1] is merged, operations related to\nPlans still expect a Mistral environment to exist. Deleting it now is\ncausing updates and re-deployments to fail after upgrading the\nundercloud (which also migrates the Plan to use the new format).\n\nLet's keep the Mistral environment around until the tripleo-common\nchanges are in and fix the TODO then.\n\n[1] https://review.openstack.org/#/c/452291/6\n\nRelated blueprint: stop-using-mistral-env\nCloses-Bug: #1685171\n\nChange-Id: Icac6efe17fffc78bf74a34206cced82e2b968fcf\n""}, {'number': 2, 'created': '2017-04-24 07:41:45.000000000', 'files': ['instack_undercloud/undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/f530e1450536ea61aeb47daa53f8528d948f6752', 'message': ""Plan format migration: keep the Mistral env around\n\nUntil the tripleo-common change at [1] is merged, operations related to\nPlans still expect a Mistral environment to exist. Deleting it now is\ncausing updates and re-deployments to fail after upgrading the\nundercloud (which also migrates the Plan to use the new format).\n\nLet's keep the Mistral environment around until the tripleo-common\nchanges are in and fix the TODO then.\n\n[1] https://review.openstack.org/#/c/452291/6\n\nRelated blueprint: stop-using-mistral-env\nCloses-Bug: #1685171\n\nChange-Id: Icac6efe17fffc78bf74a34206cced82e2b968fcf\n""}]",0,458859,f530e1450536ea61aeb47daa53f8528d948f6752,13,3,2,4978,,,0,"Plan format migration: keep the Mistral env around

Until the tripleo-common change at [1] is merged, operations related to
Plans still expect a Mistral environment to exist. Deleting it now is
causing updates and re-deployments to fail after upgrading the
undercloud (which also migrates the Plan to use the new format).

Let's keep the Mistral environment around until the tripleo-common
changes are in and fix the TODO then.

[1] https://review.openstack.org/#/c/452291/6

Related blueprint: stop-using-mistral-env
Closes-Bug: #1685171

Change-Id: Icac6efe17fffc78bf74a34206cced82e2b968fcf
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/59/458859/1 && git format-patch -1 --stdout FETCH_HEAD,['instack_undercloud/undercloud.py'],1,b348ac87f8f314e5c0e3e83c80077636dbc20b8a,bug/1685171, # TODO(jpichon): delete env from Mistral once triple-common # change merges (https://review.openstack.org/#/c/452291/). # Right now plan operations still expect a Mistral environment. #mistral.environments.delete(plan), mistral.environments.delete(plan),4,1
openstack%2Fdevstack~master~I843d6fb313e83ad2cd7c1ee1143e449764a51260,openstack/devstack,master,I843d6fb313e83ad2cd7c1ee1143e449764a51260,Source keystone variables in openrc,ABANDONED,2017-04-20 14:18:04.000000000,2017-04-24 11:59:04.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14571}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-04-20 14:18:04.000000000', 'files': ['openrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8a4956e1df65c8e7cd4f786ea954e10316d6dbd7', 'message': 'Source keystone variables in openrc\n\nSince I46294fb24e3c23fa19fcfd7d6c9ee8a932354702 we require keystone\nvariable KEYSTONE_AUTH_URI is set.\nThis patch ensures we source lib/keystone in openrc\n\nChange-Id: I843d6fb313e83ad2cd7c1ee1143e449764a51260\nRelated-Bug: #1684797\n'}]",0,458522,8a4956e1df65c8e7cd4f786ea954e10316d6dbd7,7,5,1,14525,,,0,"Source keystone variables in openrc

Since I46294fb24e3c23fa19fcfd7d6c9ee8a932354702 we require keystone
variable KEYSTONE_AUTH_URI is set.
This patch ensures we source lib/keystone in openrc

Change-Id: I843d6fb313e83ad2cd7c1ee1143e449764a51260
Related-Bug: #1684797
",git fetch https://review.opendev.org/openstack/devstack refs/changes/22/458522/1 && git format-patch -1 --stdout FETCH_HEAD,['openrc'],1,8a4956e1df65c8e7cd4f786ea954e10316d6dbd7,bug/1684797,source $RC_DIR/lib/keystone,,1,0
openstack%2Fvitrage~master~Ib8fdbb68ec0f53c4a03b9be8e392385636a75d49,openstack/vitrage,master,Ib8fdbb68ec0f53c4a03b9be8e392385636a75d49,Fixed the name of group options in get_opts_lists,MERGED,2017-04-24 09:18:19.000000000,2017-04-24 11:56:09.000000000,2017-04-24 11:56:09.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 10459}, {'_account_id': 16312}, {'_account_id': 19122}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 20734}]","[{'number': 1, 'created': '2017-04-24 09:18:19.000000000', 'files': ['vitrage_tempest_tests/plugin.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/8e8b212a4416a6c2206389a3c77478ba2634869b', 'message': 'Fixed the name of group options in get_opts_lists\n\n* get_opts_lists in tempest plugin takes group name and config\n  options but in vitrage tempest plugin under get_opts_lists\n  method in config.py, service_name group params was passed\n  which leds to OptGroup error while doing tempest init.\n\nCloses-bug: #1685749\n\nChange-Id: Ib8fdbb68ec0f53c4a03b9be8e392385636a75d49\n'}]",0,459209,8e8b212a4416a6c2206389a3c77478ba2634869b,11,8,1,12393,,,0,"Fixed the name of group options in get_opts_lists

* get_opts_lists in tempest plugin takes group name and config
  options but in vitrage tempest plugin under get_opts_lists
  method in config.py, service_name group params was passed
  which leds to OptGroup error while doing tempest init.

Closes-bug: #1685749

Change-Id: Ib8fdbb68ec0f53c4a03b9be8e392385636a75d49
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/09/459209/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage_tempest_tests/plugin.py'],1,8e8b212a4416a6c2206389a3c77478ba2634869b,bug/1685749," config_rca_service.RcaServiceGroup),"," config_rca_service.rca_service_group),",1,1
openstack%2Fkolla-ansible~master~I74bc7eaea0ce393225473ce2ca608d399a64a584,openstack/kolla-ansible,master,I74bc7eaea0ce393225473ce2ca608d399a64a584,Add kolla-ansible to operating-kolla.rst document,MERGED,2017-04-12 08:29:41.000000000,2017-04-24 11:50:22.000000000,2017-04-24 11:50:22.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 8157}, {'_account_id': 8264}, {'_account_id': 17846}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22582}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-04-12 08:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab1fbcc67081967f57fe8dd8c51270d22dfc0fbd', 'message': 'Correct operating-kolla.rst document\n\nAs the cleanup tools has been removed, but the operating-kolla.rst\ndocument still refer to use cleanup tools.\n\nCorrect the operating-kolla.rst document and change to use\nkolla-ansible command.\n\nChange-Id: I74bc7eaea0ce393225473ce2ca608d399a64a584\n'}, {'number': 2, 'created': '2017-04-13 01:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fef20d7497f43833a59dee8e7f8945996da25256', 'message': 'Correct operating-kolla.rst document\n\nAs the cleanup tools has been removed, but the operating-kolla.rst\ndocument still refer to use cleanup tools.\n\nCorrect the operating-kolla.rst document and change to use\nkolla-ansible command.\n\nChange-Id: I74bc7eaea0ce393225473ce2ca608d399a64a584\n'}, {'number': 3, 'created': '2017-04-13 09:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/45ef544574ef873820c831f945c644bb5cf2bfe9', 'message': 'Correct operating-kolla.rst document\n\nAs the cleanup tools has been removed, but the operating-kolla.rst\ndocument still refer to use cleanup tools.\n\nCorrect the operating-kolla.rst document and change to use\nkolla-ansible command.\n\nChange-Id: I74bc7eaea0ce393225473ce2ca608d399a64a584\n'}, {'number': 4, 'created': '2017-04-14 00:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2504b44f0e640118b1f1a2be17da48092218aa1d', 'message': 'Add kolla-ansible to operating-kolla.rst document\n\nAdd description of how to use kolla-ansible command.\n\nChange-Id: I74bc7eaea0ce393225473ce2ca608d399a64a584\n'}, {'number': 5, 'created': '2017-04-14 00:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7991fbacc4208b5faf90c962d576d308df7bcdfd', 'message': 'Add kolla-ansible to operating-kolla.rst document\n\nAdd description of how to use kolla-ansible command.\n\nChange-Id: I74bc7eaea0ce393225473ce2ca608d399a64a584\n'}, {'number': 6, 'created': '2017-04-14 01:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0726558928133a28e883ffb3b03759d10e92af19', 'message': 'Add kolla-ansible to operating-kolla.rst document\n\nAdd description of how to use kolla-ansible command.\n\nChange-Id: I74bc7eaea0ce393225473ce2ca608d399a64a584\n'}, {'number': 7, 'created': '2017-04-14 06:08:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68c9b9ea4269762758db0fd4023550b1a2793113', 'message': 'Add kolla-ansible to operating-kolla.rst document\n\nAdd description of how to use kolla-ansible command.\n\nChange-Id: I74bc7eaea0ce393225473ce2ca608d399a64a584\n'}, {'number': 8, 'created': '2017-04-14 06:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bfb754334ba7e6d98c7b0543829dbe32b30cb709', 'message': 'Add kolla-ansible to operating-kolla.rst document\n\nAdd description of how to use kolla-ansible command.\n\nChange-Id: I74bc7eaea0ce393225473ce2ca608d399a64a584\n'}, {'number': 9, 'created': '2017-04-17 01:31:19.000000000', 'files': ['doc/operating-kolla.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/519283d85ce282feb85dc5ecea7567abe14e24ef', 'message': 'Add kolla-ansible to operating-kolla.rst document\n\nAdd description of how to use kolla-ansible command.\n\nChange-Id: I74bc7eaea0ce393225473ce2ca608d399a64a584\n'}]",40,456110,519283d85ce282feb85dc5ecea7567abe14e24ef,39,9,9,8264,,,0,"Add kolla-ansible to operating-kolla.rst document

Add description of how to use kolla-ansible command.

Change-Id: I74bc7eaea0ce393225473ce2ca608d399a64a584
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/456110/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/operating-kolla.rst'],1,ab1fbcc67081967f57fe8dd8c51270d22dfc0fbd,remove-cleanup-doc,"``kolla-ansible -i inventory destroy`` can be used to clean up all the deployed containers and volumes.Once your cluster run into bad status and hard to recover, this command can ease your process of environment restore. ``kolla-ansible -i inventory mariadb_recovery`` can be used to restore mariadb cluster. Sometimes your cluster completely stopped, you can use this to ease the process of your mariadb cluster recover process. ``kolla-ansible -i inventory prechecks`` can be used to check if all requirements are meet before deploy. ``kolla-ansible -i inventory check`` can be used to do post-deployment smoke tests.","``tools/cleanup-containers`` can be used to remove deployed containers from the system. This can be useful when you want to do a new clean deployment. It will preserve the registry and the locally built images in the registry, but will remove all running Kolla containers from the local Docker daemon. It also removes the named volumes. ``tools/cleanup-host`` can be used to remove remnants of network changes triggered on the Docker host when the neutron-agents containers are launched. This can be useful when you want to do a new clean deployment, particularly one changing the network topology. ``tools/cleanup-images`` can be used to remove all Docker images built by Kolla from the local Docker cache.",11,11
openstack%2Foslo.messaging~master~Ief55114d8fae4cd219c4411e9cbde881d3f27ee3,openstack/oslo.messaging,master,Ief55114d8fae4cd219c4411e9cbde881d3f27ee3,Simulator: support of threading executor,ABANDONED,2016-04-06 12:51:36.000000000,2017-04-24 11:45:08.000000000,,"[{'_account_id': 3}, {'_account_id': 5638}, {'_account_id': 5950}, {'_account_id': 8601}, {'_account_id': 20864}]","[{'number': 1, 'created': '2016-04-06 12:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/dc1242e5cb69cc2c94e53d05e96c89371eaba211', 'message': '[WIP] Simulator: support of threading executor\n\nThere are 2 versions of simulator:\n * simulator.py uses threading executor\n * simulator_eventlet.py uses eventlet executor\n\nChange-Id: Ief55114d8fae4cd219c4411e9cbde881d3f27ee3\n'}, {'number': 2, 'created': '2016-04-20 10:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/a5c835a4100f7e7595c34942b8fa9be507443655', 'message': '[WIP] Simulator: support of threading executor\n\nThere are 2 versions of simulator:\n * simulator.py uses threading executor\n * simulator_eventlet.py uses eventlet executor\n\nChange-Id: Ief55114d8fae4cd219c4411e9cbde881d3f27ee3\n'}, {'number': 3, 'created': '2016-04-25 14:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/e4aa1b2bd587eef93159df98d907ed5cb2007831', 'message': 'Simulator: support of threading executor\n\nThere are 2 versions of simulator:\n * simulator.py uses threading executor\n * simulator_eventlet.py uses eventlet executor\n\nChange-Id: Ief55114d8fae4cd219c4411e9cbde881d3f27ee3\n'}, {'number': 4, 'created': '2016-05-05 14:02:10.000000000', 'files': ['tools/simulator_eventlet.py', 'tools/simulator.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/92e415e56e094ba687938981b700b194ce0468ef', 'message': 'Simulator: support of threading executor\n\nThere are 2 versions of simulator:\n * simulator.py uses threading executor\n * simulator_eventlet.py uses eventlet executor\n\nChange-Id: Ief55114d8fae4cd219c4411e9cbde881d3f27ee3\n'}]",1,302231,92e415e56e094ba687938981b700b194ce0468ef,18,5,4,5950,,,0,"Simulator: support of threading executor

There are 2 versions of simulator:
 * simulator.py uses threading executor
 * simulator_eventlet.py uses eventlet executor

Change-Id: Ief55114d8fae4cd219c4411e9cbde881d3f27ee3
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/31/302231/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/simulator_eventlet.py', 'tools/simulator.py']",2,dc1242e5cb69cc2c94e53d05e96c89371eaba211,sim-cfg-executor,"import eventlet endpoints, executor=EXECUTOR) endpoints, executor=EXECUTOR,def rpc_server(transport, target, wait_before_answer, duration): executor=EXECUTOR)def spawn_threads(threads_count, target, args_fn): if EXECUTOR == 'threading': threads = [] for i in range(threads_count): t = threading.Thread(target=target, args=args_fn(i)) threads.append(t) t.start() for t in threads: t.join() elif EXECUTOR == 'eventlet': p = eventlet.GreenPool(size=threads_count) for i in range(threads_count): p.spawn_n(target, *args_fn(i)) p.waitall() def spawn_rpc_clients(threads_count, transport, targets, wait_after_msg, timeout, is_cast, messages_count, duration): def _arg_fn(i): return client_builder, messages_count, duration spawn_threads(threads_count, send_messages, _arg_fn) def spawn_notify_clients(threads_count, topic, transport, messages_count, wait_after_msg, timeout, duration): def _arg_fn(i): return client_builder, messages_count, duration spawn_threads(threads_count, send_messages, _arg_fn) def send_messages(client_builder, messages_count, duration): time.sleep(0) client_id = client.client_id time.sleep(0) global RANDOM_GENERATOR, CURRENT_PID RANDOM_GENERATOR = init_random_generator() CURRENT_PID = os.getpid() LOG.info('Running with %s executor', EXECUTOR) args.duration) EXECUTOR = 'threading'","import eventlet eventlet.monkey_patch() endpoints, executor='eventlet') endpoints, executor='eventlet',def rpc_server(transport, target, wait_before_answer, executor, duration): executor=executor)def spawn_rpc_clients(threads, transport, targets, wait_after_msg, timeout, is_cast, messages_count, duration): p = eventlet.GreenPool(size=threads) for i in range(0, threads): LOG.debug(""starting RPC client for target %s"", target) p.spawn_n(send_messages, i, client_builder, messages_count, duration) p.waitall() def spawn_notify_clients(threads, topic, transport, message_count, wait_after_msg, timeout, duration): p = eventlet.GreenPool(size=threads) for i in range(0, threads): p.spawn_n(send_messages, i, client_builder, message_count, duration) p.waitall() def send_messages(client_id, client_builder, messages_count, duration): eventlet.sleep() eventlet.sleep() server.add_argument('-e', '--executor', dest='executor', type=str, default='eventlet', help='name of a message executor') args.executor, args.duration) RANDOM_GENERATOR = init_random_generator() CURRENT_PID = os.getpid()",65,28
openstack%2Fkolla-ansible~master~Ie080e64a0232ab2a3116003890c7b0550001db72,openstack/kolla-ansible,master,Ie080e64a0232ab2a3116003890c7b0550001db72,Fix swift-ring-builder path for container,MERGED,2017-04-22 09:55:35.000000000,2017-04-24 11:44:53.000000000,2017-04-24 11:44:53.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-04-22 09:55:35.000000000', 'files': ['doc/swift-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ae3310f4d49466dde562f3ad76d1e547e81a6700', 'message': 'Fix swift-ring-builder path for container\n\nChange-Id: Ie080e64a0232ab2a3116003890c7b0550001db72\n'}]",0,459054,ae3310f4d49466dde562f3ad76d1e547e81a6700,7,3,1,24330,,,0,"Fix swift-ring-builder path for container

Change-Id: Ie080e64a0232ab2a3116003890c7b0550001db72
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/459054/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/swift-guide.rst'],1,ae3310f4d49466dde562f3ad76d1e547e81a6700,swift, /etc/kolla/config/swift/container.builder add r1z1-${KOLLA_INTERNAL_ADDRESS}:6002/d${i} 1;, etc/kolla/config/swift/container.builder add r1z1-${KOLLA_INTERNAL_ADDRESS}:6002/d${i} 1;,1,1
openstack%2Fec2-api~master~I90799394a5c4a17dd7d8379af5a5af53781425b2,openstack/ec2-api,master,I90799394a5c4a17dd7d8379af5a5af53781425b2,change the command to obtain credentials in README,MERGED,2017-03-10 13:25:54.000000000,2017-04-24 11:44:21.000000000,2017-04-24 11:44:20.000000000,"[{'_account_id': 3}, {'_account_id': 10224}, {'_account_id': 10234}]","[{'number': 1, 'created': '2017-03-10 13:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/bdc4b2d2f16fb5d3b53264a61a67bf1e697b5b26', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 2, 'created': '2017-03-28 09:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a27d3200a6baf01ffde82cd1f503b13f867ab572', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 3, 'created': '2017-04-03 12:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4e4bd95e42d5568ab6c5aec84371c5f11af899d1', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 4, 'created': '2017-04-03 13:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ccf6bda50d057c168e63d55bad2d1e01c18e6087', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 5, 'created': '2017-04-03 14:03:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/fe5927f5c11b321bee93f4fc0fbee68c30b7b7b1', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 6, 'created': '2017-04-04 15:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/ff9e4a0cf7847056023e8ec05df6105e0627d3a3', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 7, 'created': '2017-04-05 11:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/a9b7e02c266ff24477df1fb2abd531336beca294', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 8, 'created': '2017-04-05 13:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/4ff78eb7b57cbdaf9d2652f2ec9964efded61cd0', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 9, 'created': '2017-04-05 14:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/51aa83b09068dd4c957729fa6d8fd24a4b94b6af', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 10, 'created': '2017-04-05 16:23:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/fd0c65e4513f34b22709a3ca80f7d6e7b9cbce5d', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 11, 'created': '2017-04-06 10:21:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/8659970e6935964a00a23cccf35d9e43afb800f9', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 12, 'created': '2017-04-06 11:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/099086ffcf49ba28bc02506c1f1058f6f6c3bda9', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 13, 'created': '2017-04-06 14:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/b387b5297be21becfb653fe98e8f255fb277f12f', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 14, 'created': '2017-04-06 15:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7602e5e101c96ee0eb29ad030322d12613d77c1c', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 15, 'created': '2017-04-07 15:54:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/3e37cb49be4baa46a0903d529c8eb2a13bea6e67', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 16, 'created': '2017-04-10 11:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/7366ca6ffa0397a87dd336d8685c76d441b22793', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}, {'number': 17, 'created': '2017-04-19 13:02:57.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ec2-api/commit/29febb29e55e8e336d7261075b07a3d7ffd77900', 'message': 'change the command to obtain credentials in README\n\nChange-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2\n'}]",0,444290,29febb29e55e8e336d7261075b07a3d7ffd77900,39,3,17,19065,,,0,"change the command to obtain credentials in README

Change-Id: I90799394a5c4a17dd7d8379af5a5af53781425b2
",git fetch https://review.opendev.org/openstack/ec2-api refs/changes/90/444290/17 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,bdc4b2d2f16fb5d3b53264a61a67bf1e697b5b26,,"appropriate for your cloud (can be obtained by ""openstack ec2 credentials list""openstack cli with the new port 8788) like this:","appropriate for your cloud (can be obtained by ""keystone ec2-credentials-list""keystone with the new port 8788) like this:",2,2
openstack%2Ffreezer-api~master~I62a31476d416f9fe89e6e90c2206a55a8c1b7d14,openstack/freezer-api,master,I62a31476d416f9fe89e6e90c2206a55a8c1b7d14,Add Enable/Disable options for freezer-api,MERGED,2017-04-21 15:38:55.000000000,2017-04-24 11:43:06.000000000,2017-04-24 11:43:06.000000000,"[{'_account_id': 3}, {'_account_id': 11151}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}]","[{'number': 1, 'created': '2017-04-21 15:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/9c217ec919cf66aacab4088811074766324ce4d8', 'message': 'Add Enable/Disable options for freezer-api\n\nAllow users to enable whatever freezer-api version they like.\n\n    * Added enable_v1_api to control v1 api\n    * Added enable_v2_api to control v2 api\n\nImplements blueprint api-v2-multi-tenancy\n\nChange-Id: I62a31476d416f9fe89e6e90c2206a55a8c1b7d14\nSigned-off-by: Saad Zaher <eng.szaher@gmail.com>\n'}, {'number': 2, 'created': '2017-04-21 16:11:36.000000000', 'files': ['etc/freezer/freezer-api.conf.sample', 'freezer_api/service.py', 'freezer_api/common/config.py', 'freezer_api/api/versions.py', 'freezer_api/tests/unit/test_versions.py', 'freezer_api/tests/freezer_api_tempest_plugin/tests/api/test_api_version.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/268cfbbfc076fed92bee951636815daaf8d5c389', 'message': 'Add Enable/Disable options for freezer-api\n\nAllow users to enable whatever freezer-api version they like.\n\n    * Added enable_v1_api to control v1 api\n    * Added enable_v2_api to control v2 api\n\nImplements blueprint api-v2-multi-tenancy\n\nChange-Id: I62a31476d416f9fe89e6e90c2206a55a8c1b7d14\nSigned-off-by: Saad Zaher <eng.szaher@gmail.com>\n'}]",0,458889,268cfbbfc076fed92bee951636815daaf8d5c389,9,5,2,13940,,,0,"Add Enable/Disable options for freezer-api

Allow users to enable whatever freezer-api version they like.

    * Added enable_v1_api to control v1 api
    * Added enable_v2_api to control v2 api

Implements blueprint api-v2-multi-tenancy

Change-Id: I62a31476d416f9fe89e6e90c2206a55a8c1b7d14
Signed-off-by: Saad Zaher <eng.szaher@gmail.com>
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/89/458889/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/freezer/freezer-api.conf.sample', 'freezer_api/service.py', 'freezer_api/common/config.py', 'freezer_api/api/versions.py', 'freezer_api/tests/unit/test_versions.py']",5,9c217ec919cf66aacab4088811074766324ce4d8,bp/api-v2-multi-tenancy,"from freezer_api.tests.unit import common class TestVersionResource(common.FreezerBaseTestCase): super(TestVersionResource, self).setUp() self.req.url = ""{0}"" expected_result = json.dumps({'versions': [v2.VERSION, v1.VERSION]})","import unittest class TestVersionResource(unittest.TestCase): expected_result = json.dumps({'versions': [v1.VERSION, v2.VERSION]})",92,20
openstack%2Fkarbor~master~I72cade08e7397cfaaa43e3e5e9f28015aeff83c3,openstack/karbor,master,I72cade08e7397cfaaa43e3e5e9f28015aeff83c3,Updata the api doc about the extra_info filed of protectable API,MERGED,2017-04-17 07:11:22.000000000,2017-04-24 11:34:46.000000000,2017-04-24 11:34:46.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 20883}]","[{'number': 1, 'created': '2017-04-17 07:11:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/495ae441e5ce8d325532380b3ff5997bb0634cee', 'message': 'Updata the api doc about the extra_info filed of protectable API\n\nblueprint instances-extra-info\n\nChange-Id: I72cade08e7397cfaaa43e3e5e9f28015aeff83c3\n'}, {'number': 2, 'created': '2017-04-20 12:28:23.000000000', 'files': ['api-ref/source/v1/samples/plan-create-request.json', 'api-ref/source/v1/samples/plan-update-response.json', 'api-ref/source/v1/samples/plans-list-response.json', 'doc/source/specs/api/karbor_api.v1.yaml', 'api-ref/source/v1/samples/plan-create-response.json', 'doc/source/specs/api/api_examples.md', 'api-ref/source/v1/samples/protectable-instances-list-response.json'], 'web_link': 'https://opendev.org/openstack/karbor/commit/06fd348b18e44de970faf578b8d76d2ea7709fea', 'message': 'Updata the api doc about the extra_info filed of protectable API\n\nblueprint instances-extra-info\n\nChange-Id: I72cade08e7397cfaaa43e3e5e9f28015aeff83c3\n'}]",2,457161,06fd348b18e44de970faf578b8d76d2ea7709fea,11,3,2,17151,,,0,"Updata the api doc about the extra_info filed of protectable API

blueprint instances-extra-info

Change-Id: I72cade08e7397cfaaa43e3e5e9f28015aeff83c3
",git fetch https://review.opendev.org/openstack/karbor refs/changes/61/457161/2 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v1/samples/plan-create-request.json', 'api-ref/source/v1/samples/plan-update-response.json', 'api-ref/source/v1/samples/plans-list-response.json', 'doc/source/specs/api/karbor_api.v1.yaml', 'api-ref/source/v1/samples/plan-create-response.json', 'doc/source/specs/api/api_examples.md', 'api-ref/source/v1/samples/protectable-instances-list-response.json']",7,495ae441e5ce8d325532380b3ff5997bb0634cee,bp/instances-extra-info," ""instances"":[ { ""id"": ""25336116-f38e-4c22-81ad-e9b7bd71ba51"", ""type"": ""OS::Cinder::Volume"", ""name"": ""System volume"", ""extra_info"": { ""availability_zone"": ""az1"" } }, { ""id"": ""33b6bb0b-1157-4e66-8553-1c9e14b1c7ba"", ""type"": ""OS::Cinder::Volume"", ""name"": ""Data volume"", ""extra_info"": { ""availability_zone"": ""az1"" } } ],"," ""instances"": [ { ""id"": ""cb4ef2ff-10f5-46c9-bce4-cf7a49c65a01"", ""type"": ""OS::Nova::Server"", ""name"": ""My VM"", ""dependent_resources"": [ { ""id"": ""99777fdd-8a5b-45ab-ba2c-52420008103f"", ""type"": ""OS::Glance::Image"", ""name"": ""cirros-0.3.4-x86_64-uec"" } ] } ],",153,62
openstack%2Fkolla-ansible~master~I0d8ee710979a7eebba1e8fc176450e4c0bcbe757,openstack/kolla-ansible,master,I0d8ee710979a7eebba1e8fc176450e4c0bcbe757,Tempest: remove all oslo.policy related stuff,MERGED,2017-04-24 08:24:17.000000000,2017-04-24 11:29:20.000000000,2017-04-24 11:29:20.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-04-24 08:24:17.000000000', 'files': ['ansible/roles/tempest/tasks/config.yml', 'ansible/roles/tempest/handlers/main.yml', 'ansible/roles/tempest/templates/tempest.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e6e48c30e37af0b07567ad08e44eab65e7b0ae6d', 'message': ""Tempest: remove all oslo.policy related stuff\n\nThe OpenStack Integration Test Suite (Tempest) doesn't use oslo.policy\nlibrary.\noslo.policy is not used in codebase and not set in requirements.txt:\nhttps://github.com/openstack/tempest/blob/master/requirements.txt#L14\n\nAll policy.json related stuff must be removed.\n\nChange-Id: I0d8ee710979a7eebba1e8fc176450e4c0bcbe757\n""}]",0,459190,e6e48c30e37af0b07567ad08e44eab65e7b0ae6d,7,3,1,8157,,,0,"Tempest: remove all oslo.policy related stuff

The OpenStack Integration Test Suite (Tempest) doesn't use oslo.policy
library.
oslo.policy is not used in codebase and not set in requirements.txt:
https://github.com/openstack/tempest/blob/master/requirements.txt#L14

All policy.json related stuff must be removed.

Change-Id: I0d8ee710979a7eebba1e8fc176450e4c0bcbe757
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/90/459190/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tempest/tasks/config.yml', 'ansible/roles/tempest/handlers/main.yml', 'ansible/roles/tempest/templates/tempest.json.j2']",3,e6e48c30e37af0b07567ad08e44eab65e7b0ae6d,,," }, { ""source"": ""{{ container_config_directory }}/policy.json"", ""dest"": ""/etc/tempest/policy.json"", ""owner"": ""tempest"", ""perm"": ""0600"", ""optional"": true",0,26
openstack%2Fsahara-image-elements~master~Icbc765c12123a3b1d8e22e368882d14e1d986bc9,openstack/sahara-image-elements,master,Icbc765c12123a3b1d8e22e368882d14e1d986bc9,Add support to create CDH 5.10 image,ABANDONED,2017-04-13 10:25:33.000000000,2017-04-24 11:18:10.000000000,,"[{'_account_id': 3}, {'_account_id': 7213}, {'_account_id': 13919}, {'_account_id': 22689}]","[{'number': 1, 'created': '2017-04-13 10:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/cf6caa918d6b6ced9e11216427c67cd6a91f3676', 'message': 'Add support to create CDH 5.10 image\n\nChange-Id: Icbc765c12123a3b1d8e22e368882d14e1d986bc9\n'}, {'number': 2, 'created': '2017-04-13 12:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/737dd131f4296571744c0d4160c90f81b2079f72', 'message': 'Add support to create CDH 5.10 image\n\nChange-Id: Icbc765c12123a3b1d8e22e368882d14e1d986bc9\n'}, {'number': 3, 'created': '2017-04-17 07:04:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/66e66e40ea9a50201c5f7854b9bec13d68325e13', 'message': 'Add support to create CDH 5.10 image\n\nChange-Id: Icbc765c12123a3b1d8e22e368882d14e1d986bc9\n'}, {'number': 4, 'created': '2017-04-17 07:44:51.000000000', 'files': ['elements/hadoop-cloudera/pre-install.d/10-add-mirror', 'tools/gate/build-images', 'diskimage-create/diskimage-create.sh', 'elements/hadoop-cloudera/install.d/50-install-cloudera', 'elements/swift_hadoop/post-install.d/81-add-jar'], 'web_link': 'https://opendev.org/openstack/sahara-image-elements/commit/c44c4f4f4df308f6dd12e14d286b00a3557fa441', 'message': 'Add support to create CDH 5.10 image\n\nChange-Id: Icbc765c12123a3b1d8e22e368882d14e1d986bc9\n'}]",0,456546,c44c4f4f4df308f6dd12e14d286b00a3557fa441,14,4,4,22689,,,0,"Add support to create CDH 5.10 image

Change-Id: Icbc765c12123a3b1d8e22e368882d14e1d986bc9
",git fetch https://review.opendev.org/openstack/sahara-image-elements refs/changes/46/456546/4 && git format-patch -1 --stdout FETCH_HEAD,"['elements/hadoop-cloudera/pre-install.d/10-add-mirror', 'tools/gate/build-images', 'diskimage-create/diskimage-create.sh', 'elements/hadoop-cloudera/install.d/50-install-cloudera', 'elements/swift_hadoop/post-install.d/81-add-jar']",5,cf6caa918d6b6ced9e11216427c67cd6a91f3676,upgrade-cdh-version," ""5.4"" | ""5.5"" | ""5.7"" | ""5.9"" | ""5.10"")"," ""5.4"" | ""5.5"" | ""5.7"" | ""5.9"")",108,6
openstack%2Ftripleo-heat-templates~master~Iabd98a7c59373508299c2ca6e29b4bdd182df88f,openstack/tripleo-heat-templates,master,Iabd98a7c59373508299c2ca6e29b4bdd182df88f,Add more documentation around configuring DVR,ABANDONED,2016-11-02 16:30:03.000000000,2017-04-24 11:16:00.000000000,,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6681}, {'_account_id': 10239}, {'_account_id': 10873}]","[{'number': 1, 'created': '2016-11-02 16:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c4865358348d1abde726c5f0e5ab8fa4b2ed135', 'message': 'Add more documentation around configuring DVR\n\nIn short, Networking can be hard. This patch adds some documentation\ndescribing some of the things that need to be considered when deploying\nwith DVR enabled.\n\nChange-Id: Iabd98a7c59373508299c2ca6e29b4bdd182df88f\n'}, {'number': 2, 'created': '2016-11-25 02:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da97a54e68f921bfca68963c27fa47999c6b2b9c', 'message': 'Add more documentation around configuring DVR\n\nIn short, Networking can be hard. This patch adds some documentation\ndescribing some of the things that need to be considered when deploying\nwith DVR enabled.\n\nChange-Id: Iabd98a7c59373508299c2ca6e29b4bdd182df88f\n'}, {'number': 3, 'created': '2016-12-01 16:48:16.000000000', 'files': ['environments/neutron-ovs-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b5b0c5df4344b51462ee1d963d2a263f17729e0', 'message': 'Add more documentation around configuring DVR\n\nIn short, Networking can be hard. This patch adds some documentation\ndescribing some of the things that need to be considered when deploying\nwith DVR enabled.\n\nChange-Id: Iabd98a7c59373508299c2ca6e29b4bdd182df88f\n'}]",1,392874,9b5b0c5df4344b51462ee1d963d2a263f17729e0,25,6,3,6681,,,0,"Add more documentation around configuring DVR

In short, Networking can be hard. This patch adds some documentation
describing some of the things that need to be considered when deploying
with DVR enabled.

Change-Id: Iabd98a7c59373508299c2ca6e29b4bdd182df88f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/392874/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/neutron-ovs-dvr.yaml'],1,2c4865358348d1abde726c5f0e5ab8fa4b2ed135,dvr-env-docs,"# # This environment file enables DVR by configuring L3 and Metadata agents on # the compute nodes. However with DVR enabled, the Compute nodes also need to # have a bridge to the interface hosting external traffic. In simple # proof-of-concept deployments, this tends to be br-ex. It may be more # appropriate to configure something else in production environments. In # environments where the compute and controller nodes have a separate NIC # for external network traffic, a bridge must be created bridging that # interface so the Neutron L3 can access it. This is accomplished by # customizing a heat template for configuring host networking similar to the # example compute.yaml or controller.yaml in network/config/multiple-nics. # While this configures the host's networking, it does not configure Neutron # itself. You may also need to configure neutron to properly match the host # configuration. Parameters such as NeutronFlatNetworks (flat_networks in # neutron) and NeutronBridgeMappings (bridge_mappings in neutron) may need to # be changed. See the Neutron documentation for details. # With DVR enabled, the Compute nodes also need to have a bridge to the # interface hosting external traffic. In simple proof-of-concept deployments, # this tends to be br-ex, but in production deployments it is possible you will # use something different. # ML2 plugin and agents that support this feature. # L3 HA currently isn't supported when DVR is enabled. If upgrading from # a system where L3 HA is enabled and has neutron routers configured, it is # Alter these to match your environment. # NeutronFlatNetworks: 'datacentre' # NeutronBridgeMappings: 'datacentre:br-ex'","# This works by configuring L3 and Metadata agents on the # compute nodes. # With DVR enabled, the Compute nodes also need the br-ex bridge to be # connected to a physical network. # ML2 plugin and agents that support this feature # L3 HA isn't supported for DVR enabled routers. If upgrading from a system # where L3 HA is enabled and has neutron routers configured, it is",28,7
openstack%2Fdevstack~master~I551e926c1f90615e7cfbdff846dd2eea0242adc6,openstack/devstack,master,I551e926c1f90615e7cfbdff846dd2eea0242adc6,Allow for default pass through of OS_AUTH_URL,ABANDONED,2017-04-20 14:43:25.000000000,2017-04-24 11:13:13.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14525}, {'_account_id': 14571}, {'_account_id': 16376}]","[{'number': 1, 'created': '2017-04-20 14:43:25.000000000', 'files': ['openrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a075b8b475bd7a9bdc821994fcb05e63118075cf', 'message': 'Allow for default pass through of OS_AUTH_URL\n\nChange-Id: I551e926c1f90615e7cfbdff846dd2eea0242adc6\n'}]",0,458536,a075b8b475bd7a9bdc821994fcb05e63118075cf,8,6,1,2750,,,0,"Allow for default pass through of OS_AUTH_URL

Change-Id: I551e926c1f90615e7cfbdff846dd2eea0242adc6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/36/458536/1 && git format-patch -1 --stdout FETCH_HEAD,['openrc'],1,a075b8b475bd7a9bdc821994fcb05e63118075cf,os_auth_url,export OS_AUTH_URL=${KEYSTONE_AUTH_URI:-$OS_AUTH_URL},export OS_AUTH_URL=$KEYSTONE_AUTH_URI,1,1
openstack%2Fkolla-ansible~stable%2Focata~I80985794d6aaa6b4ddc71680a97e0d07085dafa7,openstack/kolla-ansible,stable/ocata,I80985794d6aaa6b4ddc71680a97e0d07085dafa7,Mount /lib/modules folder for cinder-volume container,MERGED,2017-04-20 10:15:43.000000000,2017-04-24 11:03:47.000000000,2017-04-24 11:03:47.000000000,"[{'_account_id': 3}, {'_account_id': 11869}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 22959}]","[{'number': 1, 'created': '2017-04-20 10:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b256465c83632449adc4a96bdb5c06278e305e48', 'message': 'Mount /lib/modules folder for cinder-volume container\n\nWhen using cinder lvm backend storage driver, lvcreate will load dm_*\nlinux modules when need. So /lib/modules is needed by cinder_volume\ncontainer.\n\nChange-Id: I80985794d6aaa6b4ddc71680a97e0d07085dafa7\nCloses-Bug: #1684378\n(cherry picked from commit 13e5942a578f830d6eb94e668c91977ea366f1d3)\n'}, {'number': 2, 'created': '2017-04-21 15:59:29.000000000', 'files': ['ansible/roles/cinder/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bb90f7b7ebeba43ff586651ead70fd5de0830d33', 'message': 'Mount /lib/modules folder for cinder-volume container\n\nWhen using cinder lvm backend storage driver, lvcreate will load dm_*\nlinux modules when need. So /lib/modules is needed by cinder_volume\ncontainer.\n\nChange-Id: I80985794d6aaa6b4ddc71680a97e0d07085dafa7\nCloses-Bug: #1684378\n(cherry picked from commit 13e5942a578f830d6eb94e668c91977ea366f1d3)\n'}]",0,458430,bb90f7b7ebeba43ff586651ead70fd5de0830d33,13,5,2,7488,,,0,"Mount /lib/modules folder for cinder-volume container

When using cinder lvm backend storage driver, lvcreate will load dm_*
linux modules when need. So /lib/modules is needed by cinder_volume
container.

Change-Id: I80985794d6aaa6b4ddc71680a97e0d07085dafa7
Closes-Bug: #1684378
(cherry picked from commit 13e5942a578f830d6eb94e668c91977ea366f1d3)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/458430/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/defaults/main.yml'],1,b256465c83632449adc4a96bdb5c06278e305e48,bug/1684378," - ""/lib/modules:/lib/modules:ro""",,1,0
openstack%2Fproject-navigator-data~master~I73fb7bd672ddc6549388110d2c96aa0cf81b5314,openstack/project-navigator-data,master,I73fb7bd672ddc6549388110d2c96aa0cf81b5314,Add heat api version history,MERGED,2017-04-23 15:49:22.000000000,2017-04-24 11:00:45.000000000,2017-04-24 11:00:45.000000000,"[{'_account_id': 3}, {'_account_id': 2750}]","[{'number': 1, 'created': '2017-04-23 15:49:22.000000000', 'files': ['releases/ocata/heat.json'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/b83c2677d8ed8633984efe4742c1201dca3a646e', 'message': 'Add heat api version history\n\nChange-Id: I73fb7bd672ddc6549388110d2c96aa0cf81b5314\n'}]",0,459116,b83c2677d8ed8633984efe4742c1201dca3a646e,6,2,1,12404,,,0,"Add heat api version history

Change-Id: I73fb7bd672ddc6549388110d2c96aa0cf81b5314
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/16/459116/1 && git format-patch -1 --stdout FETCH_HEAD,['releases/ocata/heat.json'],1,b83c2677d8ed8633984efe4742c1201dca3a646e,add-heat-version-history,"{ ""versions"": [ { ""id"": ""v1.0"", ""status"": ""CURRENT"" } ] } ",,8,0
openstack%2Fproject-navigator-data~master~Ibc94ec5db6c93a4303951d724b3c9e4f0ce6913d,openstack/project-navigator-data,master,Ibc94ec5db6c93a4303951d724b3c9e4f0ce6913d,add swift,MERGED,2017-04-21 19:41:40.000000000,2017-04-24 11:00:40.000000000,2017-04-24 11:00:40.000000000,"[{'_account_id': 3}, {'_account_id': 2750}]","[{'number': 1, 'created': '2017-04-21 19:41:40.000000000', 'files': ['releases/austin/swift.json', 'releases/kilo/swift.json', 'releases/havana/swift.json', 'releases/grizzly/swift.json', 'releases/cactus/swift.json', 'releases/mitaka/swift.json', 'releases/newton/swift.json', 'releases/liberty/swift.json', 'releases/icehouse/swift.json', 'releases/essex/swift.json', 'releases/diablo/swift.json', 'releases/bexar/swift.json', 'releases/folsom/swift.json', 'releases/juno/swift.json', 'releases/ocata/swift.json'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/cc0a55fe9e4c70d365e774ee8709c73880049183', 'message': 'add swift\n\nChange-Id: Ibc94ec5db6c93a4303951d724b3c9e4f0ce6913d\n'}]",0,458957,cc0a55fe9e4c70d365e774ee8709c73880049183,6,2,1,330,,,0,"add swift

Change-Id: Ibc94ec5db6c93a4303951d724b3c9e4f0ce6913d
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/57/458957/1 && git format-patch -1 --stdout FETCH_HEAD,"['releases/austin/swift.json', 'releases/kilo/swift.json', 'releases/havana/swift.json', 'releases/grizzly/swift.json', 'releases/cactus/swift.json', 'releases/mitaka/swift.json', 'releases/newton/swift.json', 'releases/liberty/swift.json', 'releases/icehouse/swift.json', 'releases/essex/swift.json', 'releases/diablo/swift.json', 'releases/bexar/swift.json', 'releases/folsom/swift.json', 'releases/juno/swift.json', 'releases/ocata/swift.json']",15,cc0a55fe9e4c70d365e774ee8709c73880049183,swift,"{ ""versions"": [ { ""id"": ""v1"", ""status"": ""CURRENT"" } ] } ",,114,2
openstack%2Fproject-navigator-data~master~I4f353451f2cd2e06c1bb34d695f926e88108c219,openstack/project-navigator-data,master,I4f353451f2cd2e06c1bb34d695f926e88108c219,Add API version history for Nova,MERGED,2017-04-23 16:02:51.000000000,2017-04-24 10:59:07.000000000,2017-04-24 10:59:07.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 7}, {'_account_id': 2750}]","[{'number': 1, 'created': '2017-04-23 16:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/d27923aabcc87173bdc31c9e05dacc7bb3123f78', 'message': ""Add API version history for Nova\n\nGoing back to essex this is fairly easy since we had\nAPI samples for the / versions document in the integrated\ntests.\n\nAfter that it gets a bit weird.\n\nWe have diablo-eol in github and the versions can be pulled\nfrom code and unit tests there.\n\nWe don't have -eol tags for austin, bexar or cactus, so\nwe have to check tags.\n\nThe last release for cactus was 2011.2 and we can pull\nthe versions from code and tests.\n\nThe last release for bexar was 2011.1 and we can use\nthe 2011.1rc1 tag in github to find the versions in the\ncode.\n\nWe don't have any release tag for austin in the git repo\neven though the openstack releases page says 2010.1 was\nthe austin release. If we go back before bexar we can\nsee that there was an ec2 and openstack route in the API:\n\nc364724a0dc7a658058fcb167af66ee7eb5bcd2a\n\nOnly the ec2 route provided versions, and it had ec2\nversions (by date) and a single 1.0 version. The OpenStack\ntop-level route didn't get it's own version handler until\nthis change:\n\n8c8b289f2626b1d9bad76bc5d4819904ace5800d\n\nSo we don't list any nova.json for austin as version\ndiscovery for the top-level openstack route handler\ndidn't exist in the austin release, or at least it\ndidn't so far as I can tell since we don't have a\ntag available to check.\n\nChange-Id: I4f353451f2cd2e06c1bb34d695f926e88108c219\n""}, {'number': 2, 'created': '2017-04-23 16:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/32ebdd1865e6e22addf2f0ea01c84c0ab506338a', 'message': ""Add API version history for Nova\n\nGoing back to essex this is fairly easy since we had\nAPI samples for the / versions document in the integrated\ntests.\n\nAfter that it gets a bit weird.\n\nWe have diablo-eol in github and the versions can be pulled\nfrom code and unit tests there.\n\nWe don't have -eol tags for austin, bexar or cactus, so\nwe have to check tags.\n\nThe last release for cactus was 2011.2 and we can pull\nthe versions from code and tests.\n\nThe last release for bexar was 2011.3.1 and we can pull\nthe versions from code and tests.\n\nWe don't have any release tag for austin in the git repo\neven though the openstack releases page says 2010.1 was\nthe austin release. We can find the 2010.1 nova code on\nlaunchpad:\n\nhttps://launchpad.net/nova/austin/2010.1\n\nAnd looking in nova/api/__init__.py we see the\nosapi_versions method on the API router class, which shows\nthe same version (v1.0) as in Bexar.\n\nChange-Id: I4f353451f2cd2e06c1bb34d695f926e88108c219\n""}, {'number': 3, 'created': '2017-04-23 16:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/44e8998d7ac8d0e779bca78b618b0677b2ba843e', 'message': 'Add API version history for Nova\n\nGoing back to essex this is fairly easy since we had\nAPI samples for the / versions document in the integrated\ntests.\n\nAfter that it gets a bit weird.\n\nWe have diablo-eol in github and the versions can be pulled\nfrom code and unit tests there.\n\nWe don\'t have -eol tags for austin, bexar or cactus, so\nwe have to check tags.\n\nThe last release for cactus was 2011.2 and we can pull\nthe versions from code and tests.\n\nThe last release for bexar was 2011.3.1 and we can pull\nthe versions from code and tests.\n\nWe don\'t have any release tag for austin in the git repo\neven though the openstack releases page says 2010.1 was\nthe austin release. We can find the 2010.1 nova code on\nlaunchpad:\n\nhttps://launchpad.net/nova/austin/2010.1\n\nAnd looking in nova/api/__init__.py we see the\nosapi_versions method on the API router class, which shows\nthe same version (v1.0) as in Bexar.\n\nPer the validation in this repo, all \'links\' and \'updated\'\nkeys in responses are removed even if they are in the\nactual responses.\n\nThis change also updates the schema, and fixes part of it:\n\n1. The README says status can include ""EXPERIMENTAL"" but that\n   wasn\'t defined as an option in the schema.\n2. The ""required"" key was misspelled.\n3. Nova uses ""version"" instead of ""max_version"" for microversions,\n   so that is added to the schema and README.\n\nChange-Id: I4f353451f2cd2e06c1bb34d695f926e88108c219\n'}, {'number': 4, 'created': '2017-04-23 16:28:04.000000000', 'files': ['releases/bexar/nova.json', 'releases/liberty/nova.json', 'releases/cactus/nova.json', 'releases/austin/nova.json', 'releases/icehouse/nova.json', 'releases/havana/nova.json', 'README.rst', 'releases/kilo/nova.json', 'releases/mitaka/nova.json', 'releases/juno/nova.json', 'releases/folsom/nova.json', 'releases/diablo/nova.json', 'releases/ocata/nova.json', 'releases/essex/nova.json', 'releases/grizzly/nova.json', 'schema.json', 'releases/newton/nova.json'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/8dda6fe5b7c00770ad9edd7a95c244e75385e63f', 'message': 'Add API version history for Nova\n\nGoing back to essex this is fairly easy since we had\nAPI samples for the / versions document in the integrated\ntests.\n\nAfter that it gets a bit weird.\n\nWe have diablo-eol in github and the versions can be pulled\nfrom code and unit tests there.\n\nWe don\'t have -eol tags for austin, bexar or cactus, so\nwe have to check tags.\n\nThe last release for cactus was 2011.2 and we can pull\nthe versions from code and tests.\n\nThe last release for bexar was 2011.3.1 and we can pull\nthe versions from code and tests.\n\nWe don\'t have any release tag for austin in the git repo\neven though the openstack releases page says 2010.1 was\nthe austin release. We can find the 2010.1 nova code on\nlaunchpad:\n\nhttps://launchpad.net/nova/austin/2010.1\n\nAnd looking in nova/api/__init__.py we see the\nosapi_versions method on the API router class, which shows\nthe same version (v1.0) as in Bexar.\n\nPer the validation in this repo, all \'links\' and \'updated\'\nkeys in responses are removed even if they are in the\nactual responses.\n\nThis change also updates the schema, and fixes part of it:\n\n1. The README says status can include ""EXPERIMENTAL"" but that\n   wasn\'t defined as an option in the schema.\n2. The ""required"" key was misspelled.\n3. Nova uses ""version"" instead of ""max_version"" for microversions,\n   so that is added to the schema and README.\n4. And for crying in the soup Martha, format the json schema!\n\nChange-Id: I4f353451f2cd2e06c1bb34d695f926e88108c219\n'}]",2,459117,8dda6fe5b7c00770ad9edd7a95c244e75385e63f,15,4,4,6873,,,0,"Add API version history for Nova

Going back to essex this is fairly easy since we had
API samples for the / versions document in the integrated
tests.

After that it gets a bit weird.

We have diablo-eol in github and the versions can be pulled
from code and unit tests there.

We don't have -eol tags for austin, bexar or cactus, so
we have to check tags.

The last release for cactus was 2011.2 and we can pull
the versions from code and tests.

The last release for bexar was 2011.3.1 and we can pull
the versions from code and tests.

We don't have any release tag for austin in the git repo
even though the openstack releases page says 2010.1 was
the austin release. We can find the 2010.1 nova code on
launchpad:

https://launchpad.net/nova/austin/2010.1

And looking in nova/api/__init__.py we see the
osapi_versions method on the API router class, which shows
the same version (v1.0) as in Bexar.

Per the validation in this repo, all 'links' and 'updated'
keys in responses are removed even if they are in the
actual responses.

This change also updates the schema, and fixes part of it:

1. The README says status can include ""EXPERIMENTAL"" but that
   wasn't defined as an option in the schema.
2. The ""required"" key was misspelled.
3. Nova uses ""version"" instead of ""max_version"" for microversions,
   so that is added to the schema and README.
4. And for crying in the soup Martha, format the json schema!

Change-Id: I4f353451f2cd2e06c1bb34d695f926e88108c219
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/17/459117/1 && git format-patch -1 --stdout FETCH_HEAD,"['releases/bexar/nova.json', 'releases/liberty/nova.json', 'releases/cactus/nova.json', 'releases/icehouse/nova.json', 'releases/havana/nova.json', 'releases/kilo/nova.json', 'releases/mitaka/nova.json', 'releases/juno/nova.json', 'releases/folsom/nova.json', 'releases/diablo/nova.json', 'releases/ocata/nova.json', 'releases/essex/nova.json', 'releases/grizzly/nova.json', 'releases/newton/nova.json']",14,d27923aabcc87173bdc31c9e05dacc7bb3123f78,nova-api-versions," ""versions"": [ { ""id"": ""v2.0"", ""links"": [ { ""href"": ""http://openstack.example.com/v2/"", ""rel"": ""self"" } ], ""status"": ""SUPPORTED"", ""version"": """", ""min_version"": """", ""updated"": ""2011-01-21T11:33:21Z"" }, { ""id"": ""v2.1"", ""links"": [ { ""href"": ""http://openstack.example.com/v2.1/"", ""rel"": ""self"" } ], ""status"": ""CURRENT"", ""version"": ""2.38"", ""min_version"": ""2.1"", ""updated"": ""2013-07-23T11:33:21Z"" } ]"," ""versions"": [ { ""id"": ""v2.0"", ""status"": ""SUPPORTED"" }, { ""id"": ""v2.1"", ""max_version"": ""2.38"", ""min_version"": ""2.1"", ""status"": ""CURRENT"" } ]",329,12
openstack%2Fproject-navigator-data~master~I1bfda678c02cee6b7ca32428740dc9c4dda9bdbf,openstack/project-navigator-data,master,I1bfda678c02cee6b7ca32428740dc9c4dda9bdbf,Add dragonflow data,MERGED,2017-04-21 04:07:06.000000000,2017-04-24 10:58:49.000000000,2017-04-24 10:58:48.000000000,"[{'_account_id': 3}, {'_account_id': 2750}, {'_account_id': 3153}]","[{'number': 1, 'created': '2017-04-21 04:07:06.000000000', 'files': ['releases/mitaka/dragonflow.json', 'releases/newton/dragonflow.json', 'releases/ocata/dragonflow.json'], 'web_link': 'https://opendev.org/openstack/project-navigator-data/commit/f0a52032666b0ca5cf7b8b6b6614a47882ba3bba', 'message': 'Add dragonflow data\n\nChange-Id: I1bfda678c02cee6b7ca32428740dc9c4dda9bdbf\n'}]",0,458718,f0a52032666b0ca5cf7b8b6b6614a47882ba3bba,7,3,1,7805,,,0,"Add dragonflow data

Change-Id: I1bfda678c02cee6b7ca32428740dc9c4dda9bdbf
",git fetch https://review.opendev.org/openstack/project-navigator-data refs/changes/18/458718/1 && git format-patch -1 --stdout FETCH_HEAD,"['releases/mitaka/dragonflow.json', 'releases/newton/dragonflow.json', 'releases/ocata/dragonflow.json']",3,f0a52032666b0ca5cf7b8b6b6614a47882ba3bba,,"{ ""versions"": [ { ""id"": ""v3.0"", ""status"": ""CURRENT"" } ] } ",,24,0
openstack%2Ffreezer-api~master~Ieb4c0f1fc8f016519f1774d76afdfda7d23ead1f,openstack/freezer-api,master,Ieb4c0f1fc8f016519f1774d76afdfda7d23ead1f,Update freezer-api devstack plugin,MERGED,2017-04-21 14:05:32.000000000,2017-04-24 10:55:03.000000000,2017-04-24 10:55:03.000000000,"[{'_account_id': 3}, {'_account_id': 11151}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}]","[{'number': 1, 'created': '2017-04-21 14:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/c1f009d6eb709ed8661bf192375ea308bd847692', 'message': 'Update freezer-api devstack plugin\n\n   * remove debian dependencies\n   * fix the cleanup function\n   * fix path to wsgi application in uwsgi mode\n\nChange-Id: Ieb4c0f1fc8f016519f1774d76afdfda7d23ead1f\n'}, {'number': 2, 'created': '2017-04-21 16:07:49.000000000', 'files': ['devstack/lib/freezer-api'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/fe7abe54bb14602722c68c28257268c769749c77', 'message': 'Update freezer-api devstack plugin\n\n   * remove debian dependencies\n   * fix the cleanup function\n   * fix path to wsgi application in uwsgi mode\n\nImplements blueprint update-freezer-gate-jobs\n\nChange-Id: Ieb4c0f1fc8f016519f1774d76afdfda7d23ead1f\n'}]",0,458853,fe7abe54bb14602722c68c28257268c769749c77,9,5,2,13940,,,0,"Update freezer-api devstack plugin

   * remove debian dependencies
   * fix the cleanup function
   * fix path to wsgi application in uwsgi mode

Implements blueprint update-freezer-gate-jobs

Change-Id: Ieb4c0f1fc8f016519f1774d76afdfda7d23ead1f
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/53/458853/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/freezer-api'],1,c1f009d6eb709ed8661bf192375ea308bd847692,update-freezer-gate-jobs," return 1 disable_apache_site freezer-api run_process freezer-api ""uwsgi --http :$FREEZER_API_PORT --need-app --master --module freezer_api.cmd.wsgi:application""","# add openjdk-7 repo support for xenial function add_jdk7_rep { sudo add-apt-repository -y ppa:openjdk-r/ppa apt_get_update } if is_ubuntu; then add_jdk7_rep fi run_process freezer-api ""uwsgi --http :$FREEZER_API_PORT --need-app --master --module freezer_api.cmd.api:application""",3,11
openstack%2Fheat~master~I2567f6600695b7764e0626ab570385c14ca17c8d,openstack/heat,master,I2567f6600695b7764e0626ab570385c14ca17c8d,TEST CODE: To print additional debug logs for printing falied ci deployment,ABANDONED,2017-04-23 17:22:48.000000000,2017-04-24 10:53:35.000000000,,"[{'_account_id': 3}, {'_account_id': 18575}]","[{'number': 1, 'created': '2017-04-23 17:22:48.000000000', 'files': ['heat/engine/stack.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/e7218a05b0e901d3eafc8ad129df369f3f46fb95', 'message': 'TEST CODE: To print additional debug logs for printing falied ci deployment\n\nFor - https://review.openstack.org/#/c/437956/\n\nChange-Id: I2567f6600695b7764e0626ab570385c14ca17c8d\n'}]",0,459121,e7218a05b0e901d3eafc8ad129df369f3f46fb95,4,2,1,18575,,,0,"TEST CODE: To print additional debug logs for printing falied ci deployment

For - https://review.openstack.org/#/c/437956/

Change-Id: I2567f6600695b7764e0626ab570385c14ca17c8d
",git fetch https://review.opendev.org/openstack/heat refs/changes/21/459121/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/stack.py'],1,e7218a05b0e901d3eafc8ad129df369f3f46fb95,test_resource_chain_debug," if res.name.isdigit(): LOG.info(""KRS: %s"" % res.name) if getattr(res, ""template_data"", None): LOG.info(""KRS: AllDigit: TemplateResource: %s"" % res.template_data())",,4,0
openstack%2Ffreezer-api~master~Ia0872897ffafb27dc509a6a1701f8a63dd799ce2,openstack/freezer-api,master,Ia0872897ffafb27dc509a6a1701f8a63dd799ce2,Change API v2 status from development to experimental,MERGED,2017-04-21 16:00:50.000000000,2017-04-24 10:45:37.000000000,2017-04-24 10:45:37.000000000,"[{'_account_id': 3}, {'_account_id': 11151}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}]","[{'number': 1, 'created': '2017-04-21 16:00:50.000000000', 'files': ['freezer_api/api/v2/__init__.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/dcfeac06a7fb1d77a82764a7590be1c574cf3939', 'message': 'Change API v2 status from development to experimental\n\nBase on OpenStack API WG guidelines [1] there is not status\ncalled DEVELOPMENT. As freezer-api v2 is not stable yet it\nneeds to be under EXPERIMENTAL status till it becomes stable.\n\n[1] https://developer.openstack.org/api-guide/quick-start/\n\nChange-Id: Ia0872897ffafb27dc509a6a1701f8a63dd799ce2\nSigned-off-by: Saad Zaher <eng.szaher@gmail.com>\n'}]",0,458904,dcfeac06a7fb1d77a82764a7590be1c574cf3939,7,5,1,13940,,,0,"Change API v2 status from development to experimental

Base on OpenStack API WG guidelines [1] there is not status
called DEVELOPMENT. As freezer-api v2 is not stable yet it
needs to be under EXPERIMENTAL status till it becomes stable.

[1] https://developer.openstack.org/api-guide/quick-start/

Change-Id: Ia0872897ffafb27dc509a6a1701f8a63dd799ce2
Signed-off-by: Saad Zaher <eng.szaher@gmail.com>
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/04/458904/1 && git format-patch -1 --stdout FETCH_HEAD,['freezer_api/api/v2/__init__.py'],1,dcfeac06a7fb1d77a82764a7590be1c574cf3939,bug/1685293," 'status': 'EXPERIMENTAL', 'updated': '2017-04-21T17:00:00',"," 'status': 'DEVELOPMENT', 'updated': '2017-03-28T16:23:00',",2,2
openstack%2Fopenstack-ansible-os_glance~master~I81de53d8ddc4b462b878b412e53a6de219b71f86,openstack/openstack-ansible-os_glance,master,I81de53d8ddc4b462b878b412e53a6de219b71f86,Perform an atomic policy file change,MERGED,2017-04-21 14:49:16.000000000,2017-04-24 10:44:43.000000000,2017-04-23 02:39:06.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 15993}]","[{'number': 1, 'created': '2017-04-21 14:49:16.000000000', 'files': ['tasks/glance_post_install.yml', 'tasks/glance_init_common.yml', 'tasks/main.yml', 'tasks/glance_init_systemd.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/cadb6bda617e11217063542ef44662e1997f8042', 'message': 'Perform an atomic policy file change\n\nThe policy.json file is currently read continually by the\nservices and is not only read on service start. We therefore\ncannot template directly to the file read by the service\n(if the service is already running) because the new policies\nmay not be valid until the service restarts. This is\nparticularly important during a major upgrade. We therefore\nonly put the policy file in place after the service restart.\n\nThis patch also tidies up the handlers and some of the install\ntasks to simplify them and reduce the tasks/code a little.\n\nChange-Id: I81de53d8ddc4b462b878b412e53a6de219b71f86\n'}]",0,458861,cadb6bda617e11217063542ef44662e1997f8042,10,3,1,6816,,,0,"Perform an atomic policy file change

The policy.json file is currently read continually by the
services and is not only read on service start. We therefore
cannot template directly to the file read by the service
(if the service is already running) because the new policies
may not be valid until the service restarts. This is
particularly important during a major upgrade. We therefore
only put the policy file in place after the service restart.

This patch also tidies up the handlers and some of the install
tasks to simplify them and reduce the tasks/code a little.

Change-Id: I81de53d8ddc4b462b878b412e53a6de219b71f86
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/61/458861/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/glance_init_common.yml', 'tasks/glance_post_install.yml', 'tasks/main.yml', 'tasks/glance_init_systemd.yml', 'handlers/main.yml']",5,cadb6bda617e11217063542ef44662e1997f8042,atomic-policy-file-change," debug: msg: ""Restarting services"" changed_when: true notify: - Stop services - Copy new policy file into place - Start services - name: Stop services service: enabled: yes state: ""stopped"" daemon_reload: ""{{ (ansible_service_mgr == 'systemd') | ternary('yes', omit) }}"" register: _stop until: _stop | success retries: 5 delay: 2 # Note (odyssey4me): # The policy.json file is currently read continually by the services # and is not only read on service start. We therefore cannot template # directly to the file read by the service because the new policies # may not be valid until the service restarts. This is particularly # important during a major upgrade. We therefore only put the policy # file in place after the service has been stopped. # - name: Copy new policy file into place copy: src: ""/etc/glance/policy.json-{{ glance_venv_tag }}"" dest: ""/etc/glance/policy.json"" remote_src: yes - name: Start services service: name: ""{{ item.value.service_name }}"" enabled: yes state: ""started"" daemon_reload: ""{{ (ansible_service_mgr == 'systemd') | ternary('yes', omit) }}"" with_dict: ""{{ glance_services }}"" when: inventory_hostname in groups[item.value.group] register: _start until: _start | success retries: 5 delay: 2"," systemd: state: ""restarted"" daemon_reload: yes",49,32
openstack%2Finstack-undercloud~master~Ia8eb26a9b1231d6d6e729059e1bb5a8ac4207575,openstack/instack-undercloud,master,Ia8eb26a9b1231d6d6e729059e1bb5a8ac4207575,"Revert ""Migrate plans from Mistral to Swift""",ABANDONED,2017-04-21 09:38:47.000000000,2017-04-24 10:43:49.000000000,,"[{'_account_id': 3}, {'_account_id': 4978}, {'_account_id': 8042}]","[{'number': 1, 'created': '2017-04-21 09:38:47.000000000', 'files': ['releasenotes/notes/migrate-plans-36bdf9a667ce02d5.yaml', 'requirements.txt', 'instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/ecba09b9cf414d7d37f9c33c69d4dcae1944fd6c', 'message': 'Revert ""Migrate plans from Mistral to Swift""\n\nThis reverts commit 486bb79c3d0192c113650fb6369c9c45e3ee640f.\n\nChange-Id: Ia8eb26a9b1231d6d6e729059e1bb5a8ac4207575\nCloses-Bug: #1685171\n'}]",3,458792,ecba09b9cf414d7d37f9c33c69d4dcae1944fd6c,8,3,1,8042,,,0,"Revert ""Migrate plans from Mistral to Swift""

This reverts commit 486bb79c3d0192c113650fb6369c9c45e3ee640f.

Change-Id: Ia8eb26a9b1231d6d6e729059e1bb5a8ac4207575
Closes-Bug: #1685171
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/92/458792/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/migrate-plans-36bdf9a667ce02d5.yaml', 'requirements.txt', 'instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py']",4,ecba09b9cf414d7d37f9c33c69d4dcae1944fd6c,bp/stop-using-mistral-env," mock_nova_client, mock_member_role_exists): mock_instance = mock.Mock() mock_nova_client.return_value = mock_instance mock_configure_ssh_keys.assert_called_with(mock_instance) calls = [mock.call(mock_instance, 'baremetal'), mock.call(mock_instance, 'control', 'control'), mock.call(mock_instance, 'compute', 'compute'), mock.call(mock_instance, 'ceph-storage', 'ceph-storage'), mock.call(mock_instance, 'block-storage', 'block-storage'), mock.call(mock_instance, 'swift-storage', 'swift-storage'), mock_post_config_mistral.assert_called_once_with(instack_env, mock_instance_mistral) undercloud._create_default_plan(mock_mistral) environment = collections.namedtuple('environment', ['name']) mock_mistral.environments.list.return_value = [ environment(name='overcloud') ] undercloud._create_default_plan(mock_mistral) mock_mistral.environments.list.return_value = [] undercloud._create_default_plan, mock_mistral, timeout=0) mock_mistral.environments.list.return_value = [] undercloud._create_default_plan, mock_mistral)"," @mock.patch('swiftclient.client.Connection', autospec=True) mock_swift_client, mock_nova_client, mock_member_role_exists): mock_instance_nova = mock.Mock() mock_nova_client.return_value = mock_instance_nova mock_instance_swift = mock.Mock() mock_swift_client.return_value = mock_instance_swift mock_configure_ssh_keys.assert_called_with(mock_instance_nova) calls = [mock.call(mock_instance_nova, 'baremetal'), mock.call(mock_instance_nova, 'control', 'control'), mock.call(mock_instance_nova, 'compute', 'compute'), mock.call(mock_instance_nova, 'ceph-storage', 'ceph-storage'), mock.call(mock_instance_nova, 'block-storage', 'block-storage'), mock.call(mock_instance_nova, 'swift-storage', 'swift-storage'), mock_post_config_mistral.assert_called_once_with( instack_env, mock_instance_mistral, mock_instance_swift) undercloud._create_default_plan(mock_mistral, []) undercloud._create_default_plan(mock_mistral, ['overcloud']) undercloud._create_default_plan, mock_mistral, [], timeout=0) undercloud._create_default_plan, mock_mistral, [])",28,63
openstack%2Fpuppet-gnocchi~master~I0cd4fca662c27aa405510d6d6ba07b2a16e05f51,openstack/puppet-gnocchi,master,I0cd4fca662c27aa405510d6d6ba07b2a16e05f51,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:49.000000000,2017-04-24 10:42:41.000000000,2017-04-24 08:17:59.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}, {'_account_id': 23317}]","[{'number': 1, 'created': '2017-04-21 23:22:49.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/f8dea505253a9cad1dd89dd2400c0dbd7127c2b0', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I0cd4fca662c27aa405510d6d6ba07b2a16e05f51\n'}]",0,458996,f8dea505253a9cad1dd89dd2400c0dbd7127c2b0,7,4,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I0cd4fca662c27aa405510d6d6ba07b2a16e05f51
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/96/458996/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,f8dea505253a9cad1dd89dd2400c0dbd7127c2b0,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Ffreezer-api~master~Id4619ae625865df585dfadb0761f711f702aa1ab,openstack/freezer-api,master,Id4619ae625865df585dfadb0761f711f702aa1ab,Add 'freezer_action' to action schema,MERGED,2017-03-30 05:07:14.000000000,2017-04-24 10:29:40.000000000,2017-04-24 10:29:40.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 21224}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-03-30 05:07:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/b9ac317cde7ba1f901a23a87716797e3bcb78e50', 'message': ""Add 'freezer_action' to action schema\n\nCurrently we can create a new action with invalid\naction file that has no 'freezer_action' option\ncorrectly, but when we get the action info with\n'freezer action-list', it will show the default\nand invalid values. So this patch add 'freezer-action'\nto the json validation.\n\nChange-Id: Id4619ae625865df585dfadb0761f711f702aa1ab\nCloses-Bug: #1677188\n""}, {'number': 2, 'created': '2017-03-30 05:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/bad857ff211ab8fae2089582b855c399ca45d45d', 'message': ""Add 'freezer_action' to action schema\n\nCurrently we can create a new action with invalid\naction file that has no 'freezer_action' option\ncorrectly, but when we get the action info with\n'freezer action-list', it will show the default\nand invalid values. So this patch add 'freezer-action'\nto the json validation.\n\nChange-Id: Id4619ae625865df585dfadb0761f711f702aa1ab\nCloses-Bug: #1677188\n""}, {'number': 3, 'created': '2017-03-30 06:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/cc45a89794c4f8467b1bf1db0fd71d5f8a0d598b', 'message': ""Add 'freezer_action' to action schema\n\nCurrently we can create a new action with invalid\naction file that has no 'freezer_action' option\ncorrectly, but when we get the action info with\n'freezer action-list', it will show the default\nand invalid values. So this patch add 'freezer-action'\nto the json validation.\n\nChange-Id: Id4619ae625865df585dfadb0761f711f702aa1ab\nCloses-Bug: #1677188\n""}, {'number': 4, 'created': '2017-03-30 08:36:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/26c0a5e4c388a360f589da38d3736a5395f86762', 'message': ""Add 'freezer_action' to action schema\n\nCurrently we can create a new action with invalid\naction file that has no 'freezer_action' option\ncorrectly, but when we get the action info with\n'freezer action-list', it will show the default\nand invalid values. So this patch add 'freezer-action'\nto the json validation.\n\nChange-Id: Id4619ae625865df585dfadb0761f711f702aa1ab\nCloses-Bug: #1677188\n""}, {'number': 5, 'created': '2017-03-30 09:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/53a6ccec67e407e68b3aa75276bf0f28d8a28a61', 'message': ""Add 'freezer_action' to action schema\n\nCurrently we can create a new action with invalid\naction file that has no 'freezer_action' option\ncorrectly, but when we get the action info with\n'freezer action-list', it will show the default\nand invalid values. So this patch add 'freezer-action'\nto the json validation.\n\nChange-Id: Id4619ae625865df585dfadb0761f711f702aa1ab\nCloses-Bug: #1677188\n""}, {'number': 6, 'created': '2017-03-30 10:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/4478987cb242983815eac00f5e8227b13f634393', 'message': ""Add 'freezer_action' to action schema\n\nCurrently we can create a new action with invalid\naction file that has no 'freezer_action' option\ncorrectly, but when we get the action info with\n'freezer action-list', it will show the default\nand invalid values. So this patch add 'freezer-action'\nto the json validation.\n\nChange-Id: Id4619ae625865df585dfadb0761f711f702aa1ab\nCloses-Bug: #1677188\n""}, {'number': 7, 'created': '2017-03-30 10:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/8d3c3db63bea625d34dde2bf5651eaba4f9acc26', 'message': ""Add 'freezer_action' to action schema\n\nCurrently we can create a new action with invalid\naction file that has no 'freezer_action' option\ncorrectly, but when we get the action info with\n'freezer action-list', it will show the default\nand invalid values. So this patch add 'freezer-action'\nto the json validation.\n\nChange-Id: Id4619ae625865df585dfadb0761f711f702aa1ab\nCloses-Bug: #1677188\n""}, {'number': 8, 'created': '2017-04-20 00:51:55.000000000', 'files': ['freezer_api/tests/freezer_api_tempest_plugin/tests/api/test_api_actions.py', 'README.rst', 'freezer_api/common/json_schemas.py', 'install-guide/source/jobs.rst'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/8c99dcefb73b13c524b0cc67697eed56363c81c2', 'message': ""Add 'freezer_action' to action schema\n\nCurrently we can create a new action with invalid\naction file that has no 'freezer_action' option\ncorrectly, but when we get the action info with\n'freezer action-list', it will show the default\nand invalid values. So this patch add 'freezer-action'\nto the json validation.\n\nDepends-On: I45c419852b177e1d1b067bb5b7f25a60c6c88f7f\nChange-Id: Id4619ae625865df585dfadb0761f711f702aa1ab\nCloses-Bug: #1677188\n""}]",0,451648,8c99dcefb73b13c524b0cc67697eed56363c81c2,37,6,8,21224,,,0,"Add 'freezer_action' to action schema

Currently we can create a new action with invalid
action file that has no 'freezer_action' option
correctly, but when we get the action info with
'freezer action-list', it will show the default
and invalid values. So this patch add 'freezer-action'
to the json validation.

Depends-On: I45c419852b177e1d1b067bb5b7f25a60c6c88f7f
Change-Id: Id4619ae625865df585dfadb0761f711f702aa1ab
Closes-Bug: #1677188
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/48/451648/6 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'freezer_api/common/json_schemas.py', 'install-guide/source/jobs.rst']",3,b9ac317cde7ba1f901a23a87716797e3bcb78e50,bug/1677188," ""backup_name"": ""project_mayhem_backup"""," ""backup-name"": ""project_mayhem_backup""",4,3
openstack%2Ffreezer~master~I057b2623be21f97b926e16c3594aea6b9ebfc297,openstack/freezer,master,I057b2623be21f97b926e16c3594aea6b9ebfc297,Fix remove old backups error,MERGED,2017-04-11 02:27:34.000000000,2017-04-24 10:13:04.000000000,2017-04-24 10:13:04.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14509}, {'_account_id': 21224}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-04-11 02:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/de7eeabe84706f5393b60960a2a6474c71cb26ac', 'message': ""Fix remove old backups error\n\nCurrently, remove old backups with created\njob that contains admin action will failed\nwith error info 'Critical Error: unsupported\ntype for timedelta days component: str'. This\npatch will fix it.\n\nChange-Id: I057b2623be21f97b926e16c3594aea6b9ebfc297\nCloses-Bug: #1681617\n""}, {'number': 2, 'created': '2017-04-11 10:27:42.000000000', 'files': ['freezer/job.py'], 'web_link': 'https://opendev.org/openstack/freezer/commit/c2c276dc7cfd5c0dc7b2b275192c3f9fa82bf9a3', 'message': ""Fix remove old backups error\n\nCurrently, remove old backups with created\njob that contains admin action will failed\nwith error info 'Critical Error: unsupported\ntype for timedelta days component: str'. This\npatch will fix it.\n\nChange-Id: I057b2623be21f97b926e16c3594aea6b9ebfc297\nCloses-Bug: #1681617\n""}]",2,455495,c2c276dc7cfd5c0dc7b2b275192c3f9fa82bf9a3,12,5,2,21224,,,0,"Fix remove old backups error

Currently, remove old backups with created
job that contains admin action will failed
with error info 'Critical Error: unsupported
type for timedelta days component: str'. This
patch will fix it.

Change-Id: I057b2623be21f97b926e16c3594aea6b9ebfc297
Closes-Bug: #1681617
",git fetch https://review.opendev.org/openstack/freezer refs/changes/95/455495/2 && git format-patch -1 --stdout FETCH_HEAD,['freezer/job.py'],1,de7eeabe84706f5393b60960a2a6474c71cb26ac,bug/1681617, datetime.timedelta(days=int(self.conf.remove_older_than)), datetime.timedelta(days=self.conf.remove_older_than),1,1
openstack%2Ffreezer-api~master~I8c9a5a84e385525bcb168534908397e3473e220c,openstack/freezer-api,master,I8c9a5a84e385525bcb168534908397e3473e220c,Replace six.iteritems() with .items(),MERGED,2017-03-30 09:34:31.000000000,2017-04-24 10:11:34.000000000,2017-04-24 10:11:34.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14509}, {'_account_id': 22405}]","[{'number': 1, 'created': '2017-03-30 09:34:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/c81e08b7e12b8cb67c280d7b379e9d5f155b82b5', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to\nachieve iterators. We can use dict.items instead, as it will\nreturn iterators in PY3 as well. And dict.items/keys will more\nreadable.\n2.In py2, the performance about list should be negligible,\nsee the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I8c9a5a84e385525bcb168534908397e3473e220c\n'}, {'number': 2, 'created': '2017-03-30 12:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/8272305cbd1a1fba36b26aeca8276eafa9c28fcf', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to\nachieve iterators. We can use dict.items instead, as it will\nreturn iterators in PY3 as well. And dict.items/keys will more\nreadable.\n2.In py2, the performance about list should be negligible,\nsee the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I8c9a5a84e385525bcb168534908397e3473e220c\n'}, {'number': 3, 'created': '2017-03-31 09:33:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/2234002d7f852949dd400976000f2ce0d824992b', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to\nachieve iterators. We can use dict.items instead, as it will\nreturn iterators in PY3 as well. And dict.items/keys will more\nreadable.\n2.In py2, the performance about list should be negligible,\nsee the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I8c9a5a84e385525bcb168534908397e3473e220c\n'}, {'number': 4, 'created': '2017-04-23 23:16:27.000000000', 'files': ['freezer_api/api/v1/sessions.py', 'freezer_api/api/v1/jobs.py'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/d775f38f7a39f631c532314555b9453ac37bc09d', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to\nachieve iterators. We can use dict.items instead, as it will\nreturn iterators in PY3 as well. And dict.items/keys will more\nreadable.\n2.In py2, the performance about list should be negligible,\nsee the link [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: I8c9a5a84e385525bcb168534908397e3473e220c\n'}]",0,451721,d775f38f7a39f631c532314555b9453ac37bc09d,19,4,4,19790,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using six.iteritems to
achieve iterators. We can use dict.items instead, as it will
return iterators in PY3 as well. And dict.items/keys will more
readable.
2.In py2, the performance about list should be negligible,
see the link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: I8c9a5a84e385525bcb168534908397e3473e220c
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/21/451721/3 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_api/api/v1/sessions.py', 'freezer_api/api/v1/jobs.py']",2,c81e08b7e12b8cb67c280d7b379e9d5f155b82b5,," event, params = next(doc.items()) for key, val in iction_defaults.items():","import six event, params = next(six.iteritems(doc)) for key, val in six.iteritems(action_defaults):",3,5
openstack%2Fopenstack-ansible-os_octavia~master~If8e8330a6829405a9b17e8a89ba2b48c4a6d6a21,openstack/openstack-ansible-os_octavia,master,If8e8330a6829405a9b17e8a89ba2b48c4a6d6a21,Fix role gate tests for Ansible 2.3,MERGED,2017-04-20 02:14:04.000000000,2017-04-24 10:08:33.000000000,2017-04-24 10:08:33.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-20 02:14:04.000000000', 'files': ['tests/host_vars/localhost.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/938282295e5c57f146616d320613f5d64d2d7e1e', 'message': ""Fix role gate tests for Ansible 2.3\n\n'ansible_become' defined as a host_var or in the inventory for a host\nhas a higher precedence than 'become' defined within a playbook.\n\nIn change Id5b76a87809f03951c954fc3d752419a673403f7, 'become' was\ndefined explicitly for each play running against localhost so\n'ansible_become' should be removed from its host_vars.\n\nChange-Id: If8e8330a6829405a9b17e8a89ba2b48c4a6d6a21\n""}]",0,458299,938282295e5c57f146616d320613f5d64d2d7e1e,11,3,1,14805,,,0,"Fix role gate tests for Ansible 2.3

'ansible_become' defined as a host_var or in the inventory for a host
has a higher precedence than 'become' defined within a playbook.

In change Id5b76a87809f03951c954fc3d752419a673403f7, 'become' was
defined explicitly for each play running against localhost so
'ansible_become' should be removed from its host_vars.

Change-Id: If8e8330a6829405a9b17e8a89ba2b48c4a6d6a21
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/99/458299/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/host_vars/localhost.yml'],1,938282295e5c57f146616d320613f5d64d2d7e1e,fix-2.3," veth_peer: ""eth14"" ","ansible_become: True veth_peer: ""eth14""",1,2
openstack%2Fopenstack-ansible-os_ironic~master~I0a3019ed7f4e151625682d009e5359378152592d,openstack/openstack-ansible-os_ironic,master,I0a3019ed7f4e151625682d009e5359378152592d,Fix role gate tests for Ansible 2.3,MERGED,2017-04-20 00:31:44.000000000,2017-04-24 10:07:10.000000000,2017-04-24 10:07:10.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-20 00:31:44.000000000', 'files': ['tests/host_vars/localhost.yml', 'tests/test-rest-api.yml', 'tests/test-ironic-cli.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ironic/commit/4995ed78f3b77cfee702c73be6a3458ad9daeaae', 'message': ""Fix role gate tests for Ansible 2.3\n\n'ansible_become' defined as a host_var or in the inventory for a host\nhas a higher precedence than 'become' defined within a playbook.\n\nIn change Id5b76a87809f03951c954fc3d752419a673403f7, 'become' was\ndefined explicitly for each play running against localhost so\n'ansible_become' should be removed from its host_vars.\n\nChange-Id: I0a3019ed7f4e151625682d009e5359378152592d\n""}]",0,458280,4995ed78f3b77cfee702c73be6a3458ad9daeaae,12,3,1,14805,,,0,"Fix role gate tests for Ansible 2.3

'ansible_become' defined as a host_var or in the inventory for a host
has a higher precedence than 'become' defined within a playbook.

In change Id5b76a87809f03951c954fc3d752419a673403f7, 'become' was
defined explicitly for each play running against localhost so
'ansible_become' should be removed from its host_vars.

Change-Id: I0a3019ed7f4e151625682d009e5359378152592d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ironic refs/changes/80/458280/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/host_vars/localhost.yml', 'tests/test-rest-api.yml', 'tests/test-ironic-cli.yml']",3,4995ed78f3b77cfee702c73be6a3458ad9daeaae,fix-2.3, become: true,,2,1
openstack%2Fmanila~master~If7710452d8081a4728332437240f67ba677f915b,openstack/manila,master,If7710452d8081a4728332437240f67ba677f915b,[DNM] test container driver with dynamically created projects,ABANDONED,2017-04-04 13:33:20.000000000,2017-04-24 09:56:25.000000000,,"[{'_account_id': 3}, {'_account_id': 15942}, {'_account_id': 18128}, {'_account_id': 22248}, {'_account_id': 24594}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-04-04 13:33:20.000000000', 'files': ['contrib/ci/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/b166bea38021985bdddaa8af32eeeaa9597e6ee0', 'message': '[DNM] test container driver with dynamically created projects\n\nChange-Id: If7710452d8081a4728332437240f67ba677f915b\n'}]",0,453170,b166bea38021985bdddaa8af32eeeaa9597e6ee0,10,6,1,8851,,,0,"[DNM] test container driver with dynamically created projects

Change-Id: If7710452d8081a4728332437240f67ba677f915b
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/453170/1 && git format-patch -1 --stdout FETCH_HEAD,['contrib/ci/post_test_hook.sh'],1,b166bea38021985bdddaa8af32eeeaa9597e6ee0,, iniset $TEMPEST_CONFIG auth use_dynamic_credentials True,,1,0
openstack%2Fopenstack-ansible-os_cinder~master~If4a159259d7e1d19167b9bef51fa11bea7d8d333,openstack/openstack-ansible-os_cinder,master,If4a159259d7e1d19167b9bef51fa11bea7d8d333,Only install git when developer_mode is enabled,MERGED,2017-03-27 15:35:41.000000000,2017-04-24 09:51:47.000000000,2017-03-29 17:08:10.000000000,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 10881}, {'_account_id': 12807}]","[{'number': 1, 'created': '2017-03-27 15:35:41.000000000', 'files': ['vars/redhat-7.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'tasks/cinder_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/28f537a91bbe90dd741c27cb54a818e7f1e1387b', 'message': 'Only install git when developer_mode is enabled\n\nChange-Id: If4a159259d7e1d19167b9bef51fa11bea7d8d333\n'}]",0,450293,28f537a91bbe90dd741c27cb54a818e7f1e1387b,11,4,1,2799,,,0,"Only install git when developer_mode is enabled

Change-Id: If4a159259d7e1d19167b9bef51fa11bea7d8d333
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/93/450293/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat-7.yml', 'vars/ubuntu-16.04.yml', 'defaults/main.yml', 'tasks/cinder_install.yml']",4,28f537a91bbe90dd741c27cb54a818e7f1e1387b,,"- name: Install distro packages for developer_mode installs package: name: ""{{ item }}"" state: ""{{ cinder_package_state }}"" register: install_packages until: install_packages|success retries: 5 delay: 2 with_items: ""{{ cinder_developer_mode_packages }}"" when: cinder_developer_mode | bool ",,13,2
openstack%2Fopenstack-ansible~master~I9a05325c6dca69674e026039beee6d914f0c0e41,openstack/openstack-ansible,master,I9a05325c6dca69674e026039beee6d914f0c0e41,Unset bootstrap-ansible variables between upgrades,MERGED,2017-04-23 08:14:35.000000000,2017-04-24 09:49:41.000000000,2017-04-24 09:48:39.000000000,"[{'_account_id': 3}, {'_account_id': 15993}, {'_account_id': 17068}]","[{'number': 1, 'created': '2017-04-23 08:14:35.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4279629e5337fcc6f4e4b7310688c1dd852a574d', 'message': 'Unset bootstrap-ansible variables between upgrades\n\nDuring upgrade testing, unset environment variables used by the\nbootstrap-ansible script to allow newer versions of Ansible and\nglobal requirements to be installed.\n\nChange-Id: I9a05325c6dca69674e026039beee6d914f0c0e41\n'}]",0,459094,4279629e5337fcc6f4e4b7310688c1dd852a574d,10,3,1,14805,,,0,"Unset bootstrap-ansible variables between upgrades

During upgrade testing, unset environment variables used by the
bootstrap-ansible script to allow newer versions of Ansible and
global requirements to be installed.

Change-Id: I9a05325c6dca69674e026039beee6d914f0c0e41
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/94/459094/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,4279629e5337fcc6f4e4b7310688c1dd852a574d,periodic_upgrades, # Unset environment variables used by the bootstrap-ansible # script to allow newer versions of Ansible and global # requirements to be installed. unset ANSIBLE_PACKAGE unset UPPER_CONSTRAINTS_FILE ,,6,0
openstack%2Ftempest~master~Ib5dbb2e4a5d3d05a18e30b890b316c0669bf4229,openstack/tempest,master,Ib5dbb2e4a5d3d05a18e30b890b316c0669bf4229,Deprecate the forbid_global_implied_dsr cfg option,MERGED,2017-04-23 10:45:58.000000000,2017-04-24 09:48:50.000000000,2017-04-24 09:48:50.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8556}]","[{'number': 1, 'created': '2017-04-23 10:45:58.000000000', 'files': ['tempest/config.py', 'releasenotes/notes/deprecate-config-forbid_global_implied_dsr-e64cfa66e6e3ded5.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bd391dc5d93efb443ec2448796077cf819144c3a', 'message': 'Deprecate the forbid_global_implied_dsr cfg option\n\nThe config option ``forbid_global_implied_dsr`` from the ``IdentityFeature``\ngroup is now deprecated. This feature flag was introduced to support\ntesting of old OpenStack versions which are not supported anymore.\n\nChange-Id: Ib5dbb2e4a5d3d05a18e30b890b316c0669bf4229\n'}]",0,459098,bd391dc5d93efb443ec2448796077cf819144c3a,9,3,1,7350,,,0,"Deprecate the forbid_global_implied_dsr cfg option

The config option ``forbid_global_implied_dsr`` from the ``IdentityFeature``
group is now deprecated. This feature flag was introduced to support
testing of old OpenStack versions which are not supported anymore.

Change-Id: Ib5dbb2e4a5d3d05a18e30b890b316c0669bf4229
",git fetch https://review.opendev.org/openstack/tempest refs/changes/98/459098/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/config.py', 'releasenotes/notes/deprecate-config-forbid_global_implied_dsr-e64cfa66e6e3ded5.yaml']",2,bd391dc5d93efb443ec2448796077cf819144c3a,,--- deprecations: - The config option ``forbid_global_implied_dsr`` from the ``IdentityFeature`` group is now deprecated. This feature flag was introduced to support testing of old OpenStack versions which are not supported anymore. ,,10,1
openstack%2Ftripleo-docs~master~Ia6069b68678ae332be7fe58244b9dbbb7d2e1bc3,openstack/tripleo-docs,master,Ia6069b68678ae332be7fe58244b9dbbb7d2e1bc3,Fix references to files in tripleo-common/contrib,MERGED,2017-04-20 22:06:07.000000000,2017-04-24 09:47:01.000000000,2017-04-24 09:47:01.000000000,"[{'_account_id': 3}, {'_account_id': 3153}, {'_account_id': 4328}, {'_account_id': 10239}]","[{'number': 1, 'created': '2017-04-20 22:06:07.000000000', 'files': ['doc/source/containers_deployment/architecture.rst', 'doc/source/containers_deployment/overcloud.rst', 'doc/source/containers_deployment/tips_tricks.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/9a68cc906ea8d3b53d249913a07991abcb4c16d0', 'message': 'Fix references to files in tripleo-common/contrib\n\ncontrib will be deleted soon, and the container-images files are\npackaged now. This change fixes references to these files in the\ncontainer building documentation.\n\nChange-Id: Ia6069b68678ae332be7fe58244b9dbbb7d2e1bc3\n'}]",2,458669,9a68cc906ea8d3b53d249913a07991abcb4c16d0,9,4,1,4571,,,0,"Fix references to files in tripleo-common/contrib

contrib will be deleted soon, and the container-images files are
packaged now. This change fixes references to these files in the
container building documentation.

Change-Id: Ia6069b68678ae332be7fe58244b9dbbb7d2e1bc3
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/69/458669/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/containers_deployment/architecture.rst', 'doc/source/containers_deployment/overcloud.rst', 'doc/source/containers_deployment/tips_tricks.rst']",3,9a68cc906ea8d3b53d249913a07991abcb4c16d0,container-images,`container-images/overcloud_containers.yaml` tripleo-common repo. These service,`contrib/overcloud_containers.yaml` tripleo-common repo. These service uploader: docker pull_source: docker.io,6,6
openstack%2Fpuppet-glance~master~Idd4786398abb3ef74dc6b9746dcd7646f30f8f40,openstack/puppet-glance,master,Idd4786398abb3ef74dc6b9746dcd7646f30f8f40,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:45.000000000,2017-04-24 09:31:41.000000000,2017-04-24 09:31:41.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:22:45.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/53d268aa8ba0576302cf47fa406e746c0f541941', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Idd4786398abb3ef74dc6b9746dcd7646f30f8f40\n'}]",0,458995,53d268aa8ba0576302cf47fa406e746c0f541941,8,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Idd4786398abb3ef74dc6b9746dcd7646f30f8f40
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/95/458995/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,53d268aa8ba0576302cf47fa406e746c0f541941,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',7,7
openstack%2Fpuppet-keystone~master~I9e10bf3accecff634a6b40c22fe802085253c383,openstack/puppet-keystone,master,I9e10bf3accecff634a6b40c22fe802085253c383,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:06.000000000,2017-04-24 09:31:34.000000000,2017-04-24 09:31:34.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:06.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5401a0f75c9ebf80e64508f36d8ddae9c846f62c', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I9e10bf3accecff634a6b40c22fe802085253c383\n'}]",0,459000,5401a0f75c9ebf80e64508f36d8ddae9c846f62c,8,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I9e10bf3accecff634a6b40c22fe802085253c383
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/00/459000/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,5401a0f75c9ebf80e64508f36d8ddae9c846f62c,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',5,5
openstack%2Fpuppet-heat~master~Id5913b46c3003bce1312483c5c1c7da7506c697e,openstack/puppet-heat,master,Id5913b46c3003bce1312483c5c1c7da7506c697e,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:53.000000000,2017-04-24 09:31:29.000000000,2017-04-24 09:31:29.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}, {'_account_id': 23308}]","[{'number': 1, 'created': '2017-04-21 23:22:53.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/7b774230c65032ba0fbe5206627eabeefaa5f859', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Id5913b46c3003bce1312483c5c1c7da7506c697e\n'}]",0,458997,7b774230c65032ba0fbe5206627eabeefaa5f859,9,4,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Id5913b46c3003bce1312483c5c1c7da7506c697e
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/97/458997/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,7b774230c65032ba0fbe5206627eabeefaa5f859,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-neutron~master~Ie0a9792e7494aa4b7e5b620aef126e767cb74888,openstack/puppet-neutron,master,Ie0a9792e7494aa4b7e5b620aef126e767cb74888,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:36.000000000,2017-04-24 09:31:22.000000000,2017-04-24 09:31:22.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:36.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2e8b7a07a63cb39c87d3907dccd05203be33c2f0', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Ie0a9792e7494aa4b7e5b620aef126e767cb74888\n'}]",0,459005,2e8b7a07a63cb39c87d3907dccd05203be33c2f0,8,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Ie0a9792e7494aa4b7e5b620aef126e767cb74888
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/05/459005/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,2e8b7a07a63cb39c87d3907dccd05203be33c2f0,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',8,8
openstack%2Fopenstack-ansible-os_trove~master~Ieaf67c9a776c43e9fd39c63a92642b55a49bb9bc,openstack/openstack-ansible-os_trove,master,Ieaf67c9a776c43e9fd39c63a92642b55a49bb9bc,Optimise apt cache update task,MERGED,2017-04-21 15:52:11.000000000,2017-04-24 09:31:20.000000000,2017-04-23 02:54:11.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-04-21 15:52:11.000000000', 'files': ['tasks/trove_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/27545d222ad69f56a7d0a56303256412bae68723', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: Ieaf67c9a776c43e9fd39c63a92642b55a49bb9bc\n""}]",0,458898,27545d222ad69f56a7d0a56303256412bae68723,12,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: Ieaf67c9a776c43e9fd39c63a92642b55a49bb9bc
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/98/458898/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/trove_install.yml', 'meta/main.yml']",2,27545d222ad69f56a7d0a56303256412bae68723,use_package_module, min_ansible_version: 2.2, min_ansible_version: 2.0,3,8
openstack%2Fpuppet-vswitch~master~I711233114ca7e908684193266a945e0527b7eab4,openstack/puppet-vswitch,master,I711233114ca7e908684193266a945e0527b7eab4,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:39.000000000,2017-04-24 09:31:12.000000000,2017-04-24 09:31:12.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:24:39.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/98dc319971b0097737fae0d70ce09dfb9049c74d', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I711233114ca7e908684193266a945e0527b7eab4\n'}]",0,459018,98dc319971b0097737fae0d70ce09dfb9049c74d,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I711233114ca7e908684193266a945e0527b7eab4
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/18/459018/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,98dc319971b0097737fae0d70ce09dfb9049c74d,puppet-pike-m2-dev,version = '7.1.0'release = '7.1.0-dev',version = '11.0.0'release = '11.0.0',3,3
openstack%2Fpuppet-zaqar~master~I7ed9782f9598ed1b427102aaf7ea2062168a04de,openstack/puppet-zaqar,master,I7ed9782f9598ed1b427102aaf7ea2062168a04de,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:47.000000000,2017-04-24 09:31:06.000000000,2017-04-24 09:31:06.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:24:47.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/e5bc71f0200285b1c6859b0f5823946090e51993', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I7ed9782f9598ed1b427102aaf7ea2062168a04de\n'}]",0,459020,e5bc71f0200285b1c6859b0f5823946090e51993,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I7ed9782f9598ed1b427102aaf7ea2062168a04de
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/20/459020/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,e5bc71f0200285b1c6859b0f5823946090e51993,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-trove~master~Ia3de6c7dcc733148618448450f68a0cd5c97b561,openstack/puppet-trove,master,Ia3de6c7dcc733148618448450f68a0cd5c97b561,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:35.000000000,2017-04-24 09:31:01.000000000,2017-04-24 09:31:01.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:24:35.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/46534ad1bc6c0d3dbc8ec6f9770ffd8d0d59b216', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Ia3de6c7dcc733148618448450f68a0cd5c97b561\n'}]",0,459017,46534ad1bc6c0d3dbc8ec6f9770ffd8d0d59b216,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Ia3de6c7dcc733148618448450f68a0cd5c97b561
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/17/459017/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,46534ad1bc6c0d3dbc8ec6f9770ffd8d0d59b216,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-tempest~master~I9f6f7b9259802f88e737a171a3ec2de263c5711b,openstack/puppet-tempest,master,I9f6f7b9259802f88e737a171a3ec2de263c5711b,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:31.000000000,2017-04-24 09:30:56.000000000,2017-04-24 09:30:56.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:24:31.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/b0af6a6b86b5e75c72dde554faabb3461cd6dfca', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I9f6f7b9259802f88e737a171a3ec2de263c5711b\n'}]",0,459016,b0af6a6b86b5e75c72dde554faabb3461cd6dfca,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I9f6f7b9259802f88e737a171a3ec2de263c5711b
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/16/459016/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,b0af6a6b86b5e75c72dde554faabb3461cd6dfca,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',5,5
openstack%2Fpuppet-tacker~master~I2ceb2092667481b45df98770f1e81555a6f82adb,openstack/puppet-tacker,master,I2ceb2092667481b45df98770f1e81555a6f82adb,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:22.000000000,2017-04-24 09:30:50.000000000,2017-04-24 09:30:50.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:24:22.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/bf753ab462855f00fa24f6e23fcda2c30bfbeafb', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I2ceb2092667481b45df98770f1e81555a6f82adb\n'}]",0,459015,bf753ab462855f00fa24f6e23fcda2c30bfbeafb,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I2ceb2092667481b45df98770f1e81555a6f82adb
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/15/459015/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,bf753ab462855f00fa24f6e23fcda2c30bfbeafb,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-panko~master~Ib4543444fe226993b9d11db862930d2aa8937c44,openstack/puppet-panko,master,Ib4543444fe226993b9d11db862930d2aa8937c44,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:09.000000000,2017-04-24 09:30:45.000000000,2017-04-24 09:30:45.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:24:09.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/909b40781fa8faa13f1feda841904fa54faf5ff5', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Ib4543444fe226993b9d11db862930d2aa8937c44\n'}]",0,459012,909b40781fa8faa13f1feda841904fa54faf5ff5,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Ib4543444fe226993b9d11db862930d2aa8937c44
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/12/459012/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,909b40781fa8faa13f1feda841904fa54faf5ff5,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-swift~master~If4f2d8c50095ffcf2ebda4538a2bfdbbb1e0134d,openstack/puppet-swift,master,If4f2d8c50095ffcf2ebda4538a2bfdbbb1e0134d,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:18.000000000,2017-04-24 09:30:39.000000000,2017-04-24 09:30:39.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:24:18.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/898033be109d61214dd8cdf1d286cc1b6a0707a8', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: If4f2d8c50095ffcf2ebda4538a2bfdbbb1e0134d\n'}]",0,459014,898033be109d61214dd8cdf1d286cc1b6a0707a8,8,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: If4f2d8c50095ffcf2ebda4538a2bfdbbb1e0134d
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/14/459014/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,898033be109d61214dd8cdf1d286cc1b6a0707a8,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',4,4
openstack%2Fpuppet-watcher~master~I9ca32c63a440cfb3e503cf625a2579cd3605af9d,openstack/puppet-watcher,master,I9ca32c63a440cfb3e503cf625a2579cd3605af9d,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:43.000000000,2017-04-24 09:30:36.000000000,2017-04-24 09:30:36.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}, {'_account_id': 24680}]","[{'number': 1, 'created': '2017-04-21 23:24:43.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/6ea6682a3401c8a515be1507c90e04b4237db873', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I9ca32c63a440cfb3e503cf625a2579cd3605af9d\n'}]",0,459019,6ea6682a3401c8a515be1507c90e04b4237db873,8,4,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I9ca32c63a440cfb3e503cf625a2579cd3605af9d
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/19/459019/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,6ea6682a3401c8a515be1507c90e04b4237db873,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',5,5
openstack%2Ftripleo-heat-templates~master~Iecead2d6581dff7a9cead58de6505567d7cd2402,openstack/tripleo-heat-templates,master,Iecead2d6581dff7a9cead58de6505567d7cd2402,Allow configuring enabled hardware types for Ironic,MERGED,2017-04-05 10:53:52.000000000,2017-04-24 09:30:30.000000000,2017-04-24 09:30:30.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 9414}, {'_account_id': 10239}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-05 10:53:52.000000000', 'files': ['releasenotes/notes/ironic-hardware-types-fe5140549d3bb792.yaml', 'puppet/services/ironic-conductor.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d03b9d755303944a920081a4205d7e4457661dd', 'message': 'Allow configuring enabled hardware types for Ironic\n\nThis enabled ``ipmi`` hardware type with all defaults + support for\nsocat-based nova-compatible serial console.\n\nPart of blueprint ironic-driver-composition\n\nDepends-On: Ie434609c62cf052ee169a0fac0db3200647a1af0\nChange-Id: Iecead2d6581dff7a9cead58de6505567d7cd2402\n'}]",1,453572,8d03b9d755303944a920081a4205d7e4457661dd,13,7,1,10239,,,0,"Allow configuring enabled hardware types for Ironic

This enabled ``ipmi`` hardware type with all defaults + support for
socat-based nova-compatible serial console.

Part of blueprint ironic-driver-composition

Depends-On: Ie434609c62cf052ee169a0fac0db3200647a1af0
Change-Id: Iecead2d6581dff7a9cead58de6505567d7cd2402
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/453572/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ironic-hardware-types-fe5140549d3bb792.yaml', 'puppet/services/ironic-conductor.yaml']",2,8d03b9d755303944a920081a4205d7e4457661dd,bp/ironic-driver-composition," IronicEnabledHardwareTypes: default: ['ipmi'] description: Enabled Ironic hardware types type: comma_delimited_list ironic::conductor::enabled_hardware_types: {get_param: IronicEnabledHardwareTypes} ironic::drivers::interfaces::enabled_console_interfaces: ['ipmitool-socat', 'no-console']",,15,0
openstack%2Ftripleo-heat-templates~master~Ia59e1013c24ab02037246135024418cc9b674606,openstack/tripleo-heat-templates,master,Ia59e1013c24ab02037246135024418cc9b674606,Containers: disable downloading rabbitmqadmin,MERGED,2017-04-19 15:04:34.000000000,2017-04-24 09:30:23.000000000,2017-04-24 09:30:23.000000000,"[{'_account_id': 3}, {'_account_id': 4328}, {'_account_id': 6926}, {'_account_id': 8042}, {'_account_id': 14985}]","[{'number': 1, 'created': '2017-04-19 15:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f46e07f00e32b710d11ce427651fb50addaa0534', 'message': ""Containers: disable downloading rabbitmqadmin\n\nThere's no need for puppet to download rabbitmqadmin script from\nrabbitmq, as the script would be immediately deleted together with the\nephemeral puppet container. Also, since rabbitmq isn't running at the\ntime we run the puppet container (rabbitmq doesn't have config files\ngenerated at that point), puppet couldn't connect to rabbitmq anyway.\n\nChange-Id: Ia59e1013c24ab02037246135024418cc9b674606\n""}, {'number': 2, 'created': '2017-04-19 15:05:59.000000000', 'files': ['docker/services/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73651aa9bbcf64af0529185d9abb81d1762a976b', 'message': ""Containers: disable downloading rabbitmqadmin\n\nThere's no need for puppet to download rabbitmqadmin script from\nrabbitmq, as the script would be immediately deleted together with the\nephemeral puppet container. Also, since rabbitmq isn't running at the\ntime we run the puppet container (rabbitmq doesn't have config files\ngenerated at that point), puppet couldn't connect to rabbitmq anyway.\n\nChange-Id: Ia59e1013c24ab02037246135024418cc9b674606\nCloses-Bug: #1684104\n""}]",2,458119,73651aa9bbcf64af0529185d9abb81d1762a976b,18,5,2,8042,,,0,"Containers: disable downloading rabbitmqadmin

There's no need for puppet to download rabbitmqadmin script from
rabbitmq, as the script would be immediately deleted together with the
ephemeral puppet container. Also, since rabbitmq isn't running at the
time we run the puppet container (rabbitmq doesn't have config files
generated at that point), puppet couldn't connect to rabbitmq anyway.

Change-Id: Ia59e1013c24ab02037246135024418cc9b674606
Closes-Bug: #1684104
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/458119/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/rabbitmq.yaml'],1,f46e07f00e32b710d11ce427651fb50addaa0534,bug/1684104," config_settings: map_merge: - {get_attr: [RabbitmqBase, role_data, config_settings]} - rabbitmq::admin_enable: false"," config_settings: {get_attr: [RabbitmqBase, role_data, config_settings]}",4,1
openstack%2Fopenstack-ansible-pip_install~master~I281016d1e836705afec1579192647ed7c6a7e7cd,openstack/openstack-ansible-pip_install,master,I281016d1e836705afec1579192647ed7c6a7e7cd,Optimise apt cache update task,MERGED,2017-04-21 15:55:29.000000000,2017-04-24 09:29:55.000000000,2017-04-21 23:54:53.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-04-21 15:55:29.000000000', 'files': ['tasks/pre_install_apt.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-pip_install/commit/508ed6aaa24ed15f9e967b39c6d1c5539611be7f', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: I281016d1e836705afec1579192647ed7c6a7e7cd\n""}]",0,458899,508ed6aaa24ed15f9e967b39c6d1c5539611be7f,8,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: I281016d1e836705afec1579192647ed7c6a7e7cd
",git fetch https://review.opendev.org/openstack/openstack-ansible-pip_install refs/changes/99/458899/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/pre_install_apt.yml', 'meta/main.yml']",2,508ed6aaa24ed15f9e967b39c6d1c5539611be7f,use_package_module, description: Installation and setup of pip min_ansible_version: 2.2, description: Installation and setup of HAProxy min_ansible_version: 1.6.6,4,7
openstack%2Fopenstack-ansible-os_glance~master~Ief4818b7a3f0b87ddb4d0cdfd56809c2f09a59c1,openstack/openstack-ansible-os_glance,master,Ief4818b7a3f0b87ddb4d0cdfd56809c2f09a59c1,Optimise apt cache update task,MERGED,2017-04-21 14:56:09.000000000,2017-04-24 09:29:38.000000000,2017-04-22 17:34:12.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-04-21 14:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/6fcb877505b02556baf344c70d70964d30f33709', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing action\nplugin with the right parameters. This removes an extra\ntask to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: Ief4818b7a3f0b87ddb4d0cdfd56809c2f09a59c1\n""}, {'number': 2, 'created': '2017-04-21 14:58:50.000000000', 'files': ['tasks/glance_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/1e9e5a6481241c676e8b564c48510ceb9935b1aa', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: Ief4818b7a3f0b87ddb4d0cdfd56809c2f09a59c1\n""}]",0,458865,1e9e5a6481241c676e8b564c48510ceb9935b1aa,11,3,2,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: Ief4818b7a3f0b87ddb4d0cdfd56809c2f09a59c1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/65/458865/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/glance_install.yml', 'meta/main.yml']",2,6fcb877505b02556baf344c70d70964d30f33709,use_package_module, min_ansible_version: 2.2, min_ansible_version: 2.1,3,8
openstack%2Fopenstack-ansible-rsyslog_client~master~I171c4d7d6e051b69106156df797ea96d6184014a,openstack/openstack-ansible-rsyslog_client,master,I171c4d7d6e051b69106156df797ea96d6184014a,Optimise apt cache update task,MERGED,2017-04-21 15:57:58.000000000,2017-04-24 09:29:31.000000000,2017-04-22 19:11:29.000000000,"[{'_account_id': 3}, {'_account_id': 7353}, {'_account_id': 14805}]","[{'number': 1, 'created': '2017-04-21 15:57:58.000000000', 'files': ['tasks/rsyslog_client_install.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rsyslog_client/commit/7cfea8b6b51fe70cc2833d17793ebcbc0f1f87b8', 'message': ""Optimise apt cache update task\n\nThe update of the apt cache and the package installation\ncan all be handled in a single task by providing the\npackage action plugin with the right parameters. This\nremoves an extra task to optimise execution.\n\nThe minimum Ansible version is raised to 2.2 due to a\nknown bug [1] in Ansible's apt module which does not\nupdate the cache properly if the cache update and the\ninstall are combined in a single task.\n\n[1] https://github.com/ansible/ansible-modules-core/issues/1497\n\nChange-Id: I171c4d7d6e051b69106156df797ea96d6184014a\n""}]",0,458902,7cfea8b6b51fe70cc2833d17793ebcbc0f1f87b8,8,3,1,6816,,,0,"Optimise apt cache update task

The update of the apt cache and the package installation
can all be handled in a single task by providing the
package action plugin with the right parameters. This
removes an extra task to optimise execution.

The minimum Ansible version is raised to 2.2 due to a
known bug [1] in Ansible's apt module which does not
update the cache properly if the cache update and the
install are combined in a single task.

[1] https://github.com/ansible/ansible-modules-core/issues/1497

Change-Id: I171c4d7d6e051b69106156df797ea96d6184014a
",git fetch https://review.opendev.org/openstack/openstack-ansible-rsyslog_client refs/changes/02/458902/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/rsyslog_client_install.yml', 'meta/main.yml']",2,7cfea8b6b51fe70cc2833d17793ebcbc0f1f87b8,use_package_module, min_ansible_version: 2.2, min_ansible_version: 1.6.6,3,8
openstack%2Fdesignate~master~Ib8433a5e7d6053bb9ce5d226567e684c6d6be3dc,openstack/designate,master,Ib8433a5e7d6053bb9ce5d226567e684c6d6be3dc,[WIP] Fix Designate gate,ABANDONED,2017-04-21 07:53:56.000000000,2017-04-24 09:26:23.000000000,,"[{'_account_id': 3}, {'_account_id': 19741}]","[{'number': 1, 'created': '2017-04-21 07:53:56.000000000', 'files': ['designate/tests/__init__.py', 'tools/tox_install.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate/commit/0065b1acb6e05bf7b8bd98655c21de45897d7f26', 'message': '[WIP] Fix Designate gate\n\nCurrently Designate use SQLAlchemy with custom version rather\nthan from openstack requirements. This commit use the method\nfrom other projects for using custom constraint rather than\nupper constraint.\n\nChange-Id: Ib8433a5e7d6053bb9ce5d226567e684c6d6be3dc\n'}]",0,458757,0065b1acb6e05bf7b8bd98655c21de45897d7f26,4,2,1,19741,,,0,"[WIP] Fix Designate gate

Currently Designate use SQLAlchemy with custom version rather
than from openstack requirements. This commit use the method
from other projects for using custom constraint rather than
upper constraint.

Change-Id: Ib8433a5e7d6053bb9ce5d226567e684c6d6be3dc
",git fetch https://review.opendev.org/openstack/designate refs/changes/57/458757/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/__init__.py', 'tools/tox_install.sh', 'tox.ini']",3,0065b1acb6e05bf7b8bd98655c21de45897d7f26,fix_gate,minversion = 2.0install_command = {toxinidir}/tools/tox_install.sh {env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master} {opts} {packages} VIRTUAL_ENV={envdir} BRANCH_NAME=master CLIENT_NAME=SQLAlchemy,minversion = 1.6install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt?h=master} {opts} {packages},41,2
openstack%2Fkolla-ansible~stable%2Focata~Ib877fb3fd6cbbf256f5c29e3a3dec02bb2388388,openstack/kolla-ansible,stable/ocata,Ib877fb3fd6cbbf256f5c29e3a3dec02bb2388388,neutron_vpnaas_agent: kolla_docker parameter 'volumes' is wrong,MERGED,2017-04-19 06:10:10.000000000,2017-04-24 09:25:16.000000000,2017-04-24 09:25:16.000000000,"[{'_account_id': 3}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 19316}, {'_account_id': 22165}, {'_account_id': 23360}, {'_account_id': 25777}]","[{'number': 1, 'created': '2017-04-19 06:10:10.000000000', 'files': ['ansible/roles/neutron/tasks/bootstrap_service.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f545ee787b98a14a162d96ca1b7102daf504fd96', 'message': 'neutron_vpnaas_agent: kolla_docker parameter \'volumes\' is wrong\n\nIn task ""Running Neutron vpnaas bootstrap container"",\nparameter ""volumes"" of kolla_docker should be\n""{{ neutron_vpnaas_agent.volumes }}""\nNOT\n""{{ neutron_vpnaas_agent.image }}""\n\nChange-Id: Id7c95d4d6f53dfab384e387951eecf4d87459de\nCloses-Bug: #1683669\n(cherry picked from commit e0822177272e118370dfb4614fd42f57fac143fa)\n\nChange-Id: Ib877fb3fd6cbbf256f5c29e3a3dec02bb2388388\n'}]",0,457879,f545ee787b98a14a162d96ca1b7102daf504fd96,11,7,1,11869,,,0,"neutron_vpnaas_agent: kolla_docker parameter 'volumes' is wrong

In task ""Running Neutron vpnaas bootstrap container"",
parameter ""volumes"" of kolla_docker should be
""{{ neutron_vpnaas_agent.volumes }}""
NOT
""{{ neutron_vpnaas_agent.image }}""

Change-Id: Id7c95d4d6f53dfab384e387951eecf4d87459de
Closes-Bug: #1683669
(cherry picked from commit e0822177272e118370dfb4614fd42f57fac143fa)

Change-Id: Ib877fb3fd6cbbf256f5c29e3a3dec02bb2388388
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/457879/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/bootstrap_service.yml'],1,f545ee787b98a14a162d96ca1b7102daf504fd96,bug/1683669," volumes: ""{{ neutron_vpnaas_agent.volumes }}"""," volumes: ""{{ neutron_vpnaas_agent.image }}""",1,1
openstack%2Fkolla-ansible~stable%2Focata~Id905336123bc5aa76d6e6903a82f915c3702669f,openstack/kolla-ansible,stable/ocata,Id905336123bc5aa76d6e6903a82f915c3702669f,Fix outdated InfluxDB configuration,MERGED,2017-04-13 08:16:59.000000000,2017-04-24 09:24:18.000000000,2017-04-24 09:24:18.000000000,"[{'_account_id': 3}, {'_account_id': 11869}, {'_account_id': 19316}]","[{'number': 1, 'created': '2017-04-13 08:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b3caa031372de221751aa92fe1ed053dd1b9ef7', 'message': 'Fix outdated InfluxDB configuration\n\nActual InfluxDB config is deprecated, it must be updated based on the\nfollowing documentation:\nhttps://docs.influxdata.com/influxdb/v1.2/administration/config\n\n* remove following options:\n  lease-duration = ""1m0s""\n  pprof-enabled = false\nhttps://github.com/influxdata/influxdb/commit/22173acb707af833b832126f8631e0afda445ea9\n\n* rename ""cluster"" section to ""coordination"":\nhttps://github.com/influxdata/influxdb/commit/75e89e35d80dfad65146c8d8a1df2d7b9930c99a\n\n* remove shard-writer-timeout option:\n  shard-writer-timeout = ""5s""\nhttps://github.com/influxdata/influxdb/commit/db7d58c867513d019c1b9f1718772062b5c491bc\n\nCloses-Bug: #1678982\nChange-Id: Id905336123bc5aa76d6e6903a82f915c3702669f\n(cherry picked from commit d9ce5cf6c0522356e0d92ba5b1b514c507619a8f)\n'}, {'number': 2, 'created': '2017-04-13 15:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d1cfba547bdd4d751b3189b2c64e898e9a2086e', 'message': 'Fix outdated InfluxDB configuration\n\nActual InfluxDB config is deprecated, it must be updated based on the\nfollowing documentation:\nhttps://docs.influxdata.com/influxdb/v1.2/administration/config\n\n* remove following options:\n  lease-duration = ""1m0s""\n  pprof-enabled = false\nhttps://github.com/influxdata/influxdb/commit/22173acb707af833b832126f8631e0afda445ea9\n\n* rename ""cluster"" section to ""coordination"":\nhttps://github.com/influxdata/influxdb/commit/75e89e35d80dfad65146c8d8a1df2d7b9930c99a\n\n* remove shard-writer-timeout option:\n  shard-writer-timeout = ""5s""\nhttps://github.com/influxdata/influxdb/commit/db7d58c867513d019c1b9f1718772062b5c491bc\n\nCloses-Bug: #1678982\nChange-Id: Id905336123bc5aa76d6e6903a82f915c3702669f\n(cherry picked from commit d9ce5cf6c0522356e0d92ba5b1b514c507619a8f)\n'}, {'number': 3, 'created': '2017-04-24 07:02:48.000000000', 'files': ['ansible/roles/influxdb/templates/influxdb.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7efd15d24df0608e277cc57015bf26a0eb744f09', 'message': 'Fix outdated InfluxDB configuration\n\nActual InfluxDB config is deprecated, it must be updated based on the\nfollowing documentation:\nhttps://docs.influxdata.com/influxdb/v1.2/administration/config\n\n* remove following options:\n  lease-duration = ""1m0s""\n  pprof-enabled = false\nhttps://github.com/influxdata/influxdb/commit/22173acb707af833b832126f8631e0afda445ea9\n\n* rename ""cluster"" section to ""coordination"":\nhttps://github.com/influxdata/influxdb/commit/75e89e35d80dfad65146c8d8a1df2d7b9930c99a\n\n* remove shard-writer-timeout option:\n  shard-writer-timeout = ""5s""\nhttps://github.com/influxdata/influxdb/commit/db7d58c867513d019c1b9f1718772062b5c491bc\n\nCloses-Bug: #1678982\nChange-Id: Id905336123bc5aa76d6e6903a82f915c3702669f\n(cherry picked from commit d9ce5cf6c0522356e0d92ba5b1b514c507619a8f)\n'}]",0,456491,7efd15d24df0608e277cc57015bf26a0eb744f09,10,3,3,8157,,,0,"Fix outdated InfluxDB configuration

Actual InfluxDB config is deprecated, it must be updated based on the
following documentation:
https://docs.influxdata.com/influxdb/v1.2/administration/config

* remove following options:
  lease-duration = ""1m0s""
  pprof-enabled = false
https://github.com/influxdata/influxdb/commit/22173acb707af833b832126f8631e0afda445ea9

* rename ""cluster"" section to ""coordination"":
https://github.com/influxdata/influxdb/commit/75e89e35d80dfad65146c8d8a1df2d7b9930c99a

* remove shard-writer-timeout option:
  shard-writer-timeout = ""5s""
https://github.com/influxdata/influxdb/commit/db7d58c867513d019c1b9f1718772062b5c491bc

Closes-Bug: #1678982
Change-Id: Id905336123bc5aa76d6e6903a82f915c3702669f
(cherry picked from commit d9ce5cf6c0522356e0d92ba5b1b514c507619a8f)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/91/456491/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/influxdb/templates/influxdb.conf.j2'],1,8b3caa031372de221751aa92fe1ed053dd1b9ef7,bug/1678982," level = ""info"" file = ""/var/log/kolla/influxdb/influxdb.log""[coordinator]","level = ""info"" file = ""/var/log/kolla/influxdb/influxdb.log"" pprof-enabled = false lease-duration = ""1m0s"" enabled = true[cluster] shard-writer-timeout = ""5s""",3,7
openstack%2Frpm-packaging-tools~master~Ief534ad74d91c5a2e305f294707abda9642bfe71,openstack/rpm-packaging-tools,master,Ief534ad74d91c5a2e305f294707abda9642bfe71,Fix version detection,MERGED,2017-04-20 05:25:58.000000000,2017-04-24 09:19:55.000000000,2017-04-24 09:19:55.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13404}]","[{'number': 1, 'created': '2017-04-20 05:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging-tools/commit/f3ea60a26a1bc385ecfb9db81151726858628941', 'message': 'Fix version detection\n\nWhen upstream_version() is used as a function with a static version,\nfix the detection.\nThe detection for dynamic versioning is still broken.\n\nChange-Id: Ief534ad74d91c5a2e305f294707abda9642bfe71\n'}, {'number': 2, 'created': '2017-04-22 06:04:31.000000000', 'files': ['tools/rpm-packaging-status.py'], 'web_link': 'https://opendev.org/openstack/rpm-packaging-tools/commit/46395272578bda691ba2e73c3ab5224ce5113388', 'message': 'Fix version detection\n\nWhen upstream_version() is used as a function with a static version,\nfix the detection.\nThe detection for dynamic versioning is still broken.\n\nChange-Id: Ief534ad74d91c5a2e305f294707abda9642bfe71\n'}]",2,458335,46395272578bda691ba2e73c3ab5224ce5113388,11,3,2,7102,,,0,"Fix version detection

When upstream_version() is used as a function with a static version,
fix the detection.
The detection for dynamic versioning is still broken.

Change-Id: Ief534ad74d91c5a2e305f294707abda9642bfe71
",git fetch https://review.opendev.org/openstack/rpm-packaging-tools refs/changes/35/458335/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/rpm-packaging-status.py'],1,f3ea60a26a1bc385ecfb9db81151726858628941,458335," ""{%\s*set upstream_version\s*=\s*(?:upstream_version\()?"" \ ""'(?P<version>.*)'(?:\))?\s*%}$"", l)"," ""{%\s*set upstream_version\s*=\s*'(?P<version>.*)'\s*%}$"", l)",2,2
openstack%2Frpm-packaging~stable%2Focata~I399186554404458d136dd98787f5baa0ed71029f,openstack/rpm-packaging,stable/ocata,I399186554404458d136dd98787f5baa0ed71029f,Track stable branch for horizon,MERGED,2017-04-21 14:31:55.000000000,2017-04-24 09:19:21.000000000,2017-04-24 09:18:35.000000000,"[{'_account_id': 3}, {'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-04-21 14:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b2285e10ef29f05d8ac5e401682e7ccf871bb7ea', 'message': ""Track stable branch for horizon\n\nWe are already using the latest commit instead of a tagged release\nin some projects (monasca-agent, monasca-common). For consistency,\nlet's do the saame with horizon.\n\nChange-Id: I399186554404458d136dd98787f5baa0ed71029f\n""}, {'number': 2, 'created': '2017-04-21 14:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/b6760022fddd34e968e59fac9703e6bb38c9700c', 'message': ""Track stable branch for horizon\n\nWe are already using the latest commit instead of a tagged release\nin some projects (monasca-agent, monasca-common). For consistency,\nlet's do the same with horizon.\n\nChange-Id: I399186554404458d136dd98787f5baa0ed71029f\n""}, {'number': 3, 'created': '2017-04-24 08:02:52.000000000', 'files': ['openstack/horizon/horizon.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3af95ffe14ca3f86c7b596fdaa1191b767ed247f', 'message': ""Track stable branch for horizon\n\nWe are already using the latest commit instead of a tagged release\nin some projects (monasca-agent, monasca-common). For consistency,\nlet's do the same with horizon.\n\nChange-Id: I399186554404458d136dd98787f5baa0ed71029f\n""}]",2,458860,3af95ffe14ca3f86c7b596fdaa1191b767ed247f,24,7,3,13294,,,0,"Track stable branch for horizon

We are already using the latest commit instead of a tagged release
in some projects (monasca-agent, monasca-common). For consistency,
let's do the same with horizon.

Change-Id: I399186554404458d136dd98787f5baa0ed71029f
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/60/458860/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/horizon/horizon.spec.j2'],1,b2285e10ef29f05d8ac5e401682e7ccf871bb7ea,,{% set source = fetch_source('http://tarballs.openstack.org/horizon/horizon-stable-ocata.tar.gz') %} {% set upstream_version = upstream_version() %}Source0: {{ source }},{% set upstream_version = '11.0.0' %}Source0: http://tarballs.openstack.org/%{component}/%{component}-{{upstream_version}}.tar.gz,3,2
openstack%2Fcloudkitty~master~Ieeb6e53042c10b43383b3ecbcfe7d273ff9fd17e,openstack/cloudkitty,master,Ieeb6e53042c10b43383b3ecbcfe7d273ff9fd17e,Fix gnocchi metric collection,MERGED,2017-04-19 10:16:37.000000000,2017-04-24 09:16:54.000000000,2017-04-24 09:16:54.000000000,"[{'_account_id': 3}, {'_account_id': 8358}, {'_account_id': 21797}, {'_account_id': 23060}, {'_account_id': 23825}, {'_account_id': 25126}]","[{'number': 1, 'created': '2017-04-19 10:16:37.000000000', 'files': ['cloudkitty/collector/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/6532175169998de9a6670163e2d7dccfa83676d4', 'message': ""Fix gnocchi metric collection\n\nReturn 0 when a resource is active, the used metric\nexists but no value have been stored for the current\ncollect period.\n\nThus, unit conversion won't fail anymore\n\nChange-Id: Ieeb6e53042c10b43383b3ecbcfe7d273ff9fd17e\nCloses-Bug: #1671841\n""}]",0,457999,6532175169998de9a6670163e2d7dccfa83676d4,12,6,1,23173,,,0,"Fix gnocchi metric collection

Return 0 when a resource is active, the used metric
exists but no value have been stored for the current
collect period.

Thus, unit conversion won't fail anymore

Change-Id: Ieeb6e53042c10b43383b3ecbcfe7d273ff9fd17e
Closes-Bug: #1671841
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/99/457999/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/collector/gnocchi.py'],1,6532175169998de9a6670163e2d7dccfa83676d4,bug/1671841, resource[name] = 0, resource[name] = None,1,1
openstack%2Frpm-packaging~stable%2Focata~I4c14819bc22ab0984cf64d946c3ef29e54c4d643,openstack/rpm-packaging,stable/ocata,I4c14819bc22ab0984cf64d946c3ef29e54c4d643,python-monascaclient: Fix unversioned auth url,MERGED,2017-04-18 14:33:05.000000000,2017-04-24 09:16:12.000000000,2017-04-24 09:14:41.000000000,"[{'_account_id': 3}, {'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 13404}, {'_account_id': 19648}, {'_account_id': 20656}, {'_account_id': 23181}]","[{'number': 1, 'created': '2017-04-18 14:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/d1fa67a4e7befc14bf8a309ccb83e1d7801f8709', 'message': 'python-monascaclient: Fix unversioned auth url\n\nAdded 0001-Added-support-for-os_auth_version-when-os_auth_url-i.patch\n\nChange-Id: I4c14819bc22ab0984cf64d946c3ef29e54c4d643\n'}, {'number': 2, 'created': '2017-04-24 08:31:02.000000000', 'files': ['openstack/python-monascaclient/python-monascaclient.spec.j2', 'openstack/python-monascaclient/0001-Added-support-for-os_auth_version-when-os_auth_url-i.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/61ff536d82257d1c74eb2d821d7956c11c21a9ab', 'message': 'python-monascaclient: Fix unversioned auth url\n\nAdded 0001-Added-support-for-os_auth_version-when-os_auth_url-i.patch\n\nChange-Id: I4c14819bc22ab0984cf64d946c3ef29e54c4d643\n'}]",0,457669,61ff536d82257d1c74eb2d821d7956c11c21a9ab,18,7,2,7102,,,0,"python-monascaclient: Fix unversioned auth url

Added 0001-Added-support-for-os_auth_version-when-os_auth_url-i.patch

Change-Id: I4c14819bc22ab0984cf64d946c3ef29e54c4d643
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/69/457669/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/python-monascaclient/python-monascaclient.spec.j2', 'openstack/python-monascaclient/0001-Added-support-for-os_auth_version-when-os_auth_url-i.patch']",2,d1fa67a4e7befc14bf8a309ccb83e1d7801f8709,stable-ocata,"From 3a320ee5d14e343debf97a5d06b1af8f24ed8e02 Mon Sep 17 00:00:00 2001 From: Sumit Jamgade <sjamgade@suse.com> Date: Tue, 4 Apr 2017 15:32:46 +0200 Subject: [PATCH] Added support for os_auth_version when os_auth_url is unversiond Change-Id: I89e9b040e41caabcf366def480bb5c5cd0eb965d Story: 2000965 --- README.rst | 6 +++++- monascaclient/shell.py | 14 ++++++++++++++ 2 files changed, 19 insertions(+), 1 deletion(-) diff --git a/README.rst b/README.rst index 970afbe..ddee5cd 100644 --- a/README.rst +++ b/README.rst @@ -91,6 +91,8 @@ When using Keystone to obtain the token and endpoint:: export OS_PROJECT_NAME= export OS_AUTH_URL= export OS_REGION_NAME= + # Optional(specific version added to OS_AUTH_URL if (v2.0 or v3) not present already) + export OS_AUTH_VERSION= When OS_USER_DOMAIN_NAME is not set, then 'Default' is assumed. Alternatively IDs can be used instead of names. @@ -112,7 +114,7 @@ You'll find complete documentation on the shell by running [--os-user-domain-id OS_USER_DOMAIN_ID] [--os-user-domain-name OS_USER_DOMAIN_NAME] [--os-project-name OS_PROJECT_NAME] [--os-project-domain-id OS_PROJECT_DOMAIN_ID] [--os-project-domain-name OS_PROJECT_DOMAIN_NAME] - [--os-auth-url OS_AUTH_URL] [--os-region-name OS_REGION_NAME] + [--os-auth-url OS_AUTH_URL] [--os-auth-version OS_AUTH_VERSION] [--os-region-name OS_REGION_NAME] [--os-auth-token OS_AUTH_TOKEN] [--os-no-client-auth] [--monasca-api-url MONASCA_API_URL] [--monasca-api-version MONASCA_API_VERSION] @@ -187,6 +189,8 @@ You'll find complete documentation on the shell by running --os-domain-name OS_DOMAIN_NAME Defaults to env[OS_DOMAIN_NAME]. --os-auth-url OS_AUTH_URL Defaults to env[OS_AUTH_URL]. + --os-auth-version OS_AUTH_VERSION + Defaults to env[OS_AUTH_VERSION]. --os-region-name OS_REGION_NAME Defaults to env[OS_REGION_NAME]. --os-auth-token OS_AUTH_TOKEN diff --git a/monascaclient/shell.py b/monascaclient/shell.py index 6fcffc1..bc85a10 100644 --- a/monascaclient/shell.py +++ b/monascaclient/shell.py @@ -24,6 +24,8 @@ import logging import string import sys +from six.moves.urllib.parse import urljoin + import monascaclient from monascaclient import client as monasca_client from monascaclient.common import utils @@ -155,6 +157,13 @@ class MonascaShell(object): parser.add_argument('--os_auth_url', help=argparse.SUPPRESS) + parser.add_argument('--os-auth-version', + default=utils.env('OS_AUTH_VERSION'), + help='Defaults to env[OS_AUTH_VERSION].') + + parser.add_argument('--os_auth_version', + help=argparse.SUPPRESS) + parser.add_argument('--os-region-name', default=utils.env('OS_REGION_NAME'), help='Defaults to env[OS_REGION_NAME].') @@ -327,6 +336,11 @@ class MonascaShell(object): "" either --os-auth-url or via"" "" env[OS_AUTH_URL]"") + auth_vars_present = args.os_auth_url and args.os_auth_version + versioned = 'v2.0' in args.os_auth_url or 'v3' in args.os_auth_url + if auth_vars_present and not versioned: + args.os_auth_url = urljoin(args.os_auth_url, args.os_auth_version) + if args.os_auth_url and 'v2.0' in args.os_auth_url: args.os_auth_url = string.replace(args.os_auth_url, 'v2.0', 'v3') -- 2.12.2 ",,89,1
openstack%2Fpuppet-ovn~master~Icb62ccd302fbbb1583d0207898b4df1f3b8cf01c,openstack/puppet-ovn,master,Icb62ccd302fbbb1583d0207898b4df1f3b8cf01c,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:04.000000000,2017-04-24 09:10:33.000000000,2017-04-24 09:10:33.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:24:04.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/483c99a1b83c860c3828232937dfbb17875c3bda', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Icb62ccd302fbbb1583d0207898b4df1f3b8cf01c\n'}]",0,459011,483c99a1b83c860c3828232937dfbb17875c3bda,11,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Icb62ccd302fbbb1583d0207898b4df1f3b8cf01c
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/11/459011/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,483c99a1b83c860c3828232937dfbb17875c3bda,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',3,3
openstack%2Ffreezer~master~I24f0a474f67fb24b4ea21267e55ff60e2ae51f00,openstack/freezer,master,I24f0a474f67fb24b4ea21267e55ff60e2ae51f00,Updated from global requirements,MERGED,2017-04-21 13:05:48.000000000,2017-04-24 09:09:31.000000000,2017-04-24 09:09:31.000000000,"[{'_account_id': 3}, {'_account_id': 13940}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}]","[{'number': 1, 'created': '2017-04-21 13:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer/commit/85e3953b6abc9051859c2172bdae7c7010ff32c4', 'message': 'Updated from global requirements\n\nChange-Id: I24f0a474f67fb24b4ea21267e55ff60e2ae51f00\n'}, {'number': 2, 'created': '2017-04-21 16:43:06.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/092d1eb0ff672d805af9b9271dcf9a7dd644c0e2', 'message': 'Updated from global requirements\n\nChange-Id: I24f0a474f67fb24b4ea21267e55ff60e2ae51f00\n'}]",0,458825,092d1eb0ff672d805af9b9271dcf9a7dd644c0e2,9,5,2,11131,,,0,"Updated from global requirements

Change-Id: I24f0a474f67fb24b4ea21267e55ff60e2ae51f00
",git fetch https://review.opendev.org/openstack/freezer refs/changes/25/458825/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,85e3953b6abc9051859c2172bdae7c7010ff32c4,openstack/requirements,os-brick>=1.11.0 # Apache-2.0,os-brick>=1.8.0 # Apache-2.0,1,1
openstack%2Fcinder~master~If805a1975db2e7e63b63cb559a9c4dbe1d58b0a4,openstack/cinder,master,If805a1975db2e7e63b63cb559a9c4dbe1d58b0a4,"Remove ""list_volume"" from filter",MERGED,2017-02-13 02:06:19.000000000,2017-04-24 08:59:47.000000000,2017-04-11 04:25:29.000000000,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 9732}, {'_account_id': 10621}, {'_account_id': 10622}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12778}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 14969}, {'_account_id': 15054}, {'_account_id': 15249}, {'_account_id': 15296}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16422}, {'_account_id': 16595}, {'_account_id': 16643}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 16941}, {'_account_id': 17565}, {'_account_id': 18120}, {'_account_id': 18261}, {'_account_id': 18444}, {'_account_id': 18752}, {'_account_id': 18883}, {'_account_id': 19852}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 21990}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23276}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24502}, {'_account_id': 24578}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}]","[{'number': 1, 'created': '2017-02-13 02:06:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/277a65bac2fb0dd591fa1d6f2e9c2e7a800f3b65', 'message': 'Remove ""list_volume"" from filter\n\nv3.25 introduced ""list_volume"" parameter for querying groups with\nvolumes. But it was used for filter and dit not work as expected.\n\nThis patch pop it from the filter and let it work\n\nChange-Id: If805a1975db2e7e63b63cb559a9c4dbe1d58b0a4\nCloses-bug: #1664091\n'}, {'number': 2, 'created': '2017-02-14 01:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d8b387eb46b4d3c2aac0e46f223fa889db9b3994', 'message': 'Remove ""list_volume"" from filter\n\nv3.25 introduced ""list_volume"" parameter for querying groups with\nvolumes. But it was used for filter and did not work as expected.\n\nThis patch pop it from the filter and let it work\n\nChange-Id: If805a1975db2e7e63b63cb559a9c4dbe1d58b0a4\nCloses-bug: #1664091\n'}, {'number': 3, 'created': '2017-03-01 06:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ac113ae8a1925cd289db4569e06ae408ff1f397', 'message': 'Remove ""list_volume"" from filter\n\nv3.25 introduced ""list_volume"" parameter for querying groups with\nvolumes. But it was used for filter and did not work as expected.\n\nThis patch pop it from the filter and let it work\n\nChange-Id: If805a1975db2e7e63b63cb559a9c4dbe1d58b0a4\nCloses-bug: #1664091\n'}, {'number': 4, 'created': '2017-03-08 07:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3d3a2751b458b5997f24535285e2cbe4c24f1999', 'message': 'Remove ""list_volume"" from filter\n\nv3.25 introduced ""list_volume"" parameter for querying groups with\nvolumes. But it was used for filter and did not work as expected.\n\nThis patch pop it from the filter and let it work\n\nChange-Id: If805a1975db2e7e63b63cb559a9c4dbe1d58b0a4\nCloses-bug: #1664091\n'}, {'number': 5, 'created': '2017-03-09 10:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ff5efd7b17120dbe20543661f769ad20172841d9', 'message': 'Remove ""list_volume"" from filter\n\nv3.25 introduced ""list_volume"" parameter for querying groups with\nvolumes. But it was used for filter and did not work as expected.\n\nThis patch pop it from the filter and let it work\n\nChange-Id: If805a1975db2e7e63b63cb559a9c4dbe1d58b0a4\nCloses-bug: #1664091\n'}, {'number': 6, 'created': '2017-03-09 13:55:07.000000000', 'files': ['cinder/tests/unit/api/v3/test_groups.py', 'cinder/api/v3/groups.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/57930687b65aa11bbe1b724ec0397af5eb441337', 'message': 'Remove ""list_volume"" from filter\n\nv3.25 introduced ""list_volume"" parameter for querying groups with\nvolumes. But it was used for filter and did not work as expected.\n\nThis patch pop it from the filter and let it work\n\nChange-Id: If805a1975db2e7e63b63cb559a9c4dbe1d58b0a4\nCloses-bug: #1664091\n'}]",18,432809,57930687b65aa11bbe1b724ec0397af5eb441337,191,54,6,15054,,,0,"Remove ""list_volume"" from filter

v3.25 introduced ""list_volume"" parameter for querying groups with
volumes. But it was used for filter and did not work as expected.

This patch pop it from the filter and let it work

Change-Id: If805a1975db2e7e63b63cb559a9c4dbe1d58b0a4
Closes-bug: #1664091
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/432809/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/api/v3/test_groups.py', 'cinder/api/v3/groups.py']",2,277a65bac2fb0dd591fa1d6f2e9c2e7a800f3b65,bug/1664091," # v3.25 introduced ""list_volume"" parameter to query groups with # volumes, but it is not a filter. filters.pop('list_volume', None) ",,56,0
openstack%2Fcinder~master~Ia86c9a5c815c19d0096524b88d992d84266688f9,openstack/cinder,master,Ia86c9a5c815c19d0096524b88d992d84266688f9,VNX: allow specify pool name for replication,MERGED,2017-03-31 06:17:24.000000000,2017-04-24 08:45:52.000000000,2017-04-11 06:12:27.000000000,"[{'_account_id': 3}, {'_account_id': 6491}, {'_account_id': 9008}, {'_account_id': 11904}]","[{'number': 1, 'created': '2017-03-31 06:17:24.000000000', 'files': ['cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/utils.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/00b8a6ad2cc221869534116ded78c57e28b6c4d8', 'message': 'VNX: allow specify pool name for replication\n\nCurrently, VNX driver will select a pool of same name as the\nsource volume when creating LUN replication. An error will occur if not\nsatisfied.\nThis patch will allow setting a different pool name for replication\ntarget instead of using the pool of same name on the remote system.\n\nDocImpact\n\nCloses-bug: 1677561\nChange-Id: Ia86c9a5c815c19d0096524b88d992d84266688f9\n'}]",0,452052,00b8a6ad2cc221869534116ded78c57e28b6c4d8,48,4,1,10628,,,0,"VNX: allow specify pool name for replication

Currently, VNX driver will select a pool of same name as the
source volume when creating LUN replication. An error will occur if not
satisfied.
This patch will allow setting a different pool name for replication
target instead of using the pool of same name on the remote system.

DocImpact

Closes-bug: 1677561
Change-Id: Ia86c9a5c815c19d0096524b88d992d84266688f9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/452052/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/test_adapter.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/utils.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/vnx/common.py']",5,00b8a6ad2cc221869534116ded78c57e28b6c4d8,bug/1677561," @property def pool_name(self): return self.replication_device.get('pool_name', None) ",,20,1
openstack%2Fdragonflow~master~I807efbf1b7a582c71a567d49a15ff490e31ce12f,openstack/dragonflow,master,I807efbf1b7a582c71a567d49a15ff490e31ce12f,Ignore non-first-class dependencies when iterating model in order,MERGED,2017-04-20 11:44:24.000000000,2017-04-24 08:35:57.000000000,2017-04-24 08:35:57.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 11159}, {'_account_id': 20229}, {'_account_id': 23235}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-04-20 11:44:24.000000000', 'files': ['dragonflow/tests/unit/test_model_framework.py', 'dragonflow/db/model_framework.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/7dcdd54c72766c976ac31d19b31dda70f131943c', 'message': 'Ignore non-first-class dependencies when iterating model in order\n\nWhen iterating models with dependency order, ignore non first-class\nmodels if the first_class_only parameter is set to True. This solves\nan edge case when a dependency is a reference to a non first-class\nmodel (as in LogicalPort and Subnets). A false positive dependency\ncycle was detected.\n\nChange-Id: I807efbf1b7a582c71a567d49a15ff490e31ce12f\n'}]",0,458465,7dcdd54c72766c976ac31d19b31dda70f131943c,10,6,1,20229,,,0,"Ignore non-first-class dependencies when iterating model in order

When iterating models with dependency order, ignore non first-class
models if the first_class_only parameter is set to True. This solves
an edge case when a dependency is a reference to a non first-class
model (as in LogicalPort and Subnets). A false positive dependency
cycle was detected.

Change-Id: I807efbf1b7a582c71a567d49a15ff490e31ce12f
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/65/458465/1 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/tests/unit/test_model_framework.py', 'dragonflow/db/model_framework.py']",2,7dcdd54c72766c976ac31d19b31dda70f131943c,dep-cycle, dependencies = model.dependencies() if first_class_only: dependencies = {dep for dep in dependencies if dep.is_first_class()} unsorted_models[model] = dependencies, unsorted_models[model] = model.dependencies(),29,1
openstack%2Fcharm-specs~master~I601ccf2c33841b78f5e14717c40d5b7349503717,openstack/charm-specs,master,I601ccf2c33841b78f5e14717c40d5b7349503717,Add internal-dns specification,MERGED,2017-04-19 01:32:41.000000000,2017-04-24 08:31:27.000000000,2017-04-24 08:31:27.000000000,"[{'_account_id': 3}, {'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20635}, {'_account_id': 20805}]","[{'number': 1, 'created': '2017-04-19 01:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/1a8f9b45e5322d083231dd7ec21e31f738cd2313', 'message': 'Add internal-dns specification\n\nAdd spec to support the enablement of internal DNS resolution\nbased on the DNS Integration documentation for Neutron and Nova.\n\nChange-Id: I601ccf2c33841b78f5e14717c40d5b7349503717\n'}, {'number': 2, 'created': '2017-04-19 01:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/d6ed72c13c7df0196982c1e663b6388dd9f43b44', 'message': 'Add internal-dns specification\n\nAdd spec to support the enablement of internal DNS resolution\nbased on the DNS Integration documentation for Neutron and Nova.\n\nChange-Id: I601ccf2c33841b78f5e14717c40d5b7349503717\n'}, {'number': 3, 'created': '2017-04-19 01:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/c47cf0151fd6799f03c804fca50189617627cadb', 'message': 'Add internal-dns specification\n\nAdd spec to support the enablement of internal DNS resolution\nbased on the DNS Integration documentation for Neutron and Nova.\n\nChange-Id: I601ccf2c33841b78f5e14717c40d5b7349503717\n'}, {'number': 4, 'created': '2017-04-21 17:40:00.000000000', 'files': ['specs/pike/approved/internal-dns.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/7187541d1e88f58866ae883084714fc1f899f3ef', 'message': 'Add internal-dns specification\n\nAdd spec to support the enablement of internal DNS resolution\nbased on the DNS Integration documentation for Neutron and Nova.\n\nChange-Id: I601ccf2c33841b78f5e14717c40d5b7349503717\n'}]",1,457833,7187541d1e88f58866ae883084714fc1f899f3ef,13,5,4,8992,,,0,"Add internal-dns specification

Add spec to support the enablement of internal DNS resolution
based on the DNS Integration documentation for Neutron and Nova.

Change-Id: I601ccf2c33841b78f5e14717c40d5b7349503717
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/33/457833/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/internal-dns.rst'],1,1a8f9b45e5322d083231dd7ec21e31f738cd2313,charms-internal-dns,".. Copyright 2017 Canonical UK This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ======================= Internal DNS Resolution ======================= Users of an OpenStack cloud would like to look up their instances by name in an intuitive way using the Domain Name System (DNS). When booting an instance using Nova, a name is provided which is then used as the hostname for the system. Many programs in the booted instance utilize DNS to resolve the hostname and function less than ideally when the hostname cannot be resolved. Problem Description =================== The lack of sane internal DNS resolution has plagued users of OpenStack deployed instances since before the ice(-house) age. Neutron has long provided DNS services for tenant networks, but the default names provided by Neutron are defined as 'host-%(octet0)s-%(octet1)s-%(octet2)s-%(octet3)s.openstacklocal'. Since this name does not match the instance name/hostname, the DNS queries fail when attempting to resolve the hostname. Some examples where this becomes problematic for tenants are as follows: #. Sudo attempts to resolve the hostname each time it runs. Sudo continues to work, but complains about the failed name resolution:: ubuntu@jon-oliver:~$ sudo -s sudo: unable to resolve host jon-stewart #. Users are unable to logically refer to other instances by name in normal network operations as they would in a bare metal lab environment:: ubuntu@jon-stewart:~$ ping john-oliver ping: unknown host john-oliver #. Applications such as rabbitmq-server require a resolvable hostname in order to function properly. OpenStack Neutron and Nova projects have previously addressed this in the Liberty and Mitaka releases respectively and the charms should enable this functionality for the end users. Proposed Change =============== The Liberty release of Neutron introduced the DNS extension driver [#]_. This extension driver, when enabled, adds the ``dns_domain`` attribute to the Neutron Network API and added the ``dns_name`` and ``dns_fqdn`` (read-only) attributes to the Neutron Port API. These new attributes are used by the Neutron dhcp-agent when creating the host file for the dnsmasq process. .. [#] https://specs.openstack.org/openstack/neutron-specs/specs/liberty/internal-dns-resolution.html In the subsequent Mitaka release, the Nova project leveraged the newly minted DNS extension in Neutron to supply DNS-sanitized versions of the instance name [#]_. When booting new instances, Nova will provide the ``dns_name`` attribute for ports it creates via the Neutron API. .. [#] https://specs.openstack.org/openstack/nova-specs/specs/mitaka/implemented/internal-dns-resolution.html OpenStack documentation [#]_ in the Mitaka release provides details for how to enable this DNS integration between the two projects. The configuration pieces entirely belong to the Neutron project as Nova will Just Do the Right Thing (TM). .. [#] https://docs.openstack.org/mitaka/networking-guide/config-dns-int.html This spec proposes to enable internal DNS resolution for deployed clouds and does not attempt to cover integration with an external DNS service such as Designate. It is important to note that the internal DNS resolution provided by this feature is *network isolated* rather than tenant isolated. As such, instances launched in network A will not be able to resolve instances launched in network B. For this type of name resolution, an external DNS service such as those provided by Designate should be used instead and is beyond the scope of this spec. To enable the internal DNS resolution, the neutron-server service must be configured with the ``dns_domain`` config option set to a value other than ``openstacklocal`` in neutron.conf file and the ``dns`` extension driver must be enabled in the ml2_conf.ini file. This change will add a new config option named ``dns-domain`` which enables the DNS extension driver in Neutron. This option will be a String value which will behave as follows: +----------------+------------------------------------------------------------+ | Value | Charm Behavior | +================+============================================================+ | Empty String | Neutron DNS extension driver is not enabled. Neutron falls | | | back to its default behavior. | | | Note: this will be the default option. | +----------------+------------------------------------------------------------+ | openstacklocal | Neutron DNS extension driver is enabled. Neutron falls | | | back to its default behavior because the domain name must | | | be a value other than openstacklocal to enable the feature | | | in Neutron. | +----------------+------------------------------------------------------------+ | domain.tld | Neutron DNS extension driver is enabled. Neutron will now | | | serve internal DNS matching the instance names. Charm will | | | provide the missing . at the end of the value to make | | | everything work properly. | +----------------+------------------------------------------------------------+ | domain.tld. | Neutron DNS extension driver is enabled. Neutron will now | | | serve internal DNS matching the instance names. | +----------------+------------------------------------------------------------+ Relation Implications --------------------- The neutron-dhcp-agent does not run on the same node as the neutron-server and should have the ``dns_domain`` specified in the dhcp_conf.ini file. Specifying this value in the dhcp_conf.ini file is not strictly necessary, as the hostnames will properly resolve without it. However, the default search list advertised to hosts will be the default ``openstacklocal`` and may cause confusion to users. To allow the neutron-api charm to share this configuration information with interested parties, the ``neutron-plugin-api`` relation-data will be updated to contain the dns-domain name: .. code-block:: yaml 'dns-domain': 'domain.tld.' The value will be a string containing the domain name. Alternatives ------------ #. Designate could be setup to provide the DNS service entries for the tenant. This option is valid, but requires additional components to be setup and deployed into the environment. Additionally, there are some limitations which are not well documented in the upstream documentation for configuring DNS integration. For example, the Neutron port API will not call the Designate API for ports on tunnelled tenant networks (e.g. GRE). #. An out-of-band solution such as that provided by the serverstack-dns tool could be deployed to provide DNS based upon OpenStack events. This is less than desirable as it must be installed per tenant, each tenant must have access credentials to access the resources of the underlying cloud, and the tool itself is not intended for a production environment. Implementation ============== Assignee(s) ----------- Primary assignee: billy-olsen Gerrit Topic ------------ Use Gerrit topic ""charms-internal-dns"" for all patches related to this spec. .. code-block:: bash git-review -t charms-internal-dns Work Items ---------- charm-neutron-api Add new config option to the neutron api charm Add dns-domain to the neutron-plugin-api interface Update README.md to reflect new behavior charm-neutron-gateway Update neutron-gatway to consume dns-domain from relation data Repositories ------------ No new git repositories required. Supported Releases ------------------ This feature will be available on deployed clouds running Mitaka or newer. Attempting to enable this feature on earlier versions will have no effect. Documentation ------------- The neutron-api charm README will need to be updated to reflect the new feature and how to enable internal DNS. Security -------- No security implications for this change. Testing ------- Implementation will include unit tests for all new code written; amulet function tests will be updated to ensure that feature is being implemented correctly across the charm set. Dependencies ============ No external dependencies. ",,218,0
openstack%2Fcompute-hyperv~master~Ib3331deaf43006789ed5832e51facd22f3163ef5,openstack/compute-hyperv,master,Ib3331deaf43006789ed5832e51facd22f3163ef5,[WIP] Disk attach refactoring,ABANDONED,2016-07-08 17:45:06.000000000,2017-04-24 08:30:33.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}]","[{'number': 1, 'created': '2016-07-08 17:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/3434a88c46d5bc6ff11180921344748d4d06c326', 'message': '[WIP] Disk attach refactoring\n\nChange-Id: Ib3331deaf43006789ed5832e51facd22f3163ef5\n'}, {'number': 2, 'created': '2016-07-11 08:27:55.000000000', 'files': ['hyperv/nova/vmops.py', 'hyperv/nova/volumeops.py'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/78e3b10e68b27bb544153c6efe3b7874246c0657', 'message': '[WIP] Disk attach refactoring\n\nDepends-On: I008ec5c4149ecc427eaa6f7953b6e4ef441a6222\n\nChange-Id: Ib3331deaf43006789ed5832e51facd22f3163ef5\n'}]",0,339746,78e3b10e68b27bb544153c6efe3b7874246c0657,7,2,2,8543,,,0,"[WIP] Disk attach refactoring

Depends-On: I008ec5c4149ecc427eaa6f7953b6e4ef441a6222

Change-Id: Ib3331deaf43006789ed5832e51facd22f3163ef5
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/46/339746/2 && git format-patch -1 --stdout FETCH_HEAD,"['hyperv/nova/vmops.py', 'hyperv/nova/volumeops.py']",2,3434a88c46d5bc6ff11180921344748d4d06c326,attach_refactoring," disk_path = self.get_disk_resource_path(connection_info) LOG.debug(""Attaching disk %(disk_path)s to "" ""instance %(instance_name)s."", ) self._vmutils.attach_vm_disk(instance_name, disk_path, serial=serial) disk_path = self.get_disk_resource_path(connection_info) dict(disk_path=disk_path, self._vmutils.detach_vm_disk(instance_name, disk_path) return disk_path return disk_path"," # Getting the mounted disk mounted_disk_path = self.get_disk_resource_path(connection_info) ctrller_path, slot = self._get_disk_ctrl_and_slot(instance_name, disk_bus) if self._is_block_dev: # We need to tag physical disk resources with the volume # serial number, in order to be able to retrieve them # during live migration. self._vmutils.attach_volume_to_controller(instance_name, ctrller_path, slot, mounted_disk_path, serial=serial) else: self._vmutils.attach_drive(instance_name, mounted_disk_path, ctrller_path, slot) mounted_disk_path = self.get_disk_resource_path(connection_info) dict(disk_path=mounted_disk_path, self._vmutils.detach_vm_disk(instance_name, mounted_disk_path, is_physical=self._is_block_dev) def _get_disk_ctrl_and_slot(self, instance_name, disk_bus): if disk_bus == constants.CTRL_TYPE_IDE: # Find the IDE controller for the vm. ctrller_path = self._vmutils.get_vm_ide_controller( instance_name, 0) # Attaching to the first slot slot = 0 elif disk_bus == constants.CTRL_TYPE_SCSI: # Find the SCSI controller for the vm ctrller_path = self._vmutils.get_vm_scsi_controller( instance_name) slot = self._vmutils.get_free_controller_slot(ctrller_path) else: err_msg = _(""Unsupported disk bus requested: %s"") raise exception.Invalid(err_msg % disk_bus) return ctrller_path, slot def _get_mounted_disk_path_by_dev_name(self, device_name): device_number = self._diskutils.get_device_number_from_device_name( device_name) mounted_disk_path = self._vmutils.get_mounted_disk_by_drive_number( device_number) return mounted_disk_path return self._get_mounted_disk_path_by_dev_name(disk_path) return self._get_mounted_disk_path_by_dev_name( disk_path)",24,66
openstack%2Fos-win~master~I008ec5c4149ecc427eaa6f7953b6e4ef441a6222,openstack/os-win,master,I008ec5c4149ecc427eaa6f7953b6e4ef441a6222,[WIP] Refactor VM attach methods,ABANDONED,2016-07-06 17:16:43.000000000,2017-04-24 08:30:09.000000000,,"[{'_account_id': 3}, {'_account_id': 5170}]","[{'number': 1, 'created': '2016-07-06 17:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/896ad61762c7a00c6fc49a53ed24cc4376ed316c', 'message': '[WIP] Refactor VM attach methods\n\nChange-Id: I008ec5c4149ecc427eaa6f7953b6e4ef441a6222\n'}, {'number': 2, 'created': '2016-07-07 15:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/9aac593db27dcabb655af036c2619d7b65334f15', 'message': '[WIP] Refactor VM attach methods\n\nChange-Id: I008ec5c4149ecc427eaa6f7953b6e4ef441a6222\n'}, {'number': 3, 'created': '2016-07-08 17:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/6ef092e73bff57357d84c1c5af129e62e3784ae3', 'message': '[WIP] Refactor VM attach methods\n\nChange-Id: I008ec5c4149ecc427eaa6f7953b6e4ef441a6222\n'}, {'number': 4, 'created': '2016-07-11 08:27:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/500f7077e5aefc886a15323b350b5868fb54b457', 'message': '[WIP] Refactor VM attach methods\n\nChange-Id: I008ec5c4149ecc427eaa6f7953b6e4ef441a6222\n'}, {'number': 5, 'created': '2016-07-11 09:00:30.000000000', 'files': ['os_win/constants.py', 'os_win/utils/storage/virtdisk/vhdutils.py', 'os_win/utils/compute/vmutils.py', 'os_win/utils/storage/diskutils.py', 'os_win/utils/storage/virtdisk/virtdisk_constants.py', 'os_win/exceptions.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/48bd4a8903b1264ca37b0b959bfaf09302e0851b', 'message': '[WIP] Refactor VM attach methods\n\nChange-Id: I008ec5c4149ecc427eaa6f7953b6e4ef441a6222\n'}]",0,338410,48bd4a8903b1264ca37b0b959bfaf09302e0851b,15,2,5,8543,,,0,"[WIP] Refactor VM attach methods

Change-Id: I008ec5c4149ecc427eaa6f7953b6e4ef441a6222
",git fetch https://review.opendev.org/openstack/os-win refs/changes/10/338410/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/constants.py', 'os_win/utils/compute/vmutils.py']",2,896ad61762c7a00c6fc49a53ed24cc4376ed316c,refactor_attach,"from os_win.utils.storage import diskutils self._diskutils = diskutils.DiskUtils() def _get_vm_disk_ctrl(self, vmsettings, ctrller_addr, disk_bus): if disk_bus == constants.CTRL_TYPE_IDE: res_sub_type = self._IDE_CTRL_RES_SUB_TYPE elif disk_bus == constants.CTRL_TYPE_SCSI: res_sub_type = self._SCSI_CTRL_RES_SUB_TYPE else: err_msg = _(""Unknown disk bus: %s"") raise exceptions.HyperVException(err_msg % disk_bus) ctrls = [r for r in rasds if r.ResourceSubType == res_sub_type and r.Address == str(ctrller_addr)] if not ctrls: err_msg = _(""Could not find disk controller %(ctrller_addr)s "" ""on disk bus: %(disk_bus)s."") raise exceptions.HyperVException( err_msg % dict(ctrller_addr=ctrller_addr), disk_bus=disk_bus) return ctrls[0].path_() # Those methods should be removed once Nova stops using them, # as we should not expose disk controller paths. return self._get_vm_disk_ctrl(vmsettings, ctrller_addr, disk_bus=constants.CTRL_TYPE_IDE) def get_vm_scsi_controller(self, vm_name): vmsettings = self._lookup_vm_check(vm_name) return self._get_vm_disk_ctrl(vmsettings, ctrller_addr=0, disk_bus=constants.CTRL_TYPE_SCSI) def attach_vm_drive(self, vm_name, path, is_physical, disk_bus=constants.CTRL_TYPE_IDE, ctrller_addr=0, drive_addr=None, drive_type=constants.DISK, serial=None): ctrller_path = self._get_vm_disks_ctrl(vmsettings, ctrller_addr, disk_bus) if drive_addr is None: drive_addr = self.get_free_controller_slot(ctrller_path, disk_bus) if is_physical: self._attach_phys_disk(vmsettings, path, ctrller_path, drive_addr, drive_type, serial) else: self._attach_disk_image(vmsettings, path, ctrller_path, drive_addr, drive_type, serial) def _attach_phys_disk(self, vmsettings, path, ctrller_path, drive_addr, drive_type, serial): mounted_disk_path = self._get_mounted_disk_path_by_dev_name(path) diskdrive = self._get_new_resource_setting_data( self._PHYS_DISK_RES_SUB_TYPE) diskdrive.AddressOnParent = drive_addr diskdrive.Parent = ctrller_path diskdrive.HostResource = [mounted_disk_path] diskdrive_path = self._jobutils.add_virt_resource(diskdrive, vmsettings)[0] if serial: # Apparently this can't be set when the resource is added. diskdrive = self._get_wmi_obj(diskdrive_path) diskdrive.ElementName = serial self._jobutils.modify_virt_resource(diskdrive) def _get_mounted_disk_path_by_dev_name(self, device_name): device_number = self._diskutils.get_device_number_from_device_name( device_name) mounted_disk_path = self.get_mounted_disk_by_drive_number( device_number) if not mounted_disk_path: err_msg = _(""Could not find the mounted disk "" ""drive for device %s."") raise exceptions.HyperVException(err_msg % device_name) return mounted_disk_path def _attach_disk_image(self, vmsettings, path, ctrller_path, drive_addr, drive_type, serial): new_resources = self._jobutils.add_virt_resource(drive, vmsettings) if serial: drive = self._get_wmi_obj(drive_path) drive.ElementName = serial self._jobutils.modify_virt_resource(drive) self._jobutils.add_virt_resource(res, vmsettings) def attach_scsi_drive(self, vm_name, path, drive_type=constants.DISK): # TODO(lpetrut): Remove this when Nova starts using the new method. ctrller_path = self._get_vm_scsi_controller(vmsettings) drive_addr = self.get_free_controller_slot(ctrller_path) self.attach_drive(vm_name, path, ctrller_path, drive_addr, drive_type) def attach_ide_drive(self, vm_name, path, ctrller_addr, drive_addr, drive_type=constants.DISK): # TODO(lpetrut): Remove this when Nova starts using the new method. vmsettings = self._lookup_vm_check(vm_name) ctrller_path = self._get_vm_ide_controller(vmsettings, ctrller_addr) self.attach_drive(vm_name, path, ctrller_path, drive_addr, drive_type) def attach_drive(self, vm_name, path, ctrller_path, drive_addr, drive_type=constants.DISK): """"""Create a drive and attach it to the vm."""""" vm = self._lookup_vm_check(vm_name, as_vssd=False) self._attach_disk_image(vm, path, ctrller_path, drive_addr, drive_type, serial=None) # TODO(lpetrut): Remove this when Nova starts using the new method. def create_scsi_controller(self, vm_name): """"""Create an iscsi controller ready to mount volumes."""""" vmsettings = self._lookup_vm_check(vm_name) scsicontrl = self._get_new_resource_setting_data( self._SCSI_CTRL_RES_SUB_TYPE) scsicontrl.VirtualSystemIdentifiers = ['{' + str(uuid.uuid4()) + '}'] self._jobutils.add_virt_resource(scsicontrl, vmsettings) def detach_vm_disk(self, vm_name, disk_path, is_physical=True, serial=None): # NOTE(lpetrut): At the moment, for physical disks, Nova passes the # Msvm_DiskDrive resource path. In the future, we expect it to pass # the phyisical disk path. if is_physical and not 'Msvm_DiskDrive' in disk_path: disk_res_path = self._get_mounted_disk_path_by_dev_name(disk_path) else: disk_res_path = disk_path ""WHERE (__PATH = '%(parent_path)s' OR "" ""ElementName = '%(element_name)ss')"" % def get_free_controller_slot(self, controller_path, disk_bus): # TODO(lpetrut): This should become private once Nova stops using it. attached_disks = self.get_attached_disks(controller_path) slots_number = constants.DISK_CONTROLLER_SLOTS_NUMBER[disk_bus] for slot in range(slots_number): err_msg = _(""Exceeded the maximum number of slots (%(slots_number)s) "" ""for disk bus %(disk_bus)s."") err_msg % dict(slots_number=slots_number, disk_bus=disk_bus))"," def get_vm_scsi_controller(self, vm_name): vmsettings = self._lookup_vm_check(vm_name) return self._get_vm_scsi_controller(vmsettings) def _get_vm_scsi_controller(self, vmsettings): res = [r for r in rasds if r.ResourceSubType == self._SCSI_CTRL_RES_SUB_TYPE][0] return res.path_() def _get_vm_ide_controller(self, vmsettings, ctrller_addr): rasds = _wqlutils.get_element_associated_class( self._conn, self._RESOURCE_ALLOC_SETTING_DATA_CLASS, element_instance_id=vmsettings.InstanceID) ide_ctrls = [r for r in rasds if r.ResourceSubType == self._IDE_CTRL_RES_SUB_TYPE and r.Address == str(ctrller_addr)] return ide_ctrls[0].path_() if ide_ctrls else None return self._get_vm_ide_controller(vmsettings, ctrller_addr) def attach_scsi_drive(self, vm_name, path, drive_type=constants.DISK): ctrller_path = self._get_vm_scsi_controller(vmsettings) drive_addr = self.get_free_controller_slot(ctrller_path) self.attach_drive(vm_name, path, ctrller_path, drive_addr, drive_type) def attach_ide_drive(self, vm_name, path, ctrller_addr, drive_addr, drive_type=constants.DISK): vmsettings = self._lookup_vm_check(vm_name) ctrller_path = self._get_vm_ide_controller(vmsettings, ctrller_addr) self.attach_drive(vm_name, path, ctrller_path, drive_addr, drive_type) def attach_drive(self, vm_name, path, ctrller_path, drive_addr, drive_type=constants.DISK): """"""Create a drive and attach it to the vm."""""" vm = self._lookup_vm_check(vm_name, as_vssd=False) new_resources = self._jobutils.add_virt_resource(drive, vm) self._jobutils.add_virt_resource(res, vm) def create_scsi_controller(self, vm_name): """"""Create an iscsi controller ready to mount volumes."""""" scsicontrl = self._get_new_resource_setting_data( self._SCSI_CTRL_RES_SUB_TYPE) scsicontrl.VirtualSystemIdentifiers = ['{' + str(uuid.uuid4()) + '}'] self._jobutils.add_virt_resource(scsicontrl, vmsettings) def detach_vm_disk(self, vm_name, disk_path, is_physical=True): ""WHERE __PATH = '%s'"" % def get_free_controller_slot(self, scsi_controller_path): attached_disks = self.get_attached_disks(scsi_controller_path) for slot in range(constants.SCSI_CONTROLLER_SLOTS_NUMBER): _(""Exceeded the maximum number of slots""))",142,44
openstack%2Ftempest~master~Ib02d04082184bc7d5a520180d3d047d6b2024344,openstack/tempest,master,Ib02d04082184bc7d5a520180d3d047d6b2024344,test_l3_agent_scheduler: remove workaround code for Liberty,MERGED,2017-04-23 11:30:35.000000000,2017-04-24 08:24:04.000000000,2017-04-24 08:24:04.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8556}]","[{'number': 1, 'created': '2017-04-23 11:30:35.000000000', 'files': ['tempest/api/network/admin/test_l3_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6be33a4e7ecbbb4062cdb21c9c85f2155728f623', 'message': 'test_l3_agent_scheduler: remove workaround code for Liberty\n\nNow that an L3 Agent always returns its ""agent_mode"" no need to fallback\nto default value if the agent_mode is not returned.\n\nThis fixes an old TODO by armax.\n\nAlso, optimize a bit the test to use server-side L3 Agent filtering.\nAnd simplify multistring docstring to comply with H404.\n\nChange-Id: Ib02d04082184bc7d5a520180d3d047d6b2024344\n'}]",0,459102,6be33a4e7ecbbb4062cdb21c9c85f2155728f623,9,3,1,7350,,,0,"test_l3_agent_scheduler: remove workaround code for Liberty

Now that an L3 Agent always returns its ""agent_mode"" no need to fallback
to default value if the agent_mode is not returned.

This fixes an old TODO by armax.

Also, optimize a bit the test to use server-side L3 Agent filtering.
And simplify multistring docstring to comply with H404.

Change-Id: Ib02d04082184bc7d5a520180d3d047d6b2024344
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/459102/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/admin/test_l3_agent_scheduler.py'],1,6be33a4e7ecbbb4062cdb21c9c85f2155728f623,," """"""Tests the following operations in the Neutron API: agents = cls.admin_agents_client.list_agents( agent_type=AGENT_TYPE)['agents'] for agent in agents: if agent['configurations']['agent_mode'] in AGENT_MODES:"," _agent_mode = 'legacy' """""" Tests the following operations in the Neutron API using the REST client for Neutron: body = cls.admin_agents_client.list_agents() agents = body['agents'] for agent in agents: # TODO(armax): falling back on default _agent_mode can be # dropped as soon as Icehouse is dropped. agent_mode = ( agent['configurations'].get('agent_mode', cls._agent_mode)) if agent['agent_type'] == AGENT_TYPE and agent_mode in AGENT_MODES:",4,12
openstack%2Fpuppet-murano~master~Icb5594be8ef6a8fcb8e16d19354d15642be0f898,openstack/puppet-murano,master,Icb5594be8ef6a8fcb8e16d19354d15642be0f898,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:29.000000000,2017-04-24 08:22:31.000000000,2017-04-24 08:22:31.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 15168}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:29.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/4c3d399a636a8ec0327d2e1ac5792a80cd2ab5c7', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Icb5594be8ef6a8fcb8e16d19354d15642be0f898\n'}]",0,459004,4c3d399a636a8ec0327d2e1ac5792a80cd2ab5c7,9,4,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Icb5594be8ef6a8fcb8e16d19354d15642be0f898
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/04/459004/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,4c3d399a636a8ec0327d2e1ac5792a80cd2ab5c7,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-cinder~master~I9c61d1d3b2f43dc02033644dff5341866d789c71,openstack/puppet-cinder,master,I9c61d1d3b2f43dc02033644dff5341866d789c71,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:23.000000000,2017-04-24 08:20:09.000000000,2017-04-24 08:20:09.000000000,"[{'_account_id': 3}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:22:23.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/3a27961ed1e69eacf3a65f094cbaf3a86987712a', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I9c61d1d3b2f43dc02033644dff5341866d789c71\n'}]",0,458991,3a27961ed1e69eacf3a65f094cbaf3a86987712a,7,2,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I9c61d1d3b2f43dc02033644dff5341866d789c71
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/91/458991/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,3a27961ed1e69eacf3a65f094cbaf3a86987712a,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Ftempest~master~Ide9ac50cfb8dc834dc5f264a72f0b857f77b5f15,openstack/tempest,master,Ide9ac50cfb8dc834dc5f264a72f0b857f77b5f15,Add support to list volume transfers with detail,MERGED,2017-04-18 10:28:11.000000000,2017-04-24 08:19:12.000000000,2017-04-24 08:19:12.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 20190}, {'_account_id': 23081}]","[{'number': 1, 'created': '2017-04-18 10:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1706664a23d5a8b654ef270a94be3e394deac36b', 'message': 'Add support to list volume transfers with detail\n\nVolume v2 transfers_client library lacks API: list volume transfers\nwith detail. This patch adds the support.\n\nIncluding:\n[1] Add list volume transfers with detail API to v2 transfers_client\n[2] Add release note\n[3] Add unit test for the added API\n[4] Small fix on test_create_list_delete_volume_transfer\n\nChange-Id: Ide9ac50cfb8dc834dc5f264a72f0b857f77b5f15\n'}, {'number': 2, 'created': '2017-04-19 07:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4c1f763cc0f005c4f57c141fdb9f0009f8f12f3b', 'message': 'Add support to list volume transfers with detail\n\nVolume v2 transfers_client library lacks API: list volume transfers\nwith detail. This patch adds the support.\n\nIncluding:\n[1] Add list volume transfers with detail API to v2 transfers_client\n[2] Add release note\n[3] Add unit test for the added API\n[4] Small fix on test_create_list_delete_volume_transfer\n\nChange-Id: Ide9ac50cfb8dc834dc5f264a72f0b857f77b5f15\n'}, {'number': 3, 'created': '2017-04-19 12:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/84e1a3b0b687a48e3819be41964176a9eaf3a759', 'message': 'Add support to list volume transfers with detail\n\nVolume v2 transfers_client library lacks API: list volume transfers\nwith detail. This patch adds the support.\n\nIncluding:\n[1] Add list volume transfers with detail API to v2 transfers_client\n[2] Add release note\n[3] Add unit test for the added API\n[4] Small fix on test_create_list_delete_volume_transfer\n\nChange-Id: Ide9ac50cfb8dc834dc5f264a72f0b857f77b5f15\n'}, {'number': 4, 'created': '2017-04-20 01:29:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3c2e49a47bd72c2c5355a11eb08cbcfaf537a8b7', 'message': 'Add support to list volume transfers with detail\n\nVolume v2 transfers_client library lacks API: list volume transfers\nwith detail. This patch adds the support.\n\nIncluding:\n[1] Add list volume transfers with detail API to v2 transfers_client\n[2] Add release note\n[3] Add unit test for the added API\n[4] Small fix on test_create_list_delete_volume_transfer\n\nChange-Id: Ide9ac50cfb8dc834dc5f264a72f0b857f77b5f15\n'}, {'number': 5, 'created': '2017-04-20 03:19:15.000000000', 'files': ['tempest/tests/lib/services/volume/v2/test_transfers_client.py', 'releasenotes/notes/add-list-volume-transfers-with-detail-to-transfers-client-80169bf78cf4fa66.yaml', 'tempest/lib/services/volume/v2/transfers_client.py', 'tempest/api/volume/test_volume_transfers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c2618d9ce96ab425941b0a981525bb6e1ec3238c', 'message': 'Add support to list volume transfers with detail\n\nVolume v2 transfers_client library lacks API: list volume transfers\nwith detail. This patch adds the support.\n\nIncluding:\n[1] Add list volume transfers with detail API to v2 transfers_client\n[2] Add release note\n[3] Add unit test for the added API\n[4] Small fix on test_create_list_delete_volume_transfer\n\nChange-Id: Ide9ac50cfb8dc834dc5f264a72f0b857f77b5f15\n'}]",9,457556,c2618d9ce96ab425941b0a981525bb6e1ec3238c,30,6,5,23081,,,0,"Add support to list volume transfers with detail

Volume v2 transfers_client library lacks API: list volume transfers
with detail. This patch adds the support.

Including:
[1] Add list volume transfers with detail API to v2 transfers_client
[2] Add release note
[3] Add unit test for the added API
[4] Small fix on test_create_list_delete_volume_transfer

Change-Id: Ide9ac50cfb8dc834dc5f264a72f0b857f77b5f15
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/457556/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/lib/services/volume/v2/test_transfers_client.py', 'releasenotes/notes/add-list-volume-transfers-with-detail-to-transfers-client-80169bf78cf4fa66.yaml', 'tempest/lib/services/volume/v2/transfers_client.py', 'tempest/api/volume/test_volume_transfers.py']",4,1706664a23d5a8b654ef270a94be3e394deac36b,list_volume_transfer_detail," body = self.client.list_volume_transfers(detail=True)['transfers'] volume_list = [transfer['volume_id'] for transfer in body] self.assertIn(volume['id'], volume_list, 'Transfer not found for volume %s' % volume['id'])", body = self.client.list_volume_transfers()['transfers'] for transfer in body: if volume['id'] == transfer['volume_id']: break else: self.fail('Transfer not found for volume %s' % volume['id']),74,7
openstack%2Fpuppet-octavia~master~I060eae17699f33564de4f6ee575c946137ed1666,openstack/puppet-octavia,master,I060eae17699f33564de4f6ee575c946137ed1666,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:46.000000000,2017-04-24 08:18:16.000000000,2017-04-24 08:18:16.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:46.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/634c96c2349efc6bbc39c9f773c3ecce3c5879fe', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I060eae17699f33564de4f6ee575c946137ed1666\n'}]",0,459007,634c96c2349efc6bbc39c9f773c3ecce3c5879fe,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I060eae17699f33564de4f6ee575c946137ed1666
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/07/459007/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,634c96c2349efc6bbc39c9f773c3ecce3c5879fe,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',7,7
openstack%2Fpuppet-openstack_extras~master~Ie545f3acafcc69f254e3bd4f48b6becdd8cd6c53,openstack/puppet-openstack_extras,master,Ie545f3acafcc69f254e3bd4f48b6becdd8cd6c53,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:51.000000000,2017-04-24 08:18:05.000000000,2017-04-24 08:18:05.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:51.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/6ae42d200fa823423bcb69059dcd2e80150a4f5d', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Ie545f3acafcc69f254e3bd4f48b6becdd8cd6c53\n'}]",0,459008,6ae42d200fa823423bcb69059dcd2e80150a4f5d,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Ie545f3acafcc69f254e3bd4f48b6becdd8cd6c53
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/08/459008/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,6ae42d200fa823423bcb69059dcd2e80150a4f5d,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',3,3
openstack%2Fpuppet-manila~master~I485111ba2d0c87f6e82710aa98d2a189a0609657,openstack/puppet-manila,master,I485111ba2d0c87f6e82710aa98d2a189a0609657,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:20.000000000,2017-04-24 08:17:52.000000000,2017-04-24 08:17:52.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:20.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/2876e50b15d45d29b6ddefac0aba1ba80ece9267', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I485111ba2d0c87f6e82710aa98d2a189a0609657\n'}]",0,459002,2876e50b15d45d29b6ddefac0aba1ba80ece9267,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I485111ba2d0c87f6e82710aa98d2a189a0609657
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/02/459002/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,2876e50b15d45d29b6ddefac0aba1ba80ece9267,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',7,7
openstack%2Fpuppet-mistral~master~I16d63aedea2f875ae8b9ca3224f09bdf13841c4a,openstack/puppet-mistral,master,I16d63aedea2f875ae8b9ca3224f09bdf13841c4a,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:24.000000000,2017-04-24 08:17:47.000000000,2017-04-24 08:17:47.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:24.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/da2fd0638f25a032cdd129609ab5b56f730105dd', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I16d63aedea2f875ae8b9ca3224f09bdf13841c4a\n'}]",0,459003,da2fd0638f25a032cdd129609ab5b56f730105dd,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I16d63aedea2f875ae8b9ca3224f09bdf13841c4a
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/03/459003/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,da2fd0638f25a032cdd129609ab5b56f730105dd,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-magnum~master~I4a5c7ada6362ad600c8a2b3f10946c463c509199,openstack/puppet-magnum,master,I4a5c7ada6362ad600c8a2b3f10946c463c509199,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:10.000000000,2017-04-24 08:17:41.000000000,2017-04-24 08:17:41.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:10.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/a590aac8703f804f49a98a72bde4c845ffb6224c', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I4a5c7ada6362ad600c8a2b3f10946c463c509199\n'}]",0,459001,a590aac8703f804f49a98a72bde4c845ffb6224c,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I4a5c7ada6362ad600c8a2b3f10946c463c509199
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/01/459001/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,a590aac8703f804f49a98a72bde4c845ffb6224c,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-congress~master~I8a2cf94d1cf05e6331859979039ab4995538c3f3,openstack/puppet-congress,master,I8a2cf94d1cf05e6331859979039ab4995538c3f3,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:27.000000000,2017-04-24 08:17:33.000000000,2017-04-24 08:17:33.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:22:27.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/2b4ecac8d25ea5e3c2263eb42ac1566344435538', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I8a2cf94d1cf05e6331859979039ab4995538c3f3\n'}]",0,458992,2b4ecac8d25ea5e3c2263eb42ac1566344435538,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I8a2cf94d1cf05e6331859979039ab4995538c3f3
",git fetch https://review.opendev.org/openstack/puppet-congress refs/changes/92/458992/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,2b4ecac8d25ea5e3c2263eb42ac1566344435538,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',7,7
openstack%2Fpuppet-designate~master~I8cd8cbd2e67be802ec1f444394a52f715658b962,openstack/puppet-designate,master,I8cd8cbd2e67be802ec1f444394a52f715658b962,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:31.000000000,2017-04-24 08:16:54.000000000,2017-04-24 08:16:54.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:22:31.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/53960d677dd32473a7009c3392a2757bd0197175', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I8cd8cbd2e67be802ec1f444394a52f715658b962\n'}]",0,458993,53960d677dd32473a7009c3392a2757bd0197175,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I8cd8cbd2e67be802ec1f444394a52f715658b962
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/93/458993/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,53960d677dd32473a7009c3392a2757bd0197175,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-ec2api~master~I8efeb542d8a6ab8ff8a36d6a23dee6fb1ce61982,openstack/puppet-ec2api,master,I8efeb542d8a6ab8ff8a36d6a23dee6fb1ce61982,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:40.000000000,2017-04-24 08:15:08.000000000,2017-04-24 08:15:08.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:22:40.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/43beb57c0be1c08741c84eb2a0a46888f25d9cf1', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I8efeb542d8a6ab8ff8a36d6a23dee6fb1ce61982\n'}]",0,458994,43beb57c0be1c08741c84eb2a0a46888f25d9cf1,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I8efeb542d8a6ab8ff8a36d6a23dee6fb1ce61982
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/94/458994/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,43beb57c0be1c08741c84eb2a0a46888f25d9cf1,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-barbican~master~Ifc1c3041e50f97d870dc25676b708f0a930dc70c,openstack/puppet-barbican,master,Ifc1c3041e50f97d870dc25676b708f0a930dc70c,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:15.000000000,2017-04-24 08:15:02.000000000,2017-04-24 08:15:02.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:22:15.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/5b740a727bb72be0da18f3a3c59c0423423ae1d2', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Ifc1c3041e50f97d870dc25676b708f0a930dc70c\n'}]",0,458989,5b740a727bb72be0da18f3a3c59c0423423ae1d2,7,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Ifc1c3041e50f97d870dc25676b708f0a930dc70c
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/89/458989/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,5b740a727bb72be0da18f3a3c59c0423423ae1d2,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-horizon~master~Id886bde8bdbc42d8a8fb6c74e7e980ff8a989da1,openstack/puppet-horizon,master,Id886bde8bdbc42d8a8fb6c74e7e980ff8a989da1,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:57.000000000,2017-04-24 08:14:27.000000000,2017-04-24 08:14:27.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:22:57.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/ca72a7bae89a283b1dae5876ca690df3c70da673', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Id886bde8bdbc42d8a8fb6c74e7e980ff8a989da1\n'}]",0,458998,ca72a7bae89a283b1dae5876ca690df3c70da673,8,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Id886bde8bdbc42d8a8fb6c74e7e980ff8a989da1
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/98/458998/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,ca72a7bae89a283b1dae5876ca690df3c70da673,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',3,3
openstack%2Fpuppet-aodh~master~I467681b9de3254e32786c9fc067f4eec0981bc2e,openstack/puppet-aodh,master,I467681b9de3254e32786c9fc067f4eec0981bc2e,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:11.000000000,2017-04-24 08:14:21.000000000,2017-04-24 08:14:21.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:22:11.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/ef764992f658850c9610ffa2f6d9879e4d87b941', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I467681b9de3254e32786c9fc067f4eec0981bc2e\n'}]",0,458988,ef764992f658850c9610ffa2f6d9879e4d87b941,8,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I467681b9de3254e32786c9fc067f4eec0981bc2e
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/88/458988/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,ef764992f658850c9610ffa2f6d9879e4d87b941,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-ceilometer~master~Id4b9b3cbdff2d2de286ea86523ad1936383092d4,openstack/puppet-ceilometer,master,Id4b9b3cbdff2d2de286ea86523ad1936383092d4,Bump modules to next minor with -dev,MERGED,2017-04-21 23:22:19.000000000,2017-04-24 08:14:16.000000000,2017-04-24 08:14:16.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:22:19.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/43a3bc2c217c0681a9ace4038483ed329f88e49c', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Id4b9b3cbdff2d2de286ea86523ad1936383092d4\n'}]",0,458990,43a3bc2c217c0681a9ace4038483ed329f88e49c,8,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Id4b9b3cbdff2d2de286ea86523ad1936383092d4
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/90/458990/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,43a3bc2c217c0681a9ace4038483ed329f88e49c,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fpuppet-openstacklib~master~Ie00f8f21337242d999a9b034813831ef2aedea80,openstack/puppet-openstacklib,master,Ie00f8f21337242d999a9b034813831ef2aedea80,Bump modules to next minor with -dev,MERGED,2017-04-21 23:23:56.000000000,2017-04-24 08:14:10.000000000,2017-04-24 08:14:10.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:23:56.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/16d87ac0688aed1b6b04633c7ce5b532f212a82b', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: Ie00f8f21337242d999a9b034813831ef2aedea80\n'}]",0,459009,16d87ac0688aed1b6b04633c7ce5b532f212a82b,8,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: Ie00f8f21337242d999a9b034813831ef2aedea80
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/09/459009/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,16d87ac0688aed1b6b04633c7ce5b532f212a82b,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',3,3
openstack%2Fpuppet-oslo~master~I3d3c7ccf065d50fb8fef37b2eea68327f9b3e2ec,openstack/puppet-oslo,master,I3d3c7ccf065d50fb8fef37b2eea68327f9b3e2ec,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:00.000000000,2017-04-24 08:13:49.000000000,2017-04-24 08:13:49.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:24:00.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/e6d678870c007a15ca2d212766ab57f14ed50d91', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I3d3c7ccf065d50fb8fef37b2eea68327f9b3e2ec\n'}]",0,459010,e6d678870c007a15ca2d212766ab57f14ed50d91,8,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I3d3c7ccf065d50fb8fef37b2eea68327f9b3e2ec
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/10/459010/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,e6d678870c007a15ca2d212766ab57f14ed50d91,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',4,4
openstack%2Fpuppet-sahara~master~I02ea0bf70c17ae16a446c9f99208384bef09e693,openstack/puppet-sahara,master,I02ea0bf70c17ae16a446c9f99208384bef09e693,Bump modules to next minor with -dev,MERGED,2017-04-21 23:24:13.000000000,2017-04-24 08:13:10.000000000,2017-04-24 08:13:10.000000000,"[{'_account_id': 3}, {'_account_id': 9414}, {'_account_id': 18795}]","[{'number': 1, 'created': '2017-04-21 23:24:13.000000000', 'files': ['metadata.json', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/260592bafba052c072d0e14b5dd8dce429745c22', 'message': 'Bump modules to next minor with -dev\n\nAfter releasing Pike M1, we need to bump the metadata version\ninformation for the next release with a -dev.\n\nChange-Id: I02ea0bf70c17ae16a446c9f99208384bef09e693\n'}]",0,459013,260592bafba052c072d0e14b5dd8dce429745c22,8,3,1,14985,,,0,"Bump modules to next minor with -dev

After releasing Pike M1, we need to bump the metadata version
information for the next release with a -dev.

Change-Id: I02ea0bf70c17ae16a446c9f99208384bef09e693
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/13/459013/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/source/conf.py']",2,260592bafba052c072d0e14b5dd8dce429745c22,puppet-pike-m2-dev,version = '11.1.0'release = '11.1.0-dev',version = '11.0.0'release = '11.0.0',6,6
openstack%2Fceilometer~master~I7c8478d96c9a1766e16c21375d0141f386999a78,openstack/ceilometer,master,I7c8478d96c9a1766e16c21375d0141f386999a78,tempest: Don't hardcode the network name,MERGED,2017-04-21 10:47:02.000000000,2017-04-24 07:54:53.000000000,2017-04-21 14:15:45.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 6537}, {'_account_id': 15843}]","[{'number': 1, 'created': '2017-04-21 10:47:02.000000000', 'files': ['ceilometer/tests/integration/gabbi/gabbits-live/create_stack.json', 'ceilometer/tests/tempest/scenario/test_telemetry_integration.py', 'ceilometer/tests/integration/gabbi/gabbits-live/update_stack.json'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/1f393433cbb39a3b2a34954bcd7beddcef2dc00b', 'message': ""tempest: Don't hardcode the network name\n\nChange-Id: I7c8478d96c9a1766e16c21375d0141f386999a78\n""}]",0,458806,1f393433cbb39a3b2a34954bcd7beddcef2dc00b,8,4,1,2813,,,0,"tempest: Don't hardcode the network name

Change-Id: I7c8478d96c9a1766e16c21375d0141f386999a78
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/06/458806/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/tests/integration/gabbi/gabbits-live/create_stack.json', 'ceilometer/tests/tempest/scenario/test_telemetry_integration.py', 'ceilometer/tests/integration/gabbi/gabbits-live/update_stack.json']",3,1f393433cbb39a3b2a34954bcd7beddcef2dc00b,sileht/tempest-for-rdo-puppet," ""networks"": [{ ""network"": ""$ENVIRON['NEUTRON_NETWORK']"" }],"," ""networks"": [{ ""network"": ""private"" }],",5,2
openstack%2Ftripleo-heat-templates~master~Idcfbb751d787a7686ce28d46d0ec0da627e52ce6,openstack/tripleo-heat-templates,master,Idcfbb751d787a7686ce28d46d0ec0da627e52ce6,DO NOT MERGE: Testing token flush,ABANDONED,2017-04-12 11:41:21.000000000,2017-04-24 07:52:45.000000000,,"[{'_account_id': 3}, {'_account_id': 10873}]","[{'number': 1, 'created': '2017-04-12 11:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/396761b68dcff84c6c9389723c4de5dc1988151d', 'message': 'DO NOT MERGE: Testing token flush\n\nChange-Id: Idcfbb751d787a7686ce28d46d0ec0da627e52ce6\n'}, {'number': 2, 'created': '2017-04-12 14:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/61cbdf4f25c295b9828b4828b555e4b1bb04bbc3', 'message': 'DO NOT MERGE: Testing token flush\n\nChange-Id: Idcfbb751d787a7686ce28d46d0ec0da627e52ce6\n'}, {'number': 3, 'created': '2017-04-18 11:57:24.000000000', 'files': ['puppet/services/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f6ca781c47d66d5ebb9d03bee9a5753f0c19138', 'message': 'DO NOT MERGE: Testing token flush\n\nChange-Id: Idcfbb751d787a7686ce28d46d0ec0da627e52ce6\n'}]",0,456184,7f6ca781c47d66d5ebb9d03bee9a5753f0c19138,11,2,3,10873,,,0,"DO NOT MERGE: Testing token flush

Change-Id: Idcfbb751d787a7686ce28d46d0ec0da627e52ce6
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/456184/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/keystone.yaml'],1,396761b68dcff84c6c9389723c4de5dc1988151d,keystone-token-flush, default: 'uuid', default: 'fernet',1,1
openstack%2Ftempest~master~I9ccf070a12d24e63db5fb0f960c8be764b1b02dd,openstack/tempest,master,I9ccf070a12d24e63db5fb0f960c8be764b1b02dd,Move 'test_admin_deactivate_reactivate_image' test under non-admin directory,MERGED,2017-04-20 14:11:32.000000000,2017-04-24 07:51:30.000000000,2017-04-24 07:51:30.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 10385}, {'_account_id': 19262}]","[{'number': 1, 'created': '2017-04-20 14:11:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/255afb5f735c1a5c549c52a0cc05f54fd604837a', 'message': ""Move 'test_admin_deactivate_reactivate_image' test under non-admin directory\n\nImage deactivate and reactivate actions are need admin privlieges.\n\nChange-Id: I9ccf070a12d24e63db5fb0f960c8be764b1b02dd\n""}, {'number': 2, 'created': '2017-04-21 05:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e241eeeb3ca148222a59fcbc92a9d50bd577d392', 'message': ""Move 'test_admin_deactivate_reactivate_image' test under non-admin directory\n\nImage deactivate and reactivate actions are not need admin privileges.\n\nChange-Id: I9ccf070a12d24e63db5fb0f960c8be764b1b02dd\n""}, {'number': 3, 'created': '2017-04-21 05:28:04.000000000', 'files': ['tempest/api/image/admin/__init__.py', 'tempest/api/image/admin/v2/__init__.py', 'tempest/api/image/v2/test_images.py', 'tempest/api/image/admin/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/32b53c318d3c3f68befe9110b26e28c8bc7dbfce', 'message': ""Move 'test_admin_deactivate_reactivate_image' test under non-admin directory\n\nImage deactivate and reactivate actions are NOT need admin privileges.\n\nChange-Id: I9ccf070a12d24e63db5fb0f960c8be764b1b02dd\n""}]",2,458518,32b53c318d3c3f68befe9110b26e28c8bc7dbfce,15,5,3,19262,,,0,"Move 'test_admin_deactivate_reactivate_image' test under non-admin directory

Image deactivate and reactivate actions are NOT need admin privileges.

Change-Id: I9ccf070a12d24e63db5fb0f960c8be764b1b02dd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/18/458518/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/image/admin/__init__.py', 'tempest/api/image/admin/v2/__init__.py', 'tempest/api/image/v2/test_images.py', 'tempest/api/image/admin/v2/test_images.py']",4,255afb5f735c1a5c549c52a0cc05f54fd604837a,reactivate_image,,"# Copyright 2015 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import six import testtools from tempest.api.image import base from tempest import config from tempest.lib.common.utils import data_utils from tempest.lib import decorators from tempest.lib import exceptions as lib_exc CONF = config.CONF class BasicAdminOperationsImagesTest(base.BaseV2ImageAdminTest): """"""Here we test admin operations of images"""""" @testtools.skipUnless(CONF.image_feature_enabled.deactivate_image, 'deactivate-image is not available.') @decorators.idempotent_id('951ebe01-969f-4ea9-9898-8a3f1f442ab0') def test_admin_deactivate_reactivate_image(self): # Create image by non-admin tenant image_name = data_utils.rand_name('image') image = self.create_image(name=image_name, container_format='bare', disk_format='raw', visibility='private') # upload an image file content = data_utils.random_bytes() image_file = six.BytesIO(content) self.client.store_image_file(image['id'], image_file) # deactivate image self.admin_client.deactivate_image(image['id']) body = self.client.show_image(image['id']) self.assertEqual(""deactivated"", body['status']) # non-admin user unable to download deactivated image self.assertRaises(lib_exc.Forbidden, self.client.show_image_file, image['id']) # reactivate image self.admin_client.reactivate_image(image['id']) body = self.client.show_image(image['id']) self.assertEqual(""active"", body['status']) # non-admin user able to download image after reactivation by admin body = self.client.show_image_file(image['id']) self.assertEqual(content, body.data) ",37,58
openstack%2Fnova~master~Iae12605dc7d0607e78020a24b5b8801606c2f169,openstack/nova,master,Iae12605dc7d0607e78020a24b5b8801606c2f169,Updated from global requirements,MERGED,2017-04-21 13:12:09.000000000,2017-04-24 07:35:15.000000000,2017-04-23 23:27:25.000000000,"[{'_account_id': 3}, {'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 25632}]","[{'number': 1, 'created': '2017-04-21 13:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2815e64ae47cf90a196048729b2bf1b4951d21f8', 'message': 'Updated from global requirements\n\nChange-Id: Iae12605dc7d0607e78020a24b5b8801606c2f169\n'}, {'number': 2, 'created': '2017-04-21 16:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ea5b5be7b96e2d6f8cffb35e24b7c20f1950d1e4', 'message': 'Updated from global requirements\n\nChange-Id: Iae12605dc7d0607e78020a24b5b8801606c2f169\n'}, {'number': 3, 'created': '2017-04-23 20:48:39.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/1ad41c0b0c844b65424251dbc3399039789b064f', 'message': 'Updated from global requirements\n\nChange-Id: Iae12605dc7d0607e78020a24b5b8801606c2f169\n'}]",0,458834,1ad41c0b0c844b65424251dbc3399039789b064f,50,15,3,11131,,,0,"Updated from global requirements

Change-Id: Iae12605dc7d0607e78020a24b5b8801606c2f169
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/458834/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2815e64ae47cf90a196048729b2bf1b4951d21f8,openstack/requirements,os-brick>=1.11.0 # Apache-2.0,os-brick>=1.8.0 # Apache-2.0,1,1
openstack%2Fironic~master~Ib8a413785401c387dd7a8e4d686d8b5316d43770,openstack/ironic,master,Ib8a413785401c387dd7a8e4d686d8b5316d43770,Remove nova mocks from documentation configuration,MERGED,2017-04-22 14:16:17.000000000,2017-04-24 07:29:36.000000000,2017-04-24 07:29:36.000000000,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 14525}]","[{'number': 1, 'created': '2017-04-22 14:16:17.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1ff76227edb477515355bee8d4294b816ecf8ca8', 'message': 'Remove nova mocks from documentation configuration\n\nAll nova related stuff was removed from tree, so no need to mock the nova\nmodules.\n\nChange-Id: Ib8a413785401c387dd7a8e4d686d8b5316d43770\n'}]",0,459058,1ff76227edb477515355bee8d4294b816ecf8ca8,8,3,1,12356,,,0,"Remove nova mocks from documentation configuration

All nova related stuff was removed from tree, so no need to mock the nova
modules.

Change-Id: Ib8a413785401c387dd7a8e4d686d8b5316d43770
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/459058/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,1ff76227edb477515355bee8d4294b816ecf8ca8,remove-nova-mocks,,"# NOTE(cinerama): mock out nova modules so docs can build without warnings import mock import sys MOCK_MODULES = ['nova', 'nova.compute', 'nova.context'] for module in MOCK_MODULES: sys.modules[module] = mock.Mock() ",0,7
openstack%2Fmurano-dashboard~master~Id5348bc34216d5f5ed7fbb8caf71139d64db3f61,openstack/murano-dashboard,master,Id5348bc34216d5f5ed7fbb8caf71139d64db3f61,Update glanceclient from v1 to v2 to avoid deprecation errors.,MERGED,2017-03-22 21:06:04.000000000,2017-04-24 07:20:29.000000000,2017-04-24 07:20:29.000000000,"[{'_account_id': 3}, {'_account_id': 7821}, {'_account_id': 14107}, {'_account_id': 15168}, {'_account_id': 15917}, {'_account_id': 23186}, {'_account_id': 23310}, {'_account_id': 23382}]","[{'number': 1, 'created': '2017-03-22 21:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/b26a15c5791800e8aa909615809b03f0810427c9', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining place where the glanceclient v1 is kept\nis in _ensure_images in muranodashboard/packages/views.py,\nwhich uses copy_from functionality from glanceclient v1 to load\nimages automatically.\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 2, 'created': '2017-03-26 21:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/367b53f0efcc12064d8ae3064efdc92711d95424', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining place where the glanceclient v1 is kept\nis in _ensure_images in muranodashboard/packages/views.py,\nwhich uses copy_from functionality from glanceclient v1 to load\nimages automatically.\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 3, 'created': '2017-03-27 14:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/ca5f602795d2d256664f4d781f5be5b55e904c11', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining place where the glanceclient v1 is kept\nis in _ensure_images in muranodashboard/packages/views.py,\nwhich uses copy_from functionality from glanceclient v1 to load\nimages automatically.\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 4, 'created': '2017-03-29 19:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/63179adab83350a5dfe3b22524b1296cffc41184', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining place where the glanceclient v1 is kept\nis in _ensure_images in muranodashboard/packages/views.py,\nwhich uses copy_from functionality from glanceclient v1 to load\nimages automatically.\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 5, 'created': '2017-03-29 22:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/a3cfb48a6ae3a3c8518ca2409c19e7e2d70cd059', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining place where the glanceclient v1 is kept\nis in _ensure_images in muranodashboard/packages/views.py,\nwhich uses copy_from functionality from glanceclient v1 to load\nimages automatically.\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 6, 'created': '2017-04-03 15:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/9f4b015faeca952e13dcac867c7ff6a8a0715a48', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining place where the glanceclient v1 is kept\nis in _ensure_images in muranodashboard/packages/views.py,\nwhich uses copy_from functionality from glanceclient v1 to load\nimages automatically.\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 7, 'created': '2017-04-04 17:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/0df93e5f2f29746e449b5083231af4d766bda5cd', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining place where the glanceclient v1 is kept\nis in _ensure_images in muranodashboard/packages/views.py,\nwhich uses copy_from functionality from glanceclient v1 to load\nimages automatically.\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 8, 'created': '2017-04-04 17:50:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/147b6a2d60254342d1e27dcfcf053e67b7d1796c', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining place where the glanceclient v1 is kept\nis in _ensure_images in muranodashboard/packages/views.py,\nwhich uses copy_from functionality from glanceclient v1 to load\nimages automatically.\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 9, 'created': '2017-04-10 21:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/17389bd7ae2babac61a9b59c961a5fcc01a49fc3', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining places where the glanceclient v1 is kept\nare:\n  - in _ensure_images in muranodashboard/packages/views.py,\n    which uses copy_from functionality from glanceclient v1 to load\n    images automatically.\n  - done in ImportPackageWizard, which sets each package to\n    public if the image that was uploaded was public\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 10, 'created': '2017-04-14 08:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/e68638c28ce5d3b92d7215be176f1ed5fff00a57', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining places where the glanceclient v1 is kept\nare:\n  - in _ensure_images in muranodashboard/packages/views.py,\n    which uses copy_from functionality from glanceclient v1 to load\n    images automatically.\n  - done in ImportPackageWizard, which sets each package to\n    public if the image that was uploaded was public\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 11, 'created': '2017-04-17 13:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/27697175f38d2db9fe654a15296ba9f011c3ff62', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining places where the glanceclient v1 is kept\nare:\n  - in _ensure_images in muranodashboard/packages/views.py,\n    which uses copy_from functionality from glanceclient v1 to load\n    images automatically.\n  - done in ImportPackageWizard, which sets each package to\n    public if the image that was uploaded was public\n\n[0] https://review.openstack.org/#/c/328390/\n\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\nCloses-Bug: #1675171\n'}, {'number': 12, 'created': '2017-04-21 14:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/43f9ae1f1dd19f6241b98f929b63e75abccd4a80', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nAlso, the glance v1 client is deprecated, so we should move to glance\nv2 wherever possible.\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining places where the glanceclient v1 is kept\nare:\n  - in _ensure_images in muranodashboard/packages/views.py,\n    which uses copy_from functionality from glanceclient v1 to load\n    images automatically.\n  - done in ImportPackageWizard, which sets each package to\n    public if the image that was uploaded was public\n\n[0] https://review.openstack.org/#/c/328390/\n\nCloses-Bug: #1675171\nPartially-Implements blueprint: migrate-to-glance-v2\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61'}, {'number': 13, 'created': '2017-04-21 15:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/0ac76e216788bfaacc3e6cd853504dad9656effa', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nAlso, the glance v1 client is deprecated, so we should move to glance\nv2 wherever possible.\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining places where the glanceclient v1 is kept\nare:\n  - in _ensure_images in muranodashboard/packages/views.py,\n    which uses copy_from functionality from glanceclient v1 to load\n    images automatically.\n  - done in ImportPackageWizard, which sets each package to\n    public if the image that was uploaded was public\n\n[0] https://review.openstack.org/#/c/328390/\n\nCloses-Bug: #1675171\nPartially-Implements blueprint: migrate-to-glance-v2\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\n'}, {'number': 14, 'created': '2017-04-22 20:16:23.000000000', 'files': ['muranodashboard/images/views.py', 'muranodashboard/tests/unit/images/test_forms.py', 'muranodashboard/tests/functional/sanity_check.py', 'muranodashboard/tests/unit/dynamic_ui/test_fields.py', 'muranodashboard/dynamic_ui/fields.py', 'muranodashboard/packages/views.py', 'muranodashboard/tests/functional/consts.py', 'muranodashboard/images/forms.py', 'muranodashboard/tests/unit/images/test_views.py', 'muranodashboard/tests/unit/packages/test_views.py', 'muranodashboard/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/273ed4797e2b3b8ce962bf82e8c993e61955966e', 'message': 'Update glanceclient from v1 to v2 to avoid deprecation errors.\n\nCurrently, the app-catalog/images view in Horizon is throwing\na 300 HttpMultipleChoices exception, with the details:\n""Requested version of OpenStack Images API is not available.""\n\nAlso, the glance v1 client is deprecated, so we should move to glance\nv2 wherever possible.\n\nThis patch, therefore, removes glanceclient v1 dependency\nfrom murano dashboard as much as possible, especially\ngiven that Glance team intends on removing it from Pike [0].\n\nThe only remaining places where the glanceclient v1 is kept\nare:\n  - in _ensure_images in muranodashboard/packages/views.py,\n    which uses copy_from functionality from glanceclient v1 to load\n    images automatically.\n  - done in ImportPackageWizard, which sets each package to\n    public if the image that was uploaded was public\n\n[0] https://review.openstack.org/#/c/328390/\n\nCloses-Bug: #1675171\nPartially-Implements blueprint: migrate-to-glance-v2\nChange-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61\n'}]",8,448790,273ed4797e2b3b8ce962bf82e8c993e61955966e,66,8,14,23186,,,0,"Update glanceclient from v1 to v2 to avoid deprecation errors.

Currently, the app-catalog/images view in Horizon is throwing
a 300 HttpMultipleChoices exception, with the details:
""Requested version of OpenStack Images API is not available.""

Also, the glance v1 client is deprecated, so we should move to glance
v2 wherever possible.

This patch, therefore, removes glanceclient v1 dependency
from murano dashboard as much as possible, especially
given that Glance team intends on removing it from Pike [0].

The only remaining places where the glanceclient v1 is kept
are:
  - in _ensure_images in muranodashboard/packages/views.py,
    which uses copy_from functionality from glanceclient v1 to load
    images automatically.
  - done in ImportPackageWizard, which sets each package to
    public if the image that was uploaded was public

[0] https://review.openstack.org/#/c/328390/

Closes-Bug: #1675171
Partially-Implements blueprint: migrate-to-glance-v2
Change-Id: Id5348bc34216d5f5ed7fbb8caf71139d64db3f61
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/90/448790/14 && git format-patch -1 --stdout FETCH_HEAD,"['muranodashboard/images/views.py', 'muranodashboard/tests/unit/images/test_forms.py', 'muranodashboard/packages/views.py', 'muranodashboard/images/forms.py', 'muranodashboard/tests/unit/images/test_views.py']",5,b26a15c5791800e8aa909615809b03f0810427c9,bug/1675171," mock_image = mock.Mock(**{'murano_image_info': json.dumps(image_info)}) self.images_view.request, ""2"") self.images_view.request, ""2"") self.images_view.request, ""2"") self.images_view.request, ""2"") self.images_view.request, ""2"")"," mock_image = mock.Mock( properties={'murano_image_info': json.dumps(image_info)}) self.images_view.request, ""1"") self.images_view.request, ""1"") self.images_view.request, ""1"") self.images_view.request, ""1"") self.images_view.request, ""1"")",17,16
openstack%2Fopenstack-manuals~master~Id303f90b7450bf381bdfafecef009dee224dc213,openstack/openstack-manuals,master,Id303f90b7450bf381bdfafecef009dee224dc213,Update the hyperlink markup for Open vSwitch Firewall Driver,MERGED,2017-04-22 01:43:02.000000000,2017-04-24 07:04:56.000000000,2017-04-24 07:04:56.000000000,"[{'_account_id': 3}, {'_account_id': 612}, {'_account_id': 10897}, {'_account_id': 14101}, {'_account_id': 25340}]","[{'number': 1, 'created': '2017-04-22 01:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/d53c730f296ca7ac466bd265ee5b601e25db0ef0', 'message': 'Update the hyperlink markup for Open vSwitch Firewall Driver\n\nChange-Id: Id303f90b7450bf381bdfafecef009dee224dc213\n'}, {'number': 2, 'created': '2017-04-24 06:40:05.000000000', 'files': ['doc/networking-guide/source/config-ovsfwdriver.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/1ba2ada024e5eaef2b4bd1897da1e676e40c83da', 'message': 'Update the hyperlink markup for Open vSwitch Firewall Driver\n\nChange-Id: Id303f90b7450bf381bdfafecef009dee224dc213\n'}]",0,459029,1ba2ada024e5eaef2b4bd1897da1e676e40c83da,11,5,2,22165,,,0,"Update the hyperlink markup for Open vSwitch Firewall Driver

Change-Id: Id303f90b7450bf381bdfafecef009dee224dc213
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/29/459029/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/networking-guide/source/config-ovsfwdriver.rst'],1,d53c730f296ca7ac466bd265ee5b601e25db0ef0,,"For more information, see the `Open vSwitch Firewall Driver","For more information, see the `developer documentation",1,1
openstack%2Fceilometer~master~Id935795f4464470c642a3f9c2119b96c007b3dd2,openstack/ceilometer,master,Id935795f4464470c642a3f9c2119b96c007b3dd2,Remove powervm from inspector doc,MERGED,2017-04-21 06:24:30.000000000,2017-04-24 06:58:04.000000000,2017-04-21 10:40:03.000000000,"[{'_account_id': 3}, {'_account_id': 1669}, {'_account_id': 2813}, {'_account_id': 15843}]","[{'number': 1, 'created': '2017-04-21 06:24:30.000000000', 'files': ['ceilometer/compute/virt/inspector.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/aa357dea2e9fbfd689df57226ad6aa3a2d371ad7', 'message': 'Remove powervm from inspector doc\n\npowervm class is undefined.\n\nChange-Id: Id935795f4464470c642a3f9c2119b96c007b3dd2\n'}]",0,458732,aa357dea2e9fbfd689df57226ad6aa3a2d371ad7,10,4,1,24013,,,0,"Remove powervm from inspector doc

powervm class is undefined.

Change-Id: Id935795f4464470c642a3f9c2119b96c007b3dd2
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/32/458732/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/compute/virt/inspector.py'],1,aa357dea2e9fbfd689df57226ad6aa3a2d371ad7,," 'Known inspectors are libvirt, hyperv, vsphere ' 'and xenapi.'),"," 'Known inspectors are libvirt, hyperv, vsphere, xenapi ' 'and powervm.'),",2,2
openstack%2Fapi-site~master~Ib3601155723b8b6091998f08e732fb6013cee7d1,openstack/api-site,master,Ib3601155723b8b6091998f08e732fb6013cee7d1,Imported Translations from Zanata,MERGED,2017-04-24 06:36:59.000000000,2017-04-24 06:44:06.000000000,2017-04-24 06:44:06.000000000,"[{'_account_id': 3}, {'_account_id': 612}]","[{'number': 1, 'created': '2017-04-24 06:36:59.000000000', 'files': ['api-quick-start/source/locale/ja/LC_MESSAGES/api-quick-start.po'], 'web_link': 'https://opendev.org/openstack/api-site/commit/5688fcac0c8bbafed2e20be46eeddb8a6a5aebb4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ib3601155723b8b6091998f08e732fb6013cee7d1\n'}]",0,459171,5688fcac0c8bbafed2e20be46eeddb8a6a5aebb4,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Ib3601155723b8b6091998f08e732fb6013cee7d1
",git fetch https://review.opendev.org/openstack/api-site refs/changes/71/459171/1 && git format-patch -1 --stdout FETCH_HEAD,['api-quick-start/source/locale/ja/LC_MESSAGES/api-quick-start.po'],1,5688fcac0c8bbafed2e20be46eeddb8a6a5aebb4,zanata/translations,"# Yuko Fukuda <fukuda.yuko@jp.fujitsu.com>, 2017. #zanata""POT-Creation-Date: 2017-04-12 12:15+0000\n""""PO-Revision-Date: 2017-04-24 04:33+0000\n"" ""Last-Translator: Yuko Fukuda <fukuda.yuko@jp.fujitsu.com>\n""""`Application Catalog API v1 <https://developer.openstack.org/api-ref/"" ""application-catalog/v1/>`__"" msgstr """" ""`アプリケーションカタログAPI v1 <https://developer.openstack.org/api-ref/"" ""application-catalog/v1/>`__"" msgid """"","""POT-Creation-Date: 2017-03-10 02:35+0000\n""""PO-Revision-Date: 2017-02-20 03:20+0000\n"" ""Last-Translator: KATO Tomoyuki <kato.tomoyuki@jp.fujitsu.com>\n""",11,3
openstack%2Fmonasca-log-api~master~Ia5da31aabf18f62061aada84f080edfe59dc7881,openstack/monasca-log-api,master,Ia5da31aabf18f62061aada84f080edfe59dc7881,Removing custom configuration for tempest,ABANDONED,2017-04-20 10:41:47.000000000,2017-04-24 06:41:58.000000000,,"[{'_account_id': 3}, {'_account_id': 2419}, {'_account_id': 16168}, {'_account_id': 16222}, {'_account_id': 20033}]","[{'number': 1, 'created': '2017-04-20 10:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/a01a0114d1c37b94714486e30e890cb55927fe12', 'message': 'Removing custom configuration for tempest\n\nRemove unnecessary configuration options from\ndevstack/tempest/tempest.conf leaving only those which are\nrequired.\n\nChange-Id: Ia5da31aabf18f62061aada84f080edfe59dc7881\n'}, {'number': 2, 'created': '2017-04-20 10:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/69f025b952b8be9373ecc4ffc08e56f5cf1b7e95', 'message': 'Removing custom configuration for tempest\n\nRemove unnecessary configuration options from\ndevstack/tempest/tempest.conf leaving only those which are\nrequired.\n\nChange-Id: Ia5da31aabf18f62061aada84f080edfe59dc7881\n'}, {'number': 3, 'created': '2017-04-20 11:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/188cc42b2de6b6c27688c940edf45a7811bab5d2', 'message': 'Removing custom configuration for tempest\n\nRemove unnecessary configuration options from\ndevstack/tempest/tempest.conf leaving only those which are\nrequired.\n\nChange-Id: Ia5da31aabf18f62061aada84f080edfe59dc7881\n'}, {'number': 4, 'created': '2017-04-20 13:25:13.000000000', 'files': ['devstack/post_test_hook.sh', 'devstack/files/tempest/tempest.conf', 'monasca_log_api_tempest/README.md'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/34366770d379a9f833559b6fa32cccae9bfb155f', 'message': 'Removing custom configuration for tempest\n\nRemove unnecessary configuration options from\ndevstack/tempest/tempest.conf leaving only those which are\nrequired.\n\nChange-Id: Ia5da31aabf18f62061aada84f080edfe59dc7881\n'}]",0,458442,34366770d379a9f833559b6fa32cccae9bfb155f,11,5,4,20033,,,0,"Removing custom configuration for tempest

Remove unnecessary configuration options from
devstack/tempest/tempest.conf leaving only those which are
required.

Change-Id: Ia5da31aabf18f62061aada84f080edfe59dc7881
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/42/458442/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/files/tempest/tempest.conf'],1,a01a0114d1c37b94714486e30e890cb55927fe12,tempest,# (C) Copyright 2016-2017 FUJITSU LIMITEDadmin_username = admin admin_password = secretadmin admin_domain_name = default admin_project_name = Default,# (C) Copyright 2016 FUJITSU LIMITED username = demo password = secretadmin tenant_name = demo domain_name = default admin_username = admin admin_password = secretadmin admin_domain_name = default admin_tenant_name = admin alt_username = mini-mon alt_password = password alt_tenant_name = mini-mon use_ssl = False,5,15
openstack%2Fzun-ui~master~Ib35e2d45f7d49a0808b559de49bfdf3418d5b9fc,openstack/zun-ui,master,Ib35e2d45f7d49a0808b559de49bfdf3418d5b9fc,Optimize the link address in README.rst,MERGED,2017-04-20 06:26:11.000000000,2017-04-24 06:34:21.000000000,2017-04-24 06:34:21.000000000,"[{'_account_id': 3}, {'_account_id': 16352}, {'_account_id': 17172}]","[{'number': 1, 'created': '2017-04-20 06:26:11.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/zun-ui/commit/d0df87d19d4e82df2fa07e5b2124b8c3c54059f2', 'message': 'Optimize the link address in README.rst\n\nUse https instead of http in README.rst\n\nChange-Id: Ib35e2d45f7d49a0808b559de49bfdf3418d5b9fc\n'}]",0,458348,d0df87d19d4e82df2fa07e5b2124b8c3c54059f2,7,3,1,23365,,,0,"Optimize the link address in README.rst

Use https instead of http in README.rst

Change-Id: Ib35e2d45f7d49a0808b559de49bfdf3418d5b9fc
",git fetch https://review.opendev.org/openstack/zun-ui refs/changes/48/458348/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d0df87d19d4e82df2fa07e5b2124b8c3c54059f2,,* Source: https://git.openstack.org/cgit/openstack/zun-ui * Bugs: https://bugs.launchpad.net/zun-ui,* Source: http://git.openstack.org/cgit/openstack/zun-ui * Bugs: http://bugs.launchpad.net/zun-ui,2,2
openstack%2Fironic-lib~master~I4c517f63d620b5a9de31ecb2d7c209776d5ded48,openstack/ironic-lib,master,I4c517f63d620b5a9de31ecb2d7c209776d5ded48,Support configdrive in iscsi deploy for whole disk images,MERGED,2015-10-05 09:54:54.000000000,2017-04-24 06:20:12.000000000,2016-07-28 13:17:55.000000000,"[{'_account_id': 3}, {'_account_id': 5805}, {'_account_id': 6637}, {'_account_id': 6773}, {'_account_id': 7080}, {'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 13362}, {'_account_id': 13719}, {'_account_id': 14760}, {'_account_id': 15333}, {'_account_id': 18893}]","[{'number': 1, 'created': '2015-10-05 09:54:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/8867cb4a59d1078953c4454274efacde4511dbc7', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nPartial-Bug: #1493328\n'}, {'number': 2, 'created': '2015-10-07 06:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/216eaf5f709c94337793689fad2fb0fb3e6c0b64', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nPartial-Bug: #1493328\n'}, {'number': 3, 'created': '2015-10-08 04:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/00213b9677d8f137e9a02687c318e7b6fa1cef9e', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nPartial-Bug: #1493328\n'}, {'number': 4, 'created': '2015-10-08 04:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/dd9e72ffd3d5bed2f07dcabb6ca4bd26c0e724fe', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nPartial-Bug: #1493328\n'}, {'number': 5, 'created': '2015-10-13 14:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/e7c1e62cee3dcf9d40784defbcc764456b2407b4', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nPartial-Bug: #1493328\n'}, {'number': 6, 'created': '2015-10-13 15:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/50c37d8a58d4bf46c78503dfb9cdb3dea7291827', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nImplements: blueprint config-drive-support-for-whole-disk-image-in-iscsi-drivers\nPartial-Bug: #1493328\n'}, {'number': 7, 'created': '2015-12-20 10:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/dd5cae7af24a63d53a6060b3e639453d650b6eb6', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nImplements: blueprint config-drive-support-for-whole-disk-image-in-iscsi-drivers\nPartial-Bug: #1493328\n'}, {'number': 8, 'created': '2015-12-20 10:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/4053802edb26660e2ff691862abf854b40c076ae', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nImplements: blueprint config-drive-support-for-whole-disk-image-in-iscsi-drivers\nPartial-Bug: #1493328\n'}, {'number': 9, 'created': '2015-12-20 11:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/be5beddb7fc0ba1f451e8e0e6f8443c822a7a1b4', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nImplements: blueprint config-drive-support-for-whole-disk-image-in-iscsi-drivers\nPartial-Bug: #1493328\n'}, {'number': 10, 'created': '2016-01-06 10:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/0b77088708c5f69798df380b340e9a5b1135d058', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nImplements: blueprint config-drive-support-for-whole-disk-image-in-iscsi-drivers\nPartial-Bug: #1493328\n'}, {'number': 11, 'created': '2016-01-14 04:28:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/34938d849114411ce65a96cf5de3cbc91124be7a', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nImplements: blueprint config-drive-support-for-whole-disk-image-in-iscsi-drivers\nPartial-Bug: #1493328\n'}, {'number': 12, 'created': '2016-02-06 05:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/81bee6022fda8412bf5b2f96db97df6935b0450a', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nImplements: blueprint config-drive-support-for-whole-disk-image-in-iscsi-drivers\nPartial-Bug: #1493328\n'}, {'number': 13, 'created': '2016-02-08 17:36:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/95b4040bfa73c3dd147284f4d40bf24386b95a73', 'message': 'Config drive support for whole disk images for iscsi based deploy\n\nThis will work for UEFI only or BIOS only images. It will not work\nfor hybrid images; which are capable of boot from BIOS and UEFI\nboot mode.\n\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\nImplements: blueprint config-drive-support-for-whole-disk-image-in-iscsi-drivers\nPartial-Bug: #1493328\n'}, {'number': 14, 'created': '2016-03-22 05:18:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/c4048b9e47decf5482792d429502b39134ea4655', 'message': 'Support configdrive in iscsi deploy for raw images\n\nThis will work for UEFI only or BIOS only images. It will not\nwork for hybrid images; which are capable of boot from BIOS\nand UEFI boot mode.\n\nPartial-Bug: #1493328\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\n'}, {'number': 15, 'created': '2016-03-23 10:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/241f89d99e1f444a88264a41ea78bbdc2713a1db', 'message': 'Support configdrive in iscsi deploy for raw images\n\nThis will work for UEFI only or BIOS only images. It will not\nwork for hybrid images; which are capable of boot from BIOS\nand UEFI boot mode.\n\nPartial-Bug: #1493328\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\n'}, {'number': 16, 'created': '2016-03-24 01:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/d483680800248dcb181dd14d41b282d34174532d', 'message': 'Support configdrive in iscsi deploy for raw images\n\nThis will work for UEFI only or BIOS only images. It will not\nwork for hybrid images; which are capable of boot from BIOS\nand UEFI boot mode.\n\nPartial-Bug: #1493328\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\n'}, {'number': 17, 'created': '2016-04-14 13:41:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/357585b9606d489b610aaa0da7feba62d8849dd4', 'message': 'Support configdrive in iscsi deploy for raw images\n\nThis will work for UEFI only or BIOS only images. It will not\nwork for hybrid images; which are capable of boot from BIOS\nand UEFI boot mode.\n\nPartial-Bug: #1493328\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\n'}, {'number': 18, 'created': '2016-04-15 08:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/fd07b9f0a6552ee7daa0d85a93fc97b32f73b056', 'message': 'Support configdrive in iscsi deploy for raw images\n\nThis will work for UEFI only or BIOS only images. It will not\nwork for hybrid images; which are capable of boot from BIOS\nand UEFI boot mode.\n\nPartial-Bug: #1493328\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\n'}, {'number': 19, 'created': '2016-05-05 06:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/5fcae0906f29be96dd1fe9b7feb17b6d098d5c19', 'message': 'Support configdrive in iscsi deploy for whole disk images\n\nThis will work for UEFI only or BIOS only images. It will not\nwork for hybrid images; which are capable of boot from BIOS\nand UEFI boot mode.\n\nPartial-Bug: #1493328\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\n'}, {'number': 20, 'created': '2016-06-07 10:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/73b3385b87a5b370fb6b8c99044764a48e5238ac', 'message': 'Support configdrive in iscsi deploy for whole disk images\n\nThis will work for UEFI only or BIOS only images. It will not\nwork for hybrid images; which are capable of boot from BIOS\nand UEFI boot mode.\n\nPartial-Bug: #1493328\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\n'}, {'number': 21, 'created': '2016-06-07 10:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/af10929d662e853fe8393a54fade5a4d5bb244c9', 'message': 'Support configdrive in iscsi deploy for whole disk images\n\nThis will work for UEFI only or BIOS only images. It will not\nwork for hybrid images; which are capable of boot from BIOS\nand UEFI boot mode.\n\nPartial-Bug: #1493328\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\n'}, {'number': 22, 'created': '2016-07-28 04:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/994fe3b34b8690aeabf0a034c93cfad354220a1b', 'message': 'Support configdrive in iscsi deploy for whole disk images\n\nThis will work for UEFI only or BIOS only images. It will not\nwork for hybrid images; which are capable of boot from BIOS\nand UEFI boot mode.\n\nPartial-Bug: #1493328\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\n'}, {'number': 23, 'created': '2016-07-28 11:11:41.000000000', 'files': ['etc/rootwrap.d/ironic-lib.filters', 'ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/7e926fd3fbb15b2e247e5bbc8c490d4c85857fbc', 'message': 'Support configdrive in iscsi deploy for whole disk images\n\nThis will work for UEFI only or BIOS only images. It will not\nwork for hybrid images; which are capable of boot from BIOS\nand UEFI boot mode.\n\nPartial-Bug: #1493328\nChange-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48\n'}]",96,230924,7e926fd3fbb15b2e247e5bbc8c490d4c85857fbc,104,15,23,11076,,,0,"Support configdrive in iscsi deploy for whole disk images

This will work for UEFI only or BIOS only images. It will not
work for hybrid images; which are capable of boot from BIOS
and UEFI boot mode.

Partial-Bug: #1493328
Change-Id: I4c517f63d620b5a9de31ecb2d7c209776d5ded48
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/24/230924/11 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,8867cb4a59d1078953c4454274efacde4511dbc7,config_drive_fix," def get_labelled_partition(device, label): """"""Check and return if partition with given label exists :param device: The device path. :param label: Partition label :returns: block device file for partition if it exists; otherwise it returns None. """""" utils.execute('partprobe', device, check_exit_code=[0], run_as_root=True) label_arg = 'LABEL=%s' % label output, err = utils.execute('blkid', '-l', '-o', 'device', device, '-t', label_arg, check_exit_code=[0, 2], use_standard_locale=True, run_as_root=True) if output is None: return None if isinstance(output, bytes): output = output.decode(""utf-8"") return output def is_disk_gpt_partitioned(device): """"""Checks if the disk is GPT partitioned :param device: The device path. :returns: Boolean. Returns True if disk is GPT partitioned """""" output, err = utils.execute('gdisk', '-l', device, check_exit_code=[0], use_standard_locale=True, run_as_root=True) if isinstance(output, bytes): output = output.decode(""utf-8"") if ""GPT: present"" in output: return True return False def fix_gpt_structs(device): """"""Check and moves backup GPT data structures to end of device :param device: The device path. :returns: True if the GPT data struct were present and fixed. """""" output, err = utils.execute('partprobe', device, check_exit_code=[0], use_standard_locale=True, run_as_root=True) if isinstance(err, bytes): err = err.decode(""utf-8"") search_str = ""fix the GPT to use all of the space"" if search_str in err: utils.execute('sgdisk', '-e', device, check_exit_code=[0], run_as_root=True) return True return False def create_config_drive_partition(device, size_mb, gpt=False): """"""Create GPT based partition for config drive :param device: The device path. :param size_mb: Size of disk in MB :param gpt: True if gpt based partition to be created :returns: device path of the partition """""" current_parts = set(part['number'] for part in list_partitions(device)) if gpt: create_option = '0:-%dMB:0' % size_mb utils.execute('sgdisk', '-n', create_option, device, check_exit_code=[0], run_as_root=True) else: size_mb = '-%dMiB' % size_mb utils.execute('parted', '-a', 'optimal', '-s', '--', device, 'mkpart', 'primary', 'ext2', size_mb, '-0', check_exit_code=[0], run_as_root=True) updated_parts = set(part['number'] for part in list_partitions(device)) new_part = list(set(updated_parts) - set(current_parts)) if len(new_part) != 1: raise exception.InstanceDeployFailure( _('Disk partitioning failed on device %(device)s. ' 'Unable to retrive config drive partition information.') % {'device': device}) return '%s-part%s' % (device, new_part[0])",,318,0
openstack%2Fceilometer~master~I401ad78d644ceeeb31fe226a2ebbd84a7399633c,openstack/ceilometer,master,I401ad78d644ceeeb31fe226a2ebbd84a7399633c,Cleanup post_test_hook.sh,MERGED,2017-04-19 07:18:47.000000000,2017-04-24 06:19:49.000000000,2017-04-20 10:48:56.000000000,"[{'_account_id': 3}, {'_account_id': 6537}, {'_account_id': 11564}, {'_account_id': 15843}]","[{'number': 1, 'created': '2017-04-19 07:18:47.000000000', 'files': ['ceilometer/tests/integration/hooks/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/54f774897cb2706cbdeefdc76ce53115a745f0b9', 'message': 'Cleanup post_test_hook.sh\n\nChange-Id: I401ad78d644ceeeb31fe226a2ebbd84a7399633c\n'}]",0,457893,54f774897cb2706cbdeefdc76ce53115a745f0b9,9,4,1,2813,,,0,"Cleanup post_test_hook.sh

Change-Id: I401ad78d644ceeeb31fe226a2ebbd84a7399633c
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/93/457893/1 && git format-patch -1 --stdout FETCH_HEAD,['ceilometer/tests/integration/hooks/post_test_hook.sh'],1,54f774897cb2706cbdeefdc76ce53115a745f0b9,sileht/tempest-for-rdo-puppet,# Run tests with tempest,"export CEILOMETER_DIR=""$BASE/new/ceilometer"" STACK_USER=stack sudo chown -R $STACK_USER:stack $CEILOMETER_DIR # NOTE(sileht): on swift job permissions are wrong, I don't known whysource $BASE/new/devstack/openrc admin admin openstack catalog list export AODH_SERVICE_URL=$(openstack catalog show alarming -c endpoints -f value | awk '/public/{print $2}') export PANKO_SERVICE_URL=$(openstack catalog show event -c endpoints -f value | awk '/public/{print $2}') export GNOCCHI_SERVICE_URL=$(openstack catalog show metric -c endpoints -f value | awk '/public/{print $2}') export HEAT_SERVICE_URL=$(openstack catalog show orchestration -c endpoints -f value | awk '/public/{print $2}') export NOVA_SERVICE_URL=$(openstack catalog show compute -c endpoints -f value | awk '/public/{print $2}') export GLANCE_IMAGE_NAME=$(openstack image list | awk '/ cirros.* /{print $4; exit}') export ADMIN_TOKEN=$(openstack token issue -c id -f value) export OS_AUTH_TYPE=password # Run tests with tempest",1,17
openstack%2Fpython-mistralclient~master~Ib38acb2385bc55bc1167460cff10af5e5287467e,openstack/python-mistralclient,master,Ib38acb2385bc55bc1167460cff10af5e5287467e,Fix doc generation for python 3,MERGED,2017-04-17 10:45:26.000000000,2017-04-24 05:55:03.000000000,2017-04-24 05:55:03.000000000,"[{'_account_id': 3}, {'_account_id': 8731}, {'_account_id': 9712}]","[{'number': 1, 'created': '2017-04-17 10:45:26.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/6c8a32c6de3ad240bf82dab54fb240860277b348', 'message': 'Fix doc generation for python 3\n\nFix the Sphinx html_last_updated_fmt for Python3. The\nhtml_last_updated_fmt option is interpeted as a byte string in\npython3, causing Sphinx build to break. This patch makes it\nutf-8 string.\n\nChange-Id: Ib38acb2385bc55bc1167460cff10af5e5287467e\n'}]",0,457206,6c8a32c6de3ad240bf82dab54fb240860277b348,17,3,1,20863,,,0,"Fix doc generation for python 3

Fix the Sphinx html_last_updated_fmt for Python3. The
html_last_updated_fmt option is interpeted as a byte string in
python3, causing Sphinx build to break. This patch makes it
utf-8 string.

Change-Id: Ib38acb2385bc55bc1167460cff10af5e5287467e
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/06/457206/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,6c8a32c6de3ad240bf82dab54fb240860277b348,fix_doc, html_last_updated_fmt = subprocess.check_output( git_cmd).decode('utf-8')," html_last_updated_fmt = subprocess.Popen( git_cmd, stdout=subprocess.PIPE).communicate()[0]",2,2
openstack%2Fzun~master~Icf8e6c6db7b5d570bb454e0a7ee2bfa81b57b037,openstack/zun,master,Icf8e6c6db7b5d570bb454e0a7ee2bfa81b57b037,Remove unused CONF,MERGED,2017-04-21 06:34:21.000000000,2017-04-24 05:40:24.000000000,2017-04-24 05:40:24.000000000,"[{'_account_id': 3}, {'_account_id': 11536}, {'_account_id': 16277}]","[{'number': 1, 'created': '2017-04-21 06:34:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/6c385f0532398c1980426879a169c43eb89e6bac', 'message': 'Remove unused CONF\n\nChange-Id: Icf8e6c6db7b5d570bb454e0a7ee2bfa81b57b037\n'}, {'number': 2, 'created': '2017-04-21 07:24:31.000000000', 'files': ['zun/scheduler/driver.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/9fc95d00fbb30a92fed8ca6c0ff0bbf46ade6f18', 'message': 'Remove unused CONF\n\nChange-Id: Icf8e6c6db7b5d570bb454e0a7ee2bfa81b57b037\n'}]",0,458734,9fc95d00fbb30a92fed8ca6c0ff0bbf46ade6f18,9,3,2,23365,,,0,"Remove unused CONF

Change-Id: Icf8e6c6db7b5d570bb454e0a7ee2bfa81b57b037
",git fetch https://review.opendev.org/openstack/zun refs/changes/34/458734/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/scheduler/driver.py', 'zun/api/controllers/v1/containers.py']",2,6c385f0532398c1980426879a169c43eb89e6bac,,,CONF = zun.conf.CONF,0,3
openstack%2Ftempest~master~Ifbaa66dba932a7472010bddf11545d66b95ba42e,openstack/tempest,master,Ifbaa66dba932a7472010bddf11545d66b95ba42e,Improvement in API Microversion testing doc,MERGED,2017-03-13 06:21:10.000000000,2017-04-24 05:35:12.000000000,2017-04-24 05:35:12.000000000,"[{'_account_id': 3}, {'_account_id': 1921}, {'_account_id': 5689}, {'_account_id': 5754}, {'_account_id': 5803}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 8021}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 12393}, {'_account_id': 15941}, {'_account_id': 17716}, {'_account_id': 20190}, {'_account_id': 21884}]","[{'number': 1, 'created': '2017-03-13 06:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c466ad145a5f984e0dc6a3714b467994e50ddff5', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}, {'number': 2, 'created': '2017-03-13 23:25:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/beb1e1c018b46b60618b7bf0266664ded856f441', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}, {'number': 3, 'created': '2017-03-14 01:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0e0599972f297901244f03a5d266b5d53d31adf3', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}, {'number': 4, 'created': '2017-03-16 00:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/31116295c614fb0b735e727ccab969cb213658da', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}, {'number': 5, 'created': '2017-03-23 03:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/85389ed5f60945b097b566e5bfbeda51441b5d67', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}, {'number': 6, 'created': '2017-04-04 07:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bdf6cb9f83647d31884c26ac8d1f6698f15e1694', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}, {'number': 7, 'created': '2017-04-11 00:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/08be7f7b5ff14defd30bb990345c78b2c11cb17f', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}, {'number': 8, 'created': '2017-04-14 02:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/330983cb9ec0595d61fcd619d11ca1c4735adf1a', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}, {'number': 9, 'created': '2017-04-14 07:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee0fea0d4f6a05b444caf5fbd4d382e53f3dc696', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}, {'number': 10, 'created': '2017-04-17 03:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2dc0d8f4721159ffbf81f809b6a6430198ae4233', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}, {'number': 11, 'created': '2017-04-19 06:19:21.000000000', 'files': ['doc/source/microversion_testing.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/933d982f3566d40c51714b78f766dd1f4000f843', 'message': 'Improvement in API Microversion testing doc\n\nDuring ATL PTG, we discussed about the testing\nof API microversions in Tempest and what all\ntests can be implemented on Tempest side.\n\nThis patch adds those consensus in doc to clarify\nabout microversion testing scope.\n\nChange-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e\n'}]",104,444727,933d982f3566d40c51714b78f766dd1f4000f843,69,16,11,8556,,,0,"Improvement in API Microversion testing doc

During ATL PTG, we discussed about the testing
of API microversions in Tempest and what all
tests can be implemented on Tempest side.

This patch adds those consensus in doc to clarify
about microversion testing scope.

Change-Id: Ifbaa66dba932a7472010bddf11545d66b95ba42e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/27/444727/10 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/microversion_testing.rst'],1,c466ad145a5f984e0dc6a3714b467994e50ddff5,microversion-doc,"======================================= Microversion Testing Support in Tempest ======================================= Many OpenStack Service provides their APIs with microversion support. As API microversions are stable interface as per API contract, it is important to test each microversion thoroughly. This documents covers how and where microversions can be tested. Tempest Scope For Microversion Testing """""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""" APIs Microversions for any OpenStack service grows rapidly and testing each and every microversions in Tempest is not feasible and efficient way. Also not every API microversion change the complete system behaviour and many of them only change the API or DB layer to how & accept more data on API. Tempest is a integration test suits, which means that API microversions who all does not fall under integration tests category, should be tested on project side as functional tests or via tempest plugin as per project decision. .. note:: Integration tests are those tests which involves more than one service to verify the expected behaviour by single or combination of API Requests. If tests is just to verify the API behaviour as success and failure cases or verify its expected Response object, does not fall under Integration tests. Tempest will cover only integration testing of applicable microversions with below exception: Tempest does API Response validation against defined JSON schema. Each API on specific version will define its separate JSON schema and so does response validation for that specific version. While implementing new integration tests for a specific microversion, there may be a gap in the JSON schemas (for previous microversions) implemented in Tempest. To fill that gap while implementing the integration tests is not preferable or efficient due to many reasons like hard to review, sync between multiple integration tests patches etc. So Tempest can allow to fill the schema gaps at the end of each cycle, or more often if required. Schema gap can be filled with testing those with minimal set of tests. Those tests might not be integration tests and might be already covered on project side also. This exceotion is needed: * To make the implementation of integration tests easy. While implementing the API microversion on Project side, many projects want to verify the Tempest tests results at the same time. To make implementation of required integration tests easy will help them in fast development of microversions. * None of the new schema can be added without testing So there has to be some tests testing those schemas. For example: If any projects implemented 4 API microversion say- v2.3, v2.4, v2.5, v2.6 Assume microversion v2.3, v2.4, v2.6 change the API Response which means Tempest needs to add JSON schema for v2.3, v2.4, v2.6. In that case if only 1 or 2 tests can verify all new schemas then we do not need separate tests for each new Schemas. In worst case, we have to add 3 separate tests. Project Scope For Microversion Testing """""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""" All microversions testing which are not covered under Tempest as per above section, should be tested on Project side as functional tests or as Tempest plugin as per project decision.Tempest provides stable interfaces to test API Microversion. For Details, see: `API Microversion testing Framework`_ This document explains how to implement Microversion tests using those interfaces. .. _API Microversion testing Framework: http://docs.openstack.org/developer/tempest/library/api_microversion_testing.html ","=================================== How To Implement Microversion Tests =================================== Tempest provides stable interfaces to test API Microversion. For Details, see: `API Microversion testing Framework`_ This document explains how to implement Microversion tests using those interfaces. .. _API Microversion testing Framework: http://docs.openstack.org/developer/tempest/library/api_microversion_testing.html",74,8
openstack%2Fopenstack-ansible~master~Ib27d05d7872b1dade22e51f586b23684240e68a0,openstack/openstack-ansible,master,Ib27d05d7872b1dade22e51f586b23684240e68a0,Improve the swap test.,ABANDONED,2017-02-16 23:35:10.000000000,2017-04-24 05:25:54.000000000,,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 8125}]","[{'number': 1, 'created': '2017-02-16 23:35:10.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_loopback_swap.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/84e076faf86ee6d9da58b941b84c29c866d02d36', 'message': ""Improve the swap test.\n\nSometimes a machine has swap configured, but not at /openstack/swap.img,\nlet's be more flexible in that check.\n\nChange-Id: Ib27d05d7872b1dade22e51f586b23684240e68a0\n""}]",4,435149,84e076faf86ee6d9da58b941b84c29c866d02d36,5,3,1,2271,,,0,"Improve the swap test.

Sometimes a machine has swap configured, but not at /openstack/swap.img,
let's be more flexible in that check.

Change-Id: Ib27d05d7872b1dade22e51f586b23684240e68a0
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/49/435149/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/tasks/prepare_loopback_swap.yml'],1,84e076faf86ee6d9da58b941b84c29c866d02d36,better-swap-check," command: ""[[ `wc -l /proc/swaps` -gt 1 ]]""", command: grep /openstack/swap.img /proc/swaps,1,1
openstack%2Fopenstack-ansible~master~I7523f315c8e9092efd1c60ea26dbefb9607689eb,openstack/openstack-ansible,master,I7523f315c8e9092efd1c60ea26dbefb9607689eb,Provide a single central place to configure a git mirror.,ABANDONED,2017-02-16 11:08:09.000000000,2017-04-24 05:25:39.000000000,,"[{'_account_id': 3}, {'_account_id': 6816}, {'_account_id': 7353}]","[{'number': 1, 'created': '2017-02-16 11:08:09.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'etc/openstack_deploy/user_variables.yml', 'scripts/bootstrap-ansible.sh', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/541bb6a855d48ec6819469b6c079f1b2d04b389b', 'message': 'Provide a single central place to configure a git mirror.\n\nMany corporate networks have ""poor"" connectivity -- either proxies, or\nintermittent connections. Provide a single place that deployers can\nconfigure a local git proxy to use when deploying, instead of upstream.\n\nChange-Id: I7523f315c8e9092efd1c60ea26dbefb9607689eb\n'}]",3,434813,541bb6a855d48ec6819469b6c079f1b2d04b389b,8,3,1,2271,,,0,"Provide a single central place to configure a git mirror.

Many corporate networks have ""poor"" connectivity -- either proxies, or
intermittent connections. Provide a single place that deployers can
configure a local git proxy to use when deploying, instead of upstream.

Change-Id: I7523f315c8e9092efd1c60ea26dbefb9607689eb
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/13/434813/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'etc/openstack_deploy/user_variables.yml', 'scripts/bootstrap-ansible.sh', 'ansible-role-requirements.yml']",4,541bb6a855d48ec6819469b6c079f1b2d04b389b,git-mirror-support," src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-apt_package_pinning"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-pip_install"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-galera_client"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-galera_server"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-ceph_client"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-haproxy_server"" src: ""{{ git_base_url_github }}/evrardjp/ansible-keepalived"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-lxc_container_create"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-lxc_hosts"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-memcached_server"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-security"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-openstack_hosts"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_keystone"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-openstack_openrc"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_aodh"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_barbican"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_ceilometer"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_cinder"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_glance"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_gnocchi"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_heat"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_horizon"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_ironic"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_magnum"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_trove"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_neutron"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_nova"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_rally"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_sahara"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_swift"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_tempest"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-plugins"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-rabbitmq_server"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-repo_build"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-repo_server"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-rsyslog_client"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-rsyslog_server"" src: ""{{ git_base_url_github }}/willshersystems/ansible-sshd"" src: ""{{ git_base_url_github }}/logan2211/ansible-bird"" src: ""{{ git_base_url_github }}/logan2211/ansible-etcd"" src: ""{{ git_base_url_github }}/logan2211/ansible-unbound"" src: ""{{ git_base_url_github }}/logan2211/ansible-resolvconf"" src: ""{{ git_base_url_openstack }}/openstack/openstack-ansible-os_designate"" src: ""{{ git_base_url_github }}/ceph/ansible-ceph-common"" src: ""{{ git_base_url_github }}/ceph/ansible-ceph-docker-common"" src: ""{{ git_base_url_github }}/ceph/ansible-ceph-mon"" src: ""{{ git_base_url_github }}/ceph/ansible-ceph-osd""", src: https://git.openstack.org/openstack/openstack-ansible-apt_package_pinning src: https://git.openstack.org/openstack/openstack-ansible-pip_install src: https://git.openstack.org/openstack/openstack-ansible-galera_client src: https://git.openstack.org/openstack/openstack-ansible-galera_server src: https://git.openstack.org/openstack/openstack-ansible-ceph_client src: https://git.openstack.org/openstack/openstack-ansible-haproxy_server src: https://github.com/evrardjp/ansible-keepalived src: https://git.openstack.org/openstack/openstack-ansible-lxc_container_create src: https://git.openstack.org/openstack/openstack-ansible-lxc_hosts src: https://git.openstack.org/openstack/openstack-ansible-memcached_server src: https://git.openstack.org/openstack/openstack-ansible-security src: https://git.openstack.org/openstack/openstack-ansible-openstack_hosts src: https://git.openstack.org/openstack/openstack-ansible-os_keystone src: https://git.openstack.org/openstack/openstack-ansible-openstack_openrc src: https://git.openstack.org/openstack/openstack-ansible-os_aodh src: https://git.openstack.org/openstack/openstack-ansible-os_barbican src: https://git.openstack.org/openstack/openstack-ansible-os_ceilometer src: https://git.openstack.org/openstack/openstack-ansible-os_cinder src: https://git.openstack.org/openstack/openstack-ansible-os_glance src: https://git.openstack.org/openstack/openstack-ansible-os_gnocchi src: https://git.openstack.org/openstack/openstack-ansible-os_heat src: https://git.openstack.org/openstack/openstack-ansible-os_horizon src: https://git.openstack.org/openstack/openstack-ansible-os_ironic src: https://git.openstack.org/openstack/openstack-ansible-os_magnum src: https://git.openstack.org/openstack/openstack-ansible-os_trove src: https://git.openstack.org/openstack/openstack-ansible-os_neutron src: https://git.openstack.org/openstack/openstack-ansible-os_nova src: https://git.openstack.org/openstack/openstack-ansible-os_rally src: https://git.openstack.org/openstack/openstack-ansible-os_sahara src: https://git.openstack.org/openstack/openstack-ansible-os_swift src: https://git.openstack.org/openstack/openstack-ansible-os_tempest src: https://git.openstack.org/openstack/openstack-ansible-plugins src: https://git.openstack.org/openstack/openstack-ansible-rabbitmq_server src: https://git.openstack.org/openstack/openstack-ansible-repo_build src: https://git.openstack.org/openstack/openstack-ansible-repo_server src: https://git.openstack.org/openstack/openstack-ansible-rsyslog_client src: https://git.openstack.org/openstack/openstack-ansible-rsyslog_server src: https://github.com/willshersystems/ansible-sshd src: https://github.com/logan2211/ansible-bird src: https://github.com/logan2211/ansible-etcd src: https://github.com/logan2211/ansible-unbound src: https://github.com/logan2211/ansible-resolvconf src: https://git.openstack.org/openstack/openstack-ansible-os_designate src: https://github.com/ceph/ansible-ceph-common src: https://github.com/ceph/ansible-ceph-docker-common src: https://github.com/ceph/ansible-ceph-mon src: https://github.com/ceph/ansible-ceph-osd,93,77
openstack%2Fironic-python-agent~master~I0fa6af7b46d8b87b33fd08d80afb60e8605b7275,openstack/ironic-python-agent,master,I0fa6af7b46d8b87b33fd08d80afb60e8605b7275,Support to collect logs using file name,ABANDONED,2017-03-02 12:22:02.000000000,2017-04-24 04:17:35.000000000,,"[{'_account_id': 3}, {'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14525}, {'_account_id': 15074}, {'_account_id': 18781}]","[{'number': 1, 'created': '2017-03-02 12:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/be61f522352be86cdfd4e66a8403f144e9ae8601', 'message': ""Support to collect logs using file name\n\nThis commit adds support to collect ramdisk logs\nfor the files by introducing a 'files' param to\n'collect_system_logs' method.\n\nChange-Id: I0fa6af7b46d8b87b33fd08d80afb60e8605b7275\n""}, {'number': 2, 'created': '2017-03-03 11:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/256573ec57927b1d79b3c825d4c5af978e17d368', 'message': ""Support to collect logs using file name\n\nThis commit adds support to collect ramdisk logs\nfor the files by introducing a 'files' param to\n'collect_system_logs' method.\n\nRelated-Bug: #1669737\nChange-Id: I0fa6af7b46d8b87b33fd08d80afb60e8605b7275\n""}, {'number': 3, 'created': '2017-03-07 06:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/f46f52a9e2f4cae648ac259fcddf6ff50b9bb6c6', 'message': ""Support to collect logs using file name\n\nThis commit adds support to collect ramdisk logs\nfor specific files by introducing a 'files' param\nto 'collect_system_logs' method.\n\nRelated-Bug: #1669737\nChange-Id: I0fa6af7b46d8b87b33fd08d80afb60e8605b7275\n""}, {'number': 4, 'created': '2017-03-07 08:47:55.000000000', 'files': ['ironic_python_agent/extensions/log.py', 'ironic_python_agent/tests/unit/extensions/test_log.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6ff68a5aab2f53564973872d908e8c5be6235c6f', 'message': ""Support to collect logs using file name\n\nCurrently IPA collects the whole /var/log directory.\n\nThis commit adds support to collect ramdisk logs for the\nfiles or directories which are not in /var/log by\nintroducing a 'log_path_list' param (a list of absolute\npath of files/directories) to 'collect_system_logs' method.\n\nRelated-Bug: #1669737\nChange-Id: I0fa6af7b46d8b87b33fd08d80afb60e8605b7275\n""}]",19,440495,6ff68a5aab2f53564973872d908e8c5be6235c6f,17,6,4,15074,,,0,"Support to collect logs using file name

Currently IPA collects the whole /var/log directory.

This commit adds support to collect ramdisk logs for the
files or directories which are not in /var/log by
introducing a 'log_path_list' param (a list of absolute
path of files/directories) to 'collect_system_logs' method.

Related-Bug: #1669737
Change-Id: I0fa6af7b46d8b87b33fd08d80afb60e8605b7275
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/95/440495/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/extensions/log.py', 'ironic_python_agent/tests/unit/extensions/test_log.py', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",4,be61f522352be86cdfd4e66a8403f144e9ae8601,log_file_data,"def collect_system_logs(journald_max_lines=None, files=None): if not files: if is_journalctl_present(): io_dict['journal'] = get_journalctl_output( lines=journald_max_lines) else: try_get_command_output(io_dict, 'dmesg', ['dmesg']) file_list.append('/var/log') for name, cmd in COLLECT_LOGS_COMMANDS.items(): try_get_command_output(io_dict, name, cmd) else: for file in files: file_list.append(file)","def collect_system_logs(journald_max_lines=None): if is_journalctl_present(): io_dict['journal'] = get_journalctl_output(lines=journald_max_lines) else: try_get_command_output(io_dict, 'dmesg', ['dmesg']) file_list.append('/var/log') for name, cmd in COLLECT_LOGS_COMMANDS.items(): try_get_command_output(io_dict, name, cmd)",36,10
openstack%2Fironic~master~I76332d63640ed29fca6e26d0cbca7f1ebab05687,openstack/ironic,master,I76332d63640ed29fca6e26d0cbca7f1ebab05687,Support to collect log files related to clean step,ABANDONED,2017-03-02 12:29:17.000000000,2017-04-24 04:17:12.000000000,,"[{'_account_id': 3}, {'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 17998}, {'_account_id': 19003}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-03-02 12:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d15ecf23983d34341e2612343832eff8ee7a0809', 'message': 'Support to collect logs using file name\n\nThis commit adds support to collect ramdisk logs\nby passing the file name. It can be used by any\nclean step to read a particular log file.\n\nDepends-On: I0fa6af7b46d8b87b33fd08d80afb60e8605b7275\nChange-Id: I76332d63640ed29fca6e26d0cbca7f1ebab05687\n'}, {'number': 2, 'created': '2017-03-03 10:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/504ec277b62b61b64abc0796156ef20af9ac7d3c', 'message': ""Support to collect log files related to clean step\n\nThis commit adds support to collect log files related\nto a clean step from ramdisk. The clean step can pass\nthe list of filenames to the IPA using\n'collect_ramdisk_logs' method.\n\nCloses-Bug: #1669737\nDepends-On: I0fa6af7b46d8b87b33fd08d80afb60e8605b7275\nChange-Id: I76332d63640ed29fca6e26d0cbca7f1ebab05687\n""}, {'number': 3, 'created': '2017-03-06 05:04:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9834a8c7062a59bd1b1b184fc6f726cd08388d56', 'message': ""Support to collect log files related to clean step\n\nThis commit adds support to collect log files related\nto a clean step from ramdisk. The clean step can pass\nthe list of filenames to the IPA using\n'collect_ramdisk_logs' method.\n\nCloses-Bug: #1669737\nDepends-On: I0fa6af7b46d8b87b33fd08d80afb60e8605b7275\nChange-Id: I76332d63640ed29fca6e26d0cbca7f1ebab05687\n""}, {'number': 4, 'created': '2017-03-07 09:11:07.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/utils.py', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/test_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/25980ac745e653d2acd0746e39d28f29d874cf74', 'message': ""Support to collect log files related to clean step\n\nThis commit adds support to collect logs from specific\nfiles/directories in ramdisk which can be related to\na clean step. The clean step passes the list of absolute\npath of files/directories to the IPA using\n'collect_ramdisk_logs' method.\n\nCloses-Bug: #1669737\nDepends-On: I0fa6af7b46d8b87b33fd08d80afb60e8605b7275\nChange-Id: I76332d63640ed29fca6e26d0cbca7f1ebab05687\n""}]",2,440502,25980ac745e653d2acd0746e39d28f29d874cf74,28,7,4,15074,,,0,"Support to collect log files related to clean step

This commit adds support to collect logs from specific
files/directories in ramdisk which can be related to
a clean step. The clean step passes the list of absolute
path of files/directories to the IPA using
'collect_ramdisk_logs' method.

Closes-Bug: #1669737
Depends-On: I0fa6af7b46d8b87b33fd08d80afb60e8605b7275
Change-Id: I76332d63640ed29fca6e26d0cbca7f1ebab05687
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/440502/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/utils.py', 'ironic/drivers/modules/agent_client.py', 'ironic/tests/unit/drivers/test_utils.py']",4,d15ecf23983d34341e2612343832eff8ee7a0809,log," mock_store.assert_called_once_with(self.node, logs, None) @mock.patch.object(driver_utils, 'store_ramdisk_logs', autospec=True) @mock.patch.object(agent_client.AgentClient, 'collect_system_logs', autospec=True) def test_collect_ramdisk_logs_files(self, mock_collect, mock_store): logs = 'Gary the Snail' files = ['abc.txt', 'xyz.txt'] clean_label = 'test_clean' mock_collect.return_value = {'command_result': {'system_logs': logs}} driver_utils.collect_ramdisk_logs(self.node, files=files, clean_label=clean_label) mock_store.assert_called_once_with(self.node, logs, clean_label) mock_store.assert_called_once_with(self.node, logs, None) mock_logs_name.assert_called_once_with(self.node, None) clean_label = 'test_clean' driver_utils.store_ramdisk_logs(self.node, b64str, clean_label) mock_logs_name.assert_called_once_with(self.node, clean_label)"," mock_store.assert_called_once_with(self.node, logs) mock_store.assert_called_once_with(self.node, logs) mock_logs_name.assert_called_once_with(self.node) driver_utils.store_ramdisk_logs(self.node, b64str) mock_logs_name.assert_called_once_with(self.node)",38,16
openstack%2Ftrove~master~I3184447574f7675ca673f63af08544a9ca9b77fb,openstack/trove,master,I3184447574f7675ca673f63af08544a9ca9b77fb,Add ocata version in index.rst,ABANDONED,2017-04-21 09:05:27.000000000,2017-04-24 03:51:42.000000000,,"[{'_account_id': 3}, {'_account_id': 22694}, {'_account_id': 24330}]","[{'number': 1, 'created': '2017-04-21 09:05:27.000000000', 'files': ['releasenotes/source/ocata.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/e3016f81cd252c89bd6c9d90fb08eb2b6aa17dff', 'message': 'Add ocata version in index.rst\n\nChange-Id: I3184447574f7675ca673f63af08544a9ca9b77fb\n'}]",0,458775,e3016f81cd252c89bd6c9d90fb08eb2b6aa17dff,6,3,1,24330,,,0,"Add ocata version in index.rst

Change-Id: I3184447574f7675ca673f63af08544a9ca9b77fb
",git fetch https://review.opendev.org/openstack/trove refs/changes/75/458775/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/ocata.rst', 'releasenotes/source/index.rst']",2,e3016f81cd252c89bd6c9d90fb08eb2b6aa17dff,addocata, ocata,,7,0
openstack%2Ftempest~master~I2f6906efc8f63f39737c73301e7239b1c7e18ea8,openstack/tempest,master,I2f6906efc8f63f39737c73301e7239b1c7e18ea8,Fix the position of the dots in write_tests.rst,MERGED,2017-04-21 05:56:15.000000000,2017-04-24 02:15:06.000000000,2017-04-24 02:15:06.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 7350}]","[{'number': 1, 'created': '2017-04-21 05:56:15.000000000', 'files': ['doc/source/write_tests.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2e644e6519393a5b27b8ae5cf1f153bc03035ed6', 'message': 'Fix the position of the dots in write_tests.rst\n\nThis is to move the dots to the end of the sentences.\n\nChange-Id: I2f6906efc8f63f39737c73301e7239b1c7e18ea8\n'}]",0,458731,2e644e6519393a5b27b8ae5cf1f153bc03035ed6,9,3,1,20190,,,0,"Fix the position of the dots in write_tests.rst

This is to move the dots to the end of the sentences.

Change-Id: I2f6906efc8f63f39737c73301e7239b1c7e18ea8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/31/458731/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/write_tests.rst'],1,2e644e6519393a5b27b8ae5cf1f153bc03035ed6,move_dot,"class (located in tempest/test.py). If your TestCase inherits from a differentautomatically (this depends on the configured credential provider, for more details see: :ref:`tempest_conf_network_allocation`). However, there are situations where you do no need all of these resources allocated (or your TestCase inherits from a class that overrides the default in tempest/test.py).automatically by the base test class as part of credential setup (for more details see the previous :ref:`credentials` section). Each manager object isIn certain cases you need direct access to the credentials (the most commonbody). If you're in a situation where you need to access this you'll need to","class. (located in tempest/test.py) If your TestCase inherits from a differentautomatically. (this depends on the configured credential provider, for more details see: :ref:`tempest_conf_network_allocation`) However, there are situations where you do no need all of these resources allocated. (or your TestCase inherits from a class that overrides the default in tempest/test.py)automatically by the base test class as part of credential setup. (for more details see the previous :ref:`credentials` section) Each manager object isIn certain cases you need direct access to the credentials. (the most commonbody) If you're in a situation where you need to access this you'll need to",9,9
openstack%2Ftempest~master~I616327b8b52cdecb731426c1b9e3d6e3819a6e4a,openstack/tempest,master,I616327b8b52cdecb731426c1b9e3d6e3819a6e4a,Remove unused compute networks client in volume tests,MERGED,2017-04-21 05:14:06.000000000,2017-04-24 02:13:48.000000000,2017-04-24 02:13:48.000000000,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 7350}, {'_account_id': 20190}]","[{'number': 1, 'created': '2017-04-21 05:14:06.000000000', 'files': ['tempest/api/volume/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4a3d587edd904aad4b8d90573399e5b61d69a37a', 'message': ""Remove unused compute networks client in volume tests\n\nCompute networks client is never been used in volume api tests,\nand it's reasonable to remove the client to make code clean.\n\nChange-Id: I616327b8b52cdecb731426c1b9e3d6e3819a6e4a\n""}]",0,458725,4a3d587edd904aad4b8d90573399e5b61d69a37a,10,4,1,23081,,,0,"Remove unused compute networks client in volume tests

Compute networks client is never been used in volume api tests,
and it's reasonable to remove the client to make code clean.

Change-Id: I616327b8b52cdecb731426c1b9e3d6e3819a6e4a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/25/458725/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/base.py'],1,4a3d587edd904aad4b8d90573399e5b61d69a37a,remove_unused_client,, cls.compute_networks_client = cls.os.compute_networks_client,0,1
openstack%2Fkarbor~master~Ie1b0d61ba9e9118ca92240fa844c025b98a42d82,openstack/karbor,master,Ie1b0d61ba9e9118ca92240fa844c025b98a42d82,Fix: reference an undefined attribute of 'msg' of Exception,MERGED,2017-03-28 10:02:45.000000000,2017-04-24 01:53:17.000000000,2017-04-24 01:53:17.000000000,"[{'_account_id': 3}, {'_account_id': 17151}, {'_account_id': 18266}, {'_account_id': 20883}]","[{'number': 1, 'created': '2017-03-28 10:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/karbor/commit/014eee92e93528c7c4cd80176d5bd8f5d77495ca', 'message': ""Fix: reference an undefined attribute of 'msg' of Exception\n\nChange-Id: Ie1b0d61ba9e9118ca92240fa844c025b98a42d82\nCloses-Bug: #1676804\n""}, {'number': 2, 'created': '2017-04-20 13:05:01.000000000', 'files': ['karbor/api/v1/providers.py'], 'web_link': 'https://opendev.org/openstack/karbor/commit/a9edb7cfb64dfa3f26f4dd81b82d212ce5aa4c91', 'message': ""Fix: reference an undefined attribute of 'msg' of Exception\n\nChange-Id: Ie1b0d61ba9e9118ca92240fa844c025b98a42d82\nCloses-Bug: #1676804\n""}]",2,450689,a9edb7cfb64dfa3f26f4dd81b82d212ce5aa4c91,14,4,2,18266,,,0,"Fix: reference an undefined attribute of 'msg' of Exception

Change-Id: Ie1b0d61ba9e9118ca92240fa844c025b98a42d82
Closes-Bug: #1676804
",git fetch https://review.opendev.org/openstack/karbor refs/changes/89/450689/2 && git format-patch -1 --stdout FETCH_HEAD,['karbor/api/v1/providers.py'],1,014eee92e93528c7c4cd80176d5bd8f5d77495ca,bug/1676804," except exception.KarborException as ex: raise exc.HTTPBadRequest(explanation=ex.msg) except Exception as error: msg = _(""Create checkpoint failed: %s"") % error"," except Exception as error: msg = _(""Create checkpoint failed: %s"") % error.msg",5,1
openstack%2Fapi-sig~master~I3a89e4891263f5a8c564f3f65940f1eb32fdafa6,openstack/api-sig,master,I3a89e4891263f5a8c564f3f65940f1eb32fdafa6,Mention max length limit information for tags,ABANDONED,2017-03-20 02:32:33.000000000,2017-04-24 01:48:05.000000000,,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 1063}, {'_account_id': 5754}, {'_account_id': 7725}, {'_account_id': 8276}, {'_account_id': 9569}, {'_account_id': 10670}, {'_account_id': 11564}, {'_account_id': 12356}]","[{'number': 1, 'created': '2017-03-20 02:32:33.000000000', 'files': ['guidelines/tags.rst'], 'web_link': 'https://opendev.org/openstack/api-sig/commit/82fa6b10080484d36d6f2d7e9937e3e1be780a9c', 'message': 'Mention max length limit information for tags\n\nwe should also mention the max length limit information\nfor tags.\n\nChange-Id: I3a89e4891263f5a8c564f3f65940f1eb32fdafa6\nCloses-Bug: #1674192\n'}]",2,447344,82fa6b10080484d36d6f2d7e9937e3e1be780a9c,13,10,1,15888,,,0,"Mention max length limit information for tags

we should also mention the max length limit information
for tags.

Change-Id: I3a89e4891263f5a8c564f3f65940f1eb32fdafa6
Closes-Bug: #1674192
",git fetch https://review.opendev.org/openstack/api-sig refs/changes/44/447344/1 && git format-patch -1 --stdout FETCH_HEAD,['guidelines/tags.rst'],1,82fa6b10080484d36d6f2d7e9937e3e1be780a9c,bug/1674192,"* Tags max length is limited to 60, the limit could be increased if appropriate request provided",,2,0
openstack%2Fkolla-ansible~master~Id3eabe3da05264058fed3136acc4cd270b5134ae,openstack/kolla-ansible,master,Id3eabe3da05264058fed3136acc4cd270b5134ae,Development Environment With Vagrant link not working,MERGED,2017-04-12 01:52:01.000000000,2017-04-24 01:39:09.000000000,2017-04-24 01:39:09.000000000,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 8157}, {'_account_id': 19316}, {'_account_id': 22582}, {'_account_id': 23717}]","[{'number': 1, 'created': '2017-04-12 01:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/585f08773ecd46703e88923e0c44028a1866d49f', 'message': 'Development Environment With Vagrant link not working\n\nIn quick start added the correct link which can be used\nto setup the development environment with vagrant\n\nChange-Id: Id3eabe3da05264058fed3136acc4cd270b5134ae\nCloses-Bug: #1681978\n'}, {'number': 2, 'created': '2017-04-12 04:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f739422695c8ad370660ab0aae1153f9c8462164', 'message': 'Development Environment With Vagrant link not working\n\nIn quick start added the correct link which can be used\nto setup the development environment with vagrant\n\nChange-Id: Id3eabe3da05264058fed3136acc4cd270b5134ae\nCloses-Bug: #1681978\n'}, {'number': 3, 'created': '2017-04-24 01:26:10.000000000', 'files': ['doc/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8d12087a139b4644527dc4b6609331d107939b3e', 'message': 'Development Environment With Vagrant link not working\n\nIn quick start added the correct link which can be used\nto setup the development environment with vagrant\n\nChange-Id: Id3eabe3da05264058fed3136acc4cd270b5134ae\nCloses-Bug: #1681978\n'}]",1,455866,8d12087a139b4644527dc4b6609331d107939b3e,16,7,3,23717,,,0,"Development Environment With Vagrant link not working

In quick start added the correct link which can be used
to setup the development environment with vagrant

Change-Id: Id3eabe3da05264058fed3136acc4cd270b5134ae
Closes-Bug: #1681978
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/66/455866/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/quickstart.rst'],1,585f08773ecd46703e88923e0c44028a1866d49f,bug/1681978,`Development Environment with Vagrant <https://www.vagrantup.com/intro/getting-started/index.html>`_.,`Development Environment with Vagrant <https://docs.openstack.org/project-deploy-guide/kolla-ansible/ocata/vagrant-dev-env.html>`_.,1,1
openstack%2Fshade~master~I1318331dd1b8bae151416b35016e11e7223c34e8,openstack/shade,master,I1318331dd1b8bae151416b35016e11e7223c34e8,Updated from global requirements,MERGED,2017-04-23 20:41:21.000000000,2017-04-24 01:24:01.000000000,2017-04-24 01:24:01.000000000,"[{'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2017-04-23 20:41:21.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/shade/commit/c21447733a40db1fa4a21440118295cba4176e29', 'message': 'Updated from global requirements\n\nChange-Id: I1318331dd1b8bae151416b35016e11e7223c34e8\n'}]",0,459129,c21447733a40db1fa4a21440118295cba4176e29,6,2,1,11131,,,0,"Updated from global requirements

Change-Id: I1318331dd1b8bae151416b35016e11e7223c34e8
",git fetch https://review.opendev.org/openstack/shade refs/changes/29/459129/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,c21447733a40db1fa4a21440118295cba4176e29,openstack/requirements,"Babel!=2.4.0,>=2.3.4 # BSDrequests!=2.12.2,!=2.13.0,>=2.10.0 # Apache-2.0","Babel>=2.3.4,!=2.4.0 # BSDrequests>=2.10.0,!=2.12.2,!=2.13.0 # Apache-2.0",2,2
openstack%2Fopenstack-manuals~master~Id6ef828a9f502beaa140f4bae568eee1f5871f6c,openstack/openstack-manuals,master,Id6ef828a9f502beaa140f4bae568eee1f5871f6c,Update Ceilometer inspector doc,ABANDONED,2017-04-21 05:55:53.000000000,2017-04-24 01:09:25.000000000,,"[{'_account_id': 3}, {'_account_id': 6547}, {'_account_id': 23913}, {'_account_id': 24013}]","[{'number': 1, 'created': '2017-04-21 05:55:53.000000000', 'files': ['doc/config-reference/source/tables/ceilometer-inspector.rst'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/b8afab2554e1c549cbdeb478cb9428edfe235e7c', 'message': 'Update Ceilometer inspector doc\n\nThis doc is different for ceilometer code.\n\nChange-Id: Id6ef828a9f502beaa140f4bae568eee1f5871f6c\n'}]",1,458729,b8afab2554e1c549cbdeb478cb9428edfe235e7c,7,4,1,24013,,,0,"Update Ceilometer inspector doc

This doc is different for ceilometer code.

Change-Id: Id6ef828a9f502beaa140f4bae568eee1f5871f6c
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/29/458729/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/config-reference/source/tables/ceilometer-inspector.rst'],1,b8afab2554e1c549cbdeb478cb9428edfe235e7c,," - (String) Inspector to use for inspecting the hypervisor layer. Known inspectors are libvirt, hyperv, vsphere, xenapi and powervm."," - (String) Inspector to use for inspecting the hypervisor layer. Known inspectors are libvirt, hyperv, vmware, xenapi and powervm.",1,1
openstack%2Fproject-config~master~Ic505389483286347f00e8a9e3e0dc1e720b0981d,openstack/project-config,master,Ic505389483286347f00e8a9e3e0dc1e720b0981d,"Revert ""Load nova configuration for devstack-plugin-ceph job""",MERGED,2017-04-20 06:28:00.000000000,2017-04-24 00:40:43.000000000,2017-04-21 06:35:39.000000000,"[{'_account_id': 3}, {'_account_id': 6133}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 9236}]","[{'number': 1, 'created': '2017-04-20 06:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2e9b60f4c585f4109b3949cb0525f908a316d710', 'message': 'Revert ""Load nova configuration for devstack-plugin-ceph job""\n\nThis reverts commit 94734cf845948ea231ea6729e2dd32e753607e1e.\n\nThis landed before the script was merged which removed the mandatory arg \'\'--regex\'\' while running the tempest tox command. Results to ceph job failing everywhere.\n\nOnce we are ready with script then we should change the job accordingly.\n\nChange-Id: Ic505389483286347f00e8a9e3e0dc1e720b0981d\n'}, {'number': 2, 'created': '2017-04-20 06:34:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/3bb283fcb7653685d4a98eee5afcf72ed8056354', 'message': 'Revert ""Load nova configuration for devstack-plugin-ceph job""\n\nThis reverts commit 94734cf845948ea231ea6729e2dd32e753607e1e.\n\nThis landed before the script was merged which removed the mandatory arg\n\'--regex\' while running the tempest tox command.\nResults to ceph job failing everywhere.\n\nOnce we are ready with script then we should change the job accordingly.\n\nChange-Id: Ic505389483286347f00e8a9e3e0dc1e720b0981d\n'}, {'number': 3, 'created': '2017-04-20 23:42:32.000000000', 'files': ['jenkins/jobs/devstack-gate.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/433412159a401800f1faaf22b7b42ca83c429a69', 'message': 'Revert ""Load nova configuration for devstack-plugin-ceph job""\n\nThis reverts commit 94734cf845948ea231ea6729e2dd32e753607e1e.\n\nThis landed before the script was merged which removed the mandatory arg\n\'--regex\' while running the tempest tox command.\nResults to ceph job failing everywhere.\n\nOnce we are ready with script then we should change the job accordingly.\n\nChange-Id: Ic505389483286347f00e8a9e3e0dc1e720b0981d\n'}]",0,458349,433412159a401800f1faaf22b7b42ca83c429a69,15,5,3,8556,,,0,"Revert ""Load nova configuration for devstack-plugin-ceph job""

This reverts commit 94734cf845948ea231ea6729e2dd32e753607e1e.

This landed before the script was merged which removed the mandatory arg
'--regex' while running the tempest tox command.
Results to ceph job failing everywhere.

Once we are ready with script then we should change the job accordingly.

Change-Id: Ic505389483286347f00e8a9e3e0dc1e720b0981d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/49/458349/1 && git format-patch -1 --stdout FETCH_HEAD,['jenkins/jobs/devstack-gate.yaml'],1,2e9b60f4c585f4109b3949cb0525f908a316d710,(detached," # As we are setting DEVSTACK_GATE_TEMPEST_ALL_PLUGINS, we need to add # the regex to limit the tests to the same as a tempest -efull would # run. export DEVSTACK_GATE_TEMPEST_REGEX='(?!.*\[.*\bslow\b.*\])(^tempest\.(api|scenario)|(^cinder\.tests.tempest))' export PROJECTS=""{plugin-repo} $PROJECTS""", export DEVSTACK_GATE_SETTINGS=/opt/stack/new/nova/devstack/tempest-dsvm-ceph-rc ,7,3
openstack%2Fhorizon~master~I9958cd36395e0f89f3f7caf5259c8db759f78c24,openstack/horizon,master,I9958cd36395e0f89f3f7caf5259c8db759f78c24,Fix network admin state can not keep original value,ABANDONED,2017-04-06 16:22:54.000000000,2017-04-24 00:35:39.000000000,,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 24056}]","[{'number': 1, 'created': '2017-04-06 16:22:54.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/forms.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/bbdb178ae5a38c4c856a5c6c13306cca201a9c40', 'message': 'Fix network admin state can not keep original value\n\nIn path of project networks table,when click edit network form\nadmin state selected value is not the original value.\n\nChange-Id: I9958cd36395e0f89f3f7caf5259c8db759f78c24\nCloses-Bug: 1680524\n'}]",0,454252,bbdb178ae5a38c4c856a5c6c13306cca201a9c40,6,3,1,24056,,,0,"Fix network admin state can not keep original value

In path of project networks table,when click edit network form
admin state selected value is not the original value.

Change-Id: I9958cd36395e0f89f3f7caf5259c8db759f78c24
Closes-Bug: 1680524
",git fetch https://review.opendev.org/openstack/horizon refs/changes/52/454252/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/forms.py'],1,bbdb178ae5a38c4c856a5c6c13306cca201a9c40,bug/1680524," choices=[(True, _('UP')), (False, _('DOWN'))],"," choices=[('True', _('UP')), ('False', _('DOWN'))],",2,2
openstack%2Fzun~master~I7d4f85d714e744709687e402f585696e6f79aa62,openstack/zun,master,I7d4f85d714e744709687e402f585696e6f79aa62,Combine tty and stdin_open in server,MERGED,2017-04-21 04:44:44.000000000,2017-04-24 00:34:29.000000000,2017-04-24 00:34:29.000000000,"[{'_account_id': 3}, {'_account_id': 11536}]","[{'number': 1, 'created': '2017-04-21 04:44:44.000000000', 'files': ['zun/tests/unit/db/utils.py', 'zun/db/sqlalchemy/alembic/versions/ce9944b346cb_combine_tty_and_stdin_open.py', 'zun/db/sqlalchemy/models.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/api/controllers/v1/views/containers_view.py', 'zun/container/docker/driver.py', 'zun/objects/container.py', 'zun/tests/unit/objects/test_objects.py', 'zun/api/controllers/v1/containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/577c4f66362d433bdd4d9af8bc0c0f645425bbea', 'message': 'Combine tty and stdin_open in server\n\nChange-Id: I7d4f85d714e744709687e402f585696e6f79aa62\nCloses-Bug: #1683951\n'}]",0,458722,577c4f66362d433bdd4d9af8bc0c0f645425bbea,7,2,1,23365,,,0,"Combine tty and stdin_open in server

Change-Id: I7d4f85d714e744709687e402f585696e6f79aa62
Closes-Bug: #1683951
",git fetch https://review.opendev.org/openstack/zun refs/changes/22/458722/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/db/sqlalchemy/alembic/versions/ce9944b346cb_combine_tty_and_stdin_open.py', 'zun/tests/unit/db/utils.py', 'zun/db/sqlalchemy/models.py', 'zun/api/controllers/v1/schemas/containers.py', 'zun/api/controllers/v1/views/containers_view.py', 'zun/container/docker/driver.py', 'zun/objects/container.py', 'zun/api/controllers/v1/containers.py', 'zun/tests/unit/objects/test_objects.py']",9,577c4f66362d433bdd4d9af8bc0c0f645425bbea,bug/1683951," 'Container': '1.15-b2f1403b9bfcd97b52f46d2c53f003a5',"," 'Container': '1.14-dc705ea9cad87fa291b5fd7c4a9d57f1',",51,21
openstack%2Fkolla-kubernetes~master~I5a365a53594430a4c763dde5e6566f81a668d589,openstack/kolla-kubernetes,master,I5a365a53594430a4c763dde5e6566f81a668d589,fix error on document,ABANDONED,2017-04-19 01:24:02.000000000,2017-04-23 23:29:07.000000000,,"[{'_account_id': 3}, {'_account_id': 4}, {'_account_id': 2834}, {'_account_id': 10849}, {'_account_id': 22959}, {'_account_id': 23717}, {'_account_id': 25376}]","[{'number': 1, 'created': '2017-04-19 01:24:02.000000000', 'files': ['doc/source/development-environment.rst'], 'web_link': 'https://opendev.org/openstack/kolla-kubernetes/commit/12054615f523a16b7c8a876bf873a133e7f004a9', 'message': ""fix error on document\n\nfix error for development-environment.rst\n'/$url -L https://storage.googleapis.com/kubernetes-helm/helm-v2.2.2-linux-amd64.tar.gz | tar -xzv'\nto\n'curl -L https://storage.googleapis.com/kubernetes-helm/helm-v2.2.2-linux-amd64.tar.gz | tar -xzv'\n\nChange-Id: I5a365a53594430a4c763dde5e6566f81a668d589\n""}]",0,457829,12054615f523a16b7c8a876bf873a133e7f004a9,5,7,1,25735,,,0,"fix error on document

fix error for development-environment.rst
'/$url -L https://storage.googleapis.com/kubernetes-helm/helm-v2.2.2-linux-amd64.tar.gz | tar -xzv'
to
'curl -L https://storage.googleapis.com/kubernetes-helm/helm-v2.2.2-linux-amd64.tar.gz | tar -xzv'

Change-Id: I5a365a53594430a4c763dde5e6566f81a668d589
",git fetch https://review.opendev.org/openstack/kolla-kubernetes refs/changes/29/457829/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/development-environment.rst'],1,12054615f523a16b7c8a876bf873a133e7f004a9,fix-error, curl -L https://storage.googleapis.com/kubernetes-helm/helm-v2.2.2-linux-amd64.tar.gz | tar -xzv, /$url -L https://storage.googleapis.com/kubernetes-helm/helm-v2.2.2-linux-amd64.tar.gz | tar -xzv,1,1
openstack%2Foctavia~master~Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9,openstack/octavia,master,Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9,Auto-detect haproxy user_group,MERGED,2017-02-05 15:23:45.000000000,2017-04-23 23:24:29.000000000,2017-04-23 23:24:29.000000000,"[{'_account_id': 3}, {'_account_id': 6579}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 14591}, {'_account_id': 16923}]","[{'number': 1, 'created': '2017-02-05 15:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/984f899d17084aee406b5ced1fdd90f0f395b586', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nWith this patch, when the REST API driver builds a config for haproxy (using\nj2 template), it will use the value provided in haproxy_amphora.user_group.\nOtherwise, it will use the above-mentioned defaults.\n\nIn order to pick the right default, the REST API driver will use a newly added\ncall named get_default_haproxy_user_group call.\n\nCloses-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 2, 'created': '2017-02-05 15:58:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/259d599c039f040fd36771d9e4635607cb6d531c', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nWith this patch, when the REST API driver builds a config for haproxy\n(using j2 template), it will use the value provided\nin haproxy_amphora.user_group. Otherwise, it will use the\nabove-mentioned defaults.\n\nIn order to pick the right default, the REST API driver will use a newly\nadded call named get_default_haproxy_user_group call.\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 3, 'created': '2017-02-08 14:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/53702dd77421bacb7665e3e28195fb4fdb5840f6', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 4, 'created': '2017-02-08 14:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/4e6d65ec5e8de36ff852e1297a78912b9230ed7e', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 5, 'created': '2017-02-09 14:07:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0f554755c3644b0eda86f211c078483261b19381', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 6, 'created': '2017-02-09 14:09:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/58a5867369ce70384c430656eabbf0d887b09846', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 7, 'created': '2017-02-15 15:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a0873685d5341521e3b0c24d3e76983bd0e87c63', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 8, 'created': '2017-02-19 10:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/eb65bc8073e881fabdd7261b952afc9aba99b4c7', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 9, 'created': '2017-02-19 13:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/345c99abbc0c44e0b7bfe7fd780c8c4596068763', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 10, 'created': '2017-02-26 11:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0db25cc9e28eaefc1f973ef5c055f23d7bc442ca', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 11, 'created': '2017-02-26 11:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0885ceabc98f212a7a50f9a5c9aa80f704a651f5', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 12, 'created': '2017-02-26 21:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5e731860828b13ca434c264873ff974520890080', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 13, 'created': '2017-02-27 22:41:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d92d3e5dce49f27ceeabbbacdd02588f28a884a8', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 14, 'created': '2017-02-27 22:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0554dbe298614ce849e92f26bc8ea5c88492a84f', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 15, 'created': '2017-03-08 13:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a622ed0e9bd23ca60a8a00e75b7f197a856fd8ce', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 16, 'created': '2017-03-12 15:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3ad9893a88a3ad01e6b929c389ca93a696f443f9', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 17, 'created': '2017-03-13 10:14:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e029d326c81c92aafe7436c4dda4238915649e4a', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 18, 'created': '2017-03-15 13:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7ab25407750b9c79e138b3a5d23a33b50d2297cf', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 19, 'created': '2017-03-19 09:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b7380beecca960254559f7cf0cfb98d5b7725e01', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 20, 'created': '2017-03-20 23:22:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8c3e4cf284339b8a246ca247df574076ba959759', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 21, 'created': '2017-03-21 12:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/28423d0d5f6cf3cc4279e2dfdcf7b0615caaf0d3', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 22, 'created': '2017-03-23 10:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/522042c19394337134a3d5135382477e04f6a0ca', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 23, 'created': '2017-03-23 16:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2de6c9811d9608b05ddfa749192c8759717840ad', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 24, 'created': '2017-04-02 16:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7e6eff81667ebb89889f6a0ff8f987b77afc6714', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nThe defaults for haproxy user_group, when nothing specified in\noctavia.conf, are:\nUbuntu: 'nogroup'\nCentOS/Fedora/RHEL: 'haproxy'\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 25, 'created': '2017-04-03 23:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6c7b971a2ba0f450cbb8b5801c10d4250069288f', 'message': '(WIP) Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP\n3. Test CentOS AMP\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n'}, {'number': 26, 'created': '2017-04-04 08:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/8b84aa91c6acb378b9d30bfefd035228e6ccfe0f', 'message': '(WIP) Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP\n3. Test CentOS AMP\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n'}, {'number': 27, 'created': '2017-04-04 08:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7b8791c51aa870c9281f917e3302d39cc1baabbe', 'message': '(WIP) Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP\n3. Test CentOS AMP\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n'}, {'number': 28, 'created': '2017-04-04 09:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/948d5f4993ac2b78da9ab4d26aeff6e724a4863a', 'message': '(WIP) Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP\n3. Test CentOS AMP\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n'}, {'number': 29, 'created': '2017-04-04 13:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d8c4c0df1845809527fa944e2a7b108c8aba3031', 'message': '(WIP) Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP - Tested OK\n3. Test CentOS AMP - Tested OK\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n'}, {'number': 30, 'created': '2017-04-05 08:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9594c5ff87c7dac74871aa25615b6a3174eea955', 'message': ""(WIP) Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP - Tested OK need to test again.\n3. Test CentOS AMP - Tested OK, need to test again.\n4. Test The new amphora agent with 'old' controller (master)\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 31, 'created': '2017-04-05 22:53:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/904baa81f7689af978ad0b8964bbb9ee3a9d32c4', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP - Tested OK\n3. Test CentOS AMP - Tested OK, need to test again.\n4. Test The new amphora agent with 'old' controller (master)\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 32, 'created': '2017-04-06 12:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5505d40c092721aae356f6a035f6aefe0295b549', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP - Tested OK\n3. Test CentOS AMP - Failed due to: https://bugs.launchpad.net/octavia/+bug/1680435\n4. Test The new amphora agent with 'old' controller (master)\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 33, 'created': '2017-04-18 11:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/cb261fa970cbe988fbf17c68a25db4d92c0bbd6f', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP - Tested OK\n3. Test CentOS AMP - Failed due to: https://bugs.launchpad.net/octavia/+bug/1680435\n4. Test The new amphora agent with 'old' controller (master)\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 34, 'created': '2017-04-18 21:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/64ae1929921a07a5ffda4fcd541f5b84b4bcbdbf', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP - Tested OK\n3. Test CentOS AMP - Failed due to: https://bugs.launchpad.net/octavia/+bug/1680435\n4. Test The new amphora agent with 'old' controller (master)\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 35, 'created': '2017-04-19 14:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c5004ff4be64baaef02ddb0f6d19781955e44ce', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP - Tested OK\n3. Test CentOS AMP - Failed due to: https://bugs.launchpad.net/octavia/+bug/1680435\n4. Test The new amphora agent with 'old' controller (master)\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 36, 'created': '2017-04-19 19:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/364f16566d3c978d8314e0d83c96d7041c5c57e2', 'message': ""Auto detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding\nauto detection to haproxy_amphora.user_group\n\nTODO:\n1. Handle old controllers that will still use user_group, see comment\nin: octavia/amphorae/backends/agent/api_server/listener.py\n2. Test Ubuntu AMP - Tested OK\n3. Test CentOS AMP - Failed due to: https://bugs.launchpad.net/octavia/+bug/1680435\n4. Test The new amphora agent with 'old' controller (master)\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 37, 'created': '2017-04-20 11:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f8200e6f5be7cbb4dc1c2bb53fc7eb21ac6c18c2', 'message': ""Auto-detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding auto\ndetection to haproxy_amphora.user_group\n\nhaproxy is capable[1] handling a list of configuration files.\nThis patch leverages that capability by simply providing haproxy with an\nadditional configuration file, which is baked in the amphora image via a\ndiskimage-builder element.\n\nThe above-mentioned element will specify the following values for  user group:\nUbuntu: 'nogroup'\nRHEL/CentOS/Fedora: 'haproxy'\n\nThe amphora-agent will parse and remove any user_group configuration provided\nby Octavia controller worker.\nThis is in order to maintain amphora-agent backward compatibility to old\nOctavia workers, who still provide user_group to the amphora-agent.\nOctavia Workers that include this patch will no longer provide user_group\nconfiguration to the amphora-agent.\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 38, 'created': '2017-04-20 11:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1167ac8c0772b4d3e78e5812be24b3f69b214371', 'message': ""Auto-detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding auto\ndetection to haproxy_amphora.user_group\n\nhaproxy is capable[1] handling a list of configuration files.\nThis patch leverages that capability by simply providing haproxy with an\nadditional configuration file, which is baked in the amphora image via a\ndiskimage-builder element.\n\nThe above-mentioned element will specify the following values for user group:\nUbuntu: 'nogroup'\nRHEL/CentOS/Fedora: 'haproxy'\n\nThe amphora-agent will parse and remove any user_group configuration provided\nby Octavia controller worker.\nThis is in order to maintain amphora-agent backward compatibility to old\nOctavia workers, who still provide user_group to the amphora-agent.\nOctavia Workers that include this patch will no longer provide user_group\nconfiguration to the amphora-agent.\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 39, 'created': '2017-04-20 11:38:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/479cd2bcc66d7ddc02eaf33814bee35fc1fe6970', 'message': ""Auto-detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding auto\ndetection to haproxy_amphora.user_group\n\nhaproxy is capable[1] handling a list of configuration files.\nThis patch leverages that capability by simply providing haproxy with an\nadditional configuration file, which is baked in the amphora image via a\ndiskimage-builder element.\n\nThe above-mentioned element will specify the following values for user group:\nUbuntu: 'nogroup'\nRHEL/CentOS/Fedora: 'haproxy'\n\nThe amphora-agent will parse and remove any user_group configuration provided\nby Octavia controller worker.\nThis is in order to maintain amphora-agent backward compatibility to old\nOctavia workers, who still provide user_group to the amphora-agent.\nOctavia Workers that include this patch will no longer provide user_group\nconfiguration to the amphora-agent.\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 40, 'created': '2017-04-20 11:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d647cf415afacbcff176823104f3a719debfa5d6', 'message': ""Auto-detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding auto\ndetection to haproxy_amphora.user_group\n\nhaproxy is capable[1] handling a list of configuration files.\nThis patch leverages that capability by simply providing haproxy with an\nadditional configuration file, which is baked in the amphora image via a\ndiskimage-builder element.\n\nThe above-mentioned element will specify the following values for user group:\nUbuntu: 'nogroup'\nRHEL/CentOS/Fedora: 'haproxy'\n\nThe amphora-agent will parse and remove any user_group configuration provided\nby Octavia controller worker.\nThis is in order to maintain amphora-agent backward compatibility to old\nOctavia workers, who still provide user_group to the amphora-agent.\nOctavia Workers that include this patch will no longer provide user_group\nconfiguration to the amphora-agent.\n\n[1] https://cbonte.github.io/haproxy-dconv/1.7/management.html#3\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 41, 'created': '2017-04-20 13:01:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7071336e24ed0655875b77d8561c8442bc318963', 'message': ""Auto-detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding auto\ndetection to haproxy_amphora.user_group\n\nhaproxy is capable[1] handling a list of configuration files.\nThis patch leverages that capability by simply providing haproxy with an\nadditional configuration file, which is baked in the amphora image via a\ndiskimage-builder element.\n\nThe above-mentioned element will specify the following values for user group:\nUbuntu: 'nogroup'\nRHEL/CentOS/Fedora: 'haproxy'\n\nThe amphora-agent will parse and remove any user_group configuration provided\nby Octavia controller worker.\nThis is in order to maintain amphora-agent backward compatibility to old\nOctavia workers, who still provide user_group to the amphora-agent.\nOctavia Workers that include this patch will no longer provide user_group\nconfiguration to the amphora-agent.\n\n[1] https://cbonte.github.io/haproxy-dconv/1.7/management.html#3\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 42, 'created': '2017-04-20 13:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d2dd5daab45f45563b3f194dc5f833f9ebb479a6', 'message': ""Auto-detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding auto\ndetection to haproxy_amphora.user_group\n\nhaproxy is capable[1] handling a list of configuration files.\nThis patch leverages that capability by simply providing haproxy with an\nadditional configuration file, which is baked in the amphora image via a\ndiskimage-builder element.\n\nThe above-mentioned element will specify the following values for user group:\nUbuntu: 'nogroup'\nRHEL/CentOS/Fedora: 'haproxy'\n\nThe amphora-agent will parse and remove any user_group configuration provided\nby Octavia controller worker.\nThis is in order to maintain amphora-agent backward compatibility to old\nOctavia workers, who still provide user_group to the amphora-agent.\nOctavia Workers that include this patch will no longer provide user_group\nconfiguration to the amphora-agent.\n\n[1] https://cbonte.github.io/haproxy-dconv/1.7/management.html#3\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 43, 'created': '2017-04-23 14:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b3f5cd6556e3a03f6fa73114c8e15e748e64981d', 'message': ""Auto-detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding auto\ndetection to haproxy_amphora.user_group\n\nhaproxy is capable[1] handling a list of configuration files.\nThis patch leverages that capability by simply providing haproxy with an\nadditional configuration file, which is baked in the amphora image via a\ndiskimage-builder element.\n\nThe above-mentioned element will specify the following values for user group:\nUbuntu: 'nogroup'\nRHEL/CentOS/Fedora: 'haproxy'\n\nThe amphora-agent will parse and remove any user_group configuration provided\nby Octavia controller worker.\nThis is in order to maintain amphora-agent backward compatibility to old\nOctavia workers, who still provide user_group to the amphora-agent.\nOctavia Workers that include this patch will no longer provide user_group\nconfiguration to the amphora-agent.\n\n[1] https://cbonte.github.io/haproxy-dconv/1.7/management.html#3\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 44, 'created': '2017-04-23 14:45:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a82e3ff3bfbaa3fd20bd24bdc928c868f8746aff', 'message': ""Auto-detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding auto\ndetection to haproxy_amphora.user_group\n\nhaproxy is capable[1] handling a list of configuration files.\nThis patch leverages that capability by simply providing haproxy with an\nadditional configuration file, which is baked in the amphora image via a\ndiskimage-builder element.\n\nThe above-mentioned element will specify the following values for user group:\nUbuntu: 'nogroup'\nRHEL/CentOS/Fedora: 'haproxy'\n\nThe amphora-agent will parse and remove any user_group configuration provided\nby Octavia controller worker.\nThis is in order to maintain amphora-agent backward compatibility to old\nOctavia workers, who still provide user_group to the amphora-agent.\nOctavia Workers that include this patch will no longer provide user_group\nconfiguration to the amphora-agent.\n\n[1] https://cbonte.github.io/haproxy-dconv/1.7/management.html#3\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}, {'number': 45, 'created': '2017-04-23 15:24:39.000000000', 'files': ['octavia/common/config.py', 'elements/haproxy-octavia-ubuntu/post-install.d/20-haproxy-user-group-config', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'etc/octavia.conf', 'octavia/amphorae/backends/agent/api_server/listener.py', 'octavia/amphorae/backends/agent/api_server/templates/systemd.conf.j2', 'octavia/common/constants.py', 'octavia/amphorae/backends/agent/agent_jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/templates/upstart.conf.j2', 'elements/amphora-agent/install.d/75-run_setup_install', 'octavia/amphorae/backends/agent/api_server/templates/sysvinit.conf.j2', 'elements/haproxy-octavia/post-install.d/20-haproxy-user-group-config', 'releasenotes/notes/auto_detect_haproxy_user_group-c220b6a2c8f1d589.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/26a55415abe75e74e22272758a04a2d3000d29eb', 'message': ""Auto-detect haproxy user_group\n\nAs a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding auto\ndetection to haproxy_amphora.user_group\n\nhaproxy is capable[1] handling a list of configuration files.\nThis patch leverages that capability by simply providing haproxy with an\nadditional configuration file, which is baked in the amphora image via a\ndiskimage-builder element.\n\nThe above-mentioned element will specify the following values for user group:\nUbuntu: 'nogroup'\nRHEL/CentOS/Fedora: 'haproxy'\n\nThe amphora-agent will parse and remove any user_group configuration provided\nby Octavia controller worker.\nThis is in order to maintain amphora-agent backward compatibility to old\nOctavia workers, who still provide user_group to the amphora-agent.\nOctavia Workers that include this patch will no longer provide user_group\nconfiguration to the amphora-agent.\n\n[1] https://cbonte.github.io/haproxy-dconv/1.7/management.html#3\n\nRelated-Bug #1548070\n\nChange-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9\n""}]",72,429398,26a55415abe75e74e22272758a04a2d3000d29eb,179,6,45,6579,,,0,"Auto-detect haproxy user_group

As a followup to Id99948aec64656a0532afc68e146f0610bff1378, adding auto
detection to haproxy_amphora.user_group

haproxy is capable[1] handling a list of configuration files.
This patch leverages that capability by simply providing haproxy with an
additional configuration file, which is baked in the amphora image via a
diskimage-builder element.

The above-mentioned element will specify the following values for user group:
Ubuntu: 'nogroup'
RHEL/CentOS/Fedora: 'haproxy'

The amphora-agent will parse and remove any user_group configuration provided
by Octavia controller worker.
This is in order to maintain amphora-agent backward compatibility to old
Octavia workers, who still provide user_group to the amphora-agent.
Octavia Workers that include this patch will no longer provide user_group
configuration to the amphora-agent.

[1] https://cbonte.github.io/haproxy-dconv/1.7/management.html#3

Related-Bug #1548070

Change-Id: Ia8fede9d7da4709a48661d1fc595a16d04fcbfa9
",git fetch https://review.opendev.org/openstack/octavia refs/changes/98/429398/35 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/constants.py', 'octavia/amphorae/backends/agent/api_server/server.py', 'octavia/amphorae/backends/agent/api_server/osutils.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'etc/octavia.conf', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver.py']",7,984f899d17084aee406b5ced1fdd90f0f395b586,bug/1548070," @requests_mock.mock() def test_get_default_haproxy_user_group(self, m): user_group = {""user_group"": ""nogroup""} m.get(""{base}/haproxy_user_group"".format(base=self.base_url), json=user_group) amp_haproxy_user_group = self.driver.get_default_haproxy_user_group( self.amp) self.assertEqual(user_group, amp_haproxy_user_group)",,36,3
openstack%2Fhorizon~master~I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863,openstack/horizon,master,I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863,Fix allowed() function for CreateSubnet,MERGED,2016-04-07 16:07:46.000000000,2017-04-23 22:47:04.000000000,2017-04-23 22:47:04.000000000,"[{'_account_id': 3}, {'_account_id': 841}, {'_account_id': 8040}, {'_account_id': 9178}, {'_account_id': 9622}, {'_account_id': 12071}, {'_account_id': 12826}, {'_account_id': 13325}, {'_account_id': 14151}, {'_account_id': 23310}]","[{'number': 1, 'created': '2016-04-07 16:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/e60a34b1f1f6e6a5f5aaf80b733592de3dd709e4', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no\nusages[\'subnets\'][\'available\'].\nSo this check raises KeyError exception\nand makes ""Create subnet"" button dissapear.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}, {'number': 2, 'created': '2016-04-08 13:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/1b32ce99850c373f97ed8ba6710823fdd85bd5b5', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no\nusages[\'subnets\'][\'available\'].\nSo this check raises KeyError exception\nand makes ""Create subnet"" button dissapear.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}, {'number': 3, 'created': '2016-04-28 12:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/67e2773715020737a5bb29bfa52d7e292f673b9f', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no\nusages[\'subnets\'][\'available\'].\nSo this check raises KeyError exception\nand makes ""Create subnet"" button dissapear.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}, {'number': 4, 'created': '2016-04-28 15:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0c89c66b584d5ab1e62fdbcd9d033da4ca07b776', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no\nusages[\'subnets\'][\'available\'].\nSo this check raises KeyError exception\nand makes ""Create subnet"" button dissapear.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}, {'number': 5, 'created': '2016-04-29 09:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ff32cac9d2888bece6221c4994ff80e6d1daff9', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no\nusages[\'subnets\'][\'available\'].\nSo this check raises KeyError exception\nand makes ""Create subnet"" button dissapear.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}, {'number': 6, 'created': '2016-06-14 15:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/497bba29503b44086937fdbb0650e43aca32ecc6', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no\nusages[\'subnets\'][\'available\'].\n\nSo this check raises KeyError exception\nand makes ""Create subnet"" button dissapear.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}, {'number': 7, 'created': '2017-03-13 12:12:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eae87e2a02e80ad5b1201e8996f89cbbaa04fd30', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no\nusages[\'subnets\'][\'available\'].\n\nSo this check raises KeyError exception\nand makes ""Create subnet"" button dissapear.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}, {'number': 8, 'created': '2017-03-13 12:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d007e6bb7e5aeb44bb57962ae47dfc75493c0940', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no usages[\'subnets\'][\'available\']\n\nSo this check raises KeyError exception and makes ""Create subnet""\nbutton dissapear.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}, {'number': 9, 'created': '2017-03-26 23:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a7e79cdfb39c7a8580515eacf0e1e587b8ebe0b4', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no usages[\'subnets\'][\'available\']\n\nSo this check raises KeyError exception and makes ""Create subnet""\nbutton dissapear.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}, {'number': 10, 'created': '2017-03-26 23:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/420666977acfb6bfb8819c6bf7e4fc435b3f0819', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no usages[\'subnets\'][\'available\']\n\nSo this check raises KeyError exception and makes ""Create subnet""\nbutton dissapear.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}, {'number': 11, 'created': '2017-03-26 23:16:38.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/subnets/tables.py', 'openstack_dashboard/dashboards/project/networks/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8dc3e4324770bcc963cc213884861a563c2fd8e3', 'message': 'Fix allowed() function for CreateSubnet\n\nIf neutron quotas disabled, there is no usages[\'subnets\'][\'available\']\nSo this check raises KeyError exception and makes ""Create subnet""\nbutton dissapear.\n\nIn addition, common codes in project.networks.tests related to\nthis change are merged into a common method.\n\nChange-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863\nCloses-Bug: #1567529\n'}]",5,302925,8dc3e4324770bcc963cc213884861a563c2fd8e3,40,10,11,13325,,,0,"Fix allowed() function for CreateSubnet

If neutron quotas disabled, there is no usages['subnets']['available']
So this check raises KeyError exception and makes ""Create subnet""
button dissapear.

In addition, common codes in project.networks.tests related to
this change are merged into a common method.

Change-Id: I998c98c190fd4dc4039c7fb8ef7b1ef27bbeb863
Closes-Bug: #1567529
",git fetch https://review.opendev.org/openstack/horizon refs/changes/25/302925/9 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/networks/subnets/tables.py'],1,e60a34b1f1f6e6a5f5aaf80b733592de3dd709e4,bug/1567529," if usages.get('subnets', {}).get('available', 1) <= 0:", if usages['subnets']['available'] <= 0:,1,1
openstack%2Fnova~master~I91b9a60268354ffbed86b1e7d173906cfd7b97bd,openstack/nova,master,I91b9a60268354ffbed86b1e7d173906cfd7b97bd,Update detach to use V3 Cinder API,MERGED,2017-02-28 00:12:57.000000000,2017-04-23 22:33:36.000000000,2017-04-21 15:24:13.000000000,"[{'_account_id': 3}, {'_account_id': 782}, {'_account_id': 2243}, {'_account_id': 5997}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9562}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 10385}, {'_account_id': 11303}, {'_account_id': 14384}, {'_account_id': 14571}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17386}, {'_account_id': 17814}, {'_account_id': 20040}, {'_account_id': 20223}]","[{'number': 1, 'created': '2017-02-28 00:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bdcc69ec0608aa8f29348ae7e7cea72e5e66bda3', 'message': ""Add Cinder V3 Detach calls\n\nThis is the second step in implementing Cinders\nV3 attachment API.  This patch adds the equivalent\nV3 call (attachment_update or attachment_delete)\nfor each case of terminate_connection.\n\nThe new methods are triggered by the presence of\nattachment_uuid in the BDM.  This field will only\nbe present in the BDM if/when the new attachment_create\nAPI is called.  Otherwise, we revert to the old APIs.\n\nThere are some specical cases here for things like\nlive-migration and shelv/unshelve where Nova currently has\ntwo connections for a single volume.  For now, we'll use\nthe attachment_update method to clear out a connection.\n\nWhen we add in the attachment_create functionality we'll\nwant to rework these a bit to include the special cases,\nin which we'll actually have two attachment records for\nthe volume (and old and a new) and delete the old one\nonce the connection is switched over.\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n""}, {'number': 2, 'created': '2017-02-28 17:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/14f047f552025edd536155043b54fd80bb1e8625', 'message': ""Add Cinder V3 Detach calls\n\nThis is the second step in implementing Cinders\nV3 attachment API.  This patch adds the equivalent\nV3 call (attachment_update or attachment_delete)\nfor each case of terminate_connection.\n\nThe new methods are triggered by the presence of\nattachment_uuid in the BDM.  This field will only\nbe present in the BDM if/when the new attachment_create\nAPI is called.  Otherwise, we revert to the old APIs.\n\nThere are some specical cases here for things like\nlive-migration and shelv/unshelve where Nova currently has\ntwo connections for a single volume.  For now, we'll use\nthe attachment_update method to clear out a connection.\n\nWhen we add in the attachment_create functionality we'll\nwant to rework these a bit to include the special cases,\nin which we'll actually have two attachment records for\nthe volume (and old and a new) and delete the old one\nonce the connection is switched over.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n""}, {'number': 3, 'created': '2017-03-27 16:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c7a1b21b3cf2678d97a27be4c72ae4c9d656ba1', 'message': ""Add Cinder V3 Detach calls\n\nThis is the second step in implementing Cinders\nV3 attachment API.  This patch adds the equivalent\nV3 call (attachment_update or attachment_delete)\nfor each case of terminate_connection.\n\nThe new methods are triggered by the presence of\nattachment_uuid in the BDM.  This field will only\nbe present in the BDM if/when the new attachment_create\nAPI is called.  Otherwise, we revert to the old APIs.\n\nThere are some specical cases here for things like\nlive-migration and shelv/unshelve where Nova currently has\ntwo connections for a single volume.  For now, we'll use\nthe attachment_update method to clear out a connection.\n\nWhen we add in the attachment_create functionality we'll\nwant to rework these a bit to include the special cases,\nin which we'll actually have two attachment records for\nthe volume (and old and a new) and delete the old one\nonce the connection is switched over.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n""}, {'number': 4, 'created': '2017-03-30 20:52:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4dd1ed1fa8c7b9cca76338283b67afba67e9a6d6', 'message': ""Add Cinder V3 Detach calls\n\nThis is the second step in implementing Cinders\nV3 attachment API.  This patch adds the equivalent\nV3 call (attachment_update or attachment_delete)\nfor each case of terminate_connection.\n\nThe new methods are triggered by the presence of\nattachment_uuid in the BDM.  This field will only\nbe present in the BDM if/when the new attachment_create\nAPI is called.  Otherwise, we revert to the old APIs.\n\nThere are some specical cases here for things like\nlive-migration and shelv/unshelve where Nova currently has\ntwo connections for a single volume.  For now, we'll use\nthe attachment_update method to clear out a connection.\n\nWhen we add in the attachment_create functionality we'll\nwant to rework these a bit to include the special cases,\nin which we'll actually have two attachment records for\nthe volume (and old and a new) and delete the old one\nonce the connection is switched over.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n""}, {'number': 5, 'created': '2017-04-01 19:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2dd372e37c91cee27a559c50e7b69a9e525e2b5a', 'message': ""Add Cinder V3 Detach calls\n\nThis is the second step in implementing Cinders\nV3 attachment API.  This patch adds the equivalent\nV3 call (attachment_update or attachment_delete)\nfor each case of terminate_connection.\n\nThe new methods are triggered by the presence of\nattachment_uuid in the BDM.  This field will only\nbe present in the BDM if/when the new attachment_create\nAPI is called.  Otherwise, we revert to the old APIs.\n\nThere are some specical cases here for things like\nlive-migration and shelv/unshelve where Nova currently has\ntwo connections for a single volume.  For now, we'll use\nthe attachment_update method to clear out a connection.\n\nWhen we add in the attachment_create functionality we'll\nwant to rework these a bit to include the special cases,\nin which we'll actually have two attachment records for\nthe volume (and old and a new) and delete the old one\nonce the connection is switched over.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n""}, {'number': 6, 'created': '2017-04-12 11:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f61956cf74fb333195d88ec97491a514f1a4cb8c', 'message': ""Add Cinder V3 Detach calls\n\nThis is the second step in implementing Cinders\nV3 attachment API.  This patch adds the equivalent\nV3 call (attachment_update or attachment_delete)\nfor each case of terminate_connection.\n\nThe new methods are triggered by the presence of\nattachment_uuid in the BDM.  This field will only\nbe present in the BDM if/when the new attachment_create\nAPI is called.  Otherwise, we revert to the old APIs.\n\nThere are some specical cases here for things like\nlive-migration and shelv/unshelve where Nova currently has\ntwo connections for a single volume.  For now, we'll use\nthe attachment_update method to clear out a connection.\n\nWhen we add in the attachment_create functionality we'll\nwant to rework these a bit to include the special cases,\nin which we'll actually have two attachment records for\nthe volume (and old and a new) and delete the old one\nonce the connection is switched over.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n""}, {'number': 7, 'created': '2017-04-14 05:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65b94e35f82c5235d66723011206e5ea8976196d', 'message': 'Add Cinder V3 Detach calls\n\nThis is the second step in implementing Cinders\nV3 attachment API.  This patch adds the equivalent\nV3 call (attachment_update or attachment_delete)\nfor each case of terminate_connection.\n\nThe new methods are triggered by the presence of\nattachment_uuid in the BDM.  This field will only\nbe present in the BDM if/when the new attachment_create\nAPI is called.  Otherwise, we revert to the old APIs.\n\nThis patch introduces the new flow only in the detach call.\nEdge cases are handled in separate patches.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n'}, {'number': 8, 'created': '2017-04-14 06:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1d13a6475526c362c4c164c5347913879e1891c2', 'message': 'Add Cinder V3 Detach calls\n\nThis is the second step in implementing Cinders\nV3 attachment API.  This patch adds the equivalent\nV3 call (attachment_update or attachment_delete)\nfor each case of terminate_connection.\n\nThe new methods are triggered by the presence of\nattachment_uuid in the BDM.  This field will only\nbe present in the BDM if/when the new attachment_create\nAPI is called.  Otherwise, we revert to the old APIs.\n\nThis patch introduces the new flow only in the detach call.\nEdge cases are handled in separate patches.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n'}, {'number': 9, 'created': '2017-04-19 18:12:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a6e6dd3229354834061a4da12f7461bc3917e4fb', 'message': 'Add Cinder V3 Detach calls\n\nThis is the second step in implementing Cinders\nV3 attachment API. This patch adds the equivalent\nV3 call (attachment_update or attachment_delete)\nfor each case of terminate_connection.\n\nThe new methods are triggered by the presence of\nattachment_uuid in the BDM. This field will only\nbe present in the BDM if/when the new attachment_create\nAPI is called. Otherwise, we revert to the old APIs.\n\nThis patch introduces the new flow only in the detach call.\n\nEdge cases are handled in separate patches.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n'}, {'number': 10, 'created': '2017-04-19 20:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/96a72ac1310787b7b6cf823d6adccb3ecc2c69a6', 'message': 'Update detach to use V3 Cinder API\n\nUse the new Cinder V3 attachment delete method\nduring detach if the BDM has an attachment_id in it.\nThis will only be present in the BDM if/when the\nnew attachment_create API is called. Otherwise, we\nrevert to the old calls.\n\nEdge cases are handled in separate patches.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n'}, {'number': 11, 'created': '2017-04-20 15:13:38.000000000', 'files': ['nova/tests/unit/volume/test_cinder.py', 'nova/exception.py', 'nova/volume/cinder.py', 'nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/39e2760f3599497cd2cc76e265800a424c356a4b', 'message': 'Update detach to use V3 Cinder API\n\nUse the new Cinder V3 attachment delete method\nduring detach if the BDM has an attachment_id in it.\nThis will only be present in the BDM if/when the\nnew attachment_create API is called. Otherwise, we\nrevert to the old calls.\n\nEdge cases are handled in separate patches.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nCo-Authored-By: Steve Noyes <steve.noyes@oracle.com>\n\nChange-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd\n'}]",51,438750,39e2760f3599497cd2cc76e265800a424c356a4b,220,26,11,2243,,,0,"Update detach to use V3 Cinder API

Use the new Cinder V3 attachment delete method
during detach if the BDM has an attachment_id in it.
This will only be present in the BDM if/when the
new attachment_create API is called. Otherwise, we
revert to the old calls.

Edge cases are handled in separate patches.

Partially Implements: blueprint cinder-new-attach-apis

Co-Authored-By: Steve Noyes <steve.noyes@oracle.com>

Change-Id: I91b9a60268354ffbed86b1e7d173906cfd7b97bd
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/438750/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/volume/cinder.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py', 'nova/compute/api.py']",6,bdcc69ec0608aa8f29348ae7e7cea72e5e66bda3,bp/cinder-new-attach-apis," if bdm.attachment_uuid: self.volume_api.attachment_delete(context, bdm.attachment_uuid) else: connector = self._get_stashed_volume_connector( bdm, instance) if connector: self.volume_api.terminate_connection(context, bdm.volume_id, connector) else: LOG.debug( 'Unable to find connector for volume %s, ' 'not attempting terminate_connection.', bdm.volume_id, instance=instance) # Attempt to detach the volume. If there was no # connection made in the first place this is just # cleaning up the volume state in the Cinder DB. self.volume_api.detach(elevated, bdm.volume_id, instance.uuid) "," connector = self._get_stashed_volume_connector( bdm, instance) if connector: self.volume_api.terminate_connection(context, bdm.volume_id, connector) else: LOG.debug('Unable to find connector for volume %s, ' 'not attempting terminate_connection.', bdm.volume_id, instance=instance) # Attempt to detach the volume. If there was no connection # made in the first place this is just cleaning up the # volume state in the Cinder database. self.volume_api.detach(elevated, bdm.volume_id, instance.uuid)",152,42
openstack%2Fglance-specs~master~Iafa773eeed5f1eab2b1cbe17ae603a0fb53eb189,openstack/glance-specs,master,Iafa773eeed5f1eab2b1cbe17ae603a0fb53eb189,Glance task creates failed when setting work_dir,ABANDONED,2016-07-30 08:08:50.000000000,2017-04-23 22:04:55.000000000,,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5314}, {'_account_id': 20146}]","[{'number': 1, 'created': '2016-07-30 08:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/73902e8bfb54f6e70a1c5d6bc03bece915f2e1f9', 'message': 'Glance task creates failed when setting work_dir\n\nThis adds the spec-lite for converting path in format\n""file:///work_dir"" to ""/work_dir"" because if ""file:///work_dir""\nqemu-img fails when qemu-img-1.5.3-105.el7_2.4.x86_64.\n\nChange-Id: Iafa773eeed5f1eab2b1cbe17ae603a0fb53eb189\nPartial-Bug: #1591971\n'}, {'number': 2, 'created': '2016-07-30 08:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/45884ec4144f97af3eca605a48249ef5be41f136', 'message': 'Glance task creates failed when setting work_dir\n\nThis adds the spec-lite for converting path in format\n""file:///work_dir"" to ""/work_dir"" because if ""file:///work_dir""\nqemu-img fails when qemu-img-1.5.3-105.el7_2.4.x86_64.\n\nChange-Id: Iafa773eeed5f1eab2b1cbe17ae603a0fb53eb189\n'}, {'number': 3, 'created': '2016-08-01 01:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/1baf8a29b09519adde1a42b8922669bc24248c9e', 'message': 'Glance task creates failed when setting work_dir\n\nThis adds the spec-lite for converting path in format\n""file:///work_dir"" to ""/work_dir"" because if ""file:///work_dir""\nqemu-img fails when qemu-img-1.5.3-105.el7_2.4.x86_64.\n\nChange-Id: Iafa773eeed5f1eab2b1cbe17ae603a0fb53eb189\n'}, {'number': 4, 'created': '2016-08-05 06:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/83084c86e08db6a715f8ac043c8616b503b65f21', 'message': 'Glance task creates failed when setting work_dir\n\nThis adds the spec-lite for converting path in format\n""file:///work_dir"" to ""/work_dir"" because if ""file:///work_dir""\nqemu-img fails when qemu-img-1.5.3-105.el7_2.4.x86_64.\n\nChange-Id: Iafa773eeed5f1eab2b1cbe17ae603a0fb53eb189\n'}, {'number': 5, 'created': '2016-08-31 10:14:21.000000000', 'files': ['specs/newton/approved/glance/lite-specs.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/eab3bba39c3164c595c5b69350f3b05428531718', 'message': 'Glance task creates failed when setting work_dir\n\nThis adds the spec-lite for converting path in format\n""file:///work_dir"" to ""/work_dir"" because if ""file:///work_dir""\nqemu-img fails when qemu-img-1.5.3-105.el7_2.4.x86_64.\n\nChange-Id: Iafa773eeed5f1eab2b1cbe17ae603a0fb53eb189\n'}]",1,349174,eab3bba39c3164c595c5b69350f3b05428531718,18,4,5,20146,,,0,"Glance task creates failed when setting work_dir

This adds the spec-lite for converting path in format
""file:///work_dir"" to ""/work_dir"" because if ""file:///work_dir""
qemu-img fails when qemu-img-1.5.3-105.el7_2.4.x86_64.

Change-Id: Iafa773eeed5f1eab2b1cbe17ae603a0fb53eb189
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/74/349174/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/approved/glance/lite-specs.rst'],1,73902e8bfb54f6e70a1c5d6bc03bece915f2e1f9,bug/1591971,"Glance task creates failed when setting work_dir ------------------------------------------------ :problem: When setting the work_dir local file, the path is ""file:///work_dir"" in the taskflow of glance, if path is ""file:///work_dir"". qemu-img command failed, but if ""/work_dir"" qemu-img works well when qemu-img-1.5.3-105.el7_2.4.x86_64. :solution: Use file path like ""/work_dir"" instead of ""file:///work_dir"" to avoid that failed. :impacts: None. :timeline: Expected to be merged within the N-2 time frame. :link: https://review.openstack.org/#/c/329394/ :assignee: yuyafei End of Add `vhdx` to list of supported disk formats +++++++++++++++++++++++++++++++++++++++++++++++++++ ",,22,0
openstack%2Fglance-specs~master~I64bdf1f6ebec06e69c7039f8e9b2ca7447a8242d,openstack/glance-specs,master,I64bdf1f6ebec06e69c7039f8e9b2ca7447a8242d,Added blueprint specification for cli option detect-image-os,ABANDONED,2016-06-14 00:50:28.000000000,2017-04-23 22:04:33.000000000,,"[{'_account_id': 3}, {'_account_id': 5314}, {'_account_id': 10068}]","[{'number': 1, 'created': '2016-06-14 00:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/6ecee9280be55db1dc0064f5ca6ed4ef55c1dc89', 'message': 'Added blueprint specification for cli option detect-image-os\n\nChange-Id: I64bdf1f6ebec06e69c7039f8e9b2ca7447a8242d\n'}, {'number': 2, 'created': '2016-06-14 01:21:26.000000000', 'files': ['specs/newton/approved/glance/detect-image-os.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/39ecf8ca1bbeeb29bf776e2e3570dd67d1389d57', 'message': 'Added blueprint specification for cli option detect-image-os\n\nChange-Id: I64bdf1f6ebec06e69c7039f8e9b2ca7447a8242d\n'}]",4,329236,39ecf8ca1bbeeb29bf776e2e3570dd67d1389d57,7,3,2,22039,,,0,"Added blueprint specification for cli option detect-image-os

Change-Id: I64bdf1f6ebec06e69c7039f8e9b2ca7447a8242d
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/36/329236/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/newton/approved/glance/detect-image-os.rst'],1,6ecee9280be55db1dc0064f5ca6ed4ef55c1dc89,bp/specification,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =========================== detect-image-os =========================== https://blueprints.launchpad.net/glance/+spec/detect-image-os Currently, Image properties like version, distribution, type of os in image etc. are not available. In glance, there must be some way to determine these image properties. Thus, these determined properties can be used for os placement at the time of instance creation. Problem description =================== Using libguestFS, we can determine the OS Type, Distribution, and Version of glance images, and then add this information to the image's properties metadata to aid in instance placement (Like Windows on Hyper-V), aid in billing (List instances using premium OS) or allow users to see all images of a certain os type regardless of name. Use Cases --------- Major use cases are determine image properties of new image, determine image properties of existing images from image store, case where these image properties are already known to user. End users as well as openstack administrator are able to get extra properties of images. Proposed change =============== The command line call, ""detect-image-os"", will be written to determine extra properties of glance images in glance shell.py file. This CLI will call libguestFS function to determine extra-properties of glance images. Alternatives ------------ Nothing Data model impact ----------------- Nothing REST API impact --------------- Rest call used see image properties (GET /v2/schemas/image) will display extra properties of image like type, OS, Distribution etc. Security impact --------------- libguestfs requires the sudo privileges for determining extra properties. Notifications impact -------------------- Nothing Other end user impact --------------------- End user is able to see extra properties of image after glance image-create call and also by using glance image-show image_id call on command line. End user will also be able to use glance-detect-os cli option. On Images tab of Openstack, these extra properties are listed under custom properties section on image details along with existing image properties. Performance Impact ------------------ None Other deployer impact --------------------- Developer impact ---------------- Developer would be able to access these extra properties like Type, Distribution etc. Implementation ============== Assignee(s) ----------- Primary assignee: adambure21 Work Items ---------- Determine image properties of new images after image uploading. Determine image properties for existing images Determine image properties for images stored other than local file system like swift Dependencies ============ It requires library libguestfs for determining image extra properties. Testing ======= The glance-detect-os call requires unit and integration testing. Documentation Impact ==================== The cli option for glance-detect-os will take image-id and determine extra-properties. The documentation regarding this will also need updation. Cli option glance image-show, after completion of command will show extra image properties. The openstack dashboard will also show these extra properties under custom properties section of images tab. References ========== History ======= ",,114,0
openstack%2Fglance-specs~master~Ic3878261fcbfbd40ef36d42f662b706b80759392,openstack/glance-specs,master,Ic3878261fcbfbd40ef36d42f662b706b80759392,Glance purge to keep deleted IDs,ABANDONED,2016-09-21 08:39:39.000000000,2017-04-23 22:03:04.000000000,,"[{'_account_id': 3}, {'_account_id': 455}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6754}, {'_account_id': 8158}, {'_account_id': 22448}, {'_account_id': 23272}]","[{'number': 1, 'created': '2016-09-21 08:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/af75ae00b5849b1ee6612f071dad4fc26079e903', 'message': 'Glance purge to keep deleted IDs\n\nSpec for modifying glance-manage db purge to not delete Glance\nimage IDs by default. Using --insecure will delete the image IDs.\n\nChange-Id: Ic3878261fcbfbd40ef36d42f662b706b80759392\n'}, {'number': 2, 'created': '2016-09-21 14:31:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/5abd7a56fa5699b21b2ff9b3ccf8a372e7b1d6aa', 'message': 'Glance purge to keep deleted IDs\n\nSpec for modifying glance-manage db purge to not delete Glance\nimage IDs by default. Using --insecure will delete the image IDs.\n\nChange-Id: Ic3878261fcbfbd40ef36d42f662b706b80759392\n'}, {'number': 3, 'created': '2016-09-26 14:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ca7e4f3a319ca8f06a9e5423f2973b8bc97c0b78', 'message': 'Glance purge to keep deleted IDs\n\nSpec for modifying glance-manage db purge to not delete Glance\nimage IDs by default. Using --insecure will delete the image IDs.\n\nAdded another alternative to add a policy.\n\nChange-Id: Ic3878261fcbfbd40ef36d42f662b706b80759392\n'}, {'number': 4, 'created': '2016-10-14 10:38:14.000000000', 'files': ['specs/ocata/approved/glance/glance-purge-keep-deleted-ids.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ee8407aa6ad9eda1d4c3844e60bddb48feeda4e4', 'message': 'Glance purge to keep deleted IDs\n\nSpec for modifying glance-manage db purge to not delete Glance\nimage IDs by default. Using --insecure will delete the image IDs.\n\nAdded another alternative to add a policy.\nAdded Erno Kuvaja as a Core reviewer.\nAdded documentation work item.\n\nChange-Id: Ic3878261fcbfbd40ef36d42f662b706b80759392\n'}]",14,373896,ee8407aa6ad9eda1d4c3844e60bddb48feeda4e4,25,8,4,23272,,,0,"Glance purge to keep deleted IDs

Spec for modifying glance-manage db purge to not delete Glance
image IDs by default. Using --insecure will delete the image IDs.

Added another alternative to add a policy.
Added Erno Kuvaja as a Core reviewer.
Added documentation work item.

Change-Id: Ic3878261fcbfbd40ef36d42f662b706b80759392
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/96/373896/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/glance/glance-purge-keep-deleted-ids.rst'],1,af75ae00b5849b1ee6612f071dad4fc26079e903,feature/ossn-0075,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ====================================== Glance purge to keep deleted image IDs ====================================== OpenStack Glance is currently vulnerable to deleted image IDs being reassigned to other images. Providing a fix for this vulnerability will prevent modified (potentially malicious) images being used by users who may not be notified about it. Problem description =================== `<https://wiki.openstack.org/wiki/OSSN/OSSN-0075>`_ Glance keeps record of all images created in an images table. When images are deleted, the record of the image is not removed from the table but instead marked as deleted. These records may be removed using 'glance-manage db purge' or manually by an administrator. If these records are removed, a malicious user may intentionally upload a new image using the same ID (Glance allows an image creator to optionally specify the image ID). This would cause any victim using an image with the ID to use an attacker supplied image. Proposed change =============== The initial implementation will prevent purge from deleting image IDs from the Glance database. When using 'glance-manage db purge' all information associated with deleted Glance images will be removed excluding its ID. This will prevent the image ID being reassigned. This change will also include the option to forcefully purge image IDs by specifying the --insecure option ('glance-manage --insecure db purge'). Using this option will allow for backwards compatibility were needed. Alternatives ------------ An alternative to preventing the image IDs being deleted by default is to display a warning for using the purge command. Bypassing this message would require use of the --insecure option which will purge the system as normal. Another alternative to modifying purge is to use a retired IDs table. This table would be dynamically updated with image IDs which have been publicized or shared. Purging the Glance database will not modify this table. When creating an image in Glance, if the retired IDs table contains the ID of the new image to create then it will fail. This will prevent publicized/shared image IDs being reassigned. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- Administrators can use the purge utility with the --insecure option to remove deleted images and the IDs. Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: darrenswhite95 Other contributors: None Reviewers --------- Core reviewer(s): None Other reviewer(s): None Work Items ---------- - Change current purge functionality to require --insecure. - Add new purge functionaility (without --insecure) which will not delete image IDs. - Test purge in DevStack. Dependencies ============ None Testing ======= - The current tests for purge will need to be modified. - Tests for purge with --insecure will need to be added. Documentation Impact ==================== Documentation of the --insecure option will need to be added. The current purge documentation will need to be changed. References ========== [0] https://wiki.openstack.org/wiki/OSSN/OSSN-0075 ",,152,0
openstack%2Fglance-specs~master~I60cdf40ae681b2a93752adc5f82fea8f8fb40826,openstack/glance-specs,master,I60cdf40ae681b2a93752adc5f82fea8f8fb40826,Expand disk_formats with 'qed' format,ABANDONED,2017-02-22 11:02:41.000000000,2017-04-23 22:00:28.000000000,,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 6159}, {'_account_id': 6484}, {'_account_id': 8158}, {'_account_id': 12000}, {'_account_id': 12807}, {'_account_id': 18791}, {'_account_id': 21722}]","[{'number': 1, 'created': '2017-02-22 11:02:41.000000000', 'files': ['specs/ocata/approved/glance/lite-specs.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/f043befd84977ef3d1115a05d04ac9f8bd9fd456', 'message': ""Expand disk_formats with 'qed' format\n\nQED[1] is an image format (like qcow2, vmdk, etc) that\nsupports backing files and sparse images.\n[1]http://wiki.qemu.org/Features/QED\n\nChange-Id: I60cdf40ae681b2a93752adc5f82fea8f8fb40826\nCloses-Bug: #1656215\n""}]",0,436874,f043befd84977ef3d1115a05d04ac9f8bd9fd456,4,11,1,20146,,,0,"Expand disk_formats with 'qed' format

QED[1] is an image format (like qcow2, vmdk, etc) that
supports backing files and sparse images.
[1]http://wiki.qemu.org/Features/QED

Change-Id: I60cdf40ae681b2a93752adc5f82fea8f8fb40826
Closes-Bug: #1656215
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/74/436874/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/ocata/approved/glance/lite-specs.rst'],1,f043befd84977ef3d1115a05d04ac9f8bd9fd456,bug/1656215," Add `qed` to the list of supported disk formats ----------------------------------------------- :problem: Currently 'qed' format is not among supported by default disk formats, even though it's been supported by QEMU 0.14 since 2010-12-17. :solution: `disk_formats` configuration option needs to be updated to add 'qed' as one of the supported format. :impacts: This will have documentation impact. Release note should be added to notify interested parties about this addition. :timeline: Expected to be merged within the O-2 time frame. :link: https://review.openstack.org/#/c/430019/ :assignee: yuyafei End of Add `qed` to list of supported disk formats ++++++++++++++++++++++++++++++++++++++++++++++++++",,21,0
openstack%2Fglance-specs~master~Ia327898bf3da50a9c1b70726c5ec5099a64fc7bf,openstack/glance-specs,master,Ia327898bf3da50a9c1b70726c5ec5099a64fc7bf,Allow random image access from cache,ABANDONED,2017-03-08 20:07:18.000000000,2017-04-23 21:55:38.000000000,,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8158}, {'_account_id': 12807}, {'_account_id': 21722}]","[{'number': 1, 'created': '2017-03-08 20:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/2aca7968ce0f9e3b7502d3a67e27d9735f90b8ea', 'message': 'Allow random image access from cache\n\nThis patch adds a lite-spec proposing the inclusion of cache intelligence to\nserve partial image download requests from cache.\n\nChange-Id: Ia327898bf3da50a9c1b70726c5ec5099a64fc7bf\n'}, {'number': 2, 'created': '2017-03-08 20:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/5b8d64e47ef662da66d6234b35873b3b3afbeb9d', 'message': 'Allow random image access from cache\n\nThis patch adds a lite-spec proposing the inclusion of cache intelligence to\nserve partial image download requests from cache.\n\nDepends-On: I3586c4eda0c36392d3436980f766ed1dd910b47c\nChange-Id: Ia327898bf3da50a9c1b70726c5ec5099a64fc7bf\n'}, {'number': 3, 'created': '2017-04-05 21:24:25.000000000', 'files': ['specs/pike/approved/glance/lite-specs.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/78f0c71baa7a5cbc42a917331d1e4cb6e04dd12a', 'message': 'Allow random image access from cache\n\nThis patch adds a lite-spec proposing the inclusion of cache intelligence to\nserve partial image download requests from cache.\n\nDepends-On: I3586c4eda0c36392d3436980f766ed1dd910b47c\nChange-Id: Ia327898bf3da50a9c1b70726c5ec5099a64fc7bf\n'}]",12,443304,78f0c71baa7a5cbc42a917331d1e4cb6e04dd12a,23,6,3,21722,,,0,"Allow random image access from cache

This patch adds a lite-spec proposing the inclusion of cache intelligence to
serve partial image download requests from cache.

Depends-On: I3586c4eda0c36392d3436980f766ed1dd910b47c
Change-Id: Ia327898bf3da50a9c1b70726c5ec5099a64fc7bf
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/04/443304/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/glance/lite-specs.rst'],1,2aca7968ce0f9e3b7502d3a67e27d9735f90b8ea,cache-random-image-access,"Support random image access from cache -------------------------------------- :problem: When a request for a random image access (partial download) is obtained with cache enabled, glance cache does not serve the image from cache irrespective of whether the image is cached or not. The request proceeds to the glance root app every time. :solution: Teach glance cahce to do the following: 1) If the image is already cached, serve the requested bytes alone from cache. 2) If the image is not cached, cache the entire image, but serve the requested bytes from the store via the glance root app. (tee-iterator like behavior) :impacts: Users trying partial downloads with cache enabled will experience better performance as we avoid a fetch from the store. :timeline: Pike-1 :assignee: dharinic End of `Support random image access from cache` +++++++++++++++++++++++++++++++++++++++++++++++ ",,23,0
openstack%2Fglance-specs~master~I1af94d0ab7285e4c888a4992317aa4898b722aaf,openstack/glance-specs,master,I1af94d0ab7285e4c888a4992317aa4898b722aaf,Add Glance Task Instrumentation point,ABANDONED,2017-03-10 23:04:03.000000000,2017-04-23 21:54:06.000000000,,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 12807}, {'_account_id': 21722}]","[{'number': 1, 'created': '2017-03-10 23:04:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/734a727ae357d74d5757788d9884f0f9655ac519', 'message': 'Add Glance Task Instrumentation point\n\nHost-specific Instrumentation for # of Tasks running is needed to\nsafely perform upgrades without downtime or interrupted service.\nThis lite spec outlines the problem and highlights implementation\nconcerns related to the implementation.\n\nThis does depend on Introducing Glance Taskflow Stopfiles as\ndescribed in Change I1ee3904a37adbbc700eecbbe131e53694eb17903\n\nChange-Id: I1af94d0ab7285e4c888a4992317aa4898b722aaf\n'}, {'number': 2, 'created': '2017-04-04 17:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/5e660cfc3b704f4750202519b9b2eb85fdd7980d', 'message': 'Add Glance Task Instrumentation point\n\nHost-specific Instrumentation for # of Tasks running is needed to\nsafely perform upgrades without downtime or interrupted service.\nThis lite spec outlines the problem and highlights implementation\nconcerns related to the implementation.\n\nThis does depend on Introducing Glance Taskflow Stopfiles as\ndescribed in Change I1ee3904a37adbbc700eecbbe131e53694eb17903\n\nChange-Id: I1af94d0ab7285e4c888a4992317aa4898b722aaf\n'}, {'number': 3, 'created': '2017-04-04 17:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/66499c45e68d577d82d08aa06725e9166c6406e7', 'message': 'Add Glance Task Instrumentation point\n\nHost-specific Instrumentation for # of Tasks running is needed to\nsafely perform upgrades without downtime or interrupted service.\nThis lite spec outlines the problem and highlights implementation\nconcerns related to the implementation.\n\nThis does depend on Introducing Glance Taskflow Stopfiles as\ndescribed in Change I1ee3904a37adbbc700eecbbe131e53694eb17903\n\nChange-Id: I1af94d0ab7285e4c888a4992317aa4898b722aaf\n'}, {'number': 4, 'created': '2017-04-04 17:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/e415a637ba06f75961c6bf05c7de8dc5e5cf9380', 'message': 'Add Glance Task Instrumentation point\n\nHost-specific Instrumentation for # of Tasks running is needed to\nsafely perform upgrades without downtime or interrupted service.\nThis lite spec outlines the problem and highlights implementation\nconcerns related to the implementation.\n\nThis does depend on Introducing Glance Taskflow Stopfiles as\ndescribed in Change I1ee3904a37adbbc700eecbbe131e53694eb17903\n\nChange-Id: I1af94d0ab7285e4c888a4992317aa4898b722aaf\n'}, {'number': 5, 'created': '2017-04-04 17:58:38.000000000', 'files': ['specs/pike/approved/glance/lite-specs.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a575dc7109b02793b8bc7d90d99fe434385192cc', 'message': 'Add Glance Task Instrumentation point\n\nHost-specific Instrumentation for # of Tasks running is needed to\nsafely perform upgrades without downtime or interrupted service.\nThis lite spec outlines the problem and highlights implementation\nconcerns related to the implementation.\n\nThis does depend on Introducing Glance Taskflow Stopfiles as\ndescribed in Change I1ee3904a37adbbc700eecbbe131e53694eb17903\n\nChange-Id: I1af94d0ab7285e4c888a4992317aa4898b722aaf\n'}]",6,444530,a575dc7109b02793b8bc7d90d99fe434385192cc,17,6,5,12807,,,0,"Add Glance Task Instrumentation point

Host-specific Instrumentation for # of Tasks running is needed to
safely perform upgrades without downtime or interrupted service.
This lite spec outlines the problem and highlights implementation
concerns related to the implementation.

This does depend on Introducing Glance Taskflow Stopfiles as
described in Change I1ee3904a37adbbc700eecbbe131e53694eb17903

Change-Id: I1af94d0ab7285e4c888a4992317aa4898b722aaf
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/30/444530/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/glance/lite-specs.rst'],1,734a727ae357d74d5757788d9884f0f9655ac519,tasks-running,"Instrument Glance Running Tasks ------------------------------- :problem: When preparing to upgrade a Glance node is it necessary to allow long-running Tasks to complete without interruption which would result in failure. Operators cannot reliably and conveniently check to see if a Task is running on a given node. :solution: Introduce a process-level instrumentation point for Glance to emit the number of tasks being processed. When combined with a preceeding lite-spec ('Introduce Glance Taskflow stopfile feature') an operator will be able to set the stopfile and monitor this instrumentation point, waiting until the Tasks running reports 0 tasks running with a timestamp later than the stopfile. At this point the operator can be sure that there are not Tasks running on the node, and the node can safely be upgraded without disrupting user operations. The instrumentation point should not run with or require elevated privileges, and it should not complicate service installation steps. Instrumentation should allow an operator to map the instrumentation to a specific python process on the host to ensure multiple Taskflow processes can be run on a single host. With each of these considerations in mind, a named pipe is a strong choice for implementation. The named pipe should probably reopen the file on each emit with a mode including O_TRUNC to ensure a low impact over time and each emit should include a timestamp and an integer representing the number of running tasks. The named pipe might include the process number as at least a part of the name to link it clearly to the process. Configuration items may be introduced as needed. `End of` Instrument Glance Running Tasks ++++++++++++++++++++++++++++++++++++++++ ",,35,0
openstack%2Fglance-specs~master~I000a67bc670f22d8b12d4ce0271b435ba8d6c2b3,openstack/glance-specs,master,I000a67bc670f22d8b12d4ce0271b435ba8d6c2b3,Adopt Guru Meditation report,ABANDONED,2017-03-16 12:49:24.000000000,2017-04-23 21:53:27.000000000,,"[{'_account_id': 3}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 8158}]","[{'number': 1, 'created': '2017-03-16 12:49:24.000000000', 'files': ['specs/pike/approved/glance/lite-specs.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/cc66258ec91115297b9ef489a4723af8af6bbe3e', 'message': 'Adopt Guru Meditation report\n\nOslo_reports enables OpenStack projects to dump Guru Meditation\nReports with useful debugging information to files or stderr.\nSo we introduce it into glance.\n\nChange-Id: I000a67bc670f22d8b12d4ce0271b435ba8d6c2b3\nImplements: blueprint guru-meditation-report\n'}]",5,446502,cc66258ec91115297b9ef489a4723af8af6bbe3e,11,4,1,24883,,,0,"Adopt Guru Meditation report

Oslo_reports enables OpenStack projects to dump Guru Meditation
Reports with useful debugging information to files or stderr.
So we introduce it into glance.

Change-Id: I000a67bc670f22d8b12d4ce0271b435ba8d6c2b3
Implements: blueprint guru-meditation-report
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/02/446502/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/glance/lite-specs.rst'],1,cc66258ec91115297b9ef489a4723af8af6bbe3e,bp/guru-meditation-report,"Adopt Guru Meditation report ---------------------------- :problem: Add support for Guru Meditation Reports for glance. :solution: Oslo_reports enables OpenStack projects to dump Guru Meditation Reports with useful debugging information to files or stderr. So we introduce it into glance. :impacts: None. :link: Change-Id: `I3dfbe5bbb6cc214d4686e661e0327137b439a7c5 <https://review.openstack.org/#q,I3dfbe5bbb6cc214d4686e661e0327137b439a7c5,n,z>`_ :assignee: wangzhenyu End of `Adopt Guru Meditation report` +++++++++++++++++++++++++++++++++++++ ",,20,0
openstack%2Fglance-specs~master~Ibb0d9652c259914698edceb06358e5ed6f7bbace,openstack/glance-specs,master,Ibb0d9652c259914698edceb06358e5ed6f7bbace,Remove show_multiple_locations option,ABANDONED,2017-03-28 08:21:10.000000000,2017-04-23 21:35:13.000000000,,"[{'_account_id': 3}, {'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 12807}, {'_account_id': 21722}]","[{'number': 1, 'created': '2017-03-28 08:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/2fd259ea52c0542e46dcda8323e5c176d31a1d77', 'message': 'Remove show multiple locations option\n\nChange-Id: Ibb0d9652c259914698edceb06358e5ed6f7bbace\nCo-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>\nCo-Authored-By: Dharini Chandrasekar <dharini.chandrasekar@intel.com>\n'}, {'number': 2, 'created': '2017-03-30 17:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/542dd15b8d32c12d4e219b5f64a27faf1976ca9e', 'message': 'Remove show multiple locations option\n\nChange-Id: Ibb0d9652c259914698edceb06358e5ed6f7bbace\nCo-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>\nCo-Authored-By: Dharini Chandrasekar <dharini.chandrasekar@intel.com>\n'}, {'number': 3, 'created': '2017-03-30 17:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/f8270664dbb398926525072e4784da00431f6d40', 'message': 'Remove show_multiple_locations option\n\nThis patch includes a spec that talks about removing the\nconfiguration option ``show_multiple_locations`` (which was\ndeprecated in Newton) in favor of Role Based Access Control\nfor any image location related actions.\n\nCo-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>\nCo-Authored-By: Dharini Chandrasekar <dharini.chandrasekar@intel.com>\n\nChange-Id: Ibb0d9652c259914698edceb06358e5ed6f7bbace\n'}, {'number': 4, 'created': '2017-04-03 18:25:06.000000000', 'files': ['specs/pike/approved/glance/policies-over-show-multiple-locations.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/973d9070c6e627db437242db52d4c46fcc2ff03e', 'message': 'Remove show_multiple_locations option\n\nThis patch includes a spec that talks about removing the\nconfiguration option ``show_multiple_locations`` (which was\ndeprecated in Newton) in favor of Role Based Access Control\nfor any image location related actions.\n\nCo-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>\nCo-Authored-By: Dharini Chandrasekar <dharini.chandrasekar@intel.com>\n\nChange-Id: Ibb0d9652c259914698edceb06358e5ed6f7bbace\n'}]",18,450621,973d9070c6e627db437242db52d4c46fcc2ff03e,17,6,4,2537,,,0,"Remove show_multiple_locations option

This patch includes a spec that talks about removing the
configuration option ``show_multiple_locations`` (which was
deprecated in Newton) in favor of Role Based Access Control
for any image location related actions.

Co-Authored-By: Nikhil Komawar <nik.komawar@gmail.com>
Co-Authored-By: Dharini Chandrasekar <dharini.chandrasekar@intel.com>

Change-Id: Ibb0d9652c259914698edceb06358e5ed6f7bbace
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/21/450621/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/glance/policies-over-show-multiple-locations.rst'],1,2fd259ea52c0542e46dcda8323e5c176d31a1d77,remove-show-multiple-locations-option,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================== Using policies instead of show multiple locations option ======================================================== Glance has traditionally avoided the exposure of senstive locations information to the user using a top level switch of ``show_multiple_locations`` configuration option. However, there is another way operators can choose to control the fine grained access to the locations, using policies. This spec proposes a scheme where the use of later will be the only way for glance team to support this feature. Registered blueprint for tracking:- https://blueprints.launchpad.net/glance/+spec/policies-over-show-multiple-locations There will NOT be any of the following: * APIImpact * SecurityImpact There will be all of the following: * DocImpact * UpgradeImpact Additionally some of the bugs (including security bugs) reported previously and having a OSSN associated with them, have emerged out of incorrect or inadvertent use of the ``show_multiple_locations`` configuration option for the end users. This change will help relieve some pain caused by them and operators will be able to assert on the outcome of the results based on more practical policy based control. Problem description =============== Glance has two ways to control mutliple locations feature use for users (irrespective of their roles in keystone) viz. ``show_multiple_locations`` configuration option and default policies (or in general any policy) set up using the policy.json file (stored under the ``etc`` folder in glance repo for devstack and vanilla deployments). This results into confusion for operators, glance developers, other openstack projects alike for having a coherent way to assess the viability of using this feature without breaking changes. Most often the breaking changes are security or privacy issues exposing sensitive location data. One such example is OSSN-0065. Nevertheless, the ramifications of turning on the config option (i.e. ``show_multiple_locations=True``) are not unknown. Glance team needs a definitive way to support exposing the sensitive locations to the concerned openstack projects wihout affecting the standard deployment model (which considers in-tree policy setup) for setting up end user public, private and hybrid clouds. A few more things to note:- * ``show_multiple_locations`` configuration option has been deprecated in Newton * Minimal policy based support exists for exposing locations * There are a few teams like Ironic, sub-set of Nova virt drivers, Heat, Horizon, etc. who may need access to location information and/or ability to control that information for a smoother upgrade experience * This will affect all those deployments who run with noauth but we do not expect such deployments to use this feature in the first place or if they do use we do not expect them to worry about privacy or security issues Proposed change =============== * ``show_multiple_locations`` configuration option will be removed from the glance source tree including tests, documentation, notes, etc. * ``show_multiple_locations`` configuration option will be asked to be removed from the devstack gates, devstack feature branches (like one for ceph) * ``policy.json`` file in glance source tree will be modified to set the following defaults:- - ""get_image_location"": ""role:admin"" - ""set_image_location"": ""role:admin"" - ""delete_image_location"": ""role:admin"" * There are numerous instances where image locations are being modified. For example, the simplest cases are image-create (upload and activate), image-update, etc. In many cases, image locations are being used underneath and the access restrictions implied indirectly affect those features * Notification system may need to be realigned to accomodate for locations being publicly exposed in those cases for a complete support for indexing and consumer services like Searchlight * Instead of the ``show_multiple_locations`` configuration option, now opt ``store_type_location_strategy`` will need to depend on the values set in the policy making it a difficult operator experience * Testing and setting up of scrubber could be conveniently done before by enabling the configuration option. Now, however, we will need to explicitly change the policies for the same to be able to successfully get and scrub all locations associated with an image * A significant change will be made to refactor the 'ImageLocationsProxy' class to work with the add, remove, replace and delete(same as ""remove"") operations at the top level v2 API images controller - all changes TBA Alternatives ------------ 1. The cleanest approach to produce code that will keep things consistent with current behavior , address any security concerns over default values and yet will not affect the different features like upload, download will be by making modification at the api.policy module by adding more granularity to the ImageProxy location methods and tuning ImageLocationsProxy class accordingly. Then minor code modifications may be needed at the v2 images API module that will keep the current behaviour consistent with 2. # Remove the configuration option “show_multiple_locations” from glance source tree including tests, documentations, notes, etc. # Edit the rules in policy.json to as follows: ""get_image_location"": """" ""set_image_location"": """" ""delete_image_location"": ""role:admin"" These set of rules will allow anybody who has the permissions, to add image locations and view image locations. However replacing and removing of locations will be restricted to admin only. Remove/replace Only admin role will be able to “replace” or “remove” any image location. This adds security to the current behavior by making sure that seeing image locations does not mean possessing the ability to modify it. Add In case of adding an image location, to preserve the current behavior, it is required that anyone who is allowed to create an image and upload image data, has permissions to set the initial location for that image too. With the above mentioned rules, this will be preserved. We will not have the need to differentiate an end-user location update request from Glance’s side-effect location update request (location set during image upload). In other words, if someone has permission to create an image and upload image data, he/she will have the permission to set (add, and ONLY add) initial and subsequent locations for it. However, currently, with the configuration option, even someone (an end-user) who had the required permissions could choose to restrain from updating image locations by setting the config option to False. We remove that choice here. Get Preserving current behavior, the response will NOT include the ""locations"" field if there is no ”get_image_locations"" permission. This is what was done if ""show_multiple_locations"" was set to False. However, with the configuration option, one could choose whether they wanted their response to include the locations irrespective of the policy rules. We remove the choice and display locations to anybody who has the right permission. This will also preserve the current behaviour of the configuration option ""show_image_direct_url"" as it depends on the policy rule ""get_image_locations"" too. 3. Do not remove this opt and revert back the deprecated option to standard one. The devstack gates, standard testing etc. will assume this feature is disabled by default even for operators. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None (for now) Other end user impact --------------------- TBA Performance Impact ------------------ Policy checks on each image location can result into a slower API experience especially if there are 100s of locations and user lists for images in case where they have many such images and operator has set high list on number of images per list. Other deployer impact --------------------- TBA Developer impact ---------------- Significant (TBA) Implementation ============== Assignee(s) ----------- Primary assignee: dharinic Other contributors: nikhil Work Items ---------- TBA Dependencies ============ None Testing ======= * Nothing to be added * Need to discuss how existing tests will behave (TBA) Documentation Impact ==================== Plenty References ========== Should be a few :-) ",,240,0
openstack%2Ftrove~master~I3d6f6649430ee40879de15fee0b215dc32e8b666,openstack/trove,master,I3d6f6649430ee40879de15fee0b215dc32e8b666,fix-gate: change trove auth URL's to reflect new URL settings,MERGED,2017-04-19 14:21:48.000000000,2017-04-23 21:14:49.000000000,2017-04-23 21:14:48.000000000,"[{'_account_id': 3}, {'_account_id': 5293}, {'_account_id': 9664}, {'_account_id': 10215}, {'_account_id': 25632}]","[{'number': 1, 'created': '2017-04-19 14:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f1027f9bffd6ce9c4c2a5cc7b7189c8eff637bb0', 'message': 'fix-gate: trove_auth_url not set for trove API service\n\nWith the change to keystone uWSGI by default in the gate, we have\nexposed the fact that the default settings in the trove devstack\nplugin failed to properly initialize trove_auth_url for the API\nservice.\n\nChange-Id: I3d6f6649430ee40879de15fee0b215dc32e8b666\n'}, {'number': 2, 'created': '2017-04-19 15:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/c1cd1050825980f73d4e0b9c0c1785847e1bbf1e', 'message': 'fix-gate: trove_auth_url not set for trove API service\n\nWith the change to keystone uWSGI by default in the gate, we have\nexposed the fact that the default settings in the trove devstack\nplugin failed to properly initialize trove_auth_url for the API\nservice.\n\nChange-Id: I3d6f6649430ee40879de15fee0b215dc32e8b666\n'}, {'number': 3, 'created': '2017-04-20 02:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0daaf944dc10f6987661ad250e25ef6f4e14d2e9', 'message': 'fix-gate: trove_auth_url not set for trove API service\n\nWith the change to keystone uWSGI by default in the gate, we have\nexposed the fact that the default settings in the trove devstack\nplugin failed to properly initialize trove_auth_url for the API\nservice.\n\nAlso adjust changes in trove test.conf so the current trove\ncompatclient can get to the right keystone.\n\nChange-Id: I3d6f6649430ee40879de15fee0b215dc32e8b666\n'}, {'number': 4, 'created': '2017-04-20 10:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a8dcc6c51ff65f232d4a6fd44237f473b52845b1', 'message': ""fix-gate: change trove auth URL's to reflect new keystone settings\n\nTrove's code was setup to use :5000 and :35357 for keystone's auth end\npoints. Change that to reflect the new settings that are /identity/\nand /identity_admin/. See also [1].\n\n[1] https://review.openstack.org/#/c/456344/\n\nChange-Id: I3d6f6649430ee40879de15fee0b215dc32e8b666\nRelated: I46294fb24e3c23fa19fcfd7d6c9ee8a932354702\n""}, {'number': 5, 'created': '2017-04-22 12:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7cc7d65c728939ee306a425c6b4097cb4962005e', 'message': ""fix-gate: change trove auth URL's to reflect new URL settings\n\nTrove's code was setup to use :5000 and :35357 for keystone's auth end\npoints. Change that to reflect the new settings that are /identity/\nand /identity_admin/. See also [1].\n\n[1] https://review.openstack.org/#/c/456344/\n\nChange-Id: I3d6f6649430ee40879de15fee0b215dc32e8b666\nRelated: I46294fb24e3c23fa19fcfd7d6c9ee8a932354702\n""}, {'number': 6, 'created': '2017-04-23 00:17:15.000000000', 'files': ['etc/trove/trove.conf.test', 'integration/scripts/conf/test_begin.conf', 'devstack/plugin.sh', 'etc/trove/trove.conf.sample', 'etc/trove/api-paste.ini.test', 'trove/tests/config.py', 'etc/trove/trove-conductor.conf.sample', 'integration/scripts/trovestack', 'trove/common/cfg.py', 'etc/trove/trove-taskmanager.conf.sample', 'integration/tests/examples/examples/local.conf', 'install-guide/source/common_configure.txt'], 'web_link': 'https://opendev.org/openstack/trove/commit/191e3036e1384efc3438487674a442e43503999a', 'message': ""fix-gate: change trove auth URL's to reflect new URL settings\n\nTrove's code was setup to use :5000 and :35357 for keystone's auth end\npoints. Change that to reflect the new settings that are /identity/\nand /identity_admin/. See also [1]\n\n[1] https://review.openstack.org/#/c/456344/\n\nChange-Id: I3d6f6649430ee40879de15fee0b215dc32e8b666\nRelated: I46294fb24e3c23fa19fcfd7d6c9ee8a932354702\n""}]",0,458103,191e3036e1384efc3438487674a442e43503999a,54,5,6,9664,,,0,"fix-gate: change trove auth URL's to reflect new URL settings

Trove's code was setup to use :5000 and :35357 for keystone's auth end
points. Change that to reflect the new settings that are /identity/
and /identity_admin/. See also [1]

[1] https://review.openstack.org/#/c/456344/

Change-Id: I3d6f6649430ee40879de15fee0b215dc32e8b666
Related: I46294fb24e3c23fa19fcfd7d6c9ee8a932354702
",git fetch https://review.opendev.org/openstack/trove refs/changes/03/458103/3 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,f1027f9bffd6ce9c4c2a5cc7b7189c8eff637bb0,fix-gate, iniset $TROVE_CONF DEFAULT trove_auth_url $TROVE_AUTH_ENDPOINT,,1,0
openstack%2Frequirements~master~Ib11cc8c3da7465e8be744343daecc83f54e51f59,openstack/requirements,master,Ib11cc8c3da7465e8be744343daecc83f54e51f59,Updated from generate-constraints,MERGED,2017-04-22 08:16:43.000000000,2017-04-23 20:40:07.000000000,2017-04-23 20:40:07.000000000,"[{'_account_id': 3}, {'_account_id': 6593}]","[{'number': 1, 'created': '2017-04-22 08:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/58fd41ed4d8e9e382e4416215deda5f56ce58c8c', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib11cc8c3da7465e8be744343daecc83f54e51f59\n'}, {'number': 2, 'created': '2017-04-23 08:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3b008028fda6d9b60287cc94c01305e13b2cde2d', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib11cc8c3da7465e8be744343daecc83f54e51f59\n'}, {'number': 3, 'created': '2017-04-23 15:14:01.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/f5bd48a0d7ee5d97968ec020eae3c130b1a3fc9b', 'message': 'Updated from generate-constraints\n\nChange-Id: Ib11cc8c3da7465e8be744343daecc83f54e51f59\n'}]",0,459046,f5bd48a0d7ee5d97968ec020eae3c130b1a3fc9b,11,2,3,11131,,,0,"Updated from generate-constraints

Change-Id: Ib11cc8c3da7465e8be744343daecc83f54e51f59
",git fetch https://review.opendev.org/openstack/requirements refs/changes/46/459046/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,58fd41ed4d8e9e382e4416215deda5f56ce58c8c,openstack/requirements/constraints,sphinxcontrib-actdiag===0.8.5sphinxcontrib-nwdiag===0.9.5eventlet===0.21.0python-zunclient===0.1.0 tzlocal===1.4 python-novaclient===8.0.0os-brick===1.12.0nwdiag===1.0.4selenium===3.4.0tooz===1.55.0kubernetes===2.0.0a1botocore===1.5.43Django===1.9.13openstacksdk===0.9.15zope.interface===4.4.0actdiag===0.5.4,eventlet===0.20.1tzlocal===1.3 python-novaclient===7.1.0os-brick===1.11.0selenium===3.3.3tooz===1.54.0kubernetes===1.0.0botocore===1.5.42Django===1.8.18openstacksdk===0.9.14zope.interface===4.3.3python-zunclient===0.1.0 sphinxcontrib-actdiag===0.8.5 sphinxcontrib-nwdiag===0.9.5 actdiag===0.5.4 nwdiag===1.0.4,16,16
openstack%2Fovsdbapp~master~I9105ddc326d5db49273ff87130abee839146c7f8,openstack/ovsdbapp,master,I9105ddc326d5db49273ff87130abee839146c7f8,Break out BaseCommand into backend.ovs_idl,MERGED,2017-04-21 20:26:56.000000000,2017-04-23 19:44:36.000000000,2017-04-23 19:44:36.000000000,"[{'_account_id': 3}, {'_account_id': 7787}, {'_account_id': 9656}]","[{'number': 1, 'created': '2017-04-21 20:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/461794c387f6f7e0ff23194c44a9a38f78c23dd2', 'message': ""Break out BaseCommand into backend.ovs_idl\n\nThe BaseCommand class is not Open_vSwitch schema-specific and is\nused by OVN, therefor it should live under backend.ovs_idl. A\nreference to BaseCommand is left in schema.open_vswitch.impl_idl\nas a caution, since Neutron's impl_idl.py references it from there.\n\nChange-Id: I9105ddc326d5db49273ff87130abee839146c7f8\n""}, {'number': 2, 'created': '2017-04-21 20:50:58.000000000', 'files': ['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/schema/open_vswitch/commands.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/70e4daa1eae8ca3f73cfef90a52e4c2939eb7255', 'message': ""Break out BaseCommand into backend.ovs_idl\n\nThe BaseCommand class is not Open_vSwitch schema-specific and is\nused by OVN, therefor it should live under backend.ovs_idl. A\nreference to BaseCommand is left in schema.open_vswitch.impl_idl\nas a caution, since Neutron's impl_idl.py references it from there.\n\nChange-Id: I9105ddc326d5db49273ff87130abee839146c7f8\n""}]",0,458960,70e4daa1eae8ca3f73cfef90a52e4c2939eb7255,9,3,2,5756,,,0,"Break out BaseCommand into backend.ovs_idl

The BaseCommand class is not Open_vSwitch schema-specific and is
used by OVN, therefor it should live under backend.ovs_idl. A
reference to BaseCommand is left in schema.open_vswitch.impl_idl
as a caution, since Neutron's impl_idl.py references it from there.

Change-Id: I9105ddc326d5db49273ff87130abee839146c7f8
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/60/458960/2 && git format-patch -1 --stdout FETCH_HEAD,['ovsdbapp/schema/open_vswitch/commands.py'],1,461794c387f6f7e0ff23194c44a9a38f78c23dd2,,from ovsdbapp.backend.ovs_idl import commandBaseCommand = command.BaseCommand,"from ovsdbapp import api class BaseCommand(api.Command): def __init__(self, api): self.api = api self.result = None def execute(self, check_error=False, log_errors=True): try: with self.api.transaction(check_error, log_errors) as txn: txn.add(self) return self.result except Exception: if log_errors: LOG.exception(""Error executing command"") if check_error: raise def post_commit(self, txn): pass def __str__(self): command_info = self.__dict__ return ""%s(%s)"" % ( self.__class__.__name__, "", "".join(""%s=%s"" % (k, v) for k, v in command_info.items() if k not in ['api', 'result'])) __repr__ = __str__",2,29
openstack%2Fovsdbapp~master~I9723d076a776e3a9f70d47f8faea1aa6f9d51642,openstack/ovsdbapp,master,I9723d076a776e3a9f70d47f8faea1aa6f9d51642,Add a description to README.rst,MERGED,2017-04-21 21:21:21.000000000,2017-04-23 19:43:30.000000000,2017-04-23 19:43:30.000000000,"[{'_account_id': 3}, {'_account_id': 7787}]","[{'number': 1, 'created': '2017-04-21 21:21:21.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/558f088501ebaaa8639c6eb5ab7bc42a57d0346e', 'message': 'Add a description to README.rst\n\nChange-Id: I9723d076a776e3a9f70d47f8faea1aa6f9d51642\n'}]",0,458978,558f088501ebaaa8639c6eb5ab7bc42a57d0346e,6,2,1,5756,,,0,"Add a description to README.rst

Change-Id: I9723d076a776e3a9f70d47f8faea1aa6f9d51642
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/78/458978/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,558f088501ebaaa8639c6eb5ab7bc42a57d0346e,,The ovdsbapp library is useful for creating applications that communicate via Open_vSwitch's OVSDB protocol (https://tools.ietf.org/html/rfc7047). It wraps the Python 'ovs' and adds an event loop and friendly transactions.* An thread-based event loop for using ovs.db.Idl * Transaction support * Native OVSDB communication,"Please fill here a long description which must be at least 3 lines wrapped on 80 cols, so that distribution package maintainers can use it in their packages. Note that this is a hard requirement.* TODO",6,4
openstack%2Fkeystoneauth~master~I1c9d89fd86773f4acecbefcdad4dca6cff16b58d,openstack/keystoneauth,master,I1c9d89fd86773f4acecbefcdad4dca6cff16b58d,Updated inconsistent value of scope parameter,MERGED,2017-04-03 09:12:59.000000000,2017-04-23 18:23:43.000000000,2017-04-23 18:23:43.000000000,"[{'_account_id': 3}, {'_account_id': 5046}, {'_account_id': 6482}, {'_account_id': 7191}, {'_account_id': 8482}, {'_account_id': 17860}, {'_account_id': 18176}]","[{'number': 1, 'created': '2017-04-03 09:12:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7a49d60334c2c8ce1feb3aa0cc916650969e677f', 'message': ""Updated inconsistent value of scope parameter\n\nFor explicit unscoped authentication, the keystome server\nspecifies the scope parameter value as 'unscoped'. However\nkeystoneauth1 initialises it to {'unscoped': {}}. This\npatch removes this inconsistency.\n\nPartial-Bug #1637682\n\nChange-Id: I1c9d89fd86773f4acecbefcdad4dca6cff16b58d\n""}, {'number': 2, 'created': '2017-04-04 14:26:26.000000000', 'files': ['keystoneauth1/identity/v3/base.py', 'keystoneauth1/tests/unit/identity/test_identity_v3.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/d0cdc355a4f7a4fcb03c65b8994de436f4b00a52', 'message': ""Updated inconsistent value of scope parameter\n\nFor explicit unscoped authentication, the keystome server\nspecifies the scope parameter value as 'unscoped'. However\nkeystoneauth1 initialises it to {'unscoped': {}}. This\npatch removes this inconsistency.\n\nUpdated the corresponding test for unscoped request which\nchecks the scope parameter in auth to match the 'unscoped'\nstring.\n\nPartial-Bug #1637682\n\nChange-Id: I1c9d89fd86773f4acecbefcdad4dca6cff16b58d\n""}]",2,452652,d0cdc355a4f7a4fcb03c65b8994de436f4b00a52,15,7,2,25559,,,0,"Updated inconsistent value of scope parameter

For explicit unscoped authentication, the keystome server
specifies the scope parameter value as 'unscoped'. However
keystoneauth1 initialises it to {'unscoped': {}}. This
patch removes this inconsistency.

Updated the corresponding test for unscoped request which
checks the scope parameter in auth to match the 'unscoped'
string.

Partial-Bug #1637682

Change-Id: I1c9d89fd86773f4acecbefcdad4dca6cff16b58d
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/52/452652/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/identity/v3/base.py', 'test-requirements.txt']",2,7a49d60334c2c8ce1feb3aa0cc916650969e677f,bug/1637682,,pycrypto>=2.6 # Public Domain,1,2
openstack%2Fnetworking-sfc~master~Ia8f63b91334f73519878ba90957db84e7cf176f9,openstack/networking-sfc,master,Ia8f63b91334f73519878ba90957db84e7cf176f9,Remove OVS compilation on functional and fullstack jobs,MERGED,2017-04-21 07:52:45.000000000,2017-04-23 17:44:55.000000000,2017-04-23 17:44:55.000000000,"[{'_account_id': 3}, {'_account_id': 9396}, {'_account_id': 11313}, {'_account_id': 21798}, {'_account_id': 25407}]","[{'number': 1, 'created': '2017-04-21 07:52:45.000000000', 'files': ['networking_sfc/tests/contrib/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-sfc/commit/4d2d34701fd95abcc100b7c4abbb28fb3c35ca40', 'message': ""Remove OVS compilation on functional and fullstack jobs\n\nCurrently UCA is used on upstream gate which fetches OVS 2.5.2. This\nmakes the upgrade function unnecessary and can be removed. SFC is the\nonly project currently using the function so after we get rid of it\nhere, we'll remove it from Neutron tree.\n\nChange-Id: Ia8f63b91334f73519878ba90957db84e7cf176f9\n""}]",0,458756,4d2d34701fd95abcc100b7c4abbb28fb3c35ca40,10,5,1,8655,,,0,"Remove OVS compilation on functional and fullstack jobs

Currently UCA is used on upstream gate which fetches OVS 2.5.2. This
makes the upgrade function unnecessary and can be removed. SFC is the
only project currently using the function so after we get rid of it
here, we'll remove it from Neutron tree.

Change-Id: Ia8f63b91334f73519878ba90957db84e7cf176f9
",git fetch https://review.opendev.org/openstack/networking-sfc refs/changes/56/458756/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_sfc/tests/contrib/gate_hook.sh'],1,4d2d34701fd95abcc100b7c4abbb28fb3c35ca40,compile_ovs,, upgrade_ovs_if_necessary,0,1
openstack%2Fpython-ironic-inspector-client~master~I430549146a25eb05cc7905b221abb81d144e0f8b,openstack/python-ironic-inspector-client,master,I430549146a25eb05cc7905b221abb81d144e0f8b,Do not depend on python-openstackclient,MERGED,2017-04-04 11:04:17.000000000,2017-04-23 17:19:03.000000000,2017-04-23 17:19:03.000000000,"[{'_account_id': 3}, {'_account_id': 9542}, {'_account_id': 10239}, {'_account_id': 13636}, {'_account_id': 18653}, {'_account_id': 19686}]","[{'number': 1, 'created': '2017-04-04 11:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/3025535f5ea27c47153ac0c66b9fe30b39e2d8f5', 'message': ""Do not depend on python-openstackclient\n\nOpenStack client is not a runtime dependency of inspector client,\nand having it in requirements just brings in many dependencies\nwhich might not be needed at all when using the Python API of the client\nonly (for example in server-side applications, like ironic-conductor).\n\nAlthough dependency on osc-lib is enough for unit and functional tests\nto pass.\n\nAlso, add a setuptools 'extra' so that users can install openstackclient\ntogether with inspector client:\n\n    pip install python-ironic-inspector-client[cli]\n\nCo-Authored-By: Pavlo Shchelokovskyy <shchelokovskyy@gmail.com>\nCloses-Bug: #1562023\nChange-Id: I430549146a25eb05cc7905b221abb81d144e0f8b\n""}, {'number': 2, 'created': '2017-04-20 13:04:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/846c78de28d274eb8fffe30f8a92f37aeb30005b', 'message': ""Do not depend on python-openstackclient\n\nOpenStack client is not a runtime dependency of inspector client,\nand having it in requirements just brings in many dependencies\nwhich might not be needed at all when using the Python API of the client\nonly (for example in server-side applications, like ironic-conductor).\n\nAlthough dependency on osc-lib is enough for unit and functional tests\nto pass.\n\nAlso, add a setuptools 'extra' so that users can install openstackclient\ntogether with inspector client:\n\n    pip install python-ironic-inspector-client[cli]\n\nCo-Authored-By: Pavlo Shchelokovskyy <shchelokovskyy@gmail.com>\nCloses-Bug: #1562023\nChange-Id: I430549146a25eb05cc7905b221abb81d144e0f8b\n""}, {'number': 3, 'created': '2017-04-20 19:06:29.000000000', 'files': ['requirements.txt', 'setup.cfg', 'releasenotes/notes/drop-osc-client-requirements-efb31b432ddbb370.yaml'], 'web_link': 'https://opendev.org/openstack/python-ironic-inspector-client/commit/1538d5683661d6c490853c734951646a7affa08f', 'message': ""Do not depend on python-openstackclient\n\nOpenStack client is not a runtime dependency of inspector client,\nand having it in requirements just brings in many dependencies\nwhich might not be needed at all when using the Python API of the client\nonly (for example in server-side applications, like ironic-conductor).\n\nAlthough dependency on osc-lib is enough for unit and functional tests\nto pass.\n\nAlso, add a setuptools 'extra' so that users can install openstackclient\ntogether with inspector client:\n\n    pip install python-ironic-inspector-client[cli]\n\nCo-Authored-By: Pavlo Shchelokovskyy <shchelokovskyy@gmail.com>\nCloses-Bug: #1562023\nChange-Id: I430549146a25eb05cc7905b221abb81d144e0f8b\n""}]",2,453125,1538d5683661d6c490853c734951646a7affa08f,20,6,3,13636,,,0,"Do not depend on python-openstackclient

OpenStack client is not a runtime dependency of inspector client,
and having it in requirements just brings in many dependencies
which might not be needed at all when using the Python API of the client
only (for example in server-side applications, like ironic-conductor).

Although dependency on osc-lib is enough for unit and functional tests
to pass.

Also, add a setuptools 'extra' so that users can install openstackclient
together with inspector client:

    pip install python-ironic-inspector-client[cli]

Co-Authored-By: Pavlo Shchelokovskyy <shchelokovskyy@gmail.com>
Closes-Bug: #1562023
Change-Id: I430549146a25eb05cc7905b221abb81d144e0f8b
",git fetch https://review.opendev.org/openstack/python-ironic-inspector-client refs/changes/25/453125/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'setup.cfg', 'releasenotes/notes/drop-osc-client-requirements-efb31b432ddbb370.yaml']",3,3025535f5ea27c47153ac0c66b9fe30b39e2d8f5,bug/1562023,"--- upgrade: - | python-openstackclient is no more requirement for python-ironic-inspector-client. If you with to use *ironic-inspector* cli, you should install python-openstackclient manually or use setuptools 'extra': pip install python-ironic-inspector-client[cli] ",,11,1
openstack%2Foslo.config~master~Ief34fbf75a28c46b95c08a4d7ae2cb831607a05b,openstack/oslo.config,master,Ief34fbf75a28c46b95c08a4d7ae2cb831607a05b,Fix string interpolation in ValueError,MERGED,2017-04-20 13:30:46.000000000,2017-04-23 15:15:00.000000000,2017-04-23 15:15:00.000000000,"[{'_account_id': 3}, {'_account_id': 2472}, {'_account_id': 2813}, {'_account_id': 7634}, {'_account_id': 9796}, {'_account_id': 20191}]","[{'number': 1, 'created': '2017-04-20 13:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a409dddcef2a224a414c280dff26d84845f4820b', 'message': 'Fix string interpolation in ValueError\n\nChange-Id: Ief34fbf75a28c46b95c08a4d7ae2cb831607a05b\nCloses-Bug : #1684771\n'}, {'number': 2, 'created': '2017-04-20 13:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/c180a55adc720b7fd8d2c152fdbbd13bd82d43b8', 'message': 'Fix string interpolation in ValueError\n\nChange-Id: Ief34fbf75a28c46b95c08a4d7ae2cb831607a05b\nCloses-Bug: #1684771\n'}, {'number': 3, 'created': '2017-04-21 00:07:16.000000000', 'files': ['oslo_config/types.py'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/4cc7c6cb9bd96c986680241bbf2d3d454bcba246', 'message': 'Fix string interpolation in ValueError\n\nChange-Id: Ief34fbf75a28c46b95c08a4d7ae2cb831607a05b\nCloses-Bug: #1684771\n'}]",2,458502,4cc7c6cb9bd96c986680241bbf2d3d454bcba246,14,6,3,7634,,,0,"Fix string interpolation in ValueError

Change-Id: Ief34fbf75a28c46b95c08a4d7ae2cb831607a05b
Closes-Bug: #1684771
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/02/458502/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/types.py'],1,a409dddcef2a224a414c280dff26d84845f4820b,bug/1684771," raise ValueError('Min value cannot be less than %(min)d' % raise ValueError('Max value cannot be more than %(max)d' % raise ValueError(""%s is not a valid host address"" % value)"," raise ValueError('Min value cannot be less than %(min)d', raise ValueError('Max value cannot be more than %(max)d', raise ValueError(""%s is not a valid host address"", value)",3,3
openstack%2Fshade~master~I71df04e886d0c08ca29fe141f41961d833138b74,openstack/shade,master,I71df04e886d0c08ca29fe141f41961d833138b74,Remove neutronclient mocks from network delete tests,MERGED,2017-04-22 20:43:37.000000000,2017-04-23 14:28:54.000000000,2017-04-23 14:28:54.000000000,"[{'_account_id': 2}, {'_account_id': 3}]","[{'number': 1, 'created': '2017-04-22 20:43:37.000000000', 'files': ['shade/tests/unit/test_network.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/0a39c015bccebd86af331bb39709e670631b2a9e', 'message': 'Remove neutronclient mocks from network delete tests\n\nNeutronclient mock is replaced by mocking REST calls using\nbase.RequestsMockTestCase class\n\nChange-Id: I71df04e886d0c08ca29fe141f41961d833138b74\n'}]",0,459072,0a39c015bccebd86af331bb39709e670631b2a9e,6,2,1,11975,,,0,"Remove neutronclient mocks from network delete tests

Neutronclient mock is replaced by mocking REST calls using
base.RequestsMockTestCase class

Change-Id: I71df04e886d0c08ca29fe141f41961d833138b74
",git fetch https://review.opendev.org/openstack/shade refs/changes/72/459072/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/tests/unit/test_network.py'],1,0a39c015bccebd86af331bb39709e670631b2a9e,remove_neutronclient_mocks_in_net_delete," def test_delete_network(self): network_id = ""test-net-id"" network_name = ""network"" network = {'id': network_id, 'name': network_name} self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [network]}), dict(method='DELETE', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks', ""%s.json"" % network_id]), json={}) ]) self.assertTrue(self.cloud.delete_network(network_name)) self.assert_calls() def test_delete_network_not_found(self): self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': []}), ]) self.assert_calls() def test_delete_network_exception(self): network_id = ""test-net-id"" network_name = ""network"" network = {'id': network_id, 'name': network_name} self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), json={'networks': [network]}), dict(method='DELETE', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks', ""%s.json"" % network_id]), status_code=503) ]) self.assertRaises(shade.OpenStackCloudException, self.cloud.delete_network, network_name) self.assert_calls()"," @mock.patch.object(shade.OpenStackCloud, 'get_network') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_network(self, mock_neutron, mock_get): mock_get.return_value = dict(id='net-id', name='test-net') self.assertTrue(self.cloud.delete_network('test-net')) mock_get.assert_called_once_with('test-net') mock_neutron.delete_network.assert_called_once_with(network='net-id') @mock.patch.object(shade.OpenStackCloud, 'get_network') def test_delete_network_not_found(self, mock_get): mock_get.return_value = None mock_get.assert_called_once_with('test-net') @mock.patch.object(shade.OpenStackCloud, 'get_network') @mock.patch.object(shade.OpenStackCloud, 'neutron_client') def test_delete_network_exception(self, mock_neutron, mock_get): mock_get.return_value = dict(id='net-id', name='test-net') mock_neutron.delete_network.side_effect = Exception() with testtools.ExpectedException( shade.OpenStackCloudException, ""Error deleting network test-net"" ): self.cloud.delete_network('test-net') mock_get.assert_called_once_with('test-net') mock_neutron.delete_network.assert_called_once_with(network='net-id')",43,23
openstack%2Fshade~master~I488de8613a2e2580f49533b319603d159f7dc832,openstack/shade,master,I488de8613a2e2580f49533b319603d159f7dc832,Remove neutronclient mocks from network exceptions tests,MERGED,2017-04-23 08:16:40.000000000,2017-04-23 14:28:48.000000000,2017-04-23 14:28:48.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 3}, {'_account_id': 1106}, {'_account_id': 3099}, {'_account_id': 4146}, {'_account_id': 4162}, {'_account_id': 5263}, {'_account_id': 6133}, {'_account_id': 6488}, {'_account_id': 6554}, {'_account_id': 6609}, {'_account_id': 6786}, {'_account_id': 7069}, {'_account_id': 7118}]","[{'number': 1, 'created': '2017-04-23 08:16:40.000000000', 'files': ['shade/tests/unit/test_shade.py'], 'web_link': 'https://opendev.org/openstack/shade/commit/d1d670666ba81faed8cc7898ab0dc77ef80ac05e', 'message': 'Remove neutronclient mocks from network exceptions tests\n\nNeutronclient mock is replaced by mocking REST calls using\nbase.RequestsMockTestCase class\n\nChange-Id: I488de8613a2e2580f49533b319603d159f7dc832\n'}]",0,459095,d1d670666ba81faed8cc7898ab0dc77ef80ac05e,6,15,1,11975,,,0,"Remove neutronclient mocks from network exceptions tests

Neutronclient mock is replaced by mocking REST calls using
base.RequestsMockTestCase class

Change-Id: I488de8613a2e2580f49533b319603d159f7dc832
",git fetch https://review.opendev.org/openstack/shade refs/changes/95/459095/1 && git format-patch -1 --stdout FETCH_HEAD,['shade/tests/unit/test_shade.py'],1,d1d670666ba81faed8cc7898ab0dc77ef80ac05e,replace_neutronclient_mock_in_exception_tests,"class TestShade(base.RequestsMockTestCase): self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), status_code=404) ]) self.assertRaises(exc.OpenStackCloudResourceNotFound, self.cloud.list_networks) self.assert_calls() self.register_uris([ dict(method='GET', uri=self.get_mock_url( 'network', 'public', append=['v2.0', 'networks.json']), status_code=404) ]) self.assertRaises(exc.OpenStackCloudURINotFound, self.cloud.list_networks) self.assert_calls()","from neutronclient.common import exceptions as n_excclass TestShade(base.TestCase): with mock.patch.object( shade._tasks, 'NetworkList', side_effect=n_exc.NotFound()): self.assertRaises(exc.OpenStackCloudResourceNotFound, self.cloud.list_networks) with mock.patch.object( shade._tasks, 'NetworkList', side_effect=n_exc.NeutronClientException(status_code=404)): self.assertRaises(exc.OpenStackCloudURINotFound, self.cloud.list_networks) def test__neutron_exceptions_neutron_client_generic(self): with mock.patch.object( shade._tasks, 'NetworkList', side_effect=n_exc.NeutronClientException()): self.assertRaises(exc.OpenStackCloudException, self.cloud.list_networks) def test__neutron_exceptions_generic(self): with mock.patch.object( shade._tasks, 'NetworkList', side_effect=Exception()): self.assertRaises(exc.OpenStackCloudException, self.cloud.list_networks)",19,26
openstack%2Fhorizon~master~Ifad93026b23ec56518f9e627dd229d88b8a3bb9d,openstack/horizon,master,Ifad93026b23ec56518f9e627dd229d88b8a3bb9d,Imported Translations from Zanata,MERGED,2017-04-23 09:01:47.000000000,2017-04-23 12:06:30.000000000,2017-04-23 12:06:30.000000000,"[{'_account_id': 3}, {'_account_id': 841}]","[{'number': 1, 'created': '2017-04-23 09:01:47.000000000', 'files': ['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pa_IN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/it/LC_MESSAGES/django.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fdcfb911f32a7f5e474b41228972e74f763fb5c8', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttp://docs.openstack.org/developer/i18n/reviewing-translation-import.html\n\nChange-Id: Ifad93026b23ec56518f9e627dd229d88b8a3bb9d\n'}]",0,459096,fdcfb911f32a7f5e474b41228972e74f763fb5c8,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
http://docs.openstack.org/developer/i18n/reviewing-translation-import.html

Change-Id: Ifad93026b23ec56518f9e627dd229d88b8a3bb9d
",git fetch https://review.opendev.org/openstack/horizon refs/changes/96/459096/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/fr/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_GB/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pl_PL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/de/LC_MESSAGES/django.po', 'openstack_dashboard/locale/id/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pa_IN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/cs/LC_MESSAGES/django.po', 'openstack_dashboard/locale/nl_NL/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ja/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/ru/LC_MESSAGES/django.po', 'openstack_dashboard/locale/es/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_CN/LC_MESSAGES/django.po', 'openstack_dashboard/locale/zh_TW/LC_MESSAGES/django.po', 'openstack_dashboard/locale/it/LC_MESSAGES/django.po', 'openstack_dashboard/locale/tr_TR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/pt_BR/LC_MESSAGES/django.po', 'openstack_dashboard/locale/en_AU/LC_MESSAGES/django.po']",18,fdcfb911f32a7f5e474b41228972e74f763fb5c8,zanata/translations,"""Project-Id-Version: horizon 12.0.0.0b2.dev19\n""""POT-Creation-Date: 2017-04-22 11:44+0000\n""","""Project-Id-Version: horizon 11.0.0.0rc2.dev273\n""""POT-Creation-Date: 2017-04-03 03:05+0000\n""msgid ""Admin State is UP (True) by default."" msgstr ""Admin State is UP (True) by default."" msgid ""DOWN"" msgstr ""DOWN"" msgid """" ""The router, subnet and admin state fields are required. All others are "" ""optional."" msgstr """" ""The router, subnet and admin state fields are required. All others are "" ""optional."" msgid """" ""The state of IPSec site connection to start in. If DOWN (False), IPSec site "" ""connection does not forward packets."" msgstr """" ""The state of IPSec site connection to start in. If DOWN (False), IPSec site "" ""connection does not forward packets."" msgid """" ""The state of VPN service to start in. If DOWN (False) VPN service does not "" ""forward packets."" msgstr """" ""The state of VPN service to start in. If DOWN (False) VPN service does not "" ""forward packets."" msgid ""UP"" msgstr ""UP"" ",139,407
openstack%2Fopenstack-helm~master~I702f2f351b4b34f68530617738e3d1566b71f0df,openstack/openstack-helm,master,I702f2f351b4b34f68530617738e3d1566b71f0df,Heat: Add rolling update strategy,MERGED,2017-04-22 16:54:14.000000000,2017-04-23 11:03:10.000000000,2017-04-23 11:03:10.000000000,"[{'_account_id': 3}, {'_account_id': 17591}, {'_account_id': 21307}]","[{'number': 1, 'created': '2017-04-22 16:54:14.000000000', 'files': ['heat/templates/deployment-cloudwatch.yaml', 'heat/templates/deployment-api.yaml', 'heat/values.yaml', 'heat/templates/deployment-cfn.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8a7247a0b61b3d0d9cd8304c374de5b7ebd108f', 'message': 'Heat: Add rolling update strategy\n\nThis ps adds a rolling update strategy to heat, bringing it inline\nwith other core services.\n\nChange-Id: I702f2f351b4b34f68530617738e3d1566b71f0df\n'}]",0,459063,a8a7247a0b61b3d0d9cd8304c374de5b7ebd108f,7,3,1,23928,,,0,"Heat: Add rolling update strategy

This ps adds a rolling update strategy to heat, bringing it inline
with other core services.

Change-Id: I702f2f351b4b34f68530617738e3d1566b71f0df
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/63/459063/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat/templates/deployment-cloudwatch.yaml', 'heat/templates/deployment-api.yaml', 'heat/values.yaml', 'heat/templates/deployment-cfn.yaml']",4,a8a7247a0b61b3d0d9cd8304c374de5b7ebd108f,heat-upgrade," revisionHistoryLimit: {{ .Values.upgrades.revision_history }} strategy: type: {{ .Values.upgrades.pod_replacement_strategy }} {{ if eq .Values.upgrades.pod_replacement_strategy ""RollingUpdate"" }} rollingUpdate: maxUnavailable: {{ .Values.upgrades.rolling_update.max_unavailable }} maxSurge: {{ .Values.upgrades.rolling_update.max_surge }} {{ end }}",,31,0
openstack%2Fdragonflow~master~Id41e4abd239b521851d806b3a826b9aa297f9e74,openstack/dragonflow,master,Id41e4abd239b521851d806b3a826b9aa297f9e74,remove useless args for app,MERGED,2017-04-22 08:05:35.000000000,2017-04-23 09:07:05.000000000,2017-04-23 09:07:05.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 11159}, {'_account_id': 23766}]","[{'number': 1, 'created': '2017-04-22 08:05:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/307f0d6ebfa0bed9926d722efea781c759ffc84c', 'message': 'remove useless args for tunnel app\n\nChange-Id: Id41e4abd239b521851d806b3a826b9aa297f9e74\n'}, {'number': 2, 'created': '2017-04-22 09:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/1ee016816b46d400437ed08446414c4d490e7125', 'message': 'remove useless args for tunnel app\n\nChange-Id: Id41e4abd239b521851d806b3a826b9aa297f9e74\n'}, {'number': 3, 'created': '2017-04-22 11:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/9c424957fdbd8413a24ca79b1b383309cd04ac6d', 'message': 'remove useless args for app\n\nChange-Id: Id41e4abd239b521851d806b3a826b9aa297f9e74\n'}, {'number': 4, 'created': '2017-04-22 12:27:13.000000000', 'files': ['dragonflow/controller/provider_networks_app.py', 'dragonflow/controller/tunneling_app.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/85e1f72bce06e14d3b03b8150f783f934dc1b455', 'message': 'remove useless args for app\n\nChange-Id: Id41e4abd239b521851d806b3a826b9aa297f9e74\nDepends-On: Id633f55002295d1a62a58dacf5233b5c11696fd6'}]",0,459044,85e1f72bce06e14d3b03b8150f783f934dc1b455,13,4,4,20287,,,0,"remove useless args for app

Change-Id: Id41e4abd239b521851d806b3a826b9aa297f9e74
Depends-On: Id633f55002295d1a62a58dacf5233b5c11696fd6",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/44/459044/1 && git format-patch -1 --stdout FETCH_HEAD,['dragonflow/controller/tunneling_app.py'],1,307f0d6ebfa0bed9926d722efea781c759ffc84c,useless-arg," self._remove_network_ingress_flow(lport, network_type) match = self._make_network_match(lport, network_type) def _remove_network_ingress_flow(self, lport, network_type): match = self._make_network_match(lport, network_type) def _make_network_match(self, lport, network_type):"," self._remove_network_ingress_flow(lport, network_id, network_type) match = self._make_network_match(lport, network_id, network_type) def _remove_network_ingress_flow(self, lport, network_id, network_type): match = self._make_network_match(lport, network_id, network_type) def _make_network_match(self, lport, network_id, network_type):",5,5
openstack%2Fdragonflow~master~Id633f55002295d1a62a58dacf5233b5c11696fd6,openstack/dragonflow,master,Id633f55002295d1a62a58dacf5233b5c11696fd6,Use ovsdbapp as ovsdb's library,MERGED,2017-04-21 08:44:42.000000000,2017-04-23 08:37:30.000000000,2017-04-23 08:37:30.000000000,"[{'_account_id': 3}, {'_account_id': 7805}, {'_account_id': 20229}, {'_account_id': 20287}, {'_account_id': 23235}]","[{'number': 1, 'created': '2017-04-21 08:44:42.000000000', 'files': ['dragonflow/ovsdb/commands.py', 'requirements.txt', 'dragonflow/ovsdb/impl_idl.py', 'dragonflow/ovsdb/vswitch_impl.py'], 'web_link': 'https://opendev.org/openstack/dragonflow/commit/2ca904da0d2eef5dd63b29646cb97ddc4630e001', 'message': ""Use ovsdbapp as ovsdb's library\n\nThe original ovsdb code in neutron has been spin out as a standalone\nlibrary.\n\nDragonflow should use that library and reduce the dependency to neutron\n\n[1] https://review.openstack.org/#/c/453014/\n[2] https://git.openstack.org/cgit/openstack/ovsdbapp/\n\nChange-Id: Id633f55002295d1a62a58dacf5233b5c11696fd6\n""}]",0,458768,2ca904da0d2eef5dd63b29646cb97ddc4630e001,9,5,1,11159,,,0,"Use ovsdbapp as ovsdb's library

The original ovsdb code in neutron has been spin out as a standalone
library.

Dragonflow should use that library and reduce the dependency to neutron

[1] https://review.openstack.org/#/c/453014/
[2] https://git.openstack.org/cgit/openstack/ovsdbapp/

Change-Id: Id633f55002295d1a62a58dacf5233b5c11696fd6
",git fetch https://review.opendev.org/openstack/dragonflow refs/changes/68/458768/1 && git format-patch -1 --stdout FETCH_HEAD,"['dragonflow/ovsdb/commands.py', 'requirements.txt', 'dragonflow/ovsdb/impl_idl.py', 'dragonflow/ovsdb/vswitch_impl.py']",4,2ca904da0d2eef5dd63b29646cb97ddc4630e001,fix_gate," self.ovsdb = impl_idl.DFOvsdbApi( nb_api, db_connection, self.vsctl_timeout)"," self.ovsdb = impl_idl.DFOvsdbApi( self, nb_api, db_connection, self.vsctl_timeout) self.ovsdb.start()",9,15
openstack%2Fkuryr-libnetwork~master~Iecef71df1c0b58db62c20462932ba179c91a1695,openstack/kuryr-libnetwork,master,Iecef71df1c0b58db62c20462932ba179c91a1695,Avoid running more than one etcd process,MERGED,2017-04-17 21:23:58.000000000,2017-04-23 08:23:47.000000000,2017-04-23 08:23:47.000000000,"[{'_account_id': 3}, {'_account_id': 6598}, {'_account_id': 9820}, {'_account_id': 12860}, {'_account_id': 23567}]","[{'number': 1, 'created': '2017-04-17 21:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/256d5421e7c499d2327d48781f702b13276f08a6', 'message': '[WIP] Avoid running more than one etcd process\n\nChange-Id: Iecef71df1c0b58db62c20462932ba179c91a1695\n'}, {'number': 2, 'created': '2017-04-17 21:50:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/ec2db52b181346d19889438da553175f715dd5e6', 'message': '[WIP] Avoid running more than one etcd process\n\nChange-Id: Iecef71df1c0b58db62c20462932ba179c91a1695\n'}, {'number': 3, 'created': '2017-04-18 15:40:04.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-libnetwork/commit/5c45b19273039df53fba240852db0b0c3aff3a98', 'message': 'Avoid running more than one etcd process\n\nIf both Fuxi and Kuryr-libnetwork are enabled in devstack, the script\nwill fail since etcd-server was spawned twice. This commit added a\ncheck for existing etcd process and spawn one if not existed.\n\nCloses-Bug: #1683852\nChange-Id: Iecef71df1c0b58db62c20462932ba179c91a1695\n'}]",3,457361,5c45b19273039df53fba240852db0b0c3aff3a98,15,5,3,11536,,,0,"Avoid running more than one etcd process

If both Fuxi and Kuryr-libnetwork are enabled in devstack, the script
will fail since etcd-server was spawned twice. This commit added a
check for existing etcd process and spawn one if not existed.

Closes-Bug: #1683852
Change-Id: Iecef71df1c0b58db62c20462932ba179c91a1695
",git fetch https://review.opendev.org/openstack/kuryr-libnetwork refs/changes/61/457361/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,256d5421e7c499d2327d48781f702b13276f08a6,bug/1683852," pgrep -x ""etcd"" && run_process etcd-server ""$DEST/etcd/etcd-$ETCD_VERSION-linux-amd64/etcd --data-dir $DEST/etcd/db.etcd --advertise-client-urls http://0.0.0.0:$KURYR_ETCD_PORT --listen-client-urls http://0.0.0.0:$KURYR_ETCD_PORT"""," run_process etcd-server ""$DEST/etcd/etcd-$ETCD_VERSION-linux-amd64/etcd --data-dir $DEST/etcd/db.etcd --advertise-client-urls http://0.0.0.0:$KURYR_ETCD_PORT --listen-client-urls http://0.0.0.0:$KURYR_ETCD_PORT""",1,1
openstack%2Fopenstack-ansible-os_nova~stable%2Fnewton~If505dc58b4adb46e08230b0482d48d8898529460,openstack/openstack-ansible-os_nova,stable/newton,If505dc58b4adb46e08230b0482d48d8898529460,Allow libvirt rbd params to be independent of cinder,MERGED,2017-03-30 13:19:04.000000000,2017-04-23 05:20:37.000000000,2017-04-23 05:20:37.000000000,"[{'_account_id': 3}, {'_account_id': 538}, {'_account_id': 7353}, {'_account_id': 11782}, {'_account_id': 17799}]","[{'number': 1, 'created': '2017-03-30 13:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/3d61e402a71085c07f5c161046da64149d4af9a1', 'message': 'Allow libvirt rbd params to be independent of cinder\n\nRemoved dependency for ``cinder_backends_rbd_inuse`` in nova.conf\nwhen setting ``rbd_user`` and ``rbd_secret_uuid`` variables.\nCinder delivers all necessary values via RPC when attaching the\nvolume, so those variables are only necessary for ephemeral\ndisks stored in Ceph. These variables are required to be set up\non cinder-volume side under backend section.\n\nChange-Id: If505dc58b4adb46e08230b0482d48d8898529460\nCloses-Bug: #1673570\n'}, {'number': 2, 'created': '2017-04-06 15:30:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/cf39899df5d98739c04ccf95391b369ce4197c64', 'message': 'Allow libvirt rbd params to be independent of cinder\n\nRemoved dependency for ``cinder_backends_rbd_inuse`` in nova.conf\nwhen setting ``rbd_user`` and ``rbd_secret_uuid`` variables.\nCinder delivers all necessary values via RPC when attaching the\nvolume, so those variables are only necessary for ephemeral\ndisks stored in Ceph. These variables are required to be set up\non cinder-volume side under backend section.\n\nChange-Id: If505dc58b4adb46e08230b0482d48d8898529460\nCloses-Bug: #1673570\n(cherry picked from commit 402771006d3b121e3d414c5fc664101b3c542b69)\n'}, {'number': 3, 'created': '2017-04-23 02:18:23.000000000', 'files': ['releasenotes/notes/libvirt-rbd-independent-5876349073463cc3.yaml', 'templates/nova.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_nova/commit/ecb29327d63e9a740b818b92f6efcb7f4726d6b7', 'message': 'Allow libvirt rbd params to be independent of cinder\n\nRemoved dependency for ``cinder_backends_rbd_inuse`` in nova.conf\nwhen setting ``rbd_user`` and ``rbd_secret_uuid`` variables.\nCinder delivers all necessary values via RPC when attaching the\nvolume, so those variables are only necessary for ephemeral\ndisks stored in Ceph. These variables are required to be set up\non cinder-volume side under backend section.\n\nChange-Id: If505dc58b4adb46e08230b0482d48d8898529460\nCloses-Bug: #1673570\n(cherry picked from commit 402771006d3b121e3d414c5fc664101b3c542b69)\n'}]",0,451816,ecb29327d63e9a740b818b92f6efcb7f4726d6b7,15,5,3,11782,,,0,"Allow libvirt rbd params to be independent of cinder

Removed dependency for ``cinder_backends_rbd_inuse`` in nova.conf
when setting ``rbd_user`` and ``rbd_secret_uuid`` variables.
Cinder delivers all necessary values via RPC when attaching the
volume, so those variables are only necessary for ephemeral
disks stored in Ceph. These variables are required to be set up
on cinder-volume side under backend section.

Change-Id: If505dc58b4adb46e08230b0482d48d8898529460
Closes-Bug: #1673570
(cherry picked from commit 402771006d3b121e3d414c5fc664101b3c542b69)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_nova refs/changes/16/451816/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirt-rbd-independent-5876349073463cc3.yaml', 'templates/nova.conf.j2']",2,3d61e402a71085c07f5c161046da64149d4af9a1,nova-rbd,rbd_user = {{ nova_ceph_client }} rbd_secret_uuid = {{ nova_ceph_client_uuid }},{% if cinder_backends_rbd_inuse|bool or nova_libvirt_images_rbd_pool is defined %} rbd_user = {{ nova_ceph_client }} rbd_secret_uuid = {{ nova_ceph_client_uuid }} {% endif %},10,4
openstack%2Fcinder~master~I5b79739edc6188b6d97b0a9433d30e0c7362e900,openstack/cinder,master,I5b79739edc6188b6d97b0a9433d30e0c7362e900,Changing releasenotes file present in review change 409128.,MERGED,2017-04-21 09:13:52.000000000,2017-04-23 05:13:11.000000000,2017-04-21 15:25:39.000000000,"[{'_account_id': 3}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 15831}, {'_account_id': 16595}, {'_account_id': 16834}, {'_account_id': 17565}, {'_account_id': 19933}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22510}, {'_account_id': 23613}]","[{'number': 1, 'created': '2017-04-21 09:13:52.000000000', 'files': ['releasenotes/notes/Enable-HPE-3PAR-Compression-Feature-90e4de4b64a74a46.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d7940f57438a7e10d74bffdbc0240867b52ae341', 'message': 'Changing releasenotes file present in review change 409128.\n\nChange-Id: I5b79739edc6188b6d97b0a9433d30e0c7362e900\n'}]",0,458781,d7940f57438a7e10d74bffdbc0240867b52ae341,28,13,1,23100,,,0,"Changing releasenotes file present in review change 409128.

Change-Id: I5b79739edc6188b6d97b0a9433d30e0c7362e900
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/458781/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/Enable-HPE-3PAR-Compression-Feature-90e4de4b64a74a46.yaml'],1,d7940f57438a7e10d74bffdbc0240867b52ae341,bp/3parcompression,features: - HPE 3PAR driver adds following functionalities Creating thin/dedup compresssed volume. Retype for tpvv/tdvv volumes to be compressed. Migration of compressed volumes. Create compressed volume from compressed volume/snapshot source. Compression support to create cg from source.,prelude: > Enabling Compression Feature On 3PAR features: - | * This adds following functionalities * Creating thin/dedup compresssed volume. * Retype for tpvv/tdvv volumes to be compressed. * Migration of compressed volumes. * Create compressed volume from compressed volume/snapshot source * Compression support to create cg from source,6,14
openstack%2Fneutron~master~Ib40e1e3357b9a38e760f4e552bf615cdfd54ee5a,openstack/neutron,master,Ib40e1e3357b9a38e760f4e552bf615cdfd54ee5a,ProcessManager: honor run_as_root when stopping process,MERGED,2017-04-21 17:54:19.000000000,2017-04-23 04:45:45.000000000,2017-04-23 04:45:45.000000000,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 7787}, {'_account_id': 8873}, {'_account_id': 9656}, {'_account_id': 10385}, {'_account_id': 15752}, {'_account_id': 20330}]","[{'number': 1, 'created': '2017-04-21 17:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d1403a49df226117164ce6749e816494a2aa3b74', 'message': 'ProcessManager: honor run_as_root when stopping process\n\nWithout this commit, the run_as_root parameter is always True when\nstopping a process, which leads to the usage of unnecessary sudo such as\nin some functional tests, like the keepalived ones.\n\nThis commit fixes the aforemetioned problem by taking run_as_root into\naccount when stopping a process. However, run_as_root will still always\nbe True if the process is spawned in a netns.\n\nCloses-Bug: #1491581\n\nChange-Id: Ib40e1e3357b9a38e760f4e552bf615cdfd54ee5a\nSigned-off-by: Hunt Xu <mhuntxu@gmail.com>\n'}, {'number': 2, 'created': '2017-04-21 18:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7860674e25988043c358d7e485115b21f8d5be8', 'message': 'ProcessManager: honor run_as_root when stopping process\n\nWithout this commit, the run_as_root parameter is always True when\nstopping a process, which leads to the usage of unnecessary sudo such as\nin some functional tests, like the keepalived ones.\n\nThis commit fixes the aforemetioned problem by taking run_as_root into\naccount when stopping a process. However, run_as_root will still always\nbe True if the process is spawned in a netns.\n\nCloses-Bug: #1491581\n\nChange-Id: Ib40e1e3357b9a38e760f4e552bf615cdfd54ee5a\nSigned-off-by: Hunt Xu <mhuntxu@gmail.com>\n'}, {'number': 3, 'created': '2017-04-22 08:46:54.000000000', 'files': ['neutron/tests/unit/agent/linux/test_external_process.py', 'neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/agent/l3/namespace_manager.py', 'neutron/agent/dhcp/agent.py', 'neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/external_process.py', 'neutron/tests/unit/agent/l3/test_agent.py', 'neutron/tests/functional/agent/l3/test_namespace_manager.py', 'neutron/agent/l3/ha.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a15c84956366456683cd7e5227c5e244e15c3e6e', 'message': 'ProcessManager: honor run_as_root when stopping process\n\nWithout this commit, the run_as_root parameter is always True when\nstopping a process, which leads to the usage of unnecessary sudo such as\nin some functional tests, like the keepalived ones.\n\nThis commit fixes the aforemetioned problem by taking run_as_root into\naccount when stopping a process. However, run_as_root will still always\nbe True if the process is spawned in a netns.\n\nCloses-Bug: #1491581\n\nChange-Id: Ib40e1e3357b9a38e760f4e552bf615cdfd54ee5a\nSigned-off-by: Hunt Xu <mhuntxu@gmail.com>\n'}]",2,458923,a15c84956366456683cd7e5227c5e244e15c3e6e,22,9,3,21781,,,0,"ProcessManager: honor run_as_root when stopping process

Without this commit, the run_as_root parameter is always True when
stopping a process, which leads to the usage of unnecessary sudo such as
in some functional tests, like the keepalived ones.

This commit fixes the aforemetioned problem by taking run_as_root into
account when stopping a process. However, run_as_root will still always
be True if the process is spawned in a netns.

Closes-Bug: #1491581

Change-Id: Ib40e1e3357b9a38e760f4e552bf615cdfd54ee5a
Signed-off-by: Hunt Xu <mhuntxu@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/23/458923/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/linux/test_keepalived.py', 'neutron/tests/unit/agent/linux/test_external_process.py', 'neutron/agent/linux/external_process.py']",3,d1403a49df226117164ce6749e816494a2aa3b74,bug/1491581," self.run_as_root = run_as_root or self.namespace is not None ip_wrapper.netns.execute(cmd, addl_env=self.cmd_addl_env run_as_root=self.run_as_root) utils.execute(cmd, run_as_root=self.run_as_root)"," self.run_as_root = run_as_root ip_wrapper.netns.execute(cmd, addl_env=self.cmd_addl_env) utils.execute(cmd, run_as_root=True)",7,6
