id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Ftraining-guides~master~I87bf34c2a65bd9773494023afcf39dd2f47786d5,openstack/training-guides,master,I87bf34c2a65bd9773494023afcf39dd2f47786d5,Adding information about the Upstream Trainign in India,MERGED,2019-10-10 20:20:59.000000000,2019-10-11 06:06:41.000000000,2019-10-10 21:25:06.000000000,"[{'_account_id': 15993}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 20:20:59.000000000', 'files': ['doc/upstream-training/source/website/upstream-training-other-events.rst', 'doc/upstream-training/source/website/index.rst'], 'web_link': 'https://opendev.org/openstack/training-guides/commit/f2a730179d7ec33e83f370718ac1eeff24798882', 'message': 'Adding information about the Upstream Trainign in India\n\nAdding pointers to the upstream training happening in Bangalore, India\nnext week.\n\nMore info: https://www.meetup.com/Indian-OpenStack-User-Group/events/265173622/\n\nChange-Id: I87bf34c2a65bd9773494023afcf39dd2f47786d5\n'}]",0,687981,f2a730179d7ec33e83f370718ac1eeff24798882,9,3,1,9562,,,0,"Adding information about the Upstream Trainign in India

Adding pointers to the upstream training happening in Bangalore, India
next week.

More info: https://www.meetup.com/Indian-OpenStack-User-Group/events/265173622/

Change-Id: I87bf34c2a65bd9773494023afcf39dd2f47786d5
",git fetch https://review.opendev.org/openstack/training-guides refs/changes/81/687981/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/upstream-training/source/website/upstream-training-other-events.rst', 'doc/upstream-training/source/website/index.rst']",2,f2a730179d7ec33e83f370718ac1eeff24798882,india-training,"| October |Upstream | 1 day |Bangalore,| :ref:`upstream-training-day` | | 18, 2019 |Training | | India | \ | | |Day | | | |","| October |Open Infra| 1 day |Stockholm,| :ref:`openinfra-days-nordics` | | 2, 2019 |Days | | Sweden | \ | | |Nordics | | | |",18,3
openstack%2Fpuppet-openstack-cookiecutter~master~I037f6d9c895ae3eac562dbaefdcf92a8f3d815a8,openstack/puppet-openstack-cookiecutter,master,I037f6d9c895ae3eac562dbaefdcf92a8f3d815a8,Remove FUTURE_PARSER,MERGED,2019-10-10 09:33:13.000000000,2019-10-11 06:04:14.000000000,2019-10-11 06:04:14.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-10 09:33:13.000000000', 'files': ['run_syntax_tests.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-cookiecutter/commit/ca40ce2e307acebafabd2f88b50fe7f8b77f9337', 'message': 'Remove FUTURE_PARSER\n\nChange-Id: I037f6d9c895ae3eac562dbaefdcf92a8f3d815a8\n'}]",0,687843,ca40ce2e307acebafabd2f88b50fe7f8b77f9337,10,5,1,16137,,,0,"Remove FUTURE_PARSER

Change-Id: I037f6d9c895ae3eac562dbaefdcf92a8f3d815a8
",git fetch https://review.opendev.org/openstack/puppet-openstack-cookiecutter refs/changes/43/687843/1 && git format-patch -1 --stdout FETCH_HEAD,['run_syntax_tests.sh'],1,ca40ce2e307acebafabd2f88b50fe7f8b77f9337,remove-future-parser,,"if [ ""$PUPPET_MAJOR_VERSION"" -lt ""4"" ]; then export FUTURE_PARSER=${FUTURE_PARSER:-yes} else export FUTURE_PARSER=${FUTURE_PARSER:-no} fi",0,5
openstack%2Fpuppet-openstack-guide~master~I27f70adcb8902a0e8ad5290733d34407dfa91d11,openstack/puppet-openstack-guide,master,I27f70adcb8902a0e8ad5290733d34407dfa91d11,Update releases summary,MERGED,2019-10-09 23:47:39.000000000,2019-10-11 05:51:47.000000000,2019-10-11 05:50:39.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-10-09 23:47:39.000000000', 'files': ['doc/source/install/releases.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-guide/commit/f03052e0100102fa742488152bed648d7b0f7562', 'message': 'Update releases summary\n\nChange-Id: I27f70adcb8902a0e8ad5290733d34407dfa91d11\n'}]",0,687752,f03052e0100102fa742488152bed648d7b0f7562,9,4,1,16137,,,0,"Update releases summary

Change-Id: I27f70adcb8902a0e8ad5290733d34407dfa91d11
",git fetch https://review.opendev.org/openstack/puppet-openstack-guide refs/changes/52/687752/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/releases.rst'],1,f03052e0100102fa742488152bed648d7b0f7562,train,| 15.z.y | Train | yes | +----------------------------+------------------------------+------------------------+ | 16.z.y | Ussuri | yes (current master) |,| 15.z.y | Train | yes (current master) |,3,1
openstack%2Fopenstack-helm~master~Ifbdd334cb662cee7c531c27aeb5494084443cb81,openstack/openstack-helm,master,Ifbdd334cb662cee7c531c27aeb5494084443cb81,[DNM] Testing min_wait in armada-deploy,ABANDONED,2019-10-10 19:44:49.000000000,2019-10-11 05:42:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-10 19:44:49.000000000', 'files': ['tools/deployment/armada/manifests/armada-osh.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/29d4b4369f2f627d7579074a20075efae0cffc69', 'message': '[DNM] Testing min_wait in armada-deploy\n\nChange-Id: Ifbdd334cb662cee7c531c27aeb5494084443cb81\n'}]",0,687970,29d4b4369f2f627d7579074a20075efae0cffc69,3,1,1,21420,,,0,"[DNM] Testing min_wait in armada-deploy

Change-Id: Ifbdd334cb662cee7c531c27aeb5494084443cb81
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/70/687970/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/armada/manifests/armada-osh.yaml', 'zuul.d/project.yaml']",2,29d4b4369f2f627d7579074a20075efae0cffc69,test-min-wait, - openstack-helm-armada-deploy, templates: - publish-openstack-docs-pti - openstack-helm-lint - openstack-helm-bandit - openstack-helm-cinder - openstack-helm-cinder-pike-ubuntu_xenial - openstack-helm-cinder-queens-ubuntu_xenial - openstack-helm-cinder-rocky-ubuntu_xenial - openstack-helm-cinder-rocky-ubuntu_bionic - openstack-helm-cinder-rocky-opensuse_15 - openstack-helm-cinder-stein-ubuntu_bionic - openstack-helm-compute-kit - openstack-helm-compute-kit-pike-ubuntu_xenial - openstack-helm-compute-kit-queens-ubuntu_xenial - openstack-helm-compute-kit-rocky-ubuntu_xenial - openstack-helm-compute-kit-rocky-ubuntu_bionic - openstack-helm-compute-kit-rocky-opensuse_15 - openstack-helm-compute-kit-stein-ubuntu_bionic - openstack-helm-horizon - openstack-helm-apparmor: voting: false - openstack-helm-netpol-compute-kit: voting: false - openstack-helm-netpol-cinder: voting: false - openstack-helm-armada-deploy,2,26
openstack%2Fpuppet-glance~master~I1829c7e59058fa72690dc08b3e2f65afcad7ea46,openstack/puppet-glance,master,I1829c7e59058fa72690dc08b3e2f65afcad7ea46,Fix properties in glance_image provider for osc >= 4.0.0,MERGED,2019-10-09 14:02:06.000000000,2019-10-11 05:36:53.000000000,2019-10-11 05:30:04.000000000,"[{'_account_id': 3153}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 14:02:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/d03b5c2ad6bac182212d790b37065d0057e530bf', 'message': 'Fix properties in glance_image provider for osc >= 4.0.0\n\nSimilar to I6a68505d15473b140c85a199a09d2fee45864800\n\nOpenstackclient 4.0.0 changed the way some properties are displayed\non screen.\n\nOld:\n...,""Properties""\n...,""foo=\'bar\'""\n\nNew:\n...,""Properties""\n...,""{u\'foo\': u\'bar\'}""\nor\n...,""{\'foo\': \'bar\'}""\n\nThis is breaking idempotency on the glance_image provider, since it\ndoes not detect them correctly. This patch aims at fixing this, by\ntrying to detect the new format, and using JSON parsing in that case.\n\nChange-Id: I1829c7e59058fa72690dc08b3e2f65afcad7ea46\n'}, {'number': 2, 'created': '2019-10-09 16:19:12.000000000', 'files': ['spec/unit/provider/glance_image_spec.rb', 'lib/puppet/provider/glance_image/openstack.rb', 'spec/acceptance/basic_glance_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/13653589788c6ebe4f0d129968161216fd53f161', 'message': 'Fix properties in glance_image provider for osc >= 4.0.0\n\nSimilar to I6a68505d15473b140c85a199a09d2fee45864800\n\nOpenstackclient 4.0.0 changed the way some properties are displayed\non screen.\n\nOld:\n...,""Properties""\n...,""foo=\'bar\'""\n\nNew:\n...,""Properties""\n...,""{u\'foo\': u\'bar\'}""\nor\n...,""{\'foo\': \'bar\'}""\n\nThis is breaking idempotency on the glance_image provider, since it\ndoes not detect them correctly. This patch aims at fixing this, by\ntrying to detect the new format, and using JSON parsing in that case.\n\nChange-Id: I1829c7e59058fa72690dc08b3e2f65afcad7ea46\n'}]",0,687573,13653589788c6ebe4f0d129968161216fd53f161,37,7,2,13861,,,0,"Fix properties in glance_image provider for osc >= 4.0.0

Similar to I6a68505d15473b140c85a199a09d2fee45864800

Openstackclient 4.0.0 changed the way some properties are displayed
on screen.

Old:
...,""Properties""
...,""foo='bar'""

New:
...,""Properties""
...,""{u'foo': u'bar'}""
or
...,""{'foo': 'bar'}""

This is breaking idempotency on the glance_image provider, since it
does not detect them correctly. This patch aims at fixing this, by
trying to detect the new format, and using JSON parsing in that case.

Change-Id: I1829c7e59058fa72690dc08b3e2f65afcad7ea46
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/73/687573/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/glance_image_spec.rb', 'lib/puppet/provider/glance_image/openstack.rb']",2,d03b5c2ad6bac182212d790b37065d0057e530bf,osc_train," properties = parsestring(attrs[:properties]) rescue nil def self.string2hash(input) return Hash[input.scan(/(\S+)='([^']*)'/)] end def self.pythondict2hash(input) return JSON.parse(input.gsub(/u'(\w*)'/, '""\1""').gsub(/'/, '""').gsub(/False/,'false').gsub(/True/,'true')) end def self.parsestring(input) if input[0] == '{' # 4.0.0+ output, python dict return self.pythondict2hash(input) else # Pre-4.0.0 output, key=value return self.string2hash(input) end end", properties = Hash[attrs[:properties].scan(/(\S+)='([^']*)'/)] rescue nil,48,1
openstack%2Ftrove~stable%2Ftrain~I4d2fe38fac34c75b42234fa7a20aba51e6dc1c4e,openstack/trove,stable/train,I4d2fe38fac34c75b42234fa7a20aba51e6dc1c4e,Support to specify branch when building the image,MERGED,2019-10-10 23:08:27.000000000,2019-10-11 04:27:48.000000000,2019-10-11 04:26:39.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 23:08:27.000000000', 'files': ['integration/scripts/files/elements/ubuntu-guest/extra-data.d/15-trove-dep', 'integration/scripts/trovestack', 'doc/source/admin/trovestack.rst', 'integration/scripts/trovestack.rc', 'devstack/plugin.sh', 'integration/scripts/functions_qemu', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/trove/commit/f8217b99705e43945aa03ca7b559cc8f1ab00102', 'message': 'Support to specify branch when building the image\n\n- Explicity specify branch name for building non-dev image\n- Use branch name for building dev image in devstack\n- Update the doc\n\nChange-Id: I4d2fe38fac34c75b42234fa7a20aba51e6dc1c4e\n(cherry picked from commit d244c9d6661a4595533fcbb972798771791f4ed5)\n'}]",0,688005,f8217b99705e43945aa03ca7b559cc8f1ab00102,7,2,1,6732,,,0,"Support to specify branch when building the image

- Explicity specify branch name for building non-dev image
- Use branch name for building dev image in devstack
- Update the doc

Change-Id: I4d2fe38fac34c75b42234fa7a20aba51e6dc1c4e
(cherry picked from commit d244c9d6661a4595533fcbb972798771791f4ed5)
",git fetch https://review.opendev.org/openstack/trove refs/changes/05/688005/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/ubuntu-guest/extra-data.d/15-trove-dep', 'integration/scripts/trovestack', 'doc/source/admin/trovestack.rst', 'integration/scripts/trovestack.rc', 'devstack/plugin.sh', 'integration/scripts/functions_qemu', 'devstack/settings']",7,f8217b99705e43945aa03ca7b559cc8f1ab00102,,TROVE_BRANCH=${TROVE_BRANCH:-'stable/train'},TROVE_BRANCH=${TROVE_BRANCH:-master},17,10
openstack%2Fpuppet-swift~stable%2Ftrain~If3ea70237d6d8ee344a98a07356b56a03d0487dc,openstack/puppet-swift,stable/train,If3ea70237d6d8ee344a98a07356b56a03d0487dc,Switch to Train,MERGED,2019-10-09 23:17:00.000000000,2019-10-11 03:59:14.000000000,2019-10-11 03:59:14.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:17:00.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/654e96445302cd7c77376c2b5e5ed67d464f29e8', 'message': 'Switch to Train\n\nChange-Id: If3ea70237d6d8ee344a98a07356b56a03d0487dc\n'}]",0,687730,654e96445302cd7c77376c2b5e5ed67d464f29e8,10,3,1,16137,,,0,"Switch to Train

Change-Id: If3ea70237d6d8ee344a98a07356b56a03d0487dc
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/30/687730/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,654e96445302cd7c77376c2b5e5ed67d464f29e8,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Iab007be7239dc8cfd6c68f915e6318983d25067d,openstack/puppet-openstack-integration,stable/train,Iab007be7239dc8cfd6c68f915e6318983d25067d,Set override-checkout to Train,MERGED,2019-10-10 09:23:57.000000000,2019-10-11 03:27:27.000000000,2019-10-11 03:27:27.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 09:23:57.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9feca5fea18a74bce9b297cc1654aaa6254b746b', 'message': 'Set override-checkout to Train\n\nChange-Id: Iab007be7239dc8cfd6c68f915e6318983d25067d\n'}]",0,687838,9feca5fea18a74bce9b297cc1654aaa6254b746b,10,3,1,16137,,,0,"Set override-checkout to Train

Change-Id: Iab007be7239dc8cfd6c68f915e6318983d25067d
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/38/687838/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,9feca5fea18a74bce9b297cc1654aaa6254b746b,,- pragma: implied-branches: - stable/train - name: openstack/openstack - name: openstack/puppet-aodh override-checkout: stable/train - name: openstack/puppet-barbican override-checkout: stable/train - name: openstack/puppet-ceilometer override-checkout: stable/train - name: openstack/puppet-cinder override-checkout: stable/train - name: openstack/puppet-cloudkitty override-checkout: stable/train - name: openstack/puppet-congress override-checkout: stable/train - name: openstack/puppet-designate override-checkout: stable/train - name: openstack/puppet-ec2api override-checkout: stable/train - name: openstack/puppet-glance override-checkout: stable/train - name: openstack/puppet-gnocchi override-checkout: stable/train - name: openstack/puppet-heat override-checkout: stable/train - name: openstack/puppet-horizon override-checkout: stable/train - name: openstack/puppet-ironic override-checkout: stable/train - name: openstack/puppet-keystone override-checkout: stable/train - name: openstack/puppet-manila override-checkout: stable/train - name: openstack/puppet-mistral override-checkout: stable/train - name: openstack/puppet-monasca override-checkout: stable/train - name: x/puppet-modulesync-configs - name: openstack/puppet-murano override-checkout: stable/train - name: openstack/puppet-neutron override-checkout: stable/train - name: openstack/puppet-nova override-checkout: stable/train - name: openstack/puppet-octavia override-checkout: stable/train - name: openstack/puppet-openstack-cookiecutter - name: openstack/puppet-openstack-integration override-checkout: stable/train - name: openstack/puppet-openstack_extras override-checkout: stable/train - name: openstack/puppet-openstacklib override-checkout: stable/train - name: openstack/puppet-oslo override-checkout: stable/train - name: openstack/puppet-ovn override-checkout: stable/train - name: openstack/puppet-panko override-checkout: stable/train - name: openstack/puppet-placement override-checkout: stable/train - name: openstack/puppet-qdr override-checkout: stable/train - name: openstack/puppet-sahara override-checkout: stable/train - name: openstack/puppet-swift override-checkout: stable/train - name: openstack/puppet-tacker override-checkout: stable/train - name: openstack/puppet-tempest override-checkout: stable/train - name: openstack/puppet-trove override-checkout: stable/train - name: openstack/puppet-vswitch override-checkout: stable/train - name: openstack/puppet-vitrage override-checkout: stable/train - name: openstack/puppet-watcher override-checkout: stable/train - name: openstack/puppet-zaqar override-checkout: stable/train - name: openstack/tempest override-checkout: stable/train - name: openstack/tempest-horizon override-checkout: stable/train, - openstack/openstack - openstack/puppet-aodh - openstack/puppet-barbican - openstack/puppet-ceilometer - openstack/puppet-cinder - openstack/puppet-cloudkitty - openstack/puppet-congress - openstack/puppet-designate - openstack/puppet-ec2api - openstack/puppet-glance - openstack/puppet-gnocchi - openstack/puppet-heat - openstack/puppet-horizon - openstack/puppet-ironic - openstack/puppet-keystone - openstack/puppet-manila - openstack/puppet-mistral - openstack/puppet-monasca - x/puppet-modulesync-configs - openstack/puppet-murano - openstack/puppet-neutron - openstack/puppet-nova - openstack/puppet-octavia - openstack/puppet-openstack-cookiecutter - openstack/puppet-openstack-integration - openstack/puppet-openstack_extras - openstack/puppet-openstacklib - openstack/puppet-oslo - openstack/puppet-ovn - openstack/puppet-panko - openstack/puppet-placement - openstack/puppet-qdr - openstack/puppet-sahara - openstack/puppet-swift - openstack/puppet-tacker - openstack/puppet-tempest - openstack/puppet-trove - openstack/puppet-vswitch - openstack/puppet-vitrage - openstack/puppet-watcher - openstack/puppet-zaqar - openstack/tempest - openstack/tempest-horizon,87,43
openstack%2Fneutron-vpnaas~master~I383a738be6d5e73911cc5f67215094edfe33f162,openstack/neutron-vpnaas,master,I383a738be6d5e73911cc5f67215094edfe33f162,Remove unused import statement.,ABANDONED,2019-10-11 01:54:22.000000000,2019-10-11 03:17:08.000000000,,"[{'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 01:54:22.000000000', 'files': ['neutron_vpnaas/db/models/head.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/9d4ce1e3dd47ab017dfc56f856bd53895c9d7ec1', 'message': 'Remove unused import statement.\n\nChange-Id: I383a738be6d5e73911cc5f67215094edfe33f162\n'}]",1,688022,9d4ce1e3dd47ab017dfc56f856bd53895c9d7ec1,4,3,1,30200,,,0,"Remove unused import statement.

Change-Id: I383a738be6d5e73911cc5f67215094edfe33f162
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/22/688022/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/db/models/head.py'],1,9d4ce1e3dd47ab017dfc56f856bd53895c9d7ec1,,,from neutron_vpnaas.db.vpn import vpn_db # noqa ,0,2
openstack%2Fpuppet-keystone~stable%2Ftrain~I24100b646ef6b4d4e70b8d4479220102fd923a1c,openstack/puppet-keystone,stable/train,I24100b646ef6b4d4e70b8d4479220102fd923a1c,Switch to Train,MERGED,2019-10-09 23:07:03.000000000,2019-10-11 03:10:21.000000000,2019-10-11 03:10:21.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:07:03.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/124f64d357877def1aded1365e744b40ea86ed0e', 'message': 'Switch to Train\n\nChange-Id: I24100b646ef6b4d4e70b8d4479220102fd923a1c\n'}]",0,687711,124f64d357877def1aded1365e744b40ea86ed0e,10,3,1,16137,,,0,"Switch to Train

Change-Id: I24100b646ef6b4d4e70b8d4479220102fd923a1c
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/11/687711/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,124f64d357877def1aded1365e744b40ea86ed0e,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fironic~stable%2Fstein~Ibedf375cfeeb20917f06e52b1e86a6990a3c494b,openstack/ironic,stable/stein,Ibedf375cfeeb20917f06e52b1e86a6990a3c494b,grub configuration should use user kernel & ramdisk,MERGED,2019-10-08 13:52:07.000000000,2019-10-11 02:54:03.000000000,2019-10-11 02:52:29.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-10-08 13:52:07.000000000', 'files': ['releasenotes/notes/ramdisk-grub-use-user-kernel-ramdisk-7d572fe130932605.yaml', 'ironic/drivers/modules/pxe_grub_config.template', 'ironic/tests/unit/drivers/pxe_grub_config.template'], 'web_link': 'https://opendev.org/openstack/ironic/commit/39196ca9ef042cd056afed08deaa620cc83f58a8', 'message': 'grub configuration should use user kernel & ramdisk\n\ncompared with pxe_config.template, ramdisk boot with grub should use\naki_path and ari_path\n\nChange-Id: Ibedf375cfeeb20917f06e52b1e86a6990a3c494b\nStory: 2006639\nTask: 36855\n(cherry picked from commit 2364c8b247899f8ac9fb42b53a070db2ea50a2e0)\n'}]",0,687306,39196ca9ef042cd056afed08deaa620cc83f58a8,25,7,1,29071,,,0,"grub configuration should use user kernel & ramdisk

compared with pxe_config.template, ramdisk boot with grub should use
aki_path and ari_path

Change-Id: Ibedf375cfeeb20917f06e52b1e86a6990a3c494b
Story: 2006639
Task: 36855
(cherry picked from commit 2364c8b247899f8ac9fb42b53a070db2ea50a2e0)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/687306/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ramdisk-grub-use-user-kernel-ramdisk-7d572fe130932605.yaml', 'ironic/drivers/modules/pxe_grub_config.template', 'ironic/tests/unit/drivers/pxe_grub_config.template']",3,39196ca9ef042cd056afed08deaa620cc83f58a8,ramdisk_boot_grub_use_user_kernel_ramdisk-stable/stein, linuxefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/kernel root=/dev/ram0 text test_param ramdisk_param initrdefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/ramdisk, linuxefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/deploy_kernel root=/dev/ram0 text test_param ramdisk_param initrdefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/deploy_ramdisk,9,4
openstack%2Fcinder~master~I4c41f4e029103db4514762c50b21c50619edf5a6,openstack/cinder,master,I4c41f4e029103db4514762c50b21c50619edf5a6,Add MacroSAN cinder driver,MERGED,2018-10-22 10:39:40.000000000,2019-10-11 02:07:15.000000000,2019-07-25 20:59:48.000000000,"[{'_account_id': 4523}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 8871}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12822}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20284}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24496}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29014}, {'_account_id': 29620}, {'_account_id': 29627}, {'_account_id': 29716}]","[{'number': 1, 'created': '2018-10-22 10:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d8d5199d0b1fa3d659457f9023a95aa346082bf', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 2, 'created': '2018-11-13 04:17:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6baaea1a94620b9f0aa7815f4d9a9ec5a5876d49', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 3, 'created': '2018-11-16 10:20:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/55fafd3a57cda10b848467225c6e5c3a4c39ef2d', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 4, 'created': '2019-06-27 08:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/16a84b64dffd18a60b3a903f41b2776524076ef5', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 5, 'created': '2019-06-28 07:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/292cd0cd21c80c1f5ad04831dd6498e18362535b', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 6, 'created': '2019-06-28 08:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1340f2c2028e5629d964f27998abf2aa1d14b307', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 7, 'created': '2019-07-05 02:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/311c399dda3172a1713706746b3079ce4a0a53d0', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 8, 'created': '2019-07-05 07:28:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/89246dee4417747f15edb0c2dc73e214bd5a3998', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 9, 'created': '2019-07-12 02:59:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1d0cc6c789e13adc3fe9a9bf1bfec7652a57cd0', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 10, 'created': '2019-07-12 07:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b06353137eff6eeafc37992366f5f426ad1bd1f', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nDocImpact\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 11, 'created': '2019-07-16 01:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b41a01a24b0fd6dd330debb03d8320257446000', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 12, 'created': '2019-07-17 01:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0cf08798ed69845eb4d3e27666bcb532ed2fb5c1', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 13, 'created': '2019-07-17 05:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3a6117661e72176a88a0a8ae98029e61686b1c0', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 14, 'created': '2019-07-17 05:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b267f2463a3eec27ed910752bfb005a60308fce4', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 15, 'created': '2019-07-17 05:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a4d1fab5b251c977e52693f127aef70bc3b02a3', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 16, 'created': '2019-07-18 01:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/31770435230e7d0930240646edd2ee774180198b', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 17, 'created': '2019-07-18 08:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b0fb21e5ed1268bfc58d98b8af0bace37a47d26c', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 18, 'created': '2019-07-24 11:38:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8e0d5d72afd463d1b2bb12616e5d53a2abbb1309', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 19, 'created': '2019-07-25 09:30:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dfe08e423030087e0a5126d5ce24f0cb183183f8', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}, {'number': 20, 'created': '2019-07-25 14:24:26.000000000', 'files': ['cinder/opts.py', 'cinder/volume/drivers/macrosan/__init__.py', 'doc/source/reference/support-matrix.ini', 'cinder/volume/drivers/macrosan/devop_client.py', 'cinder/volume/drivers/macrosan/config.py', 'doc/source/configuration/block-storage/drivers/MacroSAN-storage-driver.rst', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/tests/unit/test_macrosan_drivers.py', 'releasenotes/notes/MacroSAN-volume-driver-6477e4ec7c38f49d.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/22a04777995ad92f7afc8fc58c176220ed2a9dd5', 'message': 'Add MacroSAN cinder driver\n\nThis driver supports below features:\n* Volume Create/Delete\n* Volume Attach/Detach\n* Snapshot Create/Delete\n* Create Volume from Snapshot\n* Copy Image to Volume\n* Copy Volume to Image\n* Clone Volume\n* Extend volume\n* Volume Migration\n\nThis patchset includes the unit tests.\n\nImplements: blueprint macrosan-cinder-driver\n\nChange-Id: I4c41f4e029103db4514762c50b21c50619edf5a6\n'}]",120,612311,22a04777995ad92f7afc8fc58c176220ed2a9dd5,478,49,20,29014,,,0,"Add MacroSAN cinder driver

This driver supports below features:
* Volume Create/Delete
* Volume Attach/Detach
* Snapshot Create/Delete
* Create Volume from Snapshot
* Copy Image to Volume
* Copy Volume to Image
* Clone Volume
* Extend volume
* Volume Migration

This patchset includes the unit tests.

Implements: blueprint macrosan-cinder-driver

Change-Id: I4c41f4e029103db4514762c50b21c50619edf5a6
",git fetch https://review.opendev.org/openstack/cinder refs/changes/11/612311/20 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/macrosan/__init__.py', 'cinder/volume/drivers/macrosan/commit.txt', 'cinder/volume/drivers/macrosan/devop_client.py', 'cinder/volume/drivers/macrosan/driver.py', 'cinder/tests/unit/test_macrosan_drivers.py']",5,7d8d5199d0b1fa3d659457f9023a95aa346082bf,bp/macrosan-cinder-driver,"# Copyright (c) 2016 MacroSAN Technologies Co., Ltd. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """"""Tests for macrosan drivers."""""" import mock import os import shutil import socket import tempfile from oslo_log import log as logging from cinder import exception from cinder import test from cinder import utils from cinder.volume import configuration as conf from cinder.volume.drivers.macrosan import devop_client from cinder.volume.drivers.macrosan import driver from cinder.volume import qos_specs from cinder.volume import utils as volutils from cinder.volume import volume_types LOG = logging.getLogger(__name__) config_xml = '''<?xml version='1.0' encoding='UTF-8'?> <cinder_config> <storage_device passwd=""passwd"" sp1=""172.192.251.1"" sp2=""172.192.251.2"" \ username=""openstack"" /> <volume_backend lun_mode=""normal"" name=""MacroSAN"" pool=""Pool-1"" /> <lun> <parameters extent_size=""8KB"" high_watermark=""40"" low_watermark=""8"" /> </lun> <snapshot resource_ratio=""0.3"" /> <client_list> <client host=""controller"" name=""Client-controller"" \ sp1=""192.168.251.1"" sp2=""192.168.251.2"" /> <client host=""openstack-1"" name=""Client-openstack-1"" \ sp1=""192.168.251.1"" sp2=""192.168.251.2"" /> </client_list> <copy_volume dd_block_size=""8M"" /> <debug timing=""on"" /> </cinder_config>''' test_volume = {'name': 'volume-728ec287-bf30-4d2d-98a8-7f1bed3f59ce', 'size': 10, 'volume_name': 'test', 'id': '728ec287-bf30-4d2d-98a8-7f1bed3f59ce', 'volume_id': '728ec287-bf30-4d2d-98a8-7f1bed3f59ce', 'provider_auth': None, 'project_id': 'project', 'display_name': 'test', 'display_description': 'test', 'volume_type_id': None, 'host': 'controller@macrosan#MacroSAN', 'provider_location': 'macrosan uuid:0x00b34201-025b0000-46b35ae7-b7deec47' } test_migrate_volume = {'name': 'volume-d42b436a-54cc-480a-916c-275b0258ef59', 'size': 10, 'volume_name': 'test', 'id': 'd42b436a-54cc-480a-916c-275b0258ef59', 'volume_id': 'd42b436a-54cc-480a-916c-275b0258ef59', 'provider_auth': None, 'project_id': 'project', 'display_name': 'test', 'display_description': 'test', 'volume_type_id': None, '_name_id': None, 'host': 'controller@macrosan#MacroSAN', 'provider_location': 'macrosan uuid:0x00b34201-00180000-9ac35425-9e288d9a' } test_snap = {'name': 'volume-728ec287-bf30-4d2d-98a8-7f1bed3f59ce', 'size': 10, 'volume_name': 'test', 'id': 'aa2419a3-c144-46af-831b-e0d914d3957b', 'volume_id': '728ec287-bf30-4d2d-98a8-7f1bed3f59ce', 'provider_auth': None, 'project_id': 'project', 'display_name': 'test', 'display_description': 'test volume', 'volume_type_id': None, 'provider_location': 'pointid: 1', 'volume_size': 10, 'volume': test_volume } test_connector = {'initiator': 'iqn.1993-08.org.debian:01:62027e12fbc', 'wwpns': ['21000024ff2003ec', '21000024ff2003ed'], 'wwnns': ['20000024ff2003ec', '20000024ff2003ed'], 'host': 'controller' } fake_fabric_mapping = { 'switch1': { 'target_port_wwn_list': ['500b342001001805', '500b342001004605'], 'initiator_port_wwn_list': ['21000024ff2003ec', '21000024ff2003ed'] } } expected_iscsi_properties = {'target_discovered': False, 'target_portal': '192.168.251.1:3260', 'target_iqn': 'iqn.2010-05.com.macrosan.target:controller', 'target_lun': 0, 'target_iqns': ['iqn.2010-05.com.macrosan.target:controller', 'iqn.2010-05.com.macrosan.target:controller'], 'target_portals': ['192.168.251.1:3260', '192.168.251.2:3260'], 'target_luns': [0, 0], 'volume_id': '728ec287-bf30-4d2d-98a8-7f1bed3f59ce' } expected_initr_port_map_tgtexist = {'21000024ff2003ec': [{'wwn': '500b342001001805', 'sp': 1}, {'wwn': '500b342001004605', 'sp': 2}], '21000024ff2003ed': [{'wwn': '500b342001001805', 'sp': 1}, {'wwn': '500b342001004605', 'sp': 2}] } expected_initr_port_map_tgtnotexist = {'21000024ff2003ec': [{'wwn': '500b342001001805', 'sp': 1, 'refcnt': 0}, {'wwn': '500b342001004605', 'sp': 2, 'refcnt': 0}], '21000024ff2003ed': [{'wwn': '500b342001001805', 'sp': 1, 'refcnt': 0}, {'wwn': '500b342001004605', 'sp': 2, 'refcnt': 0}] } expected_fctgtexist_properties = {'target_lun': 0, 'target_discovered': True, 'target_wwn': ['500b342001001805', '500b342001004605'], 'volume_id': '728ec287-bf30-4d2d-98a8-7f1bed3f59ce' } class DummyItem(object): def __enter__(self): return None def __exit__(self, type, value, traceback): pass class DummySSHPool(object): def item(self): return DummyItem() class DummyBrickGetConnector(object): def connect_volume(self, fake_con_data): return {'path': '/dev/mapper/3600b3429d72e349d93bad6597d0000df'} def disconnect_volume(self, fake_con_data, fake_device): return None class FakeClient(devop_client.Client): def __init__(self, sp1_ip, sp2_ip, username, passwd): self.cmd_fail = False self.snappoid = False self.fc_cmd = False self.tgt_notexist = False self.sshpool = DummySSHPool() def select_sshpool(self): pass def ha_mgt_getstatus_cmd(self, *args): return ""SP1 HA Running Status : single \ SP2 HA Running Status : single"" def client_mgt_query_cmd(self, *args): return '''Name: controller Description: Access Mode: Read/Write Non-Exclusive Is Connected: No Mapped FC Initiators Sum: 0 Mapped FC Targets Sum: 0 Mapped ISCSI Initiators Sum: 0 Mapped ISCSI Targets Sum: 0 Command completed successfully.''' def client_initiator_query_cmd(self, *args): return None def client_mgt_addinitiator_cmd(self, *args): return None def client_mgt_create_cmd(self, *args): return None def client_target_query_cmd(self, *args): if self.tgt_notexist: return ""Command failed"" else: if self.fc_cmd: return '''Name: fc.target:storage-controller Mapped Clients: Client-controller Type: FC SP1 Port List: 50:0b:34:20:01:00:18:05 SP2 Port List: 50:0b:34:20:01:00:46:05 Is Connected: Yes Mapped LUNs Sum: 0 Initiators Sum: 2 [Initiator List] 21:00:00:24:ff:20:03:ec(Yes) 21:00:00:24:ff:20:03:ed(Yes) Command completed successfully.''' else: return '''Name: iqn.2010-05.com.macrosan.target:controller Mapped Clients: Client-controller Type: iSCSI iSCSI CHAP Authentication for Target: disable SP1 Port List: 192.168.251.1 SP2 Port List: 192.168.251.2 Is Connected: No Mapped LUNs Sum: 0 Initiators Sum: 1 [Initiator List] iqn.1993-08.org.debian:01:62027e12fbc(Unconnect) Command completed successfully.''' def client_target_create_cmd(self, *args): return None def client_initiator_create_cmd(self, *args): return None def client_target_addlun_cmd(self, *args): if self.cmd_fail: return ""Command failed"" else: return None def raid_mgt_getlist_cmd(self, *args): return '''RAIDs Sum: 1 Name: RAID-1 RAID Level: RAID0 Health Status: Normal Total Capacity: 1862GB Free Capacity: 1749GB Disk Type: SAS Data Disks Sum: 1 Dedicated Spare Disks Sum: 0 Command completed successfully.''' def lun_mgt_createthicklun_cmd(self, *args): return None def lun_mgt_query_cmd(self, *args): return [] def lun_mgt_delete_cmd(self, *args): return None def lun_mgt_expandthicklun_cmd(self, *args): return None def lun_mgt_expandthinlun_cmd(self, *args): return None def qos_lun_enableqos_cmd(self, *args): if self.cmd_fail: return ""Command failed"" else: return None def snapshot_resource_query_cmd(self, *args): return None def snapshot_point_create_cmd(self, *args): if self.cmd_fail: return ""Command failed"" else: return None def snapshot_point_getlist_cmd(self, *args): if self.snappoid: return '''Points Sum: 1 Point ID: 1 Point Timestamp: 2016-06-20 14:13:22 Point Type: Public Point Size: 0KB Description: aa2419a3c14446af831be0d914d3957 Notification: N/A Mapped View: Null Command completed successfully.''' else: return '''Points Sum: 0 Command completed successfully.''' def snapshot_point_delete_cmd(self, *args): return None def snapshot_mgt_disable_cmd(self, *args): return None def snapshot_resource_delete_cmd(self, *args): return None def snapshot_view_create_cmd(self, *args): if self.cmd_fail: return ""Command failed"" else: return None def snapshot_view_delete_cmd(self, *args): return None def client_target_removeview_cmd(self, *args): return None def client_target_removelun_cmd(self, *args): if self.cmd_fail: return ""Command failed"" else: return None def client_target_addview_cmd(self, *args): return None def execute_cli(self, ssh, cmd): cli_cmd = getattr(self, '_'.join(cmd.split()[:3] + ['cmd'])) o = cli_cmd() if o == ""Command failed"": raise exception.VolumeBackendAPIException(o) return o def get_lun_uuid(self, lun_name): return '0x00b34201-025b0000-46b35ae7-b7deec47' def get_lun_name(self, lun_uuid): if lun_uuid == ""0x00b34201-025b0000-46b35ae7-b7deec47"": return '728ec287-bf30-4d2d-98a8-7f1bed3f59ce' if lun_uuid == ""0x00b34201-00180000-9ac35425-9e288d9a"": return 'd42b436a-54cc-480a-916c-275b0258ef59' def get_lun_name_from_rename_file(self, name): return None def backup_lun_name_to_rename_file(self, cur_name, original_name): return None def get_lun_id(self, tgt_name, lun_name, type='FC'): return 0 def get_view_lun_id(self, tgt_name, view_name, type='FC'): return 0 def get_online_fc_ports(self): return [{'sp': 1, 'wwn': '500b342001001805', 'refcnt': 0}, {'sp': 2, 'wwn': '500b342001004605', 'refcnt': 0}] class MacroSANISCSIDriverTestCase(test.TestCase): def setUp(self): test_dir = tempfile.mkdtemp() self.addCleanup(shutil.rmtree, test_dir) self.test_conf_file = os.path.join(test_dir, 'cinder_macrosan.xml') with open(self.test_conf_file, 'w') as f: f.write(config_xml) driver.config_path = self.test_conf_file super(MacroSANISCSIDriverTestCase, self).setUp() self.configuration = mock.Mock(spec=conf.Configuration) self.driver = FakeMacroSANISCSIDriver(configuration=self.configuration) self.driver.do_setup() def test_create_volume(self): test_volume['volume_type_id'] = None ret = self.driver.create_volume(test_volume) actual = ret['provider_location'] self.assertEqual(test_volume['provider_location'], actual) @mock.patch.object(volume_types, 'get_volume_type', return_value={'qos_specs_id': '99f3d240-1b20-4b7b-9321-c6b8b86243ff'}) @mock.patch.object(qos_specs, 'get_qos_specs', return_value={'specs': {'qos-strategy': u'QoS-1'}}) def test_create_qos_volume(self, mock_volume_type, mock_qos): test_volume['volume_type_id'] = 'a2ed23e0-76c4-426f-a574-a1327275e725' ret = self.driver.create_volume(test_volume) actual = ret['provider_location'] self.assertEqual(test_volume['provider_location'], actual) def test_delete_volume(self): self.driver.delete_volume(test_volume) def test_create_snapshot(self): self.driver.client.snappoid = True ret = self.driver.create_snapshot(test_snap) actual = ret['provider_location'] self.assertEqual(test_snap['provider_location'], actual) def test_delete_snapshot(self): self.driver.delete_snapshot(test_snap) @mock.patch.object(socket, 'gethostname', return_value='controller') @mock.patch.object(utils, 'brick_get_connector', return_value=DummyBrickGetConnector()) @mock.patch.object(volutils, 'copy_volume', return_value=None) @mock.patch.object(os.path, 'realpath', return_value=None) def test_create_volume_from_snapshot(self, mock_hostname, mock_brick_get_connector, mock_copy_volume, mock_os_path): ret = self.driver.create_volume_from_snapshot(test_volume, test_snap) actual = ret['provider_location'] self.assertEqual(test_volume['provider_location'], actual) @mock.patch.object(socket, 'gethostname', return_value='controller') @mock.patch.object(utils, 'brick_get_connector', return_value=DummyBrickGetConnector()) @mock.patch.object(volutils, 'copy_volume', return_value=None) @mock.patch.object(os.path, 'realpath', return_value=None) def test_create_cloned_volume(self, mock_hostname, mock_brick_get_connector, mock_copy_volume, mock_os_path): self.driver.client.snappoid = True ret = self.driver.create_cloned_volume(test_volume, test_volume) actual = ret['provider_location'] self.assertEqual(test_volume['provider_location'], actual) def test_extend_volume(self): self.driver.extend_volume(test_volume, 15) def test_update_migrated_volume(self): expected = {'_name_id': test_migrate_volume['id'], 'provider_location': test_migrate_volume['provider_location']} ret = self.driver.update_migrated_volume("""", test_volume, test_migrate_volume) self.assertEqual(expected, ret) def test_initialize_connection(self): ret = self.driver.initialize_connection(test_volume, test_connector) self.assertEqual(expected_iscsi_properties, ret['data']) def test_terminate_connection(self): self.driver.terminate_connection(test_volume, test_connector) def test_get_client_name(self): expected = ""Client-controller"" ret = self.driver.get_client_name('controller') self.assertEqual(expected, ret) def test_get_raid_list(self): expected = [""RAID-1""] ret = self.driver.get_raid_list(20) self.assertEqual(expected, ret) def test_get_volume_stats(self): ret = self.driver.get_volume_stats(True) expected = ""iSCSI"" self.assertEqual(expected, ret['storage_protocol']) @mock.patch.object(volume_types, 'get_volume_type', return_value={'qos_specs_id': '99f3d240-1b20-4b7b-9321-c6b8b86243ff'}) @mock.patch.object(qos_specs, 'get_qos_specs', return_value={'specs': {'qos-strategy': u'QoS-1'}}) def test_create_qos_volume_fail(self, mock_volume_type, mock_qos): test_volume['volume_type_id'] = 'a2ed23e0-76c4-426f-a574-a1327275e725' self.driver.client.cmd_fail = True self.assertRaises(exception.VolumeBackendAPIException, self.driver.create_volume, test_volume) def test_create_snapshot_fail(self): self.driver.client.cmd_fail = True self.assertRaises(exception.VolumeBackendAPIException, self.driver.create_snapshot, test_snap) @mock.patch.object(socket, 'gethostname', return_value='controller') @mock.patch.object(utils, 'brick_get_connector', return_value=DummyBrickGetConnector()) @mock.patch.object(volutils, 'copy_volume', return_value=None) @mock.patch.object(os.path, 'realpath', return_value=None) def test_create_volume_from_snapshot_fail(self, mock_hostname, mock_brick_get_connector, mock_copy_volume, mock_os_path): self.driver.client.cmd_fail = True self.assertRaises(exception.VolumeBackendAPIException, self.driver.create_volume_from_snapshot, test_volume, test_snap) @mock.patch.object(socket, 'gethostname', return_value='controller') @mock.patch.object(utils, 'brick_get_connector', return_value=DummyBrickGetConnector()) @mock.patch.object(volutils, 'copy_volume', return_value=None) @mock.patch.object(os.path, 'realpath', return_value=None) def test_create_cloned_volume_fail(self, mock_hostname, mock_brick_get_connector, mock_copy_volume, mock_os_path): self.driver.client.cmd_fail = True self.assertRaises(exception.VolumeBackendAPIException, self.driver.create_cloned_volume, test_volume, test_volume) def test_initialize_connection_fail(self): self.driver.client.cmd_fail = True self.assertRaises(exception.VolumeBackendAPIException, self.driver.initialize_connection, test_volume, test_connector) def test_terminate_connection_fail(self): self.driver.client.cmd_fail = True self.assertRaises(exception.VolumeBackendAPIException, self.driver.terminate_connection, test_volume, test_connector) def test_get_raid_list_fail(self): self.assertRaises(exception.VolumeBackendAPIException, self.driver.get_raid_list, 2000) def test_get_client_name_fail(self): self.assertRaises(exception.VolumeBackendAPIException, self.driver.get_client_name, ""controller-1"") class MacroSANFCDriverTestCase(test.TestCase): def setUp(self): test_dir = tempfile.mkdtemp() self.addCleanup(shutil.rmtree, test_dir) self.test_conf_file = os.path.join(test_dir, 'cinder_macrosan.xml') with open(self.test_conf_file, 'w') as f: f.write(config_xml) driver.config_path = self.test_conf_file super(MacroSANFCDriverTestCase, self).setUp() self.configuration = mock.Mock(spec = conf.Configuration) self.driver = FakeMacroSANFCDriver(configuration=self.configuration) self.driver.do_setup() def test_get_initr_port_map_tgtexist(self): self.driver.client.fc_cmd = True tgt_name = 'fc.target:storage-controller' ret = self.driver.get_initr_port_map(test_connector['wwpns'], tgt_name) self.assertEqual(expected_initr_port_map_tgtexist, ret) def test_get_initr_port_map_tgtnotexist(self): self.driver.client.tgt_notexist = True tgt_name = 'fc.target:storage-controller' ret = self.driver.get_initr_port_map(test_connector['wwpns'], tgt_name) self.assertEqual(expected_initr_port_map_tgtnotexist, ret) def test_initialize_connection(self): self.driver.client.fc_cmd = True ret = self.driver.initialize_connection(test_volume, test_connector) self.assertEqual(expected_fctgtexist_properties, ret['data']) def test_terminate_connection(self): self.driver.terminate_connection(test_volume, test_connector) @mock.patch.object(socket, 'gethostname', return_value='controller') @mock.patch.object(utils, 'brick_get_connector', return_value=DummyBrickGetConnector()) @mock.patch.object(volutils, 'copy_volume', return_value=None) @mock.patch.object(os.path, 'realpath', return_value=None) def test_create_volume_from_snapshot(self, mock_hostname, mock_brick_get_connector, mock_copy_volume, mock_os_path): self.driver.client.fc_cmd = True ret = self.driver.create_volume_from_snapshot(test_volume, test_snap) actual = ret['provider_location'] self.assertEqual(test_volume['provider_location'], actual) @mock.patch.object(socket, 'gethostname', return_value='controller') @mock.patch.object(utils, 'brick_get_connector', return_value=DummyBrickGetConnector()) @mock.patch.object(volutils, 'copy_volume', return_value=None) @mock.patch.object(os.path, 'realpath', return_value=None) def test_create_cloned_volume(self, mock_hostname, mock_brick_get_connector, mock_copy_volume, mock_os_path): self.driver.client.snappoid = True self.driver.client.fc_cmd = True ret = self.driver.create_cloned_volume(test_volume, test_volume) actual = ret['provider_location'] self.assertEqual(test_volume['provider_location'], actual) @mock.patch.object(socket, 'gethostname', return_value='controller') @mock.patch.object(utils, 'brick_get_connector', return_value=DummyBrickGetConnector()) @mock.patch.object(volutils, 'copy_volume', return_value=None) @mock.patch.object(os.path, 'realpath', return_value=None) def test_create_volume_from_snapshot_fail(self, mock_hostname, mock_brick_get_connector, mock_copy_volume, mock_os_path): self.driver.client.cmd_fail = True self.driver.client.fc_cmd = True self.assertRaises(exception.VolumeBackendAPIException, self.driver.create_volume_from_snapshot, test_volume, test_snap) @mock.patch.object(socket, 'gethostname', return_value='controller') @mock.patch.object(utils, 'brick_get_connector', return_value=DummyBrickGetConnector()) @mock.patch.object(volutils, 'copy_volume', return_value=None) @mock.patch.object(os.path, 'realpath', return_value=None) def test_create_cloned_volume_fail(self, mock_hostname, mock_brick_get_connector, mock_copy_volume, mock_os_path): self.driver.client.cmd_fail = True self.driver.client.fc_cmd = True self.assertRaises(exception.VolumeBackendAPIException, self.driver.create_cloned_volume, test_volume, test_volume) def test_initialize_connection_fail(self): self.driver.client.cmd_fail = True self.driver.client.fc_cmd = True self.assertRaises(exception.VolumeBackendAPIException, self.driver.initialize_connection, test_volume, test_connector) def test_terminate_connection_fail(self): self.driver.client.cmd_fail = True self.assertRaises(exception.VolumeBackendAPIException, self.driver.terminate_connection, test_volume, test_connector) class FakeMacroSANISCSIDriver(driver.MacroSANISCSIDriver): """"""Fake MacroSAN Storage, Rewrite some methods of MacroSANISCSIDriver."""""" def __init__(self, configuration): self._stats = {} self.use_multipath = True self.owners = ['SP1', 'SP2'] self.owner_idx = 0 self.client = None self.lun_params = {} self.storage_protocol = None self.username = '' self.passwd = '' self.volume_backend_name = 'MacroSAN' self.storage_protocol = 'iSCSI' self.configuration = configuration self.configuration.num_volume_device_scan_tries = 3 self.configuration.volume_dd_blocksize = 8 def do_setup(self): super(FakeMacroSANISCSIDriver, self)._parse_config() self.client = FakeClient(self.sp1_ipaddr, self.sp2_ipaddr, self.username, self.passwd) @property def self_node_wwns(self): return [""iqn.1993-08.org.debian:01:62027e12fbc""] def _snapshot_name(self, snapshotid): return ""aa2419a3c14446af831be0d914d3957"" class FCSanLookupService(object): def get_device_mapping_from_network(self, initiator_list, target_list): return fake_fabric_mapping class FakeMacroSANFCDriver(driver.MacroSANFCDriver): """"""Fake MacroSAN Storage, Rewrite some methods of MacroSANFCDriver."""""" def __init__(self, configuration): self._stats = {} self.use_multipath = True self.owners = ['SP1', 'SP2'] self.owner_idx = 0 self.client = None self.lun_params = {} self.storage_protocol = None self.username = '' self.passwd = '' self.volume_backend_name = 'MacroSAN' self.storage_protocol = 'FC' self.fcsan_lookup_service = None self.configuration = configuration self.configuration.num_volume_device_scan_tries = 3 self.configuration.volume_dd_blocksize = 8 def do_setup(self): super(FakeMacroSANFCDriver, self)._parse_config() self.client = FakeClient(self.sp1_ipaddr, self.sp2_ipaddr, self.username, self.passwd) self.fcsan_lookup_service = FCSanLookupService() @property def self_node_wwns(self): return ['21000024ff2003ec', '21000024ff2003ed'] def _snapshot_name(self, snapshotid): return ""aa2419a3c14446af831be0d914d3957"" ",,1968,0
openstack%2Fmasakari-monitors~master~I3f2026805413504c875ea5f39eb036d44b26dd43,openstack/masakari-monitors,master,I3f2026805413504c875ea5f39eb036d44b26dd43,Use crm_mon for pacemaker-remote deployments,MERGED,2019-03-26 14:34:19.000000000,2019-10-11 01:50:51.000000000,2019-10-10 11:42:50.000000000,"[{'_account_id': 935}, {'_account_id': 1011}, {'_account_id': 8716}, {'_account_id': 12549}, {'_account_id': 16006}, {'_account_id': 22348}, {'_account_id': 27302}]","[{'number': 1, 'created': '2019-03-26 14:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/181b23e827f3f5e9933b374825fe112aeb4b38c3', 'message': 'Use crm_mon for pacemaker-remote deployments\n\nAs described in bug #1728527 cibadmin does not expose the state of\nthe pacemaker-remote nodes which means hostmonitor cannot track\nthem. This change switches to use crm_mon to check the status of\nremote nodes if the new config option host.restrict_to_remotes\nto set to True. This will trigger host monitor to use crm_mon\nto monitor nodes and will only monitor nodes that are marked\nas remotes (not members).\n\nChange-Id: I3f2026805413504c875ea5f39eb036d44b26dd43\nCloses-Bug: #1728527\n'}, {'number': 2, 'created': '2019-08-06 09:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/33d936b230b65bc8ae6c7c0f041d8b8336969a9d', 'message': 'Use crm_mon for pacemaker-remote deployments\n\nAs described in bug #1728527 cibadmin does not expose the state of\nthe pacemaker-remote nodes which means hostmonitor cannot track\nthem. This change switches to use crm_mon to check the status of\nremote nodes if the new config option host.restrict_to_remotes\nto set to True. This will trigger host monitor to use crm_mon\nto monitor nodes and will only monitor nodes that are marked\nas remotes (not members).\n\nChange-Id: I3f2026805413504c875ea5f39eb036d44b26dd43\nCloses-Bug: #1728527\n'}, {'number': 3, 'created': '2019-08-27 17:00:29.000000000', 'files': ['masakarimonitors/conf/host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_parse_crmmon_xml.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/dc9b77772417c99368a4bbe243bb8e0e7c0bca47', 'message': 'Use crm_mon for pacemaker-remote deployments\n\nAs described in bug #1728527 cibadmin does not expose the state of\nthe pacemaker-remote nodes which means hostmonitor cannot track\nthem. This change switches to use crm_mon to check the status of\nremote nodes if the new config option host.restrict_to_remotes\nto set to True. This will trigger host monitor to use crm_mon\nto monitor nodes and will only monitor nodes that are marked\nas remotes (not members).\n\nChange-Id: I3f2026805413504c875ea5f39eb036d44b26dd43\nDepends-On: Iaa2251708616e9c69817bf5b346d795ea7a4d21b\nCloses-Bug: #1728527\n'}]",8,647756,dc9b77772417c99368a4bbe243bb8e0e7c0bca47,29,7,3,12549,,,0,"Use crm_mon for pacemaker-remote deployments

As described in bug #1728527 cibadmin does not expose the state of
the pacemaker-remote nodes which means hostmonitor cannot track
them. This change switches to use crm_mon to check the status of
remote nodes if the new config option host.restrict_to_remotes
to set to True. This will trigger host monitor to use crm_mon
to monitor nodes and will only monitor nodes that are marked
as remotes (not members).

Change-Id: I3f2026805413504c875ea5f39eb036d44b26dd43
Depends-On: Iaa2251708616e9c69817bf5b346d795ea7a4d21b
Closes-Bug: #1728527
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/56/647756/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakarimonitors/conf/host.py', 'masakarimonitors/tests/unit/hostmonitor/host_handler/test_handle_host.py', 'masakarimonitors/hostmonitor/host_handler/handle_host.py', 'masakarimonitors/hostmonitor/host_handler/parse_crmmon_xml.py']",4,181b23e827f3f5e9933b374825fe112aeb4b38c3,bug/1728527,"# Copyright(c) 2019 Canonical Ltd # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from xml.etree import ElementTree from oslo_log import log as oslo_logging LOG = oslo_logging.getLogger(__name__) class ParseCrmMonXml(object): """"""ParseCrmMonXml class This class parses the crmmon xml. """""" def __init__(self): self.crmmon_tag = None def set_crmmon_xml(self, crmmon_xml): """"""Set xml.etree.ElementTree.Element object. This method recieves string of crmmon xml, and convert it to xml.etree.ElementTree.Element object. :params crmmon_xml: String of crmmon xml """""" # Convert xml.etree.ElementTree.Element object. self.crmmon_tag = ElementTree.fromstring(crmmon_xml) def _get_nodes(self): # status tag exists in the crmmon tag. child_list = self.crmmon_tag.getchildren() for child in child_list: if child.tag == 'nodes': return child return None def _get_node_states(self, nodes_tag): node_state_tag_list = [] # node_state tag exists in the status tag. child_list = nodes_tag.getchildren() for child in child_list: if child.tag == 'node': node_state_tag_list.append(child) return node_state_tag_list def get_node_state_tag_list(self): """"""Get node_state tag list. This method gets node_state tag list from crmmon xml. :returns: node_state tag list """""" # Get status tag. nodes_tag = self._get_nodes() if nodes_tag is None: LOG.error(""crm_mon xml doesn't have nodes tag."") return [] # Get node_state tag list. node_state_tag_list = self._get_node_states(nodes_tag) if len(node_state_tag_list) == 0: LOG.error(""crm_mon xml doesn't have online tag."") return node_state_tag_list ",,284,2
openstack%2Fneutron-vpnaas~master~I097f10272235929136563e837bd9adac18afe540,openstack/neutron-vpnaas,master,I097f10272235929136563e837bd9adac18afe540,Remove unused import statement.,ABANDONED,2019-10-11 01:01:37.000000000,2019-10-11 01:48:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-11 01:01:37.000000000', 'files': ['neutron_vpnaas/db/models/head.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron_vpnaas/db/migration/alembic_migrations/versions/EXPAND_HEAD'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/ddc5efa06660bc6cd1bb3e2f3767de53337904c9', 'message': 'Remove unused import statement.\n\nChange-Id: I097f10272235929136563e837bd9adac18afe540\n'}]",0,688015,ddc5efa06660bc6cd1bb3e2f3767de53337904c9,3,1,1,30200,,,0,"Remove unused import statement.

Change-Id: I097f10272235929136563e837bd9adac18afe540
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/15/688015/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_vpnaas/db/models/head.py', 'neutron_vpnaas/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron_vpnaas/db/migration/alembic_migrations/versions/EXPAND_HEAD']",3,ddc5efa06660bc6cd1bb3e2f3767de53337904c9,,a12351fd3b5a,95601446dbcc,2,4
openstack%2Fpuppet-placement~stable%2Ftrain~I896c453c5d83b8b95400eba047883de29f28c04b,openstack/puppet-placement,stable/train,I896c453c5d83b8b95400eba047883de29f28c04b,Switch to Train,MERGED,2019-10-09 23:26:10.000000000,2019-10-11 01:44:39.000000000,2019-10-11 01:44:39.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:26:10.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/dcf9a58581ba79cd531cb4aff2b481e78ee8a130', 'message': 'Switch to Train\n\nChange-Id: I896c453c5d83b8b95400eba047883de29f28c04b\n'}]",0,687740,dcf9a58581ba79cd531cb4aff2b481e78ee8a130,10,3,1,16137,,,0,"Switch to Train

Change-Id: I896c453c5d83b8b95400eba047883de29f28c04b
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/40/687740/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,dcf9a58581ba79cd531cb4aff2b481e78ee8a130,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Ftrove~master~I179005a5bcf2a2c01ecae068a400503b412cd9e2,openstack/trove,master,I179005a5bcf2a2c01ecae068a400503b412cd9e2,Release note for service_credentials config,MERGED,2019-10-11 01:13:28.000000000,2019-10-11 01:34:14.000000000,2019-10-11 01:33:04.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-11 01:13:28.000000000', 'files': ['releasenotes/notes/ussuri-01-service-credential-config.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/e5637f00e2b98bbad2ad5dedf0aceb8f89e53e50', 'message': 'Release note for service_credentials config\n\nChange-Id: I179005a5bcf2a2c01ecae068a400503b412cd9e2\n'}]",0,688016,e5637f00e2b98bbad2ad5dedf0aceb8f89e53e50,7,2,1,6732,,,0,"Release note for service_credentials config

Change-Id: I179005a5bcf2a2c01ecae068a400503b412cd9e2
",git fetch https://review.opendev.org/openstack/trove refs/changes/16/688016/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ussuri-01-service-credential-config.yaml'],1,e5637f00e2b98bbad2ad5dedf0aceb8f89e53e50,release-note,--- deprecations: | - The following config options are deprecated in favor of a separate configuration section ``service_credentials`` introduced to define the Trove service user credentials for communication with other OpenStack services. .. code-block:: ini [DEFAULT] trove_auth_url os_region_name nova_proxy_admin_user nova_proxy_admin_pass nova_proxy_admin_tenant_id nova_proxy_admin_tenant_name nova_proxy_admin_user_domain_name nova_proxy_admin_project_domain_name ,,18,0
openstack%2Ftripleo-heat-templates~master~Iaad6d1cf312194d5b81747bc8e8749e48994ee7e,openstack/tripleo-heat-templates,master,Iaad6d1cf312194d5b81747bc8e8749e48994ee7e,DNM: Test token caching in keystone,ABANDONED,2019-09-19 14:40:00.000000000,2019-10-11 01:17:02.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-19 14:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ecd17050aeb0f4f881febd4c951edcd647a9db0', 'message': 'DNM: Test token caching in keystone\n\nChange-Id: Iaad6d1cf312194d5b81747bc8e8749e48994ee7e\n'}, {'number': 2, 'created': '2019-09-27 12:46:10.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cdbf18c6b2362309cf5f70e2d4e4888e3ea766c6', 'message': 'DNM: Test token caching in keystone\n\nChange-Id: Iaad6d1cf312194d5b81747bc8e8749e48994ee7e\n'}]",0,683172,cdbf18c6b2362309cf5f70e2d4e4888e3ea766c6,13,3,2,9816,,,0,"DNM: Test token caching in keystone

Change-Id: Iaad6d1cf312194d5b81747bc8e8749e48994ee7e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/683172/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,8ecd17050aeb0f4f881febd4c951edcd647a9db0,token-cache, default: true, default: false,1,1
openstack%2Ftrove~master~Icf86fd2a7d2692707449cfb11edbd936b0b79aa6,openstack/trove,master,Icf86fd2a7d2692707449cfb11edbd936b0b79aa6,Improve image building doc,MERGED,2019-10-10 22:59:43.000000000,2019-10-11 01:15:13.000000000,2019-10-11 01:13:59.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 22:59:43.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/building_guest_images.rst', 'doc/source/admin/trovestack.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/619967e093c065093018e1ac8fc50d3c8b3e3483', 'message': 'Improve image building doc\n\nChange-Id: Icf86fd2a7d2692707449cfb11edbd936b0b79aa6\n'}]",0,688004,619967e093c065093018e1ac8fc50d3c8b3e3483,7,2,1,6732,,,0,"Improve image building doc

Change-Id: Icf86fd2a7d2692707449cfb11edbd936b0b79aa6
",git fetch https://review.opendev.org/openstack/trove refs/changes/04/688004/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/building_guest_images.rst', 'doc/source/admin/trovestack.rst']",3,619967e093c065093018e1ac8fc50d3c8b3e3483,improve-doc,,".. Copyright 2019 Catalyst IT Ltd All Rights Reserved. not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Trove integration script - trovestack ===================================== ``trovestack`` in ``integration/scripts`` folder is a shell script that contains lots of useful functionalities via sub-commands including ``install`` (trove development environment installation), ``unit-tests``, ``gate-tests`` (functional test), ``build-image``, etc. This guide introduces some of them. Before running ``trovestack`` command, go to the scripts folder: .. code-block:: console git clone https://opendev.org/openstack/trove cd trove/integration/scripts Build guest agent image ~~~~~~~~~~~~~~~~~~~~~~~ .. note:: For testing purpose, the Trove guest images of some specific databases are periodically built and published in http://tarballs.openstack.org/trove/images/. The trove guest agent image could be created by running the following command: .. code-block:: console $ ./trovestack build-image \ ${datastore_type} \ ${guest_os} \ ${guest_os_release} \ ${dev_mode} \ ${guest_username} \ ${imagepath} * Currently, only ``guest_os=ubuntu`` and ``guest_os_release=xenial`` are fully tested and supported. * Default input values: .. code-block:: ini datastore_type=mysql guest_os=ubuntu guest_os_release=xenial dev_mode=true guest_username=ubuntu imagepath=$HOME/images/trove-${guest_os}-${guest_os_release}-${datastore_type} * ``dev_mode=true`` is mainly for testing purpose for trove developers and it's necessary to build the image on the trove controller host, because the host and the guest VM need to ssh into each other without password. In this mode, when the trove guest agent code is changed, the image doesn't need to be rebuilt which is convenient for debugging. Trove guest agent will ssh into the host and download trove code during the service initialization. * if ``dev_mode=false``, the trove code for guest agent is injected into the image at the building time. Now ``dev_mode=false`` is still in experimental and not considered production ready yet. * Some other global variables: * ``HOST_SCP_USERNAME``: only used in dev mode, this is the user name used by guest agent to connect to the controller host, e.g. in devstack environment, it should be the ``stack`` user. * ``GUEST_WORKING_DIR``: The place to save the guest image, default value is ``$HOME/images``. * ``TROVE_BRANCH``: only used in dev mode. The branch name of Trove code repository, by default it's master, use other branches as needed such as stable/train. For example, in order to build a MySQL image for Ubuntu Xenial operating system in development mode: .. code-block:: console $ ./trovestack build-image mysql ubuntu xenial true Once the image build is finished, the cloud administrator needs to register the image in Glance and register a new datastore or version in Trove using ``trove-manage`` command, e.g. you've built an image for MySQL 5.7.1: .. code-block:: console $ openstack image create ubuntu-mysql-5.7.1-dev \ --public \ --disk-format qcow2 \ --container-format bare \ --file ~/images/ubuntu-mysql.qcow2 $ trove-manage datastore_version_update mysql 5.7.1 mysql $image_id """" 1 ",82,252
openstack%2Fironic-inspector~master~I941ef2260b813305dbb8a1ff54cff93770427a08,openstack/ironic-inspector,master,I941ef2260b813305dbb8a1ff54cff93770427a08,Bump openstackdocstheme to 1.20.0,ABANDONED,2019-06-06 02:43:55.000000000,2019-10-11 00:59:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-06-06 02:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6156a4247d86d9c8ae3c3d849365e3d6f5079fd3', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I941ef2260b813305dbb8a1ff54cff93770427a08\n'}, {'number': 2, 'created': '2019-06-06 07:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/0a021fefc75fae0bc7955af378cb2c463cba3594', 'message': 'Bump openstackdocstheme to 1.30.0\n\nSome minor updates including fixing issues with the HTML5 output\ngenerated by Sphinx 2.0, inlining the OpenStack logo rather than\nreferencing it from elsewhere, and adding a new SOURCE_DATE_EPOCH option\nfor use in reproducible builds in new release openstackdocstheme 1.30.0.\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I941ef2260b813305dbb8a1ff54cff93770427a08\n'}, {'number': 3, 'created': '2019-07-01 02:53:26.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a525ef732b113ff03f2f79053f13c790c2c3c22b', 'message': 'Bump openstackdocstheme to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I941ef2260b813305dbb8a1ff54cff93770427a08\n'}]",0,663484,a525ef732b113ff03f2f79053f13c790c2c3c22b,12,4,3,28239,,,0,"Bump openstackdocstheme to 1.20.0

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I941ef2260b813305dbb8a1ff54cff93770427a08
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/84/663484/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,6156a4247d86d9c8ae3c3d849365e3d6f5079fd3,bump-openstackdocstheme,openstackdocstheme==1.30.0,openstackdocstheme==1.18.1,2,2
openstack%2Fpython-ironicclient~master~I093f52b44d4174ec53a99b414047626d5b0e629b,openstack/python-ironicclient,master,I093f52b44d4174ec53a99b414047626d5b0e629b,Bump openstackdocstheme to 1.20.0,ABANDONED,2019-06-06 01:49:55.000000000,2019-10-11 00:58:59.000000000,,"[{'_account_id': 6618}, {'_account_id': 10239}, {'_account_id': 10343}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-06 01:49:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/036307bd6e3ffb775a125d8b875531eb3ca87885', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I093f52b44d4174ec53a99b414047626d5b0e629b\n'}, {'number': 2, 'created': '2019-06-06 07:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/ebd786ed81bd5954b74051070521cf82f0b83a53', 'message': 'Bump openstackdocstheme to 1.30.0\n\nSome minor updates including fixing issues with the HTML5 output\ngenerated by Sphinx 2.0, inlining the OpenStack logo rather than\nreferencing it from elsewhere, and adding a new SOURCE_DATE_EPOCH option\nfor use in reproducible builds in new release openstackdocstheme 1.30.0.\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I093f52b44d4174ec53a99b414047626d5b0e629b\n'}, {'number': 3, 'created': '2019-07-02 02:23:05.000000000', 'files': ['lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/d056ab83e6b66bb7c4d523c749af739fa9300bd1', 'message': 'Bump openstackdocstheme to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: I093f52b44d4174ec53a99b414047626d5b0e629b\n'}]",0,663471,d056ab83e6b66bb7c4d523c749af739fa9300bd1,9,10,3,28239,,,0,"Bump openstackdocstheme to 1.20.0

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: I093f52b44d4174ec53a99b414047626d5b0e629b
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/71/663471/3 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,036307bd6e3ffb775a125d8b875531eb3ca87885,bump-openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,2
openstack%2Fneutron-fwaas~master~I2a35a23d02ff08ec4e7fa2396f9a6bedfd01e30f,openstack/neutron-fwaas,master,I2a35a23d02ff08ec4e7fa2396f9a6bedfd01e30f,Remove unused import statement.,MERGED,2019-10-10 01:36:50.000000000,2019-10-11 00:35:07.000000000,2019-10-11 00:33:38.000000000,"[{'_account_id': 6995}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 01:36:50.000000000', 'files': ['neutron_fwaas/db/models/head.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/2b662f05e1ab5545beb265d9b75165984e463434', 'message': 'Remove unused import statement.\n\nChange-Id: I2a35a23d02ff08ec4e7fa2396f9a6bedfd01e30f\n'}]",0,687762,2b662f05e1ab5545beb265d9b75165984e463434,8,3,1,30200,,,0,"Remove unused import statement.

Change-Id: I2a35a23d02ff08ec4e7fa2396f9a6bedfd01e30f
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/62/687762/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/db/models/head.py'],1,2b662f05e1ab5545beb265d9b75165984e463434,,,from neutron_fwaas.db.firewall.v2 import firewall_db_v2 # noqa ,0,2
openstack%2Ftripleo-heat-templates~master~Ied7a2b36c32b0c0a756b8414931453b1018e36f4,openstack/tripleo-heat-templates,master,Ied7a2b36c32b0c0a756b8414931453b1018e36f4,Enable health check for metrics_qdr container,MERGED,2019-07-26 12:30:44.000000000,2019-10-10 23:42:54.000000000,2019-10-10 23:42:54.000000000,"[{'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-07-26 12:30:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c44da983e6a7baedb9672c271633ec521c6dbb0', 'message': 'Enable health check for metrics_qdr container\n\nChange-Id: Ied7a2b36c32b0c0a756b8414931453b1018e36f4\nDepends-On: Ibb94354dfc7053c02a366c4276f9858227b66303\n'}, {'number': 2, 'created': '2019-09-13 12:57:02.000000000', 'files': ['deployment/metrics/qdr-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/44fde8aeb4d72c95bfc83748b3766dd23b760a41', 'message': 'Enable health check for metrics_qdr container\n\nChange-Id: Ied7a2b36c32b0c0a756b8414931453b1018e36f4\nDepends-On: Ibb94354dfc7053c02a366c4276f9858227b66303\n'}]",0,672970,44fde8aeb4d72c95bfc83748b3766dd23b760a41,21,6,2,5241,,,0,"Enable health check for metrics_qdr container

Change-Id: Ied7a2b36c32b0c0a756b8414931453b1018e36f4
Depends-On: Ibb94354dfc7053c02a366c4276f9858227b66303
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/672970/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/qdr-container-puppet.yaml'],1,6c44da983e6a7baedb9672c271633ec521c6dbb0,qdrhc, healthcheck: test: /openstack/healthcheck,,2,0
openstack%2Fmanila~stable%2Fqueens~I4750d28c8acfe6d68a91e129e767c6e8607e6a75,openstack/manila,stable/queens,I4750d28c8acfe6d68a91e129e767c6e8607e6a75,Check NetApp SnapRestore license for pools,MERGED,2019-10-10 17:32:08.000000000,2019-10-10 23:17:32.000000000,2019-10-10 23:16:21.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29831}]","[{'number': 1, 'created': '2019-10-10 17:32:08.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1678524-check-snaprestore-license-for-snapshot-revert-6d32afdc5d0b2b51.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/f581e987a5bf0bbdaa2154233d8a94240b6f8da1', 'message': 'Check NetApp SnapRestore license for pools\n\nAdded check to validate SnapRestore license for\nNetApp ONTAP pools before setting revert_to_snapshot_support\nto true/false for the respective pool.\nThis was always set to True before.\n\nChange-Id: I4750d28c8acfe6d68a91e129e767c6e8607e6a75\nCloses-Bug: #1678524\n(cherry picked from commit f333b88e2521c8a1fecb88206cfb08046957346f)\n(cherry picked from commit 9e39a138fbe8c0546898543de8c007238caf0ef0)\n(cherry picked from commit 62996ad8f663e45758227b927058d80bab3758df)\n'}]",0,687958,f581e987a5bf0bbdaa2154233d8a94240b6f8da1,10,5,1,30002,,,0,"Check NetApp SnapRestore license for pools

Added check to validate SnapRestore license for
NetApp ONTAP pools before setting revert_to_snapshot_support
to true/false for the respective pool.
This was always set to True before.

Change-Id: I4750d28c8acfe6d68a91e129e767c6e8607e6a75
Closes-Bug: #1678524
(cherry picked from commit f333b88e2521c8a1fecb88206cfb08046957346f)
(cherry picked from commit 9e39a138fbe8c0546898543de8c007238caf0ef0)
(cherry picked from commit 62996ad8f663e45758227b927058d80bab3758df)
",git fetch https://review.opendev.org/openstack/manila refs/changes/58/687958/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1678524-check-snaprestore-license-for-snapshot-revert-6d32afdc5d0b2b51.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",3,f581e987a5bf0bbdaa2154233d8a94240b6f8da1,bug/1678524-stable/queens," def test_check_snaprestore_license_notfound(self): licenses = list(fake.LICENSES) licenses.remove('snaprestore') self.mock_object(self.client, 'get_licenses', mock.Mock(return_value=licenses)) result = self.library._check_snaprestore_license() self.assertIs(False, result) def test_check_snaprestore_license_found(self): self.mock_object(self.client, 'get_licenses', mock.Mock(return_value=fake.LICENSES)) result = self.library._check_snaprestore_license() self.assertIs(True, result) self.mock_object(self.library, '_check_snaprestore_license', mock.Mock(return_value=True)) self.mock_object(self.library, '_check_snaprestore_license', mock.Mock(return_value=True))",,38,1
openstack%2Ftripleo-common~master~I340aa8d1baa3d3c40d427a2a930282836270e8dc,openstack/tripleo-common,master,I340aa8d1baa3d3c40d427a2a930282836270e8dc,Remove Trove password constant,MERGED,2019-09-16 20:44:27.000000000,2019-10-10 23:02:32.000000000,2019-10-10 22:59:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-09-16 20:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/03302ed82fe7ebd68605710402834079a3f3b4a2', 'message': ""Remove Trove password constant\n\nWe removed trove a while ago, let's cleanup the the TrovePassword entry\n\nChange-Id: I340aa8d1baa3d3c40d427a2a930282836270e8dc\n""}, {'number': 2, 'created': '2019-09-16 23:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ab20cf7f648149d4c37ed924b6403fbcd389fd49', 'message': ""Remove Trove password constant\n\nWe removed trove a while ago, let's cleanup the the TrovePassword entry\n\nChange-Id: I340aa8d1baa3d3c40d427a2a930282836270e8dc\n""}, {'number': 3, 'created': '2019-09-19 14:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1c82fd240ce77c64bd160cfdb35d2a68168fd0f4', 'message': ""Remove Trove password constant\n\nWe removed trove a while ago, let's cleanup the the TrovePassword entry\n\nChange-Id: I340aa8d1baa3d3c40d427a2a930282836270e8dc\n""}, {'number': 4, 'created': '2019-09-19 15:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3ce286fe214918702b02b271586a54f842dd8e5c', 'message': ""Remove Trove password constant\n\nWe removed trove a while ago, let's cleanup the the TrovePassword entry\n\nChange-Id: I340aa8d1baa3d3c40d427a2a930282836270e8dc\n""}, {'number': 5, 'created': '2019-09-20 21:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5331577adaf84289eb51c5d2ff6832870826d1e6', 'message': ""Remove Trove password constant\n\nWe removed trove a while ago, let's cleanup the the TrovePassword entry\n\nChange-Id: I340aa8d1baa3d3c40d427a2a930282836270e8dc\n""}, {'number': 6, 'created': '2019-10-04 22:06:09.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/tests/actions/test_parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/19ce31569cc07f7d7d2726b356fb6a2f5cc10bb0', 'message': ""Remove Trove password constant\n\nWe removed trove a while ago, let's cleanup the the TrovePassword entry\n\nChange-Id: I340aa8d1baa3d3c40d427a2a930282836270e8dc\n""}]",0,682479,19ce31569cc07f7d7d2726b356fb6a2f5cc10bb0,22,6,6,14985,,,0,"Remove Trove password constant

We removed trove a while ago, let's cleanup the the TrovePassword entry

Change-Id: I340aa8d1baa3d3c40d427a2a930282836270e8dc
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/79/682479/6 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/tests/actions/test_parameters.py']",2,03302ed82fe7ebd68605710402834079a3f3b4a2,organize-kolla-overrides,," 'TrovePassword': 'V7A7zegkMdRFnYuN23gdc4KQC',",0,2
openstack%2Ftripleo-common~stable%2Fstein~I9ca066b06b5ac85272202430713edb8cee37a620,openstack/tripleo-common,stable/stein,I9ca066b06b5ac85272202430713edb8cee37a620,Fix duplicated msec,MERGED,2019-10-04 17:23:52.000000000,2019-10-10 23:01:52.000000000,2019-10-10 22:59:25.000000000,"[{'_account_id': 3153}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-04 17:23:52.000000000', 'files': ['scripts/tripleo-container-image-prepare'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2ce5c01243305e1965a24d093e680fce2a80b971', 'message': 'Fix duplicated msec\n\nasctime includes the msec in the time. If we include msecs this ends up\ndisplaying ""2019-09-27 00:46:18,344.344"" which is wrong\n\nChange-Id: I9ca066b06b5ac85272202430713edb8cee37a620\n(cherry picked from commit 003be5f5ec50eed24d231879a3fbaa407d7f149b)\n'}]",0,686777,2ce5c01243305e1965a24d093e680fce2a80b971,11,6,1,14985,,,0,"Fix duplicated msec

asctime includes the msec in the time. If we include msecs this ends up
displaying ""2019-09-27 00:46:18,344.344"" which is wrong

Change-Id: I9ca066b06b5ac85272202430713edb8cee37a620
(cherry picked from commit 003be5f5ec50eed24d231879a3fbaa407d7f149b)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/686777/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/tripleo-container-image-prepare'],1,2ce5c01243305e1965a24d093e680fce2a80b971,fix-time-stable/stein, log_format = ('%(asctime)s %(process)d %(levelname)s ', log_format = ('%(asctime)s.%(msecs)03d %(process)d %(levelname)s ',1,1
openstack%2Ftripleo-common~master~Ib05ccaaddad105c27024ca5ee4d8ca0a0452bddf,openstack/tripleo-common,master,Ib05ccaaddad105c27024ca5ee4d8ca0a0452bddf,Migrate building IPA to ironic-python-agent-builder,MERGED,2019-09-03 10:49:02.000000000,2019-10-10 23:01:38.000000000,2019-10-10 22:59:31.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-09-03 10:49:02.000000000', 'files': ['heat_docker_agent/configure_container.sh', 'tripleo_common/image/image_builder.py', 'image-yaml/overcloud-images.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/68aeef8e00add1ba81ee61ccacdd2c1b16e44eb6', 'message': ""Migrate building IPA to ironic-python-agent-builder\n\nWe're switching the building process to a new project that is governed\nand supported by the ironic team.\n\nChange-Id: Ib05ccaaddad105c27024ca5ee4d8ca0a0452bddf\n""}]",0,679748,68aeef8e00add1ba81ee61ccacdd2c1b16e44eb6,17,5,1,10239,,,0,"Migrate building IPA to ironic-python-agent-builder

We're switching the building process to a new project that is governed
and supported by the ironic team.

Change-Id: Ib05ccaaddad105c27024ca5ee4d8ca0a0452bddf
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/48/679748/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_docker_agent/configure_container.sh', 'tripleo_common/image/image_builder.py', 'image-yaml/overcloud-images.yaml']",3,68aeef8e00add1ba81ee61ccacdd2c1b16e44eb6,ironic-python-agent-builder, - ironic-python-agent-ramdisk, - ironic-agent,3,1
openstack%2Ftripleo-heat-templates~master~Iad5c932a1f469130bcf9d82277eac4fcf7ecda75,openstack/tripleo-heat-templates,master,Iad5c932a1f469130bcf9d82277eac4fcf7ecda75,Add environments dcn.yaml and dcn-hci.yaml.,MERGED,2019-10-08 22:08:16.000000000,2019-10-10 23:01:31.000000000,2019-10-10 22:59:30.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 22:08:16.000000000', 'files': ['releasenotes/notes/dcn-environments-96379042a22f895e.yaml', 'environments/dcn-hci.yaml', 'environments/dcn.yaml', 'sample-env-generator/dcn.yaml', 'deployment/nova/nova-az-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/19e1df6d3b268dd833dc64708cc9267d4917e82a', 'message': 'Add environments dcn.yaml and dcn-hci.yaml.\n\nAdds 2 new DCN related environments created using the\nsample-env-generator.\n\nAlso updates a comment for the NovaComputeAvailabilityZone parameter in\ndeployment/nova/nova-az-config.yaml.\n\nChange-Id: Iad5c932a1f469130bcf9d82277eac4fcf7ecda75\n'}]",2,687432,19e1df6d3b268dd833dc64708cc9267d4917e82a,11,5,1,7144,,,0,"Add environments dcn.yaml and dcn-hci.yaml.

Adds 2 new DCN related environments created using the
sample-env-generator.

Also updates a comment for the NovaComputeAvailabilityZone parameter in
deployment/nova/nova-az-config.yaml.

Change-Id: Iad5c932a1f469130bcf9d82277eac4fcf7ecda75
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/687432/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/dcn-environments-96379042a22f895e.yaml', 'environments/dcn-hci.yaml', 'environments/dcn.yaml', 'sample-env-generator/dcn.yaml', 'deployment/nova/nova-az-config.yaml']",5,19e1df6d3b268dd833dc64708cc9267d4917e82a,," If left unset, it will default to the value of the stack name.",,93,0
openstack%2Fglance~master~I738ea91a0b519c2ae0692dfc81e02d5069042ea6,openstack/glance,master,I738ea91a0b519c2ae0692dfc81e02d5069042ea6,PDF documentation build,NEW,2019-09-24 00:04:39.000000000,2019-10-10 23:00:04.000000000,,"[{'_account_id': 841}, {'_account_id': 5202}, {'_account_id': 9008}, {'_account_id': 10607}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-24 00:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e3760c00f42f00725d638f348c3181db6818a94d', 'message': 'PDF documentation build\n\nChange-Id: I738ea91a0b519c2ae0692dfc81e02d5069042ea6\n'}, {'number': 2, 'created': '2019-10-10 20:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/1db0a46fcda0f004b25090d75b13b1e272583ae1', 'message': 'PDF documentation build\n\n- Add \'pdf-docs\' tox env\n- Skip sample configuration files in PDF doc due to LaTeX error\n- Specify openany in extraclassoptions to skip blank pages\n  (oneside is also specified to use the same page layout\n   for even and odd pages)\n- tocdepth is set to 2 for better PDF TOC\n- printindex and makeindex are set to empty in latex_elements\n  to avoid an empty ""Index"" section in PDF\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nChange-Id: I738ea91a0b519c2ae0692dfc81e02d5069042ea6\n'}, {'number': 3, 'created': '2019-10-10 20:04:29.000000000', 'files': ['doc/source/conf.py', 'tox.ini', 'doc/source/configuration/sample-configuration.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/2adbde2d2d6665482581424290a83cc58438da00', 'message': 'PDF documentation build\n\n- Add \'pdf-docs\' tox env\n- Skip sample configuration files in PDF doc due to LaTeX error\n- Specify openany in extraclassoptions to skip blank pages\n  (oneside is also specified to use the same page layout\n   for even and odd pages)\n- tocdepth is set to 2 for better PDF TOC\n- printindex and makeindex are set to empty in latex_elements\n  to avoid an empty ""Index"" section in PDF\n\nCo-Authored-By: Akihiro Motoki <amotoki@gmail.com>\nStory: 2006082\nTask: 34848\nChange-Id: I738ea91a0b519c2ae0692dfc81e02d5069042ea6\n'}]",0,684150,2adbde2d2d6665482581424290a83cc58438da00,9,5,3,25601,,,0,"PDF documentation build

- Add 'pdf-docs' tox env
- Skip sample configuration files in PDF doc due to LaTeX error
- Specify openany in extraclassoptions to skip blank pages
  (oneside is also specified to use the same page layout
   for even and odd pages)
- tocdepth is set to 2 for better PDF TOC
- printindex and makeindex are set to empty in latex_elements
  to avoid an empty ""Index"" section in PDF

Co-Authored-By: Akihiro Motoki <amotoki@gmail.com>
Story: 2006082
Task: 34848
Change-Id: I738ea91a0b519c2ae0692dfc81e02d5069042ea6
",git fetch https://review.opendev.org/openstack/glance refs/changes/50/684150/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'tox.ini']",2,e3760c00f42f00725d638f348c3181db6818a94d,build-pdf-docs,[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf ,,10,1
openstack%2Ftripleo-heat-templates~master~I4be68eb7319b2c92cc7d0fc9df7a5c87dfb5106c,openstack/tripleo-heat-templates,master,I4be68eb7319b2c92cc7d0fc9df7a5c87dfb5106c,Remove sensu-client service,MERGED,2019-09-25 08:51:22.000000000,2019-10-10 22:59:46.000000000,2019-10-10 22:59:45.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 6926}, {'_account_id': 7294}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-25 08:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e04ca5c384a75376d47d5a22ebdab080c7f9cca2', 'message': ""Remove sensu-client service\n\nSensu client has been deprecated and it's functionality substituted\nby collectd-sensubility. This patch removes sensu-client composable\nservice\n\nChange-Id: I4be68eb7319b2c92cc7d0fc9df7a5c87dfb5106c\n""}, {'number': 2, 'created': '2019-09-30 13:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d091ad0e47c90d9455c0874130a7e248bf54deff', 'message': ""Remove sensu-client service\n\nSensu client has been deprecated and it's functionality substituted\nby collectd-sensubility. This patch removes sensu-client composable\nservice\n\nChange-Id: I4be68eb7319b2c92cc7d0fc9df7a5c87dfb5106c\n""}, {'number': 3, 'created': '2019-10-01 10:09:00.000000000', 'files': ['deployment/deprecated/monitoring/sensu-client-container-puppet.yaml', 'roles/ComputeAlt.yaml', 'README.rst', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'ci/environments/scenario001-standalone.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'deployment/deprecated/monitoring/sensu-base.yaml', 'sample-env-generator/undercloud-minion.yaml', 'roles/CephObject.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/CephFile.yaml', 'roles/README.rst', 'roles/ControllerOpenstack.yaml', 'environments/services-baremetal/sensu-client.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/BlockStorage.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'ci/environments/scenario010-standalone.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/CephStorage.yaml', 'environments/monitoring-environment.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'overcloud.j2.yaml', 'roles/Messaging.yaml', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Telemetry.yaml', 'environments/services/sensu-client.yaml', 'ci/environments/scenario004-standalone.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/computealt.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3ffd695fd73412a07ed21a7e1744469e4436535', 'message': ""Remove sensu-client service\n\nSensu client has been deprecated and it's functionality substituted\nby collectd-sensubility. This patch removes sensu-client composable\nservice\n\nChange-Id: I4be68eb7319b2c92cc7d0fc9df7a5c87dfb5106c\n""}]",2,684614,b3ffd695fd73412a07ed21a7e1744469e4436535,25,8,3,5241,,,0,"Remove sensu-client service

Sensu client has been deprecated and it's functionality substituted
by collectd-sensubility. This patch removes sensu-client composable
service

Change-Id: I4be68eb7319b2c92cc7d0fc9df7a5c87dfb5106c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/684614/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/monitoring/sensu-client-container-puppet.yaml', 'roles/ComputeAlt.yaml', 'README.rst', 'roles/ComputeOvsDpdk.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'roles/HciCephMon.yaml', 'ci/environments/scenario001-standalone.yaml', 'roles/ComputeDVR.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'deployment/deprecated/monitoring/sensu-base.yaml', 'sample-env-generator/undercloud-minion.yaml', 'roles/CephObject.yaml', 'roles/Controller.yaml', 'roles/ComputePPC64LE.yaml', 'roles/ComputeRealTime.yaml', 'roles/CephFile.yaml', 'roles/README.rst', 'roles/ControllerOpenstack.yaml', 'environments/services-baremetal/sensu-client.yaml', 'roles/Standalone.yaml', 'roles/HciCephFile.yaml', 'ci/environments/scenario001-multinode-containers.yaml', 'roles/ComputeInstanceHA.yaml', 'roles/DistributedCompute.yaml', 'roles/ComputeLocalEphemeral.yaml', 'roles/BlockStorage.yaml', 'roles/Compute.yaml', 'roles/ComputeLiquidio.yaml', 'roles/ComputeHCI.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'roles/ComputeOvsDpdkSriovRT.yaml', 'roles/CellController.yaml', 'roles/ComputeRBDEphemeral.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/HciCephAll.yaml', 'roles/HciCephObject.yaml', 'roles/ComputeOvsDpdkRT.yaml', 'ci/environments/scenario010-standalone.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/CephStorage.yaml', 'environments/monitoring-environment.yaml', 'roles/ComputeSriov.yaml', 'roles/ComputeSriovRT.yaml', 'environments/hyperconverged-ceph.yaml', 'roles/DistributedComputeHCI.yaml', 'roles/ControllerStorageNfs.yaml', 'overcloud.j2.yaml', 'roles/Messaging.yaml', 'roles/CephAll.yaml', 'roles/Novacontrol.yaml', 'roles/ComputeOvsDpdkSriov.yaml', 'roles/Telemetry.yaml', 'environments/services/sensu-client.yaml', 'ci/environments/scenario004-standalone.yaml', 'roles/ComputeHCIOvsDpdk.yaml', 'roles/ControllerNoCeph.yaml', 'roles/Database.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/computealt.yaml', 'roles/ObjectStorage.yaml', 'roles/IronicConductor.yaml', 'roles/Networker.yaml']",63,e04ca5c384a75376d47d5a22ebdab080c7f9cca2,collectd-sensubility,, - OS::TripleO::Services::SensuClient,0,497
openstack%2Ftripleo-heat-templates~master~Ie5cbc9285667c039659ecbd733b8e93205eb63a1,openstack/tripleo-heat-templates,master,Ie5cbc9285667c039659ecbd733b8e93205eb63a1,move multinode scen006 to experimental,MERGED,2019-09-18 20:36:59.000000000,2019-10-10 22:59:43.000000000,2019-10-10 22:59:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-18 20:36:59.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e45949699d6c261b84a5d112025ce4fc81df690a', 'message': 'move multinode scen006 to experimental\n\nscenario006 is failing for a long time.\nMove out of check and into experimental\nhttp://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container\n\nChange-Id: Ie5cbc9285667c039659ecbd733b8e93205eb63a1\n'}]",0,682991,e45949699d6c261b84a5d112025ce4fc81df690a,8,4,1,9592,,,0,"move multinode scen006 to experimental

scenario006 is failing for a long time.
Move out of check and into experimental
http://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario006-multinode-oooq-container

Change-Id: Ie5cbc9285667c039659ecbd733b8e93205eb63a1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/682991/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e45949699d6c261b84a5d112025ce4fc81df690a,, - tripleo-ci-centos-7-scenario006-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^ci/common/.*$ - ^coe/kubernetes.*$ - ^environments/kubernetes.*$ - ^deployment/kubernetes/.*$ - ci/environments/scenario006-multinode.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/*, - tripleo-ci-centos-7-scenario006-multinode-oooq-container: dependencies: *deps_unit_lint files: - ^ci/common/.*$ - ^coe/kubernetes.*$ - ^environments/kubernetes.*$ - ^deployment/kubernetes/.*$ - ci/environments/scenario006-multinode.yaml - ^deployed-server/.*$ - ^common/.*$ - zuul.d/*,11,11
openstack%2Fpuppet-tripleo~master~Iee2e75c1afd836b08132823ffe26cccdd6ef0002,openstack/puppet-tripleo,master,Iee2e75c1afd836b08132823ffe26cccdd6ef0002,Remove Tacker service,MERGED,2019-09-16 19:15:05.000000000,2019-10-10 22:59:40.000000000,2019-10-10 22:59:40.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 19:15:05.000000000', 'files': ['manifests/haproxy.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/tacker.pp', 'manifests/profile/base/database/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4fa490f03f03474e38f2a02bd1653f244aa60f82', 'message': ""Remove Tacker service\n\nCleaning up the puppet tacker code since we're removing the service\ndefinitions.\n\nChange-Id: Iee2e75c1afd836b08132823ffe26cccdd6ef0002\nDepends-On: https://review.opendev.org/#/c/682463/\nRelated-Bug: #1714270\n""}]",0,682464,4fa490f03f03474e38f2a02bd1653f244aa60f82,15,6,1,14985,,,0,"Remove Tacker service

Cleaning up the puppet tacker code since we're removing the service
definitions.

Change-Id: Iee2e75c1afd836b08132823ffe26cccdd6ef0002
Depends-On: https://review.opendev.org/#/c/682463/
Related-Bug: #1714270
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/64/682464/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/haproxy.pp', 'manifests/profile/base/keystone.pp', 'manifests/profile/base/tacker.pp', 'manifests/profile/base/database/mysql.pp']",4,4fa490f03f03474e38f2a02bd1653f244aa60f82,remove-tacker,," if hiera('tacker_enabled', false) { include ::tacker::db::mysql }",0,119
openstack%2Ftripleo-heat-templates~master~I2856e894b58d50c2d3484ccd02bfb1d43625847f,openstack/tripleo-heat-templates,master,I2856e894b58d50c2d3484ccd02bfb1d43625847f,Remove Tacker service,MERGED,2019-09-16 19:10:14.000000000,2019-10-10 22:59:38.000000000,2019-10-10 22:59:38.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 19:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7a2955b6098c561513cf17d0edea19d179d0d127', 'message': ""Remove Tacker service\n\nThe Tacker service has been incomplete since Queens. They restructured\nthe services and TripleO has never implemented code to handle this new\nstructure. Since it's been disabled since Queens and there is currently\nno plans to fix it, let's remove the service code.\n\nChange-Id: I2856e894b58d50c2d3484ccd02bfb1d43625847f\nDepends-On: https://review.opendev.org/#/c/682457/\nRelated-Bug: #1714270\n""}, {'number': 2, 'created': '2019-09-19 15:21:13.000000000', 'files': ['roles/ControllerNovaStandalone.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'releasenotes/notes/remove-tacker-1375cfa1a2ac8fef.yaml', 'roles_data.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/ControllerStorageDashboard.yaml', 'network/endpoints/endpoint_map.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'environments/enable_tacker.yaml', 'sample-env-generator/undercloud-minion.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'roles/Controller.yaml', 'deployment/tacker/tacker-container-puppet.yaml', 'network/service_net_map.j2.yaml', 'roles/ControllerOpenstack.yaml', 'sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'ci/environments/scenario007-standalone.yaml', 'environments/services-baremetal/tacker.yaml', 'sample-env-generator/ssl.yaml', 'environments/standalone.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'roles/ControllerNoCeph.yaml', 'environments/services/tacker.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/standalone/standalone-overcloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b44a0795781fbed4f8948db1ac1ce545785943ba', 'message': ""Remove Tacker service\n\nThe Tacker service has been incomplete since Queens. They restructured\nthe services and TripleO has never implemented code to handle this new\nstructure. Since it's been disabled since Queens and there is currently\nno plans to fix it, let's remove the service code.\n\nChange-Id: I2856e894b58d50c2d3484ccd02bfb1d43625847f\nDepends-On: https://review.opendev.org/#/c/682457/\nRelated-Bug: #1714270\n""}]",0,682463,b44a0795781fbed4f8948db1ac1ce545785943ba,18,6,2,14985,,,0,"Remove Tacker service

The Tacker service has been incomplete since Queens. They restructured
the services and TripleO has never implemented code to handle this new
structure. Since it's been disabled since Queens and there is currently
no plans to fix it, let's remove the service code.

Change-Id: I2856e894b58d50c2d3484ccd02bfb1d43625847f
Depends-On: https://review.opendev.org/#/c/682457/
Related-Bug: #1714270
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/682463/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ControllerNovaStandalone.yaml', 'ci/environments/scenario007-multinode-containers.yaml', 'releasenotes/notes/remove-tacker-1375cfa1a2ac8fef.yaml', 'roles_data.yaml', 'environments/undercloud/undercloud-minion.yaml', 'roles/ControllerStorageDashboard.yaml', 'network/endpoints/endpoint_map.yaml', 'environments/ssl/no-tls-endpoints-public-ip.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'environments/enable_tacker.yaml', 'sample-env-generator/undercloud-minion.yaml', 'environments/ssl/tls-everywhere-endpoints-dns.yaml', 'network/endpoints/endpoint_data.yaml', 'roles/Controller.yaml', 'deployment/tacker/tacker-container-puppet.yaml', 'network/service_net_map.j2.yaml', 'roles/ControllerOpenstack.yaml', 'sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'roles/ControllerStorageNfs.yaml', 'environments/ssl/tls-endpoints-public-ip.yaml', 'ci/environments/scenario007-standalone.yaml', 'environments/services-baremetal/tacker.yaml', 'sample-env-generator/ssl.yaml', 'environments/standalone.yaml', 'deployed-server/deployed-server-roles-data.yaml', 'environments/ssl/tls-endpoints-public-dns.yaml', 'roles/ControllerNoCeph.yaml', 'environments/services/tacker.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/standalone/standalone-overcloud.yaml']",32,7a2955b6098c561513cf17d0edea19d179d0d127,remove-tacker,, OS::TripleO::Services::Tacker: OS::Heat::None,5,694
openstack%2Ftripleo-common~master~I45f0787e92eca59ab7eec09b2b199c5b1dbc4855,openstack/tripleo-common,master,I45f0787e92eca59ab7eec09b2b199c5b1dbc4855,Remove tacker container code,MERGED,2019-09-16 18:52:46.000000000,2019-10-10 22:59:35.000000000,2019-10-10 22:59:34.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-09-16 18:52:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d18b2584260584ceb6d96dcaa28960ce5dbdd6a2', 'message': ""Remove tacker container code\n\nWe commented this out back in late 2017 since they reogranized the\ncontainers. Since no one has picked up this effort, let's drop this dead\ncode.\n\nChange-Id: I45f0787e92eca59ab7eec09b2b199c5b1dbc4855\n""}, {'number': 2, 'created': '2019-09-16 20:44:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/893d03896123ecdd511990edaf15400cba9aa315', 'message': ""Remove tacker container code\n\nWe commented this out back in late 2017 since they reogranized the\ncontainers. Since no one has picked up this effort, let's drop this dead\ncode.\n\nChange-Id: I45f0787e92eca59ab7eec09b2b199c5b1dbc4855\n""}, {'number': 3, 'created': '2019-09-16 23:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/aa537fe33ad97445d2d689f8605c00a68207a8af', 'message': ""Remove tacker container code\n\nWe commented this out back in late 2017 since they reogranized the\ncontainers. Since no one has picked up this effort, let's drop this dead\ncode.\n\nChange-Id: I45f0787e92eca59ab7eec09b2b199c5b1dbc4855\n""}, {'number': 4, 'created': '2019-09-19 14:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9411c2686cfebf201bc97e7f27620b4275286611', 'message': ""Remove tacker container code\n\nWe commented this out back in late 2017 since they reogranized the\ncontainers. Since no one has picked up this effort, let's drop this dead\ncode.\n\nChange-Id: I45f0787e92eca59ab7eec09b2b199c5b1dbc4855\n""}, {'number': 5, 'created': '2019-09-19 15:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/758f02abe344ff48672bb9cfff0c67e5e40c781c', 'message': ""Remove tacker container code\n\nWe commented this out back in late 2017 since they reogranized the\ncontainers. Since no one has picked up this effort, let's drop this dead\ncode.\n\nChange-Id: I45f0787e92eca59ab7eec09b2b199c5b1dbc4855\n""}, {'number': 6, 'created': '2019-09-20 21:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/29bf70344a66d77db8b8aa6c74084971266d559a', 'message': ""Remove tacker container code\n\nWe commented this out back in late 2017 since they reogranized the\ncontainers. Since no one has picked up this effort, let's drop this dead\ncode.\n\nChange-Id: I45f0787e92eca59ab7eec09b2b199c5b1dbc4855\n""}, {'number': 7, 'created': '2019-10-04 22:06:04.000000000', 'files': ['tripleo_common/constants.py', 'tripleo_common/tests/actions/test_parameters.py', 'container-images/tripleo_kolla_template_overrides.j2', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ff5055e90d64db3af8f1d803b8d18e0cb1726322', 'message': ""Remove tacker container code\n\nWe commented this out back in late 2017 since they reogranized the\ncontainers. Since no one has picked up this effort, let's drop this dead\ncode.\n\nChange-Id: I45f0787e92eca59ab7eec09b2b199c5b1dbc4855\n""}]",0,682457,ff5055e90d64db3af8f1d803b8d18e0cb1726322,25,6,7,14985,,,0,"Remove tacker container code

We commented this out back in late 2017 since they reogranized the
containers. Since no one has picked up this effort, let's drop this dead
code.

Change-Id: I45f0787e92eca59ab7eec09b2b199c5b1dbc4855
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/57/682457/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tripleo_kolla_template_override_footers.j2', 'container-images/overcloud_containers.yaml.j2']",2,d18b2584260584ceb6d96dcaa28960ce5dbdd6a2,remove-tacker,,"# The kolla tacker image was split into base, conductor and server images in # kolla review https://review.opendev.org/#/c/477494/ # Uncomment when TripleO has caught up with the change. # https://bugs.launchpad.net/tripleo/+bug/1714270 # - imagename: ""{{namespace}}/{{name_prefix}}tacker{{name_suffix}}:{{tag}}"" # params: # - ContainerTackerConfigImage # - ContainerTackerImage # services: # - OS::TripleO::Services::Tacker ",0,19
openstack%2Ftripleo-common~master~I96734bf9381a5cff0b9af4aed6a25b9b2da412b6,openstack/tripleo-common,master,I96734bf9381a5cff0b9af4aed6a25b9b2da412b6,Cleanup override file,MERGED,2019-09-16 18:41:54.000000000,2019-10-10 22:59:33.000000000,2019-10-10 22:59:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-09-16 18:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1200aa1c5683b2ced45fadd77ae562191c1f31f5', 'message': 'Split template override files\n\nSimilar to the structure proposed in\nhttps://review.opendev.org/#/c/642929/, this change splits out the\noverrides into multiple files. Hopefully this will be easier to\nmaintain. While splititng this out, I noticed some older code that could\nbe removed/merged together.\n\nChange-Id: I96734bf9381a5cff0b9af4aed6a25b9b2da412b6\n'}, {'number': 2, 'created': '2019-09-16 23:25:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8cab24ba86179836701c1b22d1d1b99250a1a708', 'message': 'Split template override files\n\nSimilar to the structure proposed in\nhttps://review.opendev.org/#/c/642929/, this change splits out the\noverrides into multiple files. Hopefully this will be easier to\nmaintain. While splititng this out, I noticed some older code that could\nbe removed/merged together.\n\nChange-Id: I96734bf9381a5cff0b9af4aed6a25b9b2da412b6\n'}, {'number': 3, 'created': '2019-09-17 17:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b37acbaf3f1cd684af0d95bafa3dcfe121d55eea', 'message': 'Split template override files\n\nSimilar to the structure proposed in\nhttps://review.opendev.org/#/c/642929/, this change splits out the\noverrides into multiple files. Hopefully this will be easier to\nmaintain. While splititng this out, I noticed some older code that could\nbe removed/merged together.\n\nDepends-On: https://review.opendev.org/#/c/682706/\nChange-Id: I96734bf9381a5cff0b9af4aed6a25b9b2da412b6\n'}, {'number': 4, 'created': '2019-09-19 14:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ca23735dc5e780b42db7c1eb58cb9ee3c74aff57', 'message': 'Cleanup override file\n\nThis change organizes the override template file into\nheader/packages/footer related sections and alphabetizes each of these.\n\nChange-Id: I96734bf9381a5cff0b9af4aed6a25b9b2da412b6\n'}, {'number': 5, 'created': '2019-09-19 15:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6d4654ff459de0454b5b5cbdec028c3d7b95880b', 'message': 'Cleanup override file\n\nThis change organizes the override template file into\nheader/packages/footer related sections and alphabetizes each of these.\n\nChange-Id: I96734bf9381a5cff0b9af4aed6a25b9b2da412b6\n'}, {'number': 6, 'created': '2019-09-20 21:02:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4ef78a1703d9c04dad1e08826e1f47bb794796e5', 'message': 'Cleanup override file\n\nThis change organizes the override template file into\nheader/packages/footer related sections and alphabetizes each of these.\n\nChange-Id: I96734bf9381a5cff0b9af4aed6a25b9b2da412b6\n'}, {'number': 7, 'created': '2019-10-04 22:05:53.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/30c11a17c2817de7bef49bcbb3861003d0016dd9', 'message': 'Cleanup override file\n\nThis change organizes the override template file into\nheader/packages/footer related sections and alphabetizes each of these.\n\nChange-Id: I96734bf9381a5cff0b9af4aed6a25b9b2da412b6\n'}]",0,682455,30c11a17c2817de7bef49bcbb3861003d0016dd9,30,5,7,14985,,,0,"Cleanup override file

This change organizes the override template file into
header/packages/footer related sections and alphabetizes each of these.

Change-Id: I96734bf9381a5cff0b9af4aed6a25b9b2da412b6
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/55/682455/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tripleo_kolla_template_override_packages.j2', 'container-images/tripleo_kolla_template_override_footers.j2', 'container-images/tripleo_kolla_template_override_post.j2', 'container-images/tripleo_kolla_template_override_headers.j2', 'container-images/tripleo_kolla_template_overrides.j2']",5,1200aa1c5683b2ced45fadd77ae562191c1f31f5,organize-kolla-overrides,{% include tripleo_kolla_template_override_headers.j2 %} {% include tripleo_kolla_template_override_packages.j2 %} {% include tripleo_kolla_template_override_footers.j2 %} {% include tripleo_kolla_template_override_post.j2 %}," # add ENV for container=oci # https://lists.projectatomic.io/projectatomic-archives/atomic-devel/2017-April/msg00011.html {% block base_header %}ENV container=oci{% endblock %} # Disable external repos {% set base_yum_repo_files_override = [] %} {% set base_yum_url_packages_override = [] %} {% set base_yum_repo_keys_override = [] %} # Enable ODL repo in ODL Dockerfile {% block opendaylight_header %} RUN echo $'[opendaylight-8-devel]\n\ name=OpenDaylight Oxygen repository\n\ # The opendaylight packages are currently built noarch, but the repo hosting # them is hard-coded as an x86_64 repository. To enable multiarch use of the # packages, we can hard-code x86_64 below, and update when the repository # definitions are archful. baseurl=https://nexus.opendaylight.org/content/repositories/opendaylight-oxygen-epel-7-x86_64-devel/\n\ enabled=1\n\ gpgcheck=0' >> /etc/yum.repos.d/opendaylight.repo {% endblock %} # Remove EPEL and the dependencies requiring it {% set base_centos_yum_repo_packages_remove = ['epel-release', 'centos-release-ceph-jewel', 'centos-release-ceph-luminous'] %} {% set base_centos_yum_repo_packages_append = ['centos-release-ceph-nautilus', 'centos-release-opstools'] %} {% set base_centos_binary_packages_remove = ['scsi-target-utils'] %} {% set cinder_volume_packages_remove = ['scsi-target-utils'] %} {% set ironic_conductor_packages_remove = ['shellinabox'] %} {% if distro_python_version.startswith('3') %} {% set barbican_api_packages_remove = ['uwsgi-plugin-python3'] %} {% else %} {% set barbican_api_packages_remove = ['uwsgi-plugin-python'] %} {% endif %} # remove the block to override the behavior {% block cinder_volume_redhat_setup %}{% endblock %} # This installs the puppet dependency in the base container and includes helper scripts # Rsync is required for docker-puppet.py to move the generated config to /var/lib/config-data # Cron is required by multiple services {% set base_centos_binary_packages_append = ['openstack-tripleo-common-container-base', 'rsync', 'cronie', 'crudini', 'puppet-tripleo'] %} {% if distro_python_version.startswith('3') %} # NOTE(aschultz): puppet-firewall throws errors when trying to query the rules {% set base_centos_binary_packages_append = base_centos_binary_packages_append + ['iptables-services'] %} {% endif %} # Override dumb-init installation {% block dumb_init_installation %}{% endblock %} {% set base_centos_binary_packages_append = base_centos_binary_packages_append + ['dumb-init'] %} # This installs the novajoin package in the nova container images; This is # required for TLS everywhere, as nova-api will use the cloud-init script # provided by the novajoin package in order to enroll the nodes to the CA {% if distro_python_version.startswith('3') %} {% set nova_api_packages_append = ['python3-novajoin'] %} {% set nova_compute_ironic_packages_append = ['python3-novajoin'] %} {% else %} {% set nova_api_packages_append = ['python-novajoin'] %} {% set nova_compute_ironic_packages_append = ['python-novajoin'] %} {% endif %} {% set nova_scheduler_packages_append = ['openstack-tripleo-common'] %} # Required for mistral-db-populate to load tripleo custom actions on # the undercloud {% set mistral_base_packages_append = ['openstack-tripleo-common'] %} {% if distro_python_version.startswith('3') %} {% set mistral_base_packages_append = mistral_base_packages_append + [ 'python3-shade', 'python3dist\(ansible\)', ] %} {% else %} {% set mistral_base_packages_append = mistral_base_packages_append + [ 'python-shade', 'ansible', ] %} {% endif %} # NOTE: Mistral executor needs: # openstack-tripleo-validations: validations # nova-common: to run nova-manage cells_v2 commands on # tripleo-heat-templates: to load the default plan from the CLI/UI # ipmitool: for baremetal node discovery # qemu-img: convert Octavia amphora qcow2 to raw {% set mistral_executor_packages_append = [ 'openstack-tripleo-validations', 'openstack-nova-common', 'openstack-tripleo-heat-templates', 'ipmitool', 'qemu-img', ] %} # FIXME (kolla review to add ceilometer to swift proxy image) # NOTE (jaosorior): swift proxy with TLS everywhere needs these packages. # NOTE(mandre) Apache cleanup done below in swift_proxy_server_footer block {% set swift_proxy_server_packages_append = ['openstack-ceilometer-common', 'httpd', 'mod_ssl'] %} # TODO(mwhahaha): drop this when swift is python3 {% if base_distro_tag.startswith('8') %} {% set swift_proxy_server_packages_remove = ['python-ceilometermiddleware'] %} {% set swift_proxy_server_packages_append = swift_proxy_server_packages_append + ['python3-ceilometermiddleware'] %} {% endif %} # NOTE (jaosorior): glance-api with TLS everywhere needs these packages. # NOTE(mandre) Apache cleanup done below in glance_api_footer block {% set glance_api_packages_append = ['httpd', 'mod_ssl'] %} # NOTE (ratailor): ec2-api with TLS needs these packages. {% set ec2_api_packages_append = ['httpd', 'mod_ssl'] %} {% block ec2_api_footer %} RUN sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf \ && sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf \ && echo ""if [[ ""\$\(whoami\)"" == 'root' ]]; then rm -rf /var/run/httpd/* /run/httpd/* /tmp/httpd*; fi"" >> /usr/local/bin/kolla_extend_start {% endblock %} # NOTE (jaosorior): neutron-server with TLS everywhere needs httpd and mod_ssl packages. # NOTE (hjensas): python2-networking-baremetal ML2 plug-in for ironic neutron integration. # NOTE (ramishra): python2-networking-ansible ML2 plug-in for neutron ansible integration. {% set neutron_server_packages_append = [ 'httpd', 'mod_ssl', ] %} {% if distro_python_version.startswith('3') %} {% set neutron_server_packages_append = neutron_server_packages_append + [ 'python3-networking-baremetal', 'python3-networking-ansible' ] %} {% else %} {% set neutron_server_packages_append = neutron_server_packages_append + [ 'python2-networking-baremetal', 'python2-networking-ansible' ] %} {% endif %} {% block neutron_server_footer %} RUN sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf \ && sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf \ && echo ""if [[ ""\$\(whoami\)"" == 'root' ]]; then rm -rf /var/run/httpd/* /run/httpd/* /tmp/httpd*; fi"" >> /usr/local/bin/kolla_neutron_extend_start; \ mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/neutron-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% set neutron_metadata_agent_ovn_packages_append = ['podman', 'libseccomp'] %} {% set neutron_l3_agent_packages_append = ['podman', 'libseccomp'] %} # Kolla doesn't currently neutron_dhcp_agent_packages on CentOS so the append # isn't valid here. {% set neutron_dhcp_agent_packages = ['podman', 'libseccomp'] %} {% if distro_python_version.startswith('2') %} {% set neutron_metadata_agent_ovn_packages_append = neutron_metadata_agent_ovn_packages_append + ['docker'] %} {% set neutron_l3_agent_packages_append = neutron_l3_agent_packages_append + ['docker'] %} {% set neutron_dhcp_agent_packages = neutron_dhcp_agent_packages + ['docker'] %} {% endif %} {% if distro_python_version.startswith('3') %} {% set octavia_api_packages_append = ['python3-networking-ovn'] %} {% else %} {% set octavia_api_packages_append = ['python-networking-ovn'] %} {% endif %} # NOTE (jaosorior): redis with TLS everywhere needs these packages. # redis resource-agent requires pidof {% set redis_packages_append = [ 'stunnel', 'pacemaker', 'pacemaker-remote', 'pcs', 'libqb', 'resource-agents' ] %} {% if distro_python_version.startswith('3') %} {% set redis_packages_append = redis_packages_append + [ 'procps-ng', ] %} {% else %} {% set redis_packages_append = redis_packages_append + [ 'sysvinit-tools', ] %} {% endif %} # Remove packages not present in repos # {% if distro_python_version.startswith('3') %} {% set openstack_base_packages_remove = [ 'python3-cloudkittyclient', 'python3-congressclient', 'python3-elasticsearch', 'python3-magnumclient', 'python3-muranoclient', 'python3-pika', 'python3-troveclient', 'python3-vitrageclient', ] %} {% else %} {% set openstack_base_packages_remove = [ 'python-cloudkittyclient', 'python-elasticsearch', 'python-magnumclient', 'python-muranoclient', 'python-troveclient', 'python-vitrageclient', 'python2-pika', ] %} {% endif %} {% set openstack_base_packages_append = ['openstack-selinux'] %} # Use mariadb-server-galera and xinetd for galera and clustercheck {# 'pv' # EPEL #} {% set mariadb_packages_remove = [ 'pv' ] %} {% set mariadb_packages_append = ['xinetd', 'pacemaker', 'pacemaker-remote', 'pcs', 'libqb', 'resource-agents'] %} {% if base_distro == 'rhel' and base_distro_tag.startswith('8') %} {% set sensu_client_packages_append = ['systemd-udev'] %} {% endif %} {% set sensu_client_packages_remove = [ 'ceph-common', 'cyrus-sasl-devel', 'docker-client', 'gcc-c++', 'make', 'mariadb', 'ntp', 'python-pymongo', 'python2-pymongo', 'python3-pymongo', 'ruby-devel' ] %} # Horizon dashboards we do not support # See LP#1767520 {% set horizon_packages_remove = [ 'openstack-cloudkitty-ui', 'openstack-murano-ui', 'openstack-trove-ui' ] %} # Required for nova migration {% set nova_compute_packages_append = ['openstack-nova-migration', 'openssh-server'] %} {% set nova_libvirt_packages_remove = ['libvirt-daemon-driver-lxc'] %} # On RHEL7 /etc/pki/CA was part of base openssl package. # On RHEL8 it is now in openssl-perl. {% set nova_libvirt_packages_append = [ 'openstack-nova-migration', 'openssl-perl', 'podman', 'libseccomp' ] %} {% if distro_python_version.startswith('2') %} {% set nova_libvirt_packages_append = nova_libvirt_packages_append + ['docker'] %} {% endif %} # Required to allow the mysql-migrate-db.sh data extraction script to be used # during an upgrade. {% set placement_api_packages_append = ['mariadb'] %} # NOTE(cloudnull): Remove ""td-agent"" packages and plugins from the fluentd container. {% set fluentd_packages_remove = ['td-agent'] %} {% set fluentd_packages_append = ['fluentd', 'hostname'] %} {% set fluentd_plugins_remove = [ 'fluent-plugin-grep', 'fluent-plugin-grok-parser', 'fluent-plugin-kubernetes_metadata_filter', 'fluent-plugin-parser', 'fluent-plugin-rewrite-tag-filter', 'fluent-plugin-secure-forward' ] %} ############################ service container footers ######################### {% block aodh_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/aodh-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block aodh_evaluator_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/aodh-evaluator /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block aodh_listener_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/aodh-listener /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block aodh_notifier_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/aodh-notifier /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block barbican_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/barbican-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block barbican_keystone_listener_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/barbican-keystone-listener /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block barbican_worker_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/barbican-worker /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block ceilometer_central_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ceilometer-agent-central /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block ceilometer_compute_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ceilometer-agent-compute /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block ceilometer_ipmi_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ceilometer-agent-ipmi /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block ceilometer_notification_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ceilometer-agent-notification /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block cinder_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/cinder-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% set cinder_backup_packages_append = [ 'pacemaker', 'pacemaker-remote', 'pcs', 'libqb', 'resource-agents'] %} {% block cinder_backup_footer %} RUN mkdir -p /etc/libqb /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/cinder-backup /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block cinder_scheduler_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/cinder-scheduler /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% set cinder_volume_packages_append = [ 'pacemaker', 'pacemaker-remote', 'pcs', 'libqb', 'resource-agents'] %} {% block cinder_volume_footer %} RUN mkdir -p /etc/libqb /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/cinder-volume /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block collectd_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/collectd /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block etcd_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/etcd /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block fluentd_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/fluentd /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} # make sure no gems are installed {% block fluentd_plugins_install %}{% endblock %} {% block fluentd_monasca_plugin_install %}{% endblock %} {% block glance_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/glance-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck && \ sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf && \ sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf && \ echo ""if [[ ""\$\(whoami\)"" == 'root' ]]; then rm -rf /var/run/httpd/* /run/httpd/* /tmp/httpd*; fi"" >> /usr/local/bin/kolla_glance_extend_start {% endblock %} {% block gnocchi_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/gnocchi-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block gnocchi_metricd_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/gnocchi-metricd /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block gnocchi_statsd_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/gnocchi-statsd /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block heat_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/heat-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block heat_api_cfn_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/heat-api-cfn /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block heat_engine_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/heat-engine /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% set haproxy_packages_append = [ 'libqb', 'pacemaker', 'pacemaker-remote', 'pcs', 'resource-agents', ] %} {% block haproxy_footer %} RUN mkdir /etc/libqb {% endblock %} {% block ironic_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ironic-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block ironic_conductor_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ironic-conductor /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block ironic_inspector_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ironic-inspector /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block ironic_pxe_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ironic-pxe /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block iscsid_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/iscsid /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block keystone_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/keystone /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block manila_scheduler_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/manila-scheduler /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% set manila_share_packages_append = [ 'pacemaker', 'pacemaker-remote', 'pcs', 'libqb', 'resource-agents'] %} {% block manila_share_footer %} RUN mkdir /etc/libqb {% endblock %} {% block mariadb_footer %} # We'll configure mariadb with galera.cnf. # Note: in mariadb 10.3, auth_gssapi.cnf is shipped in optional # mariadb-gssapi-server. We don't install it here, so force rm RUN rm -f /etc/my.cnf.d/mariadb-server.cnf /etc/my.cnf.d/auth_gssapi.cnf RUN mkdir -p /etc/libqb /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/mariadb /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block memcached_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/memcached /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block mistral_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/mistral-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block mistral_engine_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/mistral-engine /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block mistral_executor_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/mistral-executor /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck # TODO(emilien) Remove once proper packaging is released for Ansible {% if distro_python_version.startswith('3') %} RUN test -f /usr/bin/ansible-playbook-3 || ln -s /usr/bin/ansible-playbook /usr/bin/ansible-playbook-3 {% endif %} USER root RUN useradd validations USER mistral {% endblock %} {% block mistral_event_engine_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/mistral-event-engine /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block multipathd_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/multipathd /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block neutron_dhcp_agent_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/neutron-dhcp /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block neutron_l3_agent_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/neutron-l3 /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block neutron_metadata_agent_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/neutron-metadata /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block neutron_openvswitch_agent_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/neutron-ovs-agent /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block neutron_sriov_agent_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/neutron-sriov-agent /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block nova_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/nova-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block nova_compute_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/nova-compute /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block nova_compute_ironic_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/nova-ironic /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block nova_libvirt_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/nova-libvirt /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block nova_novncproxy_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/nova-vnc-proxy /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %}] {% block nova_scheduler_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/nova-scheduler /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block nova_conductor_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/nova-conductor /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block octavia_api_footer %} RUN sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf \ && sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf \ && echo ""if [[ ""\$\(whoami\)"" == 'root' ]]; then rm -rf /var/run/httpd/* /run/httpd/* /tmp/httpd*; fi"" >> /usr/local/bin/kolla_octavia_extend_start; \ mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/octavia-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block octavia_health_manager_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/octavia-health-manager /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block octavia_housekeeping_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/octavia-housekeeping /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block octavia_worker_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/octavia-worker /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block opendaylight_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/opendaylight-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block panko_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/panko-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block placement_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/placement-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block rabbitmq_install_plugins %} # External rabbitmq plugins installation is disabled {% endblock %} # workaround for LP #1814233 # Review https://review.opendev.org/#/c/634365/ # Remove when https://review.opendev.org/#/c/634402/ is merged {% set rabbitmq_packages_remove = ['rabbitmq-server-3.7.10'] %} {% set rabbitmq_packages_append = [ 'rabbitmq-server', 'pacemaker', 'pacemaker-remote', 'pcs', 'libqb', 'resource-agents'] %} {% block rabbitmq_footer %} RUN mkdir -p /etc/libqb /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/rabbitmq /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block redis_footer %} RUN mkdir /etc/libqb; mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/redis /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block sahara_api_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/sahara-api /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block sahara_engine_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/sahara-engine /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block sensu_clients_install %} {% endblock %} {% block sensu_client_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/sensu-client /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block swift_account_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/swift-account-server /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block swift_container_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/swift-container-server /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block swift_object_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/swift-object-server /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} # Note(mmagr): Below block is currently noop because swift-proxy-server kolla image is used # for swift_object_expirer container, but it will allow smooth transition # to usage of correct image for the service in future. {% block swift_object_expirer_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/swift-object-expirer /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block swift_proxy_server_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/swift-proxy /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck && \ sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf && \ sed -i -r 's,^(Listen 443),#\1,' /etc/httpd/conf.d/ssl.conf && \ echo ""if [[ ""\$\(whoami\)"" == 'root' ]]; then rm -rf /var/run/httpd/* /run/httpd/* /tmp/httpd*; fi"" >> /usr/local/bin/kolla_extend_start {% endblock %} # Note(mmagr): Below block is currently noop because swift-object kolla image is used # for swift_rsync container, but it will allow smooth transition # to usage of correct image for the service in future. {% block swift_rsyncd_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/swift-rsync /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block tacker_server_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/tacker /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block ovn_controller_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ovn-controller /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% set ovn_northd_packages_append = [ 'pacemaker', 'pacemaker-remote', 'pcs', 'libqb', 'resource-agents'] %} {% block ovn_northd_footer %} RUN mkdir /etc/libqb && mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ovn-dbs /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block neutron_metadata_agent_ovn_footer %} RUN mkdir -p /openstack && \ ln -s /usr/share/openstack-tripleo-common/healthcheck/ovn-metadata /openstack/healthcheck && \ chmod a+rx /openstack/healthcheck {% endblock %} {% block base_footer %} # workaround LP1696283 RUN mkdir -p /etc/ssh && touch /etc/ssh/ssh_known_hosts # workaround for LP#1765802 STOPSIGNAL SIGTERM # In order to ensure that we have the last base packages, we would like to do # a yum update in the kolla base image. All the other images should inherit this # but if the base distro container is out of date (i.g. 7.4 but 7.5 is out) this # will pull in the updated packages available. Related issue LP#1770355 RUN yum update -y && yum clean all && rm -rf /var/cache/yum {% endblock %}",1020,791
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ibedf37e70746486a16366a87888a8963c7fb9cc7,openstack/tripleo-heat-templates,stable/queens,Ibedf37e70746486a16366a87888a8963c7fb9cc7,Add support to set cors config in gnocchi templates,MERGED,2019-10-07 15:10:17.000000000,2019-10-10 22:59:28.000000000,2019-10-10 22:59:28.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6924}, {'_account_id': 7294}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 15:10:17.000000000', 'files': ['puppet/services/gnocchi-api.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbc15a269c9cef7aa334f22efc6a161315f638c3', 'message': 'Add support to set cors config in gnocchi templates\n\nDepends-On: I4f750863ba1bde478efff026f9bc64bac13030ec\nChange-Id: Ibedf37e70746486a16366a87888a8963c7fb9cc7\n(cherry picked from commit b021c4efdfff63405a0720d293583cb6475c50b1)\n'}]",0,687075,cbc15a269c9cef7aa334f22efc6a161315f638c3,11,6,1,5241,,,0,"Add support to set cors config in gnocchi templates

Depends-On: I4f750863ba1bde478efff026f9bc64bac13030ec
Change-Id: Ibedf37e70746486a16366a87888a8963c7fb9cc7
(cherry picked from commit b021c4efdfff63405a0720d293583cb6475c50b1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/687075/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/gnocchi-api.yaml'],1,cbc15a269c9cef7aa334f22efc6a161315f638c3,gnocchi-cors-queens," GnocchiCorsAllowedOrigin: type: string default: '' description: Indicate whether this resource may be shared with the domain received in the request ""origin"" header. conditions: cors_allowed_origin_unset: {equals : [{get_param: GnocchiCorsAllowedOrigin}, '']} - if: - cors_allowed_origin_unset - {} - gnocchi::cors::allowed_origin: {get_param: GnocchiCorsAllowedOrigin} gnocchi::api::middlewares: 'oslo_middleware.cors.CORS' gnocchi::cors::max_age: 3600 gnocchi::cors::allow_headers: 'Content-Type,Cache-Control,Content-Language,Expires,Last-Modified,Pragma,X-Auth-Token' gnocchi::cors::expose_headers: 'Content-Type,Cache-Control,Content-Language,Expires,Last-Modified,Pragma' gnocchi::cors::allow_methods: 'GET,POST,PUT,DELETE,OPTIONS,PATCH'",,18,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I87067bda96d09f862b0ed13f05232490328b1921,openstack/tripleo-heat-templates,stable/stein,I87067bda96d09f862b0ed13f05232490328b1921,Remove ContainerCLI from ovb-ha default file,MERGED,2019-10-01 08:19:50.000000000,2019-10-10 22:59:26.000000000,2019-10-10 22:59:26.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 11491}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-01 08:19:50.000000000', 'files': ['ci/environments/ovb-ha.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e05f788381ab630f59d21ef81473ca014a2c247a', 'message': ""Remove ContainerCLI from ovb-ha default file\n\nDon't override ContainerCLI in ovb-ha file, use it from other\ntemplates like docker.yaml or podman.yaml\n\nDepends-On: https://review.opendev.org/#/c/674866\nChange-Id: I87067bda96d09f862b0ed13f05232490328b1921\n(cherry picked from commit 3b51d705b96960ddb4248bc8747efd9aced46e25)\n""}]",0,685894,e05f788381ab630f59d21ef81473ca014a2c247a,16,10,1,26343,,,0,"Remove ContainerCLI from ovb-ha default file

Don't override ContainerCLI in ovb-ha file, use it from other
templates like docker.yaml or podman.yaml

Depends-On: https://review.opendev.org/#/c/674866
Change-Id: I87067bda96d09f862b0ed13f05232490328b1921
(cherry picked from commit 3b51d705b96960ddb4248bc8747efd9aced46e25)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/685894/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/ovb-ha.yaml'],1,e05f788381ab630f59d21ef81473ca014a2c247a,ovb8-stable/stein,, # Remove ContainerCli once OVB is tested on CentOS8 ContainerCli: docker,0,2
openstack%2Fnetworking-ovn~master~I3e9d62ffc5eab396e983c0769e53d2d1f35644f6,openstack/networking-ovn,master,I3e9d62ffc5eab396e983c0769e53d2d1f35644f6,Do not lose router logical port upon subnet add on the external net,MERGED,2019-09-12 23:10:45.000000000,2019-10-10 22:55:34.000000000,2019-10-03 04:47:50.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-12 23:10:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b8eadc20581b2a1fdcaa4a7298d269157350c544', 'message': '(WIP): Do not lose router logical port upon subnet add on the external net\n\nNOTE: I still need to work on unit tests! Not ready for merge yet.\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 2, 'created': '2019-09-13 03:08:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1d278b6e9e16f21cb1a08651e29a94a10b6a03a2', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 3, 'created': '2019-09-13 03:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c6b8998bedd43e90b7474fa2fe300de926d7f5de', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 4, 'created': '2019-09-15 22:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1554c5e72037b5dd2b89db9cb27d51d6f2a0e10d', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 5, 'created': '2019-09-17 01:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6fda6155c3d835444c888f68476ad31c63318e3b', 'message': 'DNM: Do not lose router logical port upon subnet add on the external net\n\nTODO: Still need to understand how to make\ntest_gateway_chassis_with_bridge_mappings happy.\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 6, 'created': '2019-09-18 20:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2c23db918fc916a07589dc1d90f49251e3bc2db7', 'message': 'DNM: Do not lose router logical port upon subnet add on the external net\n\nTODO: Still need to understand how to make\ntest_gateway_chassis_with_bridge_mappings happy.\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 7, 'created': '2019-09-18 20:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/61f73ec23cdf3adf670f8172bf8e5a4a0d5a23fa', 'message': 'DNM: Do not lose router logical port upon subnet add on the external net\n\nTODO: Still need to understand how to make\ntest_gateway_chassis_with_bridge_mappings happy (part 2).\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 8, 'created': '2019-09-18 20:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9537d28601b69e147d7c83e008eadcebdd704c17', 'message': 'DNM: Do not lose router logical port upon subnet add on the external net\n\nTODO: Still need to understand how to make\ntest_gateway_chassis_with_bridge_mappings happy (part 2).\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 9, 'created': '2019-09-19 02:16:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c1afa904cebdd94b5c0c1bf4b3e5f783d1d5aa00', 'message': 'DNM: Do not lose router logical port upon subnet add on the external net\n\nTODO: Still need to understand how to make\ntest_gateway_chassis_with_bridge_mappings happy (part 2).\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 10, 'created': '2019-09-19 02:25:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/95915ef204457ae339d42969a6459e143c8cec6c', 'message': 'DNM: Do not lose router logical port upon subnet add on the external net\n\nTODO: Still need to understand how to make\ntest_gateway_chassis_with_bridge_mappings happy (part 3).\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 11, 'created': '2019-09-20 16:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1d46364b6761d04699af053fc2a1d6ef1d723af0', 'message': 'DNM: Do not lose router logical port upon subnet add on the external net\n\nTODO: Still need to add a functional test to exercise this bug.\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnets were added or removed from that network.\nThat was caused by missing explicit delete call in DelLRouterPortCommand\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 12, 'created': '2019-09-22 16:39:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/867dc72f6d989ff9095ed46775ab052bcd3c1465', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 13, 'created': '2019-09-23 13:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a0d24a7733f3ebda83763b5722d176c8e60e0843', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 14, 'created': '2019-09-23 15:43:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/efd785c368bfc3ed98267b6774558aa1915099a0', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 15, 'created': '2019-09-23 18:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/638a6e5fe8ce57e6fb0fc7ac45aa672a509f9334', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 16, 'created': '2019-09-23 21:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/59a2ffcd3c41bdad76d8476e764f24f0ec626ed9', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nIn tests, replaced deprecated self.assertItemsEqual(...) with\nsix.assertCountEqual(self, ...)\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 17, 'created': '2019-09-24 09:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0e046ec1a0a0c95bb4dc9a1b78a77f61d4991958', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nIn tests, replaced deprecated self.assertItemsEqual(...) with\nsix.assertCountEqual(self, ...)\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 18, 'created': '2019-09-24 09:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9bc8f20dd4755cca5c880187241ac2c1b196eed9', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 19, 'created': '2019-09-26 14:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/495d76f64d103a4bf06cca9bc562af553136241e', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 20, 'created': '2019-09-28 11:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/29b7697bf5497be79ca808ba878e83d533424a03', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}, {'number': 21, 'created': '2019-09-30 20:50:44.000000000', 'files': ['networking_ovn/tests/functional/test_router.py', 'networking_ovn/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/92142f3165806527e33a4544162ad4eb301e8436', 'message': 'Do not lose router logical port upon subnet add on the external net\n\nPrior to this patch, logical port used by the router to the external\nnetwork was lost if subnet was added to that network. That was\ncaused by missing explicit delete call in DelLRouterPortCommand.\n\nAlso added functional test to exercise this particular code path:\n  test_router::test_gateway_chassis_with_subnet_changes()\n\nCloses-Bug: #1843485\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCo-authored-by: Terry Wilson <twilson@redhat.com>\nSigned-off-by: Flavio Fernandes <flaviof@redhat.com>\n\nChange-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6\n'}]",15,681945,92142f3165806527e33a4544162ad4eb301e8436,90,8,21,11952,,,0,"Do not lose router logical port upon subnet add on the external net

Prior to this patch, logical port used by the router to the external
network was lost if subnet was added to that network. That was
caused by missing explicit delete call in DelLRouterPortCommand.

Also added functional test to exercise this particular code path:
  test_router::test_gateway_chassis_with_subnet_changes()

Closes-Bug: #1843485
Co-authored-by: Daniel Alvarez <dalvarez@redhat.com>
Co-authored-by: Terry Wilson <twilson@redhat.com>
Signed-off-by: Flavio Fernandes <flaviof@redhat.com>

Change-Id: I3e9d62ffc5eab396e983c0769e53d2d1f35644f6
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/45/681945/21 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/ovn_client.py'],1,b8eadc20581b2a1fdcaa4a7298d269157350c544,," def _update_router_ext_gw(self, context, router_object, router, networks, txn): # Without deleting logical router port used for gateway, remove and # re-add all snat and routes that may have been affected by the change # of networks. router_id = router['id'] gw_lrouter_name = utils.ovn_name(router_id) if router_object: gateways = self._get_gw_info(context, router_object) self._delete_router_ext_gw_routes(gw_lrouter_name, gateways, networks, txn) new_gateways = self._get_gw_info(context, router) self._add_router_ext_gw_routes(gw_lrouter_name, new_gateways, txn) def _delete_router_ext_gw_routes(self, gw_lrouter_name, gateways, networks, txn): def _delete_router_ext_gw(self, context, router, networks, txn): router_id = router['id'] gw_port_id = router['gw_port_id'] gw_lrouter_name = utils.ovn_name(router_id) gateways = self._get_gw_info(context, router) self._delete_router_ext_gw_routes(gw_lrouter_name, gateways, networks, txn) def _add_router_ext_gw_routes(self, gw_lrouter_name, gateways, txn): gw_lrouter_name, ip_prefix=gw_info.ip_prefix, def _add_router_ext_gw(self, context, router, networks, txn): router_id = router['id'] # 1. Add the external gateway router port. gateways = self._get_gw_info(context, router) gw_port_id = router['gw_port_id'] port = self._plugin.get_port(context, gw_port_id) self._create_lrouter_port(router_id, port, txn=txn) # 2. Add default route with nexthop as gateway ip lrouter_name = utils.ovn_name(router_id) self._add_router_ext_gw_routes(lrouter_name, gateways, txn) # Check if external gateway has changed, if yes, update # routes that may be affected by it. This change does not # need to rm+add logical router port used as gw. self._update_router_ext_gw(context, router_object, new_router, networks, txn) # Check if snat has been enabled/disabled and update new_snat_state = gateway_new.get('enable_snat', True) if bool(ovn_snats) != new_snat_state: if utils.is_snat_enabled(new_router) and networks: self.update_nat_rules( new_router, networks, enable_snat=new_snat_state, txn=txn)"," def _delete_router_ext_gw(self, context, router, networks, txn): router_id = router['id'] gw_port_id = router['gw_port_id'] gw_lrouter_name = utils.ovn_name(router_id) gateways = self._get_gw_info(context, router) def _add_router_ext_gw(self, context, router, networks, txn): router_id = router['id'] # 1. Add the external gateway router port. gateways = self._get_gw_info(context, router) gw_port_id = router['gw_port_id'] port = self._plugin.get_port(context, gw_port_id) self._create_lrouter_port(router_id, port, txn=txn) # 2. Add default route with nexthop as gateway ip lrouter_name = utils.ovn_name(router_id) lrouter_name, ip_prefix=gw_info.ip_prefix, # Check if external gateway has changed, if yes, delete # the old gateway and add the new gateway txn.add(self._nb_idl.delete_lrouter_ext_gw( router_name)) if router_object: self._delete_router_ext_gw(context, router_object, networks, txn) deleted_gw_port_id = router_object['gw_port_id'] added_gw_port = self._add_router_ext_gw( context, new_router, networks, txn) else: # Check if snat has been enabled/disabled and update new_snat_state = gateway_new.get('enable_snat', True) if bool(ovn_snats) != new_snat_state: if utils.is_snat_enabled(new_router) and networks: self.update_nat_rules( new_router, networks, enable_snat=new_snat_state, txn=txn)",53,34
openstack%2Ftripleo-ansible~master~I5585fa8b6e2094132596073e6c441267a18aea90,openstack/tripleo-ansible,master,I5585fa8b6e2094132596073e6c441267a18aea90,Update config to support RHEL/CENT8,MERGED,2019-10-09 13:59:25.000000000,2019-10-10 22:46:40.000000000,2019-10-10 22:44:49.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 13:59:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b880a4a45e8f8fe40e4b2011664b863e0950cee0', 'message': 'Update config to support RHEL/CENT8\n\nThis change updates our bindep configurations and local test runner\nto ensure it works with RHEL/CENT8.\n\nChange-Id: I5585fa8b6e2094132596073e6c441267a18aea90\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-10-09 16:03:31.000000000', 'files': ['bindep.txt', 'tripleo_ansible/roles/test_deps/vars/redhat-8.yml', 'scripts/run-local-test', 'zuul.d/playbooks/pre.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9c7f558684b1f8b0464b44f24bb5ae49caba5144', 'message': 'Update config to support RHEL/CENT8\n\nThis change updates our bindep configurations and local test runner\nto ensure it works with RHEL/CENT8.\n\nChange-Id: I5585fa8b6e2094132596073e6c441267a18aea90\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",4,687571,9c7f558684b1f8b0464b44f24bb5ae49caba5144,15,6,2,7353,,,0,"Update config to support RHEL/CENT8

This change updates our bindep configurations and local test runner
to ensure it works with RHEL/CENT8.

Change-Id: I5585fa8b6e2094132596073e6c441267a18aea90
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/71/687571/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tripleo_ansible/roles/test_deps/vars/redhat-8.yml', 'scripts/run-local-test', 'zuul.d/playbooks/pre.yml']",4,b880a4a45e8f8fe40e4b2011664b863e0950cee0,rhel-8," # NOTE(cloudnull): This is being done because docker is not supported on RHEL-8 # and tests within this repo still require docker. - name: Manual install container.io become: true package: name: https://download.docker.com/linux/centos/7/x86_64/stable/Packages/containerd.io-1.2.6-3.3.el7.x86_64.rpm when: - (ansible_os_family | lower) == ""redhat"" - (ansible_distribution_version.split('.')[0] | int) >= 8",,51,4
openstack%2Fironic~master~I103ba68449616ca2a8609d16bee9aa89ab5f3bc7,openstack/ironic,master,I103ba68449616ca2a8609d16bee9aa89ab5f3bc7,enable_python3_package should not be necessary anymore,MERGED,2019-09-26 09:18:05.000000000,2019-10-10 22:42:08.000000000,2019-10-10 22:40:19.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-26 09:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2d2f583952707d70304457ee3cd0fc0cde05f3de', 'message': '[WIP] enable_python3_package should not be necessary anymore\n\nTesting removing option enable_python3_package as it should not\nbe needed anymore.\n\nChange-Id: I103ba68449616ca2a8609d16bee9aa89ab5f3bc7\n'}, {'number': 2, 'created': '2019-09-26 14:04:29.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e11285c6b2dbe1c1fb48032a44024313ef8e24ca', 'message': 'enable_python3_package should not be necessary anymore\n\nRemoving option enable_python3_package as it should not\nbe needed anymore.\n\nChange-Id: I103ba68449616ca2a8609d16bee9aa89ab5f3bc7\n'}]",0,684989,e11285c6b2dbe1c1fb48032a44024313ef8e24ca,30,7,2,23851,,,0,"enable_python3_package should not be necessary anymore

Removing option enable_python3_package as it should not
be needed anymore.

Change-Id: I103ba68449616ca2a8609d16bee9aa89ab5f3bc7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/684989/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,2d2f583952707d70304457ee3cd0fc0cde05f3de,rm-enable-python3-package,,"# These packages should be tested under python 3, when the job enables Python 3 # TODO(jlvillal) Add additional dependencies when they should support Python 3. # Add: pyghmi and virtualbmc when they are ready enable_python3_package ironic ironic-lib ironic-python-agent python-ironicclient ",0,5
openstack%2Fpuppet-cinder~stable%2Ftrain~Ia1f3bf52db51e4cb1a7888bfaea2f89d9da2f511,openstack/puppet-cinder,stable/train,Ia1f3bf52db51e4cb1a7888bfaea2f89d9da2f511,Switch to Train,MERGED,2019-10-09 22:57:09.000000000,2019-10-10 22:15:19.000000000,2019-10-10 22:15:19.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 22:57:09.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/cf85ed8e1b3b7d743ca698ba3dcf1fd7080feead', 'message': 'Switch to Train\n\nChange-Id: Ia1f3bf52db51e4cb1a7888bfaea2f89d9da2f511\n'}]",0,687700,cf85ed8e1b3b7d743ca698ba3dcf1fd7080feead,8,3,1,16137,,,0,"Switch to Train

Change-Id: Ia1f3bf52db51e4cb1a7888bfaea2f89d9da2f511
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/00/687700/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,cf85ed8e1b3b7d743ca698ba3dcf1fd7080feead,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-nova~master~Iae595796559cc6551d8ae27e2573122a8a2da15d,openstack/puppet-nova,master,Iae595796559cc6551d8ae27e2573122a8a2da15d,"Fix ""More than one line in file '/etc/sysconfig/libvirtd' matches pattern"" errors",MERGED,2019-10-08 15:41:28.000000000,2019-10-10 22:12:04.000000000,2019-10-10 21:25:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 15:41:28.000000000', 'files': ['manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8377b33bd1e96eda6342d009f85301c5f9acfc03', 'message': 'Fix ""More than one line in file \'/etc/sysconfig/libvirtd\' matches pattern"" errors\n\nThe current code that matches the LIBVIRTD_ARGS= lines can have multiple\nmatches if said line shows up multiple times in a comment and we can end\nup with the following error:\n\n  Error: /Stage[main]/Nova::Migration::Libvirt/File_line[/etc/sysconfig/libvirtd libvirtd args]/\n    ensure: change from \'absent\' to \'present\' failed: More than one line in file \'/etc/sysconfig/libvirtd\' matches pattern\n      \'LIBVIRTD_ARGS=\'\n\nFor the record the sysconfig file that triggered this error had the\nfollowing lines:\n\n  # connects.\n  LIBVIRTD_ARGS=""--timeout 120""\n\n  # If systemd socket activation is disabled, then the following\n  # can be used to listen on TCP/TLS sockets\n  #LIBVIRTD_ARGS=""--listen""\n\nTested this change and I correctly did not fail the deployment anymore.\n\nChange-Id: Iae595796559cc6551d8ae27e2573122a8a2da15d\nCloses-Bug: #1847288\n'}]",0,687338,8377b33bd1e96eda6342d009f85301c5f9acfc03,18,7,1,20172,,,0,"Fix ""More than one line in file '/etc/sysconfig/libvirtd' matches pattern"" errors

The current code that matches the LIBVIRTD_ARGS= lines can have multiple
matches if said line shows up multiple times in a comment and we can end
up with the following error:

  Error: /Stage[main]/Nova::Migration::Libvirt/File_line[/etc/sysconfig/libvirtd libvirtd args]/
    ensure: change from 'absent' to 'present' failed: More than one line in file '/etc/sysconfig/libvirtd' matches pattern
      'LIBVIRTD_ARGS='

For the record the sysconfig file that triggered this error had the
following lines:

  # connects.
  LIBVIRTD_ARGS=""--timeout 120""

  # If systemd socket activation is disabled, then the following
  # can be used to listen on TCP/TLS sockets
  #LIBVIRTD_ARGS=""--listen""

Tested this change and I correctly did not fail the deployment anymore.

Change-Id: Iae595796559cc6551d8ae27e2573122a8a2da15d
Closes-Bug: #1847288
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/38/687338/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/migration/libvirt.pp'],1,8377b33bd1e96eda6342d009f85301c5f9acfc03,fix_libvirt_lines," match => '^LIBVIRTD_ARGS=',"," match => 'LIBVIRTD_ARGS=',",1,1
openstack%2Fcinder~stable%2Fpike~If6043d82cc57d9247a290816d90b95cdf719eaac,openstack/cinder,stable/pike,If6043d82cc57d9247a290816d90b95cdf719eaac,Fix ceph: only close rbd image after snapshot iteration is finished,MERGED,2019-08-13 20:20:03.000000000,2019-10-10 22:07:55.000000000,2019-10-10 22:07:55.000000000,"[{'_account_id': 4523}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 26537}, {'_account_id': 27056}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-08-13 20:20:03.000000000', 'files': ['cinder/backup/drivers/ceph.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0fdff12b260550190be01c59080a8be0c109db28', 'message': ""Fix ceph: only close rbd image after snapshot iteration is finished\n\nlist_snaps() returns an iterator object that requires resources from the\nImage object. Closing the Image object deallocates these resources.\n\nOn Ceph mimic, which contains changes to the functions being invoked,\niterating over the snapshots of a closed image results in the following\nassertion being triggered:\n\ncinder-backup[29383]: /build/ceph-13.2.2/src/common/Mutex.cc: In function 'void Mutex::Lock(bool)' thread 7f35a4812700 time 2018-12-14 10:10:49.843120\ncinder-backup[29383]: /build/ceph-13.2.2/src/common/Mutex.cc: 110: FAILED assert(r == 0)\ncinder-backup[29383]:  ceph version 13.2.2 (02899bfda814146b021136e9d8e80eba494e1126) mimic (stable)\ncinder-backup[29383]:  1: (ceph::__ceph_assert_fail(char const*, char const*, int, char const*)+0x102) [0x7f35903440f2]\ncinder-backup[29383]:  2: (()+0x3162b7) [0x7f35903442b7]\ncinder-backup[29383]:  3: (Mutex::Lock(bool)+0x1de) [0x7f359031901e]\ncinder-backup[29383]:  4: (()+0x8f452) [0x7f358dafc452]\ncinder-backup[29383]:  5: (()+0x11280d) [0x7f358db7f80d]\ncinder-backup[29383]:  6: (rbd_snap_get_namespace_type()+0x29) [0x7f358dacf549]\n\nThe lock being tried to acquire and the object that contained it have\nalready been destroyed by closing the image. The assertion terminates\nthe cinder-backup service via SIGABRT.\n\nOn Ceph luminous we've seen occasional segfaults of the cinder-backup\nservice, which might have the same underlying cause.\n\nCloses-Bug: #1838691\n\nChange-Id: If6043d82cc57d9247a290816d90b95cdf719eaac\nSigned-off-by: Sven Wegener <sven.wegener@inovex.de>\n(cherry picked from commit 76569672599eda764f946ad6ee2ce0bdaddad36b)\n(cherry picked from commit e78b220f448c7eb0de35aafd1d49b00547384d41)\n(cherry picked from commit 57b127459189e39e993426f8e401e288f6394d4b)\n(cherry picked from commit 9e5d33ac244e8dce31ff6d2c7119ee4bd53a9908)\n""}]",0,676273,0fdff12b260550190be01c59080a8be0c109db28,27,16,1,20813,,,0,"Fix ceph: only close rbd image after snapshot iteration is finished

list_snaps() returns an iterator object that requires resources from the
Image object. Closing the Image object deallocates these resources.

On Ceph mimic, which contains changes to the functions being invoked,
iterating over the snapshots of a closed image results in the following
assertion being triggered:

cinder-backup[29383]: /build/ceph-13.2.2/src/common/Mutex.cc: In function 'void Mutex::Lock(bool)' thread 7f35a4812700 time 2018-12-14 10:10:49.843120
cinder-backup[29383]: /build/ceph-13.2.2/src/common/Mutex.cc: 110: FAILED assert(r == 0)
cinder-backup[29383]:  ceph version 13.2.2 (02899bfda814146b021136e9d8e80eba494e1126) mimic (stable)
cinder-backup[29383]:  1: (ceph::__ceph_assert_fail(char const*, char const*, int, char const*)+0x102) [0x7f35903440f2]
cinder-backup[29383]:  2: (()+0x3162b7) [0x7f35903442b7]
cinder-backup[29383]:  3: (Mutex::Lock(bool)+0x1de) [0x7f359031901e]
cinder-backup[29383]:  4: (()+0x8f452) [0x7f358dafc452]
cinder-backup[29383]:  5: (()+0x11280d) [0x7f358db7f80d]
cinder-backup[29383]:  6: (rbd_snap_get_namespace_type()+0x29) [0x7f358dacf549]

The lock being tried to acquire and the object that contained it have
already been destroyed by closing the image. The assertion terminates
the cinder-backup service via SIGABRT.

On Ceph luminous we've seen occasional segfaults of the cinder-backup
service, which might have the same underlying cause.

Closes-Bug: #1838691

Change-Id: If6043d82cc57d9247a290816d90b95cdf719eaac
Signed-off-by: Sven Wegener <sven.wegener@inovex.de>
(cherry picked from commit 76569672599eda764f946ad6ee2ce0bdaddad36b)
(cherry picked from commit e78b220f448c7eb0de35aafd1d49b00547384d41)
(cherry picked from commit 57b127459189e39e993426f8e401e288f6394d4b)
(cherry picked from commit 9e5d33ac244e8dce31ff6d2c7119ee4bd53a9908)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/73/676273/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/backup/drivers/ceph.py'],1,0fdff12b260550190be01c59080a8be0c109db28,bug/1838691, if snaps is None: return False for snap in snaps: if snap['name'] == snap_name: return True, if snaps is None: return False for snap in snaps: if snap['name'] == snap_name: return True ,7,7
openstack%2Fcyborg~master~Ia4ca9e161d75bdc27ffc93d76bb82c636056b28e,openstack/cyborg,master,Ia4ca9e161d75bdc27ffc93d76bb82c636056b28e,API documentation update.,MERGED,2019-10-04 03:15:53.000000000,2019-10-10 22:04:37.000000000,2019-10-10 22:02:52.000000000,"[{'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 20754}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 23168}, {'_account_id': 25738}, {'_account_id': 28614}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-10-04 03:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c7b9b8b68fdae3f3f42d5f4882d850ecfde6f9a9', 'message': 'API documentation update.\n\nChange-Id: Ia4ca9e161d75bdc27ffc93d76bb82c636056b28e\n'}, {'number': 2, 'created': '2019-10-04 03:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/11dd8edbebbd7c10696739704a57b4a6658dbd93', 'message': 'API documentation update.\n\nChange-Id: Ia4ca9e161d75bdc27ffc93d76bb82c636056b28e\n'}, {'number': 3, 'created': '2019-10-04 14:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c1be29fd771f0fbb72bc19fa06e4e04870bdf896', 'message': 'API documentation update.\n\nChange-Id: Ia4ca9e161d75bdc27ffc93d76bb82c636056b28e\n'}, {'number': 4, 'created': '2019-10-04 14:23:25.000000000', 'files': ['doc/source/api/api.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/52494d89f700e6c68bc547180f6cf2a361740b02', 'message': 'API documentation update.\n\nChange-Id: Ia4ca9e161d75bdc27ffc93d76bb82c636056b28e\n'}]",0,686518,52494d89f700e6c68bc547180f6cf2a361740b02,17,10,4,21672,,,0,"API documentation update.

Change-Id: Ia4ca9e161d75bdc27ffc93d76bb82c636056b28e
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/18/686518/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/api/api.rst'],1,c7b9b8b68fdae3f3f42d5f4882d850ecfde6f9a9,,Cyborg REST API v2.0 ******************** The Train release introduces version 2.0 APIs. Details of these APIs can be found `here <https://opendev.org/openstack/cyborg-specs/src/branch/master/specs/train/approved/cyborg-api.rst>`_. The following v1 APIs are deprecated in Train and will be removed in the Ussuri release. The URIs are relative to ``http://<ctrlr-ip>/accelerator/v1``. | GET | /accelerators | Return a list of accelerators | | GET | /accelerators/{uuid} | Retrieve a certain accelerator info identified by `{uuid}`| | POST | /accelerators | Create a new accelerator | | PUT | /accelerators/{uuid} | Update the spec for the accelerator identified by `{uuid}`| | DELETE | /accelerators/{uuid} | Delete the accelerator identified by `{uuid}` |,This document describes the basic REST API operation that Cyborg supports for Stein release:: | GET | /accelerators | Return a list of accelerators (Deprecated) | | GET | /accelerators/{uuid} | Retrieve a certain accelerator info identified by `{uuid}` (Deprecated)| | POST | /accelerators | Create a new accelerator (Deprecated) | | PUT | /accelerators/{uuid} | Update the spec for the accelerator identified by `{uuid}` (Deprecated)| | DELETE | /accelerators/{uuid} | Delete the accelerator identified by `{uuid}` (Deprecated) |,13,7
openstack%2Fpuppet-heat~stable%2Ftrain~Ic42295ebd09b779755fec28da562b5a03ca0ad57,openstack/puppet-heat,stable/train,Ic42295ebd09b779755fec28da562b5a03ca0ad57,Switch to Train,MERGED,2019-10-09 23:31:17.000000000,2019-10-10 22:04:16.000000000,2019-10-10 22:04:15.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:31:17.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/9c70b1411d58f093757b7ceb2eac22be1c26806e', 'message': 'Switch to Train\n\nChange-Id: Ic42295ebd09b779755fec28da562b5a03ca0ad57\n'}]",0,687749,9c70b1411d58f093757b7ceb2eac22be1c26806e,6,2,1,16137,,,0,"Switch to Train

Change-Id: Ic42295ebd09b779755fec28da562b5a03ca0ad57
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/49/687749/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,9c70b1411d58f093757b7ceb2eac22be1c26806e,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fcyborg~master~I4dc98dee7881090ca60359379d5bc76e99847256,openstack/cyborg,master,I4dc98dee7881090ca60359379d5bc76e99847256,Update master for stable/train,MERGED,2019-09-27 09:02:55.000000000,2019-10-10 22:03:34.000000000,2019-10-10 22:02:11.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-09-27 09:02:55.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/eea67513c297f8545fdfd85ee0a169577d7c7106', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I4dc98dee7881090ca60359379d5bc76e99847256\nSem-Ver: feature\n'}]",0,685250,eea67513c297f8545fdfd85ee0a169577d7c7106,14,7,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I4dc98dee7881090ca60359379d5bc76e99847256
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/50/685250/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,eea67513c297f8545fdfd85ee0a169577d7c7106,reno-train, train,,7,0
openstack%2Fcyborg~master~Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45,openstack/cyborg,master,Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45,Update driver section.,MERGED,2019-10-03 15:28:37.000000000,2019-10-10 22:02:51.000000000,2019-10-10 22:02:51.000000000,"[{'_account_id': 14070}, {'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 17813}, {'_account_id': 20754}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 25738}, {'_account_id': 28614}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-10-03 15:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/7791041f803e0d82819fff5453eea765603b86dd', 'message': 'Update driver section.\n\nMost of the operations are common to the drivers we support.\nFor example, all drivers support device discovery, VM\ncreation/deletion, etc. None of them support firmware/shell\nupdate.\n\nAlso, we need to include the supported product families and\nany special notes for the driver.\n\nChange-Id: Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45\n'}, {'number': 2, 'created': '2019-10-03 20:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1d3ad2f4051dc7374882f1938fb5d485f25651ec', 'message': 'Update driver section.\n\nApart from FPGA and GPU, we support other device types\ntoday and will add more in the future.\n\nMost of the operations are common to the drivers we support.\nFor example, all drivers support device discovery, VM\ncreation/deletion, etc. None of them support firmware/shell\nupdate today.\n\nAlso, we need to include the supported product families and\nany special notes for the driver.\n\nSo this update removes the per-device-type files for FPGA\nand GPU, and instead adds per-driver notes.\n\nChange-Id: Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45\n'}, {'number': 3, 'created': '2019-10-03 20:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/feb690a51f2e97cb6ea71f8548317bba3d85e169', 'message': 'Update driver section.\n\nApart from FPGA and GPU, we support other device types\ntoday and will add more in the future.\n\nMost of the operations are common to the drivers we support.\nFor example, all drivers support device discovery, VM\ncreation/deletion, etc. None of them support firmware/shell\nupdate today.\n\nAlso, we need to include the supported product families and\nany special notes for the driver.\n\nSo this update removes the per-device-type files for FPGA\nand GPU, and instead adds per-driver notes.\n\nChange-Id: Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45\n'}, {'number': 4, 'created': '2019-10-04 02:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/cc70978dd04b3866aa7db3b3889b91b539e3e725', 'message': 'Update driver section.\n\nApart from FPGA and GPU, we support other device types\ntoday and will add more in the future.\n\nMost of the operations are common to the drivers we support.\nFor example, all drivers support device discovery, VM\ncreation/deletion, etc. None of them support firmware/shell\nupdate today.\n\nAlso, we need to include the supported product families and\nany special notes for the driver.\n\nSo this update removes the per-device-type files for FPGA\nand GPU, and instead adds per-driver notes.\n\nChange-Id: Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45\n'}, {'number': 5, 'created': '2019-10-04 11:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/c1b37f5c8e27351c0b8452dfb1ffdfacca254d2e', 'message': 'Update driver section.\n\nApart from FPGA and GPU, we support other device types\ntoday and will add more in the future.\n\nMost of the operations are common to the drivers we support.\nFor example, all drivers support device discovery, VM\ncreation/deletion, etc. None of them support firmware/shell\nupdate today.\n\nAlso, we need to include the supported product families and\nany special notes for the driver.\n\nSo this update removes the per-device-type files for FPGA\nand GPU, and instead adds per-driver notes.\n\nChange-Id: Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45\n'}, {'number': 6, 'created': '2019-10-04 11:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ffddfe639faccdc5269d144bc9113392299a9fe8', 'message': 'Update driver section.\n\nApart from FPGA and GPU, we support other device types\ntoday and will add more in the future.\n\nMost of the operations are common to the drivers we support.\nFor example, all drivers support device discovery, VM\ncreation/deletion, etc. None of them support firmware/shell\nupdate today.\n\nAlso, we need to include the supported product families and\nany special notes for the driver.\n\nSo this update removes the per-device-type files for FPGA\nand GPU, and instead adds per-driver notes.\n\nChange-Id: Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45\n'}, {'number': 7, 'created': '2019-10-04 12:10:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/50ab8d0dc2c4c8db57dfc4dae61e7ecf87fbee48', 'message': 'Update driver section.\n\nApart from FPGA and GPU, we support other device types\ntoday and will add more in the future.\n\nMost of the operations are common to the drivers we support.\nFor example, all drivers support device discovery, VM\ncreation/deletion, etc. None of them support firmware/shell\nupdate today.\n\nAlso, we need to include the supported product families and\nany special notes for the driver.\n\nSo this update removes the per-device-type files for FPGA\nand GPU, and instead adds per-driver notes.\n\nChange-Id: Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45\n'}, {'number': 8, 'created': '2019-10-04 12:31:50.000000000', 'files': ['doc/source/reference/driver-table.rst', 'doc/source/reference/support-matrix.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/conf.py', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/95e01e6d38ff6ab5b4c22a780e7dbab9784d05de', 'message': 'Update driver section.\n\nApart from FPGA and GPU, we support other device types\ntoday and will add more in the future.\n\nMost of the operations are common to the drivers we support.\nFor example, all drivers support device discovery, VM\ncreation/deletion, etc. None of them support firmware/shell\nupdate today.\n\nAlso, we need to include the supported product families and\nany special notes for the driver.\n\nSo this update removes the per-device-type files for FPGA\nand GPU, and instead adds per-driver notes.\n\nChange-Id: Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45\n'}]",4,686423,95e01e6d38ff6ab5b4c22a780e7dbab9784d05de,30,12,8,21672,,,0,"Update driver section.

Apart from FPGA and GPU, we support other device types
today and will add more in the future.

Most of the operations are common to the drivers we support.
For example, all drivers support device discovery, VM
creation/deletion, etc. None of them support firmware/shell
update today.

Also, we need to include the supported product families and
any special notes for the driver.

So this update removes the per-device-type files for FPGA
and GPU, and instead adds per-driver notes.

Change-Id: Ic0836e5a8d470a0f185d8d73e4f9ae21dfa63e45
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/23/686423/8 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix-drivers.ini', 'doc/source/reference/support-matrix.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/reference/support-matrix-gpu.ini']",4,7791041f803e0d82819fff5453eea765603b86dd,,,"# Copyright (C) 2018 Lenovo, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ##################################################################### # Drivers: [driver.gpu.fake] title=Cyborg Fake GPU Driver link=https://opendev.org/openstack/cyborg/src/branch/master/cyborg/accelerator/drivers [driver.gpu.nvidia] title=Cyborg NVIDIA GPU Driver link=https://opendev.org/openstack/cyborg/src/branch/master/cyborg/accelerator/drivers/gpu/nvidia ##################################################################### # Functions: [operation.supported] title=Supported Vendor Driver status=optional notes=A vendor driver is considered supported if the vendor is running a third party CI that regularly runs and reports accurate results. driver.gpu.fake=missing driver.gpu.nvidia=complete [operation.create_accelerator] title=Create Accelerator status=mandatory notes=Cyborg supports the ability to create an accelerator. driver.gpu.fake=missing driver.gpu.nvidia=complete [operation.delete_accelerator] title=Delete Accelerator status=mandatory notes=Cyborg supports the ability to create an accelerator. driver.gpu.fake=missing driver.gpu.nvidia=complete [operation.update_firmware] title=Update GPU Firmware status=optional notes=Supports the ability to update firmware for GPU. driver.gpu.fake=missing driver.gpu.nvidia=missing",46,157
openstack%2Fpuppet-openstacklib~master~I233ba3db5127d2e9a4c08c767474ac038305d488,openstack/puppet-openstacklib,master,I233ba3db5127d2e9a4c08c767474ac038305d488,Deprecate Puppet 5 support,MERGED,2019-10-09 15:12:12.000000000,2019-10-10 21:52:51.000000000,2019-10-10 21:51:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 15:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/add1b3ce88331f21d40a2ffc8fce123e1a3e361b', 'message': 'Deprecate Puppet 5 support\n\nPuppet 5 will only recieve fixes and security\nupdates to May 2020 [1]. See quote [2].\n\nSince we support Puppet 6 already this is not\nan issue. The Ussuri release will be around\nthe 2020-05-13 date [3] which will be almost\nthe same time as the Puppet 5 EOL.\n\nWith this we let users know that they can use\nPuppet 5 in Ussuri but that we stop officially\nsupporting it in V.\n\nMy hope is that we could also make this a hard\nrequirement in V so that we can start using the\nfeatures that are >= 6.0.0 only.\n\n[1] https://puppet.com/misc/puppet-enterprise-lifecycle\n[2] ""For example, the PE2018.1 LTS uses Puppet Agent 5.5, so the open\nsource Puppet Agent 5.5 will receive bug fix and security updates until\nMay 2020.""\n[3] https://releases.openstack.org/ussuri/index.html\n\nChange-Id: I233ba3db5127d2e9a4c08c767474ac038305d488\n'}, {'number': 2, 'created': '2019-10-09 15:17:59.000000000', 'files': ['manifests/defaults.pp', 'releasenotes/notes/deprecate-puppet-5-support-1864c361a7a9d402.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0bad3b16700f37b60cec6e6d6316637ab088f60a', 'message': 'Deprecate Puppet 5 support\n\nPuppet 5 will only recieve fixes and security\nupdates to May 2020 [1]. See quote [2].\n\nSince we support Puppet 6 already this is not\nan issue. The Ussuri release will be around\nthe 2020-05-13 date [3] which will be almost\nthe same time as the Puppet 5 EOL.\n\nWith this we let users know that they can use\nPuppet 5 in Ussuri but that we stop officially\nsupporting it in V.\n\nMy hope is that we could also make this a hard\nrequirement in V so that we can start using the\nfeatures that are >= 6.0.0 only.\n\n[1] https://puppet.com/misc/puppet-enterprise-lifecycle\n[2] ""For example, the PE2018.1 LTS uses Puppet Agent 5.5, so the open\nsource Puppet Agent 5.5 will receive bug fix and security updates until\nMay 2020.""\n[3] https://releases.openstack.org/ussuri/index.html\n\nChange-Id: I233ba3db5127d2e9a4c08c767474ac038305d488\n'}]",0,687583,0bad3b16700f37b60cec6e6d6316637ab088f60a,10,4,2,16137,,,0,"Deprecate Puppet 5 support

Puppet 5 will only recieve fixes and security
updates to May 2020 [1]. See quote [2].

Since we support Puppet 6 already this is not
an issue. The Ussuri release will be around
the 2020-05-13 date [3] which will be almost
the same time as the Puppet 5 EOL.

With this we let users know that they can use
Puppet 5 in Ussuri but that we stop officially
supporting it in V.

My hope is that we could also make this a hard
requirement in V so that we can start using the
features that are >= 6.0.0 only.

[1] https://puppet.com/misc/puppet-enterprise-lifecycle
[2] ""For example, the PE2018.1 LTS uses Puppet Agent 5.5, so the open
source Puppet Agent 5.5 will receive bug fix and security updates until
May 2020.""
[3] https://releases.openstack.org/ussuri/index.html

Change-Id: I233ba3db5127d2e9a4c08c767474ac038305d488
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/83/687583/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/defaults.pp'],1,add1b3ce88331f21d40a2ffc8fce123e1a3e361b,687583," # TODO(tobias-urdin): Remove this in the V release when # we officially remove the support. if versioncmp($::puppetversion, '6.0.0') < 0 { warning('OpenStack modules support for Puppet 5 is deprecated \ and will be officially unsupported in the V release') } ",,7,0
openstack%2Fpuppet-zaqar~stable%2Ftrain~I74544b0d93271d72ad4964f7d8cd0362f042b0a7,openstack/puppet-zaqar,stable/train,I74544b0d93271d72ad4964f7d8cd0362f042b0a7,Switch to Train,MERGED,2019-10-09 23:21:59.000000000,2019-10-10 21:52:09.000000000,2019-10-10 21:52:08.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:21:59.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/88b97ec27cc460cabf130c47553ae2917f07e2d6', 'message': 'Switch to Train\n\nChange-Id: I74544b0d93271d72ad4964f7d8cd0362f042b0a7\n'}]",0,687737,88b97ec27cc460cabf130c47553ae2917f07e2d6,6,2,1,16137,,,0,"Switch to Train

Change-Id: I74544b0d93271d72ad4964f7d8cd0362f042b0a7
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/37/687737/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,88b97ec27cc460cabf130c47553ae2917f07e2d6,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-placement~stable%2Ftrain~Ic164179e383ecefb5201805c1b26e1ffa66c4a80,openstack/puppet-placement,stable/train,Ic164179e383ecefb5201805c1b26e1ffa66c4a80,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-07 13:34:51.000000000,2019-10-10 21:50:56.000000000,2019-10-10 21:49:48.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:34:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/583347051aba67d5ecde2ce167f2d8c359f855d3', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic164179e383ecefb5201805c1b26e1ffa66c4a80\n'}]",0,687042,583347051aba67d5ecde2ce167f2d8c359f855d3,12,4,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic164179e383ecefb5201805c1b26e1ffa66c4a80
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/42/687042/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,583347051aba67d5ecde2ce167f2d8c359f855d3,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fpuppet-ironic~stable%2Ftrain~I9a925d35d1836e14126d9bd2be8aa34a8a30775f,openstack/puppet-ironic,stable/train,I9a925d35d1836e14126d9bd2be8aa34a8a30775f,Switch to Train,MERGED,2019-10-09 23:30:58.000000000,2019-10-10 21:45:29.000000000,2019-10-10 21:45:29.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:30:58.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/884325d19181cdc2915694ade18acc0cc794ebf4', 'message': 'Switch to Train\n\nChange-Id: I9a925d35d1836e14126d9bd2be8aa34a8a30775f\n'}]",0,687748,884325d19181cdc2915694ade18acc0cc794ebf4,6,2,1,16137,,,0,"Switch to Train

Change-Id: I9a925d35d1836e14126d9bd2be8aa34a8a30775f
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/48/687748/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,884325d19181cdc2915694ade18acc0cc794ebf4,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Freleases~master~Ib355466077e0c8166db09e69fdb3951755104173,openstack/releases,master,Ib355466077e0c8166db09e69fdb3951755104173,Release trove RC2 for Train,MERGED,2019-10-09 15:42:08.000000000,2019-10-10 21:41:37.000000000,2019-10-10 21:41:37.000000000,"[{'_account_id': 6732}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:42:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a79cf2fff9fe9d4e31b4d7c4aac2db3e12e96b68', 'message': 'Release trove RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: Ib355466077e0c8166db09e69fdb3951755104173\n'}, {'number': 2, 'created': '2019-10-10 21:18:15.000000000', 'files': ['deliverables/train/trove.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/640449ea9bedd77dd9970e1356f616a987268b6c', 'message': 'Release trove RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: Ib355466077e0c8166db09e69fdb3951755104173\n'}]",0,687598,640449ea9bedd77dd9970e1356f616a987268b6c,8,3,2,11904,,,0,"Release trove RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: Ib355466077e0c8166db09e69fdb3951755104173
",git fetch https://review.opendev.org/openstack/releases refs/changes/98/687598/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/trove.yaml'],1,a79cf2fff9fe9d4e31b4d7c4aac2db3e12e96b68,train-rc2, - version: 12.0.0.0rc2 projects: - repo: openstack/trove hash: e45b6a63490649ac0b3fbce27e7c79d547814840,,4,0
openstack%2Ftrove~master~I4d2fe38fac34c75b42234fa7a20aba51e6dc1c4e,openstack/trove,master,I4d2fe38fac34c75b42234fa7a20aba51e6dc1c4e,Support to specify branch when building the image,MERGED,2019-10-07 09:56:14.000000000,2019-10-10 21:41:18.000000000,2019-10-10 21:40:18.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 09:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5b602add82e240159e0cc7c93454e60769602619', 'message': 'Support to specify branch when building the image\n\n- Explicity specify branch name for building non-dev image\n- Use branch name for building dev image in devstack\n- Update the doc\n\nCandidate backport for stable/train\n\nChange-Id: I4d2fe38fac34c75b42234fa7a20aba51e6dc1c4e\n'}, {'number': 2, 'created': '2019-10-10 08:56:23.000000000', 'files': ['integration/scripts/files/elements/ubuntu-guest/extra-data.d/15-trove-dep', 'integration/scripts/files/elements/guest-agent/source-repository-guest-agent', 'integration/scripts/trovestack', 'doc/source/admin/trovestack.rst', 'devstack/plugin.sh', 'integration/scripts/functions_qemu'], 'web_link': 'https://opendev.org/openstack/trove/commit/d244c9d6661a4595533fcbb972798771791f4ed5', 'message': 'Support to specify branch when building the image\n\n- Explicity specify branch name for building non-dev image\n- Use branch name for building dev image in devstack\n- Update the doc\n\nCandidate backport for stable/train\n\nChange-Id: I4d2fe38fac34c75b42234fa7a20aba51e6dc1c4e\n'}]",0,686993,d244c9d6661a4595533fcbb972798771791f4ed5,13,2,2,6732,,,0,"Support to specify branch when building the image

- Explicity specify branch name for building non-dev image
- Use branch name for building dev image in devstack
- Update the doc

Candidate backport for stable/train

Change-Id: I4d2fe38fac34c75b42234fa7a20aba51e6dc1c4e
",git fetch https://review.opendev.org/openstack/trove refs/changes/93/686993/2 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/ubuntu-guest/extra-data.d/15-trove-dep', 'integration/scripts/files/elements/guest-agent/source-repository-guest-agent', 'integration/scripts/trovestack', 'doc/source/admin/trovestack.rst', 'devstack/plugin.sh', 'integration/scripts/functions_qemu']",6,5b602add82e240159e0cc7c93454e60769602619,image-build-branch, export DEST=${DEST:-'/opt/stack'} export TROVE_BRANCH=${TROVE_BRANCH:-'master'},,16,9
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I14fcf820d94319541dd7bf13893e82cf0373969c,openstack/kuryr-kubernetes,stable/train,I14fcf820d94319541dd7bf13893e82cf0373969c,Avoid namespace deletion error if processing a duplicated event,MERGED,2019-10-10 12:29:18.000000000,2019-10-10 21:38:52.000000000,2019-10-10 21:37:46.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-10 12:29:18.000000000', 'files': ['kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7444eab6494af92dc75ecb5c47e8f1f0299fbf61', 'message': 'Avoid namespace deletion error if processing a duplicated event\n\nIn case of a kuryr-controller restart, if the namespace deletion\nevent was already executed and it is retriggered, it can make the\nkuryr-controller fail as the kuryrnet CRD would have been already\ndeleted and we cannot obtain the subnet id from it. In that case\nthe event just need to be skip.\n\nChange-Id: I14fcf820d94319541dd7bf13893e82cf0373969c\nCloses-Bug: 1847453\n(cherry picked from commit efae1f5211e3907ff58853155b785f0e8fb34e9b)\n'}]",0,687872,7444eab6494af92dc75ecb5c47e8f1f0299fbf61,12,3,1,23567,,,0,"Avoid namespace deletion error if processing a duplicated event

In case of a kuryr-controller restart, if the namespace deletion
event was already executed and it is retriggered, it can make the
kuryr-controller fail as the kuryrnet CRD would have been already
deleted and we cannot obtain the subnet id from it. In that case
the event just need to be skip.

Change-Id: I14fcf820d94319541dd7bf13893e82cf0373969c
Closes-Bug: 1847453
(cherry picked from commit efae1f5211e3907ff58853155b785f0e8fb34e9b)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/72/687872/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/namespace.py'],1,7444eab6494af92dc75ecb5c47e8f1f0299fbf61,bug/1847453-stable/train," if not net_crd: LOG.warning(""This should not happen. Probably this is event "" ""is processed twice due to a restart or etcd is "" ""not in sync"") # NOTE(ltomasbo): We should rely on etcd properly behaving, so # we are returning here to prevent duplicated events processing # but not to prevent etcd failures. return",,8,0
openstack%2Fcinder~stable%2Fstein~Id6fa50b759add5d2286b98f1752a7ff92bf0515d,openstack/cinder,stable/stein,Id6fa50b759add5d2286b98f1752a7ff92bf0515d,Fix code-block JSON format issues,MERGED,2019-10-07 19:40:11.000000000,2019-10-10 21:38:28.000000000,2019-10-10 21:36:22.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 12369}, {'_account_id': 17130}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-10-07 19:40:11.000000000', 'files': ['cinder/volume/manager.py', 'cinder/api/v3/attachments.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/c417ae742bce46ba79fb34685ff7cca9d9e0fbe7', 'message': 'Fix code-block JSON format issues\n\nSphinx 2.0 is more strict on enforcing proper format for the specified\ncode type. This resulted in a few warnings due to JSON code blocks not\nbeing valid JSON. This cleans up a few cases that were not properly\nformatted.\n\nCloses-bug: #1822891\n\nChange-Id: Id6fa50b759add5d2286b98f1752a7ff92bf0515d\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit e27d781455c649fe9349bf408b74292e81e2b4ec)\n'}]",0,687146,c417ae742bce46ba79fb34685ff7cca9d9e0fbe7,22,17,1,11904,,,0,"Fix code-block JSON format issues

Sphinx 2.0 is more strict on enforcing proper format for the specified
code type. This resulted in a few warnings due to JSON code blocks not
being valid JSON. This cleans up a few cases that were not properly
formatted.

Closes-bug: #1822891

Change-Id: Id6fa50b759add5d2286b98f1752a7ff92bf0515d
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit e27d781455c649fe9349bf408b74292e81e2b4ec)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/687146/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/api/v3/attachments.py']",2,c417ae742bce46ba79fb34685ff7cca9d9e0fbe7,bug/1822891-stable/stein," ""ip"": ""192.168.1.20"", ""ip"": ""192.168.1.20"", ""multipath"": false, ""mode"": ""None|rw|ro"""," ""ip"":""192.168.1.20"", ""ip"":""192.168.1.20"", ""multipath"": False, ""mode"": None|""rw""|""ro"",",39,39
openstack%2Fpython-tripleoclient~stable%2Fqueens~Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf,openstack/python-tripleoclient,stable/queens,Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf,Add --platform support when uploading images,MERGED,2018-07-31 07:21:08.000000000,2019-10-10 21:28:29.000000000,2019-10-10 21:27:16.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 10806}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2018-07-31 07:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c0604ab06ca3148b0726a9ac9463d70ad4e2fa8a', 'message': 'Add --platform support when uploading images\n\nAdding --platform when uploading images will set a tripleo_platform\nimage meta data property and prefix all images with the platform (and\narch) to make them stand out in an openstack image list.\n\nSupport is added in such a way that that image names are not altered if\nno --platform is specified.  As platform really only makes sense\n*within* and architecture we ensure that both options are supplied.\n\nConflicts:\n    lower-constraints.txt: Due to not existing in stable/queens\n    test-requirements.txt: Due to request-mock specification\n                            difference on queens\n    tripleoclient/utils.py: Due to the following not existing on stable/queens\n                            Ie4b7951147f5a1aec654982e21296a749fdd865c\n                            I61763f62c5d44f098ad60f9426871caef16cd6de\n\nBlueprint: multiarch-support\nChange-Id: Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf\n(cherry picked from commit 3e786fe8329914e9a3f03de72f50d9fd2d318fc6)\n'}, {'number': 2, 'created': '2019-07-08 16:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bb3791b948c0a4f3d9fe1222955c8e1f5cf19141', 'message': 'Add --platform support when uploading images\n\nAdding --platform when uploading images will set a tripleo_platform\nimage meta data property and prefix all images with the platform (and\narch) to make them stand out in an openstack image list.\n\nSupport is added in such a way that that image names are not altered if\nno --platform is specified.  As platform really only makes sense\n*within* and architecture we ensure that both options are supplied.\n\nConflicts:\n    lower-constraints.txt: Due to not existing in stable/queens\n    test-requirements.txt: Due to request-mock specification\n                            difference on queens\n    tripleoclient/utils.py: Due to the following not existing on stable/queens\n                            Ie4b7951147f5a1aec654982e21296a749fdd865c\n                            I61763f62c5d44f098ad60f9426871caef16cd6de\n\nBlueprint: multiarch-support\nChange-Id: Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf\n(cherry picked from commit 3e786fe8329914e9a3f03de72f50d9fd2d318fc6)\n'}, {'number': 3, 'created': '2019-07-08 17:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d647b56ae8d2dd480969a072f22527aa00fe0e7b', 'message': 'Add --platform support when uploading images\n\nAdding --platform when uploading images will set a tripleo_platform\nimage meta data property and prefix all images with the platform (and\narch) to make them stand out in an openstack image list.\n\nSupport is added in such a way that that image names are not altered if\nno --platform is specified.  As platform really only makes sense\n*within* and architecture we ensure that both options are supplied.\n\nConflicts:\n    lower-constraints.txt: Due to not existing in stable/queens\n    test-requirements.txt: Due to request-mock specification\n                            difference on queens\n    tripleoclient/utils.py: Due to the following not existing on stable/queens\n                            Ie4b7951147f5a1aec654982e21296a749fdd865c\n                            I61763f62c5d44f098ad60f9426871caef16cd6de\n\nBlueprint: multiarch-support\nChange-Id: Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf\n(cherry picked from commit 3e786fe8329914e9a3f03de72f50d9fd2d318fc6)\n'}, {'number': 4, 'created': '2019-07-08 18:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f8b191ec085c539e56b8d004648a5b4ee8f52b2d', 'message': 'Add --platform support when uploading images\n\nAdding --platform when uploading images will set a tripleo_platform\nimage meta data property and prefix all images with the platform (and\narch) to make them stand out in an openstack image list.\n\nSupport is added in such a way that that image names are not altered if\nno --platform is specified.  As platform really only makes sense\n*within* and architecture we ensure that both options are supplied.\n\nConflicts:\n    lower-constraints.txt: Due to not existing in stable/queens\n    test-requirements.txt: Due to request-mock specification\n                            difference on queens\n    tripleoclient/utils.py: Due to the following not existing on stable/queens\n                            Ie4b7951147f5a1aec654982e21296a749fdd865c\n                            I61763f62c5d44f098ad60f9426871caef16cd6de\n\nBlueprint: multiarch-support\nChange-Id: Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf\n(cherry picked from commit 3e786fe8329914e9a3f03de72f50d9fd2d318fc6)\n'}, {'number': 5, 'created': '2019-07-09 16:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ca8a4822d2e847145788f67242b30075bf63f707', 'message': 'Add --platform support when uploading images\n\nAdding --platform when uploading images will set a tripleo_platform\nimage meta data property and prefix all images with the platform (and\narch) to make them stand out in an openstack image list.\n\nSupport is added in such a way that that image names are not altered if\nno --platform is specified.  As platform really only makes sense\n*within* and architecture we ensure that both options are supplied.\n\nConflicts:\n    lower-constraints.txt: Due to not existing in stable/queens\n    test-requirements.txt: Due to request-mock specification\n                            difference on queens\n    tripleoclient/utils.py: Due to the following not existing on stable/queens\n                            Ie4b7951147f5a1aec654982e21296a749fdd865c\n                            I61763f62c5d44f098ad60f9426871caef16cd6de\n\nBlueprint: multiarch-support\nChange-Id: Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf\n(cherry picked from commit 3e786fe8329914e9a3f03de72f50d9fd2d318fc6)\n'}, {'number': 6, 'created': '2019-08-01 15:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/19aca2302a25ed1d445531442e0cccd1cfca795b', 'message': 'Add --platform support when uploading images\n\nAdding --platform when uploading images will set a tripleo_platform\nimage meta data property and prefix all images with the platform (and\narch) to make them stand out in an openstack image list.\n\nSupport is added in such a way that that image names are not altered if\nno --platform is specified.  As platform really only makes sense\n*within* and architecture we ensure that both options are supplied.\n\nConflicts:\n    lower-constraints.txt: Due to not existing in stable/queens\n    test-requirements.txt: Due to request-mock specification\n                            difference on queens\n    tripleoclient/utils.py: Due to the following not existing on stable/queens\n                            Ie4b7951147f5a1aec654982e21296a749fdd865c\n                            I61763f62c5d44f098ad60f9426871caef16cd6de\n\nBlueprint: multiarch-support\nChange-Id: Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf\n(cherry picked from commit 3e786fe8329914e9a3f03de72f50d9fd2d318fc6)\n'}, {'number': 7, 'created': '2019-09-09 17:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c0c24654461c48e3744c9ecbd03e14b8cf9aa45c', 'message': 'Add --platform support when uploading images\n\nAdding --platform when uploading images will set a tripleo_platform\nimage meta data property and prefix all images with the platform (and\narch) to make them stand out in an openstack image list.\n\nSupport is added in such a way that that image names are not altered if\nno --platform is specified.  As platform really only makes sense\n*within* and architecture we ensure that both options are supplied.\n\nConflicts:\n    lower-constraints.txt: Due to not existing in stable/queens\n    test-requirements.txt: Due to request-mock specification\n                            difference on queens\n    tripleoclient/utils.py: Due to the following not existing on stable/queens\n                            Ie4b7951147f5a1aec654982e21296a749fdd865c\n                            I61763f62c5d44f098ad60f9426871caef16cd6de\n\nBlueprint: multiarch-support\nChange-Id: Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf\n(cherry picked from commit 3e786fe8329914e9a3f03de72f50d9fd2d318fc6)\n'}, {'number': 8, 'created': '2019-09-10 01:43:55.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/overcloud_image.py', 'tripleoclient/utils.py', 'releasenotes/notes/add-platform-option-97d92380b9ff52f1.yaml', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2fae8d9cbb788cf73558d00fc7e35c7daa224df6', 'message': 'Add --platform support when uploading images\n\nAdding --platform when uploading images will set a tripleo_platform\nimage meta data property and prefix all images with the platform (and\narch) to make them stand out in an openstack image list.\n\nSupport is added in such a way that that image names are not altered if\nno --platform is specified.  As platform really only makes sense\n*within* and architecture we ensure that both options are supplied.\n\nConflicts:\n    lower-constraints.txt: Due to not existing in stable/queens\n    test-requirements.txt: Due to request-mock specification\n                            difference on queens\n    tripleoclient/utils.py: Due to the following not existing on stable/queens\n                            Ie4b7951147f5a1aec654982e21296a749fdd865c\n                            I61763f62c5d44f098ad60f9426871caef16cd6de\n\nBlueprint: multiarch-support\nChange-Id: Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf\n(cherry picked from commit 3e786fe8329914e9a3f03de72f50d9fd2d318fc6)\n'}]",5,587309,2fae8d9cbb788cf73558d00fc7e35c7daa224df6,49,8,8,12898,,,0,"Add --platform support when uploading images

Adding --platform when uploading images will set a tripleo_platform
image meta data property and prefix all images with the platform (and
arch) to make them stand out in an openstack image list.

Support is added in such a way that that image names are not altered if
no --platform is specified.  As platform really only makes sense
*within* and architecture we ensure that both options are supplied.

Conflicts:
    lower-constraints.txt: Due to not existing in stable/queens
    test-requirements.txt: Due to request-mock specification
                            difference on queens
    tripleoclient/utils.py: Due to the following not existing on stable/queens
                            Ie4b7951147f5a1aec654982e21296a749fdd865c
                            I61763f62c5d44f098ad60f9426871caef16cd6de

Blueprint: multiarch-support
Change-Id: Ia56d22b244cfa5dddb5d110b54a525dfd80a7aaf
(cherry picked from commit 3e786fe8329914e9a3f03de72f50d9fd2d318fc6)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/09/587309/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/overcloud_image.py', 'tripleoclient/utils.py', 'releasenotes/notes/add-platform-option-97d92380b9ff52f1.yaml', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py']",5,c0604ab06ca3148b0726a9ac9463d70ad4e2fa8a,queens/multiarch-support," def test_platform_without_architecture_fail(self): parsed_args = self.check_parser(self.cmd, ['--platform', 'SNB'], []) self.assertRaises(exceptions.CommandError, self.cmd.take_action, parsed_args) mock.Mock(id=16, name='p9-ppc64le-overcloud-full'), mock.Mock(id=17, name='p9-ppc64le-bm-deploy-kernel'), mock.Mock(id=18, name='p9-ppc64le-bm-deploy-initrd'), @mock.patch('os.path.isfile', autospec=True) @mock.patch('subprocess.check_call', autospec=True) def test_overcloud_create_images_with_arch_and_pltform(self, mock_subprocess, mock_isfile): mock_isfile.return_value = False self.cmd._get_image = mock.Mock(return_value=None) mock.patch parsed_args = self.check_parser(self.cmd, ['--whole-disk'], []) self.cmd.take_action(parsed_args) parsed_args = self.check_parser(self.cmd, ['--whole-disk', '--http-boot', '/httpboot/ppc64le', '--architecture', 'ppc64le'], []) self.cmd.take_action(parsed_args) parsed_args = self.check_parser(self.cmd, ['--whole-disk', '--http-boot', '/httpboot/p9-ppc64le', '--architecture', 'ppc64le', '--platform', 'p9'], []) self.cmd.take_action(parsed_args) self.assertEqual( 0, self.app.client_manager.image.images.delete.call_count ) self.assertEqual( 9, self.app.client_manager.image.images.create.call_count ) self.assertEqual( [mock.call(name='overcloud-full', disk_format='qcow2', container_format='bare', visibility='public'), mock.call(name='bm-deploy-kernel', disk_format='aki', container_format='bare', visibility='public'), mock.call(name='bm-deploy-ramdisk', disk_format='ari', container_format='bare', visibility='public'), mock.call(name='ppc64le-overcloud-full', disk_format='qcow2', container_format='bare', visibility='public'), mock.call(name='ppc64le-bm-deploy-kernel', disk_format='aki', container_format='bare', visibility='public'), mock.call(name='ppc64le-bm-deploy-ramdisk', disk_format='ari', container_format='bare', visibility='public'), mock.call(name='p9-ppc64le-overcloud-full', disk_format='qcow2', container_format='bare', visibility='public'), mock.call(name='p9-ppc64le-bm-deploy-kernel', disk_format='aki', container_format='bare', visibility='public'), mock.call(name='p9-ppc64le-bm-deploy-ramdisk', disk_format='ari', container_format='bare', visibility='public') ], self.app.client_manager.image.images.create.call_args_list ) self.assertEqual( [mock.call(13, hw_architecture='ppc64le'), mock.call(14, hw_architecture='ppc64le'), mock.call(15, hw_architecture='ppc64le'), mock.call(16, hw_architecture='ppc64le', tripleo_platform='p9'), mock.call(17, hw_architecture='ppc64le', tripleo_platform='p9'), mock.call(18, hw_architecture='ppc64le', tripleo_platform='p9'), ], self.app.client_manager.image.images.update.call_args_list ) self.assertEqual(mock_subprocess.call_count, 6) # FIXME(tonyb): this is the wrong way around self.assertEqual( mock_subprocess.call_args_list, [ mock.call('sudo cp -f ""./ironic-python-agent.kernel"" ' '""/httpboot/agent.kernel""', shell=True), mock.call('sudo cp -f ""./ironic-python-agent.initramfs"" ' '""/httpboot/agent.ramdisk""', shell=True), mock.call('sudo cp -f ""./ironic-python-agent.kernel"" ' '""/httpboot/ppc64le/agent.kernel""', shell=True), mock.call('sudo cp -f ""./ironic-python-agent.initramfs"" ' '""/httpboot/ppc64le/agent.ramdisk""', shell=True), # FIXME(tonyb): wrong mock.call('sudo cp -f ""./ironic-python-agent.kernel"" ' '""/httpboot/p9-ppc64le/agent.kernel""', shell=True), mock.call('sudo cp -f ""./ironic-python-agent.initramfs"" ' '""/httpboot/p9-ppc64le/agent.ramdisk""', shell=True), ])",,224,24
openstack%2Fpuppet-mistral~stable%2Ftrain~I2f6bc3d9441c82d07e2ccfaf4c09220556b6c58c,openstack/puppet-mistral,stable/train,I2f6bc3d9441c82d07e2ccfaf4c09220556b6c58c,Switch to Train,MERGED,2019-10-09 23:08:41.000000000,2019-10-10 21:28:07.000000000,2019-10-10 21:28:07.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:08:41.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/c733b8a16aca539a88e9c7a28631265490af4691', 'message': 'Switch to Train\n\nChange-Id: I2f6bc3d9441c82d07e2ccfaf4c09220556b6c58c\n'}]",0,687714,c733b8a16aca539a88e9c7a28631265490af4691,8,3,1,16137,,,0,"Switch to Train

Change-Id: I2f6bc3d9441c82d07e2ccfaf4c09220556b6c58c
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/14/687714/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,c733b8a16aca539a88e9c7a28631265490af4691,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Ftripleo-common~stable%2Fqueens~Id82de41e7a49c2d8124fc74125ed51031579aa80,openstack/tripleo-common,stable/queens,Id82de41e7a49c2d8124fc74125ed51031579aa80,Allow platform in instackenv.json,MERGED,2018-07-31 07:57:27.000000000,2019-10-10 21:27:18.000000000,2019-10-10 21:27:18.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10806}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-31 07:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/81ac4b044c692b2c6e2ebe0a2d12eade37d3b1db', 'message': ""Allow platform in instackenv.json\n\nWe'll store that as /extra/tripleo_platform so we can later refer to it.\n\nBlueprint: multiarch-support\nChange-Id: Id82de41e7a49c2d8124fc74125ed51031579aa80\n(cherry picked from commit 89cefb9ef4d09a867931dbadb37362b6c6adb436)\n""}, {'number': 2, 'created': '2019-07-09 17:32:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/895a4b2421726549576d362696df8746121aca04', 'message': ""Allow platform in instackenv.json\n\nWe'll store that as /extra/tripleo_platform so we can later refer to it.\n\nBlueprint: multiarch-support\nChange-Id: Id82de41e7a49c2d8124fc74125ed51031579aa80\n(cherry picked from commit 89cefb9ef4d09a867931dbadb37362b6c6adb436)\n""}, {'number': 3, 'created': '2019-07-16 17:02:33.000000000', 'files': ['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c710bf0e27aa4b8bdaa024b0833172defb0f939a', 'message': ""Allow platform in instackenv.json\n\nWe'll store that as /extra/tripleo_platform so we can later refer to it.\n\nBlueprint: multiarch-support\nChange-Id: Id82de41e7a49c2d8124fc74125ed51031579aa80\n(cherry picked from commit 89cefb9ef4d09a867931dbadb37362b6c6adb436)\n""}]",0,587329,c710bf0e27aa4b8bdaa024b0833172defb0f939a,35,7,3,12898,,,0,"Allow platform in instackenv.json

We'll store that as /extra/tripleo_platform so we can later refer to it.

Blueprint: multiarch-support
Change-Id: Id82de41e7a49c2d8124fc74125ed51031579aa80
(cherry picked from commit 89cefb9ef4d09a867931dbadb37362b6c6adb436)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/29/587329/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_nodes.py', 'tripleo_common/utils/nodes.py']",2,81ac4b044c692b2c6e2ebe0a2d12eade37d3b1db,queens/multiarch-support," extra = {} platform = node.get('platform') if platform: extra = dict(tripleo_platform=platform) if extra: create_map[""extra""] = extra 'capabilities': '/properties/capabilities', 'platform': '/extra/tripleo_platform', } if node.get('platform') and not node.get('arch'): failures.append( (index, 'You have specified a platform without an architecture')) ", 'capabilities': '/properties/capabilities'},62,1
openstack%2Fpython-tripleoclient~stable%2Fqueens~I352759014ce4c249d8391b03317012000221f96f,openstack/python-tripleoclient,stable/queens,I352759014ce4c249d8391b03317012000221f96f,Add --architecture support when uploading images,MERGED,2018-07-31 07:21:08.000000000,2019-10-10 21:22:40.000000000,2019-10-10 21:21:29.000000000,"[{'_account_id': 7144}, {'_account_id': 10806}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2018-07-31 07:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a4a96c1341df3c5dfd14a642526850f3d478352c', 'message': ""Add --architecture support when uploading images\n\nAdding --architecture when uploading images will set a hw_architecture image\nmeta data property and prefix all images with the arch to make them\nstand out in an openstack image list\n\nWhile tripleo doesn't yet take advantage of using the image meta data\nit's still helpful for manual testing to ensure that image selection\nimplies appropriate hardware.\n\nSupport is added in such a way that that image names are not altered if\nno --architecture is specified.\n\nConflicts:\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: I352759014ce4c249d8391b03317012000221f96f\n(cherry picked from commit b5500956d30a738b442ed0b9894a94552dfd7d09)\n""}, {'number': 2, 'created': '2019-07-08 16:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/64c727ba34ef66251ae4f67d8456df01f82404e7', 'message': ""Add --architecture support when uploading images\n\nAdding --architecture when uploading images will set a hw_architecture image\nmeta data property and prefix all images with the arch to make them\nstand out in an openstack image list\n\nWhile tripleo doesn't yet take advantage of using the image meta data\nit's still helpful for manual testing to ensure that image selection\nimplies appropriate hardware.\n\nSupport is added in such a way that that image names are not altered if\nno --architecture is specified.\n\nConflicts:\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: I352759014ce4c249d8391b03317012000221f96f\n(cherry picked from commit b5500956d30a738b442ed0b9894a94552dfd7d09)\n""}, {'number': 3, 'created': '2019-07-08 17:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd20e0c707544d5ee37ffe1729625798cc9d83b9', 'message': ""Add --architecture support when uploading images\n\nAdding --architecture when uploading images will set a hw_architecture image\nmeta data property and prefix all images with the arch to make them\nstand out in an openstack image list\n\nWhile tripleo doesn't yet take advantage of using the image meta data\nit's still helpful for manual testing to ensure that image selection\nimplies appropriate hardware.\n\nSupport is added in such a way that that image names are not altered if\nno --architecture is specified.\n\nConflicts:\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: I352759014ce4c249d8391b03317012000221f96f\n(cherry picked from commit b5500956d30a738b442ed0b9894a94552dfd7d09)\n""}, {'number': 4, 'created': '2019-07-08 18:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/79f254731573a849baf9be2c21a6a5d5259c9152', 'message': ""Add --architecture support when uploading images\n\nAdding --architecture when uploading images will set a hw_architecture image\nmeta data property and prefix all images with the arch to make them\nstand out in an openstack image list\n\nWhile tripleo doesn't yet take advantage of using the image meta data\nit's still helpful for manual testing to ensure that image selection\nimplies appropriate hardware.\n\nSupport is added in such a way that that image names are not altered if\nno --architecture is specified.\n\nConflicts:\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: I352759014ce4c249d8391b03317012000221f96f\n(cherry picked from commit b5500956d30a738b442ed0b9894a94552dfd7d09)\n""}, {'number': 5, 'created': '2019-07-09 16:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f612e6d6c070d92f0d0efa364f6c4b890739a1be', 'message': ""Add --architecture support when uploading images\n\nAdding --architecture when uploading images will set a hw_architecture image\nmeta data property and prefix all images with the arch to make them\nstand out in an openstack image list\n\nWhile tripleo doesn't yet take advantage of using the image meta data\nit's still helpful for manual testing to ensure that image selection\nimplies appropriate hardware.\n\nSupport is added in such a way that that image names are not altered if\nno --architecture is specified.\n\nConflicts:\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: I352759014ce4c249d8391b03317012000221f96f\n(cherry picked from commit b5500956d30a738b442ed0b9894a94552dfd7d09)\n""}, {'number': 6, 'created': '2019-08-01 15:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e788e9da70015af1a85cd61b6904fff8bde29ef8', 'message': ""Add --architecture support when uploading images\n\nAdding --architecture when uploading images will set a hw_architecture image\nmeta data property and prefix all images with the arch to make them\nstand out in an openstack image list\n\nWhile tripleo doesn't yet take advantage of using the image meta data\nit's still helpful for manual testing to ensure that image selection\nimplies appropriate hardware.\n\nSupport is added in such a way that that image names are not altered if\nno --architecture is specified.\n\nConflicts:\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: I352759014ce4c249d8391b03317012000221f96f\n(cherry picked from commit b5500956d30a738b442ed0b9894a94552dfd7d09)\n""}, {'number': 7, 'created': '2019-09-09 17:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/02640c0fb596f200ca569ca97eb28776dff5f088', 'message': ""Add --architecture support when uploading images\n\nAdding --architecture when uploading images will set a hw_architecture image\nmeta data property and prefix all images with the arch to make them\nstand out in an openstack image list\n\nWhile tripleo doesn't yet take advantage of using the image meta data\nit's still helpful for manual testing to ensure that image selection\nimplies appropriate hardware.\n\nSupport is added in such a way that that image names are not altered if\nno --architecture is specified.\n\nConflicts:\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: I352759014ce4c249d8391b03317012000221f96f\n(cherry picked from commit b5500956d30a738b442ed0b9894a94552dfd7d09)\n""}, {'number': 8, 'created': '2019-09-10 01:43:55.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/overcloud_image.py', 'tripleoclient/utils.py', 'releasenotes/notes/add-architecture-option-1fca9e53bd59d353.yaml', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e61b769d875e234ff8c367b6db9c9797cfc6461c', 'message': ""Add --architecture support when uploading images\n\nAdding --architecture when uploading images will set a hw_architecture image\nmeta data property and prefix all images with the arch to make them\nstand out in an openstack image list\n\nWhile tripleo doesn't yet take advantage of using the image meta data\nit's still helpful for manual testing to ensure that image selection\nimplies appropriate hardware.\n\nSupport is added in such a way that that image names are not altered if\nno --architecture is specified.\n\nConflicts:\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: I352759014ce4c249d8391b03317012000221f96f\n(cherry picked from commit b5500956d30a738b442ed0b9894a94552dfd7d09)\n""}]",0,587308,e61b769d875e234ff8c367b6db9c9797cfc6461c,39,7,8,12898,,,0,"Add --architecture support when uploading images

Adding --architecture when uploading images will set a hw_architecture image
meta data property and prefix all images with the arch to make them
stand out in an openstack image list

While tripleo doesn't yet take advantage of using the image meta data
it's still helpful for manual testing to ensure that image selection
implies appropriate hardware.

Support is added in such a way that that image names are not altered if
no --architecture is specified.

Conflicts:
tripleoclient/utils.py: Due to the following not existing on stable/queens
                        Ie4b7951147f5a1aec654982e21296a749fdd865c
                        I61763f62c5d44f098ad60f9426871caef16cd6de
                        I340be11bc9471df22f038629679634c3542d34d6

Blueprint: multiarch-support
Change-Id: I352759014ce4c249d8391b03317012000221f96f
(cherry picked from commit b5500956d30a738b442ed0b9894a94552dfd7d09)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/587308/7 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/overcloud_image.py', 'tripleoclient/utils.py', 'releasenotes/notes/add-architecture-option-1fca9e53bd59d353.yaml', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py']",5,a4a96c1341df3c5dfd14a642526850f3d478352c,queens/multiarch-support," @mock.patch('os.path.isfile', autospec=True) @mock.patch('subprocess.check_call', autospec=True) def test_overcloud_create_images_with_arch_v1(self, mock_subprocess_call, mock_isfile): parsed_args = self.check_parser(self.cmd, ['--arch', 'x86_64'], []) mock_isfile.return_value = False self.cmd._get_image = mock.Mock(return_value=None) self.app.client_manager.image.version = 1.0 self.cmd.take_action(parsed_args) self.assertEqual( 0, self.app.client_manager.image.images.delete.call_count ) self.assertEqual( 5, self.app.client_manager.image.images.create.call_count ) self.assertEqual( [mock.call(properties={'hw_architecture': 'x86_64'}, data=b'IMGDATA', name='x86_64-overcloud-full-vmlinuz', disk_format='aki', is_public=True), mock.call(properties={'hw_architecture': 'x86_64'}, data=b'IMGDATA', name='x86_64-overcloud-full-initrd', disk_format='ari', is_public=True), mock.call(properties={'hw_architecture': 'x86_64', 'kernel_id': 10, 'ramdisk_id': 10}, name='x86_64-overcloud-full', data=b'IMGDATA', container_format='bare', disk_format='qcow2', is_public=True), mock.call(properties={'hw_architecture': 'x86_64'}, data=b'IMGDATA', name='x86_64-bm-deploy-kernel', disk_format='aki', is_public=True), mock.call(properties={'hw_architecture': 'x86_64'}, data=b'IMGDATA', name='x86_64-bm-deploy-ramdisk', disk_format='ari', is_public=True) ], self.app.client_manager.image.images.create.call_args_list ) # FIXME(tonyb): this is the wrong way around def test_overcloud_create_images_with_arch(self, mock_subprocess_call, mock_isfile): parsed_args = self.check_parser(self.cmd, ['--whole-disk', '--arch', 'x86_64'], []) mock_isfile.return_value = False self.cmd._get_image = mock.Mock(return_value=None) self.cmd.take_action(parsed_args) self.assertEqual( 0, self.app.client_manager.image.images.delete.call_count ) self.assertEqual( 3, self.app.client_manager.image.images.create.call_count ) self.assertEqual( [mock.call(name='x86_64-overcloud-full', disk_format='qcow2', container_format='bare', visibility='public'), mock.call(name='x86_64-bm-deploy-kernel', disk_format='aki', container_format='bare', visibility='public'), mock.call(name='x86_64-bm-deploy-ramdisk', disk_format='ari', container_format='bare', visibility='public') ], self.app.client_manager.image.images.create.call_args_list ) self.assertEqual( [mock.call(mock.ANY, hw_architecture='x86_64'), mock.call(mock.ANY, hw_architecture='x86_64'), mock.call(mock.ANY, hw_architecture='x86_64'), ], self.app.client_manager.image.images.update.call_args_list ) self.assertEqual(mock_subprocess_call.call_count, 2) self.assertEqual( mock_subprocess_call.call_args_list, [ mock.call('sudo cp -f ""./ironic-python-agent.kernel"" ' '""/httpboot/agent.kernel""', shell=True), mock.call('sudo cp -f ""./ironic-python-agent.initramfs"" ' '""/httpboot/agent.ramdisk""', shell=True) ]) @mock.patch('os.path.isfile', autospec=True) @mock.patch('subprocess.check_call', autospec=True) class TestUploadOvercloudImageFullMultiArch(TestPluginV1): # NOTE(tonyb): Really only the id is important below, but the names make # reading logfiles a little nicer images = [ mock.Mock(id=10, name='overcloud-full'), mock.Mock(id=11, name='bm-deploy-kernel'), mock.Mock(id=12, name='bm-deploy-initrd'), mock.Mock(id=13, name='ppc64le-overcloud-full'), mock.Mock(id=14, name='ppc64le-bm-deploy-kernel'), mock.Mock(id=15, name='ppc64le-bm-deploy-initrd'), ] def setUp(self): super(TestUploadOvercloudImageFullMultiArch, self).setUp() # Get the command object to test self.cmd = overcloud_image.UploadOvercloudImage(self.app, None) self.app.client_manager.image = mock.Mock() self.app.client_manager.image.version = 2.0 # NOTE(tonyb): This is a little fragile. It works because # GlanceV2ClientAdapter.upload_image() calls # self.client.images.create() and self.client.images.get() once each # call so this way we always create() and get() the same mocked ""image"" self.app.client_manager.image.images.create.side_effect = self.images self.app.client_manager.image.images.get.side_effect = self.images self.cmd._read_image_file_pointer = mock.Mock(return_value=b'IMGDATA') self.cmd._check_file_exists = mock.Mock(return_value=True) @mock.patch('os.path.isfile', autospec=True) @mock.patch('subprocess.check_call', autospec=True) def test_overcloud_create_images_with_arch(self, mock_subprocess_call, mock_isfile): mock_isfile.return_value = False self.cmd._get_image = mock.Mock(return_value=None) mock.patch parsed_args = self.check_parser(self.cmd, ['--whole-disk'], []) self.cmd.take_action(parsed_args) parsed_args = self.check_parser(self.cmd, ['--whole-disk', '--http-boot', '/httpboot/ppc64le', '--arch', 'ppc64le'], []) self.cmd.take_action(parsed_args) self.assertEqual( 0, self.app.client_manager.image.images.delete.call_count ) self.assertEqual( 6, self.app.client_manager.image.images.create.call_count ) self.assertEqual( [mock.call(name='overcloud-full', disk_format='qcow2', container_format='bare', visibility='public'), mock.call(name='bm-deploy-kernel', disk_format='aki', container_format='bare', visibility='public'), mock.call(name='bm-deploy-ramdisk', disk_format='ari', container_format='bare', visibility='public'), mock.call(name='ppc64le-overcloud-full', disk_format='qcow2', container_format='bare', visibility='public'), mock.call(name='ppc64le-bm-deploy-kernel', disk_format='aki', container_format='bare', visibility='public'), mock.call(name='ppc64le-bm-deploy-ramdisk', disk_format='ari', container_format='bare', visibility='public') ], self.app.client_manager.image.images.create.call_args_list ) self.assertEqual( [mock.call(13, hw_architecture='ppc64le'), mock.call(14, hw_architecture='ppc64le'), mock.call(15, hw_architecture='ppc64le'), ], self.app.client_manager.image.images.update.call_args_list ) self.assertEqual(mock_subprocess_call.call_count, 4) # FIXME(tonyb): this is the wrong way around self.assertEqual( mock_subprocess_call.call_args_list, [ mock.call('sudo cp -f ""./ironic-python-agent.kernel"" ' '""/httpboot/agent.kernel""', shell=True), mock.call('sudo cp -f ""./ironic-python-agent.initramfs"" ' '""/httpboot/agent.ramdisk""', shell=True), mock.call('sudo cp -f ""./ironic-python-agent.kernel"" ' '""/httpboot/ppc64le/agent.kernel""', shell=True), mock.call('sudo cp -f ""./ironic-python-agent.initramfs"" ' '""/httpboot/ppc64le/agent.ramdisk""', shell=True), ])",,295,18
openstack%2Fpuppet-nova~master~I8b2b60164314ce92b0df1a648f1356290576047a,openstack/puppet-nova,master,I8b2b60164314ce92b0df1a648f1356290576047a,New class nova::metadata::novajoin::policy,MERGED,2019-09-24 22:59:09.000000000,2019-10-10 21:21:54.000000000,2019-10-10 21:20:53.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-24 22:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/54945e772ab20caf4b0999acf36f81775786b1ac', 'message': 'New class nova::metadata::novajoin::policy\n\nThis allows novajoin policy overrides to be written to\n/etc/novajoin/policy.json, just as nova::policy does for\n/etc/nova/policy.json.\n\nChange-Id: I8b2b60164314ce92b0df1a648f1356290576047a\nBlueprint: nova-less-deploy\n'}, {'number': 2, 'created': '2019-09-26 01:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0cf0ad45381381439604145c03cce29b08040195', 'message': 'New class nova::metadata::novajoin::policy\n\nThis allows novajoin policy overrides to be written to\n/etc/novajoin/policy.json, just as nova::policy does for\n/etc/nova/policy.json.\n\nChange-Id: I8b2b60164314ce92b0df1a648f1356290576047a\nBlueprint: nova-less-deploy\n'}, {'number': 3, 'created': '2019-09-30 23:31:52.000000000', 'files': ['releasenotes/notes/novajoin-policy-2c219cf32a322d4b.yaml', 'manifests/metadata/novajoin/policy.pp', 'spec/classes/nova_metadata_novajoin_policy_spec.rb', 'manifests/metadata/novajoin/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/adc83318c971e127ba67dac8bd2567e30edbcfc7', 'message': 'New class nova::metadata::novajoin::policy\n\nThis allows novajoin policy overrides to be written to\n/etc/novajoin/policy.json, just as nova::policy does for\n/etc/nova/policy.json.\n\nChange-Id: I8b2b60164314ce92b0df1a648f1356290576047a\nBlueprint: nova-less-deploy\n'}]",0,684435,adc83318c971e127ba67dac8bd2567e30edbcfc7,16,5,3,4571,,,0,"New class nova::metadata::novajoin::policy

This allows novajoin policy overrides to be written to
/etc/novajoin/policy.json, just as nova::policy does for
/etc/nova/policy.json.

Change-Id: I8b2b60164314ce92b0df1a648f1356290576047a
Blueprint: nova-less-deploy
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/35/684435/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/novajoin-policy-2c219cf32a322d4b.yaml', 'manifests/metadata/novajoin/policy.pp', 'spec/classes/nova_metadata_novajoin_policy_spec.rb', 'manifests/metadata/novajoin/api.pp']",4,54945e772ab20caf4b0999acf36f81775786b1ac,bp/nova-less-deploy, include ::nova::metadata::novajoin::policy,,86,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c,openstack/python-tripleoclient,stable/queens,I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c,Always define properties for image even if empty,MERGED,2018-07-31 07:21:08.000000000,2019-10-10 21:21:28.000000000,2019-10-10 21:21:28.000000000,"[{'_account_id': 7144}, {'_account_id': 10806}, {'_account_id': 11082}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 17130}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2018-07-31 07:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c137b8a8dd38ef16675dbdb7dec4bb531e237327', 'message': ""Always define properties for image even if empty\n\nThis re-factor allows us to set default properties very simply.  It does\nadd empty properties on images that otherwise didn't have them but this\nshould be safe[1]\n\n[1] famous last words\n\nBlueprint: multiarch-support\nChange-Id: I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c\n(cherry picked from commit 8d05757bcf70ded15dfa5dc073caaf0409a50383)\n""}, {'number': 2, 'created': '2019-07-08 16:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9524db7686cfc05c6cf482620ad115bcf3195835', 'message': ""Always define properties for image even if empty\n\nThis re-factor allows us to set default properties very simply.  It does\nadd empty properties on images that otherwise didn't have them but this\nshould be safe[1]\n\n[1] famous last words\n\nBlueprint: multiarch-support\nChange-Id: I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c\n(cherry picked from commit 8d05757bcf70ded15dfa5dc073caaf0409a50383)\n""}, {'number': 3, 'created': '2019-07-08 17:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d5c16ae7495fdc152b2d8798ee5434eddecef17b', 'message': ""Always define properties for image even if empty\n\nThis re-factor allows us to set default properties very simply.  It does\nadd empty properties on images that otherwise didn't have them but this\nshould be safe[1]\n\n[1] famous last words\n\nBlueprint: multiarch-support\nChange-Id: I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c\n(cherry picked from commit 8d05757bcf70ded15dfa5dc073caaf0409a50383)\n""}, {'number': 4, 'created': '2019-07-08 18:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/34d1dc4f33ec01d6d1205fd4c91747c6b688ef4a', 'message': ""Always define properties for image even if empty\n\nThis re-factor allows us to set default properties very simply.  It does\nadd empty properties on images that otherwise didn't have them but this\nshould be safe[1]\n\n[1] famous last words\n\nBlueprint: multiarch-support\nChange-Id: I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c\n(cherry picked from commit 8d05757bcf70ded15dfa5dc073caaf0409a50383)\n""}, {'number': 5, 'created': '2019-07-09 16:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8a1e6b1953f3bf4f633fddc2208f65ccba43d9d6', 'message': ""Always define properties for image even if empty\n\nThis re-factor allows us to set default properties very simply.  It does\nadd empty properties on images that otherwise didn't have them but this\nshould be safe[1]\n\n[1] famous last words\n\nBlueprint: multiarch-support\nChange-Id: I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c\n(cherry picked from commit 8d05757bcf70ded15dfa5dc073caaf0409a50383)\n""}, {'number': 6, 'created': '2019-08-01 15:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/da52b56b847c79cc3d715f040473a493dd377658', 'message': ""Always define properties for image even if empty\n\nThis re-factor allows us to set default properties very simply.  It does\nadd empty properties on images that otherwise didn't have them but this\nshould be safe[1]\n\n[1] famous last words\n\nBlueprint: multiarch-support\nChange-Id: I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c\n(cherry picked from commit 8d05757bcf70ded15dfa5dc073caaf0409a50383)\n""}, {'number': 7, 'created': '2019-09-09 17:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4782d72aabf9bd1a9d92229cabc002f8c09fd507', 'message': ""Always define properties for image even if empty\n\nThis re-factor allows us to set default properties very simply.  It does\nadd empty properties on images that otherwise didn't have them but this\nshould be safe[1]\n\n[1] famous last words\n\nBlueprint: multiarch-support\nChange-Id: I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c\n(cherry picked from commit 8d05757bcf70ded15dfa5dc073caaf0409a50383)\n""}, {'number': 8, 'created': '2019-09-10 01:43:55.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/18ec57b109aa65921086335a06817e39508416a1', 'message': ""Always define properties for image even if empty\n\nThis re-factor allows us to set default properties very simply.  It does\nadd empty properties on images that otherwise didn't have them but this\nshould be safe[1]\n\n[1] famous last words\n\nBlueprint: multiarch-support\nChange-Id: I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c\n(cherry picked from commit 8d05757bcf70ded15dfa5dc073caaf0409a50383)\n""}]",0,587307,18ec57b109aa65921086335a06817e39508416a1,52,10,8,12898,,,0,"Always define properties for image even if empty

This re-factor allows us to set default properties very simply.  It does
add empty properties on images that otherwise didn't have them but this
should be safe[1]

[1] famous last words

Blueprint: multiarch-support
Change-Id: I136ae6c59bb4a4b3e12eb6a96bfbce732554bb4c
(cherry picked from commit 8d05757bcf70ded15dfa5dc073caaf0409a50383)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/07/587307/5 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py']",2,c137b8a8dd38ef16675dbdb7dec4bb531e237327,queens/multiarch-support," [mock.call(properties={}, data=b'IMGDATA', mock.call(properties={}, data=b'IMGDATA', mock.call(properties={}, data=b'IMGDATA', mock.call(properties={}, data=b'IMGDATA',"," [mock.call(data=b'IMGDATA', mock.call(data=b'IMGDATA', mock.call(data=b'IMGDATA', mock.call(data=b'IMGDATA',",18,7
openstack%2Fheat~stable%2Ftrain~I4bf2e4c9c8a78b33700a6a55b13d951ea06db860,openstack/heat,stable/train,I4bf2e4c9c8a78b33700a6a55b13d951ea06db860,Update .gitreview for stable/train,MERGED,2019-09-29 19:52:23.000000000,2019-10-10 21:18:23.000000000,2019-10-10 21:16:46.000000000,"[{'_account_id': 4257}, {'_account_id': 11904}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-29 19:52:23.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/heat/commit/c56adbaa329ef154e8cb624f512242c7b8a8b430', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I4bf2e4c9c8a78b33700a6a55b13d951ea06db860\n'}]",0,685623,c56adbaa329ef154e8cb624f512242c7b8a8b430,14,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I4bf2e4c9c8a78b33700a6a55b13d951ea06db860
",git fetch https://review.opendev.org/openstack/heat refs/changes/23/685623/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c56adbaa329ef154e8cb624f512242c7b8a8b430,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpython-tripleoclient~stable%2Fqueens~If9b115880e9755f2753a2e53a5869e12a17722a3,openstack/python-tripleoclient,stable/queens,If9b115880e9755f2753a2e53a5869e12a17722a3,Introduce trivial helpers to manage image_files and names,MERGED,2018-07-31 07:21:08.000000000,2019-10-10 21:12:20.000000000,2019-10-10 21:11:02.000000000,"[{'_account_id': 7144}, {'_account_id': 10806}, {'_account_id': 12898}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2018-07-31 07:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2857471ba0c70856b4b802e21a0b52ec50730281', 'message': 'Introduce trivial helpers to manage image_files and names\n\nThis is a trivial re-factor but subsequent patches will increase\ncomplexity of these helpers without clogging up callers with this logic.\n\nConflicts:\nlower-constraints.txt: Due to not existing in stable/queens\ntest-requirements.txt: Due to request-mock specification\n                        difference on queens\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: If9b115880e9755f2753a2e53a5869e12a17722a3\n(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)\n'}, {'number': 2, 'created': '2019-07-08 16:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5b455243161ba5d30aa7c0099f5f5557575a907f', 'message': 'Introduce trivial helpers to manage image_files and names\n\nThis is a trivial re-factor but subsequent patches will increase\ncomplexity of these helpers without clogging up callers with this logic.\n\nConflicts:\nlower-constraints.txt: Due to not existing in stable/queens\ntest-requirements.txt: Due to request-mock specification\n                        difference on queens\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: If9b115880e9755f2753a2e53a5869e12a17722a3\n(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)\n'}, {'number': 3, 'created': '2019-07-08 16:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6ee40cd1d7bda293cebbb29ec986804bba69a56c', 'message': 'Introduce trivial helpers to manage image_files and names\n\nThis is a trivial re-factor but subsequent patches will increase\ncomplexity of these helpers without clogging up callers with this logic.\n\nConflicts:\nlower-constraints.txt: Due to not existing in stable/queens\ntest-requirements.txt: Due to request-mock specification\n                        difference on queens\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: If9b115880e9755f2753a2e53a5869e12a17722a3\n(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)\n'}, {'number': 4, 'created': '2019-07-08 17:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/23284e7d0d107fec96eedbaa3437c1c1444cb003', 'message': 'Introduce trivial helpers to manage image_files and names\n\nThis is a trivial re-factor but subsequent patches will increase\ncomplexity of these helpers without clogging up callers with this logic.\n\nConflicts:\nlower-constraints.txt: Due to not existing in stable/queens\ntest-requirements.txt: Due to request-mock specification\n                        difference on queens\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: If9b115880e9755f2753a2e53a5869e12a17722a3\n(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)\n'}, {'number': 5, 'created': '2019-07-08 17:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/12fcf0a4248d46bd4ab4c66a5ea728294b78df8f', 'message': 'Introduce trivial helpers to manage image_files and names\n\nThis is a trivial re-factor but subsequent patches will increase\ncomplexity of these helpers without clogging up callers with this logic.\n\nConflicts:\nlower-constraints.txt: Due to not existing in stable/queens\ntest-requirements.txt: Due to request-mock specification\n                        difference on queens\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: If9b115880e9755f2753a2e53a5869e12a17722a3\n(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)\n'}, {'number': 6, 'created': '2019-07-08 18:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b1a76493a713062b71afef0236211ceb1a59f059', 'message': 'Introduce trivial helpers to manage image_files and names\n\nThis is a trivial re-factor but subsequent patches will increase\ncomplexity of these helpers without clogging up callers with this logic.\n\nConflicts:\nlower-constraints.txt: Due to not existing in stable/queens\ntest-requirements.txt: Due to request-mock specification\n                        difference on queens\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: If9b115880e9755f2753a2e53a5869e12a17722a3\n(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)\n'}, {'number': 7, 'created': '2019-07-09 16:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cd76a492be6142918eef87ca3acfdfaac7eae86c', 'message': 'Introduce trivial helpers to manage image_files and names\n\nThis is a trivial re-factor but subsequent patches will increase\ncomplexity of these helpers without clogging up callers with this logic.\n\nConflicts:\nlower-constraints.txt: Due to not existing in stable/queens\ntest-requirements.txt: Due to request-mock specification\n                        difference on queens\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: If9b115880e9755f2753a2e53a5869e12a17722a3\n(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)\n'}, {'number': 8, 'created': '2019-08-01 15:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ec658a7ee8cf4b79b73e2c79c738fdc229012ce7', 'message': 'Introduce trivial helpers to manage image_files and names\n\nThis is a trivial re-factor but subsequent patches will increase\ncomplexity of these helpers without clogging up callers with this logic.\n\nConflicts:\nlower-constraints.txt: Due to not existing in stable/queens\ntest-requirements.txt: Due to request-mock specification\n                        difference on queens\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: If9b115880e9755f2753a2e53a5869e12a17722a3\n(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)\n'}, {'number': 9, 'created': '2019-09-09 17:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a951dbf72652039ab9d509dc542b46f30ab1a6bf', 'message': 'Introduce trivial helpers to manage image_files and names\n\nThis is a trivial re-factor but subsequent patches will increase\ncomplexity of these helpers without clogging up callers with this logic.\n\nConflicts:\nlower-constraints.txt: Due to not existing in stable/queens\ntest-requirements.txt: Due to request-mock specification\n                        difference on queens\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: If9b115880e9755f2753a2e53a5869e12a17722a3\n(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)\n'}, {'number': 10, 'created': '2019-09-10 01:43:55.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/overcloud_image.py', 'test-requirements.txt', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/657ca11a67735a51e312d92b7ee3b19a6b109fcc', 'message': 'Introduce trivial helpers to manage image_files and names\n\nThis is a trivial re-factor but subsequent patches will increase\ncomplexity of these helpers without clogging up callers with this logic.\n\nConflicts:\nlower-constraints.txt: Due to not existing in stable/queens\ntest-requirements.txt: Due to request-mock specification\n                        difference on queens\ntripleoclient/utils.py: Due to the following not existing on stable/queens\n                        Ie4b7951147f5a1aec654982e21296a749fdd865c\n                        I61763f62c5d44f098ad60f9426871caef16cd6de\n                        I340be11bc9471df22f038629679634c3542d34d6\n\nBlueprint: multiarch-support\nChange-Id: If9b115880e9755f2753a2e53a5869e12a17722a3\n(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)\n'}]",0,587306,657ca11a67735a51e312d92b7ee3b19a6b109fcc,47,6,10,12898,,,0,"Introduce trivial helpers to manage image_files and names

This is a trivial re-factor but subsequent patches will increase
complexity of these helpers without clogging up callers with this logic.

Conflicts:
lower-constraints.txt: Due to not existing in stable/queens
test-requirements.txt: Due to request-mock specification
                        difference on queens
tripleoclient/utils.py: Due to the following not existing on stable/queens
                        Ie4b7951147f5a1aec654982e21296a749fdd865c
                        I61763f62c5d44f098ad60f9426871caef16cd6de
                        I340be11bc9471df22f038629679634c3542d34d6

Blueprint: multiarch-support
Change-Id: If9b115880e9755f2753a2e53a5869e12a17722a3
(cherry picked from commit 9db478bf0fe1e2b05b681ec4fcd8a0934feec3d1)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/06/587306/10 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/v1/overcloud_image.py', 'test-requirements.txt', 'tripleoclient/utils.py']",4,2857471ba0c70856b4b802e21a0b52ec50730281,queens/multiarch-support," def overcloud_kernel(basename): return ('%s-vmlinuz' % basename, '.vmlinuz') def overcloud_ramdisk(basename): return ('%s-initrd' % basename, '.initrd') def overcloud_image(basename): return (basename, '.qcow2') def deploy_kernel(): return ('bm-deploy-kernel', '.kernel') def deploy_ramdisk(): return ('bm-deploy-ramdisk', '.initramfs')",,77,12
openstack%2Fpuppet-horizon~stable%2Ftrain~I4afcb05e9e680a545970d75c698df57a032b4de5,openstack/puppet-horizon,stable/train,I4afcb05e9e680a545970d75c698df57a032b4de5,Switch to Train,MERGED,2019-10-09 23:06:04.000000000,2019-10-10 21:04:20.000000000,2019-10-10 21:04:19.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:06:04.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/620e8f62fe02cdc8fbb13f7aaf68c9609fda3155', 'message': 'Switch to Train\n\nChange-Id: I4afcb05e9e680a545970d75c698df57a032b4de5\n'}]",0,687709,620e8f62fe02cdc8fbb13f7aaf68c9609fda3155,8,3,1,16137,,,0,"Switch to Train

Change-Id: I4afcb05e9e680a545970d75c698df57a032b4de5
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/09/687709/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,620e8f62fe02cdc8fbb13f7aaf68c9609fda3155,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-openstack_extras~stable%2Ftrain~Iab0db315cdd77913e1855de6a8f8c6e8d60b2858,openstack/puppet-openstack_extras,stable/train,Iab0db315cdd77913e1855de6a8f8c6e8d60b2858,Switch to Train,MERGED,2019-10-09 23:29:46.000000000,2019-10-10 20:49:32.000000000,2019-10-10 20:49:31.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:29:46.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/f835298e2b16a7dc523bd03f525d28b1e2a4c9dc', 'message': 'Switch to Train\n\nChange-Id: Iab0db315cdd77913e1855de6a8f8c6e8d60b2858\n'}]",0,687746,f835298e2b16a7dc523bd03f525d28b1e2a4c9dc,6,2,1,16137,,,0,"Switch to Train

Change-Id: Iab0db315cdd77913e1855de6a8f8c6e8d60b2858
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/46/687746/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,f835298e2b16a7dc523bd03f525d28b1e2a4c9dc,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-vswitch~stable%2Ftrain~I50fb1eb0d53851bc784f92c231dd3e07faf27c4c,openstack/puppet-vswitch,stable/train,I50fb1eb0d53851bc784f92c231dd3e07faf27c4c,Switch to Train,MERGED,2019-10-09 23:21:03.000000000,2019-10-10 20:48:15.000000000,2019-10-10 20:48:15.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:21:03.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/5b074e770a611a1a79913917b9e3e4bdd6b82abc', 'message': 'Switch to Train\n\nChange-Id: I50fb1eb0d53851bc784f92c231dd3e07faf27c4c\n'}]",0,687735,5b074e770a611a1a79913917b9e3e4bdd6b82abc,6,2,1,16137,,,0,"Switch to Train

Change-Id: I50fb1eb0d53851bc784f92c231dd3e07faf27c4c
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/35/687735/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,5b074e770a611a1a79913917b9e3e4bdd6b82abc,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Freleases~master~I7aca29250ffabc6d03507b012104d38289f139db,openstack/releases,master,I7aca29250ffabc6d03507b012104d38289f139db,Release manila-tempest-plugin 0.4.1,MERGED,2019-10-10 19:33:41.000000000,2019-10-10 20:48:07.000000000,2019-10-10 20:48:07.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 19:33:41.000000000', 'files': ['deliverables/train/manila-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/50e113cd77b3e24cda3ab13aa581ba3cf4dac8a5', 'message': 'Release manila-tempest-plugin 0.4.1\n\nNew bug-fixes have been committed since the train\nrelease of manila-tempest-plugin 0.4.0. While this\ncomes from a branch-less project, using\nmanila-tempest-plugin 0.4.0 to test older branches\nof manila will require workarounds, especially to\navoid false negative test failures.\n\nChange-Id: I7aca29250ffabc6d03507b012104d38289f139db\n'}]",0,687967,50e113cd77b3e24cda3ab13aa581ba3cf4dac8a5,6,2,1,16643,,,0,"Release manila-tempest-plugin 0.4.1

New bug-fixes have been committed since the train
release of manila-tempest-plugin 0.4.0. While this
comes from a branch-less project, using
manila-tempest-plugin 0.4.0 to test older branches
of manila will require workarounds, especially to
avoid false negative test failures.

Change-Id: I7aca29250ffabc6d03507b012104d38289f139db
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/687967/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/manila-tempest-plugin.yaml'],1,50e113cd77b3e24cda3ab13aa581ba3cf4dac8a5,train/manila-tempest-plugin, - version: 0.4.1 projects: - repo: openstack/manila-tempest-plugin hash: 4d7b4949906a8935f2fe5a404c234e392b6e4cde,,4,0
openstack%2Fpuppet-tempest~stable%2Ftrain~Ieb135cb135a5a68b32304acfd7659ee6b4089302,openstack/puppet-tempest,stable/train,Ieb135cb135a5a68b32304acfd7659ee6b4089302,Switch to Train,MERGED,2019-10-09 23:24:31.000000000,2019-10-10 20:46:37.000000000,2019-10-10 20:46:36.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:24:31.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/a9d2d2e4e9b871d33bd1474e163d5d375c23166a', 'message': 'Switch to Train\n\nChange-Id: Ieb135cb135a5a68b32304acfd7659ee6b4089302\n'}]",0,687738,a9d2d2e4e9b871d33bd1474e163d5d375c23166a,6,2,1,16137,,,0,"Switch to Train

Change-Id: Ieb135cb135a5a68b32304acfd7659ee6b4089302
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/38/687738/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,a9d2d2e4e9b871d33bd1474e163d5d375c23166a,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-senlin~stable%2Ftrain~Ic95585f33945138cb0ec1b24e41d09d3f6046893,openstack/puppet-senlin,stable/train,Ic95585f33945138cb0ec1b24e41d09d3f6046893,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-07 13:35:40.000000000,2019-10-10 20:45:52.000000000,2019-10-10 20:44:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:35:40.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/995a690b653cb307c49515a6a0cc89f6829fb706', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic95585f33945138cb0ec1b24e41d09d3f6046893\n'}]",0,687051,995a690b653cb307c49515a6a0cc89f6829fb706,10,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic95585f33945138cb0ec1b24e41d09d3f6046893
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/51/687051/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,995a690b653cb307c49515a6a0cc89f6829fb706,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Freleases~master~I2f9e20522fbe0da4f537e230364e2a8e43edb2cb,openstack/releases,master,I2f9e20522fbe0da4f537e230364e2a8e43edb2cb,Release keystone RC2 for train,MERGED,2019-10-10 20:22:00.000000000,2019-10-10 20:45:05.000000000,2019-10-10 20:45:05.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 20:22:00.000000000', 'files': ['deliverables/train/keystone.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bd0a59819ebfa5c96a2c9f766ab0692d299e6a07', 'message': 'Release keystone RC2 for train\n\nChange-Id: I2f9e20522fbe0da4f537e230364e2a8e43edb2cb\n'}]",0,687982,bd0a59819ebfa5c96a2c9f766ab0692d299e6a07,6,2,1,8482,,,0,"Release keystone RC2 for train

Change-Id: I2f9e20522fbe0da4f537e230364e2a8e43edb2cb
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/687982/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/keystone.yaml'],1,bd0a59819ebfa5c96a2c9f766ab0692d299e6a07,keystone-train-rc2, - version: 16.0.0.0rc2 projects: - repo: openstack/keystone hash: dc9e9e32dfbf9fd9c58f9f8e2b35f0bcfd62328e,,4,0
openstack%2Fpuppet-senlin~stable%2Ftrain~Ia912d9aa5746954eead47a7010ac94570d29e9a4,openstack/puppet-senlin,stable/train,Ia912d9aa5746954eead47a7010ac94570d29e9a4,Switch to Train,MERGED,2019-10-09 23:25:17.000000000,2019-10-10 20:44:55.000000000,2019-10-10 20:44:54.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:25:17.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/58fe624523889636d0de232c798882bf112ddc58', 'message': 'Switch to Train\n\nChange-Id: Ia912d9aa5746954eead47a7010ac94570d29e9a4\n'}]",0,687739,58fe624523889636d0de232c798882bf112ddc58,6,2,1,16137,,,0,"Switch to Train

Change-Id: Ia912d9aa5746954eead47a7010ac94570d29e9a4
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/39/687739/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,58fe624523889636d0de232c798882bf112ddc58,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-trove~stable%2Ftrain~I23a3b1dc17152a651b6a3f69b9d33e51f3485c27,openstack/puppet-trove,stable/train,I23a3b1dc17152a651b6a3f69b9d33e51f3485c27,Switch to Train,MERGED,2019-10-09 23:20:03.000000000,2019-10-10 20:36:34.000000000,2019-10-10 20:36:34.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:20:03.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/471073533171152a3c03ed7c49840471762fae05', 'message': 'Switch to Train\n\nChange-Id: I23a3b1dc17152a651b6a3f69b9d33e51f3485c27\n'}]",0,687733,471073533171152a3c03ed7c49840471762fae05,6,2,1,16137,,,0,"Switch to Train

Change-Id: I23a3b1dc17152a651b6a3f69b9d33e51f3485c27
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/33/687733/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,471073533171152a3c03ed7c49840471762fae05,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-oslo~stable%2Ftrain~I6c34dace8599793698874156ad58e8fc4e779dfe,openstack/puppet-oslo,stable/train,I6c34dace8599793698874156ad58e8fc4e779dfe,Switch to Train,MERGED,2019-10-09 23:12:55.000000000,2019-10-10 20:33:44.000000000,2019-10-10 20:33:44.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:12:55.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/00f661de0f2b78f4fe25002d25aaa8ab7ee545e3', 'message': 'Switch to Train\n\nChange-Id: I6c34dace8599793698874156ad58e8fc4e779dfe\n'}]",0,687722,00f661de0f2b78f4fe25002d25aaa8ab7ee545e3,8,3,1,16137,,,0,"Switch to Train

Change-Id: I6c34dace8599793698874156ad58e8fc4e779dfe
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/22/687722/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,00f661de0f2b78f4fe25002d25aaa8ab7ee545e3,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-designate~master~I3cc6b5f5d70db4515c95973070a73b20b970e37d,openstack/puppet-designate,master,I3cc6b5f5d70db4515c95973070a73b20b970e37d,Remove designate::pool_manager,MERGED,2019-10-09 13:32:42.000000000,2019-10-10 20:33:42.000000000,2019-10-10 20:32:34.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 13:32:42.000000000', 'files': ['spec/classes/designate_pool_manager_cache_sqlalchemy_spec.rb', 'manifests/pool_manager.pp', 'manifests/pool_manager_cache/memcache.pp', 'releasenotes/notes/remove-pool-manager-54118560ff0770d3.yaml', 'spec/classes/designate_pool_manager_spec.rb', 'manifests/pool_manager_cache/sqlalchemy.pp', 'spec/classes/designate_pool_manager_cache_memcache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/91c634593e0c24d83067f4297e9fca477d330ac3', 'message': ""Remove designate::pool_manager\n\nRemove the pool-manager as we've deprecated it for\nthe Train release [1].\n\n[1] https://review.opendev.org/#/c/687333/\n\nChange-Id: I3cc6b5f5d70db4515c95973070a73b20b970e37d\n""}]",0,687557,91c634593e0c24d83067f4297e9fca477d330ac3,8,3,1,16137,,,0,"Remove designate::pool_manager

Remove the pool-manager as we've deprecated it for
the Train release [1].

[1] https://review.opendev.org/#/c/687333/

Change-Id: I3cc6b5f5d70db4515c95973070a73b20b970e37d
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/57/687557/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/designate_pool_manager_cache_sqlalchemy_spec.rb', 'manifests/pool_manager.pp', 'manifests/pool_manager_cache/memcache.pp', 'releasenotes/notes/remove-pool-manager-54118560ff0770d3.yaml', 'spec/classes/designate_pool_manager_spec.rb', 'manifests/pool_manager_cache/sqlalchemy.pp', 'spec/classes/designate_pool_manager_cache_memcache_spec.rb']",7,91c634593e0c24d83067f4297e9fca477d330ac3,remove-pool-manager,,"# # Unit tests for designate::pool_manager # require 'spec_helper' describe 'designate::pool_manager_cache::memcache' do let :params do { } end shared_examples 'designate-pool-manager-cache-memcache' do context 'with default parameters' do it { is_expected.to contain_class('designate::pool_manager_cache::memcache') } it 'configures designate-pool-manager with required parameters' do is_expected.to contain_designate_config('service:pool_manager/cache_driver').with_value('memcache') is_expected.to contain_designate_config('pool_manager_cache:memcache/memcached_servers').with_value(['127.0.0.1']) is_expected.to contain_designate_config('pool_manager_cache:memcache/expiration').with_value('<SERVICE DEFAULT>') end end context 'with all parameters' do before do params.merge!( { :memcached_servers => ['192.168.0.1'], :expiration => 123 } ) end it { is_expected.to contain_class('designate::pool_manager_cache::memcache') } it 'configures designate-pool-manager with required parameters' do is_expected.to contain_designate_config('service:pool_manager/cache_driver').with_value('memcache') is_expected.to contain_designate_config('pool_manager_cache:memcache/memcached_servers').with_value( params[:memcached_servers] ) is_expected.to contain_designate_config('pool_manager_cache:memcache/expiration').with_value( params[:expiration] ) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end let(:platform_params) do case facts[:osfamily] when 'Debian' { :pool_manager_package_name => 'designate-pool-manager', :pool_manager_service_name => 'designate-pool-manager' } when 'RedHat' { :pool_manager_package_name => 'openstack-designate-pool-manager', :pool_manager_service_name => 'designate-pool-manager' } end end it_behaves_like 'designate-pool-manager-cache-memcache' end end end ",5,504
openstack%2Fpuppet-panko~stable%2Ftrain~Iffbc6e0d33a46335782b44805293828cb545022d,openstack/puppet-panko,stable/train,Iffbc6e0d33a46335782b44805293828cb545022d,Switch to Train,MERGED,2019-10-09 23:14:07.000000000,2019-10-10 20:32:43.000000000,2019-10-10 20:32:43.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:14:07.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/49b7b3e66ea221a27146030d24dfe006ce84729c', 'message': 'Switch to Train\n\nChange-Id: Iffbc6e0d33a46335782b44805293828cb545022d\n'}]",0,687724,49b7b3e66ea221a27146030d24dfe006ce84729c,6,2,1,16137,,,0,"Switch to Train

Change-Id: Iffbc6e0d33a46335782b44805293828cb545022d
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/24/687724/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,49b7b3e66ea221a27146030d24dfe006ce84729c,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-designate~stable%2Ftrain~I0162893fa60286340a2777f3ef9375b29307dd56,openstack/puppet-designate,stable/train,I0162893fa60286340a2777f3ef9375b29307dd56,Switch to Train,MERGED,2019-10-09 23:02:05.000000000,2019-10-10 20:32:35.000000000,2019-10-10 20:32:35.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:02:05.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/4fc5214dfe4325e090987420bca853f7c525c26a', 'message': 'Switch to Train\n\nChange-Id: I0162893fa60286340a2777f3ef9375b29307dd56\n'}]",0,687702,4fc5214dfe4325e090987420bca853f7c525c26a,8,3,1,16137,,,0,"Switch to Train

Change-Id: I0162893fa60286340a2777f3ef9375b29307dd56
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/02/687702/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,4fc5214dfe4325e090987420bca853f7c525c26a,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-sahara~stable%2Ftrain~I6a163924d54fb31eb1080cb838f449f423a6e931,openstack/puppet-sahara,stable/train,I6a163924d54fb31eb1080cb838f449f423a6e931,Switch to Train,MERGED,2019-10-09 23:27:42.000000000,2019-10-10 20:32:07.000000000,2019-10-10 20:32:06.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:27:42.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/92a869af730ba8d12c9200c78053eaa645d3a90f', 'message': 'Switch to Train\n\nChange-Id: I6a163924d54fb31eb1080cb838f449f423a6e931\n'}]",0,687743,92a869af730ba8d12c9200c78053eaa645d3a90f,8,3,1,16137,,,0,"Switch to Train

Change-Id: I6a163924d54fb31eb1080cb838f449f423a6e931
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/43/687743/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,92a869af730ba8d12c9200c78053eaa645d3a90f,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-ceilometer~stable%2Ftrain~I5b3a3807bfa3f0f2ce230ce87921faa82593e417,openstack/puppet-ceilometer,stable/train,I5b3a3807bfa3f0f2ce230ce87921faa82593e417,Switch to Train,MERGED,2019-10-09 22:56:17.000000000,2019-10-10 20:29:22.000000000,2019-10-10 20:29:22.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 22:56:17.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/de7b6a1ade42ee0e3885cefd843ee77b04ec4a22', 'message': 'Switch to Train\n\nChange-Id: I5b3a3807bfa3f0f2ce230ce87921faa82593e417\n'}]",0,687699,de7b6a1ade42ee0e3885cefd843ee77b04ec4a22,8,3,1,16137,,,0,"Switch to Train

Change-Id: I5b3a3807bfa3f0f2ce230ce87921faa82593e417
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/99/687699/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,de7b6a1ade42ee0e3885cefd843ee77b04ec4a22,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-gnocchi~stable%2Ftrain~Ic677b931bb8ec067e36bcf7b512ace697d7b53c6,openstack/puppet-gnocchi,stable/train,Ic677b931bb8ec067e36bcf7b512ace697d7b53c6,Switch to Train,MERGED,2019-10-09 23:05:00.000000000,2019-10-10 20:26:22.000000000,2019-10-10 20:26:22.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:05:00.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/68c577337e7f34e45cd987b15fb0f792b1c1c7db', 'message': 'Switch to Train\n\nChange-Id: Ic677b931bb8ec067e36bcf7b512ace697d7b53c6\n'}]",0,687707,68c577337e7f34e45cd987b15fb0f792b1c1c7db,6,2,1,16137,,,0,"Switch to Train

Change-Id: Ic677b931bb8ec067e36bcf7b512ace697d7b53c6
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/07/687707/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,68c577337e7f34e45cd987b15fb0f792b1c1c7db,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-barbican~stable%2Ftrain~Ieb391762d2566bb8628317c4bbe5c2de743d79d9,openstack/puppet-barbican,stable/train,Ieb391762d2566bb8628317c4bbe5c2de743d79d9,Switch to Train,MERGED,2019-10-09 22:55:42.000000000,2019-10-10 20:25:40.000000000,2019-10-10 20:25:40.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 22:55:42.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/00a75aab358ce4820768dfab9111cb5276b5903e', 'message': 'Switch to Train\n\nChange-Id: Ieb391762d2566bb8628317c4bbe5c2de743d79d9\n'}]",0,687698,00a75aab358ce4820768dfab9111cb5276b5903e,8,3,1,16137,,,0,"Switch to Train

Change-Id: Ieb391762d2566bb8628317c4bbe5c2de743d79d9
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/98/687698/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,00a75aab358ce4820768dfab9111cb5276b5903e,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Freleases~master~I572379e09dd980abf475b3191cd0ce415cc6668d,openstack/releases,master,I572379e09dd980abf475b3191cd0ce415cc6668d,Release sahara and sahara-plugin-* RC2 for Train,MERGED,2019-10-09 15:37:42.000000000,2019-10-10 20:24:19.000000000,2019-10-10 20:24:19.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-09 15:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/281cfc2802abc7c71d2df50fea1080ed4d715893', 'message': 'Release sahara-plugin-* RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: I572379e09dd980abf475b3191cd0ce415cc6668d\n'}, {'number': 2, 'created': '2019-10-10 15:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/0b17a935d4c09454e9d5b30a1f5594767bcb748a', 'message': 'Release sahara-plugin-* RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: I572379e09dd980abf475b3191cd0ce415cc6668d\n'}, {'number': 3, 'created': '2019-10-10 19:59:23.000000000', 'files': ['deliverables/train/sahara-plugin-cdh.yaml', 'deliverables/train/sahara-plugin-spark.yaml', 'deliverables/train/sahara-plugin-ambari.yaml', 'deliverables/train/sahara-plugin-storm.yaml', 'deliverables/train/sahara-plugin-vanilla.yaml', 'deliverables/train/sahara.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/945a6bda32724783ed644b725a8dfee96439206b', 'message': 'Release sahara and sahara-plugin-* RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: I572379e09dd980abf475b3191cd0ce415cc6668d\n'}]",0,687596,945a6bda32724783ed644b725a8dfee96439206b,22,5,3,11904,,,0,"Release sahara and sahara-plugin-* RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: I572379e09dd980abf475b3191cd0ce415cc6668d
",git fetch https://review.opendev.org/openstack/releases refs/changes/96/687596/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/sahara-plugin-spark.yaml', 'deliverables/train/sahara-plugin-ambari.yaml', 'deliverables/train/sahara-plugin-storm.yaml', 'deliverables/train/sahara-plugin-vanilla.yaml']",4,281cfc2802abc7c71d2df50fea1080ed4d715893,train-rc2, - version: 2.0.0.0rc2 projects: - repo: openstack/sahara-plugin-vanilla hash: 9fcba44db76227e324ccdf7682fe94d75738712e,,16,0
openstack%2Fpuppet-openstack-integration~stable%2Fstein~Ica7a9bdd96472315295ea26a34d12c57b36ba243,openstack/puppet-openstack-integration,stable/stein,Ica7a9bdd96472315295ea26a34d12c57b36ba243,Set override-checkout to Stein,MERGED,2019-10-10 09:20:56.000000000,2019-10-10 20:22:34.000000000,2019-10-10 20:22:33.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-10 09:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/03f8616ee9e517846605d3a483b54b4e4a217f3a', 'message': 'Set override-checkout to Stein\n\nChange-Id: Ica7a9bdd96472315295ea26a34d12c57b36ba243\n'}, {'number': 2, 'created': '2019-10-10 09:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/2a2ddc22f8dbc57400f6d72c6727dc9ccd942e18', 'message': 'Set override-checkout to Stein\n\nChange-Id: Ica7a9bdd96472315295ea26a34d12c57b36ba243\n'}, {'number': 3, 'created': '2019-10-10 09:27:13.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/8fc457e81ca9b84aa63c88d8583fafe05efdee08', 'message': 'Set override-checkout to Stein\n\nChange-Id: Ica7a9bdd96472315295ea26a34d12c57b36ba243\n'}]",0,687837,8fc457e81ca9b84aa63c88d8583fafe05efdee08,12,3,3,16137,,,0,"Set override-checkout to Stein

Change-Id: Ica7a9bdd96472315295ea26a34d12c57b36ba243
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/37/687837/1 && git format-patch -1 --stdout FETCH_HEAD,"['..zuul.yaml.swp', 'zuul.d/base.yaml']",2,03f8616ee9e517846605d3a483b54b4e4a217f3a,687837,- pargma: implied-branches: - stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein override-checkout: stable/stein,,44,0
openstack%2Foctavia~stable%2Ftrain~If0ff2a855ad5b9d9ef3742ad0596c97a6dbf81ed,openstack/octavia,stable/train,If0ff2a855ad5b9d9ef3742ad0596c97a6dbf81ed,Bump diskimage-builder minimum to 2.24.0,ABANDONED,2019-10-09 16:13:30.000000000,2019-10-10 20:19:29.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 16:13:30.000000000', 'files': ['diskimage-create/requirements.txt', 'requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e38f78bd20fd4ac51237424c00d960a8340aefa5', 'message': 'Bump diskimage-builder minimum to 2.24.0\n\nThere was a bug[1] in diskimage-builder when using pypi mirrors\nif the host doesn\'t have ""python"" available DIB will fail.\nSo, I am going to bump the requirements minimum in Octavia for\ndiskimage-builder to be the minimum version with this fix.\n\n[1] https://bugs.launchpad.net/diskimage-builder/+bug/1577105\n\nChange-Id: If0ff2a855ad5b9d9ef3742ad0596c97a6dbf81ed\n(cherry picked from commit 1aeb416a7e72dad298acb7f11ad54eabfd9ea49e)\n'}]",0,687610,e38f78bd20fd4ac51237424c00d960a8340aefa5,4,2,1,11628,,,0,"Bump diskimage-builder minimum to 2.24.0

There was a bug[1] in diskimage-builder when using pypi mirrors
if the host doesn't have ""python"" available DIB will fail.
So, I am going to bump the requirements minimum in Octavia for
diskimage-builder to be the minimum version with this fix.

[1] https://bugs.launchpad.net/diskimage-builder/+bug/1577105

Change-Id: If0ff2a855ad5b9d9ef3742ad0596c97a6dbf81ed
(cherry picked from commit 1aeb416a7e72dad298acb7f11ad54eabfd9ea49e)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/10/687610/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/requirements.txt', 'requirements.txt', 'lower-constraints.txt']",3,e38f78bd20fd4ac51237424c00d960a8340aefa5,,diskimage-builder==2.24.0,diskimage-builder==1.1.2,3,3
openstack%2Fpuppet-ec2api~stable%2Ftrain~Ibf21bc472f51e49b78a36bc20cb04ab43a1282c5,openstack/puppet-ec2api,stable/train,Ibf21bc472f51e49b78a36bc20cb04ab43a1282c5,Switch to Train,MERGED,2019-10-09 23:02:36.000000000,2019-10-10 20:19:26.000000000,2019-10-10 20:19:26.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:02:36.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/0eccb5e4929d6dab006ee5d11f4e9dc1ba252fa4', 'message': 'Switch to Train\n\nChange-Id: Ibf21bc472f51e49b78a36bc20cb04ab43a1282c5\n'}]",0,687703,0eccb5e4929d6dab006ee5d11f4e9dc1ba252fa4,8,3,1,16137,,,0,"Switch to Train

Change-Id: Ibf21bc472f51e49b78a36bc20cb04ab43a1282c5
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/03/687703/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,0eccb5e4929d6dab006ee5d11f4e9dc1ba252fa4,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Frequirements~master~Ibc2c9b9337cb1049bfe9de05115a09104dd60700,openstack/requirements,master,Ibc2c9b9337cb1049bfe9de05115a09104dd60700,Updated from generate-constraints,MERGED,2019-10-10 06:24:37.000000000,2019-10-10 20:17:17.000000000,2019-10-10 20:16:14.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 06:24:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/6c9d48d4a9d5a65764a52d729bddfc4340db954b', 'message': 'Updated from generate-constraints\n\nChange-Id: Ibc2c9b9337cb1049bfe9de05115a09104dd60700\n'}, {'number': 2, 'created': '2019-10-10 06:47:34.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/722f91a10762f0fc291635c21beb886f1716c01c', 'message': 'Updated from generate-constraints\n\nChange-Id: Ibc2c9b9337cb1049bfe9de05115a09104dd60700\n'}]",0,687785,722f91a10762f0fc291635c21beb886f1716c01c,13,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Ibc2c9b9337cb1049bfe9de05115a09104dd60700
",git fetch https://review.opendev.org/openstack/requirements refs/changes/85/687785/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6c9d48d4a9d5a65764a52d729bddfc4340db954b,openstack/requirements/constraints/noclob,SQLAlchemy===1.3.10pywbem===0.14.6openstack-release-test===2.0.0amqp===2.5.2boto3===1.9.246salt===2019.2.1botocore===1.12.246future===0.18.0pyasn1-modules===0.2.7diskimage-builder===2.28.0jsonschema===3.1.1oslo.utils===3.41.2,SQLAlchemy===1.3.9pywbem===0.14.5openstack-release-test===1.4.2amqp===2.5.1boto3===1.9.243salt===2019.2.0botocore===1.12.243future===0.17.1pyasn1-modules===0.2.6diskimage-builder===2.27.2jsonschema===3.0.2oslo.utils===3.41.1,12,12
openstack%2Fpuppet-aodh~stable%2Ftrain~I2425edf18d76a11fd8443da574f2c505731aca2c,openstack/puppet-aodh,stable/train,I2425edf18d76a11fd8443da574f2c505731aca2c,Switch to Train,MERGED,2019-10-09 22:55:07.000000000,2019-10-10 20:17:05.000000000,2019-10-10 20:17:05.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 22:55:07.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/8beb87ab615e8c0962feecda4fb79ba7a2e603a1', 'message': 'Switch to Train\n\nChange-Id: I2425edf18d76a11fd8443da574f2c505731aca2c\n'}]",0,687697,8beb87ab615e8c0962feecda4fb79ba7a2e603a1,8,3,1,16137,,,0,"Switch to Train

Change-Id: I2425edf18d76a11fd8443da574f2c505731aca2c
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/97/687697/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,8beb87ab615e8c0962feecda4fb79ba7a2e603a1,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Ftripleo-heat-templates~master~Ic84cc8864c799eaa4273c022b07445ec997a7fc9,openstack/tripleo-heat-templates,master,Ic84cc8864c799eaa4273c022b07445ec997a7fc9,Add posibilities to configure OVNNorthboundServerPort in split stacks,MERGED,2019-10-07 15:25:59.000000000,2019-10-10 20:16:08.000000000,2019-10-10 20:16:08.000000000,"[{'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-10-07 15:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/858e1e87eed74f62a5c2b57237ea7b9fd39825e4', 'message': 'Add posibilities to configure OVNNorthboundServerPort in split stacks\n\nThis changes is need by split stacks when ovn dbs are not colocated\nwith ovn dbs to configure correctly OVNNorthboundServerPort\n\nChange-Id: Ic84cc8864c799eaa4273c022b07445ec997a7fc9\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\n'}, {'number': 2, 'created': '2019-10-08 06:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd8d32034a477f741e9cb3cd05a0b12613a04b8b', 'message': 'Add posibilities to configure OVNNorthboundServerPort in split stacks\n\nThis changes is need by split stacks when ovn dbs are not colocated\nwith neutron api to configure correctly OVNNorthboundServerPort.\nWhen neutron api is deployed with ovn dbs on the same node,\novn dbs template set this port, but in other cases when\nthey are not colocated we need to set this port from neutron\nplugin template.\n\nChange-Id: Ic84cc8864c799eaa4273c022b07445ec997a7fc9\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\n'}, {'number': 3, 'created': '2019-10-08 06:29:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92910cf91e57e3f8b632f231150e1d0685db9a82', 'message': 'Add posibilities to configure OVNNorthboundServerPort in split stacks\n\nThis changes is need by split stacks when ovn dbs are not colocated\nwith neutron-server to configure correctly OVNNorthboundServerPort.\nWhen neutron api is deployed with ovn dbs on the same node,\novn dbs template set this port. Bbut in other cases when\nthey are not colocated we need to set this port from neutron\nplugin template.\n\nChange-Id: Ic84cc8864c799eaa4273c022b07445ec997a7fc9\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\n'}, {'number': 4, 'created': '2019-10-08 06:34:21.000000000', 'files': ['deployment/neutron/neutron-plugin-ml2-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cacb8700d03bd182fb84fe6ab9a99c90aff209c2', 'message': 'Add posibilities to configure OVNNorthboundServerPort in split stacks\n\nThis changes is need by split stacks when ovn dbs are not colocated\nwith neutron-server to configure correctly OVNNorthboundServerPort.\nWhen neutron api is deployed with ovn dbs on the same node,\novn dbs template set this port. But in other cases when\nthey are not colocated we need to set this port in neutron\nplugin template.\n\nChange-Id: Ic84cc8864c799eaa4273c022b07445ec997a7fc9\nSigned-off-by: Kamil Sambor <ksambor@redhat.com>\n'}]",2,687081,cacb8700d03bd182fb84fe6ab9a99c90aff209c2,21,8,4,11082,,,0,"Add posibilities to configure OVNNorthboundServerPort in split stacks

This changes is need by split stacks when ovn dbs are not colocated
with neutron-server to configure correctly OVNNorthboundServerPort.
When neutron api is deployed with ovn dbs on the same node,
ovn dbs template set this port. But in other cases when
they are not colocated we need to set this port in neutron
plugin template.

Change-Id: Ic84cc8864c799eaa4273c022b07445ec997a7fc9
Signed-off-by: Kamil Sambor <ksambor@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/687081/4 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-plugin-ml2-ovn.yaml'],1,858e1e87eed74f62a5c2b57237ea7b9fd39825e4,, OVNNorthboundServerPort: description: Port of the OVN Northbound DB server type: number default: 6641 ovn::northbound::port: {get_param: OVNNorthboundServerPort},,5,0
openstack%2Fpuppet-manila~stable%2Ftrain~I71453d0aa3ca943f035b0407e9c7f250de4f199a,openstack/puppet-manila,stable/train,I71453d0aa3ca943f035b0407e9c7f250de4f199a,Switch to Train,MERGED,2019-10-09 23:08:07.000000000,2019-10-10 20:10:48.000000000,2019-10-10 20:10:48.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:08:07.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/bd3540c3f6c5ebe1733a1d3d10811f5769203d54', 'message': 'Switch to Train\n\nChange-Id: I71453d0aa3ca943f035b0407e9c7f250de4f199a\n'}]",0,687713,bd3540c3f6c5ebe1733a1d3d10811f5769203d54,6,2,1,16137,,,0,"Switch to Train

Change-Id: I71453d0aa3ca943f035b0407e9c7f250de4f199a
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/13/687713/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,bd3540c3f6c5ebe1733a1d3d10811f5769203d54,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-rally~stable%2Ftrain~Ic7deb454d3379240124480702faad73846f0bfab,openstack/puppet-rally,stable/train,Ic7deb454d3379240124480702faad73846f0bfab,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-07 13:35:24.000000000,2019-10-10 20:09:26.000000000,2019-10-10 20:08:04.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:35:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/88119967e721f8e199290bfb61424ab759cc5a80', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic7deb454d3379240124480702faad73846f0bfab\n'}]",0,687048,88119967e721f8e199290bfb61424ab759cc5a80,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic7deb454d3379240124480702faad73846f0bfab
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/48/687048/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,88119967e721f8e199290bfb61424ab759cc5a80,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpuppet-rally~stable%2Ftrain~Ie50a9e5dce370e01a7ec96a97f7b1b8d41e4f4b1,openstack/puppet-rally,stable/train,Ie50a9e5dce370e01a7ec96a97f7b1b8d41e4f4b1,Update .gitreview for stable/train,MERGED,2019-10-07 13:35:22.000000000,2019-10-10 20:08:04.000000000,2019-10-10 20:08:03.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:35:22.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/c81ba0c63f60eee901091b338380ee965d2be862', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ie50a9e5dce370e01a7ec96a97f7b1b8d41e4f4b1\n'}]",0,687047,c81ba0c63f60eee901091b338380ee965d2be862,9,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ie50a9e5dce370e01a7ec96a97f7b1b8d41e4f4b1
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/47/687047/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c81ba0c63f60eee901091b338380ee965d2be862,create-train,defaultbranch=stable/train,,1,0
openstack%2Fmanila~stable%2Fqueens~Iecb734b431f0b7bc9a905b0a672013869ff60fd8,openstack/manila,stable/queens,Iecb734b431f0b7bc9a905b0a672013869ff60fd8,Unmount NetApp active share after replica promote,MERGED,2019-10-09 16:13:38.000000000,2019-10-10 20:07:26.000000000,2019-10-10 20:05:40.000000000,"[{'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29831}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-09 16:13:38.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1634278-unmount-orig-active-after-promote-8e24c099ddc1e564.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/a564a4db6dfd15a61a56e6549e439982cebc3b94', 'message': 'Unmount NetApp active share after replica promote\n\nThe NetApp cDOT driver is now fixed to unmount the original\nactive share volume after one of its replica gets promoted.\n\nChange-Id: Iecb734b431f0b7bc9a905b0a672013869ff60fd8\nCloses-Bug: #1634278\n(cherry picked from commit 8fd4dfb4dea54706ab8261e342b249a430f8613d)\n(cherry picked from commit 0402f78a7b5c5cacca23e36ea6a1e73f1395eaea)\n(cherry picked from commit 3335bdcfe88c187b4bc0a14c4f2a1bf400472ec9)\n'}]",0,687611,a564a4db6dfd15a61a56e6549e439982cebc3b94,12,7,1,30002,,,0,"Unmount NetApp active share after replica promote

The NetApp cDOT driver is now fixed to unmount the original
active share volume after one of its replica gets promoted.

Change-Id: Iecb734b431f0b7bc9a905b0a672013869ff60fd8
Closes-Bug: #1634278
(cherry picked from commit 8fd4dfb4dea54706ab8261e342b249a430f8613d)
(cherry picked from commit 0402f78a7b5c5cacca23e36ea6a1e73f1395eaea)
(cherry picked from commit 3335bdcfe88c187b4bc0a14c4f2a1bf400472ec9)
",git fetch https://review.opendev.org/openstack/manila refs/changes/11/687611/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1634278-unmount-orig-active-after-promote-8e24c099ddc1e564.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",3,a564a4db6dfd15a61a56e6549e439982cebc3b94,bug/1634278," self.mock_object(self.library, '_unmount_orig_active_replica') mock_dm_session = mock.Mock() self.mock_object(data_motion, ""DataMotionSession"", mock.Mock(return_value=mock_dm_session)) self.mock_object(mock_dm_session, 'get_vserver_from_share', mock.Mock(return_value=fake.VSERVER1)) mock_dm_session.change_snapmirror_source.assert_called_once_with( self.library._unmount_orig_active_replica.assert_called_once_with( self.fake_replica, fake.VSERVER1) self.mock_object(self.library, '_unmount_orig_active_replica') self.library._unmount_orig_active_replica.called) self.assertFalse( self.mock_object(self.library, '_unmount_orig_active_replica') mock_dm_session = mock.Mock() self.mock_object(data_motion, ""DataMotionSession"", mock.Mock(return_value=mock_dm_session)) self.mock_object(mock_dm_session, 'get_vserver_from_share', mock.Mock(return_value=fake.VSERVER1)) mock_dm_session.change_snapmirror_source.assert_has_calls([ self.library._unmount_orig_active_replica.assert_called_once_with( self.fake_replica, fake.VSERVER1) self.mock_object(self.library, '_unmount_orig_active_replica') mock_dm_session = mock.Mock() self.mock_object(data_motion, ""DataMotionSession"", mock.Mock(return_value=mock_dm_session)) self.mock_object(mock_dm_session, 'get_vserver_from_share', mock.Mock(return_value=fake.VSERVER1)) mock_dm_session.change_snapmirror_source.assert_has_calls([ self.library._unmount_orig_active_replica.assert_called_once_with( self.fake_replica, fake.VSERVER1) def test_unmount_orig_active_replica(self): self.mock_object(share_utils, 'extract_host', mock.Mock( return_value=fake.MANILA_HOST_NAME)) self.mock_object(data_motion, 'get_client_for_backend') self.mock_object(self.library, '_get_backend_share_name', mock.Mock( return_value=fake.SHARE_NAME)) result = self.library._unmount_orig_active_replica(fake.SHARE) self.assertIsNone(result) ", self.mock_dm_session.change_snapmirror_source.assert_called_once_with( self.mock_dm_session.change_snapmirror_source.assert_has_calls([ self.mock_dm_session.change_snapmirror_source.assert_has_calls([,72,3
openstack%2Fpuppet-watcher~stable%2Ftrain~Iaf5e60a876a297c0fef68377193ce779b6a5721e,openstack/puppet-watcher,stable/train,Iaf5e60a876a297c0fef68377193ce779b6a5721e,Switch to Train,MERGED,2019-10-09 23:21:31.000000000,2019-10-10 20:06:04.000000000,2019-10-10 20:06:03.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:21:31.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/e30f83540a8d523753a745d3cc20f6de3de34278', 'message': 'Switch to Train\n\nChange-Id: Iaf5e60a876a297c0fef68377193ce779b6a5721e\n'}]",0,687736,e30f83540a8d523753a745d3cc20f6de3de34278,6,2,1,16137,,,0,"Switch to Train

Change-Id: Iaf5e60a876a297c0fef68377193ce779b6a5721e
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/36/687736/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,e30f83540a8d523753a745d3cc20f6de3de34278,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fopenstack-ansible~master~Ia0599ac65cc324e317430495a879f52c76f72484,openstack/openstack-ansible,master,Ia0599ac65cc324e317430495a879f52c76f72484,PDF Documentation Build tox target,MERGED,2019-10-08 11:59:38.000000000,2019-10-10 20:05:25.000000000,2019-10-10 20:03:22.000000000,"[{'_account_id': 841}, {'_account_id': 10607}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-08 11:59:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/12da1e24188ee08f65a189894d6eaa406f2e2a9c', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006105\n\nChange-Id: Ia0599ac65cc324e317430495a879f52c76f72484\nSigned-off-by: Alexandra Settle <asettle@suse.com>\n'}, {'number': 2, 'created': '2019-10-09 09:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/651745bd419d4edc4a433807fb6526a4f9405bde', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006105\n\nChange-Id: Ia0599ac65cc324e317430495a879f52c76f72484\nSigned-off-by: Alexandra Settle <asettle@suse.com>\n'}, {'number': 3, 'created': '2019-10-09 09:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8a1846e1a6bcdf4c24b0a6770b2549bb956b7e0a', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006105\n\nChange-Id: Ia0599ac65cc324e317430495a879f52c76f72484\nSigned-off-by: Alexandra Settle <asettle@suse.com>\n'}, {'number': 4, 'created': '2019-10-10 11:19:59.000000000', 'files': ['bindep.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/955cf52863e4afad37063a56fdea11785d1a8bc8', 'message': 'PDF Documentation Build tox target\n\nThis patch adds a `pdf-docs` tox target that will build\nPDF versions of our docs. As per the Train community goal:\n\n  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html\n\nAdd sphinxcontrib-svg2pdfconverter to doc/requirements.txt\nto convert our SVGs.\n\nStory: 2006105\n\nChange-Id: Ia0599ac65cc324e317430495a879f52c76f72484\nSigned-off-by: Alexandra Settle <asettle@suse.com>\n'}]",4,687278,955cf52863e4afad37063a56fdea11785d1a8bc8,26,6,4,10607,,,0,"PDF Documentation Build tox target

This patch adds a `pdf-docs` tox target that will build
PDF versions of our docs. As per the Train community goal:

  https://governance.openstack.org/tc/goals/selected/train/pdf-doc-generation.html

Add sphinxcontrib-svg2pdfconverter to doc/requirements.txt
to convert our SVGs.

Story: 2006105

Change-Id: Ia0599ac65cc324e317430495a879f52c76f72484
Signed-off-by: Alexandra Settle <asettle@suse.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/78/687278/4 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'doc/source/conf.py', 'doc/requirements.txt', 'tox.ini']",4,12da1e24188ee08f65a189894d6eaa406f2e2a9c,build-pdf-docs,commands =[testenv:pdf-docs] basepython = python3 deps = {[testenv:docs]deps} whitelist_externals = make commands = sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf,commands=,19,4
openstack%2Fpuppet-ovn~stable%2Ftrain~I38f14a69b466dcc8cd27431715315fc5610635db,openstack/puppet-ovn,stable/train,I38f14a69b466dcc8cd27431715315fc5610635db,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:35:01.000000000,2019-10-10 19:58:53.000000000,2019-10-10 19:56:47.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:35:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/90c8de5a740ff34909ff4bd92dd871a70799b4f8', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I38f14a69b466dcc8cd27431715315fc5610635db\n'}]",0,686692,90c8de5a740ff34909ff4bd92dd871a70799b4f8,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I38f14a69b466dcc8cd27431715315fc5610635db
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/92/686692/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,90c8de5a740ff34909ff4bd92dd871a70799b4f8,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fsahara~stable%2Ftrain~Id0ad0f3c644af52f41217105b249df78d0b722cc,openstack/sahara,stable/train,Id0ad0f3c644af52f41217105b249df78d0b722cc,Python 3 fixes,MERGED,2019-10-07 21:40:18.000000000,2019-10-10 19:58:40.000000000,2019-10-10 19:56:38.000000000,"[{'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-07 21:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/fb2bb55cf10f29f926e8a4ec7f87e227da84a628', 'message': 'Python 3 fixes\n\nString to Bytes compatibility.\n\nStory: #2006258\nTask: #35875\nChange-Id: Id0ad0f3c644af52f41217105b249df78d0b722cc\n(cherry picked from commit abc8f570559d142bab22a7557ad1658a6407b7f6)\n'}, {'number': 2, 'created': '2019-10-07 23:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/976792c270b68ce08a909ee59b7e2dda9ae7dc62', 'message': 'Python 3 fixes\n\nString to Bytes compatibility.\n\nStory: #2006258\nTask: #35875\nChange-Id: Id0ad0f3c644af52f41217105b249df78d0b722cc\n(cherry picked from commit abc8f570559d142bab22a7557ad1658a6407b7f6)\n'}, {'number': 3, 'created': '2019-10-08 07:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/8515a7ccad7a1b89ded37b0d1e4f1266f22cb5cc', 'message': 'Python 3 fixes\n\nString to Bytes compatibility.\n\nStory: #2006258\nTask: #35875\nChange-Id: Id0ad0f3c644af52f41217105b249df78d0b722cc\n(cherry picked from commit abc8f570559d142bab22a7557ad1658a6407b7f6)\n'}, {'number': 4, 'created': '2019-10-08 08:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/e922f5d7af4bbcee2f4c6f947bf234571457cc2d', 'message': 'Python 3 fixes\n\nString to Bytes compatibility.\n\nStory: #2006258\nTask: #35875\nChange-Id: Id0ad0f3c644af52f41217105b249df78d0b722cc\n(cherry picked from commit abc8f570559d142bab22a7557ad1658a6407b7f6)\n'}, {'number': 5, 'created': '2019-10-10 07:24:02.000000000', 'files': ['sahara/service/edp/spark/engine.py', 'sahara/utils/ssh_remote.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/8501b5235cb4c4d23eba796f201eace350e08bf2', 'message': 'Python 3 fixes\n\nString to Bytes compatibility.\n\nStory: #2006258\nTask: #35875\nChange-Id: Id0ad0f3c644af52f41217105b249df78d0b722cc\n(cherry picked from commit abc8f570559d142bab22a7557ad1658a6407b7f6)\n'}]",0,687163,8501b5235cb4c4d23eba796f201eace350e08bf2,24,4,5,10459,,,0,"Python 3 fixes

String to Bytes compatibility.

Story: #2006258
Task: #35875
Change-Id: Id0ad0f3c644af52f41217105b249df78d0b722cc
(cherry picked from commit abc8f570559d142bab22a7557ad1658a6407b7f6)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/63/687163/3 && git format-patch -1 --stdout FETCH_HEAD,"['sahara/service/edp/spark/engine.py', 'sahara/utils/ssh_remote.py']",2,fb2bb55cf10f29f926e8a4ec7f87e227da84a628,python3_update, try: write_data = paramiko.py3compat.StringIO(data) except TypeError: write_data = paramiko.py3compat.BytesIO(data) , write_data = paramiko.py3compat.StringIO(data),6,2
openstack%2Fpuppet-ovn~stable%2Ftrain~I529f2e8ffe933dece6b44b7f80d94418611a8c90,openstack/puppet-ovn,stable/train,I529f2e8ffe933dece6b44b7f80d94418611a8c90,Update .gitreview for stable/train,MERGED,2019-10-04 13:34:57.000000000,2019-10-10 19:53:57.000000000,2019-10-10 19:53:57.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:34:57.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/9c4727a0ee12fed30ba355d2043c0ba24fa58724', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I529f2e8ffe933dece6b44b7f80d94418611a8c90\n'}]",0,686691,9c4727a0ee12fed30ba355d2043c0ba24fa58724,9,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I529f2e8ffe933dece6b44b7f80d94418611a8c90
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/91/686691/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9c4727a0ee12fed30ba355d2043c0ba24fa58724,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpuppet-heat~stable%2Ftrain~Ic286dab36fd08bd313543fb3748d8ba6fb3e5186,openstack/puppet-heat,stable/train,Ic286dab36fd08bd313543fb3748d8ba6fb3e5186,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:26:44.000000000,2019-10-10 19:51:55.000000000,2019-10-10 19:50:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:26:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/e739b6a50ca96929d77a1c86816793bf2afe0810', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic286dab36fd08bd313543fb3748d8ba6fb3e5186\n'}]",0,686649,e739b6a50ca96929d77a1c86816793bf2afe0810,12,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic286dab36fd08bd313543fb3748d8ba6fb3e5186
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/49/686649/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e739b6a50ca96929d77a1c86816793bf2afe0810,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~I148893df1797dd0835ba86928992e97f71850a11,openstack/puppet-openstack_spec_helper,stable/train,I148893df1797dd0835ba86928992e97f71850a11,Switch to Train,MERGED,2019-10-09 22:42:17.000000000,2019-10-10 19:51:41.000000000,2019-10-10 19:51:41.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 22:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/94db9c8de107652bfcbb3d700e36f606a09957f6', 'message': 'Switch to Train\n\nChange-Id: I148893df1797dd0835ba86928992e97f71850a11\n'}, {'number': 2, 'created': '2019-10-10 14:49:09.000000000', 'files': ['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/46aed23b04a5e32e1ec48d8830508e072daeb8a8', 'message': 'Switch to Train\n\nChange-Id: I148893df1797dd0835ba86928992e97f71850a11\n'}]",0,687690,46aed23b04a5e32e1ec48d8830508e072daeb8a8,10,4,2,16137,,,0,"Switch to Train

Change-Id: I148893df1797dd0835ba86928992e97f71850a11
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/90/687690/2 && git format-patch -1 --stdout FETCH_HEAD,"['functions', 'lib/puppet-openstack_spec_helper/beaker_spec_helper.rb', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",3,94db9c8de107652bfcbb3d700e36f606a09957f6,train," sh(""git clone https://opendev.org/#{repo} -b stable/train #{repo}"")"," sh(""git clone https://opendev.org/#{repo} #{repo}"")",3,3
openstack%2Fpuppet-octavia~stable%2Ftrain~I0772ef53bcb9b061a02730a94bec8a40b4acf3cb,openstack/puppet-octavia,stable/train,I0772ef53bcb9b061a02730a94bec8a40b4acf3cb,Switch to Train,MERGED,2019-10-09 23:11:23.000000000,2019-10-10 19:48:03.000000000,2019-10-10 19:48:02.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:11:23.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/b12f610f3a758aadea37f00f3c517ebf6bd49921', 'message': 'Switch to Train\n\nChange-Id: I0772ef53bcb9b061a02730a94bec8a40b4acf3cb\n'}]",0,687719,b12f610f3a758aadea37f00f3c517ebf6bd49921,6,2,1,16137,,,0,"Switch to Train

Change-Id: I0772ef53bcb9b061a02730a94bec8a40b4acf3cb
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/19/687719/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,b12f610f3a758aadea37f00f3c517ebf6bd49921,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fsahara~stable%2Ftrain~I5571ac5e578f98465737373598b358aa7dab93e0,openstack/sahara,stable/train,I5571ac5e578f98465737373598b358aa7dab93e0,"grenade: start from stein, disable heat integration tests",MERGED,2019-10-09 22:54:39.000000000,2019-10-10 19:46:21.000000000,2019-10-10 19:42:40.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-09 22:54:39.000000000', 'files': ['playbooks/sahara-grenade/run.yaml', 'devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/sahara/commit/244ee200d4fa0e0086b1cc7343724a3ff8f9d8d5', 'message': 'grenade: start from stein, disable heat integration tests\n\n- set the starting point as stein and the destination to train\n  (to be adapted in the backports of this patch);\n- heat tests should have been disabled already here;\n  they are really flaky, they takes more time and they should be\n  tested by heat.\n\nChange-Id: I5571ac5e578f98465737373598b358aa7dab93e0\n(cherry picked from commit 810d94bfbb1ffa0c68949c3180dadfab333fb4cd)\n'}]",0,687696,244ee200d4fa0e0086b1cc7343724a3ff8f9d8d5,10,3,1,10459,,,0,"grenade: start from stein, disable heat integration tests

- set the starting point as stein and the destination to train
  (to be adapted in the backports of this patch);
- heat tests should have been disabled already here;
  they are really flaky, they takes more time and they should be
  tested by heat.

Change-Id: I5571ac5e578f98465737373598b358aa7dab93e0
(cherry picked from commit 810d94bfbb1ffa0c68949c3180dadfab333fb4cd)
",git fetch https://review.opendev.org/openstack/sahara refs/changes/96/687696/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/sahara-grenade/run.yaml', 'devstack/upgrade/settings']",2,244ee200d4fa0e0086b1cc7343724a3ff8f9d8d5,, stable/stein stable/stein https://opendev.org/openstack/sahara \ stable/train https://opendev.org/openstack/heat \ stable/train," stable/rocky stable/rocky devstack_localrc base DEFAULT_IMAGE_NAME=""cirros-0.3.5-x86_64-uec"" https://opendev.org/openstack/sahara https://opendev.org/openstack/heat",7,6
openstack%2Fpuppet-rally~stable%2Ftrain~I16f03947854d35c0a46291d9dc95ab83abb1ffec,openstack/puppet-rally,stable/train,I16f03947854d35c0a46291d9dc95ab83abb1ffec,Switch to Train,MERGED,2019-10-09 23:27:13.000000000,2019-10-10 19:45:42.000000000,2019-10-10 19:45:41.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:27:13.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/8a6e03a27b28318c1616d2fa599a87a6ce4fdc6a', 'message': 'Switch to Train\n\nChange-Id: I16f03947854d35c0a46291d9dc95ab83abb1ffec\n'}]",0,687742,8a6e03a27b28318c1616d2fa599a87a6ce4fdc6a,6,2,1,16137,,,0,"Switch to Train

Change-Id: I16f03947854d35c0a46291d9dc95ab83abb1ffec
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/42/687742/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,8a6e03a27b28318c1616d2fa599a87a6ce4fdc6a,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-tacker~stable%2Ftrain~I131b3d2f5513fca49757d5d8c308f5a47e6a3303,openstack/puppet-tacker,stable/train,I131b3d2f5513fca49757d5d8c308f5a47e6a3303,Switch to Train,MERGED,2019-10-09 23:17:27.000000000,2019-10-10 19:45:22.000000000,2019-10-10 19:45:22.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:17:27.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/dd7c48dc7fce8b17b0f7cbedd86c602c643a650d', 'message': 'Switch to Train\n\nChange-Id: I131b3d2f5513fca49757d5d8c308f5a47e6a3303\n'}]",0,687731,dd7c48dc7fce8b17b0f7cbedd86c602c643a650d,6,2,1,16137,,,0,"Switch to Train

Change-Id: I131b3d2f5513fca49757d5d8c308f5a47e6a3303
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/31/687731/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,dd7c48dc7fce8b17b0f7cbedd86c602c643a650d,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-magnum~stable%2Ftrain~Id075687ae1d596f9b8ce91d0b083df46312731e7,openstack/puppet-magnum,stable/train,Id075687ae1d596f9b8ce91d0b083df46312731e7,Switch to Train,MERGED,2019-10-09 23:07:34.000000000,2019-10-10 19:44:44.000000000,2019-10-10 19:44:44.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:07:34.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/8b6f7091cfa71b6dcf4c4a481e5389583aa5d924', 'message': 'Switch to Train\n\nChange-Id: Id075687ae1d596f9b8ce91d0b083df46312731e7\n'}]",0,687712,8b6f7091cfa71b6dcf4c4a481e5389583aa5d924,8,3,1,16137,,,0,"Switch to Train

Change-Id: Id075687ae1d596f9b8ce91d0b083df46312731e7
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/12/687712/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,8b6f7091cfa71b6dcf4c4a481e5389583aa5d924,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-senlin~stable%2Ftrain~Ibe6a271449c54a55ba121fd9f9872eb6a04ab575,openstack/puppet-senlin,stable/train,Ibe6a271449c54a55ba121fd9f9872eb6a04ab575,Update .gitreview for stable/train,MERGED,2019-10-07 13:35:37.000000000,2019-10-10 19:43:37.000000000,2019-10-10 19:43:37.000000000,"[{'_account_id': 3153}, {'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:35:37.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/71515708c1240559ab5f5fe1861c6d3af7db42b2', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ibe6a271449c54a55ba121fd9f9872eb6a04ab575\n'}]",0,687050,71515708c1240559ab5f5fe1861c6d3af7db42b2,11,5,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ibe6a271449c54a55ba121fd9f9872eb6a04ab575
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/50/687050/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,71515708c1240559ab5f5fe1861c6d3af7db42b2,create-train,defaultbranch=stable/train,,1,0
openstack%2Ftripleo-docs~master~I185ee0b7146559eb8c729ca27d38a3b66881687e,openstack/tripleo-docs,master,I185ee0b7146559eb8c729ca27d38a3b66881687e,Add docs for --start-at-task,MERGED,2019-10-03 01:02:39.000000000,2019-10-10 19:43:27.000000000,2019-10-10 19:42:05.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-10-03 01:02:39.000000000', 'files': ['deploy-guide/source/deployment/ansible_config_download.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a73cf421b0ee335d213309abf3d7a4a7c9590d70', 'message': 'Add docs for --start-at-task\n\nUpdates the documentation to detail gathering facts and loading global\nvariables during the ansible-playbook run when using --start-at-task.\n\nChange-Id: I185ee0b7146559eb8c729ca27d38a3b66881687e\n'}]",0,686318,a73cf421b0ee335d213309abf3d7a4a7c9590d70,11,6,1,7144,,,0,"Add docs for --start-at-task

Updates the documentation to detail gathering facts and loading global
variables during the ansible-playbook run when using --start-at-task.

Change-Id: I185ee0b7146559eb8c729ca27d38a3b66881687e
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/18/686318/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/ansible_config_download.rst'],1,a73cf421b0ee335d213309abf3d7a4a7c9590d70,," Some tasks that include the ``step`` variable or other ansible variables in the task name do not work with ``--start-at-task`` due to a limitation inWhen using ``--start-at-task``, the tasks that gather facts and load global variables for the playbook execution are skipped by default. Skipping those tasks can cause unexpected errors in later tasks. To avoid errors, those tasks can be forced to execute when using ``--start-at-task`` by including the following options to the ``ansible-playbook`` command:: ansible-playbook \ <other options > \ -e gather_facts=true \ -e @global_vars.yaml The ``global_vars.yaml`` variable file exists in the config-download directory that was either generated manually or under ``/var/lib/mistral``. ", Tasks that include the ``step`` variable or other ansible variables in the task name do not work with ``--start-at-task`` due to a limitation in,16,2
openstack%2Fpuppet-glare~stable%2Ftrain~Ic6668222dacd013b1f193815f5f03a6482f20ee7,openstack/puppet-glare,stable/train,Ic6668222dacd013b1f193815f5f03a6482f20ee7,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-07 13:34:18.000000000,2019-10-10 19:42:10.000000000,2019-10-10 19:40:54.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:34:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/8a51a33d8eeb24144ff941ccc7e5c607984085a6', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic6668222dacd013b1f193815f5f03a6482f20ee7\n'}]",0,687036,8a51a33d8eeb24144ff941ccc7e5c607984085a6,9,4,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic6668222dacd013b1f193815f5f03a6482f20ee7
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/36/687036/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,8a51a33d8eeb24144ff941ccc7e5c607984085a6,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpuppet-glare~stable%2Ftrain~Ia41805d1dbd991a636767fbbc163e3ecd187ddc3,openstack/puppet-glare,stable/train,Ia41805d1dbd991a636767fbbc163e3ecd187ddc3,Switch to Train,MERGED,2019-10-09 23:32:22.000000000,2019-10-10 19:40:55.000000000,2019-10-10 19:40:55.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:32:22.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/3a9aa590c898767a93f75801474dc0fd6ba02925', 'message': 'Switch to Train\n\nChange-Id: Ia41805d1dbd991a636767fbbc163e3ecd187ddc3\n'}]",0,687750,3a9aa590c898767a93f75801474dc0fd6ba02925,6,2,1,16137,,,0,"Switch to Train

Change-Id: Ia41805d1dbd991a636767fbbc163e3ecd187ddc3
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/50/687750/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,3a9aa590c898767a93f75801474dc0fd6ba02925,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-freezer~stable%2Ftrain~I882e19edb982c7756e4a7a6bd4305974ea0d6fc0,openstack/puppet-freezer,stable/train,I882e19edb982c7756e4a7a6bd4305974ea0d6fc0,Switch to Train,MERGED,2019-10-09 23:03:17.000000000,2019-10-10 19:40:42.000000000,2019-10-10 19:40:41.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:03:17.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/af9e1df90af4913c9dd9207b030b1d945549b3ce', 'message': 'Switch to Train\n\nChange-Id: I882e19edb982c7756e4a7a6bd4305974ea0d6fc0\n'}]",0,687704,af9e1df90af4913c9dd9207b030b1d945549b3ce,6,2,1,16137,,,0,"Switch to Train

Change-Id: I882e19edb982c7756e4a7a6bd4305974ea0d6fc0
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/04/687704/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,af9e1df90af4913c9dd9207b030b1d945549b3ce,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-monasca~stable%2Ftrain~I56e6aab7fa5cfe1f660e35bcabd054ae948d06d1,openstack/puppet-monasca,stable/train,I56e6aab7fa5cfe1f660e35bcabd054ae948d06d1,Switch to Train,MERGED,2019-10-09 23:30:11.000000000,2019-10-10 19:39:16.000000000,2019-10-10 19:39:15.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:30:11.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/6c9deb5b90645d35e736cb21d6503a406bed4a48', 'message': 'Switch to Train\n\nChange-Id: I56e6aab7fa5cfe1f660e35bcabd054ae948d06d1\n'}]",0,687747,6c9deb5b90645d35e736cb21d6503a406bed4a48,6,2,1,16137,,,0,"Switch to Train

Change-Id: I56e6aab7fa5cfe1f660e35bcabd054ae948d06d1
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/47/687747/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,6c9deb5b90645d35e736cb21d6503a406bed4a48,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-glare~stable%2Ftrain~I4708fa34b09feebbc4608bae24cf4982b4b7ae18,openstack/puppet-glare,stable/train,I4708fa34b09feebbc4608bae24cf4982b4b7ae18,Update .gitreview for stable/train,MERGED,2019-10-07 13:34:15.000000000,2019-10-10 19:38:19.000000000,2019-10-10 19:38:19.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:34:15.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/4cbc6f406243f98e54dca9a2d10fc288af7d7ad2', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I4708fa34b09feebbc4608bae24cf4982b4b7ae18\n'}]",0,687035,4cbc6f406243f98e54dca9a2d10fc288af7d7ad2,8,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I4708fa34b09feebbc4608bae24cf4982b4b7ae18
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/35/687035/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,4cbc6f406243f98e54dca9a2d10fc288af7d7ad2,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpuppet-ovn~stable%2Ftrain~I40a80d4d097a0c243916b17466eb9da3f69b0a36,openstack/puppet-ovn,stable/train,I40a80d4d097a0c243916b17466eb9da3f69b0a36,Switch to Train,MERGED,2019-10-09 23:28:50.000000000,2019-10-10 19:37:54.000000000,2019-10-10 19:37:54.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:28:50.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/dbfcb8467640689778e819cdd236615b566c4665', 'message': 'Switch to Train\n\nChange-Id: I40a80d4d097a0c243916b17466eb9da3f69b0a36\n'}]",0,687745,dbfcb8467640689778e819cdd236615b566c4665,6,2,1,16137,,,0,"Switch to Train

Change-Id: I40a80d4d097a0c243916b17466eb9da3f69b0a36
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/45/687745/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,dbfcb8467640689778e819cdd236615b566c4665,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-congress~stable%2Ftrain~I460d94e14cd1768d62730bba20278e29f9baea88,openstack/puppet-congress,stable/train,I460d94e14cd1768d62730bba20278e29f9baea88,Switch to Train,MERGED,2019-10-09 23:01:17.000000000,2019-10-10 19:37:48.000000000,2019-10-10 19:37:48.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:01:17.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-congress/commit/97a5a2ff7a029ecc428721fbd14a5cb8a9858e28', 'message': 'Switch to Train\n\nChange-Id: I460d94e14cd1768d62730bba20278e29f9baea88\n'}]",0,687701,97a5a2ff7a029ecc428721fbd14a5cb8a9858e28,6,2,1,16137,,,0,"Switch to Train

Change-Id: I460d94e14cd1768d62730bba20278e29f9baea88
",git fetch https://review.opendev.org/openstack/puppet-congress refs/changes/01/687701/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,97a5a2ff7a029ecc428721fbd14a5cb8a9858e28,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-murano~stable%2Ftrain~I8492bc7b3457559c97d2cf916d4a149ec77a7c3e,openstack/puppet-murano,stable/train,I8492bc7b3457559c97d2cf916d4a149ec77a7c3e,Switch to Train,MERGED,2019-10-09 23:09:44.000000000,2019-10-10 19:37:30.000000000,2019-10-10 19:37:30.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:09:44.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/4305e8ca0b40aba537c485e7cc982dca962befa4', 'message': 'Switch to Train\n\nChange-Id: I8492bc7b3457559c97d2cf916d4a149ec77a7c3e\n'}]",0,687716,4305e8ca0b40aba537c485e7cc982dca962befa4,6,2,1,16137,,,0,"Switch to Train

Change-Id: I8492bc7b3457559c97d2cf916d4a149ec77a7c3e
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/16/687716/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,4305e8ca0b40aba537c485e7cc982dca962befa4,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-qdr~stable%2Ftrain~I1d24a659245dd36044ab22c76a63dfbf52fea732,openstack/puppet-qdr,stable/train,I1d24a659245dd36044ab22c76a63dfbf52fea732,Switch to Train,MERGED,2019-10-09 23:26:45.000000000,2019-10-10 19:36:45.000000000,2019-10-10 19:36:45.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 23:26:45.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/8e4e7256318ac909bbc95834f869119c63f20113', 'message': 'Switch to Train\n\nChange-Id: I1d24a659245dd36044ab22c76a63dfbf52fea732\n'}]",0,687741,8e4e7256318ac909bbc95834f869119c63f20113,6,2,1,16137,,,0,"Switch to Train

Change-Id: I1d24a659245dd36044ab22c76a63dfbf52fea732
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/41/687741/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,8e4e7256318ac909bbc95834f869119c63f20113,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-rally~master~I8f48edb857ba4e9c7a91745a3d4c9b0d962f40c3,openstack/puppet-rally,master,I8f48edb857ba4e9c7a91745a3d4c9b0d962f40c3,Update master for stable/train,MERGED,2019-10-07 13:35:27.000000000,2019-10-10 19:33:13.000000000,2019-10-10 19:31:47.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:35:27.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/55d30fc2d810d11d972db28c526d23ed245b1e36', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8f48edb857ba4e9c7a91745a3d4c9b0d962f40c3\nSem-Ver: feature\n'}]",0,687049,55d30fc2d810d11d972db28c526d23ed245b1e36,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I8f48edb857ba4e9c7a91745a3d4c9b0d962f40c3
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/49/687049/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,55d30fc2d810d11d972db28c526d23ed245b1e36,reno-train, train,,7,0
openstack%2Fnetworking-ovn~master~I5b6dce9c95dec6ec49326b82ef1e52bbcba59f1e,openstack/networking-ovn,master,I5b6dce9c95dec6ec49326b82ef1e52bbcba59f1e,DNM: Set binding profile directly from OVNTrunkDriver - BASELINE,ABANDONED,2019-10-09 10:22:13.000000000,2019-10-10 19:31:42.000000000,,"[{'_account_id': 11952}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 10:22:13.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0f9c0b12708e8e0472a188316e1ce827801a17b9', 'message': 'DNM: Set binding profile directly from OVNTrunkDriver - BASELINE\n\nThis is a temporary check to have a compare of Rally results\nagainst improvements that get get from\nhttps://review.opendev.org/#/c/686571/8\n\nChange-Id: I5b6dce9c95dec6ec49326b82ef1e52bbcba59f1e\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n'}]",0,687527,0f9c0b12708e8e0472a188316e1ce827801a17b9,4,2,1,11952,,,0,"DNM: Set binding profile directly from OVNTrunkDriver - BASELINE

This is a temporary check to have a compare of Rally results
against improvements that get get from
https://review.opendev.org/#/c/686571/8

Change-Id: I5b6dce9c95dec6ec49326b82ef1e52bbcba59f1e
Co-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/27/687527/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/networking-ovn-jobs.yaml']",2,0f9c0b12708e8e0472a188316e1ce827801a17b9,, parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-1 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-2 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-3 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-4 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-5 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-6 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-7 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-8 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-9 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-10 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-11 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-12 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-13 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-14 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-15 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-16 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-17 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-18 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-19 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-20 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-21 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-22 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-23 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-24 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-25 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-26 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-27 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-28 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-29 - job: parent: networking-ovn-tempest-dsvm-ovs-master name: networking-ovn-tempest-dsvm-ovs-master-30 - job: parent: networking-ovn-rally-task name: networking-ovn-rally-task-1 - job: parent: networking-ovn-rally-task name: networking-ovn-rally-task-2 - job: parent: networking-ovn-rally-task name: networking-ovn-rally-task-3 - job: parent: networking-ovn-rally-task name: networking-ovn-rally-task-4 - job: parent: networking-ovn-rally-task name: networking-ovn-rally-task-5 - job: parent: networking-ovn-rally-task name: networking-ovn-rally-task-6 - job: parent: networking-ovn-rally-task name: networking-ovn-rally-task-7 - job: parent: networking-ovn-rally-task name: networking-ovn-rally-task-8 - job: parent: networking-ovn-rally-task name: networking-ovn-rally-task-9 - job: parent: networking-ovn-rally-task name: networking-ovn-rally-task-10 - job:,,213,14
openstack%2Fpuppet-ironic~stable%2Ftrain~I52e21b53dfdff926141ce3d6989eb1ec826ca8ea,openstack/puppet-ironic,stable/train,I52e21b53dfdff926141ce3d6989eb1ec826ca8ea,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:28:01.000000000,2019-10-10 19:27:59.000000000,2019-10-10 19:26:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:28:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/1136c8bd0db33af51df66e97f1ecdad698ed4b56', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I52e21b53dfdff926141ce3d6989eb1ec826ca8ea\n'}]",0,686655,1136c8bd0db33af51df66e97f1ecdad698ed4b56,10,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I52e21b53dfdff926141ce3d6989eb1ec826ca8ea
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/55/686655/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1136c8bd0db33af51df66e97f1ecdad698ed4b56,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpuppet-ovn~master~I4b2cdf93c07382db06b2ba077cff80f696f73dcc,openstack/puppet-ovn,master,I4b2cdf93c07382db06b2ba077cff80f696f73dcc,Update master for stable/train,MERGED,2019-10-04 13:35:06.000000000,2019-10-10 19:27:49.000000000,2019-10-10 19:25:05.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:35:06.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/cefc88274150980af89c075ca55aa0ae5f913cfb', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I4b2cdf93c07382db06b2ba077cff80f696f73dcc\nSem-Ver: feature\n'}]",0,686693,cefc88274150980af89c075ca55aa0ae5f913cfb,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I4b2cdf93c07382db06b2ba077cff80f696f73dcc
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/93/686693/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,cefc88274150980af89c075ca55aa0ae5f913cfb,reno-train, train,,7,0
openstack%2Fpuppet-ironic~stable%2Ftrain~Ia6427f87b1f7258a3e4e60668d6e98c3319ac489,openstack/puppet-ironic,stable/train,Ia6427f87b1f7258a3e4e60668d6e98c3319ac489,Update .gitreview for stable/train,MERGED,2019-10-04 13:27:56.000000000,2019-10-10 19:26:02.000000000,2019-10-10 19:26:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:27:56.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/807e6be5f37ac9a32e3a4801b31828f6d88c04e6', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ia6427f87b1f7258a3e4e60668d6e98c3319ac489\n'}]",0,686654,807e6be5f37ac9a32e3a4801b31828f6d88c04e6,11,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ia6427f87b1f7258a3e4e60668d6e98c3319ac489
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/54/686654/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,807e6be5f37ac9a32e3a4801b31828f6d88c04e6,create-train,defaultbranch=stable/train,,1,0
openstack%2Freleases~master~Ie20dc59c32978c2fa0d9717088cab0b93a0e3fc3,openstack/releases,master,Ie20dc59c32978c2fa0d9717088cab0b93a0e3fc3,Release Glance Train rc2,MERGED,2019-10-10 15:07:55.000000000,2019-10-10 19:23:13.000000000,2019-10-10 19:23:13.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 15:07:55.000000000', 'files': ['deliverables/train/glance.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/5e7335fc1985b3f11ba1cc19533f10a1f60e8600', 'message': 'Release Glance Train rc2\n\nThis RC2 just picks up the final releasenotes and translations.\n\nChange-Id: Ie20dc59c32978c2fa0d9717088cab0b93a0e3fc3\nDepends-On: https://review.opendev.org/687904\n'}]",0,687929,5e7335fc1985b3f11ba1cc19533f10a1f60e8600,8,2,1,5202,,,0,"Release Glance Train rc2

This RC2 just picks up the final releasenotes and translations.

Change-Id: Ie20dc59c32978c2fa0d9717088cab0b93a0e3fc3
Depends-On: https://review.opendev.org/687904
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/687929/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/glance.yaml'],1,5e7335fc1985b3f11ba1cc19533f10a1f60e8600,glance-train-rc2, - version: 19.0.0.0rc2 projects: - repo: openstack/glance hash: f87464e022046c9d61384c2593edf9753ed34749,,4,0
openstack%2Ftripleo-common~stable%2Fstein~I6afe5078bd285374b3a9311a066ba10883c2ff66,openstack/tripleo-common,stable/stein,I6afe5078bd285374b3a9311a066ba10883c2ff66,Handle empty cert related hostvar info,MERGED,2019-10-08 12:34:03.000000000,2019-10-10 19:18:05.000000000,2019-10-10 19:16:25.000000000,"[{'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-08 12:34:03.000000000', 'files': ['playbooks/octavia-files.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/de57975786f80b6aff8d3145071277c05359e79c', 'message': 'Handle empty cert related hostvar info\n\nWhen certificates are neither generated nor provided (e.g. on update)\nrelated variables would be empty or undefined and need to be handled\naccordingly.\n\nNote: this file has been relocated to triple-ansible in train+ so this\nis a non-trivial backport of I361c90e438e79e180e2a745da82e619347fed13e.\n\nChange-Id: I6afe5078bd285374b3a9311a066ba10883c2ff66\nCloses-Bug: #1845366\n'}]",0,687285,de57975786f80b6aff8d3145071277c05359e79c,13,8,1,6681,,,0,"Handle empty cert related hostvar info

When certificates are neither generated nor provided (e.g. on update)
related variables would be empty or undefined and need to be handled
accordingly.

Note: this file has been relocated to triple-ansible in train+ so this
is a non-trivial backport of I361c90e438e79e180e2a745da82e619347fed13e.

Change-Id: I6afe5078bd285374b3a9311a066ba10883c2ff66
Closes-Bug: #1845366
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/85/687285/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/octavia-files.yaml'],1,de57975786f80b6aff8d3145071277c05359e79c,stein," private_key_content: ""{{ hostvars[groups['octavia_nodes'][0]]['private_key_content'] | default('') }}"" ca_cert_content: ""{{ hostvars[groups['octavia_nodes'][0]]['ca_cert_content'] | default('') }}"" service_pem_content: ""{{ hostvars[groups['octavia_nodes'][0]]['service_pem_content'] | default('') }}"""," private_key_content: ""{{ hostvars[groups['octavia_nodes'][0]]['private_key_content'] }}"" ca_cert_content: ""{{ hostvars[groups['octavia_nodes'][0]]['ca_cert_content'] }}"" service_pem_content: ""{{ hostvars[groups['octavia_nodes'][0]]['service_pem_content'] }}""",3,3
openstack%2Fcharm-barbican-softhsm~master~I16ebb5ffbd5e59e72dbb9c642abbcb2aa26b3bb0,openstack/charm-barbican-softhsm,master,I16ebb5ffbd5e59e72dbb9c642abbcb2aa26b3bb0,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:06:59.000000000,2019-10-10 19:16:00.000000000,2019-10-10 19:16:00.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:06:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/216a75232bcd555ca9069d9383175bbc0042e392', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I16ebb5ffbd5e59e72dbb9c642abbcb2aa26b3bb0\n'}, {'number': 2, 'created': '2019-10-01 03:41:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/2c5eb1ea51769b558dfe96251e9e3d1f5a954c41', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I16ebb5ffbd5e59e72dbb9c642abbcb2aa26b3bb0\n'}, {'number': 3, 'created': '2019-10-01 19:42:11.000000000', 'files': ['src/files/.gitkeep', 'src/tox.ini', 'src/metadata.yaml', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/d82958bd656cd5721332c0f3291fa1891e2f9aa3', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nAlso remove duplicate tags declaration from metadata.yaml.\n\nChange-Id: I16ebb5ffbd5e59e72dbb9c642abbcb2aa26b3bb0\n'}]",0,685811,d82958bd656cd5721332c0f3291fa1891e2f9aa3,19,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Also remove duplicate tags declaration from metadata.yaml.

Change-Id: I16ebb5ffbd5e59e72dbb9c642abbcb2aa26b3bb0
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/11/685811/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/files/.gitkeep', 'src/tox.ini', 'tox.ini']",3,216a75232bcd555ca9069d9383175bbc0042e392,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. http://governance.openstack.org/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",31,38
openstack%2Fcharm-nova-cell-controller~master~I3cf3f6640f3a485a8ca09859c868a6f7277ab680,openstack/charm-nova-cell-controller,master,I3cf3f6640f3a485a8ca09859c868a6f7277ab680,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:05.000000000,2019-10-10 19:15:47.000000000,2019-10-10 19:15:47.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/49eb93e93bc7991cba7da24fd7b313b2549b6fc1', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I3cf3f6640f3a485a8ca09859c868a6f7277ab680\n'}, {'number': 2, 'created': '2019-10-01 01:59:29.000000000', 'files': ['src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-cell-controller/commit/b5eab3731701ad27c3b73f8878124510b8192036', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I3cf3f6640f3a485a8ca09859c868a6f7277ab680\n'}]",0,685842,b5eab3731701ad27c3b73f8878124510b8192036,17,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I3cf3f6640f3a485a8ca09859c868a6f7277ab680
",git fetch https://review.opendev.org/openstack/charm-nova-cell-controller refs/changes/42/685842/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,49eb93e93bc7991cba7da24fd7b313b2549b6fc1,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters. INTERFACE_PATH={toxinidir}/interfacespassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYcommands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATHcommands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",50,23
openstack%2Fcharm-swift-proxy~master~If3bff319915e6ddf33811a37a0a41ecbff75db3f,openstack/charm-swift-proxy,master,If3bff319915e6ddf33811a37a0a41ecbff75db3f,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:46.000000000,2019-10-10 19:15:28.000000000,2019-10-10 19:15:28.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/7acc0dce9f8a6bf7b8865d467348fd5ccdad2bbf', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: If3bff319915e6ddf33811a37a0a41ecbff75db3f\n'}, {'number': 2, 'created': '2019-10-01 02:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/57313bd85b14eac642cc4132d81ff1021a0dcec9', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: If3bff319915e6ddf33811a37a0a41ecbff75db3f\n'}, {'number': 3, 'created': '2019-10-01 03:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/a7b36bb03cb23e350c5fd05ecccad2e0bd110e8c', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: If3bff319915e6ddf33811a37a0a41ecbff75db3f\n'}, {'number': 4, 'created': '2019-10-01 19:38:06.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'files/.gitkeep', 'charmhelpers/core/host.py', 'requirements.txt', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/e83d2660342d276c1d8493bd263d4be18e6f8037', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: If3bff319915e6ddf33811a37a0a41ecbff75db3f\n'}]",0,685852,e83d2660342d276c1d8493bd263d4be18e6f8037,20,4,4,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: If3bff319915e6ddf33811a37a0a41ecbff75db3f
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/52/685852/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'files/.gitkeep', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",15,7acc0dce9f8a6bf7b8865d467348fd5ccdad2bbf,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsecommands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py27,py37skip_missing_interpreters = Truecommands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* [testenv:py27] basepython = python2.7 changedir = swift_managercommands = stestr run {posargs}commands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1203,92
openstack%2Fcharm-vault~master~Id7b86f0fc64e7ee25aab8d8de09fd5b8b0da89c0,openstack/charm-vault,master,Id7b86f0fc64e7ee25aab8d8de09fd5b8b0da89c0,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:09:58.000000000,2019-10-10 19:14:39.000000000,2019-10-10 19:14:39.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/f6b7da250f9185f1096a75b49033ce78d40c43b7', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Id7b86f0fc64e7ee25aab8d8de09fd5b8b0da89c0\n'}, {'number': 2, 'created': '2019-10-01 01:59:43.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/9189405efd331bb4b24d8fbc168f419e3a296b05', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Id7b86f0fc64e7ee25aab8d8de09fd5b8b0da89c0\n'}]",0,685855,9189405efd331bb4b24d8fbc168f419e3a296b05,17,4,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Id7b86f0fc64e7ee25aab8d8de09fd5b8b0da89c0
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/55/685855/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",5,f6b7da250f9185f1096a75b49033ce78d40c43b7,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORY [testenv:build] basepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} stestr run --slowest {posargs}basepython = python3","# within individual charm repos.envlist = pep8,py37 # NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.passenv = http_proxy https_proxy USER [testenv:build] basepython = python2.7[testenv:py27] basepython = python2.7 deps = # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. http://governance.openstack.org/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}",59,45
openstack%2Fcharm-cinder-ceph~master~I76d6a3b018dba414667bc585b67bece1e1f54d6f,openstack/charm-cinder-ceph,master,I76d6a3b018dba414667bc585b67bece1e1f54d6f,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:07:49.000000000,2019-10-10 19:12:38.000000000,2019-10-10 19:12:38.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/a339766998c8b526582d5da1c1fbbc4da200d430', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I76d6a3b018dba414667bc585b67bece1e1f54d6f\n'}, {'number': 2, 'created': '2019-10-01 02:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/ddee72304071188cc35ec262de0691fe72804e9d', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I76d6a3b018dba414667bc585b67bece1e1f54d6f\n'}, {'number': 3, 'created': '2019-10-01 03:41:41.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'test-requirements.txt', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charm-helpers-hooks.yaml', 'files/.gitkeep', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/bb0c9725a735c3a0d9d20ce44d0c5fa3830b178e', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I76d6a3b018dba414667bc585b67bece1e1f54d6f\n'}]",0,685823,bb0c9725a735c3a0d9d20ce44d0c5fa3830b178e,19,4,3,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I76d6a3b018dba414667bc585b67bece1e1f54d6f
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/23/685823/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/openstack/templates/section-oslo-messaging-rabbit-ocata', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/contrib/openstack/amulet/utils.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'files/.gitkeep', 'charmhelpers/core/host.py', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'tox.ini']",14,a339766998c8b526582d5da1c1fbbc4da200d430,batch-update,"# Classic charm (with amulet): ./tox.ini# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-toolsenvlist = pep8,py3# NOTE: Avoid build/test env pollution by not enabling sitepackages.# NOTE: Avoid false positives by not skipping missing interpreters.commands = stestr run --slowest {posargs}passenv = HOME TERM AMULET_* CS_* OS_* TEST_* [testenv:py3] basepython = python3commands = flake8 {posargs} hooks unit_tests tests actions lib files stestr run --slowest {posargs}[testenv:func-noop][testenv:func][testenv:func-smoke][testenv:func-dev]","# Classic charm: ./tox.ini# within individual charm repos.envlist = pep8,py37# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages.# NOTE(beisner): Avoid false positives by not skipping missing interpreters.commands = stestr run {posargs}passenv = HOME TERM AMULET_* CS_API_* [testenv:py27] basepython = python2.7commands = /bin/truecommands = flake8 {posargs} hooks unit_tests tests actions lib stestr run {posargs}[testenv:func27-noop][testenv:func27][testenv:func27-smoke][testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev]",1200,91
openstack%2Fheat~stable%2Fpike~Ibb5a1d176de30bb82bb874f0d66f181251fa5b11,openstack/heat,stable/pike,Ibb5a1d176de30bb82bb874f0d66f181251fa5b11,Fix translate tenants in flavor,MERGED,2019-10-04 08:25:35.000000000,2019-10-10 19:09:20.000000000,2019-10-10 19:09:20.000000000,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30235}]","[{'number': 1, 'created': '2019-10-04 08:25:35.000000000', 'files': ['heat/engine/resources/openstack/nova/flavor.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/78c4cebab03e0b1f1ae4b8466b85ae9d2b76c40c', 'message': 'Fix translate tenants in flavor\n\nCloses-Bug: #1719762\n\nChange-Id: Ibb5a1d176de30bb82bb874f0d66f181251fa5b11\n(cherry picked from commit 4a6aecc5df264fd5cc6c860763cea10e1ea23e23)\n'}]",0,686548,78c4cebab03e0b1f1ae4b8466b85ae9d2b76c40c,13,6,1,30235,,,0,"Fix translate tenants in flavor

Closes-Bug: #1719762

Change-Id: Ibb5a1d176de30bb82bb874f0d66f181251fa5b11
(cherry picked from commit 4a6aecc5df264fd5cc6c860763cea10e1ea23e23)
",git fetch https://review.opendev.org/openstack/heat refs/changes/48/686548/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/nova/flavor.py'],1,78c4cebab03e0b1f1ae4b8466b85ae9d2b76c40c,bug/1719762," client_plugin=self.client_plugin('keystone'),"," client_plugin=self.client_plugin(),",1,1
openstack%2Fpuppet-heat~stable%2Ftrain~I8e1029077ba3270e95c332e80f4b62d40a389068,openstack/puppet-heat,stable/train,I8e1029077ba3270e95c332e80f4b62d40a389068,Update .gitreview for stable/train,MERGED,2019-10-04 13:26:39.000000000,2019-10-10 19:08:32.000000000,2019-10-10 19:08:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:26:39.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/ce50e591facf6f7b31eed6cfc9ddd898eebb110b', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I8e1029077ba3270e95c332e80f4b62d40a389068\n'}]",0,686648,ce50e591facf6f7b31eed6cfc9ddd898eebb110b,13,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I8e1029077ba3270e95c332e80f4b62d40a389068
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/48/686648/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ce50e591facf6f7b31eed6cfc9ddd898eebb110b,create-train,defaultbranch=stable/train,,1,0
openstack%2Fi18n~master~Id8e122dbfd6512904c218e21823971b3334327aa,openstack/i18n,master,Id8e122dbfd6512904c218e21823971b3334327aa,DNM: Test openstackdocstheme PDF support,ABANDONED,2019-09-11 04:54:08.000000000,2019-10-10 18:55:31.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 04:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/i18n/commit/680627393944f34e504483a49006d0776bfeec1a', 'message': 'DNM: Test openstackdocstheme PDF support\n\nIt seems latex_elements from openstackdocstheme does not work\nas expected. After latex_elements is configured in doc/source/conf.py\nin the project repo, PDF file with OpenStack logo will be generated.\n\nChange-Id: Id8e122dbfd6512904c218e21823971b3334327aa\n'}, {'number': 2, 'created': '2019-09-11 05:26:37.000000000', 'files': ['bindep.txt', 'doc/source/conf.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/i18n/commit/f713772295e4e916f506dd11230dc1dbca2a33ab', 'message': 'DNM: Test openstackdocstheme PDF support\n\nIt seems latex_elements from openstackdocstheme does not work\nas expected. After latex_elements is configured in doc/source/conf.py\nin the project repo, PDF file with OpenStack logo will be generated.\n\nChange-Id: Id8e122dbfd6512904c218e21823971b3334327aa\n'}]",0,681373,f713772295e4e916f506dd11230dc1dbca2a33ab,7,2,2,841,,,0,"DNM: Test openstackdocstheme PDF support

It seems latex_elements from openstackdocstheme does not work
as expected. After latex_elements is configured in doc/source/conf.py
in the project repo, PDF file with OpenStack logo will be generated.

Change-Id: Id8e122dbfd6512904c218e21823971b3334327aa
",git fetch https://review.opendev.org/openstack/i18n refs/changes/73/681373/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'doc/source/conf.py', 'tox.ini']",3,680627393944f34e504483a49006d0776bfeec1a,build-pdf-docs,envdir = {toxworkdir}/docs,,28,0
openstack%2Fglance~stable%2Ftrain~Id1034c76a890d8f6a4d1f028ce01c3bc78a0c7a3,openstack/glance,stable/train,Id1034c76a890d8f6a4d1f028ce01c3bc78a0c7a3,Train final release notes,MERGED,2019-10-10 13:56:48.000000000,2019-10-10 18:48:42.000000000,2019-10-10 18:46:41.000000000,"[{'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 13:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/efa60f74ebc2f39c5534dcd0ff8ff394ea030868', 'message': 'Train final release notes\n\nChange-Id: Id1034c76a890d8f6a4d1f028ce01c3bc78a0c7a3\n'}, {'number': 2, 'created': '2019-10-10 14:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8569797308be1183c5464ca8ca7305fdd894c015', 'message': 'Train final release notes\n\nChange-Id: Id1034c76a890d8f6a4d1f028ce01c3bc78a0c7a3\n'}, {'number': 3, 'created': '2019-10-10 15:03:04.000000000', 'files': ['releasenotes/notes/rethinking-filesystem-access-120bc46064b3d40a.yaml', 'releasenotes/notes/train-final-e09f3fe40592a478.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/f87464e022046c9d61384c2593edf9753ed34749', 'message': 'Train final release notes\n\nChange-Id: Id1034c76a890d8f6a4d1f028ce01c3bc78a0c7a3\n'}]",3,687904,f87464e022046c9d61384c2593edf9753ed34749,14,4,3,5202,,,0,"Train final release notes

Change-Id: Id1034c76a890d8f6a4d1f028ce01c3bc78a0c7a3
",git fetch https://review.opendev.org/openstack/glance refs/changes/04/687904/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/rethinking-filesystem-access-120bc46064b3d40a.yaml', 'releasenotes/notes/train-final-e09f3fe40592a478.yaml']",2,efa60f74ebc2f39c5534dcd0ff8ff394ea030868,train-reno-final,"--- prelude: - | Train release includes multiple important milestones in Glance development priorities. * Stabilization of multi-store feature; From Train onwards multi-store is considered stable feature in glance, glance_store and python-glanceclient. The community encourages everyone to adobt this new way of configuring backend stores at earliest convenience as the old configuration options are deprecated for removal to ease the burden of maintaining underlying code. Users are able to select the store they want their images to be stored during import process. * `glance-cache-manage` and precaching is back; during the cycle we fixed issues that caused cache management being impossible. The prefetcher code was moved into glance-api to break the dependency to glance-registry and does not run under cron anymore. * Documentation examples were changed from `openstack` commands back to `glance`. This should help avoid the frustration of glance-community maintaining different client than what is referred in examples. 'python-glanceclient' is and will be the reference implementation of Images API and the team will implement all API changes to the relevant client version of the cycle as well. * This release also bumps the Images API CURRENT version to 2.9 fixes: - | * Bug 1808868_: Add SEV-related extra spec and image properties * Bug 1802587_: Make location API compatible with multiple store .. _1808868: https://code.launchpad.net/bugs/1808868 .. _1802587: https://code.launchpad.net/bugs/1802587 ",,43,9
openstack%2Fswift~master~Ib64a06868bd3670a1d4a1860ac29122e1ede7c39,openstack/swift,master,Ib64a06868bd3670a1d4a1860ac29122e1ede7c39,Create segment container w/ same policy as primary,MERGED,2019-10-09 14:30:30.000000000,2019-10-10 18:48:18.000000000,2019-10-10 18:46:42.000000000,"[{'_account_id': 1179}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 14:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/8cab645f483a94434470a52d408fb4819f262382', 'message': ""Create segment container w/ same policy as primary\n\nWhen users upload an MPU object, s3api will automatically\ncreate a segment container if one doesn't already exist.\n\nCurrently, s3api will create the segment bucket using the\ncluster's default storage policy. This patch changes that\nbehavior to use the same storage policy as the primary bucket.\n\nChange-Id: Ib64a06868bd3670a1d4a1860ac29122e1ede7c39\nCloses-Bug: 1832390\n""}, {'number': 2, 'created': '2019-10-09 15:24:27.000000000', 'files': ['swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/d667affb6f0b0b125901a0c002ddb00322a8e4f4', 'message': ""Create segment container w/ same policy as primary\n\nWhen users upload an MPU object, s3api will automatically\ncreate a segment container if one doesn't already exist.\n\nCurrently, s3api will create the segment bucket using the\ncluster's default storage policy. This patch changes that\nbehavior to use the same storage policy as the primary bucket.\n\nChange-Id: Ib64a06868bd3670a1d4a1860ac29122e1ede7c39\nCloses-Bug: 1832390\n""}]",5,687577,d667affb6f0b0b125901a0c002ddb00322a8e4f4,17,4,2,9625,,,0,"Create segment container w/ same policy as primary

When users upload an MPU object, s3api will automatically
create a segment container if one doesn't already exist.

Currently, s3api will create the segment bucket using the
cluster's default storage policy. This patch changes that
behavior to use the same storage policy as the primary bucket.

Change-Id: Ib64a06868bd3670a1d4a1860ac29122e1ede7c39
Closes-Bug: 1832390
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/687577/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py']",2,8cab645f483a94434470a52d408fb4819f262382,s3api_storage_policy,"from test.unit import FakeMemcache, patch_policiesfrom swift.common.storage_policy import StoragePolicy bucket_exists=True, expected_policy=None): if expected_policy: _, _, req_headers = self.swift.calls_with_headers[-2] self.assertEqual(req_headers.get('X-Storage-Policy'), expected_policy) 'AUTH_test', 'bucket')] = {'status': 204} fake_memcache.store[get_cache_key( @patch_policies([ StoragePolicy(0, 'gold', is_default=True), StoragePolicy(1, 'silver')]) def test_object_mpu_initiate_without_segment_bucket_same_container(self): self.swift.register('PUT', '/v1/AUTH_test/bucket+segments', swob.HTTPCreated, {'X-Storage-Policy': 'silver'}, None) fake_memcache = FakeMemcache() fake_memcache.store[get_cache_key( 'AUTH_test', 'bucket')] = {'status': 204, 'storage_policy': '1'} fake_memcache.store[get_cache_key( 'AUTH_test', 'bucket+segments')] = {'status': 404} self.s3api.conf.derived_container_policy_use_default = False self._test_object_multipart_upload_initiate({}, fake_memcache, bucket_exists=False, expected_policy='silver') self._test_object_multipart_upload_initiate({'Etag': 'blahblahblah'}, fake_memcache, bucket_exists=False, expected_policy='silver') self._test_object_multipart_upload_initiate( {'Content-MD5': base64.b64encode(b'blahblahblahblah').strip()}, fake_memcache, bucket_exists=False, expected_policy='silver') ",from test.unit import FakeMemcache bucket_exists=True):,51,9
openstack%2Fneutron-tempest-plugin~master~I3afd877521e7cf66a8970f531111b3e1b1e7b150,openstack/neutron-tempest-plugin,master,I3afd877521e7cf66a8970f531111b3e1b1e7b150,Add scenario test for port forwarding and UDP,MERGED,2019-09-11 20:57:51.000000000,2019-10-10 18:46:40.000000000,2019-10-10 18:46:40.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-11 20:57:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4dfeb2a5e19163646f27feab64ae1eb304bb5103', 'message': 'Add scenario test for port forwarding and UDP\n\nThis test extends exisiting port_forwarding scenario test which\nwas only configuring and testing port forwarding to 2 different\nservers using TCP protocol (by SSH to those instances to different\nports).\n\nNow it also creates UDP port forwarding, spawns nc on each VM\nand tries to connect to this nc and check if it will return proper\nmessage from each VM.\n\nChange-Id: I3afd877521e7cf66a8970f531111b3e1b1e7b150\n'}, {'number': 2, 'created': '2019-09-12 10:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b5b0fe30c9d8958ce7c37bbcd941d4c5a60986ca', 'message': 'Add scenario test for port forwarding and UDP\n\nThis test extends exisiting port_forwarding scenario test which\nwas only configuring and testing port forwarding to 2 different\nservers using TCP protocol (by SSH to those instances to different\nports).\n\nNow it also creates UDP port forwarding, spawns nc on each VM\nand tries to connect to this nc and check if it will return proper\nmessage from each VM.\n\nChange-Id: I3afd877521e7cf66a8970f531111b3e1b1e7b150\n'}, {'number': 3, 'created': '2019-09-19 11:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/be4b70537d17e14577952e7c9a6aa05e4990b013', 'message': 'Add scenario test for port forwarding and UDP\n\nThis test extends exisiting port_forwarding scenario test which\nwas only configuring and testing port forwarding to 2 different\nservers using TCP protocol (by SSH to those instances to different\nports).\n\nNow it also creates UDP port forwarding, spawns nc on each VM\nand tries to connect to this nc and check if it will return proper\nmessage from each VM.\n\nChange-Id: I3afd877521e7cf66a8970f531111b3e1b1e7b150\n'}, {'number': 4, 'created': '2019-10-03 10:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a66414e41a70ca889c9c26d0d1c18ba1e6222ebc', 'message': 'Add scenario test for port forwarding and UDP\n\nThis test extends exisiting port_forwarding scenario test which\nwas only configuring and testing port forwarding to 2 different\nservers using TCP protocol (by SSH to those instances to different\nports).\n\nNow it also creates UDP port forwarding, spawns nc on each VM\nand tries to connect to this nc and check if it will return proper\nmessage from each VM.\n\nChange-Id: I3afd877521e7cf66a8970f531111b3e1b1e7b150\n'}, {'number': 5, 'created': '2019-10-10 11:00:06.000000000', 'files': ['neutron_tempest_plugin/scenario/test_port_forwardings.py', 'neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c4e963e5f59f9316de501a31468000c19963eae2', 'message': 'Add scenario test for port forwarding and UDP\n\nThis test extends exisiting port_forwarding scenario test which\nwas only configuring and testing port forwarding to 2 different\nservers using TCP protocol (by SSH to those instances to different\nports).\n\nNow it also creates UDP port forwarding, spawns nc on each VM\nand tries to connect to this nc and check if it will return proper\nmessage from each VM.\n\nChange-Id: I3afd877521e7cf66a8970f531111b3e1b1e7b150\n'}]",7,681607,c4e963e5f59f9316de501a31468000c19963eae2,30,5,5,11975,,,0,"Add scenario test for port forwarding and UDP

This test extends exisiting port_forwarding scenario test which
was only configuring and testing port forwarding to 2 different
servers using TCP protocol (by SSH to those instances to different
ports).

Now it also creates UDP port forwarding, spawns nc on each VM
and tries to connect to this nc and check if it will return proper
message from each VM.

Change-Id: I3afd877521e7cf66a8970f531111b3e1b1e7b150
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/07/681607/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/scenario/test_port_forwardings.py', 'neutron_tempest_plugin/scenario/base.py']",2,4dfeb2a5e19163646f27feab64ae1eb304bb5103,udp-port-forwarding-test,"from neutron_tempest_plugin.common import shell kwargs['port'] = ( server['port_forwarding_tcp']['external_port']) def nc_listen(self, server, ssh_client, port, protocol, echo_msg): """"""Create nc server listening on the given TCP/UDP port."""""" udp = '' if protocol.lower() == neutron_lib_constants.PROTO_NAME_UDP: udp = '-u' cmd = ""sudo nc %(udp)s -p %(port)s -lk -e echo %(msg)s &"" % { 'udp': udp, 'port': port, 'msg': echo_msg} try: return ssh_client.exec_command(cmd) except lib_exc.SSHTimeout as ssh_e: LOG.debug(ssh_e) self._log_console_output([server]) raise def nc_client(self, ip_address, port, protocol): """"""Check connectivity to TCP/UDP port at host via nc."""""" udp = '' if protocol.lower() == neutron_lib_constants.PROTO_NAME_UDP: udp = '-u' cmd = 'echo ""knock knock"" | nc -w 1 %(udp)s %(host)s %(port)s' % { 'udp': udp, 'host': ip_address, 'port': port} result = shell.execute_local_command(cmd) self.assertEqual(0, result.exit_status) return result.stdout", kwargs['port'] = server['port_forwarding']['external_port'],80,10
openstack%2Fkeystone~stable%2Ftrain~I73f949f869bd7b87a6a83950befe6d99d690f6f8,openstack/keystone,stable/train,I73f949f869bd7b87a6a83950befe6d99d690f6f8,Add schema placeholders for Train,MERGED,2019-10-10 04:28:56.000000000,2019-10-10 18:27:58.000000000,2019-10-10 18:25:01.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-10-10 04:28:56.000000000', 'files': ['keystone/common/sql/contract_repo/versions/067_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/069_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/067_placeholder.py', 'keystone/common/sql/contract_repo/versions/069_placeholder.py', 'keystone/common/sql/contract_repo/versions/070_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/070_placeholder.py', 'keystone/common/sql/expand_repo/versions/068_placeholder.py', 'keystone/common/sql/expand_repo/versions/070_placeholder.py', 'keystone/common/sql/contract_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/071_placeholder.py', 'keystone/common/sql/contract_repo/versions/071_placeholder.py', 'keystone/common/sql/expand_repo/versions/067_placeholder.py', 'keystone/common/sql/expand_repo/versions/069_placeholder.py', 'keystone/common/sql/expand_repo/versions/071_placeholder.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/dc9e9e32dfbf9fd9c58f9f8e2b35f0bcfd62328e', 'message': 'Add schema placeholders for Train\n\nChange-Id: I73f949f869bd7b87a6a83950befe6d99d690f6f8\n(cherry picked from commit e4626f4bc32b846ca9b99f954101a7a462675ea5)\n'}]",0,687775,dc9e9e32dfbf9fd9c58f9f8e2b35f0bcfd62328e,12,5,1,8482,,,0,"Add schema placeholders for Train

Change-Id: I73f949f869bd7b87a6a83950befe6d99d690f6f8
(cherry picked from commit e4626f4bc32b846ca9b99f954101a7a462675ea5)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/75/687775/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/contract_repo/versions/067_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/069_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/067_placeholder.py', 'keystone/common/sql/contract_repo/versions/069_placeholder.py', 'keystone/common/sql/contract_repo/versions/070_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/070_placeholder.py', 'keystone/common/sql/expand_repo/versions/068_placeholder.py', 'keystone/common/sql/expand_repo/versions/070_placeholder.py', 'keystone/common/sql/contract_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/071_placeholder.py', 'keystone/common/sql/contract_repo/versions/071_placeholder.py', 'keystone/common/sql/expand_repo/versions/067_placeholder.py', 'keystone/common/sql/expand_repo/versions/069_placeholder.py', 'keystone/common/sql/expand_repo/versions/071_placeholder.py']",15,dc9e9e32dfbf9fd9c58f9f8e2b35f0bcfd62328e,placeholders-stable/train,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for Train backports. Do not use this number for new # Ussuri work. New Ussuri work starts after all the placeholders. def upgrade(migrate_engine): pass ",,270,0
openstack%2Fneutron~stable%2Fstein~I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72,openstack/neutron,stable/stein,I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72,DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table,MERGED,2019-09-30 19:04:47.000000000,2019-10-10 18:27:57.000000000,2019-10-10 18:24:57.000000000,"[{'_account_id': 7016}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-30 19:04:47.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', '.zuul.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/09c4e0e970b02ed992aab762505d17f1decca551', 'message': 'DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table\n\nDVR does the ARP table update through the control plane, and does not\nallow any ARP requests to get out of the node.\n\nIn order to address the allowed address pair VRRP IP issue with DVR,\nwe need to add an ARP entry into the ARP Responder table for the\nallowed address pair IP ( which is taken care by the patch in [1])\n\nThis patch adds a rule in the br-int to redirect the packet\ndestinated to the router to the actual router-port and also moves\nthe arp filtering rule to the tunnel or the physical port based on the\nconfiguration.\n\nBy adding the above rule it allows the ARP requests to reach the\nARP Responder table and filters the ARP requests before it reaches\nthe physical network or the tunnel.\n\n[1] https://review.opendev.org/#/c/601336/\nRelated-Bug: #1774459\n\nChange-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72\n(cherry picked from commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c)\n'}]",0,685779,09c4e0e970b02ed992aab762505d17f1decca551,15,5,1,1131,,,0,"DVR: Modify DVR flows to allow ARP requests to hit ARP Responder table

DVR does the ARP table update through the control plane, and does not
allow any ARP requests to get out of the node.

In order to address the allowed address pair VRRP IP issue with DVR,
we need to add an ARP entry into the ARP Responder table for the
allowed address pair IP ( which is taken care by the patch in [1])

This patch adds a rule in the br-int to redirect the packet
destinated to the router to the actual router-port and also moves
the arp filtering rule to the tunnel or the physical port based on the
configuration.

By adding the above rule it allows the ARP requests to reach the
ARP Responder table and filters the ARP requests before it reaches
the physical network or the tunnel.

[1] https://review.opendev.org/#/c/601336/
Related-Bug: #1774459

Change-Id: I3905ea56ca0ff35bdd96c818719e6d63a3eb5a72
(cherry picked from commit 52b537ca22b2d7d81a84b2f75de577d8dffee94c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/685779/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_dvr_process.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', '.zuul.yaml', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/ovs_bridge_test_base.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/common/constants.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/br_int.py']",7,09c4e0e970b02ed992aab762505d17f1decca551,dvr-remove-arp-update-through-control-plane-stable/stein," def _arp_dvr_dst_mac_match(ofp, ofpp, vlan, dvr_mac): # If eth_dst is equal to the dvr mac of this host, then # flag it as matched. return ofpp.OFPMatch(vlan_vid=vlan | ofp.OFPVID_PRESENT, eth_dst=dvr_mac) @staticmethod def _dvr_dst_mac_table_id(network_type): if network_type == p_const.TYPE_VLAN: return constants.ARP_DVR_MAC_TO_DST_MAC_VLAN else: return constants.ARP_DVR_MAC_TO_DST_MAC def install_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_dst_mac_table_id(network_type) # Match the destination MAC with the DVR MAC (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) # Incoming packet will come with destination MAC of DVR host MAC from # the ARP Responder. The Source MAC in this case will have the source # MAC of the port MAC that responded from the ARP responder. # So just remove the DVR host MAC from the 'eth_dst' and replace it # with the gateway-mac. The packet should end up in the right the table # for the packet to reach the router interface. actions = [ ofpp.OFPActionSetField(eth_dst=gateway_mac), ofpp.OFPActionPopVlan(), ofpp.OFPActionOutput(rtr_port, 0) ] self.install_apply_actions(table_id=table_id, priority=5, match=match, actions=actions) @staticmethod def delete_dvr_dst_mac_for_arp(self, network_type, vlan_tag, gateway_mac, dvr_mac, rtr_port): table_id = self._dvr_to_src_mac_table_id(network_type) (_dp, ofp, ofpp) = self._get_dp() match = self._arp_dvr_dst_mac_match(ofp, ofpp, vlan_tag, dvr_mac) for table in table_id: self.uninstall_flows( strict=True, priority=5, table_id=table, match=match) def add_dvr_gateway_mac_arp_vlan(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC_VLAN) def remove_dvr_gateway_mac_arp_vlan(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) def add_dvr_gateway_mac_arp_tun(self, mac, port): self.install_goto(table_id=constants.LOCAL_SWITCHING, priority=5, in_port=port, eth_dst=mac, dest_table_id=constants.ARP_DVR_MAC_TO_DST_MAC) def remove_dvr_gateway_mac_arp_tun(self, mac, port): self.uninstall_flows(table_id=constants.LOCAL_SWITCHING, eth_dst=mac) ",,124,12
openstack%2Frequirements~stable%2Fstein~Ia032d814598928fd54b8f8afc30a5ec9589ab770,openstack/requirements,stable/stein,Ia032d814598928fd54b8f8afc30a5ec9589ab770,update constraint for oslo.utils to new release 3.40.4,MERGED,2019-10-10 09:19:58.000000000,2019-10-10 18:24:59.000000000,2019-10-10 18:24:59.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 09:19:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/761dc0d6f65aa40571ceda3b44aea4b0cbeb1030', 'message': 'update constraint for oslo.utils to new release 3.40.4\n\nChange-Id: Ia032d814598928fd54b8f8afc30a5ec9589ab770\nmeta:version: 3.40.4\nmeta:diff-start: -\nmeta:series: stein\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta:release:Change-Id: I5cff0ba512362996648b6e739c7edc386e65dd5e\nmeta:release:Code-Review+1: Natal Ngétal <hobbestigrou@erakis.eu>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,687836,761dc0d6f65aa40571ceda3b44aea4b0cbeb1030,7,3,1,11131,,,0,"update constraint for oslo.utils to new release 3.40.4

Change-Id: Ia032d814598928fd54b8f8afc30a5ec9589ab770
meta:version: 3.40.4
meta:diff-start: -
meta:series: stein
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Hervé Beraud <hberaud@redhat.com>
meta:release:Commit: Hervé Beraud <hberaud@redhat.com>
meta:release:Change-Id: I5cff0ba512362996648b6e739c7edc386e65dd5e
meta:release:Code-Review+1: Natal Ngétal <hobbestigrou@erakis.eu>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Tony Breeds <tony@bakeyournoodle.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/36/687836/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,761dc0d6f65aa40571ceda3b44aea4b0cbeb1030,new-release,oslo.utils===3.40.4,oslo.utils===3.40.3,1,1
openstack%2Fbarbican~master~Idf191d79ce7794bbb5238bfed3218c416ceaf9b9,openstack/barbican,master,Idf191d79ce7794bbb5238bfed3218c416ceaf9b9,Create multiple phases to upgrade Barbican database,NEW,2017-06-13 02:49:39.000000000,2019-10-10 18:01:59.000000000,,"[{'_account_id': 3}, {'_account_id': 7973}, {'_account_id': 8623}, {'_account_id': 8871}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 19554}, {'_account_id': 19741}, {'_account_id': 19853}, {'_account_id': 21797}, {'_account_id': 22348}, {'_account_id': 22406}, {'_account_id': 27954}, {'_account_id': 28278}]","[{'number': 1, 'created': '2017-06-13 02:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/70f1a5787b369bafab07be5867ee9e96c6e8561f', 'message': '[WIP] Create multiple phases\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 2, 'created': '2017-06-13 04:49:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/b88e0989db3c57ece97c7aadf83f4456e9fb44da', 'message': '[WIP] Create multiple phases\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 3, 'created': '2017-06-13 07:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fd7d524b8b5472b74c7b883750522c495029e272', 'message': '[WIP] Create multiple phases\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 4, 'created': '2017-06-13 07:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8b1e761addaf1ff8b7fcddf8a5fb9f6eb653e26a', 'message': '[WIP] Create multiple phases\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 5, 'created': '2017-06-13 07:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6faea79b1007afb09079747d8de066c9d301fa0f', 'message': '[WIP] Create multiple phases\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 6, 'created': '2017-06-13 09:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/286d67010dd96ba7d4c19d7d7ea04a8ba1b3446a', 'message': '[WIP] Create multiple phases\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 7, 'created': '2017-06-14 06:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0cb3db590e4859080a6df04dc7622a57c9af9907', 'message': '[WIP] Create multiple phases\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 8, 'created': '2017-06-14 06:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/815fe28da6b5637299b9b99abf332f74b512e074', 'message': '[WIP] Create multiple phases\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 9, 'created': '2017-07-10 07:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/88c13fb88ae33eef8174c23f0e7db2a2be530444', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split three phases:\n- Expand phase is to add columns or tables to database.\n- Migrate phase is to migrate from old schema to new schema.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 10, 'created': '2017-07-26 07:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/5e50feec68561a5adb8c244a000c213aae8ee6ec', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split three phases:\n- Expand phase is to add columns or tables to database.\n- Migrate phase is to migrate from old schema to new schema.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 11, 'created': '2017-08-07 09:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8a9fe6b37f95dac69518f7169e46ec7ee7d3fd6a', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split three phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 12, 'created': '2017-08-16 02:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/740dc43477d9335a238ebfe0022366c223e729c6', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split three phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 13, 'created': '2018-01-18 08:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fd0c65d56343573b56f85b8679319a3b99af203f', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split three phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 14, 'created': '2018-01-18 10:27:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4658413473f7fcd9a6e0989d0605e84009431a6d', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split three phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 15, 'created': '2018-01-24 07:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/db644c5aa7b86be9a752423c733ca59f863ee1d5', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split three phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 16, 'created': '2018-01-30 04:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0a16f9f8210f571c08787e78a8b8ce80cfe1faf4', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split three phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 17, 'created': '2018-01-30 04:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/2413127c7c8a1bee604440e4a23a8d63458a92fe', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split three phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 18, 'created': '2018-02-01 01:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/ec86b119c8531008bc1ece360cf2a19b5c34d56e', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split two phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 19, 'created': '2018-02-07 05:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4fb7f9b48457609a3111fd5bddf47888fc3d8bac', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split two phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nDepends-On: If71aa70dc696c98842e0780e82e2281ee2bd0fa5\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 20, 'created': '2018-02-07 06:48:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/6e253ec40e8325004572e404616c4f358d8fa943', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split two phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nDepends-On: https://review.openstack.org/541528\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 21, 'created': '2018-02-10 13:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/cb7ecd9c6d9e6eaad333763c31e847486a232673', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split two phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nDepends-On: https://review.openstack.org/541528\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 22, 'created': '2018-02-23 01:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/8a30f750c1e48ea7df5def887da65e52389d9602', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split two phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 23, 'created': '2018-06-07 07:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/0feb35b2050a79d906e58490f01cff76ff06a170', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split two phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nPartial-Implements: blueprint rolling-upgrade\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 24, 'created': '2018-06-18 07:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/deaccb918a32f366efeb39e6c2dda9e72044bdff', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split two phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nPartial-Implements: blueprint rolling-upgrade\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 25, 'created': '2018-07-09 09:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/912b302aa31e2a693b9cf7f1f770bf909c35886a', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split two phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nPartial-Implements: blueprint rolling-upgrade\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}, {'number': 26, 'created': '2019-10-03 14:21:20.000000000', 'files': ['doc/source/admin/barbican_manage.rst', 'barbican/model/migration/alembic_migrations/versions/contract/f83b9f8c8ed0_initial_contract_phase.py', 'barbican/model/migration/alembic_migrations/script.py.mako', 'doc/source/install/common_configure.rst', 'barbican/cmd/db_manage.py', 'barbican/model/migration/commands.py', 'barbican/cmd/barbican_manage.py', 'barbican/model/migration/alembic_migrations/versions/expand/520611dc8658_initial_expand_phase.py', 'barbican/model/migration/alembic.ini', 'barbican/tests/cmd/test_barbican_manage.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/ee6919fcae2a446436c3d98b9a5401c189940f6b', 'message': 'Create multiple phases to upgrade Barbican database\n\nCurrenlty, there is only one phase for Barbican\nupgrading database. It is not suitable for Rolling\nupgrade feature.\n\nWe need to split two phases:\n- Expand phase is to add columns or tables to database.\n- Contract phase is delete columns or tables.\n\nPartial-Implements: blueprint rolling-upgrade\nChange-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9\n'}]",18,473658,ee6919fcae2a446436c3d98b9a5401c189940f6b,97,15,26,19554,,,0,"Create multiple phases to upgrade Barbican database

Currenlty, there is only one phase for Barbican
upgrading database. It is not suitable for Rolling
upgrade feature.

We need to split two phases:
- Expand phase is to add columns or tables to database.
- Contract phase is delete columns or tables.

Partial-Implements: blueprint rolling-upgrade
Change-Id: Idf191d79ce7794bbb5238bfed3218c416ceaf9b9
",git fetch https://review.opendev.org/openstack/barbican refs/changes/58/473658/3 && git format-patch -1 --stdout FETCH_HEAD,"['barbican/model/migration/alembic_migrations/README', 'barbican/model/migration/alembic_migrations/versions/contract/f83b9f8c8ed0_initial_contract_phase.py', 'barbican/model/migration/alembic_migrations/script.py.mako', 'barbican/cmd/db_manage.py', 'barbican/model/migration/alembic_migrations/env.py', 'barbican/model/migration/commands.py', 'barbican/model/migration/alembic_migrations/versions/expand/520611dc8658_initial_expand_phase.py', 'barbican/model/migration/alembic.ini']",8,70f1a5787b369bafab07be5867ee9e96c6e8561f,split_multiple_phases,version_locations = %(here)s/bar %(here)s/bat alembic_migrations/versions alembic_migrations/versions/expand alembic_migrations/versions/contract,,158,8
openstack%2Fsahara~master~I5571ac5e578f98465737373598b358aa7dab93e0,openstack/sahara,master,I5571ac5e578f98465737373598b358aa7dab93e0,"grenade: start from train, disable heat integration tests",MERGED,2019-10-09 22:49:52.000000000,2019-10-10 17:37:14.000000000,2019-10-10 17:35:40.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-09 22:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/88a5a28c9624cae3f4d660cbcb2e12aada2b1555', 'message': 'grenade: really disable heat integration tests\n\nThey are really flaky, they takes more time and they should be\ntested by heat.\n\nChange-Id: I5571ac5e578f98465737373598b358aa7dab93e0\n'}, {'number': 2, 'created': '2019-10-09 22:52:18.000000000', 'files': ['playbooks/sahara-grenade/run.yaml', 'devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/sahara/commit/810d94bfbb1ffa0c68949c3180dadfab333fb4cd', 'message': 'grenade: start from train, disable heat integration tests\n\n- set the starting point as train (to be adapted in the\n  backports of this patch);\n- heat tests should have been disabled already here;\n  they are really flaky, they takes more time and they should be\n  tested by heat.\n\nChange-Id: I5571ac5e578f98465737373598b358aa7dab93e0\n'}]",0,687693,810d94bfbb1ffa0c68949c3180dadfab333fb4cd,10,4,2,10459,,,0,"grenade: start from train, disable heat integration tests

- set the starting point as train (to be adapted in the
  backports of this patch);
- heat tests should have been disabled already here;
  they are really flaky, they takes more time and they should be
  tested by heat.

Change-Id: I5571ac5e578f98465737373598b358aa7dab93e0
",git fetch https://review.opendev.org/openstack/sahara refs/changes/93/687693/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/sahara-grenade/run.yaml'],1,88a5a28c9624cae3f4d660cbcb2e12aada2b1555,really-disable-heat-tests, RUN_HEAT_INTEGRATION_TESTS=False, export RUN_HEAT_INTEGRATION_TESTS=False,1,1
openstack%2Fpuppet-sahara~stable%2Ftrain~I65d51ade3ebeccd3b0759c163f7f280ea41c64d2,openstack/puppet-sahara,stable/train,I65d51ade3ebeccd3b0759c163f7f280ea41c64d2,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:36:06.000000000,2019-10-10 17:35:44.000000000,2019-10-10 17:33:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:36:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/12fc21c8e1c4e81a73bdeb0a3e7e314bdbe66066', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I65d51ade3ebeccd3b0759c163f7f280ea41c64d2\n'}]",0,686698,12fc21c8e1c4e81a73bdeb0a3e7e314bdbe66066,10,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I65d51ade3ebeccd3b0759c163f7f280ea41c64d2
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/98/686698/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,12fc21c8e1c4e81a73bdeb0a3e7e314bdbe66066,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpuppet-sahara~stable%2Ftrain~Ibff1f33d0ff0e2286de6d743afb9add88e6c3e06,openstack/puppet-sahara,stable/train,Ibff1f33d0ff0e2286de6d743afb9add88e6c3e06,Update .gitreview for stable/train,MERGED,2019-10-04 13:36:01.000000000,2019-10-10 17:33:32.000000000,2019-10-10 17:33:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:36:01.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/c09336e01d4adcce860caa81aa0617249435ff3b', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ibff1f33d0ff0e2286de6d743afb9add88e6c3e06\n'}]",0,686697,c09336e01d4adcce860caa81aa0617249435ff3b,11,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ibff1f33d0ff0e2286de6d743afb9add88e6c3e06
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/97/686697/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c09336e01d4adcce860caa81aa0617249435ff3b,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpuppet-tempest~stable%2Ftrain~Ib75bccf9c824cf56ad82e5162476d5e4466aab51,openstack/puppet-tempest,stable/train,Ib75bccf9c824cf56ad82e5162476d5e4466aab51,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:37:49.000000000,2019-10-10 17:32:50.000000000,2019-10-10 17:31:35.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:37:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/e1bf6228c7ea581cfb24cb7d583f457503941c61', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib75bccf9c824cf56ad82e5162476d5e4466aab51\n'}]",0,686707,e1bf6228c7ea581cfb24cb7d583f457503941c61,10,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib75bccf9c824cf56ad82e5162476d5e4466aab51
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/07/686707/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e1bf6228c7ea581cfb24cb7d583f457503941c61,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fmanila~stable%2Frocky~I4750d28c8acfe6d68a91e129e767c6e8607e6a75,openstack/manila,stable/rocky,I4750d28c8acfe6d68a91e129e767c6e8607e6a75,Check NetApp SnapRestore license for pools,MERGED,2019-10-02 18:12:24.000000000,2019-10-10 17:32:08.000000000,2019-10-09 14:41:13.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 17130}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 29831}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-10-02 18:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/2df66d9b08fe8ee905b638b5bd90f1abadbe1754', 'message': 'Check NetApp SnapRestore license for pools\n\nAdded check to validate SnapRestore license for\nNetApp ONTAP pools before setting revert_to_snapshot_support\nto true/false for the respective pool.\nThis was always set to True before.\n\nChange-Id: I4750d28c8acfe6d68a91e129e767c6e8607e6a75\nCloses-Bug: #1678524\n(cherry picked from commit 9e39a138fbe8c0546898543de8c007238caf0ef0)\n'}, {'number': 2, 'created': '2019-10-03 00:28:08.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1678524-check-snaprestore-license-for-snapshot-revert-6d32afdc5d0b2b51.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/62996ad8f663e45758227b927058d80bab3758df', 'message': 'Check NetApp SnapRestore license for pools\n\nAdded check to validate SnapRestore license for\nNetApp ONTAP pools before setting revert_to_snapshot_support\nto true/false for the respective pool.\nThis was always set to True before.\n\nChange-Id: I4750d28c8acfe6d68a91e129e767c6e8607e6a75\nCloses-Bug: #1678524\n(cherry picked from commit f333b88e2521c8a1fecb88206cfb08046957346f)\n(cherry picked from commit 9e39a138fbe8c0546898543de8c007238caf0ef0)\n'}]",2,686231,62996ad8f663e45758227b927058d80bab3758df,29,8,2,30002,,,0,"Check NetApp SnapRestore license for pools

Added check to validate SnapRestore license for
NetApp ONTAP pools before setting revert_to_snapshot_support
to true/false for the respective pool.
This was always set to True before.

Change-Id: I4750d28c8acfe6d68a91e129e767c6e8607e6a75
Closes-Bug: #1678524
(cherry picked from commit f333b88e2521c8a1fecb88206cfb08046957346f)
(cherry picked from commit 9e39a138fbe8c0546898543de8c007238caf0ef0)
",git fetch https://review.opendev.org/openstack/manila refs/changes/31/686231/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'releasenotes/notes/bug-1678524-check-snaprestore-license-for-snapshot-revert-6d32afdc5d0b2b51.yaml', 'manila/tests/share/drivers/netapp/dataontap/cluster_mode/test_lib_base.py']",3,2df66d9b08fe8ee905b638b5bd90f1abadbe1754,bug/1678524," def test_check_snaprestore_license_notfound(self): licenses = list(fake.LICENSES) licenses.remove('snaprestore') self.mock_object(self.client, 'get_licenses', mock.Mock(return_value=licenses)) result = self.library._check_snaprestore_license() self.assertIs(False, result) def test_check_snaprestore_license_found(self): self.mock_object(self.client, 'get_licenses', mock.Mock(return_value=fake.LICENSES)) result = self.library._check_snaprestore_license() self.assertIs(True, result) self.mock_object(self.library, '_check_snaprestore_license', mock.Mock(return_value=True)) self.mock_object(self.library, '_check_snaprestore_license', mock.Mock(return_value=True))",,38,1
openstack%2Fpuppet-tempest~stable%2Ftrain~Ibfba458f6c3c3cfb241e1fd294a66dc22a47d058,openstack/puppet-tempest,stable/train,Ibfba458f6c3c3cfb241e1fd294a66dc22a47d058,Update .gitreview for stable/train,MERGED,2019-10-04 13:37:44.000000000,2019-10-10 17:26:39.000000000,2019-10-10 17:26:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:37:44.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/84e2b4d9f1a56d767dc1a1872ace992f7dbb176f', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ibfba458f6c3c3cfb241e1fd294a66dc22a47d058\n'}]",0,686706,84e2b4d9f1a56d767dc1a1872ace992f7dbb176f,11,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ibfba458f6c3c3cfb241e1fd294a66dc22a47d058
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/06/686706/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,84e2b4d9f1a56d767dc1a1872ace992f7dbb176f,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpuppet-openstack_extras~stable%2Ftrain~Iddc7c61f1482df72af6746061a4f92a5798ae77b,openstack/puppet-openstack_extras,stable/train,Iddc7c61f1482df72af6746061a4f92a5798ae77b,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:33:22.000000000,2019-10-10 17:17:57.000000000,2019-10-10 17:16:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:33:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/51a30bb3fd21a3e6374c40f4fa9b393abec2647d', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Iddc7c61f1482df72af6746061a4f92a5798ae77b\n'}]",0,686683,51a30bb3fd21a3e6374c40f4fa9b393abec2647d,10,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Iddc7c61f1482df72af6746061a4f92a5798ae77b
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/83/686683/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,51a30bb3fd21a3e6374c40f4fa9b393abec2647d,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Freleases~master~I72ddf92837bfd99beb4279afabf57bb84c7792fe,openstack/releases,master,I72ddf92837bfd99beb4279afabf57bb84c7792fe,Release puppet-designate 15.5.0 for Train,MERGED,2019-10-08 15:39:42.000000000,2019-10-10 17:15:25.000000000,2019-10-10 17:15:25.000000000,"[{'_account_id': 308}, {'_account_id': 9414}, {'_account_id': 11904}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 15:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/14e8181fe5989b4ec07f1ba6898c17d046a98a7f', 'message': 'Release puppet-designate 15.5.0 for Train\n\nWe need to release 15.5.0 instead of 15.4.0\nfor Train because we had broken code in that\nrelease since Designate has removed the\npool-manager [1].\n\nWe fixed our testing in [2] and deprecated\nthat code and added a release note in [3].\n\nSee the release patch that updates the\nmetadata [4] which holds the complete\npatch chain.\n\n[1] https://docs.openstack.org/releasenotes/designate/train.html\n[2] https://review.opendev.org/#/c/687247/\n[3] https://review.opendev.org/#/c/687333/\n[4] https://review.opendev.org/#/c/687334\n\nChange-Id: I72ddf92837bfd99beb4279afabf57bb84c7792fe\n'}, {'number': 2, 'created': '2019-10-08 15:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/92c8348789d41ecfec965be49995b900f2146f14', 'message': 'Release puppet-designate 15.5.0 for Train\n\nWe need to release 15.5.0 instead of 15.4.0\nfor Train because we had broken code in that\nrelease since Designate has removed the\npool-manager [1].\n\nWe fixed our testing in [2] and deprecated\nthat code and added a release note in [3].\n\nSee the release patch that updates the\nmetadata [4] which holds the complete\npatch chain.\n\n[1] https://docs.openstack.org/releasenotes/designate/train.html\n[2] https://review.opendev.org/#/c/687247/\n[3] https://review.opendev.org/#/c/687333/\n[4] https://review.opendev.org/#/c/687334\n\nDepends-On: https://review.opendev.org/#/c/687334\nChange-Id: I72ddf92837bfd99beb4279afabf57bb84c7792fe\n'}, {'number': 3, 'created': '2019-10-10 11:39:26.000000000', 'files': ['deliverables/train/puppet-designate.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1bccfc6df87df12a0ea0a29f374261d054da71c5', 'message': 'Release puppet-designate 15.5.0 for Train\n\nWe need to release 15.5.0 instead of 15.4.0\nfor Train because we had broken code in that\nrelease since Designate has removed the\npool-manager [1].\n\nWe fixed our testing in [2] and deprecated\nthat code and added a release note in [3].\n\nSee the release patch that updates the\nmetadata [4] which holds the complete\npatch chain.\n\n[1] https://docs.openstack.org/releasenotes/designate/train.html\n[2] https://review.opendev.org/#/c/687247/\n[3] https://review.opendev.org/#/c/687333/\n[4] https://review.opendev.org/#/c/687334\n\nDepends-On: https://review.opendev.org/#/c/687334\nChange-Id: I72ddf92837bfd99beb4279afabf57bb84c7792fe\n'}]",1,687337,1bccfc6df87df12a0ea0a29f374261d054da71c5,15,5,3,16137,,,0,"Release puppet-designate 15.5.0 for Train

We need to release 15.5.0 instead of 15.4.0
for Train because we had broken code in that
release since Designate has removed the
pool-manager [1].

We fixed our testing in [2] and deprecated
that code and added a release note in [3].

See the release patch that updates the
metadata [4] which holds the complete
patch chain.

[1] https://docs.openstack.org/releasenotes/designate/train.html
[2] https://review.opendev.org/#/c/687247/
[3] https://review.opendev.org/#/c/687333/
[4] https://review.opendev.org/#/c/687334

Depends-On: https://review.opendev.org/#/c/687334
Change-Id: I72ddf92837bfd99beb4279afabf57bb84c7792fe
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/687337/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/puppet-designate.yaml'],1,14e8181fe5989b4ec07f1ba6898c17d046a98a7f,puppet-openstack, - version: 15.5.0 projects: - repo: openstack/puppet-designate hash: 897a90d0d74904514700f2f92e8a48e3eb57c3d6,,4,0
openstack%2Fpuppet-ec2api~stable%2Ftrain~If28a8cf1db992c5c02df83b4244600780945aceb,openstack/puppet-ec2api,stable/train,If28a8cf1db992c5c02df83b4244600780945aceb,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:24:51.000000000,2019-10-10 17:05:58.000000000,2019-10-10 17:04:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:24:51.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/0b89de3849305b6a489bd56c40ca12261e1c6f81', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: If28a8cf1db992c5c02df83b4244600780945aceb\n'}]",0,686639,0b89de3849305b6a489bd56c40ca12261e1c6f81,14,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: If28a8cf1db992c5c02df83b4244600780945aceb
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/39/686639/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0b89de3849305b6a489bd56c40ca12261e1c6f81,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpuppet-openstack_extras~stable%2Ftrain~Ia08f300d24e97b983a5e3c05961ed46c3340a5ad,openstack/puppet-openstack_extras,stable/train,Ia08f300d24e97b983a5e3c05961ed46c3340a5ad,Update .gitreview for stable/train,MERGED,2019-10-04 13:33:17.000000000,2019-10-10 17:05:13.000000000,2019-10-10 17:05:13.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:33:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/71157b1ca5ea61d05a8c27c3aefa9bfdc22fddb8', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ia08f300d24e97b983a5e3c05961ed46c3340a5ad\n'}]",0,686682,71157b1ca5ea61d05a8c27c3aefa9bfdc22fddb8,11,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ia08f300d24e97b983a5e3c05961ed46c3340a5ad
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/82/686682/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,71157b1ca5ea61d05a8c27c3aefa9bfdc22fddb8,create-train,defaultbranch=stable/train,,1,0
openstack%2Fhorizon~stable%2Fstein~If093f4ecf1e344792b347c5c338b441b1ab42a04,openstack/horizon,stable/stein,If093f4ecf1e344792b347c5c338b441b1ab42a04,Remove the check which causes plugin's quotas update failure,MERGED,2019-10-01 16:35:26.000000000,2019-10-10 17:01:18.000000000,2019-10-09 10:20:10.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6413}, {'_account_id': 6825}, {'_account_id': 7102}, {'_account_id': 8648}, {'_account_id': 11880}, {'_account_id': 12156}, {'_account_id': 14892}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 27861}, {'_account_id': 27897}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-01 16:35:26.000000000', 'files': ['openstack_dashboard/usage/quotas.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/be4d2301bb9654a772990d5d6f7bb2b126c7c127', 'message': ""Remove the check which causes plugin's quotas update failure\n\nThe check causes external plugin's quotas fields unknown\nexception because the quotas fields are not part of\nQUOTA_FIELDS which only includes the fields for\ncinder, neutron and nova.\n\nMeanwhile the exception message throws TypeError.\n\nThis commit removes the uncessary check. It also helps\nfix the manila-ui's bug #1842119\n\nChange-Id: If093f4ecf1e344792b347c5c338b441b1ab42a04\nCloses-bug: #1798048\nCloses-bug: #1842119\n(cherry picked from commit 44987f02be671fd81b3dcd8d22f9fa1b219488c2)\n""}]",0,686005,be4d2301bb9654a772990d5d6f7bb2b126c7c127,14,14,1,11880,,,0,"Remove the check which causes plugin's quotas update failure

The check causes external plugin's quotas fields unknown
exception because the quotas fields are not part of
QUOTA_FIELDS which only includes the fields for
cinder, neutron and nova.

Meanwhile the exception message throws TypeError.

This commit removes the uncessary check. It also helps
fix the manila-ui's bug #1842119

Change-Id: If093f4ecf1e344792b347c5c338b441b1ab42a04
Closes-bug: #1798048
Closes-bug: #1842119
(cherry picked from commit 44987f02be671fd81b3dcd8d22f9fa1b219488c2)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/05/686005/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/usage/quotas.py'],1,be4d2301bb9654a772990d5d6f7bb2b126c7c127,bug/1798048-stable/stein,, if set(targets) - QUOTA_FIELDS: raise ValueError('Unknown quota field names are included: %s' % set(targets) - QUOTA_FIELDS),0,3
openstack%2Fopenstack-ansible-galera_server~master~Id15d75c8339b253b516fe5d7ce7fc95a812237ef,openstack/openstack-ansible-galera_server,master,Id15d75c8339b253b516fe5d7ce7fc95a812237ef,Bump galera version to 10.3.18,MERGED,2019-10-09 06:10:23.000000000,2019-10-10 16:55:05.000000000,2019-10-10 16:53:58.000000000,"[{'_account_id': 13095}, {'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 06:10:23.000000000', 'files': ['vars/debian.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/73ce6a8c9a226c1ff96bf1a7afed6dbaf976c67a', 'message': 'Bump galera version to 10.3.18\n\nChange-Id: Id15d75c8339b253b516fe5d7ce7fc95a812237ef\n'}]",0,687454,73ce6a8c9a226c1ff96bf1a7afed6dbaf976c67a,8,3,1,25023,,,0,"Bump galera version to 10.3.18

Change-Id: Id15d75c8339b253b516fe5d7ce7fc95a812237ef
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/54/687454/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian.yml', 'defaults/main.yml']",2,73ce6a8c9a226c1ff96bf1a7afed6dbaf976c67a,,galera_minor_version: 18,galera_minor_version: 13,2,2
openstack%2Fpuppet-vitrage~stable%2Ftrain~I3749f6ef9215ed27d8571ac44a7dd029381d3813,openstack/puppet-vitrage,stable/train,I3749f6ef9215ed27d8571ac44a7dd029381d3813,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:38:55.000000000,2019-10-10 16:54:05.000000000,2019-10-10 16:52:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:38:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/7fd883f54f781d2b9e21cc7ce1c7743a7dbb43d5', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I3749f6ef9215ed27d8571ac44a7dd029381d3813\n'}]",0,686713,7fd883f54f781d2b9e21cc7ce1c7743a7dbb43d5,14,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I3749f6ef9215ed27d8571ac44a7dd029381d3813
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/13/686713/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7fd883f54f781d2b9e21cc7ce1c7743a7dbb43d5,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fautomaton~master~I65f1bdda8e0dc87fe431e84642606a5560a093d2,openstack/automaton,master,I65f1bdda8e0dc87fe431e84642606a5560a093d2,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-09 08:08:11.000000000,2019-10-10 16:25:32.000000000,2019-10-10 16:23:57.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-09 08:08:11.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/automaton/commit/3d573d118d4c0c5c4dfbc4c2fd9b64f6a65a27b9', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I65f1bdda8e0dc87fe431e84642606a5560a093d2\n'}]",0,687473,3d573d118d4c0c5c4dfbc4c2fd9b64f6a65a27b9,9,4,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I65f1bdda8e0dc87fe431e84642606a5560a093d2
",git fetch https://review.opendev.org/openstack/automaton refs/changes/73/687473/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,3d573d118d4c0c5c4dfbc4c2fd9b64f6a65a27b9,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fopenstack-ansible-tests~master~I7c41f560251e16256a5d109fddedee189eb12664,openstack/openstack-ansible-tests,master,I7c41f560251e16256a5d109fddedee189eb12664,Temporary overwrite of the infra mirror for debian security repo,MERGED,2019-10-07 19:27:52.000000000,2019-10-10 16:18:29.000000000,2019-10-08 13:20:35.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-07 19:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/dcc26c90a71a4947ec529cdc4370525703fb13de', 'message': 'Temporary overwrite of the infra mirror for debian security repo\n\nChange-Id: I7c41f560251e16256a5d109fddedee189eb12664\n'}, {'number': 2, 'created': '2019-10-08 07:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/f4d74c275d95e2691d12840b83aaea2aa422070e', 'message': 'Temporary overwrite of the infra mirror for debian security repo\n\nChange-Id: I7c41f560251e16256a5d109fddedee189eb12664\n'}, {'number': 3, 'created': '2019-10-08 09:14:26.000000000', 'files': ['run_tests_common.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/26a329d79f111090e17fb868e550a580bbd304af', 'message': 'Temporary overwrite of the infra mirror for debian security repo\n\nChange-Id: I7c41f560251e16256a5d109fddedee189eb12664\n'}]",0,687142,26a329d79f111090e17fb868e550a580bbd304af,13,3,3,25023,,,0,"Temporary overwrite of the infra mirror for debian security repo

Change-Id: I7c41f560251e16256a5d109fddedee189eb12664
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/42/687142/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests_common.sh'],1,dcc26c90a71a4947ec529cdc4370525703fb13de,," # NOTE(jrosser) remove this once infra debian images point to the upstream security repo if `/bin/grep -q ""stretch"" /etc/os-release` && [ -f ""/etc/apt/sources.list.d/security.list"" ]; then echo ""deb http://security.debian.org stretch/updates main contrib"" > /etc/apt/sources.list.d/security.list fi",,4,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I8effea96a4428281b5a5dfa9711bb602fdbdc705,openstack/tripleo-heat-templates,stable/rocky,I8effea96a4428281b5a5dfa9711bb602fdbdc705,Fix Manila when run without pacemaker,MERGED,2019-10-09 21:03:41.000000000,2019-10-10 16:14:45.000000000,2019-10-10 16:12:50.000000000,"[{'_account_id': 6796}, {'_account_id': 7144}, {'_account_id': 9003}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 21:03:41.000000000', 'files': ['docker/services/manila-share.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24d1d91d8c426f81b5a1ea1e63781b58ae6d9304', 'message': 'Fix Manila when run without pacemaker\n\nThe supported path is to run the manila-share service\nunder control of pacemaker using container bundles started\nin Step5.  However, it is useful for test and POC purposes\nto be able to run the manila-share service without pacemaker\ncontrol as a regular container started in Step4.\n\nThis change fixes the non-pacemaker deployment path, which runs\nmanila-share in Step4 rather than Step5, so that it uses the same\nprivileges for the manila-share container as are used for the\npacemaker-controlled container-bundle in Step5.\n\nHowever. we do not change scenario004 to deploy manila using the\nnon-pacemaker path since in CI we want to test the path that is\nsupported for customers.\n\nChange-Id: I8effea96a4428281b5a5dfa9711bb602fdbdc705\nRelated-Bug: #1841941\n(cherry picked from commit cff553c7e651aef769ef0ef7f0fc5e9757467cce)\n(cherry picked from commit 68a4e125bbd02e7ae5f695045c64201e4a7b5c83)\n'}]",0,687674,24d1d91d8c426f81b5a1ea1e63781b58ae6d9304,12,6,1,9003,,,0,"Fix Manila when run without pacemaker

The supported path is to run the manila-share service
under control of pacemaker using container bundles started
in Step5.  However, it is useful for test and POC purposes
to be able to run the manila-share service without pacemaker
control as a regular container started in Step4.

This change fixes the non-pacemaker deployment path, which runs
manila-share in Step4 rather than Step5, so that it uses the same
privileges for the manila-share container as are used for the
pacemaker-controlled container-bundle in Step5.

However. we do not change scenario004 to deploy manila using the
non-pacemaker path since in CI we want to test the path that is
supported for customers.

Change-Id: I8effea96a4428281b5a5dfa9711bb602fdbdc705
Related-Bug: #1841941
(cherry picked from commit cff553c7e651aef769ef0ef7f0fc5e9757467cce)
(cherry picked from commit 68a4e125bbd02e7ae5f695045c64201e4a7b5c83)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/687674/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/manila-share.yaml'],1,24d1d91d8c426f81b5a1ea1e63781b58ae6d9304,bug/1841941, - path: /var/lib/manila owner: manila:manila recurse: true ipc: host user: root,,5,0
openstack%2Fpuppet-placement~stable%2Ftrain~Iaccb7e77c2908d66bb3f6360f1044cf28cb5567f,openstack/puppet-placement,stable/train,Iaccb7e77c2908d66bb3f6360f1044cf28cb5567f,Update .gitreview for stable/train,MERGED,2019-10-07 13:34:48.000000000,2019-10-10 15:59:55.000000000,2019-10-10 15:59:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:34:48.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/ec1f3a69d06c97cae0b4472f83f32d2f6261a018', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Iaccb7e77c2908d66bb3f6360f1044cf28cb5567f\n'}]",0,687041,ec1f3a69d06c97cae0b4472f83f32d2f6261a018,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Iaccb7e77c2908d66bb3f6360f1044cf28cb5567f
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/41/687041/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ec1f3a69d06c97cae0b4472f83f32d2f6261a018,create-train,defaultbranch=stable/train,,1,0
openstack%2Freleases~master~I3dcb70e6732a11b0870f8cd00f4a8221a9da9dca,openstack/releases,master,I3dcb70e6732a11b0870f8cd00f4a8221a9da9dca,Release RC-2 for Murano,ABANDONED,2019-10-10 00:59:13.000000000,2019-10-10 15:54:39.000000000,,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 00:59:13.000000000', 'files': ['deliverables/train/murano.yaml', 'deliverables/train/murano-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9309b77a2a0bc0c4efc48c9e0d81a877c9327ab1', 'message': 'Release RC-2 for Murano\n\nChange-Id: I3dcb70e6732a11b0870f8cd00f4a8221a9da9dca\n'}]",0,687757,9309b77a2a0bc0c4efc48c9e0d81a877c9327ab1,5,3,1,14107,,,0,"Release RC-2 for Murano

Change-Id: I3dcb70e6732a11b0870f8cd00f4a8221a9da9dca
",git fetch https://review.opendev.org/openstack/releases refs/changes/57/687757/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/murano.yaml', 'deliverables/train/murano-agent.yaml']",2,9309b77a2a0bc0c4efc48c9e0d81a877c9327ab1,, - version: 4.0.0.0rc2 projects: - repo: openstack/murano-agent hash: f88dad6371dfe4f7b0e1f680467098946054a312,,8,0
openstack%2Ftripleo-heat-templates~master~I67e0a321fe2c77e54966cd9b70be56a489dd2007,openstack/tripleo-heat-templates,master,I67e0a321fe2c77e54966cd9b70be56a489dd2007,Remove all old pcmklatest images,ABANDONED,2019-10-09 15:54:53.000000000,2019-10-10 15:52:51.000000000,,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 8042}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-09 15:54:53.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5d830b5ac7266d68d665df36e940519d05e7d4ab', 'message': 'Remove all old pcmklatest images\n\nAn operator may make a mistake when importing images, resulting\nin more than one image being present. This may happen, for example,\nif an image is imported from one source, then another.\n\nTo ensure that all old images are deleted, and to prevent a failure\nin the command executing the deletion if there is more than one\nresult when listing the images, we process the deletion in a loop\nper stdout line.\n\nChange-Id: I67e0a321fe2c77e54966cd9b70be56a489dd2007\nCloses: rhbz#1727173\n'}]",9,687605,5d830b5ac7266d68d665df36e940519d05e7d4ab,14,6,1,6816,,,0,"Remove all old pcmklatest images

An operator may make a mistake when importing images, resulting
in more than one image being present. This may happen, for example,
if an image is imported from one source, then another.

To ensure that all old images are deleted, and to prevent a failure
in the command executing the deletion if there is more than one
result when listing the images, we process the deletion in a loop
per stdout line.

Change-Id: I67e0a321fe2c77e54966cd9b70be56a489dd2007
Closes: rhbz#1727173
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/687605/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",10,5d830b5ac7266d68d665df36e940519d05e7d4ab,," shell: ""{{container_cli}} rmi -f {{ item }}"" with_items: ""{{ old_rabbitmq_image_id.stdout_lines }}"""," shell: ""{{container_cli}} rmi -f {{old_rabbitmq_image_id.stdout}}""",20,10
openstack%2Fnetworking-bagpipe~master~I35c00d1e25e3c8abc4027219b0b3b3d34a480339,openstack/networking-bagpipe,master,I35c00d1e25e3c8abc4027219b0b3b3d34a480339,use callback payloads for AGENT OVS_RESTARTED events,MERGED,2019-02-12 19:09:56.000000000,2019-10-10 15:48:29.000000000,2019-10-10 15:46:35.000000000,"[{'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 12021}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-12 19:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/3600d85486cead41d520731c28d2033b90664997', 'message': 'use callback payloads for AGENT OVS_RESTARTED events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor AGENT OVS_RESTARTED events. In addition it updates the unit tests to\nalso use payloads for OVS_RESTARTED based events as needed.\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nDepends-On: https://review.openstack.org/#/c/636421/\nChange-Id: I35c00d1e25e3c8abc4027219b0b3b3d34a480339\n'}, {'number': 2, 'created': '2019-02-14 14:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/35079d930971cbf8a51fd314ba13ab1faa38df36', 'message': 'use callback payloads for AGENT OVS_RESTARTED events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor AGENT OVS_RESTARTED events. In addition it updates the unit tests to\nalso use payloads for OVS_RESTARTED based events as needed.\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nDepends-On: https://review.openstack.org/#/c/636421/\nChange-Id: I35c00d1e25e3c8abc4027219b0b3b3d34a480339\n'}, {'number': 3, 'created': '2019-10-10 12:39:51.000000000', 'files': ['networking_bagpipe/agent/bgpvpn/agent_extension.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/1fabbc010fe0e14ea69da94e5e2cfd94bf72bd00', 'message': 'use callback payloads for AGENT OVS_RESTARTED events\n\nThis patch switches the code over to the payload style of callbacks [1]\nfor AGENT OVS_RESTARTED events. In addition it updates the unit tests to\nalso use payloads for OVS_RESTARTED based events as needed.\n\n[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html\n\nDepends-On: https://review.openstack.org/#/c/636421/\nChange-Id: I35c00d1e25e3c8abc4027219b0b3b3d34a480339\n'}]",0,636422,1fabbc010fe0e14ea69da94e5e2cfd94bf72bd00,44,5,3,5367,,,0,"use callback payloads for AGENT OVS_RESTARTED events

This patch switches the code over to the payload style of callbacks [1]
for AGENT OVS_RESTARTED events. In addition it updates the unit tests to
also use payloads for OVS_RESTARTED based events as needed.

[1] https://docs.openstack.org/neutron-lib/latest/contributor/callbacks.html

Depends-On: https://review.openstack.org/#/c/636421/
Change-Id: I35c00d1e25e3c8abc4027219b0b3b3d34a480339
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/22/636422/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/agent/bgpvpn/agent_extension.py'],1,3600d85486cead41d520731c28d2033b90664997,use-callback-payloads," def ovs_restarted(self, resources, event, trigger, payload=None):"," def ovs_restarted(self, resources, event, trigger):",1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I931fe0cb4209e0859e3918f3365e0354dddb30eb,openstack/tripleo-heat-templates,stable/stein,I931fe0cb4209e0859e3918f3365e0354dddb30eb,Allow using registry authentication to pull ceph related containers,ABANDONED,2019-10-10 10:49:35.000000000,2019-10-10 15:47:54.000000000,,"[{'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-10 10:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3380af4c86ecaaf519867ec1d8adf1da1d35a76f', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I931fe0cb4209e0859e3918f3365e0354dddb30eb\n'}, {'number': 2, 'created': '2019-10-10 12:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/900535d9f6fc33c791e245a5d4341fd9f01152b1', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I931fe0cb4209e0859e3918f3365e0354dddb30eb\n'}, {'number': 3, 'created': '2019-10-10 13:46:33.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e993873881013d57cf2bcc26e45ab70910dead9', 'message': 'Allow using registry authentication to pull ceph related containers\n\nCeph ansible now supports authenticated registry and allows users to\npass and process the required parameters (username/password) when the\nCephAuthRegistry boolean is true.\nThis review reflects this change in tripleo adding these new parameters\nand pass them to ceph-ansible.\n\nChange-Id: I931fe0cb4209e0859e3918f3365e0354dddb30eb\n'}]",3,687854,0e993873881013d57cf2bcc26e45ab70910dead9,7,4,3,25402,,,0,"Allow using registry authentication to pull ceph related containers

Ceph ansible now supports authenticated registry and allows users to
pass and process the required parameters (username/password) when the
CephAuthRegistry boolean is true.
This review reflects this change in tripleo adding these new parameters
and pass them to ceph-ansible.

Change-Id: I931fe0cb4209e0859e3918f3365e0354dddb30eb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/54/687854/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,3380af4c86ecaaf519867ec1d8adf1da1d35a76f,," ContainerImageRegistryCredentials: type: json hidden: true default: {} description: | Mapping of image registry hosts to login credentials. Must be in the following example format docker.io: username: pa55word '192.0.2.1:8787': registry_username: password ceph_authenticated_registry: and: - not: yaql: data: cred: {get_param: ContainerImageRegistryCredentials} ns: yaql: expression: let(location => $.data.rightSplit(':', 1)[0]) -> regex('(?:https?://)?(.*?)/(.*)').split($location)[1] data: {get_param: ContainerCephDaemonImage} expression: let(c => $.data.cred) -> $c.get($.data.ns, {}).keys().last(default => """").isEmpty() - not: yaql: data: cred: {get_param: ContainerImageRegistryCredentials} ns: yaql: expression: let(location => $.data.rightSplit(':', 1)[0]) -> regex('(?:https?://)?(.*?)/(.*)').split($location)[1] data: {get_param: ContainerCephDaemonImage} expression: let(c => $.data.cred) -> $c.get($.data.ns, {}).values().last(default => """").isEmpty() ceph_docker_registry_auth: if: - ceph_authenticated_registry - true - false ceph_docker_registry_username: yaql: data: cred: {get_param: ContainerImageRegistryCredentials} ns: {get_attr: [ContainerImageUrlParts, value, host]} expression: let(c => $.data.cred) -> $c.get($.data.ns, {}).keys().last(default => """") ceph_docker_registry_password: yaql: data: cred: {get_param: ContainerImageRegistryCredentials} ns: {get_attr: [ContainerImageUrlParts, value, host]} expression: let(c => $.data.cred) -> $c.get($.data.ns, {}).values().last(default => """")",,48,0
openstack%2Fansible-hardening~master~I7f5a937150ad348e4bd92253a0180ff1ac5940f2,openstack/ansible-hardening,master,I7f5a937150ad348e4bd92253a0180ff1ac5940f2,update source link in readme,MERGED,2019-10-05 03:37:44.000000000,2019-10-10 15:41:04.000000000,2019-10-10 15:39:47.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-10-05 03:37:44.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/ansible-hardening/commit/ae2f3a311b06f889271cf079dc9385ab5ec36a8e', 'message': 'update source link in readme\n\nChange-Id: I7f5a937150ad348e4bd92253a0180ff1ac5940f2\n'}]",0,686863,ae2f3a311b06f889271cf079dc9385ab5ec36a8e,8,3,1,30092,,,0,"update source link in readme

Change-Id: I7f5a937150ad348e4bd92253a0180ff1ac5940f2
",git fetch https://review.opendev.org/openstack/ansible-hardening refs/changes/63/686863/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,ae2f3a311b06f889271cf079dc9385ab5ec36a8e,,* Source: https://opendev.org/openstack/ansible-hardening/,* Source: https://git.openstack.org/cgit/openstack/ansible-hardening,1,1
openstack%2Freleases~master~I9a164a7a81d8ade41b0ad76f496cb8d3f53923db,openstack/releases,master,I9a164a7a81d8ade41b0ad76f496cb8d3f53923db,Release ironic 13.0.1 for Train,MERGED,2019-10-10 08:29:08.000000000,2019-10-10 15:40:34.000000000,2019-10-10 15:40:34.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 08:29:08.000000000', 'files': ['deliverables/train/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6b351460d8f387268503158a48c816fbb5441530', 'message': 'Release ironic 13.0.1 for Train\n\nChange-Id: I9a164a7a81d8ade41b0ad76f496cb8d3f53923db\n'}]",0,687824,6b351460d8f387268503158a48c816fbb5441530,7,3,1,14826,,,0,"Release ironic 13.0.1 for Train

Change-Id: I9a164a7a81d8ade41b0ad76f496cb8d3f53923db
",git fetch https://review.opendev.org/openstack/releases refs/changes/24/687824/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic.yaml'],1,6b351460d8f387268503158a48c816fbb5441530,, - projects: - repo: openstack/ironic hash: 8ecae41ee12a81d741cc8e63ad8eba8fb5c180e3 version: 13.0.1,,4,0
openstack%2Fproject-config~master~I5bbb83bf313f13c216ca3e031d7a8e3dc8ba7cc7,openstack/project-config,master,I5bbb83bf313f13c216ca3e031d7a8e3dc8ba7cc7,CentOS 8 initial deployment,MERGED,2019-10-09 05:53:41.000000000,2019-10-10 15:40:08.000000000,2019-10-10 15:40:08.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 05:53:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/39d64fd185cca29eb5f6caa2ee599c438536d1bb', 'message': 'CentOS 8 initial deployment\n\nThis is for an initial build and debug purposes\n\nChange-Id: I5bbb83bf313f13c216ca3e031d7a8e3dc8ba7cc7\n'}, {'number': 2, 'created': '2019-10-09 06:02:17.000000000', 'files': ['nodepool/nl04.openstack.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml', 'nodepool/nl01.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0a13b1dd92a530709df4bcecab0e4ba93e4a2468', 'message': 'CentOS 8 initial deployment\n\nThis is for an initial build and debug purposes\n\nChange-Id: I5bbb83bf313f13c216ca3e031d7a8e3dc8ba7cc7\n'}]",0,687453,0a13b1dd92a530709df4bcecab0e4ba93e4a2468,13,5,2,7118,,,0,"CentOS 8 initial deployment

This is for an initial build and debug purposes

Change-Id: I5bbb83bf313f13c216ca3e031d7a8e3dc8ba7cc7
",git fetch https://review.opendev.org/openstack/project-config refs/changes/53/687453/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl04.openstack.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml', 'nodepool/nl01.openstack.org.yaml']",5,39d64fd185cca29eb5f6caa2ee599c438536d1bb,centos8, - name: centos-8 min-ready: 1 - name: centos-8 config-drive: true - name: centos-8 min-ram: 8192 flavor-name: 'Performance' diskimage: centos-8 key-name: infra-root-keys-2018-06-15 - name: centos-8,,91,0
openstack%2Ftooz~master~I6a18183f092689c8c9d283c19914da9baa59cc32,openstack/tooz,master,I6a18183f092689c8c9d283c19914da9baa59cc32,Drop os-testr test-requirement and pretty_tox.sh,MERGED,2019-09-24 08:27:55.000000000,2019-10-10 15:39:14.000000000,2019-10-10 15:37:51.000000000,"[{'_account_id': 6928}, {'_account_id': 7102}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-24 08:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/85c528b1a8ea4719a84628497be478c1f2e1a04a', 'message': 'Drop os-testr test-requirement and pretty_tox.sh\n\nos-testr is only needed to provide the ""subunit-trace"" command which\nis used in the tools/pretty_tox.sh script. And pretty_tox.sh is not\nneeded. ""stestr"" can be used directly in tox.ini. So drop\ntools/pretty_tox.sh .\n\nChange-Id: I6a18183f092689c8c9d283c19914da9baa59cc32\n'}, {'number': 2, 'created': '2019-09-24 11:05:19.000000000', 'files': ['test-requirements.txt', 'tox.ini', 'tools/pretty_tox.sh'], 'web_link': 'https://opendev.org/openstack/tooz/commit/4492bbaea810886e0e39109edca198ab10296da2', 'message': 'Drop os-testr test-requirement and pretty_tox.sh\n\nos-testr is only needed to provide the ""subunit-trace"" command which\nis used in the tools/pretty_tox.sh script. And pretty_tox.sh is not\nneeded. ""stestr"" can be used directly in tox.ini. So drop\ntools/pretty_tox.sh .\n\nChange-Id: I6a18183f092689c8c9d283c19914da9baa59cc32\n'}]",2,684236,4492bbaea810886e0e39109edca198ab10296da2,14,5,2,7102,,,0,"Drop os-testr test-requirement and pretty_tox.sh

os-testr is only needed to provide the ""subunit-trace"" command which
is used in the tools/pretty_tox.sh script. And pretty_tox.sh is not
needed. ""stestr"" can be used directly in tox.ini. So drop
tools/pretty_tox.sh .

Change-Id: I6a18183f092689c8c9d283c19914da9baa59cc32
",git fetch https://review.opendev.org/openstack/tooz refs/changes/36/684236/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini', 'tools/pretty_tox.sh']",3,85c528b1a8ea4719a84628497be478c1f2e1a04a,,,"#!/usr/bin/env bash set -o pipefail TESTRARGS=$1 # --until-failure is not compatible with --subunit see: # # https://bugs.launchpad.net/testrepository/+bug/1411804 # # this work around exists until that is addressed if [[ ""$TESTARGS"" =~ ""until-failure"" ]]; then stestr run --slowest ""$TESTRARGS"" else stestr run --slowest --subunit ""$TESTRARGS"" | subunit-trace -f fi ",1,18
openstack%2Freleases~master~I6e7daf89956560af090c8933bb066a13b244d710,openstack/releases,master,I6e7daf89956560af090c8933bb066a13b244d710,Release ironic-ui 3.5.3 for Train,MERGED,2019-10-10 08:29:55.000000000,2019-10-10 15:35:43.000000000,2019-10-10 15:35:43.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 08:29:55.000000000', 'files': ['deliverables/train/ironic-ui.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f0e6f60a04ead088f6c836e4f898bfb09194b4d9', 'message': 'Release ironic-ui 3.5.3 for Train\n\nChange-Id: I6e7daf89956560af090c8933bb066a13b244d710\n'}]",0,687825,f0e6f60a04ead088f6c836e4f898bfb09194b4d9,7,3,1,14826,,,0,"Release ironic-ui 3.5.3 for Train

Change-Id: I6e7daf89956560af090c8933bb066a13b244d710
",git fetch https://review.opendev.org/openstack/releases refs/changes/25/687825/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-ui.yaml'],1,f0e6f60a04ead088f6c836e4f898bfb09194b4d9,, - version: 3.5.3 projects: - hash: 57c2b37f9b2643699f91fb6cbe6b2baf5f22363e repo: openstack/ironic-ui,,4,0
openstack%2Fopenstack-zuul-jobs~master~Idcffc5fd786db65ca4edbee03d2f9d45e0026639,openstack/openstack-zuul-jobs,master,Idcffc5fd786db65ca4edbee03d2f9d45e0026639,Add Python3 project templates for Ussuri release,MERGED,2019-09-27 18:16:55.000000000,2019-10-10 15:34:29.000000000,2019-09-30 14:21:34.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11975}, {'_account_id': 12404}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 16708}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 18:16:55.000000000', 'files': ['zuul.d/project-templates.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/935c9ca50daa6d49157b35392c1b0f373d88f250', 'message': 'Add Python3 project templates for Ussuri release\n\nFollowing the process set down in the TC resolution on updating Python\nversions:\n\nhttps://governance.openstack.org/tc/resolutions/20181024-python-update-process.html\n\nthis change adds the Zuul template for Python 3 unit test jobs in the\nUssuri release. The selected python versions are the same as for the\nTrain cycle:\n\n* The latest released version of Python that is available for testing is\n  3.7.\n* The only version of Python 3 that is the default in the\n  distributions listed in the PTI (CentOS 8, Ubuntu 18.04 Bionic, openSUSE\n  Leap 15) is Python 3.6.\n\nChange-Id: Idcffc5fd786db65ca4edbee03d2f9d45e0026639\n'}]",2,685453,935c9ca50daa6d49157b35392c1b0f373d88f250,13,17,1,4257,,,0,"Add Python3 project templates for Ussuri release

Following the process set down in the TC resolution on updating Python
versions:

https://governance.openstack.org/tc/resolutions/20181024-python-update-process.html

this change adds the Zuul template for Python 3 unit test jobs in the
Ussuri release. The selected python versions are the same as for the
Train cycle:

* The latest released version of Python that is available for testing is
  3.7.
* The only version of Python 3 that is the default in the
  distributions listed in the PTI (CentOS 8, Ubuntu 18.04 Bionic, openSUSE
  Leap 15) is Python 3.6.

Change-Id: Idcffc5fd786db65ca4edbee03d2f9d45e0026639
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/53/685453/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project-templates.yaml'],1,935c9ca50daa6d49157b35392c1b0f373d88f250,, name: openstack-python3-ussuri-jobs description: | Runs unit tests for an OpenStack Python project under the CPython version 3 releases designated for testing in the Ussuri release. check: jobs: - openstack-tox-py36 - openstack-tox-py37 gate: jobs: - openstack-tox-py36 - openstack-tox-py37 - project-template: name: openstack-python3-ussuri-jobs-horizon description: | The standard :zuul:project_template:`openstack-python3-ussuri-jobs` but with horizon added as a required-projects. This checks out the project code and allows tox_install_siblings to use horizon when building the venv. check: jobs: - openstack-tox-py36: required-projects: - openstack/horizon - openstack-tox-py37: required-projects: - openstack/horizon gate: jobs: - openstack-tox-py36: required-projects: - openstack/horizon - openstack-tox-py37: required-projects: - openstack/horizon - project-template: name: openstack-python3-ussuri-jobs-neutron description: | The standard :zuul:project_template:`openstack-python3-ussuri-jobs` but with neutron added as a required-projects. This checks out the project code and allows tox_install_siblings to use neutron when building the venv. check: jobs: - openstack-tox-py36: required-projects: - openstack/neutron - openstack-tox-py37: required-projects: - openstack/neutron gate: jobs: - openstack-tox-py36: required-projects: - openstack/neutron - openstack-tox-py37: required-projects: - openstack/neutron - project-template: name: openstack-python3-ussuri-jobs-ceilometer description: | The standard :zuul:project_template:`openstack-python3-ussuri-jobs` but with ceilometer added as a required-projects. This checks out the project code and allows tox_install_siblings to use ceilometer when building the venv. check: jobs: - openstack-tox-py36: required-projects: - openstack/ceilometer - openstack-tox-py37: required-projects: - openstack/ceilometer gate: jobs: - openstack-tox-py36: required-projects: - openstack/ceilometer - openstack-tox-py37: required-projects: - openstack/ceilometer - project-template:,,86,0
openstack%2Fironic~master~I49ff241793f42de0f0cc9d98ae1f99940e581dcb,openstack/ironic,master,I49ff241793f42de0f0cc9d98ae1f99940e581dcb,ironic-tempest-functional-python3 unused variables,MERGED,2019-10-09 09:00:14.000000000,2019-10-10 15:34:27.000000000,2019-10-10 15:31:19.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-09 09:00:14.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8cc6dbdd891ea8d7dac8cd3c76a49bf9afd9e0cc', 'message': ""ironic-tempest-functional-python3 unused variables\n\nThe difference between the jobs `ironic-tempest-functional-python2`\nand `ironic-tempest-functional-python3` should be only the python\nversion in use (for deployment and to run the functional tests).\n\nRemoving the variables `IRONIC_TEMPEST_WHOLE_DISK_IMAGE` and\n`IRONIC_VM_EPHEMERAL_DISK`doesn't matter for the functional tests,\nand they are set with different values in the python2 job.\n\nChange-Id: I49ff241793f42de0f0cc9d98ae1f99940e581dcb\n""}]",1,687502,8cc6dbdd891ea8d7dac8cd3c76a49bf9afd9e0cc,20,7,1,15519,,,0,"ironic-tempest-functional-python3 unused variables

The difference between the jobs `ironic-tempest-functional-python2`
and `ironic-tempest-functional-python3` should be only the python
version in use (for deployment and to run the functional tests).

Removing the variables `IRONIC_TEMPEST_WHOLE_DISK_IMAGE` and
`IRONIC_VM_EPHEMERAL_DISK`doesn't matter for the functional tests,
and they are set with different values in the python2 job.

Change-Id: I49ff241793f42de0f0cc9d98ae1f99940e581dcb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/687502/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,8cc6dbdd891ea8d7dac8cd3c76a49bf9afd9e0cc,unused_variables,, IRONIC_TEMPEST_WHOLE_DISK_IMAGE: False IRONIC_VM_EPHEMERAL_DISK: 1,0,2
openstack%2Fproject-config~master~I26d19a5518ff69af2cbe6eed44be43c25d291314,openstack/project-config,master,I26d19a5518ff69af2cbe6eed44be43c25d291314,Remove explicit set of DIB_SIMPLE_INIT_NETWORKMANAGER,MERGED,2019-10-09 05:53:41.000000000,2019-10-10 15:33:11.000000000,2019-10-10 15:33:11.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 05:53:41.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/beed9d22d74092dd2b44f52130a6be71fad75516', 'message': 'Remove explicit set of DIB_SIMPLE_INIT_NETWORKMANAGER\n\nThis becomes the default with\nIc996956da4b85f7d95179b8df9881d5f52c091af, so the explicit set is not\nlonger required.\n\nChange-Id: I26d19a5518ff69af2cbe6eed44be43c25d291314\n'}]",0,687452,beed9d22d74092dd2b44f52130a6be71fad75516,9,4,1,7118,,,0,"Remove explicit set of DIB_SIMPLE_INIT_NETWORKMANAGER

This becomes the default with
Ic996956da4b85f7d95179b8df9881d5f52c091af, so the explicit set is not
longer required.

Change-Id: I26d19a5518ff69af2cbe6eed44be43c25d291314
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/687452/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,beed9d22d74092dd2b44f52130a6be71fad75516,centos8,, DIB_SIMPLE_INIT_NETWORKMANAGER: '1' DIB_SIMPLE_INIT_NETWORKMANAGER: '1' DIB_SIMPLE_INIT_NETWORKMANAGER: '1',0,3
openstack%2Fproject-config~master~I3414fb9e503f94ff744b560eff9ec0f4afdbb50e,openstack/project-config,master,I3414fb9e503f94ff744b560eff9ec0f4afdbb50e,nodepool/elements : use abstracted commands,MERGED,2019-10-04 06:11:49.000000000,2019-10-10 15:33:09.000000000,2019-10-10 15:33:09.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 06:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ccd1c391b77e1802f694ad6948ed690b4f1f88d7', 'message': 'nodepool/elements : use abstracted commands\n\nOn platforms such as CentOS 8 which are python3 first, ""virtualenv""\nand ""pip"" may not exist (removed to avoid any confusion over them\nbeing v2 or v3 commands).\n\nThe referenced dib change exports new variables that should be correct\non all platforms for creating virtualenv\'s and pip installs.\n\n(note will require DIB release to be active on builders)\n\nDepends-On: https://review.opendev.org/684462\nChange-Id: I3414fb9e503f94ff744b560eff9ec0f4afdbb50e\n'}, {'number': 2, 'created': '2019-10-09 03:07:27.000000000', 'files': ['nodepool/elements/infra-package-needs/install.d/10-pip-packages', 'nodepool/elements/infra-package-needs/install.d/40-install-bindep', 'nodepool/elements/nodepool-base/install.d/91-venv-os-testr'], 'web_link': 'https://opendev.org/openstack/project-config/commit/c5f807e6998e40b7eafb4fcf120c047d5239d052', 'message': 'nodepool/elements : use abstracted commands\n\nOn platforms such as CentOS 8 which are python3 first, ""virtualenv""\nand ""pip"" may not exist (removed to avoid any confusion over them\nbeing v2 or v3 commands).\n\nThe referenced dib change exports new variables that should be correct\non all platforms for creating virtualenv\'s and pip installs.\n\n(note will require DIB release to be active on builders)\n\nDepends-On: https://review.opendev.org/684462\nChange-Id: I3414fb9e503f94ff744b560eff9ec0f4afdbb50e\n'}]",0,686524,c5f807e6998e40b7eafb4fcf120c047d5239d052,14,5,2,7118,,,0,"nodepool/elements : use abstracted commands

On platforms such as CentOS 8 which are python3 first, ""virtualenv""
and ""pip"" may not exist (removed to avoid any confusion over them
being v2 or v3 commands).

The referenced dib change exports new variables that should be correct
on all platforms for creating virtualenv's and pip installs.

(note will require DIB release to be active on builders)

Depends-On: https://review.opendev.org/684462
Change-Id: I3414fb9e503f94ff744b560eff9ec0f4afdbb50e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/686524/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/infra-package-needs/install.d/10-pip-packages', 'nodepool/elements/infra-package-needs/install.d/40-install-bindep', 'nodepool/elements/nodepool-base/install.d/91-venv-os-testr']",3,ccd1c391b77e1802f694ad6948ed690b4f1f88d7,centos8,$DIB_PYTHON_VIRTUALENV /usr/os-testr-env,virtualenv /usr/os-testr-env,3,3
openstack%2Fproject-config~master~I3dc18b2f7b6a624719a5f8d7d8b888c69fc0ac2b,openstack/project-config,master,I3dc18b2f7b6a624719a5f8d7d8b888c69fc0ac2b,infra-package-needs: fix haveged install for all CentOS releases,MERGED,2019-10-09 03:07:27.000000000,2019-10-10 15:32:56.000000000,2019-10-10 15:32:56.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 03:07:27.000000000', 'files': ['nodepool/elements/infra-package-needs/install.d/10-packages'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ed153e9e70d6160d8edfac41cee8c9508c31a85f', 'message': ""infra-package-needs: fix haveged install for all CentOS releases\n\nWe've never really tested any of this on RHEL, so remove that match\n(also, rhel7 element is deprecated for the version-less rhel element).\n\nThe CentOS elements export $YUM to be either dnf/yum as appropriate,\nso use that behind the distro check where it will be defined.\n\nChange-Id: I3dc18b2f7b6a624719a5f8d7d8b888c69fc0ac2b\n""}]",0,687447,ed153e9e70d6160d8edfac41cee8c9508c31a85f,8,4,1,7118,,,0,"infra-package-needs: fix haveged install for all CentOS releases

We've never really tested any of this on RHEL, so remove that match
(also, rhel7 element is deprecated for the version-less rhel element).

The CentOS elements export $YUM to be either dnf/yum as appropriate,
so use that behind the distro check where it will be defined.

Change-Id: I3dc18b2f7b6a624719a5f8d7d8b888c69fc0ac2b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/47/687447/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/infra-package-needs/install.d/10-packages'],1,ed153e9e70d6160d8edfac41cee8c9508c31a85f,centos8,"if [[ ""$DISTRO_NAME"" == centos ]] ; then # Note: $YUM exposed by centos environment, correct across releases ${YUM} -y install --enablerepo=epel haveged","if [[ ""$DISTRO_NAME"" =~ (centos|rhel7) ]] ; then yum -y install --enablerepo=epel haveged",3,2
openstack%2Fproject-config~master~I52eef3069fa8699cc72b423d476c92b339600c23,openstack/project-config,master,I52eef3069fa8699cc72b423d476c92b339600c23,zuul-worker: no selinux python2 libs on CentOS 8,MERGED,2019-10-09 03:07:27.000000000,2019-10-10 15:32:53.000000000,2019-10-10 15:32:53.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 17130}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 03:07:27.000000000', 'files': ['nodepool/elements/zuul-worker/pkg-map'], 'web_link': 'https://opendev.org/openstack/project-config/commit/8138f1d84377a8420b92375c80baad4e72b4aafb', 'message': 'zuul-worker: no selinux python2 libs on CentOS 8\n\nThere are no libselinux bindings for Python 2 on CentOS 8 [1].  The\nPython 3 packages are there as part of the base install.\n\nThese are required for Ansible to run correctly.  We will need to set\nansible_python_interpreter to python3 for CentOS 8 until\nauto-detection is complete with [2].\n\n[1] https://bugs.centos.org/view.php?id=16458\n[2] https://review.opendev.org/682797\n\nChange-Id: I52eef3069fa8699cc72b423d476c92b339600c23\n'}]",0,687446,8138f1d84377a8420b92375c80baad4e72b4aafb,8,4,1,7118,,,0,"zuul-worker: no selinux python2 libs on CentOS 8

There are no libselinux bindings for Python 2 on CentOS 8 [1].  The
Python 3 packages are there as part of the base install.

These are required for Ansible to run correctly.  We will need to set
ansible_python_interpreter to python3 for CentOS 8 until
auto-detection is complete with [2].

[1] https://bugs.centos.org/view.php?id=16458
[2] https://review.opendev.org/682797

Change-Id: I52eef3069fa8699cc72b423d476c92b339600c23
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/687446/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/zuul-worker/pkg-map'],1,8138f1d84377a8420b92375c80baad4e72b4aafb,centos8," ""release"": { ""centos"": { ""8"": { ""libselinux-python"": """" } } },",,7,0
openstack%2Fproject-config~master~Id2dbda7f114de0be4e4227da179490a17a22eb24,openstack/project-config,master,Id2dbda7f114de0be4e4227da179490a17a22eb24,"infra-pkg-needs: Update pkg-maps for CentOS 8, select chronyd",MERGED,2019-10-09 03:07:27.000000000,2019-10-10 15:32:51.000000000,2019-10-10 15:32:51.000000000,"[{'_account_id': 1004}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 03:07:27.000000000', 'files': ['nodepool/elements/infra-package-needs/pkg-map', 'nodepool/elements/infra-package-needs/post-install.d/80-enable-infra-services'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5a649ce32d416dbaa1239c8b8f092216acdcdd01', 'message': ""infra-pkg-needs: Update pkg-maps for CentOS 8, select chronyd\n\nThese images are Python3 only -- no python-dev\n\nThe ntp tools are replaced with chrony on CentOS 8, select it instead.\nUpdate the service enablement too.  I have done a quick audit and\nI don't believe any of our base job parts rely on ntpdate as such\n(except for deprecated devstack-gate; there is actually an\nunmerged ancient change! [1]).\n\n[1] https://review.opendev.org/#/c/352674/1/functions.sh\n\nChange-Id: Id2dbda7f114de0be4e4227da179490a17a22eb24\n""}]",0,687445,5a649ce32d416dbaa1239c8b8f092216acdcdd01,7,3,1,7118,,,0,"infra-pkg-needs: Update pkg-maps for CentOS 8, select chronyd

These images are Python3 only -- no python-dev

The ntp tools are replaced with chrony on CentOS 8, select it instead.
Update the service enablement too.  I have done a quick audit and
I don't believe any of our base job parts rely on ntpdate as such
(except for deprecated devstack-gate; there is actually an
unmerged ancient change! [1]).

[1] https://review.opendev.org/#/c/352674/1/functions.sh

Change-Id: Id2dbda7f114de0be4e4227da179490a17a22eb24
",git fetch https://review.opendev.org/openstack/project-config refs/changes/45/687445/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/elements/infra-package-needs/pkg-map', 'nodepool/elements/infra-package-needs/post-install.d/80-enable-infra-services']",2,5a649ce32d416dbaa1239c8b8f092216acdcdd01,centos8," elif [[ $DISTRO_NAME == ""centos"" && $DIB_RELEASE -ge 8 ]]; then systemctl enable chronyd",,11,0
openstack%2Fpuppet-monasca~stable%2Ftrain~Ieaf284357518c4596e85745dbbf9aeb35e17e3b1,openstack/puppet-monasca,stable/train,Ieaf284357518c4596e85745dbbf9aeb35e17e3b1,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-07 13:34:35.000000000,2019-10-10 15:25:04.000000000,2019-10-10 15:23:45.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:34:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/59ceaf0e81c1d68dd6dfb8055eb21a78f9f47cdc', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ieaf284357518c4596e85745dbbf9aeb35e17e3b1\n'}]",0,687039,59ceaf0e81c1d68dd6dfb8055eb21a78f9f47cdc,10,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ieaf284357518c4596e85745dbbf9aeb35e17e3b1
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/39/687039/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,59ceaf0e81c1d68dd6dfb8055eb21a78f9f47cdc,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fnetworking-bagpipe~master~I42af2e0055e53d07be24224c5d779035ee92d1f7,openstack/networking-bagpipe,master,I42af2e0055e53d07be24224c5d779035ee92d1f7,Update the constraints url,MERGED,2019-09-20 09:31:47.000000000,2019-10-10 15:22:16.000000000,2019-10-10 15:20:55.000000000,"[{'_account_id': 841}, {'_account_id': 12021}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 09:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/2c86bce11dc020d68e37bfa8c10e5f1ff59873ac', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I42af2e0055e53d07be24224c5d779035ee92d1f7\n'}, {'number': 2, 'created': '2019-10-08 07:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/6df21971d6c3965d4233302047b3634e0ea2932f', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I42af2e0055e53d07be24224c5d779035ee92d1f7\n'}, {'number': 3, 'created': '2019-10-09 01:36:16.000000000', 'files': ['doc/source/install/index.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/cc6485b951fbad7d48bd8edcbcacbfd972433473', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I42af2e0055e53d07be24224c5d779035ee92d1f7\n'}]",1,683337,cc6485b951fbad7d48bd8edcbcacbfd972433473,14,3,3,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I42af2e0055e53d07be24224c5d779035ee92d1f7
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/37/683337/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2c86bce11dc020d68e37bfa8c10e5f1ff59873ac,I42af2e0055e53d07be24224c5d779035ee92d1f7,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},1,1
openstack%2Freleases~master~I61b927c3a5540205b2697545cb0104abec00b67a,openstack/releases,master,I61b927c3a5540205b2697545cb0104abec00b67a,Release Horizon Train RC2,MERGED,2019-10-09 13:17:31.000000000,2019-10-10 15:21:23.000000000,2019-10-10 15:21:23.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 13:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/78def59e35a10a27d80234dfddfb87bde0fceb98', 'message': 'Release Horizon Train RC2\n\nChange-Id: I61b927c3a5540205b2697545cb0104abec00b67a\n'}, {'number': 2, 'created': '2019-10-09 16:27:47.000000000', 'files': ['deliverables/train/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/1aa74f228a4787e04baae4249d4b149c5cdc255b', 'message': 'Release Horizon Train RC2\n\nChange-Id: I61b927c3a5540205b2697545cb0104abec00b67a\n'}]",0,687552,1aa74f228a4787e04baae4249d4b149c5cdc255b,13,5,2,1736,,,0,"Release Horizon Train RC2

Change-Id: I61b927c3a5540205b2697545cb0104abec00b67a
",git fetch https://review.opendev.org/openstack/releases refs/changes/52/687552/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/horizon.yaml'],1,78def59e35a10a27d80234dfddfb87bde0fceb98,train-rc2, - version: 16.0.0.0rc2 projects: - repo: openstack/horizon hash: 10be4e8dddca03a8700bc8709d57256f580c2d54,,4,0
openstack%2Ftooz~master~I8572b0df2615f8f6e8f666be988b49e63a549679,openstack/tooz,master,I8572b0df2615f8f6e8f666be988b49e63a549679,Add shared arg in metaclass Lock,MERGED,2019-09-05 03:17:22.000000000,2019-10-10 15:21:09.000000000,2019-10-10 15:19:42.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-05 03:17:22.000000000', 'files': ['tooz/locking.py'], 'web_link': 'https://opendev.org/openstack/tooz/commit/76cd3e8e568ffc0762442c51ae6e968f89c88293', 'message': ""Add shared arg in metaclass Lock\n\nAdd the missing arg 'shared' in the abstract method 'acquire' of\nthe metaclass 'Lock'.\n\nChange-Id: I8572b0df2615f8f6e8f666be988b49e63a549679\n""}]",0,680286,76cd3e8e568ffc0762442c51ae6e968f89c88293,8,4,1,25837,,,0,"Add shared arg in metaclass Lock

Add the missing arg 'shared' in the abstract method 'acquire' of
the metaclass 'Lock'.

Change-Id: I8572b0df2615f8f6e8f666be988b49e63a549679
",git fetch https://review.opendev.org/openstack/tooz refs/changes/86/680286/1 && git format-patch -1 --stdout FETCH_HEAD,['tooz/locking.py'],1,76cd3e8e568ffc0762442c51ae6e968f89c88293,," def acquire(self, blocking=True, shared=False): :param shared: If False, the lock is exclusive. If True, the lock can be shareable or raises ``NotImplemented`` if not implemented."," def acquire(self, blocking=True):",4,1
openstack%2Fpuppet-freezer~stable%2Ftrain~I4be6692bf9ae04aa59fbe7a6881e5435f2be5729,openstack/puppet-freezer,stable/train,I4be6692bf9ae04aa59fbe7a6881e5435f2be5729,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-07 13:34:01.000000000,2019-10-10 15:18:34.000000000,2019-10-10 15:17:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:34:01.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/4cae80cddc806eb679937c0587915cb7c1fcd7d5', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I4be6692bf9ae04aa59fbe7a6881e5435f2be5729\n'}]",0,687033,4cae80cddc806eb679937c0587915cb7c1fcd7d5,12,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I4be6692bf9ae04aa59fbe7a6881e5435f2be5729
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/33/687033/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4cae80cddc806eb679937c0587915cb7c1fcd7d5,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpuppet-qdr~stable%2Ftrain~Ie7dc0be648c94444120db168536ab5812b89f030,openstack/puppet-qdr,stable/train,Ie7dc0be648c94444120db168536ab5812b89f030,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-07 13:35:08.000000000,2019-10-10 15:17:49.000000000,2019-10-10 15:15:49.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:35:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/9ef7d5eb76bba0df99a648492fa8d31f19ae173b', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ie7dc0be648c94444120db168536ab5812b89f030\n'}]",0,687045,9ef7d5eb76bba0df99a648492fa8d31f19ae173b,9,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ie7dc0be648c94444120db168536ab5812b89f030
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/45/687045/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9ef7d5eb76bba0df99a648492fa8d31f19ae173b,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fpuppet-monasca~stable%2Ftrain~Ibabf694025fa6e5efef1925941c8e7b0dad88148,openstack/puppet-monasca,stable/train,Ibabf694025fa6e5efef1925941c8e7b0dad88148,Update .gitreview for stable/train,MERGED,2019-10-07 13:34:32.000000000,2019-10-10 15:14:21.000000000,2019-10-10 15:14:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:34:32.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/9f41d2a652427d609f4b2ad93cca10e982f2012a', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ibabf694025fa6e5efef1925941c8e7b0dad88148\n'}]",0,687038,9f41d2a652427d609f4b2ad93cca10e982f2012a,9,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ibabf694025fa6e5efef1925941c8e7b0dad88148
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/38/687038/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9f41d2a652427d609f4b2ad93cca10e982f2012a,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpuppet-qdr~stable%2Ftrain~Ic22de9dfe826d666b41233541690e946a03eae50,openstack/puppet-qdr,stable/train,Ic22de9dfe826d666b41233541690e946a03eae50,Update .gitreview for stable/train,MERGED,2019-10-07 13:35:05.000000000,2019-10-10 15:14:15.000000000,2019-10-10 15:14:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:35:05.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/232427d122defb51e734355ced5df8c934063b20', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ic22de9dfe826d666b41233541690e946a03eae50\n'}]",0,687044,232427d122defb51e734355ced5df8c934063b20,9,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ic22de9dfe826d666b41233541690e946a03eae50
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/44/687044/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,232427d122defb51e734355ced5df8c934063b20,create-train,defaultbranch=stable/train,,1,0
openstack%2Ftripleo-ansible~master~I92f8a4aabb1642d7f454cbeb5258e045a330fdb4,openstack/tripleo-ansible,master,I92f8a4aabb1642d7f454cbeb5258e045a330fdb4,Remove leftovers for podman-image*,MERGED,2019-10-10 12:46:05.000000000,2019-10-10 15:11:24.000000000,2019-10-10 15:09:39.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 12:46:05.000000000', 'files': ['doc/source/modules/modules-podman_image_facts.rst', 'doc/source/modules/modules-podman_image.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27ef0a279ab982f90d72fdaf55b2c6edad7299e2', 'message': ""Remove leftovers for podman-image*\n\nThe modules don't live here anymore, we missed to removed the rst.\n\nChange-Id: I92f8a4aabb1642d7f454cbeb5258e045a330fdb4\n""}]",0,687882,27ef0a279ab982f90d72fdaf55b2c6edad7299e2,8,3,1,3153,,,0,"Remove leftovers for podman-image*

The modules don't live here anymore, we missed to removed the rst.

Change-Id: I92f8a4aabb1642d7f454cbeb5258e045a330fdb4
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/82/687882/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/modules/modules-podman_image_facts.rst', 'doc/source/modules/modules-podman_image.rst']",2,27ef0a279ab982f90d72fdaf55b2c6edad7299e2,tox,,===================== Module - podman_image ===================== This module provides for the following ansible plugin: * podman_image .. ansibleautoplugin:: :module: tripleo_ansible/ansible_plugins/modules/podman_image.py :documentation: true :examples: false ,0,28
openstack%2Fpuppet-octavia~master~I784c58d6898e843daa153aebb0c89482a7bb6050,openstack/puppet-octavia,master,I784c58d6898e843daa153aebb0c89482a7bb6050,Add parameters for amphora log offloading,MERGED,2019-09-20 18:38:59.000000000,2019-10-10 15:07:33.000000000,2019-10-10 15:06:15.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 18:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/726893199449ba830dc8904f6d9b95a8161de79b', 'message': 'Add parameters for amphora log offloading\n\nThis patch adds the Octavia configuration parameters for amphora log\noffloading.\n\nChange-Id: I784c58d6898e843daa153aebb0c89482a7bb6050\n'}, {'number': 2, 'created': '2019-09-20 19:36:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/f351c9cd7e72f61d3e6df38b556e6bce445e0040', 'message': 'Add parameters for amphora log offloading\n\nThis patch adds the Octavia configuration parameters for amphora log\noffloading.\n\nChange-Id: I784c58d6898e843daa153aebb0c89482a7bb6050\n'}, {'number': 3, 'created': '2019-10-09 18:38:19.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-log-offloading-1a7836381de33644.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/952e448d8fb141be1ccd50eb12ca05cc80a78f15', 'message': 'Add parameters for amphora log offloading\n\nThis patch adds the Octavia configuration parameters for amphora log\noffloading.\n\nChange-Id: I784c58d6898e843daa153aebb0c89482a7bb6050\n'}]",2,683690,952e448d8fb141be1ccd50eb12ca05cc80a78f15,22,5,3,11628,,,0,"Add parameters for amphora log offloading

This patch adds the Octavia configuration parameters for amphora log
offloading.

Change-Id: I784c58d6898e843daa153aebb0c89482a7bb6050
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/90/683690/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp', 'releasenotes/notes/add-log-offloading-1a7836381de33644.yaml']",3,726893199449ba830dc8904f6d9b95a8161de79b,log-offload,--- features: - Added parameters to enable amphora log offloading. ,,114,30
openstack%2Fopenstack-ansible-lxc_hosts~master~Ic903de777d3d28962885fe4b73a3bf61a8d196f6,openstack/openstack-ansible-lxc_hosts,master,Ic903de777d3d28962885fe4b73a3bf61a8d196f6,Ensure mariadb packages are not in the lxc base image for debian,MERGED,2019-10-09 14:06:32.000000000,2019-10-10 15:06:17.000000000,2019-10-10 15:04:57.000000000,"[{'_account_id': 13095}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-10-09 14:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3bd9870edb901c9f9658f003a746eaddaa397024', 'message': 'Ensure mariadb packages are not in the lxc base image for debian\n\nDebian ships a mariadb version which conflicts with the packages\ninstalled by the galera_server role, so ensure these are absent from the\nlxc base image.\n\nChange-Id: Ic903de777d3d28962885fe4b73a3bf61a8d196f6\n'}, {'number': 2, 'created': '2019-10-09 14:20:30.000000000', 'files': ['templates/prep-scripts/debian_prep.sh.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/1e8314f609852a88b1789d9dbc48e5418a417df6', 'message': 'Ensure mariadb packages are not in the lxc base image for debian\n\nDebian ships a mariadb version which conflicts with the packages\ninstalled by the galera_server role, so ensure these are absent from the\nlxc base image.\n\nChange-Id: Ic903de777d3d28962885fe4b73a3bf61a8d196f6\n'}]",0,687574,1e8314f609852a88b1789d9dbc48e5418a417df6,11,5,2,25023,,,0,"Ensure mariadb packages are not in the lxc base image for debian

Debian ships a mariadb version which conflicts with the packages
installed by the galera_server role, so ensure these are absent from the
lxc base image.

Change-Id: Ic903de777d3d28962885fe4b73a3bf61a8d196f6
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/74/687574/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/prep-scripts/debian_prep.sh.j2'],1,3bd9870edb901c9f9658f003a746eaddaa397024,osa-buster,apt-get remove -y --purge snap* lxc* lxd* resolvconf* mariadb* || true,apt-get remove -y --purge snap* lxc* lxd* resolvconf* || true,1,1
openstack%2Felection~master~I33937ea13b47e174f2cf6675ff6b8f7bad257002,openstack/election,master,I33937ea13b47e174f2cf6675ff6b8f7bad257002,Re-Add Kendall as Election Official,MERGED,2019-10-09 18:22:18.000000000,2019-10-10 14:58:35.000000000,2019-10-10 14:57:25.000000000,"[{'_account_id': 308}, {'_account_id': 2799}, {'_account_id': 4257}, {'_account_id': 5263}, {'_account_id': 7198}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 13995}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 18:22:18.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/25db1f4dba97ecd6e322fb966f6b1dde19d8bcfa', 'message': 'Re-Add Kendall as Election Official\n\nHey. I want to help now that I will be on the TC for a year :)\n\nChange-Id: I33937ea13b47e174f2cf6675ff6b8f7bad257002\n'}]",0,687646,25db1f4dba97ecd6e322fb966f6b1dde19d8bcfa,17,11,1,16708,,,0,"Re-Add Kendall as Election Official

Hey. I want to help now that I will be on the TC for a year :)

Change-Id: I33937ea13b47e174f2cf6675ff6b8f7bad257002
",git fetch https://review.opendev.org/openstack/election refs/changes/46/687646/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,25db1f4dba97ecd6e322fb966f6b1dde19d8bcfa,re-add_diablo,"* Kendall Nelson (diablo_rojo), knelson at openstack dot org",,1,0
openstack%2Fcastellan~master~Id2b4e1d7910bfa8b4a482b1481a13cfc183a692f,openstack/castellan,master,Id2b4e1d7910bfa8b4a482b1481a13cfc183a692f,Update master for stable/train,MERGED,2019-09-20 16:19:42.000000000,2019-10-10 14:56:46.000000000,2019-10-10 14:55:16.000000000,"[{'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:19:42.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/castellan/commit/e3fdc07578b7f934d324fabdc9f692ea5fb53d54', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Id2b4e1d7910bfa8b4a482b1481a13cfc183a692f\nSem-Ver: feature\n'}]",0,683444,e3fdc07578b7f934d324fabdc9f692ea5fb53d54,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Id2b4e1d7910bfa8b4a482b1481a13cfc183a692f
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/castellan refs/changes/44/683444/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,e3fdc07578b7f934d324fabdc9f692ea5fb53d54,reno-train, train,,7,0
openstack%2Fopenstack-helm~master~I99b77a4c28761a2187e59be4e562d5893ef3caa9,openstack/openstack-helm,master,I99b77a4c28761a2187e59be4e562d5893ef3caa9,Fix psutil inconsistencies,MERGED,2019-10-07 21:46:19.000000000,2019-10-10 14:53:40.000000000,2019-10-10 14:51:52.000000000,"[{'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 16881}, {'_account_id': 17591}, {'_account_id': 18204}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 20466}, {'_account_id': 20469}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-10-07 21:46:19.000000000', 'files': ['nova/templates/bin/_health-probe.py.tpl', 'neutron/templates/bin/_health-probe.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ba23f7ab01d306ff9ed9bef790c64c6ead15a21', 'message': 'Fix psutil inconsistencies\n\nPython psutil library has not been consistent in behavior\na. gives trucated process names at times\nb. the truncated names sometimes contain path to Python instead\nof the program name Python runs\n\nChange-Id: I99b77a4c28761a2187e59be4e562d5893ef3caa9\n'}]",2,687166,3ba23f7ab01d306ff9ed9bef790c64c6ead15a21,12,14,1,18256,,,0,"Fix psutil inconsistencies

Python psutil library has not been consistent in behavior
a. gives trucated process names at times
b. the truncated names sometimes contain path to Python instead
of the program name Python runs

Change-Id: I99b77a4c28761a2187e59be4e562d5893ef3caa9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/66/687166/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_health-probe.py.tpl', 'neutron/templates/bin/_health-probe.py.tpl']",2,3ba23f7ab01d306ff9ed9bef790c64c6ead15a21,," for p in psutil.process_iter(): try: with p.oneshot(): if proc in "" "".join(p.cmdline()): if parentId == 0: parentId = p.pid else: if p.ppid() == parentId: continue pcon = p.connections() for con in pcon: try: port = con.raddr[1] status = con.status except IndexError: continue if port in rabbitmq_ports and\ status == tcp_established: rabbit_sock_count = rabbit_sock_count + 1 except psutil.Error:", for pr in psutil.pids(): try: p = psutil.Process(pr) if p.name() == proc: if parentId == 0: parentId = p.pid else: if p.ppid() == parentId: continue pcon = p.connections() for con in pcon: try: port = con.raddr[1] status = con.status except IndexError: continue if port in rabbitmq_ports and status == tcp_established: rabbit_sock_count = rabbit_sock_count + 1 except psutil.NoSuchProcess:,38,36
openstack%2Fpaunch~stable%2Frocky~I9443ad60affe9c7823b17daa259efee542c6fe22,openstack/paunch,stable/rocky,I9443ad60affe9c7823b17daa259efee542c6fe22,Add --cpuset-cpus support,ABANDONED,2019-09-16 21:24:03.000000000,2019-10-10 14:49:38.000000000,,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-16 21:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/ec6c50d1986b5e20e128e40a56120f6699a73cb5', 'message': 'Add --cpuset-cpus support for both Docker and Podman\n\nLimit the specific CPUs or cores a container can use.\n\nIf cpuset-cpus is configured in the container layout, then the value\nwill be used when running the container cli with --cpuset-cpus.\nIf \'all\' is used as a value, we\'ll then take all available cpus,\ncomputed by: ""0-"" + str(psutil.cpu_count()-1)\n\nIf unset (default), the cpuset-cpus value is computed by using psutil with a\nnew function which returns a comma-separated list range of CPUs that a\ncontainer can use.\n\nThis parameter is particulary useful for NFV:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1750781\nIndeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,\novs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)\nand tuned profiles (cpu-partitioning).\n\nChange-Id: I9443ad60affe9c7823b17daa259efee542c6fe22\n(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)\n'}, {'number': 2, 'created': '2019-09-16 21:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/78a12a68a53b986691ca7b006d5cdd42fb92a5e3', 'message': 'Add --cpuset-cpus support\n\nLimit the specific CPUs or cores a container can use.\n\nIf cpuset-cpus is configured in the container layout, then the value\nwill be used when running the container cli with --cpuset-cpus.\nIf \'all\' is used as a value, we\'ll then take all available cpus,\ncomputed by: ""0-"" + str(psutil.cpu_count()-1)\n\nIf unset (default), the cpuset-cpus value is computed by using psutil with a\nnew function which returns a comma-separated list range of CPUs that a\ncontainer can use.\n\nThis parameter is particulary useful for NFV:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1750781\nIndeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,\novs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)\nand tuned profiles (cpu-partitioning).\n\nChange-Id: I9443ad60affe9c7823b17daa259efee542c6fe22\n(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)\n'}, {'number': 3, 'created': '2019-09-17 01:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/705d6afd67c3eca5bd940b7fde69b542c3346266', 'message': 'Add --cpuset-cpus support\n\nLimit the specific CPUs or cores a container can use.\n\nIf cpuset-cpus is configured in the container layout, then the value\nwill be used when running the container cli with --cpuset-cpus.\nIf \'all\' is used as a value, we\'ll then take all available cpus,\ncomputed by: ""0-"" + str(psutil.cpu_count()-1)\n\nIf unset (default), the cpuset-cpus value is computed by using psutil with a\nnew function which returns a comma-separated list range of CPUs that a\ncontainer can use.\n\nThis parameter is particulary useful for NFV:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1750781\nIndeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,\novs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)\nand tuned profiles (cpu-partitioning).\n\nChange-Id: I9443ad60affe9c7823b17daa259efee542c6fe22\n(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)\n'}, {'number': 4, 'created': '2019-09-17 13:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/3a9ccc9ee2668bbb7ef14f99f1bbf6dbe65d5f4f', 'message': 'Add --cpuset-cpus support\n\nLimit the specific CPUs or cores a container can use.\n\nIf cpuset-cpus is configured in the container layout, then the value\nwill be used when running the container cli with --cpuset-cpus.\nIf \'all\' is used as a value, we\'ll then take all available cpus,\ncomputed by: ""0-"" + str(psutil.cpu_count()-1)\n\nIf unset (default), the cpuset-cpus value is computed by using psutil with a\nnew function which returns a comma-separated list range of CPUs that a\ncontainer can use.\n\nThis parameter is particulary useful for NFV:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1750781\nIndeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,\novs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)\nand tuned profiles (cpu-partitioning).\n\nChange-Id: I9443ad60affe9c7823b17daa259efee542c6fe22\n(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)\n'}, {'number': 5, 'created': '2019-09-30 15:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/2a648b81904bce903c1466cc833e431d9ba6634f', 'message': 'Add --cpuset-cpus support\n\nLimit the specific CPUs or cores a container can use.\n\nIf cpuset-cpus is configured in the container layout, then the value\nwill be used when running the container cli with --cpuset-cpus.\nIf \'all\' is used as a value, we\'ll then take all available cpus,\ncomputed by: ""0-"" + str(psutil.cpu_count()-1)\n\nIf unset (default), the cpuset-cpus value is computed by using psutil with a\nnew function which returns a comma-separated list range of CPUs that a\ncontainer can use.\n\nThis parameter is particulary useful for NFV:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1750781\nIndeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,\novs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)\nand tuned profiles (cpu-partitioning).\n\nChange-Id: I9443ad60affe9c7823b17daa259efee542c6fe22\n(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)\n'}, {'number': 6, 'created': '2019-10-04 14:31:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/90e1a3083726b39bcd36aad7c16431d76fba86e7', 'message': 'Add --cpuset-cpus support\n\nLimit the specific CPUs or cores a container can use.\n\nIf cpuset-cpus is configured in the container layout, then the value\nwill be used when running the container cli with --cpuset-cpus.\nIf \'all\' is used as a value, we\'ll then take all available cpus,\ncomputed by: ""0-"" + str(psutil.cpu_count()-1)\n\nIf unset (default), the cpuset-cpus value is computed by using psutil with a\nnew function which returns a comma-separated list range of CPUs that a\ncontainer can use.\n\nThis parameter is particulary useful for NFV:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1750781\nIndeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,\novs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)\nand tuned profiles (cpu-partitioning).\n\nChange-Id: I9443ad60affe9c7823b17daa259efee542c6fe22\n(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)\n'}, {'number': 7, 'created': '2019-10-04 19:58:23.000000000', 'files': ['requirements.txt', 'paunch/tests/test_builder_compose1.py', 'paunch/utils/common.py', 'paunch/builder/compose1.py', 'paunch/utils/__init__.py', 'paunch/tests/test_utils_common.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/d4558ab64afcc1e9475ca84696179c9663e27b2a', 'message': 'Add --cpuset-cpus support\n\nLimit the specific CPUs or cores a container can use.\n\nIf cpuset-cpus is configured in the container layout, then the value\nwill be used when running the container cli with --cpuset-cpus.\nIf \'all\' is used as a value, we\'ll then take all available cpus,\ncomputed by: ""0-"" + str(psutil.cpu_count()-1)\n\nIf unset (default), the cpuset-cpus value is computed by using psutil with a\nnew function which returns a comma-separated list range of CPUs that a\ncontainer can use.\n\nThis parameter is particulary useful for NFV:\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1750781\nIndeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,\novs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)\nand tuned profiles (cpu-partitioning).\n\nChange-Id: I9443ad60affe9c7823b17daa259efee542c6fe22\n(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)\n'}]",0,682491,d4558ab64afcc1e9475ca84696179c9663e27b2a,33,3,7,3153,,,0,"Add --cpuset-cpus support

Limit the specific CPUs or cores a container can use.

If cpuset-cpus is configured in the container layout, then the value
will be used when running the container cli with --cpuset-cpus.
If 'all' is used as a value, we'll then take all available cpus,
computed by: ""0-"" + str(psutil.cpu_count()-1)

If unset (default), the cpuset-cpus value is computed by using psutil with a
new function which returns a comma-separated list range of CPUs that a
container can use.

This parameter is particulary useful for NFV:
https://bugzilla.redhat.com/show_bug.cgi?id=1750781
Indeed, for NFV workloads, in order to achieve 0 packet loss, linux processes,
ovs-dpdk (if applicable) and VMs are isolated thanks to kernel args (isolcpus)
and tuned profiles (cpu-partitioning).

Change-Id: I9443ad60affe9c7823b17daa259efee542c6fe22
(cherry picked from commit d6ae074d2567b638fccd32868f6421de4044fbbe)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/91/682491/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'paunch/tests/test_builder_compose1.py', 'paunch/utils/common.py', 'paunch/builder/compose1.py', 'paunch/tests/test_utils_common.py', 'paunch/utils/__init__.py']",6,ec6c50d1986b5e20e128e40a56120f6699a73cb5,beers/brno,,,132,12
openstack%2Fglance-specs~master~I05185e69be13449777ead9247de370f9589e38e1,openstack/glance-specs,master,I05185e69be13449777ead9247de370f9589e38e1,Create specs directory for Ussuri,MERGED,2019-09-17 05:20:36.000000000,2019-10-10 14:43:29.000000000,2019-10-10 14:41:23.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-17 05:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/0162107f4d44b623578e5796f25a67bf08c11528', 'message': 'Create specs directory for Ussuri\n\nChange-Id: I05185e69be13449777ead9247de370f9589e38e1\n'}, {'number': 2, 'created': '2019-10-09 07:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/475f409e6e18f5d133e1e58cb76868bb0ea12b6c', 'message': 'Create specs directory for Ussuri\n\nChange-Id: I05185e69be13449777ead9247de370f9589e38e1\n'}, {'number': 3, 'created': '2019-10-09 07:32:14.000000000', 'files': ['specs/ussuri/approved/python-glanceclient/template.rst', 'priorities/ussuri-priorities.rst', 'doc/source/index.rst', 'specs/ussuri/implemented/index.rst', 'specs/ussuri/index.rst', 'specs/ussuri/approved/glance_store/template.rst', 'specs/ussuri/approved/glance/template.rst', 'specs/ussuri/approved/glance/spec-lite-template.rst', 'specs/ussuri/approved/python-glanceclient/spec-lite-template.rst', 'specs/ussuri/approved/index.rst', 'specs/ussuri/approved/glance_store/spec-lite-template.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/7b296e38d3315fca4b2f871f78b9fd15f9081012', 'message': 'Create specs directory for Ussuri\n\nChange-Id: I05185e69be13449777ead9247de370f9589e38e1\n'}]",0,682543,7b296e38d3315fca4b2f871f78b9fd15f9081012,13,4,3,9303,,,0,"Create specs directory for Ussuri

Change-Id: I05185e69be13449777ead9247de370f9589e38e1
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/43/682543/3 && git format-patch -1 --stdout FETCH_HEAD,"['specs/ussuri/approved/python-glanceclient/template.rst', 'priorities/ussuri-priorities.rst', 'doc/source/index.rst', 'specs/ussuri/implemented/index.rst', 'specs/ussuri/index.rst', 'specs/ussuri/approved/glance_store/template.rst', 'specs/ussuri/approved/glance/template.rst', 'specs/ussuri/approved/glance/spec-lite-template.rst', 'specs/ussuri/approved/python-glanceclient/spec-lite-template.rst', 'specs/ussuri/approved/index.rst', 'specs/ussuri/approved/glance_store/spec-lite-template.rst']",11,0162107f4d44b623578e5796f25a67bf08c11528,Ussuri,../../../spec-lite-template.rst ,,61,0
openstack%2Fnetworking-ovn~master~I6b659cbede25f271fa3b6a1c9e72019694ab6608,openstack/networking-ovn,master,I6b659cbede25f271fa3b6a1c9e72019694ab6608,Set binding profile directly from OVNTrunkDriver (redo),MERGED,2019-10-04 11:45:02.000000000,2019-10-10 14:40:40.000000000,2019-10-09 15:29:17.000000000,"[{'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-10-04 11:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a586132e333207d3c09f6477fa7b46f631aa4313', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 19.7 for 95%ile\nfrom 99 sec to 14.9 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n'}, {'number': 2, 'created': '2019-10-04 11:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/583d67168df447515c1b0821f684521a2db8a3b1', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 19.7 for 95%ile\nfrom 99 sec to 14.9 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n'}, {'number': 3, 'created': '2019-10-07 09:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/064178f6b81ee52dc38615673d432b25a629d348', 'message': 'DNM: Set binding profile directly from OVNTrunkDriver (redo)\n\nUsing gate to double check fixes.\nThis patcheset is not to be merged.\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n'}, {'number': 4, 'created': '2019-10-07 10:07:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a367bff4e8e3547b8346905ed726396173eb9dfe', 'message': 'DNM: Set binding profile directly from OVNTrunkDriver (redo)\n\nUsing gate to double check fixes.\nThis patcheset is not to be merged.\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n'}, {'number': 5, 'created': '2019-10-07 13:13:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ae960eff7ce22d22049ea2ee7e7f61444e850cae', 'message': 'DNM: Set binding profile directly from OVNTrunkDriver (redo)\n\nUsing gate to double check fixes.\nThis patcheset is not to be merged.\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n'}, {'number': 6, 'created': '2019-10-08 09:33:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e8c1c8eb2c53c328cf4559b6d8cc2621b89ae122', 'message': 'DNM: Set binding profile directly from OVNTrunkDriver (redo)\n\nUsing gate to double check fixes.\nThis patcheset is not to be merged.\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n'}, {'number': 7, 'created': '2019-10-08 14:34:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/44c22be9d4714c6a69ced4c6dfa9ae5206f0d9a1', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 19.7 for 95%ile\nfrom 99 sec to 14.9 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nRelated-Bug: #1845479\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n'}, {'number': 8, 'created': '2019-10-09 09:47:42.000000000', 'files': ['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7bdf2eb824083b6785d78dd67b3effe071e3f7a4', 'message': 'Set binding profile directly from OVNTrunkDriver (redo)\n\nSetting binding profile for Trunk subports takes\ntime - for 125 subports rally CreateAndListTrunks\nscenario [0] takes about 150 seconds. We need to\nbump up the perfomance because large number of\nsubports is widly used in Kuryr deployments.\n\nTo achieve that I changed setting the binding\nprofile to be saved directly to the neutron DB.\nInstead calling port_update I update only related\nfields in OVN NorthBound DB rows. That gave performance\nimprovement in trunk port creation:\n\nfrom 101 sec to 35.6 for 95%ile\nfrom 99 sec to 34.2 for 50%ile\n\nThe same thing has been done for Trunk deletion.\n\nThis reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd\n\n[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37\n\nChange-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608\nCloses-Bug: #1834637\nRelated-Bug: #1845479\nCo-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>\n'}]",8,686571,7bdf2eb824083b6785d78dd67b3effe071e3f7a4,41,5,8,11952,,,0,"Set binding profile directly from OVNTrunkDriver (redo)

Setting binding profile for Trunk subports takes
time - for 125 subports rally CreateAndListTrunks
scenario [0] takes about 150 seconds. We need to
bump up the perfomance because large number of
subports is widly used in Kuryr deployments.

To achieve that I changed setting the binding
profile to be saved directly to the neutron DB.
Instead calling port_update I update only related
fields in OVN NorthBound DB rows. That gave performance
improvement in trunk port creation:

from 101 sec to 35.6 for 95%ile
from 99 sec to 34.2 for 50%ile

The same thing has been done for Trunk deletion.

This reverts commit 2e0832f7b8bfc31780b657aa0abda4e8b244fbbd

[0] https://github.com/openstack/rally-openstack/blob/master/rally_openstack/scenarios/neutron/trunk.py#L37

Change-Id: I6b659cbede25f271fa3b6a1c9e72019694ab6608
Closes-Bug: #1834637
Related-Bug: #1845479
Co-authored-by: Maciej Józefczyk <mjozefcz@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/71/686571/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/unit/ml2/test_trunk_driver.py', 'networking_ovn/ml2/trunk_driver.py']",2,a586132e333207d3c09f6477fa7b46f631aa4313,,"from neutron.objects import ports as port_obj self.context = n_context.get_admin_context() txn = self.plugin_driver._nb_ovn.transaction with self.context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._set_binding_profile(port, parent_port, ovn_txn) txn = self.plugin_driver._nb_ovn.transaction with self.context.session.begin(subtransactions=True), ( txn(check_error=True)) as ovn_txn: for port in subports: self._unset_binding_profile(port, ovn_txn) def _set_binding_profile(self, subport, parent_port, ovn_txn): db_port = port_obj.Port.get_object(self.context, id=subport.port_id) if not db_port: LOG.debug(""Port not found while trying to set "" ""binding_profile: %s"", subport.port_id) return try: for binding in db_port.bindings: binding.profile.update({ 'parent_name': parent_port, 'tag': subport.segmentation_id}) # host + port_id is primary key port_obj.PortBinding.update_object( self.context, {'profile': binding.profile}, port_id=subport.port_id, host=binding.host) except n_exc.ObjectNotFound: LOG.debug(""Port not found while trying to set "" ""binding_profile: %s"", subport.port_id) return ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=parent_port, tag=subport.segmentation_id)) def _unset_binding_profile(self, subport, ovn_txn): db_port = port_obj.Port.get_object(self.context, id=subport.port_id) if not db_port: LOG.debug(""Port not found while trying to unset "" ""binding_profile: %s"", subport.port_id) return try: for binding in db_port.bindings: binding.profile.pop('tag', None) binding.profile.pop('parent_name', None) # host + port_id is primary key port_obj.PortBinding.update_object( self.context, {'profile': binding.profile, 'vif_type': portbindings.VIF_TYPE_UNBOUND, 'vif_details': '', 'host': ''}, port_id=subport.port_id, host=binding.host) port_obj.PortBindingLevel.delete_objects( self.context, port_id=subport.port_id, host=binding.host) except n_exc.ObjectNotFound: LOG.debug(""Port not found while trying to unset "" ""binding_profile: %s"", subport.port_id) return ovn_txn.add(self.plugin_driver._nb_ovn.set_lswitch_port( lport_name=subport.port_id, parent_name=[], up=False, tag=[])) if trunk.sub_ports: self._set_sub_ports(trunk.port_id, trunk.sub_ports) if trunk.sub_ports: self._unset_sub_ports(trunk.sub_ports) if subports: self._set_sub_ports(trunk.port_id, subports) if subports: self._unset_sub_ports(subports)","from oslo_db import exception as os_db_exc def _set_binding_profile(self, port_id, parent_port, tag=None): context = n_context.get_admin_context() binding_profile = {} if parent_port and tag: binding_profile = {'parent_name': parent_port, 'tag': tag} port = {'port': {'binding:profile': binding_profile}} if not tag: port['port']['binding:host_id'] = None try: self.plugin_driver._plugin.update_port(context, port_id, port) except (os_db_exc.DBReferenceError, n_exc.PortNotFound): LOG.debug(""Port not found trying to set binding_profile: %s"", port_id) for port in subports: self._set_binding_profile(port.port_id, parent_port, tag=port.segmentation_id) for port in subports: self._set_binding_profile(port.port_id, None) self._set_sub_ports(trunk.port_id, trunk.sub_ports) self._unset_sub_ports(trunk.sub_ports) self._set_sub_ports(trunk.port_id, subports) self._unset_sub_ports(subports)",274,106
openstack%2Fpuppet-manila~master~Ied7426930822803a6bc0f4e43028805bdcda2aee,openstack/puppet-manila,master,Ied7426930822803a6bc0f4e43028805bdcda2aee,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,ABANDONED,2019-10-08 01:15:56.000000000,2019-10-10 14:39:27.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 30077}]","[{'number': 1, 'created': '2019-10-08 01:15:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/1c44a229085e92a8af4d78b71749c9e773967a67', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ied7426930822803a6bc0f4e43028805bdcda2aee\n'}]",0,687189,1c44a229085e92a8af4d78b71749c9e773967a67,7,4,1,30077,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ied7426930822803a6bc0f4e43028805bdcda2aee
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/89/687189/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1c44a229085e92a8af4d78b71749c9e773967a67,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/trian} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpuppet-nova~master~Ib0c5a6a0e9801a56a7991221f1d1818c986e1a8a,openstack/puppet-nova,master,Ib0c5a6a0e9801a56a7991221f1d1818c986e1a8a,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,ABANDONED,2019-10-08 01:38:59.000000000,2019-10-10 14:39:24.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 01:38:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/06760174ec82b327052830d4bff145813a9b15fe', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nChange-Id: Ib0c5a6a0e9801a56a7991221f1d1818c986e1a8a\n'}]",0,687193,06760174ec82b327052830d4bff145813a9b15fe,7,3,1,30077,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Change-Id: Ib0c5a6a0e9801a56a7991221f1d1818c986e1a8a
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/93/687193/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,06760174ec82b327052830d4bff145813a9b15fe,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/train/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fpuppet-ceph~master~I1ff901743b916c66a7bc2dc192902d3abd42f2f6,openstack/puppet-ceph,master,I1ff901743b916c66a7bc2dc192902d3abd42f2f6,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,ABANDONED,2019-10-08 01:44:02.000000000,2019-10-10 14:39:20.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 01:44:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/0483568f412292511afc8f229b5beba8211d5b93', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nChange-Id: I1ff901743b916c66a7bc2dc192902d3abd42f2f6\n'}]",0,687194,0483568f412292511afc8f229b5beba8211d5b93,6,2,1,30077,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Change-Id: I1ff901743b916c66a7bc2dc192902d3abd42f2f6
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/94/687194/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0483568f412292511afc8f229b5beba8211d5b93,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fpuppet-neutron~master~I43570db70e3f26935c19a338acc66c3b0e0fa188,openstack/puppet-neutron,master,I43570db70e3f26935c19a338acc66c3b0e0fa188,Update Tox/UPPER_CONSRAINTS_FILE for stable/train,ABANDONED,2019-10-08 01:23:08.000000000,2019-10-10 14:39:17.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 01:23:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/7678df599319a8aea345130fb659c127ef10cad0', 'message': 'Update Tox/UPPER_CONSRAINTS_FILE for stable/train\n\nChange-Id: I43570db70e3f26935c19a338acc66c3b0e0fa188\n'}]",0,687190,7678df599319a8aea345130fb659c127ef10cad0,5,3,1,30077,,,0,"Update Tox/UPPER_CONSRAINTS_FILE for stable/train

Change-Id: I43570db70e3f26935c19a338acc66c3b0e0fa188
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/90/687190/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7678df599319a8aea345130fb659c127ef10cad0,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/train/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fcharm-cinder-backup~master~I92f0a9bdd3677200c775dc82695a3b950a51aac9,openstack/charm-cinder-backup,master,I92f0a9bdd3677200c775dc82695a3b950a51aac9,Migrate functional tests from Amulet to Zaza,MERGED,2019-10-07 15:07:41.000000000,2019-10-10 14:39:13.000000000,2019-10-10 14:39:13.000000000,"[{'_account_id': 7730}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30796}]","[{'number': 1, 'created': '2019-10-07 15:07:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/5baabef5c754a742cd06586374591aa2816b5099', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis patch migrates functional tests from Amulet to Zaza.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/70\n\nChange-Id: I92f0a9bdd3677200c775dc82695a3b950a51aac9\nPartial-Bug: #1828424\n'}, {'number': 2, 'created': '2019-10-07 16:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/56b5007b3f5729e50fb93ffc177310ca77727267', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis patch migrates functional tests from Amulet to Zaza.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/70\n\nChange-Id: I92f0a9bdd3677200c775dc82695a3b950a51aac9\nPartial-Bug: #1828424\n'}, {'number': 3, 'created': '2019-10-07 20:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/721d5fdc242a599ccfbbf4c52d33211e33a45cbb', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis patch migrates functional tests from Amulet to Zaza.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/70\n\nChange-Id: I92f0a9bdd3677200c775dc82695a3b950a51aac9\nPartial-Bug: #1828424\n'}, {'number': 4, 'created': '2019-10-07 21:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/95c435d249e8b40984c1cc72a3365bcf3efd03ba', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis patch migrates functional tests from Amulet to Zaza.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/70\n\nChange-Id: I92f0a9bdd3677200c775dc82695a3b950a51aac9\nPartial-Bug: #1828424\n'}, {'number': 5, 'created': '2019-10-08 08:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/0bbd6ca0c357ea626f7525ad046c761141e5a31e', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis patch migrates functional tests from Amulet to Zaza.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/70\n\nChange-Id: I92f0a9bdd3677200c775dc82695a3b950a51aac9\nPartial-Bug: #1828424\n'}, {'number': 6, 'created': '2019-10-08 13:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/4a543b8b8688863c8222597521d474d724635661', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis patch migrates functional tests from Amulet to Zaza.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/70\n\nChange-Id: I92f0a9bdd3677200c775dc82695a3b950a51aac9\nPartial-Bug: #1828424\n'}, {'number': 7, 'created': '2019-10-09 07:14:49.000000000', 'files': ['tests/gate-basic-xenial-pike', 'test-requirements.txt', 'Makefile', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/README.md', 'tests/bundles/bionic-rocky.yaml', 'tests/gate-basic-xenial-mitaka', 'tests/bundles/bionic-queens.yaml', 'tests/dev-basic-disco-stein', 'tests/gate-basic-bionic-stein', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/disco-stein.yaml', 'tests/gate-basic-xenial-ocata', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/basic_deployment.py', 'tests/dev-basic-cosmic-rocky', 'tests/gate-basic-bionic-queens', 'tests/gate-basic-xenial-queens', 'tests/gate-basic-bionic-rocky', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/478cda6ad61278fbec54a5ec2a5ac03ea61ff75c', 'message': 'Migrate functional tests from Amulet to Zaza\n\nThis patch migrates functional tests from Amulet to Zaza.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/70\n\nChange-Id: I92f0a9bdd3677200c775dc82695a3b950a51aac9\nPartial-Bug: #1828424\n'}]",0,687074,478cda6ad61278fbec54a5ec2a5ac03ea61ff75c,52,6,7,30796,,,0,"Migrate functional tests from Amulet to Zaza

This patch migrates functional tests from Amulet to Zaza.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/70

Change-Id: I92f0a9bdd3677200c775dc82695a3b950a51aac9
Partial-Bug: #1828424
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/74/687074/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/gate-basic-xenial-pike', 'test-requirements.txt', 'Makefile', 'tests/bundles/xenial-queens.yaml', 'tests/bundles/xenial-pike.yaml', 'tests/README.md', 'tests/bundles/bionic-rocky.yaml', 'tests/gate-basic-xenial-mitaka', 'tests/bundles/bionic-queens.yaml', 'tests/dev-basic-disco-stein', 'tests/gate-basic-bionic-stein', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/disco-stein.yaml', 'tests/gate-basic-xenial-ocata', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/bionic-stein.yaml', 'tests/bundles/bionic-train.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/tests.yaml', 'tests/basic_deployment.py', 'tests/dev-basic-cosmic-rocky', 'tests/gate-basic-bionic-queens', 'tests/gate-basic-xenial-queens', 'tests/gate-basic-bionic-rocky', 'tox.ini']",25,5baabef5c754a742cd06586374591aa2816b5099,bug/1828424,passenv = HOME TERM AMULET_* CS_API_* OS_* deps = -r{toxinidir}/test-requirements.txt[testenv:py3] basepython = python3 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt [testenv:func] basepython = python3 functest-run-suite --keep-model [testenv:func-smoke] basepython = python3 functest-run-suite --keep-model --smoke [testenv:func-dev] basepython = python3 functest-run-suite --keep-model --dev [testenv:func-target] basepython = python3 functest-run-suite --keep-model --bundle {posargs}exclude = */charmhelpers,"passenv = HOME TERM AMULET_* CS_API_* [testenv:py27] basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = /bin/true[testenv:func27-noop] # DRY RUN - For Debug basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""gate-*"" -n --no-destroy [testenv:func27] # Charm Functional Test # Run all gate tests which are +x (expected to always pass) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""gate-*"" --no-destroy [testenv:func27-smoke] # Charm Functional Test # Run a specific test as an Amulet smoke test (expected to always pass) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json gate-basic-bionic-stein --no-destroy [testenv:func27-dfs] # Charm Functional Test # Run all deploy-from-source tests which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dfs-*"" --no-destroy [testenv:func27-dev] # Charm Functional Test # Run all development test targets which are +x (may not always pass!) basepython = python2.7 deps = -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt commands = bundletester -vl DEBUG -r json -o func-results.json --test-pattern ""dev-*"" --no-destroyexclude = */charmhelpers ",688,1129
openstack%2Fpuppet-glance~master~I09a56d1becc7751dd62b9684f4ef55b37625b029,openstack/puppet-glance,master,I09a56d1becc7751dd62b9684f4ef55b37625b029,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,ABANDONED,2019-10-08 01:28:37.000000000,2019-10-10 14:39:13.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 01:28:37.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/c01806a0acf425e0243021439ffcb6fd4071d401', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nChange-Id: I09a56d1becc7751dd62b9684f4ef55b37625b029\n'}]",0,687191,c01806a0acf425e0243021439ffcb6fd4071d401,5,3,1,30077,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Change-Id: I09a56d1becc7751dd62b9684f4ef55b37625b029
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/91/687191/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c01806a0acf425e0243021439ffcb6fd4071d401,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/train/upper-constraints.txt} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fpuppet-heat~master~I3b4a860d9ecc7dafd82bbc1729c49f2aabc64be7,openstack/puppet-heat,master,I3b4a860d9ecc7dafd82bbc1729c49f2aabc64be7,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,ABANDONED,2019-10-08 01:33:42.000000000,2019-10-10 14:39:07.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 01:33:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/c6ab2f0539630d0a9d71b4a2cade461310e66f4b', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nChange-Id: I3b4a860d9ecc7dafd82bbc1729c49f2aabc64be7\n'}]",0,687192,c6ab2f0539630d0a9d71b4a2cade461310e66f4b,5,3,1,30077,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Change-Id: I3b4a860d9ecc7dafd82bbc1729c49f2aabc64be7
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/92/687192/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,c6ab2f0539630d0a9d71b4a2cade461310e66f4b,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Ftripleo-quickstart-extras~master~Idc859c57582ed3b83c6177e91e14ba4828311826,openstack/tripleo-quickstart-extras,master,Idc859c57582ed3b83c6177e91e14ba4828311826,Replace wget with curl,MERGED,2019-10-09 08:50:40.000000000,2019-10-10 14:38:10.000000000,2019-10-10 14:38:10.000000000,"[{'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 08:50:40.000000000', 'files': ['roles/create-zuul-based-reproducer/templates/reproducer-fresh-box-setup.sh.j2', 'roles/baremetal-undercloud/packages/defaults/main.yml', 'roles/build-images/templates/overcloud-image-build.sh.j2', 'roles/create-zuul-based-reproducer/templates/README-reproducer-zuul-based-quickstart.html.j2', 'roles/freeipa-setup/templates/deploy_freeipa.sh.j2', 'roles/nodepool-setup/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5a8bd7e1623a08bee736ad3b29d633acb48965fa', 'message': ""Replace wget with curl\n\nUsing wget can lead to problems because it's not default.\nWe should use curl instead\n\nChange-Id: Idc859c57582ed3b83c6177e91e14ba4828311826\nCloses-Bug: #1847344\n""}]",1,687498,5a8bd7e1623a08bee736ad3b29d633acb48965fa,15,10,1,8367,,,0,"Replace wget with curl

Using wget can lead to problems because it's not default.
We should use curl instead

Change-Id: Idc859c57582ed3b83c6177e91e14ba4828311826
Closes-Bug: #1847344
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/98/687498/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/create-zuul-based-reproducer/templates/reproducer-fresh-box-setup.sh.j2', 'roles/baremetal-undercloud/packages/defaults/main.yml', 'roles/build-images/templates/overcloud-image-build.sh.j2', 'roles/create-zuul-based-reproducer/templates/README-reproducer-zuul-based-quickstart.html.j2', 'roles/freeipa-setup/templates/deploy_freeipa.sh.j2', 'roles/nodepool-setup/defaults/main.yml']",6,5a8bd7e1623a08bee736ad3b29d633acb48965fa,wget-curl, - curl, - wget,7,7
openstack%2Foslo.policy~master~I8cb1d87c0a6ab7da1918e69cd52fd40276717d5b,openstack/oslo.policy,master,I8cb1d87c0a6ab7da1918e69cd52fd40276717d5b,Update master for stable/train,MERGED,2019-09-20 16:35:41.000000000,2019-10-10 14:35:52.000000000,2019-10-10 14:34:11.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:35:41.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.policy/commit/a235ebff8c7c9b4dcff475e263c531948cb6b954', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8cb1d87c0a6ab7da1918e69cd52fd40276717d5b\nSem-Ver: feature\n'}]",0,683533,a235ebff8c7c9b4dcff475e263c531948cb6b954,9,4,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I8cb1d87c0a6ab7da1918e69cd52fd40276717d5b
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.policy refs/changes/33/683533/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,a235ebff8c7c9b4dcff475e263c531948cb6b954,reno-train, train,,7,0
openstack%2Foslo.cache~stable%2Ftrain~Ib3a2e446fd5b781211ff1accdf6c1c7f94604caa,openstack/oslo.cache,stable/train,Ib3a2e446fd5b781211ff1accdf6c1c7f94604caa,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-20 16:29:59.000000000,2019-10-10 14:35:41.000000000,2019-10-10 14:32:09.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:29:59.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/fdda7595ccb3c831bfdaf032029d7cea7613878f', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ib3a2e446fd5b781211ff1accdf6c1c7f94604caa\n'}]",0,683498,fdda7595ccb3c831bfdaf032029d7cea7613878f,9,4,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ib3a2e446fd5b781211ff1accdf6c1c7f94604caa
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/98/683498/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,fdda7595ccb3c831bfdaf032029d7cea7613878f,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Foslo.cache~stable%2Ftrain~Ied543b947261d29acddabe083e9531502860b56e,openstack/oslo.cache,stable/train,Ied543b947261d29acddabe083e9531502860b56e,Update .gitreview for stable/train,MERGED,2019-09-20 16:29:54.000000000,2019-10-10 14:34:44.000000000,2019-10-10 14:32:08.000000000,"[{'_account_id': 11904}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:29:54.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/b87d4fb2a7704e2bc3e994cb120503a6de881edf', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ied543b947261d29acddabe083e9531502860b56e\n'}]",0,683497,b87d4fb2a7704e2bc3e994cb120503a6de881edf,9,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ied543b947261d29acddabe083e9531502860b56e
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/97/683497/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,b87d4fb2a7704e2bc3e994cb120503a6de881edf,create-train,defaultbranch=stable/train,,1,0
openstack%2Fcharm-guide~master~I557fb8b0d2ed055059bd4016f9dc888e47fbba75,openstack/charm-guide,master,I557fb8b0d2ed055059bd4016f9dc888e47fbba75,Remove openstack-dashboard charm from release not,MERGED,2019-10-08 14:27:59.000000000,2019-10-10 14:34:29.000000000,2019-10-10 14:33:10.000000000,"[{'_account_id': 20635}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-10-08 14:27:59.000000000', 'files': ['doc/source/1910.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f67b1b67fc9362500ca404ec3a62fdfecd36b7ac', 'message': 'Remove openstack-dashboard charm from release not\n\nThe openstack-dashboard charm needs a very different approach than the\nother charms and is removed from this delivery.\n\nChange-Id: I557fb8b0d2ed055059bd4016f9dc888e47fbba75\n'}]",0,687316,f67b1b67fc9362500ca404ec3a62fdfecd36b7ac,8,3,1,20870,,,0,"Remove openstack-dashboard charm from release not

The openstack-dashboard charm needs a very different approach than the
other charms and is removed from this delivery.

Change-Id: I557fb8b0d2ed055059bd4016f9dc888e47fbba75
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/16/687316/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/1910.rst'],1,f67b1b67fc9362500ca404ec3a62fdfecd36b7ac,policy-overrides,,- openstack-dashboard (horizon),0,1
openstack%2Foslo.cache~master~If3d9f630ccff095a9a24156f73f9825c02157b66,openstack/oslo.cache,master,If3d9f630ccff095a9a24156f73f9825c02157b66,Update master for stable/train,MERGED,2019-09-20 16:30:03.000000000,2019-10-10 14:33:48.000000000,2019-10-10 14:32:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:30:03.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/23101c75f06abddfe52faa01b599b68bdd0c12f2', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: If3d9f630ccff095a9a24156f73f9825c02157b66\nSem-Ver: feature\n'}]",0,683499,23101c75f06abddfe52faa01b599b68bdd0c12f2,9,4,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: If3d9f630ccff095a9a24156f73f9825c02157b66
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/99/683499/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,23101c75f06abddfe52faa01b599b68bdd0c12f2,reno-train, train,,7,0
openstack%2Freleases~master~I513c365f1abf1e62c4853126564562905ec38ce2,openstack/releases,master,I513c365f1abf1e62c4853126564562905ec38ce2,Release octavia-dashboard RC2 for Train,MERGED,2019-10-09 15:34:59.000000000,2019-10-10 14:31:15.000000000,2019-10-10 14:31:15.000000000,"[{'_account_id': 308}, {'_account_id': 11628}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:34:59.000000000', 'files': ['deliverables/train/octavia-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e7d4f266d4c9b2792aa1910cab65d880adee374e', 'message': 'Release octavia-dashboard RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: I513c365f1abf1e62c4853126564562905ec38ce2\n'}]",1,687595,e7d4f266d4c9b2792aa1910cab65d880adee374e,9,4,1,11904,,,0,"Release octavia-dashboard RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: I513c365f1abf1e62c4853126564562905ec38ce2
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/687595/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/octavia-dashboard.yaml'],1,e7d4f266d4c9b2792aa1910cab65d880adee374e,train-rc2, - version: 4.0.0.0rc2 projects: - repo: openstack/octavia-dashboard hash: d515a7450bf229222358045a57301c2778f18344,,4,0
openstack%2Freleases~master~Ia91bfb28391a2495144f37482d466d4426de1111,openstack/releases,master,Ia91bfb28391a2495144f37482d466d4426de1111,Release ceilometer RC2 for Train,MERGED,2019-10-09 15:19:45.000000000,2019-10-10 14:31:13.000000000,2019-10-10 14:31:13.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:19:45.000000000', 'files': ['deliverables/train/ceilometer.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/03345e0c2199b1c04bd98c6e48adbd516f354238', 'message': 'Release ceilometer RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: Ia91bfb28391a2495144f37482d466d4426de1111\n'}]",0,687586,03345e0c2199b1c04bd98c6e48adbd516f354238,8,4,1,11904,,,0,"Release ceilometer RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: Ia91bfb28391a2495144f37482d466d4426de1111
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/687586/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ceilometer.yaml'],1,03345e0c2199b1c04bd98c6e48adbd516f354238,train-rc2, - version: 13.0.0.0rc2 projects: - repo: openstack/ceilometer hash: 7962947310d784fdfccf03512468ee2eec0c9ffa,,4,0
openstack%2Freleases~master~Iee0b52fb178add8b2b44b67ec0a834da34e8bf20,openstack/releases,master,Iee0b52fb178add8b2b44b67ec0a834da34e8bf20,Release murano-dashboard RC2 for Train,MERGED,2019-10-09 15:25:26.000000000,2019-10-10 14:31:12.000000000,2019-10-10 14:31:12.000000000,"[{'_account_id': 308}, {'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:25:26.000000000', 'files': ['deliverables/train/murano-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d312a5c2eebd71d3fc1c008243a2eb1079293d71', 'message': 'Release murano-dashboard RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: Iee0b52fb178add8b2b44b67ec0a834da34e8bf20\n'}]",0,687591,d312a5c2eebd71d3fc1c008243a2eb1079293d71,9,5,1,11904,,,0,"Release murano-dashboard RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: Iee0b52fb178add8b2b44b67ec0a834da34e8bf20
",git fetch https://review.opendev.org/openstack/releases refs/changes/91/687591/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/murano-dashboard.yaml'],1,d312a5c2eebd71d3fc1c008243a2eb1079293d71,train-rc2, - version: 8.0.0.0rc2 projects: - repo: openstack/murano-dashboard hash: bead4366d96a1e6e230e8f147b97a60e859f760b,,4,0
openstack%2Freleases~master~Id04dcea4dceaaea31ae75bc394b04bf31a39cc3c,openstack/releases,master,Id04dcea4dceaaea31ae75bc394b04bf31a39cc3c,Release watcher RC2 for Train,MERGED,2019-10-09 15:42:48.000000000,2019-10-10 14:31:10.000000000,2019-10-10 14:31:10.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:42:48.000000000', 'files': ['deliverables/train/watcher.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a5f9ed443b816b3e09aed9a923a52b51a71c0bba', 'message': 'Release watcher RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: Id04dcea4dceaaea31ae75bc394b04bf31a39cc3c\n'}]",0,687599,a5f9ed443b816b3e09aed9a923a52b51a71c0bba,8,4,1,11904,,,0,"Release watcher RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: Id04dcea4dceaaea31ae75bc394b04bf31a39cc3c
",git fetch https://review.opendev.org/openstack/releases refs/changes/99/687599/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/watcher.yaml'],1,a5f9ed443b816b3e09aed9a923a52b51a71c0bba,train-rc2, - version: 3.0.0.0rc2 projects: - repo: openstack/watcher hash: 85763ccfce7937887cc7086b34c0255633c8b7e5,,4,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Fqueens~I29c8bf9a96002fa7081c86465c7b25b2aecd6f92,openstack/puppet-openstack_spec_helper,stable/queens,I29c8bf9a96002fa7081c86465c7b25b2aecd6f92,Pin signet to 0.11 for ruby <= 2.4.0,MERGED,2019-10-09 21:19:52.000000000,2019-10-10 14:30:10.000000000,2019-10-10 14:30:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 21:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d0bbded5c224acc6cd16406ad17b1eb08b33da08', 'message': 'Pin signet to 0.11 for ruby <= 2.4.0\n\nFails since 0.12.0 that was released today\nrequires ruby >= 2.4.0. See failure in [1].\n\n[1] https://review.opendev.org/#/c/687050/\n\nChange-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92\n(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)\n'}, {'number': 2, 'created': '2019-10-10 12:13:22.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/39fe345fe6e986f884de0e49121b7ff9ceee6208', 'message': 'Pin signet to 0.11 for ruby <= 2.4.0\n\nFails since 0.12.0 that was released today\nrequires ruby >= 2.4.0. See failure in [1].\n\n[1] https://review.opendev.org/#/c/687050/\n\nChange-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92\n(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)\n'}]",0,687679,39fe345fe6e986f884de0e49121b7ff9ceee6208,13,3,2,16137,,,0,"Pin signet to 0.11 for ruby <= 2.4.0

Fails since 0.12.0 that was released today
requires ruby >= 2.4.0. See failure in [1].

[1] https://review.opendev.org/#/c/687050/

Change-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92
(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/79/687679/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,d0bbded5c224acc6cd16406ad17b1eb08b33da08,pin-signet-stable/queens," # NOTE(tobias-urdin): Pin signet to 0.11.0 as 0.12.0 requires ruby >= 2.4.0 signet_version = RUBY_VERSION < '2.4.0' ? '~> 0.11' : '>= 0.11.0' spec.add_dependency 'signet', signet_version ",,4,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Fstein~I29c8bf9a96002fa7081c86465c7b25b2aecd6f92,openstack/puppet-openstack_spec_helper,stable/stein,I29c8bf9a96002fa7081c86465c7b25b2aecd6f92,Pin signet to 0.11 for ruby <= 2.4.0,MERGED,2019-10-09 21:19:41.000000000,2019-10-10 14:30:09.000000000,2019-10-10 14:30:09.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 21:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/39f8967e2d4c44950320cdfa031557ca95e45eef', 'message': 'Pin signet to 0.11 for ruby <= 2.4.0\n\nFails since 0.12.0 that was released today\nrequires ruby >= 2.4.0. See failure in [1].\n\n[1] https://review.opendev.org/#/c/687050/\n\nChange-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92\n(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)\n'}, {'number': 2, 'created': '2019-10-10 12:12:12.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/c772bb9dc6c483c0eb292884e1d39223800a6ab1', 'message': 'Pin signet to 0.11 for ruby <= 2.4.0\n\nFails since 0.12.0 that was released today\nrequires ruby >= 2.4.0. See failure in [1].\n\n[1] https://review.opendev.org/#/c/687050/\n\nChange-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92\n(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)\n'}]",0,687677,c772bb9dc6c483c0eb292884e1d39223800a6ab1,13,3,2,16137,,,0,"Pin signet to 0.11 for ruby <= 2.4.0

Fails since 0.12.0 that was released today
requires ruby >= 2.4.0. See failure in [1].

[1] https://review.opendev.org/#/c/687050/

Change-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92
(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/77/687677/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,39f8967e2d4c44950320cdfa031557ca95e45eef,pin-signet-stable/stein," # NOTE(tobias-urdin): Pin signet to 0.11.0 as 0.12.0 requires ruby >= 2.4.0 signet_version = RUBY_VERSION < '2.4.0' ? '~> 0.11' : '>= 0.11.0' spec.add_dependency 'signet', signet_version ",,4,0
openstack%2Foslo.concurrency~master~I9defdd3731950af42438ec96d0f1040fe1b5661d,openstack/oslo.concurrency,master,I9defdd3731950af42438ec96d0f1040fe1b5661d,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-10 06:21:17.000000000,2019-10-10 14:29:25.000000000,2019-10-10 14:27:52.000000000,"[{'_account_id': 708}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-10-10 06:21:17.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/85c341aced7b181724b68c9d883768b5c5f7e982', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I9defdd3731950af42438ec96d0f1040fe1b5661d\n'}]",0,687783,85c341aced7b181724b68c9d883768b5c5f7e982,9,4,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I9defdd3731950af42438ec96d0f1040fe1b5661d
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/83/687783/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,85c341aced7b181724b68c9d883768b5c5f7e982,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Frocky~I29c8bf9a96002fa7081c86465c7b25b2aecd6f92,openstack/puppet-openstack_spec_helper,stable/rocky,I29c8bf9a96002fa7081c86465c7b25b2aecd6f92,Pin signet to 0.11 for ruby <= 2.4.0,MERGED,2019-10-09 21:19:45.000000000,2019-10-10 14:20:16.000000000,2019-10-10 14:20:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 21:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/ff31035b4cb2d4423326916fb2f974e4f1963789', 'message': 'Pin signet to 0.11 for ruby <= 2.4.0\n\nFails since 0.12.0 that was released today\nrequires ruby >= 2.4.0. See failure in [1].\n\n[1] https://review.opendev.org/#/c/687050/\n\nChange-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92\n(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)\n'}, {'number': 2, 'created': '2019-10-10 12:12:45.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/77113c8a91de4e86245669f071526f395f63a5c1', 'message': 'Pin signet to 0.11 for ruby <= 2.4.0\n\nFails since 0.12.0 that was released today\nrequires ruby >= 2.4.0. See failure in [1].\n\n[1] https://review.opendev.org/#/c/687050/\n\nChange-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92\n(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)\n'}]",0,687678,77113c8a91de4e86245669f071526f395f63a5c1,13,3,2,16137,,,0,"Pin signet to 0.11 for ruby <= 2.4.0

Fails since 0.12.0 that was released today
requires ruby >= 2.4.0. See failure in [1].

[1] https://review.opendev.org/#/c/687050/

Change-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92
(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/78/687678/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,ff31035b4cb2d4423326916fb2f974e4f1963789,pin-signet-stable/rocky," # NOTE(tobias-urdin): Pin signet to 0.11.0 as 0.12.0 requires ruby >= 2.4.0 signet_version = RUBY_VERSION < '2.4.0' ? '~> 0.11' : '>= 0.11.0' spec.add_dependency 'signet', signet_version ",,4,0
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~I29c8bf9a96002fa7081c86465c7b25b2aecd6f92,openstack/puppet-openstack_spec_helper,stable/train,I29c8bf9a96002fa7081c86465c7b25b2aecd6f92,Pin signet to 0.11 for ruby <= 2.4.0,MERGED,2019-10-09 21:19:22.000000000,2019-10-10 14:20:16.000000000,2019-10-10 14:20:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 21:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/1a38c99070586ef43a5c538cf4b09dbd23fc6d73', 'message': 'Pin signet to 0.11 for ruby <= 2.4.0\n\nFails since 0.12.0 that was released today\nrequires ruby >= 2.4.0. See failure in [1].\n\n[1] https://review.opendev.org/#/c/687050/\n\nChange-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92\n(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)\n'}, {'number': 2, 'created': '2019-10-10 12:11:43.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/35ee7c96bb47c1969a6e9b0355d012990c44c450', 'message': 'Pin signet to 0.11 for ruby <= 2.4.0\n\nFails since 0.12.0 that was released today\nrequires ruby >= 2.4.0. See failure in [1].\n\n[1] https://review.opendev.org/#/c/687050/\n\nChange-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92\n(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)\n'}]",0,687676,35ee7c96bb47c1969a6e9b0355d012990c44c450,17,3,2,16137,,,0,"Pin signet to 0.11 for ruby <= 2.4.0

Fails since 0.12.0 that was released today
requires ruby >= 2.4.0. See failure in [1].

[1] https://review.opendev.org/#/c/687050/

Change-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92
(cherry picked from commit 5b3517f068c1159c226087b4630e180454fec71d)
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/76/687676/2 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,1a38c99070586ef43a5c538cf4b09dbd23fc6d73,pin-signet-stable/train," # NOTE(tobias-urdin): Pin signet to 0.11.0 as 0.12.0 requires ruby >= 2.4.0 signet_version = RUBY_VERSION < '2.4.0' ? '~> 0.11' : '>= 0.11.0' spec.add_dependency 'signet', signet_version ",,4,0
openstack%2Fironic~stable%2Frocky~Ibedf375cfeeb20917f06e52b1e86a6990a3c494b,openstack/ironic,stable/rocky,Ibedf375cfeeb20917f06e52b1e86a6990a3c494b,grub configuration should use user kernel & ramdisk,MERGED,2019-10-08 13:52:34.000000000,2019-10-10 14:17:48.000000000,2019-10-10 14:15:53.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-10-08 13:52:34.000000000', 'files': ['releasenotes/notes/ramdisk-grub-use-user-kernel-ramdisk-7d572fe130932605.yaml', 'ironic/drivers/modules/pxe_grub_config.template', 'ironic/tests/unit/drivers/pxe_grub_config.template'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f4575b9faf340d9c69700c7b05324564158aa9a7', 'message': 'grub configuration should use user kernel & ramdisk\n\ncompared with pxe_config.template, ramdisk boot with grub should use\naki_path and ari_path\n\nChange-Id: Ibedf375cfeeb20917f06e52b1e86a6990a3c494b\nStory: 2006639\nTask: 36855\n(cherry picked from commit 2364c8b247899f8ac9fb42b53a070db2ea50a2e0)\n'}]",0,687307,f4575b9faf340d9c69700c7b05324564158aa9a7,24,7,1,29071,,,0,"grub configuration should use user kernel & ramdisk

compared with pxe_config.template, ramdisk boot with grub should use
aki_path and ari_path

Change-Id: Ibedf375cfeeb20917f06e52b1e86a6990a3c494b
Story: 2006639
Task: 36855
(cherry picked from commit 2364c8b247899f8ac9fb42b53a070db2ea50a2e0)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/687307/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ramdisk-grub-use-user-kernel-ramdisk-7d572fe130932605.yaml', 'ironic/drivers/modules/pxe_grub_config.template', 'ironic/tests/unit/drivers/pxe_grub_config.template']",3,f4575b9faf340d9c69700c7b05324564158aa9a7,ramdisk_boot_grub_use_user_kernel_ramdisk-stable/stein-stable/rocky, linuxefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/kernel root=/dev/ram0 text test_param ramdisk_param initrdefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/ramdisk, linuxefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/deploy_kernel root=/dev/ram0 text test_param ramdisk_param initrdefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/deploy_ramdisk,9,4
openstack%2Fnetworking-ovn~master~Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f,openstack/networking-ovn,master,Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f,Add specified vip address when create vip,MERGED,2019-07-03 09:49:01.000000000,2019-10-10 14:17:25.000000000,2019-07-30 11:06:32.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}, {'_account_id': 29874}]","[{'number': 1, 'created': '2019-07-03 09:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a869f50000c78ffc236b0b3ba78089b6ac7eb8cb', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nBecause of no unit for all octavia driver, so i can not add one for\nthis patch, when global unit frame is ok, i will add one for this patch.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 2, 'created': '2019-07-04 08:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/78df2e8cea2e49761b2fa386351274e66a11977e', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nBecause of no unit for all octavia driver, so i can not add one for\nthis patch, when global unit frame is ok, i will add one for this patch.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 3, 'created': '2019-07-04 12:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/04f97ad8d629f2afe2c42b320d4fb542c43fe5ae', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 4, 'created': '2019-07-04 12:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/85e96cfd678a0646edf2d6441ce345ca53ab8b63', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 5, 'created': '2019-07-05 00:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/763c66329aec39a03244e8269f5015a1a4f6d35e', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 6, 'created': '2019-07-05 10:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/709900b3ff98fc6b1e32a4c5f4094fd1956c9d52', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 7, 'created': '2019-07-15 00:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1285d0fa8cc6db0262461e731b12dc21a7b4eaa8', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 8, 'created': '2019-07-16 10:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f1eb89b1a6fabe1508426c4c76e94aab25d080fc', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 9, 'created': '2019-07-16 11:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/80b5f08a4173e6718ecc6caca0d1bd0c9167d8f4', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 10, 'created': '2019-07-17 00:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8574648fc8813a6a3adc9de743b7d2f4cedf3db2', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 11, 'created': '2019-07-18 03:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3e6c864b6a15b251018479a703815c5fc60814e7', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 12, 'created': '2019-07-22 11:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1182b24c3536c65672d35673c652d1f91e09e928', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}, {'number': 13, 'created': '2019-07-24 01:19:16.000000000', 'files': ['networking_ovn/octavia/ovn_driver.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ba5304bbf902fe1742825804495e64006fad504c', 'message': 'Add specified vip address when create vip\n\nIt is invalid when create lb with parameter "" --vip-address"".\nThis patch add vip address to vip_port in create_vip_port method.\n\nChange-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f\nCloses-Bug: #1835184\n'}]",22,668850,ba5304bbf902fe1742825804495e64006fad504c,98,8,13,29874,,,0,"Add specified vip address when create vip

It is invalid when create lb with parameter "" --vip-address"".
This patch add vip address to vip_port in create_vip_port method.

Change-Id: Iafe54a3bfe75a0e15c57b34b9a714dd853890a2f
Closes-Bug: #1835184
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/50/668850/9 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,a869f50000c78ffc236b0b3ba78089b6ac7eb8cb,bug/1835184," 'fixed_ips': [{'subnet_id': vip_d['vip_subnet_id'], 'ip_address': vip_d['vip_address']}],"," 'fixed_ips': [{'subnet_id': vip_d['vip_subnet_id']}],",2,1
openstack%2Freleases~master~I2cc3f1dbf9f08b50208ee2ac108d8dd2c581214d,openstack/releases,master,I2cc3f1dbf9f08b50208ee2ac108d8dd2c581214d,Release searchlight RC2 for Train,MERGED,2019-10-09 15:39:33.000000000,2019-10-10 14:14:05.000000000,2019-10-10 14:14:05.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-10-09 15:39:33.000000000', 'files': ['deliverables/train/searchlight.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f9a614b3613c58bb660d3d2dcc5178bfbadd9c4c', 'message': 'Release searchlight RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: I2cc3f1dbf9f08b50208ee2ac108d8dd2c581214d\n'}]",0,687597,f9a614b3613c58bb660d3d2dcc5178bfbadd9c4c,8,4,1,11904,,,0,"Release searchlight RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: I2cc3f1dbf9f08b50208ee2ac108d8dd2c581214d
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/687597/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/searchlight.yaml'],1,f9a614b3613c58bb660d3d2dcc5178bfbadd9c4c,train-rc2, - version: 7.0.0.0rc2 projects: - repo: openstack/searchlight hash: 5aeee08c44091b93b7619b48d389af4833016337,,4,0
openstack%2Freleases~master~Ica81d1eb8b9e566b98ea60bf7d35c81e46611760,openstack/releases,master,Ica81d1eb8b9e566b98ea60bf7d35c81e46611760,Release mistral RC2 for Train,MERGED,2019-10-09 15:24:24.000000000,2019-10-10 14:07:57.000000000,2019-10-10 14:07:57.000000000,"[{'_account_id': 308}, {'_account_id': 8731}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/bf147cc1b1255bb039688e44734aa79ee20fa2bd', 'message': 'Release mistral RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: Ica81d1eb8b9e566b98ea60bf7d35c81e46611760\n'}, {'number': 2, 'created': '2019-10-10 07:28:45.000000000', 'files': ['deliverables/train/mistral.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cb345fb7f7aea118927f76103f37465630651aee', 'message': 'Release mistral RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: Ica81d1eb8b9e566b98ea60bf7d35c81e46611760\n'}]",0,687590,cb345fb7f7aea118927f76103f37465630651aee,10,4,2,11904,,,0,"Release mistral RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: Ica81d1eb8b9e566b98ea60bf7d35c81e46611760
",git fetch https://review.opendev.org/openstack/releases refs/changes/90/687590/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/mistral.yaml'],1,bf147cc1b1255bb039688e44734aa79ee20fa2bd,train-rc2, - version: 9.0.0.0rc2 projects: - repo: openstack/mistral hash: 41bf7406c06b7a0b9cd2cda57daadb804f8ef48e - repo: openstack/mistral-dashboard hash: 82df9c6400eb1c5e74c14df16439fcfb5491ddfd - repo: openstack/mistral-extra hash: 559c7ef5a977583dd4f1b931880d4154ebf565b5,,8,0
openstack%2Ftripleo-common~master~Ib9ace4eca95c68c9641f3cbbe9b5f868ea49d211,openstack/tripleo-common,master,Ib9ace4eca95c68c9641f3cbbe9b5f868ea49d211,Fix error in parsing nic config with duplicate quotes,MERGED,2019-09-21 07:22:00.000000000,2019-10-10 14:06:20.000000000,2019-10-10 14:05:05.000000000,"[{'_account_id': 7144}, {'_account_id': 17130}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-09-21 07:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0e655cfe517e682d56b6f380321fd0d358b626bf', 'message': 'Fix error in parsing nic config with duplicate quotes\n\nNetwork config of stack preview result is parsed based on\nsingle quote at the end. With the conversion of network\nconfig to ansible, there are many single quotes on the\nnetwork config preview. It results in partial network\nconfig, resulting in yaml load failure. Fix the end of\nnetwork config parsing with more relevant code in\nrun_os_net_config.sh\n\nChange-Id: Ib9ace4eca95c68c9641f3cbbe9b5f868ea49d211\n'}, {'number': 2, 'created': '2019-09-25 17:25:49.000000000', 'files': ['tripleo_common/tests/actions/test_parameters.py', 'tripleo_common/actions/parameters.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/705bdd718863ddcfa14e999cf97a3eda1393237b', 'message': 'Fix error in parsing nic config with duplicate quotes\n\nNetwork config of stack preview result is parsed based on\nsingle quote at the end. With the conversion of network\nconfig to ansible, there are many single quotes on the\nnetwork config preview. It results in partial network\nconfig, resulting in yaml load failure. Fix the end of\nnetwork config parsing with more relevant code in\nrun_os_net_config.sh\n\nChange-Id: Ib9ace4eca95c68c9641f3cbbe9b5f868ea49d211\n'}]",0,683763,705bdd718863ddcfa14e999cf97a3eda1393237b,25,7,2,18575,,,0,"Fix error in parsing nic config with duplicate quotes

Network config of stack preview result is parsed based on
single quote at the end. With the conversion of network
config to ansible, there are many single quotes on the
network config preview. It results in partial network
config, resulting in yaml load failure. Fix the end of
network config parsing with more relevant code in
run_os_net_config.sh

Change-Id: Ib9ace4eca95c68c9641f3cbbe9b5f868ea49d211
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/683763/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/actions/parameters.py'],1,0e655cfe517e682d56b6f380321fd0d358b626bf,derive_params_fix," # In file network/scripts/run-os-net-config.sh end_str = ""' > /etc/os-net-config/config.json"" end_index = net_script.find(end_str, start_index, ns_len)"," end_index = net_script.find(""'"", start_index, ns_len)",3,1
openstack%2Freleases~master~Ibf3c40efa320221e77b545d3b8eb1f5c17343167,openstack/releases,master,Ibf3c40efa320221e77b545d3b8eb1f5c17343167,Release Neutron RC2 for Train,MERGED,2019-10-09 15:34:06.000000000,2019-10-10 14:04:13.000000000,2019-10-10 14:04:13.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:34:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/964a7641b3a5d2f8304aedcdf683f3d1a1fc542b', 'message': 'Release Neutron RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: Ibf3c40efa320221e77b545d3b8eb1f5c17343167\n'}, {'number': 2, 'created': '2019-10-10 07:20:59.000000000', 'files': ['deliverables/train/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9caa2cbcbd2b25d2013f4dbc095e7a5cc7682e73', 'message': 'Release Neutron RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: Ibf3c40efa320221e77b545d3b8eb1f5c17343167\n'}]",0,687594,9caa2cbcbd2b25d2013f4dbc095e7a5cc7682e73,13,6,2,11904,,,0,"Release Neutron RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: Ibf3c40efa320221e77b545d3b8eb1f5c17343167
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/687594/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/neutron.yaml'],1,964a7641b3a5d2f8304aedcdf683f3d1a1fc542b,train-rc2, - version: 15.0.0.0rc2 projects: - repo: openstack/neutron hash: eb1d0313d0dddb5e93f4d91ae28390946edab149,,4,0
openstack%2Freleases~master~I0b360025c8d714d847889888ca0b5ca9fdf6fe1a,openstack/releases,master,I0b360025c8d714d847889888ca0b5ca9fdf6fe1a,Release networking-ovn RC2 for Train,MERGED,2019-10-09 15:26:16.000000000,2019-10-10 14:03:13.000000000,2019-10-10 14:03:13.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:26:16.000000000', 'files': ['deliverables/train/networking-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/a3220be48b997af96758945fa7ec2041534f5932', 'message': 'Release networking-ovn RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: I0b360025c8d714d847889888ca0b5ca9fdf6fe1a\n'}]",0,687592,a3220be48b997af96758945fa7ec2041534f5932,10,7,1,11904,,,0,"Release networking-ovn RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: I0b360025c8d714d847889888ca0b5ca9fdf6fe1a
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/687592/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/networking-ovn.yaml'],1,a3220be48b997af96758945fa7ec2041534f5932,train-rc2, - version: 7.0.0.0rc2 projects: - repo: openstack/networking-ovn hash: 60ca3c7809cba359871ed7220715a637448d9362,,4,0
openstack%2Fgovernance~master~I3a73d93656b9d1d0cb63ebbb6095df8f49d357ca,openstack/governance,master,I3a73d93656b9d1d0cb63ebbb6095df8f49d357ca,New charm and interface for placement split,MERGED,2019-10-02 19:08:37.000000000,2019-10-10 14:01:57.000000000,2019-10-10 14:00:26.000000000,"[{'_account_id': 308}, {'_account_id': 935}, {'_account_id': 4257}, {'_account_id': 7198}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 10343}, {'_account_id': 10607}, {'_account_id': 11805}, {'_account_id': 12404}, {'_account_id': 13995}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 19:08:37.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/e67a3956c36b385a2c41815ecf58ce52d4064fc7', 'message': 'New charm and interface for placement split\n\nAdd placement charm and interface that allow for placement API\nto be split from nova-cloud-controller charm.\n\nDepends-On: https://review.opendev.org/686251\nChange-Id: I3a73d93656b9d1d0cb63ebbb6095df8f49d357ca\n'}]",0,686253,e67a3956c36b385a2c41815ecf58ce52d4064fc7,27,13,1,11805,,,0,"New charm and interface for placement split

Add placement charm and interface that allow for placement API
to be split from nova-cloud-controller charm.

Depends-On: https://review.opendev.org/686251
Change-Id: I3a73d93656b9d1d0cb63ebbb6095df8f49d357ca
",git fetch https://review.opendev.org/openstack/governance refs/changes/53/686253/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,e67a3956c36b385a2c41815ecf58ce52d4064fc7,project-update, charm-placement: release-management: external repos: - openstack/charm-placement charm-interface-placement: release-management: external repos: - openstack/charm-interface-placement,,8,0
openstack%2Ftripleo-validations~stable%2Fstein~Ic13406b4ddaf0e8eb8e376b92481e8cb85e1f548,openstack/tripleo-validations,stable/stein,Ic13406b4ddaf0e8eb8e376b92481e8cb85e1f548,Fix ost-tox-lower-constraints job indentation,MERGED,2019-10-10 07:52:43.000000000,2019-10-10 14:00:32.000000000,2019-10-10 14:00:32.000000000,"[{'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-10 07:52:43.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b7d2dcb182e7ce36d4a1b7275ebaef336ce0760f', 'message': 'Fix ost-tox-lower-constraints job indentation\n\nChange-Id: Ic13406b4ddaf0e8eb8e376b92481e8cb85e1f548\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 7d849f6e02f29a6631d3367ee7bd0689939e167e)\n'}]",0,687812,b7d2dcb182e7ce36d4a1b7275ebaef336ce0760f,8,5,1,11491,,,0,"Fix ost-tox-lower-constraints job indentation

Change-Id: Ic13406b4ddaf0e8eb8e376b92481e8cb85e1f548
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 7d849f6e02f29a6631d3367ee7bd0689939e167e)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/12/687812/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,b7d2dcb182e7ce36d4a1b7275ebaef336ce0760f,, - openstack-tox-lower-constraints, - openstack-tox-lower-constraints,1,1
openstack%2Ftripleo-validations~stable%2Fstein~I66fdfb83a132f84619d81c3d2ad9987ca2fe59ee,openstack/tripleo-validations,stable/stein,I66fdfb83a132f84619d81c3d2ad9987ca2fe59ee,Fix missing closing parenthesis in skeleton role,MERGED,2019-10-10 07:54:07.000000000,2019-10-10 14:00:31.000000000,2019-10-10 14:00:31.000000000,"[{'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-10 07:54:07.000000000', 'files': ['_skeleton_role_/defaults/main.yml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/b8a19deb37501661ea2185e6abc498b0b82d240a', 'message': 'Fix missing closing parenthesis in skeleton role\n\nChange-Id: I66fdfb83a132f84619d81c3d2ad9987ca2fe59ee\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 35d762a0a690a8ba9548764de7b458ce3dc75808)\n'}]",0,687814,b8a19deb37501661ea2185e6abc498b0b82d240a,8,5,1,11491,,,0,"Fix missing closing parenthesis in skeleton role

Change-Id: I66fdfb83a132f84619d81c3d2ad9987ca2fe59ee
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 35d762a0a690a8ba9548764de7b458ce3dc75808)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/14/687814/1 && git format-patch -1 --stdout FETCH_HEAD,['_skeleton_role_/defaults/main.yml.j2'],1,b8a19deb37501661ea2185e6abc498b0b82d240a,,"# All variables within this role should have a prefix of ""{{ role_name | replace('-', '_') }}""","# All variables within this role should have a prefix of ""{{ role_name | replace('-', '_'}}""",1,1
openstack%2Freleases~master~I48adba327b23f59b5e77c9d4e7df9fba05b45933,openstack/releases,master,I48adba327b23f59b5e77c9d4e7df9fba05b45933,Release magnum RC2 for Train,MERGED,2019-10-09 15:22:56.000000000,2019-10-10 14:00:14.000000000,2019-10-10 14:00:14.000000000,"[{'_account_id': 308}, {'_account_id': 6484}, {'_account_id': 11904}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:22:56.000000000', 'files': ['deliverables/train/magnum.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/85501ffaf74d21af42fcc725008be43c6c2acdec', 'message': 'Release magnum RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: I48adba327b23f59b5e77c9d4e7df9fba05b45933\n'}]",0,687589,85501ffaf74d21af42fcc725008be43c6c2acdec,8,5,1,11904,,,0,"Release magnum RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: I48adba327b23f59b5e77c9d4e7df9fba05b45933
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/687589/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/magnum.yaml'],1,85501ffaf74d21af42fcc725008be43c6c2acdec,train-rc2, - version: 9.0.0.0rc2 projects: - repo: openstack/magnum hash: 5e66b4fe637e56f2719edae6e21aab354792bb30,,4,0
openstack%2Fkayobe~master~Ia48ec33076b46d2ee186823e8257ba0fc8cdc92a,openstack/kayobe,master,Ia48ec33076b46d2ee186823e8257ba0fc8cdc92a,DNM: Test kolla-ansible fix for kolla_toobox,ABANDONED,2019-09-30 12:35:07.000000000,2019-10-10 13:54:46.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 12:35:07.000000000', 'files': ['ansible/kolla-ansible.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/25de21ca170eeb8163484e621ff4481e4a774f1d', 'message': 'DNM: Test kolla-ansible fix for kolla_toobox\n\nDepends-On: https://review.opendev.org/685700\nChange-Id: Ia48ec33076b46d2ee186823e8257ba0fc8cdc92a\n'}]",0,685701,25de21ca170eeb8163484e621ff4481e4a774f1d,5,2,1,14826,,,0,"DNM: Test kolla-ansible fix for kolla_toobox

Depends-On: https://review.opendev.org/685700
Change-Id: Ia48ec33076b46d2ee186823e8257ba0fc8cdc92a
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/01/685701/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/kolla-ansible.yml'],1,25de21ca170eeb8163484e621ff4481e4a774f1d,,# TEST ME,,1,0
openstack%2Freleases~master~Ide6203cdf80f5bc55abe162a7f4bbc72d0e9c054,openstack/releases,master,Ide6203cdf80f5bc55abe162a7f4bbc72d0e9c054,Release compute-hyperv RC2 for Train,MERGED,2019-10-09 15:21:00.000000000,2019-10-10 13:53:20.000000000,2019-10-10 13:53:20.000000000,"[{'_account_id': 308}, {'_account_id': 8213}, {'_account_id': 8543}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:21:00.000000000', 'files': ['deliverables/train/compute-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/124d45a485440879ac0a4cda3dbc3be1948afab4', 'message': 'Release compute-hyperv RC2 for Train\n\nThis release is being proposed to pick up translations and bugfixes\nthat have merged to stable/train but not been released.\n\nNot all changes are critical to make it into the initial Train\ncoordinated release and can wait until a stable release later. If\nthis patch does not get an ack from the PTL and/or release liaison\nby EOD Thursday it will just be abandoned.\n\nTeams may also choose to -1 this patch and update it once any final\ncommits merge prior to the October 10 deadline.\n\nChange-Id: Ide6203cdf80f5bc55abe162a7f4bbc72d0e9c054\n'}]",0,687587,124d45a485440879ac0a4cda3dbc3be1948afab4,9,5,1,11904,,,0,"Release compute-hyperv RC2 for Train

This release is being proposed to pick up translations and bugfixes
that have merged to stable/train but not been released.

Not all changes are critical to make it into the initial Train
coordinated release and can wait until a stable release later. If
this patch does not get an ack from the PTL and/or release liaison
by EOD Thursday it will just be abandoned.

Teams may also choose to -1 this patch and update it once any final
commits merge prior to the October 10 deadline.

Change-Id: Ide6203cdf80f5bc55abe162a7f4bbc72d0e9c054
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/687587/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/compute-hyperv.yaml'],1,124d45a485440879ac0a4cda3dbc3be1948afab4,train-rc2, - version: 9.0.0.0rc2 projects: - repo: openstack/compute-hyperv hash: 0d9f5310941c6278e9416a7f8e25375565485108,,4,0
openstack%2Fkuryr-kubernetes~master~I914109337066441a2750d055aec5cf0e799d7516,openstack/kuryr-kubernetes,master,I914109337066441a2750d055aec5cf0e799d7516,Avoid race between pod creation retry and namespace deletion,MERGED,2019-10-09 09:34:10.000000000,2019-10-10 13:49:36.000000000,2019-10-10 13:46:54.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-09 09:34:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f66cb0413f04f92ec836ba85557c5489d8548a41', 'message': 'Avoid race between pod creation retry and namespace deletion\n\nThis patch ensure that if a namespace gets deleted and there is\na pending pod creation retry, the later will not fail due to the\nsubnet being already deleted.\n\nChange-Id: I914109337066441a2750d055aec5cf0e799d7516\nCloses-Bug: 1847446\n'}, {'number': 2, 'created': '2019-10-09 15:04:00.000000000', 'files': ['kuryr_kubernetes/controller/handlers/vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/f85866d84da54b6d1bd28c40f046e1039e46a251', 'message': 'Avoid race between pod creation retry and namespace deletion\n\nThis patch ensure that if a namespace gets deleted and there is\na pending pod creation retry, the later will not fail due to the\nsubnet being already deleted.\n\nChange-Id: I914109337066441a2750d055aec5cf0e799d7516\nCloses-Bug: 1847446\n'}]",0,687514,f85866d84da54b6d1bd28c40f046e1039e46a251,20,6,2,23567,,,0,"Avoid race between pod creation retry and namespace deletion

This patch ensure that if a namespace gets deleted and there is
a pending pod creation retry, the later will not fail due to the
subnet being already deleted.

Change-Id: I914109337066441a2750d055aec5cf0e799d7516
Closes-Bug: 1847446
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/14/687514/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/vif.py'],1,f66cb0413f04f92ec836ba85557c5489d8548a41,bug/1847446,"from neutronclient.common import exceptions as n_exc try: subnets = self._drv_subnets.get_subnets(pod, project_id) except n_exc.NotFound: LOG.warning(""Subnet does not exists. If namespace driver is "" ""used, probably the namespace for the pod is "" ""already deleted. So this pod does not need to "" ""get a port as it will be deleted too."") return"," subnets = self._drv_subnets.get_subnets(pod, project_id) ",9,2
openstack%2Fapi-site~master~I7bab0951d994db18e5b2a8b74f27edc9946f2e14,openstack/api-site,master,I7bab0951d994db18e5b2a8b74f27edc9946f2e14,Fix wrong URL for quick-start,MERGED,2019-10-08 17:40:14.000000000,2019-10-10 13:47:49.000000000,2019-10-10 13:46:32.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-08 17:40:14.000000000', 'files': ['www/.htaccess'], 'web_link': 'https://opendev.org/openstack/api-site/commit/092b9b3864a6510c05025648eb0f28e32e9f7145', 'message': 'Fix wrong URL for quick-start\n\nhttps://docs.openstack.org/api-quick-start/ is the correct URL.\n\nChange-Id: I7bab0951d994db18e5b2a8b74f27edc9946f2e14\n'}]",0,687366,092b9b3864a6510c05025648eb0f28e32e9f7145,8,3,1,6547,,,0,"Fix wrong URL for quick-start

https://docs.openstack.org/api-quick-start/ is the correct URL.

Change-Id: I7bab0951d994db18e5b2a8b74f27edc9946f2e14
",git fetch https://review.opendev.org/openstack/api-site refs/changes/66/687366/1 && git format-patch -1 --stdout FETCH_HEAD,['www/.htaccess'],1,092b9b3864a6510c05025648eb0f28e32e9f7145,fix-api,redirect 301 /api-reference.html https://docs.openstack.org/api-quick-start/index.html redirect 301 /api-specs.html https://docs.openstack.org/api-quick-start/index.html redirect 301 /api-ref.html https://docs.openstack.org/api-quick-start/index.html,redirect 301 /api-reference.html https://docs.openstack.org/api-guide-start/index.html redirect 301 /api-specs.html https://docs.openstack.org/api-guide-start/index.html redirect 301 /api-ref.html https://docs.openstack.org/api-guide-start/index.html,3,3
openstack%2Ftempest~master~Ib7a788a8ec6ae1066fa634bf358cf5fa83c4315d,openstack/tempest,master,Ib7a788a8ec6ae1066fa634bf358cf5fa83c4315d,Modify the create user fake data,MERGED,2019-09-19 07:02:01.000000000,2019-10-10 13:44:39.000000000,2019-10-10 13:43:20.000000000,"[{'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 07:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ce31cc0f78821b53daf9b447bbb7e7a8d6d5983b', 'message': 'Modify the create user fake data\n\nModify the create user fake data according to the API document described\n\nChange-Id: Ib7a788a8ec6ae1066fa634bf358cf5fa83c4315d\n'}, {'number': 2, 'created': '2019-09-20 00:48:22.000000000', 'files': ['tempest/tests/lib/services/identity/v3/test_users_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/85ddc907d90074f80b7e208f51ec94cca5249d02', 'message': 'Modify the create user fake data\n\nModify the create user fake data according to the API document described\n\nChange-Id: Ib7a788a8ec6ae1066fa634bf358cf5fa83c4315d\n'}]",0,683037,85ddc907d90074f80b7e208f51ec94cca5249d02,10,3,2,30409,,,0,"Modify the create user fake data

Modify the create user fake data according to the API document described

Change-Id: Ib7a788a8ec6ae1066fa634bf358cf5fa83c4315d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/37/683037/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/services/identity/v3/test_users_client.py'],1,ce31cc0f78821b53daf9b447bbb7e7a8d6d5983b,master-identity-user," ""description"": ""Tempest User"", ""email"": ""TempestUser@example.com"", ""options"": { ""ignore_password_expiry"": true }",,5,0
openstack%2Fironic~stable%2Ftrain~Ibedf375cfeeb20917f06e52b1e86a6990a3c494b,openstack/ironic,stable/train,Ibedf375cfeeb20917f06e52b1e86a6990a3c494b,grub configuration should use user kernel & ramdisk,MERGED,2019-10-08 11:35:10.000000000,2019-10-10 13:44:32.000000000,2019-10-10 13:42:52.000000000,"[{'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-10-08 11:35:10.000000000', 'files': ['releasenotes/notes/ramdisk-grub-use-user-kernel-ramdisk-7d572fe130932605.yaml', 'ironic/drivers/modules/pxe_grub_config.template', 'ironic/tests/unit/drivers/pxe_grub_config.template'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ce9bc55c10e652a6e85786f775c821b9f4676656', 'message': 'grub configuration should use user kernel & ramdisk\n\ncompared with pxe_config.template, ramdisk boot with grub should use\naki_path and ari_path\n\nChange-Id: Ibedf375cfeeb20917f06e52b1e86a6990a3c494b\nStory: 2006639\nTask: 36855\n(cherry picked from commit 2364c8b247899f8ac9fb42b53a070db2ea50a2e0)\n'}]",0,687273,ce9bc55c10e652a6e85786f775c821b9f4676656,15,6,1,10239,,,0,"grub configuration should use user kernel & ramdisk

compared with pxe_config.template, ramdisk boot with grub should use
aki_path and ari_path

Change-Id: Ibedf375cfeeb20917f06e52b1e86a6990a3c494b
Story: 2006639
Task: 36855
(cherry picked from commit 2364c8b247899f8ac9fb42b53a070db2ea50a2e0)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/687273/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ramdisk-grub-use-user-kernel-ramdisk-7d572fe130932605.yaml', 'ironic/drivers/modules/pxe_grub_config.template', 'ironic/tests/unit/drivers/pxe_grub_config.template']",3,ce9bc55c10e652a6e85786f775c821b9f4676656,ramdisk_boot_grub_use_user_kernel_ramdisk-stable/train, linuxefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/kernel root=/dev/ram0 text test_param ramdisk_param initrdefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/ramdisk, linuxefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/deploy_kernel root=/dev/ram0 text test_param ramdisk_param initrdefi /tftpboot/1be26c0b-03f2-4d2e-ae87-c02d7f33c123/deploy_ramdisk,9,4
openstack%2Fcharm-masakari-monitors~master~I2454a8a3b087adca835881733f8b80640f7a0620,openstack/charm-masakari-monitors,master,I2454a8a3b087adca835881733f8b80640f7a0620,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:37.000000000,2019-10-10 13:42:43.000000000,2019-10-10 13:42:43.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/8c08d01a9fad0934cd4bf82f24f0d0ba61769e02', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I2454a8a3b087adca835881733f8b80640f7a0620\n'}, {'number': 2, 'created': '2019-10-01 01:59:24.000000000', 'files': ['src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/c9df17026bb58f8fb58103ce5d9598ff967fe0b7', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: I2454a8a3b087adca835881733f8b80640f7a0620\n'}]",0,685835,c9df17026bb58f8fb58103ce5d9598ff967fe0b7,12,5,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: I2454a8a3b087adca835881733f8b80640f7a0620
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/35/685835/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,8c08d01a9fad0934cd4bf82f24f0d0ba61769e02,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsepassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py34,py35 skip_missing_interpreters = Truepassenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. https://governance.openstack.org/tc/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",65,30
openstack%2Fcharm-masakari~master~Iaf2272bfc553f980cacde30d031540ee3514cf45,openstack/charm-masakari,master,Iaf2272bfc553f980cacde30d031540ee3514cf45,"Sync charm/ceph helpers, tox, and requirements",MERGED,2019-09-30 22:08:33.000000000,2019-10-10 13:40:39.000000000,2019-10-10 13:40:39.000000000,"[{'_account_id': 935}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-30 22:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/9089baa36a301fb77373466594ecd89b9f09d7f9', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Iaf2272bfc553f980cacde30d031540ee3514cf45\n'}, {'number': 2, 'created': '2019-10-01 01:59:21.000000000', 'files': ['src/files/.gitkeep', 'requirements.txt', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/301d6c4d48c4c8e59a0d26a4410492f803fea69e', 'message': 'Sync charm/ceph helpers, tox, and requirements\n\nChange-Id: Iaf2272bfc553f980cacde30d031540ee3514cf45\n'}]",0,685834,301d6c4d48c4c8e59a0d26a4410492f803fea69e,12,5,2,20635,,,0,"Sync charm/ceph helpers, tox, and requirements

Change-Id: Iaf2272bfc553f980cacde30d031540ee3514cf45
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/34/685834/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'src/files/.gitkeep', 'test-requirements.txt', 'src/tox.ini', 'src/test-requirements.txt', 'tox.ini']",6,9089baa36a301fb77373466594ecd89b9f09d7f9,batch-update,"# within individual charm repos. See the 'global' dir contents for available # choices of tox.ini for OpenStack Charms: # https://github.com/openstack-charmers/release-tools envlist = pep8,py3 # NOTE: Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE: Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = Falsepassenv = http_proxy https_proxy INTERFACE_PATH LAYER_PATH JUJU_REPOSITORYbasepython = python3[testenv:py3] basepython = python3commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs}commands = stestr run --slowest {posargs} [testenv:py37] basepython = python3.7 deps = -r{toxinidir}/test-requirements.txt commands = stestr run --slowest {posargs} stestr run --slowest {posargs}ignore = E402,W504","# within individual charm repos.envlist = pep8,py34,py35 skip_missing_interpreters = Truepassenv = http_proxy https_proxybasepython = python2.7[testenv:py27] basepython = python2.7 # Reactive source charms are Python3-only, but a py27 unit test target # is required by OpenStack Governance. Remove this shim as soon as # permitted. https://governance.openstack.org/tc/reference/cti/python_cti.html whitelist_externals = true commands = true [testenv:py34] basepython = python3.4commands = stestr run {posargs}commands = stestr run {posargs}commands = stestr run {posargs} stestr run {posargs}ignore = E402",74,30
openstack%2Ftrove-dashboard~master~Iaf5e16f73c47510ee386b8730ea2e63881ba62da,openstack/trove-dashboard,master,Iaf5e16f73c47510ee386b8730ea2e63881ba62da,Sync Sphinx requirement,NEW,2019-06-04 02:58:46.000000000,2019-10-10 13:34:39.000000000,,"[{'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 27781}, {'_account_id': 27822}, {'_account_id': 28614}, {'_account_id': 29313}, {'_account_id': 30356}, {'_account_id': 30413}]","[{'number': 1, 'created': '2019-06-04 02:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/4af9d4ed5b68022fe7158c55890b16c117283dc1', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Iaf5e16f73c47510ee386b8730ea2e63881ba62da\nCloses-Bug: #1831529\n'}, {'number': 2, 'created': '2019-06-20 03:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/e757077ccd955a2ef1d39d6137606a8c32a7f08e', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: Iaf5e16f73c47510ee386b8730ea2e63881ba62da\n'}, {'number': 3, 'created': '2019-07-30 00:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/107a8004d3e7f14062db3564be4f4bfbc4731589', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: Iaf5e16f73c47510ee386b8730ea2e63881ba62da\n'}, {'number': 4, 'created': '2019-09-13 16:51:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/046ba9296e35c2814db06f488af740fd92891738', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: Iaf5e16f73c47510ee386b8730ea2e63881ba62da\n'}, {'number': 5, 'created': '2019-10-10 13:27:50.000000000', 'files': ['test-requirements.txt', 'releasenotes/source/pike.rst', 'releasenotes/source/rocky.rst', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/bf2b24bca76193a3a0dc5a3db815cf3d18d1012f', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: Iaf5e16f73c47510ee386b8730ea2e63881ba62da\n'}]",1,662914,bf2b24bca76193a3a0dc5a3db815cf3d18d1012f,23,8,5,30356,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: Iaf5e16f73c47510ee386b8730ea2e63881ba62da
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/14/662914/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4af9d4ed5b68022fe7158c55890b16c117283dc1,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.6.2 # BSD,2,1
openstack%2Ftrove-dashboard~master~Ic6bc2bdc17605c68cacc030080bd108d69d898f9,openstack/trove-dashboard,master,Ic6bc2bdc17605c68cacc030080bd108d69d898f9,Add release note link in README,NEW,2018-06-28 05:20:09.000000000,2019-10-10 13:34:25.000000000,,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 27781}, {'_account_id': 28614}, {'_account_id': 29313}]","[{'number': 1, 'created': '2018-06-28 05:20:09.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/a423d2e65f0112a4ac47c53a5be82ccf20041a6c', 'message': 'Add release note link in README\n\nChange-Id: Ic6bc2bdc17605c68cacc030080bd108d69d898f9\n'}]",0,578663,a423d2e65f0112a4ac47c53a5be82ccf20041a6c,6,5,1,27336,,,0,"Add release note link in README

Change-Id: Ic6bc2bdc17605c68cacc030080bd108d69d898f9
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/63/578663/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,a423d2e65f0112a4ac47c53a5be82ccf20041a6c,, Release notes: https://docs.openstack.org/releasenotes/trove-dashboard,,2,0
openstack%2Ftrove-dashboard~master~I7dbfe5ebe46b105a31b17bda7e5b407173effa39,openstack/trove-dashboard,master,I7dbfe5ebe46b105a31b17bda7e5b407173effa39,Add documentation link to README,NEW,2018-03-29 07:36:24.000000000,2019-10-10 13:34:09.000000000,,"[{'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 29313}, {'_account_id': 30356}]","[{'number': 1, 'created': '2018-03-29 07:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/32de85685279a467127a6913aa86831e5f7b9190', 'message': 'Add documentation link to README\n\nAdd trove documentation url link to README.rst.\n\nChange-Id: I7dbfe5ebe46b105a31b17bda7e5b407173effa39\n'}, {'number': 2, 'created': '2019-08-13 08:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/ae39c6266cd8a15b5027f60f711e8ee949380bcc', 'message': 'Add documentation link to README\n\nAdd trove documentation url link to README.rst.\n\nChange-Id: I7dbfe5ebe46b105a31b17bda7e5b407173effa39\n'}, {'number': 3, 'created': '2019-08-13 08:38:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/f17d216e7a907a94bc57073c6cbe788ee77d43d9', 'message': 'Add documentation link to README\n\nAdd trove documentation url link to README.rst.\n\nChange-Id: I7dbfe5ebe46b105a31b17bda7e5b407173effa39\n'}, {'number': 4, 'created': '2019-08-13 08:39:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/c7c6d5f2dc2cc1906494a93ccde65fbd3c332dbf', 'message': 'Add documentation link to README\n\nAdd trove documentation url link to README.rst.\n\nChange-Id: I7dbfe5ebe46b105a31b17bda7e5b407173effa39\n'}, {'number': 5, 'created': '2019-08-19 01:56:00.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/751c55d61afb96e6076a61a29314b8add1b92ba9', 'message': 'Add documentation link to README\n\nAdd trove documentation url link to README.rst.\n\nChange-Id: I7dbfe5ebe46b105a31b17bda7e5b407173effa39\n'}]",1,557638,751c55d61afb96e6076a61a29314b8add1b92ba9,12,4,5,23317,,,0,"Add documentation link to README

Add trove documentation url link to README.rst.

Change-Id: I7dbfe5ebe46b105a31b17bda7e5b407173effa39
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/38/557638/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,32de85685279a467127a6913aa86831e5f7b9190,fix,Trove Documentation: https://docs.openstack.org/trove/latest/ ,,2,0
openstack%2Fpuppet-openstack_spec_helper~master~I8b14c726305edf24d117f85d357e4b8f4945ec9f,openstack/puppet-openstack_spec_helper,master,I8b14c726305edf24d117f85d357e4b8f4945ec9f,Fix signet pin,MERGED,2019-10-10 12:10:32.000000000,2019-10-10 13:26:26.000000000,2019-10-10 13:26:26.000000000,"[{'_account_id': 6469}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 12:10:32.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/f646ae987b5c7f476ff5384249e189628b1c0443', 'message': 'Fix signet pin\n\nMissing a .0 in the semver so ~> would parse 0.11 like\n11 could be increased. Also move it above to be cleaner.\n\nChange-Id: I8b14c726305edf24d117f85d357e4b8f4945ec9f\n'}]",0,687870,f646ae987b5c7f476ff5384249e189628b1c0443,7,3,1,16137,,,0,"Fix signet pin

Missing a .0 in the semver so ~> would parse 0.11 like
11 could be increased. Also move it above to be cleaner.

Change-Id: I8b14c726305edf24d117f85d357e4b8f4945ec9f
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/70/687870/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,f646ae987b5c7f476ff5384249e189628b1c0443,," # NOTE(tobias-urdin): Pin signet to 0.11.0 as 0.12.0 requires ruby >= 2.4.0 signet_version = RUBY_VERSION < '2.4.0' ? '~> 0.11.0' : '>= 0.11.0' spec.add_dependency 'signet', signet_version "," # NOTE(tobias-urdin): Pin signet to 0.11.0 as 0.12.0 requires ruby >= 2.4.0 signet_version = RUBY_VERSION < '2.4.0' ? '~> 0.11' : '>= 0.11.0' spec.add_dependency 'signet', signet_version ",4,4
openstack%2Fkolla~master~I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1,openstack/kolla,master,I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1,Support matrix for Kolla,MERGED,2019-08-20 16:05:26.000000000,2019-10-10 13:25:21.000000000,2019-10-10 13:23:47.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-20 16:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5219d5e59f1049cc3cbbe991d5f64f7c30c0bc75', 'message': 'WIP: Support matrix for Kolla\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 2, 'created': '2019-08-21 11:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/36e1b094a78ab05eb5b093983ada4cd77710a8f0', 'message': 'WIP: Support matrix for Kolla\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 3, 'created': '2019-08-21 12:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d1a32c7e6b99c96428a56b375bb3b4caae703b26', 'message': 'WIP: Support matrix for Kolla\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 4, 'created': '2019-08-26 07:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/65cb864bddff14a3522fd4ab064b459962ec934c', 'message': 'WIP: Support matrix for Kolla\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 5, 'created': '2019-08-26 08:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e12bde3af671cd014ab2917ccd44a8a0037b7bb0', 'message': 'WIP: Support matrix for Kolla\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 6, 'created': '2019-08-26 15:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1c1b6efe78853254ef7a71f18bc90a58b33a3aa8', 'message': 'WIP: Support matrix for Kolla\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 7, 'created': '2019-09-04 12:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/338f2ef8f4a7ff57822d6e123fcda236fdd91ea4', 'message': 'WIP: Support matrix for Kolla\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 8, 'created': '2019-09-10 12:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9cafa5b9b2d18e89e03edc3d397d10727ce859a3', 'message': 'WIP: Support matrix for Kolla\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 9, 'created': '2019-09-10 12:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c0ebd95c74ebdc0519bd7a94281d22f28eb2745', 'message': 'WIP: Support matrix for Kolla\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 10, 'created': '2019-09-10 13:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/34f200910212bde1f66d2bab434c316a376be952', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n* Added markers in kolla/image/build.py to include unbuildable\n  images list\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 11, 'created': '2019-09-10 13:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/26a179498306bce51bdb5a9457f257e89f4aa33b', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n* Added markers in kolla/image/build.py to include unbuildable\n  images list\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 12, 'created': '2019-09-10 13:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/08b51d3851bc5d3e025e780d638af7483b3bd133', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n* Added markers in kolla/image/build.py to include unbuildable\n  images list\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 13, 'created': '2019-09-30 09:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/65d5969ecc9bf69b781d00878556ab27c7b1ab68', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 14, 'created': '2019-09-30 09:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4ac1e8d039febf76a78d24c339842b742f6c6797', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 15, 'created': '2019-10-03 12:45:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1faa324cc9524bc655faf043290441f14b528aac', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 16, 'created': '2019-10-03 16:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7c73b770f6e258cc67515fa0d36f6249072b1af7', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 17, 'created': '2019-10-04 07:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dffc07a90517f13a4a16ec9aaac6f9aad3b7728e', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 18, 'created': '2019-10-04 08:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/383468a8f4ab6ccd6a2434c4c94b60268919de34', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 19, 'created': '2019-10-04 10:05:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b0dd822a6562be9cc79cf524b7b9ce54694d28f7', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 20, 'created': '2019-10-09 09:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b551c850713a8ccd129feadcd9bcbc50426c4d93', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n* Populated with buildable vs unbuildable images\n* Populated with images tested by k-a marked by T\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 21, 'created': '2019-10-09 10:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ff796bfe8e90a89d9f88b2dde15db22de38d49a7', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n* Populated with buildable vs unbuildable images\n* Populated with images tested by k-a marked by T\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 22, 'created': '2019-10-09 18:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d89c8504f5b954c07de945731d5bbc9ecf1a4b54', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n* Populated with buildable vs unbuildable images\n* Populated with images tested by k-a marked by T\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}, {'number': 23, 'created': '2019-10-10 12:34:33.000000000', 'files': ['doc/source/support_matrix.rst', 'doc/source/matrix_x86.csv', 'doc/source/index.rst', 'doc/source/matrix_aarch64.csv'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3f8bf6ca100f3a11b4f18104dc3ca98f28bf2431', 'message': 'Support matrix for Kolla\n\n* Created support matrix for x86_64 and aarch64\n* Populated with buildable vs unbuildable images\n* Populated with images tested by k-a marked by T\n\nChange-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1\n'}]",51,677500,3f8bf6ca100f3a11b4f18104dc3ca98f28bf2431,109,8,23,22629,,,0,"Support matrix for Kolla

* Created support matrix for x86_64 and aarch64
* Populated with buildable vs unbuildable images
* Populated with images tested by k-a marked by T

Change-Id: I3f71dafc5f50dfdd2c44a70ba3c294c9308ce3b1
",git fetch https://review.opendev.org/openstack/kolla refs/changes/00/677500/16 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/support_matrix.rst', 'doc/source/index.rst']",2,5219d5e59f1049cc3cbbe991d5f64f7c30c0bc75,feature/support_matrix, Support Matrix ============== .. toctree:: :maxdepth: 2 support_matrix,,81,0
openstack%2Fcyborg~master~I09ddc434088e4c3f6b3941ff6d5a5657b89acfa5,openstack/cyborg,master,I09ddc434088e4c3f6b3941ff6d5a5657b89acfa5,Update docs: Part 2.,ABANDONED,2019-10-10 12:59:26.000000000,2019-10-10 13:20:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-10 12:59:26.000000000', 'files': ['doc/source/reference/driver-table.rst', 'doc/source/reference/support-matrix.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/conf.py', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8f3a57cb53a21b0496926c22b8c4cd61305b2c68', 'message': 'Update docs: Part 2.\n\nUpdate the driver documentation.\n\nChange-Id: I09ddc434088e4c3f6b3941ff6d5a5657b89acfa5\n'}]",0,687890,8f3a57cb53a21b0496926c22b8c4cd61305b2c68,3,1,1,21672,,,0,"Update docs: Part 2.

Update the driver documentation.

Change-Id: I09ddc434088e4c3f6b3941ff6d5a5657b89acfa5
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/90/687890/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/driver-table.rst', 'doc/source/reference/support-matrix.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/conf.py', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt']",6,8f3a57cb53a21b0496926c22b8c4cd61305b2c68,cyborg-docs,,sphinx-feature-classification>=0.1.0 # Apache 2.0,42,190
openstack%2Fcyborg~master~I16417b5e02f92d6514687221f0b89912a1e5ada7,openstack/cyborg,master,I16417b5e02f92d6514687221f0b89912a1e5ada7,Update docs: Part 3.,ABANDONED,2019-10-10 12:59:26.000000000,2019-10-10 13:20:06.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-10 12:59:26.000000000', 'files': ['doc/source/api/api.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/62c4bc77619882a556937c0210b2bd20ae1a54f6', 'message': 'Update docs: Part 3.\n\nUpdated v2 API notes.\n\nChange-Id: I16417b5e02f92d6514687221f0b89912a1e5ada7\n'}]",0,687891,62c4bc77619882a556937c0210b2bd20ae1a54f6,3,1,1,21672,,,0,"Update docs: Part 3.

Updated v2 API notes.

Change-Id: I16417b5e02f92d6514687221f0b89912a1e5ada7
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/91/687891/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/api/api.rst'],1,62c4bc77619882a556937c0210b2bd20ae1a54f6,cyborg-docs,=============== Cyborg REST API =============== v2.0 ----- The Train release introduces version 2.0 APIs. Details of these APIs can be found `here <https://opendev.org/openstack/cyborg-specs/src/branch/master/specs/train/approved/cyborg-api.rst>`_. v1.0 ----- The following v1 APIs are deprecated in Train and will be removed in the Ussuri release. The URIs are relative to ``http://<controller-ip>/accelerator/v1``. .. list-table:: :widths: 10 40 50 :header-rows: 1 * - Verb - URI - Description * - GET - ``/accelerators`` - Return a list of accelerators * - GET - ``/accelerators/{uuid}`` - Retrieve a certain accelerator info identified by `{uuid}` * - POST - ``/accelerators`` - Create a new accelerator * - PUT - ``/accelerators/{uuid}`` - Update the spec for the accelerator identified by `{uuid}` * - DELETE - ``/accelerators/{uuid}`` - Delete the accelerator identified by `{uuid}` * - GET - ``/accelerators/deployables/`` - Return a list of deployables * - GET - ``/accelerators/deployables/{uuid}`` - Retrieve a certain deployable info identified by `{uuid}` * - POST - ``/accelerators/deployables/`` - Create a new deployable * - PATCH - ``/accelerators/deployables/{uuid}/program`` - Program a new deployable(FPGA) * - PATCH - ``/accelerators/deployables/{uuid}`` - Update the spec for the deployable identified by `{uuid}` * - DELETE - ``/accelerators/deployables/{uuid}`` - Delete the deployable identified by `{uuid}`,Cyborg REST API v1.0 ******************** General Information =================== This document describes the basic REST API operation that Cyborg supports for Stein release:: +--------+-----------------------------------------+-----------------------------------------------------------------------+ | Verb | URI | Description | +========+=========================================+=======================================================================+ | GET | /accelerators | Return a list of accelerators (Deprecated) | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | GET | /accelerators/{uuid} | Retrieve a certain accelerator info identified by `{uuid}` (Deprecated)| +--------+-----------------------------------------+-----------------------------------------------------------------------+ | POST | /accelerators | Create a new accelerator (Deprecated) | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | PUT | /accelerators/{uuid} | Update the spec for the accelerator identified by `{uuid}` (Deprecated)| +--------+-----------------------------------------+-----------------------------------------------------------------------+ | DELETE | /accelerators/{uuid} | Delete the accelerator identified by `{uuid}` (Deprecated) | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | GET | /accelerators/deployables/ | Return a list of deployables | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | GET | /accelerators/deployables/{uuid} | Retrieve a certain deployable info identified by `{uuid}` | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | POST | /accelerators/deployables/ | Create a new deployable | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | PATCH | /accelerators/deployables/{uuid}/program| Program a new deployable(FPGA) | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | PATCH | /accelerators/deployables/{uuid} | Update the spec for the deployable identified by `{uuid}` | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | DELETE | /accelerators/deployables/{uuid} | Delete the deployable identified by `{uuid}` | +--------+-----------------------------------------+-----------------------------------------------------------------------+,56,31
openstack%2Fcyborg~master~I933d10098ededf5c897124b19791591b9508da77,openstack/cyborg,master,I933d10098ededf5c897124b19791591b9508da77,Update docs: Part 1.,ABANDONED,2019-10-10 12:59:26.000000000,2019-10-10 13:19:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-10 12:59:26.000000000', 'files': ['doc/source/reference/support-matrix.rst', '.gitignore', 'doc/source/install/common.rst', 'doc/source/install/common_prerequisites.rst', 'doc/source/install/install-from-pip.rst', 'doc/source/install/install-from-source.rst', 'doc/source/conf.py', 'doc/source/install/from-source.rst', 'doc/source/configuration/index.rst', 'doc/source/api/api.rst', 'doc/source/index.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/828258c6a2a54359e3b63c6d5725357ad66a3fa2', 'message': 'Update docs: Part 1.\n\nUpdate the doc structure.\nImprove the install instructions in many ways, including\norganizing them by workflow (pip, git, etc.)\n\nChange-Id: I933d10098ededf5c897124b19791591b9508da77\n'}]",0,687889,828258c6a2a54359e3b63c6d5725357ad66a3fa2,3,1,1,21672,,,0,"Update docs: Part 1.

Update the doc structure.
Improve the install instructions in many ways, including
organizing them by workflow (pip, git, etc.)

Change-Id: I933d10098ededf5c897124b19791591b9508da77
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/89/687889/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.rst', '.gitignore', 'doc/source/install/common.rst', 'doc/source/install/common_prerequisites.rst', 'doc/source/install/install-from-pip.rst', 'doc/source/install/install-from-source.rst', 'doc/source/conf.py', 'doc/source/install/from-source.rst', 'doc/source/configuration/index.rst', 'doc/source/api/api.rst', 'doc/source/index.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt']",14,828258c6a2a54359e3b63c6d5725357ad66a3fa2,cyborg-docs,sphinx-feature-classification>=0.1.0 # Apache 2.0,,496,269
openstack%2Fcyborg~master~I90a095b816d047647af9257a8e6ed015207850b1,openstack/cyborg,master,I90a095b816d047647af9257a8e6ed015207850b1,Update docs: Part 1.,ABANDONED,2019-10-10 13:16:55.000000000,2019-10-10 13:19:47.000000000,,[],"[{'number': 1, 'created': '2019-10-10 13:16:55.000000000', 'files': ['doc/source/reference/support-matrix.rst', '.gitignore', 'doc/source/install/common.rst', 'doc/source/install/common_prerequisites.rst', 'doc/source/install/install-from-pip.rst', 'doc/source/install/install-from-source.rst', 'doc/source/conf.py', 'doc/source/install/from-source.rst', 'doc/source/configuration/index.rst', 'doc/source/api/api.rst', 'doc/source/index.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/778adfd8c1defd645aa0ba71ce6fea82169e5c94', 'message': 'Update docs: Part 1.\n\nUpdate the doc structure and organize install instructions\nby workflow (pip, git, etc.)\n\nChange-Id: I90a095b816d047647af9257a8e6ed015207850b1\n'}]",0,687894,778adfd8c1defd645aa0ba71ce6fea82169e5c94,2,0,1,21672,,,0,"Update docs: Part 1.

Update the doc structure and organize install instructions
by workflow (pip, git, etc.)

Change-Id: I90a095b816d047647af9257a8e6ed015207850b1
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/94/687894/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.rst', '.gitignore', 'doc/source/install/common.rst', 'doc/source/install/common_prerequisites.rst', 'doc/source/install/install-from-pip.rst', 'doc/source/install/install-from-source.rst', 'doc/source/conf.py', 'doc/source/install/from-source.rst', 'doc/source/configuration/index.rst', 'doc/source/api/api.rst', 'doc/source/index.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt']",14,778adfd8c1defd645aa0ba71ce6fea82169e5c94,cyborg-docs,sphinx-feature-classification>=0.1.0 # Apache 2.0,,497,270
openstack%2Ftooz~master~I42bd5786c06043c21010ef7260184b5d9d4de00f,openstack/tooz,master,I42bd5786c06043c21010ef7260184b5d9d4de00f,Update master for stable/train,MERGED,2019-09-20 17:45:19.000000000,2019-10-10 13:19:37.000000000,2019-10-10 13:17:39.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 17:45:19.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tooz/commit/c430dbaa69e5a0329adfc13c6e2726dddb38405a', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I42bd5786c06043c21010ef7260184b5d9d4de00f\nSem-Ver: feature\n'}]",0,683667,c430dbaa69e5a0329adfc13c6e2726dddb38405a,12,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I42bd5786c06043c21010ef7260184b5d9d4de00f
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/tooz refs/changes/67/683667/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,c430dbaa69e5a0329adfc13c6e2726dddb38405a,reno-train, train,,7,0
openstack%2Fcyborg~master~I408576462aa7043ed207f78b2e47882e49c710bb,openstack/cyborg,master,I408576462aa7043ed207f78b2e47882e49c710bb,Update docs: Part 2.,ABANDONED,2019-10-10 13:16:55.000000000,2019-10-10 13:19:37.000000000,,[],"[{'number': 1, 'created': '2019-10-10 13:16:55.000000000', 'files': ['doc/source/reference/driver-table.rst', 'doc/source/reference/support-matrix.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/conf.py', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/1b69b2641bb50d2224b89bc1d90155fbceb6ea6f', 'message': 'Update docs: Part 2.\n\nUpdate info for various drivers.\n\nChange-Id: I408576462aa7043ed207f78b2e47882e49c710bb\n'}]",0,687895,1b69b2641bb50d2224b89bc1d90155fbceb6ea6f,2,0,1,21672,,,0,"Update docs: Part 2.

Update info for various drivers.

Change-Id: I408576462aa7043ed207f78b2e47882e49c710bb
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/95/687895/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/driver-table.rst', 'doc/source/reference/support-matrix.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/conf.py', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt']",6,1b69b2641bb50d2224b89bc1d90155fbceb6ea6f,cyborg-docs,,sphinx-feature-classification>=0.1.0 # Apache 2.0,42,190
openstack%2Fcyborg~master~Iad3ffe5c82533288bbf9c42e295267958c6bb34e,openstack/cyborg,master,Iad3ffe5c82533288bbf9c42e295267958c6bb34e,Update docs: Part 3.,ABANDONED,2019-10-10 13:16:55.000000000,2019-10-10 13:19:30.000000000,,[],"[{'number': 1, 'created': '2019-10-10 13:16:55.000000000', 'files': ['doc/source/api/api.rst'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6ff076115aaaefbca507ec010d6103e62ddc729b', 'message': 'Update docs: Part 3.\n\nUpdate API docs.\n\nChange-Id: Iad3ffe5c82533288bbf9c42e295267958c6bb34e\n'}]",0,687896,6ff076115aaaefbca507ec010d6103e62ddc729b,2,0,1,21672,,,0,"Update docs: Part 3.

Update API docs.

Change-Id: Iad3ffe5c82533288bbf9c42e295267958c6bb34e
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/96/687896/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/api/api.rst'],1,6ff076115aaaefbca507ec010d6103e62ddc729b,cyborg-docs,=============== Cyborg REST API =============== v2.0 ----- The Train release introduces version 2.0 APIs. Details of these APIs can be found `here <https://opendev.org/openstack/cyborg-specs/src/branch/master/specs/train/approved/cyborg-api.rst>`_. v1.0 ----- The following v1 APIs are deprecated in Train and will be removed in the Ussuri release. The URIs are relative to ``http://<controller-ip>/accelerator/v1``. .. list-table:: :widths: 10 40 50 :header-rows: 1 * - Verb - URI - Description * - GET - ``/accelerators`` - Return a list of accelerators * - GET - ``/accelerators/{uuid}`` - Retrieve a certain accelerator info identified by `{uuid}` * - POST - ``/accelerators`` - Create a new accelerator * - PUT - ``/accelerators/{uuid}`` - Update the spec for the accelerator identified by `{uuid}` * - DELETE - ``/accelerators/{uuid}`` - Delete the accelerator identified by `{uuid}` * - GET - ``/accelerators/deployables/`` - Return a list of deployables * - GET - ``/accelerators/deployables/{uuid}`` - Retrieve a certain deployable info identified by `{uuid}` * - POST - ``/accelerators/deployables/`` - Create a new deployable * - PATCH - ``/accelerators/deployables/{uuid}/program`` - Program a new deployable(FPGA) * - PATCH - ``/accelerators/deployables/{uuid}`` - Update the spec for the deployable identified by `{uuid}` * - DELETE - ``/accelerators/deployables/{uuid}`` - Delete the deployable identified by `{uuid}`,Cyborg REST API v1.0 ******************** General Information =================== This document describes the basic REST API operation that Cyborg supports for Stein release:: +--------+-----------------------------------------+-----------------------------------------------------------------------+ | Verb | URI | Description | +========+=========================================+=======================================================================+ | GET | /accelerators | Return a list of accelerators (Deprecated) | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | GET | /accelerators/{uuid} | Retrieve a certain accelerator info identified by `{uuid}` (Deprecated)| +--------+-----------------------------------------+-----------------------------------------------------------------------+ | POST | /accelerators | Create a new accelerator (Deprecated) | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | PUT | /accelerators/{uuid} | Update the spec for the accelerator identified by `{uuid}` (Deprecated)| +--------+-----------------------------------------+-----------------------------------------------------------------------+ | DELETE | /accelerators/{uuid} | Delete the accelerator identified by `{uuid}` (Deprecated) | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | GET | /accelerators/deployables/ | Return a list of deployables | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | GET | /accelerators/deployables/{uuid} | Retrieve a certain deployable info identified by `{uuid}` | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | POST | /accelerators/deployables/ | Create a new deployable | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | PATCH | /accelerators/deployables/{uuid}/program| Program a new deployable(FPGA) | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | PATCH | /accelerators/deployables/{uuid} | Update the spec for the deployable identified by `{uuid}` | +--------+-----------------------------------------+-----------------------------------------------------------------------+ | DELETE | /accelerators/deployables/{uuid} | Delete the deployable identified by `{uuid}` | +--------+-----------------------------------------+-----------------------------------------------------------------------+,56,31
openstack%2Ftrove~stable%2Ftrain~If0991e0cef40ca78752fcd509d8438e90c9557bc,openstack/trove,stable/train,If0991e0cef40ca78752fcd509d8438e90c9557bc,Remove all the resources when the Nova VM creation failed,MERGED,2019-10-09 09:21:23.000000000,2019-10-10 13:10:22.000000000,2019-10-10 13:08:37.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 09:21:23.000000000', 'files': ['trove/tests/util/__init__.py', 'trove/tests/api/mgmt/datastore_versions.py', 'trove/tests/scenario/runners/instance_error_create_runners.py', 'trove/instance/models.py', 'trove/common/notification.py', 'trove/taskmanager/models.py', 'integration/scripts/conf/test_begin.conf', 'trove/common/strategies/cluster/experimental/cassandra/api.py', 'trove/tests/scenario/runners/test_runners.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/6bfa510194e3cf30c8c03446d435edd87c1b4d23', 'message': 'Remove all the resources when the Nova VM creation failed\n\nBackport candidate for stable/train\n\nStory: 2006664\nTask:  36926\n\nChange-Id: If0991e0cef40ca78752fcd509d8438e90c9557bc\n(cherry picked from commit 650794eaf9f328bd1b2fc096992e6190a9d79c87)\n'}]",0,687507,6bfa510194e3cf30c8c03446d435edd87c1b4d23,15,2,1,6732,,,0,"Remove all the resources when the Nova VM creation failed

Backport candidate for stable/train

Story: 2006664
Task:  36926

Change-Id: If0991e0cef40ca78752fcd509d8438e90c9557bc
(cherry picked from commit 650794eaf9f328bd1b2fc096992e6190a9d79c87)
",git fetch https://review.opendev.org/openstack/trove refs/changes/07/687507/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/util/__init__.py', 'trove/tests/api/mgmt/datastore_versions.py', 'trove/tests/scenario/runners/instance_error_create_runners.py', 'trove/instance/models.py', 'trove/common/notification.py', 'trove/taskmanager/models.py', 'integration/scripts/conf/test_begin.conf', 'trove/common/strategies/cluster/experimental/cassandra/api.py', 'trove/tests/scenario/runners/test_runners.py']",9,6bfa510194e3cf30c8c03446d435edd87c1b4d23,fix-port-left-stable/train,"from trove.tests import util as test_util self._neutron_client = None authurl=CONFIG.auth_url, if self._nova_client is None: self._nova_client = test_util.create_nova_client( self.instance_info.admin_user ) return self._nova_client @property def neutron_client(self): if self._neutron_client is None: self._neutron_client = test_util.create_neutron_client( self.instance_info.admin_user ) return self._neutron_client","from trove.tests.util import create_nova_client authurl=CONFIG.nova_client['auth_url'], return create_nova_client(self.instance_info.admin_user)",255,229
openstack%2Fheat~master~I2b02787bd8883ced631b81174cee9134445bf170,openstack/heat,master,I2b02787bd8883ced631b81174cee9134445bf170,Support domain in keystone lookups,MERGED,2019-06-05 19:07:38.000000000,2019-10-10 13:09:03.000000000,2019-10-08 18:51:00.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28743}, {'_account_id': 30515}]","[{'number': 1, 'created': '2019-06-05 19:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/e5bb7b11876248fdc72b80366f761b0b86e5aa7c', 'message': 'Update UserRoleAssignment and GroupRoleAssignment to support domain_id\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\nStory: 2005523\nTask: 30642\n'}, {'number': 2, 'created': '2019-06-05 19:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d28beb040197ba072745969af00d53dc16e8bd78', 'message': 'Update UserRoleAssignment and GroupRoleAssignment to support domain_id\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\nStory: 2005523\nTask: 30642\n'}, {'number': 3, 'created': '2019-08-09 20:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/431f0421176f7c8d9ab36d5c8d6759248a7059eb', 'message': 'Update UserRoleAssignment and GroupRoleAssignment to support domain_id\nUpdate Keystone client to support user@domain in user property\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\nStory: 2005523\nTask: 30642\n'}, {'number': 4, 'created': '2019-08-12 14:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ae7d36641453aa7b4ece80ae5ed1a3f567f58bb8', 'message': 'Update UserRoleAssignment and GroupRoleAssignment to support domain_id\nUpdate Keystone client to support user@domain in user property\nFixed pep issue\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\nStory: 2005523\nTask: 30642\n'}, {'number': 5, 'created': '2019-08-12 17:12:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/735d0f2c438cdc418d8b5b50dd0fb06ede84b17f', 'message': 'Update UserRoleAssignment and GroupRoleAssignment to support domain_id\nUpdate Keystone client to support user@domain in user property\nFixed pep issue\nRemoved new properties user_domain and group_domain\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\nStory: 2005523\nTask: 30642\n'}, {'number': 6, 'created': '2019-08-13 15:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f8ad4e54e9496a51233314f97926922cec47c53a', 'message': 'Update UserRoleAssignment and GroupRoleAssignment to support domain_id\nUpdate Keystone client to support user@domain in user property\nFixed pep issue\nRemoved new properties user_domain and group_domain\nUpdated test case file\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\nStory: 2005523\nTask: 30642\n'}, {'number': 7, 'created': '2019-08-13 15:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/50c5c0e7d4fdd670346c6d278471f00f1852eb34', 'message': 'Support domain in user and group search\n\nImplements: User and group search across domains.\n\nStory: 2005523\nTask: 30642\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\n'}, {'number': 8, 'created': '2019-08-13 18:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/c81cada494a0464680238575d095996e8b1ee7d8', 'message': 'Support domain in user and group search\n\nImplements: User and group search across domains.\n\nStory: 2005523\nTask: 30642\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\n'}, {'number': 9, 'created': '2019-09-04 15:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b370b77e1e0e9d9c8a234e192495b78b88bf0a8f', 'message': 'Support domain in keystone lookups\n\nImplements: User, group, role and project lookup across domains.\nAdded domain parameter to keystone lookup functions.\nHeat templates now support user@domain, group@domain,\nrole@domain and project@domain to support cross domain\nlookup. Keystone constrains will also work across domain.\n\nStory: 2005523\nTask: 30642\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\n'}, {'number': 10, 'created': '2019-09-05 18:23:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d80591ad4906df9413509629c0f71f73c173f66c', 'message': 'Support domain in keystone lookups\n\nImplements: User, group, role and project lookup across domains.\nAdded domain parameter to keystone lookup functions.\nHeat templates now support user@domain, group@domain,\nrole@domain and project@domain to support cross domain\nlookup. Keystone constrains will also work across domain.\n\nStory: 2005523\nTask: 30642\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\n'}, {'number': 11, 'created': '2019-09-09 18:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5f742a6ac6c18ab8cd7119cc6a828753998f1984', 'message': 'Support domain in keystone lookups\n\nImplements: User, group, role and project lookup across domains.\nAdded domain parameter to keystone lookup functions.\nHeat templates now support user@domain, group@domain,\nrole@domain and project@domain to support cross domain\nlookup. Keystone constrains will also work across domain.\n\nStory: 2005523\nTask: 30642\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\n'}, {'number': 12, 'created': '2019-09-19 18:34:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ca9089a91760f770ebbe123cf1da8edfb438d66d', 'message': 'Support domain in keystone lookups\n\nImplements: User, group, role and project lookup across domains.\nAdded domain parameter to keystone lookup functions.\nHeat templates now support user{domain}, group{domain},\nrole{domain} and project{domain} to support cross domain\nlookup. Keystone constrains will also work across domain.\n\nStory: 2005523\nTask: 30642\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\n'}, {'number': 13, 'created': '2019-09-23 14:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/d9e42be9481fbe0a19ece501f231d190965de0f9', 'message': 'Support domain in keystone lookups\n\nImplements: User, group, role and project lookup across domains.\nAdded domain parameter to keystone lookup functions.\nHeat templates now support user{domain}, group{domain},\nrole{domain} and project{domain} to support cross domain\nlookup. Keystone constrains will also work across domain.\n\nStory: 2005523\nTask: 30642\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\n'}, {'number': 14, 'created': '2019-09-23 14:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4135ee10c7e8f50f0950bdc0153a3afcb85dc6fb', 'message': 'Support domain in keystone lookups\n\nImplements: User, group, role and project lookup across domains.\nAdded domain parameter to keystone lookup functions.\nHeat templates now support user{domain}, group{domain},\nrole{domain} and project{domain} to support cross domain\nlookup. Keystone constrains will also work across domain.\n\nStory: 2005523\nTask: 30642\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\n'}, {'number': 15, 'created': '2019-10-01 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5d0b9f757ad52b4a4aea3755beaa7f6b7cd17c7b', 'message': 'Support domain in keystone lookups\n\nImplements: User, group, role and project lookup across domains.\nAdded domain parameter to keystone lookup functions.\nHeat templates now support user{domain}, group{domain},\nrole{domain} and project{domain} to support cross domain\nlookup. Keystone constrains will also work across domain.\n\nRelease note added.\n\nStory: 2005523\nTask: 30642\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\n'}, {'number': 16, 'created': '2019-10-01 13:42:53.000000000', 'files': ['heat/tests/clients/test_keystone_client.py', 'releasenotes/notes/support-domain-in-keystone-lookups-f657da8322f17938.yaml', 'heat/engine/clients/os/keystone/__init__.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/169a35e0599a0582dce65c86b0e1a9920ce6bd66', 'message': 'Support domain in keystone lookups\n\nImplements: User, group, role and project lookup across domains.\nAdded domain parameter to keystone lookup functions.\nHeat templates now support user{domain}, group{domain},\nrole{domain} and project{domain} to support cross domain\nlookup. Keystone constrains will also work across domain.\n\nRelease note added.\n\nStory: 2005523\nTask: 30642\n\nChange-Id: I2b02787bd8883ced631b81174cee9134445bf170\n'}]",30,663404,169a35e0599a0582dce65c86b0e1a9920ce6bd66,74,6,16,30515,,,0,"Support domain in keystone lookups

Implements: User, group, role and project lookup across domains.
Added domain parameter to keystone lookup functions.
Heat templates now support user{domain}, group{domain},
role{domain} and project{domain} to support cross domain
lookup. Keystone constrains will also work across domain.

Release note added.

Story: 2005523
Task: 30642

Change-Id: I2b02787bd8883ced631b81174cee9134445bf170
",git fetch https://review.opendev.org/openstack/heat refs/changes/04/663404/16 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/keystone/test_role_assignments.py', 'heat/engine/resources/openstack/keystone/role_assignments.py', 'heat/tests/clients/test_keystone_client.py', 'heat/engine/clients/os/keystone/__init__.py']",4,e5bb7b11876248fdc72b80366f761b0b86e5aa7c,S2005523," def get_role_id(self, role, domain=None): role_list = self.client().client.roles.list(name=role, domain=domain) def get_project_id(self, project, domain=None): project_list = self.client().client.projects.list(name=project, domain=domain) def get_group_id(self, group, domain=None): group_list = self.client().client.groups.list(name=group, domain=domain) def get_user_id(self, user, domain=None): user_list = self.client().client.users.list(name=user, domain=domain)"," def get_role_id(self, role): role_list = self.client().client.roles.list(name=role) def get_project_id(self, project): project_list = self.client().client.projects.list(name=project) def get_group_id(self, group): group_list = self.client().client.groups.list(name=group) def get_user_id(self, user): user_list = self.client().client.users.list(name=user)",71,26
openstack%2Fpaunch~master~I04d2f141370cd88787422d6adf4b22cc54ecf028,openstack/paunch,master,I04d2f141370cd88787422d6adf4b22cc54ecf028,Quote the health check command argument during a debug with print-cmd.,MERGED,2019-06-21 16:53:14.000000000,2019-10-10 13:04:13.000000000,2019-06-27 01:34:40.000000000,"[{'_account_id': 3153}, {'_account_id': 5756}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-21 16:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/dafda2de6ead866224ff40403430b5881f5328ba', 'message': 'Quote the health check command argument.\n\nThis is one of the few arguments that sometimes requires the use of\nspaces.\n\nChange-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028\nResolves: rhbz#1694572\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-06-21 17:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/fb0ef10b8fa5742ceb6bacb0ef00dace0d3ea759', 'message': 'Quote the health check command argument.\n\nThis is one of the few arguments that sometimes requires the use of\nspaces.\n\nChange-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028\nResolves: rhbz#1694572\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-06-21 18:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/24109660ab11c5df231a8decf20c92810cb1274c', 'message': 'Quote the health check command argument during a debug with print-cmd.\n\nThis is one of the few arguments that sometimes requires the use of\nspaces. `paunch debug --action print-cmd` will now display a command\nto stdout that can be copied, pasted, and executed reliability.\n\nChange-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028\nResolves: rhbz#1694572\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-06-24 15:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/c9f0fcc6b8d2908d56124e09fb37c6be2201e418', 'message': 'Quote the health check command argument during a debug with print-cmd.\n\nThis is one of the few arguments that sometimes requires the use of\nspaces. `paunch debug --action print-cmd` will now display a command\nto stdout that can be copied, pasted, and executed reliability.\n\nChange-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028\nResolves: rhbz#1694572\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-06-25 21:57:41.000000000', 'files': ['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py', 'paunch/__init__.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/a3041539488254ae7743d7f36f743a6ea1bae97e', 'message': 'Quote the health check command argument during a debug with print-cmd.\n\nThis is one of the few arguments that sometimes requires the use of\nspaces. `paunch debug --action print-cmd` will now display a command\nto stdout that can be copied, pasted, and executed reliability.\n\nChange-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028\nResolves: rhbz#1694572\nSigned-off-by: Luke Short <ekultails@gmail.com>\n'}]",1,666891,a3041539488254ae7743d7f36f743a6ea1bae97e,24,8,5,25877,,,0,"Quote the health check command argument during a debug with print-cmd.

This is one of the few arguments that sometimes requires the use of
spaces. `paunch debug --action print-cmd` will now display a command
to stdout that can be copied, pasted, and executed reliability.

Change-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028
Resolves: rhbz#1694572
Signed-off-by: Luke Short <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/paunch refs/changes/91/666891/2 && git format-patch -1 --stdout FETCH_HEAD,['paunch/builder/compose1.py'],1,dafda2de6ead866224ff40403430b5881f5328ba,666891," cmd.append('--health-cmd=""%s""' % hconfig['test'])", cmd.append('--health-cmd=%s' % hconfig['test']),1,1
openstack%2Foslo.context~master~I788797b827731e9025ae7e177cb7d31cdc403f91,openstack/oslo.context,master,I788797b827731e9025ae7e177cb7d31cdc403f91,Update master for stable/train,MERGED,2019-09-20 16:31:41.000000000,2019-10-10 12:59:50.000000000,2019-10-10 12:58:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:31:41.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/ede88eb46062ea17abf8c8105fc92d463189742b', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I788797b827731e9025ae7e177cb7d31cdc403f91\nSem-Ver: feature\n'}]",0,683509,ede88eb46062ea17abf8c8105fc92d463189742b,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I788797b827731e9025ae7e177cb7d31cdc403f91
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/09/683509/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,ede88eb46062ea17abf8c8105fc92d463189742b,reno-train, train,,7,0
openstack%2Fdebtcollector~master~I30f8345c55e6f6936f2fcf42860b2cad6de0194e,openstack/debtcollector,master,I30f8345c55e6f6936f2fcf42860b2cad6de0194e,Update master for stable/train,MERGED,2019-09-20 16:21:07.000000000,2019-10-10 12:59:43.000000000,2019-10-10 12:57:59.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:21:07.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/debtcollector/commit/ef6afda96204febe49913a678aa36330b53173f1', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I30f8345c55e6f6936f2fcf42860b2cad6de0194e\nSem-Ver: feature\n'}]",0,683451,ef6afda96204febe49913a678aa36330b53173f1,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I30f8345c55e6f6936f2fcf42860b2cad6de0194e
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/debtcollector refs/changes/51/683451/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,ef6afda96204febe49913a678aa36330b53173f1,reno-train, train,,7,0
openstack%2Foslo.limit~master~I07dc249c5fdd264c40407b4d1e9fd3b0ea40f43c,openstack/oslo.limit,master,I07dc249c5fdd264c40407b4d1e9fd3b0ea40f43c,Update master for stable/train,MERGED,2019-09-20 16:33:19.000000000,2019-10-10 12:57:47.000000000,2019-10-10 12:55:38.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:33:19.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/d426c5d0783ac573564be1d855607a4daaada224', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I07dc249c5fdd264c40407b4d1e9fd3b0ea40f43c\nSem-Ver: feature\n'}]",0,683518,d426c5d0783ac573564be1d855607a4daaada224,9,4,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I07dc249c5fdd264c40407b4d1e9fd3b0ea40f43c
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/18/683518/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,d426c5d0783ac573564be1d855607a4daaada224,reno-train, train,,7,0
openstack%2Fcyborg~master~Ie20d4b00104ca1fb37ff2429a366d48ce3a44508,openstack/cyborg,master,Ie20d4b00104ca1fb37ff2429a366d48ce3a44508,Cleanup index / add in driver support matrix,MERGED,2019-08-21 12:37:04.000000000,2019-10-10 12:52:03.000000000,2019-10-03 15:11:12.000000000,"[{'_account_id': 11878}, {'_account_id': 13629}, {'_account_id': 14070}, {'_account_id': 14107}, {'_account_id': 14131}, {'_account_id': 17813}, {'_account_id': 20722}, {'_account_id': 20754}, {'_account_id': 21672}, {'_account_id': 22306}, {'_account_id': 22348}, {'_account_id': 22899}, {'_account_id': 23168}, {'_account_id': 24872}, {'_account_id': 25738}, {'_account_id': 25847}, {'_account_id': 27458}, {'_account_id': 28748}, {'_account_id': 30759}]","[{'number': 1, 'created': '2019-08-21 12:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6aecdc895f8e37cdf2d3c2387744f82de143d73b', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 2, 'created': '2019-08-21 12:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6eaa3134933cb8d156fdbfec29ec0ca8c574b1d7', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 3, 'created': '2019-08-21 13:34:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/a39edf4097145733162f4a7121d5a25cf04ac695', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 4, 'created': '2019-08-22 12:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/0a463fa739564fa67aa9d07838150baa6d9234a9', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 5, 'created': '2019-08-22 12:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/28ffbeae5c05de843e7b38abc6059b8740de1e80', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 6, 'created': '2019-08-22 13:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/6d9f7871386d475b65d4f0ae034c326810737233', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 7, 'created': '2019-09-26 12:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b5fc0029660fff633dc643253d120f7ce03a13e6', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 8, 'created': '2019-09-26 19:03:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/2d9d8db34ffeecef578e483d6f11a1c284e6b262', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 9, 'created': '2019-09-26 20:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ea1625cd8341957a4922ae32fbc4ac4247d4bb59', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 10, 'created': '2019-09-26 23:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b3893e866d07d79f24d6d6fb6eeafd107f2b9dcd', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 11, 'created': '2019-09-26 23:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/68e3f7c908f0c2c5075f26048b418d6f8c22de37', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 12, 'created': '2019-09-26 23:34:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/5deeb07d87185a8a29123d005544012b541e77c0', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 13, 'created': '2019-09-27 00:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/8a49cd245724209d07eb88c21f8107c1b4ccb703', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 14, 'created': '2019-10-01 12:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/d73b35f01f57ee66f743278d74459c66b0fc34b3', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 15, 'created': '2019-10-02 12:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/78cdb4600531fe7c5a0745f0ffec8566e6db2121', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}, {'number': 16, 'created': '2019-10-02 12:46:27.000000000', 'files': ['doc/source/reference/support-matrix.rst', 'doc/source/install/common.rst', 'doc/source/install/common_prerequisites.rst', 'doc/source/install/install-from-pip.rst', 'doc/source/install/install-from-source.rst', 'doc/source/conf.py', 'doc/source/install/from-source.rst', 'doc/source/configuration/index.rst', 'doc/source/api/api.rst', 'doc/source/index.rst', 'doc/source/reference/support-matrix-fpga.ini', 'doc/source/reference/support-matrix-gpu.ini', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/86f10e29f7f15f69936ac40df5d19d2483c5bfdb', 'message': 'Cleanup index / add in driver support matrix\n\nChange-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508\n'}]",19,677715,86f10e29f7f15f69936ac40df5d19d2483c5bfdb,61,19,16,20754,,,0,"Cleanup index / add in driver support matrix

Change-Id: Ie20d4b00104ca1fb37ff2429a366d48ce3a44508
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/15/677715/12 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/support-matrix.ini', 'doc/source/index.rst', 'doc/source/reference/support-matrix.rst', 'doc/source/conf.py', 'doc/requirements.txt']",5,6aecdc895f8e37cdf2d3c2387744f82de143d73b,,sphinx-feature-classification>=0.1.0 # Apache 2.0,,119,12
openstack%2Foslo.config~master~Id19c6dca83057a9ab63d0947ff508f97811c0499,openstack/oslo.config,master,Id19c6dca83057a9ab63d0947ff508f97811c0499,Update master for stable/train,MERGED,2019-09-20 16:31:10.000000000,2019-10-10 12:51:21.000000000,2019-10-10 12:49:17.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:31:10.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/a6302e4600805010fbfba8454a452d74cf47b015', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Id19c6dca83057a9ab63d0947ff508f97811c0499\nSem-Ver: feature\n'}]",0,683506,a6302e4600805010fbfba8454a452d74cf47b015,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Id19c6dca83057a9ab63d0947ff508f97811c0499
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/06/683506/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,a6302e4600805010fbfba8454a452d74cf47b015,reno-train, train,,7,0
openstack%2Foslo.middleware~master~I625cc2cab482e50ad388974dd34b3331b1471ecb,openstack/oslo.middleware,master,I625cc2cab482e50ad388974dd34b3331b1471ecb,Update master for stable/train,MERGED,2019-09-20 16:35:04.000000000,2019-10-10 12:46:29.000000000,2019-10-10 12:45:02.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:35:04.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/22069a87711cb9c867abe8b3d2eb6792bc7a5df6', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I625cc2cab482e50ad388974dd34b3331b1471ecb\nSem-Ver: feature\n'}]",0,683528,22069a87711cb9c867abe8b3d2eb6792bc7a5df6,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I625cc2cab482e50ad388974dd34b3331b1471ecb
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/28/683528/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,22069a87711cb9c867abe8b3d2eb6792bc7a5df6,reno-train, train,,7,0
openstack%2Foslo.reports~master~I886cc59de42a5be385ba3a4aebc65c8fbfc021da,openstack/oslo.reports,master,I886cc59de42a5be385ba3a4aebc65c8fbfc021da,Update master for stable/train,MERGED,2019-09-20 16:36:43.000000000,2019-10-10 12:43:14.000000000,2019-10-10 12:42:01.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:36:43.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/39ed8ffc5048ec7763ef7320e5cb0d0dd5bfc7a9', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I886cc59de42a5be385ba3a4aebc65c8fbfc021da\nSem-Ver: feature\n'}]",0,683540,39ed8ffc5048ec7763ef7320e5cb0d0dd5bfc7a9,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I886cc59de42a5be385ba3a4aebc65c8fbfc021da
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/40/683540/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,39ed8ffc5048ec7763ef7320e5cb0d0dd5bfc7a9,reno-train, train,,7,0
openstack%2Foslo.db~master~I377ad03a73b88407d0e70315cbd0162bb9dc356b,openstack/oslo.db,master,I377ad03a73b88407d0e70315cbd0162bb9dc356b,Update master for stable/train,MERGED,2019-09-20 16:32:16.000000000,2019-10-10 12:41:59.000000000,2019-10-10 12:40:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:32:16.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/be28e3eaf7f96296d52db4e50837bbcfded9694f', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I377ad03a73b88407d0e70315cbd0162bb9dc356b\nSem-Ver: feature\n'}]",0,683512,be28e3eaf7f96296d52db4e50837bbcfded9694f,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I377ad03a73b88407d0e70315cbd0162bb9dc356b
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/12/683512/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,be28e3eaf7f96296d52db4e50837bbcfded9694f,reno-train, train,,7,0
openstack%2Foslotest~master~I5abe3587f14395b7df158eb4716bdaae700c0d54,openstack/oslotest,master,I5abe3587f14395b7df158eb4716bdaae700c0d54,Update master for stable/train,MERGED,2019-09-20 16:42:02.000000000,2019-10-10 12:39:57.000000000,2019-10-10 12:38:22.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:42:02.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslotest/commit/ff3cb9557158504c643f96aa50d03f58b5dae3fc', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I5abe3587f14395b7df158eb4716bdaae700c0d54\nSem-Ver: feature\n'}]",0,683565,ff3cb9557158504c643f96aa50d03f58b5dae3fc,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I5abe3587f14395b7df158eb4716bdaae700c0d54
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslotest refs/changes/65/683565/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,ff3cb9557158504c643f96aa50d03f58b5dae3fc,reno-train, train,,7,0
openstack%2Foslo.i18n~master~Ie9ccc68184b4a1a2b3e1301eb1bb8ce30fd682dd,openstack/oslo.i18n,master,Ie9ccc68184b4a1a2b3e1301eb1bb8ce30fd682dd,Update master for stable/train,MERGED,2019-09-20 16:32:49.000000000,2019-10-10 12:39:11.000000000,2019-10-10 12:37:59.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:32:49.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/cee9c226bb86bbe2d12ef59f961d4c2b4f515430', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ie9ccc68184b4a1a2b3e1301eb1bb8ce30fd682dd\nSem-Ver: feature\n'}]",0,683515,cee9c226bb86bbe2d12ef59f961d4c2b4f515430,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ie9ccc68184b4a1a2b3e1301eb1bb8ce30fd682dd
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/15/683515/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,cee9c226bb86bbe2d12ef59f961d4c2b4f515430,reno-train, train,,7,0
openstack%2Foslo.service~master~I67830fa805b4b53a2483582fc532386dcb86d182,openstack/oslo.service,master,I67830fa805b4b53a2483582fc532386dcb86d182,Update master for stable/train,MERGED,2019-09-20 16:38:20.000000000,2019-10-10 12:38:32.000000000,2019-10-10 12:36:51.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:38:20.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/d19c0179bdba7a1dc0457aa1e40e7815f31a5bc7', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I67830fa805b4b53a2483582fc532386dcb86d182\nSem-Ver: feature\n'}]",0,683549,d19c0179bdba7a1dc0457aa1e40e7815f31a5bc7,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I67830fa805b4b53a2483582fc532386dcb86d182
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/49/683549/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,d19c0179bdba7a1dc0457aa1e40e7815f31a5bc7,reno-train, train,,7,0
openstack%2Fupstream-institute-virtual-environment~master~I11f72925a95f5c08dcdac64d0994453e3af13430,openstack/upstream-institute-virtual-environment,master,I11f72925a95f5c08dcdac64d0994453e3af13430,Updated CHANGELOG.md,MERGED,2019-10-10 12:08:13.000000000,2019-10-10 12:32:38.000000000,2019-10-10 12:32:37.000000000,"[{'_account_id': 9562}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 12:08:13.000000000', 'files': ['CHANGELOG.md'], 'web_link': 'https://opendev.org/openstack/upstream-institute-virtual-environment/commit/67b9faf7ea53ba822a147fcdce4f9614306e7812', 'message': 'Updated CHANGELOG.md\n\nChange-Id: I11f72925a95f5c08dcdac64d0994453e3af13430\n'}]",0,687869,67b9faf7ea53ba822a147fcdce4f9614306e7812,6,2,1,10298,,,0,"Updated CHANGELOG.md

Change-Id: I11f72925a95f5c08dcdac64d0994453e3af13430
",git fetch https://review.opendev.org/openstack/upstream-institute-virtual-environment refs/changes/69/687869/1 && git format-patch -1 --stdout FETCH_HEAD,['CHANGELOG.md'],1,67b9faf7ea53ba822a147fcdce4f9614306e7812,,## [v2019.02] Shanghai summit[v2019.02]: https://github.com/openstack/upstream-institute-virtual-environment/compare/v2019.01...v2019.02 [v2019.01]: https://github.com/openstack/upstream-institute-virtual-environment/compare/v2018.02...v2019.01 ,## Unreleased - Moved to bionic (18.04 LTS),5,2
openstack%2Fkuryr-kubernetes~master~I14fcf820d94319541dd7bf13893e82cf0373969c,openstack/kuryr-kubernetes,master,I14fcf820d94319541dd7bf13893e82cf0373969c,Avoid namespace deletion error if processing a duplicated event,MERGED,2019-10-09 09:42:30.000000000,2019-10-10 12:29:18.000000000,2019-10-10 10:52:45.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 09:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a0cb6ad50e3d9f7c396f356d1d16e68cdbfce409', 'message': 'Avoid namespace deletion error if processing a duplicated event\n\nChange-Id: I14fcf820d94319541dd7bf13893e82cf0373969c\nCloses-Bug: 1847453\n'}, {'number': 2, 'created': '2019-10-09 14:58:02.000000000', 'files': ['kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/efae1f5211e3907ff58853155b785f0e8fb34e9b', 'message': 'Avoid namespace deletion error if processing a duplicated event\n\nIn case of a kuryr-controller restart, if the namespace deletion\nevent was already executed and it is retriggered, it can make the\nkuryr-controller fail as the kuryrnet CRD would have been already\ndeleted and we cannot obtain the subnet id from it. In that case\nthe event just need to be skip.\n\nChange-Id: I14fcf820d94319541dd7bf13893e82cf0373969c\nCloses-Bug: 1847453\n'}]",1,687520,efae1f5211e3907ff58853155b785f0e8fb34e9b,14,4,2,23567,,,0,"Avoid namespace deletion error if processing a duplicated event

In case of a kuryr-controller restart, if the namespace deletion
event was already executed and it is retriggered, it can make the
kuryr-controller fail as the kuryrnet CRD would have been already
deleted and we cannot obtain the subnet id from it. In that case
the event just need to be skip.

Change-Id: I14fcf820d94319541dd7bf13893e82cf0373969c
Closes-Bug: 1847453
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/20/687520/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/namespace.py'],1,a0cb6ad50e3d9f7c396f356d1d16e68cdbfce409,bug/1847453," if not net_crd: LOG.warning(""This should not happen. Probably this is event "" ""is processed twice due to a restart or ETCD is "" ""not in sync"") # NOTE(ltomasbo): We should rely on ETCD properly behaving, so # we are returning here to prevent duplicated events processing # but not to prevent ETCD failures. return",,8,0
openstack%2Foslo.serialization~master~I5e8957ae5a5de418558a1bb6b021c82a89494faf,openstack/oslo.serialization,master,I5e8957ae5a5de418558a1bb6b021c82a89494faf,Update master for stable/train,MERGED,2019-09-20 16:37:47.000000000,2019-10-10 12:29:17.000000000,2019-10-10 12:28:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:37:47.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/a61f012f6cac0acdca9f2120cef71900ee8f8ed2', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I5e8957ae5a5de418558a1bb6b021c82a89494faf\nSem-Ver: feature\n'}]",0,683546,a61f012f6cac0acdca9f2120cef71900ee8f8ed2,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I5e8957ae5a5de418558a1bb6b021c82a89494faf
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/46/683546/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,a61f012f6cac0acdca9f2120cef71900ee8f8ed2,reno-train, train,,7,0
openstack%2Foslo.upgradecheck~master~I8ff0ce893c9bc2bc758fdee083be8666b6e23164,openstack/oslo.upgradecheck,master,I8ff0ce893c9bc2bc758fdee083be8666b6e23164,Update master for stable/train,MERGED,2019-09-20 16:39:10.000000000,2019-10-10 12:28:31.000000000,2019-10-10 12:27:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:39:10.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.upgradecheck/commit/e0e99ea8fdc0d64ef8dbb200e1b0b9f4f57b2934', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8ff0ce893c9bc2bc758fdee083be8666b6e23164\nSem-Ver: feature\n'}]",0,683552,e0e99ea8fdc0d64ef8dbb200e1b0b9f4f57b2934,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I8ff0ce893c9bc2bc758fdee083be8666b6e23164
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.upgradecheck refs/changes/52/683552/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,e0e99ea8fdc0d64ef8dbb200e1b0b9f4f57b2934,reno-train, train,,7,0
openstack%2Foslo.privsep~master~Ie71b1433596dd50876eddd110b427eb4ae08f077,openstack/oslo.privsep,master,Ie71b1433596dd50876eddd110b427eb4ae08f077,Update master for stable/train,MERGED,2019-09-20 16:36:12.000000000,2019-10-10 12:28:29.000000000,2019-10-10 12:27:15.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:36:12.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/b8a69417a2bd2eb757a36941d8cd95e477ae5b3c', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ie71b1433596dd50876eddd110b427eb4ae08f077\nSem-Ver: feature\n'}]",0,683536,b8a69417a2bd2eb757a36941d8cd95e477ae5b3c,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ie71b1433596dd50876eddd110b427eb4ae08f077
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/36/683536/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,b8a69417a2bd2eb757a36941d8cd95e477ae5b3c,reno-train, train,,7,0
openstack%2Foslo.utils~master~I1cff7414fb67be165c6d8df9b3c9d6969c7c8bd8,openstack/oslo.utils,master,I1cff7414fb67be165c6d8df9b3c9d6969c7c8bd8,Update master for stable/train,MERGED,2019-09-20 16:39:48.000000000,2019-10-10 12:21:07.000000000,2019-10-10 12:18:44.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:39:48.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/9ae49b31db41adf8bafca6a4a7f8a38bd0e0cd0d', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I1cff7414fb67be165c6d8df9b3c9d6969c7c8bd8\nSem-Ver: feature\n'}]",0,683555,9ae49b31db41adf8bafca6a4a7f8a38bd0e0cd0d,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I1cff7414fb67be165c6d8df9b3c9d6969c7c8bd8
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/55/683555/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,9ae49b31db41adf8bafca6a4a7f8a38bd0e0cd0d,reno-train, train,,7,0
openstack%2Fstevedore~master~I8d08e2f45efacaf96f6935c9ce86813263b2f2c3,openstack/stevedore,master,I8d08e2f45efacaf96f6935c9ce86813263b2f2c3,Update master for stable/train,MERGED,2019-09-20 17:44:49.000000000,2019-10-10 12:18:40.000000000,2019-10-10 12:17:03.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 17:44:49.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/stevedore/commit/3864b2ad6e0035cd4e6548d4a241be04f6e583e8', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8d08e2f45efacaf96f6935c9ce86813263b2f2c3\nSem-Ver: feature\n'}]",0,683661,3864b2ad6e0035cd4e6548d4a241be04f6e583e8,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I8d08e2f45efacaf96f6935c9ce86813263b2f2c3
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/stevedore refs/changes/61/683661/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,3864b2ad6e0035cd4e6548d4a241be04f6e583e8,reno-train, train,,7,0
openstack%2Ftaskflow~master~I8e3ba13869a4b4a2f178e362982e8b8026cc9a36,openstack/taskflow,master,I8e3ba13869a4b4a2f178e362982e8b8026cc9a36,Update master for stable/train,MERGED,2019-09-20 17:45:06.000000000,2019-10-10 12:15:02.000000000,2019-10-10 12:13:23.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 17:45:06.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/9422017336af97c799c611930ddb9dfd0fb0e47b', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I8e3ba13869a4b4a2f178e362982e8b8026cc9a36\nSem-Ver: feature\n'}]",0,683664,9422017336af97c799c611930ddb9dfd0fb0e47b,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I8e3ba13869a4b4a2f178e362982e8b8026cc9a36
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/64/683664/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,9422017336af97c799c611930ddb9dfd0fb0e47b,reno-train, train,,7,0
openstack%2Foslo.log~master~I638b57b529a76135a62ce6606629a474f6b4b4d5,openstack/oslo.log,master,I638b57b529a76135a62ce6606629a474f6b4b4d5,Update master for stable/train,MERGED,2019-09-20 16:33:53.000000000,2019-10-10 12:11:40.000000000,2019-10-10 12:10:13.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:33:53.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.log/commit/7fcef4b0f595fc0974b6df22975e66dac8479120', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I638b57b529a76135a62ce6606629a474f6b4b4d5\nSem-Ver: feature\n'}]",0,683522,7fcef4b0f595fc0974b6df22975e66dac8479120,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I638b57b529a76135a62ce6606629a474f6b4b4d5
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.log refs/changes/22/683522/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,7fcef4b0f595fc0974b6df22975e66dac8479120,reno-train, train,,7,0
openstack%2Foslo.versionedobjects~master~Iac77828961761bca78979e4b00aecccc59627e07,openstack/oslo.versionedobjects,master,Iac77828961761bca78979e4b00aecccc59627e07,Update master for stable/train,MERGED,2019-09-20 16:40:57.000000000,2019-10-10 12:10:59.000000000,2019-10-10 12:09:54.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:40:57.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.versionedobjects/commit/30147030b28890435f0b6d000c9baaef8a6a2ed7', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Iac77828961761bca78979e4b00aecccc59627e07\nSem-Ver: feature\n'}]",0,683559,30147030b28890435f0b6d000c9baaef8a6a2ed7,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Iac77828961761bca78979e4b00aecccc59627e07
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.versionedobjects refs/changes/59/683559/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,30147030b28890435f0b6d000c9baaef8a6a2ed7,reno-train, train,,7,0
openstack%2Foslo.messaging~master~I99e73a88a654b27cbd9334974413daf9e4a30e5d,openstack/oslo.messaging,master,I99e73a88a654b27cbd9334974413daf9e4a30e5d,Update master for stable/train,MERGED,2019-09-20 16:34:31.000000000,2019-10-10 12:10:58.000000000,2019-10-10 12:09:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:34:31.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/92ec6ec93e7411ed25282a36e4654a93eb285676', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I99e73a88a654b27cbd9334974413daf9e4a30e5d\nSem-Ver: feature\n'}]",0,683525,92ec6ec93e7411ed25282a36e4654a93eb285676,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I99e73a88a654b27cbd9334974413daf9e4a30e5d
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/25/683525/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,92ec6ec93e7411ed25282a36e4654a93eb285676,reno-train, train,,7,0
openstack%2Foslo.vmware~master~Iadf764c8127ff1713f2c5e9bededdb8d29f294af,openstack/oslo.vmware,master,Iadf764c8127ff1713f2c5e9bededdb8d29f294af,Update master for stable/train,MERGED,2019-09-20 16:41:30.000000000,2019-10-10 12:08:00.000000000,2019-10-10 12:06:31.000000000,"[{'_account_id': 9008}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-09-20 16:41:30.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/oslo.vmware/commit/63b75327acbb1ca0c7aa35d83ec5ebf8ac11af97', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Iadf764c8127ff1713f2c5e9bededdb8d29f294af\nSem-Ver: feature\n'}]",0,683562,63b75327acbb1ca0c7aa35d83ec5ebf8ac11af97,9,4,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Iadf764c8127ff1713f2c5e9bededdb8d29f294af
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/oslo.vmware refs/changes/62/683562/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,63b75327acbb1ca0c7aa35d83ec5ebf8ac11af97,reno-train, train,,7,0
openstack%2Fupstream-institute-virtual-environment~master~I5e4d22634dd49d05eac22f7660fa1ea8bc8ca452,openstack/upstream-institute-virtual-environment,master,I5e4d22634dd49d05eac22f7660fa1ea8bc8ca452,Updating pip packages. Enabling VBoxSVGA driver.,MERGED,2019-10-09 18:26:41.000000000,2019-10-10 12:00:31.000000000,2019-10-10 12:00:30.000000000,"[{'_account_id': 9562}, {'_account_id': 10298}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 18:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/upstream-institute-virtual-environment/commit/0a1a51ee511713febd138bef0abc0c46d073b894', 'message': 'Updating pip packages. Enabling VBoxSVGA driver.\n\n- The latest VirtualBox versions warn the user about obsolete VGA driver,\nthus the modified ovf file.\n- Updated pip requirements and cirros image\n- Updated Changelog and Readme about version 6 compatibility\n\nChange-Id: I5e4d22634dd49d05eac22f7660fa1ea8bc8ca452\n'}, {'number': 2, 'created': '2019-10-09 18:29:21.000000000', 'files': ['elements/upstream-training/install.d/99-devstack', 'upstream-training.ovf', 'CHANGELOG.md', 'README.md', 'elements/upstream-training/static/tmp/requirements.txt'], 'web_link': 'https://opendev.org/openstack/upstream-institute-virtual-environment/commit/dca42b96238618769f941afb2c1f0b5bc583b2ed', 'message': 'Updating pip packages. Enabling VBoxSVGA driver.\n\n- The latest VirtualBox versions warn the user about obsolete VGA driver,\nthus the modified ovf file.\n- Updated pip requirements and cirros image\n- Updated Changelog and Readme about version 6 compatibility\n\nChange-Id: I5e4d22634dd49d05eac22f7660fa1ea8bc8ca452\n'}]",0,687647,dca42b96238618769f941afb2c1f0b5bc583b2ed,10,4,2,10298,,,0,"Updating pip packages. Enabling VBoxSVGA driver.

- The latest VirtualBox versions warn the user about obsolete VGA driver,
thus the modified ovf file.
- Updated pip requirements and cirros image
- Updated Changelog and Readme about version 6 compatibility

Change-Id: I5e4d22634dd49d05eac22f7660fa1ea8bc8ca452
",git fetch https://review.opendev.org/openstack/upstream-institute-virtual-environment refs/changes/47/687647/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/upstream-training/install.d/99-devstack', 'upstream-training.ovf', 'CHANGELOG.md', 'README.md', 'elements/upstream-training/static/tmp/requirements.txt']",5,0a1a51ee511713febd138bef0abc0c46d073b894,,Babel==2.7.0Django==1.11.25Flask==1.1.1Jinja2==2.10.3 Mako==1.1.0 MarkupSafe==1.1.1 Paste==3.2.1PyYAML==5.1.2SQLAlchemy==1.3.9 Sphinx==1.8.5Werkzeug==0.16.0XStatic-Angular-lrdragndrop==1.0.2.4XStatic-Jasmine==2.4.1.2XStatic-mdi==1.6.50.2alembic==1.2.1 amqp==2.5.1 aniso8601==8.0.0 asn1crypto==1.0.1 attrs==19.2.0 automaton==1.17.0 bandit==1.6.2 bcrypt==3.1.7 beautifulsoup4==4.8.1 cachetools==3.1.1 castellan==1.3.1 certifi==2019.9.11 cffi==1.12.3 cliff==2.16.0 configparser==4.0.2 contextlib2==0.6.0 coverage==4.5.4 cryptography==2.7 ddt==1.2.1 debtcollector==1.22.0 decorator==4.4.0 defusedxml==0.6.0 django-appconf==1.0.3 django-compressor==2.3 docutils==0.15.2 dogpile.cache==0.8.0 dulwich==0.19.13 etcd3==0.10.0 eventlet==0.25.1freezegun==0.3.12 futures==3.3.0 futurist==1.9.0 gabbi==1.49.0 gitdb2==2.0.6 glance-store==1.0.1 google-api-python-client==1.7.11google-auth==1.6.3 grpcio==1.24.1 httplib2==0.14.0 importlib-metadata==0.23 jmespath==0.9.4 jsonpatch==1.24 jsonpath-rw-ext==1.2.2 jsonschema==3.0.2 keystoneauth1==3.17.1 keystonemiddleware==7.0.1 kombu==4.6.5 libvirt-python==5.7.0 lxml==4.4.1 mock==3.0.5 mox3==0.28.0 msgpack==0.6.2 neutron-lib==1.29.1 numpy==1.16.5 oauthlib==3.1.0 openstackdocstheme==1.31.1 openstacksdk==0.36.0 os-api-ref==1.6.2 os-brick==2.10.0 os-client-config==1.33.0 os-ken==0.4.1 os-resource-classes==0.5.0 os-service-types==1.7.0 os-testr==1.1.0 os-traits==0.16.0 os-vif==1.17.0 os-win==4.3.2 osc-lib==1.14.1 osc-placement==1.7.0 oslo.cache==1.37.0 oslo.concurrency==3.30.0 oslo.config==6.11.1 oslo.context==2.23.0 oslo.db==5.0.2 oslo.i18n==3.24.0 oslo.log==3.44.1 oslo.messaging==10.2.0 oslo.middleware==3.38.1 oslo.policy==2.3.2 oslo.privsep==1.33.3 oslo.reports==1.30.0 oslo.rootwrap==5.16.1 oslo.serialization==2.29.2 oslo.service==1.40.2 oslo.upgradecheck==0.3.2 oslo.utils==3.41.1 oslo.versionedobjects==1.36.1 oslo.vmware==2.34.1 oslotest==3.8.1 osprofiler==2.8.2 ovs==2.11.0 ovsdbapp==0.17.0 packaging==19.2 paramiko==2.6.0 pathlib2==2.3.5 pbr==5.4.3 pecan==1.3.3 pluggy==0.13.0 protobuf==3.10.0 psutil==5.6.3 psycopg2==2.8.3 py==1.8.0pyasn1-modules==0.2.6 pyasn1==0.4.7 pycadf==2.10.0 pycodestyle==2.5.0 pymongo==3.9.0 pyparsing==2.4.2 pypowervm==1.1.23 pyroute2==0.5.6 pyrsistent==0.15.4 pysaml2==4.8.0 pytest==4.6.5 python-barbicanclient==4.9.0 python-cinderclient==5.0.0 python-designateclient==3.0.0 python-glanceclient==2.17.0 python-ironicclient==3.1.0 python-keystoneclient==3.21.0 python-neutronclient==6.14.0 python-novaclient==15.1.0 python-openstackclient==4.0.0 python-swiftclient==3.8.1 pytz==2019.3 reno==2.11.3 requests-mock==1.6.0 requests==2.22.0 restructuredtext-lint==1.3.0 rfc3986==1.3.2 rjsmin==1.1.0 rtslib-fb==2.1.69 scandir==1.10.0 semantic-version==2.8.2 setproctitle==1.1.10 snowballstemmer==2.0.0 soupsieve==1.9.4 sphinxcontrib-websupport==1.1.2 sqlparse==0.3.0 stestr==2.5.1 stevedore==1.31.0 subprocess32==3.5.4 taskflow==3.7.1 tenacity==5.1.1 tinyrpc==1.0.3 tooz==1.66.2 typing==3.7.4.1urllib3==1.25.6 vine==1.3.0 virtualenv==16.7.5 voluptuous==0.11.7 waitress==1.3.1 warlock==1.3.3 websockify==0.9.0 wrapt==1.11.2 wsgi-intercept==1.8.1 yappi==1.0 zVMCloudConnector==1.4.1 zipp==0.6.0,Babel==2.6.0Django==1.11.20Flask==1.0.2Jinja2==2.10 Mako==1.0.7 MarkupSafe==1.1.0 Paste==3.0.6PyYAML==3.13SQLAlchemy==1.2.17 Sphinx==1.8.4Werkzeug==0.14.1XStatic-Angular-lrdragndrop==1.0.2.2XStatic-Jasmine==2.4.1.1XStatic-mdi==1.4.57.0alabaster==0.7.12 alembic==1.0.7 amqp==2.4.1 aniso8601==4.1.0 appdirs==1.4.3 asn1crypto==0.24.0 astroid==1.6.5 atomicwrites==1.3.0 attrs==18.2.0 automaton==1.15.0 backports.functools-lru-cache==1.5 bandit==1.5.1 bashate==0.6.0 bcrypt==3.1.6 beautifulsoup4==4.7.1 cachetools==3.1.0 castellan==1.1.0 certifi==2018.11.29 cffi==1.11.5 chardet==3.0.4 cliff==2.14.0 cmd2==0.8.9 colorama==0.4.1 configparser==3.7.1 contextlib2==0.5.5 coverage==4.5.2 cryptography==2.5 cursive==0.2.2 ddt==1.2.0 debtcollector==1.20.0 decorator==4.3.2 defusedxml==0.5.0 django-appconf==1.0.2 django-babel==0.6.2 django-compressor==2.2 django-debreach==1.5.2 django-pyscss==2.0.2 dnspython==1.16.0 doc8==0.8.0 docutils==0.14 dogpile.cache==0.6.8 dulwich==0.19.11 enum34==1.1.6 etcd3==0.8.1 etcd3gw==0.2.4 eventlet==0.24.1 extras==1.0.0 fasteners==0.14.1 filelock==3.0.10 fixtures==3.0.0flake8==2.6.2 freezegun==0.3.11 funcsigs==1.0.2 functools32==3.2.3.post2 future==0.17.1 futures==3.2.0 futurist==1.8.0 gabbi==1.44.0 gitdb2==2.0.5 glance-store==0.27.0 google-api-python-client==1.7.8google-auth==1.6.2 greenlet==0.4.15 grpcio==1.15.0 hacking==1.1.0 httplib2==0.12.0 idna==2.8 imagesize==1.1.0 ipaddress==1.0.22 iso8601==0.1.12 isort==4.3.4 itsdangerous==1.1.0 jmespath==0.9.3 jsonpatch==1.23 jsonpath-rw-ext==1.2.0 jsonpath-rw==1.4.0 jsonpointer==2.0 jsonschema==2.6.0 keystoneauth1==3.11.2 keystonemiddleware==5.3.0 kombu==4.3.0 lazy-object-proxy==1.3.1 libvirt-python==5.0.0 linecache2==1.0.0 logutils==0.3.5 lxml==4.3.1 mccabe==0.2.1 microversion-parse==0.2.1 mock==2.0.0 monotonic==1.5 more-itertools==5.0.0 mox3==0.26.0 msgpack==0.6.1 munch==2.3.2 mysqlclient==1.3.10 netaddr==0.7.19 netifaces==0.10.9 networkx==2.2 neutron-lib==1.23.0 nodeenv==1.3.3 numpy==1.16.1 oauth2client==4.1.3 oauthlib==3.0.1 openstackdocstheme==1.29.1 openstacksdk==0.24.0 os-api-ref==1.6.0 os-brick==2.7.0 os-client-config==1.31.2 os-ken==0.3.1 os-resource-classes==0.2.0 os-service-types==1.5.0 os-testr==1.0.0 os-traits==0.10.0 os-vif==1.14.0 os-win==4.2.0 os-xenapi==0.3.4 osc-lib==1.12.0 osc-placement==1.3.0 oslo.cache==1.32.0 oslo.concurrency==3.29.0 oslo.config==6.8.0 oslo.context==2.22.0 oslo.db==4.43.0 oslo.i18n==3.23.0 oslo.log==3.42.2 oslo.messaging==9.4.0 oslo.middleware==3.37.0 oslo.policy==2.1.0 oslo.privsep==1.32.0 oslo.reports==1.29.1 oslo.rootwrap==5.15.1 oslo.serialization==2.28.1 oslo.service==1.36.0 oslo.upgradecheck==0.1.1 oslo.utils==3.40.2 oslo.versionedobjects==1.34.1 oslo.vmware==2.32.1 oslotest==3.7.0 osprofiler==2.5.2 ovs==2.10.0 ovsdbapp==0.15.0 packaging==19.0 paramiko==2.4.2 passlib==1.7.1 pathlib2==2.3.3 pathlib==1.0.1 pbr==5.1.2 pecan==1.3.2 pep257==0.7.0 pep8==1.5.7 pluggy==0.8.1 ply==3.11 prettytable==0.7.2 protobuf==3.6.1 psutil==5.5.0 psycopg2==2.7.7 py==1.7.0pyasn1-modules==0.2.4 pyasn1==0.4.5 pycadf==2.9.0 pycodestyle==2.4.0 pycparser==2.19 pydot==1.4.1 pyflakes==0.8.1 pyinotify==0.9.6 pylint==1.9.2 pymongo==3.7.2 pyparsing==2.3.1 pyperclip==1.7.0 pypowervm==1.1.20 pyroute2==0.5.3 pysaml2==4.6.5 pysendfile==2.0.1 pytest==4.2.0 python-barbicanclient==4.8.1 python-cinderclient==4.1.0 python-dateutil==2.8.0 python-designateclient==2.11.0 python-editor==1.0.4 python-glanceclient==2.15.0 python-ironicclient==2.6.0 python-keystoneclient==3.18.0 python-memcached==1.59 python-mimeparse==1.6.0 python-neutronclient==6.11.0 python-novaclient==11.1.0 python-openstackclient==3.17.0 python-subunit==1.3.0 python-swiftclient==3.6.0 pytz==2018.9 pyudev==0.21.0 rcssmin==1.0.6 reno==2.11.2 repoze.lru==0.7 requests-mock==1.5.2 requests==2.21.0 requestsexceptions==1.4.0 restructuredtext-lint==1.2.2 retrying==1.3.3 rfc3986==1.2.0 rjsmin==1.0.12 rsa==4.0 rtslib-fb==2.1.66 ryu==4.30 scandir==1.9.0 scrypt==0.8.13 selenium==3.141.0 semantic-version==2.6.0 simplegeneric==0.8.1 simplejson==3.16.0 singledispatch==3.4.0.3 six==1.12.0 smmap2==2.0.5 snowballstemmer==1.2.1 sortedcontainers==2.1.0 soupsieve==1.7.3 sphinxcontrib-websupport==1.1.0 sqlalchemy-migrate==0.12.0 sqlparse==0.2.4 statsd==3.3.0 stestr==2.2.0 stevedore==1.30.0 subprocess32==3.5.3 suds-jurko==0.6 systemd-python==234 taskflow==3.4.0 tenacity==5.0.3 testrepository==0.0.20 testresources==2.0.1 testscenarios==0.5.0 testtools==2.3.0 tinyrpc==0.9.4 toml==0.10.0 tooz==1.64.0 tox==3.5.3 traceback2==1.4.0 typing==3.6.6unicodecsv==0.14.1 unittest2==1.1.0 uritemplate==3.0.0 urllib3==1.24.1 vine==1.2.0 virtualenv==16.4.0 voluptuous==0.11.5 waitress==1.2.1 warlock==1.3.0 wcwidth==0.1.7 weakrefmethod==1.0.3 websockify==0.8.0 wrapt==1.11.1 wsgi-intercept==1.8.0 xattr==0.9.6 xvfbwrapper==0.2.9 zVMCloudConnector==1.4.0,185,272
openstack%2Fupstream-institute-virtual-environment~master~I0ed9e92572949efa415e59be60c57560ea629623,openstack/upstream-institute-virtual-environment,master,I0ed9e92572949efa415e59be60c57560ea629623,update git.openstack.org to opendev,MERGED,2019-04-29 05:54:14.000000000,2019-10-10 12:00:13.000000000,2019-10-10 12:00:13.000000000,"[{'_account_id': 10298}, {'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-29 05:54:14.000000000', 'files': ['elements/upstream-training/install.d/99-devstack', 'elements/upstream-training/static/tmp/openstack_git_repos.txt', 'elements/upstream-training/static/tmp/local.conf'], 'web_link': 'https://opendev.org/openstack/upstream-institute-virtual-environment/commit/96a07c4819795c580a618c4ee60afdb2e3db8721', 'message': 'update git.openstack.org to opendev\n\nChange-Id: I0ed9e92572949efa415e59be60c57560ea629623\n'}]",0,656245,96a07c4819795c580a618c4ee60afdb2e3db8721,7,3,1,30298,,,0,"update git.openstack.org to opendev

Change-Id: I0ed9e92572949efa415e59be60c57560ea629623
",git fetch https://review.opendev.org/openstack/upstream-institute-virtual-environment refs/changes/45/656245/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/upstream-training/install.d/99-devstack', 'elements/upstream-training/static/tmp/local.conf', 'elements/upstream-training/static/tmp/openstack_git_repos.txt']",3,96a07c4819795c580a618c4ee60afdb2e3db8721,,https://opendev.org/openstack/nova.git https://opendev.org/openstack/horizon.git https://opendev.org/openstack/keystone.git https://opendev.org/openstack/cinder.githttps://opendev.org/openstack/neutron.git https://opendev.org/openstack/requirements.git https://opendev.org/openstack/tempest.git https://opendev.org/openstack/glance.git,https://git.openstack.org/openstack/nova.git https://git.openstack.org/openstack/horizon.git https://git.openstack.org/openstack/keystone.git https://git.openstack.org/openstack/cinder.githttps://git.openstack.org/openstack/neutron.git https://git.openstack.org/openstack/requirements.git https://git.openstack.org/openstack/tempest.git https://git.openstack.org/openstack/glance.git,10,10
openstack%2Fmagnum~master~I0eab74d25d07407fbe36fca8b8c63dfd3becb283,openstack/magnum,master,I0eab74d25d07407fbe36fca8b8c63dfd3becb283,WIP FCOS as drop-in of replacement atomic,ABANDONED,2019-10-01 19:23:21.000000000,2019-10-10 11:47:45.000000000,,"[{'_account_id': 6484}, {'_account_id': 22348}, {'_account_id': 28022}]","[{'number': 1, 'created': '2019-10-01 19:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/edb7bfe41581c49ac6132761298f113d8f8495d0', 'message': 'WIP FCOS as drop-in of replacement atomic\n\nChange-Id: I0eab74d25d07407fbe36fca8b8c63dfd3becb283\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2019-10-02 12:39:01.000000000', 'files': ['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/d2b398b61dc93fb0504199c88d22caf3dc018d19', 'message': 'WIP FCOS as drop-in of replacement atomic\n\nChange-Id: I0eab74d25d07407fbe36fca8b8c63dfd3becb283\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",0,686033,d2b398b61dc93fb0504199c88d22caf3dc018d19,7,3,2,20498,,,0,"WIP FCOS as drop-in of replacement atomic

Change-Id: I0eab74d25d07407fbe36fca8b8c63dfd3becb283
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum refs/changes/33/686033/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/user_data.json', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubemaster.yaml']",3,edb7bfe41581c49ac6132761298f113d8f8495d0,v1.16," # agent_config: # type: OS::Heat::SoftwareConfig # properties: # group: ungrouped # config: # list_join: # - ""\n"" # - # - str_replace: # template: {get_file: ../../common/templates/fragments/atomic-install-openstack-ca.sh} # params: # $OPENSTACK_CA: {get_param: openstack_ca} # - str_replace: # template: {get_file: ../../common/templates/kubernetes/fragments/start-container-agent.sh} # params: # $CONTAINER_INFRA_PREFIX: {get_param: container_infra_prefix} # $HEAT_CONTAINER_AGENT_TAG: {get_param: heat_container_agent_tag} # - get_file: ../../common/templates/kubernetes/fragments/disable-selinux.sh template: {get_file: user_data.json} params: $HOSTNAME: {get_param: name} $SSH_KEY_VALUE: ""ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCvg2Cj8itBZFvVr8+V5e8aDwtN17Cp87cDpztUBxQgmE/5ddfhrvE0BnrTqcfwQmRpVyBe1N79yZUUYRx+XRpqB1kICTDZKkTsghH7PquLKpASxeUDLFZN7DNN/P+2k4eqWQtGH2E7jgVY/A2DNJUr0ZBnhHGdvr523MyLgt+GH9qolpwpLgH5Y2v5o0dS3ZumkWFY0y8cLjl9iCiSWzaDNaRkRYKGZjlwpqd5mBnGedZ0nY1UG4wEyXzvkdhQipgx2eOwG+/7QiyVSirKxdsO1O2BlKGEofCzilFbRBKzcHQvzPiFYeA1USlEjtHwnivjeQH/jKC/mWHE6AOjm+D5 stack@strigazi-dsvm-desktop"" $OPENSTACK_CA: ""-----BEGIN%20CERTIFICATE-----%0AMIIDjjCCAnagAwIBAgIUcHEsJNYOLWZhmz7htNYF3%2FhXdH8wDQYJKoZIhvcNAQEL%0ABQAwTzESMBAGA1UECgwJT3BlblN0YWNrMScwJQYDVQQLDB5EZXZTdGFjayBDZXJ0%0AaWZpY2F0ZSBBdXRob3JpdHkxEDAOBgNVBAMMB1Jvb3QgQ0EwIBcNMTkwOTE3MTI0%0ANjE1WhgPMjA3ODAzMTExMjQ2MTVaME8xEjAQBgNVBAoMCU9wZW5TdGFjazEnMCUG%0AA1UECwweRGV2U3RhY2sgQ2VydGlmaWNhdGUgQXV0aG9yaXR5MRAwDgYDVQQDDAdS%0Ab290IENBMIIBIjANBgkqhkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAm235DXAdBLJX%0A49bQYbRqbpEN0JiWES8MqUXOAogqsAiXn3iOdAAg3CGxbcLYWFoBGBdP%2ByE6Jabs%0ABECO9nuEOo9cxrou%2FqOTPa9E9zlRywQYDecg%2BsfbtyonWhowa3tov%2BHzVH5x%2BWCB%0AEBQBvMpz9QzIjQz3HiBX3yRdm3OR6hQndoaKJJ0KmrGtuN8ffIixeqdXdYbDVLhZ%0A3lKiwV2oPBkbv4vr6HufvbBW1c7N7F7u1eE2C3%2BmkB7%2BZ%2Focen5oNmhfsKA4SAlQ%0AyQHWaQfsuioYDm1rYm1d3IC0H3djNByF696hV1UenLgazw9DSyhmPHm5GvDqrLM3%0AxX81vOKRsQIDAQABo2AwXjAPBgNVHRMBAf8EBTADAQH%2FMB0GA1UdDgQWBBQNlOLS%0A%2BwWLPvzmkiYPl6BGiycH5zAfBgNVHSMEGDAWgBQNlOLS%2BwWLPvzmkiYPl6BGiycH%0A5zALBgNVHQ8EBAMCAQYwDQYJKoZIhvcNAQELBQADggEBAATWFPhHgZinOVqG5B8X%0Ab3h4eOhZlO9aI4Bf0YJTKZp1oVEBj3BsErwzlYtcnKg5ax2LbEV%2BBaEbnBx4hW4A%0AGFPcIB3tbhaUUuiqwO9vthX%2FhoW%2FKDvvaqFcVLgXxOgqTkd%2FcsSv%2BO9rlzJ8rvLL%0A5NcwAGAvelpRdZFfjW%2B%2FEZ1tcVf%2BiHLGU3a7m0YV25NE0VieMw3Mrrd8EBUQrTh5%0AT8j6hglu0lfKiFoxXVo3MP9U2GWK7tWM1a38W0LgUJ2idlZcBi7IClPMPlSldmRu%0Aalz0sim9LMGgOXWgJOi1usERgHEs%2BlQTUjynhBM0oSc%2Fd%2BQfh%2FJnScUozcOo58xi%0AojQ%3D%0A-----END%20CERTIFICATE-----%0A-----BEGIN%20CERTIFICATE-----%0AMIIDgTCCAmmgAwIBAgIBATANBgkqhkiG9w0BAQsFADBPMRIwEAYDVQQKDAlPcGVu%0AU3RhY2sxJzAlBgNVBAsMHkRldlN0YWNrIENlcnRpZmljYXRlIEF1dGhvcml0eTEQ%0AMA4GA1UEAwwHUm9vdCBDQTAeFw0xOTA5MTcxMjQ2MTZaFw0yMDA5MTYxMjQ2MTZa%0AMFcxEjAQBgNVBAoMCU9wZW5TdGFjazEnMCUGA1UECwweRGV2U3RhY2sgQ2VydGlm%0AaWNhdGUgQXV0aG9yaXR5MRgwFgYDVQQDDA9JbnRlcm1lZGlhdGUgQ0EwggEiMA0G%0ACSqGSIb3DQEBAQUAA4IBDwAwggEKAoIBAQDB42CsurUv1LXvmIdsNl1rD3BAC57G%0AkVylDZy9tX1F0kaSDHXHPkYjuj27JKITdEw6ospwBnunAaPT%2FUcrGKJrEvvMlu7J%0AbEyaEtqxOjYkIYp2pySYStPeq334PX52zw5atHDTz26PDIGb02XHFXIB8KqcOrqz%0AFrcIfaO122davedDZVEb18j9OsrHh91hMacmwm4R5gglI2UHUHqoMK5PP3qLPFh%2B%0ABqvrBZv%2BlICyRb3NmsaHm8BRGR2kEurW9%2FztzvyUX%2F%2FVRFZtAlhcHZeRZSMh7ZyG%0AHPNUsA1FVWHcQcNLHnpzoGjq2KL%2B8mWnKd8kpx9DBOucj5qafBT7YZnPAgMBAAGj%0AYDBeMA8GA1UdEwEB%2FwQFMAMBAf8wHQYDVR0OBBYEFGAgqbZiGSjD7OkgTCvBC%2FM1%0Aekh%2BMB8GA1UdIwQYMBaAFA2U4tL7BYs%2B%2FOaSJg%2BXoEaLJwfnMAsGA1UdDwQEAwIB%0ABjANBgkqhkiG9w0BAQsFAAOCAQEAeXU52K8X2OXUPt7SSDxU6cXFY5PM2vTcxwnr%0AsDDnyfYIsxEPzxhWQWphWmYe0%2FXes5%2Bx5L2aKp2u8DyEoew6Y2qNgSdyb5if%2Fv9h%0AYTkmhFrn2yKLzT8bx9Fx8bkm2hTo408zhwkFGJGrzjurPg3DVGuF1w4sOR9WWR08%0AKks%2BpNeBFgZJj3KVWeG7El0tVGySpDzs1Jg4tqdgMXRUpb4eW2knRSHJFYfvA%2Bbh%0A9MnVoknVN9HiiyGecnlc0HFNRUBGnCKxTRn0DBHaCHMpKpItL%2B94Xxe%2Fs5WscQvy%0AplqpguYC1cfvcYubR7RV4WBhPwGtvcFkLqfY62LLg8uhfDHIeA%3D%3D%0A-----END%20CERTIFICATE-----%0A"" #- str_replace: #- template: {get_file: ../../common/templates/fragments/configure-docker-storage.sh} #- params: #- $configure_docker_storage_driver: {get_file: ../../common/templates/fragments/configure_docker_storage_driver_atomic.sh}", template: {get_file: ../../common/templates/fragments/atomic-install-openstack-ca.sh} params: $OPENSTACK_CA: {get_param: openstack_ca} - str_replace: template: {get_file: ../../common/templates/kubernetes/fragments/start-container-agent.sh} params: $CONTAINER_INFRA_PREFIX: {get_param: container_infra_prefix} $HEAT_CONTAINER_AGENT_TAG: {get_param: heat_container_agent_tag} - get_file: ../../common/templates/kubernetes/fragments/disable-selinux.sh - str_replace: template: {get_file: ../../common/templates/fragments/configure-docker-storage.sh} params: $configure_docker_storage_driver: {get_file: ../../common/templates/fragments/configure_docker_storage_driver_atomic.sh},138,24
openstack%2Fkuryr-kubernetes~stable%2Ftrain~Ie4dfca4420820d15c9cb6e78f7ca121fdb0e1658,openstack/kuryr-kubernetes,stable/train,Ie4dfca4420820d15c9cb6e78f7ca121fdb0e1658,Avoid race between activating vif and pod deletion,MERGED,2019-10-09 17:04:41.000000000,2019-10-10 11:44:06.000000000,2019-10-10 11:42:47.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 17:04:41.000000000', 'files': ['kuryr_kubernetes/controller/handlers/vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8b6053fea34518f6a8904e45d7cea8b895c51495', 'message': 'Avoid race between activating vif and pod deletion\n\nChange-Id: Ie4dfca4420820d15c9cb6e78f7ca121fdb0e1658\nCloses-Bug: 1847441\n(cherry picked from commit bbf6c29ec453880c92df9018c3dec83478e60f08)\n'}]",0,687625,8b6053fea34518f6a8904e45d7cea8b895c51495,8,3,1,23567,,,0,"Avoid race between activating vif and pod deletion

Change-Id: Ie4dfca4420820d15c9cb6e78f7ca121fdb0e1658
Closes-Bug: 1847441
(cherry picked from commit bbf6c29ec453880c92df9018c3dec83478e60f08)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/25/687625/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/vif.py'],1,8b6053fea34518f6a8904e45d7cea8b895c51495,bug/1847441-stable/train,"from neutronclient.common import exceptions as n_exc try: self._drv_vif_pool.activate_vif(pod, vif) changed = True except n_exc.PortNotFoundClient: LOG.debug(""Port not found, possibly already "" ""deleted. No need to activate it"")"," self._drv_vif_pool.activate_vif(pod, vif) changed = True",7,2
openstack%2Fcharm-designate-bind~master~If329a631551f4e3d1b1839a91bdb18e98945bda9,openstack/charm-designate-bind,master,If329a631551f4e3d1b1839a91bdb18e98945bda9,Update tox.ini so that pep8 uses python3,ABANDONED,2019-08-10 16:10:09.000000000,2019-10-10 11:27:30.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-10 16:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/86b0db29e726321a1e52483ad3f1b893984768cd', 'message': ""Update tox.ini so that pep8 uses python3\n\nThe pep8 target used to use python3.5, which doesn't normally exist on\nbionic.  This patchset updates it to python3 (without a subversion) so\nthat it works across xenial and bionic.\n\nChange-Id: If329a631551f4e3d1b1839a91bdb18e98945bda9\n""}, {'number': 2, 'created': '2019-08-14 14:14:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/1534eb489063d37f7fed50edc09dda29f15f1f2d', 'message': ""Update tox.ini so that pep8 uses python3\n\nThe pep8 target used to use python3.5, which doesn't normally exist on\nbionic.  This patchset updates it to python3 (without a subversion) so\nthat it works across xenial and bionic.\n\nNOTE: this commit reverses (in tox.ini) the removal of py35 and py36 tox\ntargets, as they are still used on OSCI.\n\nChange-Id: If329a631551f4e3d1b1839a91bdb18e98945bda9\n""}]",0,675738,1534eb489063d37f7fed50edc09dda29f15f1f2d,10,4,2,20870,,,0,"Update tox.ini so that pep8 uses python3

The pep8 target used to use python3.5, which doesn't normally exist on
bionic.  This patchset updates it to python3 (without a subversion) so
that it works across xenial and bionic.

NOTE: this commit reverses (in tox.ini) the removal of py35 and py36 tox
targets, as they are still used on OSCI.

Change-Id: If329a631551f4e3d1b1839a91bdb18e98945bda9
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/38/675738/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,86b0db29e726321a1e52483ad3f1b893984768cd,modify-tox,"envlist = pep8,py34,py35,py36[testenv:py3] basepython = python3 deps = -r{toxinidir}/test-requirements.txt basepython = python3","envlist = pep8,py34,py35basepython = python3.5",6,2
openstack%2Fkolla~master~I70e36c0b75d010e64978b1ba28e72bc8231fa9c9,openstack/kolla,master,I70e36c0b75d010e64978b1ba28e72bc8231fa9c9,Deprecate Dragonflow images,MERGED,2019-10-04 13:25:15.000000000,2019-10-10 11:03:08.000000000,2019-10-10 11:01:52.000000000,"[{'_account_id': 7353}, {'_account_id': 14826}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-10-04 13:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9d5e27481530d4e8274f975d547aae3f82019e0', 'message': 'Deprecate Dragonflow images\n\nThese images are not deployed by Kolla Ansible or TripleO.\n\nChange-Id: I70e36c0b75d010e64978b1ba28e72bc8231fa9c9\n'}, {'number': 2, 'created': '2019-10-10 10:46:14.000000000', 'files': ['releasenotes/notes/deprecate-dragonflow-0404a4a1aa5a6644.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/57d74f37fc03d03eaac16b43ec627f5aef7a8c42', 'message': 'Deprecate Dragonflow images\n\nThese images are not deployed by Kolla Ansible or TripleO.\n\nChange-Id: I70e36c0b75d010e64978b1ba28e72bc8231fa9c9\n'}]",0,686641,57d74f37fc03d03eaac16b43ec627f5aef7a8c42,14,7,2,14826,,,0,"Deprecate Dragonflow images

These images are not deployed by Kolla Ansible or TripleO.

Change-Id: I70e36c0b75d010e64978b1ba28e72bc8231fa9c9
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/686641/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-dragonflow-0404a4a1aa5a6644.yaml'],1,b9d5e27481530d4e8274f975d547aae3f82019e0,,"--- deprecations: - | The Dragonflow images are deprecated and will be removed in the Ussuri cycle. This includes ``dragonflow-controller``, ``dragonflow-metadata``, and ``dragonflow-publisher-service``. ",,6,0
openstack%2Fnova~master~I4603711c435e15593e4a979906a12b560737bd77,openstack/nova,master,I4603711c435e15593e4a979906a12b560737bd77,libvirt: throw NotImplementedError if qga is not responsive when setting password,MERGED,2017-11-29 09:50:54.000000000,2019-10-10 10:50:49.000000000,2017-12-20 00:07:02.000000000,"[{'_account_id': 6062}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15888}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 19944}, {'_account_id': 22348}, {'_account_id': 23419}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2017-11-29 09:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c964d4c8fe92ae28661c6994cca4a77e2766a3e', 'message': ""libvirt: throw NotImplementedError if qga is not responsive when setting password\n\nIf qemu guest agent is not reponsive when set admin password\n, an InternalError will be thrown\nand the VM state will be set to ERROR.\n\nActually we did nothing to VMs.\nAlso, we've already catched this exception in compute.manager.\n\nThis patch checks the return code from libvirt\nand throws NotImplementedError if qga is not responsive.\n\nChange-Id: I4603711c435e15593e4a979906a12b560737bd77\nSigned-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>\n""}, {'number': 2, 'created': '2017-11-30 09:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ab880521eb07e7dbbab874d16358fb899ad0e2dc', 'message': ""libvirt: throw NotImplementedError if qga is not responsive when setting password\n\nIf qemu guest agent is not reponsive when setting admin password,\nan InternalError will be thrown by nova,\nthen the VM state will be set to ERROR.\n\nActually we did nothing to VMs as qga did not answer our request,\nsuch as qga is crashed/halt, etc.\nIn this kind of senario, libvirt will throw VIR_ERR_AGENT_UNRESPONSIVE\nto us by an error code.\nWe should check the error code return by libvirt and\nthrow a NotImplementedError, which we've already expected\nin compute.manager.\nOther cases like qga got our request\nbut failed to do its work should follow what we used to.\n\nThis patch checks the return code from libvirt.\nIf got VIR_ERR_AGENT_UNRESPONSIVE,\nthen throws NotImplementedError.\n\nChange-Id: I4603711c435e15593e4a979906a12b560737bd77\nSigned-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>\n""}, {'number': 3, 'created': '2017-12-11 05:34:35.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c32c6eb2cdfbcf3794ed16ba32c79ded2fba3e30', 'message': ""libvirt: throw NotImplementedError if qga is not responsive when setting password\n\nIf qemu guest agent is not reponsive when setting admin password,\nan InternalError will be thrown by nova,\nthen the VM state will be set to ERROR.\n\nActually we did nothing to VMs as qga did not answer our request,\nsuch as qga is crashed/halt, etc.\nIn this kind of senario, libvirt will throw VIR_ERR_AGENT_UNRESPONSIVE\nto us by an error code.\nWe should check the error code return by libvirt and\nthrow a NotImplementedError, which we've already expected\nin compute.manager.\nOther cases like qga got our request\nbut failed to do its work should follow what we used to.\n\nThis patch checks the return code from libvirt.\nIf got VIR_ERR_AGENT_UNRESPONSIVE,\nthen throws NotImplementedError.\n\nChange-Id: I4603711c435e15593e4a979906a12b560737bd77\nSigned-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>\n""}]",12,523828,c32c6eb2cdfbcf3794ed16ba32c79ded2fba3e30,65,18,3,19944,,,0,"libvirt: throw NotImplementedError if qga is not responsive when setting password

If qemu guest agent is not reponsive when setting admin password,
an InternalError will be thrown by nova,
then the VM state will be set to ERROR.

Actually we did nothing to VMs as qga did not answer our request,
such as qga is crashed/halt, etc.
In this kind of senario, libvirt will throw VIR_ERR_AGENT_UNRESPONSIVE
to us by an error code.
We should check the error code return by libvirt and
throw a NotImplementedError, which we've already expected
in compute.manager.
Other cases like qga got our request
but failed to do its work should follow what we used to.

This patch checks the return code from libvirt.
If got VIR_ERR_AGENT_UNRESPONSIVE,
then throws NotImplementedError.

Change-Id: I4603711c435e15593e4a979906a12b560737bd77
Signed-off-by: Chen Hanxiao <chenhx@certusnet.com.cn>
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/523828/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,6c964d4c8fe92ae28661c6994cca4a77e2766a3e,qga_driver_NotImplementedError," @mock.patch('nova.utils.get_image_from_system_metadata') @mock.patch.object(host.Host, 'has_min_version', return_value=True) @mock.patch('nova.virt.libvirt.host.Host.get_guest') def test_set_admin_password_not_implemented( self, mock_get_guest, ver, mock_image): self.flags(virt_type='kvm', group='libvirt') instance = objects.Instance(**self.test_instance) mock_image.return_value = {""properties"": { ""hw_qemu_guest_agent"": ""yes""}} mock_guest = mock.Mock(spec=libvirt_guest.Guest) not_implemented = fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, ""Guest agent disappeared while executing command"", error_code=fakelibvirt.VIR_ERR_AGENT_UNRESPONSIVE) mock_guest.set_user_password.side_effect = not_implemented mock_get_guest.return_value = mock_guest drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) self.assertRaises(NotImplementedError, drvr.set_admin_password, instance, ""123"") ",,32,5
openstack%2Ftripleo-ansible~master~I030d7f9ef54250cef4019d40366febe899f37bd9,openstack/tripleo-ansible,master,I030d7f9ef54250cef4019d40366febe899f37bd9,Remove readme files within the roles,MERGED,2019-10-08 12:51:49.000000000,2019-10-10 10:26:20.000000000,2019-10-10 10:26:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 12:51:49.000000000', 'files': ['tripleo_ansible/roles/tuned/README.md', 'tripleo_ansible/roles/aide/README.md', 'tripleo_ansible/roles/test_package_action/README.md', 'tripleo_ansible/roles/tripleo-bootstrap/README.md', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/README.md', 'tripleo_ansible/roles/tripleo-ceph-work-dir/README.md', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/README.md', 'tripleo_ansible/roles/tripleo-ceph-uuid/README.md', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/README.md', 'tripleo_ansible/roles/tripleo-clients-install/README.md', 'tripleo_ansible/roles/tripleo-validations-package/README.md', 'tripleo_ansible/roles/test_json_error_callback/README.md', 'tripleo_ansible/roles/tripleo-container-tag/README.md', 'tripleo_ansible/roles/tripleo-create-admin/README.md', 'tripleo_ansible/roles/tripleo-image-serve/README.md', 'tripleo_ansible/roles/tripleo-transfer/README.md', '_skeleton_role_/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f03d7be447a464d14787dd3e4895c330e3a83a5b', 'message': 'Remove readme files within the roles\n\nThe readme files are unnessesary, and unused. All of the role documentation\nis generated as part of the tripleo-ansible docs. Because these files are\ngenerally neglected the documentation they provide is at best missing\ninformation and at worst incorrect. This change removes all of the role\nreadme files and ensures our role generation process no longer creates\nthe file.\n\nChange-Id: I030d7f9ef54250cef4019d40366febe899f37bd9\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,687287,f03d7be447a464d14787dd3e4895c330e3a83a5b,13,5,1,7353,,,0,"Remove readme files within the roles

The readme files are unnessesary, and unused. All of the role documentation
is generated as part of the tripleo-ansible docs. Because these files are
generally neglected the documentation they provide is at best missing
information and at worst incorrect. This change removes all of the role
readme files and ensures our role generation process no longer creates
the file.

Change-Id: I030d7f9ef54250cef4019d40366febe899f37bd9
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/687287/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tuned/README.md', 'tripleo_ansible/roles/aide/README.md', 'tripleo_ansible/roles/test_package_action/README.md', 'tripleo_ansible/roles/tripleo-bootstrap/README.md', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/README.md', 'tripleo_ansible/roles/tripleo-ceph-work-dir/README.md', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/README.md', 'tripleo_ansible/roles/tripleo-ceph-uuid/README.md', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/README.md', 'tripleo_ansible/roles/tripleo-clients-install/README.md', 'tripleo_ansible/roles/tripleo-validations-package/README.md', 'tripleo_ansible/roles/test_json_error_callback/README.md', 'tripleo_ansible/roles/tripleo-container-tag/README.md', 'tripleo_ansible/roles/tripleo-create-admin/README.md', 'tripleo_ansible/roles/tripleo-image-serve/README.md', 'tripleo_ansible/roles/tripleo-transfer/README.md', '_skeleton_role_/README.md']",17,f03d7be447a464d14787dd3e4895c330e3a83a5b,,,"Role Name ========= A brief description of the role goes here. Requirements ------------ Any pre-requisites that may not be covered by Ansible itself or the role should be mentioned here. Role Variables -------------- A description of the settable variables for this role should go here, including any variables that are in defaults/main.yml, vars/main.yml, and any variables that can/should be set via parameters to the role. Any variables that are read from other roles and/or the global scope (ie. hostvars, group vars, etc.) should be mentioned here as well. Dependencies ------------ A list of other roles hosted on Galaxy should go here, plus any details in regards to parameters that may need to be set for other roles, or variables that are used from other roles. ",0,389
openstack%2Fnova-powervm~master~I5b779f093a465812dbca745ce4b226370b6a6bd5,openstack/nova-powervm,master,I5b779f093a465812dbca745ce4b226370b6a6bd5,Fixing UT issues to support Python 3 Train Version,NEW,2019-08-26 07:59:06.000000000,2019-10-10 10:17:55.000000000,,"[{'_account_id': 11805}, {'_account_id': 13637}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 28063}, {'_account_id': 30366}]","[{'number': 1, 'created': '2019-08-26 07:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/d6b016af691e106fe59c8530a07143fe0f5f679f', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}, {'number': 2, 'created': '2019-08-26 09:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/412a4403ce00de97fdc8427b768f880c7f1957f0', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}, {'number': 3, 'created': '2019-09-13 11:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/726140d3dea91a6b1dd7a469800937c6f9482ef5', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}, {'number': 4, 'created': '2019-09-14 08:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/49a618b893ccaab7b5612ce801d9b74b8d16177b', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}, {'number': 5, 'created': '2019-09-14 11:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/f2894cb5c3cbcb230b09c0695676b93749cf14b3', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}, {'number': 6, 'created': '2019-09-14 12:05:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/7c752a25e51dce318b5a034988db27cef64e5e3f', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}, {'number': 7, 'created': '2019-09-16 10:04:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/cfeea0de269a266e096b0049d7bc971743676458', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}, {'number': 8, 'created': '2019-09-16 14:00:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/8e3efc84177ae84a150cebc99ca618e6dd7174cd', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}, {'number': 9, 'created': '2019-09-16 15:01:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/4e9265b4129f82ad15a0b9a676e35d027ed23c9f', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}, {'number': 10, 'created': '2019-09-16 15:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/54254a4f55280b2f8ae351f61137b8f056017cf6', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}, {'number': 11, 'created': '2019-09-16 16:30:02.000000000', 'files': ['requirements.txt', 'bindep.txt', '.zuul.yaml', 'lower-constraints.txt', 'nova_powervm/tests/virt/powervm/volume/test_npiv.py', 'setup.cfg', 'nova_powervm/tests/virt/powervm/test_media.py', 'tox.ini', 'nova_powervm/tests/virt/powervm/volume/test_iscsi.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/e4ad320a77ee99885ac26bc5a980d8e751471b5c', 'message': 'Fixing UT issues to support Python 3 Train Version\n\nChange-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5\n'}]",0,678482,e4ad320a77ee99885ac26bc5a980d8e751471b5c,38,7,11,28063,,,0,"Fixing UT issues to support Python 3 Train Version

Change-Id: I5b779f093a465812dbca745ce4b226370b6a6bd5
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/82/678482/10 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'nova_powervm/tests/virt/powervm/volume/test_npiv.py', 'setup.cfg', 'nova_powervm/tests/virt/powervm/test_media.py', 'tox.ini', 'nova_powervm/tests/virt/powervm/volume/test_iscsi.py']",6,d6b016af691e106fe59c8530a07143fe0f5f679f,python3-train," ""vstor_uuid"", adapter=self.adpt) mock_hdisk_from_uuid.assert_called_with('vstor_uuid') mock_set_udid.assert_called_with('udid')"," ""vstor_uuid"", self.adpt) mock_hdisk_from_uuid.assert_called_with(mock.ANY, 'vstor_uuid') mock_set_udid.assert_called_with(mock.ANY, 'udid')",9,7
openstack%2Fkolla-ansible~master~Ib1f36ec0a773c384f2c1eac1843782a3e766045a,openstack/kolla-ansible,master,Ib1f36ec0a773c384f2c1eac1843782a3e766045a,Copy Nova role as a basis for the Nova cell role,MERGED,2019-08-09 16:15:05.000000000,2019-10-10 10:16:05.000000000,2019-10-10 10:14:45.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-08-09 16:15:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78d5857fae6882a0103353e7adb65bd518942c7c', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 2, 'created': '2019-08-09 16:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4e5edf1e6e31321e65a1f806c2e816baba6a9b3b', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 3, 'created': '2019-08-19 15:18:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cfc54e5ac7d493c58c4f9bc2f4feada7ed6d9fa7', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 4, 'created': '2019-08-19 15:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/047354faa4d8f5537c0390ea6ee7863ac27289e3', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 5, 'created': '2019-08-19 15:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/27c96439172d764f2003be926cf15d2d3a993065', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 6, 'created': '2019-08-21 14:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc047c5b8836e01883eb3ef0afe7f49c47d44397', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 7, 'created': '2019-08-28 16:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8419f03a3e83fd68753f46fbbc713b508a739bc7', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 8, 'created': '2019-08-29 06:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/91aa619b0699b5d24bede3918a94e42d83b73ee3', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 9, 'created': '2019-09-10 13:06:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/58713783c0bac1d2ff1fb0bea0ee7cea4da11b8a', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 10, 'created': '2019-09-10 13:08:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af94e3e4e9c11bff766632090534013267079695', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 11, 'created': '2019-09-17 15:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a928cfe7769334fbc35196f22bacceceb35fa80', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 12, 'created': '2019-09-20 16:04:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b4512fcfe36cd4b9d45bb4237b36de19e7efc46e', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 13, 'created': '2019-09-21 08:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/538ad38f0a584b80f6aa8436f1530816ddc04c78', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 14, 'created': '2019-09-25 17:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b60fe52e3bce1629b2bee87afdd6f0ce9cf452b8', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 15, 'created': '2019-09-27 17:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ad1cfc9ae7cd01de38697079d6a81f8f19a465a7', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}, {'number': 16, 'created': '2019-10-02 17:08:17.000000000', 'files': ['ansible/roles/nova-cell/tasks/check-containers.yml', 'ansible/roles/nova-cell/templates/nova-serialproxy.json.j2', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/bootstrap_service.yml', 'ansible/roles/nova-cell/tasks/loadbalancer.yml', 'ansible/roles/nova-cell/tasks/bootstrap_xenapi.yml', 'ansible/roles/nova-cell/templates/nova-conductor.json.j2', 'ansible/roles/nova-cell/handlers/main.yml', 'ansible/roles/nova-cell/tasks/reconfigure.yml', 'ansible/roles/nova-cell/tasks/deploy.yml', 'ansible/roles/nova-cell/templates/secret.xml.j2', 'ansible/roles/nova-cell/templates/nova-novncproxy.json.j2', 'ansible/roles/nova-cell/templates/nova-ssh.json.j2', 'ansible/roles/nova-cell/templates/nova-spicehtml5proxy.json.j2', 'ansible/roles/nova-cell/templates/ssh_config.j2', 'ansible/roles/nova-cell/tasks/external_ceph.yml', 'ansible/roles/nova-cell/templates/nova-api.json.j2', 'ansible/roles/nova-cell/tasks/config-libvirt-tls.yml', 'ansible/roles/nova-cell/tasks/config-nova-fake.yml', 'ansible/roles/nova-cell/templates/libvirtd.conf.j2', 'ansible/roles/nova-cell/tasks/precheck.yml', 'ansible/roles/nova-cell/tasks/upgrade.yml', 'ansible/roles/nova-cell/tasks/create_cells.yml', 'ansible/roles/nova-cell/tasks/bootstrap.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/roles/nova-cell/tasks/ceph.yml', 'ansible/roles/nova-cell/tasks/pull.yml', 'ansible/roles/nova-cell/templates/nova-compute-ironic.json.j2', 'ansible/roles/nova-cell/tasks/clone.yml', 'ansible/roles/nova-cell/tasks/config.yml', 'ansible/roles/nova-cell/tasks/check.yml', 'ansible/roles/nova-cell/tasks/register.yml', 'ansible/roles/nova-cell/templates/id_rsa', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/nova-cell/meta/main.yml', 'ansible/roles/nova-cell/tasks/deploy-containers.yml', 'ansible/roles/nova-cell/templates/id_rsa.pub', 'ansible/roles/nova-cell/templates/nova.conf.d/libvirt.conf.j2', 'ansible/roles/nova-cell/templates/nova-compute.json.j2', 'ansible/roles/nova-cell/templates/qemu.conf.j2', 'ansible/roles/nova-cell/templates/nova-libvirt.json.j2', 'ansible/roles/nova-cell/templates/sshd_config.j2', 'ansible/roles/nova-cell/tasks/rolling_upgrade.yml', 'ansible/roles/nova-cell/templates/nova-scheduler.json.j2', 'ansible/roles/nova-cell/tasks/main.yml', 'ansible/roles/nova-cell/tasks/stop.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/952b53089b7c7d9ff3c268167462346ae2bff3d3', 'message': 'Copy Nova role as a basis for the Nova cell role\n\nThe idea is to factor out a role for deploying Nova related services\nto cells. Since all deployments use cells, this role can be used\nin both regular deployments which have just cell0 and cell1,\nand deployments with many cells.\n\nPartially Implements: blueprint support-nova-cells\nChange-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a\n'}]",2,675658,952b53089b7c7d9ff3c268167462346ae2bff3d3,42,5,16,17669,,,0,"Copy Nova role as a basis for the Nova cell role

The idea is to factor out a role for deploying Nova related services
to cells. Since all deployments use cells, this role can be used
in both regular deployments which have just cell0 and cell1,
and deployments with many cells.

Partially Implements: blueprint support-nova-cells
Change-Id: Ib1f36ec0a773c384f2c1eac1843782a3e766045a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/675658/7 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/templates/nova-serialproxy.json.j2', 'ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/nova-cell/tasks/bootstrap_service.yml', 'ansible/roles/nova-cell/tasks/loadbalancer.yml', 'ansible/roles/nova-cell/tasks/bootstrap_xenapi.yml', 'ansible/roles/nova-cell/templates/nova-conductor.json.j2', 'ansible/roles/nova-cell/handlers/main.yml', 'ansible/roles/nova-cell/tasks/reconfigure.yml', 'ansible/roles/nova-cell/tasks/deploy.yml', 'ansible/roles/nova-cell/tasks/reload.yml', 'ansible/roles/nova-cell/templates/secret.xml.j2', 'ansible/roles/nova-cell/templates/nova-novncproxy.json.j2', 'ansible/roles/nova-cell/templates/nova-ssh.json.j2', 'ansible/roles/nova-cell/templates/nova-spicehtml5proxy.json.j2', 'ansible/roles/nova-cell/templates/ssh_config.j2', 'ansible/roles/nova-cell/defaults/.nfs000000000020344400000001', 'ansible/roles/nova-cell/templates/nova-consoleauth.json.j2', 'ansible/roles/nova-cell/tasks/external_ceph.yml', 'ansible/roles/nova-cell/templates/nova-api.json.j2', 'ansible/roles/nova-cell/tasks/config-nova-fake.yml', 'ansible/roles/nova-cell/tasks/legacy_upgrade.yml', 'ansible/roles/nova-cell/templates/libvirtd.conf.j2', 'ansible/roles/nova-cell/tasks/precheck.yml', 'ansible/roles/nova-cell/tasks/upgrade.yml', 'ansible/roles/nova-cell/tasks/create_cells.yml', 'ansible/roles/nova-cell/tasks/bootstrap.yml', 'ansible/roles/nova-cell/tasks/discover_computes.yml', 'ansible/roles/nova-cell/tasks/ceph.yml', 'ansible/roles/nova-cell/tasks/pull.yml', 'ansible/roles/nova-cell/templates/nova-compute-ironic.json.j2', 'ansible/roles/nova-cell/tasks/clone.yml', 'ansible/roles/nova-cell/tasks/config.yml', 'ansible/roles/nova-cell/tasks/check.yml', 'ansible/roles/nova-cell/tasks/register.yml', 'ansible/roles/nova-cell/templates/id_rsa', 'ansible/roles/nova-cell/templates/nova.conf.j2', 'ansible/roles/nova-cell/meta/main.yml', 'ansible/roles/nova-cell/templates/id_rsa.pub', 'ansible/roles/nova-cell/templates/nova-compute.json.j2', 'ansible/roles/nova-cell/templates/qemu.conf.j2', 'ansible/roles/nova-cell/templates/nova-libvirt.json.j2', 'ansible/roles/nova-cell/templates/sshd_config.j2', 'ansible/roles/nova-cell/tasks/rolling_upgrade.yml', 'ansible/roles/nova-cell/templates/nova-scheduler.json.j2', 'ansible/roles/nova-cell/tasks/main.yml', 'ansible/roles/nova-cell/tasks/stop.yml']",46,78d5857fae6882a0103353e7adb65bd518942c7c,bp/support-nova-cells,"--- - import_role: role: service-stop vars: project_services: ""{{ nova_services }}"" service_name: ""{{ project_name }}"" ",,2447,0
openstack%2Fopenstack-chef~master~I07fad7e61f608fd094c75dd628d14ff8d9f7d352,openstack/openstack-chef,master,I07fad7e61f608fd094c75dd628d14ff8d9f7d352,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-09 09:28:22.000000000,2019-10-10 10:16:01.000000000,2019-10-10 10:14:09.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-10-09 09:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/7a9f10246f169545052a449db6615f2614cc0b27', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I07fad7e61f608fd094c75dd628d14ff8d9f7d352\n'}, {'number': 2, 'created': '2019-10-10 01:34:48.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/628ab8f73c07a231fac1cbef7c3aee50d5ed7446', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I07fad7e61f608fd094c75dd628d14ff8d9f7d352\n'}]",0,687511,628ab8f73c07a231fac1cbef7c3aee50d5ed7446,14,3,2,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I07fad7e61f608fd094c75dd628d14ff8d9f7d352
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/11/687511/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,7a9f10246f169545052a449db6615f2614cc0b27,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fkolla-ansible~stable%2Fstein~I2b6fc85bac092b1614bccfd22bee48442c55dda4,openstack/kolla-ansible,stable/stein,I2b6fc85bac092b1614bccfd22bee48442c55dda4,Add <project>_install_type for all projects,MERGED,2019-10-09 20:23:40.000000000,2019-10-10 09:51:31.000000000,2019-10-10 09:50:12.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2019-10-09 20:23:40.000000000', 'files': ['ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d82439a41e98aba92f7440820fd1837a87343880', 'message': 'Add <project>_install_type for all projects\n\nThis allows the install type for the project to be different than\nkolla_install_type\n\nThis can be used to avoid hitting bug 1786238, since kuryr only supports\nthe source type.\n\nChange-Id: I2b6fc85bac092b1614bccfd22bee48442c55dda4\nCloses-Bug: #1786238\n(cherry picked from commit cc555c41966e53aa43d96e0d66a169720c3c98a4)\n'}]",0,687669,d82439a41e98aba92f7440820fd1837a87343880,9,4,1,30523,,,0,"Add <project>_install_type for all projects

This allows the install type for the project to be different than
kolla_install_type

This can be used to avoid hitting bug 1786238, since kuryr only supports
the source type.

Change-Id: I2b6fc85bac092b1614bccfd22bee48442c55dda4
Closes-Bug: #1786238
(cherry picked from commit cc555c41966e53aa43d96e0d66a169720c3c98a4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/69/687669/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml']",20,d82439a41e98aba92f7440820fd1837a87343880,bug/1786238-stable/stein,"tempest_install_type: ""{{ kolla_install_type }}"" tempest_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ tempest_install_type }}-tempest""","tempest_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ kolla_install_type }}-tempest""",45,24
openstack%2Fnova~master~Ibd51d6fc2d4c9fd142ba17f2f87214bb62f72440,openstack/nova,master,Ibd51d6fc2d4c9fd142ba17f2f87214bb62f72440,Cache image GETs for multi-create/multi-BDM requests,MERGED,2019-10-04 20:39:08.000000000,2019-10-10 09:10:51.000000000,2019-10-09 23:32:39.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 20:39:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/115fc9481825552dd9e7416c9cee02be7708074d', 'message': ""Cache image GETs for multi-create/multi-BDM requests\n\nThis builds on change I1233fbbaebd1750f572432bf74759b94408a17e3 which\nadded a functional test to create 10 servers with 255 BDMs each using\nthe same image. That scenario results in 2551 calls to the image service\nto get the same image. While an unrealistic scenario, it shows how\ninefficient this can be even in a simple multi-create request where\neach server has one or more BDMs that are using one or more of the\nsame images.\n\nThis change adds a simple cache that is used while processing the list\nof instances to create and the list of BDMs per instance that are using\na source_type of 'image' to validate the image. This drops the image GET\ncalls in the functional test from 2551 to 2.\n\nThe functional test verifies the cache is being used properly. Existing\nunit tests are updated for the method signature changes. Note that some\nAPI controller tests were mocking a bit too deep and ignoring all of the\nparameters to the _validate_bdm mock so rather than continue that pattern\nthe assertions are just changed to assert_called_once() since the tests\nclearly don't care about the actual parameters passed to that method.\n\nFinally, surprisingly the functional test is not noticeably faster after\nthe image cache is added which means there is an opportunity for further\nprofiling of this scenario to weed out other inefficiencies.\n\nChange-Id: Ibd51d6fc2d4c9fd142ba17f2f87214bb62f72440\nCloses-Bug: #1846777\n""}, {'number': 2, 'created': '2019-10-07 14:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59ba804fa0a9e8cbbd4d3a2bb8052871bf502419', 'message': ""Cache image GETs for multi-create/multi-BDM requests\n\nThis builds on change I1233fbbaebd1750f572432bf74759b94408a17e3 which\nadded a functional test to create 10 servers with 255 BDMs each using\nthe same image. That scenario results in 2551 calls to the image service\nto get the same image. While an unrealistic scenario, it shows how\ninefficient this can be even in a simple multi-create request where\neach server has one or more BDMs that are using one or more of the\nsame images.\n\nThis change adds a simple cache that is used while processing the list\nof instances to create and the list of BDMs per instance that are using\na source_type of 'image' to validate the image. This drops the image GET\ncalls in the functional test from 2551 to 2.\n\nThe functional test verifies the cache is being used properly. Existing\nunit tests are updated for the method signature changes. Note that some\nAPI controller tests were mocking a bit too deep and ignoring all of the\nparameters to the _validate_bdm mock so rather than continue that pattern\nthe assertions are just changed to assert_called_once() since the tests\nclearly don't care about the actual parameters passed to that method.\n\nChange-Id: Ibd51d6fc2d4c9fd142ba17f2f87214bb62f72440\nCloses-Bug: #1846777\n""}, {'number': 3, 'created': '2019-10-08 17:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c2172f2473e87c053679305cbef6f4d4a068c97', 'message': ""Cache image GETs for multi-create/multi-BDM requests\n\nThis builds on change I1233fbbaebd1750f572432bf74759b94408a17e3 which\nadded a functional test to create 10 servers with 255 BDMs each using\nthe two images. That scenario results in 2551 calls to the image service\nto get the images. While an unrealistic scenario, it shows how\ninefficient this can be even in a simple multi-create request where\neach server has one or more BDMs that are using one or more of the\nsame images.\n\nThis change adds a simple cache that is used while processing the list\nof instances to create and the list of BDMs per instance that are using\na source_type of 'image' to validate the image. This drops the image GET\ncalls in the functional test from 2551 to 3.\n\nThe functional test verifies the cache is being used properly. Existing\nunit tests are updated for the method signature changes. Note that some\nAPI controller tests were mocking a bit too deep and ignoring all of the\nparameters to the _validate_bdm mock so rather than continue that pattern\nthe assertions are just changed to assert_called_once() since the tests\nclearly don't care about the actual parameters passed to that method.\n\nChange-Id: Ibd51d6fc2d4c9fd142ba17f2f87214bb62f72440\nCloses-Bug: #1846777\n""}, {'number': 4, 'created': '2019-10-09 15:57:18.000000000', 'files': ['nova/tests/functional/test_boot_from_volume.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2d84a564fbb528734776d8432a31a4bb4b40af71', 'message': ""Cache image GETs for multi-create/multi-BDM requests\n\nThis builds on change I1233fbbaebd1750f572432bf74759b94408a17e3 which\nadded a functional test to create 10 servers with 255 BDMs each using\nthe two images. That scenario results in 2551 calls to the image service\nto get the images. While an unrealistic scenario, it shows how\ninefficient this can be even in a simple multi-create request where\neach server has one or more BDMs that are using one or more of the\nsame images.\n\nThis change adds a simple cache that is used while processing the list\nof instances to create and the list of BDMs per instance that are using\na source_type of 'image' to validate the image. This drops the image GET\ncalls in the functional test from 2551 to 3.\n\nThe functional test verifies the cache is being used properly. Existing\nunit tests are updated for the method signature changes. Note that some\nAPI controller tests were mocking a bit too deep and ignoring all of the\nparameters to the _validate_bdm mock so rather than continue that pattern\nthe assertions are just changed to assert_called_once() since the tests\nclearly don't care about the actual parameters passed to that method.\n\nChange-Id: Ibd51d6fc2d4c9fd142ba17f2f87214bb62f72440\nCloses-Bug: #1846777\n""}]",9,686835,2d84a564fbb528734776d8432a31a4bb4b40af71,48,13,4,6873,,,0,"Cache image GETs for multi-create/multi-BDM requests

This builds on change I1233fbbaebd1750f572432bf74759b94408a17e3 which
added a functional test to create 10 servers with 255 BDMs each using
the two images. That scenario results in 2551 calls to the image service
to get the images. While an unrealistic scenario, it shows how
inefficient this can be even in a simple multi-create request where
each server has one or more BDMs that are using one or more of the
same images.

This change adds a simple cache that is used while processing the list
of instances to create and the list of BDMs per instance that are using
a source_type of 'image' to validate the image. This drops the image GET
calls in the functional test from 2551 to 3.

The functional test verifies the cache is being used properly. Existing
unit tests are updated for the method signature changes. Note that some
API controller tests were mocking a bit too deep and ignoring all of the
parameters to the _validate_bdm mock so rather than continue that pattern
the assertions are just changed to assert_called_once() since the tests
clearly don't care about the actual parameters passed to that method.

Change-Id: Ibd51d6fc2d4c9fd142ba17f2f87214bb62f72440
Closes-Bug: #1846777
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/686835/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_boot_from_volume.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/tests/unit/api/openstack/compute/test_serversV21.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/api.py']",5,115fc9481825552dd9e7416c9cee02be7708074d,bug/1846777," # We could be iterating over several instances with several BDMs per # instance and those BDMs could be using a lot of the same images so # we want to cache the image API GET results for performance. image_cache = {} # dict of image dicts keyed by image id image_cache, supports_multiattach)) image_cache, :param context: nova auth RequestContext :param instance: Instance object :param instance_type: Flavor object - used for swap and ephemeral BDMs :param block_device_mapping: BlockDeviceMappingList object :param image_cache: dict of image dicts keyed by id which is used as a cache in case there are multiple BDMs in the same request using the same image to avoid redundant GET calls to the image service :param supports_multiattach: True if the request supports multiattach volumes, False otherwise image_cache, supports_multiattach) block_device_mappings, image_cache, supports_multiattach=False): """"""Validate requested block device mappings. :param context: nova auth RequestContext :param instance: Instance object :param instance_type: Flavor object - used for swap and ephemeral BDMs :param block_device_mappings: BlockDeviceMappingList object :param image_cache: dict of image dicts keyed by id which is used as a cache in case there are multiple BDMs in the same request using the same image to avoid redundant GET calls to the image service :param supports_multiattach: True if the request supports multiattach volumes, False otherwise """""" if (image_id != instance.get('image_ref') and image_id not in image_cache): try: # Cache the results of the image GET so we do not make # the same request for the same image if processing # multiple BDMs or multiple servers with the same image image_cache[image_id] = self._get_image( context, image_id)"," supports_multiattach)) supports_multiattach) block_device_mappings, supports_multiattach=False): if image_id != instance.get('image_ref'): try: self._get_image(context, image_id)",70,46
openstack%2Fcharm-neutron-openvswitch~master~I6a18ebabade887922c13824c23ad5e0a8da74ba8,openstack/charm-neutron-openvswitch,master,I6a18ebabade887922c13824c23ad5e0a8da74ba8,Ensure /etc/neutron/secret.txt is not world readable,MERGED,2019-10-08 11:22:24.000000000,2019-10-10 09:10:50.000000000,2019-10-10 09:10:50.000000000,"[{'_account_id': 935}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 11:22:24.000000000', 'files': ['unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/47fb279533c425ca5c5f7f3f8fd993b3fa8c1e12', 'message': 'Ensure /etc/neutron/secret.txt is not world readable\n\n/etc/neutron/secret.txt is used to store the UUID to configure\nthe shared secret in neutron-metadata-agent and the nova-api-metadata\nservice for authentication of metadata requests from instances.\n\nEnsure that this file can only be read by the root user.\n\nChange-Id: I6a18ebabade887922c13824c23ad5e0a8da74ba8\nCloses-Bug: 1847230\n'}]",0,687272,47fb279533c425ca5c5f7f3f8fd993b3fa8c1e12,9,4,1,935,,,0,"Ensure /etc/neutron/secret.txt is not world readable

/etc/neutron/secret.txt is used to store the UUID to configure
the shared secret in neutron-metadata-agent and the nova-api-metadata
service for authentication of metadata requests from instances.

Ensure that this file can only be read by the root user.

Change-Id: I6a18ebabade887922c13824c23ad5e0a8da74ba8
Closes-Bug: 1847230
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/72/687272/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_context.py']",2,47fb279533c425ca5c5f7f3f8fd993b3fa8c1e12,bug/1847230," write_file, write_file(SHARED_SECRET, secret, perms=0o400) else: os.chmod(SHARED_SECRET, 0o400)"," with open(SHARED_SECRET, 'w') as secret_file: secret_file.write(secret) else:",18,9
openstack%2Freleases~master~I5cff0ba512362996648b6e739c7edc386e65dd5e,openstack/releases,master,I5cff0ba512362996648b6e739c7edc386e65dd5e,stable/stein release oslo.utils 3.40.4,MERGED,2019-10-04 12:58:25.000000000,2019-10-10 09:04:03.000000000,2019-10-10 09:04:03.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-10-04 12:58:25.000000000', 'files': ['deliverables/stein/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/deea9f1dc6a877a87e1297053250e5f0b7d58660', 'message': 'stable/stein release oslo.utils 3.40.4\n\nChange-Id: I5cff0ba512362996648b6e739c7edc386e65dd5e\n'}]",0,686601,deea9f1dc6a877a87e1297053250e5f0b7d58660,10,6,1,28522,,,0,"stable/stein release oslo.utils 3.40.4

Change-Id: I5cff0ba512362996648b6e739c7edc386e65dd5e
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/686601/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/stein/oslo.utils.yaml'],1,deea9f1dc6a877a87e1297053250e5f0b7d58660,oslo_utils_3.40.4, - projects: - hash: acd26c57560316aa5eeab645636d183e0665de64 repo: openstack/oslo.utils version: 3.40.4,,4,0
openstack%2Freleases~master~I8235b709066b65dfb27cbac1eeb51a42ab8c20de,openstack/releases,master,I8235b709066b65dfb27cbac1eeb51a42ab8c20de,nova: release rocky 18.2.3,MERGED,2019-10-07 14:17:03.000000000,2019-10-10 09:04:02.000000000,2019-10-10 09:04:02.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 12898}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23950}]","[{'number': 1, 'created': '2019-10-07 14:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/95a52790503a70273e6f307dc3e107d230a450b7', 'message': 'nova: release rocky 18.2.3\n\nDepends-On: https://review.opendev.org/679449/\nChange-Id: I8235b709066b65dfb27cbac1eeb51a42ab8c20de\n'}, {'number': 2, 'created': '2019-10-07 23:59:44.000000000', 'files': ['deliverables/rocky/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/691fbf7b0a78b26fc8a2679c7cfac1baac4cdf82', 'message': 'nova: release rocky 18.2.3\n\nChange-Id: I8235b709066b65dfb27cbac1eeb51a42ab8c20de\n'}]",0,687062,691fbf7b0a78b26fc8a2679c7cfac1baac4cdf82,12,6,2,6873,,,0,"nova: release rocky 18.2.3

Change-Id: I8235b709066b65dfb27cbac1eeb51a42ab8c20de
",git fetch https://review.opendev.org/openstack/releases refs/changes/62/687062/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/rocky/nova.yaml'],1,95a52790503a70273e6f307dc3e107d230a450b7,nova-rocky-18.2.3, - projects: - hash: 7732f0e6f3691025a06f2abfc5a57c71d83e5e72 repo: openstack/nova version: 18.2.2,,4,0
openstack%2Fnova~master~I1233fbbaebd1750f572432bf74759b94408a17e3,openstack/nova,master,I1233fbbaebd1750f572432bf74759b94408a17e3,Add boot from volume functional test with a huge request,MERGED,2019-10-04 14:25:59.000000000,2019-10-10 08:52:40.000000000,2019-10-09 22:49:29.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 14:25:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/01ef4791ce6e82c19fc1d179722b5c6202abec8b', 'message': ""Add boot from volume functional test with a huge request\n\nWhile discussing rate limiting, or the lack thereof, in the API\nthe point came up that it's possible to create multiple servers\nwith a large number of BDMs in a single request and it's not\nrate limited nor is there any optimization in the API for not\nGETing the same image in the request more than once.\n\nThis adds a functional test to demonstrate.\n\nChange-Id: I1233fbbaebd1750f572432bf74759b94408a17e3\n""}, {'number': 2, 'created': '2019-10-04 14:56:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9a272c4dfe8927268bbe65b5d05f86a2807e9c70', 'message': ""Add boot from volume functional test with a huge request\n\nWhile discussing rate limiting, or the lack thereof, in the API\nthe point came up that it's possible to create multiple servers\nwith a large number of BDMs in a single request and it's not\nrate limited nor is there any optimization in the API for not\nGETing the same image in the request more than once.\n\nThis adds a functional test to demonstrate by wrapping the image\nAPI GET calls and asserting they are not cached within the request.\nSince the test is already going to be a bit slow, we at least\ndisable the CastAsCall fixture since we don't care if the instances\nactually build.\n\nChange-Id: I1233fbbaebd1750f572432bf74759b94408a17e3\n""}, {'number': 3, 'created': '2019-10-04 15:00:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bd3f1d9136cd8bb74de9727e478289e99aab237', 'message': ""Add boot from volume functional test with a huge request\n\nWhile discussing rate limiting, or the lack thereof, in the API\nthe point came up that it's possible to create multiple servers\nwith a large number of BDMs in a single request and it's not\nrate limited nor is there any optimization in the API for not\nGETing the same image in the request more than once.\n\nThis adds a functional test to demonstrate by wrapping the image\nAPI GET calls and asserting they are not cached within the request.\nSince the test is already going to be a bit slow, we at least\ndisable the CastAsCall fixture since we don't care if the instances\nactually build.\n\nRelated-Bug: #1846777\n\nChange-Id: I1233fbbaebd1750f572432bf74759b94408a17e3\n""}, {'number': 4, 'created': '2019-10-07 14:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/90bc173268c32fd90f5f7013c3fcdb90dd8d22a1', 'message': ""Add boot from volume functional test with a huge request\n\nWhile discussing rate limiting, or the lack thereof, in the API\nthe point came up that it's possible to create multiple servers\nwith a large number of BDMs in a single request and it's not\nrate limited nor is there any optimization in the API for not\nGETing the same image in the request more than once.\n\nThis adds a functional test to demonstrate by wrapping the image\nAPI GET calls and asserting they are not cached within the request.\n\nRelated-Bug: #1846777\n\nChange-Id: I1233fbbaebd1750f572432bf74759b94408a17e3\n""}, {'number': 5, 'created': '2019-10-08 17:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a8d7d58400a02010eab083b8b5ff91d37a1607f2', 'message': ""Add boot from volume functional test with a huge request\n\nWhile discussing rate limiting, or the lack thereof, in the API\nthe point came up that it's possible to create multiple servers\nwith a large number of BDMs in a single request and it's not\nrate limited nor is there any optimization in the API for not\nGETing the same image in the request more than once.\n\nThis adds a functional test to demonstrate by wrapping the image\nAPI GET calls and asserting they are not cached within the request.\n\nRelated-Bug: #1846777\n\nChange-Id: I1233fbbaebd1750f572432bf74759b94408a17e3\n""}, {'number': 6, 'created': '2019-10-09 15:57:18.000000000', 'files': ['nova/tests/functional/test_boot_from_volume.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/123357e35b47697681a29ca672121323c0074722', 'message': ""Add boot from volume functional test with a huge request\n\nWhile discussing rate limiting, or the lack thereof, in the API\nthe point came up that it's possible to create multiple servers\nwith a large number of BDMs in a single request and it's not\nrate limited nor is there any optimization in the API for not\nGETing the same image in the request more than once.\n\nThis adds a functional test to demonstrate by wrapping the image\nAPI GET calls and asserting they are not cached within the request.\n\nRelated-Bug: #1846777\n\nChange-Id: I1233fbbaebd1750f572432bf74759b94408a17e3\n""}]",2,686734,123357e35b47697681a29ca672121323c0074722,54,13,6,6873,,,0,"Add boot from volume functional test with a huge request

While discussing rate limiting, or the lack thereof, in the API
the point came up that it's possible to create multiple servers
with a large number of BDMs in a single request and it's not
rate limited nor is there any optimization in the API for not
GETing the same image in the request more than once.

This adds a functional test to demonstrate by wrapping the image
API GET calls and asserting they are not cached within the request.

Related-Bug: #1846777

Change-Id: I1233fbbaebd1750f572432bf74759b94408a17e3
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/686734/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/test_boot_from_volume.py'],1,01ef4791ce6e82c19fc1d179722b5c6202abec8b,bug/1846777," def test_boot_from_volume_mega_request(self): """"""Create 10 servers with 255 BDMs each using the same image. This is a bit silly but it just shows that it's possible and there is no rate limiting involved in this type of very heavy request. """""" server = self._build_minimal_create_server_request( self.admin_api, 'test_boot_from_volume_mega_request') image_uuid = server.pop('imageRef') server['min_count'] = 10 bdms = [] for boot_index in range(255): bdms.append({ 'source_type': 'image', 'destination_type': 'volume', 'delete_on_termination': True, 'volume_size': 1, 'boot_index': boot_index, 'uuid': image_uuid }) server['block_device_mapping_v2'] = bdms server['return_reservation_id'] = True reservation_id = self.admin_api.post_server({'server': server}) servers = self.admin_api.get_servers( detail=False, search_opts={'reservation_id': reservation_id}) for server in servers: self._wait_for_state_change(self.admin_api, server, 'ACTIVE')",,27,0
openstack%2Fmetalsmith~master~I844e93c6c83632c260e23fabc1a7d07d9373dd95,openstack/metalsmith,master,I844e93c6c83632c260e23fabc1a7d07d9373dd95,Add versions to release notes series,MERGED,2019-09-26 13:59:44.000000000,2019-10-10 08:48:13.000000000,2019-10-10 08:46:53.000000000,"[{'_account_id': 10239}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-26 13:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/ad0df61b370a0348451e1bf17b666d3d98002612', 'message': 'Add versions to release notes series\n\nChange-Id: I844e93c6c83632c260e23fabc1a7d07d9373dd95\n'}, {'number': 2, 'created': '2019-09-30 09:01:48.000000000', 'files': ['releasenotes/source/train.rst'], 'web_link': 'https://opendev.org/openstack/metalsmith/commit/3c95b4ac4277b3ee64cd44d5f00e94dec365c1ea', 'message': 'Add versions to release notes series\n\nChange-Id: I844e93c6c83632c260e23fabc1a7d07d9373dd95\n'}]",1,685080,3c95b4ac4277b3ee64cd44d5f00e94dec365c1ea,13,4,2,14826,,,0,"Add versions to release notes series

Change-Id: I844e93c6c83632c260e23fabc1a7d07d9373dd95
",git fetch https://review.opendev.org/openstack/metalsmith refs/changes/80/685080/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/train.rst'],1,ad0df61b370a0348451e1bf17b666d3d98002612,,============================================= Train (0.12.0 - 0.14.x) Series Release Notes =============================================,=================================== Train Series Release Notes ===================================,3,3
openstack%2Fbifrost~master~I3005fc59d6c5e1f5000874342f956977d9929907,openstack/bifrost,master,I3005fc59d6c5e1f5000874342f956977d9929907,Switch git_branch to stable/train,ABANDONED,2019-09-19 10:21:54.000000000,2019-10-10 08:21:40.000000000,,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-19 10:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/90749473f72935deddbdb506893015bc96726fc5', 'message': 'Switch git_branch to stable/train\n\nThis commit should be reverted on master once stable/train has been cut.\n\nChange-Id: I3005fc59d6c5e1f5000874342f956977d9929907\n'}, {'number': 2, 'created': '2019-09-19 10:25:59.000000000', 'files': ['playbooks/roles/bifrost-prep-for-install/README.md', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'playbooks/roles/bifrost-prep-for-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/deec80d7e46673d1694f72386785838c322e1f3c', 'message': 'Switch git_branch to stable/train\n\nThis commit should be reverted on master once stable/train has been cut.\n\nChange-Id: I3005fc59d6c5e1f5000874342f956977d9929907\n'}]",0,683104,deec80d7e46673d1694f72386785838c322e1f3c,9,4,2,14826,,,0,"Switch git_branch to stable/train

This commit should be reverted on master once stable/train has been cut.

Change-Id: I3005fc59d6c5e1f5000874342f956977d9929907
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/04/683104/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-prep-for-install/defaults/main.yml'],1,90749473f72935deddbdb506893015bc96726fc5,,git_branch: stable/train,git_branch: master,1,1
openstack%2Fdesignate~master~Ia3e07c42dc548207aa7ff9efcc35a215c9660e54,openstack/designate,master,Ia3e07c42dc548207aa7ff9efcc35a215c9660e54,fix get the name servers for a zone not validate zone_id,MERGED,2019-09-20 06:51:45.000000000,2019-10-10 08:15:52.000000000,2019-09-25 18:29:49.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-09-20 06:51:45.000000000', 'files': ['designate/api/v2/controllers/zones/nameservers.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/0ba52bfb62cb64992a06b64c44f3e6a9dcadc193', 'message': 'fix get the name servers for a zone not validate zone_id\n\nnow the api of get /v2/zones/{zone_id}/nameservers not validate zone_id,\nif set zone_id contain spaces, will trigger DBError and return 500.\n\nChange-Id: Ia3e07c42dc548207aa7ff9efcc35a215c9660e54\n'}]",0,683300,0ba52bfb62cb64992a06b64c44f3e6a9dcadc193,9,3,1,30380,,,0,"fix get the name servers for a zone not validate zone_id

now the api of get /v2/zones/{zone_id}/nameservers not validate zone_id,
if set zone_id contain spaces, will trigger DBError and return 500.

Change-Id: Ia3e07c42dc548207aa7ff9efcc35a215c9660e54
",git fetch https://review.opendev.org/openstack/designate refs/changes/00/683300/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/api/v2/controllers/zones/nameservers.py'],1,0ba52bfb62cb64992a06b64c44f3e6a9dcadc193,,"from designate import utils @utils.validate_uuid(""zone_id"")",,2,0
openstack%2Ftrove-tempest-plugin~master~Ic1445f295be498c8aecc309369e15d78e5b8375b,openstack/trove-tempest-plugin,master,Ic1445f295be498c8aecc309369e15d78e5b8375b,Replace git.openstack.org URLs with opendev.org URLs,NEW,2019-08-26 09:01:59.000000000,2019-10-10 07:59:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 30814}]","[{'number': 1, 'created': '2019-08-26 09:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/dc03c6fdfa2353450bbd4bd6615052333742f095', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ic1445f295be498c8aecc309369e15d78e5b8375b\n'}, {'number': 2, 'created': '2019-08-26 09:47:22.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/bc5febf024bcba08745819670505e300435593ac', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Ic1445f295be498c8aecc309369e15d78e5b8375b\n'}]",0,678494,bc5febf024bcba08745819670505e300435593ac,8,3,2,30814,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: Ic1445f295be498c8aecc309369e15d78e5b8375b
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/94/678494/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,dc03c6fdfa2353450bbd4bd6615052333742f095,,* Source: https://opendev.org/openstack/trove-tempest-plugin/,* Source: https://git.openstack.org/cgit/openstack/trove-tempest-plugin,1,1
openstack%2Ftripleo-validations~master~I66fdfb83a132f84619d81c3d2ad9987ca2fe59ee,openstack/tripleo-validations,master,I66fdfb83a132f84619d81c3d2ad9987ca2fe59ee,Fix missing closing parenthesis in skeleton role,MERGED,2019-10-07 09:15:40.000000000,2019-10-10 07:54:07.000000000,2019-10-09 21:00:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-07 09:15:40.000000000', 'files': ['_skeleton_role_/defaults/main.yml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/35d762a0a690a8ba9548764de7b458ce3dc75808', 'message': 'Fix missing closing parenthesis in skeleton role\n\nChange-Id: I66fdfb83a132f84619d81c3d2ad9987ca2fe59ee\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,686985,35d762a0a690a8ba9548764de7b458ce3dc75808,9,7,1,11491,,,0,"Fix missing closing parenthesis in skeleton role

Change-Id: I66fdfb83a132f84619d81c3d2ad9987ca2fe59ee
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/85/686985/1 && git format-patch -1 --stdout FETCH_HEAD,['_skeleton_role_/defaults/main.yml.j2'],1,35d762a0a690a8ba9548764de7b458ce3dc75808,,"# All variables within this role should have a prefix of ""{{ role_name | replace('-', '_') }}""","# All variables within this role should have a prefix of ""{{ role_name | replace('-', '_'}}""",1,1
openstack%2Ftripleo-validations~master~Ic13406b4ddaf0e8eb8e376b92481e8cb85e1f548,openstack/tripleo-validations,master,Ic13406b4ddaf0e8eb8e376b92481e8cb85e1f548,Fix ost-tox-lower-constraints job indentation,MERGED,2019-10-08 12:39:25.000000000,2019-10-10 07:52:43.000000000,2019-10-09 19:35:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-08 12:39:25.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7d849f6e02f29a6631d3367ee7bd0689939e167e', 'message': 'Fix ost-tox-lower-constraints job indentation\n\nChange-Id: Ic13406b4ddaf0e8eb8e376b92481e8cb85e1f548\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,687286,7d849f6e02f29a6631d3367ee7bd0689939e167e,7,5,1,11491,,,0,"Fix ost-tox-lower-constraints job indentation

Change-Id: Ic13406b4ddaf0e8eb8e376b92481e8cb85e1f548
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/86/687286/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,7d849f6e02f29a6631d3367ee7bd0689939e167e,, - openstack-tox-lower-constraints, - openstack-tox-lower-constraints,1,1
openstack%2Fnova-powervm~master~I0d617c67e2918749225ecb8184df88dfd2a68ed2,openstack/nova-powervm,master,I0d617c67e2918749225ecb8184df88dfd2a68ed2,Support : Images,MERGED,2019-07-23 18:44:49.000000000,2019-10-10 07:42:59.000000000,2019-10-10 07:42:59.000000000,"[{'_account_id': 13637}, {'_account_id': 14070}, {'_account_id': 14581}, {'_account_id': 16128}, {'_account_id': 16551}, {'_account_id': 22348}, {'_account_id': 28063}]","[{'number': 1, 'created': '2019-07-23 18:44:49.000000000', 'files': ['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova-powervm/commit/1df82539201daab2ec95f6526cf54f4839652247', 'message': 'Support : Images\n\nAdded image type capability flag support to be in sync with the\nopenstack-nova\n\nChange-Id: I0d617c67e2918749225ecb8184df88dfd2a68ed2\n'}]",0,672341,1df82539201daab2ec95f6526cf54f4839652247,16,7,1,28063,,,0,"Support : Images

Added image type capability flag support to be in sync with the
openstack-nova

Change-Id: I0d617c67e2918749225ecb8184df88dfd2a68ed2
",git fetch https://review.opendev.org/openstack/nova-powervm refs/changes/41/672341/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova_powervm/virt/powervm/driver.py', 'nova_powervm/tests/virt/powervm/test_driver.py']",2,1df82539201daab2ec95f6526cf54f4839652247,," self.assertEqual(19, len(test_driver.capabilities)) self.assertEqual(20, len(test_driver.capabilities)) self.assertEqual(20, len(test_driver.capabilities))"," self.assertEqual(8, len(test_driver.capabilities)) self.assertEqual(9, len(test_driver.capabilities)) self.assertEqual(9, len(test_driver.capabilities))",17,3
openstack%2Fhorizon~master~I8eef0d53020ca500df49d46603f7e246ace149c3,openstack/horizon,master,I8eef0d53020ca500df49d46603f7e246ace149c3,Add the unit test for trunks,MERGED,2019-09-20 07:08:58.000000000,2019-10-10 07:41:47.000000000,2019-10-10 07:40:03.000000000,"[{'_account_id': 841}, {'_account_id': 11880}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-20 07:08:58.000000000', 'files': ['openstack_dashboard/static/app/core/trunks/details/details.module.spec.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/59f4c68f8363bad0d1010b764d3466cf70a51910', 'message': 'Add the unit test for trunks\n\nChange-Id: I8eef0d53020ca500df49d46603f7e246ace149c3\n'}]",0,683302,59f4c68f8363bad0d1010b764d3466cf70a51910,10,5,1,27822,,,0,"Add the unit test for trunks

Change-Id: I8eef0d53020ca500df49d46603f7e246ace149c3
",git fetch https://review.opendev.org/openstack/horizon refs/changes/02/683302/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/static/app/core/trunks/details/details.module.spec.js'],1,59f4c68f8363bad0d1010b764d3466cf70a51910,test-trunks,"/** * * Licensed under the Apache License, Version 2.0 (the ""License""); you may * not use this file except in compliance with the License. You may obtain * a copy of the License at * * http://www.apache.org/licenses/LICENSE-2.0 * * Unless required by applicable law or agreed to in writing, software * distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the * License for the specific language governing permissions and limitations * under the License. */ (function() { 'use strict'; describe('trunks details module', function() { var registry, resource; beforeEach(module('horizon.app.core.trunks.details')); beforeEach(inject(function($injector) { registry = $injector.get('horizon.framework.conf.resource-type-registry.service'); })); it('should be loaded', function() { resource = registry.getResourceType('OS::Neutron::Trunk'); expect(resource.detailsViews[0].id).toBe('trunkDetailsOverview'); }); }); })(); ",,32,0
openstack%2Fpuppet-openstack_extras~stable%2Ftrain~I4bdcc3c7385d54c0ef8fdf338290f2c48c4e3d97,openstack/puppet-openstack_extras,stable/train,I4bdcc3c7385d54c0ef8fdf338290f2c48c4e3d97,Update .gitreview for stable/train,ABANDONED,2019-10-10 07:29:44.000000000,2019-10-10 07:30:36.000000000,,[],"[{'number': 1, 'created': '2019-10-10 07:29:44.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/f4b517445b045fc70cb1fc8b3436d723f76d9a2f', 'message': 'Update .gitreview for stable/train\n\n Change-Id: Ieh4853b8853fb329ed3aaa84a83efca53805395r7\n\nChange-Id: I4bdcc3c7385d54c0ef8fdf338290f2c48c4e3d97\n'}]",0,687809,f4b517445b045fc70cb1fc8b3436d723f76d9a2f,2,0,1,23312,,,0,"Update .gitreview for stable/train

 Change-Id: Ieh4853b8853fb329ed3aaa84a83efca53805395r7

Change-Id: I4bdcc3c7385d54c0ef8fdf338290f2c48c4e3d97
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/09/687809/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,f4b517445b045fc70cb1fc8b3436d723f76d9a2f,train,defaultbranch=stable/train,,1,0
openstack%2Ffreezer-web-ui~master~I2a8bc45f838e9dc56ad015c44e034cf5d009d2ab,openstack/freezer-web-ui,master,I2a8bc45f838e9dc56ad015c44e034cf5d009d2ab,Use Horizon project template for django jobs,MERGED,2019-10-09 13:55:57.000000000,2019-10-10 07:17:34.000000000,2019-10-10 07:17:33.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-10-09 13:55:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/d93be986789de16df390e1289eb87bc31ad84e96', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I2a8bc45f838e9dc56ad015c44e034cf5d009d2ab\n""}, {'number': 2, 'created': '2019-10-09 17:08:04.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/146a150bc1ed7bb28fb7db53afb8537ac2952e20', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I2a8bc45f838e9dc56ad015c44e034cf5d009d2ab\n""}]",0,687570,146a150bc1ed7bb28fb7db53afb8537ac2952e20,10,3,2,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I2a8bc45f838e9dc56ad015c44e034cf5d009d2ab
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/70/687570/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,d93be986789de16df390e1289eb87bc31ad84e96,django22,"envlist = py27,pep8,py35,py36,py3-{dj111,dj22},pylintcommands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 python manage.py test {posargs}","envlist = py27,pep8,py35,py36,pylintcommands = python manage.py test {posargs}",6,2
openstack%2Fhorizon~master~I18f6fd03dd3e07fa4f2ccfdccfdc3ca766c91c16,openstack/horizon,master,I18f6fd03dd3e07fa4f2ccfdccfdc3ca766c91c16,Drop deprecated Glance V1 API support,MERGED,2019-10-03 10:40:25.000000000,2019-10-10 07:09:37.000000000,2019-10-10 07:07:51.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 2394}, {'_account_id': 11880}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-03 10:40:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d32ff36739ecd4083dabb215012b08030957d04b', 'message': 'Drop deprecated Glance V1 API support\n\nGlance V1 API was deprecated in Stein release in Horizon and\ndeprecated in Glance since Newton release.\n\nChange-Id: I18f6fd03dd3e07fa4f2ccfdccfdc3ca766c91c16\n'}, {'number': 2, 'created': '2019-10-08 10:18:42.000000000', 'files': ['releasenotes/notes/drop-glance-v1-support-2c161d19b179951e.yaml', 'openstack_dashboard/dashboards/project/volumes/tests.py', 'openstack_dashboard/dashboards/project/images/images/tests.py', 'openstack_dashboard/test/test_data/glance_data.py', 'openstack_dashboard/test/unit/api/rest/test_glance.py', 'openstack_dashboard/test/unit/api/test_glance.py', 'openstack_dashboard/api/glance.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6037a58c6e2d4e0915c1d4f09bc73a3646d86615', 'message': 'Drop deprecated Glance V1 API support\n\nGlance V1 API was deprecated in Stein release in Horizon and\ndeprecated in Glance since Newton release.\n\nChange-Id: I18f6fd03dd3e07fa4f2ccfdccfdc3ca766c91c16\n'}]",3,686376,6037a58c6e2d4e0915c1d4f09bc73a3646d86615,13,6,2,1736,,,0,"Drop deprecated Glance V1 API support

Glance V1 API was deprecated in Stein release in Horizon and
deprecated in Glance since Newton release.

Change-Id: I18f6fd03dd3e07fa4f2ccfdccfdc3ca766c91c16
",git fetch https://review.opendev.org/openstack/horizon refs/changes/76/686376/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-glance-v1-support-2c161d19b179951e.yaml', 'openstack_dashboard/dashboards/project/volumes/tests.py', 'openstack_dashboard/dashboards/project/images/images/tests.py', 'openstack_dashboard/test/test_data/glance_data.py', 'openstack_dashboard/test/unit/api/rest/test_glance.py', 'openstack_dashboard/test/unit/api/test_glance.py', 'openstack_dashboard/api/glance.py']",7,d32ff36739ecd4083dabb215012b08030957d04b,remove-glance-v1," # wrappers usually allow. if attr == ""properties"": if 'is_public' in filters: # Glance v2: Replace 'is_public' with 'visibility'. visibility = PUBLIC_TO_VISIBILITY_MAP[filters['is_public']] del filters['is_public'] if visibility is not None: filters['visibility'] = visibility if 'property-owner_id' in filters: # Glance v2: Replace 'property-owner_id' with 'owner'. filters['owner'] = filters['property-owner_id'] del filters['property-owner_id'] upload_template = ""%s/v2/images/%s/file"" meta['visibility'] = data.get('visibility', 'private') meta.update(properties) location = kwargs.pop('location', None) def upload(): try: return glanceclient(request).images.upload(image.id, data) finally: filename = str(data.file.name) try: os.remove(filename) except OSError as e: LOG.warning('Failed to remove temporary image file ' '%(file)s (%(e)s)', {'file': filename, 'e': e}) thread.start_new_thread(upload, ()) return glanceclient(request, '2').metadefs_resource_type.list()","try: # pylint: disable=ungrouped-imports from glanceclient.v1 import client as glance_client_v1 VERSIONS.load_supported_version(1, {""client"": glance_client_v1, ""version"": 1}) except ImportError: pass # wrappers usually allow. In v1 they were defined under a # ""properties"" attribute. if VERSIONS.active >= 2 and attr == ""properties"": # When using v1 Image objects (including when running unit tests # for v2), self._apiresource is not iterable. In that case, # the properties are included in the apiresource dict, so # just return that dict. # Glance v1 uses filter 'is_public' (True, False). if VERSIONS.active >= 2: if 'is_public' in filters: # Glance v2: Replace 'is_public' with 'visibility'. visibility = PUBLIC_TO_VISIBILITY_MAP[filters['is_public']] del filters['is_public'] if visibility is not None: filters['visibility'] = visibility elif 'visibility' in filters: # Glance v1: Replace 'visibility' with 'is_public'. filters['is_public'] = filters['visibility'] == ""public"" del filters['visibility'] # Glance v1 uses filter 'property-owner_id' (Project ID). if VERSIONS.active >= 2: if 'property-owner_id' in filters: # Glance v2: Replace 'property-owner_id' with 'owner'. filters['owner'] = filters['property-owner_id'] del filters['property-owner_id'] elif 'owner' in filters: # Glance v1: Replace 'owner' with 'property-owner_id'. filters['property-owner_id'] = filters['owner'] del filters['owner'] if VERSIONS.active < 2: # Glance v1 client processes some keywords specifically. # Others, it just takes as a nested dict called filters. # This results in the following being passed into the glance client: # { # 'is_public': u'true', # 'sort_key': u'name', # 'sort_dir': u'asc', # 'filters': { # u'min_disk': u'0', # u'name': u'mysql', # 'properties': { # u'os_shutdown_timeout': u'1' # } # } # } v1_keywords = ['page_size', 'limit', 'sort_dir', 'sort_key', 'marker', 'is_public', 'return_req_id', 'paginate'] filters = {} properties = {} for key, value in iter(kwargs.items()): if key in v1_keywords: continue else: filters[key] = value del kwargs[key] if properties: filters['properties'] = properties if filters: kwargs['filters'] = filters # Horizon doesn't support purging image properties. Make sure we don't # unintentionally remove properties when using v1. We don't need a # similar setting for v2 because you have to specify which properties # to remove, and the default is nothing gets removed. if VERSIONS.active < 2: kwargs['purge_props'] = False if VERSIONS.active >= 2: upload_template = ""%s/v2/images/%s/file"" else: upload_template = ""%s/v1/images/%s"" if VERSIONS.active < 2: meta['properties'] = properties meta['is_public'] = data.get('is_public', False) else: meta['visibility'] = data.get('visibility', 'private') meta.update(properties) location = None if VERSIONS.active >= 2: location = kwargs.pop('location', None) if VERSIONS.active < 2: thread.start_new_thread(image_update, (request, image.id), {'data': data}) else: def upload(): try: return glanceclient(request).images.upload(image.id, data) finally: filename = str(data.file.name) try: os.remove(filename) except OSError as e: LOG.warning('Failed to remove temporary image file ' '%(file)s (%(e)s)', {'file': filename, 'e': e}) thread.start_new_thread(upload, ()) if get_version() < 2: return [], False, False if get_version() < 2: return [] else: return glanceclient(request, '2').metadefs_resource_type.list()",52,511
openstack%2Ffreezer-web-ui~master~I18e8af262e79dd7a7ea24015696736272c1fe131,openstack/freezer-web-ui,master,I18e8af262e79dd7a7ea24015696736272c1fe131,Bump minimum ksa(3.16.0) to fix gate,MERGED,2019-10-09 16:57:25.000000000,2019-10-10 07:00:36.000000000,2019-10-10 06:52:38.000000000,"[{'_account_id': 1736}, {'_account_id': 13940}, {'_account_id': 21069}, {'_account_id': 22348}, {'_account_id': 22484}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-10-09 16:57:25.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/freezer-web-ui/commit/d939a7892b1862887617b15a8d85c4aa7462e187', 'message': 'Bump minimum ksa(3.16.0) to fix gate\n\nChange-Id: I18e8af262e79dd7a7ea24015696736272c1fe131\n'}]",0,687624,d939a7892b1862887617b15a8d85c4aa7462e187,8,6,1,29313,,,0,"Bump minimum ksa(3.16.0) to fix gate

Change-Id: I18e8af262e79dd7a7ea24015696736272c1fe131
",git fetch https://review.opendev.org/openstack/freezer-web-ui refs/changes/24/687624/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,d939a7892b1862887617b15a8d85c4aa7462e187,,keystoneauth1==3.16.0,keystoneauth1==3.14.0,1,1
openstack%2Fkuryr-kubernetes~master~I8122e815f87420092dcea1c3cc027367f1b4895e,openstack/kuryr-kubernetes,master,I8122e815f87420092dcea1c3cc027367f1b4895e,Add kuryrnet handler to pools gate,ABANDONED,2019-10-07 11:46:17.000000000,2019-10-10 06:57:32.000000000,,"[{'_account_id': 4727}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-07 11:46:17.000000000', 'files': ['.zuul.d/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/598aba723385f4e591abf2cec8d8abf2e471c322', 'message': 'Add kuryrnet handler to pools gate\n\nSet kuryrnet handler to kuryr-kubernetes-tempest-containerized-pools-namespace\nso prepopulation of ports is enabled\n\nChange-Id: I8122e815f87420092dcea1c3cc027367f1b4895e\n'}]",1,687005,598aba723385f4e591abf2cec8d8abf2e471c322,6,3,1,4727,,,0,"Add kuryrnet handler to pools gate

Set kuryrnet handler to kuryr-kubernetes-tempest-containerized-pools-namespace
so prepopulation of ports is enabled

Change-Id: I8122e815f87420092dcea1c3cc027367f1b4895e
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/05/687005/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/octavia.yaml'],1,598aba723385f4e591abf2cec8d8abf2e471c322,kuryrnet," KURYR_ENABLED_HANDLERS: vif,lb,lbaasspec,namespace,kuryrnet"," KURYR_ENABLED_HANDLERS: vif,lb,lbaasspec,namespace",1,1
openstack%2Foswin-tempest-plugin~master~I594c6d04551a5b8cb49974681557960b933fdb44,openstack/oswin-tempest-plugin,master,I594c6d04551a5b8cb49974681557960b933fdb44,Sync Sphinx requirement,ABANDONED,2019-08-02 03:15:20.000000000,2019-10-10 06:45:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-02 03:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oswin-tempest-plugin/commit/8ba99e0213a81219a654190bb123d46e328daa62', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I594c6d04551a5b8cb49974681557960b933fdb44\n'}, {'number': 2, 'created': '2019-08-02 05:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oswin-tempest-plugin/commit/047265fc5830c60bde0afaef1b84f69bd1eda1e2', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I594c6d04551a5b8cb49974681557960b933fdb44\n'}, {'number': 3, 'created': '2019-09-24 09:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oswin-tempest-plugin/commit/51be0e0e31b6fbd5dca056e5d143f86fa0daadf6', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I594c6d04551a5b8cb49974681557960b933fdb44\n'}, {'number': 4, 'created': '2019-10-10 06:20:03.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oswin-tempest-plugin/commit/9696bc98415cdcc57cd55bfcf6f41e587df866b4', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I594c6d04551a5b8cb49974681557960b933fdb44\n'}]",0,674179,9696bc98415cdcc57cd55bfcf6f41e587df866b4,9,1,4,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I594c6d04551a5b8cb49974681557960b933fdb44
",git fetch https://review.opendev.org/openstack/oswin-tempest-plugin refs/changes/79/674179/3 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8ba99e0213a81219a654190bb123d46e328daa62,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,>=1.6.2 # BSD",2,1
openstack%2Fwatcher-dashboard~master~I6fd838618048f7cd373e477d176e9ad2ee8e3f09,openstack/watcher-dashboard,master,I6fd838618048f7cd373e477d176e9ad2ee8e3f09,Use Horizon project template for django jobs,MERGED,2019-10-05 10:54:20.000000000,2019-10-10 06:24:24.000000000,2019-10-10 06:22:06.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-05 10:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/c66d01a10e3409653deaa50d57e3d708d1aa7ff7', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I6fd838618048f7cd373e477d176e9ad2ee8e3f09\n""}, {'number': 2, 'created': '2019-10-10 03:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/50b9b4c9e2de2a10162df5be59dfa4a64ff39172', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\nDepends-on:I06756dbdabca7a5b9049d5ac62dab4f80d66fd76\nChange-Id: I6fd838618048f7cd373e477d176e9ad2ee8e3f09\n""}, {'number': 3, 'created': '2019-10-10 05:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/e69e62c4cc42b2e2ae76af208634ea46a266886d', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\nChange-Id: I6fd838618048f7cd373e477d176e9ad2ee8e3f09\n""}, {'number': 4, 'created': '2019-10-10 05:27:09.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/7297b41b395484dba90b0422eee7cc99aa9bbfa6', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\nChange-Id: I6fd838618048f7cd373e477d176e9ad2ee8e3f09\n""}]",0,686888,7297b41b395484dba90b0422eee7cc99aa9bbfa6,20,4,4,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/
Change-Id: I6fd838618048f7cd373e477d176e9ad2ee8e3f09
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/88/686888/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,c66d01a10e3409653deaa50d57e3d708d1aa7ff7,django22,"envlist = py37,py36,py27,py3-{dj111,dj22},pep8 dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3","envlist = py37,py36,py27,pep8[testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 {[testenv]commands} ",4,13
openstack%2Frpm-packaging~master~I5421360507bfd5d8f309d50e7a04cee6595b17b0,openstack/rpm-packaging,master,I5421360507bfd5d8f309d50e7a04cee6595b17b0,openstacksdk: Fix suse_version detection for mkisofs,MERGED,2019-10-09 18:04:15.000000000,2019-10-10 06:13:51.000000000,2019-10-10 06:13:51.000000000,"[{'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 18:04:15.000000000', 'files': ['openstack/openstacksdk/openstacksdk.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5c65ef1906778f5a25e3cfed3cd2ace1cf3a85d6', 'message': 'openstacksdk: Fix suse_version detection for mkisofs\n\nCurrently on openSUSE Tumbleweed, the build for packages which\nBuildRequires openstacksdk fails with:\n\nNothing provides genisoimage\n\nChange-Id: I5421360507bfd5d8f309d50e7a04cee6595b17b0\n'}]",0,687642,5c65ef1906778f5a25e3cfed3cd2ace1cf3a85d6,13,5,1,7102,,,0,"openstacksdk: Fix suse_version detection for mkisofs

Currently on openSUSE Tumbleweed, the build for packages which
BuildRequires openstacksdk fails with:

Nothing provides genisoimage

Change-Id: I5421360507bfd5d8f309d50e7a04cee6595b17b0
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/42/687642/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstacksdk/openstacksdk.spec.j2'],1,5c65ef1906778f5a25e3cfed3cd2ace1cf3a85d6,,%if 0%{?sle_version} >= 150000 || 0%{?suse_version} > 1500,%if 0%{?sle_version} >= 150000,1,1
openstack%2Fmistral-dashboard~master~Ib3e48ff828faef59a6594f9a1155eaa3a8bf0cf0,openstack/mistral-dashboard,master,Ib3e48ff828faef59a6594f9a1155eaa3a8bf0cf0,Use Horizon project template for django jobs,MERGED,2019-10-09 16:29:12.000000000,2019-10-10 05:02:32.000000000,2019-10-10 05:02:32.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 16:29:12.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/d621a752e5fe6f32bd28d290bccd751c5ca0a6ef', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: Ib3e48ff828faef59a6594f9a1155eaa3a8bf0cf0\n""}]",0,687616,d621a752e5fe6f32bd28d290bccd751c5ca0a6ef,7,2,1,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: Ib3e48ff828faef59a6594f9a1155eaa3a8bf0cf0
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/16/687616/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,d621a752e5fe6f32bd28d290bccd751c5ca0a6ef,django22,"envlist = pep8,py27,py37,py3-{dj111,dj22} dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3","envlist = pep8,py27,py37 [testenv:py36dj20] basepython = python3.6 commands = pip install django>=2.0,<2.1 {[testenv]commands}",4,7
openstack%2Fmistral-extra~master~I85821d4ee88b8d1babb5d86b1cf5551e79e97653,openstack/mistral-extra,master,I85821d4ee88b8d1babb5d86b1cf5551e79e97653,Sync Sphinx requirement,MERGED,2019-10-09 08:32:10.000000000,2019-10-10 04:58:16.000000000,2019-10-10 04:58:16.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 08:32:10.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/mistral-extra/commit/0a68426bd8513ffdecec3d2b893a8ab09e5b09a6', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I85821d4ee88b8d1babb5d86b1cf5551e79e97653\n'}]",0,687487,0a68426bd8513ffdecec3d2b893a8ab09e5b09a6,7,2,1,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I85821d4ee88b8d1babb5d86b1cf5551e79e97653
",git fetch https://review.opendev.org/openstack/mistral-extra refs/changes/87/687487/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,0a68426bd8513ffdecec3d2b893a8ab09e5b09a6,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD",sphinx>=1.5.1 # BSD,2,1
openstack%2Fwatcher-dashboard~master~I06756dbdabca7a5b9049d5ac62dab4f80d66fd76,openstack/watcher-dashboard,master,I06756dbdabca7a5b9049d5ac62dab4f80d66fd76,TypeError exception when tests with Django22,MERGED,2019-10-10 03:29:28.000000000,2019-10-10 04:48:31.000000000,2019-10-10 04:47:29.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-10 03:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/cd1544a4f1b0892f9ce405f5c68158624c57263c', 'message': ""TypeError exception when tests with Django22\n\n(watcher_dashboard.content.audit_templates.tests.AuditTemplatesTest)\ntest_create_post[1] failed with error:'Cannot encode None as POST data'\nThis change replaces None with an empty string.\n\n[1]:https://review.opendev.org/#/c/686888/\n\nChange-Id: I06756dbdabca7a5b9049d5ac62dab4f80d66fd76\n""}, {'number': 2, 'created': '2019-10-10 03:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/1e33a8a4f30723d79ca32e988f374111a90975a7', 'message': ""TypeError exception when tests with Django22\n\n(watcher_dashboard.content.audit_templates.tests.AuditTemplatesTest)\ntest_create_post[1] failed with error:'Cannot encode None as POST data'\nThis change replaces None with an empty string.\n\n[1]:https://review.opendev.org/#/c/686888/\n\nChange-Id: I06756dbdabca7a5b9049d5ac62dab4f80d66fd76\n""}, {'number': 3, 'created': '2019-10-10 04:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/4a582d3ac34db24a4b0419402a2919425ed63c62', 'message': ""TypeError exception when tests with Django22\n\n(watcher_dashboard.content.audit_templates.tests.AuditTemplatesTest)\ntest_create_post[1] failed with error:'Cannot encode None as POST data'\nThis change replaces None with an empty string.\n\n[1]:https://review.opendev.org/#/c/686888/\n\nChange-Id: I06756dbdabca7a5b9049d5ac62dab4f80d66fd76\n""}, {'number': 4, 'created': '2019-10-10 04:15:26.000000000', 'files': ['watcher_dashboard/test/test_data/watcher_data.py'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/15a6bb084dbaa99d5013b8cfa40d2a41315d74ca', 'message': ""TypeError exception when tests with Django22\n\n(watcher_dashboard.content.audit_templates.tests.AuditTemplatesTest)\ntest_create_post[1] failed with error:'Cannot encode None as POST data'\nThis change replaces None with an empty string.\n\n[1]:https://review.opendev.org/#/c/686888/\n\nChange-Id: I06756dbdabca7a5b9049d5ac62dab4f80d66fd76\n""}]",0,687768,15a6bb084dbaa99d5013b8cfa40d2a41315d74ca,13,2,4,21692,,,0,"TypeError exception when tests with Django22

(watcher_dashboard.content.audit_templates.tests.AuditTemplatesTest)
test_create_post[1] failed with error:'Cannot encode None as POST data'
This change replaces None with an empty string.

[1]:https://review.opendev.org/#/c/686888/

Change-Id: I06756dbdabca7a5b9049d5ac62dab4f80d66fd76
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/68/687768/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher_dashboard/test/test_data/watcher_data.py'],1,cd1544a4f1b0892f9ce405f5c68158624c57263c,," 'scope': '', 'scope': '', 'scope': '',"," 'scope': None, 'scope': None, 'scope': None,",3,3
openstack%2Fnetworking-midonet~master~Icb174a93f176cc1501c2b50a14de42f5f364a19e,openstack/networking-midonet,master,Icb174a93f176cc1501c2b50a14de42f5f364a19e,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-09 08:43:36.000000000,2019-10-10 04:41:10.000000000,2019-10-10 04:39:43.000000000,"[{'_account_id': 156}, {'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 08:43:36.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/deb911434e5bda0a4a1a0e49f4d76fb40d0a5898', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: Icb174a93f176cc1501c2b50a14de42f5f364a19e\n'}]",0,687492,deb911434e5bda0a4a1a0e49f4d76fb40d0a5898,8,3,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: Icb174a93f176cc1501c2b50a14de42f5f364a19e
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/92/687492/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,deb911434e5bda0a4a1a0e49f4d76fb40d0a5898,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fkeystone~master~I73f949f869bd7b87a6a83950befe6d99d690f6f8,openstack/keystone,master,I73f949f869bd7b87a6a83950befe6d99d690f6f8,Add schema placeholders for Train,MERGED,2019-10-09 22:46:03.000000000,2019-10-10 04:28:56.000000000,2019-10-10 04:27:13.000000000,"[{'_account_id': 1916}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 22:46:03.000000000', 'files': ['keystone/common/sql/contract_repo/versions/067_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/069_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/067_placeholder.py', 'keystone/common/sql/contract_repo/versions/069_placeholder.py', 'keystone/common/sql/contract_repo/versions/070_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/070_placeholder.py', 'keystone/common/sql/expand_repo/versions/068_placeholder.py', 'keystone/common/sql/expand_repo/versions/070_placeholder.py', 'keystone/common/sql/contract_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/071_placeholder.py', 'keystone/common/sql/contract_repo/versions/071_placeholder.py', 'keystone/common/sql/expand_repo/versions/067_placeholder.py', 'keystone/common/sql/expand_repo/versions/069_placeholder.py', 'keystone/common/sql/expand_repo/versions/071_placeholder.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/e4626f4bc32b846ca9b99f954101a7a462675ea5', 'message': 'Add schema placeholders for Train\n\nChange-Id: I73f949f869bd7b87a6a83950befe6d99d690f6f8\n'}]",0,687691,e4626f4bc32b846ca9b99f954101a7a462675ea5,12,4,1,8482,,,0,"Add schema placeholders for Train

Change-Id: I73f949f869bd7b87a6a83950befe6d99d690f6f8
",git fetch https://review.opendev.org/openstack/keystone refs/changes/91/687691/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/contract_repo/versions/067_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/069_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/067_placeholder.py', 'keystone/common/sql/contract_repo/versions/069_placeholder.py', 'keystone/common/sql/contract_repo/versions/070_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/070_placeholder.py', 'keystone/common/sql/expand_repo/versions/068_placeholder.py', 'keystone/common/sql/expand_repo/versions/070_placeholder.py', 'keystone/common/sql/contract_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/068_placeholder.py', 'keystone/common/sql/data_migration_repo/versions/071_placeholder.py', 'keystone/common/sql/contract_repo/versions/071_placeholder.py', 'keystone/common/sql/expand_repo/versions/067_placeholder.py', 'keystone/common/sql/expand_repo/versions/069_placeholder.py', 'keystone/common/sql/expand_repo/versions/071_placeholder.py']",15,e4626f4bc32b846ca9b99f954101a7a462675ea5,placeholders,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # This is a placeholder for Train backports. Do not use this number for new # Ussuri work. New Ussuri work starts after all the placeholders. def upgrade(migrate_engine): pass ",,270,0
openstack%2Fmanila~master~I527d2b2a220e3ec21cd6a423a4ff7876f3ee3b33,openstack/manila,master,I527d2b2a220e3ec21cd6a423a4ff7876f3ee3b33,Enable glusterfs-native ci,MERGED,2019-10-09 09:26:35.000000000,2019-10-10 03:39:55.000000000,2019-10-10 03:37:55.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 17130}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-10-09 09:26:35.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/37575eda43c22ab2ac849b26231f44bf6b3bd79d', 'message': 'Enable glusterfs-native ci\n\nDepends-On: https://review.opendev.org/#/c/687222/\nDepends-On: https://review.opendev.org/#/c/687318/\nChange-Id: I527d2b2a220e3ec21cd6a423a4ff7876f3ee3b33\n'}]",0,687510,37575eda43c22ab2ac849b26231f44bf6b3bd79d,19,12,1,30722,,,0,"Enable glusterfs-native ci

Depends-On: https://review.opendev.org/#/c/687222/
Depends-On: https://review.opendev.org/#/c/687318/
Change-Id: I527d2b2a220e3ec21cd6a423a4ff7876f3ee3b33
",git fetch https://review.opendev.org/openstack/manila refs/changes/10/687510/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,37575eda43c22ab2ac849b26231f44bf6b3bd79d,, - manila-tempest-dsvm-glusterfs-native: voting: false, - manila-tempest-dsvm-glusterfs-native,2,1
openstack%2Faodh~master~I30cfe9d1cc8c7209e6f865bdd721494dcb4e33ed,openstack/aodh,master,I30cfe9d1cc8c7209e6f865bdd721494dcb4e33ed,heat notifier: Fix getting unhealthy resource names,MERGED,2019-10-09 09:59:00.000000000,2019-10-10 03:37:31.000000000,2019-10-10 03:30:11.000000000,"[{'_account_id': 6732}, {'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 27068}]","[{'number': 1, 'created': '2019-10-09 09:59:00.000000000', 'files': ['aodh/notifier/heat.py', 'aodh/tests/unit/notifier/test_heat.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/b47550ae447c81135a1145c7ea8b90004798b4b5', 'message': 'heat notifier: Fix getting unhealthy resource names\n\nIn the autoscaling scenario, the resource which should be marked as\nunhealthy is always the parent resource of the failed load balancer pool\nmember.\n\nChange-Id: I30cfe9d1cc8c7209e6f865bdd721494dcb4e33ed\n'}]",0,687523,b47550ae447c81135a1145c7ea8b90004798b4b5,10,4,1,6732,,,0,"heat notifier: Fix getting unhealthy resource names

In the autoscaling scenario, the resource which should be marked as
unhealthy is always the parent resource of the failed load balancer pool
member.

Change-Id: I30cfe9d1cc8c7209e6f865bdd721494dcb4e33ed
",git fetch https://review.opendev.org/openstack/aodh refs/changes/23/687523/1 && git format-patch -1 --stdout FETCH_HEAD,"['aodh/notifier/heat.py', 'aodh/tests/unit/notifier/test_heat.py']",2,b47550ae447c81135a1145c7ea8b90004798b4b5,fix-get-unhealthy-resource," def test_notify(self, mock_heatclient): self.parent_resource = resource_name"," def test_notify_with_tags(self, mock_heatclient): action = netutils.urlsplit(""trust+autohealer://fake_trust_id:delete@"") alarm_id = ""fake_alarm_id"" alarm_name = ""fake_alarm_name"" severity = ""low"" previous = ""ok"" current = ""alarm"" reason = ""no good reason"" reason_data = { ""stack_id"": ""fake_stack_id"", ""asg_id"": ""fake_asg_id"", ""unhealthy_members"": [ {""tags"": [""3bd8bc5a-7632-11e9-84cd-00224d6b7bc1""]} ] } notifier = heat_notifier.TrustHeatAlarmNotifier(self.conf) notifier.notify(action, alarm_id, alarm_name, severity, previous, current, reason, reason_data) mock_heatclient.assert_called_once_with(self.conf, ""fake_trust_id"") mock_client = mock_heatclient.return_value mock_client.resources.mark_unhealthy.assert_called_once_with( ""fake_asg_id"", ""3bd8bc5a-7632-11e9-84cd-00224d6b7bc1"", True, ""unhealthy load balancer member"" ) mock_client.stacks.update.assert_called_once_with( ""fake_stack_id"", existing=True ) @mock.patch(""aodh.keystone_client.get_heat_client_from_trust"") def test_notify_without_tags(self, mock_heatclient): self.resource_name = resource_name",14,67
openstack%2Fnova~master~I48f3bce6379d6e684d07180f7d7770748319e369,openstack/nova,master,I48f3bce6379d6e684d07180f7d7770748319e369,Pull up compute node queries to init_host,MERGED,2019-09-17 16:06:28.000000000,2019-10-10 03:09:08.000000000,2019-10-10 00:53:01.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-17 16:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/93912d6e7add32399a1cafd1151d69bce4a3415a', 'message': 'Pull up compute node queries to init_host\n\nBoth _destroy_evacuated_instances and\n_error_out_instances_whose_build_was_interrupted queries compute nodes\nfrom the db during init_host. This patch does the query once in\ninit_host insted aand pass down the necessary data to both calls.\n\nChange-Id: I48f3bce6379d6e684d07180f7d7770748319e369\n'}, {'number': 2, 'created': '2019-09-18 15:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24eeaf2643f9733ce3a4c6c106e8c6dde776679d', 'message': 'Pull up compute node queries to init_host\n\nBoth _destroy_evacuated_instances and\n_error_out_instances_whose_build_was_interrupted queries compute nodes\nfrom the db during init_host. This patch does the query once in\ninit_host instead and pass down the necessary data to both calls.\n\nChange-Id: I48f3bce6379d6e684d07180f7d7770748319e369\n'}, {'number': 3, 'created': '2019-09-19 07:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/78d15b52de57dad558f2b02b957534758872df4d', 'message': 'Pull up compute node queries to init_host\n\nBoth _destroy_evacuated_instances and\n_error_out_instances_whose_build_was_interrupted queries compute nodes\nfrom the db during init_host. This patch does the query once in\ninit_host instead and pass down the necessary data to both calls.\n\nChange-Id: I48f3bce6379d6e684d07180f7d7770748319e369\n'}, {'number': 4, 'created': '2019-09-23 13:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18d7ac91ee9aea9a0c7bf764bbf0e223c68474d7', 'message': 'Pull up compute node queries to init_host\n\nBoth _destroy_evacuated_instances and\n_error_out_instances_whose_build_was_interrupted queries compute nodes\nfrom the db during init_host. This patch does the query once in\ninit_host instead and pass down the necessary data to both calls.\n\nChange-Id: I48f3bce6379d6e684d07180f7d7770748319e369\n'}, {'number': 5, 'created': '2019-10-08 14:22:01.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/afe267590f041a733d01e26135df15f9e458eaba', 'message': 'Pull up compute node queries to init_host\n\nBoth _destroy_evacuated_instances and\n_error_out_instances_whose_build_was_interrupted queries compute nodes\nfrom the db during init_host. This patch does the query once in\ninit_host instead and pass down the necessary data to both calls.\n\nChange-Id: I48f3bce6379d6e684d07180f7d7770748319e369\n'}]",4,682680,afe267590f041a733d01e26135df15f9e458eaba,73,16,5,9708,,,0,"Pull up compute node queries to init_host

Both _destroy_evacuated_instances and
_error_out_instances_whose_build_was_interrupted queries compute nodes
from the db during init_host. This patch does the query once in
init_host instead and pass down the necessary data to both calls.

Change-Id: I48f3bce6379d6e684d07180f7d7770748319e369
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/682680/5 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,93912d6e7add32399a1cafd1151d69bce4a3415a,bug/1823251," def _destroy_evacuated_instances(self, context, node_cache): :param node_cache: A dict of compute node UUIDs keyed by the name of the compute node if migration.source_node not in node_cache: LOG.error(""Failed to clean allocation of evacuated "" ""instance as the source node %s is not found"", migration.source_node, instance=instance) continue cn_uuid = node_cache[migration.source_node] def _get_nodes(self, context): """"""Queried the ComputeNode objects from the DB that are reported by the hypervisor. :param context: the request context :return: a dict of ComputeNode objects keyed by the UUID of the given node. """""" nodes_by_uuid = {} node_names = self.driver.get_available_nodes() for node_name in node_names: try: node = objects.ComputeNode.get_by_host_and_nodename( context, self.host, node_name) nodes_by_uuid[node.uuid] = node except exception.ComputeHostNotFound: LOG.warning( ""Compute node %s not found in the database."", node_name) return nodes_by_uuid # NOTE(gibi): At this point the compute_nodes of the resource tracker # has not been populated yet so we cannot rely on the resource tracker # here. nodes_by_uuid = self._get_nodes(context) evacuated_instances = self._destroy_evacuated_instances( context, {cn.hypervisor_hostname: cn.uuid for cn in nodes_by_uuid.values()}) context, already_handled, nodes_by_uuid.keys()) self, context, already_handled_instances, node_uuids): :param node_uuids: The list of compute node uuids handled by this service for cn_uuid in node_uuids:"," def _destroy_evacuated_instances(self, context): # NOTE(gibi): We are called from init_host and at this point the # compute_nodes of the resource tracker has not been populated yet so # we cannot rely on the resource tracker here. compute_nodes = {} if migration.source_node not in compute_nodes: try: cn_uuid = objects.ComputeNode.get_by_host_and_nodename( context, self.host, migration.source_node).uuid compute_nodes[migration.source_node] = cn_uuid except exception.ComputeHostNotFound: LOG.error(""Failed to clean allocation of evacuated "" ""instance as the source node %s is not found"", migration.source_node, instance=instance) continue cn_uuid = compute_nodes[migration.source_node] evacuated_instances = self._destroy_evacuated_instances(context) context, already_handled) self, context, already_handled_instances): node_names = self.driver.get_available_nodes() for node_name in node_names: try: cn_uuid = objects.ComputeNode.get_by_host_and_nodename( context, self.host, node_name).uuid except exception.ComputeHostNotFound: LOG.warning( ""Compute node %s not found in the database and therefore "" ""unable to error out any instances stuck in BUILDING "" ""state on this node."", node_name) continue ",108,140
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~I0ca330527fa2aaadb1ba91a763b9588348a225e5,openstack/puppet-openstack-integration,stable/train,I0ca330527fa2aaadb1ba91a763b9588348a225e5,Switch to Train,MERGED,2019-10-09 22:53:17.000000000,2019-10-10 03:07:26.000000000,2019-10-10 03:07:25.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 22:53:17.000000000', 'files': ['Puppetfile', 'Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5bc8b1a51bc92d5d6fc90165b2431f2ea59e2ec3', 'message': 'Switch to Train\n\nChange-Id: I0ca330527fa2aaadb1ba91a763b9588348a225e5\n'}]",0,687695,5bc8b1a51bc92d5d6fc90165b2431f2ea59e2ec3,6,2,1,16137,,,0,"Switch to Train

Change-Id: I0ca330527fa2aaadb1ba91a763b9588348a225e5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/95/687695/1 && git format-patch -1 --stdout FETCH_HEAD,"['Puppetfile', 'Gemfile']",2,5bc8b1a51bc92d5d6fc90165b2431f2ea59e2ec3,," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",39,38
openstack%2Fpython-keystoneclient~master~I490f1e6b421d4f36f588f83a511ce39b9b4204e2,openstack/python-keystoneclient,master,I490f1e6b421d4f36f588f83a511ce39b9b4204e2,Add support for app cred access rules,MERGED,2019-08-21 00:39:39.000000000,2019-10-10 03:01:35.000000000,2019-10-10 03:00:18.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-08-21 00:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/37b6b8b057f098664305022a4796599d6c8faf92', 'message': 'Add support for app cred access rules\n\nThis change adds access_rules as a parameter for creating application\ncredentials, and also adds the ability to list access rules and to\nretrieve and delete individual rules. Directly creating an access rule\nor updating one is not supported.\n\nbp whitelist-extension-for-app-creds\n\nDepends-On: https://review.opendev.org/671374\nChange-Id: I490f1e6b421d4f36f588f83a511ce39b9b4204e2\n'}, {'number': 2, 'created': '2019-08-21 15:21:48.000000000', 'files': ['keystoneclient/tests/unit/v3/test_application_credentials.py', 'keystoneclient/v3/client.py', 'releasenotes/notes/bp-whitelist-extension-for-app-creds-d03526e52e3edcce.yaml', 'keystoneclient/v3/application_credentials.py', 'keystoneclient/v3/access_rules.py', 'keystoneclient/tests/unit/v3/test_access_rules.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/6c116ec084620942880ef62999b65e3907c3077f', 'message': 'Add support for app cred access rules\n\nThis change adds access_rules as a parameter for creating application\ncredentials, and also adds the ability to list access rules and to\nretrieve and delete individual rules. Directly creating an access rule\nor updating one is not supported.\n\nbp whitelist-extension-for-app-creds\n\nDepends-On: https://review.opendev.org/671374\nChange-Id: I490f1e6b421d4f36f588f83a511ce39b9b4204e2\n'}]",4,677585,6c116ec084620942880ef62999b65e3907c3077f,21,5,2,8482,,,0,"Add support for app cred access rules

This change adds access_rules as a parameter for creating application
credentials, and also adds the ability to list access rules and to
retrieve and delete individual rules. Directly creating an access rule
or updating one is not supported.

bp whitelist-extension-for-app-creds

Depends-On: https://review.opendev.org/671374
Change-Id: I490f1e6b421d4f36f588f83a511ce39b9b4204e2
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/85/677585/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/tests/unit/v3/test_application_credentials.py', 'keystoneclient/v3/client.py', 'keystoneclient/v3/application_credentials.py', 'releasenotes/notes/bp-whitelist-extension-for-app-creds-d03526e52e3edcce.yaml', 'keystoneclient/v3/access_rules.py', 'keystoneclient/tests/unit/v3/test_access_rules.py']",6,37b6b8b057f098664305022a4796599d6c8faf92,bp/whitelist-extension-for-app-creds,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. import uuid from keystoneclient import exceptions from keystoneclient.tests.unit.v3 import utils from keystoneclient.v3 import access_rules class AccessRuleTests(utils.ClientTestCase, utils.CrudTests): def setUp(self): super(AccessRuleTests, self).setUp() self.key = 'access_rule' self.collection_key = 'access_rules' self.model = access_rules.AccessRule self.manager = self.client.access_rules self.path_prefix = 'users/%s' % self.TEST_USER_ID def new_ref(self, **kwargs): kwargs = super(AccessRuleTests, self).new_ref(**kwargs) kwargs.setdefault('path', uuid.uuid4().hex) kwargs.setdefault('method', uuid.uuid4().hex) kwargs.setdefault('service', uuid.uuid4().hex) return kwargs def test_update(self): self.assertRaises(exceptions.MethodNotImplemented, self.manager.update) def test_create(self): self.assertRaises(exceptions.MethodNotImplemented, self.manager.create) ",,192,1
openstack%2Ftosca-parser~master~I157486346410078eb2dc67269bf87349c5aa68aa,openstack/tosca-parser,master,I157486346410078eb2dc67269bf87349c5aa68aa,Add initialization process for main_template_file_name,ABANDONED,2019-10-10 02:14:10.000000000,2019-10-10 02:33:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-10 02:14:10.000000000', 'files': ['toscaparser/tests/test_prereq.py', 'toscaparser/imports.py', 'toscaparser/prereq/csar.py'], 'web_link': 'https://opendev.org/openstack/tosca-parser/commit/01b29de215582404116c8a1f4fd7e4e4698e4f4e', 'message': 'Add initialization process for main_template_file_name\n\n  * Add initialization process for main_template_file_name to fix that\n    invalid csar metafile cannot be loaded.\n\n  * Add assert function for csar.validate() to check the return value.\n\n  Story: #2006688\n  Task: #36980i\n\nChange-Id: I157486346410078eb2dc67269bf87349c5aa68aa\n'}]",0,687765,01b29de215582404116c8a1f4fd7e4e4698e4f4e,3,1,1,27180,,,0,"Add initialization process for main_template_file_name

  * Add initialization process for main_template_file_name to fix that
    invalid csar metafile cannot be loaded.

  * Add assert function for csar.validate() to check the return value.

  Story: #2006688
  Task: #36980i

Change-Id: I157486346410078eb2dc67269bf87349c5aa68aa
",git fetch https://review.opendev.org/openstack/tosca-parser refs/changes/65/687765/1 && git format-patch -1 --stdout FETCH_HEAD,"['toscaparser/tests/test_prereq.py', 'toscaparser/imports.py', 'toscaparser/prereq/csar.py']",3,01b29de215582404116c8a1f4fd7e4e4698e4f4e,bug/2006688, self.metadata = None return self.metadata.get(key) if self.metadata else None if custom_service.error_caught: self.error_caught = True self.error_caught = True self.error_caught = True, return self.metadata.get(key),146,69
openstack%2Fkeystone~stable%2Ftrain~Ie45955f5cc54563cc9704d7cb2b656b5544ae030,openstack/keystone,stable/train,Ie45955f5cc54563cc9704d7cb2b656b5544ae030,Remove policy.v3cloudsample.json,MERGED,2019-10-09 17:49:50.000000000,2019-10-10 02:28:16.000000000,2019-10-10 02:26:18.000000000,"[{'_account_id': 6873}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 11904}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 17:49:50.000000000', 'files': ['keystone/tests/unit/test_policy.py', 'keystone/tests/unit/test_v3_protection.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1806762-08ff9eecdc03c554.yaml', 'etc/policy.v3cloudsample.json'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9217f07b83399373c6e0879a71d943b73632ff5', 'message': ""Remove policy.v3cloudsample.json\n\nWe've make all the default policies keystone supports better by\nincorporating default roles and scope types. These changes have made\nthe ``policy.v3cloudsample.json`` file obsolete.\n\nLet's simply things for users, operators, and develpers by removing\nit.\n\nA follow-on patch will remove the test_v3_protection.py file since\nthose behaviors are passing all the protection tests with the default\npolicies in code.\n\nRelated-Bug: 1805880\nCloses-Bug: 1630434\nCloses-Bug: 1806762\nChange-Id: Ie45955f5cc54563cc9704d7cb2b656b5544ae030\n(cherry picked from commit d4a6023de5bdfe5a6e9214579a35e083a45c1151)\n""}]",0,687639,d9217f07b83399373c6e0879a71d943b73632ff5,17,6,1,5046,,,0,"Remove policy.v3cloudsample.json

We've make all the default policies keystone supports better by
incorporating default roles and scope types. These changes have made
the ``policy.v3cloudsample.json`` file obsolete.

Let's simply things for users, operators, and develpers by removing
it.

A follow-on patch will remove the test_v3_protection.py file since
those behaviors are passing all the protection tests with the default
policies in code.

Related-Bug: 1805880
Closes-Bug: 1630434
Closes-Bug: 1806762
Change-Id: Ie45955f5cc54563cc9704d7cb2b656b5544ae030
(cherry picked from commit d4a6023de5bdfe5a6e9214579a35e083a45c1151)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/39/687639/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/test_policy.py', 'keystone/tests/unit/test_v3_protection.py', 'keystone/tests/unit/test_v3_auth.py', 'releasenotes/notes/bug-1806762-08ff9eecdc03c554.yaml', 'etc/policy.v3cloudsample.json']",5,d9217f07b83399373c6e0879a71d943b73632ff5,,,"{ ""admin_required"": ""role:admin"", ""cloud_admin"": ""role:admin and (is_admin_project:True or domain_id:admin_domain_id)"", ""owner"": ""user_id:%(user_id)s or user_id:%(target.token.user_id)s"", ""admin_or_owner"": ""(rule:admin_required and domain_id:%(target.token.user.domain.id)s) or rule:owner"", ""admin_and_matching_domain_id"": ""rule:admin_required and domain_id:%(domain_id)s"", ""service_admin_or_owner"": ""rule:service_or_admin or rule:owner"", ""default"": ""rule:admin_required"", ""domain_admin_matches_domain_role"": ""rule:admin_required and domain_id:%(role.domain_id)s"", ""get_domain_roles"": ""rule:domain_admin_matches_target_domain_role or rule:project_admin_matches_target_domain_role"", ""domain_admin_matches_target_domain_role"": ""rule:admin_required and domain_id:%(target.role.domain_id)s"", ""project_admin_matches_target_domain_role"": ""rule:admin_required and project_domain_id:%(target.role.domain_id)s"", ""list_domain_roles"": ""rule:domain_admin_matches_filter_on_list_domain_roles or rule:project_admin_matches_filter_on_list_domain_roles"", ""domain_admin_matches_filter_on_list_domain_roles"": ""rule:admin_required and domain_id:%(domain_id)s"", ""project_admin_matches_filter_on_list_domain_roles"": ""rule:admin_required and project_domain_id:%(domain_id)s"", ""admin_and_matching_prior_role_domain_id"": ""rule:admin_required and domain_id:%(target.prior_role.domain_id)s"", ""implied_role_matches_prior_role_domain_or_global"": ""(domain_id:%(target.implied_role.domain_id)s or None:%(target.implied_role.domain_id)s)"", ""admin_on_domain_filter"": ""rule:admin_required and domain_id:%(scope.domain.id)s"", ""admin_on_project_filter"": ""rule:admin_required and project_id:%(scope.project.id)s"", ""admin_on_domain_of_project_filter"": ""rule:admin_required and domain_id:%(target.project.domain_id)s"", ""identity:list_role_assignments_for_tree"": ""rule:cloud_admin or rule:admin_on_domain_of_project_filter"", ""identity:check_token"": ""rule:admin_or_owner"", ""identity:validate_token"": ""rule:service_admin_or_owner"", ""identity:validate_token_head"": ""rule:service_or_admin"", ""identity:revoke_token"": ""rule:admin_or_owner"" } ",21,338
openstack%2Fmonasca-statsd~master~Ic8f6684a388712d57d0c75c4a11a7ac59c4e3ad2,openstack/monasca-statsd,master,Ic8f6684a388712d57d0c75c4a11a7ac59c4e3ad2,Sync Sphinx requirement,NEW,2019-10-09 08:38:18.000000000,2019-10-10 02:19:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-09 08:38:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/59044da13bb2c946646455fd628d87e873f6816b', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ic8f6684a388712d57d0c75c4a11a7ac59c4e3ad2\n'}, {'number': 2, 'created': '2019-10-10 01:37:27.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/monasca-statsd/commit/fac902dd655c68e71fc1c695c721235f4257b2bb', 'message': 'Sync Sphinx requirement\n\nSync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: Ic8f6684a388712d57d0c75c4a11a7ac59c4e3ad2\n'}]",0,687490,fac902dd655c68e71fc1c695c721235f4257b2bb,4,1,2,27822,,,0,"Sync Sphinx requirement

Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: Ic8f6684a388712d57d0c75c4a11a7ac59c4e3ad2
",git fetch https://review.opendev.org/openstack/monasca-statsd refs/changes/90/687490/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,59044da13bb2c946646455fd628d87e873f6816b,sphinx,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.5 # BSD",2,1
openstack%2Foctavia-dashboard~master~Iabbed6052887ba92c07cb68c2333a197f04348cc,openstack/octavia-dashboard,master,Iabbed6052887ba92c07cb68c2333a197f04348cc,Use Horizon project template for django jobs,MERGED,2019-10-09 12:57:25.000000000,2019-10-10 01:54:16.000000000,2019-10-10 01:52:28.000000000,"[{'_account_id': 1736}, {'_account_id': 2245}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 12:57:25.000000000', 'files': ['zuul.d/projects.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/aa21130ff99545cdb7f0888cafaef12838210133', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: Iabbed6052887ba92c07cb68c2333a197f04348cc\n""}]",0,687547,aa21130ff99545cdb7f0888cafaef12838210133,11,4,1,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: Iabbed6052887ba92c07cb68c2333a197f04348cc
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/47/687547/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/projects.yaml', 'tox.ini']",2,aa21130ff99545cdb7f0888cafaef12838210133,django22,"envlist = py27,py37,py3-{dj111,dj22},pep8,eslint,karmacommands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 python manage.py test octavia_dashboard --settings=octavia_dashboard.tests.settings","envlist = py27,py37,pep8,eslint,karmacommands = python manage.py test octavia_dashboard --settings=octavia_dashboard.tests.settings",6,2
openstack%2Ftripleo-common~stable%2Fstein~Ia7b33ab6bec0fabc8632e58807e749b6e2a8c9a3,openstack/tripleo-common,stable/stein,Ia7b33ab6bec0fabc8632e58807e749b6e2a8c9a3,Define the interface for multi arch image prepare,MERGED,2019-10-04 17:34:48.000000000,2019-10-10 01:49:10.000000000,2019-10-10 01:47:46.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-04 17:34:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f2d9d95d7bc04468c806143ca5717770efed8ab', 'message': 'Define the interface for multi arch image prepare\n\nIf the `AdditionalArchitectures` parameter has entries then the\ncontainer image prepare will prepare images for all architectures\ninstead of just the default one. A new boolean field `multi_arch` can\nalso be set in `ContainerImagePrepare` entries to determine the multi\narch behaviour for images in that entry. If any entry sets a\n`multi_arch` value then `AdditionalArchitectures` is ignored.\n\nThis change defines the interface for supporting multi-arch prepare\noperations, a later change in this series will implement the support.\n\nBlueprint: multiarch-support\nChange-Id: Ia7b33ab6bec0fabc8632e58807e749b6e2a8c9a3\n(cherry picked from commit 08ae3286c750c4581f436020ba310bd0f9be4b02)\n'}, {'number': 2, 'created': '2019-10-04 20:01:23.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'releasenotes/notes/multi_arch_image-3c3730cbba95be19.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/609d905998a34c7dbcdb006f69c2292ec6c79f16', 'message': 'Define the interface for multi arch image prepare\n\nIf the `AdditionalArchitectures` parameter has entries then the\ncontainer image prepare will prepare images for all architectures\ninstead of just the default one. A new boolean field `multi_arch` can\nalso be set in `ContainerImagePrepare` entries to determine the multi\narch behaviour for images in that entry. If any entry sets a\n`multi_arch` value then `AdditionalArchitectures` is ignored.\n\nThis change defines the interface for supporting multi-arch prepare\noperations, a later change in this series will implement the support.\n\nBlueprint: multiarch-support\nChange-Id: Ia7b33ab6bec0fabc8632e58807e749b6e2a8c9a3\n(cherry picked from commit 08ae3286c750c4581f436020ba310bd0f9be4b02)\n'}]",0,686784,609d905998a34c7dbcdb006f69c2292ec6c79f16,32,6,2,14985,,,0,"Define the interface for multi arch image prepare

If the `AdditionalArchitectures` parameter has entries then the
container image prepare will prepare images for all architectures
instead of just the default one. A new boolean field `multi_arch` can
also be set in `ContainerImagePrepare` entries to determine the multi
arch behaviour for images in that entry. If any entry sets a
`multi_arch` value then `AdditionalArchitectures` is ignored.

This change defines the interface for supporting multi-arch prepare
operations, a later change in this series will implement the support.

Blueprint: multiarch-support
Change-Id: Ia7b33ab6bec0fabc8632e58807e749b6e2a8c9a3
(cherry picked from commit 08ae3286c750c4581f436020ba310bd0f9be4b02)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/84/686784/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/kolla_builder.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'releasenotes/notes/multi_arch_image-3c3730cbba95be19.yaml']",5,3f2d9d95d7bc04468c806143ca5717770efed8ab,bug/1844446-stable/stein,--- features: - | If the `AdditionalArchitectures` parameter has entries then the container image prepare will prepare images for all architectures instead of just the default one. A new boolean field `multi_arch` can also be set in `ContainerImagePrepare` entries to determine the multi arch behaviour for images in that entry. If any entry sets a `multi_arch` value then `AdditionalArchitectures` is ignored.,,63,22
openstack%2Fpython-tripleoclient~master~I535f9c5be24cc1876d991aac30fea5139f4fcd2b,openstack/python-tripleoclient,master,I535f9c5be24cc1876d991aac30fea5139f4fcd2b,Don't set transport=local in ansible.cfg,MERGED,2019-10-03 17:18:17.000000000,2019-10-10 01:48:54.000000000,2019-10-10 01:47:47.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-03 17:18:17.000000000', 'files': ['tripleoclient/v1/tripleo_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/276ed3ac3bda9942dc43a1b598c00ff6ef119594', 'message': 'Don\'t set transport=local in ansible.cfg\n\nThe ""openstack tripleo config generate ansible"" command should no longer\ngenerate an ansible.cfg that has transport=local set. The ansible.cfg is\nusable outside of undercloud/standalone mode.\n\nAlso updates the command help to not be specific to\nundercloud/standalone.\n\nNote that tripleo_deploy.py already takes care of setting\nansible_connection=local anyway for standalone mode.\n\nChange-Id: I535f9c5be24cc1876d991aac30fea5139f4fcd2b\n'}]",0,686446,276ed3ac3bda9942dc43a1b598c00ff6ef119594,14,5,1,7144,,,0,"Don't set transport=local in ansible.cfg

The ""openstack tripleo config generate ansible"" command should no longer
generate an ansible.cfg that has transport=local set. The ansible.cfg is
usable outside of undercloud/standalone mode.

Also updates the command help to not be specific to
undercloud/standalone.

Note that tripleo_deploy.py already takes care of setting
ansible_connection=local anyway for standalone mode.

Change-Id: I535f9c5be24cc1876d991aac30fea5139f4fcd2b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/46/686446/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_config.py'],1,276ed3ac3bda9942dc43a1b598c00ff6ef119594,," """"""Generate the default ansible.cfg for deployments."""""" ssh_private_key=None)"," """"""Generate the default ansible.cfg for UC/AIO-standalone deployments."""""" # FIXME(bogdando): unhardcode key/transport for future multi-node ssh_private_key=None, transport='local')",2,4
openstack%2Ftripleo-ansible~master~I38d9535d9b71fca93eb34d2018355c0f8c8fa8fd,openstack/tripleo-ansible,master,I38d9535d9b71fca93eb34d2018355c0f8c8fa8fd,"Add a playbook for the ""openstack overcloud delete"" CLI Command",MERGED,2019-10-09 10:01:12.000000000,2019-10-10 01:40:57.000000000,2019-10-10 01:40:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 10:01:12.000000000', 'files': ['tripleo_ansible/playbooks/overcloud-delete.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8bae3481ede4ab2d10fd31ec03af096ea13e7361', 'message': 'Add a playbook for the ""openstack overcloud delete"" CLI Command\n\nThis playbook encapsulated the logic that Mistral provides for the\novercloud delete CLI command. Replacing the following two workflows\n\n- tripleo.plan_management.v1.delete_deployment_plan\n- tripleo.deployment.v1.undeploy_plan\n\nRelated-Bug: #1835242\nRelated-Bug: #1835246\nRelated-Bug: #1835232\n\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Luke Short <lshort@redhat.com>\nChange-Id: I38d9535d9b71fca93eb34d2018355c0f8c8fa8fd\n'}]",0,687524,8bae3481ede4ab2d10fd31ec03af096ea13e7361,15,7,1,9712,,,0,"Add a playbook for the ""openstack overcloud delete"" CLI Command

This playbook encapsulated the logic that Mistral provides for the
overcloud delete CLI command. Replacing the following two workflows

- tripleo.plan_management.v1.delete_deployment_plan
- tripleo.deployment.v1.undeploy_plan

Related-Bug: #1835242
Related-Bug: #1835246
Related-Bug: #1835232

Co-Authored-By: Kevin Carter <kecarter@redhat.com>
Co-Authored-By: Luke Short <lshort@redhat.com>
Change-Id: I38d9535d9b71fca93eb34d2018355c0f8c8fa8fd
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/24/687524/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/overcloud-delete.yaml'],1,8bae3481ede4ab2d10fd31ec03af096ea13e7361,mistral_to_ansible,"--- - connection: local hosts: localhost pre_tasks: - name: Check for required inputs fail: msg: > Input missing `{{ item }}` when: - hostvars[inventory_hostname][item] is undefined loop: - stack_name tasks: - name: Delete heat stack os_stack: name: ""{{ stack_name }}"" state: absent register: stack_delete until: stack_delete is success delay: 4 retries: 16 # NOTE (cloudnull): This is using the CLI command to delete a given container # because the os_object module does not yet handle recursive # deletes. Revise this when RFE 60449 is implemented. # https://github.com/ansible/ansible/issues/60449 - name: Delete container and objects command: > openstack container delete ""{{ item }}"" --recursive failed_when: - container_objects.rc != 0 - ""'Not Found' not in container_objects.stderr"" changed_when: - ""'Not Found' not in container_objects.stderr"" register: container_objects loop: - ""{{ stack_name }}"" - ""{{ stack_name }}-messages"" - ""{{ stack_name }}-swift-rings"" post_tasks: - name: Workflow notice debug: msg: Ansible workflow completed. tags: - tripleo-overcloud-delete ",,48,0
openstack%2Ftripleo-ansible~master~I8df1fb5d1bb72bd492e9f8e2b29dc6dae09d6b44,openstack/tripleo-ansible,master,I8df1fb5d1bb72bd492e9f8e2b29dc6dae09d6b44,podman_container: only add --volume if item not empty,MERGED,2019-10-09 17:43:31.000000000,2019-10-10 01:40:56.000000000,2019-10-10 01:40:56.000000000,"[{'_account_id': 3153}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-10-09 17:43:31.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/podman_container.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ded2a1753842da80e690881ff1f4d003a6b54152', 'message': 'podman_container: only add --volume if item not empty\n\nMake sure the item in the list of volumes isn\'t empty or we can end up\nwith a user error where the item is \'\' and podman will crash with:\n\n""host directory can not be empty""\n\nNote that I hit that since we have some conditional volumes in THT,\nwhere sometimes we get \'\' in the list of volumes. Let\'s handle this\ncase.\n\nChange-Id: I8df1fb5d1bb72bd492e9f8e2b29dc6dae09d6b44\n'}]",2,687637,ded2a1753842da80e690881ff1f4d003a6b54152,11,6,1,3153,,,0,"podman_container: only add --volume if item not empty

Make sure the item in the list of volumes isn't empty or we can end up
with a user error where the item is '' and podman will crash with:

""host directory can not be empty""

Note that I hit that since we have some conditional volumes in THT,
where sometimes we get '' in the list of volumes. Let's handle this
case.

Change-Id: I8df1fb5d1bb72bd492e9f8e2b29dc6dae09d6b44
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/687637/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/podman_container.py'],1,ded2a1753842da80e690881ff1f4d003a6b54152,volumes," if vol: c += ['--volume', vol]"," c += ['--volume', vol]",2,1
openstack%2Fpython-tripleoclient~stable%2Frocky~Iafe3156ca0678f3ab3c5e688e712a9fb6b408e7b,openstack/python-tripleoclient,stable/rocky,Iafe3156ca0678f3ab3c5e688e712a9fb6b408e7b,Set option:mtu in inspector dnsmasq,MERGED,2019-10-08 14:53:24.000000000,2019-10-10 01:40:40.000000000,2019-10-10 01:39:15.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-08 14:53:24.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/fix-pass-mtu-option-inspector-dnsmasq-7c2f9d7d358ace07.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2e6358a61a4b83b038759300f5307aabcf51788d', 'message': ""Set option:mtu in inspector dnsmasq\n\nSet the mtu for all subnets in inspector dnsmasq\nconfig to value of 'local_mtu' in undercloud.conf.\n\nConflicts:\n  tripleoclient/tests/v1/undercloud/test_config.py\n  tripleoclient/v1/undercloud_config.py\n\nNOTE, tripleoclient/tests/v1/undercloud/test_config.py\nwas named test_undercloud_config.py in rocky and the\nrelevant unit tests did not exist.\n\nCloses-Bug: #1845487\nDepends-On: Ic95dbf1867fb5397f1b6d8f23466910a97051cb6\nChange-Id: Iafe3156ca0678f3ab3c5e688e712a9fb6b408e7b\n(cherry picked from commit ff31fe18ec028e6d187de2c3fda539d28caf0a27)\n""}]",0,687320,2e6358a61a4b83b038759300f5307aabcf51788d,15,5,1,24245,,,0,"Set option:mtu in inspector dnsmasq

Set the mtu for all subnets in inspector dnsmasq
config to value of 'local_mtu' in undercloud.conf.

Conflicts:
  tripleoclient/tests/v1/undercloud/test_config.py
  tripleoclient/v1/undercloud_config.py

NOTE, tripleoclient/tests/v1/undercloud/test_config.py
was named test_undercloud_config.py in rocky and the
relevant unit tests did not exist.

Closes-Bug: #1845487
Depends-On: Ic95dbf1867fb5397f1b6d8f23466910a97051cb6
Change-Id: Iafe3156ca0678f3ab3c5e688e712a9fb6b408e7b
(cherry picked from commit ff31fe18ec028e6d187de2c3fda539d28caf0a27)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/20/687320/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'releasenotes/notes/fix-pass-mtu-option-inspector-dnsmasq-7c2f9d7d358ace07.yaml']",2,2e6358a61a4b83b038759300f5307aabcf51788d,bug/1845487,--- fixes: - | The MTU setting was not configured for Ironic Inspector DHCP (dnsmasq) service. This caused inspection to fail when operating on a network with < 1500 bytes MTU. See bug: `1845487 <https://bugs.launchpad.net/puppet-ironic/+bug/1845487>`_. ,,9,0
openstack%2Fpython-tripleoclient~stable%2Fstein~Iafe3156ca0678f3ab3c5e688e712a9fb6b408e7b,openstack/python-tripleoclient,stable/stein,Iafe3156ca0678f3ab3c5e688e712a9fb6b408e7b,Set option:mtu in inspector dnsmasq,MERGED,2019-10-08 13:56:06.000000000,2019-10-10 01:40:23.000000000,2019-10-10 01:39:14.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 13:56:06.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'releasenotes/notes/fix-pass-mtu-option-inspector-dnsmasq-7c2f9d7d358ace07.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/01a7cbbad0a7ddd3ec3be296d7d89987d6dd5fc2', 'message': ""Set option:mtu in inspector dnsmasq\n\nSet the mtu for all subnets in inspector dnsmasq\nconfig to value of 'local_mtu' in undercloud.conf.\n\nConflicts:\n  tripleoclient/tests/v1/undercloud/test_config.py\n\nCloses-Bug: #1845487\nDepends-On: Ic95dbf1867fb5397f1b6d8f23466910a97051cb6\nChange-Id: Iafe3156ca0678f3ab3c5e688e712a9fb6b408e7b\n(cherry picked from commit ff31fe18ec028e6d187de2c3fda539d28caf0a27)\n""}]",0,687308,01a7cbbad0a7ddd3ec3be296d7d89987d6dd5fc2,8,3,1,24245,,,0,"Set option:mtu in inspector dnsmasq

Set the mtu for all subnets in inspector dnsmasq
config to value of 'local_mtu' in undercloud.conf.

Conflicts:
  tripleoclient/tests/v1/undercloud/test_config.py

Closes-Bug: #1845487
Depends-On: Ic95dbf1867fb5397f1b6d8f23466910a97051cb6
Change-Id: Iafe3156ca0678f3ab3c5e688e712a9fb6b408e7b
(cherry picked from commit ff31fe18ec028e6d187de2c3fda539d28caf0a27)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/08/687308/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'releasenotes/notes/fix-pass-mtu-option-inspector-dnsmasq-7c2f9d7d358ace07.yaml']",3,01a7cbbad0a7ddd3ec3be296d7d89987d6dd5fc2,bug/1845487,--- fixes: - | The MTU setting was not configured for Ironic Inspector DHCP (dnsmasq) service. This caused inspection to fail when operating on a network with < 1500 bytes MTU. See bug: `1845487 <https://bugs.launchpad.net/puppet-ironic/+bug/1845487>`_. ,,49,20
openstack%2Fneutron-fwaas~master~I8e7b58c6d0ac089598f90777b735b5c9e0d41a7a,openstack/neutron-fwaas,master,I8e7b58c6d0ac089598f90777b735b5c9e0d41a7a,emove unused import statement.:,ABANDONED,2019-10-10 01:30:59.000000000,2019-10-10 01:31:33.000000000,,[],"[{'number': 1, 'created': '2019-10-10 01:30:59.000000000', 'files': ['neutron_fwaas/db/migration/alembic_migrations/versions/train/expand/d01b40833350_neutron_fwaas.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/98bde804c04a57b3312c1a5633693b141c9b4965', 'message': 'emove unused import statement.:\n\nChange-Id: I8e7b58c6d0ac089598f90777b735b5c9e0d41a7a\n'}]",0,687761,98bde804c04a57b3312c1a5633693b141c9b4965,2,0,1,30200,,,0,"emove unused import statement.:

Change-Id: I8e7b58c6d0ac089598f90777b735b5c9e0d41a7a
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/61/687761/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_fwaas/db/migration/alembic_migrations/versions/train/expand/d01b40833350_neutron_fwaas.py', 'neutron_fwaas/services/firewall/fwaas_plugin_v2.py']",2,98bde804c04a57b3312c1a5633693b141c9b4965,,"from neutron.db import standardattrdescription_db as stattr_dbclass FirewallPluginV2(Firewallv2PluginBase, stattr_db.StandardAttrDescriptionMixin):",class FirewallPluginV2(Firewallv2PluginBase):,39,1
openstack%2Fmonasca-persister~master~I13e3d23586c11559e6bfb55fdb857e31dfdb4089,openstack/monasca-persister,master,I13e3d23586c11559e6bfb55fdb857e31dfdb4089,Support confluent kafka client,NEW,2019-10-09 08:06:31.000000000,2019-10-10 01:17:26.000000000,,"[{'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 29970}]","[{'number': 1, 'created': '2019-10-09 08:06:31.000000000', 'files': ['docker/Dockerfile', 'docker/README.rst', 'docker/monasca-persister.conf.j2'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/6079cbae10a70700d4ffc10c264699e1dda4e3f7', 'message': 'Support confluent kafka client\n\nAdd KAFKA_LEGACY_CLIENT_ENABLED option,users can use confluent\nkafka client with this option.\n\nChange-Id: I13e3d23586c11559e6bfb55fdb857e31dfdb4089\n'}]",1,687472,6079cbae10a70700d4ffc10c264699e1dda4e3f7,4,3,1,29970,,,0,"Support confluent kafka client

Add KAFKA_LEGACY_CLIENT_ENABLED option,users can use confluent
kafka client with this option.

Change-Id: I13e3d23586c11559e6bfb55fdb857e31dfdb4089
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/72/687472/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/Dockerfile', 'docker/README.rst', 'docker/monasca-persister.conf.j2']",3,6079cbae10a70700d4ffc10c264699e1dda4e3f7,kafka-client-enabled-option,legacy_kafka_client_enabled = {{ KAFKA_LEGACY_CLIENT_ENABLED | default(true) }}legacy_kafka_client_enabled = {{ KAFKA_LEGACY_CLIENT_ENABLED | default(true) }},,4,0
openstack%2Fmanila~stable%2Frocky~I9945e5acc5e9bba88c8cf66e84011ead8b1de13b,openstack/manila,stable/rocky,I9945e5acc5e9bba88c8cf66e84011ead8b1de13b,Fix manila-tempest-minimal-dsvm-lvm-centos-7 job,MERGED,2019-09-25 13:38:55.000000000,2019-10-10 01:07:57.000000000,2019-10-01 13:10:17.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 30002}]","[{'number': 1, 'created': '2019-09-25 13:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b22b4403b3dc7da9e93f3ed10dbb98b0b822e939', 'message': 'DNM - Testing rocky stable branch\n\nChange-Id: I9945e5acc5e9bba88c8cf66e84011ead8b1de13b\n'}, {'number': 2, 'created': '2019-09-25 16:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/845fad2d215c9bcd1f16b689a430f61280c6ea68', 'message': 'DNM - Testing rocky stable branch\n\nChange-Id: I9945e5acc5e9bba88c8cf66e84011ead8b1de13b\nDepends-On: I58e67c93daaf6ac8573b8b7b54ba1f2b5958a931\n'}, {'number': 3, 'created': '2019-09-26 18:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4f3045382663602a85cecdc05d0fbe99c7025bdb', 'message': 'DNM - Testing rocky stable branch\n\nChange-Id: I9945e5acc5e9bba88c8cf66e84011ead8b1de13b\n'}, {'number': 4, 'created': '2019-09-26 19:01:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9e48ea7b24b8b1a84d5b52e86d16d3ad058016c9', 'message': 'DNM - Testing rocky stable branch\n\nChange-Id: I9945e5acc5e9bba88c8cf66e84011ead8b1de13b\n'}, {'number': 5, 'created': '2019-09-26 21:49:44.000000000', 'files': ['playbooks/legacy/manila-tempest-minimal-dsvm-lvm-centos-7/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/6fbfc888722f5f87c3fab54b910d7f08feb7425a', 'message': 'Fix manila-tempest-minimal-dsvm-lvm-centos-7 job\n\nUpdate manila-tempest-minimal-dsvm-lvm-centos-7 job to install openstack\nqueens package instead of pike\n\nChange-Id: I9945e5acc5e9bba88c8cf66e84011ead8b1de13b\n'}]",0,684751,6fbfc888722f5f87c3fab54b910d7f08feb7425a,31,5,5,30002,,,0,"Fix manila-tempest-minimal-dsvm-lvm-centos-7 job

Update manila-tempest-minimal-dsvm-lvm-centos-7 job to install openstack
queens package instead of pike

Change-Id: I9945e5acc5e9bba88c8cf66e84011ead8b1de13b
",git fetch https://review.opendev.org/openstack/manila refs/changes/51/684751/3 && git format-patch -1 --stdout FETCH_HEAD,['manila/DNM'],1,b22b4403b3dc7da9e93f3ed10dbb98b0b822e939,fix_dsvm_lvm_centos,,,0,0
openstack%2Fneutron~stable%2Ftrain~I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48,openstack/neutron,stable/train,I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48,fixed_configured=True when Add/Remove port IPs,MERGED,2019-10-09 09:36:26.000000000,2019-10-10 01:06:28.000000000,2019-10-10 01:04:49.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-09 09:36:26.000000000', 'files': ['releasenotes/notes/fix-update-port-fixed-ips-on-routed-provider-networks-c54a54844d9a3926.yaml', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a59bc98edd0b86705ee3c6b7098bbe242c583316', 'message': 'fixed_configured=True when Add/Remove port IPs\n\nWhen updating a port with the fixed_ips request the\nfixed_configured argument should be set to true when\ncalling _ipam_get_subnets() so that all subnets are\nreturned if host is not set.\n\nOtherwise the ip allocation will be deffered and an\nempty list of possible subnets for the port is\nreturned. Which in turn led to raising an error that\nthe network requires subnets to allocate an IP\naddress.\n\nCloses-Bug: #1844124\nChange-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48\n(cherry picked from commit def8e95aad1e4588c369d537ee66234245eefdf6)\n'}]",0,687515,a59bc98edd0b86705ee3c6b7098bbe242c583316,21,7,1,24245,,,0,"fixed_configured=True when Add/Remove port IPs

When updating a port with the fixed_ips request the
fixed_configured argument should be set to true when
calling _ipam_get_subnets() so that all subnets are
returned if host is not set.

Otherwise the ip allocation will be deffered and an
empty list of possible subnets for the port is
returned. Which in turn led to raising an error that
the network requires subnets to allocate an IP
address.

Closes-Bug: #1844124
Change-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48
(cherry picked from commit def8e95aad1e4588c369d537ee66234245eefdf6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/687515/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-port-fixed-ips-on-routed-provider-networks-c54a54844d9a3926.yaml', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py']",4,a59bc98edd0b86705ee3c6b7098bbe242c583316,bug/1844124," def test_port_update_with_fixed_ips_ok_if_no_binding_host(self): """"""No binding host information is provided, subnets on segments"""""" # The IP is allocated since there is no binding host info any # subnet can be used for allocation. self.assertEqual(webob.exc.HTTPOk.code, response.status_int) def test_port_update_with_fixed_ips_fail_if_host_not_on_segment(self): """"""Binding information is provided, subnets on segments. Update to subnet on different segment fails. """""" network, segments, subnets = self._create_test_segments_with_subnets(2) # Setup host mappings self._setup_host_mappings([(segments[0]['segment']['id'], 'fakehost')]) # Create a port and validate immediate ip allocation res = self._create_port_and_show(network, arg_list=(portbindings.HOST_ID,), **{portbindings.HOST_ID: 'fakehost'}) self._validate_immediate_ip_allocation(res['port']['id']) # Try requesting an new IP, but the subnet does not match host segment port_id = res['port']['id'] data = {'port': { 'fixed_ips': [{'subnet_id': subnets[1]['subnet']['id']}]}} port_req = self.new_update_request('ports', data, port_id) response = port_req.get_response(self.api) # Port update fails."," def test_port_update_excludes_hosts_on_segments(self): """"""No binding information is provided, subnets on segments"""""" # Gets bad request because there are no eligible subnets.",39,6
openstack%2Fneutron~stable%2Fqueens~I016ef3d7ccbb89b68d4a3d509162b3046a9c2f98,openstack/neutron,stable/queens,I016ef3d7ccbb89b68d4a3d509162b3046a9c2f98,Increase number of retries in _process_trunk_subport_bindings,MERGED,2019-08-29 08:33:22.000000000,2019-10-09 23:38:40.000000000,2019-10-09 23:38:40.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24797}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-08-29 08:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c67d98e6b7b4a7ea13f400bbb512fcc2a0189d93', 'message': 'Increase number of retries in _process_trunk_subport_bindings\n\nIn patch [1] as partial fix for bug 1828375 retries mechanism\nwas proposed.\nWe noticed that sometimes in have loaded environments 3 retries\ndefined in [1] can be not enough.\nSo this patch switches to use neutron_lib.db.api.MAX_RETRIES constant\nas number of retries when processing trunk subport bindings.\nThis MAX_RETRIES constant is set to 20 and in our cases it ""fixed""\nproblem.\n\n[1] https://review.opendev.org/#/c/662236/\n\nChange-Id: I016ef3d7ccbb89b68d4a3d509162b3046a9c2f98\nRelated-Bug: #1828375\n(cherry picked from commit d1f8888843c53c1c4b95c2fd22b2b6ee97feb238)\n'}, {'number': 2, 'created': '2019-08-30 19:37:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2875dbef63c27ca1512e656de5801759d3fb4ad', 'message': 'Increase number of retries in _process_trunk_subport_bindings\n\nIn patch [1] as partial fix for bug 1828375 retries mechanism\nwas proposed.\nWe noticed that sometimes in have loaded environments 3 retries\ndefined in [1] can be not enough.\nSo this patch switches to use neutron_lib.db.api.MAX_RETRIES constant\nas number of retries when processing trunk subport bindings.\nThis MAX_RETRIES constant is set to 20 and in our cases it ""fixed""\nproblem.\n\n[1] https://review.opendev.org/#/c/662236/\n\nChange-Id: I016ef3d7ccbb89b68d4a3d509162b3046a9c2f98\nRelated-Bug: #1828375\n(cherry picked from commit d1f8888843c53c1c4b95c2fd22b2b6ee97feb238)\n'}, {'number': 3, 'created': '2019-09-03 11:12:16.000000000', 'files': ['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8167fb944ecc9d75b731c166b7fd4cf1bb97608c', 'message': 'Increase number of retries in _process_trunk_subport_bindings\n\nIn patch [1] as partial fix for bug 1828375 retries mechanism\nwas proposed.\nWe noticed that sometimes in have loaded environments 3 retries\ndefined in [1] can be not enough.\nSo this patch switches to use neutron_lib.db.api.MAX_RETRIES constant\nas number of retries when processing trunk subport bindings.\nThis MAX_RETRIES constant is set to 20 and in our cases it ""fixed""\nproblem.\n\n[1] https://review.opendev.org/#/c/662236/\n\nConflicts:\n    neutron/tests/unit/services/trunk/rpc/test_server.py\n\nChange-Id: I016ef3d7ccbb89b68d4a3d509162b3046a9c2f98\nRelated-Bug: #1828375\n(cherry picked from commit d1f8888843c53c1c4b95c2fd22b2b6ee97feb238)\n'}]",0,679200,8167fb944ecc9d75b731c166b7fd4cf1bb97608c,29,10,3,11975,,,0,"Increase number of retries in _process_trunk_subport_bindings

In patch [1] as partial fix for bug 1828375 retries mechanism
was proposed.
We noticed that sometimes in have loaded environments 3 retries
defined in [1] can be not enough.
So this patch switches to use neutron_lib.db.api.MAX_RETRIES constant
as number of retries when processing trunk subport bindings.
This MAX_RETRIES constant is set to 20 and in our cases it ""fixed""
problem.

[1] https://review.opendev.org/#/c/662236/

Conflicts:
    neutron/tests/unit/services/trunk/rpc/test_server.py

Change-Id: I016ef3d7ccbb89b68d4a3d509162b3046a9c2f98
Related-Bug: #1828375
(cherry picked from commit d1f8888843c53c1c4b95c2fd22b2b6ee97feb238)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/679200/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/rpc/server.py', 'neutron/tests/unit/services/trunk/rpc/test_server.py']",2,c67d98e6b7b4a7ea13f400bbb512fcc2a0189d93,bug/1828375-stable/stein-stable/rocky-stable/queens,"from neutron_lib.db import api as db_api self.assertEqual( db_api.MAX_RETRIES, mock_trunk_obj.update.call_count)"," self.assertEqual(3, mock_trunk_obj.update.call_count)",6,4
openstack%2Fpuppet-glare~master~I9b27081d37e90c6b3107267ff89be2347797a8fe,openstack/puppet-glare,master,I9b27081d37e90c6b3107267ff89be2347797a8fe,Switch to Train,ABANDONED,2019-10-09 23:04:27.000000000,2019-10-09 23:32:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-09 23:04:27.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-glare/commit/a53c292b214effbd896e2611792d40e35d163c7c', 'message': 'Switch to Train\n\nChange-Id: I9b27081d37e90c6b3107267ff89be2347797a8fe\n'}]",0,687706,a53c292b214effbd896e2611792d40e35d163c7c,3,1,1,16137,,,0,"Switch to Train

Change-Id: I9b27081d37e90c6b3107267ff89be2347797a8fe
",git fetch https://review.opendev.org/openstack/puppet-glare refs/changes/06/687706/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,a53c292b214effbd896e2611792d40e35d163c7c,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-heat~master~I862ab7e6cf82c89768da87e54d1fa8a3e8dd339c,openstack/puppet-heat,master,I862ab7e6cf82c89768da87e54d1fa8a3e8dd339c,Switch to Train,ABANDONED,2019-10-09 23:05:34.000000000,2019-10-09 23:32:33.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:05:34.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/4a8db1b3c3589d0bb3e2a60acb32ae9508cd09ca', 'message': 'Switch to Train\n\nChange-Id: I862ab7e6cf82c89768da87e54d1fa8a3e8dd339c\n'}]",0,687708,4a8db1b3c3589d0bb3e2a60acb32ae9508cd09ca,2,0,1,16137,,,0,"Switch to Train

Change-Id: I862ab7e6cf82c89768da87e54d1fa8a3e8dd339c
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/08/687708/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,4a8db1b3c3589d0bb3e2a60acb32ae9508cd09ca,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-ironic~master~I2f944490ebc553c0286e0b7e895fdce323d4f97e,openstack/puppet-ironic,master,I2f944490ebc553c0286e0b7e895fdce323d4f97e,Switch to Train,ABANDONED,2019-10-09 23:06:33.000000000,2019-10-09 23:32:30.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:06:33.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/31ae709077f758544a67eb5aa04ce94d5bc9cb18', 'message': 'Switch to Train\n\nChange-Id: I2f944490ebc553c0286e0b7e895fdce323d4f97e\n'}]",0,687710,31ae709077f758544a67eb5aa04ce94d5bc9cb18,2,0,1,16137,,,0,"Switch to Train

Change-Id: I2f944490ebc553c0286e0b7e895fdce323d4f97e
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/10/687710/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,31ae709077f758544a67eb5aa04ce94d5bc9cb18,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-monasca~master~I32c9c71931aa93a309f955b4361949a66892f8db,openstack/puppet-monasca,master,I32c9c71931aa93a309f955b4361949a66892f8db,Switch to Train,ABANDONED,2019-10-09 23:09:13.000000000,2019-10-09 23:31:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-10-09 23:09:13.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-monasca/commit/a770cc9590c94d80c5e3bb14e882e88c65cacea4', 'message': 'Switch to Train\n\nChange-Id: I32c9c71931aa93a309f955b4361949a66892f8db\n'}]",0,687715,a770cc9590c94d80c5e3bb14e882e88c65cacea4,3,1,1,16137,,,0,"Switch to Train

Change-Id: I32c9c71931aa93a309f955b4361949a66892f8db
",git fetch https://review.opendev.org/openstack/puppet-monasca refs/changes/15/687715/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,a770cc9590c94d80c5e3bb14e882e88c65cacea4,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-openstack_extras~master~Id7e71ac2a0ca6da45ff534ad206e6be0dea1cba2,openstack/puppet-openstack_extras,master,Id7e71ac2a0ca6da45ff534ad206e6be0dea1cba2,Switch to Train,ABANDONED,2019-10-09 23:11:53.000000000,2019-10-09 23:31:26.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:11:53.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/5b735ffcdd89e8c8c7438cdcc620a6743ef6eb3e', 'message': 'Switch to Train\n\nChange-Id: Id7e71ac2a0ca6da45ff534ad206e6be0dea1cba2\n'}]",0,687720,5b735ffcdd89e8c8c7438cdcc620a6743ef6eb3e,2,0,1,16137,,,0,"Switch to Train

Change-Id: Id7e71ac2a0ca6da45ff534ad206e6be0dea1cba2
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/20/687720/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,5b735ffcdd89e8c8c7438cdcc620a6743ef6eb3e,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-ovn~master~I538629449796589aa87dba82c2471077a5d9f0f3,openstack/puppet-ovn,master,I538629449796589aa87dba82c2471077a5d9f0f3,Switch to Train,ABANDONED,2019-10-09 23:13:27.000000000,2019-10-09 23:29:20.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:13:27.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/ef44ba817c44440cb1b6c91ee9ca83090e80f46c', 'message': 'Switch to Train\n\nChange-Id: I538629449796589aa87dba82c2471077a5d9f0f3\n'}]",0,687723,ef44ba817c44440cb1b6c91ee9ca83090e80f46c,2,0,1,16137,,,0,"Switch to Train

Change-Id: I538629449796589aa87dba82c2471077a5d9f0f3
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/23/687723/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,ef44ba817c44440cb1b6c91ee9ca83090e80f46c,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-ovn~master~I73f14ac69a41429d995df36dd382a7b8a52a118a,openstack/puppet-ovn,master,I73f14ac69a41429d995df36dd382a7b8a52a118a,Switch to Train,ABANDONED,2019-10-09 23:28:30.000000000,2019-10-09 23:29:15.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:28:30.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/5ee6b593729c91495ff9e87c3181c3266ae324a6', 'message': 'Switch to Train\n\nChange-Id: I73f14ac69a41429d995df36dd382a7b8a52a118a\n'}]",0,687744,5ee6b593729c91495ff9e87c3181c3266ae324a6,2,0,1,16137,,,0,"Switch to Train

Change-Id: I73f14ac69a41429d995df36dd382a7b8a52a118a
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/44/687744/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,5ee6b593729c91495ff9e87c3181c3266ae324a6,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-sahara~master~I25f83ff32d1940d114ecdde2cb7a7f8074e20046,openstack/puppet-sahara,master,I25f83ff32d1940d114ecdde2cb7a7f8074e20046,Switch to Train,ABANDONED,2019-10-09 23:15:59.000000000,2019-10-09 23:28:00.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:15:59.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/5d28f538811ca01482dca24e547cae427b062bb6', 'message': 'Switch to Train\n\nChange-Id: I25f83ff32d1940d114ecdde2cb7a7f8074e20046\n'}]",0,687728,5d28f538811ca01482dca24e547cae427b062bb6,2,0,1,16137,,,0,"Switch to Train

Change-Id: I25f83ff32d1940d114ecdde2cb7a7f8074e20046
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/28/687728/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,5d28f538811ca01482dca24e547cae427b062bb6,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-rally~master~I5e82f0c2a668b48a427e52b931c5dbcc609dd9da,openstack/puppet-rally,master,I5e82f0c2a668b48a427e52b931c5dbcc609dd9da,Switch to Train,ABANDONED,2019-10-09 23:15:32.000000000,2019-10-09 23:27:57.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:15:32.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/8f00b41201ca219b86c728fd4e00b40c84a7e5c2', 'message': 'Switch to Train\n\nChange-Id: I5e82f0c2a668b48a427e52b931c5dbcc609dd9da\n'}]",0,687727,8f00b41201ca219b86c728fd4e00b40c84a7e5c2,2,0,1,16137,,,0,"Switch to Train

Change-Id: I5e82f0c2a668b48a427e52b931c5dbcc609dd9da
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/27/687727/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,8f00b41201ca219b86c728fd4e00b40c84a7e5c2,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-qdr~master~Ia17a11cf6ae94b0067ecabaf72506df08fa338a3,openstack/puppet-qdr,master,Ia17a11cf6ae94b0067ecabaf72506df08fa338a3,Switch to Train,ABANDONED,2019-10-09 23:15:05.000000000,2019-10-09 23:27:52.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:15:05.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/07f1f3362cc85c75bc70fe235af88931f656c136', 'message': 'Switch to Train\n\nChange-Id: Ia17a11cf6ae94b0067ecabaf72506df08fa338a3\n'}]",0,687726,07f1f3362cc85c75bc70fe235af88931f656c136,2,0,1,16137,,,0,"Switch to Train

Change-Id: Ia17a11cf6ae94b0067ecabaf72506df08fa338a3
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/26/687726/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,07f1f3362cc85c75bc70fe235af88931f656c136,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-placement~master~I15c21584a0884de03f9fd68b3e3b8838f3d2c693,openstack/puppet-placement,master,I15c21584a0884de03f9fd68b3e3b8838f3d2c693,Switch to Train,ABANDONED,2019-10-09 23:14:34.000000000,2019-10-09 23:26:16.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:14:34.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/2cbff5b3a32f7563b4a23151f486f046bf2ad57e', 'message': 'Switch to Train\n\nChange-Id: I15c21584a0884de03f9fd68b3e3b8838f3d2c693\n'}]",0,687725,2cbff5b3a32f7563b4a23151f486f046bf2ad57e,2,0,1,16137,,,0,"Switch to Train

Change-Id: I15c21584a0884de03f9fd68b3e3b8838f3d2c693
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/25/687725/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,2cbff5b3a32f7563b4a23151f486f046bf2ad57e,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-senlin~master~I34ff3ea6ab69f32b9a18f9b9ccf9439e9b7999e2,openstack/puppet-senlin,master,I34ff3ea6ab69f32b9a18f9b9ccf9439e9b7999e2,Switch to Train,ABANDONED,2019-10-09 23:16:30.000000000,2019-10-09 23:25:39.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:16:30.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-senlin/commit/a6c35f9b01c7737e7e041129458fa5e51b4f550c', 'message': 'Switch to Train\n\nChange-Id: I34ff3ea6ab69f32b9a18f9b9ccf9439e9b7999e2\n'}]",0,687729,a6c35f9b01c7737e7e041129458fa5e51b4f550c,2,0,1,16137,,,0,"Switch to Train

Change-Id: I34ff3ea6ab69f32b9a18f9b9ccf9439e9b7999e2
",git fetch https://review.opendev.org/openstack/puppet-senlin refs/changes/29/687729/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,a6c35f9b01c7737e7e041129458fa5e51b4f550c,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpuppet-tempest~master~I871df2740d554b13e7505836ce7a3f5dbaf953cf,openstack/puppet-tempest,master,I871df2740d554b13e7505836ce7a3f5dbaf953cf,Switch to Train,ABANDONED,2019-10-09 23:18:00.000000000,2019-10-09 23:24:46.000000000,,[],"[{'number': 1, 'created': '2019-10-09 23:18:00.000000000', 'files': ['Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/bfaaf3faaaa46677acc4d245b7a9546ab85fbbdc', 'message': 'Switch to Train\n\nChange-Id: I871df2740d554b13e7505836ce7a3f5dbaf953cf\n'}]",0,687732,bfaaf3faaaa46677acc4d245b7a9546ab85fbbdc,2,0,1,16137,,,0,"Switch to Train

Change-Id: I871df2740d554b13e7505836ce7a3f5dbaf953cf
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/32/687732/1 && git format-patch -1 --stdout FETCH_HEAD,['Gemfile'],1,bfaaf3faaaa46677acc4d245b7a9546ab85fbbdc,stable/train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :branch => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",2,1
openstack%2Fpython-novaclient~master~I6baa6af8731252e3c4976db06f0ca9cdfcb5e2f1,openstack/python-novaclient,master,I6baa6af8731252e3c4976db06f0ca9cdfcb5e2f1,Clarify --migration-type migration value as cold migration,MERGED,2019-08-26 15:28:25.000000000,2019-10-09 22:55:24.000000000,2019-10-09 22:54:21.000000000,"[{'_account_id': 679}, {'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-08-26 15:28:25.000000000', 'files': ['novaclient/v2/shell.py', 'novaclient/v2/migrations.py', 'doc/source/cli/nova.rst'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/96dcf13f46ff66a68ac5b93b88f21f57ef709bbf', 'message': 'Clarify --migration-type migration value as cold migration\n\nThis is a follow up to a review discussion [1] where the\n""migration"" value for the --migration-type option is for\na cold migration. This change just updates docs and help\nstrings.\n\nAn alternative is changing ""migration"" as a valid value to\n""cold-migration"" (or accept both) and under the covers treat\n""cold-migration"" as ""migration"" for the actual API call.\n\n[1] https://review.opendev.org/#/c/675117/3/novaclient/v2/shell.py@5430\n\nRelated to blueprint more-migration-list-filters\n\nChange-Id: I6baa6af8731252e3c4976db06f0ca9cdfcb5e2f1\n'}]",5,678593,96dcf13f46ff66a68ac5b93b88f21f57ef709bbf,19,7,1,6873,,,0,"Clarify --migration-type migration value as cold migration

This is a follow up to a review discussion [1] where the
""migration"" value for the --migration-type option is for
a cold migration. This change just updates docs and help
strings.

An alternative is changing ""migration"" as a valid value to
""cold-migration"" (or accept both) and under the covers treat
""cold-migration"" as ""migration"" for the actual API call.

[1] https://review.opendev.org/#/c/675117/3/novaclient/v2/shell.py@5430

Related to blueprint more-migration-list-filters

Change-Id: I6baa6af8731252e3c4976db06f0ca9cdfcb5e2f1
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/93/678593/1 && git format-patch -1 --stdout FETCH_HEAD,"['novaclient/v2/shell.py', 'doc/source/cli/nova.rst', 'novaclient/v2/migrations.py']",3,96dcf13f46ff66a68ac5b93b88f21f57ef709bbf,bp/more-migration-list-filters," evacuation, live-migration, migration (cold), resize evacuation, live-migration, migration (cold), resize evacuation, live-migration, migration (cold), resize"," evacuation, live-migration, migration, resize evacuation, live-migration, migration, resize evacuation, live-migration, migration, resize",9,6
openstack%2Fpuppet-openstack-integration~master~I0ca330527fa2aaadb1ba91a763b9588348a225e5,openstack/puppet-openstack-integration,master,I0ca330527fa2aaadb1ba91a763b9588348a225e5,Switch to Train,ABANDONED,2019-10-09 22:52:02.000000000,2019-10-09 22:53:32.000000000,,[],"[{'number': 1, 'created': '2019-10-09 22:52:02.000000000', 'files': ['Puppetfile', 'Gemfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e86f67105af9bca831741225b75a491015c8be30', 'message': 'Switch to Train\n\nChange-Id: I0ca330527fa2aaadb1ba91a763b9588348a225e5\n'}]",0,687694,e86f67105af9bca831741225b75a491015c8be30,2,0,1,16137,,,0,"Switch to Train

Change-Id: I0ca330527fa2aaadb1ba91a763b9588348a225e5
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/94/687694/1 && git format-patch -1 --stdout FETCH_HEAD,"['Puppetfile', 'Gemfile']",2,e86f67105af9bca831741225b75a491015c8be30,train," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper', :ref => 'stable/train',"," :git => 'https://opendev.org/openstack/puppet-openstack_spec_helper',",39,38
openstack%2Fnova~master~I8403a841f21a624a546ae5f26bb9ba19318ece6a,openstack/nova,master,I8403a841f21a624a546ae5f26bb9ba19318ece6a,Remove @safe_connect from _delete_provider,MERGED,2019-07-19 21:23:05.000000000,2019-10-09 22:51:46.000000000,2019-10-09 22:49:12.000000000,"[{'_account_id': 6167}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}]","[{'number': 1, 'created': '2019-07-19 21:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e7d8d2da8442d2aa85aaccfb942ef4c0b361d8b4', 'message': 'Remove @safe_connect from _delete_provider\n\nThis commit removes the @safe_connect decorator from\nSchedulerReportClient._delete_provider and makes its callers deal with\nresulting keystoneauth1.exceptions.ClientExceptionZ sanely:\n\n- ServiceController.delete (via delete_resource_provider) logs an error\n  and continues (backward compatible behavior, best effort to delete\n  each provider).\n- ComputeManager.update_available_resource (ditto) ditto (ditto).\n- SchedulerReportClient.update_from_provider_tree raises the exception\n  through, per the contract described in the catch_all internal helper.\n\nChange-Id: I8403a841f21a624a546ae5f26bb9ba19318ece6a\n'}, {'number': 2, 'created': '2019-07-19 21:41:11.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/test_report_client.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9981d06b4cd0e7af9cc819e0556b507ea34171c3', 'message': 'Remove @safe_connect from _delete_provider\n\nThis commit removes the @safe_connect decorator from\nSchedulerReportClient._delete_provider and makes its callers deal with\nresulting keystoneauth1.exceptions.ClientExceptionZ sanely:\n\n- ServiceController.delete (via delete_resource_provider) logs an error\n  and continues (backward compatible behavior, best effort to delete\n  each provider).\n- ComputeManager.update_available_resource (ditto) ditto (ditto).\n- SchedulerReportClient.update_from_provider_tree raises the exception\n  through, per the contract described in the catch_all internal helper.\n\nChange-Id: I8403a841f21a624a546ae5f26bb9ba19318ece6a\n'}]",7,671866,9981d06b4cd0e7af9cc819e0556b507ea34171c3,19,11,2,14070,,,0,"Remove @safe_connect from _delete_provider

This commit removes the @safe_connect decorator from
SchedulerReportClient._delete_provider and makes its callers deal with
resulting keystoneauth1.exceptions.ClientExceptionZ sanely:

- ServiceController.delete (via delete_resource_provider) logs an error
  and continues (backward compatible behavior, best effort to delete
  each provider).
- ComputeManager.update_available_resource (ditto) ditto (ditto).
- SchedulerReportClient.update_from_provider_tree raises the exception
  through, per the contract described in the catch_all internal helper.

Change-Id: I8403a841f21a624a546ae5f26bb9ba19318ece6a
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/671866/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_services.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/functional/test_report_client.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/api/openstack/compute/services.py', 'nova/compute/manager.py']",7,e7d8d2da8442d2aa85aaccfb942ef4c0b361d8b4,die-safe_connect-die," # along with any associated allocations. try: self.reportclient.delete_resource_provider(context, cn, cascade=True) except keystone_exception.ClientException as e: LOG.error( ""Failed to delete compute node resource provider "" ""for compute node %s: %s"", cn.uuid, six.text_type(e))"," # along with any associated allocations and inventory. self.reportclient.delete_resource_provider(context, cn, cascade=True)",72,12
openstack%2Fkeystone~master~Ia870a4353b8c6b0725615e65bd1c32745c9975b3,openstack/keystone,master,Ia870a4353b8c6b0725615e65bd1c32745c9975b3,Overhaul the RBAC documentation for administrators,MERGED,2019-10-04 19:43:45.000000000,2019-10-09 22:51:37.000000000,2019-10-09 22:49:35.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 19:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/84901fc74f0001df08902496136f68a06f9af8e9', 'message': ""Overhaul the RBAC documentation for administrators\n\nThe administrator guide has a section dedicated to RBAC and policy.\nThis guide doesn't include any information about the work we've been\ndoing since Pike to evolve keystone's default policies.\n\nThis commit updates the documentation to describe what comes with\nkeystone RBAC out-of-the-box for operators. It also reduces the amount\nof documentation that was duplicated with what oslo.policy already has\nwritten down.\n\nChange-Id: Ia870a4353b8c6b0725615e65bd1c32745c9975b3\n""}, {'number': 2, 'created': '2019-10-09 18:16:28.000000000', 'files': ['doc/source/admin/service-api-protection.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9d949e4946544ed84c1e3b72c3d8ada820e1a7e0', 'message': ""Overhaul the RBAC documentation for administrators\n\nThe administrator guide has a section dedicated to RBAC and policy.\nThis guide doesn't include any information about the work we've been\ndoing since Pike to evolve keystone's default policies.\n\nThis commit updates the documentation to describe what comes with\nkeystone RBAC out-of-the-box for operators. It also reduces the amount\nof documentation that was duplicated with what oslo.policy already has\nwritten down.\n\nChange-Id: Ia870a4353b8c6b0725615e65bd1c32745c9975b3\n""}]",8,686828,9d949e4946544ed84c1e3b72c3d8ada820e1a7e0,16,5,2,5046,,,0,"Overhaul the RBAC documentation for administrators

The administrator guide has a section dedicated to RBAC and policy.
This guide doesn't include any information about the work we've been
doing since Pike to evolve keystone's default policies.

This commit updates the documentation to describe what comes with
keystone RBAC out-of-the-box for operators. It also reduces the amount
of documentation that was duplicated with what oslo.policy already has
written down.

Change-Id: Ia870a4353b8c6b0725615e65bd1c32745c9975b3
",git fetch https://review.opendev.org/openstack/keystone refs/changes/28/686828/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/service-api-protection.rst'],1,84901fc74f0001df08902496136f68a06f9af8e9,,"============= Default Roles ============= ------ Primer ------ Like most OpenStack services, keystone protects its API using role-based access control (RBAC). Users can access different APIs depending on the roles they have on a project, domain, or system. As of the Rocky release, keystone provides three roles called ``admin``, ``member``, and ``reader`` by default. Operators can grant these roles to any actor (e.g., group or user) on any target (e.g., system, domain, or project). If you need a refresher on authorization scopes and token types, please refer to the `token guide`_. The following sections describe how each default role behaves with keystone's API across different scopes. Default roles and behaviors across scopes allow operators to delegate more functionality to their team, auditors, customers, and users without maintaining custom policies. .. _`token guide`: https://docs.openstack.org/keystone/latest/admin/tokens-overview.html#authorization-scopes ----------------- Roles Definitions ----------------- The default roles imply one another. The ``admin`` role implies the ``member`` role, and the ``member`` role implies the ``reader`` role. This implication means users with the ``admin`` role automatically have the ``member`` and ``reader`` roles. Additionally, users with the ``member`` role automatically have the ``reader`` role. Implying roles reduces role assignments and forms a natural hierarchy between the default roles. It also reduces the complexity of default policies by making check strings short. For example, a policy that requires ``reader`` can be expressed as: ""identity:list_foo"": ""role:reader"" Instead of: .. code-block:: yaml ""identity:list_foo"": ""role:admin or role:member or role:reader"" Reader ====== The ``reader`` role provides read-only access to resources within the system, a domain, or a project. Depending on the assignment scope, two users with the ``reader`` role can expect different API behaviors. For example, a user with the ``reader`` role on the system can list all projects within the deployment. A user with the ``reader`` role on a domain can only list projects within their domain. By analyzing the scope of a role assignment, we increase the re-usability of the ``reader`` role and provide greater functionality without introducing more roles. For example, to accomplish this without analyzing assignment scope, you would need ``system-reader``, ``domain-reader``, and ``project-reader`` roles in addition to custom policies for each service. Member ====== Within keystone, there isn't a distinct advantage to having the ``member`` role instead of the ``reader`` role. The ``member`` role is more applicable to other services. The ``member`` role works nicely for introducing granularity between ``admin`` and ``reader`` roles. Other services might write default policies that require the ``member`` role to create resources, but the ``admin`` role to delete them. For example, users with ``reader`` on a project could list instance, users with ``member`` on a project can list and create instances, and users with ``admin`` on a project can list, create, and delete instances. Service developers can use the ``member`` role to provide more flexibility between ``admin`` and ``reader`` on different scopes. Admin ===== We reserve the ``admin`` role for the most privileged operations within a given scope. It is important to note that having ``admin`` on a project, domain, or the system carries separate authorization and are not transitive. For example, users with ``admin`` on the system should be able to manage every aspect of the deployment because they're operators. Users with ``admin`` on a project shouldn't be able to manage things outside the project because it would violate the tenancy of their role assignment. .. note:: As of the Train release, keystone applies the following personas consistently across its API. --------------------- System Administrators --------------------- *System administrators* are allowed to manage every resource in keystone. System administrators are typically operators and cloud administrators. They can control resources that ultimately affect the behavior of the deployment. For example, they can add or remove services and endpoints in the catalog, create new domains, add federated mappings, and clean up stale resources, like a user's application credentials or trusts. You can find *system administrators* in your deployment with the following assignments: .. code-block:: console $ openstack role assignment list --names --system all +-------+------------------+-----------------------+---------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +-------+------------------+-----------------------+---------+--------+--------+-----------+ | admin | | system-admins@Default | | | all | False | | admin | admin@Default | | | | all | False | | admin | operator@Default | | | | all | False | +-------+------------------+-----------------------+---------+--------+--------+-----------+ ------------------------------- System Members & System Readers ------------------------------- *System members* and *system readers* are very similar and have the same authorization. Users with these roles on the system can view all resources within keystone. They can audit role assignments, users, projects, and group memberships, among other resources. The *system reader* persona is useful for auditors or members of a support team. You can find *system members* and *system readers* in your deployment with the following assignments: .. code-block:: console $ openstack role assignment list --names --system all --role member +--------+------------------------+-------------------------+---------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +--------+------------------------+-------------------------+---------+--------+--------+-----------+ | reader | | system-auditors@Default | | | all | False | | admin | operator@Default | | | | all | False | | member | system-support@Default | | | | all | False | +--------+------------------------+-------------------------+---------+--------+--------+-----------+ --------------------- Domain Administrators --------------------- *Domain administrators* can manage most aspects of the domain or its contents. These users can create new projects and users within their domain. They can inspect the role assignments users have on projects within their domain. *Domain administrators* aren't allowed to access system-specific resources or resources outside their domain. Users that need control over project, group, and user creation are a great fit for *domain administrators*. You can find *domain administrators* in your deployment with the following role assignment: .. code-block:: console $ openstack role assignment list --names --domain foobar --role admin +-------+----------------+----------------------+---------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +-------+----------------+----------------------+---------+--------+--------+-----------+ | admin | jsmith@Default | | | foobar | | False | | admin | | foobar-admins@foobar | | foobar | | False | +-------+----------------+----------------------+---------+--------+--------+-----------+ ------------------------------- Domain Members & Domain Readers ------------------------------- Domain members and domain readers have the same relationship as system members and system readers. They're allowed to view resources and information about their domain. They aren't allowed to access system-specific information or information about projects, groups, and users outside their domain. The domain member and domain reader use-cases are great for auditing, support, or monitoring the details of an account. You can find domain members and domain readers with the following role assignments: .. code-block:: console $ openstack role assignment list --names --role member --domain foobar +--------+-------------+-------+---------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +--------+-------------+-------+---------+--------+--------+-----------+ | member | jdoe@foobar | | | foobar | | False | +--------+-------------+-------+---------+--------+--------+-----------+ $ openstack role assignment list --names --role reader --domain foobar +--------+-----------------+-------+---------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +--------+-----------------+-------+---------+--------+--------+-----------+ | reader | auditor@Default | | | foobar | | False | +--------+-----------------+-------+---------+--------+--------+-----------+ ---------------------- Project Administrators ---------------------- *Project administrators* can only view and modify data within the project in their role assignment. They're able to view information about their projects and set tags on their projects. They're not allowed to view system or domain resources, as that would violate the tenancy of their role assignment. Since the majority of the resources in keystone's API are system and domain-specific, *project administrators* don't have much authorization. You can find *project administrators* in your deployment with the following role assignment: .. code-block:: console $ openstack role assignment list --names --project production --role admin +-------+----------------+--------------------------+-------------------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +-------+----------------+--------------------------+-------------------+--------+--------+-----------+ | admin | jsmith@Default | | production@foobar | | | False | | admin | | production-admins@foobar | production@foobar | | | False | +-------+----------------+--------------------------+-------------------+--------+--------+-----------+ --------------------------------- Project Members & Project Readers --------------------------------- *Project members* and *project readers* can discover information about their projects. They can access important information like resource limits for their project, but they're not allowed to view information outside their project or view system-specific information. You can find *project members* and *project readers* in your deployment with the following role assignments: .. code-block:: console $ openstack role assignment list --names --project production --role member +--------+------+--------------------------+-------------------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +--------+------+--------------------------+-------------------+--------+--------+-----------+ | member | | foobar-operators@Default | production@foobar | | | False | +--------+------+--------------------------+-------------------+--------+--------+-----------+ $ openstack role assignment list --names --project production --role reader +--------+-----------------+----------------------------+-------------------+--------+--------+-----------+ | Role | User | Group | Project | Domain | System | Inherited | +--------+-----------------+----------------------------+-------------------+--------+--------+-----------+ | reader | auditor@Default | | production@foobar | | | False | | reader | | production-support@Default | production@foobar | | | False | +--------+-----------------+----------------------------+-------------------+--------+--------+-----------+ ---------------- Writing Policies ---------------- If the granularity provided above doesn't meet your specific use-case, you can still override policies and maintain them manually. You can read more about how to do that in oslo.policy usage `documentation`_. .. _`documentation`: https://docs.openstack.org/oslo.policy/latest/admin/index.html","============================================================= Identity API protection with role-based access control (RBAC) ============================================================= Like most OpenStack projects, Identity supports the protection of its APIs by defining policy rules based on an RBAC approach. Identity stores a reference to a policy JSON file in the main Identity configuration file, ``/etc/keystone/keystone.conf``. Typically this file is named ``policy.json``, and contains the rules for which roles have access to certain actions in defined services. Each Identity API v3 call has a line in the policy file that dictates which level of governance of access applies. .. code-block:: none API_NAME: RULE_STATEMENT or MATCH_STATEMENT Where: ``RULE_STATEMENT`` can contain ``RULE_STATEMENT`` or ``MATCH_STATEMENT``. ``MATCH_STATEMENT`` is a set of identifiers that must match between the token provided by the caller of the API and the parameters or target entities of the API call in question. For example: .. code-block:: none ""identity:create_user"": ""role:admin and domain_id:%(user.domain_id)s"" Indicates that to create a user, you must have the admin role in your token. The ``domain_id`` in your token must match the ``domain_id`` in the user object that you are trying to create, which implies this must be a domain-scoped token. In other words, you must have the admin role on the domain in which you are creating the user, and the token that you use must be scoped to that domain. Each component of a match statement uses this format: .. code-block:: none ATTRIB_FROM_TOKEN:CONSTANT or ATTRIB_RELATED_TO_API_CALL The Identity service expects these attributes: Attributes from token: - ``user_id`` - ``domain_id`` - ``project_id`` The ``project_id`` attribute requirement depends on the scope, and the list of roles you have within that scope. Attributes related to API call: - ``user.domain_id`` - Any parameters passed into the API call - Any filters specified in the query string You reference attributes of objects passed with an object.attribute syntax (such as, ``user.domain_id``). The target objects of an API are also available using a target.object.attribute syntax. For instance: .. code-block:: none ""identity:delete_user"": ""role:admin and domain_id:%(target.user.domain_id)s"" would ensure that Identity only deletes the user object in the same domain as the provided token. Every target object has an ``id`` and a ``name`` available as ``target.OBJECT.id`` and ``target.OBJECT.name``. Identity retrieves other attributes from the database, and the attributes vary between object types. The Identity service filters out some database fields, such as user passwords. List of object attributes: role: target.role.id target.role.name user: target.user.default_project_id target.user.description target.user.domain_id target.user.enabled target.user.id target.user.name group: target.group.description target.group.domain_id target.group.id target.group.name domain: target.domain.enabled target.domain.id target.domain.name project: target.project.description target.project.domain_id target.project.enabled target.project.id target.project.name The default ``policy.json`` file supplied provides a somewhat basic example of API protection, and does not assume any particular use of domains. Refer to ``policy.v3cloudsample.json`` as an example of multi-domain configuration installations where a cloud provider wants to delegate administration of the contents of a domain to a particular ``admin domain``. This example policy file also shows the use of an ``admin_domain`` to allow a cloud provider to enable administrators to have wider access across the APIs. A clean installation could start with the standard policy file, to allow creation of the ``admin_domain`` with the first users within it. You could then obtain the ``domain_id`` of the admin domain, paste the ID into a modified version of ``policy.v3cloudsample.json``, and then enable it as the main ``policy file``.",244,111
openstack%2Fnova~master~I16c200ebf0a996865ddce5688434e9c9ad69e331,openstack/nova,master,I16c200ebf0a996865ddce5688434e9c9ad69e331,Avoid error state for recovered instances after failed migrations,MERGED,2019-08-26 07:52:31.000000000,2019-10-09 22:49:21.000000000,2019-10-09 22:49:20.000000000,"[{'_account_id': 6873}, {'_account_id': 8543}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-08-26 07:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0820e4443a946b7e8ee39092c833289b11802e8b', 'message': ""Avoid error state for recovered instances after failed migrations\n\nMost users expect that if a live migration fails but the instance\nis fully recovered, it shouldn't enter 'error' state. Setting\nthe migration status to 'error' should be enough. This simplifies\ndebugging, making it clear that the instance dosn't have to be\nmanually recovered.\n\nThis patch changed this behavior, indirectly affecting the Hyper-V\ndriver: Idfdce9e7dd8106af01db0358ada15737cb846395\n\nWe'll stop propagating exceptions when managing to recover the\ninstance, which matches the reference driver (libvirt) behavior.\n\nChange-Id: I16c200ebf0a996865ddce5688434e9c9ad69e331\nCloses-Bug: 1841411\n""}, {'number': 2, 'created': '2019-08-26 07:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/563c7fc6950a75d7b0d8441e61f5960def85842f', 'message': ""Avoid error state for recovered instances after failed migrations\n\nMost users expect that if a live migration fails but the instance\nis fully recovered, it shouldn't enter 'error' state. Setting\nthe migration status to 'error' should be enough. This simplifies\ndebugging, making it clear that the instance dosn't have to be\nmanually recovered.\n\nThis patch changed this behavior, indirectly affecting the Hyper-V\ndriver: Idfdce9e7dd8106af01db0358ada15737cb846395\n\nWe'll stop propagating exceptions when managing to recover the\ninstance, which matches the reference driver (libvirt) behavior.\n\nChange-Id: I16c200ebf0a996865ddce5688434e9c9ad69e331\nCloses-Bug: 1841411\n""}, {'number': 3, 'created': '2019-08-26 08:37:14.000000000', 'files': ['nova/tests/unit/virt/hyperv/test_livemigrationops.py', 'nova/virt/hyperv/livemigrationops.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/12b361f0b44f3d34899982b643482228044d3d86', 'message': ""Avoid error state for recovered instances after failed migrations\n\nMost users expect that if a live migration fails but the instance\nis fully recovered, it shouldn't enter 'error' state. Setting\nthe migration status to 'error' should be enough. This simplifies\ndebugging, making it clear that the instance dosn't have to be\nmanually recovered.\n\nThis patch changed this behavior, indirectly affecting the Hyper-V\ndriver: Idfdce9e7dd8106af01db0358ada15737cb846395\n\nWe'll stop propagating exceptions when managing to recover the\ninstance, which matches the reference driver (libvirt) behavior.\n\nChange-Id: I16c200ebf0a996865ddce5688434e9c9ad69e331\nCloses-Bug: 1841411\n""}]",8,678481,12b361f0b44f3d34899982b643482228044d3d86,19,12,3,8543,,,0,"Avoid error state for recovered instances after failed migrations

Most users expect that if a live migration fails but the instance
is fully recovered, it shouldn't enter 'error' state. Setting
the migration status to 'error' should be enough. This simplifies
debugging, making it clear that the instance dosn't have to be
manually recovered.

This patch changed this behavior, indirectly affecting the Hyper-V
driver: Idfdce9e7dd8106af01db0358ada15737cb846395

We'll stop propagating exceptions when managing to recover the
instance, which matches the reference driver (libvirt) behavior.

Change-Id: I16c200ebf0a996865ddce5688434e9c9ad69e331
Closes-Bug: 1841411
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/678481/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/hooks/post_test_hook.sh', 'nova/tests/unit/virt/hyperv/test_livemigrationops.py', 'nova/virt/hyperv/livemigrationops.py']",3,0820e4443a946b7e8ee39092c833289b11802e8b,bug/1841411," LOG.debug(""Calling live migration recover_method "" ""for instance: %s"", instance_name) recover_method(context, instance_ref, dest, migrate_data) return","from oslo_utils import excutils with excutils.save_and_reraise_exception(): LOG.debug(""Calling live migration recover_method "" ""for instance: %s"", instance_name) recover_method(context, instance_ref, dest, migrate_data)",12,17
openstack%2Fneutron~stable%2Focata~I3f7fc20a063757db78fa44c62312a9fcf96a3071,openstack/neutron,stable/ocata,I3f7fc20a063757db78fa44c62312a9fcf96a3071,[Unit tests] Skip TestWSGIServer with IPv6 if no IPv6 enabled,MERGED,2019-10-08 06:59:43.000000000,2019-10-09 22:49:17.000000000,2019-10-09 22:49:17.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-08 06:59:43.000000000', 'files': ['neutron/tests/unit/test_wsgi.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4b20444b357446952968d26a28370edc089ce0b', 'message': ""[Unit tests] Skip TestWSGIServer with IPv6 if no IPv6 enabled\n\nTest test_wsgi.TestWSGIServer.test_start_random_port_with_ipv6\nis trying to spawn server and bind it to local IPv6 address.\nIn case when this test is run on host with disabled support\nfor IPv6 it shouldn't fails but should be skipped.\n\nThis patch adds such skip if IPv6 is disabled on host.\n\nChange-Id: I3f7fc20a063757db78fa44c62312a9fcf96a3071\n(cherry picked from commit 6906c4017fb1df525fd5b6c7eefb88e5c8b67ceb)\n""}]",0,687218,d4b20444b357446952968d26a28370edc089ce0b,21,6,1,25290,,,0,"[Unit tests] Skip TestWSGIServer with IPv6 if no IPv6 enabled

Test test_wsgi.TestWSGIServer.test_start_random_port_with_ipv6
is trying to spawn server and bind it to local IPv6 address.
In case when this test is run on host with disabled support
for IPv6 it shouldn't fails but should be skipped.

This patch adds such skip if IPv6 is disabled on host.

Change-Id: I3f7fc20a063757db78fa44c62312a9fcf96a3071
(cherry picked from commit 6906c4017fb1df525fd5b6c7eefb88e5c8b67ceb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/687218/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/test_wsgi.py'],1,d4b20444b357446952968d26a28370edc089ce0b,skip-ut-if-not-ipv6-stable/ocata,"from neutron.common import ipv6_utils @testtools.skipIf( not ipv6_utils.is_enabled_and_bind_by_default(), 'IPv6 support disabled on host')",,4,0
openstack%2Ftripleo-common~stable%2Fstein~I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad,openstack/tripleo-common,stable/stein,I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad,Warn when looking up grandparent resource name,MERGED,2019-10-03 21:26:08.000000000,2019-10-09 22:45:00.000000000,2019-10-09 22:43:39.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-03 21:26:08.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/607753cdd4ad30c19af4f613a339df8ccf36ffda', 'message': ""Warn when looking up grandparent resource name\n\nWhen running config-download if the deployment name property was not set\non a deployment resource from a ResourceGroup, it will trigger the code\npath to lookup the grandparent resource name.\n\nThis codepath can be very slow depending on the number of nodes in the\nstack.\n\nThis patch adds a warning when this is happening so that it's clear that\nthe name property needs to be set on the deployment resource.\n\nChange-Id: I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad\n(cherry picked from commit 8532a397def413872ead645c2350d8b34ef52bc4)\n""}]",0,686500,607753cdd4ad30c19af4f613a339df8ccf36ffda,15,4,1,7144,,,0,"Warn when looking up grandparent resource name

When running config-download if the deployment name property was not set
on a deployment resource from a ResourceGroup, it will trigger the code
path to lookup the grandparent resource name.

This codepath can be very slow depending on the number of nodes in the
stack.

This patch adds a warning when this is happening so that it's clear that
the name property needs to be set on the deployment resource.

Change-Id: I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad
(cherry picked from commit 8532a397def413872ead645c2350d8b34ef52bc4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/686500/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,607753cdd4ad30c19af4f613a339df8ccf36ffda,," @patch('tripleo_common.utils.config.Config.get_deployment_data') def test_config_download_warn_grandparent_resource_name( self, mock_deployment_data, mock_deployment_resource_id, mock_git_init): heat = mock.MagicMock() self.config = ooo_config.Config(heat) stack = mock.MagicMock() heat.stacks.get.return_value = stack heat.resources.get.return_value = mock.MagicMock() deployment_data, _ = self._get_config_data('config_data.yaml') # Set the name of the deployment to an integer to trigger looking up # the grandparent resource name deployment_data[0].attributes['value']['name'] = 1 self.deployments = deployment_data mock_deployment_data.return_value = deployment_data mock_deployment_resource_id.side_effect = self._get_deployment_id self.tmp_dir = self.useFixture(fixtures.TempDir()).path with warnings.catch_warnings(record=True) as w: self.assertRaises(ValueError, self.config.download_config, stack, self.tmp_dir) self.assertGreaterEqual(len(w), 1) self.assertGreaterEqual(len([x for x in w if ""grandparent"" in str(x.message)]), 1) mock_git_init.assert_called_once_with(self.tmp_dir) @patch.object(ooo_config.Config, 'initialize_git_repo') @patch('tripleo_common.utils.config.Config.get_deployment_resource_id')",,39,0
openstack%2Ftripleo-common~stable%2Fqueens~I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad,openstack/tripleo-common,stable/queens,I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad,Warn when looking up grandparent resource name,MERGED,2019-10-03 21:33:53.000000000,2019-10-09 22:43:41.000000000,2019-10-09 22:43:41.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-03 21:33:53.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/05a4ccec76aabd5034c6c94cbafafaa8e0db89ba', 'message': ""Warn when looking up grandparent resource name\n\nWhen running config-download if the deployment name property was not set\non a deployment resource from a ResourceGroup, it will trigger the code\npath to lookup the grandparent resource name.\n\nThis codepath can be very slow depending on the number of nodes in the\nstack.\n\nThis patch adds a warning when this is happening so that it's clear that\nthe name property needs to be set on the deployment resource.\n\nChange-Id: I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad\n(cherry picked from commit 8532a397def413872ead645c2350d8b34ef52bc4)\n(cherry picked from commit af23433b2825982c575fe95330502c5abfee4913)\n""}]",0,686503,05a4ccec76aabd5034c6c94cbafafaa8e0db89ba,7,3,1,7144,,,0,"Warn when looking up grandparent resource name

When running config-download if the deployment name property was not set
on a deployment resource from a ResourceGroup, it will trigger the code
path to lookup the grandparent resource name.

This codepath can be very slow depending on the number of nodes in the
stack.

This patch adds a warning when this is happening so that it's clear that
the name property needs to be set on the deployment resource.

Change-Id: I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad
(cherry picked from commit 8532a397def413872ead645c2350d8b34ef52bc4)
(cherry picked from commit af23433b2825982c575fe95330502c5abfee4913)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/686503/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,05a4ccec76aabd5034c6c94cbafafaa8e0db89ba,," @patch('tripleo_common.utils.config.Config.get_deployment_data') def test_config_download_warn_grandparent_resource_name( self, mock_deployment_data): heat = mock.MagicMock() self.config = ooo_config.Config(heat) stack = mock.MagicMock() heat.stacks.get.return_value = stack heat.resources.get.return_value = mock.MagicMock() deployment_data, _ = self._get_config_data('config_data.yaml') # Set the name of the deployment to an integer to trigger looking up # the grandparent resource name deployment_data[0].attributes['value']['name'] = 1 self.deployments = deployment_data mock_deployment_data.return_value = deployment_data self.tmp_dir = self.useFixture(fixtures.TempDir()).path with warnings.catch_warnings(record=True) as w: self.assertRaises(ValueError, self.config.download_config, stack, self.tmp_dir) self.assertGreaterEqual(len(w), 1) self.assertGreaterEqual(len([x for x in w if ""grandparent"" in str(x.message)]), 1) ",,33,0
openstack%2Ftripleo-common~stable%2Frocky~I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad,openstack/tripleo-common,stable/rocky,I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad,Warn when looking up grandparent resource name,MERGED,2019-10-03 21:26:15.000000000,2019-10-09 22:43:40.000000000,2019-10-09 22:43:40.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-03 21:26:15.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/af23433b2825982c575fe95330502c5abfee4913', 'message': ""Warn when looking up grandparent resource name\n\nWhen running config-download if the deployment name property was not set\non a deployment resource from a ResourceGroup, it will trigger the code\npath to lookup the grandparent resource name.\n\nThis codepath can be very slow depending on the number of nodes in the\nstack.\n\nThis patch adds a warning when this is happening so that it's clear that\nthe name property needs to be set on the deployment resource.\n\nChange-Id: I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad\n(cherry picked from commit 8532a397def413872ead645c2350d8b34ef52bc4)\n""}]",0,686501,af23433b2825982c575fe95330502c5abfee4913,10,4,1,7144,,,0,"Warn when looking up grandparent resource name

When running config-download if the deployment name property was not set
on a deployment resource from a ResourceGroup, it will trigger the code
path to lookup the grandparent resource name.

This codepath can be very slow depending on the number of nodes in the
stack.

This patch adds a warning when this is happening so that it's clear that
the name property needs to be set on the deployment resource.

Change-Id: I2cf7acef0999e1c36d4baa8c793bdaa78bd441ad
(cherry picked from commit 8532a397def413872ead645c2350d8b34ef52bc4)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/686501/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,af23433b2825982c575fe95330502c5abfee4913,," @patch('tripleo_common.utils.config.Config.get_deployment_data') def test_config_download_warn_grandparent_resource_name( self, mock_deployment_data, mock_deployment_resource_id, mock_git_init): heat = mock.MagicMock() self.config = ooo_config.Config(heat) stack = mock.MagicMock() heat.stacks.get.return_value = stack heat.resources.get.return_value = mock.MagicMock() deployment_data, _ = self._get_config_data('config_data.yaml') # Set the name of the deployment to an integer to trigger looking up # the grandparent resource name deployment_data[0].attributes['value']['name'] = 1 self.deployments = deployment_data mock_deployment_data.return_value = deployment_data mock_deployment_resource_id.side_effect = self._get_deployment_id self.tmp_dir = self.useFixture(fixtures.TempDir()).path with warnings.catch_warnings(record=True) as w: self.assertRaises(ValueError, self.config.download_config, stack, self.tmp_dir) self.assertGreaterEqual(len(w), 1) self.assertGreaterEqual(len([x for x in w if ""grandparent"" in str(x.message)]), 1) mock_git_init.assert_called_once_with(self.tmp_dir) @patch.object(ooo_config.Config, 'initialize_git_repo') @patch('tripleo_common.utils.config.Config.get_deployment_resource_id')",,39,0
openstack%2Fnova~master~I007a75ad6743909028c3b23f614c693cee9e4a93,openstack/nova,master,I007a75ad6743909028c3b23f614c693cee9e4a93,Remove Rocky compute compat checks for live migration with port bindings,MERGED,2019-09-04 14:10:10.000000000,2019-10-09 22:28:24.000000000,2019-10-09 22:26:16.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-04 14:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85c07bcc5458095cde8ce9d98566026baebd9bfa', 'message': ""Remove Rocky compute compat checks for live migration with port bindings\n\nThe nova-compute RPC API version 35 was added in Rocky [1] to signal\ncomputes that can support live migration with the neutron port bindings\nextended API. The check in conductor was added in Rocky as well [2] to\nonly use port bindings when both the source and destination compute\nwere running at least version 35. Now that we're past supporting rolling\nupgrades from Rocky compute services we can remove that check in conductor.\n\n[1] I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n[2] Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n\nChange-Id: I007a75ad6743909028c3b23f614c693cee9e4a93\n""}, {'number': 2, 'created': '2019-10-04 19:11:11.000000000', 'files': ['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/07578e7c5553ca8fdf713b3ea24b7f2b8d6144ed', 'message': ""Remove Rocky compute compat checks for live migration with port bindings\n\nThe nova-compute RPC API version 35 was added in Rocky [1] to signal\ncomputes that can support live migration with the neutron port bindings\nextended API. The check in conductor was added in Rocky as well [2] to\nonly use port bindings when both the source and destination compute\nwere running at least version 35. Now that we're past supporting rolling\nupgrades from Rocky compute services we can remove that check in conductor.\n\n[1] I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9\n[2] Ie04ded7b0f4edbb98af92f2ce713cf712a83b383\n\nChange-Id: I007a75ad6743909028c3b23f614c693cee9e4a93\n""}]",1,680005,07578e7c5553ca8fdf713b3ea24b7f2b8d6144ed,35,17,2,6873,,,0,"Remove Rocky compute compat checks for live migration with port bindings

The nova-compute RPC API version 35 was added in Rocky [1] to signal
computes that can support live migration with the neutron port bindings
extended API. The check in conductor was added in Rocky as well [2] to
only use port bindings when both the source and destination compute
were running at least version 35. Now that we're past supporting rolling
upgrades from Rocky compute services we can remove that check in conductor.

[1] I1ba00850bdd7c015c5f462f1d75a5b833a5e9af9
[2] Ie04ded7b0f4edbb98af92f2ce713cf712a83b383

Change-Id: I007a75ad6743909028c3b23f614c693cee9e4a93
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/680005/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/conductor/tasks/live_migrate.py', 'nova/tests/unit/conductor/tasks/test_live_migrate.py']",2,85c07bcc5458095cde8ce9d98566026baebd9bfa,supports_extended_port_binding, def test_call_livem_checks_on_host_bind_ports(self):," @mock.patch('nova.conductor.tasks.live_migrate.' 'supports_extended_port_binding', return_value=True) def test_call_livem_checks_on_host_bind_ports(self, mock_supports_ext):",3,22
openstack%2Finstack-undercloud~stable%2Fqueens~I2c6759f750de335b81c6335da7be8e09375c981a,openstack/instack-undercloud,stable/queens,I2c6759f750de335b81c6335da7be8e09375c981a,Set option:mtu in inspector dnsmasq,MERGED,2019-10-08 16:07:27.000000000,2019-10-09 22:13:47.000000000,2019-10-09 22:13:46.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 16:07:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/f12c20154741407e0b9b9997e68cc785b368716b', 'message': ""Set option:mtu in inspector dnsmasq\n\nSet the mtu for all subnets in inspector dnsmasq\nconfig to value of 'local_mtu' in undercloud.conf.\n\nChange-Id: I2c6759f750de335b81c6335da7be8e09375c981a\nCloses-Bug: #1845487\nDepends-On: Ic95dbf1867fb5397f1b6d8f23466910a97051cb6\n(cherry picked from commit 0528a93587c5058a5cd9162932202b92dfb43422)\n""}, {'number': 2, 'created': '2019-10-08 20:28:04.000000000', 'files': ['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/70c4c33cf7efa1b800663f41d36b1b6cd24c5d08', 'message': ""Set option:mtu in inspector dnsmasq\n\nSet the mtu for all subnets in inspector dnsmasq\nconfig to value of 'local_mtu' in undercloud.conf.\n\nChange-Id: I2c6759f750de335b81c6335da7be8e09375c981a\nCloses-Bug: #1845487\nDepends-On: Ic95dbf1867fb5397f1b6d8f23466910a97051cb6\n(cherry picked from commit 0528a93587c5058a5cd9162932202b92dfb43422)\n""}]",0,687344,70c4c33cf7efa1b800663f41d36b1b6cd24c5d08,11,4,2,24245,,,0,"Set option:mtu in inspector dnsmasq

Set the mtu for all subnets in inspector dnsmasq
config to value of 'local_mtu' in undercloud.conf.

Change-Id: I2c6759f750de335b81c6335da7be8e09375c981a
Closes-Bug: #1845487
Depends-On: Ic95dbf1867fb5397f1b6d8f23466910a97051cb6
(cherry picked from commit 0528a93587c5058a5cd9162932202b92dfb43422)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/44/687344/1 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py']",2,f12c20154741407e0b9b9997e68cc785b368716b,bug/1845487," ""netmask"": ""255.255.255.0"", ""mtu"": 1500}] ""netmask"": ""255.255.255.0"", ""mtu"": 1500}, ""netmask"": ""255.255.255.0"", ""mtu"": 1500}]"," ""netmask"": ""255.255.255.0""}] ""netmask"": ""255.255.255.0""}, ""netmask"": ""255.255.255.0""}]",4,3
openstack%2Fmanila~master~Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f,openstack/manila,master,Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f,Remove backend spec from share type while creating replica,MERGED,2016-10-28 07:27:13.000000000,2019-10-09 22:09:10.000000000,2019-10-09 22:07:44.000000000,"[{'_account_id': 3}, {'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 10621}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 13144}, {'_account_id': 14384}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 15942}, {'_account_id': 16643}, {'_account_id': 17565}, {'_account_id': 17623}, {'_account_id': 18058}, {'_account_id': 18128}, {'_account_id': 18752}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22236}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 26968}, {'_account_id': 30002}]","[{'number': 1, 'created': '2016-10-28 07:27:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/206dbbf75062d3aaf206915d1cb6c2fd24d8a379', 'message': ""Remove backend spec from share type if replica exists on it\n\nIf a share created based on a share type, which includes the\nshare_backend_name spec, then while trying to create a replica\nfor this share, it'll fail due to scheduler cannot get an available\nbackend, because scheduler only can use the backend that\nshare_backend_name specified, but the backend already got a replica.\n\nThis patch removes the share_backend_name spec from share type\nif the given backend already has a replica, so the scheduler will\nfilter a available backend according to the selection policy.\n\nChange-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f\nCloses-Bug: #1634734\n""}, {'number': 2, 'created': '2016-11-04 08:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/45ce5f4a2e86d42016c264a0e5ef26390a93bd55', 'message': ""Remove backend spec from share type while creating replica\n\nIf a share created based on a share type, which includes the\nshare_backend_name spec, then while trying to create a replica\nfor this share, it'll fail due to scheduler cannot get an available\nbackend, because scheduler only can use the backend that\nshare_backend_name specified, but the backend already got a replica.\n\nThis patch removes the share_backend_name spec from share type\nwhile creating replica, so the scheduler will filter a available\nbackend according to the selection policy.\n\nChange-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f\nCloses-Bug: #1634734\n""}, {'number': 3, 'created': '2016-11-04 08:32:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/77a0ec85c45f0330e12d21e8500ef520a16d7842', 'message': ""Remove backend spec from share type while creating replica\n\nIf a share created based on a share type, which includes the\nshare_backend_name spec, then while trying to create a replica\nfor this share, it'll fail due to scheduler cannot get an available\nbackend, because scheduler only can use the backend that\nshare_backend_name specified, but the backend already got a replica.\n\nThis patch removes the share_backend_name spec from share type\nwhile creating replica, so the scheduler will filter a available\nbackend according to the selection policy.\n\nChange-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f\nCloses-Bug: #1634734\n""}, {'number': 4, 'created': '2016-11-04 08:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/823c20397133f2db83af684f56124b67f3cebb2a', 'message': ""Remove backend spec from share type while creating replica\n\nIf a share created based on a share type, which includes the\nshare_backend_name spec, then while trying to create a replica\nfor this share, it'll fail due to scheduler cannot get an available\nbackend, because scheduler only can use the backend that\nshare_backend_name specified, but the backend already got a replica.\n\nThis patch removes the share_backend_name spec from share type\nwhile creating replica, so the scheduler will filter a available\nbackend according to the selection policy.\n\nChange-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f\nCloses-Bug: #1634734\n""}, {'number': 5, 'created': '2019-07-15 22:02:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/69a37666657e280ae688f677a325530c8b129e58', 'message': ""Remove backend spec from share type while creating replica\n\nIf a share created based on a share type, which includes the\nshare_backend_name spec, then while trying to create a replica\nfor this share, it'll fail due to scheduler cannot get an available\nbackend, because scheduler only can use the backend that\nshare_backend_name specified, but the backend already got a replica.\n\nThis patch removes the share_backend_name spec from share type\nwhile creating replica, so the scheduler will filter a available\nbackend according to the selection policy.\n\nChange-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f\nCloses-Bug: #1634734\n""}, {'number': 6, 'created': '2019-07-15 22:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/48bd476e16b5867e96347a9411f9d53c768a0e42', 'message': ""Remove backend spec from share type while creating replica\n\nIf a share created based on a share type, which includes the\nshare_backend_name spec, then while trying to create a replica\nfor this share, it'll fail due to scheduler cannot get an available\nbackend, because scheduler only can use the backend that\nshare_backend_name specified, but the backend already got a replica.\n\nThis patch removes the share_backend_name spec from share type\nwhile creating replica, so the scheduler will filter a available\nbackend according to the selection policy.\n\nChange-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f\nCloses-Bug: #1634734\n""}, {'number': 7, 'created': '2019-08-21 14:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1029c79f3fc01f487c574215320f5bcaaefa1176', 'message': 'Remove backend spec from share type while creating replica\n\nIf a share type includes the share_backend_name spec,\nthe scheduler may fail to schedule share replicas unless\nall backends in a replication domain share the same\nvalue for the capability ""share_backend_name"". Having\nthe same ""share_backend_name"" isn\'t desirable all the\ntime.\n\nIgnore the share_backend_name spec from share type\nwhile creating replica, so the scheduler will filter\na available backend according to the selection policy.\n\nChange-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f\nCloses-Bug: #1634734\n'}, {'number': 8, 'created': '2019-09-09 14:47:29.000000000', 'files': ['manila/tests/scheduler/drivers/test_filter.py', 'manila/scheduler/drivers/filter.py', 'releasenotes/notes/bug-1634734-fix-backend-extraspec-for-replication-d611d2227997ae3e.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/700c1a02f0a357312df8f47932f83e86a3d2dc86', 'message': 'Remove backend spec from share type while creating replica\n\nIf a share type includes the share_backend_name spec,\nthe scheduler may fail to schedule share replicas unless\nall backends in a replication domain share the same\nvalue for the capability ""share_backend_name"". Having\nthe same ""share_backend_name"" isn\'t desirable all the\ntime.\n\nIgnore the share_backend_name spec from share type\nwhile creating replica, so the scheduler will filter\na available backend according to the selection policy.\n\nChange-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f\nCloses-Bug: #1634734\n'}]",5,391353,700c1a02f0a357312df8f47932f83e86a3d2dc86,91,31,8,16203,,,0,"Remove backend spec from share type while creating replica

If a share type includes the share_backend_name spec,
the scheduler may fail to schedule share replicas unless
all backends in a replication domain share the same
value for the capability ""share_backend_name"". Having
the same ""share_backend_name"" isn't desirable all the
time.

Ignore the share_backend_name spec from share type
while creating replica, so the scheduler will filter
a available backend according to the selection policy.

Change-Id: Ic8f7e6230298c222cc6cb5e4e4e8189524aaa81f
Closes-Bug: #1634734
",git fetch https://review.opendev.org/openstack/manila refs/changes/53/391353/8 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/scheduler/drivers/test_filter.py', 'manila/scheduler/drivers/filter.py']",2,206dbbf75062d3aaf206915d1cb6c2fd24d8a379,bug/1634734,"from manila.share import utils as share_utils def _filter_backend_spec_for_share_type(self, extra_specs, request_spec): share_type_backend = extra_specs.get('share_backend_name') if share_type_backend: existing_replica_hosts = request_spec.get( 'all_replica_hosts', '').split(',') for host in existing_replica_hosts: if share_type_backend == share_utils.extract_host( host, 'backend_name'): extra_specs.pop('share_backend_name') # NOTE(zengyingzhe): remove the 'share_backend_name' extra spec # if the backend's already created replica, otherwise scheduler # cannot filter available host for this replica creation request. self._filter_backend_spec_for_share_type(extra_specs, request_spec) ",,50,0
openstack%2Fpuppet-oslo~stable%2Ftrain~I4fa9a5ee89165f6a92ffa1f6445a292801d7687c,openstack/puppet-oslo,stable/train,I4fa9a5ee89165f6a92ffa1f6445a292801d7687c,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:34:29.000000000,2019-10-09 22:05:12.000000000,2019-10-09 22:03:47.000000000,"[{'_account_id': 14985}, {'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:34:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/0e02dd06e067cada2529654468415d1ea162b290', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I4fa9a5ee89165f6a92ffa1f6445a292801d7687c\n'}]",0,686689,0e02dd06e067cada2529654468415d1ea162b290,13,4,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I4fa9a5ee89165f6a92ffa1f6445a292801d7687c
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/89/686689/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0e02dd06e067cada2529654468415d1ea162b290,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Finstack-undercloud~stable%2Fqueens~I9da3aa38b386ce4dc4f9d9d41bb61c500d179384,openstack/instack-undercloud,stable/queens,I9da3aa38b386ce4dc4f9d9d41bb61c500d179384,Fix pep8 errors,MERGED,2019-10-08 20:24:52.000000000,2019-10-09 21:49:29.000000000,2019-10-09 21:49:29.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-10-08 20:24:52.000000000', 'files': ['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_validator.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/7f1ddbd717e72f40329d72d57d397107c876edd6', 'message': 'Fix pep8 errors\n\npep8 is failin in check jobs. This change reorder imports\nand updates some doctext to conform the new rules.\n\nChange-Id: I9da3aa38b386ce4dc4f9d9d41bb61c500d179384\n(cherry picked from commit d3ca08bb298543811b6b1334907d4c24792b35f8)\n'}]",0,687413,7f1ddbd717e72f40329d72d57d397107c876edd6,10,5,1,24245,,,0,"Fix pep8 errors

pep8 is failin in check jobs. This change reorder imports
and updates some doctext to conform the new rules.

Change-Id: I9da3aa38b386ce4dc4f9d9d41bb61c500d179384
(cherry picked from commit d3ca08bb298543811b6b1334907d4c24792b35f8)
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/13/687413/1 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_validator.py']",2,7f1ddbd717e72f40329d72d57d397107c876edd6,instack-undercloud-fix-pep8,from oslo_config import fixture as config_fixture,from oslo_config import fixture as config_fixture,6,8
openstack%2Fpuppet-vitrage~stable%2Ftrain~Ie8aa457555163c928f6ae960d56ee089ba7e00c9,openstack/puppet-vitrage,stable/train,Ie8aa457555163c928f6ae960d56ee089ba7e00c9,Update .gitreview for stable/train,MERGED,2019-10-04 13:38:50.000000000,2019-10-09 21:48:27.000000000,2019-10-09 21:48:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:38:50.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/ef71e61095b9b968c392d6325088fe28634f4c0c', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ie8aa457555163c928f6ae960d56ee089ba7e00c9\n'}]",0,686712,ef71e61095b9b968c392d6325088fe28634f4c0c,11,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ie8aa457555163c928f6ae960d56ee089ba7e00c9
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/12/686712/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,ef71e61095b9b968c392d6325088fe28634f4c0c,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpuppet-openstack_spec_helper~master~I29c8bf9a96002fa7081c86465c7b25b2aecd6f92,openstack/puppet-openstack_spec_helper,master,I29c8bf9a96002fa7081c86465c7b25b2aecd6f92,Pin signet to 0.11 for ruby <= 2.4.0,MERGED,2019-10-09 19:59:58.000000000,2019-10-09 21:19:52.000000000,2019-10-09 21:11:45.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 19:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/230a36e81da290561dd639d566e721b0b419dfe3', 'message': 'Pin signet to 0.11 for ruby <= 2.4.0\n\nFails since 0.12.0 that was released today\nrequires ruby >= 2.4.0. See failure in [1].\n\n[1] https://review.opendev.org/#/c/687050/\n\nChange-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92\n'}, {'number': 2, 'created': '2019-10-09 20:00:26.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/5b3517f068c1159c226087b4630e180454fec71d', 'message': 'Pin signet to 0.11 for ruby <= 2.4.0\n\nFails since 0.12.0 that was released today\nrequires ruby >= 2.4.0. See failure in [1].\n\n[1] https://review.opendev.org/#/c/687050/\n\nChange-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92\n'}]",0,687663,5b3517f068c1159c226087b4630e180454fec71d,12,2,2,16137,,,0,"Pin signet to 0.11 for ruby <= 2.4.0

Fails since 0.12.0 that was released today
requires ruby >= 2.4.0. See failure in [1].

[1] https://review.opendev.org/#/c/687050/

Change-Id: I29c8bf9a96002fa7081c86465c7b25b2aecd6f92
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/63/687663/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,230a36e81da290561dd639d566e721b0b419dfe3,pin-signet," # NOTE(tobias-urdin): Pin signet to 0.11.0 as 0.12.0 requires ruby >= 2.4.0 signet_version = RUBY_VERSION < '2.4.0' ? '~> 0.11' : '>= 0.11.0' spec.add_dependency 'signet', signet_version ",,4,0
openstack%2Finstack-undercloud~stable%2Frocky~I9da3aa38b386ce4dc4f9d9d41bb61c500d179384,openstack/instack-undercloud,stable/rocky,I9da3aa38b386ce4dc4f9d9d41bb61c500d179384,Fix pep8 errors,MERGED,2019-10-08 20:23:48.000000000,2019-10-09 21:12:13.000000000,2019-10-09 21:12:12.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 20:23:48.000000000', 'files': ['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_validator.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/d3ca08bb298543811b6b1334907d4c24792b35f8', 'message': 'Fix pep8 errors\n\npep8 is failin in check jobs. This change reorder imports\nand updates some doctext to conform the new rules.\n\nChange-Id: I9da3aa38b386ce4dc4f9d9d41bb61c500d179384\n'}]",0,687412,d3ca08bb298543811b6b1334907d4c24792b35f8,7,3,1,24245,,,0,"Fix pep8 errors

pep8 is failin in check jobs. This change reorder imports
and updates some doctext to conform the new rules.

Change-Id: I9da3aa38b386ce4dc4f9d9d41bb61c500d179384
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/12/687412/1 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_validator.py']",2,d3ca08bb298543811b6b1334907d4c24792b35f8,instack-undercloud-fix-pep8,from oslo_config import fixture as config_fixture,from oslo_config import fixture as config_fixture,6,8
openstack%2Finstack-undercloud~stable%2Frocky~I2c6759f750de335b81c6335da7be8e09375c981a,openstack/instack-undercloud,stable/rocky,I2c6759f750de335b81c6335da7be8e09375c981a,Set option:mtu in inspector dnsmasq,MERGED,2019-10-08 16:04:59.000000000,2019-10-09 21:12:13.000000000,2019-10-09 21:12:13.000000000,"[{'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-08 16:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/0528a93587c5058a5cd9162932202b92dfb43422', 'message': ""Set option:mtu in inspector dnsmasq\n\nSet the mtu for all subnets in inspector dnsmasq\nconfig to value of 'local_mtu' in undercloud.conf.\n\nChange-Id: I2c6759f750de335b81c6335da7be8e09375c981a\nCloses-Bug: #1845487\nDepends-On: Ic95dbf1867fb5397f1b6d8f23466910a97051cb6\n""}, {'number': 2, 'created': '2019-10-08 20:26:41.000000000', 'files': ['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/9df061369fb3ba41432ae79c121d4aa334ca9d7c', 'message': ""Set option:mtu in inspector dnsmasq\n\nSet the mtu for all subnets in inspector dnsmasq\nconfig to value of 'local_mtu' in undercloud.conf.\n\nChange-Id: I2c6759f750de335b81c6335da7be8e09375c981a\nCloses-Bug: #1845487\nDepends-On: Ic95dbf1867fb5397f1b6d8f23466910a97051cb6\n""}]",0,687342,9df061369fb3ba41432ae79c121d4aa334ca9d7c,11,4,2,24245,,,0,"Set option:mtu in inspector dnsmasq

Set the mtu for all subnets in inspector dnsmasq
config to value of 'local_mtu' in undercloud.conf.

Change-Id: I2c6759f750de335b81c6335da7be8e09375c981a
Closes-Bug: #1845487
Depends-On: Ic95dbf1867fb5397f1b6d8f23466910a97051cb6
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/42/687342/1 && git format-patch -1 --stdout FETCH_HEAD,"['instack_undercloud/undercloud.py', 'instack_undercloud/tests/test_undercloud.py']",2,0528a93587c5058a5cd9162932202b92dfb43422,bug/1845487," ""netmask"": ""255.255.255.0"", ""mtu"": 1500}] ""netmask"": ""255.255.255.0"", ""mtu"": 1500}, ""netmask"": ""255.255.255.0"", ""mtu"": 1500}]"," ""netmask"": ""255.255.255.0""}] ""netmask"": ""255.255.255.0""}, ""netmask"": ""255.255.255.0""}]",4,3
openstack%2Fnova~master~I9550e1c0c93b48e234f429204e27960d0d1cda81,openstack/nova,master,I9550e1c0c93b48e234f429204e27960d0d1cda81,Filter out alembic logs below WARNING in tests,MERGED,2019-10-04 20:51:17.000000000,2019-10-09 21:11:12.000000000,2019-10-09 21:07:04.000000000,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 20:51:17.000000000', 'files': ['nova/tests/fixtures.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3c27f3cdc0538c2b8a14cf309f04acaf1599a44b', 'message': ""Filter out alembic logs below WARNING in tests\n\nDuring functional tests we see quite a bit of alembic\nINFO level logging which we don't really need. This\nchange sets the alembic logging level to WARNING to\nremove that noise.\n\nChange-Id: I9550e1c0c93b48e234f429204e27960d0d1cda81\nRelated-Bug: #1813147\n""}]",0,686836,3c27f3cdc0538c2b8a14cf309f04acaf1599a44b,17,11,1,6873,,,0,"Filter out alembic logs below WARNING in tests

During functional tests we see quite a bit of alembic
INFO level logging which we don't really need. This
change sets the alembic logging level to WARNING to
remove that noise.

Change-Id: I9550e1c0c93b48e234f429204e27960d0d1cda81
Related-Bug: #1813147
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/686836/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/fixtures.py'],1,3c27f3cdc0538c2b8a14cf309f04acaf1599a44b,bug/1813147, # Or alembic for model comparisons. std_logging.getLogger('alembic').setLevel(std_logging.WARNING),,2,0
openstack%2Fnova~master~I7884361e32a8c9765256c0a9b16e54e3f9a82084,openstack/nova,master,I7884361e32a8c9765256c0a9b16e54e3f9a82084,Refine comments about move_allocations,MERGED,2019-10-02 15:09:18.000000000,2019-10-09 21:09:38.000000000,2019-10-09 21:06:59.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-02 15:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00b745a05099e5ad27942f083480dae548d736b4', 'message': 'Refine comments about move_allocations\n\nSince Ie991d4b53e9bb5e7ec26da99219178ab7695abf6  move_allocation\nhandles more than one resource provider, but still does not handle\nsharing providers. This patch refines the code comments accordingly.\n\nChange-Id: I7884361e32a8c9765256c0a9b16e54e3f9a82084\n'}, {'number': 2, 'created': '2019-10-08 12:14:03.000000000', 'files': ['nova/conductor/tasks/migrate.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/28b88eda2eedaf655eb3fecfa3f6fe8633308fa4', 'message': 'Refine comments about move_allocations\n\nSince Ie991d4b53e9bb5e7ec26da99219178ab7695abf6  move_allocation\nhandles more than one resource provider, but still does not handle\nsharing providers. This patch refines the code comments accordingly.\n\nChange-Id: I7884361e32a8c9765256c0a9b16e54e3f9a82084\n'}]",0,686182,28b88eda2eedaf655eb3fecfa3f6fe8633308fa4,35,14,2,9708,,,0,"Refine comments about move_allocations

Since Ie991d4b53e9bb5e7ec26da99219178ab7695abf6  move_allocation
handles more than one resource provider, but still does not handle
sharing providers. This patch refines the code comments accordingly.

Change-Id: I7884361e32a8c9765256c0a9b16e54e3f9a82084
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/686182/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/tasks/migrate.py'],1,00b745a05099e5ad27942f083480dae548d736b4,," # FIXME(danms, gibi): This method is flawed in that it assumes allocations # against only one compute provider tree. So, this may overwrite # allocations against a shared provider, if we had one. # FIXME(danms, gibi): This method is flawed in that it assumes allocations # against only one compute provider tree. So, this may overwrite # allocations against a shared provider, if we had one."," # FIXME(danms): This method is flawed in that it asssumes allocations # against only one provider. So, this may overwite allocations against # a shared provider, if we had one. # FIXME(danms): This method is flawed in that it asssumes allocations # against only one provider. So, this may overwite allocations against # a shared provider, if we had one.",6,6
openstack%2Ftripleo-common~master~I470f1778a7042ca8a4bcd5542dd53e29ad0c4eee,openstack/tripleo-common,master,I470f1778a7042ca8a4bcd5542dd53e29ad0c4eee,Officially deprecate the skopeo image uploader,MERGED,2019-10-04 20:16:01.000000000,2019-10-09 21:03:20.000000000,2019-10-09 21:00:33.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-10-04 20:16:01.000000000', 'files': ['releasenotes/notes/deprecate-skopeo-image-uploader-a8b8b4b46d7be706.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bb6561fdb9c0519d7531a5a20336e29162776cc0', 'message': 'Officially deprecate the skopeo image uploader\n\nWe switched to the python image uploader in Stein and would like to\nremove the Skopeo based uploader in a future release as it may not\nfunction correctly with our undercloud container registry.\n\nChange-Id: I470f1778a7042ca8a4bcd5542dd53e29ad0c4eee\n'}]",0,686831,bb6561fdb9c0519d7531a5a20336e29162776cc0,14,8,1,14985,,,0,"Officially deprecate the skopeo image uploader

We switched to the python image uploader in Stein and would like to
remove the Skopeo based uploader in a future release as it may not
function correctly with our undercloud container registry.

Change-Id: I470f1778a7042ca8a4bcd5542dd53e29ad0c4eee
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/31/686831/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-skopeo-image-uploader-a8b8b4b46d7be706.yaml'],1,bb6561fdb9c0519d7531a5a20336e29162776cc0,deprecate-skopeo-image-uploader,--- deprecations: - | The SkopeoImageUploader is deprecated. It does not work with the Stein image repository and will be removed in a future release. ,,5,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I8effea96a4428281b5a5dfa9711bb602fdbdc705,openstack/tripleo-heat-templates,stable/stein,I8effea96a4428281b5a5dfa9711bb602fdbdc705,Fix Manila when run without pacemaker,MERGED,2019-09-26 14:22:30.000000000,2019-10-09 21:00:30.000000000,2019-10-09 21:00:30.000000000,"[{'_account_id': 7144}, {'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-26 14:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/59c9bd5211d4e2d583340a51ca8e2571910f5574', 'message': 'DNM - Test Run Manila in scenario004 without pacemaker\n\nCherry-pick from master - we *can* run with pacemaker\nin CentOS 7 so there is not a specific need to change\nscenario004 in stable/stein but I want to test the fixes\nto manila-share-container-puppet.yaml and we should likely\nbackport those by themselves.\n\nScenario004 runs Manila with a CephFS back end and\nruns the manila-share service under control of pacemaker\nsince that is the supported path.  However, there is a\nneed to test in a standalone configuration without pacemaker\ndeployed in CentOS 8, so here we fix the non-pacemaker deployment\npath, which runs manila-share in Step4 rather than Step5, so\nthat it uses the same privileges for the manila-share container\nas are used for the pacemaker-controlled container-bundle in\nStep5.  Also, scenario004 is changed to deploy manila using the\nnon-pacemaker path.\n\nChange-Id: I8effea96a4428281b5a5dfa9711bb602fdbdc705\nCloses-Bug: #1841941\nDepends-On: https://review.rdoproject.org/r/#/c/22374/\n'}, {'number': 2, 'created': '2019-09-27 00:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bede0fa66ed43e2582e2f55166a152147da79460', 'message': ""Fix Manila when run without pacemaker\n\nThe supported path is to run the manila-share service\nunder control of pacemaker using container bundles started\nin Step5.  However, it is useful for test and POC purposes\nto be able to run the manila-share service without pacemaker\ncontrol as a regular docker container started in Step4.\n\nThis change cherry-picks the manila deployment changes\nrequired to fix up this non-pacemaker path from a change to\nmaster that implements this fix *and* changes scenario004 to use that\npath.  Scenario0004 is changed there only because of the need to test\nthere on CentOS 8 (eventually) with podman, and currently podman on\nCentOS 8 does not play well with pacemaker.  In Stein we aren't running\nwith pacemaker so we don't need to change scenario004 and we aren't\nbackporting that aspect of the change to master.\n\nChange-Id: I8effea96a4428281b5a5dfa9711bb602fdbdc705\nCloses-Bug: #1841941\n""}, {'number': 3, 'created': '2019-10-09 10:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f3cdcee272f24026c853aa66eeabb999fa76ca37', 'message': 'Fix Manila when run without pacemaker\n\nThe supported path is to run the manila-share service\nunder control of pacemaker using container bundles started\nin Step5.  However, it is useful for test and POC purposes\nto be able to run the manila-share service without pacemaker\ncontrol as a regular container started in Step4.\n\nThis change fixes the non-pacemaker deployment path, which runs\nmanila-share in Step4 rather than Step5, so that it uses the same\nprivileges for the manila-share container as are used for the\npacemaker-controlled container-bundle in Step5.\n\nHowever. we do not change scenario004 to deploy manila using the\nnon-pacemaker path since in CI we want to test the path that is\nsupported for customers.\n\nChange-Id: I8effea96a4428281b5a5dfa9711bb602fdbdc705\nRelated-Bug: #1841941\nDepends-On: https://review.opendev.org/#/c/685449\n(cherry picked from commit cff553c7e651aef769ef0ef7f0fc5e9757467cce)\n'}, {'number': 4, 'created': '2019-10-09 10:15:38.000000000', 'files': ['deployment/manila/manila-share-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68a4e125bbd02e7ae5f695045c64201e4a7b5c83', 'message': 'Fix Manila when run without pacemaker\n\nThe supported path is to run the manila-share service\nunder control of pacemaker using container bundles started\nin Step5.  However, it is useful for test and POC purposes\nto be able to run the manila-share service without pacemaker\ncontrol as a regular container started in Step4.\n\nThis change fixes the non-pacemaker deployment path, which runs\nmanila-share in Step4 rather than Step5, so that it uses the same\nprivileges for the manila-share container as are used for the\npacemaker-controlled container-bundle in Step5.\n\nHowever. we do not change scenario004 to deploy manila using the\nnon-pacemaker path since in CI we want to test the path that is\nsupported for customers.\n\nChange-Id: I8effea96a4428281b5a5dfa9711bb602fdbdc705\nRelated-Bug: #1841941\n(cherry picked from commit cff553c7e651aef769ef0ef7f0fc5e9757467cce)\n'}]",0,685097,68a4e125bbd02e7ae5f695045c64201e4a7b5c83,17,4,4,9003,,,0,"Fix Manila when run without pacemaker

The supported path is to run the manila-share service
under control of pacemaker using container bundles started
in Step5.  However, it is useful for test and POC purposes
to be able to run the manila-share service without pacemaker
control as a regular container started in Step4.

This change fixes the non-pacemaker deployment path, which runs
manila-share in Step4 rather than Step5, so that it uses the same
privileges for the manila-share container as are used for the
pacemaker-controlled container-bundle in Step5.

However. we do not change scenario004 to deploy manila using the
non-pacemaker path since in CI we want to test the path that is
supported for customers.

Change-Id: I8effea96a4428281b5a5dfa9711bb602fdbdc705
Related-Bug: #1841941
(cherry picked from commit cff553c7e651aef769ef0ef7f0fc5e9757467cce)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/685097/4 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'deployment/manila/manila-share-container-puppet.yaml']",2,59c9bd5211d4e2d583340a51ca8e2571910f5574,, - path: /var/lib/manila owner: manila:manila recurse: true ipc: host user: root,,7,8
openstack%2Fheat-tempest-plugin~master~I94a82caf1fcb6999151ff1e6fbbe1e2ba211bbb9,openstack/heat-tempest-plugin,master,I94a82caf1fcb6999151ff1e6fbbe1e2ba211bbb9,Allow to pass --insecure options into VMs,MERGED,2018-08-15 14:59:54.000000000,2019-10-09 20:43:33.000000000,2019-10-09 20:43:33.000000000,"[{'_account_id': 4257}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-15 14:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/692b10ec5f250f66530885c5cb5d1a13ca71901c', 'message': ""Allow to pass --insecure options into VMs\n\ncurrently Heat tests have troubles running when self-signed SSL CA is\nused on public Heat API and standard upstream images (Cirros, Ubuntu)\nare used as those lack trust to those CA - example is DevStack\nwith tls-proxy service enabled.\n\nA workaround is to set [clients_heat]insecure=True, but that is\nnot really a production-ready setting, and does not work for CFN-style\nsignaling, only for WaitConditions.\n\nInstead, this patch adds an extra config option\n`vm_to_heat_api_insecure` (defaults to False), and when enabled tests will\npass the correct option to the curl or cfn-signal commands running from\ninstance's user data via new parameters that test templates are now\naccepting.\n\nChange-Id: I94a82caf1fcb6999151ff1e6fbbe1e2ba211bbb9\n""}, {'number': 2, 'created': '2018-08-16 08:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/7a9529a40ccd4a93246a3467d031b3d1fa9bb2cd', 'message': ""Allow to pass --insecure options into VMs\n\ncurrently Heat tests have troubles running when self-signed SSL CA is\nused on public Heat API and standard upstream images (Cirros, Ubuntu)\nare used as those lack trust to those CA - example is DevStack\nwith tls-proxy service enabled.\n\nA workaround is to set [clients_heat]insecure=True, but that is\nnot really a production-ready setting, and does not work for CFN-style\nsignaling, only for WaitConditions.\n\nInstead, this patch adds an extra config option\n`vm_to_heat_api_insecure` (defaults to False), and when enabled tests will\npass the correct option to the curl or cfn-signal commands running from\ninstance's user data via new parameters that test templates are now\naccepting.\n\nChange-Id: I94a82caf1fcb6999151ff1e6fbbe1e2ba211bbb9\n""}, {'number': 3, 'created': '2018-09-03 07:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/735f24709f60c8612c179d134f6351a1f058c148', 'message': ""Allow to pass --insecure options into VMs\n\ncurrently Heat tests have troubles running when self-signed SSL CA is\nused on public Heat API and standard upstream images (Cirros, Ubuntu)\nare used as those lack trust to those CA - example is DevStack\nwith tls-proxy service enabled.\n\nA workaround is to set [clients_heat]insecure=True, but that is\nnot really a production-ready setting, and does not work for CFN-style\nsignaling, only for WaitConditions.\n\nInstead, this patch adds an extra config option\n`vm_to_heat_api_insecure` (defaults to False), and when enabled tests will\npass the correct option to the curl or cfn-signal commands running from\ninstance's user data via new parameters that test templates are now\naccepting.\n\nChange-Id: I94a82caf1fcb6999151ff1e6fbbe1e2ba211bbb9\n""}, {'number': 4, 'created': '2019-03-01 08:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/4e1e1919e4236deb05cb847f8f72c5486df64bb9', 'message': ""Allow to pass --insecure options into VMs\n\ncurrently Heat tests have troubles running when self-signed SSL CA is\nused on public Heat API and standard upstream images (Cirros, Ubuntu)\nare used as those lack trust to those CA - example is DevStack\nwith tls-proxy service enabled.\n\nA workaround is to set [clients_heat]insecure=True, but that is\nnot really a production-ready setting, and does not work for CFN-style\nsignaling, only for WaitConditions.\n\nInstead, this patch adds an extra config option\n`vm_to_heat_api_insecure` (defaults to False), and when enabled tests will\npass the correct option to the curl or cfn-signal commands running from\ninstance's user data via new parameters that test templates are now\naccepting.\n\nChange-Id: I94a82caf1fcb6999151ff1e6fbbe1e2ba211bbb9\n""}, {'number': 5, 'created': '2019-10-05 08:24:26.000000000', 'files': ['heat_tempest_plugin/config.py', 'heat_tempest_plugin/tests/scenario/test_autoscaling_lb.py', 'heat_tempest_plugin/tests/scenario/test_autoscaling_lbv2.py', 'heat_tempest_plugin/tests/scenario/templates/test_server_signal.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_volumes_delete_snapshot.yaml', 'heat_tempest_plugin/tests/scenario/templates/app_server_neutron.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_autoscaling_lb_neutron.yaml', 'heat_tempest_plugin/tests/scenario/test_server_cfn_init.py', 'heat_tempest_plugin/tests/scenario/test_volumes.py', 'heat_tempest_plugin/tests/functional/test_os_wait_condition.py', 'heat_tempest_plugin/tests/scenario/templates/app_server_lbv2_neutron.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_volumes_create_from_backup.yaml', 'heat_tempest_plugin/tests/scenario/test_server_signal.py', 'heat_tempest_plugin/tests/scenario/templates/test_server_cfn_init.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_autoscaling_lbv2_neutron.yaml'], 'web_link': 'https://opendev.org/openstack/heat-tempest-plugin/commit/ab1725eb6bcba1ca2e0a17540a0c12e512b87871', 'message': ""Allow to pass --insecure options into VMs\n\ncurrently Heat tests have troubles running when self-signed SSL CA is\nused on public Heat API and standard upstream images (Cirros, Ubuntu)\nare used as those lack trust to those CA - example is DevStack\nwith tls-proxy service enabled.\n\nA workaround is to set [clients_heat]insecure=True, but that is\nnot really a production-ready setting, and does not work for CFN-style\nsignaling, only for WaitConditions.\n\nInstead, this patch adds an extra config option\n`vm_to_heat_api_insecure` (defaults to False), and when enabled tests will\npass the correct option to the curl or cfn-signal commands running from\ninstance's user data via new parameters that test templates are now\naccepting.\n\nChange-Id: I94a82caf1fcb6999151ff1e6fbbe1e2ba211bbb9\n""}]",0,592074,ab1725eb6bcba1ca2e0a17540a0c12e512b87871,42,4,5,9542,,,0,"Allow to pass --insecure options into VMs

currently Heat tests have troubles running when self-signed SSL CA is
used on public Heat API and standard upstream images (Cirros, Ubuntu)
are used as those lack trust to those CA - example is DevStack
with tls-proxy service enabled.

A workaround is to set [clients_heat]insecure=True, but that is
not really a production-ready setting, and does not work for CFN-style
signaling, only for WaitConditions.

Instead, this patch adds an extra config option
`vm_to_heat_api_insecure` (defaults to False), and when enabled tests will
pass the correct option to the curl or cfn-signal commands running from
instance's user data via new parameters that test templates are now
accepting.

Change-Id: I94a82caf1fcb6999151ff1e6fbbe1e2ba211bbb9
",git fetch https://review.opendev.org/openstack/heat-tempest-plugin refs/changes/74/592074/1 && git format-patch -1 --stdout FETCH_HEAD,"['heat_tempest_plugin/config.py', 'heat_tempest_plugin/tests/scenario/test_autoscaling_lb.py', 'heat_tempest_plugin/tests/scenario/test_autoscaling_lbv2.py', 'heat_tempest_plugin/tests/scenario/templates/test_server_signal.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_volumes_delete_snapshot.yaml', 'heat_tempest_plugin/tests/scenario/templates/app_server_neutron.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_autoscaling_lb_neutron.yaml', 'heat_tempest_plugin/tests/scenario/test_server_cfn_init.py', 'heat_tempest_plugin/tests/scenario/test_volumes.py', 'heat_tempest_plugin/tests/functional/test_os_wait_condition.py', 'heat_tempest_plugin/tests/scenario/templates/app_server_lbv2_neutron.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_volumes_create_from_backup.yaml', 'heat_tempest_plugin/tests/scenario/test_server_signal.py', 'heat_tempest_plugin/tests/scenario/templates/test_server_cfn_init.yaml', 'heat_tempest_plugin/tests/scenario/templates/test_autoscaling_lbv2_neutron.yaml']",15,692b10ec5f250f66530885c5cb5d1a13ca71901c,insecure-wc-signals," wc_extra_args: type: string default: """" wc_extra_args: { get_param: wc_extra_args }",,76,11
openstack%2Fopenstack-ansible-rabbitmq_server~master~I5afd52d96e03186a3120a4daeff1a9667101a9ae,openstack/openstack-ansible-rabbitmq_server,master,I5afd52d96e03186a3120a4daeff1a9667101a9ae,Bump rabbitmq & erlang versions,MERGED,2019-09-11 21:26:47.000000000,2019-10-09 20:36:34.000000000,2019-10-09 20:35:12.000000000,"[{'_account_id': 15993}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-09-11 21:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/6f087d6d406e272fa0b2430dc770abf5d5ffebe0', 'message': 'Bump rabbitmq & erlang versions\n\nChange-Id: I5afd52d96e03186a3120a4daeff1a9667101a9ae\n'}, {'number': 2, 'created': '2019-09-12 13:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/469cc85e973878c781d4ef0d7f0fe327ded2ecc2', 'message': 'Bump rabbitmq & erlang versions\n\nChange-Id: I5afd52d96e03186a3120a4daeff1a9667101a9ae\n'}, {'number': 3, 'created': '2019-09-12 14:26:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/ef0cdc1c5fc0296a74805dd4098c10062b9c9a39', 'message': 'Bump rabbitmq & erlang versions\n\nChange-Id: I5afd52d96e03186a3120a4daeff1a9667101a9ae\n'}, {'number': 4, 'created': '2019-09-12 15:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/05a2bdd2c8197e80ce2a09ff48dc13f6f7e83d4e', 'message': 'Bump rabbitmq & erlang versions\n\nChange-Id: I5afd52d96e03186a3120a4daeff1a9667101a9ae\n'}, {'number': 5, 'created': '2019-10-09 15:29:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/85befd48db6500e69e2ae5404ae66d93863ccfd7', 'message': 'Bump rabbitmq & erlang versions\n\nChange-Id: I5afd52d96e03186a3120a4daeff1a9667101a9ae\n'}, {'number': 6, 'created': '2019-10-09 15:33:56.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/1bd8152032f4825e59c9c726bb21159910e76fb5', 'message': 'Bump rabbitmq & erlang versions\n\nChange-Id: I5afd52d96e03186a3120a4daeff1a9667101a9ae\n'}]",0,681614,1bd8152032f4825e59c9c726bb21159910e76fb5,17,4,6,25023,,,0,"Bump rabbitmq & erlang versions

Change-Id: I5afd52d96e03186a3120a4daeff1a9667101a9ae
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/14/681614/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,6f087d6d406e272fa0b2430dc770abf5d5ffebe0,,"_rabbitmq_package_url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/packages/{{ ansible_distribution | lower }}/{{ ansible_distribution_release | lower }}/rabbitmq-server_3.7.17-1_all.deb/download.deb""_rabbitmq_package_sha256: ""75ca54aadcd60e1d7896927c558afb95b6152eb2d046fe27b37d31c115d5e8ad""_rabbitmq_erlang_version_spec: ""1:22.0*""","_rabbitmq_package_url: ""https://packagecloud.io/rabbitmq/rabbitmq-server/packages/{{ ansible_distribution | lower }}/{{ ansible_distribution_release | lower }}/rabbitmq-server_3.7.8-1_all.deb/download.deb""_rabbitmq_package_sha256: ""11f70dd68e098e4dc32e3eda49ab68c795e599f3ac0b8b858014c79432173928""_rabbitmq_erlang_version_spec: ""1:20.3*""",5,5
openstack%2Ftripleo-common~stable%2Fstein~If04483e03bc92aea690db27ad4aeff31c3f5cff6,openstack/tripleo-common,stable/stein,If04483e03bc92aea690db27ad4aeff31c3f5cff6,Fixup octavia-api healthcheck,MERGED,2019-10-02 15:29:16.000000000,2019-10-09 20:27:26.000000000,2019-10-09 20:26:12.000000000,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 15:29:16.000000000', 'files': ['healthcheck/octavia-api'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f7fcad9511987884b9cab6919909e6e0f5599ec7', 'message': ""Fixup octavia-api healthcheck\n\nOctavia now runs under apache so it's healthcheck needs updating.\n\nChange-Id: If04483e03bc92aea690db27ad4aeff31c3f5cff6\n(cherry picked from commit 4c3d5182f4f924e931be8641f3b7df2d31c68927)\n""}]",0,686186,f7fcad9511987884b9cab6919909e6e0f5599ec7,9,4,1,6469,,,0,"Fixup octavia-api healthcheck

Octavia now runs under apache so it's healthcheck needs updating.

Change-Id: If04483e03bc92aea690db27ad4aeff31c3f5cff6
(cherry picked from commit 4c3d5182f4f924e931be8641f3b7df2d31c68927)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/86/686186/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/octavia-api'],1,f7fcad9511987884b9cab6919909e6e0f5599ec7,,check_url=$(get_url_from_vhost /etc/httpd/conf.d/10-octavia_wsgi.conf) healthcheck_curl ${check_url},"bind_host=$(get_config_val /etc/octavia/octavia.conf api_settings bind_host 127.0.0.1) bind_port=$(get_config_val /etc/octavia/octavia.conf api_settings bind_port 9876) # Add brackets if IPv6 if [[ $bind_host =~ "":"" ]]; then bind_host=""[${bind_host}]"" fi healthcheck_curl http://${bind_host}:${bind_port}/",2,10
openstack%2Fkeystoneauth~master~Iffb671fefae23926b1f09017d9db438341eae238,openstack/keystoneauth,master,Iffb671fefae23926b1f09017d9db438341eae238,Allow initializing session with connection retries,MERGED,2019-08-15 08:43:02.000000000,2019-10-09 20:24:33.000000000,2019-10-09 20:23:20.000000000,"[{'_account_id': 2}, {'_account_id': 2903}, {'_account_id': 4257}, {'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-08-15 08:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/54ad5c99c06df13cd00b67caca9086741e1edde3', 'message': 'Allow initializing session with connection retries\n\nAdding an option in Session.__init__() would allow it to be used\nin identity plugins for version discovery and getting auth tokens.\n\nChange-Id: Iffb671fefae23926b1f09017d9db438341eae238\nPartial-Bug: #1840235\n'}, {'number': 2, 'created': '2019-08-21 06:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/afd7083ffe19f99e1e7911091e19c840bcb66272', 'message': ""Allow initializing session with connection retries\n\nThough we can now set ``connect_retires`` while creating an adapter object,\nthat  would allow retries in case of connection timeout (ex. with session\nclients derived from Adapater/LegacyJsonAdapater), it can't be used in\ncertain scenarios like endpoint discovery with auth plugin get_discovery()\nor getting AccessInfo with get_access()/get_auth_ref().\n\nHaving ``connect_retires`` in Session constructor would allow users with option\nof setting it when creating session objects (if they want) and can be overridden\nper service with the adapter interface.\n\nChange-Id: Iffb671fefae23926b1f09017d9db438341eae238\nPartial-Bug: #1840235\n""}, {'number': 3, 'created': '2019-08-21 09:49:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7c22972915b5d582d5c1f132252898e9ed95a75f', 'message': ""Allow initializing session with connection retries\n\nThough we can now set ``connect_retires`` while creating an adapter object,\nthat  would allow retries in case of connection timeout (ex. with session\nclients derived from Adapater/LegacyJsonAdapater), it can't be used in\ncertain scenarios like endpoint discovery with auth plugin get_discovery()\nor getting AccessInfo with get_access()/get_auth_ref().\n\nHaving ``connect_retires`` in Session constructor would allow users with option\nof setting it when creating session objects (if they want) and can be overridden\nper service with the adapter interface.\n\nChange-Id: Iffb671fefae23926b1f09017d9db438341eae238\nPartial-Bug: #1840235\n""}, {'number': 4, 'created': '2019-08-23 15:55:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/7b84dc5e889eedc9adf4a28a66da9b0400fccbb4', 'message': ""Allow initializing session with connection retries\n\nThough we can now set ``connect_retires`` while creating an adapter object,\nthat  would allow retries in case of connection timeout (ex. with session\nclients derived from Adapater/LegacyJsonAdapater), it can't be used in\ncertain scenarios like endpoint discovery with auth plugin get_discovery()\nor getting AccessInfo with get_access()/get_auth_ref().\n\nHaving ``connect_retires`` in Session constructor would allow users with option\nof setting it when creating session objects (if they want) and can be overridden\nper service with the adapter interface.\n\nChange-Id: Iffb671fefae23926b1f09017d9db438341eae238\nPartial-Bug: #1840235\n""}, {'number': 5, 'created': '2019-09-04 22:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/fd5b012393595ff87258f6f19268d7a484385955', 'message': ""Allow initializing session with connection retries\n\nThough we can now set ``connect_retires`` while creating an adapter object,\nthat  would allow retries in case of connection timeout (ex. with session\nclients derived from Adapater/LegacyJsonAdapater), it can't be used in\ncertain scenarios like endpoint discovery with auth plugin get_discovery()\nor getting AccessInfo with get_access()/get_auth_ref().\n\nHaving ``connect_retries`` in Session constructor would allow users\nwith option of setting it when creating session objects (if they want)\nand can be overridden per service with the adapter interface.\n\nThis commit also changes the default value of ``connect_retries`` from\n0 to None to allow for adapter's to override retries on the session\nobject.\n\nChange-Id: Iffb671fefae23926b1f09017d9db438341eae238\nPartial-Bug: #1840235\n""}, {'number': 6, 'created': '2019-09-05 13:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/c692e613a58866c37fd44ba40d1085a0d6ef9182', 'message': ""Allow initializing session with connection retries\n\nThough we can now set ``connect_retires`` while creating an adapter object,\nthat  would allow retries in case of connection timeout (ex. with session\nclients derived from Adapater/LegacyJsonAdapater), it can't be used in\ncertain scenarios like endpoint discovery with auth plugin get_discovery()\nor getting AccessInfo with get_access()/get_auth_ref().\n\nHaving ``connect_retries`` in Session constructor would allow users\nwith option of setting it when creating session objects (if they want)\nand can be overridden per service with the adapter interface.\n\nThis commit also changes the default value of ``connect_retries`` from\n0 to None to allow for adapter's to override retries on the session\nobject.\n\nChange-Id: Iffb671fefae23926b1f09017d9db438341eae238\nPartial-Bug: #1840235\n""}, {'number': 7, 'created': '2019-09-05 19:31:27.000000000', 'files': ['keystoneauth1/session.py', 'keystoneauth1/tests/unit/test_session.py', 'releasenotes/notes/bug-1840235-ef2946d149ac329c.yaml'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/373cbdbda8ab37ee48671258bad4c7645cd8ceae', 'message': ""Allow initializing session with connection retries\n\nThough we can now set ``connect_retires`` while creating an adapter object,\nthat  would allow retries in case of connection timeout (ex. with session\nclients derived from Adapater/LegacyJsonAdapater), it can't be used in\ncertain scenarios like endpoint discovery with auth plugin get_discovery()\nor getting AccessInfo with get_access()/get_auth_ref().\n\nHaving ``connect_retries`` in Session constructor would allow users\nwith option of setting it when creating session objects (if they want)\nand can be overridden per service with the adapter interface.\n\nThis commit also changes the default value of ``connect_retries`` from\n0 to None to allow for adapter's to override retries on the session\nobject.\n\nDepends-On: https://review.opendev.org/#/c/680497/\n\nChange-Id: Iffb671fefae23926b1f09017d9db438341eae238\nPartial-Bug: #1840235\n""}]",29,676648,373cbdbda8ab37ee48671258bad4c7645cd8ceae,65,9,7,8833,,,0,"Allow initializing session with connection retries

Though we can now set ``connect_retires`` while creating an adapter object,
that  would allow retries in case of connection timeout (ex. with session
clients derived from Adapater/LegacyJsonAdapater), it can't be used in
certain scenarios like endpoint discovery with auth plugin get_discovery()
or getting AccessInfo with get_access()/get_auth_ref().

Having ``connect_retries`` in Session constructor would allow users
with option of setting it when creating session objects (if they want)
and can be overridden per service with the adapter interface.

This commit also changes the default value of ``connect_retries`` from
0 to None to allow for adapter's to override retries on the session
object.

Depends-On: https://review.opendev.org/#/c/680497/

Change-Id: Iffb671fefae23926b1f09017d9db438341eae238
Partial-Bug: #1840235
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/48/676648/4 && git format-patch -1 --stdout FETCH_HEAD,['keystoneauth1/session.py'],1,54ad5c99c06df13cd00b67caca9086741e1edde3,bug/1840235," :param int connect_retries: the maximum number of retries that should be attempted for connection errors. (optional, defaults to 0 - never retry). collect_timing=False, rate_semaphore=None, connect_retries=0): self._connect_retries = connect_retries connect_retries = connect_retries or self._connect_retries"," collect_timing=False, rate_semaphore=None):",7,1
openstack%2Fkolla-ansible~master~I2b6fc85bac092b1614bccfd22bee48442c55dda4,openstack/kolla-ansible,master,I2b6fc85bac092b1614bccfd22bee48442c55dda4,Add <project>_install_type for all projects,MERGED,2019-09-20 11:33:18.000000000,2019-10-09 20:23:40.000000000,2019-09-24 16:05:38.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-09-20 11:33:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cf7a13c010e258b56958f51b3fc77c207f449b29', 'message': 'Support kuryr_install_type\n\nThis allows the install type for kuryr to be different than\nkolla_install_type, which is handy because kuryr only supports the\nsource type.\n\nChange-Id: I2b6fc85bac092b1614bccfd22bee48442c55dda4\nCloses-Bug: #1786238\n'}, {'number': 2, 'created': '2019-09-20 11:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5286dcb327db79271f809db7d856c66e6762d1b2', 'message': 'Support kuryr_install_type\n\nThis allows the install type for kuryr to be different than\nkolla_install_type, which is handy because kuryr only supports the\nsource type.\n\nChange-Id: I2b6fc85bac092b1614bccfd22bee48442c55dda4\nCloses-Bug: #1786238\n'}, {'number': 3, 'created': '2019-09-20 11:42:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c5d6dd6b5e463e4caeb3265ee8830eb58d47004', 'message': 'Support kuryr_install_type\n\nThis allows the install type for kuryr to be different than\nkolla_install_type, which is handy because kuryr only supports the\nsource type.\n\nChange-Id: I2b6fc85bac092b1614bccfd22bee48442c55dda4\nCloses-Bug: #1786238\n'}, {'number': 4, 'created': '2019-09-20 12:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/baf191c9d32a6b41273212725f4f7c30ccf2d225', 'message': 'Add <project>_install_type for all projects\n\nThis allows the install type for the project to be different than\nkolla_install_type\n\nThis can be used to avoid hitting bug 1786238, since kuryr only supports\nthe source type.\n\nChange-Id: I2b6fc85bac092b1614bccfd22bee48442c55dda4\nCloses-Bug: #1786238\n'}, {'number': 5, 'created': '2019-09-20 12:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b484577886c082e4a0b19b8d9c457f9abeb1f165', 'message': 'Add <project>_install_type for all projects\n\nThis allows the install type for the project to be different than\nkolla_install_type\n\nThis can be used to avoid hitting bug 1786238, since kuryr only supports\nthe source type.\n\nChange-Id: I2b6fc85bac092b1614bccfd22bee48442c55dda4\nCloses-Bug: #1786238\n'}, {'number': 6, 'created': '2019-09-23 10:23:58.000000000', 'files': ['ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cc555c41966e53aa43d96e0d66a169720c3c98a4', 'message': 'Add <project>_install_type for all projects\n\nThis allows the install type for the project to be different than\nkolla_install_type\n\nThis can be used to avoid hitting bug 1786238, since kuryr only supports\nthe source type.\n\nChange-Id: I2b6fc85bac092b1614bccfd22bee48442c55dda4\nCloses-Bug: #1786238\n'}]",5,683367,cc555c41966e53aa43d96e0d66a169720c3c98a4,33,5,6,14826,,,0,"Add <project>_install_type for all projects

This allows the install type for the project to be different than
kolla_install_type

This can be used to avoid hitting bug 1786238, since kuryr only supports
the source type.

Change-Id: I2b6fc85bac092b1614bccfd22bee48442c55dda4
Closes-Bug: #1786238
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/683367/5 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/kuryr/defaults/main.yml'],1,cf7a13c010e258b56958f51b3fc77c207f449b29,bug/1786238,"kuryr_install_type: ""{{ kuryr_install_type }}"" kuryr_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ kuryr_install_type }}-kuryr-libnetwork""","kuryr_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ kolla_install_type }}-kuryr-libnetwork""",2,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~Ia7a9d6bd797e810e039bbd4c50ce2046cb61d508,openstack/puppet-openstack_spec_helper,stable/train,Ia7a9d6bd797e810e039bbd4c50ce2046cb61d508,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-08 14:57:05.000000000,2019-10-09 20:23:26.000000000,2019-10-09 20:22:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 14:57:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/6224e944e9c34c029fa754b931adaa2ce2546786', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia7a9d6bd797e810e039bbd4c50ce2046cb61d508\n'}]",0,687324,6224e944e9c34c029fa754b931adaa2ce2546786,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia7a9d6bd797e810e039bbd4c50ce2046cb61d508
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/24/687324/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6224e944e9c34c029fa754b931adaa2ce2546786,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fpuppet-openstack_spec_helper~stable%2Ftrain~I5678982d9103e67db893c516f63768b8b80e6cdc,openstack/puppet-openstack_spec_helper,stable/train,I5678982d9103e67db893c516f63768b8b80e6cdc,Update .gitreview for stable/train,MERGED,2019-10-08 14:57:01.000000000,2019-10-09 20:20:48.000000000,2019-10-09 20:20:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 14:57:01.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/6989a2cc9853d72a28d73594a96e876538ef376f', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I5678982d9103e67db893c516f63768b8b80e6cdc\n'}]",0,687323,6989a2cc9853d72a28d73594a96e876538ef376f,7,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I5678982d9103e67db893c516f63768b8b80e6cdc
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/23/687323/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6989a2cc9853d72a28d73594a96e876538ef376f,create-train,defaultbranch=stable/train,,1,0
openstack%2Fcongress~stable%2Ftrain~I7d4c7f5395419fc073486563bf82c8917be1484d,openstack/congress,stable/train,I7d4c7f5395419fc073486563bf82c8917be1484d,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-26 09:30:22.000000000,2019-10-09 20:20:09.000000000,2019-10-09 20:17:55.000000000,"[{'_account_id': 11904}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 09:30:22.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/congress/commit/6c524a752706c60cc97418f71e22bd9de2f6cb70', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I7d4c7f5395419fc073486563bf82c8917be1484d\n'}]",0,684997,6c524a752706c60cc97418f71e22bd9de2f6cb70,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I7d4c7f5395419fc073486563bf82c8917be1484d
",git fetch https://review.opendev.org/openstack/congress refs/changes/97/684997/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,6c524a752706c60cc97418f71e22bd9de2f6cb70,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -U {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -U {opts} {packages},1,1
openstack%2Fcongress~master~I330926727ecf0b41450d5317cafea642a70c1d35,openstack/congress,master,I330926727ecf0b41450d5317cafea642a70c1d35,Update master for stable/train,MERGED,2019-09-26 09:30:24.000000000,2019-10-09 20:19:27.000000000,2019-10-09 20:17:56.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 09:30:24.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/congress/commit/460584bb61b2b68b034c057be42531ae90f95aef', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I330926727ecf0b41450d5317cafea642a70c1d35\nSem-Ver: feature\n'}]",0,684998,460584bb61b2b68b034c057be42531ae90f95aef,7,2,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I330926727ecf0b41450d5317cafea642a70c1d35
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/congress refs/changes/98/684998/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,460584bb61b2b68b034c057be42531ae90f95aef,reno-train, train,,7,0
openstack%2Fcongress~stable%2Ftrain~Ibf35dc26007df4bd97ec425bf34d5222691d9b23,openstack/congress,stable/train,Ibf35dc26007df4bd97ec425bf34d5222691d9b23,Update .gitreview for stable/train,MERGED,2019-09-26 09:30:20.000000000,2019-10-09 20:19:08.000000000,2019-10-09 20:17:55.000000000,"[{'_account_id': 11904}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 09:30:20.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/congress/commit/84dc2cf02f663ee77b6232fc1889b8fd9f2f298f', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ibf35dc26007df4bd97ec425bf34d5222691d9b23\n'}]",0,684996,84dc2cf02f663ee77b6232fc1889b8fd9f2f298f,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ibf35dc26007df4bd97ec425bf34d5222691d9b23
",git fetch https://review.opendev.org/openstack/congress refs/changes/96/684996/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,84dc2cf02f663ee77b6232fc1889b8fd9f2f298f,create-train,defaultbranch=stable/train,,1,0
openstack%2Fpuppet-openstacklib~master~I27e37e30823c4312d9d7a93f18fe0f930ce70c49,openstack/puppet-openstacklib,master,I27e37e30823c4312d9d7a93f18fe0f930ce70c49,Allow to activate WSGIImportScript option,MERGED,2019-10-03 12:20:15.000000000,2019-10-09 20:15:17.000000000,2019-10-09 20:13:53.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-03 12:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/a1e213b3b38fc8cdeb83f79f84172470728fe546', 'message': 'Allow to activate WSGIImportScript option\n\nThis should prevent slow loading on the first request, especially\nannoying when this first request is done by a healthcheck launched by an\ninflight validation.\n\nThis patch is a reaction to the whole issue raised by the new nova\ninflight validations[1], followed by some discussions in order to get a\nfaster application loading.\n\n[1] https://review.opendev.org/#/q/status:merged+project:openstack/tripleo-heat-templates+branch:master+topic:bug/1842687\nRelated-Bug: #1843555\n\nChange-Id: I27e37e30823c4312d9d7a93f18fe0f930ce70c49\n'}, {'number': 2, 'created': '2019-10-03 13:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/97cb26999627acdc728769065a819ece8061e69a', 'message': 'Allow to activate WSGIImportScript option\n\nThis should prevent slow loading on the first request, especially\nannoying when this first request is done by a healthcheck launched by an\ninflight validation.\n\nThis patch is a reaction to the whole issue raised by the new nova\ninflight validations[1], followed by some discussions in order to get a\nfaster application loading.\n\n[1] https://review.opendev.org/#/q/status:merged+project:openstack/tripleo-heat-templates+branch:master+topic:bug/1842687\nRelated-Bug: #1843555\n\nChange-Id: I27e37e30823c4312d9d7a93f18fe0f930ce70c49\n'}, {'number': 3, 'created': '2019-10-07 06:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/3225b9c4fc8f5226034dbce4660df6851cdad2a0', 'message': 'Allow to activate WSGIImportScript option\n\nThis should prevent slow loading on the first request, especially\nannoying when this first request is done by a healthcheck launched by an\ninflight validation.\n\nThis patch is a reaction to the whole issue raised by the new nova\ninflight validations[1], followed by some discussions in order to get a\nfaster application loading.\n\n[1] https://review.opendev.org/#/q/status:merged+project:openstack/tripleo-heat-templates+branch:master+topic:bug/1842687\nRelated-Bug: #1843555\n\nChange-Id: I27e37e30823c4312d9d7a93f18fe0f930ce70c49\n'}, {'number': 4, 'created': '2019-10-08 11:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/52177548332be67fa495010950575e545df45f40', 'message': 'Allow to activate WSGIImportScript option\n\nThis should prevent slow loading on the first request, especially\nannoying when this first request is done by a healthcheck launched by an\ninflight validation.\n\nThis patch is a reaction to the whole issue raised by the new nova\ninflight validations[1], followed by some discussions in order to get a\nfaster application loading.\n\n[1] https://review.opendev.org/#/q/status:merged+project:openstack/tripleo-heat-templates+branch:master+topic:bug/1842687\nRelated-Bug: #1843555\n\nChange-Id: I27e37e30823c4312d9d7a93f18fe0f930ce70c49\n'}, {'number': 5, 'created': '2019-10-09 06:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/fd3302979e34fd80296fad870d7b29a503bd36f7', 'message': 'Allow to activate WSGIImportScript option\n\nThis should prevent slow loading on the first request, especially\nannoying when this first request is done by a healthcheck launched by an\ninflight validation.\n\nThis patch is a reaction to the whole issue raised by the new nova\ninflight validations[1], followed by some discussions in order to get a\nfaster application loading.\n\n[1] https://review.opendev.org/#/q/status:merged+project:openstack/tripleo-heat-templates+branch:master+topic:bug/1842687\nRelated-Bug: #1843555\n\nChange-Id: I27e37e30823c4312d9d7a93f18fe0f930ce70c49\n'}, {'number': 6, 'created': '2019-10-09 14:22:52.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/wsgi-import-script-64665fae9dccf797.yaml', 'spec/defines/openstacklib_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/55668d9f3351a89ea94fd9fbbcada5bf98797bb1', 'message': 'Allow to activate WSGIImportScript option\n\nThis should prevent slow loading on the first request, especially\nannoying when this first request is done by a healthcheck launched by an\ninflight validation.\n\nThis patch is a reaction to the whole issue raised by the new nova\ninflight validations[1], followed by some discussions in order to get a\nfaster application loading.\n\n[1] https://review.opendev.org/#/q/status:merged+project:openstack/tripleo-heat-templates+branch:master+topic:bug/1842687\nRelated-Bug: #1843555\n\nChange-Id: I27e37e30823c4312d9d7a93f18fe0f930ce70c49\n'}]",24,686388,55668d9f3351a89ea94fd9fbbcada5bf98797bb1,47,9,6,28223,,,0,"Allow to activate WSGIImportScript option

This should prevent slow loading on the first request, especially
annoying when this first request is done by a healthcheck launched by an
inflight validation.

This patch is a reaction to the whole issue raised by the new nova
inflight validations[1], followed by some discussions in order to get a
faster application loading.

[1] https://review.opendev.org/#/q/status:merged+project:openstack/tripleo-heat-templates+branch:master+topic:bug/1842687
Related-Bug: #1843555

Change-Id: I27e37e30823c4312d9d7a93f18fe0f930ce70c49
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/88/686388/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,a1e213b3b38fc8cdeb83f79f84172470728fe546,httpd/WSGIImportScript,"# [*wsgi_import_script*] # (Optional) Activate WSGIImportScript option. # Defaults to false # $wsgi_import_script = false, if $wsgi_import_script { Apache::Vhost[$service_name] { wsgi_import_script => $wsgi_script_aliases_real[$path_real], wsgi_import_script_options => { process-group => $wsgi_daemon_process, application-group => $wsgi_application_group, }, } } ",,15,0
openstack%2Ftripleo-docs~master~I31d727d659bb8549afae2d824e0648df50c4bff2,openstack/tripleo-docs,master,I31d727d659bb8549afae2d824e0648df50c4bff2,builder-extra-args has been removed,MERGED,2019-10-08 17:47:59.000000000,2019-10-09 20:14:55.000000000,2019-10-09 20:13:27.000000000,"[{'_account_id': 7144}, {'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 17:47:59.000000000', 'files': ['deploy-guide/source/deployment/build_single_image.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/f10e214608e64139ca742a8edb804313827e0d3c', 'message': 'builder-extra-args has been removed\n\nthis option has been removed from src\npython-tripleoclient/src/branch/master/tripleoclient/v1/overcloud_image.py\n\nChange-Id: I31d727d659bb8549afae2d824e0648df50c4bff2\n'}]",0,687368,f10e214608e64139ca742a8edb804313827e0d3c,8,3,1,9592,,,0,"builder-extra-args has been removed

this option has been removed from src
python-tripleoclient/src/branch/master/tripleoclient/v1/overcloud_image.py

Change-Id: I31d727d659bb8549afae2d824e0648df50c4bff2
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/68/687368/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/deployment/build_single_image.rst'],1,f10e214608e64139ca742a8edb804313827e0d3c,,,"Moreover, you can build the image with an extra element of your choice using the ``--builder-extra-args`` argument:: openstack overcloud image build --type overcloud-full \ --builder-extra-args overcloud-network-midonet .. note:: Make sure the element is available in the ``$ELEMENTS_PATH`` environment variable ",0,10
openstack%2Fpuppet-openstack_spec_helper~master~I8f3b9c990eecaa39918cc0aeffec18ba3609ad92,openstack/puppet-openstack_spec_helper,master,I8f3b9c990eecaa39918cc0aeffec18ba3609ad92,Pin signet when running ruby < 2.4,ABANDONED,2019-10-09 20:03:43.000000000,2019-10-09 20:04:36.000000000,,[],"[{'number': 1, 'created': '2019-10-09 20:03:43.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/8c272da7e1734c35dc4c92b616601c7ecda07678', 'message': ""Pin signet when running ruby < 2.4\n\ngoogleauth pulls in signet but it is not being properly capped based on\nruby versions. So let's explicitly add signet here.\n\nChange-Id: I8f3b9c990eecaa39918cc0aeffec18ba3609ad92\n""}]",0,687664,8c272da7e1734c35dc4c92b616601c7ecda07678,2,0,1,14985,,,0,"Pin signet when running ruby < 2.4

googleauth pulls in signet but it is not being properly capped based on
ruby versions. So let's explicitly add signet here.

Change-Id: I8f3b9c990eecaa39918cc0aeffec18ba3609ad92
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/64/687664/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,8c272da7e1734c35dc4c92b616601c7ecda07678,fix-beaker," # NOTE(mwhahaha): signet 0.12.0 requires ruby > 2.4 signet_version = RUBY_VERSION < '2.4.0' ? ['< 0.12.0'] : ['>= 0.12.0'] spec.add_dependency 'signet', signet_version ",,4,0
openstack%2Freleases~master~I27ad0825bfb659291fd141c207adf9eb403240fb,openstack/releases,master,I27ad0825bfb659291fd141c207adf9eb403240fb,Add releasenotes link for Tempest 22.0.0,MERGED,2019-10-09 16:42:51.000000000,2019-10-09 20:02:30.000000000,2019-10-09 20:02:30.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 16:42:51.000000000', 'files': ['deliverables/train/tempest.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/25bc54dd877d32714b0d0ebd7a73049443f0a143', 'message': 'Add releasenotes link for Tempest 22.0.0\n\nThis commit adds the release notes link\nfor Tempest 22.0.0 release.\n\nChange-Id: I27ad0825bfb659291fd141c207adf9eb403240fb\n'}]",0,687619,25bc54dd877d32714b0d0ebd7a73049443f0a143,7,2,1,8556,,,0,"Add releasenotes link for Tempest 22.0.0

This commit adds the release notes link
for Tempest 22.0.0 release.

Change-Id: I27ad0825bfb659291fd141c207adf9eb403240fb
",git fetch https://review.opendev.org/openstack/releases refs/changes/19/687619/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/tempest.yaml'],1,25bc54dd877d32714b0d0ebd7a73049443f0a143,qa-train-release,release-notes: https://docs.openstack.org/releasenotes/tempest/v22.0.0.html,,1,0
openstack%2Freleases~master~I6b1e134a03936ff7d86e07c7c65121dc7a9c029a,openstack/releases,master,I6b1e134a03936ff7d86e07c7c65121dc7a9c029a,Add releasenotes link for Patrole 0.7.0,MERGED,2019-10-09 15:09:53.000000000,2019-10-09 20:02:29.000000000,2019-10-09 20:02:29.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:09:53.000000000', 'files': ['deliverables/train/patrole.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/11a12bad63925e4dd133e6b849dd446d1787045c', 'message': 'Add releasenotes link for Patrole 0.7.0\n\nThis commit adds the release notes link\nfor Patrole 0.7.0 release.\n\nChange-Id: I6b1e134a03936ff7d86e07c7c65121dc7a9c029a\n'}]",0,687582,11a12bad63925e4dd133e6b849dd446d1787045c,7,2,1,8556,,,0,"Add releasenotes link for Patrole 0.7.0

This commit adds the release notes link
for Patrole 0.7.0 release.

Change-Id: I6b1e134a03936ff7d86e07c7c65121dc7a9c029a
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/687582/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/patrole.yaml'],1,11a12bad63925e4dd133e6b849dd446d1787045c,qa-train-release,release-notes: https://docs.openstack.org/releasenotes/patrole/v0.7.0.html,,1,0
openstack%2Freleases~master~I532ad8bf7d459cd3de36c617950caa0cb971df2a,openstack/releases,master,I532ad8bf7d459cd3de36c617950caa0cb971df2a,Release heat train rc2,MERGED,2019-10-09 14:17:26.000000000,2019-10-09 20:02:28.000000000,2019-10-09 20:02:28.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 14:17:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d08cca805d36d1c105876ba0ae46a221eb3dd983', 'message': 'Release heat train rc2\n\nChange-Id: I532ad8bf7d459cd3de36c617950caa0cb971df2a\n'}, {'number': 2, 'created': '2019-10-09 14:40:28.000000000', 'files': ['deliverables/train/heat.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d0e66121c04dc9adc49bce329820b99e65521146', 'message': 'Release heat train rc2\n\nChange-Id: I532ad8bf7d459cd3de36c617950caa0cb971df2a\n'}]",0,687576,d0e66121c04dc9adc49bce329820b99e65521146,11,3,2,12404,,,0,"Release heat train rc2

Change-Id: I532ad8bf7d459cd3de36c617950caa0cb971df2a
",git fetch https://review.opendev.org/openstack/releases refs/changes/76/687576/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/heat.yaml'],1,d08cca805d36d1c105876ba0ae46a221eb3dd983,train-rc2,releases: - version: 13.0.0.0rc2 projects: - repo: openstack/heat hash: 36b72241226a86eb3f597c71bfb68bf0e8345daf,,5,0
openstack%2Fcharm-deployment-guide~master~Ib63999848bae754e8fe61cd5f55345a000bc847c,openstack/charm-deployment-guide,master,Ib63999848bae754e8fe61cd5f55345a000bc847c,Improve upgrade guide according to bugs and tips,MERGED,2019-06-13 18:49:13.000000000,2019-10-09 19:58:32.000000000,2019-10-09 19:57:29.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 14567}, {'_account_id': 20635}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-06-13 18:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a6fee49211830b757298778bed82188370dcd61f', 'message': 'Improve upgrade guide according to bugs and tips\n\n- When upgrading HA-clustered deployments with pause/resume,\nhacluster units need to be paused first so VIP are migrated and\nthe unit being upgraded does not receive API requests.\n\n- Currently nova-related charms do not support RPC version\npinning or auto-negotiation, so it is not recommended that\nnova-compute is upgraded separately than nova-cloud-controller\n(should be upgraded immediately after), as RPC version mismatch\nwill cause internal errors and API unavailability.\n\n- Added troubleshooting tip about config-changed hooks that are\nhaving their behavior often changed in charms and juju, so it\nmight help addressing some upgrade difficulties.\n\nChange-Id: Ib63999848bae754e8fe61cd5f55345a000bc847c\n'}, {'number': 2, 'created': '2019-06-13 20:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/a195619ab1a9fac60de8ffc5e122f8b501a846fd', 'message': 'Improve upgrade guide according to bugs and tips\n\n- When upgrading HA-clustered deployments with pause/resume,\nhacluster units need to be paused first so VIP are migrated and\nthe unit being upgraded does not receive API requests.\n\n- Currently nova-related charms do not support RPC version\npinning or auto-negotiation, so it is not recommended that\nnova-compute is upgraded separately than nova-cloud-controller\n(should be upgraded immediately after), as RPC version mismatch\nwill cause internal errors and API unavailability.\n\n- Added troubleshooting tip about config-changed hooks that are\nhaving their behavior often changed in charms and juju, so it\nmight help addressing some upgrade difficulties.\n\nChange-Id: Ib63999848bae754e8fe61cd5f55345a000bc847c\n'}, {'number': 3, 'created': '2019-10-09 17:12:42.000000000', 'files': ['deploy-guide/source/app-upgrade-openstack.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/debe8c3d3038232a27599ef616591bfba2cae6d0', 'message': 'Improve upgrade guide according to bugs and tips\n\n- When upgrading HA-clustered deployments with pause/resume,\nhacluster units need to be paused first so VIP are migrated and\nthe unit being upgraded does not receive API requests.\n\n- Currently nova-related charms do not support RPC version\npinning or auto-negotiation, so it is not recommended that\nnova-compute is upgraded separately than nova-cloud-controller\n(should be upgraded immediately after), as RPC version mismatch\nwill cause internal errors and API unavailability.\n\nChange-Id: Ib63999848bae754e8fe61cd5f55345a000bc847c\n'}]",14,665210,debe8c3d3038232a27599ef616591bfba2cae6d0,18,6,3,14567,,,0,"Improve upgrade guide according to bugs and tips

- When upgrading HA-clustered deployments with pause/resume,
hacluster units need to be paused first so VIP are migrated and
the unit being upgraded does not receive API requests.

- Currently nova-related charms do not support RPC version
pinning or auto-negotiation, so it is not recommended that
nova-compute is upgraded separately than nova-cloud-controller
(should be upgraded immediately after), as RPC version mismatch
will cause internal errors and API unavailability.

Change-Id: Ib63999848bae754e8fe61cd5f55345a000bc847c
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/10/665210/3 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-upgrade-openstack.rst'],1,a6fee49211830b757298778bed82188370dcd61f,,"| 3 | nova-compute | Compute |For example to upgrade a three node nova-cloud-controller service with HA from Ocata to Pike where nova-cloud-controller/2 is the leader: juju run-action nova-cloud-controller-hacluster/2 --wait pause juju run-action nova-cloud-controller-hacluster/2 --wait resume juju run-action nova-cloud-controller-hacluster/1 --wait pause juju run-action nova-cloud-controller-hacluster/2 --wait resume juju run-action nova-cloud-controller-hacluster/0 --wait pause juju run-action nova-cloud-controller-hacluster/0 --wait resumeIf it is not possible to upgrade neutron and nova within the same maintenance window, be mindful that the RPC communication between nova-cloud-controller, nova-compute and nova-api-metadata is very likely to present several errors while those services are not running the same version. This is due to the fact that currently those charms do not support RPC version pinning or auto-negotiation. Lack of config-change hook and paused units ------------------------------------------- Depending on your juju and charm version, you may lack a call to a config change upon completion of charm or OpenStack service upgrade. If after following the steps of this guide you still have problems after upgrading, it may be a good idea to force a call to config-changed hook. Make sure your unit is not paused while running: .. code:: bash juju run --unit {unit-name}/{unit-number} ./hooks/config-changed",| 4 | nova-compute | Compute |For example to upgrade a three node nova-cloud-controller service from Ocata to Pike where nova-cloud-controller/2 is the leader:,31,3
openstack%2Fpuppet-openstack_spec_helper~master~Ifae4f473e8a9b5e7c460ab921ce6e3c13f94c044,openstack/puppet-openstack_spec_helper,master,Ifae4f473e8a9b5e7c460ab921ce6e3c13f94c044,Update master for stable/train,MERGED,2019-10-08 14:57:10.000000000,2019-10-09 19:57:29.000000000,2019-10-09 19:56:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 14:57:10.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/75e93846ac932f59ff9e8be8ff933f3eae6cca2a', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ifae4f473e8a9b5e7c460ab921ce6e3c13f94c044\nSem-Ver: feature\n'}]",0,687325,75e93846ac932f59ff9e8be8ff933f3eae6cca2a,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ifae4f473e8a9b5e7c460ab921ce6e3c13f94c044
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/25/687325/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,75e93846ac932f59ff9e8be8ff933f3eae6cca2a,reno-train, train,,7,0
openstack%2Fpython-tripleoclient~master~Ie7f1a4269936f98ad86db4993992e0b9a27edf73,openstack/python-tripleoclient,master,Ie7f1a4269936f98ad86db4993992e0b9a27edf73,Handle a deployment that was manually cancelled.,MERGED,2019-10-02 16:10:01.000000000,2019-10-09 19:40:41.000000000,2019-10-09 19:39:31.000000000,"[{'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-10-02 16:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6356ddd083d0b09b50594232419354efed16b6a5', 'message': '[WIP] Handle a deployment that was manually cancelled.\n\nWhen doing a deployment or update, if the end-user\nuses CTRL+c to end it early, it will fail complaining\nthat there is no passwords key in the plan. We will\nnow handle this and cleanup the existing plan.\n\nChange-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73\nResolves: rhbz#1753251\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 2, 'created': '2019-10-02 17:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9a9f37cef49d68483b2da76b8a932fba1e8e92d9', 'message': 'Handle a deployment that was manually cancelled.\n\nWhen doing a deployment or update, if the end-user\nuses CTRL+c to end it early, it will fail complaining\nthat there is no passwords key in the plan. We will\nnow handle this and cleanup the existing plan.\n\nChange-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73\nResolves: rhbz#1753251\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 3, 'created': '2019-10-02 17:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/30bb9f1555da4e79fdad77291b18d527a8e3d85e', 'message': 'Handle a deployment that was manually cancelled.\n\nWhen doing a deployment or update, if the end-user\nuses CTRL+c to end it early, it will fail complaining\nthat there is no passwords key in the plan. We will\nnow handle this and cleanup the existing plan.\n\nChange-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73\nResolves: rhbz#1753251\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 4, 'created': '2019-10-03 21:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f503b5052c9300263d0dd28d4581e827d8a4319e', 'message': 'Handle a deployment that was manually cancelled.\n\nWhen doing a deployment or update, if the end-user\nuses CTRL+c to end it early, it will fail complaining\nthat there is no passwords key in the plan. We will\nnow handle this and cleanup the existing plan.\n\nChange-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73\nResolves: rhbz#1753251\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 5, 'created': '2019-10-04 13:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c0e6f69044d4cb31d0e16ac6de4a1709265036c9', 'message': 'Handle a deployment that was manually cancelled.\n\nWhen doing a deployment or update, if the end-user uses CTRL+c\n(SIGINT) to end it early, it will fail complaining that there is\nno passwords key in the plan. We will now handle this and cleanup\nthe existing plan.\n\nChange-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73\nResolves: rhbz#1753251\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}, {'number': 6, 'created': '2019-10-08 17:41:38.000000000', 'files': ['tripleoclient/workflows/plan_management.py', 'tripleoclient/tests/workflows/test_plan_management.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/72850060e058274bb55aadbf2963f4f46ba3be3a', 'message': 'Handle a deployment that was manually cancelled.\n\nWhen doing a deployment or update, if the end-user uses CTRL+c\n(SIGINT) to end it early, it will fail complaining that there is\nno passwords key in the plan. We will now handle this and cleanup\nthe existing plan.\n\nChange-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73\nCloses-Bug: #1819672\nResolves: rhbz#1753251\nSigned-off-by: ekultails <ekultails@gmail.com>\n'}]",8,686202,72850060e058274bb55aadbf2963f4f46ba3be3a,28,7,6,25877,,,0,"Handle a deployment that was manually cancelled.

When doing a deployment or update, if the end-user uses CTRL+c
(SIGINT) to end it early, it will fail complaining that there is
no passwords key in the plan. We will now handle this and cleanup
the existing plan.

Change-Id: Ie7f1a4269936f98ad86db4993992e0b9a27edf73
Closes-Bug: #1819672
Resolves: rhbz#1753251
Signed-off-by: ekultails <ekultails@gmail.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/02/686202/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/plan_management.py'],1,6356ddd083d0b09b50594232419354efed16b6a5,," if ""passwords"" in plan_env: return plan_env['passwords'] else: LOG.error(""No passwords in plan. The deployment plan "" + ""%s is incompelete."", name) return False", return plan_env['passwords'],7,1
openstack%2Fpuppet-freezer~stable%2Ftrain~Ic4af64561791403054447c035e8b1f6ce0308fce,openstack/puppet-freezer,stable/train,Ic4af64561791403054447c035e8b1f6ce0308fce,Update .gitreview for stable/train,MERGED,2019-10-07 13:33:58.000000000,2019-10-09 19:26:59.000000000,2019-10-09 19:26:58.000000000,"[{'_account_id': 11904}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 13:33:58.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/puppet-freezer/commit/809f75f31928beb28e426f83668e6f048ea12d5d', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ic4af64561791403054447c035e8b1f6ce0308fce\n'}]",0,687032,809f75f31928beb28e426f83668e6f048ea12d5d,8,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ic4af64561791403054447c035e8b1f6ce0308fce
",git fetch https://review.opendev.org/openstack/puppet-freezer refs/changes/32/687032/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,809f75f31928beb28e426f83668e6f048ea12d5d,create-train,defaultbranch=stable/train,,1,0
openstack%2Frequirements~master~I86b68ae2e55793552471017e58b06b0e31e6bc29,openstack/requirements,master,I86b68ae2e55793552471017e58b06b0e31e6bc29,update constraint for python-cinderclient to new release 5.0.0,MERGED,2019-09-12 14:36:14.000000000,2019-10-09 19:25:21.000000000,2019-09-14 21:25:51.000000000,"[{'_account_id': 6547}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-09-12 14:36:14.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6d52a715004521093f02bbf1f07d500b4882ad63', 'message': 'update constraint for python-cinderclient to new release 5.0.0\n\nChange-Id: I86b68ae2e55793552471017e58b06b0e31e6bc29\nmeta:version: 5.0.0\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release\nmeta:pypi: yes\nmeta:first: no\nmeta:release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>\nmeta:release:Change-Id: I5745e422c1c9107ef6039f039e683b99719cd44f\nmeta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>\nmeta:release:Code-Review+1: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,681766,6d52a715004521093f02bbf1f07d500b4882ad63,15,4,1,11131,,,0,"update constraint for python-cinderclient to new release 5.0.0

Change-Id: I86b68ae2e55793552471017e58b06b0e31e6bc29
meta:version: 5.0.0
meta:diff-start: -
meta:series: train
meta:release-type: release
meta:pypi: yes
meta:first: no
meta:release:Author: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Commit: Brian Rosmaita <rosmaita.fossdev@gmail.com>
meta:release:Change-Id: I5745e422c1c9107ef6039f039e683b99719cd44f
meta:release:Code-Review+1: Ivan Kolodyazhny <e0ne@e0ne.info>
meta:release:Code-Review+1: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Workflow+1: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/66/681766/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6d52a715004521093f02bbf1f07d500b4882ad63,new-release,python-cinderclient===5.0.0,python-cinderclient===4.3.0,1,1
openstack%2Fcongress-dashboard~stable%2Ftrain~I124692cf622fe6e3b4fda20729f217cb8ea19336,openstack/congress-dashboard,stable/train,I124692cf622fe6e3b4fda20729f217cb8ea19336,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-26 09:30:11.000000000,2019-10-09 19:14:55.000000000,2019-10-09 19:12:40.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 09:30:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/a91053b8d08f71cef8d2029545fcdc860034d8c5', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I124692cf622fe6e3b4fda20729f217cb8ea19336\n'}]",0,684994,a91053b8d08f71cef8d2029545fcdc860034d8c5,9,4,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I124692cf622fe6e3b4fda20729f217cb8ea19336
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/94/684994/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a91053b8d08f71cef8d2029545fcdc860034d8c5,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fcongress-dashboard~stable%2Ftrain~Ia792d37175d496e02b5dc53b510899ba63f53e61,openstack/congress-dashboard,stable/train,Ia792d37175d496e02b5dc53b510899ba63f53e61,Update .gitreview for stable/train,MERGED,2019-09-26 09:30:09.000000000,2019-10-09 19:13:53.000000000,2019-10-09 19:12:39.000000000,"[{'_account_id': 1736}, {'_account_id': 11904}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 09:30:09.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/33fc0297dfea475011c7b6ced02ad6e72a5e22a3', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Ia792d37175d496e02b5dc53b510899ba63f53e61\n'}]",0,684993,33fc0297dfea475011c7b6ced02ad6e72a5e22a3,9,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: Ia792d37175d496e02b5dc53b510899ba63f53e61
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/93/684993/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,33fc0297dfea475011c7b6ced02ad6e72a5e22a3,create-train,defaultbranch=stable/train,,1,0
openstack%2Fcongress-dashboard~master~Ifff577ba55ace6169806cee0b2ef83cec569ae5e,openstack/congress-dashboard,master,Ifff577ba55ace6169806cee0b2ef83cec569ae5e,Update master for stable/train,MERGED,2019-09-26 09:30:13.000000000,2019-10-09 19:13:52.000000000,2019-10-09 19:12:41.000000000,"[{'_account_id': 1736}, {'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 09:30:13.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/congress-dashboard/commit/11e0c7838abeab61aecad6813291d0e028c886c7', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: Ifff577ba55ace6169806cee0b2ef83cec569ae5e\nSem-Ver: feature\n'}]",0,684995,11e0c7838abeab61aecad6813291d0e028c886c7,8,3,1,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: Ifff577ba55ace6169806cee0b2ef83cec569ae5e
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/congress-dashboard refs/changes/95/684995/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/index.rst']",2,11e0c7838abeab61aecad6813291d0e028c886c7,reno-train, train,,7,0
openstack%2Fpython-congressclient~master~I202a175512f7bdf9230e214606fa322f3478351c,openstack/python-congressclient,master,I202a175512f7bdf9230e214606fa322f3478351c,Update master for stable/train,MERGED,2019-09-13 14:51:37.000000000,2019-10-09 19:05:48.000000000,2019-10-09 19:03:48.000000000,"[{'_account_id': 18591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-13 14:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/dadaed17c4a2fa8d8cf285574e4d364d5cd49bf3', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I202a175512f7bdf9230e214606fa322f3478351c\nSem-Ver: feature\n'}, {'number': 2, 'created': '2019-09-25 21:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/ec80f09a5518f6e6fb1f03b69355880cc4e30d4e', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I202a175512f7bdf9230e214606fa322f3478351c\nSem-Ver: feature\n'}, {'number': 3, 'created': '2019-09-25 22:03:21.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-congressclient/commit/936b09d617b68a9c2215a0599c8e342a323f00e4', 'message': 'Update master for stable/train\n\nAdd file to the reno documentation build to show release notes for\nstable/train.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/train.\n\nChange-Id: I202a175512f7bdf9230e214606fa322f3478351c\nSem-Ver: feature\n'}]",0,682072,936b09d617b68a9c2215a0599c8e342a323f00e4,12,2,3,22816,,,0,"Update master for stable/train

Add file to the reno documentation build to show release notes for
stable/train.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/train.

Change-Id: I202a175512f7bdf9230e214606fa322f3478351c
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/python-congressclient refs/changes/72/682072/3 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/train.rst'],1,dadaed17c4a2fa8d8cf285574e4d364d5cd49bf3,reno-train,=================================== Train Series Release Notes =================================== .. release-notes:: :branch: stable/train ,,6,0
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I04095a7d36219175c09d4503f2347ab035d3e242,openstack/kuryr-kubernetes,stable/train,I04095a7d36219175c09d4503f2347ab035d3e242,Ensure pod IP is retrieved from annotation,MERGED,2019-09-30 14:05:24.000000000,2019-10-09 19:05:36.000000000,2019-10-09 19:03:46.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-09-30 14:05:24.000000000', 'files': ['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/793de5e9efdb01262dda0cf9f7ff0a7fd32eeafc', 'message': ""Ensure pod IP is retrieved from annotation\n\nWe are retrieving the pod IP from a nonexistent annotation\nfield, when should be from the annotations in the pod metadata.\nAlso, when this information is not present we keep retrying with\nthe same pod object, which doesn't contains an annotation\ncausing the controller restart.\n\nCloses-Bug: 1845635\nChange-Id: I04095a7d36219175c09d4503f2347ab035d3e242\n(cherry picked from commit 9dfc5a1dd36e7c1691f5fbcfe9ec506f8dc5d2b9)\n""}]",0,685718,793de5e9efdb01262dda0cf9f7ff0a7fd32eeafc,15,5,1,23567,,,0,"Ensure pod IP is retrieved from annotation

We are retrieving the pod IP from a nonexistent annotation
field, when should be from the annotations in the pod metadata.
Also, when this information is not present we keep retrying with
the same pod object, which doesn't contains an annotation
causing the controller restart.

Closes-Bug: 1845635
Change-Id: I04095a7d36219175c09d4503f2347ab035d3e242
(cherry picked from commit 9dfc5a1dd36e7c1691f5fbcfe9ec506f8dc5d2b9)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/18/685718/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py']",2,793de5e9efdb01262dda0cf9f7ff0a7fd32eeafc,bug/1845635-stable/train," if not pod_ip: LOG.debug(""Skipping SG rule creation for pod %s due to "" ""no IP assigned"", pod['metadata']['name']) continue if not pod_ip: LOG.debug(""Skipping SG rule creation for pod %s due to no IP "" ""assigned"", rule_selected_pod['metadata']['name']) continue if not pod_ip: LOG.debug(""Skipping SG rule creation for pod %s due to "" ""no IP assigned"", pod['metadata']['name']) return None if not pod_ip: pod_name = pod['metadata']['name'] LOG.debug(""Skipping SG rule creation for pod "" ""%s due to no IP assigned"", pod_name) continue if not pod_ip: pod_name = pod['metadata']['name'] LOG.debug(""Skipping SG rule creation for pod %s due"" "" to no IP assigned"", pod_name) continue if not pod_ip: LOG.debug(""Skipping SG rule deletion as pod %s has no IP assigned"", pod['metadata']['name']) return None",,30,2
openstack%2Fdesignate-dashboard~master~I32a39fd2bde587a9891dea288026cc4518e89068,openstack/designate-dashboard,master,I32a39fd2bde587a9891dea288026cc4518e89068,Use Horizon project template for django jobs,MERGED,2019-10-05 09:56:53.000000000,2019-10-09 19:05:08.000000000,2019-10-09 19:02:16.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-05 09:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/55d548d17d1b958df27c2154a6bd7626059ed93d', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I32a39fd2bde587a9891dea288026cc4518e89068\n""}, {'number': 2, 'created': '2019-10-09 16:18:15.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/a299e5e34d6d14bcb163515105d51a2792acc1f2', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I32a39fd2bde587a9891dea288026cc4518e89068\n""}]",1,686880,a299e5e34d6d14bcb163515105d51a2792acc1f2,15,5,2,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I32a39fd2bde587a9891dea288026cc4518e89068
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/80/686880/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,55d548d17d1b958df27c2154a6bd7626059ed93d,django22,"envlist = py27,py37,py3-{dj111,dj22},pep8 dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3","envlist = py27,py37,pep8 [testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 {[testenv]commands}",4,14
openstack%2Fironic-python-agent-builder~master~Id47b8ff78506a15045cf31a5f619649a0b3147ed,openstack/ironic-python-agent-builder,master,Id47b8ff78506a15045cf31a5f619649a0b3147ed,DIB: do not mention dhcp-all-interfaces explicitly,MERGED,2019-09-30 18:49:33.000000000,2019-10-09 18:46:36.000000000,2019-10-09 18:45:25.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-30 18:49:33.000000000', 'files': ['roles/ipa-build-dib-image/tasks/main.yaml', 'doc/source/admin/dib.rst'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/ee436f14783a3e6e95faf83cab0844d29da9292a', 'message': ""DIB: do not mention dhcp-all-interfaces explicitly\n\nIt's a dependency of the ironic-python-agent-ramdisk element, so\nit will be included anyway.\n\nDepends-On: https://review.opendev.org/684304\nChange-Id: Id47b8ff78506a15045cf31a5f619649a0b3147ed\n""}]",0,685776,ee436f14783a3e6e95faf83cab0844d29da9292a,16,4,1,10239,,,0,"DIB: do not mention dhcp-all-interfaces explicitly

It's a dependency of the ironic-python-agent-ramdisk element, so
it will be included anyway.

Depends-On: https://review.opendev.org/684304
Change-Id: Id47b8ff78506a15045cf31a5f619649a0b3147ed
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/76/685776/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ipa-build-dib-image/tasks/main.yaml', 'doc/source/admin/dib.rst']",2,ee436f14783a3e6e95faf83cab0844d29da9292a,dhcp-all,You can add other diskimage-builder_ elements via the ``-e`` flag: ironic-python-agent-builder -e <extra-element> centos7 ironic-python-agent-builder -o my-ipa centos7,"You can add other diskimage-builder_ elements via the ``-e`` flag. For example, dhcp-all-interfaces_ is required for automatic DHCP on some operating systems (e.g. CentOS 7): ironic-python-agent-builder -e dhcp-all-interfaces centos7 ironic-python-agent-builder -o my-ipa -e dhcp-all-interfaces centos7.. _dhcp-all-interfaces: https://docs.openstack.org/diskimage-builder/latest/elements/dhcp-all-interfaces/README.html",4,7
openstack%2Fironic-python-agent-builder~master~Ib86ce189a892eafdb9646063d45b484b81e16ce0,openstack/ironic-python-agent-builder,master,Ib86ce189a892eafdb9646063d45b484b81e16ce0,DIB: add non-voting image building jobs for various distros,MERGED,2019-09-30 12:12:12.000000000,2019-10-09 18:44:33.000000000,2019-10-09 18:42:05.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-09-30 12:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/db496b7531593111c1c2690f93c446de3d1964cf', 'message': 'DIB: add non-voting image building jobs for various distros\n\nThis way we can track if image building still works on them.\n\nChange-Id: Ib86ce189a892eafdb9646063d45b484b81e16ce0\n'}, {'number': 2, 'created': '2019-10-09 07:48:02.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent-builder/commit/59e683cfd700281aae3d6d8766f22f9e0ae6e75e', 'message': 'DIB: add non-voting image building jobs for various distros\n\nThis way we can track if image building still works on them.\n\nChange-Id: Ib86ce189a892eafdb9646063d45b484b81e16ce0\n'}]",0,685696,59e683cfd700281aae3d6d8766f22f9e0ae6e75e,15,4,2,10239,,,0,"DIB: add non-voting image building jobs for various distros

This way we can track if image building still works on them.

Change-Id: Ib86ce189a892eafdb9646063d45b484b81e16ce0
",git fetch https://review.opendev.org/openstack/ironic-python-agent-builder refs/changes/96/685696/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,db496b7531593111c1c2690f93c446de3d1964cf,jobs,- job: name: ironic-python-agent-check-image-dib-fedora parent: ironic-python-agent-check-image-base required-projects: # NOTE(dtantsur): used for bindep only - openstack/diskimage-builder vars: image_type: 'dib' image_distro: 'fedora' - job: name: ironic-python-agent-check-image-dib-debian parent: ironic-python-agent-check-image-base required-projects: # NOTE(dtantsur): used for bindep only - openstack/diskimage-builder vars: image_type: 'dib' image_distro: 'debian' - job: name: ironic-python-agent-check-image-dib-ubuntu parent: ironic-python-agent-check-image-base required-projects: # NOTE(dtantsur): used for bindep only - openstack/diskimage-builder vars: image_type: 'dib' image_distro: 'ubuntu' - ironic-python-agent-check-image-dib-fedora: voting: false - ironic-python-agent-check-image-dib-ubuntu: voting: false - ironic-python-agent-check-image-dib-debian: voting: false,,36,0
openstack%2Fnova~master~I6b3f61525883a019703cf564e693516b3b61febc,openstack/nova,master,I6b3f61525883a019703cf564e693516b3b61febc,Remove @safe_connect from put_allocations,MERGED,2019-10-04 12:02:26.000000000,2019-10-09 18:36:08.000000000,2019-10-09 18:33:21.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 12:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dbe3b2e5b7c849af0f82b349afec57aaad7d2847', 'message': 'Remove @safe_connect from put_allocations\n\nThe only user of put_allocations of the report client is\nheal_allocations. It is easy to remove the @safe_connect decorator\nfrom put_allocations as heal_allocations already handles\nPlacementAPIConnectFailure exception.\n\nThis patch changes heal_allocations to raise\nPlacementAPIConnectFailure instead of relying on @safe_connect.\n\nChange-Id: I6b3f61525883a019703cf564e693516b3b61febc\n'}, {'number': 2, 'created': '2019-10-08 10:45:31.000000000', 'files': ['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15c71ccf8eae7b1a02fc72beed7c72663c0ac549', 'message': 'Remove @safe_connect from put_allocations\n\nThe only user of put_allocations of the report client is\nheal_allocations. It is easy to remove the @safe_connect decorator\nfrom put_allocations as heal_allocations already handles\nPlacementAPIConnectFailure exception.\n\nThis patch changes heal_allocations to raise\nPlacementAPIConnectFailure instead of relying on @safe_connect.\n\nChange-Id: I6b3f61525883a019703cf564e693516b3b61febc\n'}]",4,686579,15c71ccf8eae7b1a02fc72beed7c72663c0ac549,36,14,2,9708,,,0,"Remove @safe_connect from put_allocations

The only user of put_allocations of the report client is
heal_allocations. It is easy to remove the @safe_connect decorator
from put_allocations as heal_allocations already handles
PlacementAPIConnectFailure exception.

This patch changes heal_allocations to raise
PlacementAPIConnectFailure instead of relying on @safe_connect.

Change-Id: I6b3f61525883a019703cf564e693516b3b61febc
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/686579/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py', 'nova/cmd/manage.py']",3,dbe3b2e5b7c849af0f82b349afec57aaad7d2847,kill_safe_connect, # and re-put them. We don't use here, # and re-put them. We don't use put_allocations here,16,6
openstack%2Fopenstack-ansible~master~I19354738c101f104a90eed7745e4a0ea0f23ddd3,openstack/openstack-ansible,master,I19354738c101f104a90eed7745e4a0ea0f23ddd3,Remove use of nested curly braces,MERGED,2019-09-23 19:38:47.000000000,2019-10-09 18:35:26.000000000,2019-10-09 18:32:51.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-23 19:38:47.000000000', 'files': ['playbooks/common-tasks/os-lxc-container-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/290f8f61293d80bb2519c310a2ff9171f6888ca8', 'message': 'Remove use of nested curly braces\n\nThis is not valid syntax and should not be used. The inner braces are\nnot evaluated on future ansible versions leading to incorrect behaviour.\n\nChange-Id: I19354738c101f104a90eed7745e4a0ea0f23ddd3\n'}]",0,684125,290f8f61293d80bb2519c310a2ff9171f6888ca8,20,5,1,25023,,,0,"Remove use of nested curly braces

This is not valid syntax and should not be used. The inner braces are
not evaluated on future ansible versions leading to incorrect behaviour.

Change-Id: I19354738c101f104a90eed7745e4a0ea0f23ddd3
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/684125/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/os-lxc-container-setup.yml'],1,290f8f61293d80bb2519c310a2ff9171f6888ca8,osa-ansible-2.9," lxc_default_bind_mounts: '{{ lxc_default_bind_mounts | default([{""bind_dir_path"": ""/var/log"", ""mount_path"": ""/openstack/log/"" ~ inventory_hostname}]) }}'"," lxc_default_bind_mounts: '{{ lxc_default_bind_mounts | default([{""bind_dir_path"": ""/var/log"", ""mount_path"": ""/openstack/log/{{ inventory_hostname }}""}]) }}'",1,1
openstack%2Fmistral~stable%2Ftrain~Ic3ac2c8ba0ce546fc5654650ac6f5c9b533bdc04,openstack/mistral,stable/train,Ic3ac2c8ba0ce546fc5654650ac6f5c9b533bdc04,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-27 20:40:16.000000000,2019-10-09 18:11:22.000000000,2019-10-09 18:10:05.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 20:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4385d973ce9db50eb2e746e191f67d183fff5fd6', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic3ac2c8ba0ce546fc5654650ac6f5c9b533bdc04\n'}, {'number': 2, 'created': '2019-10-09 16:11:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral/commit/016509eb5ea673dd66cff04bb457645be1618653', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ic3ac2c8ba0ce546fc5654650ac6f5c9b533bdc04\n'}]",0,685478,016509eb5ea673dd66cff04bb457645be1618653,10,2,2,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ic3ac2c8ba0ce546fc5654650ac6f5c9b533bdc04
",git fetch https://review.opendev.org/openstack/mistral refs/changes/78/685478/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4385d973ce9db50eb2e746e191f67d183fff5fd6,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fpuppet-designate~stable%2Ftrain~Ic9ca6ee2e7cf927d926155ea73e65fb250ca083a,openstack/puppet-designate,stable/train,Ic9ca6ee2e7cf927d926155ea73e65fb250ca083a,Deprecated designate::pool_manager,MERGED,2019-10-08 15:33:53.000000000,2019-10-09 18:01:42.000000000,2019-10-09 17:59:56.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 15:33:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/24c65de9070c2f4cb47081bc376b67550313917d', 'message': 'Deprecated designate::pool_manager\n\nThe pool-manager is completely removed from\nDesignate in Train [1] so we should deprecate\nit before final release.\n\n[1] https://docs.openstack.org/releasenotes/designate/train.html\n\nChange-Id: Ic9ca6ee2e7cf927d926155ea73e65fb250ca083a\n'}, {'number': 2, 'created': '2019-10-08 15:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/03dcb5a7864592ddb33603eefa12c5d1bbfaad6a', 'message': 'Deprecated designate::pool_manager\n\nThe pool-manager is completely removed from\nDesignate in Train [1] so we should deprecate\nit before final release.\n\n[1] https://docs.openstack.org/releasenotes/designate/train.html\n\nDepends-On: https://review.opendev.org/#/c/687247/\nChange-Id: Ic9ca6ee2e7cf927d926155ea73e65fb250ca083a\n'}, {'number': 3, 'created': '2019-10-08 16:07:02.000000000', 'files': ['spec/classes/designate_pool_manager_cache_sqlalchemy_spec.rb', 'manifests/pool_manager.pp', 'manifests/pool_manager_cache/memcache.pp', 'spec/classes/designate_pool_manager_spec.rb', 'manifests/pool_manager_cache/sqlalchemy.pp', 'releasenotes/notes/deprecate-designate-pool-manager-1cc74f76f0488dd5.yaml', 'spec/classes/designate_pool_manager_cache_memcache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/a89d6bc336ae4f87a48ecbc915bbd4155582eaf7', 'message': 'Deprecated designate::pool_manager\n\nThe pool-manager is completely removed from\nDesignate in Train [1] so we should deprecate\nit before final release.\n\n[1] https://docs.openstack.org/releasenotes/designate/train.html\n\nDepends-On: https://review.opendev.org/#/c/687343/\nChange-Id: Ic9ca6ee2e7cf927d926155ea73e65fb250ca083a\n'}]",0,687333,a89d6bc336ae4f87a48ecbc915bbd4155582eaf7,14,5,3,16137,,,0,"Deprecated designate::pool_manager

The pool-manager is completely removed from
Designate in Train [1] so we should deprecate
it before final release.

[1] https://docs.openstack.org/releasenotes/designate/train.html

Depends-On: https://review.opendev.org/#/c/687343/
Change-Id: Ic9ca6ee2e7cf927d926155ea73e65fb250ca083a
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/33/687333/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/designate_pool_manager_cache_sqlalchemy_spec.rb', 'manifests/pool_manager.pp', 'manifests/pool_manager_cache/memcache.pp', 'spec/classes/designate_pool_manager_spec.rb', 'manifests/pool_manager_cache/sqlalchemy.pp', 'releasenotes/notes/deprecate-designate-pool-manager-1cc74f76f0488dd5.yaml', 'spec/classes/designate_pool_manager_cache_memcache_spec.rb']",7,24c65de9070c2f4cb47081bc376b67550313917d,deprecate-pool-manager,,"# # Unit tests for designate::pool_manager # require 'spec_helper' describe 'designate::pool_manager_cache::memcache' do let :params do { } end shared_examples 'designate-pool-manager-cache-memcache' do context 'with default parameters' do it { is_expected.to contain_class('designate::pool_manager_cache::memcache') } it 'configures designate-pool-manager with required parameters' do is_expected.to contain_designate_config('service:pool_manager/cache_driver').with_value('memcache') is_expected.to contain_designate_config('pool_manager_cache:memcache/memcached_servers').with_value(['127.0.0.1']) is_expected.to contain_designate_config('pool_manager_cache:memcache/expiration').with_value('<SERVICE DEFAULT>') end end context 'with all parameters' do before do params.merge!( { :memcached_servers => ['192.168.0.1'], :expiration => 123 } ) end it { is_expected.to contain_class('designate::pool_manager_cache::memcache') } it 'configures designate-pool-manager with required parameters' do is_expected.to contain_designate_config('service:pool_manager/cache_driver').with_value('memcache') is_expected.to contain_designate_config('pool_manager_cache:memcache/memcached_servers').with_value( params[:memcached_servers] ) is_expected.to contain_designate_config('pool_manager_cache:memcache/expiration').with_value( params[:expiration] ) end end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end let(:platform_params) do case facts[:osfamily] when 'Debian' { :pool_manager_package_name => 'designate-pool-manager', :pool_manager_service_name => 'designate-pool-manager' } when 'RedHat' { :pool_manager_package_name => 'openstack-designate-pool-manager', :pool_manager_service_name => 'designate-pool-manager' } end end it_behaves_like 'designate-pool-manager-cache-memcache' end end end ",21,330
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I6f55fe4e25e5956d758e7da84eb8eb172c8cd585,openstack/kuryr-kubernetes,stable/train,I6f55fe4e25e5956d758e7da84eb8eb172c8cd585,Make sure subports are unique when removing them,MERGED,2019-10-09 12:15:21.000000000,2019-10-09 18:01:03.000000000,2019-10-09 17:58:43.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 12:15:21.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/710fcb5689e9cbb696222259cebc6d2ce28f04da', 'message': 'Make sure subports are unique when removing them\n\nNeutron cares about subports of the trunk being unique. This commit\nmakes sure that is true when removing them by applying `set()` to list\nof removed subports.\n\nChange-Id: I6f55fe4e25e5956d758e7da84eb8eb172c8cd585\nCloses-Bug: 1847287\n(cherry picked from commit 9172f378e00a7fd9355b7f959ea367e49ddc85a5)\n'}]",0,687542,710fcb5689e9cbb696222259cebc6d2ce28f04da,8,2,1,23567,,,0,"Make sure subports are unique when removing them

Neutron cares about subports of the trunk being unique. This commit
makes sure that is true when removing them by applying `set()` to list
of removed subports.

Change-Id: I6f55fe4e25e5956d758e7da84eb8eb172c8cd585
Closes-Bug: 1847287
(cherry picked from commit 9172f378e00a7fd9355b7f959ea367e49ddc85a5)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/42/687542/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py']",2,710fcb5689e9cbb696222259cebc6d2ce28f04da,bug/1847287-stable/train, for subport_id in set(subports_id):, for subport_id in subports_id:,14,1
openstack%2Fpuppet-designate~stable%2Ftrain~Ie69c64795803c84d41d0a31b7e0a29ea493781eb,openstack/puppet-designate,stable/train,Ie69c64795803c84d41d0a31b7e0a29ea493781eb,Release 15.5.0,MERGED,2019-10-08 15:34:28.000000000,2019-10-09 17:59:57.000000000,2019-10-09 17:59:57.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 15:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/ab13ba894cea4ff9fb77f4ef10741aeb6bf2d90a', 'message': 'Release 15.5.0\n\nChange-Id: Ie69c64795803c84d41d0a31b7e0a29ea493781eb\n'}, {'number': 2, 'created': '2019-10-08 15:35:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/897a90d0d74904514700f2f92e8a48e3eb57c3d6', 'message': 'Release 15.5.0\n\nChange-Id: Ie69c64795803c84d41d0a31b7e0a29ea493781eb\n'}, {'number': 3, 'created': '2019-10-08 16:07:11.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/0543a1c2a0108fb7b67c41e6bc2fbad99eb24cb9', 'message': 'Release 15.5.0\n\nChange-Id: Ie69c64795803c84d41d0a31b7e0a29ea493781eb\n'}]",0,687334,0543a1c2a0108fb7b67c41e6bc2fbad99eb24cb9,10,4,3,16137,,,0,"Release 15.5.0

Change-Id: Ie69c64795803c84d41d0a31b7e0a29ea493781eb
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/34/687334/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,ab13ba894cea4ff9fb77f4ef10741aeb6bf2d90a,release," ""version"": ""15.5.0"""," ""version"": ""15.4.0""",1,1
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I94a288f2b66bd2444d177931f509e1b6ef250235,openstack/kuryr-kubernetes,stable/train,I94a288f2b66bd2444d177931f509e1b6ef250235,Ensure no LBaaS SG update is triggered for SVCs without selectors and ports,MERGED,2019-09-30 14:05:44.000000000,2019-10-09 17:59:55.000000000,2019-10-09 17:58:40.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-09-30 14:05:44.000000000', 'files': ['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/controller/handlers/policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/cadc1c455d00878de6bdc90a36da9369841d6b93', 'message': ""Ensure no LBaaS SG update is triggered for SVCs without selectors and ports\n\nWhen a Network Policy is enforced we shouldn't try to update the\nSG of a LBaaS that would map to a SVC without selector, as this\nkind of SVC is not wired by Kuryr. Also, we shouldn't try to update\nthe LBaaS SG when no ports are defined in the SVC spec.\n\nCloses-Bug: 1845917\nChange-Id: I94a288f2b66bd2444d177931f509e1b6ef250235\n(cherry picked from commit 68145b9b589f27b2db0130e6671c54c15f844bc6)\n""}]",0,685719,cadc1c455d00878de6bdc90a36da9369841d6b93,14,5,1,23567,,,0,"Ensure no LBaaS SG update is triggered for SVCs without selectors and ports

When a Network Policy is enforced we shouldn't try to update the
SG of a LBaaS that would map to a SVC without selector, as this
kind of SVC is not wired by Kuryr. Also, we shouldn't try to update
the LBaaS SG when no ports are defined in the SVC spec.

Closes-Bug: 1845917
Change-Id: I94a288f2b66bd2444d177931f509e1b6ef250235
(cherry picked from commit 68145b9b589f27b2db0130e6671c54c15f844bc6)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/19/685719/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/controller/handlers/pod_label.py', 'kuryr_kubernetes/controller/drivers/utils.py', 'kuryr_kubernetes/controller/drivers/lbaasv2.py', 'kuryr_kubernetes/controller/handlers/vif.py', 'kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/controller/handlers/policy.py']",6,cadc1c455d00878de6bdc90a36da9369841d6b93,bug/1845917-stable/train, if (not service['spec'].get('selector') or not if (not svc['spec'].get('selector') or not, if (service['metadata']['name'] == 'kubernetes' or not if (svc['metadata']['name'] == 'kubernetes' or not,14,11
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I1345cafffdd98077d23fd8b761c9527ff6316956,openstack/kuryr-kubernetes,stable/train,I1345cafffdd98077d23fd8b761c9527ff6316956,Ensure vif handler retry in case of missing ns resources,MERGED,2019-10-08 13:37:34.000000000,2019-10-09 17:58:43.000000000,2019-10-09 17:58:43.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-08 13:37:34.000000000', 'files': ['kuryr_kubernetes/controller/drivers/namespace_subnet.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/ec99fb5cfc2d34f7b031f3800bc1b2912b7a25c5', 'message': 'Ensure vif handler retry in case of missing ns resources\n\nThis patch ensure the on_present event of the vif handler is retried\nif all the resources related to the namespace where the pod belongs\nare not yet created.\n\nChange-Id: I1345cafffdd98077d23fd8b761c9527ff6316956\nCloses-Bug: 1847085\n(cherry picked from commit 5a4c7f2eab9ac098acc105752b84b1b1fcee55d2)\n'}]",0,687298,ec99fb5cfc2d34f7b031f3800bc1b2912b7a25c5,10,4,1,23567,,,0,"Ensure vif handler retry in case of missing ns resources

This patch ensure the on_present event of the vif handler is retried
if all the resources related to the namespace where the pod belongs
are not yet created.

Change-Id: I1345cafffdd98077d23fd8b761c9527ff6316956
Closes-Bug: 1847085
(cherry picked from commit 5a4c7f2eab9ac098acc105752b84b1b1fcee55d2)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/98/687298/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/namespace_subnet.py'],1,ec99fb5cfc2d34f7b031f3800bc1b2912b7a25c5,bug/1847085-stable/train," LOG.warning(""Namespace missing CRD annotations for selecting the "" ""corresponding subnet."") except exceptions.K8sResourceNotFound: LOG.warning(""Kuryrnet resource not yet created, retrying..."") raise exceptions.ResourceNotReady(net_crd_name)"," LOG.exception(""Namespace missing CRD annotations for selecting "" ""the corresponding subnet."")",5,2
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I7ee071b32f08af567dd92bc6e081f2cb4a3b3366,openstack/kuryr-kubernetes,stable/train,I7ee071b32f08af567dd92bc6e081f2cb4a3b3366,Ensure ports from pool do not reference deleted SGs/NPs,MERGED,2019-10-09 12:14:09.000000000,2019-10-09 17:58:42.000000000,2019-10-09 17:58:42.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 12:14:09.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/handlers/policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7ad64565d92883dff20bf3bbe8f6de49024c7a70', 'message': 'Ensure ports from pool do not reference deleted SGs/NPs\n\nWhen a NP is deleted its associated SG should be deleted too.\nHowever, when using pools, ports may have that SG assigned, not\nallowing the SG deletion and consequently stoping the kuryrnetpolicy\nassociated object deletion -- which may cause kuryr-controller crashes\ntoo\n\nCloses-Bug: 1846717\nChange-Id: I7ee071b32f08af567dd92bc6e081f2cb4a3b3366\n(cherry picked from commit d9d81d4755f89a6d45418c009206369799a52428)\n'}]",0,687541,7ad64565d92883dff20bf3bbe8f6de49024c7a70,8,3,1,23567,,,0,"Ensure ports from pool do not reference deleted SGs/NPs

When a NP is deleted its associated SG should be deleted too.
However, when using pools, ports may have that SG assigned, not
allowing the SG deletion and consequently stoping the kuryrnetpolicy
associated object deletion -- which may cause kuryr-controller crashes
too

Closes-Bug: 1846717
Change-Id: I7ee071b32f08af567dd92bc6e081f2cb4a3b3366
(cherry picked from commit d9d81d4755f89a6d45418c009206369799a52428)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/41/687541/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/handlers/policy.py']",4,7ad64565d92883dff20bf3bbe8f6de49024c7a70,bug/1846717-stable/train,"from kuryr_kubernetes import exceptions # ensure ports at the pool don't have the NP sg associated net_id = self._get_policy_net_id(policy) self._drv_vif_pool.remove_sg_from_pools(crd_sg, net_id) def _get_policy_net_id(self, policy): policy_ns = policy['metadata']['namespace'] kuryrnet_name = 'ns-' + str(policy_ns) kubernetes = clients.get_kubernetes_client() try: net_crd = kubernetes.get('{}/{}'.format( k_const.K8S_API_CRD_KURYRNETS, kuryrnet_name)) except exceptions.K8sClientException: LOG.exception(""Kubernetes Client Exception."") raise return net_crd['spec']['netId']",,72,0
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I2d454f387676201066decce9f99d2f59b1ff6a66,openstack/kuryr-kubernetes,stable/train,I2d454f387676201066decce9f99d2f59b1ff6a66,Ensure lb sg rules are updated upon namespace label updates,MERGED,2019-10-02 11:01:03.000000000,2019-10-09 17:58:41.000000000,2019-10-09 17:58:41.000000000,"[{'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-02 11:01:03.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/controller/handlers/namespace.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/118ad963fcc640938faafb3c4893b39e711597e3', 'message': 'Ensure lb sg rules are updated upon namespace label updates\n\nThis patch ensures lb sg rules are updated when NPs reference to\nnamespace labels through namespace selectors. The affected svc\nwill be updated after namespace label is updated and due to that it\neither starts or stops being referenced by the NP.\n\nCloses-Bug: 1845977\nChange-Id: I2d454f387676201066decce9f99d2f59b1ff6a66\n(cherry picked from commit 232509ee66a43a94418cf28b59bca0d879b01b65)\n'}]",0,686136,118ad963fcc640938faafb3c4893b39e711597e3,11,4,1,11600,,,0,"Ensure lb sg rules are updated upon namespace label updates

This patch ensures lb sg rules are updated when NPs reference to
namespace labels through namespace selectors. The affected svc
will be updated after namespace label is updated and due to that it
either starts or stops being referenced by the NP.

Closes-Bug: 1845977
Change-Id: I2d454f387676201066decce9f99d2f59b1ff6a66
(cherry picked from commit 232509ee66a43a94418cf28b59bca0d879b01b65)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/36/686136/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_namespace.py', 'kuryr_kubernetes/controller/drivers/network_policy_security_groups.py', 'kuryr_kubernetes/controller/handlers/namespace.py']",3,118ad963fcc640938faafb3c4893b39e711597e3,bug/1845977-stable/train,"from kuryr_kubernetes.controller.drivers import utils as driver_utils if self._is_network_policy_enabled(): self._drv_lbaas = drivers.LBaaSDriver.get_instance() self._drv_svc_sg = ( drivers.ServiceSecurityGroupsDriver.get_instance()) previous_namespace_labels = driver_utils.get_annotated_labels( if current_namespace_labels != previous_namespace_labels: crd_selectors = self._drv_sg.update_namespace_sg_rules(namespace) self._set_namespace_labels(namespace, current_namespace_labels) if (self._is_network_policy_enabled() and crd_selectors and oslo_cfg.CONF.octavia_defaults.enforce_sg_rules): services = driver_utils.get_services() self._update_services(services, crd_selectors, project_id) crd_selectors = self._drv_sg.delete_namespace_sg_rules(namespace) if (self._is_network_policy_enabled() and crd_selectors and oslo_cfg.CONF.octavia_defaults.enforce_sg_rules): project_id = self._drv_project.get_project(namespace) services = driver_utils.get_services() self._update_services(services, crd_selectors, project_id) def _update_services(self, services, crd_selectors, project_id): for service in services.get('items'): if not driver_utils.service_matches_affected_pods( service, crd_selectors): continue sgs = self._drv_svc_sg.get_security_groups(service, project_id) self._drv_lbaas.update_lbaas_sg(service, sgs) def _is_network_policy_enabled(self): enabled_handlers = oslo_cfg.CONF.kubernetes.enabled_handlers svc_sg_driver = oslo_cfg.CONF.kubernetes.service_security_groups_driver return ('policy' in enabled_handlers and svc_sg_driver == 'policy')","from kuryr_kubernetes.controller.drivers import utils as drivers_utils previous_namespace_labels = drivers_utils.get_annotated_labels( if current_namespace_labels != previous_namespace_labels: self._drv_sg.update_namespace_sg_rules(namespace) self._set_namespace_labels(namespace, current_namespace_labels) self._drv_sg.delete_namespace_sg_rules(namespace)",52,10
openstack%2Fopenstack-helm-infra~master~Ie45320bce6945cc1e3ea7ac4d6f46a1e50abf621,openstack/openstack-helm-infra,master,Ie45320bce6945cc1e3ea7ac4d6f46a1e50abf621,ceph-mon fix logging when no zombie mons found,MERGED,2019-10-08 22:37:49.000000000,2019-10-09 17:50:25.000000000,2019-10-09 17:48:47.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28719}]","[{'number': 1, 'created': '2019-10-08 22:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4e07ee039990a27138fcfd3c51b79d842db9e136', 'message': 'ceph-mon fix logging when no zombie mons found\n\nChange-Id: Ie45320bce6945cc1e3ea7ac4d6f46a1e50abf621\n'}, {'number': 2, 'created': '2019-10-08 22:41:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/354e12095c85c536cabc4aedf52959b5b943e0ce', 'message': 'ceph-mon fix logging when no zombie mons found\n\nChange-Id: Ie45320bce6945cc1e3ea7ac4d6f46a1e50abf621\n'}, {'number': 3, 'created': '2019-10-08 22:42:01.000000000', 'files': ['ceph-mon/templates/bin/moncheck/_reap-zombies.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b4004c58bb5fbcaca9cf9cbe89b234159a80517a', 'message': 'ceph-mon fix logging when no zombie mons found\n\nChange-Id: Ie45320bce6945cc1e3ea7ac4d6f46a1e50abf621\n'}]",0,687434,b4004c58bb5fbcaca9cf9cbe89b234159a80517a,28,10,3,28719,,,0,"ceph-mon fix logging when no zombie mons found

Change-Id: Ie45320bce6945cc1e3ea7ac4d6f46a1e50abf621
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/34/687434/3 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/bin/_create_template.sh.tpl', 'ceph-client/templates/bin/pool/_init.sh.tpl', 'ceph-mon/templates/bin/moncheck/_reap-zombies.py.tpl', 'prometheus/templates/bin/_helm-tests.sh.tpl', 'ceph-client/templates/bin/pool/_calc.py.tpl', 'ceph-client/templates/bin/mgr/_start.sh.tpl', 'tools/deployment/osh-infra-logging/055-elasticsearch-ldap.sh', 'elasticsearch/templates/bin/_helm-tests.sh.tpl', 'tools/images/kubeadm-aio/assets/entrypoint.sh', 'ceph-mon/templates/bin/utils/_checkObjectReplication.py.tpl', 'elasticsearch/templates/bin/_register-repository.sh.tpl']",11,4e07ee039990a27138fcfd3c51b79d842db9e136,," }' | python -c ""import sys, json; print json.load(sys.stdin)['acknowledged']"")"," }' | python -c ""import sys, json; print(json.load(sys.stdin)['acknowledged'])"")",27,28
openstack%2Ftripleo-docs~master~I1c8f252dae5cffec5f98a22274240edb60b2504d,openstack/tripleo-docs,master,I1c8f252dae5cffec5f98a22274240edb60b2504d,Add a bindep.,MERGED,2019-10-04 13:24:47.000000000,2019-10-09 17:28:51.000000000,2019-10-09 17:27:26.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-10-04 13:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/841483650f227cb66ccf8aed7f18b94ffdcee9e2', 'message': 'Add a bindep.\n\nAdd a bindep file to fix the rsvg-convert command.\n\nChange-Id: I1c8f252dae5cffec5f98a22274240edb60b2504d\n'}, {'number': 2, 'created': '2019-10-04 13:57:29.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/e017f319152f3d33c736878af64d5bdcdde69b5c', 'message': 'Add a bindep.\n\nAdd a bindep file to fix the rsvg-convert command.\n\nChange-Id: I1c8f252dae5cffec5f98a22274240edb60b2504d\n'}]",0,686637,e017f319152f3d33c736878af64d5bdcdde69b5c,12,4,2,29222,,,0,"Add a bindep.

Add a bindep file to fix the rsvg-convert command.

Change-Id: I1c8f252dae5cffec5f98a22274240edb60b2504d
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/37/686637/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,841483650f227cb66ccf8aed7f18b94ffdcee9e2,add_a_bindep_txt,librsvg2-tools [doc platform:rpm] librsvg2-bin [doc platform:dpkg] ,,2,0
openstack%2Fnova~master~Ieb4ab13cf8ca5683fcd7b18ed669e8a26659bff1,openstack/nova,master,Ieb4ab13cf8ca5683fcd7b18ed669e8a26659bff1,tox: Stop overriding the 'install_command',MERGED,2019-09-25 15:06:14.000000000,2019-10-09 17:22:02.000000000,2019-10-09 17:15:07.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-25 15:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/266c7a2708af2e9a141a3940544cf78cc44828b9', 'message': ""tox: Stop overriding the 'install_command'\n\nThis is not encouraged by infra (particularly mordred and smcginnis)\nsince it's less obvious and easy to miss.\n\nChange-Id: Ieb4ab13cf8ca5683fcd7b18ed669e8a26659bff1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-09-25 15:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23a96af38e10e0e65fb895d30b721740b2cf4a2a', 'message': ""tox: Stop overriding the 'install_command'\n\nThis is not encouraged by infra (particularly mordred and smcginnis)\nsince it's less obvious and easy to miss.\n\nChange-Id: Ieb4ab13cf8ca5683fcd7b18ed669e8a26659bff1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-09-25 17:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e240a0f26bb37a9190c1c8aefc90e81c72087865', 'message': ""tox: Stop overriding the 'install_command'\n\nThis is not encouraged by infra (particularly mordred and smcginnis)\nsince it's less obvious and easy to miss.\n\nChange-Id: Ieb4ab13cf8ca5683fcd7b18ed669e8a26659bff1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-09-27 10:21:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/19a0bdfec454bd921b718e7dc49fe2673fa79b10', 'message': ""tox: Stop overriding the 'install_command'\n\nThis is not encouraged by infra (particularly mordred and smcginnis)\nsince it's less obvious and easy to miss.\n\nChange-Id: Ieb4ab13cf8ca5683fcd7b18ed669e8a26659bff1\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",10,684775,19a0bdfec454bd921b718e7dc49fe2673fa79b10,39,13,4,15334,,,0,"tox: Stop overriding the 'install_command'

This is not encouraged by infra (particularly mordred and smcginnis)
since it's less obvious and easy to miss.

Change-Id: Ieb4ab13cf8ca5683fcd7b18ed669e8a26659bff1
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/684775/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,266c7a2708af2e9a141a3940544cf78cc44828b9,trivial,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txtdeps = {[testenv:docs]deps},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}deps = -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/doc/requirements.txtdeps = -r{toxinidir}/doc/requirements.txt# We need our own install command to avoid upper constraints being considered # when making the environment. Set usedevelop to false to avoid pbr installing # requirements for us so all requirements are installed in one call to pip.install_command = pip install {opts} {packages},9,8
openstack%2Fnova~master~I8c112bf930f5868680ba6f7be80ec7d8a7017e4b,openstack/nova,master,I8c112bf930f5868680ba6f7be80ec7d8a7017e4b,trivial: Remove unused API sample template,MERGED,2019-10-05 17:52:55.000000000,2019-10-09 17:20:22.000000000,2019-10-09 17:14:54.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-05 17:52:55.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_samples/servers/availability-zone-detail-resp.json.tpl'], 'web_link': 'https://opendev.org/openstack/nova/commit/fe99692ff93fedb4f7aa269e1b45e0f9c8d2c87e', 'message': ""trivial: Remove unused API sample template\n\nThe sample template is available in the 'os-available-zone' directory\n('../os-availability-zone/availability-zone-detail-resp.json.tpl') so it\nlooks like this was a mistake.\n\nChange-Id: I8c112bf930f5868680ba6f7be80ec7d8a7017e4b\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,686901,fe99692ff93fedb4f7aa269e1b45e0f9c8d2c87e,16,11,1,15334,,,0,"trivial: Remove unused API sample template

The sample template is available in the 'os-available-zone' directory
('../os-availability-zone/availability-zone-detail-resp.json.tpl') so it
looks like this was a mistake.

Change-Id: I8c112bf930f5868680ba6f7be80ec7d8a7017e4b
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/686901/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api_sample_tests/api_samples/servers/availability-zone-detail-resp.json.tpl'],1,fe99692ff93fedb4f7aa269e1b45e0f9c8d2c87e,bp/remove-nova-network-ussuri,,"{ ""availabilityZoneInfo"": [ { ""hosts"": { ""conductor"": { ""nova-conductor"": { ""active"": true, ""available"": true, ""updated_at"": null } }, ""network"": { ""nova-network"": { ""active"": true, ""available"": true, ""updated_at"": null } }, ""scheduler"": { ""nova-scheduler"": { ""active"": true, ""available"": true, ""updated_at"": null } } }, ""zoneName"": ""internal"", ""zoneState"": { ""available"": true } }, { ""hosts"": { ""compute"": { ""nova-compute"": { ""active"": true, ""available"": true, ""updated_at"": null } } }, ""zoneName"": ""nova"", ""zoneState"": { ""available"": true } } ] } ",0,48
openstack%2Ftempest~master~I0ea8008ad0ef18b9e45c41f9ba40a70fd6d57b6a,openstack/tempest,master,I0ea8008ad0ef18b9e45c41f9ba40a70fd6d57b6a,Add Tempest gate job for stable/train,MERGED,2019-10-04 17:31:01.000000000,2019-10-09 17:18:21.000000000,2019-10-09 17:14:51.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 17:31:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/910f9c5202977e0b43e4dd671b74f87ca43e6b6f', 'message': 'Add Tempest gate job for stable/train\n\nNow we have stable/train branch ready for devstack\nand so does for all service projects.\n\nThis commit adds the Tempest testing for stable/train\nby adding new jobs running on stable/train version of\nopenstack.\n\nChange-Id: I0ea8008ad0ef18b9e45c41f9ba40a70fd6d57b6a\n'}]",0,686781,910f9c5202977e0b43e4dd671b74f87ca43e6b6f,11,4,1,8556,,,0,"Add Tempest gate job for stable/train

Now we have stable/train branch ready for devstack
and so does for all service projects.

This commit adds the Tempest testing for stable/train
by adding new jobs running on stable/train version of
openstack.

Change-Id: I0ea8008ad0ef18b9e45c41f9ba40a70fd6d57b6a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/81/686781/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,910f9c5202977e0b43e4dd671b74f87ca43e6b6f,qa-train-release, name: tempest-full-train parent: tempest-full override-checkout: stable/train - job: name: tempest-full-train-py3 parent: tempest-full-py3 override-checkout: stable/train - job: - tempest-full-train: irrelevant-files: *tempest-irrelevant-files - tempest-full-train-py3: irrelevant-files: *tempest-irrelevant-files - tempest-full-train - tempest-full-train-py3,,16,0
openstack%2Fnova~master~Icc1531d18ea1e0692c41320a98100bba92d7b48a,openstack/nova,master,Icc1531d18ea1e0692c41320a98100bba92d7b48a,tox: Use common 'command' definition for unit tests,MERGED,2019-09-25 15:06:14.000000000,2019-10-09 17:15:01.000000000,2019-10-09 17:15:01.000000000,"[{'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-09-25 15:06:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/18ecdf5d01443eadb11592dff6da5625e198c2e7', 'message': ""tox: Use common 'command' definition for unit tests\n\nLess LoC. Winning.\n\nChange-Id: Icc1531d18ea1e0692c41320a98100bba92d7b48a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-09-25 15:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f6e30a849b04d88147333c05504bce74b0b959f', 'message': ""tox: Use common 'command' definition for unit tests\n\nLess LoC. Winning.\n\nChange-Id: Icc1531d18ea1e0692c41320a98100bba92d7b48a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-09-25 17:09:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/49ac2ed25880d95cd5e75a49c2ad7c443cef08b7', 'message': ""tox: Use common 'command' definition for unit tests\n\nLess LoC. Winning.\n\nChange-Id: Icc1531d18ea1e0692c41320a98100bba92d7b48a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-09-27 10:21:41.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/nova/commit/2a74120b73fd889930421a0a67855c73750a6752', 'message': ""tox: Use common 'command' definition for unit tests\n\nLess LoC. Winning.\n\nChange-Id: Icc1531d18ea1e0692c41320a98100bba92d7b48a\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,684774,2a74120b73fd889930421a0a67855c73750a6752,30,12,4,15334,,,0,"tox: Use common 'command' definition for unit tests

Less LoC. Winning.

Change-Id: Icc1531d18ea1e0692c41320a98100bba92d7b48a
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/684774/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,18ecdf5d01443eadb11592dff6da5625e198c2e7,trivial,commands = stestr run {posargs} env TEST_OSPROFILER=1 stestr run --combine --no-discover 'nova.tests.unit.test_profiler' {[testenv]commands}, stestr run {posargs} env TEST_OSPROFILER=1 stestr run --combine --no-discover 'nova.tests.unit.test_profiler'[testenv:py36] commands = stestr run {posargs} env TEST_OSPROFILER=1 stestr run --combine --no-discover 'nova.tests.unit.test_profiler' [testenv:py37] commands = {[testenv:py36]commands} commands = stestr run {posargs},4,13
openstack%2Fkuryr-kubernetes~master~Ie4dfca4420820d15c9cb6e78f7ca121fdb0e1658,openstack/kuryr-kubernetes,master,Ie4dfca4420820d15c9cb6e78f7ca121fdb0e1658,Avoid race between activating vif and pod deletion,MERGED,2019-10-09 09:12:21.000000000,2019-10-09 17:04:41.000000000,2019-10-09 16:36:41.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 09:12:21.000000000', 'files': ['kuryr_kubernetes/controller/handlers/vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bbf6c29ec453880c92df9018c3dec83478e60f08', 'message': 'Avoid race between activating vif and pod deletion\n\nChange-Id: Ie4dfca4420820d15c9cb6e78f7ca121fdb0e1658\nCloses-Bug: 1847441\n'}]",0,687504,bbf6c29ec453880c92df9018c3dec83478e60f08,9,4,1,23567,,,0,"Avoid race between activating vif and pod deletion

Change-Id: Ie4dfca4420820d15c9cb6e78f7ca121fdb0e1658
Closes-Bug: 1847441
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/04/687504/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/vif.py'],1,bbf6c29ec453880c92df9018c3dec83478e60f08,bug/1847441,"from neutronclient.common import exceptions as n_exc try: self._drv_vif_pool.activate_vif(pod, vif) changed = True except n_exc.PortNotFoundClient: LOG.debug(""Port not found, possibly already "" ""deleted. No need to activate it"")"," self._drv_vif_pool.activate_vif(pod, vif) changed = True",7,2
openstack%2Fmistral~master~Id6521ba37dc5ccff727b06aecd573ac600ea8711,openstack/mistral,master,Id6521ba37dc5ccff727b06aecd573ac600ea8711,Log the original exception in is_sync,MERGED,2019-10-03 08:31:54.000000000,2019-10-09 16:52:36.000000000,2019-10-09 16:51:15.000000000,"[{'_account_id': 8731}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-10-03 08:31:54.000000000', 'files': ['mistral/engine/actions.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/c0857a7a952c4da04a85dbdde962d37ded00dfff', 'message': 'Log the original exception in is_sync\n\nChange-Id: Id6521ba37dc5ccff727b06aecd573ac600ea8711\n'}]",1,686353,c0857a7a952c4da04a85dbdde962d37ded00dfff,9,4,1,9712,,,0,"Log the original exception in is_sync

Change-Id: Id6521ba37dc5ccff727b06aecd573ac600ea8711
",git fetch https://review.opendev.org/openstack/mistral refs/changes/53/686353/1 && git format-patch -1 --stdout FETCH_HEAD,['mistral/engine/actions.py'],1,c0857a7a952c4da04a85dbdde962d37ded00dfff,, LOG.exception(e),,1,0
openstack%2Fneutron~master~I0f71f99ff9e2589913ea11b4ecf9a447748e18e1,openstack/neutron,master,I0f71f99ff9e2589913ea11b4ecf9a447748e18e1,[DNM] Add tcpdump to router namespaces,ABANDONED,2019-04-16 15:09:13.000000000,2019-10-09 16:40:33.000000000,,"[{'_account_id': 4694}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-04-16 15:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ccc08c5ea1cdb1b4befea0ae19bf7282557bcc8', 'message': '[DNM] Add tcpdump to router namespaces\n\nThis patch is to help in debugging ssh failures in various scenario tests\n\nChange-Id: I0f71f99ff9e2589913ea11b4ecf9a447748e18e1\nRelated-Bug: #1821912\n'}, {'number': 2, 'created': '2019-04-22 21:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e69b10d85e2cc6a897f7c3e9b8f2fc9790581ad2', 'message': '[DNM] Add tcpdump to router namespaces\n\nThis patch is to help in debugging ssh failures in various scenario tests\n\nChange-Id: I0f71f99ff9e2589913ea11b4ecf9a447748e18e1\nRelated-Bug: #1821912\n'}, {'number': 3, 'created': '2019-05-20 22:10:35.000000000', 'files': ['neutron/agent/l3/agent.py', 'neutron/agent/l3/router_info.py', 'etc/neutron/rootwrap.d/l3.filters'], 'web_link': 'https://opendev.org/openstack/neutron/commit/be4f97a657cb8e09cd82e2c95a4161f1567821dd', 'message': '[DNM] Add tcpdump to router namespaces\n\nThis patch is to help in debugging ssh failures in various scenario tests\n\nChange-Id: I0f71f99ff9e2589913ea11b4ecf9a447748e18e1\nRelated-Bug: #1821912\n'}]",0,653021,be4f97a657cb8e09cd82e2c95a4161f1567821dd,14,4,3,4694,,,0,"[DNM] Add tcpdump to router namespaces

This patch is to help in debugging ssh failures in various scenario tests

Change-Id: I0f71f99ff9e2589913ea11b4ecf9a447748e18e1
Related-Bug: #1821912
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/653021/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/l3/router_info.py', 'etc/neutron/rootwrap.d/l3.filters']",3,0ccc08c5ea1cdb1b4befea0ae19bf7282557bcc8,bug/1821912," # Adding temporarily to help debug https://bugs.launchpad.net/neutron/+bug/1821912 tcpdump: CommandFilter, tcpdump, root",,17,0
openstack%2Fneutron~stable%2Frocky~I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48,openstack/neutron,stable/rocky,I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48,fixed_configured=True when Add/Remove port IPs,MERGED,2019-10-09 09:36:57.000000000,2019-10-09 16:37:29.000000000,2019-10-09 16:35:17.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-09 09:36:57.000000000', 'files': ['releasenotes/notes/fix-update-port-fixed-ips-on-routed-provider-networks-c54a54844d9a3926.yaml', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/885351c825e32d574d2b817961f6765bbdba673f', 'message': 'fixed_configured=True when Add/Remove port IPs\n\nWhen updating a port with the fixed_ips request the\nfixed_configured argument should be set to true when\ncalling _ipam_get_subnets() so that all subnets are\nreturned if host is not set.\n\nOtherwise the ip allocation will be deffered and an\nempty list of possible subnets for the port is\nreturned. Which in turn led to raising an error that\nthe network requires subnets to allocate an IP\naddress.\n\nCloses-Bug: #1844124\nChange-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48\n(cherry picked from commit def8e95aad1e4588c369d537ee66234245eefdf6)\n'}]",0,687517,885351c825e32d574d2b817961f6765bbdba673f,13,6,1,24245,,,0,"fixed_configured=True when Add/Remove port IPs

When updating a port with the fixed_ips request the
fixed_configured argument should be set to true when
calling _ipam_get_subnets() so that all subnets are
returned if host is not set.

Otherwise the ip allocation will be deffered and an
empty list of possible subnets for the port is
returned. Which in turn led to raising an error that
the network requires subnets to allocate an IP
address.

Closes-Bug: #1844124
Change-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48
(cherry picked from commit def8e95aad1e4588c369d537ee66234245eefdf6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/17/687517/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-port-fixed-ips-on-routed-provider-networks-c54a54844d9a3926.yaml', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py']",4,885351c825e32d574d2b817961f6765bbdba673f,bug/1844124," def test_port_update_with_fixed_ips_ok_if_no_binding_host(self): """"""No binding host information is provided, subnets on segments"""""" # The IP is allocated since there is no binding host info any # subnet can be used for allocation. self.assertEqual(webob.exc.HTTPOk.code, response.status_int) def test_port_update_with_fixed_ips_fail_if_host_not_on_segment(self): """"""Binding information is provided, subnets on segments. Update to subnet on different segment fails. """""" network, segments, subnets = self._create_test_segments_with_subnets(2) # Setup host mappings self._setup_host_mappings([(segments[0]['segment']['id'], 'fakehost')]) # Create a port and validate immediate ip allocation res = self._create_port_and_show(network, arg_list=(portbindings.HOST_ID,), **{portbindings.HOST_ID: 'fakehost'}) self._validate_immediate_ip_allocation(res['port']['id']) # Try requesting an new IP, but the subnet does not match host segment port_id = res['port']['id'] data = {'port': { 'fixed_ips': [{'subnet_id': subnets[1]['subnet']['id']}]}} port_req = self.new_update_request('ports', data, port_id) response = port_req.get_response(self.api) # Port update fails."," def test_port_update_excludes_hosts_on_segments(self): """"""No binding information is provided, subnets on segments"""""" # Gets bad request because there are no eligible subnets.",39,6
openstack%2Fdevstack~stable%2Ftrain~I5fe683256301bf1a00bc15733f8c7093853123f2,openstack/devstack,stable/train,I5fe683256301bf1a00bc15733f8c7093853123f2,Cap max microversions for stable/train,MERGED,2019-10-07 17:31:17.000000000,2019-10-09 16:37:22.000000000,2019-10-09 16:35:21.000000000,"[{'_account_id': 5803}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-10-07 17:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c19e5ed549205a1424c0864689eff9b6ac8a9c79', 'message': 'Cap max microversions for stable/train\n\nThis commit cap the max microversions for compute\nand volume API for stable/train.\n\ncompute- https://opendev.org/openstack/nova/src/commit/6b177d42c7a0918018645033b6325b710f8fb925/nova/api/openstack/compute/rest_api_version_history.rst#279-maximum-in-train\nvolume- https://opendev.org/openstack/cinder/src/commit/ad5342445060bc63cb46531c21f27202bea78905/cinder/api/openstack/rest_api_version_history.rst#359-maximum-in-stein-and-train\n\nChange-Id: I5fe683256301bf1a00bc15733f8c7093853123f2\n'}, {'number': 2, 'created': '2019-10-07 18:23:17.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/2f1e501325b1d49928840806f16864087f8f15dd', 'message': 'Cap max microversions for stable/train\n\nThis commit cap the max microversions for compute\nand volume API for stable/train.\n\nCompute- https://opendev.org/openstack/nova/src/commit/6b177d42c7a0918018645033b6325b710f8fb925/nova/api/openstack/compute/rest_api_version_history.rst#279-maximum-in-train\nVolume- https://opendev.org/openstack/cinder/src/commit/ad5342445060bc63cb46531c21f27202bea78905/cinder/api/openstack/rest_api_version_history.rst#359-maximum-in-stein-and-train\nPlacement - https://opendev.org/openstack/placement/src/commit/dbd03867118ee059b39be7677b8881b0f1a0b9c8/placement/rest_api_version_history.rst#136---support-same_subtree-queryparam-on-get-allocation_candidates\n\nChange-Id: I5fe683256301bf1a00bc15733f8c7093853123f2\n'}]",2,687115,2f1e501325b1d49928840806f16864087f8f15dd,12,5,2,8556,,,0,"Cap max microversions for stable/train

This commit cap the max microversions for compute
and volume API for stable/train.

Compute- https://opendev.org/openstack/nova/src/commit/6b177d42c7a0918018645033b6325b710f8fb925/nova/api/openstack/compute/rest_api_version_history.rst#279-maximum-in-train
Volume- https://opendev.org/openstack/cinder/src/commit/ad5342445060bc63cb46531c21f27202bea78905/cinder/api/openstack/rest_api_version_history.rst#359-maximum-in-stein-and-train
Placement - https://opendev.org/openstack/placement/src/commit/dbd03867118ee059b39be7677b8881b0f1a0b9c8/placement/rest_api_version_history.rst#136---support-same_subtree-queryparam-on-get-allocation_candidates

Change-Id: I5fe683256301bf1a00bc15733f8c7093853123f2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/687115/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,c19e5ed549205a1424c0864689eff9b6ac8a9c79,qa-train-release," local tempest_compute_max_microversion=${TEMPEST_COMPUTE_MAX_MICROVERSION:-""2.79""} local tempest_volume_max_microversion=${TEMPEST_VOLUME_MAX_MICROVERSION:-""3.59""}"," local tempest_compute_max_microversion=${TEMPEST_COMPUTE_MAX_MICROVERSION:-""latest""} local tempest_volume_max_microversion=${TEMPEST_VOLUME_MAX_MICROVERSION:-""latest""}",2,2
openstack%2Fneutron~stable%2Fstein~I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48,openstack/neutron,stable/stein,I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48,fixed_configured=True when Add/Remove port IPs,MERGED,2019-10-09 09:36:45.000000000,2019-10-09 16:37:16.000000000,2019-10-09 16:35:14.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-09 09:36:45.000000000', 'files': ['releasenotes/notes/fix-update-port-fixed-ips-on-routed-provider-networks-c54a54844d9a3926.yaml', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/074e1832aae335d261ea938126256f1b672c1572', 'message': 'fixed_configured=True when Add/Remove port IPs\n\nWhen updating a port with the fixed_ips request the\nfixed_configured argument should be set to true when\ncalling _ipam_get_subnets() so that all subnets are\nreturned if host is not set.\n\nOtherwise the ip allocation will be deffered and an\nempty list of possible subnets for the port is\nreturned. Which in turn led to raising an error that\nthe network requires subnets to allocate an IP\naddress.\n\nCloses-Bug: #1844124\nChange-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48\n(cherry picked from commit def8e95aad1e4588c369d537ee66234245eefdf6)\n'}]",0,687516,074e1832aae335d261ea938126256f1b672c1572,13,6,1,24245,,,0,"fixed_configured=True when Add/Remove port IPs

When updating a port with the fixed_ips request the
fixed_configured argument should be set to true when
calling _ipam_get_subnets() so that all subnets are
returned if host is not set.

Otherwise the ip allocation will be deffered and an
empty list of possible subnets for the port is
returned. Which in turn led to raising an error that
the network requires subnets to allocate an IP
address.

Closes-Bug: #1844124
Change-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48
(cherry picked from commit def8e95aad1e4588c369d537ee66234245eefdf6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/687516/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-port-fixed-ips-on-routed-provider-networks-c54a54844d9a3926.yaml', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py']",4,074e1832aae335d261ea938126256f1b672c1572,bug/1844124," def test_port_update_with_fixed_ips_ok_if_no_binding_host(self): """"""No binding host information is provided, subnets on segments"""""" # The IP is allocated since there is no binding host info any # subnet can be used for allocation. self.assertEqual(webob.exc.HTTPOk.code, response.status_int) def test_port_update_with_fixed_ips_fail_if_host_not_on_segment(self): """"""Binding information is provided, subnets on segments. Update to subnet on different segment fails. """""" network, segments, subnets = self._create_test_segments_with_subnets(2) # Setup host mappings self._setup_host_mappings([(segments[0]['segment']['id'], 'fakehost')]) # Create a port and validate immediate ip allocation res = self._create_port_and_show(network, arg_list=(portbindings.HOST_ID,), **{portbindings.HOST_ID: 'fakehost'}) self._validate_immediate_ip_allocation(res['port']['id']) # Try requesting an new IP, but the subnet does not match host segment port_id = res['port']['id'] data = {'port': { 'fixed_ips': [{'subnet_id': subnets[1]['subnet']['id']}]}} port_req = self.new_update_request('ports', data, port_id) response = port_req.get_response(self.api) # Port update fails."," def test_port_update_excludes_hosts_on_segments(self): """"""No binding information is provided, subnets on segments"""""" # Gets bad request because there are no eligible subnets.",39,6
openstack%2Fneutron~stable%2Fqueens~I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48,openstack/neutron,stable/queens,I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48,fixed_configured=True when Add/Remove port IPs,MERGED,2019-10-09 09:37:11.000000000,2019-10-09 16:37:12.000000000,2019-10-09 16:35:19.000000000,"[{'_account_id': 1131}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-10-09 09:37:11.000000000', 'files': ['releasenotes/notes/fix-update-port-fixed-ips-on-routed-provider-networks-c54a54844d9a3926.yaml', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1bab70f909ff60c4dbc72a88b01bd9d511647f3c', 'message': 'fixed_configured=True when Add/Remove port IPs\n\nWhen updating a port with the fixed_ips request the\nfixed_configured argument should be set to true when\ncalling _ipam_get_subnets() so that all subnets are\nreturned if host is not set.\n\nOtherwise the ip allocation will be deffered and an\nempty list of possible subnets for the port is\nreturned. Which in turn led to raising an error that\nthe network requires subnets to allocate an IP\naddress.\n\nCloses-Bug: #1844124\nChange-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48\n(cherry picked from commit def8e95aad1e4588c369d537ee66234245eefdf6)\n'}]",0,687518,1bab70f909ff60c4dbc72a88b01bd9d511647f3c,11,5,1,24245,,,0,"fixed_configured=True when Add/Remove port IPs

When updating a port with the fixed_ips request the
fixed_configured argument should be set to true when
calling _ipam_get_subnets() so that all subnets are
returned if host is not set.

Otherwise the ip allocation will be deffered and an
empty list of possible subnets for the port is
returned. Which in turn led to raising an error that
the network requires subnets to allocate an IP
address.

Closes-Bug: #1844124
Change-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48
(cherry picked from commit def8e95aad1e4588c369d537ee66234245eefdf6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/687518/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-port-fixed-ips-on-routed-provider-networks-c54a54844d9a3926.yaml', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py']",4,1bab70f909ff60c4dbc72a88b01bd9d511647f3c,bug/1844124," def test_port_update_with_fixed_ips_ok_if_no_binding_host(self): """"""No binding host information is provided, subnets on segments"""""" # The IP is allocated since there is no binding host info any # subnet can be used for allocation. self.assertEqual(webob.exc.HTTPOk.code, response.status_int) def test_port_update_with_fixed_ips_fail_if_host_not_on_segment(self): """"""Binding information is provided, subnets on segments. Update to subnet on different segment fails. """""" network, segments, subnets = self._create_test_segments_with_subnets(2) # Setup host mappings self._setup_host_mappings([(segments[0]['segment']['id'], 'fakehost')]) # Create a port and validate immediate ip allocation res = self._create_port_and_show(network, arg_list=(portbindings.HOST_ID,), **{portbindings.HOST_ID: 'fakehost'}) self._validate_immediate_ip_allocation(res['port']['id']) # Try requesting an new IP, but the subnet does not match host segment port_id = res['port']['id'] data = {'port': { 'fixed_ips': [{'subnet_id': subnets[1]['subnet']['id']}]}} port_req = self.new_update_request('ports', data, port_id) response = port_req.get_response(self.api) # Port update fails."," def test_port_update_excludes_hosts_on_segments(self): """"""No binding information is provided, subnets on segments"""""" # Gets bad request because there are no eligible subnets.",39,6
openstack%2Ftempest~master~Ic9437f871fb94f84f106590145177d3c6eabb345,openstack/tempest,master,Ic9437f871fb94f84f106590145177d3c6eabb345,Add release notes page for version 22.0.0,MERGED,2019-10-07 17:48:47.000000000,2019-10-09 16:37:08.000000000,2019-10-09 16:35:22.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 17:48:47.000000000', 'files': ['releasenotes/source/v22.0.0.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tempest/commit/de1dec851ae3f3fa9ce8370e49e59cbdbb32da5a', 'message': 'Add release notes page for version 22.0.0\n\nTempest 22.0.0 has been released [1].\nThis commit adds a new page for 22.0.0 release notes.\n\n[1] https://review.opendev.org/#/c/685406/\n\nChange-Id: Ic9437f871fb94f84f106590145177d3c6eabb345\n'}]",0,687123,de1dec851ae3f3fa9ce8370e49e59cbdbb32da5a,9,4,1,8556,,,0,"Add release notes page for version 22.0.0

Tempest 22.0.0 has been released [1].
This commit adds a new page for 22.0.0 release notes.

[1] https://review.opendev.org/#/c/685406/

Change-Id: Ic9437f871fb94f84f106590145177d3c6eabb345
",git fetch https://review.opendev.org/openstack/tempest refs/changes/23/687123/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/v22.0.0.rst', 'releasenotes/source/index.rst']",2,de1dec851ae3f3fa9ce8370e49e59cbdbb32da5a,qa-train-release, v22.0.0,,7,0
openstack%2Fheat~master~Ia13f2b840379a7b7addf0e02ae3fc820a686c062,openstack/heat,master,Ia13f2b840379a7b7addf0e02ae3fc820a686c062,Ignore not found when delete raw template,MERGED,2018-05-19 16:44:43.000000000,2019-10-09 16:33:10.000000000,2019-10-09 16:30:31.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-05-19 16:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/9c9c922c781dc4542b348d83f882b2794bd4f520', 'message': 'Ignore not found when delete raw template\n\nChange-Id: Ia13f2b840379a7b7addf0e02ae3fc820a686c062\nStory: #2002066\nTask: #19719\n'}, {'number': 2, 'created': '2019-10-08 03:22:38.000000000', 'files': ['heat/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/eb533876a3f07db9e99138045d090e53e8f07130', 'message': 'Ignore not found when delete raw template\n\nChange-Id: Ia13f2b840379a7b7addf0e02ae3fc820a686c062\nStory: #2002066\nTask: #19719\nTask: 36945\n'}]",0,569582,eb533876a3f07db9e99138045d090e53e8f07130,24,4,2,12404,,,0,"Ignore not found when delete raw template

Change-Id: Ia13f2b840379a7b7addf0e02ae3fc820a686c062
Story: #2002066
Task: #19719
Task: 36945
",git fetch https://review.opendev.org/openstack/heat refs/changes/82/569582/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/db/sqlalchemy/api.py'],1,9c9c922c781dc4542b348d83f882b2794bd4f520,story/2002066," try: raw_tmpl_files = raw_template_files_get( context, raw_tmpl_files_id) except exception.NotFound: # Ignore not found return"," raw_tmpl_files = raw_template_files_get(context, raw_tmpl_files_id)",6,1
openstack%2Fhorizon~stable%2Fqueens~I6e05a7dc6b6655514ee2bff6bd327da86f13900a,openstack/horizon,stable/queens,I6e05a7dc6b6655514ee2bff6bd327da86f13900a,Fix listing security groups when no rules,MERGED,2019-10-03 20:09:26.000000000,2019-10-09 16:23:28.000000000,2019-10-09 16:20:39.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 20:09:26.000000000', 'files': ['releasenotes/notes/security-group-no-rules-list-bugfix-b77ab5aff1d3e45e.yaml', 'openstack_dashboard/test/unit/api/test_neutron.py', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/test/test_data/neutron_data.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/9d73ebee7a1ce442f57fad319d6ca6b354ffe171', 'message': 'Fix listing security groups when no rules\n\nWhen listing security groups in the dashboard and\none or more security groups had no rules it failed\nbecause python throws a KeyError.\n\nThis commit changes the neutron API wrapper in horizon\nto ensure ensure rule information in SG always exists.\n\nCloses-Bug: #1840465\nCo-Authored-By: Tobias Urdin <tobias.urdin@binero.se>\nChange-Id: I6e05a7dc6b6655514ee2bff6bd327da86f13900a\n(cherry picked from commit cdb191ec83f86dffade56be07ca53077d7c78b14)\n(cherry picked from commit 205c4465cdf8112779e8eb5f1618dcfc1b11e305)\n'}]",0,686485,9d73ebee7a1ce442f57fad319d6ca6b354ffe171,9,4,1,6737,,,0,"Fix listing security groups when no rules

When listing security groups in the dashboard and
one or more security groups had no rules it failed
because python throws a KeyError.

This commit changes the neutron API wrapper in horizon
to ensure ensure rule information in SG always exists.

Closes-Bug: #1840465
Co-Authored-By: Tobias Urdin <tobias.urdin@binero.se>
Change-Id: I6e05a7dc6b6655514ee2bff6bd327da86f13900a
(cherry picked from commit cdb191ec83f86dffade56be07ca53077d7c78b14)
(cherry picked from commit 205c4465cdf8112779e8eb5f1618dcfc1b11e305)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/85/686485/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/security-group-no-rules-list-bugfix-b77ab5aff1d3e45e.yaml', 'openstack_dashboard/test/unit/api/test_neutron.py', 'openstack_dashboard/api/neutron.py', 'openstack_dashboard/test/test_data/neutron_data.py']",4,9d73ebee7a1ce442f57fad319d6ca6b354ffe171,bug/1840465," sec_group_empty = {'tenant_id': '1', 'description': 'SG without rules', 'id': 'f205f3bc-d402-4e40-b004-c62401e19b4b', 'name': 'empty_group'} # NOTE: sec_group_empty is a SG without rules, # so we don't call add_rule_to_group. groups = [sec_group_1, sec_group_2, sec_group_3, sec_group_empty] for rule in sg.get('security_group_rules', []): for rule in sg.get('security_group_rules', []):"," groups = [sec_group_1, sec_group_2, sec_group_3] for rule in sg['security_group_rules']: for rule in sg['security_group_rules']:",19,4
openstack%2Fcloudkitty~master~Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84,openstack/cloudkitty,master,Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84,"Use ""interface"" option for monasca endpoint discovery",MERGED,2019-10-09 14:36:06.000000000,2019-10-09 16:22:27.000000000,2019-10-09 16:20:41.000000000,"[{'_account_id': 22348}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-10-09 14:36:06.000000000', 'files': ['releasenotes/notes/use-interface-param-endpoint-discovery-monasca-collector-7477e86cd7e5acf4.yaml', 'cloudkitty/collector/monasca.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/cbb947ae0065f7d98ba48bd2a98d6ffd91a28ee8', 'message': 'Use ""interface"" option for monasca endpoint discovery\n\nThe ""interface"" option was ignored for endpoint discovery. This was leading to\nunexpected behaviour.\n\nChange-Id: Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84\nStory: 2006694\nTask: 36994\n'}]",0,687578,cbb947ae0065f7d98ba48bd2a98d6ffd91a28ee8,7,2,1,23060,,,0,"Use ""interface"" option for monasca endpoint discovery

The ""interface"" option was ignored for endpoint discovery. This was leading to
unexpected behaviour.

Change-Id: Ie669d55d06e06dfe2462cc97c7a76c7f59ee4c84
Story: 2006694
Task: 36994
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/78/687578/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/use-interface-param-endpoint-discovery-monasca-collector-7477e86cd7e5acf4.yaml', 'cloudkitty/collector/monasca.py']",2,cbb947ae0065f7d98ba48bd2a98d6ffd91a28ee8,," self.ks_client = ks_client.Client( session=self.session, interface=CONF.collector_monasca.interface, )", self.ks_client = ks_client.Client(session=self.session),9,1
openstack%2Fhorizon~stable%2Ftrain~I82f2c3906ce970bfa49005dd666c5a41fa77e79f,openstack/horizon,stable/train,I82f2c3906ce970bfa49005dd666c5a41fa77e79f,Imported Translations from Zanata,MERGED,2019-10-08 09:19:28.000000000,2019-10-09 16:22:18.000000000,2019-10-09 16:20:37.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-10-08 09:19:28.000000000', 'files': ['openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_auth/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po'], 'web_link': 'https://opendev.org/openstack/horizon/commit/693dc275e1b6813f47b6c65f17916d7669618cc0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I82f2c3906ce970bfa49005dd666c5a41fa77e79f\n'}]",0,687254,693dc275e1b6813f47b6c65f17916d7669618cc0,9,4,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I82f2c3906ce970bfa49005dd666c5a41fa77e79f
",git fetch https://review.opendev.org/openstack/horizon refs/changes/54/687254/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/locale/ko_KR/LC_MESSAGES/django.po', 'openstack_auth/locale/ko_KR/LC_MESSAGES/django.po', 'horizon/locale/ko_KR/LC_MESSAGES/django.po']",3,693dc275e1b6813f47b6c65f17916d7669618cc0,zanata/translations,"# Ian Y. Choi <ianyrchoi@gmail.com>, 2019. #zanata""POT-Creation-Date: 2019-10-06 11:03+0000\n""""PO-Revision-Date: 2019-10-07 01:53+0000\n"" ""Last-Translator: Ian Y. Choi <ianyrchoi@gmail.com>\n""msgid ""Change"" msgstr ""변경"" msgid ""Change Password"" msgstr ""비밀번호 변경"" msgid ""Change password"" msgstr ""비밀번호 변경"" msgstr ""허용되지 않는 비밀번호입니다.""","""POT-Creation-Date: 2018-05-03 07:54+0000\n""""PO-Revision-Date: 2018-05-04 03:52+0000\n"" ""Last-Translator: Sungjin Kang <gang.sungjin@gmail.com>\n""msgstr ""허용되지 않는 암호입니다.""",111,11
openstack%2Ftripleo-ci~master~I05ef4cf3d2b95f314948d8db523bf5692b72ce7f,openstack/tripleo-ci,master,I05ef4cf3d2b95f314948d8db523bf5692b72ce7f,"Revert ""Revert ""move standalone-scenario010 to non-voting""""",ABANDONED,2019-10-09 08:50:28.000000000,2019-10-09 16:21:27.000000000,,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8367}, {'_account_id': 8833}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-10-09 08:50:28.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7622b73683b78a95383b6856ac979692a69a5b33', 'message': 'Revert ""Revert ""move standalone-scenario010 to non-voting""""\n\nThis is blocking the stein gate job is broken there [1]\n\n[1] http://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario010-standalone&branch=stable%2Fstein\n\nThis reverts commit 7ff162c7031a52685c8a949f3c4d13d9c54c7c9e.\n\nChange-Id: I05ef4cf3d2b95f314948d8db523bf5692b72ce7f\n'}]",1,687497,7622b73683b78a95383b6856ac979692a69a5b33,22,12,1,8449,,,0,"Revert ""Revert ""move standalone-scenario010 to non-voting""""

This is blocking the stein gate job is broken there [1]

[1] http://zuul.openstack.org/builds?job_name=tripleo-ci-centos-7-scenario010-standalone&branch=stable%2Fstein

This reverts commit 7ff162c7031a52685c8a949f3c4d13d9c54c7c9e.

Change-Id: I05ef4cf3d2b95f314948d8db523bf5692b72ce7f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/97/687497/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,7622b73683b78a95383b6856ac979692a69a5b33,scenario010, voting: false," - tripleo-ci-centos-7-scenario010-standalone: files: # tripleo-common - workbooks/octavia_post.yaml - playbooks/octavia-files.yaml - playbooks/roles/octavia.*$ - playbooks/roles/common/.*$ - ^container-images/.*$ - tripleo_common/actions/ansible.py - tripleo_common/image/kolla_builder.py - zuul.d/layout.yaml # tripleo-quickstart - config/general_config/featureset052.yml # puppet-tripleo - ^manifests/profile/base/octavia.*$ # tripleo-quickstart-extras - roles/standalone/.* - roles/validate-tempest/.* # tripleo-ci - roles/run-test/.* - roles/common/.* - roles/prepare-node/.* # tripleo-heat-templates # TODO(beagles): octavia testing touches neutron, glance and nova. # It may be sensible to expand this list after it has proven itself. - ^(docker/services|deployment)/octavia.*$ - ci/environments/scenario010-standalone.yaml - ^environments\services/octavia.*.yaml - ^deployed-server/.*$ - ^network/endpoints/.*$ - ^common/.*$ - zuul.d/* voting: true",1,34
openstack%2Fmonasca-api~master~If183de198c8ad90553ee5b54b6ba0a9cef86d25c,openstack/monasca-api,master,If183de198c8ad90553ee5b54b6ba0a9cef86d25c,Add Reviews Prioritisation section,MERGED,2019-09-18 14:25:37.000000000,2019-10-09 16:14:41.000000000,2019-10-09 16:13:27.000000000,"[{'_account_id': 14123}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-18 14:25:37.000000000', 'files': ['doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/2f29cdd98cb1b07941991b7edfc971ee43d887ba', 'message': 'Add Reviews Prioritisation section\n\nThe change adds reviews prioritisation process description. It also adds\nlink to the Gerrit dashboard with the list of prioritized code changes.\n\nChange-Id: If183de198c8ad90553ee5b54b6ba0a9cef86d25c\n'}]",0,682907,2f29cdd98cb1b07941991b7edfc971ee43d887ba,8,3,1,16222,,,0,"Add Reviews Prioritisation section

The change adds reviews prioritisation process description. It also adds
link to the Gerrit dashboard with the list of prioritized code changes.

Change-Id: If183de198c8ad90553ee5b54b6ba0a9cef86d25c
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/07/682907/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/index.rst'],1,2f29cdd98cb1b07941991b7edfc971ee43d887ba,,"Reviews Prioritisation ~~~~~~~~~~~~~~~~~~~~~~ Monasca project uses *Review-Priority* field in Gerrit to emphasize prioritized code changes. Every developer can propose the changes which should be prioritized in `weekly team meeting <http://eavesdrop.openstack.org/#Monasca_Team_Meeting>`_ or in the mailing list. Any core reviewer, preferably from a different company, can confirm such proposed change by setting *Review-Priority* +1. Prioritized changes can be listed in this `dashboard <http://www.tinyurl.com/monasca>`_. ",,15,0
openstack%2Fcharm-guide~master~Iacfe0dc3987893bf56e7ae1493cb277a89df053f,openstack/charm-guide,master,Iacfe0dc3987893bf56e7ae1493cb277a89df053f,Add release note about FQDN migration,MERGED,2019-10-09 07:08:15.000000000,2019-10-09 16:13:55.000000000,2019-10-09 16:12:40.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2019-10-09 07:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f5844e01940cb11360751d81155651a00f67ab49', 'message': 'Add release note about FQDN migration\n\nDepends-On: Ia73ed6b76fc7f18014d4fa913397cc069e51ff07\nDepends-On: Ib86d6a48ee34c9efc42b4455ac669ef0cb8dc3bb\nDepends-On: Iee73164358745628a4b8658614608bc872771fd1\nDepends-On: I64afa582cdfadafcd249ddfbeec267ba610d166a\nChange-Id: Iacfe0dc3987893bf56e7ae1493cb277a89df053f\n'}, {'number': 2, 'created': '2019-10-09 09:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9f3063f040d0eb4280c41bde7b170053c8878745', 'message': 'Add release note about FQDN migration\n\nDepends-On: Ia73ed6b76fc7f18014d4fa913397cc069e51ff07\nDepends-On: Ib86d6a48ee34c9efc42b4455ac669ef0cb8dc3bb\nDepends-On: Iee73164358745628a4b8658614608bc872771fd1\nDepends-On: I64afa582cdfadafcd249ddfbeec267ba610d166a\nChange-Id: Iacfe0dc3987893bf56e7ae1493cb277a89df053f\n'}, {'number': 3, 'created': '2019-10-09 15:38:37.000000000', 'files': ['doc/source/1910.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/acef675688cc9cdcf018edc179326b9e64009eae', 'message': 'Add release note about FQDN migration\n\nDepends-On: Ia73ed6b76fc7f18014d4fa913397cc069e51ff07\nDepends-On: Ib86d6a48ee34c9efc42b4455ac669ef0cb8dc3bb\nDepends-On: Iee73164358745628a4b8658614608bc872771fd1\nDepends-On: I64afa582cdfadafcd249ddfbeec267ba610d166a\nChange-Id: Iacfe0dc3987893bf56e7ae1493cb277a89df053f\n'}]",5,687466,acef675688cc9cdcf018edc179326b9e64009eae,14,3,3,13686,,,0,"Add release note about FQDN migration

Depends-On: Ia73ed6b76fc7f18014d4fa913397cc069e51ff07
Depends-On: Ib86d6a48ee34c9efc42b4455ac669ef0cb8dc3bb
Depends-On: Iee73164358745628a4b8658614608bc872771fd1
Depends-On: I64afa582cdfadafcd249ddfbeec267ba610d166a
Change-Id: Iacfe0dc3987893bf56e7ae1493cb277a89df053f
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/66/687466/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/1910.rst'],1,f5844e01940cb11360751d81155651a00f67ab49,relnote-fqdn,"Migration to FQDN for agent registration ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ Starting with the 19.10 charms when deploying OpenStack Stein or newer, the Nova Compute agent as deployed by the ``nova-compute`` charm and Neutron agents as deployed by the ``neutron-openvswitch`` charm will use a fully qualified domain name (FQDN) when registering with the API services. As the name an agent registers with is referenced across multiple services in a OpenStack cloud this change will only apply to newly deployed units. Upgrading the Charm or OpenStack version on existing units will not trigger the change. The backdrop of the change is: - Fix bugs in third party services revolving consistency of hypervisor naming in Nova. - Avoid deploy time issues in the event a node is configured without search domain, and also support clouds with a segregated DNS layout. - Support the default mode of operation for new technologies we want to integrate with Charmed OpenStack, such as OVN. ",,24,0
openstack%2Fnova-specs~master~Iaef59b3c4f513383922e6dc9667a8fe5e23943b2,openstack/nova-specs,master,Iaef59b3c4f513383922e6dc9667a8fe5e23943b2,[WIP]Update nova-spec for blueprint,ABANDONED,2019-10-09 16:11:23.000000000,2019-10-09 16:13:39.000000000,,[{'_account_id': 30977}],"[{'number': 1, 'created': '2019-10-09 16:11:23.000000000', 'files': ['specs/pike/approved/snapshot-vms-with-state-of-processes.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/017a1df366e5f52f4e8cdc57e86fd82555c0d26a', 'message': '[WIP]Update nova-spec for blueprint\n\ncreate a new type of live-snapshot\nwith state of processes via libvirt.\n\nChange-Id: Iaef59b3c4f513383922e6dc9667a8fe5e23943b2\nSigned-off-by: SonPham <phamngocsonls@gmail.com>\n'}]",0,687608,017a1df366e5f52f4e8cdc57e86fd82555c0d26a,3,1,1,30977,,,0,"[WIP]Update nova-spec for blueprint

create a new type of live-snapshot
with state of processes via libvirt.

Change-Id: Iaef59b3c4f513383922e6dc9667a8fe5e23943b2
Signed-off-by: SonPham <phamngocsonls@gmail.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/08/687608/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/approved/snapshot-vms-with-state-of-processes.rst'],1,017a1df366e5f52f4e8cdc57e86fd82555c0d26a,,"with state of processes via libvirt. * Openstack snapshot is supported live-snapshot but a snapshot is a disk snapshot. When you want to use a snapshot, you must create new instance with image and volume created created earlier. There is no solution yet to keep running process of instance in snapshot. * Default xml file is generated by libvirt: :: <disk type=""network"" device=""disk""> <driver name=""qemu"" type=""raw""> With type=""raw"", create internal snapshot is impossible. I tried to change type to type=""qcow2"" to create internalsnapshot (qcow2 supported) but can't boot to instance with error [Error: CantStartEngineError] Workflow to create new snapshot: * Create new external-snapshot to change disk type from RAW to QCOW2. After external snapshot is created, new external snapshot is overlay[1] of old volume (root base). New data write to disk will write to new overlay[1], root base now is read-only disk. User can put external snapshot in other directory. Instance now can create internal snapshot. Example virsh command (Can create via libvirt-api): :: sudo virsh snapshot-create-as --domain instance-00000001 \ --name ""cirros"" \ --description ""cirros"" \ --diskspec vda,file=/home/cloud/iso/instance01.qcow2 \ --disk-only \ --atomic file=/home/cloud/iso/instance01.qcow2 (is external snapshot directory) * Use blockpull to merge rootbase to overlay. Now, vms work on overlay. Example virsh command: :: sudo virsh blockpull \ --domain instance-00000001 \ --path /home/cloud/iso/instance01.qcow2 \ --wait \ --verbose * Create new internal snapshot using virsh. When create internal snapshot, instance change to pause state and collect all data from start snapshot and save to snapshot. Instance resume after snapshot finish. Virsh command example: :: sudo virsh snapshot-create instance-00000001 * New xml disk format (type's value change to qcow2): :: <disk type='file' device='disk'> <driver name='qemu' type='qcow2' cache='writeback' discard='unmap'/> <source file='/home/cloud/iso/instance15.qcow2'/> <backingStore/> <target dev='vda' bus='virtio'/> <serial>fae22617-3455-4938-9e08-9f55bef81861</serial> <alias name='virtio-disk0'/> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </disk> process): Update python-novaclient, add new command to create external snapshot + blockpull, create internal snapshot, restore snapshot, delete snapshot. Work with libvirt driver with KVM :: compute_driver = libvirt.LibvirtDriver virt_type = kvm - Introduced","with state of processes. Openstack Snapshot is supported live-snapshot but a snapshot is a disk snapshot. When you want to use a snapshot, you must create new instance with image and volume created created earlier. There is no solution yet to keep running process of Instance in snapshot. process). None - Introduced ",87,8
openstack%2Foctavia~master~If0ff2a855ad5b9d9ef3742ad0596c97a6dbf81ed,openstack/octavia,master,If0ff2a855ad5b9d9ef3742ad0596c97a6dbf81ed,Bump diskimage-builder minimum to 2.24.0,MERGED,2019-09-07 19:32:56.000000000,2019-10-09 16:13:30.000000000,2019-10-09 01:32:49.000000000,"[{'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-07 19:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ee209f0ab973f355a843b1e180751ae70a705c1a', 'message': 'Bump diskimage-builder minimum to 2.24.0\n\nThere was a bug[1] in diskimage-builder when using pypi mirrors\nif the host doesn\'t have ""python"" available DIB will fail.\nSo, I am going to bump the requirements minimum in Octavia for\ndiskimage-builder to be the minimum version with this fix.\n\n[1] https://bugs.launchpad.net/diskimage-builder/+bug/1577105\n\nChange-Id: If0ff2a855ad5b9d9ef3742ad0596c97a6dbf81ed\n'}, {'number': 2, 'created': '2019-09-07 19:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/329608ebf3a64e2bc0036242835cffcccb51b194', 'message': 'Bump diskimage-builder minimum to 2.24.0\n\nThere was a bug[1] in diskimage-builder when using pypi mirrors\nif the host doesn\'t have ""python"" available DIB will fail.\nSo, I am going to bump the requirements minimum in Octavia for\ndiskimage-builder to be the minimum version with this fix.\n\n[1] https://bugs.launchpad.net/diskimage-builder/+bug/1577105\n\nChange-Id: If0ff2a855ad5b9d9ef3742ad0596c97a6dbf81ed\n'}, {'number': 3, 'created': '2019-09-10 22:20:42.000000000', 'files': ['diskimage-create/requirements.txt', 'requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1aeb416a7e72dad298acb7f11ad54eabfd9ea49e', 'message': 'Bump diskimage-builder minimum to 2.24.0\n\nThere was a bug[1] in diskimage-builder when using pypi mirrors\nif the host doesn\'t have ""python"" available DIB will fail.\nSo, I am going to bump the requirements minimum in Octavia for\ndiskimage-builder to be the minimum version with this fix.\n\n[1] https://bugs.launchpad.net/diskimage-builder/+bug/1577105\n\nChange-Id: If0ff2a855ad5b9d9ef3742ad0596c97a6dbf81ed\n'}]",0,680833,1aeb416a7e72dad298acb7f11ad54eabfd9ea49e,12,3,3,11628,,,0,"Bump diskimage-builder minimum to 2.24.0

There was a bug[1] in diskimage-builder when using pypi mirrors
if the host doesn't have ""python"" available DIB will fail.
So, I am going to bump the requirements minimum in Octavia for
diskimage-builder to be the minimum version with this fix.

[1] https://bugs.launchpad.net/diskimage-builder/+bug/1577105

Change-Id: If0ff2a855ad5b9d9ef3742ad0596c97a6dbf81ed
",git fetch https://review.opendev.org/openstack/octavia refs/changes/33/680833/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage-create/requirements.txt', 'requirements.txt']",2,ee209f0ab973f355a843b1e180751ae70a705c1a,,diskimage-builder>=2.24.0 # Apache-2.0,"diskimage-builder!=1.6.0,!=1.7.0,!=1.7.1,>=1.1.2 # Apache-2.0",2,2
openstack%2Fsearchlight-ui~master~I4ea4c4c8ce18c0ee54e9d7bc23b513ec52e51528,openstack/searchlight-ui,master,I4ea4c4c8ce18c0ee54e9d7bc23b513ec52e51528,Use Horizon project template for django jobs,MERGED,2019-10-05 09:56:52.000000000,2019-10-09 16:11:00.000000000,2019-10-09 16:04:50.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 09:56:52.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/b40d7c835fc5d7646bcf03ac3c380ec9bd4e9f98', 'message': ""Use Horizon project template for django jobs\n\nHorizon defined a project template 'horizon-non-primary-django-jobs'\nfor django jobs. This patch use that template to run django jobs\nhere. For information please refer [1]\n\n[1] https://review.opendev.org/#/c/681969/\n\nChange-Id: I4ea4c4c8ce18c0ee54e9d7bc23b513ec52e51528\n""}]",0,686874,b40d7c835fc5d7646bcf03ac3c380ec9bd4e9f98,9,3,1,29313,,,0,"Use Horizon project template for django jobs

Horizon defined a project template 'horizon-non-primary-django-jobs'
for django jobs. This patch use that template to run django jobs
here. For information please refer [1]

[1] https://review.opendev.org/#/c/681969/

Change-Id: I4ea4c4c8ce18c0ee54e9d7bc23b513ec52e51528
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/74/686874/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,b40d7c835fc5d7646bcf03ac3c380ec9bd4e9f98,django22,"envlist = py27,py37,py3-{dj111,dj22},pep8,docscommands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 python manage.py test","envlist = py27,py37,pep8,docscommands = python manage.py test[testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 {[testenv]commands} ",6,14
openstack%2Fmonasca-api~stable%2Ftrain~I718b51ce94b09bb547f03686831c3b1ac1721399,openstack/monasca-api,stable/train,I718b51ce94b09bb547f03686831c3b1ac1721399,Configure monasca-ui settings in Horizon dir,MERGED,2019-10-01 09:38:57.000000000,2019-10-09 16:10:51.000000000,2019-10-09 16:07:02.000000000,"[{'_account_id': 10311}, {'_account_id': 14123}, {'_account_id': 16222}, {'_account_id': 22348}, {'_account_id': 26141}]","[{'number': 1, 'created': '2019-10-01 09:38:57.000000000', 'files': ['devstack/lib/ui.sh'], 'web_link': 'https://opendev.org/openstack/monasca-api/commit/7bb33011f3eadd3cc7270c16d35f5bbd00191e17', 'message': 'Configure monasca-ui settings in Horizon dir\n\nThe default and preferred way of modifying the settings of Horizon\nplugin is to add a configuration file to\nopenstack_dashboard/local/local_settings.d/ directory. For that to work\nwe should use the settings from django.conf.settings and not from\nmonitoring.config.local_settings.\n\n[1] https://docs.openstack.org/horizon/latest/configuration/settings.html\n\nStory: 2006556\nTask: 36645\n\nDepends-On: https://review.opendev.org/682321\nChange-Id: I718b51ce94b09bb547f03686831c3b1ac1721399\n(cherry picked from commit 3f31ba407b016942f7ae4f30acd451e5f08962a6)\n'}]",0,685916,7bb33011f3eadd3cc7270c16d35f5bbd00191e17,26,5,1,16222,,,0,"Configure monasca-ui settings in Horizon dir

The default and preferred way of modifying the settings of Horizon
plugin is to add a configuration file to
openstack_dashboard/local/local_settings.d/ directory. For that to work
we should use the settings from django.conf.settings and not from
monitoring.config.local_settings.

[1] https://docs.openstack.org/horizon/latest/configuration/settings.html

Story: 2006556
Task: 36645

Depends-On: https://review.opendev.org/682321
Change-Id: I718b51ce94b09bb547f03686831c3b1ac1721399
(cherry picked from commit 3f31ba407b016942f7ae4f30acd451e5f08962a6)
",git fetch https://review.opendev.org/openstack/monasca-api refs/changes/16/685916/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ui.sh'],1,7bb33011f3eadd3cc7270c16d35f5bbd00191e17,django_settings-stable/train," cp $MONASCA_UI_DIR/monitoring/config/local_settings.py \ $HORIZON_DIR/openstack_dashboard/local/local_settings.d/_50_monasca_ui_settings.py "" -i $HORIZON_DIR/openstack_dashboard/local/local_settings.d/_50_monasca_ui_settings.py"," "" -i ""${MONASCA_BASE}""/monasca-ui/monitoring/config/local_settings.py",3,1
openstack%2Fos-traits~master~Idb5613bc016743ba689c6996d39399aae774daa9,openstack/os-traits,master,Idb5613bc016743ba689c6996d39399aae774daa9,Privatize and reorganize base package methods,MERGED,2019-10-08 18:23:48.000000000,2019-10-09 16:10:49.000000000,2019-10-09 16:07:08.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-10-08 18:23:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/92e5d4f95d419766cbb235cd33b5f7203f45fda8', 'message': ""Privatize and reorganize base package methods\n\nOn the theory that they aren't and shouldn't be used, the following\nmethods are removed from the public interface of the base os_traits\npackage:\n\n- symbolize (deleted, unused internally)\n- import_submodules (deleted, replaced with appropriate call to\n  _walk_submodules)\n\nThis commit also reorganizes the module to put private methods first,\npublic methods last; and alphabetize within those groupings.\n\nChange-Id: Idb5613bc016743ba689c6996d39399aae774daa9\n""}, {'number': 2, 'created': '2019-10-09 15:43:58.000000000', 'files': ['os_traits/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/fc685f9e3b3572574d2d80a5efb3f1648ea0b4eb', 'message': ""Privatize and reorganize base package methods\n\nOn the theory that they aren't and shouldn't be used, the following\nmethods are removed from the public interface of the base os_traits\npackage:\n\n- symbolize (deleted, unused internally)\n- import_submodules (deleted, replaced with appropriate call to\n  _walk_submodules)\n\nThis commit also reorganizes the module to put private methods first,\npublic methods last; and alphabetize within those groupings.\n\nSem-Ver: api-break\nChange-Id: Idb5613bc016743ba689c6996d39399aae774daa9\n""}]",4,687378,fc685f9e3b3572574d2d80a5efb3f1648ea0b4eb,16,5,2,14070,,,0,"Privatize and reorganize base package methods

On the theory that they aren't and shouldn't be used, the following
methods are removed from the public interface of the base os_traits
package:

- symbolize (deleted, unused internally)
- import_submodules (deleted, replaced with appropriate call to
  _walk_submodules)

This commit also reorganizes the module to put private methods first,
public methods last; and alphabetize within those groupings.

Sem-Ver: api-break
Change-Id: Idb5613bc016743ba689c6996d39399aae774daa9
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/78/687378/1 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/__init__.py'],1,92e5d4f95d419766cbb235cd33b5f7203f45fda8,privatize,"def _visualize(mod_name, props, seen=None): if mod_name in seen: return seen.add(mod_name) components = mod_name.split('.') tab = ' ' # Print the module name indent = tab * (len(components) - 1) print('%s%s:' % (indent, components[-1].upper())) # Print the properties indent = tab * len(components) if props: print('%s%s' % (indent, ', '.join(props))) # This is where the names defined in submodules are imported by recursively # importing all submodules/subpackages and symbolizing their TRAITS _walk_submodules(sys.modules.get(__name__), True, _symbolize) def print_tree(): """"""Print (to stdout) a visual representation of all the namespaces and the (short) trait names defined therein. """""" _walk_submodules(sys.modules.get(__name__), True, _visualize, seen=set())","# TODO(efried): This is unused internally; it exists for backward compatibility # in case some consumer was actually calling it, which would be weird. # Consider removing it (and privatizing all the helpers in this module). def symbolize(mod_name, name): _symbolize(mod_name, [name]) def _visualize(mod_name, props, seen=None): if mod_name in seen: return seen.add(mod_name) components = mod_name.split('.') tab = ' ' # Print the module name indent = tab * (len(components) - 1) print('%s%s:' % (indent, components[-1].upper())) # Print the properties indent = tab * len(components) if props: print('%s%s' % (indent, ', '.join(props))) def print_tree(): """"""Print (to stdout) a visual representation of all the namespaces and the (short) trait names defined therein. """""" _walk_submodules(sys.modules.get(__name__), True, _visualize, seen=set()) def import_submodules(package, recursive=True): """"""Import all submodules of a module, recursively, including subpackages :param package: package (name or actual module) :type package: str | module :param recursive: Walk all submodules recursively? :type recursive: bool """""" _walk_submodules(package, recursive, _symbolize) # This is where the names defined in submodules are imported import_submodules(sys.modules.get(__name__))",26,43
openstack%2Fsahara-plugin-cdh~stable%2Ftrain~I5de5a2109f0b50adc209008738920fb11fd0fd76,openstack/sahara-plugin-cdh,stable/train,I5de5a2109f0b50adc209008738920fb11fd0fd76,Fixes on CDH for python 3 compatibility,MERGED,2019-10-04 14:19:44.000000000,2019-10-09 16:10:13.000000000,2019-10-09 16:06:58.000000000,"[{'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}, {'_account_id': 23078}]","[{'number': 1, 'created': '2019-10-04 14:19:44.000000000', 'files': ['sahara_plugin_cdh/plugins/cdh/client/types.py', 'sahara_plugin_cdh/plugins/cdh/client/http_client.py', 'sahara_plugin_cdh/plugins/cdh/client/resource.py', 'sahara_plugin_cdh/plugins/cdh/db_helper.py', 'sahara_plugin_cdh/tests/unit/plugins/cdh/base_plugin_utils_test.py'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-cdh/commit/c4c8cbbcada44b448a7d4bb074a46e4c792482d7', 'message': 'Fixes on CDH for python 3 compatibility\n\nStory: #2005914\nTask: #34174\nChange-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76\n(cherry picked from commit 9d443815fcfdd3fe11b6cbe3c47660920a2a8fc5)\n'}]",0,686732,c4c8cbbcada44b448a7d4bb074a46e4c792482d7,9,5,1,10459,,,0,"Fixes on CDH for python 3 compatibility

Story: #2005914
Task: #34174
Change-Id: I5de5a2109f0b50adc209008738920fb11fd0fd76
(cherry picked from commit 9d443815fcfdd3fe11b6cbe3c47660920a2a8fc5)
",git fetch https://review.opendev.org/openstack/sahara-plugin-cdh refs/changes/32/686732/1 && git format-patch -1 --stdout FETCH_HEAD,"['sahara_plugin_cdh/plugins/cdh/client/types.py', 'sahara_plugin_cdh/plugins/cdh/client/http_client.py', 'sahara_plugin_cdh/plugins/cdh/client/resource.py', 'sahara_plugin_cdh/plugins/cdh/db_helper.py', 'sahara_plugin_cdh/tests/unit/plugins/cdh/base_plugin_utils_test.py']",5,c4c8cbbcada44b448a7d4bb074a46e4c792482d7,, create_db_script = (create_db_script % db_password).encode('utf-8') create_db_script = (create_db_script % db_password).encode('utf-8'), create_db_script = create_db_script % db_password create_db_script = create_db_script % db_password,31,12
openstack%2Fcharms.openstack~master~I157aa0fac05fd82c830394a2ab71fb0512fc9da2,openstack/charms.openstack,master,I157aa0fac05fd82c830394a2ab71fb0512fc9da2,Use fetch.add_source,MERGED,2019-09-06 22:13:26.000000000,2019-10-09 16:07:07.000000000,2019-10-09 16:07:07.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-06 22:13:26.000000000', 'files': ['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/charms_openstack/charm/test_classes.py'], 'web_link': 'https://opendev.org/openstack/charms.openstack/commit/ff72f66da287607411d88354c50ac03eb528cb04', 'message': 'Use fetch.add_source\n\nRemove deprecated configure_installation_source and use\nfetch.add_source directly as recommended.\n\nChange-Id: I157aa0fac05fd82c830394a2ab71fb0512fc9da2\n'}]",0,680782,ff72f66da287607411d88354c50ac03eb528cb04,7,2,1,20805,,,0,"Use fetch.add_source

Remove deprecated configure_installation_source and use
fetch.add_source directly as recommended.

Change-Id: I157aa0fac05fd82c830394a2ab71fb0512fc9da2
",git fetch https://review.opendev.org/openstack/charms.openstack refs/changes/82/680782/1 && git format-patch -1 --stdout FETCH_HEAD,"['charms_openstack/charm/core.py', 'unit_tests/charms_openstack/charm/test_core.py', 'unit_tests/charms_openstack/charm/test_classes.py']",3,ff72f66da287607411d88354c50ac03eb528cb04,remove-deprecation-warning," self.patch_object(chm_core.charmhelpers.fetch, 'add_source') self.patch_object(chm_core.os_utils, 'get_source_and_pgp_key') self.get_source_and_pgp_key.return_value = (""an-origin"", None) self.add_source.assert_called_once_with('an-origin', None) self.patch_object(chm_core.os_utils, 'get_source_and_pgp_key') self.get_source_and_pgp_key.return_value = (""an-origin"", None)"," self.patch_object(chm.os_utils, 'configure_installation_source', name='cis') self.cis.assert_called_once_with('an-origin')",21,12
openstack%2Ftripleo-heat-templates~master~Ia5cad4ae1fa3c913415b9144c0d658a198e48916,openstack/tripleo-heat-templates,master,Ia5cad4ae1fa3c913415b9144c0d658a198e48916,"Quote commands run by ""bash"" when doing podman exec",ABANDONED,2019-10-09 15:08:46.000000000,2019-10-09 16:04:44.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 15:08:46.000000000', 'files': ['deployment/database/mysql-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d79ddd905dd351a62febe37cd50daf7406ec3144', 'message': 'Quote commands run by ""bash"" when doing podman exec\n\nAdding quotes will be easy to consume the container startup config data already\ngenerated by TripleO so we can run ""podman exec"" without bash error.\n\nNote that now it works fine because we run the command with subprocess\nand quotes seem to be maintained. The issue is when running with command\nmodule in Ansible.\n\nChange-Id: Ia5cad4ae1fa3c913415b9144c0d658a198e48916\n'}]",0,687581,d79ddd905dd351a62febe37cd50daf7406ec3144,4,2,1,3153,,,0,"Quote commands run by ""bash"" when doing podman exec

Adding quotes will be easy to consume the container startup config data already
generated by TripleO so we can run ""podman exec"" without bash error.

Note that now it works fine because we run the command with subprocess
and quotes seem to be maintained. The issue is when running with command
module in Ansible.

Change-Id: Ia5cad4ae1fa3c913415b9144c0d658a198e48916
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/687581/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/mysql-container-puppet.yaml', 'deployment/ovn/ovn-dbs-container-puppet.yaml']",2,d79ddd905dd351a62febe37cd50daf7406ec3144,quotes," command: ['ovn_north_db_server', '/bin/bash', '-c', ""\'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection ptcp:$NB_DB_PORT:$DBS_LISTEN_IP\'""] command: ['ovn_south_db_server', '/bin/bash', '-c', ""\'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection ptcp:$SB_DB_PORT:$DBS_LISTEN_IP\'""]"," command: ['ovn_north_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; NB_DB_PORT=`hiera ovn::northbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-nbctl set-connection ptcp:$NB_DB_PORT:$DBS_LISTEN_IP'] command: ['ovn_south_db_server', '/bin/bash', '-c', 'DBS_LISTEN_IP=`hiera ovn::northd::dbs_listen_ip -c /etc/puppet/hiera.yaml`; SB_DB_PORT=`hiera ovn::southbound::port -c /etc/puppet/hiera.yaml`; /usr/bin/bootstrap_host_exec ovn_dbs ovn-sbctl set-connection ptcp:$SB_DB_PORT:$DBS_LISTEN_IP']",3,3
openstack%2Fos-traits~master~I6309501f10544f468bb694361c845a393a9491cf,openstack/os-traits,master,I6309501f10544f468bb694361c845a393a9491cf,Add method to visualize the os-traits tree,MERGED,2019-10-03 19:08:24.000000000,2019-10-09 15:57:17.000000000,2019-10-09 15:56:08.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 19:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/2136acae32c562b3f9d8f5a77a6db696400b7a04', 'message': ""Add method to visualize the os-traits tree\n\nAdd a print_tree method in the base os_traits package. This recursively\nwalks the repository and prints a formatted tree of short names of all\nthe namespaces and their traits. You can try it like this:\n\n  python -c 'import os_traits; os_traits.print_tree()'\n\nHere's an abbreviated subset of the output:\n\n   COMPUTE:\n      DEVICE_TAGGING, TRUSTED_CERTS\n      GRAPHICS:\n         MODEL_CIRRUS, MODEL_GOP, MODEL_NONE, MODEL_QXL, MODEL_VGA, MODEL_VIRTIO, MODEL_VMVGA, MODEL_XEN\n   HW:\n      CPU:\n         HYPERTHREADING\n         AMD:\n            SEV\n         PPC64LE:\n            POWER8, POWER9\n      NUMA:\n         ROOT\n   MISC:\n      SHARES_VIA_AGGREGATE\n   STORAGE:\n      DISK:\n         HDD, SSD\n\nChange-Id: I6309501f10544f468bb694361c845a393a9491cf\n""}, {'number': 2, 'created': '2019-10-08 17:35:09.000000000', 'files': ['os_traits/__init__.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/6a5e829b0d6579a0eed27df6f02a62f0ff371a8d', 'message': ""Add method to visualize the os-traits tree\n\nAdd a print_tree method in the base os_traits package. This recursively\nwalks the repository and prints a formatted tree of short names of all\nthe namespaces and their traits. You can try it like this:\n\n  python -c 'import os_traits; os_traits.print_tree()'\n\nHere's an abbreviated subset of the output:\n\n   COMPUTE:\n      DEVICE_TAGGING, TRUSTED_CERTS\n      GRAPHICS:\n         MODEL_CIRRUS, MODEL_GOP, MODEL_NONE, MODEL_QXL, MODEL_VGA, MODEL_VIRTIO, MODEL_VMVGA, MODEL_XEN\n   HW:\n      CPU:\n         HYPERTHREADING\n         AMD:\n            SEV\n         PPC64LE:\n            POWER8, POWER9\n      NUMA:\n         ROOT\n   MISC:\n      SHARES_VIA_AGGREGATE\n   STORAGE:\n      DISK:\n         HDD, SSD\n\nChange-Id: I6309501f10544f468bb694361c845a393a9491cf\n""}]",3,686464,6a5e829b0d6579a0eed27df6f02a62f0ff371a8d,16,4,2,14070,,,0,"Add method to visualize the os-traits tree

Add a print_tree method in the base os_traits package. This recursively
walks the repository and prints a formatted tree of short names of all
the namespaces and their traits. You can try it like this:

  python -c 'import os_traits; os_traits.print_tree()'

Here's an abbreviated subset of the output:

   COMPUTE:
      DEVICE_TAGGING, TRUSTED_CERTS
      GRAPHICS:
         MODEL_CIRRUS, MODEL_GOP, MODEL_NONE, MODEL_QXL, MODEL_VGA, MODEL_VIRTIO, MODEL_VMVGA, MODEL_XEN
   HW:
      CPU:
         HYPERTHREADING
         AMD:
            SEV
         PPC64LE:
            POWER8, POWER9
      NUMA:
         ROOT
   MISC:
      SHARES_VIA_AGGREGATE
   STORAGE:
      DISK:
         HDD, SSD

Change-Id: I6309501f10544f468bb694361c845a393a9491cf
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/64/686464/1 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/__init__.py'],1,2136acae32c562b3f9d8f5a77a6db696400b7a04,print_tree,"def symbolize(mod_name, props): """"""Given a reference to a Python module object and an iterable of short string names for traits, registers symbols in the module corresponding to the full namespaced name for each trait. for prop in props: leaf_mod = sys.modules[mod_name] value_base = '_'.join([m.upper() for m in mod_name.split('.')[1:]]) value = value_base + '_' + prop.upper() setattr(THIS_LIB, value, value) # os_traits.HW_CPU_X86_SSE setattr(leaf_mod, prop, value) # os_traits.hw.cpu.x86.SSE def _walk_submodules(package, recursive, callback, **kwargs): """"""Recursively walk the repository's submodules and invoke a callback for each module with the list of short trait names found therein. :param package: The package (name or module obj) to start from. :param recursive: If True, recurse depth-first. :param callback: Callable to be invoked for each module. The signature is:: callback(mod_name, props, **kwargs) * mod_name: the string name of the module (e.g. 'os_traits.hw.cpu'). * props: an iterable of short string names for traits, gleaned from the TRAITS member of that module, defaulting to []. * kwargs: The same kwargs as passed to _walk_submodules, useful for tracking data across calls. :param kwargs: Arbitrary keyword arguments to be passed to the callback on each invocation. """""" if isinstance(package, str): package = importlib.import_module(package) for loader, mod_name, is_pkg in pkgutil.walk_packages( package.__path__, package.__name__ + '.'): if TEST_DIR in mod_name: continue imported = importlib.import_module(mod_name) props = getattr(imported, ""TRAITS"", []) callback(mod_name, props, **kwargs) if recursive and is_pkg: _walk_submodules(mod_name, recursive, callback, **kwargs) def _visualize(mod_name, props, seen=None): if mod_name in seen: return seen.add(mod_name) components = mod_name.split('.') tab = ' ' # Print the module name indent = tab * (len(components) - 1) print('%s%s:' % (indent, components[-1].upper())) # Print the properties indent = tab * len(components) if props: print('%s%s' % (indent, ', '.join(props))) def print_tree(): """"""Print (to stdout) a visual representation of all the namespaces and the (short) trait names defined therein. """""" _walk_submodules(sys.modules.get(__name__), True, _visualize, seen=set()) :param recursive: Walk all submodules recursively? :type recursive: bool _walk_submodules(package, recursive, symbolize)","def symbolize(mod_name, name): """"""Given a reference to a Python module object and a short string name for a trait, registers a symbol in the module that corresponds to the full namespaced trait name. leaf_mod = sys.modules[mod_name] value_base = '_'.join([m.upper() for m in mod_name.split('.')[1:]]) value = value_base + '_' + name.upper() setattr(THIS_LIB, value, value) # os_traits.HW_CPU_X86_SSE setattr(leaf_mod, name, value) # os_traits.hw.cpu.x86.SSE :rtype: dict[str, types.ModuleType] if isinstance(package, str): package = importlib.import_module(package) for loader, name, is_pkg in pkgutil.walk_packages( package.__path__, package.__name__ + '.'): if TEST_DIR in name: continue imported = importlib.import_module(name) for prop in getattr(imported, ""TRAITS"", []): symbolize(name, prop) if recursive and is_pkg: import_submodules(name)",67,21
openstack%2Fnova~master~I6b462806ca3f49452809e241c3858b63ff9f641a,openstack/nova,master,I6b462806ca3f49452809e241c3858b63ff9f641a,WIP: Pre-validate volumes for cross_az_attach=False during create,ABANDONED,2019-10-08 22:03:02.000000000,2019-10-09 15:50:45.000000000,,"[{'_account_id': 4393}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-08 22:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fc5aebafb52ffca69d622f1c6eb4c4d06d33442e', 'message': 'WIP: Pre-validate volumes for cross_az_attach=False during create\n\nThis is the start of an alternate fix to bug 1694844 which tries to\nbe less hairy than Ib31ba2cbff0ebb22503172d8801b6e0c3d2aa68a.\n\nChange-Id: I6b462806ca3f49452809e241c3858b63ff9f641a\n'}, {'number': 2, 'created': '2019-10-08 23:28:42.000000000', 'files': ['nova/tests/functional/test_cross_az_attach.py', 'nova/tests/unit/compute/test_compute_api.py', 'nova/conf/cinder.py', 'nova/conf/availability_zone.py', 'nova/compute/api.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8ce1bfe6503c9ae35536d7c45eb0a1e2cd2a5069', 'message': 'WIP: Pre-validate volumes for cross_az_attach=False during create\n\nTODO: unit tests, docs update and release note\n\nThis is the start of an alternate fix to bug 1694844 which tries to\nbe less hairy than Ib31ba2cbff0ebb22503172d8801b6e0c3d2aa68a.\n\nCloses-Bug: #1846777\n\nChange-Id: I6b462806ca3f49452809e241c3858b63ff9f641a\n'}]",8,687430,8ce1bfe6503c9ae35536d7c45eb0a1e2cd2a5069,15,8,2,6873,,,0,"WIP: Pre-validate volumes for cross_az_attach=False during create

TODO: unit tests, docs update and release note

This is the start of an alternate fix to bug 1694844 which tries to
be less hairy than Ib31ba2cbff0ebb22503172d8801b6e0c3d2aa68a.

Closes-Bug: #1846777

Change-Id: I6b462806ca3f49452809e241c3858b63ff9f641a
",git fetch https://review.opendev.org/openstack/nova refs/changes/30/687430/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,fc5aebafb52ffca69d622f1c6eb4c4d06d33442e,bug/1694844," def _get_volumes_for_bdms(self, context, bdms): """"""Get the pre-existing volumes from cinder for the list of BDMs. :param context: nova auth RequestContext :param bdms: BlockDeviceMappingList which has zero or more BDMs with a pre-existing volume_id specified. :return: dict, keyed by volume id, of volume dicts :raises: VolumeNotFound - if a given volume does not exist :raises: CinderConnectionFailed - if there are problems communicating with the cinder API :raises: Forbidden - if the user token does not have authority to see a volume """""" # It would be nice if the GET /v3/{project_id}/volumes/detail API took # a list of volume IDs as filter parameters so we could make one rather # than N calls. volumes = {} for bdm in bdms: if bdm.volume_id: volumes[bdm.volume_id] = self.volume_api.get( context, bdm.volume_id) return volumes # Before processing the list of instances get all of the requested # pre-existing volumes so we can do some validation here rather than # down in the bowels of _validate_bdm. volumes = self._get_volumes_for_bdms(context, block_device_mapping)",,27,0
openstack%2Fopenstack-ansible-os_glance~master~I7403ac9bd85ea3ed149e13cb57c51039602f6ba1,openstack/openstack-ansible-os_glance,master,I7403ac9bd85ea3ed149e13cb57c51039602f6ba1,Turn the filesystem directory to be configurable,MERGED,2018-10-29 13:14:52.000000000,2019-10-09 15:47:56.000000000,2019-10-09 15:46:17.000000000,"[{'_account_id': 5314}, {'_account_id': 11904}, {'_account_id': 21883}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27749}, {'_account_id': 28008}, {'_account_id': 28561}, {'_account_id': 28619}]","[{'number': 1, 'created': '2018-10-29 13:14:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/3ff9b0a121ab6f0144f40a01e0ed68d9746be5ac', 'message': ""[WIP]Update permissions and path of NFS folder\n\nAfter running of glance role, the owner and group of NFS local folder\nis root instead of glance.\nMoreover, the location that the image is going to be registered is\nunder to 'v2/images'.\n\nThe ownership of the local NFS folder is updated and the folder of\nthe 'images' has been moved under folder 'v2'.\n\nChange-Id: I7403ac9bd85ea3ed149e13cb57c51039602f6ba1\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n""}, {'number': 2, 'created': '2018-10-30 07:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/2840cd92ba3aeafd8a80d066bf2fef0895cf20e2', 'message': ""[WIP]Update permissions and path of NFS folder\n\nAfter running of glance role, the owner and group of NFS local folder\nis root instead of glance.\nMoreover, the location that the image is going to be registered is\nunder to 'v2/images'.\n\nThe ownership of the local NFS folder is updated and the folder of\nthe 'images' has been moved under folder 'v2'.\n\nChange-Id: I7403ac9bd85ea3ed149e13cb57c51039602f6ba1\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n""}, {'number': 3, 'created': '2018-10-30 08:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/23e20832015fb0c320cb97f18dd2a25455cbed72', 'message': ""[WIP]Update permissions and path of NFS folder\n\nAfter running of glance role, the owner and group of NFS local folder\nis root instead of glance.\nMoreover, the location that the image is going to be registered is\nunder to 'v2/images'.\n\nThe ownership of the local NFS folder is updated and the folder of\nthe 'images' has been moved under folder 'v2'.\n\nChange-Id: I7403ac9bd85ea3ed149e13cb57c51039602f6ba1\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n""}, {'number': 4, 'created': '2018-10-30 10:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/147ad78151c066f39653bcbb29675ecf4d2c416a', 'message': ""[WIP]Update permissions and path of NFS folder\n\nAfter running of glance role, the owner and group of NFS local folder\nis root instead of glance.\nMoreover, the location that the image is going to be registered is\nunder to 'v2/images'.\n\nThe ownership of the local NFS folder is updated and the folder of\nthe 'images' has been moved under folder 'v2'.\nThe solution keeps the backward compatibility aspects.\n\nChange-Id: I7403ac9bd85ea3ed149e13cb57c51039602f6ba1\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n""}, {'number': 5, 'created': '2018-11-07 14:47:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/ec0ae6244648d9305d60872156327b900d8e920e', 'message': 'Turn the filesystem directory to be configurable\n\nThis patch has been started as solution of bug, but finally an\nalternative solution has been followed without the involving\nof this repo.\n\nTherefore, this path could be stand as an improvement for future use.\n\nMaking the filesystem directory configurable, we are able to store the\nimage in the different directory or a new path under\nglance_system_user_home, which new directory name or path could be\ndefined in the scenario as a new variable like other related\nvariables without any impact on glance role.\n\nChange-Id: I7403ac9bd85ea3ed149e13cb57c51039602f6ba1\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n'}, {'number': 6, 'created': '2018-11-07 16:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/d6dd9cb0c7915a52601246ac06f0442cd69de6f9', 'message': 'Turn the filesystem directory to be configurable\n\nThis patch had been prepared as solution of a bug, but finally an\nalternative solution has been followed without the involving\nof this repo.\n\nTherefore, this path could be stand as an improvement for future use.\n\nMaking the filesystem directory configurable, we are able to store the\nimage in the different directory or a new path under\nglance_system_user_home repo, which new directory name or path could be\ndefined in the scenario as a new variable, like other related\nvariables, without any impact on glance role.\n\nChange-Id: I7403ac9bd85ea3ed149e13cb57c51039602f6ba1\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n'}, {'number': 7, 'created': '2018-11-09 08:48:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/cd9c0f77d4c20fc52999e09350501e95c7c18aa8', 'message': 'Turn the filesystem directory to be configurable\n\nUpdate the ownership of the directory about NFS mount point(s).\n\nThis patch could be also stand as an improvement for future use.\n\nMaking the filesystem directory configurable, we are able to store\nthe image in the different directory (or in a new path) under\nglance_system_user_home repo, which is able to be configured\ndynamically, for instance, via deployment of a scenario.\n\nChange-Id: I7403ac9bd85ea3ed149e13cb57c51039602f6ba1\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n'}, {'number': 8, 'created': '2019-09-19 16:45:24.000000000', 'files': ['tasks/glance_install.yml', 'templates/glance-api.conf.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/c27d0123ab8c70dbb558f2378f181dc52c0fb534', 'message': 'Turn the filesystem directory to be configurable\n\nUpdate the ownership of the directory about NFS mount point(s).\n\nThis patch could be also stand as an improvement for future use.\n\nMaking the filesystem directory configurable, we are able to store\nthe image in the different directory (or in a new path) under\nglance_system_user_home repo, which is able to be configured\ndynamically, for instance, via deployment of a scenario.\n\nChange-Id: I7403ac9bd85ea3ed149e13cb57c51039602f6ba1\nSigned-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>\n'}]",6,613924,c27d0123ab8c70dbb558f2378f181dc52c0fb534,38,9,8,27749,,,0,"Turn the filesystem directory to be configurable

Update the ownership of the directory about NFS mount point(s).

This patch could be also stand as an improvement for future use.

Making the filesystem directory configurable, we are able to store
the image in the different directory (or in a new path) under
glance_system_user_home repo, which is able to be configured
dynamically, for instance, via deployment of a scenario.

Change-Id: I7403ac9bd85ea3ed149e13cb57c51039602f6ba1
Signed-off-by: Panagiotis Karalis <pkaralis@intracom-telecom.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/24/613924/8 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/glance_install.yml', 'templates/glance-api.conf.j2', 'defaults/main.yml']",3,3ff9b0a121ab6f0144f40a01e0ed68d9746be5ac,nfs_folder,"glance_nfs_local_path: ""/var/lib/glance/v2/images""",,10,2
openstack%2Fopenstack-ansible~master~I85e9182e7c4fe9477d30dd16b4132c1645205cce,openstack/openstack-ansible,master,I85e9182e7c4fe9477d30dd16b4132c1645205cce,Add nova placement to placement migration,MERGED,2019-06-12 12:20:45.000000000,2019-10-09 15:33:26.000000000,2019-10-09 15:31:16.000000000,"[{'_account_id': 1004}, {'_account_id': 14805}, {'_account_id': 17068}, {'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-12 12:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b2427f023dc3cf8efad277a38caab4f9f0ad4fa6', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nDepends-On: I5190507d44b38e451b22e45615371897485016ff\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 2, 'created': '2019-09-06 09:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cc200336b44fd6f5c21c86568c5fed5c4ab89edd', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nDepends-On: I5190507d44b38e451b22e45615371897485016ff\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 3, 'created': '2019-09-06 10:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8c8b7c6e1d0a10fbb7eccd1d5fae115027fc31e2', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nDepends-On: I5190507d44b38e451b22e45615371897485016ff\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 4, 'created': '2019-09-06 10:25:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f200edbd0b0786d1a76174313fd67a28d97bb75', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nDepends-On: I5190507d44b38e451b22e45615371897485016ff\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 5, 'created': '2019-09-06 16:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6ab598e17c17d1ca418a9bccd5f86d4a4d18c9b2', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nDepends-On: I5190507d44b38e451b22e45615371897485016ff\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 6, 'created': '2019-09-09 16:37:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a67868e4813e4099d2247409cc64f2a47117d5ff', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 7, 'created': '2019-09-10 12:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2f2c4fc9fe789d8b3a8991a9d5ae35c11eec7f9b', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 8, 'created': '2019-09-10 12:50:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/93a35f8b20559500f2d14a74720e0ec158c5882a', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 9, 'created': '2019-09-10 15:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7ebf8ae337db8bd0a39dfff8d290e404901b13a3', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 10, 'created': '2019-09-12 17:43:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/01a1ec533a5717ee77e16ac99a637c005035088d', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 11, 'created': '2019-09-13 13:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ac8dbb7ccd6edf4deb637f4f9fa38ee0d26c332d', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 12, 'created': '2019-09-13 15:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/77db228d4dfb8dec7fe1c68cb6d5656203f570e4', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 13, 'created': '2019-09-13 17:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3269e58766abcb08c067b5b2aa9b899e0edbc8dd', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 14, 'created': '2019-09-13 17:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7848bcbe0c9736faddce40474d06d54a711ecf65', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 15, 'created': '2019-09-16 15:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3c300e9ef1b135bd66a10d7380b56e98f7f1e90a', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 16, 'created': '2019-09-17 10:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dd1968cb2b6dc5e086e5358fdf28d5dff37335e2', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}, {'number': 17, 'created': '2019-10-08 19:03:15.000000000', 'files': ['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml', 'doc/source/admin/upgrades/major-upgrades.rst', 'scripts/upgrade-utilities/deploy-config-changes.yml', 'inventory/group_vars/haproxy/haproxy.yml', 'scripts/run-upgrade.sh', 'playbooks/os-placement-install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cd32d15cc0cdae0a1e35b6ad81922163bd2ec07c', 'message': ""Add nova placement to placement migration\n\nIn order to facilitate the nova placement -> extracted placement\nmigration, while keeping the services up for as long as possible,\nwe combine the two groups for the load balancer configuration on\nthe first pass, and pass the appropriate flag for the openstack\nplaybook to handle the migration. Once it's all done, we re-run\nthe haproxy playbook without the flag to ensure that the old nova\nplacement backends are removed.\n\nWe also remove haproxy_nova_placement_whitelist_networks as it is\nno longer used anywhere.\n\nChange-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce\n""}]",3,664867,cd32d15cc0cdae0a1e35b6ad81922163bd2ec07c,58,8,17,6816,,,0,"Add nova placement to placement migration

In order to facilitate the nova placement -> extracted placement
migration, while keeping the services up for as long as possible,
we combine the two groups for the load balancer configuration on
the first pass, and pass the appropriate flag for the openstack
playbook to handle the migration. Once it's all done, we re-run
the haproxy playbook without the flag to ensure that the old nova
placement backends are removed.

We also remove haproxy_nova_placement_whitelist_networks as it is
no longer used anywhere.

Change-Id: I85e9182e7c4fe9477d30dd16b4132c1645205cce
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/67/664867/14 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/upgrades/major-upgrades.rst', 'inventory/group_vars/haproxy/haproxy.yml', 'scripts/run-upgrade.sh']",3,b2427f023dc3cf8efad277a38caab4f9f0ad4fa6,osa-placement-migration," RUN_TASKS+=(""setup-infrastructure.yml -e 'galera_upgrade=true' -e 'rabbitmq_upgrade=true' -e 'placement_migrate_flag=true'"") RUN_TASKS+=(""setup-openstack.yml -e 'placement_migrate_flag=true'"") # run haproxy setup again without the placement migrate flag to remove the nova placement api backends RUN_TASKS+=(""haproxy-install.yml"")"," RUN_TASKS+=(""setup-infrastructure.yml -e 'galera_upgrade=true' -e 'rabbitmq_upgrade=true'"") RUN_TASKS+=(""setup-openstack.yml"")",30,9
openstack%2Fproject-config~master~Iae03fbe7f65ea25cc0480cd10ccf68c8e27b57a8,openstack/project-config,master,Iae03fbe7f65ea25cc0480cd10ccf68c8e27b57a8,gerritbot: notify stable branch changes to #openstack-horizon,MERGED,2019-10-09 12:17:39.000000000,2019-10-09 15:31:45.000000000,2019-10-09 15:31:45.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 12:17:39.000000000', 'files': ['gerritbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/73fbae7f9e0a2d1bb4d3a71189e6bd476c18acd7', 'message': 'gerritbot: notify stable branch changes to #openstack-horizon\n\nHorizon team would like to get notifications on gerrit changes\nin stable branches.\n\nChange-Id: Iae03fbe7f65ea25cc0480cd10ccf68c8e27b57a8\n'}]",0,687543,73fbae7f9e0a2d1bb4d3a71189e6bd476c18acd7,7,3,1,841,,,0,"gerritbot: notify stable branch changes to #openstack-horizon

Horizon team would like to get notifications on gerrit changes
in stable branches.

Change-Id: Iae03fbe7f65ea25cc0480cd10ccf68c8e27b57a8
",git fetch https://review.opendev.org/openstack/project-config refs/changes/43/687543/1 && git format-patch -1 --stdout FETCH_HEAD,['gerritbot/channels.yaml'],1,73fbae7f9e0a2d1bb4d3a71189e6bd476c18acd7,gerritbot-horizon-stable, - ^stable/.*,,1,0
openstack%2Frequirements~master~I1a91feee23f825d2fae90d853d96288117e92a25,openstack/requirements,master,I1a91feee23f825d2fae90d853d96288117e92a25,update constraint for ceilometer to new release 13.0.0.0rc1,ABANDONED,2019-09-26 09:33:33.000000000,2019-10-09 15:24:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-26 09:33:33.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0e73c72f489e95128b586280723d317a5d4540cd', 'message': 'update constraint for ceilometer to new release 13.0.0.0rc1\n\nChange-Id: I1a91feee23f825d2fae90d853d96288117e92a25\nmeta:version: 13.0.0.0rc1\nmeta:diff-start: -\nmeta:series: train\nmeta:release-type: release candidate\nmeta:pypi: no\nmeta:first: no\nmeta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>\nmeta:release:Commit: zhurong <aaronzhu1121@gmail.com>\nmeta:release:Change-Id: Ie5919ae5dfca1fe06bf2c4badfa558e552141782\nmeta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>\nmeta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>\nmeta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>\n'}]",0,685003,0e73c72f489e95128b586280723d317a5d4540cd,3,1,1,11131,,,0,"update constraint for ceilometer to new release 13.0.0.0rc1

Change-Id: I1a91feee23f825d2fae90d853d96288117e92a25
meta:version: 13.0.0.0rc1
meta:diff-start: -
meta:series: train
meta:release-type: release candidate
meta:pypi: no
meta:first: no
meta:release:Author: Jean-Philippe Evrard <jean-philippe@evrard.me>
meta:release:Commit: zhurong <aaronzhu1121@gmail.com>
meta:release:Change-Id: Ie5919ae5dfca1fe06bf2c4badfa558e552141782
meta:release:Code-Review+1: zhurong <aaronzhu1121@gmail.com>
meta:release:Code-Review+2: Sean McGinnis <sean.mcginnis@gmail.com>
meta:release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta:release:Workflow+1: Thierry Carrez <thierry@openstack.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/03/685003/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0e73c72f489e95128b586280723d317a5d4540cd,new-release,ceilometer===13.0.0.0rc1,ceilometer===12.0.0,1,1
openstack%2Fpuppet-tripleo~stable%2Fstein~I9ba293d6a245ee875bf273d116baf64e44d0a554,openstack/puppet-tripleo,stable/stein,I9ba293d6a245ee875bf273d116baf64e44d0a554,Remove ovn specific logic for octavia,MERGED,2019-10-09 09:00:09.000000000,2019-10-09 15:23:13.000000000,2019-10-09 15:23:12.000000000,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 09:00:09.000000000', 'files': ['spec/classes/tripleo_profile_base_octavia_api_spec.rb', 'manifests/profile/base/octavia/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fe160dd5a875c0f4898797489bb2914b5f7302d0', 'message': ""Remove ovn specific logic for octavia\n\nWe probably should not have the ovn neutron driver specific\nlogic here. This deprecates and ignores 'neutron_driver'\nparameter.\n\nChange-Id: I9ba293d6a245ee875bf273d116baf64e44d0a554\nCloses-Bug: #1839436\n(cherry picked from commit 517eea74811fa5e61ea6010a620ffb50d207844b)\n""}]",0,687501,fe160dd5a875c0f4898797489bb2914b5f7302d0,10,6,1,8833,,,0,"Remove ovn specific logic for octavia

We probably should not have the ovn neutron driver specific
logic here. This deprecates and ignores 'neutron_driver'
parameter.

Change-Id: I9ba293d6a245ee875bf273d116baf64e44d0a554
Closes-Bug: #1839436
(cherry picked from commit 517eea74811fa5e61ea6010a620ffb50d207844b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/01/687501/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_octavia_api_spec.rb', 'manifests/profile/base/octavia/api.pp']",2,fe160dd5a875c0f4898797489bb2914b5f7302d0,,"# DEPRECATED PARAMETERS # # [*neutron_driver*] # (Optional) The neutron driver for ml2 currently default tripleo value is ovn. # Defaults to hiera('neutron::plugins::ml2::mechanism_drivers'). Not used # any more. # if $ovn_db_host and $ovn_nb_port { $ovn_nb_connection = join(['tcp', normalize_ip_for_uri($ovn_db_host), ""${ovn_nb_port}""], ':') } class { '::octavia::api': sync_db => $sync_db, ovn_nb_connection => $ovn_nb_connection,","# [*neutron_driver*] # (Optional) The neutron driver for ml2 currently default tripleo value is ovn. # Defaults to hiera('neutron::plugins::ml2::mechanism_drivers') # if 'ovn' in $neutron_driver { $providers = 'amphora: The Octavia Amphora driver.,octavia: Deprecated alias of the Octavia Amphora driver.,ovn: Octavia OVN driver.' class { '::octavia::api': sync_db => $sync_db, provider_drivers => $providers, ovn_nb_connection => join(['tcp', normalize_ip_for_uri($ovn_db_host), ""${ovn_nb_port}""], ':'), } } else { class { '::octavia::api': sync_db => $sync_db, }",13,19
openstack%2Fkolla-ansible~master~I88bdb004814f37c81c9a9c4e5e491fac69f6f202,openstack/kolla-ansible,master,I88bdb004814f37c81c9a9c4e5e491fac69f6f202,"Standardize the configuration of ""oslo_messaging"" section",MERGED,2019-07-12 19:43:19.000000000,2019-10-09 14:57:53.000000000,2019-08-15 20:04:56.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 28356}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-12 19:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/341739a9a7347e347432b60c6cd2d320786df88c', 'message': ""Fix bug when configuring Keystone events format\n\nBy default Kolla-ansible defines 'enable_cadf_notifications'\nas 'no'. This variable is used to enable/disable CADF format\nin Keystone. However, the default of Keystone is 'CADF'.\nTherefore, Kolla-ansible will configure Keystone without\nsetting the oslo.messaging driver as messagingv2. This\nwill create a configuration that does not publish events\nin RabbitMQ.\n\nThis change (PR) is introducing a few things:\n* Moving the definition of 'enable_cadf_notifications' to\nKeystone role as it is only used there\n* Changing the default value defined to 'yes' because that is\nthe default behavior in Keystone. Keystone uses CADF format by\nDefault.\n* Add an else condition in Keystone.conf template. When CADF is\nnot enabled, we need to explicitly set the format as 'basic'.\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n""}, {'number': 2, 'created': '2019-07-13 17:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26675bd12eb2678eb238fe879cc07ddf451c9f98', 'message': ""Fix bug when configuring Keystone events format\n\nBy default Kolla-ansible defines 'enable_cadf_notifications'\nas 'no'. This variable is used to enable/disable CADF format\nin Keystone. However, the default of Keystone is 'CADF'.\nTherefore, Kolla-ansible will configure Keystone without\nsetting the oslo.messaging driver as messagingv2. This\nwill create a configuration that does not publish events\nin RabbitMQ.\n\nThis change (PR) is introducing a few things:\n* Moving the definition of 'enable_cadf_notifications' to\nKeystone role as it is only used there\n* Changing the default value defined to 'yes' because that is\nthe default behavior in Keystone. Keystone uses CADF format by\nDefault.\n* Add an else condition in Keystone.conf template. When CADF is\nnot enabled, we need to explicitly set the format as 'basic'.\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n""}, {'number': 3, 'created': '2019-07-26 12:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b433c198217964d42a03ac44c5c97f20f1144351', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changed I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 4, 'created': '2019-07-26 13:10:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd924b5cdacff24cd5e28480a57d41ff1992205e', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 5, 'created': '2019-07-26 14:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fa89664e8a9ed6337e6c69956cc4fd9ca4f60cfd', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 6, 'created': '2019-07-26 16:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/774889bc06596b8af04f5b96d28836b8cee7e03f', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 7, 'created': '2019-08-05 11:51:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a13cab6896062b90c191d51d3c03801d55b4fbb9', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 8, 'created': '2019-08-05 12:16:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7ad08d1e746b5683ebb9217d5f5362fc1edf7807', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 9, 'created': '2019-08-05 14:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b39971ba35452eeaa8f7f1c9f7b3db45d5fff7ad', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: https://bugs.launchpad.net/kolla-ansible/+bug/1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 10, 'created': '2019-08-05 14:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e72ea33f3c2a30d10d4e4bd5819e7d5d5287290', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: https://bugs.launchpad.net/kolla-ansible/+bug/1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 11, 'created': '2019-08-05 17:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/377c98ca5083a3a436399f7bb4927ce994f55b4c', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: https://bugs.launchpad.net/kolla-ansible/+bug/1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 12, 'created': '2019-08-05 17:32:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e99355d8bb8955c4c4963f60843f65e85af8862b', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: #1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 13, 'created': '2019-08-06 12:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/06c487dcb9c589dfc5b9234b03dae385437e6123', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: #1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 14, 'created': '2019-08-06 16:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2cef1c87494cfa038f615327769ee3564fd05631', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: #1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 15, 'created': '2019-08-06 19:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c475a469f7307231ce94a9879f704b6d02234ba2', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: #1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 16, 'created': '2019-08-07 12:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/123a1a609eeafb8f637222efbb2f96768ce5e6f9', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: #1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 17, 'created': '2019-08-07 14:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cea46f83ebc7d5820b34c68fbd589d71a32f14e0', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Karbor:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Qinling\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Solum\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: #1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 18, 'created': '2019-08-07 20:21:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/62d31b6a29fb9eb537a3e99931591b00ff2080af', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: #1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 19, 'created': '2019-08-08 13:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da9035b157d95fb431339982a017fd9d6e177421', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nIt was already properly configured.\n\n* Congress:\nThe topic is hard-coded ""congress-validator-agent"" or\n""congress-service-<serviceID>"". Therefore, we need to set the driver.\nOtherwise, as a minimum working Congress setup we would not have the\nnotifications.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: #1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}, {'number': 20, 'created': '2019-08-15 16:25:29.000000000', 'files': ['ansible/roles/mistral/defaults/main.yml', 'ansible/roles/nova-hyperv/templates/neutron_hyperv_agent.conf.j2', 'ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/trove/templates/trove-taskmanager.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/trove/templates/trove-conductor.conf.j2', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/nova-hyperv/templates/nova_hyperv.conf.j2', 'ansible/roles/karbor/templates/karbor.conf.j2', 'ansible/roles/senlin/defaults/main.yml', 'releasenotes/notes/standard-oslo-messaging-sections-4769da25bc58aa02.yaml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/nova-hyperv/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/magnum/templates/magnum.conf.j2', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/barbican/templates/barbican.conf.j2', 'ansible/roles/searchlight/templates/searchlight.conf.j2', 'ansible/roles/watcher/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/22a6223b1b0d56011a4ddf3662104280d370f4ee', 'message': 'Standardize the configuration of ""oslo_messaging"" section\n\nAfter all of the discussions we had on\n""https://review.opendev.org/#/c/670626/2"", I studied all projects that\nhave an ""oslo_messaging"" section. Afterwards, I applied the same method\nthat is already used in ""oslo_messaging"" section in Nova, Cinder, and\nothers. This guarantees that we have a consistent method to\nenable/disable notifications across projects based on components (e.g.\nCeilometer) being enabled or disabled. Here follows the list of\ncomponents, and the respective changes I did.\n\n* Aodh:\nThe section is declared, but it is not used. Therefore, it will\nbe removed in an upcomming PR.\n\n* Congress:\nThe section is declared, but it is not used. Therefore, it will\nbe removed in an upcomming PR.\n\n* Cinder:\nIt was already properly configured.\n\n* Octavia:\nThe section is declared, but it is not used. Therefore, it will\nbe removed in an upcomming PR.\n\n* Heat:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Ceilometer:\nCeilometer publishes some messages in the rabbitMQ. However, the\ndefault driver is ""messagingv2"", and not \'\'(empty) as defined in Oslo;\nthese configurations are defined in ceilometer/publisher/messaging.py.\nTherefore, we do not need to do anything for the\n""oslo_messaging_notifications"" section in Ceilometer\n\n* Tacker:\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Neutron:\nIt was already properly configured.\n\n* Nova\nIt was already properly configured. However, we found another issue\nwith its configuration. Kolla-ansible does not configure nova\nnotifications as it should. If \'searchlight\' is not installed (enabled)\nthe \'notification_format\' should be \'unversioned\'. The default is\n\'both\'; so nova will send a notification to the queue\nversioned_notifications; but that queue has no consumer when\n\'searchlight\' is disabled. In our case, the queue got 511k messages.\nThe huge amount of ""stuck"" messages made the Rabbitmq cluster\nunstable.\n\nhttps://bugzilla.redhat.com/show_bug.cgi?id=1478274\nhttps://bugs.launchpad.net/ceilometer/+bug/1665449\n\n* Nova_hyperv:\nI added the same configurations as in Nova project.\n\n* Vitrage\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Searchlight\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Ironic\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Glance\nIt was already properly configured.\n\n* Trove\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Blazar\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Sahara\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Watcher\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Barbican\nI created a mechanism similar to what we have in Cinder, Nova,\nand others. I also added a configuration to \'keystone_notifications\'\nsection. Barbican needs its own queue to capture events from Keystone.\nOtherwise, it has an impact on Ceilometer and other systems that are\nconnected to the ""notifications"" default queue.\n\n* Keystone\nKeystone is the system that triggered this work with the discussions\nthat followed on https://review.opendev.org/#/c/670626/2. After a long\ndiscussion, we agreed to apply the same approach that we have in Nova,\nCinder and other systems in Keystone. That is what we did. Moreover, we\nintroduce a new topic ""barbican_notifications"" when barbican is\nenabled. We also removed the ""variable"" enable_cadf_notifications, as\nit is obsolete, and the default in Keystone is CADF.\n\n* Mistral:\nIt was hardcoded ""noop"" as the driver. However, that does not seem a\ngood practice. Instead, I applied the same standard of using the driver\nand pushing to ""notifications"" queue if Ceilometer is enabled.\n\n* Cyborg:\nI created a mechanism similar to what we have in AODH, Cinder, Nova,\nand others.\n\n* Murano\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Senlin\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Manila\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Zun\nThe section is declared, but it is not used. Therefore, it will\nbe removed in an upcomming PR.\n\n* Designate\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\n* Magnum\nIt was already using a similar scheme; I just modified it a little bit\nto be the same as we have in all other components\n\nCloses-Bug: #1838985\n\nChange-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202\nSigned-off-by: Rafael Weingärtner <rafael@apache.org>\n'}]",81,670626,22a6223b1b0d56011a4ddf3662104280d370f4ee,131,6,20,28356,,,0,"Standardize the configuration of ""oslo_messaging"" section

After all of the discussions we had on
""https://review.opendev.org/#/c/670626/2"", I studied all projects that
have an ""oslo_messaging"" section. Afterwards, I applied the same method
that is already used in ""oslo_messaging"" section in Nova, Cinder, and
others. This guarantees that we have a consistent method to
enable/disable notifications across projects based on components (e.g.
Ceilometer) being enabled or disabled. Here follows the list of
components, and the respective changes I did.

* Aodh:
The section is declared, but it is not used. Therefore, it will
be removed in an upcomming PR.

* Congress:
The section is declared, but it is not used. Therefore, it will
be removed in an upcomming PR.

* Cinder:
It was already properly configured.

* Octavia:
The section is declared, but it is not used. Therefore, it will
be removed in an upcomming PR.

* Heat:
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

* Ceilometer:
Ceilometer publishes some messages in the rabbitMQ. However, the
default driver is ""messagingv2"", and not ''(empty) as defined in Oslo;
these configurations are defined in ceilometer/publisher/messaging.py.
Therefore, we do not need to do anything for the
""oslo_messaging_notifications"" section in Ceilometer

* Tacker:
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

* Neutron:
It was already properly configured.

* Nova
It was already properly configured. However, we found another issue
with its configuration. Kolla-ansible does not configure nova
notifications as it should. If 'searchlight' is not installed (enabled)
the 'notification_format' should be 'unversioned'. The default is
'both'; so nova will send a notification to the queue
versioned_notifications; but that queue has no consumer when
'searchlight' is disabled. In our case, the queue got 511k messages.
The huge amount of ""stuck"" messages made the Rabbitmq cluster
unstable.

https://bugzilla.redhat.com/show_bug.cgi?id=1478274
https://bugs.launchpad.net/ceilometer/+bug/1665449

* Nova_hyperv:
I added the same configurations as in Nova project.

* Vitrage
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

* Searchlight
I created a mechanism similar to what we have in AODH, Cinder, Nova,
and others.

* Ironic
I created a mechanism similar to what we have in AODH, Cinder, Nova,
and others.

* Glance
It was already properly configured.

* Trove
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

* Blazar
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

* Sahara
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

* Watcher
I created a mechanism similar to what we have in AODH, Cinder, Nova,
and others.

* Barbican
I created a mechanism similar to what we have in Cinder, Nova,
and others. I also added a configuration to 'keystone_notifications'
section. Barbican needs its own queue to capture events from Keystone.
Otherwise, it has an impact on Ceilometer and other systems that are
connected to the ""notifications"" default queue.

* Keystone
Keystone is the system that triggered this work with the discussions
that followed on https://review.opendev.org/#/c/670626/2. After a long
discussion, we agreed to apply the same approach that we have in Nova,
Cinder and other systems in Keystone. That is what we did. Moreover, we
introduce a new topic ""barbican_notifications"" when barbican is
enabled. We also removed the ""variable"" enable_cadf_notifications, as
it is obsolete, and the default in Keystone is CADF.

* Mistral:
It was hardcoded ""noop"" as the driver. However, that does not seem a
good practice. Instead, I applied the same standard of using the driver
and pushing to ""notifications"" queue if Ceilometer is enabled.

* Cyborg:
I created a mechanism similar to what we have in AODH, Cinder, Nova,
and others.

* Murano
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

* Senlin
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

* Manila
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

* Zun
The section is declared, but it is not used. Therefore, it will
be removed in an upcomming PR.

* Designate
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

* Magnum
It was already using a similar scheme; I just modified it a little bit
to be the same as we have in all other components

Closes-Bug: #1838985

Change-Id: I88bdb004814f37c81c9a9c4e5e491fac69f6f202
Signed-off-by: Rafael Weingärtner <rafael@apache.org>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/670626/13 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/defaults/main.yml']",3,341739a9a7347e347432b60c6cd2d320786df88c,bug/1838985,"# Variable used to enable/disable CADF format in Keystone # The default value defined here is 'yes' because that is # the default behavior in Keystone. Keystone uses CADF by # Default. enable_cadf_notifications: ""yes""",,7,1
openstack%2Fcharm-specs~master~I648538020b02aacfba4d60461bf4952cecf48c2c,openstack/charm-specs,master,I648538020b02aacfba4d60461bf4952cecf48c2c,ovn: Change name of charms to make intent more clear,MERGED,2019-10-08 13:28:19.000000000,2019-10-09 14:55:37.000000000,2019-10-09 14:53:48.000000000,"[{'_account_id': 20634}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 13:28:19.000000000', 'files': ['specs/train/approved/charm-openstack-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/d389a870b41059dc53fd34fdea2ba4e22f870b13', 'message': 'ovn: Change name of charms to make intent more clear\n\nChange-Id: I648538020b02aacfba4d60461bf4952cecf48c2c\n'}]",0,687297,d389a870b41059dc53fd34fdea2ba4e22f870b13,10,4,1,13686,,,0,"ovn: Change name of charms to make intent more clear

Change-Id: I648538020b02aacfba4d60461bf4952cecf48c2c
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/97/687297/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/charm-openstack-ovn.rst'],1,d389a870b41059dc53fd34fdea2ba4e22f870b13,ovn-charm,- ovn-central- ovn-chassis runs its own independent copy of the ``ovn-controller`` daemon.- ovn-dedicated-chassis - This charm will be built from the ``ovn-chassis`` subordinate codebase.,- ovn- ovn-controller runs its own independent copy of ``ovn-controller``.- ovn-dedicated-controller - This charm will be built from the ``ovn-controller`` subordinate codebase.,5,5
openstack%2Freleases~master~I5a327e65796a5ebed725f637b4111934997b8b0a,openstack/releases,master,I5a327e65796a5ebed725f637b4111934997b8b0a,nova: release train 20.0.0.0rc2,MERGED,2019-10-08 20:46:39.000000000,2019-10-09 14:53:45.000000000,2019-10-09 14:53:45.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 20:46:39.000000000', 'files': ['deliverables/train/nova.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6ecc44508fba2488220115cd738a6f3d13072874', 'message': 'nova: release train 20.0.0.0rc2\n\nChange-Id: I5a327e65796a5ebed725f637b4111934997b8b0a\n'}]",2,687418,6ecc44508fba2488220115cd738a6f3d13072874,8,4,1,6873,,,0,"nova: release train 20.0.0.0rc2

Change-Id: I5a327e65796a5ebed725f637b4111934997b8b0a
",git fetch https://review.opendev.org/openstack/releases refs/changes/18/687418/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/nova.yaml'],1,6ecc44508fba2488220115cd738a6f3d13072874,nova-train-rc2, - version: 20.0.0.0rc2 projects: - repo: openstack/nova hash: 5d7e4c52ff0b8d71881c209de03a6856fbdcb2fc,,4,0
openstack%2Freleases~master~I39f64af8eae7aacae0bfdc9196668d41e4db8312,openstack/releases,master,I39f64af8eae7aacae0bfdc9196668d41e4db8312,Add recent release note landing pages,MERGED,2019-10-07 16:49:22.000000000,2019-10-09 14:53:38.000000000,2019-10-09 14:53:38.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 16:49:22.000000000', 'files': ['deliverables/train/puppet-keystone.yaml', 'deliverables/train/puppet-nova.yaml', 'deliverables/train/python-openstackclient.yaml', 'deliverables/train/swift.yaml', 'deliverables/train/puppet-aodh.yaml', 'deliverables/train/monasca-api.yaml', 'deliverables/train/heat-agents.yaml', 'deliverables/train/vitrage.yaml', 'deliverables/train/puppet-magnum.yaml', 'deliverables/train/puppet-vswitch.yaml', 'deliverables/train/puppet-sahara.yaml', 'deliverables/train/puppet-vitrage.yaml', 'deliverables/train/networking-bagpipe.yaml', 'deliverables/train/puppet-glance.yaml', 'deliverables/train/puppet-designate.yaml', 'deliverables/train/os-client-config.yaml', 'deliverables/train/puppet-ceilometer.yaml', 'deliverables/train/puppet-barbican.yaml', 'deliverables/train/puppet-trove.yaml', 'deliverables/train/monasca-persister.yaml', 'deliverables/train/puppet-tempest.yaml', 'deliverables/train/puppet-neutron.yaml', 'deliverables/train/networking-midonet.yaml', 'deliverables/train/puppet-panko.yaml', 'deliverables/train/puppet-watcher.yaml', 'deliverables/train/monasca-notification.yaml', 'deliverables/train/glance.yaml', 'deliverables/train/puppet-murano.yaml', 'deliverables/train/puppet-ec2api.yaml', 'deliverables/train/puppet-openstack_extras.yaml', 'deliverables/train/vitrage-dashboard.yaml', 'deliverables/train/puppet-octavia.yaml', 'deliverables/train/puppet-cinder.yaml', 'deliverables/train/puppet-ironic.yaml', 'deliverables/train/neutron-vpnaas-dashboard.yaml', 'deliverables/train/puppet-gnocchi.yaml', 'deliverables/train/puppet-tacker.yaml', 'deliverables/train/puppet-openstacklib.yaml', 'deliverables/train/shade.yaml', 'deliverables/train/puppet-manila.yaml', 'deliverables/train/puppet-oslo.yaml', 'deliverables/train/puppet-zaqar.yaml', 'deliverables/train/puppet-horizon.yaml', 'deliverables/train/puppet-heat.yaml', 'deliverables/train/kuryr-libnetwork.yaml', 'deliverables/train/puppet-swift.yaml', 'deliverables/train/puppet-mistral.yaml', 'deliverables/train/puppet-congress.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/984c2f6f5c65d8a2acc44b238819a132c714d193', 'message': 'Add recent release note landing pages\n\nChange-Id: I39f64af8eae7aacae0bfdc9196668d41e4db8312\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,687097,984c2f6f5c65d8a2acc44b238819a132c714d193,10,4,1,11904,,,0,"Add recent release note landing pages

Change-Id: I39f64af8eae7aacae0bfdc9196668d41e4db8312
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/97/687097/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/puppet-keystone.yaml', 'deliverables/train/puppet-nova.yaml', 'deliverables/train/python-openstackclient.yaml', 'deliverables/train/swift.yaml', 'deliverables/train/puppet-aodh.yaml', 'deliverables/train/monasca-api.yaml', 'deliverables/train/heat-agents.yaml', 'deliverables/train/vitrage.yaml', 'deliverables/train/puppet-magnum.yaml', 'deliverables/train/puppet-vswitch.yaml', 'deliverables/train/puppet-sahara.yaml', 'deliverables/train/puppet-vitrage.yaml', 'deliverables/train/networking-bagpipe.yaml', 'deliverables/train/puppet-glance.yaml', 'deliverables/train/puppet-designate.yaml', 'deliverables/train/os-client-config.yaml', 'deliverables/train/puppet-ceilometer.yaml', 'deliverables/train/puppet-barbican.yaml', 'deliverables/train/puppet-trove.yaml', 'deliverables/train/monasca-persister.yaml', 'deliverables/train/puppet-tempest.yaml', 'deliverables/train/puppet-neutron.yaml', 'deliverables/train/networking-midonet.yaml', 'deliverables/train/puppet-panko.yaml', 'deliverables/train/puppet-watcher.yaml', 'deliverables/train/monasca-notification.yaml', 'deliverables/train/glance.yaml', 'deliverables/train/puppet-murano.yaml', 'deliverables/train/puppet-ec2api.yaml', 'deliverables/train/puppet-openstack_extras.yaml', 'deliverables/train/vitrage-dashboard.yaml', 'deliverables/train/puppet-octavia.yaml', 'deliverables/train/puppet-cinder.yaml', 'deliverables/train/puppet-ironic.yaml', 'deliverables/train/neutron-vpnaas-dashboard.yaml', 'deliverables/train/puppet-gnocchi.yaml', 'deliverables/train/puppet-tacker.yaml', 'deliverables/train/puppet-openstacklib.yaml', 'deliverables/train/shade.yaml', 'deliverables/train/puppet-manila.yaml', 'deliverables/train/puppet-oslo.yaml', 'deliverables/train/puppet-zaqar.yaml', 'deliverables/train/puppet-horizon.yaml', 'deliverables/train/puppet-heat.yaml', 'deliverables/train/kuryr-libnetwork.yaml', 'deliverables/train/puppet-swift.yaml', 'deliverables/train/puppet-mistral.yaml', 'deliverables/train/puppet-congress.yaml']",48,984c2f6f5c65d8a2acc44b238819a132c714d193,reno,release-notes: https://docs.openstack.org/releasenotes/puppet-congress/train.html,,59,14
openstack%2Fheat~master~I2b5cddcbeab849054d84501dfcec48442f3666d3,openstack/heat,master,I2b5cddcbeab849054d84501dfcec48442f3666d3,Don't mark snapshot complete while task in progress,MERGED,2019-10-08 20:42:47.000000000,2019-10-09 14:52:52.000000000,2019-10-09 14:51:10.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 20:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8a8a95b272547d5164386a6406a25d5451f246a7', 'message': ""Don't mark snapshot complete while task in progress\n\nFailures in the gate suggest that it is now somehow possible for the\nGlance image created by a snapshot to appear to have been created even\nwhile the Nova server remains in a state like 'image_uploading'. Servers\nin this state cannot be rebuilt (to restore a snapshot). To ensure that\nthe snapshot has actually completed before the resource is marked\nSNAPSHOT_COMPLETE, check the task state of the server as well as the\nstate of the snapshot image in Glance.\n\nChange-Id: I2b5cddcbeab849054d84501dfcec48442f3666d3\nCo-Authored-By: Rico Lin <rico.lin.guanyu@gmail.com>\nTask: 36964\n""}, {'number': 2, 'created': '2019-10-08 20:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5ffb5140a3c591730349c75f4ccbab2e4203d7ca', 'message': ""Don't mark snapshot complete while task in progress\n\nFailures in the gate suggest that it is now somehow possible for the\nGlance image created by a snapshot to appear to have been created even\nwhile the Nova server remains in a state like 'image_uploading'. Servers\nin this state cannot be rebuilt (to restore a snapshot). To ensure that\nthe snapshot has actually completed before the resource is marked\nSNAPSHOT_COMPLETE, check the task state of the server as well as the\nstate of the snapshot image in Glance.\n\nChange-Id: I2b5cddcbeab849054d84501dfcec48442f3666d3\nCo-Authored-By: Rico Lin <rico.lin.guanyu@gmail.com>\nTask: 36964\n""}, {'number': 3, 'created': '2019-10-08 20:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a1a228875c5f4d0cc35bb04be0e8593bd4ad93f2', 'message': ""Don't mark snapshot complete while task in progress\n\nFailures in the gate suggest that it is now somehow possible for the\nGlance image created by a snapshot to appear to have been created even\nwhile the Nova server remains in a state like 'image_uploading'. Servers\nin this state cannot be rebuilt (to restore a snapshot). To ensure that\nthe snapshot has actually completed before the resource is marked\nSNAPSHOT_COMPLETE, check the task state of the server as well as the\nstate of the snapshot image in Glance.\n\nChange-Id: I2b5cddcbeab849054d84501dfcec48442f3666d3\nCo-Authored-By: Rico Lin <rico.lin.guanyu@gmail.com>\nTask: 36964\n""}, {'number': 4, 'created': '2019-10-09 03:22:35.000000000', 'files': ['heat/engine/resources/openstack/nova/server.py', 'heat/tests/openstack/nova/test_server.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/9dd523c311c06dd9437ad1a1049999de32b66361', 'message': ""Don't mark snapshot complete while task in progress\n\nFailures in the gate suggest that it is now somehow possible for the\nGlance image created by a snapshot to appear to have been created even\nwhile the Nova server remains in a state like 'image_uploading'. Servers\nin this state cannot be rebuilt (to restore a snapshot). To ensure that\nthe snapshot has actually completed before the resource is marked\nSNAPSHOT_COMPLETE, check the task state of the server as well as the\nstate of the snapshot image in Glance.\n\nChange-Id: I2b5cddcbeab849054d84501dfcec48442f3666d3\nCo-Authored-By: Rico Lin <rico.lin.guanyu@gmail.com>\nTask: 36964\n""}]",0,687417,9dd523c311c06dd9437ad1a1049999de32b66361,17,3,4,4257,,,0,"Don't mark snapshot complete while task in progress

Failures in the gate suggest that it is now somehow possible for the
Glance image created by a snapshot to appear to have been created even
while the Nova server remains in a state like 'image_uploading'. Servers
in this state cannot be rebuilt (to restore a snapshot). To ensure that
the snapshot has actually completed before the resource is marked
SNAPSHOT_COMPLETE, check the task state of the server as well as the
state of the snapshot image in Glance.

Change-Id: I2b5cddcbeab849054d84501dfcec48442f3666d3
Co-Authored-By: Rico Lin <rico.lin.guanyu@gmail.com>
Task: 36964
",git fetch https://review.opendev.org/openstack/heat refs/changes/17/687417/4 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/nova/server.py'],1,8a8a95b272547d5164386a6406a25d5451f246a7,story/2006636," server = self.client().servers.get(self.resource_id) task_state = getattr(server, 'OS-EXT-STS:task_state', '') if task_state in {'image_uploading', 'image_snapshot_pending', 'image_snapshot', 'image_pending_upload'}: return False ",,6,0
openstack%2Fosc-lib~master~If87b6b7e606a2fb2d3b0bc2c6f8c9374b56222d7,openstack/osc-lib,master,If87b6b7e606a2fb2d3b0bc2c6f8c9374b56222d7,Add KeyValueAppendAction to osc-lib,ABANDONED,2019-09-27 12:02:08.000000000,2019-10-09 14:48:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-27 12:02:08.000000000', 'files': ['releasenotes/notes/add-KeyValueAppendAction-class-f830e71152d6b91e.yaml', 'osc_lib/tests/cli/test_parseractions.py', 'osc_lib/cli/parseractions.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/30ef53c58034c53799b160cf6bb4b4ad5c912bc9', 'message': ""Add KeyValueAppendAction to osc-lib\n\nThis is required to support things like the '--hint' option for\n'openstack server create', which allows you to specify arguments\nmultiple times.\n\nChange-Id: If87b6b7e606a2fb2d3b0bc2c6f8c9374b56222d7\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nRelated-Bug: #1845322\n""}]",0,685328,30ef53c58034c53799b160cf6bb4b4ad5c912bc9,3,1,1,15334,,,0,"Add KeyValueAppendAction to osc-lib

This is required to support things like the '--hint' option for
'openstack server create', which allows you to specify arguments
multiple times.

Change-Id: If87b6b7e606a2fb2d3b0bc2c6f8c9374b56222d7
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Related-Bug: #1845322
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/28/685328/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-KeyValueAppendAction-class-f830e71152d6b91e.yaml', 'osc_lib/tests/cli/test_parseractions.py', 'osc_lib/cli/parseractions.py']",3,30ef53c58034c53799b160cf6bb4b4ad5c912bc9,bug/1845322," Ensures that ``dest`` is a dict and values are strings.class KeyValueAppendAction(argparse.Action): """"""A custom action to parse arguments as key=value pairs Ensures that ``dest`` is a dict and values are lists of strins. """""" def __call__(self, parser, namespace, values, option_string=None): # Make sure we have an empty dict rather than None if getattr(namespace, self.dest, None) is None: setattr(namespace, self.dest, {}) # Add value if an assignment else remove it if '=' in values: key, value = values.split('=', 1) # NOTE(qtang): Prevent null key setting in property if '' == key: msg = _(""Property key must be specified: %s"") raise argparse.ArgumentTypeError(msg % str(values)) dest = getattr(namespace, self.dest) if key in dest: dest[key].append(value) else: dest[key] = [value] else: msg = _(""Expected 'key=value' type, but got: %s"") raise argparse.ArgumentTypeError(msg % str(values)) ", Ensures that ``dest`` is a dict,82,1
openstack%2Fpuppet-openstack-integration~stable%2Ftrain~Iec7ad6e3a6d33a41afbbd5c88311f262320e2429,openstack/puppet-openstack-integration,stable/train,Iec7ad6e3a6d33a41afbbd5c88311f262320e2429,Replace designate-pool-manager by worker and producer services,MERGED,2019-10-08 16:05:54.000000000,2019-10-09 14:42:36.000000000,2019-10-09 14:42:36.000000000,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-08 16:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fa1cb107001f2a2b7f57718c88c06bc614eb13be', 'message': ""Replace designate-pool-manager by worker and producer services\n\npool-manager was deprecated some releases ago and has been removed in\ntrain so let's move to the recommended deployment.\n\nChange-Id: Iec7ad6e3a6d33a41afbbd5c88311f262320e2429\n(cherry picked from commit 262203f86aea5195af25cbe8f8f183432f10cf24)\n""}, {'number': 2, 'created': '2019-10-08 21:06:29.000000000', 'files': ['manifests/designate.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ca522854ffa7ad27404be7ba58d4f34d8465fc02', 'message': ""Replace designate-pool-manager by worker and producer services\n\npool-manager was deprecated some releases ago and has been removed in\ntrain so let's move to the recommended deployment.\n\nChange-Id: Iec7ad6e3a6d33a41afbbd5c88311f262320e2429\n(cherry picked from commit 262203f86aea5195af25cbe8f8f183432f10cf24)\n""}]",0,687343,ca522854ffa7ad27404be7ba58d4f34d8465fc02,9,2,2,16312,,,0,"Replace designate-pool-manager by worker and producer services

pool-manager was deprecated some releases ago and has been removed in
train so let's move to the recommended deployment.

Change-Id: Iec7ad6e3a6d33a41afbbd5c88311f262320e2429
(cherry picked from commit 262203f86aea5195af25cbe8f8f183432f10cf24)
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/43/687343/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/designate.pp'],1,fa1cb107001f2a2b7f57718c88c06bc614eb13be,fix-designate-stable/train, class { '::designate::producer': } class { '::designate::worker': }," class { '::designate::pool_manager': pool_id => '794ccc2c-d751-44fe-b57f-8894c9f5c842', } # pool_manager and designate worker cannot be enabled together class { '::designate::worker': enabled => false, service_ensure => 'stopped', } class { '::designate::pool_manager_cache::memcache': memcached_servers => $::openstack_integration::config::memcached_servers, }",2,12
openstack%2Fproject-config~master~I0a9f36b3697f8f191dd19601e15c4b6689da930a,openstack/project-config,master,I0a9f36b3697f8f191dd19601e15c4b6689da930a,New charm and interface for placement split,MERGED,2019-10-02 19:07:32.000000000,2019-10-09 14:38:01.000000000,2019-10-09 14:38:01.000000000,"[{'_account_id': 2}, {'_account_id': 935}, {'_account_id': 6547}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 10607}, {'_account_id': 11805}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 19:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/26c052af4ec57974ab3f092a8c08cbc33e4ef82c', 'message': 'New charm and interface for placement split\n\nAdd placement charm and interface that allow for placement API\nto be split from nova-cloud-controller charm.\n\nChange-Id: I0a9f36b3697f8f191dd19601e15c4b6689da930a\n'}, {'number': 2, 'created': '2019-10-02 19:09:20.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/f47f7e477c8dd623ee90ce533a5ad26b95695199', 'message': 'New charm and interface for placement split\n\nAdd placement charm and interface that allow for placement API\nto be split from nova-cloud-controller charm.\n\nNeeded-By: https://review.opendev.org/686253\nChange-Id: I0a9f36b3697f8f191dd19601e15c4b6689da930a\n'}]",0,686251,f47f7e477c8dd623ee90ce533a5ad26b95695199,20,9,2,11805,,,0,"New charm and interface for placement split

Add placement charm and interface that allow for placement API
to be split from nova-cloud-controller charm.

Needed-By: https://review.opendev.org/686253
Change-Id: I0a9f36b3697f8f191dd19601e15c4b6689da930a
",git fetch https://review.opendev.org/openstack/project-config refs/changes/51/686251/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,26c052af4ec57974ab3f092a8c08cbc33e4ef82c,charms-train-placement, - openstack/charm-interface-placement - openstack/charm-placement,,10,0
openstack%2Fheat~master~If92fb43b68831d2daa877b8237908478878d61be,openstack/heat,master,If92fb43b68831d2daa877b8237908478878d61be,[WIP]Add self-healing scenario tests,NEW,2019-04-27 16:11:33.000000000,2019-10-09 14:37:35.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-27 16:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/82d9fb5a518f0d74de614bc3594b2a24638d6257', 'message': '[WIP]Add self-healing scenario tests\n\nDepends-On: https://review.opendev.org/656068\n\nChange-Id: If92fb43b68831d2daa877b8237908478878d61be\n'}, {'number': 2, 'created': '2019-04-28 17:32:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/2ec4cb1fac48e221ee79f234f6fb7251c5309638', 'message': '[WIP]Add self-healing scenario tests\n\nDepends-On: https://review.opendev.org/656068\n\nChange-Id: If92fb43b68831d2daa877b8237908478878d61be\n'}, {'number': 3, 'created': '2019-04-28 22:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/fde474efe8a0a8599ed7850eec8b0637c1740b52', 'message': '[WIP]Add self-healing scenario tests\n\nDepends-On: https://review.opendev.org/656068\n\nChange-Id: If92fb43b68831d2daa877b8237908478878d61be\n'}, {'number': 4, 'created': '2019-05-01 20:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8419499a47b9fddc34fb5269dcbd908d47d3df32', 'message': '[WIP]Add self-healing scenario tests\n\nDepends-On: https://review.opendev.org/656068\n\nChange-Id: If92fb43b68831d2daa877b8237908478878d61be\n'}, {'number': 5, 'created': '2019-05-23 07:48:17.000000000', 'files': ['playbooks/devstack/functional/run.yaml', '.zuul.yaml', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/e49923d7826320151b8ee77d987aaf20ae333182', 'message': '[WIP]Add self-healing scenario tests\n\nDepends-On: https://review.opendev.org/656068\n\nChange-Id: If92fb43b68831d2daa877b8237908478878d61be\n'}]",0,656070,e49923d7826320151b8ee77d987aaf20ae333182,31,2,5,12404,,,0,"[WIP]Add self-healing scenario tests

Depends-On: https://review.opendev.org/656068

Change-Id: If92fb43b68831d2daa877b8237908478878d61be
",git fetch https://review.opendev.org/openstack/heat refs/changes/70/656070/5 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/devstack/functional/run.yaml', '.zuul.yaml', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",4,82d9fb5a518f0d74de614bc3594b2a24638d6257,self-healing, iniset $conf_file heat_features_enabled self-healing True,,7,0
openstack%2Fpatrole~master~I8420471c70abd17846529710100bf834581e41b0,openstack/patrole,master,I8420471c70abd17846529710100bf834581e41b0,Add release notes page for version 0.7.0,MERGED,2019-10-07 17:53:05.000000000,2019-10-09 14:33:04.000000000,2019-10-09 14:30:37.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-10-07 17:53:05.000000000', 'files': ['releasenotes/source/v0.7.0.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/patrole/commit/c33986b1385e0dab73381cadda9a18340ddb6a9e', 'message': 'Add release notes page for version 0.7.0\n\nPatrole 0.7.0 has been released [1].\nThis commit adds a new page for 0.7.0 release notes.\n\n[1] https://review.opendev.org/#/c/685430/\n\nChange-Id: I8420471c70abd17846529710100bf834581e41b0\n'}]",0,687124,c33986b1385e0dab73381cadda9a18340ddb6a9e,9,5,1,8556,,,0,"Add release notes page for version 0.7.0

Patrole 0.7.0 has been released [1].
This commit adds a new page for 0.7.0 release notes.

[1] https://review.opendev.org/#/c/685430/

Change-Id: I8420471c70abd17846529710100bf834581e41b0
",git fetch https://review.opendev.org/openstack/patrole refs/changes/24/687124/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/v0.7.0.rst', 'releasenotes/source/index.rst']",2,c33986b1385e0dab73381cadda9a18340ddb6a9e,qa-train-release, v0.7.0,,7,0
openstack%2Freleases~master~I856ea68f5e7744706af122ba0181e17abd0ff2a4,openstack/releases,master,I856ea68f5e7744706af122ba0181e17abd0ff2a4,Placement RC2 for Train,MERGED,2019-10-08 17:07:07.000000000,2019-10-09 14:30:09.000000000,2019-10-09 14:30:09.000000000,"[{'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-10-08 17:07:07.000000000', 'files': ['deliverables/train/placement.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7948180ead62b1fbb5fe51681077da6260267437', 'message': 'Placement RC2 for Train\n\nThis picks up a couple of docs fixes [1][2] and a helper CLI feature\n[3].\n\n[1] Ia2a4b982d6146a275f433a73b6a8a13acab1e00a\n[2] I2e92730ff5819bf49cf1b286356870fdb9c6ece5\n[3] I3df5686d13c1ce0cc38402a1317acb661ad74cec\n\nChange-Id: I856ea68f5e7744706af122ba0181e17abd0ff2a4\n'}]",1,687359,7948180ead62b1fbb5fe51681077da6260267437,9,4,1,14070,,,0,"Placement RC2 for Train

This picks up a couple of docs fixes [1][2] and a helper CLI feature
[3].

[1] Ia2a4b982d6146a275f433a73b6a8a13acab1e00a
[2] I2e92730ff5819bf49cf1b286356870fdb9c6ece5
[3] I3df5686d13c1ce0cc38402a1317acb661ad74cec

Change-Id: I856ea68f5e7744706af122ba0181e17abd0ff2a4
",git fetch https://review.opendev.org/openstack/releases refs/changes/59/687359/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/placement.yaml'],1,7948180ead62b1fbb5fe51681077da6260267437,placement-train-rc2, - version: 2.0.0.0rc2 projects: - repo: openstack/placement hash: 36beddbaf5e3cc4dce8e3abda5471fe95704feae,,4,0
openstack%2Fironic-inspector~master~I6b915a0b0f78690defa962be96c8ae9d35d69345,openstack/ironic-inspector,master,I6b915a0b0f78690defa962be96c8ae9d35d69345,Raising minimum version of oslo.db,MERGED,2019-10-07 12:50:14.000000000,2019-10-09 14:25:59.000000000,2019-10-09 14:24:47.000000000,"[{'_account_id': 10239}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-10-07 12:50:14.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/d3aee899a14dc9e2b473afd6033a75fc74c10886', 'message': 'Raising minimum version of oslo.db\n\noslo.db was not compatible with Python 3.7 until version 4.40.0\nbecause Python 3.7 makes ""async"" a keyword [1].\nTo prevent bad surprises, this patch increases the minumum version\nrequired for oslo.db to 4.40.0.\n\n[1] https://review.opendev.org/574833\n\nChange-Id: I6b915a0b0f78690defa962be96c8ae9d35d69345\n'}]",0,687016,d3aee899a14dc9e2b473afd6033a75fc74c10886,22,6,1,23851,,,0,"Raising minimum version of oslo.db

oslo.db was not compatible with Python 3.7 until version 4.40.0
because Python 3.7 makes ""async"" a keyword [1].
To prevent bad surprises, this patch increases the minumum version
required for oslo.db to 4.40.0.

[1] https://review.opendev.org/574833

Change-Id: I6b915a0b0f78690defa962be96c8ae9d35d69345
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/16/687016/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,d3aee899a14dc9e2b473afd6033a75fc74c10886,oslo-db-python-37,oslo.db==4.40.0,oslo.db==4.27.0,2,2
openstack%2Fpython-heatclient~stable%2Ftrain~I01e85dd79a5b008c11e72b0984b8bccd915abc43,openstack/python-heatclient,stable/train,I01e85dd79a5b008c11e72b0984b8bccd915abc43,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-20 17:40:26.000000000,2019-10-09 14:23:02.000000000,2019-10-09 14:21:23.000000000,"[{'_account_id': 4257}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 17:40:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/56e5188fca3ba994a142f035b997df1c698f5c0c', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I01e85dd79a5b008c11e72b0984b8bccd915abc43\n'}]",0,683605,56e5188fca3ba994a142f035b997df1c698f5c0c,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I01e85dd79a5b008c11e72b0984b8bccd915abc43
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/05/683605/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,56e5188fca3ba994a142f035b997df1c698f5c0c,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Fpython-heatclient~stable%2Ftrain~I40e557874de4d8872c312e00a8b3c976a85ad252,openstack/python-heatclient,stable/train,I40e557874de4d8872c312e00a8b3c976a85ad252,Update .gitreview for stable/train,MERGED,2019-09-20 17:40:24.000000000,2019-10-09 14:21:55.000000000,2019-10-09 14:20:20.000000000,"[{'_account_id': 4257}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 17:40:24.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/03c90bd8d9059803044b7a320503775a5be01034', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I40e557874de4d8872c312e00a8b3c976a85ad252\n'}]",0,683604,03c90bd8d9059803044b7a320503775a5be01034,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I40e557874de4d8872c312e00a8b3c976a85ad252
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/04/683604/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,03c90bd8d9059803044b7a320503775a5be01034,create-train,defaultbranch=stable/train,,1,0
openstack%2Fopenstack-ansible-lxc_hosts~master~Idbf675c356d9f5c5faaf16d54c9a03afc5b8726e,openstack/openstack-ansible-lxc_hosts,master,Idbf675c356d9f5c5faaf16d54c9a03afc5b8726e,Use xz instead of pxz,MERGED,2019-10-08 12:14:35.000000000,2019-10-09 14:20:30.000000000,2019-10-09 14:18:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-08 12:14:35.000000000', 'files': ['vars/debian-host.yml', 'vars/ubuntu-18.04-host.yml', 'vars/ubuntu-16.04-host.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9b646259e31d0a7a8aaa89b3d3866c0918489dca', 'message': 'Use xz instead of pxz\n\nxz now has the threading fuction that was only previously in pxz. Switch\nto the more standard package.\n\nChange-Id: Idbf675c356d9f5c5faaf16d54c9a03afc5b8726e\n'}]",0,687280,9b646259e31d0a7a8aaa89b3d3866c0918489dca,10,4,1,25023,,,0,"Use xz instead of pxz

xz now has the threading fuction that was only previously in pxz. Switch
to the more standard package.

Change-Id: Idbf675c356d9f5c5faaf16d54c9a03afc5b8726e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/80/687280/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian-host.yml', 'vars/ubuntu-18.04-host.yml', 'vars/ubuntu-16.04-host.yml']",3,9b646259e31d0a7a8aaa89b3d3866c0918489dca,, - xz-utilslxc_xz_bin: xz, - pxzlxc_xz_bin: pxz,6,6
openstack%2Fcinder~stable%2Fqueens~I33d691d1dfa835b70726bcfacf868faab52de16a,openstack/cinder,stable/queens,I33d691d1dfa835b70726bcfacf868faab52de16a,Dell EMC SC: Handle the mappings of multiattached volume,ABANDONED,2019-09-02 13:22:59.000000000,2019-10-09 14:14:45.000000000,,"[{'_account_id': 4523}, {'_account_id': 7160}, {'_account_id': 7198}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 12369}, {'_account_id': 14624}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28743}, {'_account_id': 28801}, {'_account_id': 29466}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-09-02 13:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d03c5309e599bbf6830537eee64c7b8ebc4ef4a0', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\n'}, {'number': 2, 'created': '2019-09-04 10:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1980424c2e6c89cc02f6e5227bc792caf83d88a2', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\n(cherry picked from commit 08d35b099113679eb7d343f7463d63cb6f1adbbc)\n'}, {'number': 3, 'created': '2019-09-11 14:32:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d33807bd6cfb2d6d4e1318691e1b09ff5d2c007', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\n(cherry picked from commit 08d35b099113679eb7d343f7463d63cb6f1adbbc)\n'}, {'number': 4, 'created': '2019-09-11 14:34:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2cdf5a241f1334db0ff4574634aa68b2b886dafd', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\n(cherry picked from commit 08d35b099113679eb7d343f7463d63cb6f1adbbc)\n'}, {'number': 5, 'created': '2019-09-11 14:35:43.000000000', 'files': ['cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_sc.py', 'releasenotes/notes/sc-handle-multiattach-onterminate-6ab1f96f21bb284d.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_fc.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/136c8d52d251ef11a998f405416995512204cf3c', 'message': 'Dell EMC SC: Handle the mappings of multiattached volume\n\nFor volumes attached to multiple instances, this handles\nthe deletion of mappings in the backend when the volume\nis attached to multiple instances on the same host.\n\nCloses-Bug: #1822229\nCo-Authored-By: Sam Wan <sam_wan@emc.com>\nChange-Id: I33d691d1dfa835b70726bcfacf868faab52de16a\n(cherry picked from commit 08d35b099113679eb7d343f7463d63cb6f1adbbc)\n'}]",2,679643,136c8d52d251ef11a998f405416995512204cf3c,77,27,5,29466,,,0,"Dell EMC SC: Handle the mappings of multiattached volume

For volumes attached to multiple instances, this handles
the deletion of mappings in the backend when the volume
is attached to multiple instances on the same host.

Closes-Bug: #1822229
Co-Authored-By: Sam Wan <sam_wan@emc.com>
Change-Id: I33d691d1dfa835b70726bcfacf868faab52de16a
(cherry picked from commit 08d35b099113679eb7d343f7463d63cb6f1adbbc)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/679643/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/dell_emc/sc/storagecenter_iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_sc.py', 'releasenotes/notes/sc-handle-multiattach-onterminate-6ab1f96f21bb284d.yaml', 'cinder/tests/unit/volume/drivers/dell_emc/sc/test_fc.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_fc.py']",6,d03c5309e599bbf6830537eee64c7b8ebc4ef4a0,bug/1822229,"from cinder import utils @utils.synchronized('{self.driver_prefix}-{volume.id}') LOG.debug('Volume details %s', volume) # None `connector` indicates force detach, then detach all even if the # volume is multi-attached. is_multiattached = (hasattr(volume, 'volume_attachment') and self.is_multiattach_to_host( volume.get('volume_attachment'), connector['host'])) if is_multiattached: LOG.info('Cannot terminate connection: ' '%(vol)s is multiattached.', {'vol': volume_name}) return True", @fczm_utils.remove_fc_zone # basic return info...,237,6
openstack%2Fnova~master~I4c2cb97de1fc8e1ed80fa22680621fd4f6390cfd,openstack/nova,master,I4c2cb97de1fc8e1ed80fa22680621fd4f6390cfd,Skip functional test jobs for doc redirect changes,MERGED,2019-10-08 16:45:57.000000000,2019-10-09 14:08:39.000000000,2019-10-09 09:55:18.000000000,"[{'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-08 16:45:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/3f3114c94eede2e6963140f2efa9460ee796e049', 'message': 'Skip functional test jobs for doc redirect changes\n\nChanges to docs to handle redirects like [1] should not\ntrigger functional jobs. Note that functional-irrelevant-files\ndoes not just blindly ignore all changes to the docs/* path\nbecause we do need to run functional test jobs for changes to\ndoc/notification_samples.\n\n[1] Iad18f355a20261313ddb3dafd302ed66ebca64bc\n\nChange-Id: I4c2cb97de1fc8e1ed80fa22680621fd4f6390cfd\n'}]",1,687357,3f3114c94eede2e6963140f2efa9460ee796e049,18,8,1,6873,,,0,"Skip functional test jobs for doc redirect changes

Changes to docs to handle redirects like [1] should not
trigger functional jobs. Note that functional-irrelevant-files
does not just blindly ignore all changes to the docs/* path
because we do need to run functional test jobs for changes to
doc/notification_samples.

[1] Iad18f355a20261313ddb3dafd302ed66ebca64bc

Change-Id: I4c2cb97de1fc8e1ed80fa22680621fd4f6390cfd
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/687357/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3f3114c94eede2e6963140f2efa9460ee796e049,skip-func-job-for-redirects, - ^doc/(source|test)/.*$, - ^doc/source/.*$,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I2a2ea8bfa4da35fa8721b14909b0968123379558,openstack/tripleo-heat-templates,stable/queens,I2a2ea8bfa4da35fa8721b14909b0968123379558,Support TLS priorities for pacemaker,MERGED,2019-10-09 06:39:31.000000000,2019-10-09 14:02:55.000000000,2019-10-09 14:01:31.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 06:39:31.000000000', 'files': ['puppet/services/pacemaker.yaml', 'releasenotes/notes/pcmktlspriorities-4315010185adf45a.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/78791487931df5f54f917fec2c61c80bac354fa1', 'message': 'Support TLS priorities for pacemaker\n\nIntroduce a PacemakerTLSPriorities parameter (which will set the\nPCMK_tls_priorities config option in /etc/sysconfig/pacemaker and the\nPCMK_tls_priorities variable inside the bundle. This, when set, allows\nan operator to specify what kind of GNUTLS ciphers are desired for the\npacemaker control port.\n\nTested on both queens and stein. Via a deploy and a redeploy against\nexisting cloud. Observed that:\nA) We got PCMK_tls_priorities inside /etc/sysconfig/pacemaker with the\nvalue that was passed in THT\nB) Containers had the following env variable set:\n  ""PCMK_tls_priorities=normal"",\n\nNB: cherry-pick not 100% clean (tiny conflict due to I0b2ae95563f64a21ef673e1e60889424a03fbc42\nenable stonith deep_compare being merged in the meantime). Also made\nsure that the firewall_rules are expressed with \'.\' and not with \'::\'\n(I6f67153e04aed191acb715fe8cfa976ee2e75878 is the change that happened\nlater which explains the background)\n\n(cherry-picked from commit feee059a439e16f4bc179ea007567d05ef63220f)\n(cherry picked from commit 62f6287a8f7594b589a548a5465d24af070f90f5)\nDepends-On: I703b5a429f48063474aace85bc45d948f5c91435\nChange-Id: I2a2ea8bfa4da35fa8721b14909b0968123379558\n(cherry picked from commit 8a75427d691cbdbc5f2a68646245e1d0d471c94f)\n'}]",0,687461,78791487931df5f54f917fec2c61c80bac354fa1,9,4,1,20172,,,0,"Support TLS priorities for pacemaker

Introduce a PacemakerTLSPriorities parameter (which will set the
PCMK_tls_priorities config option in /etc/sysconfig/pacemaker and the
PCMK_tls_priorities variable inside the bundle. This, when set, allows
an operator to specify what kind of GNUTLS ciphers are desired for the
pacemaker control port.

Tested on both queens and stein. Via a deploy and a redeploy against
existing cloud. Observed that:
A) We got PCMK_tls_priorities inside /etc/sysconfig/pacemaker with the
value that was passed in THT
B) Containers had the following env variable set:
  ""PCMK_tls_priorities=normal"",

NB: cherry-pick not 100% clean (tiny conflict due to I0b2ae95563f64a21ef673e1e60889424a03fbc42
enable stonith deep_compare being merged in the meantime). Also made
sure that the firewall_rules are expressed with '.' and not with '::'
(I6f67153e04aed191acb715fe8cfa976ee2e75878 is the change that happened
later which explains the background)

(cherry-picked from commit feee059a439e16f4bc179ea007567d05ef63220f)
(cherry picked from commit 62f6287a8f7594b589a548a5465d24af070f90f5)
Depends-On: I703b5a429f48063474aace85bc45d948f5c91435
Change-Id: I2a2ea8bfa4da35fa8721b14909b0968123379558
(cherry picked from commit 8a75427d691cbdbc5f2a68646245e1d0d471c94f)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/61/687461/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/services/pacemaker.yaml', 'releasenotes/notes/pcmktlspriorities-4315010185adf45a.yaml']",2,78791487931df5f54f917fec2c61c80bac354fa1,queens_tls_prio,"--- features: - | Introduce a PacemakerTLSPriorities parameter (which will set the PCMK_tls_priorities config option in /etc/sysconfig/pacemaker and the PCMK_tls_priorities variable inside the bundle. This, when set, allows an operator to specify what kind of GNUTLS ciphers are desired for the pacemaker control port. ",,51,31
openstack%2Fpython-mistralclient~stable%2Ftrain~I1f09052cc88a680276263b9bc4b2375483b3a1f5,openstack/python-mistralclient,stable/train,I1f09052cc88a680276263b9bc4b2375483b3a1f5,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-09-20 17:41:19.000000000,2019-10-09 14:02:17.000000000,2019-10-09 13:59:41.000000000,"[{'_account_id': 8731}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 17:41:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/d97d783e4443976df90806bc49845971cd64c109', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I1f09052cc88a680276263b9bc4b2375483b3a1f5\n'}]",0,683617,d97d783e4443976df90806bc49845971cd64c109,9,2,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I1f09052cc88a680276263b9bc4b2375483b3a1f5
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/17/683617/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d97d783e4443976df90806bc49845971cd64c109,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fpython-mistralclient~stable%2Ftrain~I30eafad57c10f72d72d687b35bf1f22ff333e722,openstack/python-mistralclient,stable/train,I30eafad57c10f72d72d687b35bf1f22ff333e722,Update .gitreview for stable/train,MERGED,2019-09-20 17:41:17.000000000,2019-10-09 14:01:01.000000000,2019-10-09 13:59:41.000000000,"[{'_account_id': 6547}, {'_account_id': 8731}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-20 17:41:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/python-mistralclient/commit/837866cac398c70ea6688562bcfda0a4a37868f5', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I30eafad57c10f72d72d687b35bf1f22ff333e722\n'}]",0,683616,837866cac398c70ea6688562bcfda0a4a37868f5,26,4,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I30eafad57c10f72d72d687b35bf1f22ff333e722
",git fetch https://review.opendev.org/openstack/python-mistralclient refs/changes/16/683616/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,837866cac398c70ea6688562bcfda0a4a37868f5,create-train,defaultbranch=stable/train,,1,0
openstack%2Fnetworking-ovn~master~I8c1174df562a7164d4a96ce2e733279723827dcd,openstack/networking-ovn,master,I8c1174df562a7164d4a96ce2e733279723827dcd,Avoid port group creation race,MERGED,2019-09-19 21:59:44.000000000,2019-10-09 13:55:18.000000000,2019-10-09 13:50:46.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-09-19 21:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f98860ad2020d14df428be62bcfb35bfaa220f3c', 'message': ""Avoid port group creation race\n\nThe neutron_pg_drop Porg Group is created with some ACLs to drop\nall the traffic by default. This group doesn't match any Neutron\nresource and it's created once the first Neutron port with\nport_security enabled gets created.\n\nA race condition exists whn the first two ports get created\nsimultaneously by different works as both may attempt to create\nthis Port Group. The result is that one of the port creations will\nfail. Setting may_exist=True should avoid this race\n\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCloses-Bug: 1838969\nChange-Id: I8c1174df562a7164d4a96ce2e733279723827dcd\n""}, {'number': 2, 'created': '2019-09-19 23:01:28.000000000', 'files': ['networking_ovn/common/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e946836b208a5ddc3a17f2dba53658c4b9a3f8f7', 'message': ""Avoid port group creation race\n\nThe neutron_pg_drop Porg Group is created with some ACLs to drop\nall the traffic by default. This group doesn't match any Neutron\nresource and it's created once the first Neutron port with\nport_security enabled gets created.\n\nA race condition exists whn the first two ports get created\nsimultaneously by different works as both may attempt to create\nthis Port Group. The result is that one of the port creations will\nfail. Setting may_exist=True should avoid this race\n\nCo-authored-by: Daniel Alvarez <dalvarez@redhat.com>\nCloses-Bug: 1838969\nChange-Id: I8c1174df562a7164d4a96ce2e733279723827dcd\n""}]",0,683246,e946836b208a5ddc3a17f2dba53658c4b9a3f8f7,15,4,2,5756,,,0,"Avoid port group creation race

The neutron_pg_drop Porg Group is created with some ACLs to drop
all the traffic by default. This group doesn't match any Neutron
resource and it's created once the first Neutron port with
port_security enabled gets created.

A race condition exists whn the first two ports get created
simultaneously by different works as both may attempt to create
this Port Group. The result is that one of the port creations will
fail. Setting may_exist=True should avoid this race

Co-authored-by: Daniel Alvarez <dalvarez@redhat.com>
Closes-Bug: 1838969
Change-Id: I8c1174df562a7164d4a96ce2e733279723827dcd
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/46/683246/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/common/ovn_client.py'],1,f98860ad2020d14df428be62bcfb35bfaa220f3c,," txn.add(self._nb_idl.pg_add(pg_name, acls=[], may_exist=True)) txn.add(self._nb_idl.pg_acl_add(**acl, may_exist=True))"," txn.add(self._nb_idl.pg_add(pg_name, acls=[])) txn.add(self._nb_idl.pg_acl_add(**acl))",2,2
openstack%2Fmistral~master~I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5,openstack/mistral,master,I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5,New alembic migration to support namespaces in postgresql,MERGED,2019-08-08 14:43:12.000000000,2019-10-09 13:48:51.000000000,2019-10-09 13:47:10.000000000,"[{'_account_id': 7700}, {'_account_id': 8731}, {'_account_id': 9712}, {'_account_id': 10068}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 21970}, {'_account_id': 22348}, {'_account_id': 29124}, {'_account_id': 30775}]","[{'number': 1, 'created': '2019-08-08 14:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/bb5b53cca79c5ded154c61388d78b091d931a878', 'message': 'New alembic migration to support namespaces in postgresql\n\nAdded old constraint (name + project_id) deletion to make\ncreating and using workflow with different namespaces\nand same name possible.\n\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}, {'number': 2, 'created': '2019-09-13 13:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/718d8cec2c293a3a8a25dd25f6c641aec7d0c01d', 'message': 'New alembic migration to support namespaces in postgresql\n\nAdded old constraint (name + project_id) deletion to make\ncreating and using workflow with different namespaces\nand same name possible.\n\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}, {'number': 3, 'created': '2019-09-16 04:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/4e5f0dd9e391d6a87ba6d47721c50a9ebb9c01f6', 'message': 'New alembic migration to support namespaces in postgresql\n\nAdded old constraint (name + project_id) deletion to make\ncreating and using workflow with different namespaces\nand same name possible.\n\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}, {'number': 4, 'created': '2019-09-17 10:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6d23b5d491a104a9cca8c4af07eea5e3583f4b48', 'message': 'New alembic migration to support namespaces in postgresql\n\nAdded old constraint (name + project_id) deletion to make\ncreating and using workflow with different namespaces\nand same name possible.\n\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}, {'number': 5, 'created': '2019-09-18 08:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e4c91ccc8f0e4a7ad95e43ad31c7dc802e64c5bf', 'message': 'New alembic migration to support namespaces in postgresql\n\nAdded old constraint (name + project_id) deletion to make\ncreating and using workflow with different namespaces\nand same name possible.\n\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}, {'number': 6, 'created': '2019-09-19 05:03:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/e5a8cde098a17f63793d739a09e080e1ba95fa4b', 'message': 'New alembic migration to support namespaces in postgresql\n\nAdded old constraint (name + project_id) deletion to make\ncreating and using workflow with different namespaces\nand same name possible.\n\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}, {'number': 7, 'created': '2019-09-23 14:31:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/99d4e3258410ba99b74d3939550642d2766b03e7', 'message': 'New alembic migration to support namespaces in postgresql\n\nWe are now using drop_index to delete old constraint (name + project_id) in namespace support migration.\nIt works only for MySQL, for PostgreSQL we should use drop_constraint to delete old constraint.\ndrop_index does not affect PostgreSQL and drop_constraint does not affect MySQL, so we should use both for\nnamespace support for both databases. Added old constraint (name + project_id) deletion for PostgreSQL with new migration.\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}, {'number': 8, 'created': '2019-09-24 09:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/6343f2249a1898979f39df7725213afa39cfbfb3', 'message': 'New alembic migration to support namespaces in postgresql\n\nWe are now using drop_index to delete old constraint (name + project_id)\nin namespace support migration. It works only for MySQL, for PostgreSQL\nwe should use drop_constraint to delete old constraint.\ndrop_index does not affect PostgreSQL and drop_constraint does not affect\nMySQL, so we should use both for namespace support for both databases.\nAdded old constraint (name + project_id) deletion for\nPostgreSQL with new migration.\n\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}, {'number': 9, 'created': '2019-09-26 06:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/a97ac8f2a55465a69d39657bf23a3c0e06e895f3', 'message': 'New alembic migration to support namespaces in postgresql\n\nWe are now using drop_index to delete old constraint (name + project_id)\nin namespace support migration. It works only for MySQL, for PostgreSQL\nwe should use drop_constraint to delete old constraint.\ndrop_index does not affect PostgreSQL and drop_constraint does not affect\nMySQL, so we should use both for namespace support for both databases.\nAdded old constraint (name + project_id) deletion for\nPostgreSQL with new migration.\n\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}, {'number': 10, 'created': '2019-10-01 04:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/511954c70ee6ed96f6a3171f4f245687061bd4c7', 'message': 'New alembic migration to support namespaces in postgresql\n\nWe are now using drop_index to delete old constraint (name + project_id)\nin namespace support migration. It works only for MySQL, for PostgreSQL\nwe should use drop_constraint to delete old constraint.\ndrop_index does not affect PostgreSQL and drop_constraint does not affect\nMySQL, so we should use both for namespace support for both databases.\nAdded old constraint (name + project_id) deletion for\nPostgreSQL with new migration.\n\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}, {'number': 11, 'created': '2019-10-09 08:31:44.000000000', 'files': ['mistral/db/sqlalchemy/migration/alembic_migrations/versions/035_namespace_support_postgresql.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/c3434b48eccf070c44f56b92218b1b8c3bfa6310', 'message': 'New alembic migration to support namespaces in postgresql\n\nWe are now using drop_index to delete old constraint (name + project_id)\nin namespace support migration. It works only for MySQL, for PostgreSQL\nwe should use drop_constraint to delete old constraint.\ndrop_index does not affect PostgreSQL and drop_constraint does not affect\nMySQL, so we should use both for namespace support for both databases.\nAdded old constraint (name + project_id) deletion for\nPostgreSQL with new migration.\n\nChange-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5\nCloses-bug: #1838635\n'}]",2,675361,c3434b48eccf070c44f56b92218b1b8c3bfa6310,58,10,11,30775,,,0,"New alembic migration to support namespaces in postgresql

We are now using drop_index to delete old constraint (name + project_id)
in namespace support migration. It works only for MySQL, for PostgreSQL
we should use drop_constraint to delete old constraint.
drop_index does not affect PostgreSQL and drop_constraint does not affect
MySQL, so we should use both for namespace support for both databases.
Added old constraint (name + project_id) deletion for
PostgreSQL with new migration.

Change-Id: I137162dd2b643b24f02799c6a13e3b0c0a8d3fb5
Closes-bug: #1838635
",git fetch https://review.opendev.org/openstack/mistral refs/changes/61/675361/6 && git format-patch -1 --stdout FETCH_HEAD,['mistral/db/sqlalchemy/migration/alembic_migrations/versions/034_namespace_support_postgresql.py'],1,bb5b53cca79c5ded154c61388d78b091d931a878,bug/1838635,"# Copyright 2019 OpenStack Foundation. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. """"""Namespace support postgresql Revision ID: 034 Revises: 033 Create Date: 2019-08-01 15:48:34.115639 """""" # revision identifiers, used by Alembic. revision = '034' down_revision = '033' from alembic import op from sqlalchemy.engine import reflection def upgrade(): inspect = reflection.Inspector.from_engine(op.get_bind()) unique_constraints = [ unique_constraint['name'] for unique_constraint in inspect.get_unique_constraints('workflow_definitions_v2') ] if 'workflow_definitions_v2_name_project_id_key' in unique_constraints: op.drop_constraint('workflow_definitions_v2_name_project_id_key', table_name='workflow_definitions_v2') ",,43,0
openstack%2Fheat-agents~stable%2Ftrain~I9179398f039e6b5809d9221722c1899246d3f213,openstack/heat-agents,stable/train,I9179398f039e6b5809d9221722c1899246d3f213,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-04 13:11:46.000000000,2019-10-09 13:43:42.000000000,2019-10-09 13:42:30.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:11:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/96b819c87d374eda0ff30558945561bc150e3235', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9179398f039e6b5809d9221722c1899246d3f213\n'}]",0,686613,96b819c87d374eda0ff30558945561bc150e3235,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9179398f039e6b5809d9221722c1899246d3f213
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/13/686613/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,96b819c87d374eda0ff30558945561bc150e3235,create-train,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Fheat-agents~stable%2Ftrain~I131eba8eb098c98b1d092cda0d007bab8660bc5c,openstack/heat-agents,stable/train,I131eba8eb098c98b1d092cda0d007bab8660bc5c,Update .gitreview for stable/train,MERGED,2019-10-04 13:11:45.000000000,2019-10-09 13:42:28.000000000,2019-10-09 13:40:58.000000000,"[{'_account_id': 4257}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-04 13:11:45.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/de2594379a0f77ef15c446e1bd6506c7bc744c06', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I131eba8eb098c98b1d092cda0d007bab8660bc5c\n'}]",0,686612,de2594379a0f77ef15c446e1bd6506c7bc744c06,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I131eba8eb098c98b1d092cda0d007bab8660bc5c
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/12/686612/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,de2594379a0f77ef15c446e1bd6506c7bc744c06,create-train,defaultbranch=stable/train,,1,0
openstack%2Fglance_store~master~I267224f734303e4e9791e5019a014814f6161956,openstack/glance_store,master,I267224f734303e4e9791e5019a014814f6161956,Add release notes link in readme,MERGED,2019-10-06 06:37:27.000000000,2019-10-09 13:41:07.000000000,2019-10-09 13:38:53.000000000,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-06 06:37:27.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/d68c69fba7046db81a10593d18935481fc7ef5be', 'message': 'Add release notes link in readme\n\nChange-Id: I267224f734303e4e9791e5019a014814f6161956\n'}]",0,686918,d68c69fba7046db81a10593d18935481fc7ef5be,7,2,1,30092,,,0,"Add release notes link in readme

Change-Id: I267224f734303e4e9791e5019a014814f6161956
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/18/686918/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,d68c69fba7046db81a10593d18935481fc7ef5be,,* Release notes: https://docs.openstack.org/releasenotes/glance_store/index.html,,1,0
openstack%2Fglance-specs~master~I80a2bc7224328057b0eaf3b2aac0e349c50dc7a0,openstack/glance-specs,master,I80a2bc7224328057b0eaf3b2aac0e349c50dc7a0,Add priorities to Train page,MERGED,2019-05-17 15:09:47.000000000,2019-10-09 13:35:44.000000000,2019-10-09 13:33:54.000000000,"[{'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-17 15:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/92419e13ff79c3eb291f7579a890691eb82d0e6b', 'message': 'Add priorities to Train page\n\nChange-Id: I80a2bc7224328057b0eaf3b2aac0e349c50dc7a0\n'}, {'number': 2, 'created': '2019-09-04 12:11:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/87e317256d47c9f564ba98e6b8006cdfdcaba7a7', 'message': 'Add priorities to Train page\n\nChange-Id: I80a2bc7224328057b0eaf3b2aac0e349c50dc7a0\n'}, {'number': 3, 'created': '2019-09-05 15:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/e1ce2215d2ae819c12a1a39ba5b34850f8c65fe3', 'message': 'Add priorities to Train page\n\nChange-Id: I80a2bc7224328057b0eaf3b2aac0e349c50dc7a0\n'}, {'number': 4, 'created': '2019-09-05 20:47:11.000000000', 'files': ['priorities/train-priorities.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ea68b4dfd66df7e1ec79ea5d12408b889de9cfb0', 'message': 'Add priorities to Train page\n\nChange-Id: I80a2bc7224328057b0eaf3b2aac0e349c50dc7a0\n'}]",2,659818,ea68b4dfd66df7e1ec79ea5d12408b889de9cfb0,18,4,4,5202,,,0,"Add priorities to Train page

Change-Id: I80a2bc7224328057b0eaf3b2aac0e349c50dc7a0
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/18/659818/3 && git format-patch -1 --stdout FETCH_HEAD,['priorities/train-priorities.rst'],1,92419e13ff79c3eb291f7579a890691eb82d0e6b,train-priorities,Top priorities for Glance in Train cycle are: * glance_store 1.0.0 * Getting multi-store moved away from Experimental * Removing dependencies to registry from cache tooling * cleaning up deprecations * Cluster awareness: ** Image import call rerouting to the node that has access to image in staging ** Centralized cache management via API endpoint: *** Listing cached images across cluster *** Precaching images ** Copy/Remove images cross multi-store ** Distributed Store Discovery On top of these housekeeping and feature items the community will prioritize bugfixes and reviews as appropriate.,TODO(abhishekk): fill this in after the PTG ,15,1
openstack%2Fpuppet-tripleo~stable%2Fqueens~I703b5a429f48063474aace85bc45d948f5c91435,openstack/puppet-tripleo,stable/queens,I703b5a429f48063474aace85bc45d948f5c91435,Initial support for tls_priorities,MERGED,2019-10-09 06:39:08.000000000,2019-10-09 13:34:20.000000000,2019-10-09 13:34:20.000000000,"[{'_account_id': 20172}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 06:39:08.000000000', 'files': ['manifests/profile/base/pacemaker_remote.pp', 'manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp', 'manifests/profile/base/pacemaker.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f13e634249cfa9a3ff0b68b74279ff0d580c1b97', 'message': 'Initial support for tls_priorities\n\nWe add initial support for being able to specify tls priorities in\npacemaker. For bundles this will happen via an env variable because\npacemaker_remote is started normally as a process and there is no\nsourcing of /etc/sysconfig/pacemaker.\n\nTested on both queens and stein. Via a deploy and a redeploy against\nexisting cloud. Observed that:\nA) We got PCMK_tls_priorities inside /etc/sysconfig/pacemaker with the\nvalue that was passed in THT\nB) Containers had the following env variable set:\n  ""PCMK_tls_priorities=normal"",\n\nThe \'-e\' addition is a noop in case the PCMK_tls_priorities is unset\nso that we do not change the signature of the resources and hence do\nnot needlessly restart the HA resource.\n\nNB: cherry-pick needed manual adjustment due to missing context (i.e.\n    we\'re not backporting podman support in rocky and queens)\n\nDepends-On: I1971810f6a90f244ed5ced972a5fe7fde29dde86\nChange-Id: I703b5a429f48063474aace85bc45d948f5c91435\n(cherry picked from commit f1a593b6425f1e95ef789dd8ac9e32f095e347ff)\n(cherry picked from commit dbae8506927bf77ed430db138461d846e81a2489)\n(cherry picked from commit 6aae98b3f1610745a40b0589a06c255abb9934e9)\n'}]",0,687459,f13e634249cfa9a3ff0b68b74279ff0d580c1b97,8,4,1,20172,,,0,"Initial support for tls_priorities

We add initial support for being able to specify tls priorities in
pacemaker. For bundles this will happen via an env variable because
pacemaker_remote is started normally as a process and there is no
sourcing of /etc/sysconfig/pacemaker.

Tested on both queens and stein. Via a deploy and a redeploy against
existing cloud. Observed that:
A) We got PCMK_tls_priorities inside /etc/sysconfig/pacemaker with the
value that was passed in THT
B) Containers had the following env variable set:
  ""PCMK_tls_priorities=normal"",

The '-e' addition is a noop in case the PCMK_tls_priorities is unset
so that we do not change the signature of the resources and hence do
not needlessly restart the HA resource.

NB: cherry-pick needed manual adjustment due to missing context (i.e.
    we're not backporting podman support in rocky and queens)

Depends-On: I1971810f6a90f244ed5ced972a5fe7fde29dde86
Change-Id: I703b5a429f48063474aace85bc45d948f5c91435
(cherry picked from commit f1a593b6425f1e95ef789dd8ac9e32f095e347ff)
(cherry picked from commit dbae8506927bf77ed430db138461d846e81a2489)
(cherry picked from commit 6aae98b3f1610745a40b0589a06c255abb9934e9)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/59/687459/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/pacemaker_remote.pp', 'manifests/profile/pacemaker/database/redis_bundle.pp', 'manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/haproxy_bundle.pp', 'manifests/profile/pacemaker/cinder/volume_bundle.pp', 'manifests/profile/pacemaker/manila/share_bundle.pp', 'manifests/profile/pacemaker/database/mysql_bundle.pp', 'manifests/profile/pacemaker/cinder/backup_bundle.pp', 'manifests/profile/base/pacemaker.pp', 'manifests/profile/pacemaker/ovn_dbs_bundle.pp']",10,f13e634249cfa9a3ff0b68b74279ff0d580c1b97,queens_tls_prio,"# [*tls_priorities*] # (optional) Sets PCMK_tls_priorities in /etc/sysconfig/pacemaker when set # Defaults to hiera('tripleo::pacemaker::tls_priorities', undef) # $sb_db_port = 6642, $tls_priorities = hiera('tripleo::pacemaker::tls_priorities', undef), if $tls_priorities != undef { $tls_priorities_real = "" -e PCMK_tls_priorities=${tls_priorities}"" } else { $tls_priorities_real = '' } options => ""--user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS${tls_priorities_real}"","," $sb_db_port = 6642 options => '--user=root --log-driver=journald -e KOLLA_CONFIG_STRATEGY=COPY_ALWAYS',",100,9
openstack%2Ftripleo-heat-templates~master~I77bb3a89d398f47dffee5e3ee9d9e05ab5ac5c8d,openstack/tripleo-heat-templates,master,I77bb3a89d398f47dffee5e3ee9d9e05ab5ac5c8d,Moving tripleo-ci-centos-7-scenario010-standalone to nv,ABANDONED,2019-10-09 13:23:01.000000000,2019-10-09 13:34:03.000000000,,"[{'_account_id': 3153}, {'_account_id': 6469}, {'_account_id': 6681}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-10-09 13:23:01.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e3af248914697a55d8711a60acf6fcd44dd5961', 'message': 'Moving tripleo-ci-centos-7-scenario010-standalone to nv\n\nMoving tripleo-ci-centos-7-scenario010-standalone to non-voting on stein\nbranch.\n\nChange-Id: I77bb3a89d398f47dffee5e3ee9d9e05ab5ac5c8d\n'}]",0,687553,2e3af248914697a55d8711a60acf6fcd44dd5961,2,13,1,8367,,,0,"Moving tripleo-ci-centos-7-scenario010-standalone to nv

Moving tripleo-ci-centos-7-scenario010-standalone to non-voting on stein
branch.

Change-Id: I77bb3a89d398f47dffee5e3ee9d9e05ab5ac5c8d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/687553/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,2e3af248914697a55d8711a60acf6fcd44dd5961,stable/stein, - tripleo-ci-centos-7-scenario010-standalone: voting: false,,2,0
openstack%2Fmanila~master~Ibd339851cb49faae5c0e1a14587ed9c44267a222,openstack/manila,master,Ibd339851cb49faae5c0e1a14587ed9c44267a222,"add document,source,bugs,blueprints links to readme",MERGED,2019-10-05 03:32:35.000000000,2019-10-09 13:23:59.000000000,2019-10-07 16:52:40.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-05 03:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/dbd8f5618c3a022ed8bedc072c84bc83b2f2764a', 'message': 'add document,source,bugs,blueprints links to readme\n\nChange-Id: Ibd339851cb49faae5c0e1a14587ed9c44267a222\n'}, {'number': 2, 'created': '2019-10-05 04:22:28.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/1ac6f5f84951285714bf85fa5e3ed6e94d1e39cb', 'message': 'add document,source,bugs,blueprints links to readme\n\nChange-Id: Ibd339851cb49faae5c0e1a14587ed9c44267a222\n'}]",0,686862,1ac6f5f84951285714bf85fa5e3ed6e94d1e39cb,23,10,2,30092,,,0,"add document,source,bugs,blueprints links to readme

Change-Id: Ibd339851cb49faae5c0e1a14587ed9c44267a222
",git fetch https://review.opendev.org/openstack/manila refs/changes/62/686862/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,dbd8f5618c3a022ed8bedc072c84bc83b2f2764a,,* Documentation for the project can be found at: https://docs.openstack.org/manila/latest/ * Source for the project: https://opendev.org/openstack/manila * Bugs: https://bugs.launchpad.net/manila * Blueprints: https://blueprints.launchpad.net/manila,,15,0
openstack%2Fironic~stable%2Ftrain~I150fa02c75f5e228b3e18c24e9a101c2e1eb0274,openstack/ironic,stable/train,I150fa02c75f5e228b3e18c24e9a101c2e1eb0274,DRAC: Fix a bug for job creation when only required,MERGED,2019-10-07 07:03:07.000000000,2019-10-09 13:22:37.000000000,2019-10-09 13:19:50.000000000,"[{'_account_id': 7160}, {'_account_id': 8580}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 10379}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-07 07:03:07.000000000', 'files': ['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py', 'releasenotes/notes/fix-commit-to-controller-d26f083ac388a65e.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/026c293cbd39492ca6e48826ab6ec8bbb061839d', 'message': 'DRAC: Fix a bug for job creation when only required\n\nThis patch fix a bug which creates configuration job on any\ncontroller even if ``is_commit_required`` value is ``False``\n\nChange-Id: I150fa02c75f5e228b3e18c24e9a101c2e1eb0274\nStory: #2006562\nTask: #36659\n(cherry picked from commit fb83cfb76d2a83a6206fc7ea57d27e3ca08b9abd)\n'}]",0,686969,026c293cbd39492ca6e48826ab6ec8bbb061839d,15,10,1,29405,,,0,"DRAC: Fix a bug for job creation when only required

This patch fix a bug which creates configuration job on any
controller even if ``is_commit_required`` value is ``False``

Change-Id: I150fa02c75f5e228b3e18c24e9a101c2e1eb0274
Story: #2006562
Task: #36659
(cherry picked from commit fb83cfb76d2a83a6206fc7ea57d27e3ca08b9abd)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/69/686969/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/drac/test_raid.py', 'ironic/drivers/modules/drac/raid.py', 'releasenotes/notes/fix-commit-to-controller-d26f083ac388a65e.yaml']",3,026c293cbd39492ca6e48826ab6ec8bbb061839d,,fixes: - | Fixes a bug in the ``idrac`` hardware type where configuration job for RAID ``delete_configuration`` cleaning step gets created even when there are no virtual disks or hotspares/dedicated hotspares present on any controller. See bug `2006562 https://storyboard.openstack.org/#!/story/2006562` for details. ,,60,1
openstack%2Fneutron~stable%2Fqueens~I528719d895fc1d89f74e2ee85b9ddc470323c601,openstack/neutron,stable/queens,I528719d895fc1d89f74e2ee85b9ddc470323c601,Filter port-list based on security_groups.,ABANDONED,2019-04-12 17:41:00.000000000,2019-10-09 13:16:16.000000000,,"[{'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 7016}, {'_account_id': 13770}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 26766}]","[{'number': 1, 'created': '2019-04-12 17:41:00.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/extensions/security_groups_port_filtering.py', 'releasenotes/notes/security-groups-port-filtering-69d36ac7db90c9e0.yaml', 'neutron/plugins/ml2/plugin.py', 'neutron/extensions/security_groups_port_filtering_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/199f5c939e8f42e483b7cffc5085ae6f61fd540a', 'message': 'Filter port-list based on security_groups.\n\nThis patch allows users to filter ports depending on security groups.\nIn addition to that I added a unit test to verify this change.\nTODO: move security_groups_port_filtering_lib.py into neutron-lib.\n\nCloses-Bug: 1405057\nChange-Id: I528719d895fc1d89f74e2ee85b9ddc470323c601\n(cherry picked from commit 43d3e88a07b4275ad814c6875fa037efd94223bb)\n'}]",0,652118,199f5c939e8f42e483b7cffc5085ae6f61fd540a,9,9,1,14892,,,0,"Filter port-list based on security_groups.

This patch allows users to filter ports depending on security groups.
In addition to that I added a unit test to verify this change.
TODO: move security_groups_port_filtering_lib.py into neutron-lib.

Closes-Bug: 1405057
Change-Id: I528719d895fc1d89f74e2ee85b9ddc470323c601
(cherry picked from commit 43d3e88a07b4275ad814c6875fa037efd94223bb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/652118/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/tests/contrib/hooks/api_all_extensions', 'neutron/extensions/security_groups_port_filtering.py', 'releasenotes/notes/security-groups-port-filtering-69d36ac7db90c9e0.yaml', 'neutron/plugins/ml2/plugin.py', 'neutron/extensions/security_groups_port_filtering_lib.py']",6,199f5c939e8f42e483b7cffc5085ae6f61fd540a,bug/1405057,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # The alias of the extension. ALIAS = 'port-security-groups-filtering' # Whether or not this extension is simply signaling behavior to the user # or it actively modifies the attribute map. IS_SHIM_EXTENSION = True # Whether the extension is marking the adoption of standardattr model for # legacy resources, or introducing new standardattr attributes. False or # None if the standardattr model is adopted since the introduction of # resource extension. # If this is True, the alias for the extension should be prefixed with # 'standard-attr-'. IS_STANDARD_ATTR_EXTENSION = False # The name of the extension. NAME = 'Port filtering on security groups' # The description of the extension. DESCRIPTION = ""Provides security groups filtering when listing ports"" # A timestamp of when the extension was introduced. UPDATED_TIMESTAMP = ""2018-01-09T09:00:00-00:00"" # The resource attribute map for the extension. RESOURCE_ATTRIBUTE_MAP = { } # The subresource attribute map for the extension. SUB_RESOURCE_ATTRIBUTE_MAP = { } # The action map. ACTION_MAP = { } # The action status. ACTION_STATUS = { } # The list of required extensions. REQUIRED_EXTENSIONS = [ ] # The list of optional extensions. OPTIONAL_EXTENSIONS = [ ] ",,142,1
openstack%2Fcinder~stable%2Fpike~I52c1264b3b67a5c1ea00de1c0de5bea04c3096ee,openstack/cinder,stable/pike,I52c1264b3b67a5c1ea00de1c0de5bea04c3096ee,Exclude disabled API versions from listing,MERGED,2019-10-08 19:54:30.000000000,2019-10-09 13:10:58.000000000,2019-10-09 00:03:50.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 12369}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23561}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}, {'_account_id': 30590}]","[{'number': 1, 'created': '2019-10-08 19:54:30.000000000', 'files': ['cinder/api/versions.py', 'cinder/tests/unit/api/test_versions.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6be111c4a17e5e78b8404419b26f6c0de149cae7', 'message': ""Exclude disabled API versions from listing\n\nThe code for listing supported API versions would return a static list,\nwhether those versions were enabled or not. This changes the logic to\ndrop versions that are not enabled so we don't report back support for\nsomething that then would cause a failure if the user tried to use it.\n\nCloses-bug: #1788039\n\nChange-Id: I52c1264b3b67a5c1ea00de1c0de5bea04c3096ee\nCo-Authored-By: iain MacDonnell <iain.macdonnell@oracle.com>\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n(cherry picked from commit 3ae2bd6728f9f9cca30ff39582ca731e4b347d7f)\n(cherry picked from commit 9ec5413effb5919a82a3f67f79c96f914f058508)\n(cherry picked from commit ce5f48718d3bc650eb2fb7791f19cce5a8560185)\n""}]",0,687407,6be111c4a17e5e78b8404419b26f6c0de149cae7,18,14,1,11904,,,0,"Exclude disabled API versions from listing

The code for listing supported API versions would return a static list,
whether those versions were enabled or not. This changes the logic to
drop versions that are not enabled so we don't report back support for
something that then would cause a failure if the user tried to use it.

Closes-bug: #1788039

Change-Id: I52c1264b3b67a5c1ea00de1c0de5bea04c3096ee
Co-Authored-By: iain MacDonnell <iain.macdonnell@oracle.com>
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
(cherry picked from commit 3ae2bd6728f9f9cca30ff39582ca731e4b347d7f)
(cherry picked from commit 9ec5413effb5919a82a3f67f79c96f914f058508)
(cherry picked from commit ce5f48718d3bc650eb2fb7791f19cce5a8560185)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/687407/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/versions.py', 'cinder/tests/unit/api/test_versions.py']",2,6be111c4a17e5e78b8404419b26f6c0de149cae7,bug/1792889,"from oslo_config import cfg from oslo_config import fixture as config_fixtureCONF = cfg.CONF @ddt.data('2.0', '3.0') def test_all_versions_excludes_disabled(self, version): self.fixture = self.useFixture(config_fixture.Config(CONF)) if version == '2.0': self.fixture.config(enable_v2_api=False) elif version == '3.0': self.fixture.config(enable_v3_api=False) else: return vc = versions.VersionsController() req = self.build_request(base_url='http://localhost') resp = vc.all(req) all_versions = [x['id'] for x in resp['versions']] self.assertNotIn('v' + version, all_versions) ",,29,1
openstack%2Frpm-packaging~stable%2Ftrain~I9b7f9a18202d50f06ab9398e1964b0044c5d3bc8,openstack/rpm-packaging,stable/train,I9b7f9a18202d50f06ab9398e1964b0044c5d3bc8,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-09 09:23:55.000000000,2019-10-09 13:03:38.000000000,2019-10-09 13:03:37.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 09:23:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/bbe592cc561eb5999f02b303829521b5359a338a', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9b7f9a18202d50f06ab9398e1964b0044c5d3bc8\n'}]",0,687509,bbe592cc561eb5999f02b303829521b5359a338a,8,7,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9b7f9a18202d50f06ab9398e1964b0044c5d3bc8
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/09/687509/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bbe592cc561eb5999f02b303829521b5359a338a,create-train,install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} {opts} {packages},install_command = pip install -U -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},1,1
openstack%2Frpm-packaging~stable%2Ftrain~I374453cd578bf9f987a044cb658ef8a67eec2cf3,openstack/rpm-packaging,stable/train,I374453cd578bf9f987a044cb658ef8a67eec2cf3,Update .gitreview for stable/train,MERGED,2019-10-09 09:23:52.000000000,2019-10-09 13:03:37.000000000,2019-10-09 13:03:37.000000000,"[{'_account_id': 2062}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 13294}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-09 09:23:52.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/104b7796969e7deea8766711fa3461ce893a4f9b', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I374453cd578bf9f987a044cb658ef8a67eec2cf3\n'}]",0,687508,104b7796969e7deea8766711fa3461ce893a4f9b,8,7,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I374453cd578bf9f987a044cb658ef8a67eec2cf3
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/08/687508/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,104b7796969e7deea8766711fa3461ce893a4f9b,create-train,defaultbranch=stable/train,,1,0
openstack%2Fvitrage-dashboard~stable%2Ftrain~I9d3eee59508e0ab37f4f894c29c72eb5261424a0,openstack/vitrage-dashboard,stable/train,I9d3eee59508e0ab37f4f894c29c72eb5261424a0,Update TOX/UPPER_CONSTRAINTS_FILE for stable/train,MERGED,2019-10-02 18:40:42.000000000,2019-10-09 12:47:26.000000000,2019-10-09 12:45:25.000000000,"[{'_account_id': 1736}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 18:40:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/0c792245ff8d3c1793c7c871768456aa999feaa0', 'message': 'Update TOX/UPPER_CONSTRAINTS_FILE for stable/train\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/train branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I9d3eee59508e0ab37f4f894c29c72eb5261424a0\n'}]",0,686243,0c792245ff8d3c1793c7c871768456aa999feaa0,8,3,1,22816,,,0,"Update TOX/UPPER_CONSTRAINTS_FILE for stable/train

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/train branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I9d3eee59508e0ab37f4f894c29c72eb5261424a0
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/43/686243/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0c792245ff8d3c1793c7c871768456aa999feaa0,create-train, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/train}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},2,2
openstack%2Fvitrage-dashboard~stable%2Ftrain~I4f662f789cbe64f09c8a194ead71465ce5a7fa29,openstack/vitrage-dashboard,stable/train,I4f662f789cbe64f09c8a194ead71465ce5a7fa29,Update .gitreview for stable/train,MERGED,2019-10-02 18:40:41.000000000,2019-10-09 12:46:31.000000000,2019-10-09 12:45:24.000000000,"[{'_account_id': 1736}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-02 18:40:41.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/08b4ebe8530c80d8ac208f3fbf8b251c31548b06', 'message': 'Update .gitreview for stable/train\n\nChange-Id: I4f662f789cbe64f09c8a194ead71465ce5a7fa29\n'}]",0,686242,08b4ebe8530c80d8ac208f3fbf8b251c31548b06,8,3,1,22816,,,0,"Update .gitreview for stable/train

Change-Id: I4f662f789cbe64f09c8a194ead71465ce5a7fa29
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/42/686242/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,08b4ebe8530c80d8ac208f3fbf8b251c31548b06,create-train,defaultbranch=stable/train,,1,0
openstack%2Fmasakari~master~I96afc864c4dd8078c1431186bd18bc2a212f505a,openstack/masakari,master,I96afc864c4dd8078c1431186bd18bc2a212f505a,Follow the PTI for docs,ABANDONED,2019-10-06 12:30:51.000000000,2019-10-09 12:21:14.000000000,,"[{'_account_id': 841}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-06 12:30:51.000000000', 'files': ['doc/source/index.rst', 'doc/source/process.rst', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/28e8044c87243fbd301e85f2e22ba99892dd4711', 'message': 'Follow the PTI for docs\n\nUse sphinx-build instead of the pbr sphinx extention for building docs\nas instructed by the PTI[1].\n\nPrevious no sphinx warnings were checked. They are fixed as well.\n\n[1] https://governance.openstack.org/tc/reference/pti/python.html\n\nChange-Id: I96afc864c4dd8078c1431186bd18bc2a212f505a\n'}]",0,686935,28e8044c87243fbd301e85f2e22ba99892dd4711,5,2,1,841,,,0,"Follow the PTI for docs

Use sphinx-build instead of the pbr sphinx extention for building docs
as instructed by the PTI[1].

Previous no sphinx warnings were checked. They are fixed as well.

[1] https://governance.openstack.org/tc/reference/pti/python.html

Change-Id: I96afc864c4dd8078c1431186bd18bc2a212f505a
",git fetch https://review.opendev.org/openstack/masakari refs/changes/35/686935/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/process.rst', 'setup.cfg', 'tox.ini']",4,28e8044c87243fbd301e85f2e22ba99892dd4711,docs-pti, sphinx-build -W -d doc/build/doctrees -b html doc/source doc/build/html, python setup.py build_sphinx,3,15
openstack%2Fkuryr-kubernetes~master~I6f55fe4e25e5956d758e7da84eb8eb172c8cd585,openstack/kuryr-kubernetes,master,I6f55fe4e25e5956d758e7da84eb8eb172c8cd585,Make sure subports are unique when removing them,MERGED,2019-10-08 15:22:58.000000000,2019-10-09 12:15:21.000000000,2019-10-09 10:31:56.000000000,"[{'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-08 15:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/134edf37dcb7864f8946d0c8854222a135d15510', 'message': 'Make sure subports are unique when removing them\n\nNeutron cares about subports of the trunk being unique. This commit\nmakes sure that is true when removing them by applying `set()` to list\nof removed subports.\n\nChange-Id: I6f55fe4e25e5956d758e7da84eb8eb172c8cd585\nCloses-Bug: 1847287\n'}, {'number': 2, 'created': '2019-10-08 15:41:10.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/drivers/test_nested_vlan_vif.py', 'kuryr_kubernetes/controller/drivers/nested_vlan_vif.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9172f378e00a7fd9355b7f959ea367e49ddc85a5', 'message': 'Make sure subports are unique when removing them\n\nNeutron cares about subports of the trunk being unique. This commit\nmakes sure that is true when removing them by applying `set()` to list\nof removed subports.\n\nChange-Id: I6f55fe4e25e5956d758e7da84eb8eb172c8cd585\nCloses-Bug: 1847287\n'}]",0,687331,9172f378e00a7fd9355b7f959ea367e49ddc85a5,11,3,2,11600,,,0,"Make sure subports are unique when removing them

Neutron cares about subports of the trunk being unique. This commit
makes sure that is true when removing them by applying `set()` to list
of removed subports.

Change-Id: I6f55fe4e25e5956d758e7da84eb8eb172c8cd585
Closes-Bug: 1847287
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/31/687331/2 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/nested_vlan_vif.py'],1,134edf37dcb7864f8946d0c8854222a135d15510,bug/1847287, for subport_id in set(subports_id):, for subport_id in subports_id:,1,1
openstack%2Fkuryr-kubernetes~master~I7ee071b32f08af567dd92bc6e081f2cb4a3b3366,openstack/kuryr-kubernetes,master,I7ee071b32f08af567dd92bc6e081f2cb4a3b3366,Ensure ports from pool do not reference deleted SGs/NPs,MERGED,2019-10-04 11:43:42.000000000,2019-10-09 12:14:09.000000000,2019-10-09 10:31:55.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-10-04 11:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/a4217a831315c7580ad7ac088def2d458f84352d', 'message': 'Ensure ports from pool do not reference deleted SGs/NPs\n\nWhen a NP is deleted its associated SG should be deleted too.\nHowever, when using pools, ports may have that SG assigned, not\nallowing the SG deletion and consequently stoping the kuryrnetpolicy\nassociated object deletion -- which may cause kuryr-controller crashes\ntoo\n\nCloses-Bug: 1846717\nChange-Id: I7ee071b32f08af567dd92bc6e081f2cb4a3b3366\n'}, {'number': 2, 'created': '2019-10-04 15:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/8801258b27acd5024f0cedb574e7187e123e4f22', 'message': 'Ensure ports from pool do not reference deleted SGs/NPs\n\nWhen a NP is deleted its associated SG should be deleted too.\nHowever, when using pools, ports may have that SG assigned, not\nallowing the SG deletion and consequently stoping the kuryrnetpolicy\nassociated object deletion -- which may cause kuryr-controller crashes\ntoo\n\nCloses-Bug: 1846717\nChange-Id: I7ee071b32f08af567dd92bc6e081f2cb4a3b3366\n'}, {'number': 3, 'created': '2019-10-04 16:32:53.000000000', 'files': ['kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/handlers/policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/d9d81d4755f89a6d45418c009206369799a52428', 'message': 'Ensure ports from pool do not reference deleted SGs/NPs\n\nWhen a NP is deleted its associated SG should be deleted too.\nHowever, when using pools, ports may have that SG assigned, not\nallowing the SG deletion and consequently stoping the kuryrnetpolicy\nassociated object deletion -- which may cause kuryr-controller crashes\ntoo\n\nCloses-Bug: 1846717\nChange-Id: I7ee071b32f08af567dd92bc6e081f2cb4a3b3366\n'}]",0,686570,d9d81d4755f89a6d45418c009206369799a52428,19,6,3,23567,,,0,"Ensure ports from pool do not reference deleted SGs/NPs

When a NP is deleted its associated SG should be deleted too.
However, when using pools, ports may have that SG assigned, not
allowing the SG deletion and consequently stoping the kuryrnetpolicy
associated object deletion -- which may cause kuryr-controller crashes
too

Closes-Bug: 1846717
Change-Id: I7ee071b32f08af567dd92bc6e081f2cb4a3b3366
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/70/686570/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_kubernetes/tests/unit/controller/handlers/test_policy.py', 'kuryr_kubernetes/controller/drivers/base.py', 'kuryr_kubernetes/controller/drivers/vif_pool.py', 'kuryr_kubernetes/controller/handlers/policy.py']",4,a4217a831315c7580ad7ac088def2d458f84352d,bug/1846717,"from kuryr_kubernetes import exceptions # ensure ports at the pool don't have the NP sg associated net_id = self._get_policy_net_id(policy) self._drv_vif_pool.remove_sg_from_pools(crd_sg, net_id) def _get_policy_net_id(self, policy): policy_ns = policy['metadata']['namespace'] kuryrnet_name = 'ns-' + str(policy_ns) kubernetes = clients.get_kubernetes_client() try: net_crd = kubernetes.get('{}/{}'.format( k_const.K8S_API_CRD_KURYRNETS, kuryrnet_name)) except exceptions.K8sClientException: LOG.exception(""Kubernetes Client Exception."") raise return net_crd['spec']['netId']",,65,0
openstack%2Fmistral~stable%2Ftrain~Iee843b5904c6c52f41cc31e5590301e483476997,openstack/mistral,stable/train,Iee843b5904c6c52f41cc31e5590301e483476997,Update .gitreview for stable/train,MERGED,2019-09-27 20:40:15.000000000,2019-10-09 12:08:31.000000000,2019-10-09 12:07:02.000000000,"[{'_account_id': 8731}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-27 20:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fdc7b4162d2c720792331e30b126767d397ef570', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Iee843b5904c6c52f41cc31e5590301e483476997\n'}, {'number': 2, 'created': '2019-10-04 05:18:42.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/mistral/commit/aae806411427424e78e0e1faad43ff7c559d0f2a', 'message': 'Update .gitreview for stable/train\n\nChange-Id: Iee843b5904c6c52f41cc31e5590301e483476997\n'}]",0,685477,aae806411427424e78e0e1faad43ff7c559d0f2a,21,3,2,22816,,,0,"Update .gitreview for stable/train

Change-Id: Iee843b5904c6c52f41cc31e5590301e483476997
",git fetch https://review.opendev.org/openstack/mistral refs/changes/77/685477/2 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,fdc7b4162d2c720792331e30b126767d397ef570,create-train,defaultbranch=stable/train,,1,0
openstack%2Fopenstack-ansible~master~I980c3ea822bf7e9e4599e244b8fc5f3940390fc1,openstack/openstack-ansible,master,I980c3ea822bf7e9e4599e244b8fc5f3940390fc1,Allow horizon to be tested on metal,MERGED,2019-09-12 11:22:57.000000000,2019-10-09 11:53:31.000000000,2019-10-09 11:50:35.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-09-12 11:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/94b5fd300ea71527369f90c982bce757b2032fd5', 'message': ""Resolve haproxy/horizon metal conflict\n\nAs horizon now listens on the non-standart ports,\nit's safe to run metal jobs for it.\n\nChange-Id: I980c3ea822bf7e9e4599e244b8fc5f3940390fc1\nNeeded-By: https://review.opendev.org/681718\n""}, {'number': 2, 'created': '2019-09-12 13:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e05e78aac23648d88449942119bb599fec2fdae9', 'message': ""Resolve haproxy/horizon metal conflict\n\nAs horizon now listens on the non-standart ports,\nit's safe to run metal jobs for it.\n\nChange-Id: I980c3ea822bf7e9e4599e244b8fc5f3940390fc1\nNeeded-By: https://review.opendev.org/681718\n""}, {'number': 3, 'created': '2019-09-14 10:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/be38af9cbc5ffae445a76f1bea10f13538596423', 'message': ""Resolve haproxy/horizon metal conflict\n\nAs horizon now listens on the non-standard ports,\nit's safe to run metal jobs for it.\n\nChange-Id: I980c3ea822bf7e9e4599e244b8fc5f3940390fc1\nNeeded-By: https://review.opendev.org/681718\n""}, {'number': 4, 'created': '2019-09-18 19:42:52.000000000', 'files': ['tests/roles/bootstrap-host/tasks/check-requirements.yml', 'zuul.d/playbooks/pre-gate-scenario.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5d030ead13963d1917bdfdcef4d6e78a384ae28', 'message': ""Allow horizon to be tested on metal\n\nAs horizon now can be configured to bind on specific IP and we don't\nhave haproxy on metal for now it's safe to run metal jobs for it.\n\nChange-Id: I980c3ea822bf7e9e4599e244b8fc5f3940390fc1\nNeeded-By: https://review.opendev.org/681718\n""}]",1,681722,c5d030ead13963d1917bdfdcef4d6e78a384ae28,26,4,4,28619,,,0,"Allow horizon to be tested on metal

As horizon now can be configured to bind on specific IP and we don't
have haproxy on metal for now it's safe to run metal jobs for it.

Change-Id: I980c3ea822bf7e9e4599e244b8fc5f3940390fc1
Needed-By: https://review.opendev.org/681718
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/22/681722/4 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/check-requirements.yml', 'zuul.d/playbooks/pre-gate-scenario.yml', 'inventory/group_vars/haproxy/haproxy.yml']",3,94b5fd300ea71527369f90c982bce757b2032fd5,bind-to-mgmt, haproxy_backend_port: 8080 haproxy_redirect_http_port: 8080, haproxy_backend_port: 80 haproxy_redirect_http_port: 80,2,7
openstack%2Fneutron-vpnaas-dashboard~master~I95407fe6f9b21ee589f80371663ed35ea2924cf4,openstack/neutron-vpnaas-dashboard,master,I95407fe6f9b21ee589f80371663ed35ea2924cf4,Add tox env and job for Django 2.2,MERGED,2019-09-19 17:52:24.000000000,2019-10-09 11:30:39.000000000,2019-10-09 11:27:59.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-19 17:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/d07e4dba821204af475873b21090eb708303aee5', 'message': 'Add tox env and job for Django 2.2\n\nChange-Id: I95407fe6f9b21ee589f80371663ed35ea2924cf4\n'}, {'number': 2, 'created': '2019-09-19 18:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/aaf78a827ec3980179eb84b668fa232a1d70a18d', 'message': 'Add tox env and job for Django 2.2\n\nChange-Id: I95407fe6f9b21ee589f80371663ed35ea2924cf4\n'}, {'number': 3, 'created': '2019-09-20 04:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/ad39c9fce4c98d5041847d83542d39c9781b3cef', 'message': 'Add tox env and job for Django 2.2\n\nDepends-On: https://review.opendev.org/#/c/681969/\n\nChange-Id: I95407fe6f9b21ee589f80371663ed35ea2924cf4\n'}, {'number': 4, 'created': '2019-09-24 09:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/7c25142042681c812bf41a34c7a003c67bbb974f', 'message': 'Add tox env and job for Django 2.2\n\nDepends-On: https://review.opendev.org/#/c/681969/\n\nChange-Id: I95407fe6f9b21ee589f80371663ed35ea2924cf4\n'}, {'number': 5, 'created': '2019-09-24 09:40:50.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas-dashboard/commit/cb1c5e53b07b5998891243cd7c0ce40cac7b3379', 'message': 'Add tox env and job for Django 2.2\n\nDepends-On: https://review.opendev.org/#/c/681969/\n\nChange-Id: I95407fe6f9b21ee589f80371663ed35ea2924cf4\n'}]",3,683211,cb1c5e53b07b5998891243cd7c0ce40cac7b3379,25,4,5,29313,,,0,"Add tox env and job for Django 2.2

Depends-On: https://review.opendev.org/#/c/681969/

Change-Id: I95407fe6f9b21ee589f80371663ed35ea2924cf4
",git fetch https://review.opendev.org/openstack/neutron-vpnaas-dashboard refs/changes/11/683211/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,d07e4dba821204af475873b21090eb708303aee5,django22,"envlist = py27,py37,py3-{dj111,dj22},pep8commands = dj111: pip install django>=1.11,<2 dj22: pip install django>=2.2,<2.3 {[unit_tests]commands}","envlist = py27,py37,pep8commands = {[unit_tests]commands}[testenv:py3-dj111] basepython = python3 commands = pip install django>=1.11,<2 {[unit_tests]commands} pip freeze ",7,9
openstack%2Fhorizon~stable%2Fstein~Ia7db6c2881c72580a156eb97b11bb51f295cfbce,openstack/horizon,stable/stein,Ia7db6c2881c72580a156eb97b11bb51f295cfbce,Add Allowed Address Pair/Delete buttons are only visible to admin,MERGED,2019-09-26 01:17:05.000000000,2019-10-09 11:14:21.000000000,2019-10-09 11:11:51.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27302}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-26 01:17:05.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tables.py', 'openstack_dashboard/dashboards/admin/networks/ports/tests.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/78574736a52656c6d9fba92634bf58e0ad03915a', 'message': 'Add Allowed Address Pair/Delete buttons are only visible to admin\n\nInitially In Queens, when logging into Horizon in context\nof a _member_ in any project, the ""Add Allowed Address Pair""\nand ""Delete"" buttons in ""Network"" -> ""Networks"" ->\n<select a network> -> ""Ports"" -> <select a port> ->\n""Allowed Address Pairs"" are not visible.\n\nWhen accessing the same panel in context of a project where the user\nhas the admin role, the ""Add"" and ""Delete"" button is visible and\nfunctional.\n\nThis patch fixes the above issue by updating the policy_target.\n\nChange-Id: Ia7db6c2881c72580a156eb97b11bb51f295cfbce\nCloses-Bug: #1794421\n(cherry picked from commit 87b57dfe7113da09715d5613ab9c91c15a75c189)\n'}]",0,684862,78574736a52656c6d9fba92634bf58e0ad03915a,9,6,1,25613,,,0,"Add Allowed Address Pair/Delete buttons are only visible to admin

Initially In Queens, when logging into Horizon in context
of a _member_ in any project, the ""Add Allowed Address Pair""
and ""Delete"" buttons in ""Network"" -> ""Networks"" ->
<select a network> -> ""Ports"" -> <select a port> ->
""Allowed Address Pairs"" are not visible.

When accessing the same panel in context of a project where the user
has the admin role, the ""Add"" and ""Delete"" button is visible and
functional.

This patch fixes the above issue by updating the policy_target.

Change-Id: Ia7db6c2881c72580a156eb97b11bb51f295cfbce
Closes-Bug: #1794421
(cherry picked from commit 87b57dfe7113da09715d5613ab9c91c15a75c189)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/62/684862/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tables.py', 'openstack_dashboard/dashboards/admin/networks/ports/tests.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py']",3,78574736a52656c6d9fba92634bf58e0ad03915a,bug/1794421-stable/stein,"from django.test.utils import override_settingsfrom openstack_auth import utils as auth_utils @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_mocks({api.neutron: ('port_get', 'network_get', 'is_extension_supported')}) def test_add_allowed_address_pair_button_shown_to_network_owner(self): port = self.ports.first() url = reverse('horizon:project:networks:ports:addallowedaddresspairs', args=[port.id]) classes = 'btn data-table-action btn-default ajax-modal' link_name = ""Add Allowed Address Pair"" expected_string = \ '<a id=""allowed_address_pairs__action_AddAllowedAddressPair"" ' \ 'class=""%s"" href=""%s"" title=""Add Allowed Address Pair"">' \ '<span class=""fa fa-plus""></span> %s</a>' \ % (classes, url, link_name) res = self.client.get(reverse('horizon:project:networks:ports:detail', args=[port.id])) self.assertTemplateUsed(res, 'horizon/common/_detail_tab_group.html') self.assertIn(expected_string, res.context_data['tab_group'].render()) @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_mocks({api.neutron: ('port_get', 'network_get', 'is_extension_supported')}) def test_add_allowed_address_pair_button_disabled_to_other_tenant(self): # Current user tenant_id is 1 so select port whose tenant_id is # other than 1 for checking ""Add Allowed Address Pair"" button is not # displayed on the screen. user = auth_utils.get_user(self.request) # select port such that tenant_id is different from user's tenant_id. port = [p for p in self.ports.list() if p.tenant_id != user.tenant_id][0] self._stub_is_extension_supported( {'allowed-address-pairs': False, 'mac-learning': False}) with mock.patch('openstack_auth.utils.get_user', return_value=user): url = reverse( 'horizon:project:networks:ports:addallowedaddresspairs', args=[port.id]) classes = 'btn data-table-action btn-default ajax-modal' link_name = ""Add Allowed Address Pair"" expected_string = \ '<a id=""allowed_address_pairs__action_AddAllowedAddressPair"" ' \ 'class=""%s"" href=""%s"" title=""Add Allowed Address Pair"">' \ '<span class=""fa fa-plus""></span> %s</a>' \ % (classes, url, link_name) res = self.client.get(reverse( 'horizon:project:networks:ports:detail', args=[port.id])) self.assertNotIn( expected_string, res.context_data['tab_group'].render()) @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_mocks({api.neutron: ('port_get', 'network_get', 'port_update', 'is_extension_supported')}) def test_delete_address_pair_button_shown_to_network_owner(self): port = self.ports.first() classes = 'data-table-action btn-danger btn' expected_string = \ '<button data-batch-action=""true"" ' \ 'id=""allowed_address_pairs__action_delete"" ' \ 'class=""%s"" name=""action"" help_text=""This action cannot be ' \ 'undone."" type=""submit"" value=""allowed_address_pairs__delete"">' \ '<span class=""fa fa-trash""></span>' \ ' Delete</button>' \ % (classes) res = self.client.get(reverse( 'horizon:project:networks:ports:detail', args=[port.id])) self.assertTemplateUsed(res, 'horizon/common/_detail_tab_group.html') self.assertIn(expected_string, res.context_data['tab_group'].render()) @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_mocks({api.neutron: ('port_get', 'network_get', 'is_extension_supported')}) def test_delete_address_pair_button_disabled_to_other_tenant(self): # Current user tenant_id is 1 so select port whose tenant_id is # other than 1 for checking ""Delete Allowed Address Pair"" button is # not displayed on the screen. user = auth_utils.get_user(self.request) # select port such that tenant_id is different from user's tenant_id. port = [p for p in self.ports.list() if p.tenant_id != user.tenant_id][0] self._stub_is_extension_supported( {'allowed-address-pairs': False, 'mac-learning': False}) with mock.patch('openstack_auth.utils.get_user', return_value=user): classes = 'data-table-action btn-danger btn' expected_string = \ '<button data-batch-action=""true"" ' \ 'id=""allowed_address_pairs__action_delete"" ' \ 'class=""%s"" name=""action"" help_text=""This action cannot be ' \ 'undone."" type=""submit"" ' \ 'value=""allowed_address_pairs__delete"">' \ '<span class=""fa fa-trash""></span>' \ ' Delete</button>' % (classes) res = self.client.get(reverse( 'horizon:project:networks:ports:detail', args=[port.id])) self.assertNotIn( expected_string, res.context_data['tab_group'].render()) ",,186,0
openstack%2Fheat-agents~master~I5bab85beb1f0e3ba32f425ac0205278c42d9b799,openstack/heat-agents,master,I5bab85beb1f0e3ba32f425ac0205278c42d9b799,[WIP]Refactor docker cmd unit-tests,ABANDONED,2019-02-02 14:43:40.000000000,2019-10-09 11:06:30.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-02 14:43:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/7d33f417368e98302e84be48a92129c8e63a4aaa', 'message': '[WIP]Refactor docker cmd unit-tests\n\nThis patch propose to remove dependency around paunch in unit\ntests. Also refactor unit-tests and focus on function itself.\n\nChange-Id: I5bab85beb1f0e3ba32f425ac0205278c42d9b799\nTask: #29306\n'}, {'number': 2, 'created': '2019-02-12 06:03:28.000000000', 'files': ['tests/test_hook_docker_cmd.py'], 'web_link': 'https://opendev.org/openstack/heat-agents/commit/96f5222397168ba50ba75d64e9f0dd756f5b291d', 'message': '[WIP]Refactor docker cmd unit-tests\n\nThis patch propose to remove dependency around paunch in unit\ntests. Also refactor unit-tests and focus on function itself.\n\nChange-Id: I5bab85beb1f0e3ba32f425ac0205278c42d9b799\nTask: #29306\n'}]",0,634563,96f5222397168ba50ba75d64e9f0dd756f5b291d,6,2,2,12404,,,0,"[WIP]Refactor docker cmd unit-tests

This patch propose to remove dependency around paunch in unit
tests. Also refactor unit-tests and focus on function itself.

Change-Id: I5bab85beb1f0e3ba32f425ac0205278c42d9b799
Task: #29306
",git fetch https://review.opendev.org/openstack/heat-agents refs/changes/63/634563/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_hook_docker_cmd.py'],1,7d33f417368e98302e84be48a92129c8e63a4aaa,story/2004926,"from collections import OrderedDictimport impimport sysimport mock@mock.patch('paunch.apply') sys.stdin = six.StringIO() sys.stdout = six.StringIO() #'HEAT_DOCKER_CMD': self.fake_tool_path, def tearDown(self): super(HookDockerCmdTest, self).tearDown() sys.stdin = sys.__stdin__ sys.stdout = sys.__stdout__ def get_module(self): try: imp.acquire_lock() return imp.load_source(""hook_docker"", self.hook_path) finally: imp.release_lock() def test_hook(self, m_apply): m_apply.return_value = (['web'], ['one.txt\ntwo.txt\nthree.txt'], 0) json.dump(self.data, sys.stdin) sys.stdin.seek(0) hook_docker = self.get_module() hook_docker.main(json.dumps(self.data)) self.assertEqual({'deploy_status_code': 0, 'deploy_stderr': 'one.txt\ntwo.txt\nthree.txt', 'deploy_stdout': 'web'}, json.loads(sys.stdout.getvalue())) expected = [ mock.call( 'abc123', {'web-ls': {'action': 'exec', 'start_order': 2, 'command': ['web', '/bin/ls', '-l']}, 'web': { 'restart': 'always', 'image': 'yyy', 'privileged': True, 'name': 'y', 'environment': [ 'KOLLA_CONFIG_STRATEGY=COPY_ALWAYS', 'FOO=BAR'], 'command': '/bin/webserver start', 'start_order': 1, 'net': 'host', 'volumes': ['/run:/run', 'db:/var/lib/db'], 'env_file': ['foo.env', 'bar.conf'], 'user': 'root'}, 'db': {'image': 'xxx', 'privileged': False, 'environment': [ 'foo=bar'], 'name': 'x', 'env_file': 'env.file', 'start_order': 0}}, 'docker-cmd', OrderedDict([('deploy_stack_id', 'the_stack'), ('deploy_resource_name', 'the_deployment')]), 'docker')] self.assertEqual(expected, m_apply.call_args_list) def test_hook_with_delete_deploy_action(self, m_apply): self.data['inputs'].append( {'name': 'deploy_action', 'value': 'DELETE'}) json.dump(self.data, sys.stdin) sys.stdin.seek(0) hook_docker = self.get_module() hook_docker.main(json.dumps(self.data)) self.assertEqual({'deploy_status_code': 0, 'deploy_stderr': '', 'deploy_stdout': ''}, json.loads(sys.stdout.getvalue())) self.assertEqual(0, m_apply.call_count) def test_hook_with_no_config(self, m_apply): del self.data['config'] json.dump(self.data, sys.stdin) sys.stdin.seek(0) hook_docker = self.get_module() hook_docker.main(json.dumps(self.data)) self.assertEqual({'deploy_status_code': 0, 'deploy_stderr': '', 'deploy_stdout': ''}, json.loads(sys.stdout.getvalue())) self.assertEqual(0, m_apply.call_count) def test_hook_with_config_str(self, m_apply): self.data['config'] = ( ""db:\n env_file: env.file\n environment: [foo=bar]\n image: "" ""xxx\n name: x\n privileged: false\n start_order: 0\nweb:\n "" ""command: /bin/webserver start\n env_file: [foo.env, bar.conf]\n"" "" environment: [KOLLA_CONFIG_STRATEGY=COPY_ALWAYS, FOO=BAR]\n "" ""image: yyy\n name: y\n net: host\n privileged: true\n "" ""restart: always\n start_order: 1\n user: root\n volumes: "" ""['/run:/run', 'db:/var/lib/db']\nweb-ls:\n action: exec\n "" ""command: [web, /bin/ls, -l]\n start_order: 2\n"") m_apply.return_value = (['web'], ['one.txt\ntwo.txt\nthree.txt'], 0) json.dump(self.data, sys.stdin) sys.stdin.seek(0) hook_docker = self.get_module() hook_docker.main(json.dumps(self.data)) self.assertEqual({'deploy_status_code': 0, 'deploy_stderr': 'one.txt\ntwo.txt\nthree.txt', 'deploy_stdout': 'web'}, json.loads(sys.stdout.getvalue())) expected = [ mock.call( 'abc123', {'web-ls': {'action': 'exec', 'start_order': 2, 'command': ['web', '/bin/ls', '-l']}, 'web': { 'restart': 'always', 'image': 'yyy', 'privileged': True, 'name': 'y', 'environment': [ 'KOLLA_CONFIG_STRATEGY=COPY_ALWAYS', 'FOO=BAR'], 'command': '/bin/webserver start', 'start_order': 1, 'net': 'host', 'volumes': ['/run:/run', 'db:/var/lib/db'], 'env_file': ['foo.env', 'bar.conf'], 'user': 'root'}, 'db': {'image': 'xxx', 'privileged': False, 'environment': [ 'foo=bar'], 'name': 'x', 'env_file': 'env.file', 'start_order': 0}}, 'docker-cmd', OrderedDict([('deploy_stack_id', 'the_stack'), ('deploy_resource_name', 'the_deployment')]), 'docker')] self.assertEqual(expected, m_apply.call_args_list) def test_cleanup_deleted(self, m_apply): def test_cleanup_changed(self, m_apply): def test_cleanup_rename(self, m_apply):"," 'HEAT_DOCKER_CMD': self.fake_tool_path, def test_hook(self): self.env.update({ 'TEST_RESPONSE': json.dumps([ # inspect for image xxx {}, # poll for image xxx {}, # inspect for image yyy {}, # poll for image yyy {}, # ps for delete missing {}, # ps for renames {}, # ps for currently running containers {}, # inspect for db unique container name {}, # docker run db {'stderr': 'Creating db...'}, # inspect for web unique container name {}, # docker run web {'stderr': 'Creating web...'}, # inspect {}, # name lookup for exec web {'stdout': 'web'}, # docker exec web {'stderr': 'one.txt\ntwo.txt\nthree.txt'}, ]) }) returncode, stdout, stderr = self.run_cmd( [self.hook_path], self.env, json.dumps(self.data)) self.assertEqual(0, returncode, stderr) self.assertEqual({ 'deploy_stdout': '', 'deploy_stderr': 'Creating db...\n' 'Creating web...\n' 'one.txt\ntwo.txt\nthree.txt', 'deploy_status_code': 0 }, json.loads(stdout.decode('utf-8'))) state = list(self.json_from_files(self.test_state_path, 14)) self.check_basic_response(state) self.assert_args_and_labels([ self.fake_tool_path, u'run', u'--name', u'db', u'--detach=true', u'--env-file=env.file', u'--env=foo=bar', u'--privileged=false', u'xxx' u'' ], [ u'deploy_stack_id=the_stack', u'deploy_resource_name=the_deployment', u'config_id=abc123', u'container_name=db', u'managed_by=docker-cmd', ], state[8]['args']) self.assertEqual([ self.fake_tool_path, u'inspect', u'--type', u'container', u'--format', u'exists', u'web', ], state[9]['args']) self.assert_args_and_labels([ self.fake_tool_path, u'run', u'--name', u'web', u'--detach=true', u'--env-file=foo.env', u'--env-file=bar.conf', u'--env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS', u'--env=FOO=BAR', u'--net=host', u'--privileged=true', u'--restart=always', u'--user=root', u'--volume=/run:/run', u'--volume=db:/var/lib/db', u'yyy', u'/bin/webserver', u'start' ], [ u'deploy_stack_id=the_stack', u'deploy_resource_name=the_deployment', u'config_id=abc123', u'container_name=web', u'managed_by=docker-cmd', ], state[10]['args']) self.assertEqual([ self.fake_tool_path, 'inspect', '--type', 'container', '--format', 'exists', 'web-ls' ], state[11]['args']) self.assertEqual([ self.fake_tool_path, u'ps', u'-a', u'--filter', u'label=container_name=web', u'--filter', u'label=config_id=abc123', u'--format', u'{{.Names}}', ], state[12]['args']) self.assertEqual([ self.fake_tool_path, u'exec', u'web', u'/bin/ls', u'-l' ], state[13]['args']) def test_hook_exit_codes(self): self.env.update({ 'TEST_RESPONSE': json.dumps([ # ps for delete missing {}, # ps for renames {}, # ps for currently running containers {}, {}, {'stdout': 'web'}, { 'stdout': '', 'stderr': 'Warning: custom exit code', 'returncode': 1 } ]) }) returncode, stdout, stderr = self.run_cmd( [self.hook_path], self.env, json.dumps(self.data_exit_code)) self.assertEqual({ 'deploy_stdout': '', 'deploy_stderr': 'Warning: custom exit code', 'deploy_status_code': 0 }, json.loads(stdout.decode('utf-8'))) state = list(self.json_from_files(self.test_state_path, 6)) self.assertEqual([ self.fake_tool_path, 'ps', '-a', '--filter', 'label=managed_by=docker-cmd', '--filter', 'label=config_id=abc123', '--format', '{{.Names}} {{.Label ""container_name""}}' ], state[0]['args']) self.assertEqual([ self.fake_tool_path, 'ps', '-a', '--filter', 'label=managed_by=docker-cmd', '--format', '{{.Names}} {{.Label ""container_name""}}' ], state[1]['args']) self.assertEqual([ self.fake_tool_path, 'ps', '-a', '--filter', 'label=managed_by=docker-cmd', '--filter', 'label=config_id=abc123', '--format', '{{.Names}} {{.Label ""container_name""}}' ], state[2]['args']) self.assertEqual([ self.fake_tool_path, 'inspect', '--type', 'container', '--format', 'exists', 'web-ls' ], state[3]['args']) self.assertEqual([ self.fake_tool_path, 'ps', '-a', '--filter', 'label=container_name=web', '--filter', 'label=config_id=abc123', '--format', '{{.Names}}', ], state[4]['args']) self.assertEqual([ self.fake_tool_path, 'exec', 'web', '/bin/ls', '-l' ], state[5]['args']) def test_hook_failed(self): self.env.update({ 'TEST_RESPONSE': json.dumps([ # inspect for image xxx {}, # poll for image xxx {}, # inspect for image yyy {}, # poll for image yyy {}, # ps for delete missing {}, # ps for renames {}, # ps for currently running containers {}, # inspect for db unique container name {}, # docker run db {'stderr': 'Creating db...'}, # inspect for web unique container name {}, # docker run web {'stderr': 'Creating web...'}, # inspect {}, # name lookup for exec web {'stdout': 'web'}, # docker exec web fails { 'stdout': '', 'stderr': 'No such file or directory', 'returncode': 2 } ]) }) returncode, stdout, stderr = self.run_cmd( [self.hook_path], self.env, json.dumps(self.data)) self.assertEqual({ 'deploy_stdout': '', 'deploy_stderr': 'Creating db...\n' 'Creating web...\n' 'No such file or directory', 'deploy_status_code': 2 }, json.loads(stdout.decode('utf-8'))) state = list(self.json_from_files(self.test_state_path, 14)) self.check_basic_response(state) self.assert_args_and_labels([ self.fake_tool_path, u'run', u'--name', u'db', u'--detach=true', u'--env-file=env.file', u'--env=foo=bar', u'--privileged=false', u'xxx' u'' ], [ u'deploy_stack_id=the_stack', u'deploy_resource_name=the_deployment', u'config_id=abc123', u'container_name=db', u'managed_by=docker-cmd', ], state[8]['args']) self.assertEqual([ self.fake_tool_path, u'inspect', u'--type', u'container', u'--format', u'exists', u'web', ], state[9]['args']) self.assert_args_and_labels([ self.fake_tool_path, u'run', u'--name', u'web', u'--detach=true', u'--env-file=foo.env', u'--env-file=bar.conf', u'--env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS', u'--env=FOO=BAR', u'--net=host', u'--privileged=true', u'--restart=always', u'--user=root', u'--volume=/run:/run', u'--volume=db:/var/lib/db', u'yyy', u'/bin/webserver', u'start' ], [ u'deploy_stack_id=the_stack', u'deploy_resource_name=the_deployment', u'config_id=abc123', u'container_name=web', u'managed_by=docker-cmd', ], state[10]['args']) self.assertEqual([ self.fake_tool_path, 'inspect', '--type', 'container', '--format', 'exists', 'web-ls' ], state[11]['args']) self.assertEqual([ self.fake_tool_path, u'ps', u'-a', u'--filter', u'label=container_name=web', u'--filter', u'label=config_id=abc123', u'--format', u'{{.Names}}', ], state[12]['args']) self.assertEqual([ self.fake_tool_path, u'exec', u'web', u'/bin/ls', u'-l' ], state[13]['args']) def test_hook_unique_names(self): self.env.update({ 'TEST_RESPONSE': json.dumps([ # inspect for image xxx {}, # poll for image xxx {}, # inspect for image yyy {}, # poll for image yyy {}, # ps for delete missing in this config id {}, # ps for renames {'stdout': 'web web\ndb db\n'}, # ps for currently running containers in this config id {}, # inspect for db unique container name {'stdout': 'exists'}, { 'stderr': 'Error: No such container: db-blah', 'returncode': 1 }, # docker run db {'stderr': 'Creating db...'}, # # inspect for web unique container name {'stdout': 'exists'}, { 'stderr': 'Error: No such container: web-blah', 'returncode': 1 }, # # docker run web {'stderr': 'Creating web...'}, # name lookup for exec web {'stdout': 'web-asdf1234'}, # docker exec web-asdf1234 {'stderr': 'one.txt\ntwo.txt\nthree.txt'}, ]) }) returncode, stdout, stderr = self.run_cmd( [self.hook_path], self.env, json.dumps(self.data)) self.assertEqual(0, returncode, stderr) state = list(self.json_from_files(self.test_state_path, 17)) dd = [] for i in state: dd.append(i['args']) db_container_name = state[8]['args'][6] web_container_name = state[11]['args'][6] self.assertRegex(db_container_name, 'db-[0-9a-z]{8}') self.assertRegex(web_container_name, 'web-[0-9a-z]{8}') self.check_basic_response(state) self.assertEqual([ self.fake_tool_path, u'inspect', u'--type', u'container', u'--format', u'exists', db_container_name, ], state[8]['args']) self.assert_args_and_labels([ self.fake_tool_path, u'run', u'--name', db_container_name, u'--detach=true', u'--env-file=env.file', u'--env=foo=bar', u'--privileged=false', u'xxx' ], [ u'deploy_stack_id=the_stack', u'deploy_resource_name=the_deployment', u'config_id=abc123', u'container_name=db', u'managed_by=docker-cmd', ], state[9]['args']) self.assertEqual([ self.fake_tool_path, u'inspect', u'--type', u'container', u'--format', u'exists', u'web', ], state[10]['args']) self.assertEqual([ self.fake_tool_path, u'inspect', u'--type', u'container', u'--format', u'exists', web_container_name, ], state[11]['args']) self.assert_args_and_labels([ self.fake_tool_path, u'run', u'--name', web_container_name, u'--detach=true', u'--env-file=foo.env', u'--env-file=bar.conf', u'--env=KOLLA_CONFIG_STRATEGY=COPY_ALWAYS', u'--env=FOO=BAR', u'--net=host', u'--privileged=true', u'--restart=always', u'--user=root', u'--volume=/run:/run', u'--volume=db:/var/lib/db', u'yyy', u'/bin/webserver', u'start' ], [ u'deploy_stack_id=the_stack', u'deploy_resource_name=the_deployment', u'config_id=abc123', u'container_name=web', u'managed_by=docker-cmd', ], state[12]['args']) self.assertEqual([ self.fake_tool_path, 'inspect', '--type', 'container', '--format', 'exists', 'web-ls' ], state[13]['args']) self.assertEqual([ self.fake_tool_path, 'inspect', '--type', 'container', '--format', 'exists', state[14]['args'][6] ], state[14]['args']) self.assertEqual([ self.fake_tool_path, u'ps', u'-a', u'--filter', u'label=container_name=web', u'--filter', u'label=config_id=abc123', u'--format', u'{{.Names}}', ], state[15]['args']) self.assertEqual([ self.fake_tool_path, u'exec', u'web', u'/bin/ls', u'-l' ], state[16]['args']) def test_cleanup_deleted(self): def test_cleanup_changed(self): def test_cleanup_rename(self):",114,507
openstack%2Fnetworking-ovn~master~I38f5a382bf54c30361ccc93d5f565b2cfdd1d621,openstack/networking-ovn,master,I38f5a382bf54c30361ccc93d5f565b2cfdd1d621,Remove networking-ovn python2 jobs,MERGED,2019-10-07 09:32:35.000000000,2019-10-09 10:44:32.000000000,2019-10-09 10:41:21.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-10-07 09:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/796de93eee9c410195021435d8ce7f32035613bf', 'message': ""Remove networking-ovn python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\nChange-Id: I38f5a382bf54c30361ccc93d5f565b2cfdd1d621\n""}, {'number': 2, 'created': '2019-10-07 09:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a4a6818ed5d3c458ac235c29bded9c475c5e5600', 'message': ""Remove networking-ovn python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\npy27 unittest tox target is kept because the job is defined globally for all\nprojects. We can remove the py27 tox target once the job is removed.\n\nChange-Id: I38f5a382bf54c30361ccc93d5f565b2cfdd1d621\n""}, {'number': 3, 'created': '2019-10-07 09:36:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d5c9541bf4e0638fd5a5cfd73349cb3b6865e929', 'message': ""Remove networking-ovn python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\npy27 unittest tox target is kept because the job is defined globally for all\nprojects. We can remove the py27 tox target once the job is removed.\n\nChange-Id: I38f5a382bf54c30361ccc93d5f565b2cfdd1d621\n""}, {'number': 4, 'created': '2019-10-08 08:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bdbb69d9e635d9a22e29cad19e6ec6fe86edb57e', 'message': ""Remove networking-ovn python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\npy27 unittest tox target is kept because the job is defined globally for all\nprojects. We can remove the py27 tox target once the job is removed.\n\nChange-Id: I38f5a382bf54c30361ccc93d5f565b2cfdd1d621\n""}, {'number': 5, 'created': '2019-10-08 12:41:33.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'playbooks/legacy/networking-ovn-dsvm-functional-py27/post.yaml', 'zuul.d/legacy-networking-ovn-jobs.yaml', 'playbooks/legacy/networking-ovn-dsvm-functional-py27/run.yaml', 'zuul.d/project.yaml', 'setup.cfg', 'zuul.d/networking-ovn-jobs.yaml', 'TESTING.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1688d555f8e457c459674263ec967f20ffa217fb', 'message': ""Remove networking-ovn python2 jobs\n\nPython 2 will be EOL at the end of 2019. Ussuri will no longer support\nPython 2 so it's safe to remove python2 jobs and save some CI resources.\n\npy27 unittest tox target is kept because the job is defined globally for all\nprojects. We can remove the py27 tox target once the job is removed.\n\nChange-Id: I38f5a382bf54c30361ccc93d5f565b2cfdd1d621\n""}]",3,686987,1688d555f8e457c459674263ec967f20ffa217fb,29,9,5,8655,,,0,"Remove networking-ovn python2 jobs

Python 2 will be EOL at the end of 2019. Ussuri will no longer support
Python 2 so it's safe to remove python2 jobs and save some CI resources.

py27 unittest tox target is kept because the job is defined globally for all
projects. We can remove the py27 tox target once the job is removed.

Change-Id: I38f5a382bf54c30361ccc93d5f565b2cfdd1d621
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/87/686987/4 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/legacy-networking-ovn-jobs.yaml', 'zuul.d/project.yaml', 'tox.ini', 'zuul.d/networking-ovn-jobs.yaml']",4,796de93eee9c410195021435d8ce7f32035613bf,python3,, name: networking-ovn-tempest-dsvm-ovs-release-python2 description: Job testing for devstack/tempest testing networking-ovn with the latest released OVN branch parent: networking-ovn-base vars: devstack_localrc: OVN_BRANCH: branch-2.12 USE_PYTHON3: False - job:,1,58
openstack%2Fbifrost~master~I84ab94b6c1ae61fccc1b1aba5df52a000b1fa449,openstack/bifrost,master,I84ab94b6c1ae61fccc1b1aba5df52a000b1fa449,Fix inventory_dns,MERGED,2019-10-01 12:19:20.000000000,2019-10-09 10:44:03.000000000,2019-10-09 10:42:49.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-10-01 12:19:20.000000000', 'files': ['playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b60d21a51789d8e839bb0ca3acd6179b1a721b59', 'message': 'Fix inventory_dns\n\nDnsmasq does not re-read its config files on SIGHUP ([1]). Since\na config directive (host-record) is used, a service restart is\nrequired in order for the record to be available.\n\n[1]\n""Notes\n[...] SIGHUP does NOT re-read the configuration file.""\n  - http://www.thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html\n\nChange-Id: I84ab94b6c1ae61fccc1b1aba5df52a000b1fa449\n'}]",0,685951,b60d21a51789d8e839bb0ca3acd6179b1a721b59,8,3,1,30911,,,0,"Fix inventory_dns

Dnsmasq does not re-read its config files on SIGHUP ([1]). Since
a config directive (host-record) is used, a service restart is
required in order for the record to be available.

[1]
""Notes
[...] SIGHUP does NOT re-read the configuration file.""
  - http://www.thekelleys.org.uk/dnsmasq/docs/dnsmasq-man.html

Change-Id: I84ab94b6c1ae61fccc1b1aba5df52a000b1fa449
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/51/685951/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/roles/bifrost-deploy-nodes-dynamic/tasks/main.yml'],1,b60d21a51789d8e839bb0ca3acd6179b1a721b59,fix_dns,"- name: ""Restarting dnsmasq"" service: name: dnsmasq state: restarted","- name: ""Sending dnsmasq HUP"" # Note(TheJulia): We need to actually to send a hup signal directly as # Ansible's reloaded state does not pass through to the init script. command: killall -HUP dnsmasq",4,4
openstack%2Fkuryr-kubernetes~stable%2Ftrain~I3f6ad0dcbc3da600029ecbe616f5cea6cf0f46cf,openstack/kuryr-kubernetes,stable/train,I3f6ad0dcbc3da600029ecbe616f5cea6cf0f46cf,DevStack: Adapt `prefixes` processing,MERGED,2019-10-08 14:26:35.000000000,2019-10-09 10:33:13.000000000,2019-10-09 10:31:55.000000000,"[{'_account_id': 11600}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-10-08 14:26:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/4463b2130c88e4be1d8c3e4ae5ae97e0c0c2aa72', 'message': 'DevStack: Adapt `prefixes` processing\n\n`prefixes` column for the subnetpools was also changed in\npython-openstackclient 4.0.0. For better explanations see\nI53f56160680555c70fc6d1d87796badf8d2d4e37. This commit adapts our code\nto new openstackclient.\n\nChange-Id: I3f6ad0dcbc3da600029ecbe616f5cea6cf0f46cf\n(cherry picked from commit 6d56ffc010a95ad32d58e50f3456681b276d67f1)\n'}, {'number': 2, 'created': '2019-10-08 15:37:13.000000000', 'files': ['devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/bad716c406d7666e72c715f6fc16dff8211022c0', 'message': 'DevStack: Adapt `prefixes` processing\n\n`prefixes` column for the subnetpools was also changed in\npython-openstackclient 4.0.0. For better explanations see\nI53f56160680555c70fc6d1d87796badf8d2d4e37. This commit adapts our code\nto new openstackclient.\n\nChange-Id: I3f6ad0dcbc3da600029ecbe616f5cea6cf0f46cf\n(cherry picked from commit 6d56ffc010a95ad32d58e50f3456681b276d67f1)\n'}]",0,687315,bad716c406d7666e72c715f6fc16dff8211022c0,10,3,2,11600,,,0,"DevStack: Adapt `prefixes` processing

`prefixes` column for the subnetpools was also changed in
python-openstackclient 4.0.0. For better explanations see
I53f56160680555c70fc6d1d87796badf8d2d4e37. This commit adapts our code
to new openstackclient.

Change-Id: I3f6ad0dcbc3da600029ecbe616f5cea6cf0f46cf
(cherry picked from commit 6d56ffc010a95ad32d58e50f3456681b276d67f1)
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/15/687315/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kuryr_kubernetes'],1,4463b2130c88e4be1d8c3e4ae5ae97e0c0c2aa72,devstack-fix-fixed-ip-stable/train," local cidrs cidrs=$(openstack subnet pool show ""${subnetpool_id}"" -c prefixes -f value) subnetpool_cidr=$(python -c ""print ${cidrs}[0]"")"," subnetpool_cidr=$(openstack subnet pool show ""${subnetpool_id}"" \ -c prefixes -f value | cut -f2)",3,2
openstack%2Fhorizon~stable%2Fqueens~Ia7db6c2881c72580a156eb97b11bb51f295cfbce,openstack/horizon,stable/queens,Ia7db6c2881c72580a156eb97b11bb51f295cfbce,Add Allowed Address Pair/Delete buttons are only visible to admin,MERGED,2019-09-26 11:30:20.000000000,2019-10-09 10:25:15.000000000,2019-10-09 10:25:15.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-26 11:30:20.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tables.py', 'openstack_dashboard/dashboards/admin/networks/ports/tests.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d8ae1d05920f144531fe16a70e80f9871c37675f', 'message': 'Add Allowed Address Pair/Delete buttons are only visible to admin\n\nInitially In Queens, when logging into Horizon in context\nof a _member_ in any project, the ""Add Allowed Address Pair""\nand ""Delete"" buttons in ""Network"" -> ""Networks"" ->\n<select a network> -> ""Ports"" -> <select a port> ->\n""Allowed Address Pairs"" are not visible.\n\nWhen accessing the same panel in context of a project where the user\nhas the admin role, the ""Add"" and ""Delete"" button is visible and\nfunctional.\n\nThis patch fixes the above issue by updating the policy_target.\n\nConflicts:\n    openstack_dashboard/dashboards/admin/networks/ports/tests.py\n    openstack_dashboard/dashboards/project/networks/ports/tests.py\n\nChange-Id: Ia7db6c2881c72580a156eb97b11bb51f295cfbce\nCloses-Bug: #1794421\n(cherry picked from commit 87b57dfe7113da09715d5613ab9c91c15a75c189)\n'}]",1,685045,d8ae1d05920f144531fe16a70e80f9871c37675f,9,5,1,27302,,,0,"Add Allowed Address Pair/Delete buttons are only visible to admin

Initially In Queens, when logging into Horizon in context
of a _member_ in any project, the ""Add Allowed Address Pair""
and ""Delete"" buttons in ""Network"" -> ""Networks"" ->
<select a network> -> ""Ports"" -> <select a port> ->
""Allowed Address Pairs"" are not visible.

When accessing the same panel in context of a project where the user
has the admin role, the ""Add"" and ""Delete"" button is visible and
functional.

This patch fixes the above issue by updating the policy_target.

Conflicts:
    openstack_dashboard/dashboards/admin/networks/ports/tests.py
    openstack_dashboard/dashboards/project/networks/ports/tests.py

Change-Id: Ia7db6c2881c72580a156eb97b11bb51f295cfbce
Closes-Bug: #1794421
(cherry picked from commit 87b57dfe7113da09715d5613ab9c91c15a75c189)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/45/685045/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tables.py', 'openstack_dashboard/dashboards/admin/networks/ports/tests.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py']",3,d8ae1d05920f144531fe16a70e80f9871c37675f,bug/1794421-stable/queens,"from django.test.utils import override_settings import mockfrom openstack_auth import utils as auth_utils @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_stubs({api.neutron: ('port_get', 'network_get', 'is_extension_supported')}) def test_add_allowed_address_pair_button_shown_to_network_owner(self): port = self.ports.first() api.neutron.port_get(IsA(http.HttpRequest), port.id) \ .AndReturn(port) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'allowed-address-pairs') \ .MultipleTimes().AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning') \ .MultipleTimes().AndReturn(False) self.mox.ReplayAll() url = reverse('horizon:project:networks:ports:addallowedaddresspairs', args=[port.id]) classes = 'btn data-table-action btn-default ajax-modal' link_name = ""Add Allowed Address Pair"" expected_string = \ '<a id=""allowed_address_pairs__action_AddAllowedAddressPair"" ' \ 'class=""%s"" href=""%s"" title=""Add Allowed Address Pair"">' \ '<span class=""fa fa-plus""></span> %s</a>' \ % (classes, url, link_name) res = self.client.get(reverse('horizon:project:networks:ports:detail', args=[port.id])) self.assertTemplateUsed(res, 'horizon/common/_detail_tab_group.html') self.assertIn(expected_string, res.context_data['tab_group'].render()) @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_stubs({api.neutron: ('network_get', 'port_get', 'is_extension_supported', 'security_group_list',)}) def test_add_allowed_address_pair_button_disabled_to_other_tenant(self): # Current user tenant_id is 1 so select port whose tenant_id is # other than 1 for checking ""Add Allowed Address Pair"" button is not # displayed on the screen. user = auth_utils.get_user(self.request) # select port such that tenant_id is different from user's tenant_id. port = [p for p in self.ports.list() if p.tenant_id != user.tenant_id][0] api.neutron.port_get(IsA(http.HttpRequest), port.id) \ .AndReturn(port) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'allowed-address-pairs') \ .MultipleTimes().AndReturn(False) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning') \ .MultipleTimes().AndReturn(False) self.mox.ReplayAll() with mock.patch('openstack_auth.utils.get_user', return_value=user): url = reverse( 'horizon:project:networks:ports:addallowedaddresspairs', args=[port.id]) classes = 'btn data-table-action btn-default ajax-modal' link_name = ""Add Allowed Address Pair"" expected_string = \ '<a id=""allowed_address_pairs__action_AddAllowedAddressPair"" ' \ 'class=""%s"" href=""%s"" title=""Add Allowed Address Pair"">' \ '<span class=""fa fa-plus""></span> %s</a>' \ % (classes, url, link_name) res = self.client.get(reverse( 'horizon:project:networks:ports:detail', args=[port.id])) self.assertNotIn( expected_string, res.context_data['tab_group'].render()) @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_stubs({api.neutron: ('port_get', 'network_get', 'is_extension_supported')}) def test_delete_address_pair_button_shown_to_network_owner(self): port = self.ports.first() api.neutron.port_get(IsA(http.HttpRequest), port.id) \ .AndReturn(port) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'allowed-address-pairs') \ .MultipleTimes().AndReturn(True) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning') \ .MultipleTimes().AndReturn(False) self.mox.ReplayAll() classes = 'data-table-action btn-danger btn' expected_string = \ '<button data-batch-action=""true"" ' \ 'id=""allowed_address_pairs__action_delete"" ' \ 'class=""%s"" name=""action"" help_text=""This action cannot be ' \ 'undone."" type=""submit"" value=""allowed_address_pairs__delete"">' \ '<span class=""fa fa-trash""></span>' \ ' Delete</button>' \ % (classes) res = self.client.get(reverse( 'horizon:project:networks:ports:detail', args=[port.id])) self.assertTemplateUsed(res, 'horizon/common/_detail_tab_group.html') self.assertIn(expected_string, res.context_data['tab_group'].render()) @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_stubs({api.neutron: ('network_get', 'port_get', 'is_extension_supported', 'security_group_list',)}) def test_delete_address_pair_button_disabled_to_other_tenant(self): # Current user tenant_id is 1 so select port whose tenant_id is # other than 1 for checking ""Delete Allowed Address Pair"" button is # not displayed on the screen. user = auth_utils.get_user(self.request) # select port such that tenant_id is different from user's tenant_id. port = [p for p in self.ports.list() if p.tenant_id != user.tenant_id][0] api.neutron.port_get(IsA(http.HttpRequest), port.id) \ .AndReturn(port) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'allowed-address-pairs') \ .MultipleTimes().AndReturn(False) api.neutron.is_extension_supported(IsA(http.HttpRequest), 'mac-learning') \ .MultipleTimes().AndReturn(False) self.mox.ReplayAll() with mock.patch('openstack_auth.utils.get_user', return_value=user): classes = 'data-table-action btn-danger btn' expected_string = \ '<button data-batch-action=""true"" ' \ 'id=""allowed_address_pairs__action_delete"" ' \ 'class=""%s"" name=""action"" help_text=""This action cannot be ' \ 'undone."" type=""submit"" ' \ 'value=""allowed_address_pairs__delete"">' \ '<span class=""fa fa-trash""></span>' \ ' Delete</button>' % (classes) res = self.client.get(reverse( 'horizon:project:networks:ports:detail', args=[port.id])) self.assertNotIn( expected_string, res.context_data['tab_group'].render()) ",,248,0
openstack%2Fhorizon~stable%2Frocky~Ia7db6c2881c72580a156eb97b11bb51f295cfbce,openstack/horizon,stable/rocky,Ia7db6c2881c72580a156eb97b11bb51f295cfbce,Add Allowed Address Pair/Delete buttons are only visible to admin,MERGED,2019-09-26 04:03:15.000000000,2019-10-09 10:20:09.000000000,2019-10-09 10:20:08.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-09-26 04:03:15.000000000', 'files': ['openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tables.py', 'openstack_dashboard/dashboards/admin/networks/ports/tests.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/83855762fb6af0f560de9432512aa488377e9e21', 'message': 'Add Allowed Address Pair/Delete buttons are only visible to admin\n\nInitially In Queens, when logging into Horizon in context\nof a _member_ in any project, the ""Add Allowed Address Pair""\nand ""Delete"" buttons in ""Network"" -> ""Networks"" ->\n<select a network> -> ""Ports"" -> <select a port> ->\n""Allowed Address Pairs"" are not visible.\n\nWhen accessing the same panel in context of a project where the user\nhas the admin role, the ""Add"" and ""Delete"" button is visible and\nfunctional.\n\nThis patch fixes the above issue by updating the policy_target.\n\nChange-Id: Ia7db6c2881c72580a156eb97b11bb51f295cfbce\nCloses-Bug: #1794421\n(cherry picked from commit 87b57dfe7113da09715d5613ab9c91c15a75c189)\n'}]",0,684922,83855762fb6af0f560de9432512aa488377e9e21,8,5,1,27302,,,0,"Add Allowed Address Pair/Delete buttons are only visible to admin

Initially In Queens, when logging into Horizon in context
of a _member_ in any project, the ""Add Allowed Address Pair""
and ""Delete"" buttons in ""Network"" -> ""Networks"" ->
<select a network> -> ""Ports"" -> <select a port> ->
""Allowed Address Pairs"" are not visible.

When accessing the same panel in context of a project where the user
has the admin role, the ""Add"" and ""Delete"" button is visible and
functional.

This patch fixes the above issue by updating the policy_target.

Change-Id: Ia7db6c2881c72580a156eb97b11bb51f295cfbce
Closes-Bug: #1794421
(cherry picked from commit 87b57dfe7113da09715d5613ab9c91c15a75c189)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/22/684922/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/project/networks/ports/extensions/allowed_address_pairs/tables.py', 'openstack_dashboard/dashboards/admin/networks/ports/tests.py', 'openstack_dashboard/dashboards/project/networks/ports/tests.py']",3,83855762fb6af0f560de9432512aa488377e9e21,bug/1794421-stable/rocky,"from django.test.utils import override_settingsfrom openstack_auth import utils as auth_utils @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_mocks({api.neutron: ('port_get', 'network_get', 'is_extension_supported')}) def test_add_allowed_address_pair_button_shown_to_network_owner(self): port = self.ports.first() url = reverse('horizon:project:networks:ports:addallowedaddresspairs', args=[port.id]) classes = 'btn data-table-action btn-default ajax-modal' link_name = ""Add Allowed Address Pair"" expected_string = \ '<a id=""allowed_address_pairs__action_AddAllowedAddressPair"" ' \ 'class=""%s"" href=""%s"" title=""Add Allowed Address Pair"">' \ '<span class=""fa fa-plus""></span> %s</a>' \ % (classes, url, link_name) res = self.client.get(reverse('horizon:project:networks:ports:detail', args=[port.id])) self.assertTemplateUsed(res, 'horizon/common/_detail_tab_group.html') self.assertIn(expected_string, res.context_data['tab_group'].render()) @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_mocks({api.neutron: ('port_get', 'network_get', 'is_extension_supported')}) def test_add_allowed_address_pair_button_disabled_to_other_tenant(self): # Current user tenant_id is 1 so select port whose tenant_id is # other than 1 for checking ""Add Allowed Address Pair"" button is not # displayed on the screen. user = auth_utils.get_user(self.request) # select port such that tenant_id is different from user's tenant_id. port = [p for p in self.ports.list() if p.tenant_id != user.tenant_id][0] self._stub_is_extension_supported( {'allowed-address-pairs': False, 'mac-learning': False}) with mock.patch('openstack_auth.utils.get_user', return_value=user): url = reverse( 'horizon:project:networks:ports:addallowedaddresspairs', args=[port.id]) classes = 'btn data-table-action btn-default ajax-modal' link_name = ""Add Allowed Address Pair"" expected_string = \ '<a id=""allowed_address_pairs__action_AddAllowedAddressPair"" ' \ 'class=""%s"" href=""%s"" title=""Add Allowed Address Pair"">' \ '<span class=""fa fa-plus""></span> %s</a>' \ % (classes, url, link_name) res = self.client.get(reverse( 'horizon:project:networks:ports:detail', args=[port.id])) self.assertNotIn( expected_string, res.context_data['tab_group'].render()) @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_mocks({api.neutron: ('port_get', 'network_get', 'port_update', 'is_extension_supported')}) def test_delete_address_pair_button_shown_to_network_owner(self): port = self.ports.first() classes = 'data-table-action btn-danger btn' expected_string = \ '<button data-batch-action=""true"" ' \ 'id=""allowed_address_pairs__action_delete"" ' \ 'class=""%s"" name=""action"" help_text=""This action cannot be ' \ 'undone."" type=""submit"" value=""allowed_address_pairs__delete"">' \ '<span class=""fa fa-trash""></span>' \ ' Delete</button>' \ % (classes) res = self.client.get(reverse( 'horizon:project:networks:ports:detail', args=[port.id])) self.assertTemplateUsed(res, 'horizon/common/_detail_tab_group.html') self.assertIn(expected_string, res.context_data['tab_group'].render()) @override_settings(POLICY_CHECK_FUNCTION='openstack_auth.policy.check') @test.create_mocks({api.neutron: ('port_get', 'network_get', 'is_extension_supported')}) def test_delete_address_pair_button_disabled_to_other_tenant(self): # Current user tenant_id is 1 so select port whose tenant_id is # other than 1 for checking ""Delete Allowed Address Pair"" button is # not displayed on the screen. user = auth_utils.get_user(self.request) # select port such that tenant_id is different from user's tenant_id. port = [p for p in self.ports.list() if p.tenant_id != user.tenant_id][0] self._stub_is_extension_supported( {'allowed-address-pairs': False, 'mac-learning': False}) with mock.patch('openstack_auth.utils.get_user', return_value=user): classes = 'data-table-action btn-danger btn' expected_string = \ '<button data-batch-action=""true"" ' \ 'id=""allowed_address_pairs__action_delete"" ' \ 'class=""%s"" name=""action"" help_text=""This action cannot be ' \ 'undone."" type=""submit"" ' \ 'value=""allowed_address_pairs__delete"">' \ '<span class=""fa fa-trash""></span>' \ ' Delete</button>' % (classes) res = self.client.get(reverse( 'horizon:project:networks:ports:detail', args=[port.id])) self.assertNotIn( expected_string, res.context_data['tab_group'].render()) ",,186,0
openstack%2Fbifrost~master~I7b73d95cfdf2d9d12d1f3f5129a452ff3fccd2af,openstack/bifrost,master,I7b73d95cfdf2d9d12d1f3f5129a452ff3fccd2af,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-10-09 08:10:23.000000000,2019-10-09 10:15:22.000000000,2019-10-09 10:13:35.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 08:10:23.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/2f9b729632c742f83a9079cae88447e8742a2806', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I7b73d95cfdf2d9d12d1f3f5129a452ff3fccd2af\n'}]",0,687474,2f9b729632c742f83a9079cae88447e8742a2806,8,3,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I7b73d95cfdf2d9d12d1f3f5129a452ff3fccd2af
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/74/687474/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,2f9b729632c742f83a9079cae88447e8742a2806,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Ftripleo-heat-templates~master~I19393b22d7bd1b0d2d63c8bb2cc4797d72ed3b78,openstack/tripleo-heat-templates,master,I19393b22d7bd1b0d2d63c8bb2cc4797d72ed3b78,DNM - test only,ABANDONED,2019-09-15 15:17:58.000000000,2019-10-09 10:13:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-09-15 15:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/234a496bf66fce42db6e71f20a3255ca7f98b04b', 'message': 'DNM - test only\n\nChange-Id: I19393b22d7bd1b0d2d63c8bb2cc4797d72ed3b78\n'}, {'number': 2, 'created': '2019-09-22 20:44:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f056ab1d481e06525b272140d0dc88f12736c7d', 'message': 'DNM - test only\n\nChange-Id: I19393b22d7bd1b0d2d63c8bb2cc4797d72ed3b78\n'}, {'number': 3, 'created': '2019-09-27 00:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/520ff09e53f3194489f14aa319ed2270281a19b7', 'message': 'DNM - test only\n\nChange-Id: I19393b22d7bd1b0d2d63c8bb2cc4797d72ed3b78\n'}, {'number': 4, 'created': '2019-09-30 09:56:21.000000000', 'files': ['ci/environments/scenario004-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/86d762a42fd052b99a78946da45b2dc25cb8be52', 'message': 'DNM - test only\n\nDepends-On: https://review.opendev.org/#/c/685449\nChange-Id: I19393b22d7bd1b0d2d63c8bb2cc4797d72ed3b78\n'}]",0,682248,86d762a42fd052b99a78946da45b2dc25cb8be52,13,2,4,9003,,,0,"DNM - test only

Depends-On: https://review.opendev.org/#/c/685449
Change-Id: I19393b22d7bd1b0d2d63c8bb2cc4797d72ed3b78
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/682248/4 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario004-standalone.yaml'],1,234a496bf66fce42db6e71f20a3255ca7f98b04b,, ## just triggering scenario0004,,2,0
openstack%2Ftripleo-heat-templates~master~I12111f5f45a5d5d48b24f4c22cdd33e4d09a1303,openstack/tripleo-heat-templates,master,I12111f5f45a5d5d48b24f4c22cdd33e4d09a1303,Test Manila in scenario004 without pacemaker,ABANDONED,2019-10-07 19:28:46.000000000,2019-10-09 10:12:56.000000000,,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-07 19:28:46.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'deployment/manila/manila-share-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b8245589b5b03193c94cb97cb843b41bf6e0689b', 'message': 'Test Manila in scenario004 without pacemaker\n\nDepends-On: https://review.opendev.org/#/c/682853/\nChange-Id: I12111f5f45a5d5d48b24f4c22cdd33e4d09a1303\n'}]",0,687143,b8245589b5b03193c94cb97cb843b41bf6e0689b,5,3,1,9003,,,0,"Test Manila in scenario004 without pacemaker

Depends-On: https://review.opendev.org/#/c/682853/
Change-Id: I12111f5f45a5d5d48b24f4c22cdd33e4d09a1303
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/687143/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'deployment/manila/manila-share-container-puppet.yaml']",2,b8245589b5b03193c94cb97cb843b41bf6e0689b,, - path: /var/lib/manila owner: manila:manila recurse: true ipc: host user: root,,7,8
openstack%2Fcharm-specs~master~Id760b3b87d10e0c3f0d3540c1e2eb80d67c5fc0f,openstack/charm-specs,master,Id760b3b87d10e0c3f0d3540c1e2eb80d67c5fc0f,add policy customization spec,ABANDONED,2018-09-20 23:52:59.000000000,2019-10-09 10:03:09.000000000,,"[{'_account_id': 6737}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2018-09-20 23:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/c5e8035830433c5e2a18b5f01a055b1c1e349f62', 'message': 'add policy customization spec\n\nChange-Id: Id760b3b87d10e0c3f0d3540c1e2eb80d67c5fc0f\n'}, {'number': 2, 'created': '2018-11-18 21:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/4cc4a4e91b9301976be5d9dd9f869c0485b80a47', 'message': 'add policy customization spec\n\nChange-Id: Id760b3b87d10e0c3f0d3540c1e2eb80d67c5fc0f\n'}, {'number': 3, 'created': '2018-11-19 10:53:23.000000000', 'files': ['specs/stein/approved/policy-customization.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/a426f3ddd8f06c0006f2ef8c6b33a3201316d98b', 'message': 'add policy customization spec\n\nChange-Id: Id760b3b87d10e0c3f0d3540c1e2eb80d67c5fc0f\n'}]",1,604238,a426f3ddd8f06c0006f2ef8c6b33a3201316d98b,9,4,3,24824,,,0,"add policy customization spec

Change-Id: Id760b3b87d10e0c3f0d3540c1e2eb80d67c5fc0f
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/38/604238/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/policy-customization.rst'],1,c5e8035830433c5e2a18b5f01a055b1c1e349f62,fe-extra-policy,".. Copyright 2018 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html =============================== Policy Customization in OpenStack Charms =============================== OpenStack projects use `oslo.policy <https://docs.openstack.org/oslo.policy/latest/>` to implement RBAC by assigning policy rule expressions with policy ""targets"" (typically, API calls of a given service). Roles created by operators via Keystone need to have policy information associated with them which is why policy customization functionality is needed. Those customizations are operator-defined (business logic) and are not possible to pre-define for every possible use-case although there was an effort done `for Rocky <https://specs.openstack.org/openstack/keystone-specs/specs/keystone/rocky/define-default-roles.html>`__ to provide a set of default roles to cover generic use-cases. Problem Description =================== Current oslo.policy Behavior ----------- oslo.policy is a library (not a service) and every OpenStack service using that library needs to retrieve policy rules to match requests against from some data source - this data source is present in a form of files (json or yaml) in the configuration directory of a service by default. Specifically: * `policy_file <https://docs.openstack.org/oslo.policy/latest/configuration/#oslo_policy.policy_file>`__, e.g.: /etc/<service-name>/policy.json; * `policy_dirs <https://docs.openstack.org/oslo.policy/latest/configuration/#oslo_policy.policy_dirs>`__, e.g.: /etc/<service-name>/policy.d/{drop-in-files}. Drop-in files placed into policy_dirs are parsed only if a file pointed to by policy_file exists and can override the default policy. The default policy can come from either: #. a file pointed to by policy_file; #. as provided by a deb package from UCA (not every package provides it); #. rendered by a charm from a template; #. `policy in code <https://governance.openstack.org/tc/goals/queens/policy-in-code.html>`__. Dynamic Policy Retrieval from the Keystone Database ----------- There are `efforts to implement API roles <https://specs.openstack.org/openstack/keystone-specs/specs/keystone/ongoing/role-check-from-middleware.html>`__ which can be checked for in keystonemiddleware after token validation and to have two new objects in the Keystone DB (api and api_role) that will allow associating URL patterns and HTTP verbs with user-defined roles. In conjunction with default policy in code this functionality looks more promising than file management, however, it is not yet there as of Rocky. Dynamic policy retrieval also has caching layer design implications. Supportability ----------- Changing policy files from their defaults allows operators to associate useful policy information with custom roles created via Keystone API (otherwise they do not have any meaningful use). However, it also introduces support concerns because cloud administrators can prevent the cloud from functioning properly by configuring an incorrect policy. Those concerns will still be valid if API roles get implemented in Keystone because Keystone would have to grow some protection against revoking the only administrator from roles that make this user an administrator in the first place or removing an ability for the administrator role to use certain API paths or HTTP verbs. OpenStack Dashboard ----------- Horizon `also uses oslo.policy <https://docs.openstack.org/horizon/latest/contributor/topics/policy.html>`__ and relies policy files that need to be local but consistent with policy files provided on every other service it needs to work with. `As of Queens <https://blueprints.launchpad.net/horizon/+spec/policy-dirs>`__, it also allows specifying policy_dirs directories per service type using the `POLICY_DIRS <https://docs.openstack.org/horizon/latest/configuration/settings.html#policy-dirs>`__ setting. Files specified in `POLICY_FILES <https://docs.openstack.org/horizon/latest/configuration/settings.html#policy-files>`__ must exist for files from POLICY_DIRS to be loaded. In order to have consistent policy across API and UI, policy files have to be generated via `oslopolicy-sample-generator <https://docs.openstack.org/oslo.policy/latest/user/usage.html#sample-file-generation>`__ for every service and copied to all horizon units along with any package maintainer-, charm- and operator-supplied policy files (generated files can be used as POLICY_FILES and the rest placed into POLICY_DIRS). The Policy in Code approach is `not applicable to Horizon which results in <https://governance.openstack.org/tc/goals/queens/policy-in-code.html#horizon>`__ manual policy file synchronization requirement until API roles are implemented in Keystone *and in Horizon*. Default Policy Files ----------- Since policy_file must be present for files in policy_dirs to be interpreted by oslo.policy, either every package for a service deployed by a charm needs to have a default policy file generated from code or charms rendering custom policy need to create a dummy (but valid) policy_file for the service they configure and place their drop-ins into policy_dirs. Examples of UCA packages (stable/queens) for which rendering a dummy policy_file will be relevant: * `cinder (no policy.json by default - only policy in code) <https://git.launchpad.net/~ubuntu-server-dev/ubuntu/+source/cinder/tree/etc/cinder?h=stable/queens>`__; * `gnocchi <https://git.launchpad.net/~ubuntu-server-dev/ubuntu/+source/gnocchi/tree/?h=stable/queens>`__; * `nova <https://git.launchpad.net/~ubuntu-server-dev/ubuntu/+source/nova/tree/etc/nova?h=stable/queens>`__; * `panko <https://git.launchpad.net/~ubuntu-server-dev/ubuntu/+source/panko/tree/etc/panko?h=stable/queens>`__; * `keystone (policy.json is rendered by charm-keystone <https://git.launchpad.net/~ubuntu-server-dev/ubuntu/+source/keystone/tree/etc?h=stable/queens>`__; Some packages where policy.json is present by default: * `neutron <https://git.launchpad.net/~ubuntu-server-dev/ubuntu/+source/neutron/tree/etc/policy.json?h=stable/queens>`__; * `glance <https://git.launchpad.net/~ubuntu-server-dev/ubuntu/+source/glance/tree/etc/policy.json?h=stable/queens>`__; * `horizon (nova, cinder, glance, keystone, neutron policies are present <https://git.launchpad.net/~ubuntu-server-dev/ubuntu/+source/horizon/tree/openstack_dashboard/conf?h=stable/queens>`__. Also, charm-keystone and charm-openstack-dashboard render their own modified versions of policy files from templates. The dashboard charm only renders a policy file for keystone and others and others come from the deb package. Proposed Change =============== #. Add a config option to every charm that deploys a service that relies on oslo.policy called ""extra-policy"" which will contain a jinja2 template for a policy file (jinja2 is required to render dynamic values such as admin_domain_id in the policy files); #. Use in-memory rendering functionality for `classic <https://github.com/juju/charm-helpers/pull/87>`__ and `reactive charms <https://review.openstack.org/#/c/538688/>`__ (that rely on charms.openstack) to render policy files from the extra-policy config option. For classic charms `EnsureDirContext <https://github.com/juju/charm-helpers/pull/88/commits/a6e54693536af8dcd48720fb38ea0856d6589217>`__ can be used to pre-create a non-existing policy_dir; #. Implement a proxy-charm-like functionality for charm-keystone to retrieve policy from every service in OpenStack that the dashboard needs to be aware of and send that policy to the charm-openstack-dashboard to maintain consistent policy files across different services and the dashboard. Alternatives ------------ Require operators to manage policy_dirs manually before API roles functionality gets released in Keystone, keystonemiddleware and Horizon. Implementation ============== Assignee(s) ----------- Primary assignee: None Gerrit Topic ------------ Use Gerrit topic ""fe-extra-policy"" for all patches related to this spec. .. code-block:: bash git-review -t fe-extra-policy Work Items ---------- * modifications to classic and reactive charms mentioned in lp:1741723 to include the new option and rendering based on reviews for charm-keystone and charm-panko; * unit tests; * functional tests. Repositories ------------ No new repositries will be created. Documentation ------------- 'extra-policy' option should be very clearly marked as dangerous with relevant disclaimers about supportability concerns for custom policy. Security -------- Allowing operators to define custom policy may lead to non-fatal cases for operations which will be terrible in terms of security. This concern is not specific to managing policy via files or via API roles - any custom changes can lead to insecure configurations. Testing ------- Unit tests and functional tests should be implemented to validate that the implemented logic is universal for cases where policy files are shipped with packages, rendered by charms or not present at all. Dependencies ============ - In-memory template rendering was covered for charms.openstack in https://bugs.launchpad.net/charms.openstack/+bug/1741723 - UCA packaging changes to avoid shipping policy files where projects implement policy in code. ",,208,0
openstack%2Fnova~master~I377f65ce78977be943d7a84b075623fd11613a99,openstack/nova,master,I377f65ce78977be943d7a84b075623fd11613a99,doc: link to user/index from main home page,MERGED,2019-10-08 13:23:20.000000000,2019-10-09 10:01:00.000000000,2019-10-09 09:55:35.000000000,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-08 13:23:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0aaf8a61714a5dfdca0bfcf2050c71666d4b27d0', 'message': ""doc: link to user/index from main home page\n\nWe don't have a direct link from the main home page to the\nuser docs so this adds one.\n\nChange-Id: I377f65ce78977be943d7a84b075623fd11613a99\n""}, {'number': 2, 'created': '2019-10-08 20:33:09.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/ec87830daf1a3cf73adb409ad02c1f97d46c68b3', 'message': ""doc: link to user/index from main home page\n\nWe don't have a direct link from the main home page to the\nuser docs so this adds one.\n\nChange-Id: I377f65ce78977be943d7a84b075623fd11613a99\n""}]",2,687292,ec87830daf1a3cf73adb409ad02c1f97d46c68b3,22,10,2,6873,,,0,"doc: link to user/index from main home page

We don't have a direct link from the main home page to the
user docs so this adds one.

Change-Id: I377f65ce78977be943d7a84b075623fd11613a99
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/687292/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,0aaf8a61714a5dfdca0bfcf2050c71666d4b27d0,agg-az-docs,Other end-user guides can be found under :doc:`User Documentation </user/index>`. ,,3,0
openstack%2Fhorizon~stable%2Ftrain~Ib06925aef305ffa1545d10529acd42d04177f5e1,openstack/horizon,stable/train,Ib06925aef305ffa1545d10529acd42d04177f5e1,Relnote: default values are moved to openstack_dashboard/defaults.py,MERGED,2019-10-03 11:21:39.000000000,2019-10-09 10:00:09.000000000,2019-10-09 09:58:29.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 11880}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-03 11:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/448c41335e6fded524ff572817a71bcf19dd7d33', 'message': 'Relnote: default values are moved to openstack_dashboard/defaults.py\n\nIn Train release, we move most settings from local_settings.py.example\nto openstack_dashboard/defaults.py. It is worth covered in the Train\nrelease notes so that operators who depend on local_settings.py.example\ncan be aware of the change.\n\nAlso drops settings related to the operation log feature in\nlocal_settings.py.example are as they are defined in\nhorizon/defaults.py (which is loaded by\nopenstack_dashboard/defaults.py).\n\nChange-Id: Ib06925aef305ffa1545d10529acd42d04177f5e1\n(cherry picked from commit d8d44de5d3bc8f4a9ac38557c16146a8493bb29b)\n'}, {'number': 2, 'created': '2019-10-08 14:59:18.000000000', 'files': ['releasenotes/notes/default-settings-moved-1e6a60408c47e2e2.yaml', 'openstack_dashboard/local/local_settings.py.example'], 'web_link': 'https://opendev.org/openstack/horizon/commit/35dc4814e452e0b98d885c726d294ce23778bbce', 'message': 'Relnote: default values are moved to openstack_dashboard/defaults.py\n\nIn Train release, we move most settings from local_settings.py.example\nto openstack_dashboard/defaults.py. It is worth covered in the Train\nrelease notes so that operators who depend on local_settings.py.example\ncan be aware of the change.\n\nAlso drops settings related to the operation log feature in\nlocal_settings.py.example are as they are defined in\nhorizon/defaults.py (which is loaded by\nopenstack_dashboard/defaults.py).\n\nChange-Id: Ib06925aef305ffa1545d10529acd42d04177f5e1\n(cherry picked from commit d8d44de5d3bc8f4a9ac38557c16146a8493bb29b)\n'}]",2,686384,35dc4814e452e0b98d885c726d294ce23778bbce,14,5,2,841,,,0,"Relnote: default values are moved to openstack_dashboard/defaults.py

In Train release, we move most settings from local_settings.py.example
to openstack_dashboard/defaults.py. It is worth covered in the Train
release notes so that operators who depend on local_settings.py.example
can be aware of the change.

Also drops settings related to the operation log feature in
local_settings.py.example are as they are defined in
horizon/defaults.py (which is loaded by
openstack_dashboard/defaults.py).

Change-Id: Ib06925aef305ffa1545d10529acd42d04177f5e1
(cherry picked from commit d8d44de5d3bc8f4a9ac38557c16146a8493bb29b)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/84/686384/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/default-settings-moved-1e6a60408c47e2e2.yaml', 'openstack_dashboard/local/local_settings.py.example']",2,448c41335e6fded524ff572817a71bcf19dd7d33,relnote-default-settings-stable/train,"# ---------------------------------------------------------------------- # NOTE: The default values of the settings are defined in # openstack_dashboard/defaults.py. Prevously most available settings # were listed in this example file, but it is no longer true. # For available settings, see openstack_dashboard/defaults.py and # the horizon setting reference found at # https://docs.openstack.org/horizon/latest/configuration/settings.html. # # Django related settings and HORIZON_CONFIG still exist here. # Keep in my mind that they will be revisit in upcoming releases. # ---------------------------------------------------------------------- "," # Settings for OperationLogMiddleware # OPERATION_LOG_ENABLED is flag to use the function to log an operation on # Horizon. # mask_targets is arrangement for appointing a target to mask. # method_targets is arrangement of HTTP method to output log. # format is the log contents. #OPERATION_LOG_ENABLED = False #OPERATION_LOG_OPTIONS = { # 'mask_fields': ['password'], # 'target_methods': ['POST'], # 'ignored_urls': ['/js/', '/static/', '^/api/'], # 'format': (""[%(client_ip)s] [%(domain_name)s]"" # "" [%(domain_id)s] [%(project_name)s]"" # "" [%(project_id)s] [%(user_name)s] [%(user_id)s] [%(request_scheme)s]"" # "" [%(referer_url)s] [%(request_url)s] [%(message)s] [%(method)s]"" # "" [%(http_status)s] [%(param)s]""), #}",26,18
openstack%2Ftripleo-common~master~I60507eba9884a0660fe269da5ad27b0e57a70ca8,openstack/tripleo-common,master,I60507eba9884a0660fe269da5ad27b0e57a70ca8,Make executor type dynamic,MERGED,2019-10-02 15:08:15.000000000,2019-10-09 09:58:17.000000000,2019-10-09 02:36:35.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 9712}, {'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-10-02 15:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/11e40ba4af287ea039d388066f4119642a3ed68f', 'message': ""Switch to ProcessPoolExecutor\n\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 2, 'created': '2019-10-03 08:33:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1a2c026c348b84515e58c42bd30a9e23bc159cdb', 'message': ""Switch to ProcessPoolExecutor\n\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\nDepends-On: https://review.opendev.org/#/c/686353/\n""}, {'number': 3, 'created': '2019-10-03 23:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c6bd1abfd5d16df41c0f79adc2c27551d7a6dfd1', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 4, 'created': '2019-10-03 23:17:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6f574fa1dff001c50380655cbfd22b6376ca1a1e', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 5, 'created': '2019-10-04 07:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/07cf46f674714e9a85fa00824fff6b7fa2e7ee36', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 6, 'created': '2019-10-04 15:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/597c1a8ff7eefc774a12713001e88a17e6ad0862', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 7, 'created': '2019-10-04 16:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a9fbdbea05ffdfd2649c9e8daf549e1b328e66b3', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nAdditionally this change limits the number of concurrent image upload\nprocesses to 4 if using the ProcessPoolExecutor and caps the number of\nthreads at a max of 8 based on (cpu count / 2)\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 8, 'created': '2019-10-04 16:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/96e876a06901fe7d7bb7b0d7ab54f54296132fa0', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nAdditionally this change limits the number of concurrent image upload\nprocesses to 4 if using the ProcessPoolExecutor and caps the number of\nthreads at a max of 8 based on (cpu count / 2)\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 9, 'created': '2019-10-04 16:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6edb3f77d2798c1d9b440065f966090a7629b3a8', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nAdditionally this change limits the number of concurrent image upload\nprocesses to 4 if using the ProcessPoolExecutor and caps the number of\nthreads at a max of 8 based on (cpu count / 2)\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 10, 'created': '2019-10-04 16:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3efb5e7b4b2de547fddb9b056b1e8388aa5bffa0', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nAdditionally this change limits the number of concurrent image upload\nprocesses to 4 if using the ProcessPoolExecutor and caps the number of\nthreads at a max of 8 based on (cpu count / 2)\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 11, 'created': '2019-10-04 16:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a13981e9b7221ad31cb4cba10a8f19046b3d8a07', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nAdditionally this change limits the number of concurrent image upload\nprocesses to 4 if using the ProcessPoolExecutor and caps the number of\nthreads at a max of 8 based on (cpu count / 2)\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 12, 'created': '2019-10-04 16:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/de1944f242ef87ada0f870b90e1c5e40775b11ee', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nAdditionally this change limits the number of concurrent image upload\nprocesses to 4 if using the ProcessPoolExecutor and caps the number of\nthreads at a max of 8 based on (cpu count / 2)\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 13, 'created': '2019-10-04 17:14:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6dd3832a63f66ba1276701017ba2bb0c6bccd22d', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nAdditionally this change limits the number of concurrent image upload\nprocesses to 4 if using the ProcessPoolExecutor and caps the number of\nthreads at a max of 8 based on (cpu count / 2)\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 14, 'created': '2019-10-07 14:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ea77a020cb3130d71c48686e40fbdf6ee3aa8554', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nAdditionally this change limits the number of concurrent image upload\nprocesses to 4 if using the ProcessPoolExecutor and caps the number of\nthreads at a max of 8 based on (cpu count / 2)\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}, {'number': 15, 'created': '2019-10-08 14:25:38.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/kolla_builder.py', 'scripts/tripleo-container-image-prepare', 'tripleo_common/utils/locks/processlock.py', 'tripleo_common/utils/locks/__init__.py', 'tripleo_common/utils/locks/threadinglock.py', 'tripleo_common/image/image_uploader.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'tripleo_common/utils/locks/base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/60afc0eec44f698dd95d9d6ec80dad94a4b07329', 'message': ""Make executor type dynamic\n\nWhen we run the tripleo-container-image-prepare script, it performs\nbetter under python2 when the process leverages a ProcessPoolExecutor.\nRather than using threading, we should be using processes to handle the\nimage upload processing. Currently when we're processing the images, we\nend up being single threaded due to the GIL when processing the data. By\nswitching to the ProcessPoolExecutor, we eliminate the locking that is\noccuring during the data processing as it'll be handled in each process.\n\nUnfortunately, we cannot leverage the ProcessPoolExecutor when the same\ncode is run under Mistral. In order to make the code work for both\nmethods, we need to make the execution type dynamic. This change creates\ntwo types of lock objects that are used to determine what type of\nexecutor to ultimately use when processing the images for uploading.\n\nAdditionally this change limits the number of concurrent image upload\nprocesses to 4 if using the ProcessPoolExecutor and caps the number of\nthreads at a max of 8 based on (cpu count / 2)\n\nChange-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8\nRelated-Bug: #1844446\n""}]",6,686181,60afc0eec44f698dd95d9d6ec80dad94a4b07329,68,8,15,14985,,,0,"Make executor type dynamic

When we run the tripleo-container-image-prepare script, it performs
better under python2 when the process leverages a ProcessPoolExecutor.
Rather than using threading, we should be using processes to handle the
image upload processing. Currently when we're processing the images, we
end up being single threaded due to the GIL when processing the data. By
switching to the ProcessPoolExecutor, we eliminate the locking that is
occuring during the data processing as it'll be handled in each process.

Unfortunately, we cannot leverage the ProcessPoolExecutor when the same
code is run under Mistral. In order to make the code work for both
methods, we need to make the execution type dynamic. This change creates
two types of lock objects that are used to determine what type of
executor to ultimately use when processing the images for uploading.

Additionally this change limits the number of concurrent image upload
processes to 4 if using the ProcessPoolExecutor and caps the number of
threads at a max of 8 based on (cpu count / 2)

Change-Id: I60507eba9884a0660fe269da5ad27b0e57a70ca8
Related-Bug: #1844446
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/81/686181/13 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,11e40ba4af287ea039d388066f4119642a3ed68f,bug/1844446-patch2,import multiprocessing _process_manager = multiprocessing.Manager() uploader_lock = _process_manager.Lock() uploader_lock_info = _process_manager.list() cls.uploader_lock_info.append(layer) with futures.ProcessPoolExecutor(max_workers=workers) as p:,import threading uploader_lock = threading.Lock() uploader_lock_info = set() cls.uploader_lock_info.add(layer) with futures.ThreadPoolExecutor(max_workers=workers) as p:,6,5
openstack%2Fnova~master~I4acb120d2e347a43abc584107c7a19bb422af384,openstack/nova,master,I4acb120d2e347a43abc584107c7a19bb422af384,doc: link to user/availability-zones from user home page,MERGED,2019-10-07 21:45:22.000000000,2019-10-09 09:55:29.000000000,2019-10-09 09:55:29.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-07 21:45:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e267cc34bc0d7919babad598626501c448fdf487', 'message': 'doc: link to user/availability-zones from user home page\n\nThis is a follow up to [1]. The user docs home page has a link\nto the admin AZ guide but not a direct link to the user AZ guide\nso that is added here.\n\n[1] https://review.opendev.org/#/c/667133/10/doc/source/user/index.rst@75\n\nChange-Id: I4acb120d2e347a43abc584107c7a19bb422af384\n'}, {'number': 2, 'created': '2019-10-08 20:33:09.000000000', 'files': ['doc/source/user/index.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/2e73dc20158fbe9a8d29b7a8b07d91172395dfd8', 'message': 'doc: link to user/availability-zones from user home page\n\nThis is a follow up to [1]. The user docs home page has a link\nto the admin AZ guide but not a direct link to the user AZ guide\nso that is added here.\n\n[1] https://review.opendev.org/#/c/667133/10/doc/source/user/index.rst@75\n\nChange-Id: I4acb120d2e347a43abc584107c7a19bb422af384\n'}]",0,687165,2e73dc20158fbe9a8d29b7a8b07d91172395dfd8,24,11,2,6873,,,0,"doc: link to user/availability-zones from user home page

This is a follow up to [1]. The user docs home page has a link
to the admin AZ guide but not a direct link to the user AZ guide
so that is added here.

[1] https://review.opendev.org/#/c/667133/10/doc/source/user/index.rst@75

Change-Id: I4acb120d2e347a43abc584107c7a19bb422af384
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/687165/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/user/index.rst']",2,e267cc34bc0d7919babad598626501c448fdf487,agg-az-docs, availability-zones,,1,1
openstack%2Fnova~master~Iad18f355a20261313ddb3dafd302ed66ebca64bc,openstack/nova,master,Iad18f355a20261313ddb3dafd302ed66ebca64bc,docs: Add redirects for '/user/aggregates',MERGED,2019-10-08 16:27:10.000000000,2019-10-09 09:55:23.000000000,2019-10-09 09:55:23.000000000,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-10-08 16:27:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/135f5405fb48f38d616a9355d66f1efa793fd024', 'message': ""docs: Add redirects for '/user/aggregates'\n\nThese were missed in change If847b0085dbfb4c813d4a8d14d99346f8252bc19.\n\nChange-Id: Iad18f355a20261313ddb3dafd302ed66ebca64bc\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-10-08 16:46:09.000000000', 'files': ['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess'], 'web_link': 'https://opendev.org/openstack/nova/commit/93efca826ff8f776d5620f8e884ed9954ed02d02', 'message': ""docs: Add redirects for '/user/aggregates'\n\nThese were missed in change If847b0085dbfb4c813d4a8d14d99346f8252bc19.\n\nChange-Id: Iad18f355a20261313ddb3dafd302ed66ebca64bc\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,687353,93efca826ff8f776d5620f8e884ed9954ed02d02,13,7,2,15334,,,0,"docs: Add redirects for '/user/aggregates'

These were missed in change If847b0085dbfb4c813d4a8d14d99346f8252bc19.

Change-Id: Iad18f355a20261313ddb3dafd302ed66ebca64bc
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/687353/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/test/redirect-tests.txt', 'doc/source/_extra/.htaccess']",2,135f5405fb48f38d616a9355d66f1efa793fd024,trivial,redirectmatch 301 ^/nova/([^/]+)/user/aggregates.html$ /nova/$1/admin/aggregates.html,,2,0
openstack%2Fnova~master~Ic22f17764fa3ed3885a68c5928bfd56c3f81f2a7,openstack/nova,master,Ic22f17764fa3ed3885a68c5928bfd56c3f81f2a7,nova-net: Make even more nova-net stuff optional,MERGED,2019-10-04 17:50:53.000000000,2019-10-09 09:41:51.000000000,2019-10-08 19:33:56.000000000,"[{'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-10-04 17:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b4b19b4dc1d970c3dc03f5a40520ec8bd908ed9', 'message': ""nova-net: Make even more nova-net stuff optional\n\nWe don't need any of this mocking if we're using nova-network.\n\nChange-Id: Ic22f17764fa3ed3885a68c5928bfd56c3f81f2a7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-10-05 12:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/804032e888f2a6c310cefba52f7504e352b0755a', 'message': ""nova-net: Make even more nova-net stuff optional\n\nWe don't need any of this mocking if we're using nova-network.\n\nChange-Id: Ic22f17764fa3ed3885a68c5928bfd56c3f81f2a7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 3, 'created': '2019-10-05 14:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4cb7f6d6f3f34a8fae13e1cd027470d4367830f3', 'message': ""nova-net: Make even more nova-net stuff optional\n\nWe don't need any of this mocking if we're using nova-network.\n\nChange-Id: Ic22f17764fa3ed3885a68c5928bfd56c3f81f2a7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 4, 'created': '2019-10-08 15:28:16.000000000', 'files': ['nova/tests/functional/api_sample_tests/api_sample_base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b6a67faeb67162ecf3dc8249aba02d9758759ea8', 'message': ""nova-net: Make even more nova-net stuff optional\n\nWe only need this mocking if we're using nova-network.\n\nChange-Id: Ic22f17764fa3ed3885a68c5928bfd56c3f81f2a7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,686801,b6a67faeb67162ecf3dc8249aba02d9758759ea8,37,12,4,15334,,,0,"nova-net: Make even more nova-net stuff optional

We only need this mocking if we're using nova-network.

Change-Id: Ic22f17764fa3ed3885a68c5928bfd56c3f81f2a7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/686801/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/api_sample_tests/api_sample_base.py'],1,9b4b19b4dc1d970c3dc03f5a40520ec8bd908ed9,bp/remove-nova-network-ussuri," # TODO(stephenfin): Remove once we remove the few remaining # nova-network-only APIs if not self.USE_NEUTRON: self.stub_out('nova.privsep.linux_net.add_bridge', fake_noop) self.stub_out('nova.privsep.linux_net.set_device_mtu', fake_noop) self.stub_out('nova.privsep.linux_net.set_device_enabled', fake_noop) self.stub_out('nova.privsep.linux_net.set_device_macaddr', fake_noop) self.stub_out('nova.privsep.linux_net.routes_show', fake_noop) self.stub_out('nova.privsep.linux_net.lookup_ip', fake_noop) self.stub_out('nova.privsep.linux_net.change_ip', fake_noop) self.stub_out('nova.privsep.linux_net.address_command_deprecated', fake_noop) self.stub_out('nova.privsep.linux_net.ipv4_forwarding_check', fake_true) self.stub_out('nova.privsep.linux_net.' '_enable_ipv4_forwarding_inner', fake_noop) self.stub_out('nova.privsep.linux_net.add_vlan', fake_noop) self.stub_out('nova.privsep.linux_net.bridge_setfd', fake_noop) self.stub_out('nova.privsep.linux_net.bridge_disable_stp', fake_noop) self.stub_out('nova.privsep.linux_net.bridge_add_interface', fake_noop)"," self.stub_out('nova.privsep.linux_net.add_bridge', fake_noop) self.stub_out('nova.privsep.linux_net.set_device_mtu', fake_noop) self.stub_out('nova.privsep.linux_net.set_device_enabled', fake_noop) self.stub_out('nova.privsep.linux_net.set_device_macaddr', fake_noop) self.stub_out('nova.privsep.linux_net.routes_show', fake_noop) self.stub_out('nova.privsep.linux_net.lookup_ip', fake_noop) self.stub_out('nova.privsep.linux_net.change_ip', fake_noop) self.stub_out('nova.privsep.linux_net.address_command_deprecated', fake_noop) self.stub_out('nova.privsep.linux_net.ipv4_forwarding_check', fake_true) self.stub_out('nova.privsep.linux_net._enable_ipv4_forwarding_inner', fake_noop) self.stub_out('nova.privsep.linux_net.add_vlan', fake_noop) self.stub_out('nova.privsep.linux_net.bridge_setfd', fake_noop) self.stub_out('nova.privsep.linux_net.bridge_disable_stp', fake_noop) self.stub_out('nova.privsep.linux_net.bridge_add_interface', fake_noop)",25,17
openstack%2Fsahara-plugin-spark~master~I5ba2f0e996439879e67e62629f39c3ffd779ad44,openstack/sahara-plugin-spark,master,I5ba2f0e996439879e67e62629f39c3ffd779ad44,Imported Translations from Zanata,MERGED,2019-10-09 08:45:17.000000000,2019-10-09 09:38:58.000000000,2019-10-09 09:37:29.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 08:45:17.000000000', 'files': ['sahara_plugin_spark/locale/id/LC_MESSAGES/sahara_plugin_spark.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/176d4854db9cf0b8a945d7f91b9c78b009f81ab3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5ba2f0e996439879e67e62629f39c3ffd779ad44\n'}]",0,687495,176d4854db9cf0b8a945d7f91b9c78b009f81ab3,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5ba2f0e996439879e67e62629f39c3ffd779ad44
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/95/687495/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_plugin_spark/locale/id/LC_MESSAGES/sahara_plugin_spark.po'],1,176d4854db9cf0b8a945d7f91b9c78b009f81ab3,zanata/translations,"# Andreas Jaeger <jaegerandi@gmail.com>, 2019. #zanata # suhartono <cloudsuhartono@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-spark VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2019-09-30 09:25+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-10-08 10:52+0000\n"" ""Last-Translator: Andreas Jaeger <jaegerandi@gmail.com>\n"" ""Language-Team: Indonesian\n"" ""Language: id\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" #, python-format msgid ""%s or more"" msgstr ""%s or more"" msgid ""1 or more"" msgstr ""1 atau lebih"" msgid ""Await DataNodes start up"" msgstr ""Tunggu DataNodes mulai"" #, python-format msgid ""Decommission %s"" msgstr ""Decommission %s"" #, python-format msgid ""Number of %(dn)s instances should not be less than %(replication)s"" msgstr ""Jumlah instance %(dn)s tidak boleh kurang dari %(replication)s"" msgid ""Push configs to nodes"" msgstr ""Dorong konfigurasi ke node"" #, python-format msgid ""Spark plugin cannot scale nodegroup with processes: %s"" msgstr ""Plugin Spark tidak dapat menskala nodegroup dengan proses: %s"" #, python-format msgid """" ""Spark plugin cannot shrink cluster because there would be not enough nodes "" ""for HDFS replicas (replication factor is %s)"" msgstr """" ""Plugin Spark tidak dapat mengecilkan cluster karena tidak akan ada cukup "" ""node untuk replika HDFS (faktor replikasi adalah %s)"" msgid ""Spark {base} or higher required to run {type} jobs"" msgstr """" ""Spark {base} atau lebih tinggi diperlukan untuk menjalankan jobs {type}"" msgid """" ""This plugin provides an ability to launch Spark on Hadoop CDH cluster "" ""without any management consoles."" msgstr """" ""Plugin ini menyediakan kemampuan untuk meluncurkan Spark pada cluster Hadoop "" ""CDH tanpa konsol manajemen."" #, python-format msgid ""Waiting on %d DataNodes to start up"" msgstr ""Menunggu %d DataNodes untuk memulai"" ",,64,0
openstack%2Fneutron~stable%2Fqueens~Ib84da6296ddf3c95be9e9f370eb574bf92ceec15,openstack/neutron,stable/queens,Ib84da6296ddf3c95be9e9f370eb574bf92ceec15,Avoid unnecessary operation of ovsdb and flows,MERGED,2019-09-24 08:38:25.000000000,2019-10-09 09:38:56.000000000,2019-10-09 09:38:56.000000000,"[{'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28463}]","[{'number': 1, 'created': '2019-09-24 08:38:25.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/71907718674cdba74481690777f5020434016d0c', 'message': ""Avoid unnecessary operation of ovsdb and flows\n\nType of lvm.vlan is int and other_config.get('tag') is a string,\nthey can never be equal. We should do type conversion before\ncomparing to avoid unnecessary operation of ovsdb and flows.\n\nChange-Id: Ib84da6296ddf3c95be9e9f370eb574bf92ceec15\nCloses-Bug: #1843425\n(cherry picked from commit 0550c0e1f66b26e7e947958fdddb60d8f309e76f)\n""}]",0,684242,71907718674cdba74481690777f5020434016d0c,15,8,1,9531,,,0,"Avoid unnecessary operation of ovsdb and flows

Type of lvm.vlan is int and other_config.get('tag') is a string,
they can never be equal. We should do type conversion before
comparing to avoid unnecessary operation of ovsdb and flows.

Change-Id: Ib84da6296ddf3c95be9e9f370eb574bf92ceec15
Closes-Bug: #1843425
(cherry picked from commit 0550c0e1f66b26e7e947958fdddb60d8f309e76f)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/684242/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,71907718674cdba74481690777f5020434016d0c,bug/1843425-stable/queens," lvm.vlan = 1 def test_add_port_tag_info_with_tagged_ports(self): lvm = mock.Mock() lvm.vlan = 1 self.agent.vlan_manager.mapping[""net1""] = lvm ovs_db_list1 = [{'name': 'tap1', 'tag': 1, 'other_config': {'segmentation_id': '1', 'tag': '1'}}] ovs_db_list2 = [{'name': 'tap2', 'tag': 2, 'other_config': {'segmentation_id': '1', 'tag': '1'}}, {'name': 'tap3', 'tag': 1, 'other_config': {'segmentation_id': '2', 'tag': '2'}}] vif_port1 = mock.Mock() vif_port1.port_name = 'tap1' vif_port2 = mock.Mock() vif_port2.port_name = 'tap2' vif_port2.ofport = 7 vif_port3 = mock.Mock() vif_port3.port_name = 'tap3' vif_port3.ofport = 8 port_details1 = [{'network_id': 'net1', 'vif_port': vif_port1}] port_details2 = [{'network_id': 'net1', 'vif_port': vif_port2}, {'network_id': 'net1', 'vif_port': vif_port3}] with mock.patch.object(self.agent, 'int_br') as int_br: int_br.get_ports_attributes.return_value = ovs_db_list1 self.agent._add_port_tag_info(port_details1) int_br.set_db_attribute.assert_not_called() # Reset mock to check port with changed tag int_br.reset_mock() int_br.get_ports_attributes.return_value = ovs_db_list2 self.agent._add_port_tag_info(port_details2) expected_calls = \ [mock.call.set_db_attribute(""Port"", ""tap2"", ""other_config"", {'segmentation_id': '1', 'tag': '1'}), mock.call.uninstall_flows(in_port=7), mock.call.set_db_attribute(""Port"", ""tap3"", ""other_config"", {'segmentation_id': '2', 'tag': '1'}), mock.call.uninstall_flows(in_port=8)] int_br.assert_has_calls(expected_calls) "," lvm.vlan = ""1""",47,3
openstack%2Fsahara-plugin-vanilla~master~Ie31b564993e3cea6ee7bfcde96fbef0862af2985,openstack/sahara-plugin-vanilla,master,Ie31b564993e3cea6ee7bfcde96fbef0862af2985,Imported Translations from Zanata,MERGED,2019-10-09 08:56:38.000000000,2019-10-09 09:38:35.000000000,2019-10-09 09:37:28.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 08:56:38.000000000', 'files': ['sahara_plugin_vanilla/locale/id/LC_MESSAGES/sahara_plugin_vanilla.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-vanilla/commit/8e61e7da95119c41f86fecf17d1a60990f104ae4', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie31b564993e3cea6ee7bfcde96fbef0862af2985\n'}]",0,687500,8e61e7da95119c41f86fecf17d1a60990f104ae4,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie31b564993e3cea6ee7bfcde96fbef0862af2985
",git fetch https://review.opendev.org/openstack/sahara-plugin-vanilla refs/changes/00/687500/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_plugin_vanilla/locale/id/LC_MESSAGES/sahara_plugin_vanilla.po'],1,8e61e7da95119c41f86fecf17d1a60990f104ae4,zanata/translations,"# suhartono <cloudsuhartono@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-vanilla VERSION\n"" ""Report-Msgid-Bugs-To: https://bugs.launchpad.net/openstack-i18n/\n"" ""POT-Creation-Date: 2019-09-30 09:36+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-10-06 03:37+0000\n"" ""Last-Translator: suhartono <cloudsuhartono@gmail.com>\n"" ""Language-Team: Indonesian\n"" ""Language: id\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=1; plural=0\n"" msgid ""0 or 1"" msgstr ""0 atau 1"" #, python-format msgid ""Await %s start up"" msgstr ""Tunggu %s start up (mulai)"" msgid ""Configure instances"" msgstr ""Konfigurasikan instance"" msgid ""Configure topology data"" msgstr ""Konfigurasikan data topologi"" #, python-format msgid ""Decommission %s"" msgstr ""Decommission %s"" msgid ""Number of datanodes must be not less than dfs.replication."" msgstr ""Jumlah datanoda harus tidak kurang dari dfs.replication."" msgid ""Number of zookeeper nodes should be odd."" msgstr ""Jumlah node zookeeper harus ganjil."" #, python-format msgid ""Refresh %s nodes"" msgstr ""Refresh %s nodes"" msgid ""Spark {base} or higher required to run {type} jobs"" msgstr """" ""Spark {base} atau lebih tinggi diperlukan untuk menjalankan jobs {type}"" msgid """" ""The Apache Vanilla plugin provides the ability to launch upstream Vanilla "" ""Apache Hadoop cluster without any management consoles. It can also deploy "" ""the Oozie component."" msgstr """" ""Plugin Apache Vanilla menyediakan kemampuan untuk meluncurkan cluster "" ""Vanilla Apache Hadoop hulu tanpa konsol manajemen. Itu juga dapat "" ""menggunakan komponen Oozie."" #, python-format msgid ""Unable to get parameter '%(name)s' from service %(service)s"" msgstr ""Tidak dapat memperoleh parameter '%(name)s' dari layanan %(service)s"" msgid ""Update include files"" msgstr ""Perbarui menyertakan file"" msgid """" ""Vanilla plugin cannot scale cluster because it must keep zookeeper service "" ""in odd."" msgstr """" ""Plugin vanilla tidak dapat mengukur cluster karena harus menjaga layanan "" ""zookeeper dalam keadaan odd."" msgid """" ""Vanilla plugin cannot scale node group with processes which have no master-"" ""processes run in cluster"" msgstr """" ""Plugin vanilla tidak dapat menskala node group dengan proses yang tidak "" ""memiliki proses master berjalan di cluster"" #, python-format msgid ""Vanilla plugin cannot scale nodegroup with processes: %s"" msgstr ""Plugin vanilla tidak dapat menskala nodegroup dengan proses: %s"" #, python-format msgid """" ""Vanilla plugin cannot shrink cluster because it would be not enough nodes "" ""for replicas (replication factor is %s)"" msgstr """" ""Plugin vanilla tidak dapat mengecilkan cluster karena tidak akan cukup node "" ""untuk replika (faktor replikasi adalah %s)"" msgid ""Wait for decommissioning"" msgstr ""Tunggu pembongkaran (decommissioning)"" #, python-format msgid ""Waiting on %s datanodes to start up"" msgstr ""Menunggu datanodes %s untuk memulai"" msgid ""Waiting on 1 datanodes to start up"" msgstr ""Menunggu 1 datanode untuk memulai"" msgid ""odd"" msgstr ""ganjil"" ",,101,0
openstack%2Fneutron~master~I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48,openstack/neutron,master,I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48,fixed_configured=True when Add/Remove port IPs,MERGED,2019-09-16 21:15:15.000000000,2019-10-09 09:36:26.000000000,2019-10-09 02:18:08.000000000,"[{'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-16 21:15:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d053f02388e5ec520d57b74c8fd1276ee6c15ef', 'message': 'fixed_configured=True when Add/Remove port IPs\n\nWhen updating a port with the fixed_ips request the\nfixed_configured argument should be set to true when\ncalling _ipam_get_subnets() so that all subnets are\nreturned if host is not set.\n\nOtherwise the ip allocation will be deffered and an\nempty list of possible subnets for the port is\nreturned. Which in turn led to raising an error that\nthe network requires subnets to allocate an IP\naddress.\n\nCloses-Bug: #1844124\nChange-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48\n'}, {'number': 2, 'created': '2019-09-18 09:09:09.000000000', 'files': ['releasenotes/notes/fix-update-port-fixed-ips-on-routed-provider-networks-c54a54844d9a3926.yaml', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/def8e95aad1e4588c369d537ee66234245eefdf6', 'message': 'fixed_configured=True when Add/Remove port IPs\n\nWhen updating a port with the fixed_ips request the\nfixed_configured argument should be set to true when\ncalling _ipam_get_subnets() so that all subnets are\nreturned if host is not set.\n\nOtherwise the ip allocation will be deffered and an\nempty list of possible subnets for the port is\nreturned. Which in turn led to raising an error that\nthe network requires subnets to allocate an IP\naddress.\n\nCloses-Bug: #1844124\nChange-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48\n'}]",2,682489,def8e95aad1e4588c369d537ee66234245eefdf6,29,9,2,24245,,,0,"fixed_configured=True when Add/Remove port IPs

When updating a port with the fixed_ips request the
fixed_configured argument should be set to true when
calling _ipam_get_subnets() so that all subnets are
returned if host is not set.

Otherwise the ip allocation will be deffered and an
empty list of possible subnets for the port is
returned. Which in turn led to raising an error that
the network requires subnets to allocate an IP
address.

Closes-Bug: #1844124
Change-Id: I2e690ea0cf5fa0614e39be2b0e83afad3daa7f48
",git fetch https://review.opendev.org/openstack/neutron refs/changes/89/682489/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-update-port-fixed-ips-on-routed-provider-networks-c54a54844d9a3926.yaml', 'neutron/db/ipam_pluggable_backend.py', 'neutron/tests/unit/db/test_ipam_pluggable_backend.py', 'neutron/tests/unit/extensions/test_segment.py']",4,6d053f02388e5ec520d57b74c8fd1276ee6c15ef,bug/1844124," def test_port_update_with_fixed_ips_ok_if_no_binding_host(self): """"""No binding host information is provided, subnets on segments"""""" # The IP is allocated since there is no binding host info any # subnet can be used for allocation. self.assertEqual(webob.exc.HTTPOk.code, response.status_int)"," def test_port_update_excludes_hosts_on_segments(self): """"""No binding information is provided, subnets on segments"""""" # Gets bad request because there are no eligible subnets. self.assertEqual(webob.exc.HTTPBadRequest.code, response.status_int)",15,7
openstack%2Fsahara-plugin-spark~stable%2Ftrain~I0df5fc067eb77b7bbf92f58b254ee5bdeabd25d3,openstack/sahara-plugin-spark,stable/train,I0df5fc067eb77b7bbf92f58b254ee5bdeabd25d3,Imported Translations from Zanata,MERGED,2019-10-09 08:45:10.000000000,2019-10-09 09:35:38.000000000,2019-10-09 09:34:17.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-09 08:45:10.000000000', 'files': ['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'sahara_plugin_spark/locale/id/LC_MESSAGES/sahara_plugin_spark.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-spark/commit/5fa6190700508bb5ec1a9919952db804d2a2a334', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I0df5fc067eb77b7bbf92f58b254ee5bdeabd25d3\n'}]",0,687494,5fa6190700508bb5ec1a9919952db804d2a2a334,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I0df5fc067eb77b7bbf92f58b254ee5bdeabd25d3
",git fetch https://review.opendev.org/openstack/sahara-plugin-spark refs/changes/94/687494/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/de/LC_MESSAGES/releasenotes.po', 'sahara_plugin_spark/locale/id/LC_MESSAGES/sahara_plugin_spark.po', 'releasenotes/source/locale/ne/LC_MESSAGES/releasenotes.po']",3,5fa6190700508bb5ec1a9919952db804d2a2a334,zanata/translations,,"# Surit Aryal <aryalsurit@gmail.com>, 2019. #zanata msgid """" msgstr """" ""Project-Id-Version: sahara-plugin-spark\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2019-07-23 14:26+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2019-08-02 08:15+0000\n"" ""Last-Translator: Surit Aryal <aryalsurit@gmail.com>\n"" ""Language-Team: Nepali\n"" ""Language: ne\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""1.0.0"" msgstr ""१.०.०"" msgid ""Adding abilitiy to create spark images using Sahara Image Pack."" msgstr ""Sahara Image Pack प्रयोग गरेर स्पार्क छविहरू सिर्जना गर्ने क्षमता थप्दै।"" msgid ""Current Series Release Notes"" msgstr ""Current Series रिलीज नोट्स"" msgid ""New Features"" msgstr ""नयाँ सुविधाहरू"" msgid ""Sahara Spark Plugin Release Notes"" msgstr ""Sahara Spark Plugin नोट जारी गर्नुहोस्"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series नोट जारी गर्नुहोस्"" ",64,63
openstack%2Fneutron~master~I0c3a570cbb3fbb03b4224744b32e034e9e255f8e,openstack/neutron,master,I0c3a570cbb3fbb03b4224744b32e034e9e255f8e,ovsdb monitor: handle modified ports,MERGED,2019-09-13 07:53:25.000000000,2019-10-09 09:29:19.000000000,2019-10-09 09:27:47.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8543}, {'_account_id': 9373}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 15752}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-09-13 07:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3612167406a4b4471851a0ca9f6cf5a7718e33e6', 'message': 'ovsdb monitor: handle modified ports\n\nThis patch ensures that the ovsdb monitor propagates the events\nrecevived for modified ports.\n\nTo keep it simple, we\'ll just add changed ports to the ""added"" list,\nforcing the ovs agent to refresh those ports.\n\nIn particular, this will cover the situation in which the ofport\nchanges.\n\nCloses-Bug: #1843870\nCo-authored-by: Alin Serdean <aserdean@cloudbasesolutions.com>\n\nChange-Id: I0c3a570cbb3fbb03b4224744b32e034e9e255f8e\n'}, {'number': 2, 'created': '2019-09-13 09:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a22b0103f2f02bc4934bc7f7e0aebc99d60d727', 'message': 'ovsdb monitor: handle modified ports\n\nThis patch ensures that the ovsdb monitor propagates the events\nrecevived for modified ports.\n\nWe\'ll use a new list for the modified ports, which the neutron ovs\nagent can handle using the same code path as the ""added"" ones.\n\nIn particular, this will cover the situation in which the ofport\nchanges. When using recent OVS Windows versions, VM ofports change\nto -1 (invalid) when the VMs are shut down, receiving a valid\nofport when the VMs are powered back on (different than the initial\none). With this patch applied, ""modify"" events will be propagated\nto the ovs agent, which will then update the OpenFlow rules.\nThe old rules are cleaned up by ""update_stale_ofport_rules"".\n\nCloses-Bug: #1843870\nCo-authored-by: Alin Serdean <aserdean@cloudbasesolutions.com>\n\nChange-Id: I0c3a570cbb3fbb03b4224744b32e034e9e255f8e\n'}, {'number': 3, 'created': '2019-09-16 09:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/327b3c60eedf40a9ca85c734048ee51d5c3e9781', 'message': 'ovsdb monitor: handle modified ports\n\nThis patch ensures that the ovsdb monitor propagates the events\nreceived for modified ports.\n\nWe\'ll use a new list for the modified ports, which the neutron ovs\nagent can handle using the same code path as the ""added"" ones.\n\nIn particular, this will cover the situation in which the ofport\nchanges. When using recent OVS Windows versions, VM ofports change\nto -1 (invalid) when the VMs are shut down, receiving a valid\nofport when the VMs are powered back on (different than the initial\none). With this patch applied, ""modify"" events will be propagated\nto the ovs agent, which will then update the OpenFlow rules.\nThe old rules are cleaned up by ""update_stale_ofport_rules"".\n\nCloses-Bug: #1843870\nCo-authored-by: Alin Serdean <aserdean@cloudbasesolutions.com>\n\nChange-Id: I0c3a570cbb3fbb03b4224744b32e034e9e255f8e\n'}, {'number': 4, 'created': '2019-09-16 09:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/241570c9a710c4000a1576688b806d7b227675f0', 'message': 'ovsdb monitor: handle modified ports\n\nThis patch ensures that the ovsdb monitor propagates the events\nreceived for modified ports.\n\nWe\'ll use a new list for the modified ports, which the neutron ovs\nagent can handle using the same code path as the ""added"" ones.\n\nIn particular, this will cover the situation in which the ofport\nchanges. When using recent OVS Windows versions, VM ofports change\nto -1 (invalid) when the VMs are shut down, receiving a valid\nofport when the VMs are powered back on (different than the initial\none). With this patch applied, ""modify"" events will be propagated\nto the ovs agent, which will then update the OpenFlow rules.\nThe old rules are cleaned up by ""update_stale_ofport_rules""\nonce the invalid ofport is detected.\n\nCloses-Bug: #1843870\nCo-authored-by: Alin Serdean <aserdean@cloudbasesolutions.com>\n\nChange-Id: I0c3a570cbb3fbb03b4224744b32e034e9e255f8e\n'}, {'number': 5, 'created': '2019-09-16 14:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/45fe3e60e7b87d92b778d59339547ff944a948f5', 'message': 'ovsdb monitor: handle modified ports\n\nThis patch ensures that the ovsdb monitor propagates the events\nreceived for modified ports.\n\nWe\'ll use a new list for the modified ports, which the neutron ovs\nagent can handle using the same code path as the ""added"" ones.\n\nIn particular, this will cover the situation in which the ofport\nchanges. When using recent OVS Windows versions, VM ofports change\nto -1 (invalid) when the VMs are shut down, receiving a valid\nofport when the VMs are powered back on (different than the initial\none). With this patch applied, ""modify"" events will be propagated\nto the ovs agent, which will then update the OpenFlow rules.\nThe old rules are cleaned up by ""update_stale_ofport_rules""\nonce the invalid ofport is detected.\n\nCloses-Bug: #1843870\nCo-authored-by: Alin Serdean <aserdean@cloudbasesolutions.com>\n\nChange-Id: I0c3a570cbb3fbb03b4224744b32e034e9e255f8e\n'}, {'number': 6, 'created': '2019-10-03 06:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17900640d2956e269bc30430fa4c11cad2929584', 'message': 'ovsdb monitor: handle modified ports\n\nThis patch ensures that the ovsdb monitor propagates the events\nreceived for modified ports.\n\nWe\'ll use a new list for the modified ports, which the neutron ovs\nagent can handle.\n\nIn particular, this will cover the situation in which the ofport\nchanges. When using recent OVS Windows versions, VM ofports change\nto -1 (invalid) when the VMs are shut down, receiving a valid\nofport when the VMs are powered back on (different than the initial\none). With this patch applied, ""modify"" events will be propagated\nto the ovs agent, which will then update the OpenFlow rules.\nThe old rules are cleaned up by ""update_stale_ofport_rules""\nonce the invalid ofport is detected.\n\nCloses-Bug: #1843870\nCo-authored-by: Alin Serdean <aserdean@cloudbasesolutions.com>\n\nChange-Id: I0c3a570cbb3fbb03b4224744b32e034e9e255f8e\n'}, {'number': 7, 'created': '2019-10-08 07:59:26.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovsdb_monitor.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_ovsdb_handler.py', 'neutron/tests/unit/agent/common/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/451c21571f40ca83eb3189e5c924b03c0561f853', 'message': 'ovsdb monitor: handle modified ports\n\nThis patch ensures that the ovsdb monitor propagates the events\nreceived for modified ports.\n\nWe\'ll use a new list for the modified ports, which the neutron ovs\nagent can handle.\n\nIn particular, this will cover the situation in which the ofport\nchanges. When using recent OVS Windows versions, VM ofports change\nto -1 (invalid) when the VMs are shut down, receiving a valid\nofport when the VMs are powered back on (different than the initial\none). With this patch applied, ""modify"" events will be propagated\nto the ovs agent, which will then update the OpenFlow rules.\nThe old rules are cleaned up by ""update_stale_ofport_rules""\nonce the invalid ofport is detected.\n\nCloses-Bug: #1843870\nCo-authored-by: Alin Serdean <aserdean@cloudbasesolutions.com>\n\nChange-Id: I0c3a570cbb3fbb03b4224744b32e034e9e255f8e\n'}]",14,681984,451c21571f40ca83eb3189e5c924b03c0561f853,57,12,7,8543,,,0,"ovsdb monitor: handle modified ports

This patch ensures that the ovsdb monitor propagates the events
received for modified ports.

We'll use a new list for the modified ports, which the neutron ovs
agent can handle.

In particular, this will cover the situation in which the ofport
changes. When using recent OVS Windows versions, VM ofports change
to -1 (invalid) when the VMs are shut down, receiving a valid
ofport when the VMs are powered back on (different than the initial
one). With this patch applied, ""modify"" events will be propagated
to the ovs agent, which will then update the OpenFlow rules.
The old rules are cleaned up by ""update_stale_ofport_rules""
once the invalid ofport is detected.

Closes-Bug: #1843870
Co-authored-by: Alin Serdean <aserdean@cloudbasesolutions.com>

Change-Id: I0c3a570cbb3fbb03b4224744b32e034e9e255f8e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/681984/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovsdb_monitor.py', 'neutron/tests/unit/agent/common/test_ovsdb_monitor.py']",2,3612167406a4b4471851a0ca9f6cf5a7718e33e6,bug/1843870,"from oslo_serialization import jsonutils def _get_event(self, ovs_id='e040fbec-0579-4990-8324-d338da33ae88', action=""insert"", name=""fake_dev"", ofport=10, external_ids=None, as_string=True): event = {""data"": [[ovs_id, action, name, [""set"", [ofport]], [""map"", external_ids or []]]]} if as_string: event = jsonutils.dumps(event) return event def process_event_unassigned_of_port(self): output = self._get_event() def test_process_changed_of_port(self): event0 = self._get_event(action=""old"", ofport=-1) event1 = self._get_event(action=""new"", ofport=10) expected_dev = { 'name': 'fake_dev', 'ofport': [10], 'external_ids': {} } with mock.patch.object( self.monitor, 'iter_stdout', return_value=[event0, event1]): self.monitor.process_events() self.assertIn(expected_dev, self.monitor.new_events['added'])"," def process_event_unassigned_of_port(self): output = '{""data"":[[""e040fbec-0579-4990-8324-d338da33ae88"",""insert"",' output += '""m50"",[""set"",[]],[""map"",[]]]],""headings"":[""row"",""action"",' output += '""name"",""ofport"",""external_ids""]}'",28,3
openstack%2Fmanila~master~I49daa8de294feafff2ada8a6eafece692499f540,openstack/manila,master,I49daa8de294feafff2ada8a6eafece692499f540,Enable glusterfs-native ci,ABANDONED,2019-10-08 07:22:38.000000000,2019-10-09 09:26:24.000000000,,"[{'_account_id': 12016}, {'_account_id': 15386}, {'_account_id': 15831}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 30722}]","[{'number': 1, 'created': '2019-10-08 07:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b5e1484018c5295dce0d22775dfbbad35b2ead57', 'message': 'Enable glusterfs-native ci\n\nDepends-On: https://review.opendev.org/#/c/687222/\nDepends-On: https://review.opendev.org/#/c/687223/\nChange-Id: I49daa8de294feafff2ada8a6eafece692499f540\n'}, {'number': 2, 'created': '2019-10-08 13:02:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0899772b147f96120c5ed495adce31bec631dac2', 'message': 'Enable glusterfs-native ci\n\nDepends-On: https://review.opendev.org/#/c/687222/\nDepends-On: https://review.opendev.org/#/c/687223/\nChange-Id: I49daa8de294feafff2ada8a6eafece692499f540\n'}, {'number': 3, 'created': '2019-10-08 14:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a09bec9efa5c8f801b38cb6c9aed133be8831083', 'message': 'Enable glusterfs-native ci\n\nDepends-On: https://review.opendev.org/#/c/687222/\nDepends-On: https://review.opendev.org/#/c/687223/\nDepends-On: https://review.opendev.org/#/c/687318/\nChange-Id: I49daa8de294feafff2ada8a6eafece692499f540\n'}, {'number': 4, 'created': '2019-10-08 16:48:22.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/eadf0e6c1f6dacd9ad168002534b75714eb73bc4', 'message': 'Enable glusterfs-native ci\n\nDepends-On: https://review.opendev.org/#/c/687222/\nDepends-On: https://review.opendev.org/#/c/687318/\nChange-Id: I49daa8de294feafff2ada8a6eafece692499f540\n'}]",0,687224,eadf0e6c1f6dacd9ad168002534b75714eb73bc4,29,7,4,30722,,,0,"Enable glusterfs-native ci

Depends-On: https://review.opendev.org/#/c/687222/
Depends-On: https://review.opendev.org/#/c/687318/
Change-Id: I49daa8de294feafff2ada8a6eafece692499f540
",git fetch https://review.opendev.org/openstack/manila refs/changes/24/687224/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b5e1484018c5295dce0d22775dfbbad35b2ead57,, - manila-tempest-dsvm-glusterfs-native: voting: false, - manila-tempest-dsvm-glusterfs-native,2,1
openstack%2Fmistral~stable%2Ftrain~Ic8609e55930e2ed13653e79e8ca7a31c951d9030,openstack/mistral,stable/train,Ic8609e55930e2ed13653e79e8ca7a31c951d9030,"Fix ""root_execution"" lazy loading issue and refactor execution.py",MERGED,2019-10-03 08:26:41.000000000,2019-10-09 09:25:08.000000000,2019-10-09 09:22:58.000000000,"[{'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 22348}, {'_account_id': 29124}]","[{'number': 1, 'created': '2019-10-03 08:26:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/5f1d28fd73236388f7abdf7474ab19a186bde306', 'message': 'Fix ""root_execution"" lazy loading issue and refactor execution.py\n\n* There\'s an issue with lazyly loaded field of WorkflowExecution\n  model occuring on GET /v2/execution/<id> because the logic\n  that calculates ""published_global"" of the execution rest resource\n  hits ""root_execution"" field out of transaction scope indirectly\n  within the ""data_flow.get_workflow_environment_dict"" method.\n  This patch makes refactoring of this logic and calculates\n  globally published variables of the workflow execution simply\n  as its context that doesn\'t contain all internal data like\n  ""__execution"" and ""openstack"".\n* Other style change.\n\nCloses-Bug: #1846152\nChange-Id: Ic8609e55930e2ed13653e79e8ca7a31c951d9030\n'}, {'number': 2, 'created': '2019-10-08 03:40:25.000000000', 'files': ['mistral/workflow/data_flow.py', 'mistral/engine/workflows.py', 'mistral/api/controllers/v2/execution.py', 'mistral/api/controllers/v2/task.py', 'mistral/tests/unit/api/v2/test_global_publish.py', 'mistral/tests/unit/api/v2/test_executions.py', 'mistral/tests/unit/engine/test_dataflow.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/33d4a8bba35d79e8216d5babce48bbd04acfdfbd', 'message': 'Fix ""root_execution"" lazy loading issue and refactor execution.py\n\n* There\'s an issue with lazyly loaded field of WorkflowExecution\n  model occuring on GET /v2/execution/<id> because the logic\n  that calculates ""published_global"" of the execution rest resource\n  hits ""root_execution"" field out of transaction scope indirectly\n  within the ""data_flow.get_workflow_environment_dict"" method.\n  This patch makes refactoring of this logic and calculates\n  globally published variables of the workflow execution simply\n  as its context that doesn\'t contain all internal data like\n  ""__execution"" and ""openstack"".\n* Other style change.\n\nCloses-Bug: #1846152\nChange-Id: Ic8609e55930e2ed13653e79e8ca7a31c951d9030\n'}]",0,686349,33d4a8bba35d79e8216d5babce48bbd04acfdfbd,19,4,2,8731,,,0,"Fix ""root_execution"" lazy loading issue and refactor execution.py

* There's an issue with lazyly loaded field of WorkflowExecution
  model occuring on GET /v2/execution/<id> because the logic
  that calculates ""published_global"" of the execution rest resource
  hits ""root_execution"" field out of transaction scope indirectly
  within the ""data_flow.get_workflow_environment_dict"" method.
  This patch makes refactoring of this logic and calculates
  globally published variables of the workflow execution simply
  as its context that doesn't contain all internal data like
  ""__execution"" and ""openstack"".
* Other style change.

Closes-Bug: #1846152
Change-Id: Ic8609e55930e2ed13653e79e8ca7a31c951d9030
",git fetch https://review.opendev.org/openstack/mistral refs/changes/49/686349/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/workflow/data_flow.py', 'mistral/engine/workflows.py', 'mistral/api/controllers/v2/execution.py', 'mistral/api/controllers/v2/task.py', 'mistral/tests/unit/api/v2/test_executions.py', 'mistral/tests/unit/api/v2/test_global_publish.py', 'mistral/tests/unit/engine/test_dataflow.py']",7,5f1d28fd73236388f7abdf7474ab19a186bde306,bug/1846152-stable/train," def test_get_published_global(self): wf_text = """"""--- version: '2.0' wf: vars: var1: 1 var2: 2 tasks: task1: action: std.noop on-success: publish: global: global_var1: Global value 1 global_var2: Global value 2 """""" wf_service.create_workflows(wf_text) wf_ex = self.engine.start_workflow('wf') self.await_workflow_success(wf_ex.id) with db_api.transaction(): # Note: We need to reread execution to access related tasks. wf_ex = db_api.get_workflow_execution(wf_ex.id) published_global = ( data_flow.get_workflow_execution_published_global(wf_ex) ) self.assertDictEqual( { 'global_var1': 'Global value 1', 'global_var2': 'Global value 2' }, published_global ) ",,120,49
openstack%2Ftrove~master~If0991e0cef40ca78752fcd509d8438e90c9557bc,openstack/trove,master,If0991e0cef40ca78752fcd509d8438e90c9557bc,Remove all the resources when the Nova VM creation failed,MERGED,2019-10-07 02:16:33.000000000,2019-10-09 09:21:23.000000000,2019-10-09 04:16:26.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-07 02:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/517549b0005d6a337465706006a638a0be9a58d5', 'message': 'Remove all the resources when the Nova VM creation failed\n\nBackport candidate for stable/train\n\nStory: 2006664\nTask:  36926\n\nChange-Id: If0991e0cef40ca78752fcd509d8438e90c9557bc\n'}, {'number': 2, 'created': '2019-10-07 09:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a5772f83a0f0c53e170cf13af7d4b87a4a377ea0', 'message': 'Remove all the resources when the Nova VM creation failed\n\nBackport candidate for stable/train\n\nStory: 2006664\nTask:  36926\n\nChange-Id: If0991e0cef40ca78752fcd509d8438e90c9557bc\n'}, {'number': 3, 'created': '2019-10-08 23:04:12.000000000', 'files': ['trove/tests/util/__init__.py', 'trove/tests/api/mgmt/datastore_versions.py', 'trove/tests/scenario/runners/instance_error_create_runners.py', 'trove/instance/models.py', 'trove/common/notification.py', 'trove/taskmanager/models.py', 'integration/scripts/conf/test_begin.conf', 'trove/common/strategies/cluster/experimental/cassandra/api.py', 'trove/tests/scenario/runners/test_runners.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/650794eaf9f328bd1b2fc096992e6190a9d79c87', 'message': 'Remove all the resources when the Nova VM creation failed\n\nBackport candidate for stable/train\n\nStory: 2006664\nTask:  36926\n\nChange-Id: If0991e0cef40ca78752fcd509d8438e90c9557bc\n'}]",0,686955,650794eaf9f328bd1b2fc096992e6190a9d79c87,24,2,3,6732,,,0,"Remove all the resources when the Nova VM creation failed

Backport candidate for stable/train

Story: 2006664
Task:  36926

Change-Id: If0991e0cef40ca78752fcd509d8438e90c9557bc
",git fetch https://review.opendev.org/openstack/trove refs/changes/55/686955/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/tests/util/__init__.py', 'trove/tests/api/mgmt/datastore_versions.py', 'trove/tests/scenario/runners/instance_error_create_runners.py', 'trove/instance/models.py', 'trove/common/notification.py', 'trove/taskmanager/models.py', 'integration/scripts/conf/test_begin.conf', 'trove/tests/scenario/runners/test_runners.py']",8,517549b0005d6a337465706006a638a0be9a58d5,fix-port-left,"from trove.tests import util as test_util self._neutron_client = None authurl=CONFIG.auth_url, if self._nova_client is None: self._nova_client = test_util.create_nova_client( self.instance_info.admin_user ) return self._nova_client @property def neutron_client(self): if self._neutron_client is None: self._neutron_client = test_util.create_neutron_client( self.instance_info.admin_user ) return self._neutron_client","from trove.tests.util import create_nova_client authurl=CONFIG.nova_client['auth_url'], return create_nova_client(self.instance_info.admin_user)",252,226
