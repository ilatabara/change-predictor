id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcharm-ironic-api~stable%2Fvictoria~Ic84e4706b93c38916e89b91dfc30bf32396e5213,openstack/charm-ironic-api,stable/victoria,Ic84e4706b93c38916e89b91dfc30bf32396e5213,Add support for using service tokens,MERGED,2023-06-30 17:21:50.000000000,2023-07-04 07:41:37.000000000,2023-07-04 07:41:37.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2023-06-30 17:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/b4b17450e867823a55fcd959e0c883cab20bc31f', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/yoga\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n(cherry picked from commit fca337274407d8c145c33fe5ce4805497878eb04)\n'}, {'number': 2, 'created': '2023-06-30 17:23:22.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/c21d3e3c51ad16e5c732e98dbd5ce56885496a1f', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/victoria\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n(cherry picked from commit fca337274407d8c145c33fe5ce4805497878eb04)\n'}]",0,887420,c21d3e3c51ad16e5c732e98dbd5ce56885496a1f,10,5,2,11805,,,0,"Add support for using service tokens

This patch configures ironic-api to send a service token along with the
received user token on requests to other services. This allow those
other services to accept the request even if the user token has been
invalidated since received by Ironic. Also with this patch Ironic will
accept request from other services with invalid user tokens but valid
service tokens.

Update src/build.lock to get backported patches into
charm-helpers@stable/victoria

Closes-Bug: #1992840
Change-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213
(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)
(cherry picked from commit fca337274407d8c145c33fe5ce4805497878eb04)
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/20/887420/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken', 'src/build.lock']",3,b4b17450e867823a55fcd959e0c883cab20bc31f,bug/1992840," ""version"": ""7d2e709dc443b24177db524eb6b0c44639532479"",} "," ""version"": ""df2e33ed634200de1d02d7e5f1baaf80f22a6315"",}",6,2
openstack%2Fcharm-ironic-api~stable%2Fxena~Ic84e4706b93c38916e89b91dfc30bf32396e5213,openstack/charm-ironic-api,stable/xena,Ic84e4706b93c38916e89b91dfc30bf32396e5213,Add support for using service tokens,MERGED,2023-06-30 17:19:44.000000000,2023-07-04 07:37:56.000000000,2023-07-04 07:37:56.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2023-06-30 17:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/9354bf7ac5080e78006766e7406aa6e484f8414d', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/yoga\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n(cherry picked from commit fca337274407d8c145c33fe5ce4805497878eb04)\n'}, {'number': 2, 'created': '2023-06-30 17:23:46.000000000', 'files': ['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken', 'src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/f79ed8c06e01920a601f354ec5f3d5d269d2631a', 'message': 'Add support for using service tokens\n\nThis patch configures ironic-api to send a service token along with the\nreceived user token on requests to other services. This allow those\nother services to accept the request even if the user token has been\ninvalidated since received by Ironic. Also with this patch Ironic will\naccept request from other services with invalid user tokens but valid\nservice tokens.\n\nUpdate src/build.lock to get backported patches into\ncharm-helpers@stable/xena\n\nCloses-Bug: #1992840\nChange-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213\n(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)\n(cherry picked from commit fca337274407d8c145c33fe5ce4805497878eb04)\n'}]",0,887418,f79ed8c06e01920a601f354ec5f3d5d269d2631a,10,5,2,11805,,,0,"Add support for using service tokens

This patch configures ironic-api to send a service token along with the
received user token on requests to other services. This allow those
other services to accept the request even if the user token has been
invalidated since received by Ironic. Also with this patch Ironic will
accept request from other services with invalid user tokens but valid
service tokens.

Update src/build.lock to get backported patches into
charm-helpers@stable/xena

Closes-Bug: #1992840
Change-Id: Ic84e4706b93c38916e89b91dfc30bf32396e5213
(cherry picked from commit 02b7180a6b9cd9c22c4b672ae8510ea14af5e0df)
(cherry picked from commit fca337274407d8c145c33fe5ce4805497878eb04)
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/18/887418/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/templates/train/ironic.conf', 'src/templates/parts/keystone-authtoken', 'src/build.lock']",3,9354bf7ac5080e78006766e7406aa6e484f8414d,bug/1992840," ""version"": ""5f8dacee1a7583d3927d39887bd5460ff2e2f812"",} "," ""version"": ""63229d2ba725e773d9a0dfc97f10643b89a7f7ac"",}",6,2
openstack%2Fcharm-nova-cloud-controller~stable%2Fussuri~I95021600da8af12cb75ef5681fb5af8780ade4f8,openstack/charm-nova-cloud-controller,stable/ussuri,I95021600da8af12cb75ef5681fb5af8780ade4f8,Add support for using service tokens,MERGED,2023-06-29 19:14:29.000000000,2023-07-04 07:35:57.000000000,2023-07-04 07:35:57.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2023-06-29 19:14:29.000000000', 'files': ['templates/train/nova.conf', 'templates/pike/nova.conf', 'templates/rocky/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/2ddbeca17b4477677f4b545584466132391528b4', 'message': 'Add support for using service tokens\n\nThis patch configures nova-cloud-controller to send a service token\nalong with the received user token on requests sent to other services.\nThis allows those other services to accept the request even if the user\ntoken has been invalidated since received by the nova services running\nin nova-cloud-controller units, the same applies for incoming requests\nfrom other services. Service tokens exist since Openstack Queens.\n\nChange-Id: I95021600da8af12cb75ef5681fb5af8780ade4f8\nCloses-Bug: #1992840\n(cherry picked from commit fd810f9afd92904cd66544c00610f830fd337299)\n(cherry picked from commit 98b637d8e9d9df19cd001e582f846e2046fba1bd)\n'}]",0,887330,2ddbeca17b4477677f4b545584466132391528b4,9,5,1,11805,,,0,"Add support for using service tokens

This patch configures nova-cloud-controller to send a service token
along with the received user token on requests sent to other services.
This allows those other services to accept the request even if the user
token has been invalidated since received by the nova services running
in nova-cloud-controller units, the same applies for incoming requests
from other services. Service tokens exist since Openstack Queens.

Change-Id: I95021600da8af12cb75ef5681fb5af8780ade4f8
Closes-Bug: #1992840
(cherry picked from commit fd810f9afd92904cd66544c00610f830fd337299)
(cherry picked from commit 98b637d8e9d9df19cd001e582f846e2046fba1bd)
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/30/887330/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/train/nova.conf', 'templates/pike/nova.conf', 'templates/rocky/nova.conf']",3,2ddbeca17b4477677f4b545584466132391528b4,bug/1992840,"{% include ""section-service-user"" %} ",,6,0
openstack%2Fcharm-nova-cloud-controller~stable%2Fussuri~I87be9d705d5a72f931c6b0d28323bbe13f37d70b,openstack/charm-nova-cloud-controller,stable/ussuri,I87be9d705d5a72f931c6b0d28323bbe13f37d70b,charm-helpers sync,MERGED,2023-06-29 18:59:12.000000000,2023-07-04 07:35:56.000000000,2023-07-04 07:35:56.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2023-06-29 18:59:12.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/21509be0ed77826359887363e0c9ab04ecef277e', 'message': 'charm-helpers sync\n\nSynchronize charm-helpers to get service token related patches.\n\nRelated-Bug: #1992840\nChange-Id: I87be9d705d5a72f931c6b0d28323bbe13f37d70b\n'}]",1,887316,21509be0ed77826359887363e0c9ab04ecef277e,11,5,1,11805,,,0,"charm-helpers sync

Synchronize charm-helpers to get service token related patches.

Related-Bug: #1992840
Change-Id: I87be9d705d5a72f931c6b0d28323bbe13f37d70b
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/16/887316/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ssh_migrations.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/templates/section-service-user', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/cert_utils.py', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",11,21509be0ed77826359887363e0c9ab04ecef277e,bug/1992840,service_token_roles = {{ admin_role }} service_token_roles_required = True,,56,10
openstack%2Ftrove~master~I548eb43a3d5adbd84957b6b92d4b172bfdfb80a8,openstack/trove,master,I548eb43a3d5adbd84957b6b92d4b172bfdfb80a8,mysql: explicitly use utf8mb3,MERGED,2023-04-07 14:28:06.000000000,2023-07-04 04:57:17.000000000,2023-07-04 04:56:11.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2023-04-07 14:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a8c629bd20d47dad71334e67e7001f3515997344', 'message': ""mysql: explicitly use utf8mb3\n\nthis fixes mysql v8.x.\nin mysql 8.0+ utf8mb3 is deprecated and utf8 alias doesn't work.\n\nChange-Id: I548eb43a3d5adbd84957b6b92d4b172bfdfb80a8\n""}, {'number': 2, 'created': '2023-06-29 08:21:52.000000000', 'files': ['releasenotes/notes/mysql8-6a81a8498ee2c229.yaml', 'api-ref/source/samples/databases-create-request.json', 'trove/tests/api/instances.py', 'trove/common/db/mysql/data.py', 'api-ref/source/samples/instance-create-request.json', 'trove/common/db/mysql/models.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/3ba1f0d955a446d96784e87411b38993e9ed7402', 'message': ""mysql: explicitly use utf8mb3\n\nthis fixes mysql v8.x.\nin mysql 8.0+ utf8mb3 is deprecated and utf8 alias doesn't work.\n\nChange-Id: I548eb43a3d5adbd84957b6b92d4b172bfdfb80a8\n""}]",1,879896,3ba1f0d955a446d96784e87411b38993e9ed7402,13,3,2,35169,,,0,"mysql: explicitly use utf8mb3

this fixes mysql v8.x.
in mysql 8.0+ utf8mb3 is deprecated and utf8 alias doesn't work.

Change-Id: I548eb43a3d5adbd84957b6b92d4b172bfdfb80a8
",git fetch https://review.opendev.org/openstack/trove refs/changes/96/879896/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/mysql8-6a81a8498ee2c229.yaml', 'api-ref/source/samples/databases-create-request.json', 'trove/tests/api/instances.py', 'trove/common/db/mysql/data.py', 'api-ref/source/samples/instance-create-request.json', 'trove/common/db/mysql/models.py']",6,a8c629bd20d47dad71334e67e7001f3515997344,mysql-8," __charset__ = ""utf8mb3"" __collation__ = ""utf8mb3_general_ci"""," __charset__ = ""utf8"" __collation__ = ""utf8_general_ci""",12,8
openstack%2Fcinder~master~I5405790c7cd4ca513ceea70380be723a54c3fe3c,openstack/cinder,master,I5405790c7cd4ca513ceea70380be723a54c3fe3c,Hitachi: Fix exception when deleted volume is busy,NEW,2023-06-20 10:26:55.000000000,2023-07-04 02:47:06.000000000,,"[{'_account_id': 32074}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-06-20 10:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/371464b059c33db304752b74f3b0492f98b981b1', 'message': 'Hitachi: Fix exception when deleted volume is busy\n\nThis patch is to fix an exception name when deleted volume is busy\nin delete_volume().\nAlthough exception ``VolumeIsBusy`` should be issued in that case,\n``VolumeDriverException`` is issued. It should be fixed.\n\nCloses-Bug: #2024418\nChange-Id: I5405790c7cd4ca513ceea70380be723a54c3fe3c\n'}, {'number': 2, 'created': '2023-06-28 08:17:39.000000000', 'files': ['cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_mirror_fc.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'releasenotes/notes/hitachi-vsp-fix-except-in-del-vol-ca8b4c5d40d69531.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1ed0de6e33ecf4e097c3b801617a6c46443d0db', 'message': 'Hitachi: Fix exception when deleted volume is busy\n\nThis patch is to fix an exception name when deleted volume is busy\nin delete_volume().\nAlthough exception ``VolumeIsBusy`` should be issued in that case,\n``VolumeDriverException`` is issued. It should be fixed.\n\nCloses-Bug: #2024418\nChange-Id: I5405790c7cd4ca513ceea70380be723a54c3fe3c\n'}]",9,885986,b1ed0de6e33ecf4e097c3b801617a6c46443d0db,40,2,2,33473,,,0,"Hitachi: Fix exception when deleted volume is busy

This patch is to fix an exception name when deleted volume is busy
in delete_volume().
Although exception ``VolumeIsBusy`` should be issued in that case,
``VolumeDriverException`` is issued. It should be fixed.

Closes-Bug: #2024418
Change-Id: I5405790c7cd4ca513ceea70380be723a54c3fe3c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/885986/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_mirror_fc.py', 'cinder/tests/unit/volume/drivers/hitachi/test_hitachi_hbsd_rest_fc.py', 'cinder/volume/drivers/hitachi/hbsd_common.py', 'releasenotes/notes/hitachi-vsp-fix-except-in-del-vol-ca8b4c5d40d69531.yaml']",4,371464b059c33db304752b74f3b0492f98b981b1,fix_except_delvol,fixes: - | <https://bugs.launchpad.net/cinder/+bug/2024418>`_: Fixed exception name when volume is busy in delete_volume(). ,,102,18
openstack%2Ftrove~stable%2Fwallaby~I73ec6c659d8ad7216460055077737429c878df33,openstack/trove,stable/wallaby,I73ec6c659d8ad7216460055077737429c878df33,"Fix ""create database"" failed for postgress",MERGED,2023-06-26 05:52:53.000000000,2023-07-04 02:21:49.000000000,2023-07-04 02:20:23.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-26 05:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a8a9342c7b0f6a08722c879c3487614fd2e1612d', 'message': 'Fix ""create database"" failed for postgress\n\nThis PR stops using the psycopg2’s connections context manager\nbecause ""CREATE DATABASE"" command must be run outside any\ntransaction[1].\n[1]: https://www.psycopg.org/docs/usage.html#transactions-control\n\nCo-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>\nCo-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>\n\nStory: 2010761\nTask: 48059\nChange-Id: I73ec6c659d8ad7216460055077737429c878df33\n(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)\n'}, {'number': 2, 'created': '2023-06-30 01:35:55.000000000', 'files': ['trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/fix-postgress-create-database-75fbe03e3b4e296d.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/bd4e97b4d71d18e76e25ad58b31219ebf1236e50', 'message': 'Fix ""create database"" failed for postgress\n\nThis PR stops using the psycopg2’s connections context manager\nbecause ""CREATE DATABASE"" command must be run outside any\ntransaction[1].\n[1]: https://www.psycopg.org/docs/usage.html#transactions-control\n\nCo-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>\nCo-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>\n\nStory: 2010761\nTask: 48059\nChange-Id: I73ec6c659d8ad7216460055077737429c878df33\n(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)\n'}]",0,886950,bd4e97b4d71d18e76e25ad58b31219ebf1236e50,9,2,2,26285,,,0,"Fix ""create database"" failed for postgress

This PR stops using the psycopg2’s connections context manager
because ""CREATE DATABASE"" command must be run outside any
transaction[1].
[1]: https://www.psycopg.org/docs/usage.html#transactions-control

Co-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>
Co-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>

Story: 2010761
Task: 48059
Change-Id: I73ec6c659d8ad7216460055077737429c878df33
(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)
",git fetch https://review.opendev.org/openstack/trove refs/changes/50/886950/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/fix-postgress-create-database-75fbe03e3b4e296d.yaml']",2,a8a9342c7b0f6a08722c879c3487614fd2e1612d,fix-postgress-create-database-stable/zed-stable/yoga-stable/xena-stable/wallaby,"--- fixes: - | Fix guest-agent failed to start postgres container due to execution of the ""CREATE DATABASE"" statement within the context manager of psycopg library. See the following for details `Stroy 2010761 <https://storyboard.openstack.org/#!/story/2010761>`__ ",,13,2
openstack%2Fcinder~master~Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54,openstack/cinder,master,Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54,Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak,NEW,2023-04-20 17:12:24.000000000,2023-07-04 02:06:22.000000000,,"[{'_account_id': 4523}, {'_account_id': 9236}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-20 17:12:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d62b9c6f7daaddb84e46d254e80ab551537cc387', 'message': 'Zuul: Job For LVM + Ceph With c-bak Enabled\n\nThis patch adds a non-voting job to test backup and multibackend\nfeatures, such as restoring backups from different volume types.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 2, 'created': '2023-04-21 10:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8d668027b91752bf7af5011e35a0e8a9ab72a615', 'message': 'Zuul: Job For LVM + Ceph With c-bak Enabled\n\nThis patch adds a non-voting job to test backup and multibackend\nfeatures, such as restoring backups from different volume types.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 3, 'created': '2023-04-26 11:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b09fb253837cceb2418a386fcb354a94ede9c6bf', 'message': 'Zuul: Job For LVM + Ceph With c-bak Enabled\n\nThis patch adds a non-voting job to test backup and multibackend\nfeatures, such as restoring backups from different volume types.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 4, 'created': '2023-05-15 12:57:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a46ebb751d4bd5211c7b4b98814e288abc511af', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 5, 'created': '2023-06-15 11:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b1e35001c618f7d365b9ebacdfd5b4b47e1b24e1', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 6, 'created': '2023-06-15 17:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d3a210f792aff102a3daa131f3e5793f52f77c00', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 7, 'created': '2023-06-16 08:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fd7e3948e3103aa169739b4f0ddf2704e936d730', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 8, 'created': '2023-06-16 12:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/53360ea56d4334412edcb1c9d81d029df17bfa41', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 9, 'created': '2023-06-16 18:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0b9ae66898bc3f9487c6cf9cd51b7dbdabc97288', 'message': 'DNM: Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 10, 'created': '2023-06-20 17:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7a42f1852356832ead3bc087621ede323ca9b18', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 11, 'created': '2023-06-20 17:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e62bed3ece9a356d6884bd9f0298c80ae672555c', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 12, 'created': '2023-06-23 14:48:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/134c62f20545206691c3b75e1de6bf53ff7c689a', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 13, 'created': '2023-06-27 13:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4338ec07f7808c28116763f451841da714b1ff87', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 14, 'created': '2023-06-28 10:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/77d3bf8ee47f8659eab0fd23fb23012e485832b9', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}, {'number': 15, 'created': '2023-06-28 10:39:27.000000000', 'files': ['periodic_job_ceph_multibackend_cbak_job_include_list.txt', '.zuul.yaml', 'periodic_job_ceph_multibackend_cbak_job_skiplist.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/77d6d9c6f05c9eff139634334537d9b906eb7097', 'message': 'Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak\n\nThis patch adds a periodic job to test restoring backups.\n\nDepends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f\nChange-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54\n'}]",11,881032,77d6d9c6f05c9eff139634334537d9b906eb7097,223,4,15,20813,,,0,"Zuul: Adding Periodic Job with LVM c-vol and Ceph c-bak

This patch adds a periodic job to test restoring backups.

Depends-On: Iff8e1e90ab3c7b519819577ec3aafff838e6934f
Change-Id: Ibf2b50a23bff926a21c07ba2cc00ed16d956cf54
",git fetch https://review.opendev.org/openstack/cinder refs/changes/32/881032/9 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_skiplist.txt', '.zuul.yaml']",2,d62b9c6f7daaddb84e46d254e80ab551537cc387,rbd-backup-restore," - cinder-tempest-ceph-multibackend-cbak: voting: false irrelevant-files: *gate-irrelevant-files tempest_test_blacklist: '{{ ansible_user_dir }}/{{ zuul.projects[""opendev.org/openstack/cinder""].src_dir }}/tempest_skiplist.txt' name: cinder-tempest-ceph-multibackend-cbak parent: cinder-plugin-ceph-tempest description: | Cinder tempest job based on RBD and LVM for volume backends and RBD for c-bak. vars: devstack_services: c-bak: true devstack_localrc: CINDER_ENABLED_BACKENDS: 'lvm:lvm,ceph:ceph' CINDER_BACKUP_DRIVER: ceph - job:",,22,0
openstack%2Ftacker~master~Ibdd4471bdf354d69b5c064b83caf0b052a2d3d0a,openstack/tacker,master,Ibdd4471bdf354d69b5c064b83caf0b052a2d3d0a,Fix delete PM threshold API not returning 404,MERGED,2023-06-16 07:31:10.000000000,2023-07-04 01:19:15.000000000,2023-07-04 01:18:06.000000000,"[{'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 32707}, {'_account_id': 34712}, {'_account_id': 35978}]","[{'number': 1, 'created': '2023-06-16 07:31:10.000000000', 'files': ['tacker/tests/unit/sol_refactored/controller/test_vnfpm_v2.py', 'tacker/sol_refactored/controller/vnfpm_v2.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/94b2532978a8eb49c6909cc3e2382f4dc7c86b4c', 'message': 'Fix delete PM threshold API not returning 404\n\nWhen specifying a non-existing threshold id, the delete PM\nthreshold API returns httpcode 500.\nThis patch changes 500 to 404.\n\nCloses-Bug: #2023357\nChange-Id: Ibdd4471bdf354d69b5c064b83caf0b052a2d3d0a\n'}]",3,886246,94b2532978a8eb49c6909cc3e2382f4dc7c86b4c,12,6,1,33492,,,0,"Fix delete PM threshold API not returning 404

When specifying a non-existing threshold id, the delete PM
threshold API returns httpcode 500.
This patch changes 500 to 404.

Closes-Bug: #2023357
Change-Id: Ibdd4471bdf354d69b5c064b83caf0b052a2d3d0a
",git fetch https://review.opendev.org/openstack/tacker refs/changes/46/886246/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/unit/sol_refactored/controller/test_vnfpm_v2.py', 'tacker/sol_refactored/controller/vnfpm_v2.py']",2,94b2532978a8eb49c6909cc3e2382f4dc7c86b4c,bug/2023357, raise sol_ex.PMThresholdNotExist(threshold_id=thresholdId), raise sol_ex.PMThresholdNotExist(thresholdId=thresholdId),33,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~I258ba5ca0526cb34fe267bd9b89af2763f7822fe,openstack/python-tripleoclient,stable/wallaby,I258ba5ca0526cb34fe267bd9b89af2763f7822fe,Increase retry time to ephemeral Heat message queue,NEW,2023-06-08 11:02:17.000000000,2023-07-04 00:22:47.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-06-08 11:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8564f839dba352dc074ffcbc3ff00ebf1afd79ef', 'message': 'Increase retry time to ephemeral Heat message queue\n\nWait for a total of 60s, with retries every 1s. The previous settings\nwere too aggressive and did not wait long enough in some environments.\nRemoves the stop_after_attempt call as well since it can conflict with\nwhat is set for stop_after_delay, and we want to wait the full 60s.\n\nChange-Id: I258ba5ca0526cb34fe267bd9b89af2763f7822fe\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}, {'number': 2, 'created': '2023-06-09 02:02:54.000000000', 'files': ['tripleoclient/heat_launcher.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0f18326cbdfcb603cd32ea442eeb550ed1dec8d4', 'message': 'Increase retry time to ephemeral Heat message queue\n\nWait for a total of 60s, with retries every 1s. The previous settings\nwere too aggressive and did not wait long enough in some environments.\nRemoves the stop_after_attempt call as well since it can conflict with\nwhat is set for stop_after_delay, and we want to wait the full 60s.\n\nChange-Id: I258ba5ca0526cb34fe267bd9b89af2763f7822fe\nSigned-off-by: James Slagle <jslagle@redhat.com>\n'}]",3,885580,0f18326cbdfcb603cd32ea442eeb550ed1dec8d4,7,3,2,7144,,,0,"Increase retry time to ephemeral Heat message queue

Wait for a total of 60s, with retries every 1s. The previous settings
were too aggressive and did not wait long enough in some environments.
Removes the stop_after_attempt call as well since it can conflict with
what is set for stop_after_delay, and we want to wait the full 60s.

Change-Id: I258ba5ca0526cb34fe267bd9b89af2763f7822fe
Signed-off-by: James Slagle <jslagle@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/80/885580/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/heat_launcher.py'],1,8564f839dba352dc074ffcbc3ff00ebf1afd79ef,," stop=stop_after_delay(60), wait=wait_fixed(1))"," stop=(stop_after_delay(10) | stop_after_attempt(10)), wait=wait_fixed(0.5))",2,2
openstack%2Fkolla-ansible~stable%2Fyoga~Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7,openstack/kolla-ansible,stable/yoga,Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7,Add keystone_authtoken.service_type,MERGED,2023-06-19 06:57:21.000000000,2023-07-04 00:22:12.000000000,2023-07-04 00:21:08.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-19 06:57:21.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'releasenotes/notes/fix-app-cred-access-rules-14b5dcfcd5a5669a.yaml', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e885a17d36da3503d2eec040a2d5b232c9d3ae43', 'message': ""Add keystone_authtoken.service_type\n\nFixes an issue where access rules failed to validate:\n\n    Cannot validate request with restricted access rules. Set\n    service_type in [keystone_authtoken] to allow access rule validation\n\nI've used the values from the endpoint. This was mostly a straight\nforward copy and paste, except:\n\n- versioned endpoints e.g cinderv3 where I stripped the version\n- monasca has multiple endpoints associated with a single service. For\n  this, I concatenated logging and monitoring to be logging-monitoring.\n\nCloses-Bug: #1965111\nChange-Id: Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7\n(cherry picked from commit 49006e56d99199b696bd762eb3167dbba42237e1)\n""}]",1,886359,e885a17d36da3503d2eec040a2d5b232c9d3ae43,15,6,1,14200,,,0,"Add keystone_authtoken.service_type

Fixes an issue where access rules failed to validate:

    Cannot validate request with restricted access rules. Set
    service_type in [keystone_authtoken] to allow access rule validation

I've used the values from the endpoint. This was mostly a straight
forward copy and paste, except:

- versioned endpoints e.g cinderv3 where I stripped the version
- monasca has multiple endpoints associated with a single service. For
  this, I concatenated logging and monitoring to be logging-monitoring.

Closes-Bug: #1965111
Change-Id: Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7
(cherry picked from commit 49006e56d99199b696bd762eb3167dbba42237e1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/59/886359/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'releasenotes/notes/fix-app-cred-access-rules-14b5dcfcd5a5669a.yaml', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",31,e885a17d36da3503d2eec040a2d5b232c9d3ae43,fix-app-cred-access-rules,service_type = key-manager,,36,0
openstack%2Fopenstack-helm~master~I511a382654cb06e443ec824f2b63acadc47a3e0e,openstack/openstack-helm,master,I511a382654cb06e443ec824f2b63acadc47a3e0e,Run horizon test job with Zed release,MERGED,2023-07-03 21:25:28.000000000,2023-07-04 00:11:19.000000000,2023-07-04 00:08:27.000000000,"[{'_account_id': 22348}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-07-03 21:25:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f1f0b4dd01d238f2027117a54244b69e1252e92e', 'message': 'Run horizon test job with Zed release\n\nChange-Id: I511a382654cb06e443ec824f2b63acadc47a3e0e\n'}, {'number': 2, 'created': '2023-07-03 21:30:13.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3154dc22eef7391c42d29b59012eb3464e3a36e7', 'message': 'Run horizon test job with Zed release\n\nChange-Id: I511a382654cb06e443ec824f2b63acadc47a3e0e\n'}]",0,887542,3154dc22eef7391c42d29b59012eb3464e3a36e7,8,2,2,3009,,,0,"Run horizon test job with Zed release

Change-Id: I511a382654cb06e443ec824f2b63acadc47a3e0e
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/42/887542/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,f1f0b4dd01d238f2027117a54244b69e1252e92e,refactor_horizon_job, name: openstack-helm-compute-kit-zed-ubuntu_focal-umbrella parent: openstack-helm-compute-kit-umbrella vars: osh_params: openstack_release: zed container_distro_name: ubuntu container_distro_version: focal - job: name: openstack-helm-horizon-ubuntu_focal abstract: true name: openstack-helm-horizon-victoria-ubuntu_focal parent: openstack-helm-horizon-ubuntu_focal vars: osh_params: openstack_release: victoria container_distro_name: ubuntu container_distro_version: focal - job: parent: openstack-helm-horizon-ubuntu_focal - job: name: openstack-helm-horizon-xena-ubuntu_focal parent: openstack-helm-horizon-ubuntu_focal vars: osh_params: openstack_release: xena container_distro_name: ubuntu container_distro_version: focal - job: name: openstack-helm-horizon-yoga-ubuntu_focal parent: openstack-helm-horizon-ubuntu_focal vars: osh_params: openstack_release: yoga container_distro_name: ubuntu container_distro_version: focal - job: name: openstack-helm-horizon-zed-ubuntu_focal parent: openstack-helm-horizon-ubuntu_focal vars: osh_params: openstack_release: zed container_distro_name: ubuntu container_distro_version: focal, name: openstack-helm-horizon-victoria-ubuntu_focal osh_params: openstack_release: victoria container_distro_name: ubuntu container_distro_version: focal parent: openstack-helm-chart-deploy files: - ^horizon/.*$ - ^zuul\.d/.*$ - ^tools/deployment/component/horizon/.*$ gate_scripts_relative_path: ../openstack-helm gate_scripts: - ./tools/deployment/common/install-packages.sh - ./tools/gate/deploy-k8s.sh - ./tools/deployment/common/setup-client.sh - ./tools/deployment/component/common/ingress.sh - ./tools/deployment/component/common/mariadb.sh - ./tools/deployment/component/common/memcached.sh - ./tools/deployment/component/common/rabbitmq.sh - ./tools/deployment/component/keystone/keystone.sh - ./tools/deployment/component/horizon/horizon.sh,49,23
openstack%2Fcinder~master~Id7741dc14da8610f0cea4ab53e27354e4ac8eedf,openstack/cinder,master,Id7741dc14da8610f0cea4ab53e27354e4ac8eedf,Remove all occurrences of six.reraise,NEW,2023-06-15 21:39:00.000000000,2023-07-03 23:29:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e23cba65efe3af2760c3d8c124c1b5218281fda4', 'message': 'Remove all occurrences of six.reraise\n\nRemove six from requirements.txt since it is no longer used anywhere in\nthe code.\n\nChange-Id: Id7741dc14da8610f0cea4ab53e27354e4ac8eedf\n'}, {'number': 2, 'created': '2023-06-22 15:17:53.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nvme_library.py', 'cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'requirements.txt', 'cinder/volume/drivers/netapp/dataontap/block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/19836bd338b3258a32318abfdb03225c42041c5c', 'message': 'Remove all occurrences of six.reraise\n\nRemove six from requirements.txt since it is no longer used anywhere in\nthe code.\n\nChange-Id: Id7741dc14da8610f0cea4ab53e27354e4ac8eedf\n'}]",0,886228,19836bd338b3258a32318abfdb03225c42041c5c,42,1,2,8122,,,0,"Remove all occurrences of six.reraise

Remove six from requirements.txt since it is no longer used anywhere in
the code.

Change-Id: Id7741dc14da8610f0cea4ab53e27354e4ac8eedf
",git fetch https://review.opendev.org/openstack/cinder refs/changes/28/886228/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nvme_library.py', 'cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'requirements.txt', 'cinder/volume/drivers/netapp/dataontap/block_base.py']",4,e23cba65efe3af2760c3d8c124c1b5218281fda4,remove-six, except netapp_api.NaApiError as e: raise e,import sysimport six except netapp_api.NaApiError: exc_info = sys.exc_info() six.reraise(*exc_info),5,15
openstack%2Fcinder~master~Id5ac092d76461f951622e481bb87daf3d66bf18e,openstack/cinder,master,Id5ac092d76461f951622e481bb87daf3d66bf18e,"Remove all occurrences of six.{string,integer}_types",NEW,2023-06-15 21:39:00.000000000,2023-07-03 22:31:08.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8b256a3b5ae5c0fda834d05169bef0ab6b8e9710', 'message': 'Remove all occurrences of six.{string,integer}_types\n\nChange-Id: Id5ac092d76461f951622e481bb87daf3d66bf18e\n'}, {'number': 2, 'created': '2023-06-22 15:17:53.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/volume/drivers/qnap.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/fake_enum.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/nexenta/ns5/jsonrpc.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/volume/drivers/netapp/dataontap/utils/capabilities.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f680e8f93b9d83ac167b93c723e9c90112585b73', 'message': 'Remove all occurrences of six.{string,integer}_types\n\nChange-Id: Id5ac092d76461f951622e481bb87daf3d66bf18e\n'}]",0,886225,f680e8f93b9d83ac167b93c723e9c90112585b73,33,1,2,8122,,,0,"Remove all occurrences of six.{string,integer}_types

Change-Id: Id5ac092d76461f951622e481bb87daf3d66bf18e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/886225/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/volume/drivers/qnap.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/fake_enum.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/nexenta/ns5/jsonrpc.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/volume/drivers/netapp/dataontap/utils/capabilities.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py']",15,8b256a3b5ae5c0fda834d05169bef0ab6b8e9710,remove-six," self.assertIsInstance(result, str)","from six import string_types self.assertIsInstance(result, string_types)",29,45
openstack%2Fcinder~master~I7e409d09f1d233ad978f4ff70c9ef3e300d61d7c,openstack/cinder,master,I7e409d09f1d233ad978f4ff70c9ef3e300d61d7c,Remove all occurrences of six.b,NEW,2023-06-15 21:39:00.000000000,2023-07-03 22:26:13.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/733e568245e921899a921afbea7c9b8319a425f9', 'message': 'Remove all occurrences of six.b\n\nChange-Id: I7e409d09f1d233ad978f4ff70c9ef3e300d61d7c\n'}, {'number': 2, 'created': '2023-06-22 15:17:53.000000000', 'files': ['cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/volume/drivers/fusionstorage/fs_conf.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/19c36d5cb41a1016725f9aa7e48697fb1501fd4a', 'message': 'Remove all occurrences of six.b\n\nChange-Id: I7e409d09f1d233ad978f4ff70c9ef3e300d61d7c\n'}]",0,886227,19c36d5cb41a1016725f9aa7e48697fb1501fd4a,41,1,2,8122,,,0,"Remove all occurrences of six.b

Change-Id: I7e409d09f1d233ad978f4ff70c9ef3e300d61d7c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/27/886227/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/volume/drivers/fusionstorage/fs_conf.py']",2,733e568245e921899a921afbea7c9b8319a425f9,remove-six, encoded = base64.b64encode(name_node.encode()).decode() encoded = base64.b64encode(pwd_node.encode()).decode() return (base64.b64decode(text[4:].encode()).decode() if,import six encoded = base64.b64encode(six.b(name_node)).decode() encoded = base64.b64encode(six.b(pwd_node)).decode() return (base64.b64decode(six.b(text[4:])).decode() if,9,11
openstack%2Fcinder~master~I2444c473cca2c87184cef6219f77572ee481c0bd,openstack/cinder,master,I2444c473cca2c87184cef6219f77572ee481c0bd,Remove all occurrences of six.wraps,NEW,2023-06-15 21:39:00.000000000,2023-07-03 22:14:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e26947dee106aca77ad6ea07c5302c9b71a4b378', 'message': 'Remove all occurrences of six.wraps\n\nChange-Id: I2444c473cca2c87184cef6219f77572ee481c0bd\n'}, {'number': 2, 'created': '2023-06-22 15:17:53.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/vnx/res_mock.py', 'cinder/volume/drivers/solidfire.py', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/utils.py', 'cinder/volume/drivers/dell_emc/unity/driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e94d2ae2964bbd4528811fe833634b3c4d0f399', 'message': 'Remove all occurrences of six.wraps\n\nChange-Id: I2444c473cca2c87184cef6219f77572ee481c0bd\n'}]",0,886224,5e94d2ae2964bbd4528811fe833634b3c4d0f399,33,1,2,8122,,,0,"Remove all occurrences of six.wraps

Change-Id: I2444c473cca2c87184cef6219f77572ee481c0bd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/24/886224/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/vnx/res_mock.py', 'cinder/volume/drivers/solidfire.py', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/utils.py', 'cinder/volume/drivers/dell_emc/unity/driver.py']",6,e26947dee106aca77ad6ea07c5302c9b71a4b378,remove-six,import functools @functools.wraps(func),import six @six.wraps(func),16,16
openstack%2Fcinder~master~I5335c2e69f656e46bbde701eddd27a7605d316e8,openstack/cinder,master,I5335c2e69f656e46bbde701eddd27a7605d316e8,Remove all occurrences of six.binary_type,NEW,2023-06-15 21:39:00.000000000,2023-07-03 22:00:46.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1a68530554ebf33544b652c7372532984291eb11', 'message': 'Remove all occurrences of six.binary_type\n\nChange-Id: I5335c2e69f656e46bbde701eddd27a7605d316e8\n'}, {'number': 2, 'created': '2023-06-22 15:17:53.000000000', 'files': ['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6717cba98abc91b853bf48114d95654cbd60becf', 'message': 'Remove all occurrences of six.binary_type\n\nChange-Id: I5335c2e69f656e46bbde701eddd27a7605d316e8\n'}]",0,886226,6717cba98abc91b853bf48114d95654cbd60becf,40,1,2,8122,,,0,"Remove all occurrences of six.binary_type

Change-Id: I5335c2e69f656e46bbde701eddd27a7605d316e8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/26/886226/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py'],1,1a68530554ebf33544b652c7372532984291eb11,remove-six," if isinstance(temp, bytes):","import six if isinstance(temp, six.binary_type):",1,3
openstack%2Fneutron-specs~master~Ic7f84d8252ef5197b4d1851f7296e237bf581503,openstack/neutron-specs,master,Ic7f84d8252ef5197b4d1851f7296e237bf581503,Multiple backend support for L3 routers in ML2/OVN,MERGED,2023-06-06 00:11:58.000000000,2023-07-03 21:41:49.000000000,2023-07-03 07:42:45.000000000,"[{'_account_id': 4694}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-06-06 00:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/de1552457b816b4b0878a6def24ecf78b9bf262d', 'message': 'Multiple backend support for L3 routers in ML2/OVN\n\nThis spec proposes to support multiple back-ends for routers in the\nML2/OVN mechanism driver\n\nChange-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503\n'}, {'number': 2, 'created': '2023-06-06 00:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1cb368b0f82c2da7f9e452470998f112cfd868a6', 'message': 'Multiple backend support for L3 routers in ML2/OVN\n\nThis spec proposes to support multiple back-ends for routers in the\nML2/OVN mechanism driver\n\nPartial-Bug: #2020823\n\nChange-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503\n'}, {'number': 3, 'created': '2023-06-06 23:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/09e33006416b9a92ffac4958aa528690cf3d082e', 'message': 'Multiple backend support for L3 routers in ML2/OVN\n\nThis spec proposes to support multiple back-ends for routers in the\nML2/OVN mechanism driver\n\nPartial-Bug: #2020823\n\nChange-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503\n'}, {'number': 4, 'created': '2023-06-07 23:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/12da15f23f0c27e08a82235ad1a2aad727402a77', 'message': 'Multiple backend support for L3 routers in ML2/OVN\n\nThis spec proposes to support multiple back-ends for routers in the\nML2/OVN mechanism driver\n\nPartial-Bug: #2020823\n\nChange-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503\n'}, {'number': 5, 'created': '2023-06-07 23:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/915c73812470f5647d77ca1c4831f753604e099b', 'message': 'Multiple backend support for L3 routers in ML2/OVN\n\nThis spec proposes to support multiple back-ends for routers in the\nML2/OVN mechanism driver\n\nPartial-Bug: #2020823\n\nChange-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503\n'}, {'number': 6, 'created': '2023-06-08 22:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/2a2c5e83ca3171b0d73c5bbf495fe29cbc195263', 'message': 'Multiple backend support for L3 routers in ML2/OVN\n\nThis spec proposes to support multiple back-ends for routers in the\nML2/OVN mechanism driver\n\nPartial-Bug: #2020823\n\nChange-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503\n'}, {'number': 7, 'created': '2023-06-08 22:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a77ffdc6ebdcbf722a7108e1b1097069a6a038c0', 'message': 'Multiple backend support for L3 routers in ML2/OVN\n\nThis spec proposes to support multiple back-ends for routers in the\nML2/OVN mechanism driver\n\nPartial-Bug: #2020823\n\nChange-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503\n'}, {'number': 8, 'created': '2023-06-08 23:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cd2ff07f8207082c6365258f7caa68b52ab56818', 'message': 'Multiple backend support for L3 routers in ML2/OVN\n\nThis spec proposes to support multiple back-ends for routers in the\nML2/OVN mechanism driver\n\nPartial-Bug: #2020823\n\nChange-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503\n'}, {'number': 9, 'created': '2023-06-08 23:05:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ae0ce90c84369c0be0b5c65a08408316cad65b29', 'message': 'Multiple backend support for L3 routers in ML2/OVN\n\nThis spec proposes to support multiple back-ends for routers in the\nML2/OVN mechanism driver\n\nPartial-Bug: #2020823\n\nChange-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503\n'}, {'number': 10, 'created': '2023-06-27 01:10:21.000000000', 'files': ['specs/2023.2/ml2ovn-router-flavors.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8a0eaebf9a26b86cd63515ef304899d308f369c7', 'message': 'Multiple backend support for L3 routers in ML2/OVN\n\nThis spec proposes to support multiple back-ends for routers in the\nML2/OVN mechanism driver\n\nPartial-Bug: #2020823\n\nChange-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503\n'}]",16,885324,8a0eaebf9a26b86cd63515ef304899d308f369c7,37,8,10,4694,,,0,"Multiple backend support for L3 routers in ML2/OVN

This spec proposes to support multiple back-ends for routers in the
ML2/OVN mechanism driver

Partial-Bug: #2020823

Change-Id: Ic7f84d8252ef5197b4d1851f7296e237bf581503
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/24/885324/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/ml2ovn-router-flavors.rst'],1,de1552457b816b4b0878a6def24ecf78b9bf262d,router-flavor-ovn,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================================================================== Flavor/service provider support for routers in the ML2/OVN L3 plugin ==================================================================== https://bugs.launchpad.net/neutron/+bug/2020823 In `Multiple L3 backends`_, functionality was added to the ML2/OVS mechanism driver to support L3 routers implemented by different back-end drivers. Recently, OpenStack deployers in the Telco / 5G industry have expressed a strong interest to have the same support with the ML2/OVN mechanism driver. This specification proposes to implement that functionality. .. _Multiple L3 backends: https://review.opendev.org/q/topic:bp%252Fmulti-l3-backends ",,20,0
openstack%2Fneutron~master~I04f120d3ccd11b18ae08cb10b19a7cb5a0e8983d,openstack/neutron,master,I04f120d3ccd11b18ae08cb10b19a7cb5a0e8983d,Disable pool recycle in tests,MERGED,2023-06-26 12:25:16.000000000,2023-07-03 21:08:26.000000000,2023-07-03 21:07:15.000000000,"[{'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 12:25:16.000000000', 'files': ['neutron/tests/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/576c468b711a94a1e6a7d5c65841b6a042dab855', 'message': ""Disable pool recycle in tests\n\nThe default for connection_recycle_time is\none hour. If any test using StaticSqlFixture\nruns after 1 hour it fails as connection get's\nrecycled.\n\nWith sqlite memory db if there is a connection\ndisconnect or reconnect db get's wiped off.\nThis patch disables the pool recycle so tests\ncan run fine even in slow environments.\n\nCloses-Bug: #2024674\nChange-Id: I04f120d3ccd11b18ae08cb10b19a7cb5a0e8983d\n""}]",5,886982,576c468b711a94a1e6a7d5c65841b6a042dab855,23,6,1,13861,,,0,"Disable pool recycle in tests

The default for connection_recycle_time is
one hour. If any test using StaticSqlFixture
runs after 1 hour it fails as connection get's
recycled.

With sqlite memory db if there is a connection
disconnect or reconnect db get's wiped off.
This patch disables the pool recycle so tests
can run fine even in slow environments.

Closes-Bug: #2024674
Change-Id: I04f120d3ccd11b18ae08cb10b19a7cb5a0e8983d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/886982/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/base.py'],1,576c468b711a94a1e6a7d5c65841b6a042dab855,bug/2024674," # NOTE(ykarel): Disable pool recycle as tables are dropped with sqlite # memory db with connection close or reconnect cfg.CONF.set_override('connection_recycle_time', -1, group='database') ",,4,0
openstack%2Fdevstack~master~Ie2663b951acb0c1a65597a39e032948764e6ae6a,openstack/devstack,master,Ie2663b951acb0c1a65597a39e032948764e6ae6a,nova: Bump timeout-per-gb for BFV rebuild ops,MERGED,2023-06-27 19:17:49.000000000,2023-07-03 21:08:23.000000000,2023-07-03 21:07:18.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-27 19:17:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e510e05e86722caaddb85a3ab97924db21ac6e6c', 'message': 'nova: Bump timeout-per-gb for BFV rebuild ops\n\nThis increases the timeout we use to wait for cinder to perform a\nvolume reimage. Since devstack is often running on a single machine\nwith non-production IO performance, we should bump this limit to avoid\nhitting it before the rebuild completes.\n\nChange-Id: Ie2663b951acb0c1a65597a39e032948764e6ae6a\n'}, {'number': 2, 'created': '2023-06-28 18:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4667c9748a3749fcc3cf1b46648ee0f2e2f9c3d1', 'message': 'nova: Bump timeout-per-gb for BFV rebuild ops\n\nThis increases the timeout we use to wait for cinder to perform a\nvolume reimage. Since devstack is often running on a single machine\nwith non-production IO performance, we should bump this limit to avoid\nhitting it before the rebuild completes.\n\nChange-Id: Ie2663b951acb0c1a65597a39e032948764e6ae6a\n'}, {'number': 3, 'created': '2023-06-28 21:13:27.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/58c80b2424623096e4a1f7a901f424be0ce6cb3f', 'message': 'nova: Bump timeout-per-gb for BFV rebuild ops\n\nThis increases the timeout we use to wait for cinder to perform a\nvolume reimage. Since devstack is often running on a single machine\nwith non-production IO performance, we should bump this limit to avoid\nhitting it before the rebuild completes.\n\nChange-Id: Ie2663b951acb0c1a65597a39e032948764e6ae6a\n'}]",6,887110,58c80b2424623096e4a1f7a901f424be0ce6cb3f,19,5,3,4393,,,0,"nova: Bump timeout-per-gb for BFV rebuild ops

This increases the timeout we use to wait for cinder to perform a
volume reimage. Since devstack is often running on a single machine
with non-production IO performance, we should bump this limit to avoid
hitting it before the rebuild completes.

Change-Id: Ie2663b951acb0c1a65597a39e032948764e6ae6a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/10/887110/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,e510e05e86722caaddb85a3ab97924db21ac6e6c,reimage-timeout, # Set rebuild timeout longer for BFV instances because we likely have # slower disk than expected. Default is 20s/GB iniset $NOVA_CONF compute reimage_timeout_per_gb 60 ,,4,0
openstack%2Foctavia~stable%2F2023.1~I51d2c011f123e7d8b90b5cea9ba875052d7837a3,openstack/octavia,stable/2023.1,I51d2c011f123e7d8b90b5cea9ba875052d7837a3,Fix octavia-amphora-image-build periodic job,MERGED,2023-05-15 07:41:32.000000000,2023-07-03 20:37:18.000000000,2023-07-03 20:35:23.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-15 07:41:32.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/abeaa55051822c25907fa87ca19a7b4151db006a', 'message': ""Fix octavia-amphora-image-build periodic job\n\nThe octavia-amphora-image-build periodic job fails with\n\n  The task includes an option with an undefined variable. The error was:\n  'amphora_os' is undefined\n\nThis issue was introduced in Ic1ec002062f91b7d3a43669e86380a2ffbdd7b18\n\nWe must keep the definition of the amphora_os and amphora_os_release\nvariables in the parent octavia-amphora-image-build job.\n\nChange-Id: I51d2c011f123e7d8b90b5cea9ba875052d7837a3\n(cherry picked from commit cd1646cec42402661451e7874e3364437249695a)\n""}]",5,883135,abeaa55051822c25907fa87ca19a7b4151db006a,20,3,1,29244,,,0,"Fix octavia-amphora-image-build periodic job

The octavia-amphora-image-build periodic job fails with

  The task includes an option with an undefined variable. The error was:
  'amphora_os' is undefined

This issue was introduced in Ic1ec002062f91b7d3a43669e86380a2ffbdd7b18

We must keep the definition of the amphora_os and amphora_os_release
variables in the parent octavia-amphora-image-build job.

Change-Id: I51d2c011f123e7d8b90b5cea9ba875052d7837a3
(cherry picked from commit cd1646cec42402661451e7874e3364437249695a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/35/883135/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,abeaa55051822c25907fa87ca19a7b4151db006a,, vars: amphora_os: ubuntu amphora_os_release: jammy,,3,0
openstack%2Fcinder~master~Ia1b92341fc44fa903c238b2cb82496b77012a367,openstack/cinder,master,Ia1b92341fc44fa903c238b2cb82496b77012a367,db: Remove the legacy 'migration_version' table,MERGED,2023-02-17 12:57:16.000000000,2023-07-03 20:00:31.000000000,2023-07-03 19:31:33.000000000,"[{'_account_id': 11904}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-17 12:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ac97230ef3e146ead4cce1a5a117c2f700e8b2aa', 'message': ""db: Remove the legacy 'migration_version' table\n\nThis hasn't been necessary since Xena.\n\nChange-Id: Ia1b92341fc44fa903c238b2cb82496b77012a367\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2023-02-17 15:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/036800f47ab37126b731a0297cdff579d6af5f89', 'message': ""db: Remove the legacy 'migration_version' table\n\nThis hasn't been necessary since Xena.\n\nChange-Id: Ia1b92341fc44fa903c238b2cb82496b77012a367\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2023-03-16 09:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a445aa1db495d217596c3567a768c9f08dbf41f5', 'message': ""db: Remove the legacy 'migration_version' table\n\nThis hasn't been necessary since Xena.\n\nChange-Id: Ia1b92341fc44fa903c238b2cb82496b77012a367\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2023-03-23 12:31:50.000000000', 'files': ['cinder/db/migrations/versions/daa98075b90d_add_resource_indexes.py', 'cinder/db/migrations/versions/89aa6f9639f9_drop_legacy_migrate_version_table.py', 'cinder/tests/unit/db/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/171ff11e905a2103443c547d28f84f98a651491c', 'message': ""db: Remove the legacy 'migration_version' table\n\nThis hasn't been necessary since Xena.\n\nChange-Id: Ia1b92341fc44fa903c238b2cb82496b77012a367\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",8,874242,171ff11e905a2103443c547d28f84f98a651491c,103,5,4,15334,,,0,"db: Remove the legacy 'migration_version' table

This hasn't been necessary since Xena.

Change-Id: Ia1b92341fc44fa903c238b2cb82496b77012a367
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/42/874242/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/db/migrations/versions/89aa6f9639f9_drop_legacy_migrate_version_table.py', 'cinder/tests/unit/db/test_migrations.py']",2,ac97230ef3e146ead4cce1a5a117c2f700e8b2aa,sqlalchemy-20," def _check_89aa6f9639f9(self, connection): # the table optionally existed: there's no way to check for its # removal without creating it first, which is dumb pass "," def include_object(self, object_, name, type_, reflected, compare_to): if type_ == 'table': # migrate_version is a sqlalchemy-migrate control table and # isn't included in the model if name == 'migrate_version': return False return True ",40,9
openstack%2Freleases~master~I54d6cc804cf995e8c2ff26ac4791232df71dbabb,openstack/releases,master,I54d6cc804cf995e8c2ff26ac4791232df71dbabb,Mark winstacker project deliverables retired,MERGED,2023-06-29 00:07:38.000000000,2023-07-03 19:52:32.000000000,2023-07-03 19:52:32.000000000,"[{'_account_id': 8213}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-29 00:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f47f265150e43dae5dd0eb87983a215f3e530d0f', 'message': 'Mark winstacker project deliverables retired\n\nWinstacker project is retiring and this change\nmark their deliverables as retired in release repo.\n\nChange-Id: I54d6cc804cf995e8c2ff26ac4791232df71dbabb\n'}, {'number': 2, 'created': '2023-06-29 00:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3e165e1c4dc6d8b70dfdbefd22c1ed03e6fa4b27', 'message': 'Mark winstacker project deliverables retired\n\nWinstacker project is retiring and this change\nmark their deliverables as retired in release repo.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/886880\n\nChange-Id: I54d6cc804cf995e8c2ff26ac4791232df71dbabb\n'}, {'number': 3, 'created': '2023-06-29 00:31:18.000000000', 'files': ['deliverables/yoga/os-win.yaml', 'deliverables/wallaby/networking-hyperv.yaml', 'deliverables/xena/os-win.yaml', 'deliverables/wallaby/os-win.yaml', 'deliverables/antelope/compute-hyperv.yaml', 'deliverables/bobcat/oswin-tempest-plugin.yaml', 'deliverables/xena/networking-hyperv.yaml', 'deliverables/ussuri/os-win.yaml', 'deliverables/victoria/os-win.yaml', 'deliverables/zed/networking-hyperv.yaml', 'deliverables/ussuri/compute-hyperv.yaml', 'deliverables/victoria/networking-hyperv.yaml', 'deliverables/zed/os-win.yaml', 'deliverables/xena/compute-hyperv.yaml', 'deliverables/stein/os-win.yaml', 'deliverables/bobcat/compute-hyperv.yaml', 'deliverables/wallaby/compute-hyperv.yaml', 'deliverables/bobcat/os-win.yaml', 'data/release_liaisons.yaml', 'deliverables/zed/compute-hyperv.yaml', 'deliverables/stein/networking-hyperv.yaml', 'deliverables/train/networking-hyperv.yaml', 'deliverables/yoga/networking-hyperv.yaml', 'deliverables/yoga/compute-hyperv.yaml', 'deliverables/antelope/networking-hyperv.yaml', 'deliverables/bobcat/networking-hyperv.yaml', 'deliverables/train/os-win.yaml', 'deliverables/train/compute-hyperv.yaml', 'deliverables/ussuri/networking-hyperv.yaml', 'deliverables/antelope/os-win.yaml', 'deliverables/victoria/compute-hyperv.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/bd813bcf23c90f72ac4713c981d99e401138ecc1', 'message': 'Mark winstacker project deliverables retired\n\nWinstacker project is retiring and this change\nmark their deliverables as retired in release repo.\n\nDepends-On: https://review.opendev.org/c/openstack/governance/+/886880\n\nChange-Id: I54d6cc804cf995e8c2ff26ac4791232df71dbabb\n'}]",7,887238,bd813bcf23c90f72ac4713c981d99e401138ecc1,16,4,3,8556,,,0,"Mark winstacker project deliverables retired

Winstacker project is retiring and this change
mark their deliverables as retired in release repo.

Depends-On: https://review.opendev.org/c/openstack/governance/+/886880

Change-Id: I54d6cc804cf995e8c2ff26ac4791232df71dbabb
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/887238/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/yoga/os-win.yaml', 'deliverables/wallaby/networking-hyperv.yaml', 'deliverables/xena/os-win.yaml', 'deliverables/wallaby/os-win.yaml', 'deliverables/antelope/compute-hyperv.yaml', 'deliverables/bobcat/oswin-tempest-plugin.yaml', 'deliverables/xena/networking-hyperv.yaml', 'deliverables/ussuri/os-win.yaml', 'deliverables/victoria/os-win.yaml', 'deliverables/zed/networking-hyperv.yaml', 'deliverables/ussuri/compute-hyperv.yaml', 'deliverables/victoria/networking-hyperv.yaml', 'deliverables/zed/os-win.yaml', 'deliverables/xena/compute-hyperv.yaml', 'deliverables/stein/os-win.yaml', 'deliverables/bobcat/compute-hyperv.yaml', 'deliverables/wallaby/compute-hyperv.yaml', 'deliverables/bobcat/os-win.yaml', 'deliverables/zed/compute-hyperv.yaml', 'deliverables/stein/networking-hyperv.yaml', 'deliverables/train/networking-hyperv.yaml', 'deliverables/yoga/networking-hyperv.yaml', 'deliverables/yoga/compute-hyperv.yaml', 'deliverables/antelope/networking-hyperv.yaml', 'deliverables/bobcat/networking-hyperv.yaml', 'deliverables/train/os-win.yaml', 'deliverables/train/compute-hyperv.yaml', 'deliverables/ussuri/networking-hyperv.yaml', 'deliverables/antelope/os-win.yaml', 'deliverables/victoria/compute-hyperv.yaml']",30,f47f265150e43dae5dd0eb87983a215f3e530d0f,retire-winstacker, openstack/compute-hyperv: flags: - retired, openstack/compute-hyperv: {},78,59
openstack%2Fcinder~master~I283a509e2693253066e54de085a0ade2b5758a55,openstack/cinder,master,I283a509e2693253066e54de085a0ade2b5758a55,Remove all occurrences of six.PY3,NEW,2023-06-15 21:39:00.000000000,2023-07-03 19:47:54.000000000,,"[{'_account_id': 22348}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/da40c793ede4cb40a08410ec6e2d4152aa9a994e', 'message': 'Remove all occurrences of six.PY3\n\nChange-Id: I283a509e2693253066e54de085a0ade2b5758a55\n'}, {'number': 2, 'created': '2023-06-22 15:17:53.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/volume/drivers/stx/client.py', 'cinder/volume/drivers/stx/common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fc335a8c9188755c9b680f5d8e384bd24061ac91', 'message': 'Remove all occurrences of six.PY3\n\nChange-Id: I283a509e2693253066e54de085a0ade2b5758a55\n'}]",1,886223,fc335a8c9188755c9b680f5d8e384bd24061ac91,37,2,2,8122,,,0,"Remove all occurrences of six.PY3

Change-Id: I283a509e2693253066e54de085a0ade2b5758a55
",git fetch https://review.opendev.org/openstack/cinder refs/changes/23/886223/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/volume/drivers/stx/client.py', 'cinder/volume/drivers/stx/common.py']",3,da40c793ede4cb40a08410ec6e2d4152aa9a994e,remove-six, vol_encoded = vol_encoded.decode('ascii'),import six if six.PY3: vol_encoded = vol_encoded.decode('ascii'),3,8
openstack%2Fopenstack-helm-images~master~I06dfaef2e429f690b8ca7583933fa85eabcbfea8,openstack/openstack-helm-images,master,I06dfaef2e429f690b8ca7583933fa85eabcbfea8,Fix gate-utils image build job,MERGED,2023-06-29 23:19:21.000000000,2023-07-03 19:43:25.000000000,2023-07-03 19:41:47.000000000,"[{'_account_id': 22348}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-06-29 23:19:21.000000000', 'files': ['gate-utils/Dockerfile.debian', 'gate-utils/build.sh', 'gate-utils/Dockerfile.suse_15', 'zuul.d/gate-utils.yaml', 'gate-utils/Dockerfile.ubuntu_focal'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/48b2fac501db97622437217adb0ed880cc30edcc', 'message': 'Fix gate-utils image build job\n\n- Use ubuntu:focal as a base image\n- Do not build the gate-utils image weekly.\n  The only place we use this image is in the\n  kube-node-subnet.sh script where we use the\n  image published a while ago.\n  And the only package we install into this image\n  is ipcalc.\n\nChange-Id: I06dfaef2e429f690b8ca7583933fa85eabcbfea8\n'}]",1,887346,48b2fac501db97622437217adb0ed880cc30edcc,7,2,1,3009,,,0,"Fix gate-utils image build job

- Use ubuntu:focal as a base image
- Do not build the gate-utils image weekly.
  The only place we use this image is in the
  kube-node-subnet.sh script where we use the
  image published a while ago.
  And the only package we install into this image
  is ipcalc.

Change-Id: I06dfaef2e429f690b8ca7583933fa85eabcbfea8
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/46/887346/1 && git format-patch -1 --stdout FETCH_HEAD,"['gate-utils/Dockerfile.debian', 'gate-utils/build.sh', 'gate-utils/Dockerfile.suse_15', 'zuul.d/gate-utils.yaml', 'gate-utils/Dockerfile.ubuntu_focal']",5,48b2fac501db97622437217adb0ed880cc30edcc,,ARG FROM=ubuntu:focal FROM ${FROM} RUN apt-get update \ && apt-get install -y --no-install-recommends ipcalc \ && apt-get clean -y \ && rm -rf \ /var/cache/debconf/* \ /var/lib/apt/lists/* \ /var/log/* \ /tmp/* \ /var/tmp/* ,,16,22
openstack%2Fcinder~master~Ia2b2ecdcc6f13b61cd4a3feaf384be2b063c54bb,openstack/cinder,master,Ia2b2ecdcc6f13b61cd4a3feaf384be2b063c54bb,Remove all occurrences of six.iteritems,NEW,2023-06-15 21:39:00.000000000,2023-07-03 19:38:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8fdda5db23f7ed61c56ac5ce4a333e26587dd6e7', 'message': 'Remove all occurrences of six.iteritems\n\nChange-Id: Ia2b2ecdcc6f13b61cd4a3feaf384be2b063c54bb\n'}, {'number': 2, 'created': '2023-06-22 15:17:53.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_qnap.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/volume/drivers/huawei/huawei_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f26448a89cda40b1c0e9842ed525881fad2e6711', 'message': 'Remove all occurrences of six.iteritems\n\nChange-Id: Ia2b2ecdcc6f13b61cd4a3feaf384be2b063c54bb\n'}]",0,886222,f26448a89cda40b1c0e9842ed525881fad2e6711,46,1,2,8122,,,0,"Remove all occurrences of six.iteritems

Change-Id: Ia2b2ecdcc6f13b61cd4a3feaf384be2b063c54bb
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/886222/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/test_qnap.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/volume/drivers/huawei/huawei_utils.py']",3,8fdda5db23f7ed61c56ac5ce4a333e26587dd6e7,remove-six," for key, value in specs.items():","import six for key, value in six.iteritems(specs):",3,5
openstack%2Fneutron~master~I9322589d973d9469d92878a505de6133978ade84,openstack/neutron,master,I9322589d973d9469d92878a505de6133978ade84,"Revert ""Use ``TextClause`` to define the DB model ""server_default""""",MERGED,2023-06-27 11:36:06.000000000,2023-07-03 19:32:38.000000000,2023-07-03 19:31:29.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-06-27 11:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67107951e56b83543119277af484a86f2dd31fdf', 'message': 'Revert ""Use ``TextClause`` to define the DB model ""server_default""""\n\nThis reverts commit 6fa3d8019ffd416ad3eb90e6e9a364d4b6e23e80.\n\nReason for revert: https://bugs.launchpad.net/neutron/+bug/2025126\n\nChange-Id: I9322589d973d9469d92878a505de6133978ade84\n'}, {'number': 2, 'created': '2023-06-27 13:00:54.000000000', 'files': ['neutron/plugins/ml2/models.py', 'neutron/common/_constants.py', 'neutron/db/models_v2.py', 'neutron/db/models/dns.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/663242067522bb5475218eec36abd265869ab788', 'message': 'Revert ""Use ``TextClause`` to define the DB model ""server_default""""\n\nThis reverts commit 6fa3d8019ffd416ad3eb90e6e9a364d4b6e23e80.\n\nReason for revert: https://bugs.launchpad.net/neutron/+bug/2025126\nA new SLQAlchemy/alembic (master branch) version reverted the\nbehaviour fixed in the patch that is being reverted.\n\nCloses-Bug: #2025126\n\nChange-Id: I9322589d973d9469d92878a505de6133978ade84\n'}]",14,886961,663242067522bb5475218eec36abd265869ab788,53,11,2,16688,,,0,"Revert ""Use ``TextClause`` to define the DB model ""server_default""""

This reverts commit 6fa3d8019ffd416ad3eb90e6e9a364d4b6e23e80.

Reason for revert: https://bugs.launchpad.net/neutron/+bug/2025126
A new SLQAlchemy/alembic (master branch) version reverted the
behaviour fixed in the patch that is being reverted.

Closes-Bug: #2025126

Change-Id: I9322589d973d9469d92878a505de6133978ade84
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/886961/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/models.py', 'neutron/common/_constants.py', 'neutron/db/models_v2.py', 'neutron/db/models/dns.py']",4,67107951e56b83543119277af484a86f2dd31fdf,bug/2020050, server_default=''),from neutron.common import _constants as n_const server_default=n_const.SQL_EMPTY_STRING),6,14
openstack%2Fcinder~stable%2Fzed~I3ab2cc28bef7524cec4f161c9d5417597df56b89,openstack/cinder,stable/zed,I3ab2cc28bef7524cec4f161c9d5417597df56b89,"Update url of ""Unity Replication White Paper""",MERGED,2023-03-27 02:24:12.000000000,2023-07-03 19:11:33.000000000,2023-07-03 19:09:50.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 33473}]","[{'number': 1, 'created': '2023-03-27 02:24:12.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e2ea7a5adb906d11ba7256e1cfb52a03fc38a7b7', 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}]",2,878602,e2ea7a5adb906d11ba7256e1cfb52a03fc38a7b7,18,4,1,33787,,,0,"Update url of ""Unity Replication White Paper""

The website ""www.emc.com"" has been discontinued.

Replace the outdated link
""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""
with the link
""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".

Change-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89
(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/878602/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,e2ea7a5adb906d11ba7256e1cfb52a03fc38a7b7,update-url-stable/2023.1-stable/zed,<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_,<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_,2,2
openstack%2Fneutron~master~Ib45e013f86d09ec0719bf2e228aab6cb061c1508,openstack/neutron,master,Ib45e013f86d09ec0719bf2e228aab6cb061c1508,"Define the port ""fixed_ips"" in the creation call",MERGED,2023-07-03 10:01:20.000000000,2023-07-03 19:11:28.000000000,2023-07-03 19:09:46.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-03 10:01:20.000000000', 'files': ['neutron/tests/unit/extensions/test_expose_port_forwarding_in_fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/80ad28e696cef7eab3b2f9f325e6cee6cd487973', 'message': 'Define the port ""fixed_ips"" in the creation call\n\nThe ``NeutronDbPluginV2TestCase.port`` method input parameters are\nmisleading. The ""subnet"" parameter won\'t create a port in the subnet\nselected; the method will extract the network and will enforce only the\ncreation of the port on this network.\n\nIn order to create a port on the required subnet, the parameter\n""fixed_ips"" should be provided instead.\n\nCloses-Bug: #2025618\nChange-Id: Ib45e013f86d09ec0719bf2e228aab6cb061c1508\n'}]",0,887495,80ad28e696cef7eab3b2f9f325e6cee6cd487973,13,6,1,16688,,,0,"Define the port ""fixed_ips"" in the creation call

The ``NeutronDbPluginV2TestCase.port`` method input parameters are
misleading. The ""subnet"" parameter won't create a port in the subnet
selected; the method will extract the network and will enforce only the
creation of the port on this network.

In order to create a port on the required subnet, the parameter
""fixed_ips"" should be provided instead.

Closes-Bug: #2025618
Change-Id: Ib45e013f86d09ec0719bf2e228aab6cb061c1508
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/887495/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/extensions/test_expose_port_forwarding_in_fip.py'],1,80ad28e696cef7eab3b2f9f325e6cee6cd487973,bug/2025618," fixed_ips = [{'subnet_id': insub['subnet']['id']}] with self.port(subnet=insub, fixed_ips=fixed_ips) as port1,\ self.port(subnet=insub, fixed_ips=fixed_ips) as port2:"," with self.port(subnet=insub) as port1,\ self.port(subnet=insub) as port2:",3,2
openstack%2Fcinder~master~I820dd137892e032d076762608d746be187ba5019,openstack/cinder,master,I820dd137892e032d076762608d746be187ba5019,Deadlock prevention support in synchronize,MERGED,2022-07-06 19:31:08.000000000,2023-07-03 19:11:18.000000000,2023-07-03 19:09:39.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-07-06 19:31:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7b3d71bb02a2e233ef063609c78a746b5424c632', 'message': 'Deadlock prevention support in syncrhonize\n\nSome drivers may require multiple locks for a critical section, which\ncould potentially create deadlocks.  Like in the following example,\nwhere `PowerMax` method `move_volume_between_storage_groups` creates 2\nlocks:\n\n    @coordination.synchronized(\n        ""emc-sg-{source_storagegroup_name}-{serial_number}"")\n    @coordination.synchronized(\n        ""emc-sg-{target_storagegroup_name}-{serial_number}"")\n    def move_volume_between_storage_groups(\n            self, serial_number, device_id, source_storagegroup_name,\n            target_storagegroup_name, extra_specs, force=False,\n            parent_sg=None):\n\nThat code can result in a deadlock if 2 opposite requests come in\nconcurrently and their first lock acquisition interleaves.\n\nTo make it easier for drivers to request multiple locks ensuring that no\ndeadlock happens the ""synchronize"" decorator in cinder.coordination\naccepts multiple lock tamplates and acquires them sorted by rendered\nname removing duplicates.\n\nThis helps prevent deadlocks because the same lock names will always be\nacquired in the same order even if they are received in different order.\n\nChange-Id: I820dd137892e032d076762608d746be187ba5019\n'}, {'number': 2, 'created': '2022-07-22 10:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa0a49cd8b665a4b211b0135008f3847f2361e1d', 'message': 'Deadlock prevention support in synchronize\n\nSome drivers may require multiple locks for a critical section, which\ncould potentially create deadlocks.  Like in the following example,\nwhere `PowerMax` method `move_volume_between_storage_groups` creates 2\nlocks:\n\n    @coordination.synchronized(\n        ""emc-sg-{source_storagegroup_name}-{serial_number}"")\n    @coordination.synchronized(\n        ""emc-sg-{target_storagegroup_name}-{serial_number}"")\n    def move_volume_between_storage_groups(\n            self, serial_number, device_id, source_storagegroup_name,\n            target_storagegroup_name, extra_specs, force=False,\n            parent_sg=None):\n\nThat code can result in a deadlock if 2 opposite requests come in\nconcurrently and their first lock acquisition interleaves.\n\nTo make it easier for drivers to request multiple locks ensuring that no\ndeadlock happens the ""synchronize"" decorator in cinder.coordination\naccepts multiple lock templates and acquires them sorted by rendered\nname removing duplicates.\n\nThis helps prevent deadlocks because the same lock names will always be\nacquired in the same order even if they are received in different order.\n\nChange-Id: I820dd137892e032d076762608d746be187ba5019\n'}, {'number': 3, 'created': '2022-08-24 09:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f21200dee1791ae40085657e44a578cebbd1463c', 'message': 'Deadlock prevention support in synchronize\n\nSome drivers may require multiple locks for a critical section, which\ncould potentially create deadlocks.  Like in the following example,\nwhere `PowerMax` method `move_volume_between_storage_groups` creates 2\nlocks:\n\n    @coordination.synchronized(\n        ""emc-sg-{source_storagegroup_name}-{serial_number}"")\n    @coordination.synchronized(\n        ""emc-sg-{target_storagegroup_name}-{serial_number}"")\n    def move_volume_between_storage_groups(\n            self, serial_number, device_id, source_storagegroup_name,\n            target_storagegroup_name, extra_specs, force=False,\n            parent_sg=None):\n\nThat code can result in a deadlock if 2 opposite requests come in\nconcurrently and their first lock acquisition interleaves.\n\nTo make it easier for drivers to request multiple locks ensuring that no\ndeadlock happens the ""synchronize"" decorator in cinder.coordination\naccepts multiple lock templates and acquires them sorted by rendered\nname removing duplicates.\n\nThis helps prevent deadlocks because the same lock names will always be\nacquired in the same order even if they are received in different order.\n\nChange-Id: I820dd137892e032d076762608d746be187ba5019\n'}, {'number': 4, 'created': '2022-08-24 13:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dd084a15dece6eb24fc6ea450edc1ee8b6c245c9', 'message': 'Deadlock prevention support in synchronize\n\nSome drivers may require multiple locks for a critical section, which\ncould potentially create deadlocks.  Like in the following example,\nwhere `PowerMax` method `move_volume_between_storage_groups` creates 2\nlocks:\n\n    @coordination.synchronized(\n        ""emc-sg-{source_storagegroup_name}-{serial_number}"")\n    @coordination.synchronized(\n        ""emc-sg-{target_storagegroup_name}-{serial_number}"")\n    def move_volume_between_storage_groups(\n            self, serial_number, device_id, source_storagegroup_name,\n            target_storagegroup_name, extra_specs, force=False,\n            parent_sg=None):\n\nThat code can result in a deadlock if 2 opposite requests come in\nconcurrently and their first lock acquisition interleaves.\n\nTo make it easier for drivers to request multiple locks ensuring that no\ndeadlock happens the ""synchronize"" decorator in cinder.coordination\naccepts multiple lock templates and acquires them sorted by rendered\nname removing duplicates.\n\nThis helps prevent deadlocks because the same lock names will always be\nacquired in the same order even if they are received in different order.\n\nChange-Id: I820dd137892e032d076762608d746be187ba5019\n'}, {'number': 5, 'created': '2023-01-10 08:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3557fcd7c215408a5241c3b5df5a8c09c9138039', 'message': 'Deadlock prevention support in synchronize\n\nSome drivers may require multiple locks for a critical section, which\ncould potentially create deadlocks.  Like in the following example,\nwhere `PowerMax` method `move_volume_between_storage_groups` creates 2\nlocks:\n\n    @coordination.synchronized(\n        ""emc-sg-{source_storagegroup_name}-{serial_number}"")\n    @coordination.synchronized(\n        ""emc-sg-{target_storagegroup_name}-{serial_number}"")\n    def move_volume_between_storage_groups(\n            self, serial_number, device_id, source_storagegroup_name,\n            target_storagegroup_name, extra_specs, force=False,\n            parent_sg=None):\n\nThat code can result in a deadlock if 2 opposite requests come in\nconcurrently and their first lock acquisition interleaves.\n\nTo make it easier for drivers to request multiple locks ensuring that no\ndeadlock happens the ""synchronize"" decorator in cinder.coordination\naccepts multiple lock templates and acquires them sorted by rendered\nname removing duplicates.\n\nThis helps prevent deadlocks because the same lock names will always be\nacquired in the same order even if they are received in different order.\n\nChange-Id: I820dd137892e032d076762608d746be187ba5019\n'}, {'number': 6, 'created': '2023-01-20 14:59:14.000000000', 'files': ['doc/source/contributor/high_availability.rst', 'cinder/coordination.py', 'cinder/tests/unit/test_coordination.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/749772a6fb6ebde89780b433bf7d91e76486244b', 'message': 'Deadlock prevention support in synchronize\n\nSome drivers may require multiple locks for a critical section, which\ncould potentially create deadlocks.  Like in the following example,\nwhere `PowerMax` method `move_volume_between_storage_groups` creates 2\nlocks:\n\n    @coordination.synchronized(\n        ""emc-sg-{source_storagegroup_name}-{serial_number}"")\n    @coordination.synchronized(\n        ""emc-sg-{target_storagegroup_name}-{serial_number}"")\n    def move_volume_between_storage_groups(\n            self, serial_number, device_id, source_storagegroup_name,\n            target_storagegroup_name, extra_specs, force=False,\n            parent_sg=None):\n\nThat code can result in a deadlock if 2 opposite requests come in\nconcurrently and their first lock acquisition interleaves.\n\nTo make it easier for drivers to request multiple locks ensuring that no\ndeadlock happens the ""synchronize"" decorator in cinder.coordination\naccepts multiple lock templates and acquires them sorted by rendered\nname removing duplicates.\n\nThis helps prevent deadlocks because the same lock names will always be\nacquired in the same order even if they are received in different order.\n\nChange-Id: I820dd137892e032d076762608d746be187ba5019\n'}]",18,848899,749772a6fb6ebde89780b433bf7d91e76486244b,113,6,6,9535,,,0,"Deadlock prevention support in synchronize

Some drivers may require multiple locks for a critical section, which
could potentially create deadlocks.  Like in the following example,
where `PowerMax` method `move_volume_between_storage_groups` creates 2
locks:

    @coordination.synchronized(
        ""emc-sg-{source_storagegroup_name}-{serial_number}"")
    @coordination.synchronized(
        ""emc-sg-{target_storagegroup_name}-{serial_number}"")
    def move_volume_between_storage_groups(
            self, serial_number, device_id, source_storagegroup_name,
            target_storagegroup_name, extra_specs, force=False,
            parent_sg=None):

That code can result in a deadlock if 2 opposite requests come in
concurrently and their first lock acquisition interleaves.

To make it easier for drivers to request multiple locks ensuring that no
deadlock happens the ""synchronize"" decorator in cinder.coordination
accepts multiple lock templates and acquires them sorted by rendered
name removing duplicates.

This helps prevent deadlocks because the same lock names will always be
acquired in the same order even if they are received in different order.

Change-Id: I820dd137892e032d076762608d746be187ba5019
",git fetch https://review.opendev.org/openstack/cinder refs/changes/99/848899/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/high_availability.rst', 'cinder/coordination.py', 'cinder/tests/unit/test_coordination.py']",3,7b3d71bb02a2e233ef063609c78a746b5424c632,powrmax-deadlocks," @mock.patch.object(coordination.COORDINATOR, 'get_lock') def test_synchronized_multiple_templates(self, get_lock): """"""Test locks requested in the right order and duplicates removed."""""" locks = ['lock-{f_name}-%s-{foo.val}-{bar[val]}' % i for i in range(3)] expect = [f'lock-func-{i}-7-8' for i in range(3)] @coordination.synchronized(locks[1], locks[0], locks[1], locks[2]) def func(foo, bar): pass foo = mock.Mock(val=7) bar = mock.MagicMock() bar.__getitem__.return_value = 8 func(foo, bar) self.assertEqual(len(expect), get_lock.call_count) get_lock.assert_has_calls([mock.call(lock) for lock in expect]) self.assertEqual(len(expect), get_lock.return_value.acquire.call_count) get_lock.return_value.acquire.assert_has_calls( [mock.call(True)] * len(expect)) self.assertEqual(['foo', 'bar'], inspect.getfullargspec(func)[0]) @mock.patch('oslo_utils.timeutils.now', side_effect=[1, 2]) def test___acquire(self, mock_now): lock = mock.Mock() # Using getattr to avoid AttributeError: module 'cinder.coordination' # has no attribute '_CoordinationTestCase__acquire' res = getattr(coordination, '__acquire')(lock, mock.sentinel.blocking, mock.sentinel.f_name) self.assertEqual(2, res) self.assertEqual(2, mock_now.call_count) mock_now.assert_has_calls([mock.call(), mock.call()]) lock.acquire.assert_called_once_with(mock.sentinel.blocking) @mock.patch('oslo_utils.timeutils.now') def test___acquire_propagates_exception(self, mock_now): lock = mock.Mock() lock.acquire.side_effect = ValueError # Using getattr to avoid AttributeError: module 'cinder.coordination' # has no attribute '_CoordinationTestCase__acquire' self.assertRaises(ValueError, getattr(coordination, '__acquire'), lock, mock.sentinel.blocking, mock.sentinel.f_name) mock_now.assert_called_once_with() lock.acquire.assert_called_once_with(mock.sentinel.blocking) @mock.patch('oslo_utils.timeutils.now', return_value=2) def test___release(self, mock_now): lock = mock.Mock() # Using getattr to avoid AttributeError: module 'cinder.coordination' # has no attribute '_CoordinationTestCase__release' getattr(coordination, '__release')(lock, 1, mock.sentinel.f_name) mock_now.assert_called_once_with() lock.release.assert_called_once_with() @mock.patch('oslo_utils.timeutils.now') def test___release_ignores_exception(self, mock_now): lock = mock.Mock() lock.release.side_effect = ValueError # Using getattr to avoid AttributeError: module 'cinder.coordination' # has no attribute '_CoordinationTestCase__release' getattr(coordination, '__release')(lock, 1, mock.sentinel.f_name) mock_now.assert_not_called() lock.release.assert_called_once_with()",,153,19
openstack%2Fcinder~stable%2Fussuri~Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d,openstack/cinder,stable/ussuri,Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d,Add warning message about slow volume backend,MERGED,2022-10-13 07:34:39.000000000,2023-07-03 19:11:14.000000000,2023-07-03 19:09:42.000000000,"[{'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-10-13 07:34:39.000000000', 'files': ['cinder/volume/manager.py', 'releasenotes/notes/slow-get-volume-stats-91b84c6e661dc605.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/234d10a55c7e20aa422d1eb996a1bba3ecb51215', 'message': 'Add warning message about slow volume backend\n\nIf a volume driver takes an excessively long amount\nof time to return volume stats info, the only indication\nif this is a generic ""Function outlasted interval"" message\nthat doesn\'t really explain what is going on.\n\nIntroduce a specific log message when this happens so\nthat this situation is more clear for someone looking\nat cinder-volume logs.\n\nThe message is set to trigger if the driver takes more\nthan half of the stats polling interval to complete.\n\nChange-Id: Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d\n(cherry picked from commit 6d85d05f7847defcd972b1702ab9b14f22e60d4e)\n(cherry picked from commit 63abc40463c4397d4e11e39afb8033cd9690a4f6)\n(cherry picked from commit 1034c9aec7001d7f872defdbd771fde2f20fb4ee)\n'}]",1,861057,234d10a55c7e20aa422d1eb996a1bba3ecb51215,21,3,1,5689,,,0,"Add warning message about slow volume backend

If a volume driver takes an excessively long amount
of time to return volume stats info, the only indication
if this is a generic ""Function outlasted interval"" message
that doesn't really explain what is going on.

Introduce a specific log message when this happens so
that this situation is more clear for someone looking
at cinder-volume logs.

The message is set to trigger if the driver takes more
than half of the stats polling interval to complete.

Change-Id: Id6b27eb7b90c8a8c91fb46de69aa94b8210da18d
(cherry picked from commit 6d85d05f7847defcd972b1702ab9b14f22e60d4e)
(cherry picked from commit 63abc40463c4397d4e11e39afb8033cd9690a4f6)
(cherry picked from commit 1034c9aec7001d7f872defdbd771fde2f20fb4ee)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/861057/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'releasenotes/notes/slow-get-volume-stats-91b84c6e661dc605.yaml']",2,234d10a55c7e20aa422d1eb996a1bba3ecb51215,,--- features: - | Log a warning from the volume service when a volume driver's get_volume_stats() call takes a long time to return. This can help deployers troubleshoot a cinder-volume service misbehaving due to a driver/backend performance issue. ,,21,1
openstack%2Fcinder~master~I016bbd69fdb3d2ff8319148105de417895390eea,openstack/cinder,master,I016bbd69fdb3d2ff8319148105de417895390eea,Remove all occurrences of six.assertCountEqual,NEW,2023-06-15 21:39:00.000000000,2023-07-03 19:09:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fef639070a4391989403310eec5ccc1ab92465bd', 'message': 'Remove all occurrences of six.assertCountEqual\n\nChange-Id: I016bbd69fdb3d2ff8319148105de417895390eea\n'}, {'number': 2, 'created': '2023-06-22 15:17:53.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_iscsi_driver.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_capabilities.py', 'cinder/tests/unit/volume/drivers/test_storpool.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/978590ec7114a2d45ad7e08b5f73948053a566f0', 'message': 'Remove all occurrences of six.assertCountEqual\n\nChange-Id: I016bbd69fdb3d2ff8319148105de417895390eea\n'}]",1,886221,978590ec7114a2d45ad7e08b5f73948053a566f0,38,1,2,8122,,,0,"Remove all occurrences of six.assertCountEqual

Change-Id: I016bbd69fdb3d2ff8319148105de417895390eea
",git fetch https://review.opendev.org/openstack/cinder refs/changes/21/886221/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_iscsi_driver.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_capabilities.py', 'cinder/tests/unit/volume/drivers/test_storpool.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",6,fef639070a4391989403310eec5ccc1ab92465bd,remove-six," self.assertCountEqual(expected, res)","import six six.assertCountEqual(self, expected, res)",19,32
openstack%2Fgovernance~master~I2a9be90a49294cab72e3627dd097706862254054,openstack/governance,master,I2a9be90a49294cab72e3627dd097706862254054,Retire Winstackers project,MERGED,2023-06-23 22:43:16.000000000,2023-07-03 18:33:08.000000000,2023-07-03 18:32:02.000000000,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 11975}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-23 22:43:16.000000000', 'files': ['reference/legacy.yaml', 'reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/9a127069d468ea3508fc325f559af3170cb572f7', 'message': 'Retire Winstackers project\n\nWinstackers project has no maintainers and the only\ncompany maintaining it was Cloudbase who has changed\ntheir direction and cannot maintain it anymore\n\n- https://lists.openstack.org/pipermail/openstack-discuss/2022-November/031044.html\n\nWe have called out for volunteer on ML many times\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033035.html\n- https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033342.html\n- https://lists.openstack.org/pipermail/openstack-announce/2023-April/002069.html\n\nWe decided to wait for any volunteer in Vancouver Summit 2023 but no luck.\n\nAs there is no volunteer to maintain it, we have to retire\nthis project and need to remove all the dependencies from OpenStack.\n\nChange-Id: I2a9be90a49294cab72e3627dd097706862254054\n'}]",0,886880,9a127069d468ea3508fc325f559af3170cb572f7,13,8,1,8556,,,0,"Retire Winstackers project

Winstackers project has no maintainers and the only
company maintaining it was Cloudbase who has changed
their direction and cannot maintain it anymore

- https://lists.openstack.org/pipermail/openstack-discuss/2022-November/031044.html

We have called out for volunteer on ML many times
- https://lists.openstack.org/pipermail/openstack-discuss/2023-March/033035.html
- https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033342.html
- https://lists.openstack.org/pipermail/openstack-announce/2023-April/002069.html

We decided to wait for any volunteer in Vancouver Summit 2023 but no luck.

As there is no volunteer to maintain it, we have to retire
this project and need to remove all the dependencies from OpenStack.

Change-Id: I2a9be90a49294cab72e3627dd097706862254054
",git fetch https://review.opendev.org/openstack/governance refs/changes/80/886880/1 && git format-patch -1 --stdout FETCH_HEAD,"['reference/legacy.yaml', 'reference/projects.yaml']",2,9a127069d468ea3508fc325f559af3170cb572f7,formal-vote,,"winstackers: ptl: name: APPOINTMENT NEEDED irc: No nick supplied email: example@example.org appointed: - stein - ussuri service: Libraries for Windows support irc-channel: openstack-hyper-v mission: > To facilitate the integration of Hyper-V, Windows and related components into OpenStack. This includes producing projects containing Hyper-V / Windows related code, commonly used in OpenStack scenarios. url: https://wiki.openstack.org/wiki/Os-win deliverables: os-win: repos: - openstack/os-win oswin-tempest-plugin: repos: - openstack/oswin-tempest-plugin networking-hyperv: repos: - openstack/networking-hyperv compute-hyperv: repos: - openstack/compute-hyperv",18,28
openstack%2Fironic~master~Icece0b2f373d2f6662e5c47d56d5e54a955b1f7c,openstack/ironic,master,Icece0b2f373d2f6662e5c47d56d5e54a955b1f7c,CI: Explicitly close out test connection,ABANDONED,2023-06-29 21:53:56.000000000,2023-07-03 18:15:21.000000000,,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 21:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/294dcb0f7eaad2934e12e45d1c433b5286d2694d', 'message': 'DNM check and re-trigger db init for testing\n\nChange-Id: Icece0b2f373d2f6662e5c47d56d5e54a955b1f7c\n'}, {'number': 2, 'created': '2023-06-30 00:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ea18d52f719fc17980912cbdbe8347f1063fc0a4', 'message': 'CI: Explicitly close out test connection\n\nWhen creating a test database, we should follow the same\npattern we know to be good, where an orphaned handler is not\nleft in memory to close out a connection.\n\nChange connection style in dbTestBase to mirror how we do\ndatabase connections so they close out when we are done\nwith them.\n\nChange-Id: Icece0b2f373d2f6662e5c47d56d5e54a955b1f7c\n'}, {'number': 3, 'created': '2023-06-30 01:12:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/042a6a6d43c60471ba796695cc27c817118c9bd3', 'message': 'CI: Explicitly close out test connection\n\nWhen creating a test database, we should follow the same\npattern we know to be good, where an orphaned handler is not\nleft in memory to close out a connection.\n\nChange connection style in dbTestBase to mirror how we do\ndatabase connections so they close out when we are done\nwith them.\n\nChange-Id: Icece0b2f373d2f6662e5c47d56d5e54a955b1f7c\n'}, {'number': 4, 'created': '2023-06-30 01:38:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/07f13ba24f8f63139fd523aeee88e43895410bba', 'message': 'CI: Explicitly close out test connection\n\nWhen creating a test database, we should follow the same\npattern we know to be good, where an orphaned handler is not\nleft in memory to close out a connection.\n\nChange connection style in dbTestBase to mirror how we do\ndatabase connections so they close out when we are done\nwith them.\n\nChange-Id: Icece0b2f373d2f6662e5c47d56d5e54a955b1f7c\n'}, {'number': 5, 'created': '2023-06-30 03:41:08.000000000', 'files': ['ironic/tests/unit/db/base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c41bda135aed25ada5a3811996f25b5653defdb', 'message': 'CI: Explicitly close out test connection\n\nWhen creating a test database, we should follow the same\npattern we know to be good, where an orphaned handler is not\nleft in memory to close out a connection.\n\nChange connection style in dbTestBase to mirror how we do\ndatabase connections so they close out when we are done\nwith them.\n\nChange-Id: Icece0b2f373d2f6662e5c47d56d5e54a955b1f7c\n'}]",4,887343,2c41bda135aed25ada5a3811996f25b5653defdb,28,3,5,11655,,,0,"CI: Explicitly close out test connection

When creating a test database, we should follow the same
pattern we know to be good, where an orphaned handler is not
left in memory to close out a connection.

Change connection style in dbTestBase to mirror how we do
database connections so they close out when we are done
with them.

Change-Id: Icece0b2f373d2f6662e5c47d56d5e54a955b1f7c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/43/887343/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/db/base.py'],1,294dcb0f7eaad2934e12e45d1c433b5286d2694d,, ready = None self.ready = True if not _DB_CACHE.ready: _DB_CACHE.setup_sqlite(migration),,5,0
openstack%2Fcinder~master~I83d8c7b1ef93851e2d4dc4b3da9886c90ee87f54,openstack/cinder,master,I83d8c7b1ef93851e2d4dc4b3da9886c90ee87f54,Remove all occurrences of six.text_type,NEW,2023-06-15 21:39:00.000000000,2023-07-03 18:03:04.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7718be8b72edd7fe6d78c8bc14ceceeb183831e5', 'message': 'Remove all occurrences of six.text_type\n\nChange-Id: I83d8c7b1ef93851e2d4dc4b3da9886c90ee87f54\n'}, {'number': 2, 'created': '2023-06-22 15:17:53.000000000', 'files': ['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/res_mock.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/__init__.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py', 'cinder/volume/drivers/nfs.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_api.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/mocks.py', 'cinder/volume/drivers/ibm/flashsystem_iscsi.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/dell_emc/powerflex/rest_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_client.py', 'cinder/volume/drivers/fusionstorage/fs_client.py', 'cinder/volume/drivers/netapp/dataontap/utils/capabilities.py', 'cinder/volume/drivers/huawei/huawei_utils.py', 'cinder/volume/drivers/ibm/ibm_storage/proxy.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode_rest.py', 'cinder/volume/drivers/nexenta/ns5/jsonrpc.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py', 'cinder/zonemanager/fc_zone_manager.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'cinder/volume/drivers/datera/datera_api22.py', 'cinder/volume/drivers/ibm/flashsystem_fc.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py', 'cinder/volume/drivers/inspur/instorage/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem_iscsi.py', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/fakes.py', 'cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_base.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/remotefs.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/zadara/zadara.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py', 'cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/storpool.py', 'cinder/tests/stubs/oslo_i18n/_message.pyi', 'cinder/volume/drivers/stx/common.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/drivers/datera/datera_api21.py', 'cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/qnap.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/sandstone/sds_client.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_jsonrpc.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_iscsi_driver.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'cinder/volume/drivers/dell_emc/powerflex/driver.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_replication.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/05c050da34ffb03cb1d67b607144eb596749be63', 'message': 'Remove all occurrences of six.text_type\n\nChange-Id: I83d8c7b1ef93851e2d4dc4b3da9886c90ee87f54\n'}]",6,886219,05c050da34ffb03cb1d67b607144eb596749be63,45,3,2,8122,,,0,"Remove all occurrences of six.text_type

Change-Id: I83d8c7b1ef93851e2d4dc4b3da9886c90ee87f54
",git fetch https://review.opendev.org/openstack/cinder refs/changes/19/886219/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/vmware/test_vmware_vmdk.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/res_mock.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/__init__.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/zonemanager/drivers/brocade/brcd_http_fc_zone_client.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_driver.py', 'cinder/volume/drivers/nfs.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_iscsi.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_api.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/mocks.py', 'cinder/volume/drivers/ibm/flashsystem_iscsi.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_cli.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/zonemanager/drivers/brocade/brcd_rest_fc_zone_client.py', 'cinder/volume/drivers/nexenta/iscsi.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/dell_emc/powerflex/rest_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_client.py', 'cinder/volume/drivers/fusionstorage/fs_client.py', 'cinder/volume/drivers/netapp/dataontap/utils/capabilities.py', 'cinder/volume/drivers/huawei/huawei_utils.py', 'cinder/volume/drivers/ibm/ibm_storage/proxy.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode_rest.py', 'cinder/volume/drivers/nexenta/ns5/jsonrpc.py', 'cinder/volume/drivers/nexenta/ns5/iscsi.py', 'cinder/zonemanager/fc_zone_manager.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'cinder/volume/drivers/datera/datera_api22.py', 'cinder/volume/drivers/ibm/flashsystem_fc.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py', 'cinder/volume/drivers/inspur/instorage/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem_iscsi.py', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/volume/drivers/nexenta/ns5/nfs.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/fakes.py', 'cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_base.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_zone_client_cli.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/remotefs.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py', 'cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/zadara/zadara.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py', 'cinder/volume/drivers/huawei/rest_client.py', 'cinder/volume/drivers/kaminario/kaminario_common.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_fc.py', 'cinder/volume/drivers/fujitsu/eternus_dx/eternus_dx_common.py', 'cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py', 'cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/nexenta/nfs.py', 'cinder/volume/drivers/storpool.py', 'cinder/tests/stubs/oslo_i18n/_message.pyi', 'cinder/volume/drivers/stx/common.py', 'cinder/volume/drivers/hpe/hpe_3par_common.py', 'cinder/volume/drivers/datera/datera_api21.py', 'cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/tests/unit/volume/drivers/test_fujitsu_dx.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/volume/drivers/qnap.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_driver.py', 'cinder/zonemanager/drivers/cisco/cisco_fc_san_lookup_service.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/sandstone/sds_client.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_jsonrpc.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_iscsi_driver.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'cinder/volume/drivers/dell_emc/powerflex/driver.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_replication.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/huawei/common.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py', 'cinder/zonemanager/drivers/brocade/brcd_fc_zone_client_cli.py']",97,7718be8b72edd7fe6d78c8bc14ceceeb183831e5,remove-six," ) % {'cfg_name': cfg_name, 'err': str(e)} ) % {'cfg_name': cfg_name, 'err': str(e)} ) % {'cmd': cmd, 'err': str(e)} ""error=%(err)s)."") % {'cmd': cmd, 'err': str(e)} 'err': str(e)}","import six ) % {'cfg_name': cfg_name, 'err': six.text_type(e)} ) % {'cfg_name': cfg_name, 'err': six.text_type(e)} ) % {'cmd': cmd, 'err': six.text_type(e)} ""error=%(err)s)."") % {'cmd': cmd, 'err': six.text_type(e)} 'err': six.text_type(e)}",600,683
openstack%2Fos-brick~master~I8f26e3880429e648e7e985f9c6cb7dff56715727,openstack/os-brick,master,I8f26e3880429e648e7e985f9c6cb7dff56715727,LVM: Remove outdated comment,MERGED,2023-04-12 15:33:04.000000000,2023-07-03 18:00:08.000000000,2023-07-03 16:29:38.000000000,"[{'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-04-12 15:33:04.000000000', 'files': ['os_brick/local_dev/lvm.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/5926a4d4e2516e095293a391579f12c7bfe50400', 'message': 'LVM: Remove outdated comment\n\n-l100%FREE was implemented years ago and is\nalready used by our code when the LVM version\nmeets the supports_full_pool_create check.\n\nChange-Id: I8f26e3880429e648e7e985f9c6cb7dff56715727\n'}]",2,879840,5926a4d4e2516e095293a391579f12c7bfe50400,18,4,1,4523,,,0,"LVM: Remove outdated comment

-l100%FREE was implemented years ago and is
already used by our code when the LVM version
meets the supports_full_pool_create check.

Change-Id: I8f26e3880429e648e7e985f9c6cb7dff56715727
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/40/879840/1 && git format-patch -1 --stdout FETCH_HEAD,['os_brick/local_dev/lvm.py'],1,5926a4d4e2516e095293a391579f12c7bfe50400,, Some amount of free space must remain in the volume group for," Ideally we would use 100% of the containing volume group and be done. But the 100%VG notation to lvcreate is not implemented and thus cannot be used. See https://bugzilla.redhat.com/show_bug.cgi?id=998347 Further, some amount of free space must remain in the volume group for",1,5
openstack%2Fcinder~master~I8b6d25206335a87fb4633d8ffa4f920c089f6b99,openstack/cinder,master,I8b6d25206335a87fb4633d8ffa4f920c089f6b99,Remove all occurrences of six.add_metaclass,NEW,2023-06-15 21:39:00.000000000,2023-07-03 17:37:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b759d9465289b6f6a48a210089283314ea6632fe', 'message': 'Remove all occurrences of six.add_metaclass\n\nChange-Id: I8b6d25206335a87fb4633d8ffa4f920c089f6b99\n'}, {'number': 2, 'created': '2023-06-22 15:17:53.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/nvme_library.py', 'cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/volume/drivers/stx/common.py', 'cinder/volume/drivers/datera/datera_iscsi.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode_rest.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/volume/drivers/stx/client.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/infortrend/raidcmd_cli/cli_factory.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/bf5e7ebdfbc62ca3a030d993f91650571b0f7eb0', 'message': 'Remove all occurrences of six.add_metaclass\n\nChange-Id: I8b6d25206335a87fb4633d8ffa4f920c089f6b99\n'}]",0,886220,bf5e7ebdfbc62ca3a030d993f91650571b0f7eb0,42,1,2,8122,,,0,"Remove all occurrences of six.add_metaclass

Change-Id: I8b6d25206335a87fb4633d8ffa4f920c089f6b99
",git fetch https://review.opendev.org/openstack/cinder refs/changes/20/886220/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/nvme_library.py', 'cinder/volume/drivers/netapp/dataontap/client/client_base.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/volume/drivers/stx/common.py', 'cinder/volume/drivers/datera/datera_iscsi.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode_rest.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/volume/drivers/stx/client.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/infortrend/raidcmd_cli/cli_factory.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py']",13,b759d9465289b6f6a48a210089283314ea6632fe,remove-six,"class NetAppBlockStorageLibrary(object, metaclass=volume_utils.TraceWrapperMetaclass):",@six.add_metaclass(volume_utils.TraceWrapperMetaclass) class NetAppBlockStorageLibrary(object):,23,35
openstack%2Fproject-config~master~If286eb3e1a75c643f67f3d6d3d7e2d31c205ac1b,openstack/project-config,master,If286eb3e1a75c643f67f3d6d3d7e2d31c205ac1b,Start booting bookworm nodes,MERGED,2023-07-03 16:49:40.000000000,2023-07-03 17:26:01.000000000,2023-07-03 17:18:04.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-03 16:49:40.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5aa792f1aea36a1d66ca0eed8dff92607eab8d50', 'message': 'Start booting bookworm nodes\n\nImage builds have been successful\n\nChange-Id: If286eb3e1a75c643f67f3d6d3d7e2d31c205ac1b\n'}]",0,887527,5aa792f1aea36a1d66ca0eed8dff92607eab8d50,7,2,1,13252,,,0,"Start booting bookworm nodes

Image builds have been successful

Change-Id: If286eb3e1a75c643f67f3d6d3d7e2d31c205ac1b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/887527/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml']",4,5aa792f1aea36a1d66ca0eed8dff92607eab8d50,boot-bookworm, - name: debian-bookworm - name: debian-bookworm-arm64 min-ready: 0 - name: debian-bookworm config-drive: true - name: debian-bookworm min-ram: 8000 flavor-name: v2-highcpu-8 boot-from-volume: true volume-size: 80 diskimage: debian-bookworm key-name: infra-root-keys-2020-05-13 - name: debian-bookworm-arm64 config-drive: true - name: debian-bookworm-arm64 flavor-name: 'opendev' diskimage: debian-bookworm-arm64 key-name: infra-root-keys-2020-05-13 - name: debian-bookworm-arm64 config-drive: true - name: debian-bookworm-arm64 flavor-name: 'opendev.large' diskimage: debian-bookworm-arm64 key-name: infra-root-keys-2020-05-13 - name: debian-bookworm - name: debian-bookworm-arm64,,54,0
openstack%2Fneutron-lib~master~Ic401db8b4e2745234e61fe2c05afd5b4ab719a03,openstack/neutron-lib,master,Ic401db8b4e2745234e61fe2c05afd5b4ab719a03,Add is_service_role property to the context class,MERGED,2023-06-28 14:54:52.000000000,2023-07-03 16:36:43.000000000,2023-07-03 16:35:44.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 14:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5c107a054a8a06eddca650927c9a310e81de45af', 'message': 'Add is_service_role property to the context class\n\nAs we are moving to the new S-RBAC policies, we want to use ""service""\nrole for all service to service communication. See [1] for details.\n\nThis require from Context class property similar to old ""is_advsvc"" but\nwith new naming convention and using new policy rule.\n\nThis patch adds this new property together with all required policies\nand rules.\nFor now ""ContextBase.is_advsvc"" property will return True if one of the\nadvsvc OR service_role will be True to make it working in the same way\nwith both old and new policies but once we will get rid of the old\npolicies we should also remove is_advsvc property from the ContextBase\nclass.\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#phase-2\n\nChange-Id: Ic401db8b4e2745234e61fe2c05afd5b4ab719a03\n'}, {'number': 2, 'created': '2023-06-29 13:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d440e7a5900d2f82f8a99f892c62e5e429043c2a', 'message': 'Add is_service_role property to the context class\n\nAs we are moving to the new S-RBAC policies, we want to use ""service""\nrole for all service to service communication. See [1] for details.\n\nThis require from Context class property similar to old ""is_advsvc"" but\nwith new naming convention and using new policy rule.\n\nThis patch adds this new property together with all required policies\nand rules.\nFor now ""ContextBase.is_advsvc"" property will return True if one of the\nadvsvc OR service_role will be True to make it working in the same way\nwith both old and new policies but once we will get rid of the old\npolicies we should also remove is_advsvc property from the ContextBase\nclass.\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#phase-2\n\nChange-Id: Ic401db8b4e2745234e61fe2c05afd5b4ab719a03\n'}, {'number': 3, 'created': '2023-06-30 13:56:33.000000000', 'files': ['neutron_lib/tests/unit/db/test_utils.py', 'neutron_lib/tests/etc/policy.yaml', 'releasenotes/notes/service_role-added-to-context-class-4b9583aaaabd37e0.yaml', 'neutron_lib/tests/unit/api/test_attributes.py', 'neutron_lib/policy/_engine.py', 'neutron_lib/db/utils.py', 'neutron_lib/tests/etc/dummy_policy.yaml', 'neutron_lib/context.py', 'neutron_lib/tests/unit/policy/test__engine.py', 'neutron_lib/policy/__init__.py', 'neutron_lib/tests/unit/test_context.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8ccdecc7d1599119e3f020051449b547db89ee3e', 'message': 'Add is_service_role property to the context class\n\nAs we are moving to the new S-RBAC policies, we want to use ""service""\nrole for all service to service communication. See [1] for details.\n\nThis require from Context class property similar to old ""is_advsvc"" but\nwith new naming convention and using new policy rule.\n\nThis patch adds this new property together with all required policies\nand rules.\nFor now ""ContextBase.is_advsvc"" property will return True if one of the\nadvsvc OR service_role will be True to make it working in the same way\nwith both old and new policies but once we will get rid of the old\npolicies we should also remove is_advsvc property from the ContextBase\nclass.\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#phase-2\n\nChange-Id: Ic401db8b4e2745234e61fe2c05afd5b4ab719a03\n'}]",7,887191,8ccdecc7d1599119e3f020051449b547db89ee3e,20,4,3,11975,,,0,"Add is_service_role property to the context class

As we are moving to the new S-RBAC policies, we want to use ""service""
role for all service to service communication. See [1] for details.

This require from Context class property similar to old ""is_advsvc"" but
with new naming convention and using new policy rule.

This patch adds this new property together with all required policies
and rules.
For now ""ContextBase.is_advsvc"" property will return True if one of the
advsvc OR service_role will be True to make it working in the same way
with both old and new policies but once we will get rid of the old
policies we should also remove is_advsvc property from the ContextBase
class.

[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#phase-2

Change-Id: Ic401db8b4e2745234e61fe2c05afd5b4ab719a03
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/91/887191/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/db/test_utils.py', 'neutron_lib/tests/etc/policy.yaml', 'neutron_lib/tests/unit/api/test_attributes.py', 'neutron_lib/policy/_engine.py', 'neutron_lib/db/utils.py', 'neutron_lib/tests/etc/dummy_policy.yaml', 'neutron_lib/context.py', 'neutron_lib/tests/unit/policy/test__engine.py', 'neutron_lib/policy/__init__.py', 'neutron_lib/tests/unit/test_context.py']",10,5c107a054a8a06eddca650927c9a310e81de45af,secure-rbac," def test_neutron_context_create_is_service_role(self): ctx = context.Context('user_id', 'tenant_id', roles=['service']) self.assertFalse(ctx.is_admin) self.assertTrue(ctx.is_service_role) ",,91,5
openstack%2Fcinder~master~Id783e089e0c7dd35aed96aef9926fe5878a5b286,openstack/cinder,master,Id783e089e0c7dd35aed96aef9926fe5878a5b286,Remove all occurrences of six.moves,NEW,2023-06-15 21:39:00.000000000,2023-07-03 16:00:06.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-06-15 21:39:00.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_snapshot.py', 'cinder/volume/drivers/qnap.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', '.pylintrc', 'cinder/tests/unit/volume/drivers/fusionstorage/test_fs_conf.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_volume_from_snapshot.py', 'cinder/volume/drivers/nexenta/ns5/jsonrpc.py', 'cinder/volume/drivers/veritas_access/veritas_iscsi.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_api.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_manage_existing.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_cloned_volume.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_jsonrpc.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/fakes.py', 'cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/volume/drivers/dell_emc/powerflex/driver.py', 'cinder/tests/unit/volume/drivers/test_zadara.py', 'cinder/tests/unit/volume/drivers/test_macrosan_drivers.py', 'cinder/volume/drivers/dell_emc/powerflex/rest_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_volume.py', 'cinder/tests/unit/volume/drivers/test_prophetstor_dpl.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_snapshot.py', 'cinder/volume/drivers/hedvig/rest_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_extend_volume.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/fusionstorage/fs_conf.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e37366888251422a467039d47ee6e5642e5db7de', 'message': 'Remove all occurrences of six.moves\n\nChange-Id: Id783e089e0c7dd35aed96aef9926fe5878a5b286\n'}]",2,886218,e37366888251422a467039d47ee6e5642e5db7de,26,5,1,8122,,,0,"Remove all occurrences of six.moves

Change-Id: Id783e089e0c7dd35aed96aef9926fe5878a5b286
",git fetch https://review.opendev.org/openstack/cinder refs/changes/18/886218/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_snapshot.py', 'cinder/volume/drivers/qnap.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', '.pylintrc', 'cinder/tests/unit/volume/drivers/fusionstorage/test_fs_conf.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_volume_from_snapshot.py', 'cinder/volume/drivers/nexenta/ns5/jsonrpc.py', 'cinder/volume/drivers/veritas_access/veritas_iscsi.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_api.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_manage_existing.py', 'cinder/tests/unit/volume/drivers/test_qnap.py', 'cinder/volume/drivers/prophetstor/dplcommon.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_cloned_volume.py', 'cinder/tests/unit/volume/drivers/nexenta/test_nexenta5_jsonrpc.py', 'cinder/volume/drivers/synology/synology_common.py', 'cinder/tests/unit/volume/drivers/synology/test_synology_common.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/fakes.py', 'cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/volume/drivers/dell_emc/powerflex/driver.py', 'cinder/tests/unit/volume/drivers/test_zadara.py', 'cinder/tests/unit/volume/drivers/test_macrosan_drivers.py', 'cinder/volume/drivers/dell_emc/powerflex/rest_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_volume.py', 'cinder/tests/unit/volume/drivers/test_prophetstor_dpl.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_snapshot.py', 'cinder/volume/drivers/hedvig/rest_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_extend_volume.py', 'cinder/volume/drivers/nexenta/utils.py', 'cinder/volume/drivers/vmware/volumeops.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/volume/drivers/fusionstorage/fs_conf.py']",34,e37366888251422a467039d47ee6e5642e5db7de,remove-six,import configparser,from six.moves import configparser,165,165
openstack%2Fcharm-ceph-dashboard~stable%2Fquincy.2~Ide70549cbb8156293ee3d3ead3ac032f029ca0e1,openstack/charm-ceph-dashboard,stable/quincy.2,Ide70549cbb8156293ee3d3ead3ac032f029ca0e1,Testing: remove unused grafana plugin,NEW,2023-07-03 09:40:35.000000000,2023-07-03 15:58:03.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 34952}]","[{'number': 1, 'created': '2023-07-03 09:40:35.000000000', 'files': ['tests/bundles/focal-yoga.yaml', 'tests/bundles/focal.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/64d86bc5f8d7dc716ba32301db6bf402d191e4ee', 'message': 'Testing: remove unused grafana plugin\n\nDue to a Grafana bug[0] installing zip plugins has issues. We are also\nnot testing plugins, therefore removing plugin installation from\nfunctest.\n\n[0] https://bugs.launchpad.net/charm-grafana/+bug/2017810\n\ncherry pick from I4de5e911754cc5d99cdf94e394c81a70269c50e8\n\nChange-Id: Ide70549cbb8156293ee3d3ead3ac032f029ca0e1\n'}]",5,887487,64d86bc5f8d7dc716ba32301db6bf402d191e4ee,10,3,1,15382,,,0,"Testing: remove unused grafana plugin

Due to a Grafana bug[0] installing zip plugins has issues. We are also
not testing plugins, therefore removing plugin installation from
functest.

[0] https://bugs.launchpad.net/charm-grafana/+bug/2017810

cherry pick from I4de5e911754cc5d99cdf94e394c81a70269c50e8

Change-Id: Ide70549cbb8156293ee3d3ead3ac032f029ca0e1
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/87/887487/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/focal-yoga.yaml', 'tests/bundles/focal.yaml', 'tests/bundles/jammy-yoga.yaml']",3,64d86bc5f8d7dc716ba32301db6bf402d191e4ee,,," install_plugins: https://storage.googleapis.com/plugins-community/vonage-status-panel/release/1.0.11/vonage-status-panel-1.0.11.zip,https://storage.googleapis.com/plugins-community/grafana-piechart-panel/release/1.6.2/grafana-piechart-panel-1.6.2.zip",0,3
openstack%2Foctavia~stable%2Fwallaby~I3859c7fcefc89e91fdaecd139143e6a74d8b3c1b,openstack/octavia,stable/wallaby,I3859c7fcefc89e91fdaecd139143e6a74d8b3c1b,Fix serialization of lists in data_models.to_dict,MERGED,2023-04-07 09:16:00.000000000,2023-07-03 15:43:19.000000000,2023-07-03 15:42:13.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-07 09:16:00.000000000', 'files': ['octavia/common/data_models.py', 'octavia/tests/unit/common/test_data_models.py', 'releasenotes/notes/fix-tls-container-serialization-1cb83ad4c9eca3b8.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/fcfd6cdfa27a1c3f9df8b6b97eaa877f61f99589', 'message': ""Fix serialization of lists in data_models.to_dict\n\ndata_models.to_dict didn't convert values inside lists.\nWhen serializing TLSContainer, the intermediates list that contains\nbytes types wasn't converted properly.\n\nto_dict now converts the items of a list recursively.\n\nAdd a test that checks if TLSContainer.to_dict is serializable.\n\nStory 2009310\nTask 43699\n\nChange-Id: I3859c7fcefc89e91fdaecd139143e6a74d8b3c1b\n(cherry picked from commit d25ed7aba6753285671e4f3b8c478c0e5e022e10)\n(cherry picked from commit db22c0b9da5bd167e97ba021c22e9cf46488ea8d)\n(cherry picked from commit 4a799b443a54440d0cff7853d2209a4576388b07)\n""}]",3,879878,fcfd6cdfa27a1c3f9df8b6b97eaa877f61f99589,16,3,1,29244,,,0,"Fix serialization of lists in data_models.to_dict

data_models.to_dict didn't convert values inside lists.
When serializing TLSContainer, the intermediates list that contains
bytes types wasn't converted properly.

to_dict now converts the items of a list recursively.

Add a test that checks if TLSContainer.to_dict is serializable.

Story 2009310
Task 43699

Change-Id: I3859c7fcefc89e91fdaecd139143e6a74d8b3c1b
(cherry picked from commit d25ed7aba6753285671e4f3b8c478c0e5e022e10)
(cherry picked from commit db22c0b9da5bd167e97ba021c22e9cf46488ea8d)
(cherry picked from commit 4a799b443a54440d0cff7853d2209a4576388b07)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/78/879878/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/data_models.py', 'octavia/tests/unit/common/test_data_models.py', 'releasenotes/notes/fix-tls-container-serialization-1cb83ad4c9eca3b8.yaml']",3,fcfd6cdfa27a1c3f9df8b6b97eaa877f61f99589,,"--- fixes: - | Fix a serialization issue when using TLSContainer with amphorav2 driver with persistence, a list of bytes type in the data model was not correctly converted to serializable data. ",,77,44
openstack%2Fkolla-ansible~master~Icd709cb042d44e063c5da64ab0695b0b6ba6d48b,openstack/kolla-ansible,master,Icd709cb042d44e063c5da64ab0695b0b6ba6d48b,Add migration scenario from Docker to Podman (WIP),NEW,2022-04-07 11:30:57.000000000,2023-07-03 15:37:07.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 29636}, {'_account_id': 33708}, {'_account_id': 34113}, {'_account_id': 34501}, {'_account_id': 34911}]","[{'number': 1, 'created': '2022-04-07 11:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7c485f78d12dc94656c76517472a48af70a894a', 'message': 'Add migration path from docker to podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on docker to podman.\n\nAll parameters for podman deployment should be given to migrate\naction.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 2, 'created': '2023-03-07 16:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c0fd6b557052a22e40aebb5e0ed4af6f33253089', 'message': 'Add migration path from docker to podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on docker to podman.\n\nAll parameters for podman deployment should be given to migrate\naction.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 3, 'created': '2023-03-07 16:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e38307329c28a05fef463d23438041fb33245ce8', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 4, 'created': '2023-03-09 10:06:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/365cdc262b96710f49c6fcab67b9a903fcc3bf87', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 5, 'created': '2023-03-10 15:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4ad6dd43da54aedeccbda829ec3e6772a86fa9fa', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 6, 'created': '2023-03-10 15:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d2c1bdd3beddec838fbb50e1d1b59e565010ba82', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 7, 'created': '2023-03-13 12:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d319e9e01bb877e5694f2a5dfd7bee4b866239b9', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 8, 'created': '2023-03-13 16:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7166ba95c94bb80d4523d279573aac68d68468b', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 9, 'created': '2023-03-20 14:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/960173b3cf0bc4f01fb5d19a22e0964240c87964', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 10, 'created': '2023-04-05 14:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/985f6254f88183be2083180d166dd1198c116611', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 11, 'created': '2023-04-28 14:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f3ad78ff166e9ab5b2d1f2e63d980dcd2067aad', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 12, 'created': '2023-06-27 13:40:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ca2b95cdbc646c3d127b5b8340e4495126ae13f9', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 13, 'created': '2023-06-30 12:05:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/74ce35778eea27e9ad8887c711951f75cd63d37d', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}, {'number': 14, 'created': '2023-07-03 13:11:28.000000000', 'files': ['ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/migration/tasks/main.yml', 'ansible/roles/keystone/templates/keystone.json.j2', 'ansible/roles/mariadb/tasks/deploy.yml', 'ansible/roles/migration/tasks/cleanup.yml', 'ansible/roles/migration/tasks/migrate-volumes.yml', 'ansible/roles/migration/tasks/replace.yml', 'ansible/migrate.yml', 'etc/kolla/globals.yml', 'ansible/roles/migration/defaults/main.yml', 'tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4dd17434b0c4add3f2f4c8bf44222d431f2d4188', 'message': 'Add migration scenario from Docker to Podman (WIP)\n\nAdd ""migrate"" action to kolla-ansible which migrates openstack\ndeployed on Docker to Podman.\n\nFor the time being this patch should be treated as a proof of concept\nrather than actual solution.\n\nSigned-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>\nSigned-off-by: Martin Hiner <m.hiner@partner.samsung.com>\nChange-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b\n'}]",4,836941,4dd17434b0c4add3f2f4c8bf44222d431f2d4188,32,8,14,34501,,,0,"Add migration scenario from Docker to Podman (WIP)

Add ""migrate"" action to kolla-ansible which migrates openstack
deployed on Docker to Podman.

For the time being this patch should be treated as a proof of concept
rather than actual solution.

Signed-off-by: Konstantin Yarovoy <konstantin.yarovoy@tietoevry.com>
Signed-off-by: Martin Hiner <m.hiner@partner.samsung.com>
Change-Id: Icd709cb042d44e063c5da64ab0695b0b6ba6d48b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/41/836941/14 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/templates/keystone.json.j2', 'ansible/migrate.yml', 'tools/kolla-ansible']",3,c7c485f78d12dc94656c76517472a48af70a894a,kolla-podman,"(migrate) ACTION=""Migrate deployed openstack from docker to podman"" PLAYBOOK=""${BASEDIR}/ansible/migrate.yml"" echo ""BASEDIR: $BASEDIR"" > args.yml echo ""RAW_ARGS: '${RAW_ARGS::-8}'"" >> args.yml EXTRA_OPTS=""$EXTRA_OPTS -e @args.yml""",,54,0
openstack%2Foctavia~stable%2Fyoga~Iccc50867b28dd20ee45cad623ab19f23ff865682,openstack/octavia,stable/yoga,Iccc50867b28dd20ee45cad623ab19f23ff865682,Remove incorrect info message,MERGED,2023-04-07 09:08:41.000000000,2023-07-03 15:27:46.000000000,2023-07-03 15:25:56.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-07 09:08:41.000000000', 'files': ['octavia/controller/worker/v2/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/e4cfb3e5cb2b5953ef7c45eb0fe4a5680fbb9d63', 'message': 'Remove incorrect info message\n\nIn amphorav2 the controller now waits for the completion of the job to\nsend a keepalive to taskflow.  This patch is a follow up patch to\nI6619ba117f7051fe44086389789bc6e2810fd23d, it removes a INFO message\nthat no longer makes sense because it is displayed after the\ncompletion of the flow.\n\nChange-Id: Iccc50867b28dd20ee45cad623ab19f23ff865682\n(cherry picked from commit 24ce12a15669a5ebe997655a4b42ba00142dc687)\n'}]",11,879874,e4cfb3e5cb2b5953ef7c45eb0fe4a5680fbb9d63,28,3,1,29244,,,0,"Remove incorrect info message

In amphorav2 the controller now waits for the completion of the job to
send a keepalive to taskflow.  This patch is a follow up patch to
I6619ba117f7051fe44086389789bc6e2810fd23d, it removes a INFO message
that no longer makes sense because it is displayed after the
completion of the flow.

Change-Id: Iccc50867b28dd20ee45cad623ab19f23ff865682
(cherry picked from commit 24ce12a15669a5ebe997655a4b42ba00142dc687)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/74/879874/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/controller/worker/v2/controller_worker.py'],1,e4cfb3e5cb2b5953ef7c45eb0fe4a5680fbb9d63,," self.services_controller.run_poster(func, *args, **kwargs)"," job_id = self.services_controller.run_poster(func, *args, **kwargs) LOG.info(""Taskflow job will execute flow %s with id %s"", func.__name__, job_id)",1,4
openstack%2Fpython-cinderclient~stable%2Fwallaby~Ica4c0a1d4f861e528ce8995766e82541dc710e0f,openstack/python-cinderclient,stable/wallaby,Ica4c0a1d4f861e528ce8995766e82541dc710e0f,[stable-only] Pin tox <4,MERGED,2023-01-04 23:39:10.000000000,2023-07-03 15:27:42.000000000,2023-07-03 15:25:52.000000000,"[{'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-01-04 23:39:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/84f46cafcc7a075ec660fd4a0a5e4ce655604020', 'message': '[stable-only] Pin tox <4\n\nContinue to use tox 3 until we decide how to do the transition\nto tox 4 in the stable branches.\n\nChange-Id: Ica4c0a1d4f861e528ce8995766e82541dc710e0f\n(cherry picked from commit 1141f312e0c426609d18bd930cfa44466bbe1d9a)\n(cherry picked from commit f724a2ea231f3f8350c048735bbb4c3ebffc7856)\n(cherry picked from commit 9bf8c4c86090ddf2441cfb7558057d61fda9d9a1)\n'}, {'number': 2, 'created': '2023-01-05 16:50:07.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cinderclient/commit/3d309b785ad7a58fb13176d1a9b9770afb36c238', 'message': ""[stable-only] Pin tox <4\n\nContinue to use tox 3 in the stable branches.\n\nTwo changes:\n- .zuul.yaml: set the ensure_tox_version to use <4, which will\n  tell zuul to install tox<4 if it's not present\n- tox.ini: set requires=tox<4 so that if tox has been installed\n  already, our tox-based jobs will use tox 3 to run the tests\n\nChange-Id: Ica4c0a1d4f861e528ce8995766e82541dc710e0f\n(cherry picked from commit 22a3169576b3fd91388e7b57ffd39e3760016796)\n(cherry picked from commit e3799da5558a6a686885fa70c155d8d37d44497d)\n(cherry picked from commit 64943b71b0f76b488dbf6bb11a0d7d3c905b97ec)\n""}]",3,869267,3d309b785ad7a58fb13176d1a9b9770afb36c238,14,3,2,5314,,,0,"[stable-only] Pin tox <4

Continue to use tox 3 in the stable branches.

Two changes:
- .zuul.yaml: set the ensure_tox_version to use <4, which will
  tell zuul to install tox<4 if it's not present
- tox.ini: set requires=tox<4 so that if tox has been installed
  already, our tox-based jobs will use tox 3 to run the tests

Change-Id: Ica4c0a1d4f861e528ce8995766e82541dc710e0f
(cherry picked from commit 22a3169576b3fd91388e7b57ffd39e3760016796)
(cherry picked from commit e3799da5558a6a686885fa70c155d8d37d44497d)
(cherry picked from commit 64943b71b0f76b488dbf6bb11a0d7d3c905b97ec)
",git fetch https://review.opendev.org/openstack/python-cinderclient refs/changes/67/869267/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,84f46cafcc7a075ec660fd4a0a5e4ce655604020,tox-4-postponed, vars: ensure_tox_version: '<4',,2,0
openstack%2Foctavia~stable%2Fyoga~I29fcad9e121a30d6e8f8178f2f078cf10771a32a,openstack/octavia,stable/yoga,I29fcad9e121a30d6e8f8178f2f078cf10771a32a,Prevent incorrect reschedule of resumed tasks with jobboard,MERGED,2023-04-07 09:25:39.000000000,2023-07-03 15:23:07.000000000,2023-07-03 15:20:58.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-07 09:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d5bcb296352d37307978a8b0550a50b80402024', 'message': 'Prevent incorrect reschedule of resumed tasks with jobboard\n\nA previous patch [0] introduced a keepalive mechanism that allows a\ncontroller to notify taskflow that a task is being executed.\nBut it doesn\'t handle ""resumed"" tasks (tasks that have been rescheduled\nfrom one controller to another controller).\n\nThis patch moves this keepalive task in a thread that is attached to a\ntaskflow conductor, the thread will extend the expiration of the tasks\nthat are executed by this conductor.\n\n[0] I6619ba117f7051fe44086389789bc6e2810fd23d\n\nStory 2009998\nTask 45089\n\nConflicts:\n\toctavia/tests/unit/common/test_base_taskflow.py\n\nChange-Id: I29fcad9e121a30d6e8f8178f2f078cf10771a32a\n(cherry picked from commit d367b47639af02aaaff80cd62629f5c8e7f3f91a)\n'}, {'number': 2, 'created': '2023-04-11 13:54:24.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'releasenotes/notes/fix-reschedule-of-jobboard-tasks-929c066dea9267fd.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dd29742d0e37682b9e46c48e8f63579ad7152b97', 'message': 'Prevent incorrect reschedule of resumed tasks with jobboard\n\nA previous patch [0] introduced a keepalive mechanism that allows a\ncontroller to notify taskflow that a task is being executed.\nBut it doesn\'t handle ""resumed"" tasks (tasks that have been rescheduled\nfrom one controller to another controller).\n\nThis patch moves this keepalive task in a thread that is attached to a\ntaskflow conductor, the thread will extend the expiration of the tasks\nthat are executed by this conductor.\n\n[0] I6619ba117f7051fe44086389789bc6e2810fd23d\n\nStory 2009998\nTask 45089\n\nConflicts:\n\toctavia/tests/unit/common/test_base_taskflow.py\n\nChange-Id: I29fcad9e121a30d6e8f8178f2f078cf10771a32a\n(cherry picked from commit d367b47639af02aaaff80cd62629f5c8e7f3f91a)\n'}]",4,879879,dd29742d0e37682b9e46c48e8f63579ad7152b97,18,3,2,29244,,,0,"Prevent incorrect reschedule of resumed tasks with jobboard

A previous patch [0] introduced a keepalive mechanism that allows a
controller to notify taskflow that a task is being executed.
But it doesn't handle ""resumed"" tasks (tasks that have been rescheduled
from one controller to another controller).

This patch moves this keepalive task in a thread that is attached to a
taskflow conductor, the thread will extend the expiration of the tasks
that are executed by this conductor.

[0] I6619ba117f7051fe44086389789bc6e2810fd23d

Story 2009998
Task 45089

Conflicts:
	octavia/tests/unit/common/test_base_taskflow.py

Change-Id: I29fcad9e121a30d6e8f8178f2f078cf10771a32a
(cherry picked from commit d367b47639af02aaaff80cd62629f5c8e7f3f91a)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/79/879879/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/tests/unit/common/test_base_taskflow.py', 'releasenotes/notes/fix-reschedule-of-jobboard-tasks-929c066dea9267fd.yaml']",3,0d5bcb296352d37307978a8b0550a50b80402024,,--- fixes: - | Fix the rescheduling of taskflow tasks that have been resumed after being interrupted. ,,67,20
openstack%2Foctavia~stable%2Fxena~I174e63cfe176e1792d0bbcd348dbc9115544e297,openstack/octavia,stable/xena,I174e63cfe176e1792d0bbcd348dbc9115544e297,Enable taskflow retry feature when waiting for compute,MERGED,2023-04-07 09:05:57.000000000,2023-07-03 15:22:16.000000000,2023-07-03 15:21:03.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-07 09:05:57.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-computewait-with-persistence-d10223bfb48a0ded.yaml', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/aa238045e23ecacf42d639b0550c763d0ffc2cc6', 'message': 'Enable taskflow retry feature when waiting for compute\n\nThe ComputeActiveWait task may be blocked for 300 seconds (with the\ndefault settings for amp_active_retries and amp_active_wait_sec) but\nthat triggers trigger issues when persistence is enabled if this delay\nexceeds the jobboard_expiration_time value.\n\nComputeActiveWait is renamed to ComputeWait and now uses the retry\nfeature of taskflow so it would not block taskflow for a long period.\n\nStory 2008956\nTask 42584\n\nChange-Id: I174e63cfe176e1792d0bbcd348dbc9115544e297\n(cherry picked from commit a9ee09a676074eeb619a4d7c3d9912114de50e88)\n(cherry picked from commit ae3cc5b34d5ded02d1015c05a9158f394ca3ec89)\n'}]",3,879872,aa238045e23ecacf42d639b0550c763d0ffc2cc6,16,3,1,29244,,,0,"Enable taskflow retry feature when waiting for compute

The ComputeActiveWait task may be blocked for 300 seconds (with the
default settings for amp_active_retries and amp_active_wait_sec) but
that triggers trigger issues when persistence is enabled if this delay
exceeds the jobboard_expiration_time value.

ComputeActiveWait is renamed to ComputeWait and now uses the retry
feature of taskflow so it would not block taskflow for a long period.

Story 2008956
Task 42584

Change-Id: I174e63cfe176e1792d0bbcd348dbc9115544e297
(cherry picked from commit a9ee09a676074eeb619a4d7c3d9912114de50e88)
(cherry picked from commit ae3cc5b34d5ded02d1015c05a9158f394ca3ec89)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/72/879872/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-computewait-with-persistence-d10223bfb48a0ded.yaml', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py']",6,aa238045e23ecacf42d639b0550c763d0ffc2cc6,,"from taskflow import retryclass ComputeRetry(retry.Times): def on_failure(self, history, *args, **kwargs): last_errors = history[-1][1] max_retry_attempt = CONF.controller_worker.amp_active_retries for task_name, ex_info in last_errors.items(): if len(history) <= max_retry_attempt: # When taskflow persistance is enabled and flow/task state is # saved in the backend. If flow(task) is restored(restart of # worker,etc) we are getting ex_info as None - we need to RETRY # task to check its real state. if ex_info is None or ex_info._exc_info is None: return retry.RETRY excp = ex_info._exc_info[1] if isinstance(excp, exceptions.ComputeWaitTimeoutException): return retry.RETRY return retry.REVERT_ALL class ComputeWait(BaseComputeTask): amp, fault = self.compute.get_amphora(compute_id, amp_network) if amp.status == constants.ACTIVE: if CONF.haproxy_amphora.build_rate_limit != -1: self.rate_limit.remove_from_build_req_queue(amphora_id) return amp.to_dict() if amp.status == constants.ERROR: raise exceptions.ComputeBuildException(fault=fault) time.sleep(CONF.controller_worker.amp_active_wait_sec)","class ComputeActiveWait(BaseComputeTask): for i in range(CONF.controller_worker.amp_active_retries): amp, fault = self.compute.get_amphora(compute_id, amp_network) if amp.status == constants.ACTIVE: if CONF.haproxy_amphora.build_rate_limit != -1: self.rate_limit.remove_from_build_req_queue(amphora_id) return amp.to_dict() if amp.status == constants.ERROR: raise exceptions.ComputeBuildException(fault=fault) time.sleep(CONF.controller_worker.amp_active_wait_sec) ",67,23
openstack%2Foctavia~stable%2Fyoga~I174e63cfe176e1792d0bbcd348dbc9115544e297,openstack/octavia,stable/yoga,I174e63cfe176e1792d0bbcd348dbc9115544e297,Enable taskflow retry feature when waiting for compute,MERGED,2023-04-07 09:05:40.000000000,2023-07-03 15:22:06.000000000,2023-07-03 15:20:52.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-04-07 09:05:40.000000000', 'files': ['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-computewait-with-persistence-d10223bfb48a0ded.yaml', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/ae3cc5b34d5ded02d1015c05a9158f394ca3ec89', 'message': 'Enable taskflow retry feature when waiting for compute\n\nThe ComputeActiveWait task may be blocked for 300 seconds (with the\ndefault settings for amp_active_retries and amp_active_wait_sec) but\nthat triggers trigger issues when persistence is enabled if this delay\nexceeds the jobboard_expiration_time value.\n\nComputeActiveWait is renamed to ComputeWait and now uses the retry\nfeature of taskflow so it would not block taskflow for a long period.\n\nStory 2008956\nTask 42584\n\nChange-Id: I174e63cfe176e1792d0bbcd348dbc9115544e297\n(cherry picked from commit a9ee09a676074eeb619a4d7c3d9912114de50e88)\n'}]",3,879871,ae3cc5b34d5ded02d1015c05a9158f394ca3ec89,16,3,1,29244,,,0,"Enable taskflow retry feature when waiting for compute

The ComputeActiveWait task may be blocked for 300 seconds (with the
default settings for amp_active_retries and amp_active_wait_sec) but
that triggers trigger issues when persistence is enabled if this delay
exceeds the jobboard_expiration_time value.

ComputeActiveWait is renamed to ComputeWait and now uses the retry
feature of taskflow so it would not block taskflow for a long period.

Story 2008956
Task 42584

Change-Id: I174e63cfe176e1792d0bbcd348dbc9115544e297
(cherry picked from commit a9ee09a676074eeb619a4d7c3d9912114de50e88)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/71/879871/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/base_taskflow.py', 'octavia/tests/unit/controller/worker/v2/tasks/test_compute_tasks.py', 'octavia/common/constants.py', 'releasenotes/notes/fix-computewait-with-persistence-d10223bfb48a0ded.yaml', 'octavia/controller/worker/v2/flows/amphora_flows.py', 'octavia/controller/worker/v2/tasks/compute_tasks.py']",6,ae3cc5b34d5ded02d1015c05a9158f394ca3ec89,,"from taskflow import retryclass ComputeRetry(retry.Times): def on_failure(self, history, *args, **kwargs): last_errors = history[-1][1] max_retry_attempt = CONF.controller_worker.amp_active_retries for task_name, ex_info in last_errors.items(): if len(history) <= max_retry_attempt: # When taskflow persistance is enabled and flow/task state is # saved in the backend. If flow(task) is restored(restart of # worker,etc) we are getting ex_info as None - we need to RETRY # task to check its real state. if ex_info is None or ex_info._exc_info is None: return retry.RETRY excp = ex_info._exc_info[1] if isinstance(excp, exceptions.ComputeWaitTimeoutException): return retry.RETRY return retry.REVERT_ALL class ComputeWait(BaseComputeTask): amp, fault = self.compute.get_amphora(compute_id, amp_network) if amp.status == constants.ACTIVE: if CONF.haproxy_amphora.build_rate_limit != -1: self.rate_limit.remove_from_build_req_queue(amphora_id) return amp.to_dict() if amp.status == constants.ERROR: raise exceptions.ComputeBuildException(fault=fault) time.sleep(CONF.controller_worker.amp_active_wait_sec)","class ComputeActiveWait(BaseComputeTask): for i in range(CONF.controller_worker.amp_active_retries): amp, fault = self.compute.get_amphora(compute_id, amp_network) if amp.status == constants.ACTIVE: if CONF.haproxy_amphora.build_rate_limit != -1: self.rate_limit.remove_from_build_req_queue(amphora_id) return amp.to_dict() if amp.status == constants.ERROR: raise exceptions.ComputeBuildException(fault=fault) time.sleep(CONF.controller_worker.amp_active_wait_sec) ",67,23
openstack%2Fcharm-ceph-nfs~master~I497b14cbcd043f6159612932d0274b158862992c,openstack/charm-ceph-nfs,master,I497b14cbcd043f6159612932d0274b158862992c,Add support for interim Ubuntu releases,NEW,2023-04-25 23:39:32.000000000,2023-07-03 15:16:14.000000000,,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 34952}]","[{'number': 1, 'created': '2023-04-25 23:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-nfs/commit/47f9c052a939baecce0cc86d1b22675ddf0befd2', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: I497b14cbcd043f6159612932d0274b158862992c\n'}, {'number': 2, 'created': '2023-06-26 20:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-nfs/commit/87017db0f43cf6762d93e740d56a2776fb7f2cbe', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update charmcraft to allow run-on for kinetic and lunar\n\nChange-Id: I497b14cbcd043f6159612932d0274b158862992c\n'}, {'number': 3, 'created': '2023-06-29 08:08:11.000000000', 'files': ['osci.yaml', 'tests/bundles/focal-quincy.yaml', 'tests/bundles/kinetic-quincy.yaml', 'tests/bundles/focal-pacific.yaml', 'tests/bundles/jammy-quincy.yaml', 'tests/bundles/lunar-quincy.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-nfs/commit/fc9ce6d260911e1fc75289a5a26f69e0de24bf62', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update charmcraft to allow run-on for kinetic and lunar\n\nChange-Id: I497b14cbcd043f6159612932d0274b158862992c\n'}]",13,881525,fc9ce6d260911e1fc75289a5a26f69e0de24bf62,21,4,3,33717,,,0,"Add support for interim Ubuntu releases

- update bundles to include UCA pocket tests
- update test configuration
- update metadata to include kinetic and lunar
- update charmcraft to allow run-on for kinetic and lunar

Change-Id: I497b14cbcd043f6159612932d0274b158862992c
",git fetch https://review.opendev.org/openstack/charm-ceph-nfs refs/changes/25/881525/3 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'requirements.txt', 'charmcraft.yaml', 'tests/bundles/kinetic-quincy.yaml', 'metadata.yaml', 'tests/bundles/lunar-quincy.yaml']",6,47f9c052a939baecce0cc86d1b22675ddf0befd2,ceph-lunar,"local_overlay_enabled: False series: jammy applications: ubuntu: charm: cs:ubuntu num_units: 2 ceph-nfs: charm: ../../ceph-nfs.charm num_units: 2 options: source: distro ceph-osd: charm: ch:ceph-osd channel: quincy/edge num_units: 3 storage: osd-devices: '2,10G' options: source: distro ceph-mon: charm: ch:ceph-mon channel: quincy/edge num_units: 3 options: monitor-count: '3' expected-osd-count: 6 source: distro ceph-fs: charm: ch:ceph-fs channel: quincy/edge num_units: 2 options: source: distro hacluster: charm: ch:hacluster channel: 2.4/edge options: cluster_count: 2 relations: - - 'ceph-mon:client' - 'ceph-nfs:ceph-client' - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'ceph-fs' - 'ceph-mon' - - 'ceph-nfs:ha' - 'hacluster:ha' ",,125,5
openstack%2Fopenstack-ansible~stable%2F2023.1~I44114b8c5a391df6bb9376032dfca4e98ff1e2ac,openstack/openstack-ansible,stable/2023.1,I44114b8c5a391df6bb9376032dfca4e98ff1e2ac,Add support for 'tls-transition' scenario,MERGED,2023-06-27 21:12:21.000000000,2023-07-03 15:16:02.000000000,2023-07-03 15:14:07.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-27 21:12:21.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/templates/user_variables_tls-transition.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/49f0bd36ec6af6191a61eda57a8c92b4a63e1945', 'message': ""Add support for 'tls-transition' scenario\n\nScenario 'tls-transition' should deploy source release with TLS fully\ndisabled. That is the reason why this patch needs to be merged to the\nlast stable release.\n\nChange-Id: I44114b8c5a391df6bb9376032dfca4e98ff1e2ac\n""}]",0,887118,49f0bd36ec6af6191a61eda57a8c92b4a63e1945,8,3,1,32666,,,0,"Add support for 'tls-transition' scenario

Scenario 'tls-transition' should deploy source release with TLS fully
disabled. That is the reason why this patch needs to be merged to the
last stable release.

Change-Id: I44114b8c5a391df6bb9376032dfca4e98ff1e2ac
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/18/887118/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/templates/user_variables_tls-transition.yml.j2']",2,49f0bd36ec6af6191a61eda57a8c92b4a63e1945,tls-backend,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Make sure that source release has TLS fully disabled. openstack_service_publicuri_proto: http openstack_service_adminuri_proto: http openstack_service_internaluri_proto: http haproxy_ssl: False haproxy_ssl_all_vips: False rabbitmq_management_ssl: False openstack_service_backend_ssl: False openstack_service_accept_both_protocols: False ",,24,0
openstack%2Fironic~master~I0b9b600c3eb10761054abdb9c13d7107269001b9,openstack/ironic,master,I0b9b600c3eb10761054abdb9c13d7107269001b9,Use jammy for base jobs,MERGED,2023-01-03 09:24:36.000000000,2023-07-03 15:13:50.000000000,2023-07-03 15:11:27.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32029}]","[{'number': 1, 'created': '2023-01-03 09:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d8716048621a922b88999e6b55ae8bd435ab682f', 'message': 'Use jammy for base jobs\n\ntasty!\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 2, 'created': '2023-01-03 11:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/422e52de1742ec55ea27b693fa1305cd8cda8c65', 'message': '[WIP] Use jammy for base jobs\n\ntasty!\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 3, 'created': '2023-01-03 13:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9377c110e0dc3b46af93b319f0dc90bb5017b61a', 'message': '[WIP] Use jammy for base jobs\n\ntasty!\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 4, 'created': '2023-01-03 13:49:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/776504ea78b48363b41b11fc48a29b5df0fd2218', 'message': 'Use jammy for base jobs\n\ntasty!\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 5, 'created': '2023-01-03 13:49:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/294eb6fe9341e9d258ad0b054ae4993053797405', 'message': 'Use jammy for base jobs\n\ntasty!\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 6, 'created': '2023-01-03 15:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6dcf41e9dd7b92b8fe46e27e0ba96cff7755acd2', 'message': 'Use jammy for base jobs\n\ntasty!\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 7, 'created': '2023-01-05 08:32:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3ccd21dc3a3957ea6f423892d32fd294b88a59a2', 'message': 'Use jammy for base jobs\n\ntasty!\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 8, 'created': '2023-04-25 14:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/95946fa2ff2ad7cef69b8facfaa7bd995310d2ae', 'message': 'Use jammy for base jobs\n\ntasty!\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 9, 'created': '2023-04-26 12:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ba0d98f3a1efff676a45f23a5d178ea3810fbb55', 'message': 'Use jammy for base jobs\n\ntasty!\n\nAlso temporarily disable the snmp job due to pyasn1 0.5.0\nbreaking compatiblity with snmp python libraries.\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 10, 'created': '2023-04-27 10:29:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6eeaea79176cb2e1cef506d036804a6803b0d7b8', 'message': 'Use jammy for base jobs\n\ntasty!\n\nAlso temporarily disable the snmp job due to pyasn1 0.5.0\nbreaking compatiblity with snmp python libraries.\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 11, 'created': '2023-04-27 10:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b098ed8239490b6234ac1ac8fd22389f80f95485', 'message': 'Use jammy for base jobs\n\ntasty!\n\nAlso temporarily disable the snmp job due to pyasn1 0.5.0\nbreaking compatiblity with snmp python libraries.\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 12, 'created': '2023-04-27 10:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2c3cd49c9e210a0b8cdf854e984738ab79beb0d3', 'message': 'Use jammy for base jobs\n\ntasty!\n\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 13, 'created': '2023-05-10 08:11:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3fdd51c2a9cf304c0a791ba255fa81e8b28cc3c2', 'message': 'Use jammy for base jobs\n\ntasty!\n\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n'}, {'number': 14, 'created': '2023-06-06 15:08:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ebd908a705c3376924ca015c7366d0c6a14f3f1', 'message': ""Use jammy for base jobs\n\nLeave the snmp job on focal for the time being as it's failing on jammy\nand we need to move forward with the migration.\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n""}, {'number': 15, 'created': '2023-06-06 15:09:47.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f434643293c3bea2da738241971e65bb4a877882', 'message': ""Use jammy for base jobs\n\nLeave the snmp job on focal for the time being as it's failing on jammy\nand we need to move forward with the migration.\n\nChange-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9\n""}]",32,869052,f434643293c3bea2da738241971e65bb4a877882,137,6,15,23851,,,0,"Use jammy for base jobs

Leave the snmp job on focal for the time being as it's failing on jammy
and we need to move forward with the migration.

Change-Id: I0b9b600c3eb10761054abdb9c13d7107269001b9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/869052/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,d8716048621a922b88999e6b55ae8bd435ab682f,move-to-jammy, nodeset: openstack-single-node-jammy nodeset: openstack-two-node-jammy, nodeset: openstack-single-node-focal nodeset: openstack-two-node-focal,2,2
openstack%2Foctavia-dashboard~master~I882869ef0f5b6381372e3447af7ca1981ca02d65,openstack/octavia-dashboard,master,I882869ef0f5b6381372e3447af7ca1981ca02d65,Fix error related to barbicanclient,MERGED,2023-06-13 09:05:41.000000000,2023-07-03 14:57:24.000000000,2023-07-03 14:56:03.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2023-06-13 09:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/c012875f4906f24f8d8cbd6dac5ea24339581d63', 'message': 'Fix disabled TLS listener\n\nTODO\n\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 2, 'created': '2023-06-13 09:40:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/7ea41a4fee14beeaa2554fbd08279423ee07a35a', 'message': 'Fix disabled TLS listener\n\nTODO\n\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 3, 'created': '2023-06-13 10:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/aeccd7f67f9fadb6633ce9936ca171de5e74e68a', 'message': 'Fix disabled TLS listener\n\nAttempt using barbicanclient\n\nTODO\n\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 4, 'created': '2023-06-13 10:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/d5e47a4ed46ef86b52ea563d09a462372fd71f51', 'message': 'Fix disabled TLS listener\n\nTODO\n\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 5, 'created': '2023-06-13 10:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/def66ca2d80a49c1831d1200382e3ecf8031b34d', 'message': 'Fix disabled TLS listener\n\nTODO\n\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 6, 'created': '2023-06-13 11:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/deded30dd9eb3e5966bdbe986329915a3bd9429f', 'message': 'Fix disabled TLS listener\n\nTODO\n\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 7, 'created': '2023-06-13 11:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/1e447ad7463d5d086df134cc6d926a67830ea820', 'message': 'Fix disabled TLS listener\n\nTODO\n\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 8, 'created': '2023-06-13 13:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/065761484c544e25fbb480d1e7b0ed4cb86f7d34', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by more future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 9, 'created': '2023-06-13 13:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/ae43e6eccbe6ff50353574106053397e3581ecf7', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by more future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 10, 'created': '2023-06-13 14:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/857117bd0688b41fefef66f2e281d8f48f978343', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by more future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 11, 'created': '2023-06-19 14:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/5eb6cf05479d2c9fee112a2911339385c2e23852', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by more future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 12, 'created': '2023-06-19 16:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/a90d22c267cee0a058efd7f1e3ea58491ffda62a', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by more future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 13, 'created': '2023-06-19 16:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/951939451d67d0b63deae314771f4a38c26223c3', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by more future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 14, 'created': '2023-06-20 07:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/35c7b7f827d9bf6aa8c87dfabef53bd72580fd11', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 15, 'created': '2023-06-27 10:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/a3e68b66bc1470ce4a5c5bc2e2d89aaedd290f78', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}, {'number': 16, 'created': '2023-06-27 10:25:37.000000000', 'files': ['octavia_dashboard/sdk_connection.py', 'requirements.txt', 'releasenotes/notes/remove-barbicanclient-6b48fcc36afafb62.yaml', 'octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/api/rest/barbican.py'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/6fb6871ee0fe22b4e661edf8edc5a93129affa98', 'message': 'Fix error related to barbicanclient\n\nOctavia Dashboard used protected barbicanclient API that seems to be\nbroken now. Fixing that by replacing barbicanclient by future-proof\nopenstacksdk.\n\nCloses-Bug: #2023534\nChange-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65\n'}]",49,885948,6fb6871ee0fe22b4e661edf8edc5a93129affa98,41,3,16,34429,,,0,"Fix error related to barbicanclient

Octavia Dashboard used protected barbicanclient API that seems to be
broken now. Fixing that by replacing barbicanclient by future-proof
openstacksdk.

Closes-Bug: #2023534
Change-Id: I882869ef0f5b6381372e3447af7ca1981ca02d65
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/48/885948/16 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_dashboard/api/rest/lbaasv2.py', 'octavia_dashboard/api/rest/sdk_interface.py', 'octavia_dashboard/api/rest/__init__.py', 'octavia_dashboard/api/rest/barbican.py']",4,c012875f4906f24f8d8cbd6dac5ea24339581d63,fix-tls-listener,"from oslo_log import log as logging try: from openstack import config as occ except ImportError: from os_client_config import config as occ from openstack_dashboard.api.rest import sdk_interfaceLOG = logging.getLogger(__name__) # @memoized # def barbicanclient(request): # region = request.user.services_region # endpoint = base.url_for(request, 'key-manager') # auth_url, _ = auth_utils.fix_auth_url_version_prefix( # settings.OPENSTACK_KEYSTONE_URL) # auth = token_endpoint.Token(auth_url, request.user.token.id) # # insecure = getattr(settings, 'OPENSTACK_SSL_NO_VERIFY', False) # cacert = getattr(settings, 'OPENSTACK_SSL_CACERT', None) # # If 'insecure' is True, 'verify' is False in all cases; otherwise # # pass the cacert path if it is present, or True if no cacert. # verify = not insecure and (cacert or True) # return barbican_client.Client(session=session.Session(auth=auth, # verify=verify), # endpoint=endpoint, # region_name=region) conn = sdk_interface.get_sdk_connection(request) LOG.error(f""XXXX conn {conn}"") # containers = barbicanclient(request).containers containers = list(conn.key_manager.containers()) LOG.error(f""XXXXXX containers obj: {containers}, {containers!r}, "" f""{type(containers)}"") LOG.error(f""YYYYYY cert param: {params}"") # result = containers._api.get('containers', params=params) # return {'items': result.get('containers')} return {'items': containers} conn = sdk_interface.get_sdk_connection(request) LOG.error(f""XXXX conn {conn}"") secrets = list(conn.key_manager.secrets()) LOG.error(f""XXXXXX secrets obj: {secrets}, {secrets!r}, "" f""{type(secrets)}"") LOG.error(f""XXXXXX secrets param: {params}"") # result = secrets._api.get('secrets', params=params) # return {'items': result.get('secrets')} return {'items': secrets}","from openstack_auth import utils as auth_utils from openstack_dashboard.api import base @memoized def barbicanclient(request): region = request.user.services_region endpoint = base.url_for(request, 'key-manager') auth_url, _ = auth_utils.fix_auth_url_version_prefix( settings.OPENSTACK_KEYSTONE_URL) auth = token_endpoint.Token(auth_url, request.user.token.id) insecure = getattr(settings, 'OPENSTACK_SSL_NO_VERIFY', False) cacert = getattr(settings, 'OPENSTACK_SSL_CACERT', None) # If 'insecure' is True, 'verify' is False in all cases; otherwise # pass the cacert path if it is present, or True if no cacert. verify = not insecure and (cacert or True) return barbican_client.Client(session=session.Session(auth=auth, verify=verify), endpoint=endpoint, region_name=region) containers = barbicanclient(request).containers result = containers._api.get('containers', params=params) return {'items': result.get('containers')} secrets = barbicanclient(request).secrets result = secrets._api.get('secrets', params=params) return {'items': result.get('secrets')}",147,110
openstack%2Fcinder~master~I1ec983ca09cb42bf1ffb701c1ac56f84c4deee8f,openstack/cinder,master,I1ec983ca09cb42bf1ffb701c1ac56f84c4deee8f,Add job to test with SQLAlchemy master (2.x),NEW,2023-06-14 23:20:19.000000000,2023-07-03 14:45:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-14 23:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/78c8c661910be84274d0890340e4da0755462148', 'message': 'Add job to test with SQLAlchemy master (2.x)\n\nChange-Id: I1ec983ca09cb42bf1ffb701c1ac56f84c4deee8f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2023-06-20 15:52:19.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/021a8e0814d217f45a4d1972af387c3bd76a432a', 'message': 'Add job to test with SQLAlchemy master (2.x)\n\nChange-Id: I1ec983ca09cb42bf1ffb701c1ac56f84c4deee8f\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,886152,021a8e0814d217f45a4d1972af387c3bd76a432a,31,1,2,15334,,,0,"Add job to test with SQLAlchemy master (2.x)

Change-Id: I1ec983ca09cb42bf1ffb701c1ac56f84c4deee8f
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/886152/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,78c8c661910be84274d0890340e4da0755462148,sqlalchemy-20, - cinder-sqlalchemy-2x name: cinder-sqlalchemy-2x parent: openstack-tox description: | Run unit tests with main branch of SQLAlchemy and oslo.db. Takes advantage of the base tox job's install-siblings feature. # The job only tests the latest and shouldn't be run on the stable branches branches: ^(?!stable) required-projects: - name: github.com/sqlalchemy/sqlalchemy override-checkout: main - name: github.com/sqlalchemy/alembic override-checkout: main - job:,,15,0
openstack%2Fironic~master~Ifce61454265612c957e78cc94b8316d5d8b9d80e,openstack/ironic,master,Ifce61454265612c957e78cc94b8316d5d8b9d80e,"DNM: Add more debugging to tie test class, test, state",NEW,2023-06-28 14:16:37.000000000,2023-07-03 14:30:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-28 14:16:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/170e2d7071c1e3c042bb473f20b8c038a6a52e52', 'message': 'DNM: Add more debugging to tie test class, test, state\n\nChange-Id: Ifce61454265612c957e78cc94b8316d5d8b9d80e\n'}, {'number': 2, 'created': '2023-07-03 14:08:10.000000000', 'files': ['ironic/tests/unit/db/sqlalchemy/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/805d47ae926fbf8c525184a62875f597a5de280a', 'message': 'DNM: Add more debugging to tie test class, test, state\n\nChange-Id: Ifce61454265612c957e78cc94b8316d5d8b9d80e\n'}]",4,887168,805d47ae926fbf8c525184a62875f597a5de280a,18,1,2,11655,,,0,"DNM: Add more debugging to tie test class, test, state

Change-Id: Ifce61454265612c957e78cc94b8316d5d8b9d80e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/68/887168/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/db/sqlalchemy/test_migrations.py'],1,170e2d7071c1e3c042bb473f20b8c038a6a52e52,," print(""%s DEBUG - Setting up migration test %s"" % (self.__class__.__name__, version)) print(data) print(""%s DEBUG - Executing migration test %s"" % (self.__class__.__name__, version)) print(""%s DEBUG - Completed migration test %s"" % (self.__class__.__name__, version))",,7,1
openstack%2Fneutron~master~I1fb6a9ff94376ab5f695d311b6fa8034d73cf556,openstack/neutron,master,I1fb6a9ff94376ab5f695d311b6fa8034d73cf556,[OVN] Expose chassis hosting information in LSP,MERGED,2023-05-09 12:37:35.000000000,2023-07-03 14:25:09.000000000,2023-07-03 14:23:41.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-05-09 12:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95aeb11b762a359a33411fdde2431cff74c09970', 'message': '[OVN] DO NOT REVIEW: Update virtual port requested-chassis\n\nPoC/Test... Please do not review.\n\nChange-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2023-05-18 09:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ff7d533956a1a8ea3a22f01b00b13e81a79ff4d', 'message': '[OVN] Expose chassis hosting information for virutal ports\n\nExpose chassis hosting information for virtual ports via LSP\'s\nexternal_ids. This allows for other projects such as ovn-bgp-agent NB\ndriver that only connects to the NB database to consume such information.\n\nAlso stop populating the ""requested-chassis"" options for ports of the\ntype virtual because it\'s ignored by OVN.\n\nSee LP #2020058 for more information.\n\nCloses-Bug: #2020058\nChange-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2023-05-18 10:21:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9cfe03cf948c76c8ad6510a9d4b8f896939f9b9', 'message': '[OVN] Expose chassis hosting information for virutal ports\n\nExpose chassis hosting information for virtual ports via LSP\'s\nexternal_ids. This allows for other projects such as ovn-bgp-agent NB\ndriver that only connects to the NB database to consume such information.\n\nAlso stop populating the ""requested-chassis"" options for ports of the\ntype virtual because it\'s ignored by OVN.\n\nSee LP #2020058 for more information.\n\nCloses-Bug: #2020058\nChange-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2023-05-19 10:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69c7f7d51032ddfb15b25d45fdabd2972c56cee9', 'message': '[OVN] Expose chassis hosting information in LSP\n\nExpose chassis hosting information via LSP\'s external_ids. This allows\nfor projects such as ovn-bgp-agent NB driver that only connects to the\nNB database to consume such information (avoiding more connections to\nthe SB database).\n\nAlso stop populating the ""requested-chassis"" options for ports of the\ntype virtual because it\'s ignored by OVN.\n\nSee LP #2020058 for more information.\n\nCloses-Bug: #2020058\nChange-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2023-05-19 14:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db1524affc7328b22bfcf74f53ca1f1619bdeafb', 'message': '[OVN] Expose chassis hosting information in LSP\n\nExpose chassis hosting information via LSP\'s external_ids. This allows\nfor projects such as ovn-bgp-agent NB driver that only connects to the\nNB database to consume such information (avoiding more connections to\nthe SB database).\n\nAlso stop populating the ""requested-chassis"" options for ports of the\ntype virtual because it\'s ignored by OVN.\n\nSee LP #2020058 for more information.\n\nCloses-Bug: #2020058\nChange-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2023-06-07 14:10:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fbd5f549a84b523d8c466c8c2cedd09c5908943', 'message': '[OVN] Expose chassis hosting information in LSP\n\nExpose chassis hosting information via LSP\'s external_ids. This allows\nfor projects such as ovn-bgp-agent NB driver that only connects to the\nNB database to consume such information (avoiding more connections to\nthe SB database).\n\nAlso stop populating the ""requested-chassis"" options for ports of the\ntype virtual because it\'s ignored by OVN.\n\nSee LP #2020058 for more information.\n\nCloses-Bug: #2020058\nChange-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2023-06-08 10:35:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/414784501894f4e5b9d630d3a4ec305f17be89f5', 'message': '[OVN] Expose chassis hosting information in LSP\n\nExpose chassis hosting information via LSP\'s external_ids. This allows\nfor projects such as ovn-bgp-agent NB driver that only connects to the\nNB database to consume such information (avoiding more connections to\nthe SB database).\n\nAlso stop populating the ""requested-chassis"" options for ports of the\ntype virtual because it\'s ignored by OVN.\n\nSee LP #2020058 for more information.\n\nCloses-Bug: #2020058\nChange-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2023-06-23 14:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/37670f5b953f3f9f2baf3ba550b3b889d7f3c236', 'message': '[OVN] Expose chassis hosting information in LSP\n\nExpose chassis hosting information via LSP\'s external_ids. This allows\nfor projects such as ovn-bgp-agent NB driver that only connects to the\nNB database to consume such information (avoiding more connections to\nthe SB database).\n\nAlso stop populating the ""requested-chassis"" options for ports of the\ntype virtual because it\'s ignored by OVN.\n\nSee LP #2020058 for more information.\n\nCloses-Bug: #2020058\nChange-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2023-06-23 14:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2a78113a52f4e790f2b44026a3034060c5ea7949', 'message': '[OVN] Expose chassis hosting information in LSP\n\nExpose chassis hosting information via LSP\'s external_ids. This allows\nfor projects such as ovn-bgp-agent NB driver that only connects to the\nNB database to consume such information (avoiding more connections to\nthe SB database).\n\nAlso stop populating the ""requested-chassis"" options for ports of the\ntype virtual because it\'s ignored by OVN.\n\nSee LP #2020058 for more information.\n\nCloses-Bug: #2020058\nChange-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2023-06-30 14:45:35.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/common/ovn/constants.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/28926957d691c8b0897c71fee59a888783d15974', 'message': '[OVN] Expose chassis hosting information in LSP\n\nExpose chassis hosting information via LSP\'s external_ids. This allows\nfor projects such as ovn-bgp-agent NB driver that only connects to the\nNB database to consume such information (avoiding more connections to\nthe SB database).\n\nAlso stop populating the ""requested-chassis"" options for ports of the\ntype virtual because it\'s ignored by OVN.\n\nSee LP #2020058 for more information.\n\nCloses-Bug: #2020058\nChange-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",28,882705,28926957d691c8b0897c71fee59a888783d15974,73,8,10,6773,,,0,"[OVN] Expose chassis hosting information in LSP

Expose chassis hosting information via LSP's external_ids. This allows
for projects such as ovn-bgp-agent NB driver that only connects to the
NB database to consume such information (avoiding more connections to
the SB database).

Also stop populating the ""requested-chassis"" options for ports of the
type virtual because it's ignored by OVN.

See LP #2020058 for more information.

Closes-Bug: #2020058
Change-Id: I1fb6a9ff94376ab5f695d311b6fa8034d73cf556
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/882705/10 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",2,95aeb11b762a359a33411fdde2431cff74c09970,bug/2020058-expose-host-info, # Update the port requested chassis if needed self._ovn_client.update_port_requested_chassis(db_port),,11,0
openstack%2Fneutron~master~I1113a872aa8f238c523efbb6f948fd50210e8772,openstack/neutron,master,I1113a872aa8f238c523efbb6f948fd50210e8772,Remove unused method from OVN L3 plugin,MERGED,2023-06-30 22:20:01.000000000,2023-07-03 14:23:33.000000000,2023-07-03 14:22:23.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-30 22:20:01.000000000', 'files': ['neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a71a7f82f52e29787070494efc10a8a04689e9b', 'message': 'Remove unused method from OVN L3 plugin\n\nSince [0], the method _get_availability_zones_from_router_port in the\nOVN L3 plugin is not called from anywhere in the code. A search in\ncodesearch.openstack.org reveals no invocations to this method. This\npatch removes its definition.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/825073\n\nChange-Id: I1113a872aa8f238c523efbb6f948fd50210e8772\n'}]",2,887433,4a71a7f82f52e29787070494efc10a8a04689e9b,13,4,1,4694,,,0,"Remove unused method from OVN L3 plugin

Since [0], the method _get_availability_zones_from_router_port in the
OVN L3 plugin is not called from anywhere in the code. A search in
codesearch.openstack.org reveals no invocations to this method. This
patch removes its definition.

[0] https://review.opendev.org/c/openstack/neutron/+/825073

Change-Id: I1113a872aa8f238c523efbb6f948fd50210e8772
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/887433/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/ovn_l3/plugin.py'],1,4a71a7f82f52e29787070494efc10a8a04689e9b,remove-unused-method-from-ovn-L3-plugin,,"from neutron.common import utils as common_utils def _get_availability_zones_from_router_port(self, lrp_name): """"""Return the availability zones hints for the router port. Return a list of availability zones hints associated with the router that the router port belongs to. """""" context = n_context.get_admin_context() if not self._plugin_driver.list_availability_zones(context): return [] lrp = self._nb_ovn.get_lrouter_port(lrp_name) router = self.get_router( context, lrp.external_ids[ovn_const.OVN_ROUTER_NAME_EXT_ID_KEY]) az_hints = common_utils.get_az_hints(router) return az_hints ",0,17
openstack%2Ftripleo-upgrade~stable%2Fwallaby~Ia3d0df4b267c12afa69dd243b2c6f5354962c03a,openstack/tripleo-upgrade,stable/wallaby,Ia3d0df4b267c12afa69dd243b2c6f5354962c03a,[Upgrade] Add override at the last in upgrade commands,MERGED,2023-06-28 08:39:51.000000000,2023-07-03 14:21:50.000000000,2023-07-03 14:21:50.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-06-28 08:39:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d49dccf598cbb359d72aff9be6e9b1468f01e53a', 'message': '[Upgrade] Add override at the last in upgrade commands\n\nUpgrade override need to add at the end of prepare command otherwise it\nget overridden by the env file add after it.\n\nChange-Id: Ia3d0df4b267c12afa69dd243b2c6f5354962c03a\n'}, {'number': 2, 'created': '2023-06-29 08:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f670a283a2394a578f43acdef74c5bab7dd5fdf5', 'message': '[Upgrade] Add override at the last in upgrade commands\n\nUpgrade override need to add at the end of prepare command otherwise it\nget overridden by the env file add after it.\n\nChange-Id: Ia3d0df4b267c12afa69dd243b2c6f5354962c03a\n'}, {'number': 3, 'created': '2023-06-30 15:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4de479b942e6ad14ab1bb8eb6c8c0b58ff450093', 'message': '[Upgrade] Add override at the last in upgrade commands\n\nUpgrade override need to add at the end of prepare command otherwise it\nget overridden by the env file add after it.\n\nChange-Id: Ia3d0df4b267c12afa69dd243b2c6f5354962c03a\n'}, {'number': 4, 'created': '2023-07-03 05:39:13.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f4dbc2dd7e2a56b5ba76eb5220ab9ad62eb1f3ce', 'message': '[Upgrade] Add override at the last in upgrade commands\n\nUpgrade override need to add at the end of prepare command otherwise it\nget overridden by the env file add after it.\n\nChange-Id: Ia3d0df4b267c12afa69dd243b2c6f5354962c03a\n'}]",0,887146,f4dbc2dd7e2a56b5ba76eb5220ab9ad62eb1f3ce,16,6,4,29307,,,0,"[Upgrade] Add override at the last in upgrade commands

Upgrade override need to add at the end of prepare command otherwise it
get overridden by the env file add after it.

Change-Id: Ia3d0df4b267c12afa69dd243b2c6f5354962c03a
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/46/887146/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_prepare.sh.j2'],1,d49dccf598cbb359d72aff9be6e9b1468f01e53a,upgrade-overrides, {% if config_heat_extra_yaml is defined -%} -e {{ working_dir }}/{{ install.deployment.files | basename }}/config_heat_extra.yaml \ {% endif -%}, {% if config_heat_extra_yaml is defined -%} -e {{ working_dir }}/{{ install.deployment.files | basename }}/config_heat_extra.yaml \ {% endif -%},3,3
openstack%2Fneutron~master~I9701838a9b5622ff1c527524114efd76e57c5f15,openstack/neutron,master,I9701838a9b5622ff1c527524114efd76e57c5f15,[OVN] Improve ovn_l3/plugin.py exception logging,MERGED,2023-06-28 10:30:41.000000000,2023-07-03 14:02:53.000000000,2023-07-03 14:01:40.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 10:30:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/549c8c94584742d5bc1603dd4625ff9569831957', 'message': '[OVN] Improve ovn_l3/plugin.py exception logging\n\nStraight forward patch logging adding a LOG.exception while handling\nexceptions for the create/delete/update methods of routers and router\ninterfaces to improve debuggability.\n\nChange-Id: I9701838a9b5622ff1c527524114efd76e57c5f15\nCloses-Bug: #2025246\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2023-06-28 10:34:12.000000000', 'files': ['neutron/services/ovn_l3/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a97429e7f4b6357b40823308f6ab06266986874', 'message': '[OVN] Improve ovn_l3/plugin.py exception logging\n\nStraight forward patch logging adding a LOG.exception while handling\nexceptions for the create/delete/update methods of routers and router\ninterfaces to improve debuggability.\n\nChange-Id: I9701838a9b5622ff1c527524114efd76e57c5f15\nCloses-Bug: #2025246\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",4,887153,4a97429e7f4b6357b40823308f6ab06266986874,21,5,2,6773,,,0,"[OVN] Improve ovn_l3/plugin.py exception logging

Straight forward patch logging adding a LOG.exception while handling
exceptions for the create/delete/update methods of routers and router
interfaces to improve debuggability.

Change-Id: I9701838a9b5622ff1c527524114efd76e57c5f15
Closes-Bug: #2025246
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/53/887153/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/ovn_l3/plugin.py'],1,549c8c94584742d5bc1603dd4625ff9569831957,bug/2025246-improve-ovn_l3-logs," LOG.exception('Unable to create lrouter for %s', router['id']) LOG.exception('Unable to delete lrouter for %s', id) LOG.exception( 'Unable to add router interface to lrouter for %s. ' 'Interface info: %s', router_id, interface_info) LOG.exception( 'Unable to remove router interface from lrouter for %s. ' 'Interface info: %s', router_id, interface_info)"," LOG.error('Unable to create lrouter for %s', router['id'])",8,1
openstack%2Fcinder~stable%2Fwallaby~I3ab2cc28bef7524cec4f161c9d5417597df56b89,openstack/cinder,stable/wallaby,I3ab2cc28bef7524cec4f161c9d5417597df56b89,"Update url of ""Unity Replication White Paper""",NEW,2023-03-27 02:25:43.000000000,2023-07-03 13:40:39.000000000,,"[{'_account_id': 5997}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-27 02:25:43.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e0efa8df8ab77caedc09ae39581e9730a3a6e1f', 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}]",0,878605,1e0efa8df8ab77caedc09ae39581e9730a3a6e1f,10,2,1,33787,,,0,"Update url of ""Unity Replication White Paper""

The website ""www.emc.com"" has been discontinued.

Replace the outdated link
""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""
with the link
""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".

Change-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89
(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/878605/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,1e0efa8df8ab77caedc09ae39581e9730a3a6e1f,update-url-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby,<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_,<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_,2,2
openstack%2Fcinder~stable%2Ftrain~I3ab2cc28bef7524cec4f161c9d5417597df56b89,openstack/cinder,stable/train,I3ab2cc28bef7524cec4f161c9d5417597df56b89,"Update url of ""Unity Replication White Paper""",NEW,2023-03-27 02:26:18.000000000,2023-07-03 13:38:34.000000000,,"[{'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32074}]","[{'number': 1, 'created': '2023-03-27 02:26:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13d2cde7efee582276fe37b75fd07ac843faec25', 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}, {'number': 2, 'created': '2023-03-27 02:29:13.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/75423af96a63b58f440059d37193e00f05db3508', 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}]",2,878608,75423af96a63b58f440059d37193e00f05db3508,16,4,2,33787,,,0,"Update url of ""Unity Replication White Paper""

The website ""www.emc.com"" has been discontinued.

Replace the outdated link
""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""
with the link
""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".

Change-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89
(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/08/878608/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,13d2cde7efee582276fe37b75fd07ac843faec25,update-url-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train,"<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_<<<<<<< HEAD (a19c1c Merge ""Check VMDK subformat against an allowed list"" into st) ======= .. code-block:: console $ cinder failover-host --backend_id default stein@unity-primary .. note:: The volume can be deleted even when it is participating in a replication. The replication session will be deleted from Unity before the LUN is deleted. Consistency group replications ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ To enable consistency group replications, follow below steps: 1. On Unisphere, configure remote system and interfaces for replications. The way could be different depending on the type of replications - sync or async. Refer to `Unity Replication White Paper <https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_ for more detail. 2. Add `replication_device` to storage backend settings in `cinder.conf`, then restart Cinder Volume service. Example of `cinder.conf` for volume replications: .. code-block:: ini [unity-primary] san_ip = xxx.xxx.xxx.xxx ... replication_device = backend_id:unity-secondary,san_ip:yyy.yyy.yyy.yyy,san_login:username,san_password:****,max_time_out_of_sync:60 - Only one `replication_device` can be configured for each primary backend. - Keys `backend_id`, `san_ip`, `san_password`, and `max_time_out_of_sync` are supported in `replication_device`, while `backend_id` and `san_ip` are required. - `san_password` uses the same one as primary backend's if it is omitted. - `max_time_out_of_sync` is the max time in minutes replications are out of sync. It must be equal or greater than `0`. `0` means sync replications of volumes will be created. Note that remote systems for sync replications need to be created on Unity first. `60` will be used if it is omitted. 3. Create a volume type with property `replication_enabled='<is> True'`. .. code-block:: console $ openstack volume type create --property replication_enabled='<is> True' type-replication 4. Create a consistency group type with properties `consistent_group_snapshot_enabled='<is> True'` and `consistent_group_replication_enabled='<is> True'`. .. code-block:: console $ cinder --os-volume-api-version 3.38 group-type-create type-cg-replication $ cinder --os-volume-api-version 3.38 group-type-key type-cg-replication set consistent_group_snapshot_enabled='<is> True' consistent_group_replication_enabled='<is> True' 5. Create a group type with volume types support replication. .. code-block:: console $ cinder --os-volume-api-version 3.38 group-create --name test-cg {type-cg-replication-id} type-replication 6. Create volume in the consistency group. .. code-block:: console $ cinder --os-volume-api-version 3.38 create --volume-type type-replication --group-id {test-cg-id} --name {volume-name} {size} 7. Enable consistency group replication. .. code-block:: console $ cinder --os-volume-api-version 3.38 group-enable-replication test-cg 8. Disable consistency group replication. .. code-block:: console $ cinder --os-volume-api-version 3.38 group-disable-replication test-cg 9. Failover consistency group replication. .. code-block:: console $ cinder --os-volume-api-version 3.38 group-failover-replication test-cg 10. Failback consistency group replication. >>>>>>> CHANGE (d762da Update url of ""Unity Replication White Paper"")",<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_,95,1
openstack%2Fcinder~stable%2Fussuri~I3ab2cc28bef7524cec4f161c9d5417597df56b89,openstack/cinder,stable/ussuri,I3ab2cc28bef7524cec4f161c9d5417597df56b89,"Update url of ""Unity Replication White Paper""",NEW,2023-03-27 02:26:04.000000000,2023-07-03 13:38:29.000000000,,"[{'_account_id': 5997}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-27 02:26:04.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d762dab4849584893c1b9ad39cc9335a2e1f42ce', 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}]",0,878607,d762dab4849584893c1b9ad39cc9335a2e1f42ce,11,2,1,33787,,,0,"Update url of ""Unity Replication White Paper""

The website ""www.emc.com"" has been discontinued.

Replace the outdated link
""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""
with the link
""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".

Change-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89
(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/878607/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,d762dab4849584893c1b9ad39cc9335a2e1f42ce,update-url-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria-stable/ussuri,<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_,<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_,2,2
openstack%2Fcinder~stable%2Fvictoria~I3ab2cc28bef7524cec4f161c9d5417597df56b89,openstack/cinder,stable/victoria,I3ab2cc28bef7524cec4f161c9d5417597df56b89,"Update url of ""Unity Replication White Paper""",NEW,2023-03-27 02:25:53.000000000,2023-07-03 13:38:20.000000000,,"[{'_account_id': 5997}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2023-03-27 02:25:53.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/58de6888b4d57e28462b85339b1b5ba63e3b4708', 'message': 'Update url of ""Unity Replication White Paper""\n\nThe website ""www.emc.com"" has been discontinued.\n\nReplace the outdated link\n""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""\nwith the link\n""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".\n\nChange-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89\n(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)\n'}]",1,878606,58de6888b4d57e28462b85339b1b5ba63e3b4708,11,3,1,33787,,,0,"Update url of ""Unity Replication White Paper""

The website ""www.emc.com"" has been discontinued.

Replace the outdated link
""https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf""
with the link
""https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf"".

Change-Id: I3ab2cc28bef7524cec4f161c9d5417597df56b89
(cherry picked from commit 9714ae828e126f33a804b4cb6890e68ecde760b6)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/06/878606/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-unity-driver.rst'],1,58de6888b4d57e28462b85339b1b5ba63e3b4708,update-url-stable/2023.1-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria,<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_<https://dl.dell.com/content/docu69886_dell-emc-unity-replication-technologies-a-detailed-review.pdf>`_,<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_<https://www.emc.com/collateral/white-papers/h15088-dell-emc-unity-replication-technologies.pdf>`_,2,2
openstack%2Fcinder~master~Ie990eda0fe408fc1ef71af906b8d5af8168c46f4,openstack/cinder,master,Ie990eda0fe408fc1ef71af906b8d5af8168c46f4,IBM XIV: add method update_migrated_volume for xiv,NEW,2018-06-04 03:15:51.000000000,2023-07-03 13:34:47.000000000,,"[{'_account_id': 1736}, {'_account_id': 5997}, {'_account_id': 6491}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10622}, {'_account_id': 11186}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 14208}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 17045}, {'_account_id': 18120}, {'_account_id': 18288}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25677}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26422}, {'_account_id': 26537}, {'_account_id': 27601}, {'_account_id': 28801}]","[{'number': 1, 'created': '2018-06-04 03:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/de38e9b073499976e12e7c88216364555c508a0b', 'message': ""IBM XIV: add method update_migrated_volume for xiv\n\nPost migrate, rename the volume to original volume's name on storage.\nIf the volume and original volume exist in the same storage, use\n_name_id to record the relationship.\n\nChange-Id: Ie990eda0fe408fc1ef71af906b8d5af8168c46f4\nCloses-bug: #1774905\n""}, {'number': 2, 'created': '2018-06-05 08:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ffcd371c288b4a81b381dd2d0f3525736fb16e28', 'message': ""IBM XIV: add method update_migrated_volume for xiv\n\nPost migrate, rename the volume to original volume's name on storage.\nIf the volume and original volume exist in the same storage, use\n_name_id to record the relationship.\n\nChange-Id: Ie990eda0fe408fc1ef71af906b8d5af8168c46f4\nCloses-bug: #1774905\n""}, {'number': 3, 'created': '2018-06-15 14:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/deed85da84c8540a1f01cd66da518885118ced50', 'message': ""IBM XIV: add method update_migrated_volume for xiv\n\nPost migrate, rename the volume to original volume's name on storage.\nIf the volume and original volume exist in the same storage, use\n_name_id to record the relationship.\n\nChange-Id: Ie990eda0fe408fc1ef71af906b8d5af8168c46f4\nCloses-bug: #1774905\n""}, {'number': 4, 'created': '2018-08-10 02:38:34.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ibm_storage.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/456ab7ac0b4979c34b75abfb093edea8db57602f', 'message': ""IBM XIV: add method update_migrated_volume for xiv\n\nPost migrate, rename the volume to original volume's name on storage.\nIf the volume and original volume exist in the same storage, using\n_name_id to record the relationship.\n\nChange-Id: Ie990eda0fe408fc1ef71af906b8d5af8168c46f4\nCloses-bug: #1774905\n""}]",9,572005,456ab7ac0b4979c34b75abfb093edea8db57602f,133,50,4,18288,,,0,"IBM XIV: add method update_migrated_volume for xiv

Post migrate, rename the volume to original volume's name on storage.
If the volume and original volume exist in the same storage, using
_name_id to record the relationship.

Change-Id: Ie990eda0fe408fc1ef71af906b8d5af8168c46f4
Closes-bug: #1774905
",git fetch https://review.opendev.org/openstack/cinder refs/changes/05/572005/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ibm_storage.py']",3,de38e9b073499976e12e7c88216364555c508a0b,bug/1774905," def update_migrated_volume(self, context, volume, new_volume, original_volume_status): """"""Rename and return model update for migrated volume."""""" return self.proxy.update_migrated_volume(context, volume, new_volume, original_volume_status)",,56,0
openstack%2Fcinder~master~I298a85e0216fa2ec655f2d6250f9c1ba45d71b97,openstack/cinder,master,I298a85e0216fa2ec655f2d6250f9c1ba45d71b97,Fix wrong section used for some volume driver options,NEW,2021-08-14 18:19:59.000000000,2023-07-03 13:21:07.000000000,,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-14 18:19:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/aa0388340ae2fb841214f395d958ad1728821a78', 'message': 'Fix wrong section used for some volume driver options\n\nSince cinder removed support for a single backend[1], volume backends\nno longer load parameters from [DEFAULT] section, and it the different\n[backend_defauts] section is used as a common place where default\noverrides are defined.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/453654\n\nChange-Id: I298a85e0216fa2ec655f2d6250f9c1ba45d71b97\nCloses-Bug: #1939956\n'}, {'number': 2, 'created': '2021-08-14 18:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b92c340e5d90c6480c702be686b19b86be1d16e0', 'message': 'Fix wrong section used for some volume driver options\n\nSince cinder removed support for a single backend[1], volume backends\nno longer load parameters from [DEFAULT] section, and the different\n[backend_defauts] section is used as a common place where default\noverrides are defined.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/453654\n\nChange-Id: I298a85e0216fa2ec655f2d6250f9c1ba45d71b97\nCloses-Bug: #1939956\n'}, {'number': 3, 'created': '2021-08-15 07:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2fcbf08216a5342625009162e875f1222798713', 'message': 'Fix wrong section used for some volume driver options\n\nSince cinder removed support for a single backend[1], volume backends\nno longer load parameters from [DEFAULT] section, and the different\n[backend_defauts] section is used as a common place where default\noverrides are defined.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/453654\n\nChange-Id: I298a85e0216fa2ec655f2d6250f9c1ba45d71b97\nCloses-Bug: #1939956\n'}, {'number': 4, 'created': '2021-08-15 08:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e18b8c11fdfe251e3419bc37522cd6cfea1551b', 'message': 'Fix wrong section used for some volume driver options\n\nSince cinder removed support for a single backend[1], volume backends\nno longer load parameters from [DEFAULT] section, and the different\n[backend_defauts] section is used as a common place where default\noverrides are defined.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/453654\n\nChange-Id: I298a85e0216fa2ec655f2d6250f9c1ba45d71b97\nCloses-Bug: #1939956\n'}, {'number': 5, 'created': '2021-08-15 08:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1dd7466d6c0005024d9468b00c29e6060e824b1c', 'message': 'Fix wrong section used for some volume driver options\n\nSince cinder removed support for a single backend[1], volume backends\nno longer load parameters from [DEFAULT] section, and the different\n[backend_defaults] section is used as a common place where default\noverrides are defined.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/453654\n\nChange-Id: I298a85e0216fa2ec655f2d6250f9c1ba45d71b97\nCloses-Bug: #1939956\n'}, {'number': 6, 'created': '2021-08-15 13:21:30.000000000', 'files': ['cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'cinder/tests/unit/volume/drivers/infortrend/test_infortrend_common.py', 'cinder/volume/drivers/sandstone/sds_driver.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_common.py', 'cinder/volume/drivers/veritas_access/veritas_iscsi.py', 'cinder/volume/drivers/infortrend/raidcmd_cli/common_cli.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/datera/datera_iscsi.py', 'cinder/volume/drivers/infortrend/infortrend_iscsi_cli.py', 'cinder/volume/drivers/fusionstorage/dsware.py', 'cinder/opts.py', 'cinder/volume/drivers/kioxia/kumoscale.py', 'cinder/volume/drivers/open_e/options.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6747ac89e1b80923865005a5b97b00972a6fde16', 'message': 'Fix wrong section used for some volume driver options\n\nSince cinder removed support for a single backend[1], volume backends\nno longer load parameters from [DEFAULT] section, and the different\n[backend_defaults] section is used as a common place where default\noverrides are defined.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/453654\n\nChange-Id: I298a85e0216fa2ec655f2d6250f9c1ba45d71b97\nCloses-Bug: #1939956\n'}]",3,804581,6747ac89e1b80923865005a5b97b00972a6fde16,64,3,6,9816,,,0,"Fix wrong section used for some volume driver options

Since cinder removed support for a single backend[1], volume backends
no longer load parameters from [DEFAULT] section, and the different
[backend_defaults] section is used as a common place where default
overrides are defined.

[1] https://review.opendev.org/c/openstack/cinder/+/453654

Change-Id: I298a85e0216fa2ec655f2d6250f9c1ba45d71b97
Closes-Bug: #1939956
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/804581/6 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/inspur/instorage/instorage_iscsi.py', 'cinder/volume/drivers/sandstone/sds_driver.py', 'cinder/volume/drivers/toyou/acs5000/acs5000_common.py', 'cinder/volume/drivers/veritas_access/veritas_iscsi.py', 'cinder/volume/drivers/infortrend/raidcmd_cli/common_cli.py', 'cinder/volume/drivers/inspur/as13000/as13000_driver.py', 'cinder/volume/drivers/inspur/instorage/instorage_common.py', 'cinder/volume/drivers/datera/datera_iscsi.py', 'cinder/volume/drivers/fusionstorage/dsware.py', 'cinder/opts.py', 'cinder/volume/drivers/kioxia/kumoscale.py', 'cinder/volume/drivers/open_e/options.py']",12,aa0388340ae2fb841214f395d958ad1728821a78,bug/1939956,"from cinder.volume import configurationCONF.register_opts(jdss_connection_opts, group=configuration.SHARED_CONF_GROUP) CONF.register_opts(jdss_iscsi_opts, group=configuration.SHARED_CONF_GROUP) CONF.register_opts(jdss_volume_opts, group=configuration.SHARED_CONF_GROUP)",CONF.register_opts(jdss_connection_opts) CONF.register_opts(jdss_iscsi_opts) CONF.register_opts(jdss_volume_opts),43,31
openstack%2Fpuppet-nova~master~Id3ca3c57026549c17bb3c8a3bedee08672168c5d,openstack/puppet-nova,master,Id3ca3c57026549c17bb3c8a3bedee08672168c5d,Add per module policy service refresh,MERGED,2023-06-22 19:08:20.000000000,2023-07-03 13:19:46.000000000,2023-07-03 13:19:46.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-22 19:08:20.000000000', 'files': ['spec/classes/nova_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8850d96e1063e8a0e1ffd724ac9135eb2de65c4d', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Id3ca3c57026549c17bb3c8a3bedee08672168c5d\n'}]",6,886782,8850d96e1063e8a0e1ffd724ac9135eb2de65c4d,24,3,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Id3ca3c57026549c17bb3c8a3bedee08672168c5d
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/82/886782/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,8850d96e1063e8a0e1ffd724ac9135eb2de65c4d,per-module-policy-refresh," tag => 'nova',",,4,1
openstack%2Fopenstack-ansible-tests~stable%2F2023.1~I68fe9fe084fc1f2e32a19e78e7053fbe74d8be3c,openstack/openstack-ansible-tests,stable/2023.1,I68fe9fe084fc1f2e32a19e78e7053fbe74d8be3c,Update TOX_CONSTRAINTS_FILE for stable/2023.1,NEW,2023-05-24 08:55:43.000000000,2023-07-03 13:15:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-24 08:55:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/2c5a0a79ac2fa503b4b9a87dbcedea27fdf7dc03', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I68fe9fe084fc1f2e32a19e78e7053fbe74d8be3c\n'}]",2,884155,2c5a0a79ac2fa503b4b9a87dbcedea27fdf7dc03,7,2,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I68fe9fe084fc1f2e32a19e78e7053fbe74d8be3c
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/55/884155/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2c5a0a79ac2fa503b4b9a87dbcedea27fdf7dc03,create-2023.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fneutron~master~Ie66163c0e8459c1e90ae3af375469f9996f0801c,openstack/neutron,master,Ie66163c0e8459c1e90ae3af375469f9996f0801c,Increase timeout in test_get_all_devices(),MERGED,2023-06-27 19:55:16.000000000,2023-07-03 13:07:15.000000000,2023-07-03 13:05:52.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 19:55:16.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/macvtap/agent/test_macvtap_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cd949fc9ba3620631a74396f7972d33e64f416b', 'message': ""Increase timeout in test_get_all_devices()\n\nAlthough a wait_until_true() was added to this test, it\nstill occasionally fails. From the debug it looks like\nthe very next read of interfaces shows the one we were\nwaiting for was now present:\n\n AssertionError: MacVTap address: 4e:0f:75:b8:c8:c2,\n    read devices: {'4e:0f:75:b8:c8:c2'}\n  Device ens3, MAC: fa:16:3e:14:44:a1\n  Device macvtap7b63baf3, MAC: 4e:0f:75:b8:c8:c2  ...\n\nIncrease the timeout to 10 seconds to see if it helps\nthe test become more stable.\n\nChange-Id: Ie66163c0e8459c1e90ae3af375469f9996f0801c\nRelated-bug: #2012510\n""}]",3,887114,8cd949fc9ba3620631a74396f7972d33e64f416b,15,5,1,1131,,,0,"Increase timeout in test_get_all_devices()

Although a wait_until_true() was added to this test, it
still occasionally fails. From the debug it looks like
the very next read of interfaces shows the one we were
waiting for was now present:

 AssertionError: MacVTap address: 4e:0f:75:b8:c8:c2,
    read devices: {'4e:0f:75:b8:c8:c2'}
  Device ens3, MAC: fa:16:3e:14:44:a1
  Device macvtap7b63baf3, MAC: 4e:0f:75:b8:c8:c2  ...

Increase the timeout to 10 seconds to see if it helps
the test become more stable.

Change-Id: Ie66163c0e8459c1e90ae3af375469f9996f0801c
Related-bug: #2012510
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/887114/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/plugins/ml2/drivers/macvtap/agent/test_macvtap_neutron_agent.py'],1,8cd949fc9ba3620631a74396f7972d33e64f416b,bug/2012510, timeout=10), timeout=5),1,1
openstack%2Fpuppet-manila~master~I2364aed9cadceaa9b71b570357975b93634f71a2,openstack/puppet-manila,master,I2364aed9cadceaa9b71b570357975b93634f71a2,Add per module policy service refresh,MERGED,2023-06-25 22:05:28.000000000,2023-07-03 12:38:15.000000000,2023-07-03 12:38:15.000000000,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-25 22:05:28.000000000', 'files': ['spec/classes/manila_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/fd90649c82116148bd474a57544ce5a345de5ac5', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I2364aed9cadceaa9b71b570357975b93634f71a2\n'}]",3,886924,fd90649c82116148bd474a57544ce5a345de5ac5,17,3,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I2364aed9cadceaa9b71b570357975b93634f71a2
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/24/886924/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,fd90649c82116148bd474a57544ce5a345de5ac5,per-module-policy-refresh," tag => 'manila',",,4,1
openstack%2Fopenstack-ansible~stable%2F2023.1~I8a5e817d024eef5453fa072d8fee5aeca9bed67b,openstack/openstack-ansible,stable/2023.1,I8a5e817d024eef5453fa072d8fee5aeca9bed67b,Ensure management_address is used instead of ansible_host,MERGED,2023-06-27 15:11:40.000000000,2023-07-03 12:31:08.000000000,2023-07-03 12:29:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-06-27 15:11:40.000000000', 'files': ['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml', 'inventory/group_vars/memcached.yml', 'playbooks/healthcheck-infrastructure.yml', 'inventory/group_vars/galera_all.yml', 'inventory/group_vars/all/infra.yml', 'playbooks/common-tasks/unbound-clients.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/02d0379203197de0df5f3e032364117f55fe12ba', 'message': ""Ensure management_address is used instead of ansible_host\n\nansible_host in deployments is designed to represent SSH address.\nIn cases, when address that used for SSH is different from management\nnetwork, this might lead to undpredictable results on bare metal hosts.\n\nThus we're ensuring that management (container) address is used\nfor services to listen on and to interact through.\n\nRelated-Bug: #2002645\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/870113\nChange-Id: I8a5e817d024eef5453fa072d8fee5aeca9bed67b\n(cherry picked from commit 6a0646470a51a95586c2e5359f693c5f361ad1ba)\n""}]",0,887060,02d0379203197de0df5f3e032364117f55fe12ba,8,3,1,28619,,,0,"Ensure management_address is used instead of ansible_host

ansible_host in deployments is designed to represent SSH address.
In cases, when address that used for SSH is different from management
network, this might lead to undpredictable results on bare metal hosts.

Thus we're ensuring that management (container) address is used
for services to listen on and to interact through.

Related-Bug: #2002645
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/870113
Change-Id: I8a5e817d024eef5453fa072d8fee5aeca9bed67b
(cherry picked from commit 6a0646470a51a95586c2e5359f693c5f361ad1ba)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/887060/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upgrade-utilities/galera-cluster-rolling-restart.yml', 'inventory/group_vars/memcached.yml', 'playbooks/healthcheck-infrastructure.yml', 'inventory/group_vars/galera_all.yml', 'inventory/group_vars/all/infra.yml', 'playbooks/common-tasks/unbound-clients.yml']",6,02d0379203197de0df5f3e032364117f55fe12ba,," 'host': hostvars[host]['management_address'],"," 'host': hostvars[host]['ansible_host'],",17,17
openstack%2Fopenstack-ansible-os_cinder~stable%2F2023.1~I711241af8f7520b97f2b1cafd1406ff705fb78a6,openstack/openstack-ansible-os_cinder,stable/2023.1,I711241af8f7520b97f2b1cafd1406ff705fb78a6,Use v3 service type in keystone_authtoken config,MERGED,2023-06-27 15:09:16.000000000,2023-07-03 12:19:02.000000000,2023-07-03 12:18:02.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-06-27 15:09:16.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/8f329dc21cb67c1647e03f45fa79c50d6feff5bb', 'message': 'Use v3 service type in keystone_authtoken config\n\nThe service type in this config section must match the service\ntype in the service catalog, otherwise limited scope application\ncredentials will not work with the cinder API [1].\n\n[1] https://docs.openstack.org/keystone/2023.1/user/application_credentials.html#access-rules\n\nChange-Id: I711241af8f7520b97f2b1cafd1406ff705fb78a6\n(cherry picked from commit 2820fcc1d6f0b48e9d25a6bdf5f78d629efb1f0c)\n'}]",0,887057,8f329dc21cb67c1647e03f45fa79c50d6feff5bb,8,3,1,28619,,,0,"Use v3 service type in keystone_authtoken config

The service type in this config section must match the service
type in the service catalog, otherwise limited scope application
credentials will not work with the cinder API [1].

[1] https://docs.openstack.org/keystone/2023.1/user/application_credentials.html#access-rules

Change-Id: I711241af8f7520b97f2b1cafd1406ff705fb78a6
(cherry picked from commit 2820fcc1d6f0b48e9d25a6bdf5f78d629efb1f0c)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/57/887057/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,8f329dc21cb67c1647e03f45fa79c50d6feff5bb,,service_type = {{ cinder_service_v3_type }},service_type = {{ cinder_service_type }},1,1
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I070ddfd1cfba4a2bb5a5d8f2c47bcae2ce39e576,openstack/tripleo-upgrade,stable/wallaby,I070ddfd1cfba4a2bb5a5d8f2c47bcae2ce39e576,role_file_copy is never set,MERGED,2023-07-01 21:22:55.000000000,2023-07-03 12:17:54.000000000,2023-07-03 12:17:54.000000000,"[{'_account_id': 11166}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 29307}]","[{'number': 1, 'created': '2023-07-01 21:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4fd6e29473b7adbfe1e811ace8f43a83ac7cb148', 'message': 'role_file_copy is never set\n\nRemove the when conditional\nChange-Id: I0a03c6c9fb636b332679b001ca8db646a24d35c6\n\nChange-Id: I070ddfd1cfba4a2bb5a5d8f2c47bcae2ce39e576\n'}, {'number': 2, 'created': '2023-07-02 20:40:24.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8f349158b7695286297f5917b0b78802832a2233', 'message': 'role_file_copy is never set\n\nRemove the when conditional\n\nChange-Id: I070ddfd1cfba4a2bb5a5d8f2c47bcae2ce39e576\n'}]",0,887447,8f349158b7695286297f5917b0b78802832a2233,11,4,2,22954,,,0,"role_file_copy is never set

Remove the when conditional

Change-Id: I070ddfd1cfba4a2bb5a5d8f2c47bcae2ce39e576
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/47/887447/2 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'],1,4fd6e29473b7adbfe1e811ace8f43a83ac7cb148,default_roles_exits,, when: not role_file_copy.stat.exists,0,1
openstack%2Fcharm-manila-generic~master~I8d3758e52252d8f1d171de83f614aa4a611d98e8,openstack/charm-manila-generic,master,I8d3758e52252d8f1d171de83f614aa4a611d98e8,Fix a breaking typo in the Jinja templates There is an improperly formatted comment in a Jinja2 template. This causes Juju hooks to fail with a template syntax error.,MERGED,2023-06-30 19:34:00.000000000,2023-07-03 11:30:42.000000000,2023-07-03 11:30:42.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-30 19:34:00.000000000', 'files': ['src/templates/parts/authentication_data'], 'web_link': 'https://opendev.org/openstack/charm-manila-generic/commit/b9bd4b9e359d63af1181aebbaa5efdafcd621433', 'message': 'Fix a breaking typo in the Jinja templates\nThere is an improperly formatted comment in a Jinja2 template.\nThis causes Juju hooks to fail with a template syntax error.\n\nCloses-Bug: 2025507\nChange-Id: I8d3758e52252d8f1d171de83f614aa4a611d98e8\n'}]",0,887428,b9bd4b9e359d63af1181aebbaa5efdafcd621433,7,3,1,31203,,,0,"Fix a breaking typo in the Jinja templates
There is an improperly formatted comment in a Jinja2 template.
This causes Juju hooks to fail with a template syntax error.

Closes-Bug: 2025507
Change-Id: I8d3758e52252d8f1d171de83f614aa4a611d98e8
",git fetch https://review.opendev.org/openstack/charm-manila-generic refs/changes/28/887428/1 && git format-patch -1 --stdout FETCH_HEAD,['src/templates/parts/authentication_data'],1,b9bd4b9e359d63af1181aebbaa5efdafcd621433,,{# Defense mechanism introduced in the charm release 21.10 because of a #},{{ # Defense mechanism introduced in the charm release 21.10 because of a #}},2,2
openstack%2Foctavia~stable%2Fyoga~I7f150c2c1c3da706055aba5e02b5ad7c032806f1,openstack/octavia,stable/yoga,I7f150c2c1c3da706055aba5e02b5ad7c032806f1,Avoid interface name collisions in the amphora,MERGED,2023-06-08 08:26:40.000000000,2023-07-03 11:14:52.000000000,2023-07-03 11:13:47.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-06-08 08:26:40.000000000', 'files': ['octavia/amphorae/backends/agent/api_server/plug.py', 'releasenotes/notes/fix-network-interface-collision-939fd32587ea3344.yaml', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/202d1dc4002f9996eb8047613757a572bc4366ed', 'message': 'Avoid interface name collisions in the amphora\n\nAfter unpluging a network, the octavia-agent may try to plug a new\nnetwork to a new interface while another interface with the same name\nalready exists.\n\nCloses-Bug: #2017894\n\nChange-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1\n(cherry picked from commit c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2)\n(cherry picked from commit 1b17529b134456980e302239225514f8f876aa36)\n(cherry picked from commit 05b3343473fa3d2df14eb6d4e44a01c9e83d3042)\n'}]",2,885574,202d1dc4002f9996eb8047613757a572bc4366ed,12,3,1,29244,,,0,"Avoid interface name collisions in the amphora

After unpluging a network, the octavia-agent may try to plug a new
network to a new interface while another interface with the same name
already exists.

Closes-Bug: #2017894

Change-Id: I7f150c2c1c3da706055aba5e02b5ad7c032806f1
(cherry picked from commit c4dd87f9b119ccaef2d01ae35c9fa0ffbe5f23b2)
(cherry picked from commit 1b17529b134456980e302239225514f8f876aa36)
(cherry picked from commit 05b3343473fa3d2df14eb6d4e44a01c9e83d3042)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/74/885574/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/amphorae/backends/agent/api_server/plug.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_plug.py', 'releasenotes/notes/fix-network-interface-collision-939fd32587ea3344.yaml', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py']",4,202d1dc4002f9996eb8047613757a572bc4366ed,," netns_handle.get_links.return_value = [ {'attrs': [['IFLA_IFNAME', f'eth{idx}']]} for idx in range(test_int_num)] 'attrs': [['IFLA_IFNAME', 'eth2']]}] file_name = '/etc/octavia/interfaces/eth3.json' consts.NAME: 'eth3', ""/usr/local/bin/lvs-masquerade.sh add ipv4 eth3"") ""eth3"") 'amphora-interface', 'up', 'eth3'], stderr=-2)"," netns_handle.get_links.return_value = [0] * test_int_num 'attrs': [['IFLA_IFNAME', consts.NETNS_PRIMARY_INTERFACE]]}] file_name = '/etc/octavia/interfaces/{}.json'.format( consts.NETNS_PRIMARY_INTERFACE) consts.NAME: consts.NETNS_PRIMARY_INTERFACE, ""/usr/local/bin/lvs-masquerade.sh add ipv4 "" ""{}"".format(consts.NETNS_PRIMARY_INTERFACE)) ""{}"".format(consts.NETNS_PRIMARY_INTERFACE)) 'amphora-interface', 'up', consts.NETNS_PRIMARY_INTERFACE], stderr=-2)",72,20
openstack%2Fcinder~master~I9de64306e0e6976268df782053b0651dd1cca96f,openstack/cinder,master,I9de64306e0e6976268df782053b0651dd1cca96f,Add iSCSI export support to the StorPool driver,NEW,2022-06-24 07:50:17.000000000,2023-07-03 11:00:07.000000000,,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 30555}, {'_account_id': 33301}, {'_account_id': 35586}]","[{'number': 1, 'created': '2022-06-24 07:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/279148e7d77da3390d4417836fc0e970ec1f7fc8', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 2, 'created': '2022-08-01 13:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fe6a625ccadaa91e5d7fabb44e7af267cf74d096', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 3, 'created': '2022-08-01 13:20:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3f62a5305640b029270bb1610477e0635483b5fb', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 4, 'created': '2022-08-02 08:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e5eabda9d28da0c02853177528ae55f99aa7972', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 5, 'created': '2023-01-25 14:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/51e163e721378ad280e588a2eb1195d220f6304c', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 6, 'created': '2023-01-26 16:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9e5b14b9ee7aad310beca446d09cde91da2c16ca', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 7, 'created': '2023-02-08 13:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c923154e0ddcff90ad097a72e27343a57443cfd0', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 8, 'created': '2023-02-13 23:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5201ea3ca3ff148c6308df16a4e5241077365d66', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 9, 'created': '2023-03-01 12:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/3c3f15371d6b16c2e69c00d1a5905755f145bb4a', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 10, 'created': '2023-03-20 16:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9781cfb8d075c6bf35b3db8848a29b9f02960e91', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 11, 'created': '2023-03-20 22:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/18923cb66802c71fc61873258776cba2ba1eb450', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}, {'number': 12, 'created': '2023-05-08 19:32:02.000000000', 'files': ['cinder/volume/drivers/storpool.py', 'doc/source/configuration/block-storage/drivers/storpool-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_storpool.py', 'releasenotes/notes/storpool-iscsi-cefcfe590a07c5c7.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/703051bba35f2904934d8a0904ad96f508df1d09', 'message': 'Add iSCSI export support to the StorPool driver\n\nAdd four new driver options:\n- iscsi_cinder_volume: use StorPool iSCSI attachments whenever\n  the cinder-volume service needs to attach a volume to the controller,\n  e.g. for copying an image to a volume or vice versa\n- iscsi_export_to:\n  - an empty string to use the StorPool native protocol for exporting volumes\n    protocol for exporting volumes)\n  - the string ""*"" to always use iSCSI for exporting volumes\n  - an experimental, not fully supported list of IQN patterns to export\n    volumes to using iSCSI; this results in a Cinder driver that exports\n    different volumes using different storage protocols\n- iscsi_portal_group: the name of the iSCSI portal group defined in\n  the StorPool configuration to use for these export\n- iscsi_learn_initiator_iqns: automatically create StorPool configuration\n  records for an initiator when a volume is first exported to it\n\nWhen exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and\ndisable multiattach (the StorPool CI failures with iSCSI multiattach may need\nfurther investigation).\n\nChange-Id: I9de64306e0e6976268df782053b0651dd1cca96f\n'}]",11,847536,703051bba35f2904934d8a0904ad96f508df1d09,234,6,12,12988,,,0,"Add iSCSI export support to the StorPool driver

Add four new driver options:
- iscsi_cinder_volume: use StorPool iSCSI attachments whenever
  the cinder-volume service needs to attach a volume to the controller,
  e.g. for copying an image to a volume or vice versa
- iscsi_export_to:
  - an empty string to use the StorPool native protocol for exporting volumes
    protocol for exporting volumes)
  - the string ""*"" to always use iSCSI for exporting volumes
  - an experimental, not fully supported list of IQN patterns to export
    volumes to using iSCSI; this results in a Cinder driver that exports
    different volumes using different storage protocols
- iscsi_portal_group: the name of the iSCSI portal group defined in
  the StorPool configuration to use for these export
- iscsi_learn_initiator_iqns: automatically create StorPool configuration
  records for an initiator when a volume is first exported to it

When exporting volumes via iSCSI, report the storage protocol as ""iSCSI"" and
disable multiattach (the StorPool CI failures with iSCSI multiattach may need
further investigation).

Change-Id: I9de64306e0e6976268df782053b0651dd1cca96f
",git fetch https://review.opendev.org/openstack/cinder refs/changes/36/847536/11 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/storpool.py', 'cinder/tests/unit/volume/drivers/test_storpool.py']",2,279148e7d77da3390d4417836fc0e970ec1f7fc8,,"from cinder.common import constants self.cfg.iscsi_cinder_volume = False self.cfg.iscsi_export_to = '' self.cfg.iscsi_portal_group = 'test-group' self._setup_test_driver() def _setup_test_driver(self): """"""Initialize a StorPool driver as per the current configuration."""""" (5, (TypeError, AttributeError)), (5, (TypeError, AttributeError)), @ddt.data( # The default values ('', False, constants.STORPOOL, 'beleriand', False), # Export to all ('*', True, constants.ISCSI, 'beleriand', True), ('*', True, constants.ISCSI, 'beleriand', True), # Only export to the controller ('', False, constants.STORPOOL, 'beleriand', False), # Some of the not-fully-supported pattern lists ('roh*', False, constants.STORPOOL, 'beleriand', False), ('roh*', False, constants.STORPOOL, 'rohan', True), ('*riand roh*', False, constants.STORPOOL, 'beleriand', True), ('*riand roh*', False, constants.STORPOOL, 'rohan', True), ) @ddt.unpack def test_wants_iscsi(self, iscsi_export_to, use_iscsi, storage_protocol, hostname, expected): """"""Check the ""should this export use iSCSI?"" detection."""""" self.cfg.iscsi_export_to = iscsi_export_to self._setup_test_driver() self.assertEqual(self.driver._use_iscsi, use_iscsi) # Make sure the driver reports the correct protocol in the stats self.driver._update_volume_stats() self.assertEqual(self.driver._stats[""vendor_name""], ""StorPool"") self.assertEqual(self.driver._stats[""storage_protocol""], storage_protocol) def check(conn, forced, expected): """"""Pass partially or completely valid connector info."""""" for initiator in (None, hostname): for host in (None, 'gondor'): self.assertEqual( self.driver._connector_wants_iscsi({ ""host"": host, ""initiator"": initiator, **conn, }), expected if initiator is not None and host is not None else forced) # If iscsi_cinder_volume is set and this is the controller, then yes. check({""storpool_wants_iscsi"": True}, True, True) # If iscsi_cinder_volume is not set or this is not the controller, then # look at the specified expected value. check({""storpool_wants_iscsi"": False}, use_iscsi, expected) check({}, use_iscsi, expected)"," (5, TypeError), (5, TypeError),",420,5
openstack%2Fkolla-ansible~stable%2Fzed~I387c9d8f5c01baf6054381834ecf4e554d0fff35,openstack/kolla-ansible,stable/zed,I387c9d8f5c01baf6054381834ecf4e554d0fff35,Use friendly prometheus instance labels,ABANDONED,2023-06-23 10:08:13.000000000,2023-07-03 10:39:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-23 10:08:13.000000000', 'files': ['releasenotes/notes/friendly-hostnames-1bb1254b2b434a11.yaml', 'doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fbb08479b7415dd48a50922f52f4f013577a68e0', 'message': 'Use friendly prometheus instance labels\n\nReplaces the instance label on prometheus metrics with the inventory\nhostname as opposed to the ip address. The ip address is still used as\nthe target address which means that there is no issue of the hostname\nbeing unresolvable. Can be optionally enabled or set to FQDNs by\nchanging the prometheus_instance_label variable as mentioned in the\nrelease notes.\n\nCo-Authored-By: Will Szumski <will@stackhpc.com>\nChange-Id: I387c9d8f5c01baf6054381834ecf4e554d0fff35\n(cherry picked from commit eef3ff30845fed3971572e3f426d42f23734940b)\n'}]",0,886689,fbb08479b7415dd48a50922f52f4f013577a68e0,4,1,1,35511,,,0,"Use friendly prometheus instance labels

Replaces the instance label on prometheus metrics with the inventory
hostname as opposed to the ip address. The ip address is still used as
the target address which means that there is no issue of the hostname
being unresolvable. Can be optionally enabled or set to FQDNs by
changing the prometheus_instance_label variable as mentioned in the
release notes.

Co-Authored-By: Will Szumski <will@stackhpc.com>
Change-Id: I387c9d8f5c01baf6054381834ecf4e554d0fff35
(cherry picked from commit eef3ff30845fed3971572e3f426d42f23734940b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/886689/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/friendly-hostnames-1bb1254b2b434a11.yaml', 'doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2']",4,fbb08479b7415dd48a50922f52f4f013577a68e0,friendly-prometheus-hostnames-stable/zed," - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %}", - targets: - targets: - targets: - targets: - targets: - targets: - targets: - targets: - targets: - targets: - targets: - targets:,110,12
openstack%2Fkolla-ansible~stable%2F2023.1~I387c9d8f5c01baf6054381834ecf4e554d0fff35,openstack/kolla-ansible,stable/2023.1,I387c9d8f5c01baf6054381834ecf4e554d0fff35,Use friendly prometheus instance labels,ABANDONED,2023-06-23 10:02:03.000000000,2023-07-03 10:39:21.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-23 10:02:03.000000000', 'files': ['releasenotes/notes/friendly-hostnames-1bb1254b2b434a11.yaml', 'doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bbc6170c620799ead67d68a09e615b2617a8f9d1', 'message': 'Use friendly prometheus instance labels\n\nReplaces the instance label on prometheus metrics with the inventory\nhostname as opposed to the ip address. The ip address is still used as\nthe target address which means that there is no issue of the hostname\nbeing unresolvable. Can be optionally enabled or set to FQDNs by\nchanging the prometheus_instance_label variable as mentioned in the\nrelease notes.\n\nCo-Authored-By: Will Szumski <will@stackhpc.com>\nChange-Id: I387c9d8f5c01baf6054381834ecf4e554d0fff35\n(cherry picked from commit eef3ff30845fed3971572e3f426d42f23734940b)\n'}]",3,886688,bbc6170c620799ead67d68a09e615b2617a8f9d1,7,4,1,35511,,,0,"Use friendly prometheus instance labels

Replaces the instance label on prometheus metrics with the inventory
hostname as opposed to the ip address. The ip address is still used as
the target address which means that there is no issue of the hostname
being unresolvable. Can be optionally enabled or set to FQDNs by
changing the prometheus_instance_label variable as mentioned in the
release notes.

Co-Authored-By: Will Szumski <will@stackhpc.com>
Change-Id: I387c9d8f5c01baf6054381834ecf4e554d0fff35
(cherry picked from commit eef3ff30845fed3971572e3f426d42f23734940b)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/886688/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/friendly-hostnames-1bb1254b2b434a11.yaml', 'doc/source/reference/logging-and-monitoring/prometheus-guide.rst', 'ansible/group_vars/all.yml', 'ansible/roles/prometheus/templates/prometheus.yml.j2']",4,bbc6170c620799ead67d68a09e615b2617a8f9d1,friendly-prometheus-hostnames-stable/2023.1," - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %} - targets:{% if hostvars[host].prometheus_instance_label | default(false, true) %} labels: instance: ""{{ hostvars[host].prometheus_instance_label }}"" {% endif %}", - targets: - targets: - targets: - targets: - targets: - targets: - targets: - targets: - targets: - targets: - targets: - targets:,110,12
openstack%2Fcinder~stable%2Fyoga~I91c81502f72a47a4584c300e2d918ee2b376fbfa,openstack/cinder,stable/yoga,I91c81502f72a47a4584c300e2d918ee2b376fbfa,Allow lightos driver to run as active-active,NEW,2023-05-25 06:11:03.000000000,2023-07-03 10:37:36.000000000,,"[{'_account_id': 22348}, {'_account_id': 33473}]","[{'number': 1, 'created': '2023-05-25 06:11:03.000000000', 'files': ['cinder/volume/drivers/lightos.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fa43a4e4e1385c4f072e2e6cdb4b2cd5c88bdd7d', 'message': 'Allow lightos driver to run as active-active\n\nChange-Id: I91c81502f72a47a4584c300e2d918ee2b376fbfa\n'}]",3,884316,fa43a4e4e1385c4f072e2e6cdb4b2cd5c88bdd7d,15,2,1,33612,,,0,"Allow lightos driver to run as active-active

Change-Id: I91c81502f72a47a4584c300e2d918ee2b376fbfa
",git fetch https://review.opendev.org/openstack/cinder refs/changes/16/884316/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/lightos.py'],1,fa43a4e4e1385c4f072e2e6cdb4b2cd5c88bdd7d,lightos/yoga/active/active, SUPPORTS_ACTIVE_ACTIVE = True,,1,0
openstack%2Fneutron~master~I41ffffeca433faab2244ff3d1876ca078ce5ebfb,openstack/neutron,master,I41ffffeca433faab2244ff3d1876ca078ce5ebfb,Load FIP information during initialize not init,MERGED,2023-06-27 12:41:08.000000000,2023-07-03 10:34:56.000000000,2023-07-02 04:59:30.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 12:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d95a27b9478c595e235019bbd9051aa90ed596e', 'message': ""Create net ns in init rather than initialize\n\nNormally the network namespace is created when we call ri.initialize()\nwhich happens after the router (and other classes) have run their init\nfunction.\n\nDvrLocalRouter._load_used_fip_information() is called during the class\ninit however in some cases it tries to access a network namespace which\nhasn't yet been created. This results in NetworkNamespaceNotFound.\n\nThis change ensures that we create the network namespace during the\nRouterInfo init rather than via the initialize() function. Doing so\nensures that _load_used_fip_information() runs after the network\nnamespace has actually been created.\n\nCloses-Bug: #2025129\nChange-Id: I41ffffeca433faab2244ff3d1876ca078ce5ebfb\n""}, {'number': 2, 'created': '2023-06-28 12:12:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf7ce3c45e29949aaa0119c28211114496123a2b', 'message': ""Create net ns in init rather than initialize\n\nNormally the network namespace is created when we call ri.initialize()\nwhich happens after the router (and other classes) have run their init\nfunction.\n\nDvrLocalRouter._load_used_fip_information() is called during the class\ninit however in some cases it tries to access a network namespace which\nhasn't yet been created. This results in NetworkNamespaceNotFound.\n\nThis change ensures that we create the network namespace during the\nRouterInfo init rather than via the initialize() function. Doing so\nensures that _load_used_fip_information() runs after the network\nnamespace has actually been created.\n\nCloses-Bug: #2025129\nChange-Id: I41ffffeca433faab2244ff3d1876ca078ce5ebfb\n""}, {'number': 3, 'created': '2023-06-28 20:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/682b1eb264ed7fac468919e47d0eafff0b90b52b', 'message': ""Load FIP information during initialize not init\n\nDvrLocalRouter._load_used_fip_information() is called during the class\ninit however in some cases it tries to access a network namespace which\nhasn't yet been created. This results in NetworkNamespaceNotFound.\n\nThis change ensures that we instead create any FIP priority rules after\nthe network namespace has been created by calling\n_load_used_fip_information() from the initialize function rather than\nin the class instantiation.\n\nCloses-Bug: #2025129\nChange-Id: I41ffffeca433faab2244ff3d1876ca078ce5ebfb\n""}, {'number': 4, 'created': '2023-06-28 23:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e5cb5f4a3fbf079084b8f716d7cf6254f19342ac', 'message': ""Load FIP information during initialize not init\n\nDvrLocalRouter._load_used_fip_information() is called during the class\ninit however in some cases it tries to access a network namespace which\nhasn't yet been created. This results in NetworkNamespaceNotFound.\n\nThis change ensures that we instead create any FIP priority rules after\nthe network namespace has been created by calling\n_load_used_fip_information() from the initialize function rather than\nin the class instantiation.\n\nCloses-Bug: #2025129\nChange-Id: I41ffffeca433faab2244ff3d1876ca078ce5ebfb\n""}, {'number': 5, 'created': '2023-06-29 09:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d3d8e1919dd896fdc5e796dfd44c6e37fea0302', 'message': ""Load FIP information during initialize not init\n\nDvrLocalRouter._load_used_fip_information() is called during the class\ninit however in some cases it tries to access a network namespace which\nhasn't yet been created. This results in NetworkNamespaceNotFound.\n\nThis change ensures that we instead create any FIP priority rules after\nthe network namespace has been created by calling\n_load_used_fip_information() from the initialize function rather than\nin the class instantiation.\n\nCloses-Bug: #2025129\nChange-Id: I41ffffeca433faab2244ff3d1876ca078ce5ebfb\n""}, {'number': 6, 'created': '2023-06-29 09:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b870dbc6b7160e6849781b3a26c704d04482cec8', 'message': ""Load FIP information during initialize not init\n\nDvrLocalRouter._load_used_fip_information() is called during the class\ninit however in some cases it tries to access a network namespace which\nhasn't yet been created. This results in NetworkNamespaceNotFound.\n\nThis change ensures that we instead create any FIP priority rules after\nthe network namespace has been created by calling\n_load_used_fip_information() from the initialize function rather than\nin the class instantiation.\n\nCloses-Bug: #2025129\nChange-Id: I41ffffeca433faab2244ff3d1876ca078ce5ebfb\n""}, {'number': 7, 'created': '2023-06-29 19:59:40.000000000', 'files': ['neutron/agent/l3/dvr_local_router.py', 'neutron/tests/unit/agent/l3/test_dvr_local_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8c74f12e048e7858eee332883dbe7c1dc1d0f0c', 'message': ""Load FIP information during initialize not init\n\nDvrLocalRouter._load_used_fip_information() is called during the class\ninit however in some cases it tries to access a network namespace which\nhasn't yet been created. This results in NetworkNamespaceNotFound.\n\nThis change ensures that we instead create any FIP priority rules after\nthe network namespace has been created by calling\n_load_used_fip_information() from the initialize function rather than\nin the class instantiation.\n\nCloses-Bug: #2025129\nChange-Id: I41ffffeca433faab2244ff3d1876ca078ce5ebfb\n""}]",38,887036,c8c74f12e048e7858eee332883dbe7c1dc1d0f0c,63,4,7,35825,,,0,"Load FIP information during initialize not init

DvrLocalRouter._load_used_fip_information() is called during the class
init however in some cases it tries to access a network namespace which
hasn't yet been created. This results in NetworkNamespaceNotFound.

This change ensures that we instead create any FIP priority rules after
the network namespace has been created by calling
_load_used_fip_information() from the initialize function rather than
in the class instantiation.

Closes-Bug: #2025129
Change-Id: I41ffffeca433faab2244ff3d1876ca078ce5ebfb
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/887036/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/l3/agent.py', 'neutron/agent/l3/router_info.py']",2,7d95a27b9478c595e235019bbd9051aa90ed596e,fix_dvr_net_ns_bug, self.router_namespace.create(), self.router_namespace.create() ,7,3
openstack%2Ftripleo-common~stable%2Fzed~I064c3c7ade5a83048b22c5a30010aebd5cb924ea,openstack/tripleo-common,stable/zed,I064c3c7ade5a83048b22c5a30010aebd5cb924ea,Use nova-libvirt image for LibvirtConfig,NEW,2023-07-03 10:27:53.000000000,2023-07-03 10:28:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 10:27:53.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5b59650b843177e61ed41a19e33c7fed5209439e', 'message': 'Use nova-libvirt image for LibvirtConfig\n\nThis change moves the ContainerNovaLibvirtConfigImage param to use the\nnova-libvirt image instead of the nova-compute image.\n\nResolves: rhbz#2186553\nSigned-off-by: Brendan Shephard <bshephar@redhat.com>\nChange-Id: I064c3c7ade5a83048b22c5a30010aebd5cb924ea\n'}]",0,887502,5b59650b843177e61ed41a19e33c7fed5209439e,2,1,1,30073,,,0,"Use nova-libvirt image for LibvirtConfig

This change moves the ContainerNovaLibvirtConfigImage param to use the
nova-libvirt image instead of the nova-compute image.

Resolves: rhbz#2186553
Signed-off-by: Brendan Shephard <bshephar@redhat.com>
Change-Id: I064c3c7ade5a83048b22c5a30010aebd5cb924ea
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/887502/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,5b59650b843177e61ed41a19e33c7fed5209439e,, - ContainerNovaLibvirtConfigImage, - ContainerNovaLibvirtConfigImage,1,1
openstack%2Fosc-placement~master~I61bf3f0fa2cff8c80affabff9d78a6fab91ba815,openstack/osc-placement,master,I61bf3f0fa2cff8c80affabff9d78a6fab91ba815,Update master for stable/2023.1,MERGED,2023-02-24 15:09:10.000000000,2023-07-03 10:07:04.000000000,2023-07-03 10:06:01.000000000,"[{'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-24 15:09:10.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst'], 'web_link': 'https://opendev.org/openstack/osc-placement/commit/ffa3822bc8fa912e0dda1d6433536c0a438fb632', 'message': 'Update master for stable/2023.1\n\nAdd file to the reno documentation build to show release notes for\nstable/2023.1.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/2023.1.\n\nSem-Ver: feature\nChange-Id: I61bf3f0fa2cff8c80affabff9d78a6fab91ba815\n'}]",2,875100,ffa3822bc8fa912e0dda1d6433536c0a438fb632,10,5,1,22816,,,0,"Update master for stable/2023.1

Add file to the reno documentation build to show release notes for
stable/2023.1.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/2023.1.

Sem-Ver: feature
Change-Id: I61bf3f0fa2cff8c80affabff9d78a6fab91ba815
",git fetch https://review.opendev.org/openstack/osc-placement refs/changes/00/875100/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/2023.1.rst']",2,ffa3822bc8fa912e0dda1d6433536c0a438fb632,reno-2023.1,=========================== 2023.1 Series Release Notes =========================== .. release-notes:: :branch: stable/2023.1 ,,7,0
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I0a03c6c9fb636b332679b001ca8db646a24d35c6,openstack/tripleo-upgrade,stable/wallaby,I0a03c6c9fb636b332679b001ca8db646a24d35c6,role_file_copy is never set,ABANDONED,2023-07-01 13:02:01.000000000,2023-07-03 09:24:35.000000000,,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-01 13:02:01.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d59edc5c0a1f1b3258101274ff48bcf791dbc430', 'message': 'role_file_copy is never set\n\nThis patch fixed the lack of value of role_file_copy\n\nChange-Id: I0a03c6c9fb636b332679b001ca8db646a24d35c6\n'}]",3,887445,d59edc5c0a1f1b3258101274ff48bcf791dbc430,6,4,1,22954,,,0,"role_file_copy is never set

This patch fixed the lack of value of role_file_copy

Change-Id: I0a03c6c9fb636b332679b001ca8db646a24d35c6
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/45/887445/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'],1,d59edc5c0a1f1b3258101274ff48bcf791dbc430,default_roles_exits," - name: Check whether the roles_data was copied stat: path: ""{{ working_dir }}/roles_data.yaml"" register: role_file_copy",,4,0
openstack%2Fpython-cyborgclient~master~I95d39c70c4d1f3a47c34c70ca26413b101ea2148,openstack/python-cyborgclient,master,I95d39c70c4d1f3a47c34c70ca26413b101ea2148,add negative unit test for show deployable,MERGED,2023-07-03 03:31:47.000000000,2023-07-03 08:54:53.000000000,2023-07-03 08:53:13.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-07-03 03:31:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/ee0256b3a35959d7a8e0a0dbee1752fe56a8355c', 'message': 'add negative unit test for show deployable\n\nadd negative unit test for show not exist deployable\n\nChange-Id: I95d39c70c4d1f3a47c34c70ca26413b101ea2148\n'}, {'number': 2, 'created': '2023-07-03 05:42:02.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_deployable.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/911defad33b329b77897417d81fb27b4be02ae0c', 'message': 'add negative unit test for show deployable\n\nadd negative unit test for show not exist deployable\n\nChange-Id: I95d39c70c4d1f3a47c34c70ca26413b101ea2148\n'}]",1,887396,911defad33b329b77897417d81fb27b4be02ae0c,9,2,2,30409,,,0,"add negative unit test for show deployable

add negative unit test for show not exist deployable

Change-Id: I95d39c70c4d1f3a47c34c70ca26413b101ea2148
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/96/887396/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_deployable.py'],1,ee0256b3a35959d7a8e0a0dbee1752fe56a8355c,master4,"from openstack import exceptions as sdk_exc from cyborgclient import exceptions as exc def test_deployable_show_not_exist(self): get_arq_req = self.mock_acc_client.get_deployable get_arq_req.side_effect = sdk_exc.ResourceNotFound arglist = [acc_fakes.deployable_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaisesRegex( exc.CommandError, 'deployable %s not found' % acc_fakes.deployable_uuid, self.cmd.take_action, parsed_args)",,13,1
openstack%2Fpython-cyborgclient~master~I527c3d43e6ce60dff374c8183134b8d89ea1721e,openstack/python-cyborgclient,master,I527c3d43e6ce60dff374c8183134b8d89ea1721e,add negative unit test for delete device profile,MERGED,2023-07-03 07:21:03.000000000,2023-07-03 08:54:05.000000000,2023-07-03 08:53:10.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-07-03 07:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/e588ffbb655e8226985d5a142c9325e616b07d88', 'message': 'add negative unit test for delete device profile\n\nadd negative unit test for delete not exist profile\n\nChange-Id: I527c3d43e6ce60dff374c8183134b8d89ea1721e\n'}, {'number': 2, 'created': '2023-07-03 07:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/40402e400b1b404c92e144c3fd7f3cbee0b87f14', 'message': 'add negative unit test for delete device profile\n\nadd negative unit test for delete not exist profile\n\nChange-Id: I527c3d43e6ce60dff374c8183134b8d89ea1721e\n'}, {'number': 3, 'created': '2023-07-03 08:02:34.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_device_profile.py', 'cyborgclient/osc/v2/device_profile.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/f99ad1273ace109827f8b4e22e56cc16f48bfb13', 'message': 'add negative unit test for delete device profile\n\nadd negative unit test for delete not exist profile\n\nChange-Id: I527c3d43e6ce60dff374c8183134b8d89ea1721e\n'}]",2,887404,f99ad1273ace109827f8b4e22e56cc16f48bfb13,11,2,3,30409,,,0,"add negative unit test for delete device profile

add negative unit test for delete not exist profile

Change-Id: I527c3d43e6ce60dff374c8183134b8d89ea1721e
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/04/887404/3 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_device_profile.py'],1,e588ffbb655e8226985d5a142c9325e616b07d88,master6," def test_device_profile_delete_not_exist(self): get_arq_req = self.mock_acc_client.delete_device_profile get_arq_req.side_effect = sdk_exc.ResourceNotFound arglist = [acc_fakes.device_profile_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaisesRegex( exc.CommandError, 'device_profile %s not found' % acc_fakes.device_profile_uuid, self.cmd.take_action, parsed_args) ",,12,0
openstack%2Fpython-cyborgclient~master~Ic665f1ee228359d4859d61c33b6a6f55eb3afef3,openstack/python-cyborgclient,master,Ic665f1ee228359d4859d61c33b6a6f55eb3afef3,add negative unit test for delete attribute,MERGED,2023-07-03 07:18:04.000000000,2023-07-03 08:53:11.000000000,2023-07-03 08:53:11.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-07-03 07:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/1aaac0f2db53e52da871252843c80ac7242af80d', 'message': 'add negative unit test for delete attribute\n\nadd negative unit test for delete not exist attribute\n\nChange-Id: Ic665f1ee228359d4859d61c33b6a6f55eb3afef3\n'}, {'number': 2, 'created': '2023-07-03 08:05:13.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_attribute.py', 'cyborgclient/osc/v2/attribute.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/edc6c079aab8b5b848a7aef55d3532e568083bc7', 'message': 'add negative unit test for delete attribute\n\nadd negative unit test for delete not exist attribute\n\nChange-Id: Ic665f1ee228359d4859d61c33b6a6f55eb3afef3\n'}]",1,887402,edc6c079aab8b5b848a7aef55d3532e568083bc7,8,2,2,30409,,,0,"add negative unit test for delete attribute

add negative unit test for delete not exist attribute

Change-Id: Ic665f1ee228359d4859d61c33b6a6f55eb3afef3
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/02/887402/2 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_attribute.py'],1,1aaac0f2db53e52da871252843c80ac7242af80d,master5," def test_attribute_delete_not_exist(self): get_arq_req = self.mock_acc_client.delete_attribute get_arq_req.side_effect = sdk_exc.ResourceNotFound arglist = [acc_fakes.attribute_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaisesRegex( exc.CommandError, 'Attribute %s not found' % acc_fakes.attribute_uuid, self.cmd.take_action, parsed_args)",,11,0
openstack%2Ffreezer-tempest-plugin~master~Iee6ee8ba5c5fa8ea84194d3a24f5166779ba3421,openstack/freezer-tempest-plugin,master,Iee6ee8ba5c5fa8ea84194d3a24f5166779ba3421,Cleanup py27 support,NEW,2023-07-03 08:00:16.000000000,2023-07-03 08:09:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 08:00:16.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/f90cff9a91270cfcc1fd9fb7bef6ba934c2cf0eb', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: Iee6ee8ba5c5fa8ea84194d3a24f5166779ba3421\n""}]",0,887409,f90cff9a91270cfcc1fd9fb7bef6ba934c2cf0eb,2,1,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: Iee6ee8ba5c5fa8ea84194d3a24f5166779ba3421
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/09/887409/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,f90cff9a91270cfcc1fd9fb7bef6ba934c2cf0eb,,,"# THIS FILE IS MANAGED BY THE GLOBAL REQUIREMENTS REPO - DO NOT EDIT# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,9
openstack%2Ffreezer-tempest-plugin~master~I7b1d194adc808927867c3344f496247db73a7a1d,openstack/freezer-tempest-plugin,master,I7b1d194adc808927867c3344f496247db73a7a1d,setup.cfg: Replace dashes with underscores,NEW,2023-07-03 07:56:41.000000000,2023-07-03 07:59:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 07:56:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/c7241b1ec585274d75d091d347404d700b344f0b', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7b1d194adc808927867c3344f496247db73a7a1d\n""}]",0,887408,c7241b1ec585274d75d091d347404d700b344f0b,2,1,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7b1d194adc808927867c3344f496247db73a7a1d
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/08/887408/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c7241b1ec585274d75d091d347404d700b344f0b,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/tempest/latest/plugin-registry.html,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/tempest/latest/plugin-registry.html,3,3
openstack%2Ffreezer-specs~master~I140d152b12997b450d9347501f949c594da6bc04,openstack/freezer-specs,master,I140d152b12997b450d9347501f949c594da6bc04,Use py3 as the default runtime for tox,ABANDONED,2023-07-03 07:48:56.000000000,2023-07-03 07:57:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 07:48:56.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/24c595af24a5ec86f182cd24ac9a4f7fcf8d1967', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I140d152b12997b450d9347501f949c594da6bc04\n'}]",0,887407,24c595af24a5ec86f182cd24ac9a4f7fcf8d1967,3,1,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I140d152b12997b450d9347501f949c594da6bc04
",git fetch https://review.opendev.org/openstack/freezer-specs refs/changes/07/887407/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,24c595af24a5ec86f182cd24ac9a4f7fcf8d1967,,"envlist = docs,pep8,py3","envlist = docs,pep8,py36",1,1
openstack%2Fproject-config~master~I3fbdc151177bf2dba81920a4a2e3966f271b50ad,openstack/project-config,master,I3fbdc151177bf2dba81920a4a2e3966f271b50ad,Build debian bookworm images,MERGED,2023-07-03 05:01:08.000000000,2023-07-03 07:56:29.000000000,2023-07-03 07:50:12.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-03 05:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/23dc9db3382b5faba8a533d0641414006cfc5e07', 'message': 'Build debian bookworm images\n\nRelease is done, mirror is in place, ready to go.\n\nAdopt using systemd-timesyncd like we do for recent Ubuntu releases.\n\nChange-Id: I3fbdc151177bf2dba81920a4a2e3966f271b50ad\n'}, {'number': 2, 'created': '2023-07-03 06:05:36.000000000', 'files': ['nodepool/nb04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/elements/infra-package-needs/pkg-map', 'nodepool/elements/infra-package-needs/post-install.d/80-enable-infra-services'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4c16313ad2f223f69ef4717022ebae7972f05209', 'message': 'Build debian bookworm images\n\nRelease is done, mirror is in place, ready to go.\n\nAdopt using systemd-timesyncd like we do for recent Ubuntu releases.\n\nChange-Id: I3fbdc151177bf2dba81920a4a2e3966f271b50ad\n'}]",1,887473,4c16313ad2f223f69ef4717022ebae7972f05209,9,2,2,13252,,,0,"Build debian bookworm images

Release is done, mirror is in place, ready to go.

Adopt using systemd-timesyncd like we do for recent Ubuntu releases.

Change-Id: I3fbdc151177bf2dba81920a4a2e3966f271b50ad
",git fetch https://review.opendev.org/openstack/project-config refs/changes/73/887473/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nb04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/elements/infra-package-needs/pkg-map', 'nodepool/elements/infra-package-needs/post-install.d/80-enable-infra-services']",4,23dc9db3382b5faba8a533d0641414006cfc5e07,build-bookworm," # stick with default systemd timesyncd on bookworm, focal and beyond if [[ "":bookworm: :focal: :jammy:"" =~ :${DIB_RELEASE}: ]]; then"," # stick with default systemd timesyncd on focal and beyond if [[ "":focal: :jammy:"" =~ :${DIB_RELEASE}: ]]; then",60,2
openstack%2Fpython-cyborgclient~master~I907aa7e0a88a2c909d180ba4496f5375544c0067,openstack/python-cyborgclient,master,I907aa7e0a88a2c909d180ba4496f5375544c0067,add negative unit test for show device,MERGED,2023-07-03 03:29:26.000000000,2023-07-03 07:52:44.000000000,2023-07-03 07:51:50.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-07-03 03:29:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/ab9d36fef9510ae9fd22f5d1f0c9ac4fe33b9da8', 'message': 'add negative unit test for show device\n\nadd negative unit test for show not exist device\n\nChange-Id: I907aa7e0a88a2c909d180ba4496f5375544c0067\n'}, {'number': 2, 'created': '2023-07-03 05:46:02.000000000', 'files': ['cyborgclient/tests/unit/osc/v2/test_device.py'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/363fb3273c3c454c1b4658648fffbebda3e76bc1', 'message': 'add negative unit test for show device\n\nadd negative unit test for show not exist device\n\nChange-Id: I907aa7e0a88a2c909d180ba4496f5375544c0067\n'}]",1,887395,363fb3273c3c454c1b4658648fffbebda3e76bc1,9,2,2,30409,,,0,"add negative unit test for show device

add negative unit test for show not exist device

Change-Id: I907aa7e0a88a2c909d180ba4496f5375544c0067
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/95/887395/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborgclient/tests/unit/osc/v2/test_device.py'],1,ab9d36fef9510ae9fd22f5d1f0c9ac4fe33b9da8,master3,"from openstack import exceptions as sdk_exc from cyborgclient import exceptions as exc def test_device_show_not_exist(self): get_arq_req = self.mock_acc_client.get_device get_arq_req.side_effect = sdk_exc.ResourceNotFound arglist = [acc_fakes.device_uuid] verifylist = [] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaisesRegex( exc.CommandError, 'device %s not found' % acc_fakes.device_uuid, self.cmd.take_action, parsed_args)",,13,0
openstack%2Ffreezer-specs~master~I1c07070ae7d1b39fea0163404b35261a97350252,openstack/freezer-specs,master,I1c07070ae7d1b39fea0163404b35261a97350252,setup.cfg: Replace dashes with underscores,ABANDONED,2023-07-03 07:43:45.000000000,2023-07-03 07:52:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 07:43:45.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer-specs/commit/f190848b9f1b5a5cfb0880199847590cf7f5be14', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I1c07070ae7d1b39fea0163404b35261a97350252\n""}]",0,887406,f190848b9f1b5a5cfb0880199847590cf7f5be14,3,1,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I1c07070ae7d1b39fea0163404b35261a97350252
",git fetch https://review.opendev.org/openstack/freezer-specs refs/changes/06/887406/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f190848b9f1b5a5cfb0880199847590cf7f5be14,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = http://specs.openstack.org/openstack/freezer-specs/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = http://specs.openstack.org/openstack/freezer-specs/,3,3
openstack%2Ffreezer-dr~master~If09669bdd88583496511ea8c0dc46e84caf9cd0c,openstack/freezer-dr,master,If09669bdd88583496511ea8c0dc46e84caf9cd0c,Use py3 as the default runtime for tox,ABANDONED,2023-07-03 07:35:16.000000000,2023-07-03 07:44:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 07:35:16.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/5e7ebef093e38c4341a9caabd18739c06bee8c52', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: If09669bdd88583496511ea8c0dc46e84caf9cd0c\n'}]",0,887405,5e7ebef093e38c4341a9caabd18739c06bee8c52,3,1,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: If09669bdd88583496511ea8c0dc46e84caf9cd0c
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/05/887405/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,5e7ebef093e38c4341a9caabd18739c06bee8c52,,"envlist =py3, pep8,pylint,docs","envlist =py39,py38, pep8,pylint,docs",1,1
openstack%2Ffreezer-dr~master~I8d606e3f4ec61c5160ae9cd60f743c3dbc9114d8,openstack/freezer-dr,master,I8d606e3f4ec61c5160ae9cd60f743c3dbc9114d8,setup.cfg: Replace dashes with underscores,ABANDONED,2023-07-03 07:18:37.000000000,2023-07-03 07:30:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 07:18:37.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/853ee3468d8d39a10a3b5113d2f4639e3a6f0f0f', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I8d606e3f4ec61c5160ae9cd60f743c3dbc9114d8\n""}]",0,887403,853ee3468d8d39a10a3b5113d2f4639e3a6f0f0f,3,1,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I8d606e3f4ec61c5160ae9cd60f743c3dbc9114d8
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/03/887403/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,853ee3468d8d39a10a3b5113d2f4639e3a6f0f0f,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/freezer/latest/,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/freezer/latest/,3,3
openstack%2Fneutron~master~I271c109a597eb0aa088a7a9c785e8631bfaa01d7,openstack/neutron,master,I271c109a597eb0aa088a7a9c785e8631bfaa01d7,[sqlalchemy-20] Remove redundant indexes from some tables,MERGED,2023-06-15 19:58:48.000000000,2023-07-03 07:25:36.000000000,2023-07-01 01:19:51.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 19:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/24b9dea828a592bbc256024716445fe6b2f9cede', 'message': '[sqlalchemy-20] Remove redundant indexes from some tables\n\nThe following tables and columns were defined as primary key and key\n(index). A column defined as primary key creates an index in the table.\nThe is no need to create a second one.\n\nTables and columns affected:\n* portdataplanestatuses, port_id\n* portdnses, port_id\n* portuplinkstatuspropagation, port_id\n* qos_policies_default, project_id\n* quotausages, resource\n* subnet_dns_publish_fixed_ips, subnet_id\n\nCloses-Bug: #2024044\nChange-Id: I271c109a597eb0aa088a7a9c785e8631bfaa01d7\n'}, {'number': 2, 'created': '2023-06-20 16:08:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/64c70b54a602f2b147241ea0fa36108cac4e509e', 'message': '[sqlalchemy-20] Remove redundant indexes from some tables\n\nThe following tables and columns were defined as primary key and key\n(index). A column defined as primary key creates an index in the table.\nThe is no need to create a second one.\n\nTables and columns affected:\n* portdataplanestatuses, port_id\n* portdnses, port_id\n* portuplinkstatuspropagation, port_id\n* qos_policies_default, project_id\n* quotausages, resource\n* subnet_dns_publish_fixed_ips, subnet_id\n\nCloses-Bug: #2024044\nChange-Id: I271c109a597eb0aa088a7a9c785e8631bfaa01d7\n'}, {'number': 3, 'created': '2023-06-21 09:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ca714417e8b0bebfa458b0490a7b1a829f090a4', 'message': '[sqlalchemy-20] Remove redundant indexes from some tables\n\nThe following tables and columns were defined as primary key and key\n(index). A column defined as primary key creates an index in the table.\nThe is no need to create a second one.\n\nTables and columns affected:\n* portdataplanestatuses, port_id\n* portdnses, port_id\n* portuplinkstatuspropagation, port_id\n* qos_policies_default, project_id\n* quotausages, resource\n* quotausages, project_id\n* subnet_dns_publish_fixed_ips, subnet_id\n\nCloses-Bug: #2024044\nChange-Id: I271c109a597eb0aa088a7a9c785e8631bfaa01d7\n'}, {'number': 4, 'created': '2023-06-21 17:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ac4c7a54cdf09a18a6f2f2897285fd3b7622c7d', 'message': '[sqlalchemy-20] Remove redundant indexes from some tables\n\nThe following tables and columns were defined as primary key and key\n(index). A column defined as primary key creates an index in the table.\nThe is no need to create a second one.\n\nTables and columns affected:\n* portdataplanestatuses, port_id\n* portdnses, port_id\n* portuplinkstatuspropagation, port_id\n* qos_policies_default, project_id\n* quotausages, resource\n* quotausages, project_id\n* subnet_dns_publish_fixed_ips, subnet_id\n* segmenthostmappings, segment_id\n* segmenthostmappings, host\n* networkdnsdomains, network_id\n* floatingipdnses, floatingip_id\n\nCloses-Bug: #2024044\nChange-Id: I271c109a597eb0aa088a7a9c785e8631bfaa01d7\n'}, {'number': 5, 'created': '2023-06-23 11:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/78005ee235dbe4b55baa9b94af155c824f1818ef', 'message': '[sqlalchemy-20] Remove redundant indexes from some tables\n\nThe following tables and columns were defined as primary key and key\n(index). A column defined as primary key creates an index in the table.\nThe is no need to create a second one.\n\nTables and columns affected:\n* portdataplanestatuses, port_id\n* portdnses, port_id\n* portuplinkstatuspropagation, port_id\n* qos_policies_default, project_id\n* quotausages, resource\n* quotausages, project_id\n* subnet_dns_publish_fixed_ips, subnet_id\n* segmenthostmappings, segment_id\n* segmenthostmappings, host\n* networkdnsdomains, network_id\n* floatingipdnses, floatingip_id\n\nCloses-Bug: #2024044\nChange-Id: I271c109a597eb0aa088a7a9c785e8631bfaa01d7\n'}, {'number': 6, 'created': '2023-06-23 11:24:23.000000000', 'files': ['neutron/db/qos/models.py', 'neutron/db/migration/alembic_migrations/versions/newton/contract/a84ccf28f06a_migrate_dns_name_from_port.py', 'neutron/db/quota/models.py', 'neutron/db/models/segment.py', 'neutron/db/models/data_plane_status.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models/uplink_status_propagation.py', 'neutron/db/models/dns.py', 'neutron/db/migration/alembic_migrations/versions/pike/expand/62c781cb6192_add_qos_policies_default_table.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/45f955889773_quota_usage.py', 'neutron/db/migration/alembic_migrations/versions/newton/contract/8fd3918ef6f4_add_segment_host_mapping.py', 'neutron/db/migration/alembic_migrations/versions/ussuri/expand/263d454a9655_add_dns_publish_fixed_ip_to_subnets.py', 'neutron/db/migration/alembic_migrations/versions/2023.2/expand/0aefee21cd87_remove_dedundant_indexes.py', 'neutron/db/migration/alembic_migrations/versions/mitaka/expand/659bf3d90664_add_attributes_to_support_external_dns_integration.py', 'neutron/db/migration/alembic_migrations/versions/pike/expand/804a3c76314c_add_data_plane_status_to_port.py', 'neutron/db/migration/alembic_migrations/versions/stein/expand/cada2437bf41_add_propagate_uplink_status_to_port.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/08fe84f4438293b7000d0bcc829a8c66762c7cbc', 'message': '[sqlalchemy-20] Remove redundant indexes from some tables\n\nThe following tables and columns were defined as primary key and key\n(index). A column defined as primary key creates an index in the table.\nThe is no need to create a second one.\n\nTables and columns affected:\n* portdataplanestatuses, port_id\n* portdnses, port_id\n* portuplinkstatuspropagation, port_id\n* qos_policies_default, project_id\n* quotausages, resource\n* quotausages, project_id\n* subnet_dns_publish_fixed_ips, subnet_id\n* segmenthostmappings, segment_id\n* segmenthostmappings, host\n* networkdnsdomains, network_id\n* floatingipdnses, floatingip_id\n\nCloses-Bug: #2024044\nChange-Id: I271c109a597eb0aa088a7a9c785e8631bfaa01d7\n'}]",12,886213,08fe84f4438293b7000d0bcc829a8c66762c7cbc,40,4,6,16688,,,0,"[sqlalchemy-20] Remove redundant indexes from some tables

The following tables and columns were defined as primary key and key
(index). A column defined as primary key creates an index in the table.
The is no need to create a second one.

Tables and columns affected:
* portdataplanestatuses, port_id
* portdnses, port_id
* portuplinkstatuspropagation, port_id
* qos_policies_default, project_id
* quotausages, resource
* quotausages, project_id
* subnet_dns_publish_fixed_ips, subnet_id
* segmenthostmappings, segment_id
* segmenthostmappings, host
* networkdnsdomains, network_id
* floatingipdnses, floatingip_id

Closes-Bug: #2024044
Change-Id: I271c109a597eb0aa088a7a9c785e8631bfaa01d7
",git fetch https://review.opendev.org/openstack/neutron refs/changes/13/886213/6 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/migration/alembic_migrations/versions/newton/contract/a84ccf28f06a_migrate_dns_name_from_port.py', 'neutron/db/quota/models.py', 'neutron/db/models/data_plane_status.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/models/uplink_status_propagation.py', 'neutron/db/models/dns.py', 'neutron/db/migration/alembic_migrations/versions/pike/expand/62c781cb6192_add_qos_policies_default_table.py', 'neutron/db/migration/alembic_migrations/versions/liberty/expand/45f955889773_quota_usage.py', 'neutron/db/migration/alembic_migrations/versions/ussuri/expand/263d454a9655_add_dns_publish_fixed_ip_to_subnets.py', 'neutron/db/migration/alembic_migrations/versions/2023.2/expand/0aefee21cd87_remove_dedundant_indexes.py', 'neutron/db/migration/alembic_migrations/versions/pike/expand/804a3c76314c_add_data_plane_status_to_port.py', 'neutron/db/migration/alembic_migrations/versions/stein/expand/cada2437bf41_add_propagate_uplink_status_to_port.py']",12,24b9dea828a592bbc256024716445fe6b2f9cede,bug/2024044," primary_key=True),"," primary_key=True, index=True),",59,15
openstack%2Fopenstack-helm-images~master~I6cbcfe1c80a669b54ae0723aa3ae444cce3ab0ff,openstack/openstack-helm-images,master,I6cbcfe1c80a669b54ae0723aa3ae444cce3ab0ff,Fix periodic weekly Openstack 2023.1 promote job,MERGED,2023-06-29 22:26:58.000000000,2023-07-03 07:17:23.000000000,2023-07-03 07:13:01.000000000,"[{'_account_id': 22348}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-06-29 22:26:58.000000000', 'files': ['zuul.d/openstack-loci.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/46f368a40d993fc1ffaa696731b2e2ac20f19822', 'message': 'Fix periodic weekly Openstack 2023.1 promote job\n\nChange-Id: I6cbcfe1c80a669b54ae0723aa3ae444cce3ab0ff\n'}]",4,887344,46f368a40d993fc1ffaa696731b2e2ac20f19822,17,2,1,3009,,,0,"Fix periodic weekly Openstack 2023.1 promote job

Change-Id: I6cbcfe1c80a669b54ae0723aa3ae444cce3ab0ff
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/44/887344/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openstack-loci.yaml'],1,46f368a40d993fc1ffaa696731b2e2ac20f19822,, dependencies: - name: openstack-helm-images-upload-openstack-loci-2023-1-ubuntu_focal, dependencies: [],2,1
openstack%2Ffreezer-api~master~I9f3ffd34c322bbff6145f38e443c1c16a70f9e80,openstack/freezer-api,master,I9f3ffd34c322bbff6145f38e443c1c16a70f9e80,Use TOX_CONSTRAINTS_FILE,ABANDONED,2023-07-03 06:20:36.000000000,2023-07-03 07:14:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 06:20:36.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/b49686710aec94720eb15455a093fe8bdac3de38', 'message': 'Use TOX_CONSTRAINTS_FILE\n\nUPPER_CONSTRAINTS_FILE is old name and deprecated.\nThis allows to use upper-constraints file as more\nreadable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.\n\nChange-Id: I9f3ffd34c322bbff6145f38e443c1c16a70f9e80\n'}]",0,887400,b49686710aec94720eb15455a093fe8bdac3de38,4,1,1,35058,,,0,"Use TOX_CONSTRAINTS_FILE

UPPER_CONSTRAINTS_FILE is old name and deprecated.
This allows to use upper-constraints file as more
readable way instead of UPPER_CONSTRAINTS_FILE=<lower-constraints file>.

Change-Id: I9f3ffd34c322bbff6145f38e443c1c16a70f9e80
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/00/887400/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b49686710aec94720eb15455a093fe8bdac3de38,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Ffreezer-api~master~I963c6c5487b3c6cd1d2525a24f72eeedf9d86a27,openstack/freezer-api,master,I963c6c5487b3c6cd1d2525a24f72eeedf9d86a27,Use py3 as the default runtime for tox,ABANDONED,2023-07-03 06:24:10.000000000,2023-07-03 07:13:50.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 06:24:10.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/f1975b41bd334596b3052720fe2c8addafe0ff64', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I963c6c5487b3c6cd1d2525a24f72eeedf9d86a27\n'}]",0,887401,f1975b41bd334596b3052720fe2c8addafe0ff64,4,1,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I963c6c5487b3c6cd1d2525a24f72eeedf9d86a27
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/01/887401/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f1975b41bd334596b3052720fe2c8addafe0ff64,,"envlist = py3,pep8,pylint,docs","envlist = py39,py38,pep8,pylint,docs",1,1
openstack%2Ffreezer~master~I05fb377f8f2a1a7cc8fece4e4c8015fd1b95c271,openstack/freezer,master,I05fb377f8f2a1a7cc8fece4e4c8015fd1b95c271,setup.cfg: Replace dashes with underscores,NEW,2023-07-03 06:14:52.000000000,2023-07-03 07:01:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 06:14:52.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/freezer/commit/f560504c9c23c4935f10116d10be9b4ee00ebccd', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I05fb377f8f2a1a7cc8fece4e4c8015fd1b95c271\n""}]",0,887399,f560504c9c23c4935f10116d10be9b4ee00ebccd,3,1,1,35058,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I05fb377f8f2a1a7cc8fece4e4c8015fd1b95c271
",git fetch https://review.opendev.org/openstack/freezer refs/changes/99/887399/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,f560504c9c23c4935f10116d10be9b4ee00ebccd,,setup_hooks =,setup-hooks =,1,1
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I58d084550891af80d184441cca6f9e0db6e9d81e,openstack/tripleo-upgrade,stable/wallaby,I58d084550891af80d184441cca6f9e0db6e9d81e,Modify the ceph env file before upgrade prepare,ABANDONED,2023-06-20 07:28:15.000000000,2023-07-03 06:42:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-20 07:28:15.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/529e43dee2f84a2f58a93868b454f2a9a9b50903', 'message': 'Modify the ceph env file before upgrade prepare\n\nCloses: OSP-25869\nChange-Id: I58d084550891af80d184441cca6f9e0db6e9d81e\n'}]",0,886450,529e43dee2f84a2f58a93868b454f2a9a9b50903,4,1,1,29307,,,0,"Modify the ceph env file before upgrade prepare

Closes: OSP-25869
Change-Id: I58d084550891af80d184441cca6f9e0db6e9d81e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/50/886450/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/overcloud_upgrade_prepare.sh.j2'],1,529e43dee2f84a2f58a93868b454f2a9a9b50903,ceph-ffu," {% if not 'ceph-rgw.yaml' in _env -%} -e {{ _env | replace('ceph-ansible', 'cephadm') }} \ {% endif -%}"," -e {{ _env | replace('services-docker', 'services') }} \",3,1
openstack%2Fcinder-tempest-plugin~master~I1511b2b71e2027702c5e75e6eb383fb13281e673,openstack/cinder-tempest-plugin,master,I1511b2b71e2027702c5e75e6eb383fb13281e673,Test user_messages for srbac feature,ABANDONED,2023-06-08 18:33:55.000000000,2023-07-03 06:25:11.000000000,,"[{'_account_id': 4523}, {'_account_id': 9600}, {'_account_id': 10459}, {'_account_id': 19262}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 35621}]","[{'number': 1, 'created': '2023-06-08 18:33:55.000000000', 'files': ['cinder_tempest_plugin/rbac/v3/test_user_messages.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/c53e057ee4e0b5287b988d8314fabf5802612dab', 'message': 'Test user_messages for srbac feature\n\nRemove BZ skip decorator as the BZ is closed\n\nChange-Id: I1511b2b71e2027702c5e75e6eb383fb13281e673\nSigned-off-by: Yosi Ben Shimon <ybenshim@redhat.com>\n'}]",4,885605,c53e057ee4e0b5287b988d8314fabf5802612dab,8,7,1,35834,,,0,"Test user_messages for srbac feature

Remove BZ skip decorator as the BZ is closed

Change-Id: I1511b2b71e2027702c5e75e6eb383fb13281e673
Signed-off-by: Yosi Ben Shimon <ybenshim@redhat.com>
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/05/885605/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/rbac/v3/test_user_messages.py'],1,c53e057ee4e0b5287b988d8314fabf5802612dab,secure-rbac,, @decorators.skip_because(bug='2009818'),0,1
openstack%2Fetcd3gw~master~I99d7c8bf7412ff9071cef2cb3dd1ac3cb61bfdfd,openstack/etcd3gw,master,I99d7c8bf7412ff9071cef2cb3dd1ac3cb61bfdfd,Use py3 as the default runtime for tox,NEW,2023-07-03 06:08:42.000000000,2023-07-03 06:19:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 06:08:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/a6788049510af52aeaee5c0300c0ce3d93863383', 'message': 'Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update\nthis at each new cycle.\n\nChange-Id: I99d7c8bf7412ff9071cef2cb3dd1ac3cb61bfdfd\n'}]",0,887398,a6788049510af52aeaee5c0300c0ce3d93863383,2,1,1,35058,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update
this at each new cycle.

Change-Id: I99d7c8bf7412ff9071cef2cb3dd1ac3cb61bfdfd
",git fetch https://review.opendev.org/openstack/etcd3gw refs/changes/98/887398/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a6788049510af52aeaee5c0300c0ce3d93863383,,"envlist = py3,pypy,pep8","envlist = py36,py38,py39,pypy,pep8",1,1
openstack%2Fetcd3gw~master~If1c05ffe814752205de7d4d0df9c9b4c2e2e3e28,openstack/etcd3gw,master,If1c05ffe814752205de7d4d0df9c9b4c2e2e3e28,Cleanup py27 support,NEW,2023-07-03 06:04:32.000000000,2023-07-03 06:16:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-03 06:04:32.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/etcd3gw/commit/77dc29659ccbdc988e4e65935a9191bbf3a7482c', 'message': ""Cleanup py27 support\n\nThis repo is now testing only with Python 3, so let's make\na few cleanups:\n- Remove python 2.7 stanza from setup.py\n\nChange-Id: If1c05ffe814752205de7d4d0df9c9b4c2e2e3e28\n""}]",0,887397,77dc29659ccbdc988e4e65935a9191bbf3a7482c,2,1,1,35058,,,0,"Cleanup py27 support

This repo is now testing only with Python 3, so let's make
a few cleanups:
- Remove python 2.7 stanza from setup.py

Change-Id: If1c05ffe814752205de7d4d0df9c9b4c2e2e3e28
",git fetch https://review.opendev.org/openstack/etcd3gw refs/changes/97/887397/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,77dc29659ccbdc988e4e65935a9191bbf3a7482c,,,"# THIS FILE IS MANAGED BY THE GLOBAL REQUIREMENTS REPO - DO NOT EDIT# In python < 2.7.4, a lazy loading of package `pbr` will break # setuptools if some other modules registered functions in `atexit`. # solution from: http://bugs.python.org/issue15881#msg170215 try: import multiprocessing # noqa except ImportError: pass ",0,9
openstack%2Fkolla~master~I72c9f4a1577f1ad1cb3462b9e6478dc75497ceab,openstack/kolla,master,I72c9f4a1577f1ad1cb3462b9e6478dc75497ceab,Designate infoblox port 53 permission denied,NEW,2023-06-21 12:52:30.000000000,2023-07-03 04:28:17.000000000,,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-21 12:52:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c54638b57f2f6be0c954aef1f3cab7f2650d4c38', 'message': 'Designate infoblox port 53 permission denied\n\nDesignate infoblox integration requires mdns to bind to port 53, which\ncauses permission denied issues as process is executed as designate user.\nPer design privileged access is necessary to bind ports below 1024.\n\nChanging designate-mdns container `USER` to `root`.\n\nCloses-Bug: 2024576\nChange-Id: I72c9f4a1577f1ad1cb3462b9e6478dc75497ceab\n'}, {'number': 2, 'created': '2023-06-22 07:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6fad8300ad6d7229029d7667da734c94200de812', 'message': 'Designate infoblox port 53 permission denied\n\nDesignate infoblox integration requires mdns to bind to port 53, which\ncauses permission denied issues as process is executed as designate user.\nPer design privileged access is necessary to bind ports below 1024.\n\nChanging designate-mdns container `USER` to `root`.\n\nCloses-Bug: 2024576\nChange-Id: I72c9f4a1577f1ad1cb3462b9e6478dc75497ceab\n'}, {'number': 3, 'created': '2023-06-22 08:59:48.000000000', 'files': ['docker/designate/designate-mdns/Dockerfile.j2', '.zuul.d/ubuntu.yaml', '.zuul.d/rocky.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/49224951fde1893e08a4ca7d700c87162afcd2ad', 'message': 'Designate infoblox port 53 permission denied\n\nDesignate infoblox integration requires mdns to bind to port 53, which\ncauses permission denied issues as process is executed as designate user.\nPer design privileged access is necessary to bind ports below 1024.\n\nChanging designate-mdns container `USER` to `root`.\n\nCloses-Bug: 2024576\nChange-Id: I72c9f4a1577f1ad1cb3462b9e6478dc75497ceab\n'}]",8,886636,49224951fde1893e08a4ca7d700c87162afcd2ad,17,4,3,34076,,,0,"Designate infoblox port 53 permission denied

Designate infoblox integration requires mdns to bind to port 53, which
causes permission denied issues as process is executed as designate user.
Per design privileged access is necessary to bind ports below 1024.

Changing designate-mdns container `USER` to `root`.

Closes-Bug: 2024576
Change-Id: I72c9f4a1577f1ad1cb3462b9e6478dc75497ceab
",git fetch https://review.opendev.org/openstack/kolla refs/changes/36/886636/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/designate/designate-mdns/Dockerfile.j2'],1,c54638b57f2f6be0c954aef1f3cab7f2650d4c38,bugfix-2024576-designate-infoblox-permission-denied,, USER designate,0,2
openstack%2Fcinder~master~I111a7995dd8b07f6928560fc97746d7ccc181bb8,openstack/cinder,master,I111a7995dd8b07f6928560fc97746d7ccc181bb8,[WIP] Consolidate schema validation based on volumes.,NEW,2023-06-01 00:17:06.000000000,2023-07-03 03:56:53.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 00:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2080695d8ae8e5bb3810eba4848ad2cc3a3e37a', 'message': '[WIP] Consolidate schema validation between volumes and snapshots.\n\nSchema validation differs between volumes and snapshots.\nCommon fields should use the same method for validation.\nThis change removes the duplicated definiton and\nan unused function by this change.\n\nCloses-Bug: #2021909\nChange-Id: I111a7995dd8b07f6928560fc97746d7ccc181bb8\n'}, {'number': 2, 'created': '2023-06-01 11:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f92a25d67266bf04d9d3c18e7ba70b4595669513', 'message': '[WIP] Consolidate schema validation between volumes and snapshots.\n\nSchema validation differs between volumes and snapshots.\nCommon fields should use the same method for validation.\nThis change removes the duplicated definiton and\nan unused function by this change.\n\nCloses-Bug: #2021909\nChange-Id: I111a7995dd8b07f6928560fc97746d7ccc181bb8\n'}, {'number': 3, 'created': '2023-06-02 00:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a568bcadbbbbeb75908f38919a0d5916d6c604ad', 'message': '[WIP] Consolidate schema validation between volumes and snapshots.\n\nSchema validation differs between volumes and snapshots.\nCommon fields should use the same method for validation.\nThis change removes the duplicated definitons and\nunused functions by this change.\n\nCloses-Bug: #2021909\nChange-Id: I111a7995dd8b07f6928560fc97746d7ccc181bb8\n'}, {'number': 4, 'created': '2023-06-05 09:00:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ea91e7f6c5b093d4211e3bdf821350879f3dc5e', 'message': '[WIP] Consolidate schema validation between volumes and snapshots.\n\nSchema validation differs between volumes and snapshots.\nCommon fields should use the same method for validation.\nThis change removes the duplicated definitons and\nunused functions by this change.\n\nCloses-Bug: #2021909\nChange-Id: I111a7995dd8b07f6928560fc97746d7ccc181bb8\n'}, {'number': 5, 'created': '2023-06-06 06:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/affdf137997c63e598f659227126c878da0a45d9', 'message': '[WIP] Consolidate schema validation based on volumes.\n\nSchema validation differs between volumes and others.\nCommon fields should use the same method for validation.\nThis change removes the duplicated definitons and\nunused functions.\n\nAffected fields and APIs are below:\nDescription: backup, group, group_types, group_snapshot,\nsnapshot, snapshot_manage, volume_manage, volume_types\n\nName: clusters, deault_types, group_types, volume_types\n\nCloses-Bug: #2021909\nChange-Id: I111a7995dd8b07f6928560fc97746d7ccc181bb8\n'}, {'number': 6, 'created': '2023-06-22 02:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a8ffba2d4b2565d7a8e47e5355476f7e010ef6fd', 'message': '[WIP] Consolidate schema validation based on volumes.\n\nSchema validation differs between volumes and others.\nCommon fields should use the same method for validation.\nThis change removes the duplicated definitons and\nunused functions.\n\nAffected fields and APIs are below:\nDescription: backup, group, group_types, group_snapshot,\nsnapshot, snapshot_manage, volume_manage, volume_types\n\nName: clusters, deault_types, group_types, volume_types\n\nCloses-Bug: #2021909\nChange-Id: I111a7995dd8b07f6928560fc97746d7ccc181bb8\n'}, {'number': 7, 'created': '2023-06-26 08:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/972cd93ce94f4d1409577e56291685db72413653', 'message': '[WIP] Consolidate schema validation based on volumes.\n\nSchema validation differs between volumes and others.\nCommon fields should use the same method for validation.\nThis change removes the duplicated definitons and\nunused functions.\n\nAffected fields and APIs are below:\nDescription: backup, group, group_types, group_snapshot,\nsnapshot, snapshot_manage, volume_manage, volume_types\n\nName: clusters, deault_types, group_types, volume_types\n\nCloses-Bug: #2021909\nChange-Id: I111a7995dd8b07f6928560fc97746d7ccc181bb8\n'}, {'number': 8, 'created': '2023-06-26 08:38:32.000000000', 'files': ['cinder/api/validation/parameter_types.py', 'cinder/api/schemas/volumes.py', 'cinder/tests/unit/api/test_api_validation.py', 'cinder/api/schemas/volume_types.py', 'cinder/api/validation/validators.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/5b89ab09676bd2df71e8f988d9845af427ef66be', 'message': '[WIP] Consolidate schema validation based on volumes.\n\nSchema validation differs between volumes and others.\nCommon fields should use the same method for validation.\nThis change removes the duplicated definitons and\nunused functions.\n\nAffected fields and APIs are below:\nDescription: backup, group, group_types, group_snapshot,\nsnapshot, snapshot_manage, volume_manage, volume_types\n\nName: clusters, deault_types, group_types, volume_types\n\nCloses-Bug: #2021909\nChange-Id: I111a7995dd8b07f6928560fc97746d7ccc181bb8\n'}]",9,884958,5b89ab09676bd2df71e8f988d9845af427ef66be,85,2,8,25613,,,0,"[WIP] Consolidate schema validation based on volumes.

Schema validation differs between volumes and others.
Common fields should use the same method for validation.
This change removes the duplicated definitons and
unused functions.

Affected fields and APIs are below:
Description: backup, group, group_types, group_snapshot,
snapshot, snapshot_manage, volume_manage, volume_types

Name: clusters, deault_types, group_types, volume_types

Closes-Bug: #2021909
Change-Id: I111a7995dd8b07f6928560fc97746d7ccc181bb8
",git fetch https://review.opendev.org/openstack/cinder refs/changes/58/884958/8 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/api/validation/parameter_types.py', 'cinder/api/schemas/volumes.py']",2,f2080695d8ae8e5bb3810eba4848ad2cc3a3e37a,bug#2021909," 'name': parameter_types.name, 'description': parameter_types.description, 'display_name': parameter_types.name, 'display_description': parameter_types.description, 'image_id': parameter_types.name_allow_zero_min_length, 'imageRef': parameter_types.name_allow_zero_min_length,"," 'name': {'type': ['string', 'null'], 'format': 'name_non_mandatory_remove_white_spaces'}, 'description': { 'type': ['string', 'null'], 'format': 'description_non_mandatory_remove_white_spaces'}, 'display_name': { 'type': ['string', 'null'], 'format': 'name_non_mandatory_remove_white_spaces'}, 'display_description': { 'type': ['string', 'null'], 'format': 'description_non_mandatory_remove_white_spaces'}, 'image_id': {'type': ['string', 'null'], 'minLength': 0, 'maxLength': 255}, 'imageRef': {'type': ['string', 'null'], 'minLength': 0, 'maxLength': 255},",11,26
openstack%2Fopenstack-helm~master~I52270586196e35ed4302dc70e1dcb78e2ca315c9,openstack/openstack-helm,master,I52270586196e35ed4302dc70e1dcb78e2ca315c9,Run tests scripts sequentially,ABANDONED,2023-06-30 23:35:23.000000000,2023-07-03 02:27:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-30 23:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9c649aa08222eb2b785e6a5894f63e056518fd70', 'message': 'WIP: Run tests scripts sequentially\n\nThe thing is that ansible async feature\nforces us to wait for tasks timed out which\ntakes much more time for the zuul jobs to fail.\n\nChange-Id: I52270586196e35ed4302dc70e1dcb78e2ca315c9\n'}, {'number': 2, 'created': '2023-07-01 06:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/34d688f488fa3be9857b446f9c7af71fed5005d7', 'message': 'WIP: Run tests scripts sequentially\n\nChange-Id: I52270586196e35ed4302dc70e1dcb78e2ca315c9\n'}, {'number': 3, 'created': '2023-07-01 16:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/de392c7cbede8def4250c8096313a99f96426071', 'message': 'WIP: Run tests scripts sequentially\n\nChange-Id: I52270586196e35ed4302dc70e1dcb78e2ca315c9\n'}, {'number': 4, 'created': '2023-07-01 19:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9e6b15b1ddb79f1fea3af5795a34dcf8d0413ed3', 'message': 'WIP: Run tests scripts sequentially\n\nChange-Id: I52270586196e35ed4302dc70e1dcb78e2ca315c9\n'}, {'number': 5, 'created': '2023-07-01 21:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f9f60a1e102adfc1e907d4c8029afaf9c4a31bd8', 'message': 'Run tests scripts sequentially\n\nChange-Id: I52270586196e35ed4302dc70e1dcb78e2ca315c9\n'}, {'number': 6, 'created': '2023-07-02 00:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/161b6974b25023fcac5012b6025affb38b185b5e', 'message': 'Run tests scripts sequentially\n\nThis is temporary and hopefully can\nstabilize the compute-kit test jobs.\n\nAt this point some PRs are blocked by\nnon-reccuring jobs failures.\n\nChange-Id: I52270586196e35ed4302dc70e1dcb78e2ca315c9\n'}, {'number': 7, 'created': '2023-07-02 06:22:43.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/19815a9c7dcc84a119ca5747cb41d0b71ac92c04', 'message': 'Run tests scripts sequentially\n\nThis is temporary and hopefully can\nstabilize the compute-kit test jobs.\n\nAt this point some PRs are blocked by\nnon-reccuring jobs failures.\n\nChange-Id: I52270586196e35ed4302dc70e1dcb78e2ca315c9\n'}]",0,887434,19815a9c7dcc84a119ca5747cb41d0b71ac92c04,14,1,7,3009,,,0,"Run tests scripts sequentially

This is temporary and hopefully can
stabilize the compute-kit test jobs.

At this point some PRs are blocked by
non-reccuring jobs failures.

Change-Id: I52270586196e35ed4302dc70e1dcb78e2ca315c9
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/34/887434/6 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,9c649aa08222eb2b785e6a5894f63e056518fd70,, - export OSH_TEST_TIMEOUT=1200;./tools/deployment/common/run-helm-tests.sh neutron - ./tools/deployment/common/run-helm-tests.sh nova; - ./tools/deployment/common/run-helm-tests.sh glance; - ./tools/deployment/common/run-helm-tests.sh keystone; - ./tools/deployment/developer/common/900-use-it.sh - ./tools/deployment/common/force-cronjob-run.sh, - - export OSH_TEST_TIMEOUT=1200;./tools/deployment/common/run-helm-tests.sh neutron - ./tools/deployment/common/run-helm-tests.sh nova; ./tools/deployment/common/run-helm-tests.sh glance; ./tools/deployment/common/run-helm-tests.sh keystone; - - ./tools/deployment/developer/common/900-use-it.sh - ./tools/deployment/common/force-cronjob-run.sh,19,19
openstack%2Fopenstack-helm-images~master~Ibd0eb9257a3bcb356e9f5c201b2313dfed262130,openstack/openstack-helm-images,master,Ibd0eb9257a3bcb356e9f5c201b2313dfed262130,Debug: Do not build Debian based openvswitch image,ABANDONED,2023-07-01 21:52:17.000000000,2023-07-03 02:18:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-07-01 21:52:17.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/df354e11404f992ada4a082f2181b82555448be8', 'message': 'Debug: Do not build Debian based openvswitch image\n\nRun tests sequentially\n\nChange-Id: Ibd0eb9257a3bcb356e9f5c201b2313dfed262130\n'}]",0,887448,df354e11404f992ada4a082f2181b82555448be8,3,1,1,3009,,,0,"Debug: Do not build Debian based openvswitch image

Run tests sequentially

Change-Id: Ibd0eb9257a3bcb356e9f5c201b2313dfed262130
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/48/887448/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/openvswitch.yaml']",2,df354e11404f992ada4a082f2181b82555448be8,, - name: openstack-helm-images-compute-kit-yoga-ubuntu_focal - name: openstack-helm-images-compute-kit-zed-ubuntu_focal," - name: openstack-helm-images-compute-kit-victoria-ubuntu_focal - name: openstack-helm-images-compute-kit-wallaby-ubuntu_focal #- context: openvswitch # repository: openstackhelm/openvswitch # tags: # - latest-opensuse_15 # - ""opensuse_15-{{ currentdate }}"" # dockerfile: Dockerfile.suse_15 #- context: openvswitch # repository: openstackhelm/openvswitch # tags: # - latest-opensuse_15-dpdk # - ""opensuse_15-dpdk-{{ currentdate }}"" # dockerfile: Dockerfile.suse_15-dpdk - context: openvswitch repository: openstackhelm/openvswitch dockerfile: Dockerfile.debian tags: - latest-debian - ""debian-{{ currentdate }}""",27,20
openstack%2Fneutron~stable%2F2023.1~If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd,openstack/neutron,stable/2023.1,If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd,Improve Hash Ring logs,MERGED,2023-06-29 13:28:31.000000000,2023-07-02 21:42:11.000000000,2023-07-02 21:41:03.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 13:28:31.000000000', 'files': ['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/common/ovn/exceptions.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/common/ovn/hash_ring_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/52cc01532b88f8f621797fc1db54ba4d0aa41996', 'message': 'Improve Hash Ring logs\n\nDebugging Hash Ring problems can be difficult challenge given that prior\nto this patch the logs were very limited.\n\nThis patch improves the logging for this feature as follow:\n\n1. Log when a node is added to the ring\n2. Log when nodes are removed from the ring\n3. Keep track the number of offline nodes and log it upon loading the\n   ring\n4. Improve the ""Hash Ring is empty"" exception with the number of offline\n   nodes found (if 0, means the ovn_hash_ring table has no entries)\n\nCloses-Bug: #2023670\nChange-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit afa20faec3c37bd06346360cadbad0d69e9925f0)\n\n[OVN] The all() and count() methods should be inside a DB txn\n\nThe ``ovn_hash_ring_db`` methods ``get_active_nodes`` and\n``count_offline_nodes`` are sending SQL requests that should be issued\nfrom inside a READER context.\n\nCloses-Bug: #2024447\nChange-Id: If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd\n(cherry picked from commit 0c66dfaed8e1ec00726c3e484e69174779678abd)\n'}]",3,887280,52cc01532b88f8f621797fc1db54ba4d0aa41996,17,3,1,6773,,,0,"Improve Hash Ring logs

Debugging Hash Ring problems can be difficult challenge given that prior
to this patch the logs were very limited.

This patch improves the logging for this feature as follow:

1. Log when a node is added to the ring
2. Log when nodes are removed from the ring
3. Keep track the number of offline nodes and log it upon loading the
   ring
4. Improve the ""Hash Ring is empty"" exception with the number of offline
   nodes found (if 0, means the ovn_hash_ring table has no entries)

Closes-Bug: #2023670
Change-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit afa20faec3c37bd06346360cadbad0d69e9925f0)

[OVN] The all() and count() methods should be inside a DB txn

The ``ovn_hash_ring_db`` methods ``get_active_nodes`` and
``count_offline_nodes`` are sending SQL requests that should be issued
from inside a READER context.

Closes-Bug: #2024447
Change-Id: If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd
(cherry picked from commit 0c66dfaed8e1ec00726c3e484e69174779678abd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/887280/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/common/ovn/exceptions.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/common/ovn/hash_ring_manager.py']",4,52cc01532b88f8f621797fc1db54ba4d0aa41996,," self._offline_node_count = 0 self._offline_node_count = db_hash_ring.count_offline_nodes( self.admin_ctx, constants.HASH_RING_NODES_TIMEOUT, self._group) LOG.debug(""Hash Ring loaded. %d active nodes. %d offline nodes"", len(nodes), self._offline_node_count) raise exceptions.HashRingIsEmpty( key=key, node_count=self._offline_node_count)", raise exceptions.HashRingIsEmpty(key=key),72,12
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I72b85bc098dcf2fe65b20e6dde44e43bfee4ad95,openstack/tripleo-upgrade,stable/wallaby,I72b85bc098dcf2fe65b20e6dde44e43bfee4ad95,role_file_copy is never set,ABANDONED,2023-07-02 20:39:14.000000000,2023-07-02 20:39:47.000000000,,[],"[{'number': 1, 'created': '2023-07-02 20:39:14.000000000', 'files': ['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6cf3f34daf981eedc95100cb8e51bf6cd6fe9980', 'message': 'role_file_copy is never set\n\nRemove the when conditional\nChange-Id: I070ddfd1cfba4a2bb5a5d8f2c47bcae2ce39e576\n\nChange-Id: I72b85bc098dcf2fe65b20e6dde44e43bfee4ad95\n'}]",0,887471,6cf3f34daf981eedc95100cb8e51bf6cd6fe9980,2,0,1,22954,,,0,"role_file_copy is never set

Remove the when conditional
Change-Id: I070ddfd1cfba4a2bb5a5d8f2c47bcae2ce39e576

Change-Id: I72b85bc098dcf2fe65b20e6dde44e43bfee4ad95
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/71/887471/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml'],1,6cf3f34daf981eedc95100cb8e51bf6cd6fe9980,default_roles_exits,, when: not role_file_copy.stat.exists,0,1
openstack%2Ftrove~stable%2F2023.1~I72e68d9e7df6a82b4635abac995299be770546ce,openstack/trove,stable/2023.1,I72e68d9e7df6a82b4635abac995299be770546ce,[CI]: Don't run periodic jobs on stable branchs,MERGED,2023-06-29 07:46:48.000000000,2023-07-02 13:50:40.000000000,2023-07-02 13:48:34.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-29 07:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/080ccf9d5904def8de73499b9b5d3f3a0b948907', 'message': ""[CI]: Don't run periodic jobs on stable branchs\n\nwe don't need to pulish trove image with stable branches everyday.\n\nChange-Id: I72e68d9e7df6a82b4635abac995299be770546ce\n(cherry picked from commit 7a6666f4f301cd4a9a4d2b7380546893f0c1c6f8)\n""}, {'number': 2, 'created': '2023-06-29 07:47:29.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/959e9cd517e0806e5a7ec2c7d3b65c78eeab1d42', 'message': ""[CI]: Don't run periodic jobs on stable branchs\n\nwe don't need to pulish trove image with stable branches everyday.\n\nChange-Id: I72e68d9e7df6a82b4635abac995299be770546ce\n(cherry picked from commit 7a6666f4f301cd4a9a4d2b7380546893f0c1c6f8)\n""}]",0,887175,959e9cd517e0806e5a7ec2c7d3b65c78eeab1d42,12,2,2,26285,,,0,"[CI]: Don't run periodic jobs on stable branchs

we don't need to pulish trove image with stable branches everyday.

Change-Id: I72e68d9e7df6a82b4635abac995299be770546ce
(cherry picked from commit 7a6666f4f301cd4a9a4d2b7380546893f0c1c6f8)
",git fetch https://review.opendev.org/openstack/trove refs/changes/75/887175/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,080ccf9d5904def8de73499b9b5d3f3a0b948907,,"<<<<<<< HEAD (f62243 Fix ""create database"" failed for postgress)======= - publish-trove-guest-image-ubuntu-focal: branches: ^(?!stable/.*).*$ - publish-trove-guest-image-ubuntu-focal-dev: branches: ^(?!stable/.*).*$ - publish-trove-datastore-images: branches: ^(?!stable/.*).*$ >>>>>>> CHANGE (7a6666 [CI]: Don't run periodic jobs on stable branchs)",,9,0
openstack%2Ftrove~master~I846f433ff35a9638a070382bf89e02db617dcd3d,openstack/trove,master,I846f433ff35a9638a070382bf89e02db617dcd3d,Fixes cluster creation error,MERGED,2022-07-15 10:44:46.000000000,2023-07-02 13:50:35.000000000,2023-07-02 13:48:35.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}]","[{'number': 1, 'created': '2022-07-15 10:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/5de2921e54b63807e009bd2a99f59dfba389f545', 'message': ""Fixes cluster creation error\n\nThis PR adds the import statement to fix cluster creation error and adds\nunit tests.\n\nOriginal problem:\nwe have currently got `NameError: name 'common_glance' is not defined`\nerror when creating a cluster because I failed to edit the patch[1].\n\n[1]: https://opendev.org/openstack/trove/commit/2f52b2fddbd30dfa68d83e3da32030fa07940ea3\n\nStory: 2010151\nTask: 45797\nChange-Id: I846f433ff35a9638a070382bf89e02db617dcd3d\n""}, {'number': 2, 'created': '2022-11-15 06:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/b3c592e4de8c26e2cb03aaf4a0350bf8474f5ca8', 'message': ""Fixes cluster creation error\n\nThis PR adds the import statement to fix cluster creation error and adds\nunit tests.\n\nOriginal problem:\nwe have currently got `NameError: name 'common_glance' is not defined`\nerror when creating a cluster because I failed to edit the patch[1].\n\n[1]: https://opendev.org/openstack/trove/commit/2f52b2fddbd30dfa68d83e3da32030fa07940ea3\n\nStory: 2010151\nTask: 45797\nChange-Id: I846f433ff35a9638a070382bf89e02db617dcd3d\n""}, {'number': 3, 'created': '2023-01-23 17:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/0fce61e85e1e0f858b0f8473733e059c82abb521', 'message': ""Fixes cluster creation error\n\nThis PR adds the import statement to fix cluster creation error and adds\nunit tests.\n\nOriginal problem:\nwe have currently got `NameError: name 'common_glance' is not defined`\nerror when creating a cluster because I failed to edit the patch[1].\n\n[1]: https://opendev.org/openstack/trove/commit/2f52b2fddbd30dfa68d83e3da32030fa07940ea3\n\nStory: 2010151\nTask: 45797\nChange-Id: I846f433ff35a9638a070382bf89e02db617dcd3d\n""}, {'number': 4, 'created': '2023-06-29 08:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/8d46d1d2e9b53cd39bb2c3cff401d5abc840206c', 'message': ""Fixes cluster creation error\n\nThis PR adds the import statement to fix cluster creation error and adds\nunit tests.\n\nOriginal problem:\nwe have currently got `NameError: name 'common_glance' is not defined`\nerror when creating a cluster because I failed to edit the patch[1].\n\n[1]: https://opendev.org/openstack/trove/commit/2f52b2fddbd30dfa68d83e3da32030fa07940ea3\n\nStory: 2010151\nTask: 45797\nChange-Id: I846f433ff35a9638a070382bf89e02db617dcd3d\n""}, {'number': 5, 'created': '2023-06-30 06:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/7f42a03963b4c0f52fb1df7de0bff8c33d5ad329', 'message': 'Fixes cluster creation error\n\nThis PR adds the import statement to fix cluster creation error\nand enables flake8-f821 rule checks.\nF821 rule checks ""undefined name""\n\nOriginal problem:\nwe have currently got `NameError: name \'common_glance\' is not defined`\nerror when creating a cluster because I failed to edit the patch[1].\n\nCo-Authored-By: wuchunyang <wchy1001@gmail.com>\n\n[1]: https://opendev.org/openstack/trove/commit/2f52b2fddbd30dfa68d83e3da32030fa07940ea3\n\nStory: 2010151\nTask: 45797\nChange-Id: I846f433ff35a9638a070382bf89e02db617dcd3d\n'}, {'number': 6, 'created': '2023-06-30 06:27:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/9d5691355e4b206ad4a167d7558321fbc0b12f2f', 'message': 'Fixes cluster creation error\n\nThis PR adds the import statement to fix cluster creation error\nand enables flake8-f821 rule checks.\nF821 rule checks ""undefined name""\n\nOriginal problem:\nwe have currently got `NameError: name \'common_glance\' is not defined`\nerror when creating a cluster because I failed to edit the patch[1].\n\nCo-Authored-By: wu.chunyang <wchy1001@gmail.com>\n\n[1]: https://opendev.org/openstack/trove/commit/2f52b2fddbd30dfa68d83e3da32030fa07940ea3\n\nStory: 2010151\nTask: 45797\nChange-Id: I846f433ff35a9638a070382bf89e02db617dcd3d\n'}, {'number': 7, 'created': '2023-06-30 06:32:44.000000000', 'files': ['trove/tests/api/limits.py', 'trove/tests/fakes/nova.py', 'trove/tests/api/backups.py', 'releasenotes/notes/fix-cluster-creation-error-c1fd7674e71dd6a2.yaml', 'tox.ini', 'trove/cluster/models.py', 'trove/tests/util/check.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/0d4a24c71dfddeafd9aca462ba7e70d0dada2365', 'message': 'Fixes cluster creation error\n\nThis PR adds the import statement to fix cluster creation error\nand enables flake8-f821 rule checks.\nF821 rule checks ""undefined name""\n\nOriginal problem:\nwe have currently got `NameError: name \'common_glance\' is not defined`\nerror when creating a cluster because I failed to edit the patch[1].\n\nCo-Authored-By: wu.chunyang <wchy1001@gmail.com>\n\n[1]: https://opendev.org/openstack/trove/commit/2f52b2fddbd30dfa68d83e3da32030fa07940ea3\n\nStory: 2010151\nTask: 45797\nChange-Id: I846f433ff35a9638a070382bf89e02db617dcd3d\n'}]",5,849984,0d4a24c71dfddeafd9aca462ba7e70d0dada2365,27,3,7,31737,,,0,"Fixes cluster creation error

This PR adds the import statement to fix cluster creation error
and enables flake8-f821 rule checks.
F821 rule checks ""undefined name""

Original problem:
we have currently got `NameError: name 'common_glance' is not defined`
error when creating a cluster because I failed to edit the patch[1].

Co-Authored-By: wu.chunyang <wchy1001@gmail.com>

[1]: https://opendev.org/openstack/trove/commit/2f52b2fddbd30dfa68d83e3da32030fa07940ea3

Story: 2010151
Task: 45797
Change-Id: I846f433ff35a9638a070382bf89e02db617dcd3d
",git fetch https://review.opendev.org/openstack/trove refs/changes/84/849984/5 && git format-patch -1 --stdout FETCH_HEAD,['trove/cluster/models.py'],1,5de2921e54b63807e009bd2a99f59dfba389f545,,from trove.common import glance as common_glance,,1,0
openstack%2Ftrove~stable%2F2023.1~I90c4c3694c0010fa57fff1e994ede2d3bf9ba17f,openstack/trove,stable/2023.1,I90c4c3694c0010fa57fff1e994ede2d3bf9ba17f,Change settings for stable/2023.1,MERGED,2023-06-30 02:16:15.000000000,2023-07-02 12:54:55.000000000,2023-07-02 12:53:12.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-30 02:16:15.000000000', 'files': ['integration/scripts/files/elements/guest-agent/source-repository-guest-agent', 'integration/scripts/trovestack', 'trove/common/cfg.py', 'integration/scripts/trovestack.rc', 'trove/guestagent/api.py', 'zuul.d/jobs.yaml', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/trove/commit/53eef3bc7b60a2ed40ee49ff758bee811c1af40e', 'message': 'Change settings for stable/2023.1\n\nChange-Id: I90c4c3694c0010fa57fff1e994ede2d3bf9ba17f\n'}]",0,887348,53eef3bc7b60a2ed40ee49ff758bee811c1af40e,8,2,1,26285,,,0,"Change settings for stable/2023.1

Change-Id: I90c4c3694c0010fa57fff1e994ede2d3bf9ba17f
",git fetch https://review.opendev.org/openstack/trove refs/changes/48/887348/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/guest-agent/source-repository-guest-agent', 'integration/scripts/trovestack', 'trove/common/cfg.py', 'integration/scripts/trovestack.rc', 'trove/guestagent/api.py', 'zuul.d/jobs.yaml', 'devstack/settings']",7,53eef3bc7b60a2ed40ee49ff758bee811c1af40e,,TROVE_BRANCH=${TROVE_BRANCH:-stable/2023.1}TROVE_CLIENT_BRANCH=${TROVE_CLIENT_BRANCH:-${TROVECLIENT_BRANCH:-stable/2023.1}}TROVE_DASHBOARD_BRANCH=${TROVE_DASHBOARD_BRANCH:-stable/2023.1}TRIPLEO_IMAGES_BRANCH=${TRIPLEO_IMAGES_BRANCH:-stable/2023.1},TROVE_BRANCH=${TROVE_BRANCH:-master}TROVE_CLIENT_BRANCH=${TROVE_CLIENT_BRANCH:-${TROVECLIENT_BRANCH:-master}}TROVE_DASHBOARD_BRANCH=${TROVE_DASHBOARD_BRANCH:-master}TRIPLEO_IMAGES_BRANCH=${TRIPLEO_IMAGES_BRANCH:-master},24,15
openstack%2Ftrove~stable%2F2023.1~I8ede26b0f7631e00e1d2622adc21609adc07e4be,openstack/trove,stable/2023.1,I8ede26b0f7631e00e1d2622adc21609adc07e4be,[CI]: fix trove-tempest jobs on stable/2023.1,MERGED,2023-06-29 10:59:40.000000000,2023-07-02 12:26:48.000000000,2023-07-02 12:25:06.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-29 10:59:40.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/1e7bfafdc551e28f11d1096942ad67ac3a44ade0', 'message': '[CI]: fix trove-tempest jobs on stable/2023.1\n\nfix trove-tempest jobs failed to pull image.\n\nChange-Id: I8ede26b0f7631e00e1d2622adc21609adc07e4be\n'}]",0,887265,1e7bfafdc551e28f11d1096942ad67ac3a44ade0,8,2,1,26285,,,0,"[CI]: fix trove-tempest jobs on stable/2023.1

fix trove-tempest jobs failed to pull image.

Change-Id: I8ede26b0f7631e00e1d2622adc21609adc07e4be
",git fetch https://review.opendev.org/openstack/trove refs/changes/65/887265/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,1e7bfafdc551e28f11d1096942ad67ac3a44ade0,, TROVE_DATASTORE_VERSION: 5.7.29 default_datastore_versions: mysql:5.7.29, TROVE_DATASTORE_VERSION: 5.7 default_datastore_versions: mysql:5.7,2,2
openstack%2Ftempest~master~Ib29955be34e6567e25ba84d35f976c2f084cbc27,openstack/tempest,master,Ib29955be34e6567e25ba84d35f976c2f084cbc27,[Negative] Delete a parent volume with associated snapshot,ABANDONED,2023-06-12 07:35:38.000000000,2023-07-02 10:44:05.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-12 07:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/16746bb1544d796b1774062c45665ac9597a351e', 'message': '[Negative] Delete a parent volume with associated snapshot\n\nThis test validates snapshot protection for backing file in case\nuser accidentally tries to delete a backing file.\n\nChange-Id: Ib29955be34e6567e25ba84d35f976c2f084cbc27\n'}, {'number': 2, 'created': '2023-06-22 09:57:02.000000000', 'files': ['tempest/api/volume/test_volumes_snapshots_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/876c3438fd1deb33b83a1f8f5af89f2c1df9b002', 'message': '[Negative] Delete a parent volume with associated snapshot\n\nThis test validates snapshot protection for backing file in case\nuser accidentally tries to delete a backing file.\n\nChange-Id: Ib29955be34e6567e25ba84d35f976c2f084cbc27\n'}]",8,885839,876c3438fd1deb33b83a1f8f5af89f2c1df9b002,12,4,2,19262,,,0,"[Negative] Delete a parent volume with associated snapshot

This test validates snapshot protection for backing file in case
user accidentally tries to delete a backing file.

Change-Id: Ib29955be34e6567e25ba84d35f976c2f084cbc27
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/885839/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_snapshots_negative.py'],1,16746bb1544d796b1774062c45665ac9597a351e,delete_parent_volume," @decorators.attr(type=['negative']) @decorators.idempotent_id('ad1b2fbe-7188-4dfd-8b39-c03778b07475') def test_delete_parent_volume_with_associated_snapshot(self): volume = self.create_volume() self.create_snapshot(volume_id=volume['id']) self.assertRaises(lib_exc.BadRequest, self.volumes_client.delete_volume, volume['id'])",,9,0
openstack%2Ftempest~master~Ib669667eea299bc0bb4f63c27eeef208940fd844,openstack/tempest,master,Ib669667eea299bc0bb4f63c27eeef208940fd844,[Negative] Delete an attached volume with associated snapshots,ABANDONED,2023-06-12 10:22:19.000000000,2023-07-02 08:52:46.000000000,,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-12 10:22:19.000000000', 'files': ['tempest/api/volume/test_volumes_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4148170e26402c7f51b9a9b1e5e44fff7277b771', 'message': '[Negative] Delete an attached volume with associated snapshots\n\nThe case validates delete a volume with associated snapshots\nwhile the volume is attached to an instance.\n\nChange-Id: Ib669667eea299bc0bb4f63c27eeef208940fd844\n'}]",2,885858,4148170e26402c7f51b9a9b1e5e44fff7277b771,5,4,1,19262,,,0,"[Negative] Delete an attached volume with associated snapshots

The case validates delete a volume with associated snapshots
while the volume is attached to an instance.

Change-Id: Ib669667eea299bc0bb4f63c27eeef208940fd844
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/885858/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_negative.py'],1,4148170e26402c7f51b9a9b1e5e44fff7277b771,cascade_attached_volume,"import testtools @decorators.attr(type=['negative']) @decorators.idempotent_id('83e61d7e-f829-4c96-a16b-091961dce225') @testtools.skipUnless(CONF.volume_feature_enabled.snapshot, ""Cinder volume snapshots are disabled."") @utils.services('compute') def test_volume_delete_cascade_attached_volume(self): """"""Test deleting attached volume with any snapshots along with it"""""" # Create a volume volume = self.create_volume() # Create a snapshot self.create_snapshot(volume['id']) # Create a server and attach it to the volume parent server = self.create_server() self.attach_volume(server['id'], volume['id']) # Try to delete the patent volume self.assertRaises(lib_exc.BadRequest, self.volumes_client.delete_volume, volume['id'], cascade=True)",,23,0
openstack%2Fopenstack-helm-images~master~I62172db1612a38b20ced5fb25832d0392cff2394,openstack/openstack-helm-images,master,I62172db1612a38b20ced5fb25832d0392cff2394,Do not build Debian based openvswitch image,MERGED,2023-06-29 04:43:25.000000000,2023-07-02 08:48:41.000000000,2023-07-02 08:46:54.000000000,"[{'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-06-29 04:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/0f14d525be3d828236c70195c31dac524d78222c', 'message': ""Do not build Debian based openvswitch image\n\nThe debian based openvswitch image build has been\nbroken for a while. It seems we don't use this\nimage and the Debian version was quite old.\n\nSome test jobs depend on the openvswitch image\nbuild, so let's stop building Debian based ovs image.\n\nChange-Id: I62172db1612a38b20ced5fb25832d0392cff2394\n""}, {'number': 2, 'created': '2023-06-29 04:49:59.000000000', 'files': ['zuul.d/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e9f8310baa5f3ee1463d708a572f913f5dcc7492', 'message': ""Do not build Debian based openvswitch image\n\nThe debian based openvswitch image build has been\nbroken for a while. It seems we don't use this\nimage and the Debian version was quite old.\n\nSome test jobs depend on the openvswitch image\nbuild, so let's stop building Debian based ovs image.\n\nStory: 2010808\nTask: 48310\nChange-Id: I62172db1612a38b20ced5fb25832d0392cff2394\n""}]",11,887245,e9f8310baa5f3ee1463d708a572f913f5dcc7492,33,3,2,3009,,,0,"Do not build Debian based openvswitch image

The debian based openvswitch image build has been
broken for a while. It seems we don't use this
image and the Debian version was quite old.

Some test jobs depend on the openvswitch image
build, so let's stop building Debian based ovs image.

Story: 2010808
Task: 48310
Change-Id: I62172db1612a38b20ced5fb25832d0392cff2394
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/45/887245/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/openvswitch.yaml'],1,0f14d525be3d828236c70195c31dac524d78222c,, - name: openstack-helm-images-compute-kit-yoga-ubuntu_focal - name: openstack-helm-images-compute-kit-zed-ubuntu_focal," - name: openstack-helm-images-compute-kit-victoria-ubuntu_focal - name: openstack-helm-images-compute-kit-wallaby-ubuntu_focal #- context: openvswitch # repository: openstackhelm/openvswitch # tags: # - latest-opensuse_15 # - ""opensuse_15-{{ currentdate }}"" # dockerfile: Dockerfile.suse_15 #- context: openvswitch # repository: openstackhelm/openvswitch # tags: # - latest-opensuse_15-dpdk # - ""opensuse_15-dpdk-{{ currentdate }}"" # dockerfile: Dockerfile.suse_15-dpdk - context: openvswitch repository: openstackhelm/openvswitch dockerfile: Dockerfile.debian tags: - latest-debian - ""debian-{{ currentdate }}""",2,20
openstack%2Fnova~master~I2209bf1b3320901cf603ec39163cf923b25b0359,openstack/nova,master,I2209bf1b3320901cf603ec39163cf923b25b0359,"database: Archive parent and child rows ""trees"" one at a time",MERGED,2023-03-10 02:14:35.000000000,2023-07-02 08:10:10.000000000,2023-07-02 08:08:52.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-10 02:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d4f16979c825380995f790302fc99ec2feaa1c84', 'message': 'database: Archive parent and child rows ""trees"" one at a time\n\nPreviously, we archived deleted rows in batches of parents + child rows\nrounded to max_rows in a single database query (multiple parent rows\nand child rows). Doing it that way limited how high a value of max_rows\ncould be specified by the caller because of the size of the database\nquery it could generate.\n\nFor example, in a large scale deployment with hundreds of thousands of\ndeleted rows and constant server creation and deletion activity, a\nvalue of max_rows=1000 might exceed the database\'s configured maximum\npacket size or timeout due to a database deadlock, forcing the operator\nto use a much lower max_rows value like 100 or 50.\n\nAnd when the operator has e.g. 500,000 deleted instances rows (and\nmillions of deleted rows total) they are trying to archive, being\nforced to use a max_rows value order(s) of magnitude lower than the\nnumber of rows they need to archive was a poor user experience.\n\nThis changes the logic to archive one parent row and its foreign key\nrelated child rows together in a single database transaction. Doing\nthis will keep the database query packet sizes within limits while\nallowing use of higher values for max_rows.\n\nChange-Id: I2209bf1b3320901cf603ec39163cf923b25b0359\n'}, {'number': 2, 'created': '2023-06-16 06:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b4d43efc286087fb2545c5d0f042f7d48069f1d', 'message': 'database: Archive parent and child rows ""trees"" one at a time\n\nPreviously, we archived deleted rows in batches of max_rows parents +\ntheir child rows in a single database transaction. Doing it that way\nlimited how high a value of max_rows could be specified by the caller\nbecause of the size of the database transaction it could generate.\n\nFor example, in a large scale deployment with hundreds of thousands of\ndeleted rows and constant server creation and deletion activity, a\nvalue of max_rows=1000 might exceed the database\'s configured maximum\npacket size or timeout due to a database deadlock, forcing the operator\nto use a much lower max_rows value like 100 or 50.\n\nAnd when the operator has e.g. 500,000 deleted instances rows (and\nmillions of deleted rows total) they are trying to archive, being\nforced to use a max_rows value serveral orders of magnitude lower than\nthe number of rows they need to archive was a poor user experience.\n\nThis changes the logic to archive one parent row and its foreign key\nrelated child rows one at a time in a single database transaction\nwhile limiting the total number of rows per table as soon as it reaches\n>= max_rows. Doing this will allow operators to choose more predictable\nvalues for max_rows and get more progress per invocation of\narchive_deleted_rows.\n\nCloses-Bug: #<TBD>\n\nTODO: Open bug and add release note\n\nChange-Id: I2209bf1b3320901cf603ec39163cf923b25b0359\n'}, {'number': 3, 'created': '2023-06-16 19:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/50d6218b4285e20465eff874dc4f2168c875ac73', 'message': 'database: Archive parent and child rows ""trees"" one at a time\n\nPreviously, we archived deleted rows in batches of max_rows parents +\ntheir child rows in a single database transaction. Doing it that way\nlimited how high a value of max_rows could be specified by the caller\nbecause of the size of the database transaction it could generate.\n\nFor example, in a large scale deployment with hundreds of thousands of\ndeleted rows and constant server creation and deletion activity, a\nvalue of max_rows=1000 might exceed the database\'s configured maximum\npacket size or timeout due to a database deadlock, forcing the operator\nto use a much lower max_rows value like 100 or 50.\n\nAnd when the operator has e.g. 500,000 deleted instances rows (and\nmillions of deleted rows total) they are trying to archive, being\nforced to use a max_rows value several orders of magnitude lower than\nthe number of rows they need to archive was a poor user experience.\n\nThis changes the logic to archive one parent row and its foreign key\nrelated child rows one at a time in a single database transaction\nwhile limiting the total number of rows per table as soon as it reaches\n>= max_rows. Doing this will allow operators to choose more predictable\nvalues for max_rows and get more progress per invocation of\narchive_deleted_rows.\n\nCloses-Bug: #2024258\n\nChange-Id: I2209bf1b3320901cf603ec39163cf923b25b0359\n'}, {'number': 4, 'created': '2023-06-20 19:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cf985b292e263ffcfd05d03dc361be94eb1609ce', 'message': 'database: Archive parent and child rows ""trees"" one at a time\n\nPreviously, we archived deleted rows in batches of max_rows parents +\ntheir child rows in a single database transaction. Doing it that way\nlimited how high a value of max_rows could be specified by the caller\nbecause of the size of the database transaction it could generate.\n\nFor example, in a large scale deployment with hundreds of thousands of\ndeleted rows and constant server creation and deletion activity, a\nvalue of max_rows=1000 might exceed the database\'s configured maximum\npacket size or timeout due to a database deadlock, forcing the operator\nto use a much lower max_rows value like 100 or 50.\n\nAnd when the operator has e.g. 500,000 deleted instances rows (and\nmillions of deleted rows total) they are trying to archive, being\nforced to use a max_rows value several orders of magnitude lower than\nthe number of rows they need to archive was a poor user experience.\n\nThis changes the logic to archive one parent row and its foreign key\nrelated child rows one at a time in a single database transaction\nwhile limiting the total number of rows per table as soon as it reaches\n>= max_rows. Doing this will allow operators to choose more predictable\nvalues for max_rows and get more progress per invocation of\narchive_deleted_rows.\n\nCloses-Bug: #2024258\n\nChange-Id: I2209bf1b3320901cf603ec39163cf923b25b0359\n'}, {'number': 5, 'created': '2023-06-20 20:04:54.000000000', 'files': ['nova/tests/functional/db/test_archive.py', 'nova/db/main/api.py', 'releasenotes/notes/db-archive-performance-degradation-3fdabc43398149b1.yaml', 'nova/tests/unit/cmd/test_manage.py', 'nova/cmd/manage.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/697fa3c000696da559e52b664c04cbd8d261c037', 'message': 'database: Archive parent and child rows ""trees"" one at a time\n\nPreviously, we archived deleted rows in batches of max_rows parents +\ntheir child rows in a single database transaction. Doing it that way\nlimited how high a value of max_rows could be specified by the caller\nbecause of the size of the database transaction it could generate.\n\nFor example, in a large scale deployment with hundreds of thousands of\ndeleted rows and constant server creation and deletion activity, a\nvalue of max_rows=1000 might exceed the database\'s configured maximum\npacket size or timeout due to a database deadlock, forcing the operator\nto use a much lower max_rows value like 100 or 50.\n\nAnd when the operator has e.g. 500,000 deleted instances rows (and\nmillions of deleted rows total) they are trying to archive, being\nforced to use a max_rows value several orders of magnitude lower than\nthe number of rows they need to archive was a poor user experience.\n\nThis changes the logic to archive one parent row and its foreign key\nrelated child rows one at a time in a single database transaction\nwhile limiting the total number of rows per table as soon as it reaches\n>= max_rows. Doing this will allow operators to choose more predictable\nvalues for max_rows and get more progress per invocation of\narchive_deleted_rows.\n\nCloses-Bug: #2024258\n\nChange-Id: I2209bf1b3320901cf603ec39163cf923b25b0359\n'}]",60,877056,697fa3c000696da559e52b664c04cbd8d261c037,93,6,5,4690,,,0,"database: Archive parent and child rows ""trees"" one at a time

Previously, we archived deleted rows in batches of max_rows parents +
their child rows in a single database transaction. Doing it that way
limited how high a value of max_rows could be specified by the caller
because of the size of the database transaction it could generate.

For example, in a large scale deployment with hundreds of thousands of
deleted rows and constant server creation and deletion activity, a
value of max_rows=1000 might exceed the database's configured maximum
packet size or timeout due to a database deadlock, forcing the operator
to use a much lower max_rows value like 100 or 50.

And when the operator has e.g. 500,000 deleted instances rows (and
millions of deleted rows total) they are trying to archive, being
forced to use a max_rows value several orders of magnitude lower than
the number of rows they need to archive was a poor user experience.

This changes the logic to archive one parent row and its foreign key
related child rows one at a time in a single database transaction
while limiting the total number of rows per table as soon as it reaches
>= max_rows. Doing this will allow operators to choose more predictable
values for max_rows and get more progress per invocation of
archive_deleted_rows.

Closes-Bug: #2024258

Change-Id: I2209bf1b3320901cf603ec39163cf923b25b0359
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/877056/4 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_archive.py', 'nova/db/main/api.py', 'nova/tests/unit/cmd/test_manage.py', 'nova/cmd/manage.py']",4,d4f16979c825380995f790302fc99ec2feaa1c84,archive-trees-one-at-a-time," # table_to_rows = {table_name: number_of_rows_archived} # deleted_instance_uuids = ['uuid1', 'uuid2', ...] table_to_rows, deleted_instance_uuids, total_rows_archived = \ for table_name, rows_archived in table_to_rows.items(): # deleted_instance_uuids does not necessarily mean that any # instances rows were archived because it is obtained by a query # separate from the archive queries. For example, if a # DBReferenceError was raised while processing the instances table, # we would have skipped the table and had 0 rows archived even # though deleted instances rows were found. instances_archived = table_to_rows.get('instances', 0) if deleted_instance_uuids and instances_archived: # archive. We check the values() in case we get something like # table_to_rows = {'instances': 0} back somehow. if not until_complete or not any(table_to_rows.values()):"," run, deleted_instance_uuids, total_rows_archived = \ for table_name, rows_archived in run.items(): if deleted_instance_uuids: # archive. if not until_complete or not run:",171,46
openstack%2Fcinder~master~Ie47bd7c8dad8e4edbbb55ae366f0dd8d405c5f44,openstack/cinder,master,Ie47bd7c8dad8e4edbbb55ae366f0dd8d405c5f44,Fix cinder/tests/unit/volume/test_volume_manager.py,NEW,2023-02-21 12:16:48.000000000,2023-07-02 08:04:47.000000000,,"[{'_account_id': 4523}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-02-21 12:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/13333b8b0e1e47a1e40e990308409de8cf795273', 'message': ""Replace empty mock.MagicMock() call with spec\n\nThis allows the tests to more accurately simulate how the code will\nbehave when it is run in production, as it will be using objects of\nthose classes rather than generic mocks that don't have any of the\nmethods or attributes of those classes available to them.\n\nPartial-Bug: #2004174\nChange-Id: Ie47bd7c8dad8e4edbbb55ae366f0dd8d405c5f44\n""}, {'number': 2, 'created': '2023-04-19 13:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ed7a845ec0dc35eb93699be6037fc366a32b535', 'message': ""Replace empty mock.MagicMock() call with spec\n\nThis allows the tests to more accurately simulate how the code will\nbehave when it is run in production, as it will be using objects of\nthose classes rather than generic mocks that don't have any of the\nmethods or attributes of those classes available to them.\n\nPartial-Bug: #2004174\nChange-Id: Ie47bd7c8dad8e4edbbb55ae366f0dd8d405c5f44\n""}, {'number': 3, 'created': '2023-06-23 10:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8c2b634a5feb5e6e71c5e5e83c46aec73d3c0724', 'message': ""Replace empty mock.MagicMock() call with spec\n\nThis allows the tests to more accurately simulate how the code will\nbehave when it is run in production, as it will be using objects of\nthose classes rather than generic mocks that don't have any of the\nmethods or attributes of those classes available to them.\n\nPartial-Bug: #2004174\nChange-Id: Ie47bd7c8dad8e4edbbb55ae366f0dd8d405c5f44\n""}, {'number': 4, 'created': '2023-06-23 11:01:06.000000000', 'files': ['cinder/tests/unit/volume/test_volume_manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/844c8b7eb34f04dd0cb79a5f54276d90384c0aad', 'message': ""Fix cinder/tests/unit/volume/test_volume_manager.py\n\nThis allows the tests to more accurately simulate how the code will\nbehave when it is run in production, as it will be using objects of\nthose classes rather than generic mocks that don't have any of the\nmethods or attributes of those classes available to them.\n\nPartial-Bug: #2004174\nChange-Id: Ie47bd7c8dad8e4edbbb55ae366f0dd8d405c5f44\n""}]",16,874569,844c8b7eb34f04dd0cb79a5f54276d90384c0aad,63,4,4,20813,,,0,"Fix cinder/tests/unit/volume/test_volume_manager.py

This allows the tests to more accurately simulate how the code will
behave when it is run in production, as it will be using objects of
those classes rather than generic mocks that don't have any of the
methods or attributes of those classes available to them.

Partial-Bug: #2004174
Change-Id: Ie47bd7c8dad8e4edbbb55ae366f0dd8d405c5f44
",git fetch https://review.opendev.org/openstack/cinder refs/changes/69/874569/4 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume_manager.py'],1,13333b8b0e1e47a1e40e990308409de8cf795273,,"from cinder import contextfrom cinder.tests.unit.fake_snapshot import fake_snapshot_obj fake_context = mock.Mock(spec=context.RequestContext) fake_context.is_admin = False fake_snapshot = fake_snapshot_obj(fake_context) fake_snapshot.save = mock.Mock() fake_context.elevated(),"," fake_snapshot = mock.MagicMock(id='22') fake_context = mock.MagicMock() fake_context.elevated.return_value = fake_context fake_context,",7,4
openstack%2Fopenstacksdk~master~Id6ee161054a7eaff940dc83f0869cd81cc5a2d2a,openstack/openstacksdk,master,Id6ee161054a7eaff940dc83f0869cd81cc5a2d2a,Add tenant_id to network resource,NEW,2023-06-23 15:06:00.000000000,2023-07-02 03:46:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-06-23 15:06:00.000000000', 'files': ['openstack/network/v2/network.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3a3071f56f7bbbc5e76665c0781ca7e02e46fec7', 'message': 'Add tenant_id to network resource\n\nAdd tenant_id attribute to network resource like other\nneutron resources to make compatible with older neutron.\n\nChange-Id: Id6ee161054a7eaff940dc83f0869cd81cc5a2d2a\n'}]",2,886853,3a3071f56f7bbbc5e76665c0781ca7e02e46fec7,5,2,1,5055,,,0,"Add tenant_id to network resource

Add tenant_id attribute to network resource like other
neutron resources to make compatible with older neutron.

Change-Id: Id6ee161054a7eaff940dc83f0869cd81cc5a2d2a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/53/886853/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/network/v2/network.py'],1,3a3071f56f7bbbc5e76665c0781ca7e02e46fec7,," project_id = resource.Body('project_id', alias='tenant_id') #: Tenant_id (deprecated attribute). tenant_id = resource.Body('tenant_id', deprecated=True)", project_id = resource.Body('project_id'),3,1
openstack%2Frequirements~master~I1d81f30d5b2c6ae06688b15b0e8d57ad4879ba6a,openstack/requirements,master,I1d81f30d5b2c6ae06688b15b0e8d57ad4879ba6a,Raise req'd castellan version to 4.2.0,ABANDONED,2023-07-01 16:27:27.000000000,2023-07-02 02:59:42.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-07-01 16:27:27.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/5af0d8ef0a087be001a525ec6b9934fdf3b5ee65', 'message': ""Raise req'd castellan version to 4.2.0\n\nThis is required for vault KV support in Barbican, which needs\nto utilize the vault KV support in Castellan.\n\nChange-Id: I1d81f30d5b2c6ae06688b15b0e8d57ad4879ba6a\n""}]",2,887446,5af0d8ef0a087be001a525ec6b9934fdf3b5ee65,5,2,1,10342,,,0,"Raise req'd castellan version to 4.2.0

This is required for vault KV support in Barbican, which needs
to utilize the vault KV support in Castellan.

Change-Id: I1d81f30d5b2c6ae06688b15b0e8d57ad4879ba6a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/46/887446/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,5af0d8ef0a087be001a525ec6b9934fdf3b5ee65,,castellan===4.2.0,castellan===4.1.0,1,1
openstack%2Ftempest~master~Ic8152711e9d62ca3c1af9cedf25f158879068ec9,openstack/tempest,master,Ic8152711e9d62ca3c1af9cedf25f158879068ec9,Add image admin test to list public image,MERGED,2023-06-18 12:57:18.000000000,2023-07-01 23:42:04.000000000,2023-07-01 23:41:04.000000000,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11075}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 34510}]","[{'number': 1, 'created': '2023-06-18 12:57:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/690ad82bdf8dcc58971f2c6bb53d51e5f39c4141', 'message': 'Add image admin test to list public image\n\nCreate public image and check if none admin users can list this image\n\nChange-Id: Ic8152711e9d62ca3c1af9cedf25f158879068ec9\n'}, {'number': 2, 'created': '2023-06-21 08:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0250c0d08f41d9367dc8ef636e197f0f63980f58', 'message': 'Add image admin test to list public image\n\nCreate public image and check if none admin users can list this image\n\nChange-Id: Ic8152711e9d62ca3c1af9cedf25f158879068ec9\n'}, {'number': 3, 'created': '2023-06-21 10:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2975be71eb17c2e815605e0a7da8e08f91d9d4a4', 'message': 'Add image admin test to list public image\n\nCreate public image and check if none admin users can list this image\n\nChange-Id: Ic8152711e9d62ca3c1af9cedf25f158879068ec9\n'}, {'number': 4, 'created': '2023-06-25 06:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/457526c64494eb9d17b3ce822d571db36fd2c6a1', 'message': 'Add image admin test to list public image\n\nCreate public image and check if none admin users can list this image\n\nChange-Id: Ic8152711e9d62ca3c1af9cedf25f158879068ec9\n'}, {'number': 5, 'created': '2023-06-28 12:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/84f023fc0b6051376dc35a4920813530ef1fd674', 'message': 'Add image admin test to list public image\n\nCreate public image and check if none admin users can list this image\n\nChange-Id: Ic8152711e9d62ca3c1af9cedf25f158879068ec9\n'}, {'number': 6, 'created': '2023-06-28 12:19:50.000000000', 'files': ['tempest/api/image/v2/admin/test_images.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9db106a2e0b4120220446b7ecfd0837715d304db', 'message': 'Add image admin test to list public image\n\nCreate public image and check if none admin users can list this image\n\nChange-Id: Ic8152711e9d62ca3c1af9cedf25f158879068ec9\n'}]",19,886340,9db106a2e0b4120220446b7ecfd0837715d304db,33,6,6,34510,,,0,"Add image admin test to list public image

Create public image and check if none admin users can list this image

Change-Id: Ic8152711e9d62ca3c1af9cedf25f158879068ec9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/886340/6 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/v2/admin/test_images.py'],1,690ad82bdf8dcc58971f2c6bb53d51e5f39c4141,migrate-downstream-tests-admin-list-public,"import sixclass ImagesActionsTest(base.BaseV2ImageAdminTest): """"""Create public image and check if none admin users can list this image"""""" @decorators.idempotent_id('f6ab4aa0-035e-4664-9f2d-c57c6df50605') def test_admin_list_public_image(self): # Create a public image image_file = six.BytesIO(data_utils.random_bytes(2048)) container_format = CONF.image.container_formats[0] disk_format = CONF.image.disk_formats[0] name = data_utils.rand_name(self.__class__.__name__ + '-Image') image = self.admin_client.create_image( name=name, container_format=container_format, visibility='public', disk_format=disk_format) self.addCleanup(self.admin_client.delete_image, image['id']) self.admin_client.store_image_file(image['id'], data=image_file) # As an image consumer you need to provide the member_status parameter # along with the visibility=public parameter in order for it to show # results params = {'member_status': 'pending', 'visibility': 'public'} fetched_images = self.client.list_images(params)['images'] self.assertEqual(image['id'], fetched_images[0]['id']) ",,28,0
openstack%2Fkeystone~master~I17c9ff9508c5e2bd9521c18973af093d7550ab5a,openstack/keystone,master,I17c9ff9508c5e2bd9521c18973af093d7550ab5a,sql: Add support for auto-generation,MERGED,2022-01-24 18:42:13.000000000,2023-07-01 22:37:57.000000000,2023-07-01 22:36:42.000000000,"[{'_account_id': 597}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-24 18:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/61d4a1eef4c8653a37944daa1973ed9ab6b6cc35', 'message': 'WIP: sql: Add support for auto-generation\n\n--autogenerate itself is currently broken\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2022-02-04 19:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/cc14843ee5bedc145747717c5d4e605098ecb72b', 'message': 'WIP: sql: Add support for auto-generation\n\n--autogenerate itself is currently broken\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-02-10 17:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/87bac79c829bc4d0a4e76814435bcbb6e61d5fef', 'message': 'WIP: sql: Add support for auto-generation\n\n--autogenerate itself is currently broken\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-02-11 17:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f4e0aadd6bdfd33548c57ec499b877e3eacb6dc5', 'message': 'WIP: sql: Add support for auto-generation\n\n--autogenerate itself is currently broken\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2022-06-17 13:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/8f11bbfa718862fcee2411c19a8ed31badf0a5a1', 'message': 'WIP: sql: Add support for auto-generation\n\n--autogenerate itself is currently broken\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2022-06-20 12:30:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/720541e08cb6b44a587496f2d1b90353c7592936', 'message': 'WIP: sql: Add support for auto-generation\n\n--autogenerate itself is currently broken\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 7, 'created': '2022-06-21 10:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3fa7058de23a35a231a22fdb050e3596145f0656', 'message': ""sql: Add support for auto-generation\n\nAdd the ability to autogenerate migrations. Because we need to support\ndifferent types of migration (expand and contract), this ends up being\nsignificantly more complicated than what was needed in nova and cinder\nand more akin to what was done in neutron. The key feature is here is\nthe use of an alembic hook called 'process_revision_directives', which\nis called whenever one calls 'alembic revision --autogenerate'. We\nextend this to allow us to hook into the autogeneration process and\nensure we only spit out directives for the relevant phase.\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2022-07-15 15:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2b55f992b36e554be16429e6280ae02a765b55c3', 'message': ""sql: Add support for auto-generation\n\nAdd the ability to autogenerate migrations. Because we need to support\ndifferent types of migration (expand and contract), this ends up being\nsignificantly more complicated than what was needed in nova and cinder\nand more akin to what was done in neutron. The key feature is here is\nthe use of an alembic hook called 'process_revision_directives', which\nis called whenever one calls 'alembic revision --autogenerate'. We\nextend this to allow us to hook into the autogeneration process and\nensure we only spit out directives for the relevant phase.\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2022-08-02 11:37:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/1209d48341f24127580fd63ce2ca9829296dab1b', 'message': ""sql: Add support for auto-generation\n\nAdd the ability to autogenerate migrations. Because we need to support\ndifferent types of migration (expand and contract), this ends up being\nsignificantly more complicated than what was needed in nova and cinder\nand more akin to what was done in neutron. The key feature is here is\nthe use of an alembic hook called 'process_revision_directives', which\nis called whenever one calls 'alembic revision --autogenerate'. We\nextend this to allow us to hook into the autogeneration process and\nensure we only spit out directives for the relevant phase.\n\nWhile we're here, we open up the Zed DB branch. This is similar to what\nNeutron do (e.g. change I13ba740d245a46c41a969ff198e08ddff896eb1a).\nDocumentation will follow.\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2022-08-02 16:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2d1f311cb3e5a0f5eaae91805ddc3b00909f4ea3', 'message': ""sql: Add support for auto-generation\n\nAdd the ability to autogenerate migrations. Because we need to support\ndifferent types of migration (expand and contract), this ends up being\nsignificantly more complicated than what was needed in nova and cinder\nand more akin to what was done in neutron. The key feature is here is\nthe use of an alembic hook called 'process_revision_directives', which\nis called whenever one calls 'alembic revision --autogenerate'. We\nextend this to allow us to hook into the autogeneration process and\nensure we only spit out directives for the relevant phase.\n\nWhile we're here, we open up the Zed DB branch. This is similar to what\nNeutron do (e.g. change I13ba740d245a46c41a969ff198e08ddff896eb1a).\nDocumentation will follow.\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 11, 'created': '2023-02-28 17:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0e57742d91025b59eef307f3e577ce51feeda1e0', 'message': ""sql: Add support for auto-generation\n\nAdd the ability to autogenerate migrations. Because we need to support\ndifferent types of migration (expand and contract), this ends up being\nsignificantly more complicated than what was needed in nova and cinder\nand more akin to what was done in neutron. The key feature is here is\nthe use of an alembic hook called 'process_revision_directives', which\nis called whenever one calls 'alembic revision --autogenerate'. We\nextend this to allow us to hook into the autogeneration process and\nensure we only spit out directives for the relevant phase.\n\nWhile we're here, we open up the Bobcat DB branch. This is similar to\nwhat Neutron do (e.g. change I13ba740d245a46c41a969ff198e08ddff896eb1a).\nDocumentation will follow.\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 12, 'created': '2023-02-28 17:55:18.000000000', 'files': ['keystone/common/sql/migrations/manage.py', 'keystone/common/sql/migrations/env.py', 'keystone/common/sql/migrations/versions/yoga/expand/29e87d24a316_initial.py', 'keystone/common/sql/migrations/autogen.py', 'doc/source/conf.py', 'keystone/common/sql/migrations/versions/yoga/contract/e25ffa003242_initial.py', 'keystone/common/sql/upgrades.py', 'keystone/common/sql/migrations/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/1bcf8cee0d93c2844b810fa30c2e3d9ba99e813e', 'message': ""sql: Add support for auto-generation\n\nAdd the ability to autogenerate migrations. Because we need to support\ndifferent types of migration (expand and contract), this ends up being\nsignificantly more complicated than what was needed in nova and cinder\nand more akin to what was done in neutron. The key feature is here is\nthe use of an alembic hook called 'process_revision_directives', which\nis called whenever one calls 'alembic revision --autogenerate'. We\nextend this to allow us to hook into the autogeneration process and\nensure we only spit out directives for the relevant phase.\n\nWhile we're here, we open up the Bobcat DB branch. This is similar to\nwhat Neutron do (e.g. change I13ba740d245a46c41a969ff198e08ddff896eb1a).\nDocumentation will follow.\n\nChange-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",24,826147,1bcf8cee0d93c2844b810fa30c2e3d9ba99e813e,56,4,12,15334,,,0,"sql: Add support for auto-generation

Add the ability to autogenerate migrations. Because we need to support
different types of migration (expand and contract), this ends up being
significantly more complicated than what was needed in nova and cinder
and more akin to what was done in neutron. The key feature is here is
the use of an alembic hook called 'process_revision_directives', which
is called whenever one calls 'alembic revision --autogenerate'. We
extend this to allow us to hook into the autogeneration process and
ensure we only spit out directives for the relevant phase.

While we're here, we open up the Bobcat DB branch. This is similar to
what Neutron do (e.g. change I13ba740d245a46c41a969ff198e08ddff896eb1a).
Documentation will follow.

Change-Id: I17c9ff9508c5e2bd9521c18973af093d7550ab5a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/47/826147/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/migrations/env.py', 'keystone/common/sql/migrations/manage.py', 'keystone/common/sql/upgrades.py', 'keystone/common/sql/migrations/__init__.py']",4,61d4a1eef4c8653a37944daa1973ed9ab6b6cc35,sqlalchemy-20,,,206,7
openstack%2Ftempest~master~I855534b2662d015715d9acd1e4b98614589df6db,openstack/tempest,master,I855534b2662d015715d9acd1e4b98614589df6db,Avoid false positives with test_server_connectivity_live_migration,MERGED,2023-04-18 08:44:54.000000000,2023-07-01 21:08:53.000000000,2023-07-01 21:07:45.000000000,"[{'_account_id': 8556}, {'_account_id': 9800}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23567}, {'_account_id': 29088}, {'_account_id': 29350}, {'_account_id': 30674}]","[{'number': 1, 'created': '2023-04-18 08:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/870ed14b322e0a056babbd32b268dec22e7ff22c', 'message': 'Avoid false positives with test_server_connectivity_live_migration\n\nAdded a delay after the live-migration is completed and the downtime is\nmeasured. Without this patch, the test sometimes wrongly passed because\nthe live-migration operation is completed fast enough, but the downtime\ncould last some more time after it.\n\nChange-Id: I855534b2662d015715d9acd1e4b98614589df6db\n'}, {'number': 2, 'created': '2023-04-18 08:47:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/50075de75dced4f7c61fd537c3cb5c01b34a0fba', 'message': 'Avoid false positives with test_server_connectivity_live_migration\n\nAdded a delay after the live-migration is completed and the downtime is\nmeasured. Without this patch, the test sometimes wrongly passed because\nthe live-migration operation is completed fast enough, but the downtime\ncould last some more time after it.\n\nChange-Id: I855534b2662d015715d9acd1e4b98614589df6db\n'}, {'number': 3, 'created': '2023-04-19 06:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8d4e1636a08df5d0c16a857c26b55eeac2aa5ec', 'message': 'Avoid false positives with test_server_connectivity_live_migration\n\nAdded a delay after the live-migration is completed and the before\ndowntime is measured. Without this patch, the test sometimes wrongly passes because the live-migration operation is completed fast enough, but the downtime could last some more time after it.\n\nChange-Id: I855534b2662d015715d9acd1e4b98614589df6db\n'}, {'number': 4, 'created': '2023-04-19 06:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f7b002131ce7d2c12c097c1363764bf2ecffbfff', 'message': 'Avoid false positives with test_server_connectivity_live_migration\n\nAdded a delay after the live-migration is completed and before the\ndowntime is measured. Without this patch, the test sometimes wrongly passes because the live-migration operation is completed fast enough, but the downtime could last some more time after it.\n\nChange-Id: I855534b2662d015715d9acd1e4b98614589df6db\n'}, {'number': 5, 'created': '2023-05-16 11:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ddc561e100dcf249086ceb6691fd8e21ce3938c2', 'message': 'Avoid false positives with test_server_connectivity_live_migration\n\nThe test has been modified to check VM status and connectivity before\nobtaining the measured network downtime.\nWith this change, the network downtime is measured after network\nconnectivity is recovered after the live-migration is completed,\navoiding false positive results.\n\nChange-Id: I855534b2662d015715d9acd1e4b98614589df6db\n'}, {'number': 6, 'created': '2023-06-22 09:46:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a9c221efc1d11da522c6cddf331d01d63dc18e7c', 'message': 'Avoid false positives with test_server_connectivity_live_migration\n\nThe test has been modified to check VM status and connectivity before\nobtaining the measured network downtime.\nWith this change, the network downtime is measured after network\nconnectivity is recovered after the live-migration is completed,\navoiding false positive results.\n\nChange-Id: I855534b2662d015715d9acd1e4b98614589df6db\n'}, {'number': 7, 'created': '2023-06-29 14:01:17.000000000', 'files': ['tempest/scenario/test_network_advanced_server_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/03ec2ae242de472e7763bffb84a15e531e7d448a', 'message': 'Avoid false positives with test_server_connectivity_live_migration\n\nThe test has been modified to check VM status and connectivity before\nobtaining the measured network downtime.\nWith this change, the network downtime is measured after network\nconnectivity is recovered after the live-migration is completed,\navoiding false positive results.\n\nChange-Id: I855534b2662d015715d9acd1e4b98614589df6db\n'}]",19,880719,03ec2ae242de472e7763bffb84a15e531e7d448a,49,8,7,31291,,,0,"Avoid false positives with test_server_connectivity_live_migration

The test has been modified to check VM status and connectivity before
obtaining the measured network downtime.
With this change, the network downtime is measured after network
connectivity is recovered after the live-migration is completed,
avoiding false positive results.

Change-Id: I855534b2662d015715d9acd1e4b98614589df6db
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/880719/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_advanced_server_ops.py'],1,870ed14b322e0a056babbd32b268dec22e7ff22c,,"import time allowed_downtime = CONF.validation.allowed_network_downtime LOG.debug(""Sleeping for %f seconds in order to verify properly that "" ""downtime is lower than that time"") time.sleep(allowed_downtime)", allowed_downtime = CONF.validation.allowed_network_downtime,5,1
openstack%2Fnova~master~I033c724ea80dec246d96b8abe710faadb730c309,openstack/nova,master,I033c724ea80dec246d96b8abe710faadb730c309,Log some InstanceNotFound exceptions from libvirt,NEW,2022-11-04 15:38:12.000000000,2023-07-01 08:48:04.000000000,,"[{'_account_id': 7730}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-11-04 15:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ae0d4175c9fdc527b030d18e1e894b1e9c76c992', 'message': ""Don't ignore InstanceNotFound exception by libvirt\n\nTraditionally Nova ignores exception.InstanceNotFound raised by\nlibvirt driver when running some operations. This is especially\nimportant for _clean_shutdown() and _destroy() calls: Nova\ntreats differently same exception for same call raised by different\ndrivers. For example, powervm, vmwareapi and fake (used by testing\nframework) interfaces raise it, while libvirt doesn't.\n\nThis patch changes libvirt interface behavior to translate\nexception.InstanceNotFound exception instead of ignoring it and\nalso adds small related changes to other related calls.\n\nPartial-Bug: #1994983\nChange-Id: I033c724ea80dec246d96b8abe710faadb730c309\n""}, {'number': 2, 'created': '2022-12-02 12:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1dfa3de8a2a016bf121258f51708514326313929', 'message': ""Don't ignore InstanceNotFound exception by libvirt\n\nTraditionally Nova ignores exception.InstanceNotFound raised by\nlibvirt driver when running some operations. This is especially\nimportant for _clean_shutdown() and _destroy() calls: Nova\ntreats differently same exception for same call raised by different\ndrivers. For example, powervm, vmwareapi and fake (used by testing\nframework) interfaces raise it, while libvirt doesn't.\n\nThis patch changes libvirt interface behavior to translate\nexception.InstanceNotFound exception instead of ignoring it and\nalso adds small related changes to other related calls.\n\nRelated-Bug: #1994983\nChange-Id: I033c724ea80dec246d96b8abe710faadb730c309\n""}, {'number': 3, 'created': '2022-12-02 12:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d53250847ead4518797a91b33d4a1ee33bafefbf', 'message': ""Don't ignore InstanceNotFound exception by libvirt\n\nTraditionally Nova ignores exception.InstanceNotFound raised by\nlibvirt driver when running some operations. This is especially\nimportant for _clean_shutdown() and _destroy() calls: Nova\ntreats differently same exception for same call raised by different\ndrivers. For example, powervm, vmwareapi and fake (used by testing\nframework) interfaces raise it, while libvirt doesn't.\n\nThis patch changes libvirt interface behavior to translate\nexception.InstanceNotFound exception instead of ignoring it and\nalso adds small related changes to other related calls.\n\nRelated-Bug: #1994983\nChange-Id: I033c724ea80dec246d96b8abe710faadb730c309\n""}, {'number': 4, 'created': '2022-12-02 12:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6c4f1b5f6152c2583768f07ed877dd1a386eee55', 'message': ""Don't ignore InstanceNotFound exception by libvirt\n\nTraditionally Nova ignores exception.InstanceNotFound raised by\nlibvirt driver when running some operations. This is especially\nimportant for _clean_shutdown() and _destroy() calls: Nova\ntreats differently same exception for same call raised by different\ndrivers. For example, powervm, vmwareapi and fake (used by testing\nframework) interfaces raise it, while libvirt doesn't.\n\nThis patch changes libvirt interface behavior to translate\nexception.InstanceNotFound exception instead of ignoring it and\nalso adds small related changes to other related calls.\n\nRelated-Bug: #1994983\nChange-Id: I033c724ea80dec246d96b8abe710faadb730c309\n""}, {'number': 5, 'created': '2022-12-02 12:57:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/962f8f47bfd02fab2f0146f24c385545824757be', 'message': 'Log some InstanceNotFound exceptions from libvirt\n\nTraditionally Nova ignores exception.InstanceNotFound raised by\nlibvirt driver when running some operations. This behavior is\nquite hard to change and benifits are unclear. At the same time,\nit worth adding some log messages to simplify possible\ntroubleshooting.\n\nRelated-Bug: #1994983\nChange-Id: I033c724ea80dec246d96b8abe710faadb730c309\n'}, {'number': 6, 'created': '2023-01-13 12:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cff2032f7851e7ebc46f2766fbb0dc8f27249f5c', 'message': 'Log some InstanceNotFound exceptions from libvirt\n\nTraditionally Nova ignores exception.InstanceNotFound raised by\nlibvirt driver when running some operations. This behavior is\nquite hard to change and benifits are unclear. At the same time,\nit worth adding some log messages to simplify possible\ntroubleshooting.\n\nRelated-Bug: #1994983\nChange-Id: I033c724ea80dec246d96b8abe710faadb730c309\n'}, {'number': 7, 'created': '2023-01-13 14:27:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b5d95357022db2c764f63fdcb26d5664bd80da89', 'message': 'Log some InstanceNotFound exceptions from libvirt\n\nTraditionally Nova ignores exception.InstanceNotFound raised by\nlibvirt driver when running some operations. This behavior is\nquite hard to change and benifits are unclear. At the same time,\nit is worth adding some log messages to simplify possible\ntroubleshooting.\n\nRelated-Bug: #1994983\nChange-Id: I033c724ea80dec246d96b8abe710faadb730c309\n'}, {'number': 8, 'created': '2023-01-26 15:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d97648f61c48ca482051e6e611dd4ee93b2ff89b', 'message': 'Log some InstanceNotFound exceptions from libvirt\n\nTraditionally Nova ignores exception.InstanceNotFound raised by\nlibvirt driver when running some operations. This behavior is\nquite hard to change and benifits are unclear. At the same time,\nit worth adding some log messages to simplify possible\ntroubleshooting.\n\nI used ""Logging Guidelines"" document from oslo.log pillar to\nfigure out which log messages should be used\nhttps://docs.openstack.org/oslo.log/latest/user/guidelines.html\n\nRelated-Bug: #1994983\nChange-Id: I033c724ea80dec246d96b8abe710faadb730c309\n'}, {'number': 9, 'created': '2023-06-30 13:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6fc5c7891f141b78a502fcbb52b1df0ff200751f', 'message': 'Log some InstanceNotFound exceptions from libvirt\n\nTraditionally Nova ignores exception.InstanceNotFound raised by\nlibvirt driver when running some operations. This behavior is\nquite hard to change and benifits are unclear. At the same time,\nit worth adding some log messages to simplify possible\ntroubleshooting.\n\nI used ""Logging Guidelines"" document from oslo.log pillar to\nfigure out which log messages should be used\nhttps://docs.openstack.org/oslo.log/latest/user/guidelines.html\n\nRelated-Bug: #1994983\nChange-Id: I033c724ea80dec246d96b8abe710faadb730c309\n'}, {'number': 10, 'created': '2023-06-30 15:22:32.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f7b4f0088ee94f356a9aa38a2ccaf118ab08abba', 'message': 'Log some InstanceNotFound exceptions from libvirt\n\nTraditionally Nova ignores exception.InstanceNotFound raised by\nlibvirt driver when running some operations. This behavior is\nquite hard to change and benifits are unclear. At the same time,\nit worth adding some log messages to simplify possible\ntroubleshooting.\n\nI used ""Logging Guidelines"" document from oslo.log pillar to\nfigure out which log messages should be used\nhttps://docs.openstack.org/oslo.log/latest/user/guidelines.html\n\nRelated-Bug: #1994983\nChange-Id: I033c724ea80dec246d96b8abe710faadb730c309\n'}]",23,863665,f7b4f0088ee94f356a9aa38a2ccaf118ab08abba,76,3,10,19234,,,0,"Log some InstanceNotFound exceptions from libvirt

Traditionally Nova ignores exception.InstanceNotFound raised by
libvirt driver when running some operations. This behavior is
quite hard to change and benifits are unclear. At the same time,
it worth adding some log messages to simplify possible
troubleshooting.

I used ""Logging Guidelines"" document from oslo.log pillar to
figure out which log messages should be used
https://docs.openstack.org/oslo.log/latest/user/guidelines.html

Related-Bug: #1994983
Change-Id: I033c724ea80dec246d96b8abe710faadb730c309
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/863665/10 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/compute/manager.py']",2,ae0d4175c9fdc527b030d18e1e894b1e9c76c992,bug/1994983," # Although power_state.NOSTATE (pending) is not perfect # match for situations when virt driver fails to find an # instance, it is a best match. LOG.info('Instance is already powered off or does not' 'exist in the hypervisor when stop is called.',"," LOG.info('Instance is already powered off in the ' 'hypervisor when stop is called.',",22,7
openstack%2Fnova~master~I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47,openstack/nova,master,I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47,Add functional tests to reproduce bug #1994983,NEW,2022-11-02 16:47:17.000000000,2023-07-01 08:35:34.000000000,,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-11-02 16:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e208d4d96c3dcea2af8dd495adae979fd5f436cc', 'message': ""Add functional tests to reproduce bug #1994983\n\nIf user issues an API call to stop a libvirt\ninstance when its compute node (source compute) is is offline and\nthen evacuates this instance, then evacuated instance would be\nstopped when source compute node will come back online.\n\nNova Libvirt interface shouldn't ignore InstanceNotFound exception\nwhen stopping an instance and change instance's DB state\nafterwards.\n\nQueued instance stop call received by compute node which no longer\nhosts instance shouldn't be processed. Fake virt driver will not\nchange instance's state, but will process a call itself.\n\nRelated-bug: #1994983\nChange-Id: I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47\n""}, {'number': 2, 'created': '2022-11-03 18:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16b836f01d5585b193092207b21b1dcf73c32ffd', 'message': ""Add functional tests to reproduce bug #1994983\n\nIf user issues an API call to stop a libvirt\ninstance when its compute node (source compute) is is offline and\nthen evacuates this instance, then evacuated instance would be\nstopped when source compute node will come back online.\n\nNova Libvirt interface shouldn't ignore InstanceNotFound exception\nwhen stopping an instance and change instance's DB state\nafterwards.\n\nQueued instance stop call received by compute node which no longer\nhosts instance shouldn't be processed. Fake virt driver will not\nchange instance's state, but will process a call itself.\n\nRelated-bug: #1994983\nChange-Id: I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47\n""}, {'number': 3, 'created': '2022-11-03 18:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28184bfbf734aad9558d01a2f8e04d7ba98ec125', 'message': ""Add functional tests to reproduce bug #1994983\n\nIf user issues an API call to stop a libvirt\ninstance when its compute node (source compute) is is offline and\nthen evacuates this instance, then evacuated instance would be\nstopped when source compute node will come back online.\n\nNova Libvirt interface shouldn't ignore InstanceNotFound exception\nwhen stopping an instance and change instance's DB state\nafterwards.\n\nQueued instance stop call received by compute node which no longer\nhosts instance shouldn't be processed. Fake virt driver will not\nchange instance's state, but will process a call itself.\n\nRelated-bug: #1994983\nChange-Id: I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47\n""}, {'number': 4, 'created': '2023-01-13 12:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/17deb892df320b0c42ace22f31e92bf575ddc181', 'message': ""Add functional tests to reproduce bug #1994983\n\nIf user issues an API call to stop a libvirt\ninstance when its compute node (source compute) is is offline and\nthen evacuates this instance, then evacuated instance would be\nstopped when source compute node will come back online.\n\nNova Libvirt interface shouldn't ignore InstanceNotFound exception\nwhen stopping an instance and change instance's DB state\nafterwards.\n\nQueued instance stop call received by compute node which no longer\nhosts instance shouldn't be processed. Fake virt driver will not\nchange instance's state, but will process a call itself.\n\nRelated-bug: #1994983\nChange-Id: I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47\n""}, {'number': 5, 'created': '2023-01-26 15:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/436337dc76c20b61f71406b8220491e3c502df1d', 'message': ""Add functional tests to reproduce bug #1994983\n\nIf user issues an API call to stop a libvirt\ninstance when its compute node (source compute) is is offline and\nthen evacuates this instance, then evacuated instance would be\nstopped when source compute node will come back online.\n\nNova Libvirt interface shouldn't ignore InstanceNotFound exception\nwhen stopping an instance and change instance's DB state\nafterwards.\n\nQueued instance stop call received by compute node which no longer\nhosts instance shouldn't be processed. Fake virt driver will not\nchange instance's state, but will process a call itself.\n\nRelated-bug: #1994983\nChange-Id: I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47\n""}, {'number': 6, 'created': '2023-06-29 16:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6b5c999963e70a67da1c1f19e07e710a96a1b99', 'message': ""Add functional tests to reproduce bug #1994983\n\nIf user issues an API call to stop a libvirt\ninstance when its compute node (source compute) is offline and\nthen evacuates this instance, then evacuated instance would be\nstopped when source compute node will come back online.\n\nNova Libvirt interface shouldn't ignore InstanceNotFound exception\nwhen stopping an instance and change instance's DB state\nafterwards.\n\nRelated-bug: #1994983\nChange-Id: I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47\n""}, {'number': 7, 'created': '2023-06-30 08:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c01860c16b674ac0cd5cd8a46d699a127ccf8b44', 'message': ""Add functional tests to reproduce bug #1994983\n\nIf user issues an API call to stop a libvirt\ninstance when its compute node (source compute) is offline and\nthen evacuates this instance, then evacuated instance would be\nstopped when source compute node will come back online.\n\nNova Libvirt interface shouldn't ignore InstanceNotFound exception\nwhen stopping an instance and change instance's DB state\nafterwards.\n\nRelated-bug: #1994983\nChange-Id: I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47\n""}, {'number': 8, 'created': '2023-06-30 12:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/228065e6f2c4510232e2289859df0f9c58c3f4d0', 'message': ""Add functional tests to reproduce bug #1994983\n\nIf user issues an API call to stop a libvirt\ninstance when its compute node (source compute) is offline and\nthen evacuates this instance, then evacuated instance would be\nstopped when source compute node will come back online.\n\nNova Libvirt interface shouldn't ignore InstanceNotFound exception\nwhen stopping an instance and change instance's DB state\nafterwards.\n\nRelated-bug: #1994983\nChange-Id: I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47\n""}, {'number': 9, 'created': '2023-06-30 13:53:31.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1994983.py', 'nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4e3fd2ab64556d5977da3cd68fb5448b5f557fb4', 'message': ""Add functional tests to reproduce bug #1994983\n\nIf user issues an API call to stop a libvirt\ninstance when its compute node (source compute) is offline and\nthen evacuates this instance, then evacuated instance would be\nstopped when source compute node will come back online.\n\nNova Libvirt interface shouldn't ignore InstanceNotFound exception\nwhen stopping an instance and change instance's DB state\nafterwards.\n\nRelated-bug: #1994983\nChange-Id: I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47\n""}]",22,863416,4e3fd2ab64556d5977da3cd68fb5448b5f557fb4,43,3,9,19234,,,0,"Add functional tests to reproduce bug #1994983

If user issues an API call to stop a libvirt
instance when its compute node (source compute) is offline and
then evacuates this instance, then evacuated instance would be
stopped when source compute node will come back online.

Nova Libvirt interface shouldn't ignore InstanceNotFound exception
when stopping an instance and change instance's DB state
afterwards.

Related-bug: #1994983
Change-Id: I78a20b649f8b7e3b0cad14ba8a8b8feb3541cd47
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/863416/8 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1994983.py', 'nova/tests/functional/integrated_helpers.py']",2,e208d4d96c3dcea2af8dd495adae979fd5f436cc,bug/1994983,# self.useFixture(nova_fixtures.CastAsCallFixture(self)), self.useFixture(nova_fixtures.CastAsCallFixture(self)),163,1
openstack%2Fproject-config~master~I9d1e328b0b7c9b5856b1e19d8530117c65ecb5a4,openstack/project-config,master,I9d1e328b0b7c9b5856b1e19d8530117c65ecb5a4,Normalize projects.yaml,MERGED,2023-07-01 02:32:38.000000000,2023-07-01 07:30:35.000000000,2023-07-01 07:24:44.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2023-07-01 02:32:38.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d00d74b6e86609bff882ced7c483eda5aa1e3250', 'message': 'Normalize projects.yaml\n\nChange-Id: I9d1e328b0b7c9b5856b1e19d8530117c65ecb5a4\n'}]",1,887437,d00d74b6e86609bff882ced7c483eda5aa1e3250,8,3,1,11131,,,0,"Normalize projects.yaml

Change-Id: I9d1e328b0b7c9b5856b1e19d8530117c65ecb5a4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/37/887437/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,d00d74b6e86609bff882ced7c483eda5aa1e3250,project-yaml-normalization, Repository for publicly shared materials on NebulOuS pilot case 1.1: Windmill Maintenance. Repository for publicly shared materials on NebulOuS pilot case 3.1: Precision Agriculture. Repository for publicly shared materials on NebulOuS pilot case 4.1: Crisis Management., Repository for publicly shared materials on NebulOuS pilot case 1.1: Windmill Maintenance. Repository for publicly shared materials on NebulOuS pilot case 3.1: Precision Agriculture. Repository for publicly shared materials on NebulOuS pilot case 4.1: Crisis Management.,6,3
openstack%2Ftripleo-upgrade~stable%2Fwallaby~Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c,openstack/tripleo-upgrade,stable/wallaby,Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c,[ffwd3] Introduce option to run multi-rhel upgrade,MERGED,2023-06-14 13:42:43.000000000,2023-07-01 07:06:34.000000000,2023-07-01 07:06:34.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 29307}, {'_account_id': 31245}, {'_account_id': 34419}, {'_account_id': 34847}]","[{'number': 1, 'created': '2023-06-14 13:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dbc0b85fc96307a975d27a6135d178cce9429dea', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 2, 'created': '2023-06-15 11:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6d0c06bc33055f1e0816f90af8e0a618bd7c28ed', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 3, 'created': '2023-06-16 04:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/dd7b968c91ea62b8a56181b563911919631ff1c3', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 4, 'created': '2023-06-16 08:12:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fa71c877879a4dbf2574295d3b689872b245b693', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 5, 'created': '2023-06-17 21:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/971b20a03c04e0f922d7892d12134eae785e2ebd', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 6, 'created': '2023-06-20 10:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/86a88b4581fb174b37580832aa3b3ccc78371f0a', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 7, 'created': '2023-06-22 11:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/10dd89e332fdbca64705780d6ab71532325a8c7e', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 8, 'created': '2023-06-22 13:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d7ab62ff87738b379ec3b36d58dbbf39a92ca526', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 9, 'created': '2023-06-23 09:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/687ff97119ee4930b0d133bd4b77568c6a343737', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 10, 'created': '2023-06-27 09:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b8bd6b842f372caa5a4521ae5d3af35fd9399616', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 11, 'created': '2023-06-27 21:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ead4211024d85c782142a231eae52f0f13239a37', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 12, 'created': '2023-06-27 21:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bb6c0e290926b4be1f51f008fdc10b0a0b4a917c', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 13, 'created': '2023-06-28 06:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9f0ce7a7b85210886d20d99070078f7147257075', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 14, 'created': '2023-06-28 06:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/23675dc40de1eb0fb3bc5c876bb9b3aeb90ec60a', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 15, 'created': '2023-06-28 09:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a7f2c30ca85f2fcac134ab6f930b10907488292b', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 16, 'created': '2023-06-28 09:45:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5eb439940abbbb541a8df2aed207d73eb445fbcb', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 17, 'created': '2023-06-28 14:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d89ba39be7dda0b3f9569695b4435009da6d576a', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 18, 'created': '2023-06-29 08:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ad1d36825f49ccf433f0e146ea80dcbdd867fe62', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 19, 'created': '2023-06-30 09:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ab80c6b78cf0606dee41a5b1d86d64b673d3b979', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 20, 'created': '2023-06-30 15:45:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fed11d47bf500dd7e57f488bff0367ea2ac948c2', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}, {'number': 21, 'created': '2023-06-30 16:23:14.000000000', 'files': ['tasks/fast-forward-upgrade/ffu_multi-rhel_role_mingle.yaml', 'templates/overcloud_upgrade_prepare.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'infrared_plugin/plugin.spec', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'infrared_plugin/main.yml', 'templates/fast-forward-upgrade/copy_role_params.sh.j2', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f900123a0506a6fbca82b8c4439ea4381a179a2c', 'message': '[ffwd3] Introduce option to run multi-rhel upgrade\n\nIntroduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel\nand ffu-multi-rhel.\n\nWhen setting ffu-multi-rhel the ffu upgrade will end up with upgrading\nall except last compute in the compute roles and moving the last ones\ninto multi-rhel state.\n\nSame thing can be done with just one or more roles via overcloud-ffu-role-copy\nand overcloud-ffu-compute-multirhel lists if user wants more control.\n\nChange-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c\n'}]",41,886098,f900123a0506a6fbca82b8c4439ea4381a179a2c,67,10,21,11166,,,0,"[ffwd3] Introduce option to run multi-rhel upgrade

Introduce overcloud-ffu-role-copy overcloud-ffu-compute-multirhel
and ffu-multi-rhel.

When setting ffu-multi-rhel the ffu upgrade will end up with upgrading
all except last compute in the compute roles and moving the last ones
into multi-rhel state.

Same thing can be done with just one or more roles via overcloud-ffu-role-copy
and overcloud-ffu-compute-multirhel lists if user wants more control.

Change-Id: Ia4e996cc93dc17ccf7a351a3d6f453e49febd13c
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/98/886098/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/fast-forward-upgrade/ffu_multi-rhel_role_mingle.yaml', 'templates/overcloud_upgrade_prepare.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_hosts.yaml', 'infrared_plugin/plugin.spec', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'infrared_plugin/main.yml', 'templates/fast-forward-upgrade/copy_role_params.sh.j2', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml']",9,dbc0b85fc96307a975d27a6135d178cce9429dea,, - name: generate multi-rhel data import_tasks: ffu_multi-rhel_role_mingle.yaml tags: ffu_overcloud_prepare ,,166,4
openstack%2Ftripleo-upgrade~stable%2Fwallaby~If17fb7728350615c0dbbf54daeacd8e47d59da25,openstack/tripleo-upgrade,stable/wallaby,If17fb7728350615c0dbbf54daeacd8e47d59da25,Deactivate back podman images update before reboot check in tripleo ci,MERGED,2023-06-30 11:21:24.000000000,2023-07-01 07:06:32.000000000,2023-07-01 07:06:32.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 32432}]","[{'number': 1, 'created': '2023-06-30 11:21:24.000000000', 'files': ['templates/collect_logs.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b7eaafa057ddc4d91c71d90039ef3bcbaffb8b19', 'message': 'Deactivate back podman images update before reboot check in tripleo ci\n\nDeactivate podman images update check task. Podman images update check\ntask should not be activate in tripleo ci until all\n*oooq-container-updates jobs in tripleo ci pipeline are fixed. So far\nonly upstream and gate jobs has been adjusted, but periodic jobs are not.\n\nCloses-Bug: https://bugs.launchpad.net/tripleo/+bug/2025473\nChange-Id: If17fb7728350615c0dbbf54daeacd8e47d59da25\n'}]",4,887366,b7eaafa057ddc4d91c71d90039ef3bcbaffb8b19,14,7,1,33080,,,0,"Deactivate back podman images update before reboot check in tripleo ci

Deactivate podman images update check task. Podman images update check
task should not be activate in tripleo ci until all
*oooq-container-updates jobs in tripleo ci pipeline are fixed. So far
only upstream and gate jobs has been adjusted, but periodic jobs are not.

Closes-Bug: https://bugs.launchpad.net/tripleo/+bug/2025473
Change-Id: If17fb7728350615c0dbbf54daeacd8e47d59da25
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/66/887366/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/collect_logs.yaml.j2'],1,b7eaafa057ddc4d91c71d90039ef3bcbaffb8b19,update-2025473, - not {{ tripleo_ci|bool }}, - not {{ mixed_os|default(false)|bool }},1,1
openstack%2Fopenstack-helm-infra~master~If167646b088b361d49d33400abab131c79afedc9,openstack/openstack-helm-infra,master,If167646b088b361d49d33400abab131c79afedc9,[osh-selenium] Migrate deprecated functions,MERGED,2023-06-30 11:30:06.000000000,2023-07-01 05:50:46.000000000,2023-07-01 05:49:51.000000000,"[{'_account_id': 3009}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-30 11:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ec12d2c1a6a1ac9ffa10c0020b82e6e24d9682bb', 'message': '[osh-selenium] Migrate deprecated functions\n\nThere are some leftovers from the following commit:\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/883894\n\nChange-Id: If167646b088b361d49d33400abab131c79afedc9\n'}, {'number': 2, 'created': '2023-06-30 12:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bbb1625f5b3154085acff4a0803c9e4d4c5c1b8f', 'message': '[osh-selenium] Migrate deprecated functions\n\nThere are some leftovers from the following commit:\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/883894\n\nChange-Id: If167646b088b361d49d33400abab131c79afedc9\n'}, {'number': 3, 'created': '2023-06-30 13:44:21.000000000', 'files': ['tools/gate/selenium/seleniumtester.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6b6ca9e26c5193e1920f65adfac2fd4b15c2f341', 'message': '[osh-selenium] Migrate deprecated functions\n\nThere are some leftovers from the following commit:\nhttps://review.opendev.org/c/openstack/openstack-helm-infra/+/883894\n\nChange-Id: If167646b088b361d49d33400abab131c79afedc9\n'}]",1,887367,6b6ca9e26c5193e1920f65adfac2fd4b15c2f341,14,3,3,32204,,,0,"[osh-selenium] Migrate deprecated functions

There are some leftovers from the following commit:
https://review.opendev.org/c/openstack/openstack-helm-infra/+/883894

Change-Id: If167646b088b361d49d33400abab131c79afedc9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/67/887367/3 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/selenium/kibanaSelenium.py', 'tools/gate/selenium/seleniumtester.py']",2,ec12d2c1a6a1ac9ffa10c0020b82e6e24d9682bb,,"from selenium.webdriver.chrome.service import Service service = Service(executable_path=self.chrome_driver) browser = webdriver.Chrome(service=service, options=options)"," browser = webdriver.Chrome(self.chrome_driver, chrome_options=options)",4,2
openstack%2Fneutron~master~I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35,openstack/neutron,master,I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35,Delete sg rule which remote is the deleted sg,MERGED,2023-05-26 14:00:12.000000000,2023-07-01 05:14:03.000000000,2023-07-01 05:12:35.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 14:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a846113a60d2f2e3b9213e20dafe48a08b495abf', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nOne version of this fix was merged:\nhttps://review.opendev.org/q/I207ecf7954b06507e03cb16b502ceb6e2807e0e7\nand reverted due to #2019449:\nhttps://review.opendev.org/q/I077fe87435f61bd29d5c1efc979c2adebca26181\n\nThis patch is based on\nhttps://review.opendev.org/c/openstack/neutron/+/876716/1\n\nCloses-Bug: #2008712\nRelated-Bug: #2019449\nChange-Id: I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35\n'}, {'number': 2, 'created': '2023-06-02 13:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6312b3deac0ba46bf09ed3614e3dd8185397c413', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nOne version of this fix was merged:\nhttps://review.opendev.org/q/I207ecf7954b06507e03cb16b502ceb6e2807e0e7\nand reverted due to #2019449:\nhttps://review.opendev.org/q/I077fe87435f61bd29d5c1efc979c2adebca26181\n\nThis patch is based on\nhttps://review.opendev.org/c/openstack/neutron/+/876716/1\n\nCloses-Bug: #2008712\nRelated-Bug: #2019449\nChange-Id: I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35\n'}, {'number': 3, 'created': '2023-06-26 07:37:04.000000000', 'files': ['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/67a0b0728788207cee27adb586880fabb8da6f25', 'message': 'Delete sg rule which remote is the deleted sg\n\nBased on bug #2008712 if we have a security-group which\nis the remote group of a 2nd security-group, the backend\nnever deletes the rule of the 2nd group which\nremote_group_id is the original security-group.\nBy AFTER_DELETE event for each rule that has the\nsecurity_group_id as remote_group_id, we can make the\nmech drivers do their work and delete these rules in the\nbackend.\n\nOne version of this fix was merged:\nhttps://review.opendev.org/q/I207ecf7954b06507e03cb16b502ceb6e2807e0e7\nand reverted due to #2019449:\nhttps://review.opendev.org/q/I077fe87435f61bd29d5c1efc979c2adebca26181\n\nThis patch is based on\nhttps://review.opendev.org/c/openstack/neutron/+/876716/1\n\nCloses-Bug: #2008712\nRelated-Bug: #2019449\nChange-Id: I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35\n'}]",8,884505,67a0b0728788207cee27adb586880fabb8da6f25,31,4,3,8313,,,0,"Delete sg rule which remote is the deleted sg

Based on bug #2008712 if we have a security-group which
is the remote group of a 2nd security-group, the backend
never deletes the rule of the 2nd group which
remote_group_id is the original security-group.
By AFTER_DELETE event for each rule that has the
security_group_id as remote_group_id, we can make the
mech drivers do their work and delete these rules in the
backend.

One version of this fix was merged:
https://review.opendev.org/q/I207ecf7954b06507e03cb16b502ceb6e2807e0e7
and reverted due to #2019449:
https://review.opendev.org/q/I077fe87435f61bd29d5c1efc979c2adebca26181

This patch is based on
https://review.opendev.org/c/openstack/neutron/+/876716/1

Closes-Bug: #2008712
Related-Bug: #2019449
Change-Id: I9e8ddfa26c5402fefd573b0e2ea5f3a57983ca35
",git fetch https://review.opendev.org/openstack/neutron refs/changes/05/884505/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py']",2,a846113a60d2f2e3b9213e20dafe48a08b495abf,bug/2008712," # If there's a rule which remote is the deleted sg, remove that also. filters = {'remote_group_id': (existing.id, )} for rule in self.rcache.get_resources('SecurityGroupRule', filters): self.rcache.record_resource_delete(context, 'SecurityGroupRule', rule.id)",,54,1
openstack%2Fbarbican~master~Ia4772707bea4675a58727645f6ad487506543cac,openstack/barbican,master,Ia4772707bea4675a58727645f6ad487506543cac,Require a relatively modern castellan,ABANDONED,2023-07-01 03:46:02.000000000,2023-07-01 04:50:25.000000000,,[],"[{'number': 1, 'created': '2023-07-01 03:46:02.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/barbican/commit/2f33a665fa05c7a6c8d5d63b2d4be5c2ca55411e', 'message': 'Require a relatively modern castellan\n\nCastellan 4 or better is needed for Vault KV support.\n\nChange-Id: Ia4772707bea4675a58727645f6ad487506543cac\n'}]",0,887439,2f33a665fa05c7a6c8d5d63b2d4be5c2ca55411e,2,0,1,10342,,,0,"Require a relatively modern castellan

Castellan 4 or better is needed for Vault KV support.

Change-Id: Ia4772707bea4675a58727645f6ad487506543cac
",git fetch https://review.opendev.org/openstack/barbican refs/changes/39/887439/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2f33a665fa05c7a6c8d5d63b2d4be5c2ca55411e,,castellan>=4.0.0 # Apache-2.0,castellan >= 1.2.1 # Apache-2.0,1,1
openstack%2Frequirements~stable%2F2023.1~I53ee8da295d761b6b1d7c5ee68741d544656fd5f,openstack/requirements,stable/2023.1,I53ee8da295d761b6b1d7c5ee68741d544656fd5f,update constraint for oslo.messaging to new release 14.2.1,MERGED,2023-06-29 09:34:52.000000000,2023-07-01 03:40:31.000000000,2023-07-01 03:40:31.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 09:34:52.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d450d25d953cc53e902f83c6a0123efa2536faeb', 'message': 'update constraint for oslo.messaging to new release 14.2.1\n\nmeta: version: 14.2.1\nmeta: diff-start: -\nmeta: series: antelope\nmeta: branch: stable/2023.1\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Michal Arbet <michal.arbet@ultimum.io>\nmeta: release:Commit: Michal Arbet <michal.arbet@ultimum.io>\nmeta: release:Change-Id: Ie32a4b008e8e64b423a2e2799488559eb4bd1ef7\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I53ee8da295d761b6b1d7c5ee68741d544656fd5f\n'}]",0,887260,d450d25d953cc53e902f83c6a0123efa2536faeb,16,3,1,11131,,,0,"update constraint for oslo.messaging to new release 14.2.1

meta: version: 14.2.1
meta: diff-start: -
meta: series: antelope
meta: branch: stable/2023.1
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Michal Arbet <michal.arbet@ultimum.io>
meta: release:Commit: Michal Arbet <michal.arbet@ultimum.io>
meta: release:Change-Id: Ie32a4b008e8e64b423a2e2799488559eb4bd1ef7
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I53ee8da295d761b6b1d7c5ee68741d544656fd5f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/60/887260/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d450d25d953cc53e902f83c6a0123efa2536faeb,new-release,oslo.messaging===14.2.1,oslo.messaging===14.2.0,1,1
openstack%2Fgrenade~master~I5e5a67cceade05a4a32ddd1b86802f9496d1bb79,openstack/grenade,master,I5e5a67cceade05a4a32ddd1b86802f9496d1bb79,Disable using GLOBAL_VENV for now,MERGED,2023-04-13 06:00:03.000000000,2023-07-01 01:59:46.000000000,2023-07-01 01:58:05.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-13 06:00:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/grenade/commit/3e5b00403beaa0aad07234521f32714737709bf3', 'message': ""Disable using GLOBAL_VENV for now\n\nWe don't want to go through the hassle of changing existing deployments\nfrom global pip installs to using a virtual environment, so disable this\nfeature in grenade jobs for now until we can use it on the old side,\ntoo.\n\nNeeded-for: https://review.opendev.org/558930\nChange-Id: I5e5a67cceade05a4a32ddd1b86802f9496d1bb79\n""}]",0,880266,3e5b00403beaa0aad07234521f32714737709bf3,8,3,1,13252,,,0,"Disable using GLOBAL_VENV for now

We don't want to go through the hassle of changing existing deployments
from global pip installs to using a virtual environment, so disable this
feature in grenade jobs for now until we can use it on the old side,
too.

Needed-for: https://review.opendev.org/558930
Change-Id: I5e5a67cceade05a4a32ddd1b86802f9496d1bb79
",git fetch https://review.opendev.org/openstack/grenade refs/changes/66/880266/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3e5b00403beaa0aad07234521f32714737709bf3,no-global-venv, # TODO(frickler): Can be removed in 2024.1 cycle GLOBAL_VENV: false,,2,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~I106460ce4a20035acb84a478572ad9a713c0c66b,openstack/tripleo-ansible,stable/wallaby,I106460ce4a20035acb84a478572ad9a713c0c66b,Fix task: Test overcloud is reacheable,MERGED,2023-06-23 10:19:32.000000000,2023-07-01 01:00:38.000000000,2023-07-01 01:00:38.000000000,"[{'_account_id': 9914}, {'_account_id': 11166}, {'_account_id': 14250}, {'_account_id': 16515}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2023-06-23 10:19:32.000000000', 'files': ['tripleo_ansible/playbooks/ssh_key_rotation.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ece810ddd96bd516c19998cadfe912e4c20b7a13', 'message': 'Fix task: Test overcloud is reacheable\n\nTo test if the rotation was successful the playbook ssh to\nheat-admin user on overcloud, the problem is that not all\ncurrent deployments have the heat-admin user, as it became\ndeprecated, to fix that this patch will change the overcloud user\nto tripleo-admin, that should exists on all deployments.\n\nChange-Id: I106460ce4a20035acb84a478572ad9a713c0c66b\n'}]",7,886812,ece810ddd96bd516c19998cadfe912e4c20b7a13,25,7,1,34120,,,0,"Fix task: Test overcloud is reacheable

To test if the rotation was successful the playbook ssh to
heat-admin user on overcloud, the problem is that not all
current deployments have the heat-admin user, as it became
deprecated, to fix that this patch will change the overcloud user
to tripleo-admin, that should exists on all deployments.

Change-Id: I106460ce4a20035acb84a478572ad9a713c0c66b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/886812/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/ssh_key_rotation.yaml'],1,ece810ddd96bd516c19998cadfe912e4c20b7a13,, shell: ssh tripleo-admin@{{ ansible_host }} exit, shell: ssh heat-admin@{{ ansible_host }} exit,1,1
openstack%2Ftempest~master~I11cd4528c708a62cba7fd802095ac253f79bd859,openstack/tempest,master,I11cd4528c708a62cba7fd802095ac253f79bd859,Remove python-devel package for rpm based distributions from bindep,NEW,2022-11-07 10:10:01.000000000,2023-06-30 23:22:46.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 30674}]","[{'number': 1, 'created': '2022-11-07 10:10:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3ac9ae2b6bb4a24e06ae07bee75e4fcb3aa81c22', 'message': ""Remove python-dev from bindep\n\nIt is no longer supported by jammy and lead us to the following errors with the announce-release job.\n\n```\nNo package matching 'python-dev' is available\n```\n\nChange-Id: I11cd4528c708a62cba7fd802095ac253f79bd859\n""}, {'number': 2, 'created': '2022-11-16 10:38:02.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9d41c46a6b4db116569e4a75121d6a377839ac67', 'message': ""Remove python-devel package for rpm based distributions from bindep\n\nIt is no longer supported by jammy and lead us to the following errors with the announce-release job.\n\n```\nNo package matching 'python-dev' is available\n```\n\nChange-Id: I11cd4528c708a62cba7fd802095ac253f79bd859\n""}]",6,863854,9d41c46a6b4db116569e4a75121d6a377839ac67,12,5,2,28522,,,0,"Remove python-devel package for rpm based distributions from bindep

It is no longer supported by jammy and lead us to the following errors with the announce-release job.

```
No package matching 'python-dev' is available
```

Change-Id: I11cd4528c708a62cba7fd802095ac253f79bd859
",git fetch https://review.opendev.org/openstack/tempest refs/changes/54/863854/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,3ac9ae2b6bb4a24e06ae07bee75e4fcb3aa81c22,drop-python-dev-from-bindep,,python-devel [platform:rpm],0,1
openstack%2Fdesignate~master~I44bc7d2a231ed8d63cba69ec95f06358687aa914,openstack/designate,master,I44bc7d2a231ed8d63cba69ec95f06358687aa914,Improve NAPTR support,MERGED,2023-05-19 13:12:41.000000000,2023-06-30 21:45:12.000000000,2023-06-30 21:44:17.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-05-19 13:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e013990da83838ca1e380ce67cbcf79a50c53744', 'message': 'Improve NAPTR support\n\nThis patchset adds support for fields (e.g flags, services, regexp)\nto be quoted and empty as described in RFC 2915. While unquoted\nfields are NOT optional, the previous behaviour remains for\nbackward compatibility. The regular expression have been adjusted\nto allow empty string valus for quoted fields. Additonal tests\nadded to cover more cases.\n\nhttps://datatracker.ietf.org/doc/html/rfc2915\nhttps://github.com/isc-projects/bind9/blob/main/bin/tests/system/xfer/dig1.good\n\nChange-Id: I44bc7d2a231ed8d63cba69ec95f06358687aa914\n'}, {'number': 2, 'created': '2023-05-19 13:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a136834648881a056484d4a83b5efa28221f2ce5', 'message': 'Improve NAPTR support\n\nThis patchset adds support for fields (e.g flags, services, regexp)\nto be quoted and empty as described in RFC 2915. While unquoted\nfields are NOT optional, the previous behaviour remains for\nbackward compatibility. The regular expressions have been adjusted\nto allow empty string values for quoted fields. Additional tests\nadded to cover more cases.\n\nhttps://datatracker.ietf.org/doc/html/rfc2915\nhttps://github.com/isc-projects/bind9/blob/main/bin/tests/system/xfer/dig1.good\n\nChange-Id: I44bc7d2a231ed8d63cba69ec95f06358687aa914\n'}, {'number': 3, 'created': '2023-05-19 14:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a956b174c11a3a76d6935d81740327576c666778', 'message': 'Improve NAPTR support\n\nThis patchset adds support for fields (e.g flags, services, regexp)\nto be quoted and empty as described in RFC 2915. While unquoted\nfields are NOT optional, the previous behaviour remains for\nbackward compatibility. The regular expression have been adjusted\nto allow empty string valus for quoted fields. Additonal tests\nadded to cover more cases.\n\nhttps://datatracker.ietf.org/doc/html/rfc2915\nhttps://github.com/isc-projects/bind9/blob/main/bin/tests/system/xfer/dig1.good\n\nChange-Id: I44bc7d2a231ed8d63cba69ec95f06358687aa914\n'}, {'number': 4, 'created': '2023-05-19 14:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/356afa72247dbdb4ccf061fd2c5254cf5517b209', 'message': 'Improve NAPTR support\n\nThis patchset adds support for fields (e.g flags, services, regexp)\nto be quoted and empty as described in RFC 2915. While unquoted\nfields are NOT optional, the previous behaviour remains for\nbackward compatibility. The regular expressions have been adjusted\nto allow empty string valuss for quoted fields. Additional tests\nadded to cover more cases.\n\nhttps://datatracker.ietf.org/doc/html/rfc2915\nhttps://github.com/isc-projects/bind9/blob/main/bin/tests/system/xfer/dig1.good\n\nChange-Id: I44bc7d2a231ed8d63cba69ec95f06358687aa914\n'}, {'number': 5, 'created': '2023-05-19 14:47:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/617d3803d3b9a00924391f41c38656dbf5a3329a', 'message': 'Improve NAPTR support\n\nThis patchset adds support for fields (e.g flags, services, regexp)\nto be quoted and empty as described in RFC 2915. While unquoted\nfields are NOT optional, the previous behaviour remains for\nbackward compatibility. The regular expressions have been adjusted\nto allow empty string values for quoted fields. Additional tests\nadded to cover more cases.\n\nhttps://datatracker.ietf.org/doc/html/rfc2915\nhttps://github.com/isc-projects/bind9/blob/main/bin/tests/system/xfer/dig1.good\n\nChange-Id: I44bc7d2a231ed8d63cba69ec95f06358687aa914\n'}, {'number': 6, 'created': '2023-05-19 18:12:28.000000000', 'files': ['designate/objects/rrdata_naptr.py', 'designate/tests/unit/objects/test_rrdata_naptr.py', 'designate/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/aa151b4d00ca3d51d2934077c1383c96f718b642', 'message': 'Improve NAPTR support\n\nThis patchset adds support for fields (e.g flags, services, regexp)\nto be quoted and empty as described in RFC 2915. While unquoted\nfields are NOT optional, the previous behaviour remains for\nbackward compatibility. The regular expressions have been adjusted\nto allow empty string values for quoted fields. Additional tests\nadded to cover more cases.\n\nhttps://datatracker.ietf.org/doc/html/rfc2915\nhttps://github.com/isc-projects/bind9/blob/main/bin/tests/system/xfer/dig1.good\n\nChange-Id: I44bc7d2a231ed8d63cba69ec95f06358687aa914\n'}]",3,883188,aa151b4d00ca3d51d2934077c1383c96f718b642,18,4,6,36023,,,0,"Improve NAPTR support

This patchset adds support for fields (e.g flags, services, regexp)
to be quoted and empty as described in RFC 2915. While unquoted
fields are NOT optional, the previous behaviour remains for
backward compatibility. The regular expressions have been adjusted
to allow empty string values for quoted fields. Additional tests
added to cover more cases.

https://datatracker.ietf.org/doc/html/rfc2915
https://github.com/isc-projects/bind9/blob/main/bin/tests/system/xfer/dig1.good

Change-Id: I44bc7d2a231ed8d63cba69ec95f06358687aa914
",git fetch https://review.opendev.org/openstack/designate refs/changes/88/883188/6 && git format-patch -1 --stdout FETCH_HEAD,"['designate/objects/rrdata_naptr.py', 'designate/tests/unit/objects/test_rrdata_naptr.py', 'designate/objects/fields.py']",3,e013990da83838ca1e380ce67cbcf79a50c53744,naptr_improvement," RE_NAPTR_FLAGS = r'^[APSUapsu]*$' RE_NAPTR_SERVICE = r'^([A-Za-z]([A-Za-z0-9]*)(\+[A-Za-z]([A-Za-z0-9]{0,31}))*)?$' # noqa RE_NAPTR_REGEXP = r'^(([^0-9i\\])(.*)\2((.+)|(\\[1-9]))\2(i?))?$'"," RE_NAPTR_FLAGS = r'^(?!.*(.).*\1)[APSU]+$' RE_NAPTR_SERVICE = r'^([A-Za-z]([A-Za-z0-9]*)(\+[A-Za-z]([A-Za-z0-9]{0,31}))*)?' # noqa RE_NAPTR_REGEXP = r'^([^0-9i\\])(.*)\1((.+)|(\\[1-9]))\1(i?)'",50,6
openstack%2Fdesignate~master~I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70,openstack/designate,master,I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70,Fix TsigKeyring issues with dnspython 2.x,MERGED,2023-06-27 20:08:15.000000000,2023-06-30 21:38:17.000000000,2023-06-30 21:36:12.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2023-06-27 20:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/976c25bb8fa6c9c550f2031b4979e3048a7a0f19', 'message': '[WIP] Fix TsigKey\n\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}, {'number': 2, 'created': '2023-06-27 20:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c1c62a222f05bfeefe6afbd91a98728b799251a6', 'message': '[WIP] Fix TsigKey\n\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}, {'number': 3, 'created': '2023-06-27 20:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/885e6af91f7b3e1356939cec5abb9d2756944572', 'message': 'Fix TsigKey issues with dnspython 2.x\n\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}, {'number': 4, 'created': '2023-06-27 21:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/081d4ecaf7a45ddb548e3d272c9ad70c76fb6842', 'message': 'Fix TsigKey issues with dnspython 2.x\n\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}, {'number': 5, 'created': '2023-06-27 21:48:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/54dbf1a45ae96f91386b2f25b8b41e5ff2505cae', 'message': 'Fix TsigKey issues with dnspython 2.x\n\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}, {'number': 6, 'created': '2023-06-27 22:07:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/bbf6b15bf3af9cd675501382adc9a741cd2c2205', 'message': 'Fix TsigKey issues with dnspython 2.x\n\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}, {'number': 7, 'created': '2023-06-27 22:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ae9481adf9f7c6ef24d6516d845827e45f63d7af', 'message': 'Fix TsigKey issues with dnspython 2.x\n\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}, {'number': 8, 'created': '2023-06-27 22:56:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/11eff1cdb6fca740e9c186c06185bbd43ad727b3', 'message': 'Fix TsigKeyring issues with dnspython 2.x\n\n- Fixed issues in TsigKeyring.\n- Fixed tsgi issues in mdns handler.\n- Fixed invalid secret used in tests.\n- Added additional test coverage.\n- Re-enabled previously broken test.\n\nImported tsig fix for mdns from code written\nby DEKehn.\n\nCloses-Bug: #1982252\n\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}, {'number': 9, 'created': '2023-06-28 08:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/76dc82ea8eee6a3cb9c419b64b67763cae6ecdbb', 'message': 'Fix TsigKeyring issues with dnspython 2.x\n\n- Fixed issues in TsigKeyring.\n- Fixed tsgi issues in mdns handler.\n- Fixed invalid secret used in tests.\n- Added additional test coverage.\n- Re-enabled previously broken test.\n\nCloses-Bug: #1982252\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}, {'number': 10, 'created': '2023-06-28 08:15:23.000000000', 'files': ['designate/tests/__init__.py', 'designate/mdns/handler.py', 'designate/dnsutils.py', 'designate/tests/test_dnsutils.py', 'designate/tests/test_mdns/test_handler.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/38c591eaa1109e7ea4600563e505dbdbe8a59b37', 'message': 'Fix TsigKeyring issues with dnspython 2.x\n\n- Fixed issues in TsigKeyring.\n- Fixed tsgi issues in mdns handler.\n- Fixed invalid secret used in tests.\n- Added additional test coverage.\n- Re-enabled previously broken test.\n\nCloses-Bug: #1982252\nChange-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70\n'}]",2,886621,38c591eaa1109e7ea4600563e505dbdbe8a59b37,20,5,10,22623,,,0,"Fix TsigKeyring issues with dnspython 2.x

- Fixed issues in TsigKeyring.
- Fixed tsgi issues in mdns handler.
- Fixed invalid secret used in tests.
- Added additional test coverage.
- Re-enabled previously broken test.

Closes-Bug: #1982252
Change-Id: I04c104cfc9ee2f03d0c5adca3c80bbfff20afb70
",git fetch https://review.opendev.org/openstack/designate refs/changes/21/886621/4 && git format-patch -1 --stdout FETCH_HEAD,['designate/dnsutils.py'],1,976c25bb8fa6c9c550f2031b4979e3048a7a0f19,," def __getattr__(self, key): if isinstance(key, bytes): key = key.decode('utf-8') criterion = {'name': key}"," def __getitem__(self, key): name = key.to_text(True) if isinstance(name, bytes): name = name.decode('utf-8') criterion = {'name': name}",4,5
openstack%2Fdesignate~stable%2Fzed~I677ac79047286fb92343d3d895c38cf1a1076556,openstack/designate,stable/zed,I677ac79047286fb92343d3d895c38cf1a1076556,[CI] Reduce workers and disable cinder to save on memory,MERGED,2023-02-23 20:48:17.000000000,2023-06-30 21:38:15.000000000,2023-06-30 21:36:10.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 36073}]","[{'number': 1, 'created': '2023-02-23 20:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/97804142e00f9564843e005a113600f9540c7f39', 'message': '[CI] Reduce workers and disable cinder to save on memory\n\nChange-Id: I677ac79047286fb92343d3d895c38cf1a1076556\n(cherry picked from commit fbfb1b0dd80bbcc2a6d1f09259972657d66fd998)\n'}, {'number': 2, 'created': '2023-05-24 05:07:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/6e7b7e898eeb2834188cce12f4d669163b28c3f7', 'message': '[CI] Reduce workers and disable cinder to save on memory\n\nChange-Id: I677ac79047286fb92343d3d895c38cf1a1076556\n(cherry picked from commit fbfb1b0dd80bbcc2a6d1f09259972657d66fd998)\n'}]",5,874840,6e7b7e898eeb2834188cce12f4d669163b28c3f7,15,5,2,22623,,,0,"[CI] Reduce workers and disable cinder to save on memory

Change-Id: I677ac79047286fb92343d3d895c38cf1a1076556
(cherry picked from commit fbfb1b0dd80bbcc2a6d1f09259972657d66fd998)
",git fetch https://review.opendev.org/openstack/designate refs/changes/40/874840/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,97804142e00f9564843e005a113600f9540c7f39,cinder-stable/zed, API_WORKERS: 2 cinder: false c-api: false c-vol: false, API_WORKERS: 4,4,1
openstack%2Fneutron~stable%2Fxena~If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd,openstack/neutron,stable/xena,If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd,[OVN] Improve Hash Ring logs,MERGED,2023-06-29 12:57:25.000000000,2023-06-30 21:36:06.000000000,2023-06-30 21:34:46.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 12:57:25.000000000', 'files': ['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/common/ovn/exceptions.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/common/ovn/hash_ring_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/61e6211b902094f4d50d52787f93c34e16a1121f', 'message': '[OVN] Improve Hash Ring logs\n\nDebugging Hash Ring problems can be difficult challenge given that prior\nto this patch the logs were very limited.\n\nThis patch improves the logging for this feature as follow:\n\n1. Log when a node is added to the ring\n2. Log when nodes are removed from the ring\n3. Keep track the number of offline nodes and log it upon loading the\n   ring\n4. Improve the ""Hash Ring is empty"" exception with the number of offline\n   nodes found (if 0, means the ovn_hash_ring table has no entries)\n\nCloses-Bug: #2023670\nChange-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit afa20faec3c37bd06346360cadbad0d69e9925f0)\n\n[OVN] The all() and count() methods should be inside a DB txn\n\nThe ``ovn_hash_ring_db`` methods ``get_active_nodes`` and\n``count_offline_nodes`` are sending SQL requests that should be issued\nfrom inside a READER context.\n\nCloses-Bug: #2024447\nChange-Id: If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd\n(cherry picked from commit 0c66dfaed8e1ec00726c3e484e69174779678abd)\n'}]",3,887276,61e6211b902094f4d50d52787f93c34e16a1121f,13,3,1,6773,,,0,"[OVN] Improve Hash Ring logs

Debugging Hash Ring problems can be difficult challenge given that prior
to this patch the logs were very limited.

This patch improves the logging for this feature as follow:

1. Log when a node is added to the ring
2. Log when nodes are removed from the ring
3. Keep track the number of offline nodes and log it upon loading the
   ring
4. Improve the ""Hash Ring is empty"" exception with the number of offline
   nodes found (if 0, means the ovn_hash_ring table has no entries)

Closes-Bug: #2023670
Change-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit afa20faec3c37bd06346360cadbad0d69e9925f0)

[OVN] The all() and count() methods should be inside a DB txn

The ``ovn_hash_ring_db`` methods ``get_active_nodes`` and
``count_offline_nodes`` are sending SQL requests that should be issued
from inside a READER context.

Closes-Bug: #2024447
Change-Id: If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd
(cherry picked from commit 0c66dfaed8e1ec00726c3e484e69174779678abd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/887276/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/common/ovn/exceptions.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/common/ovn/hash_ring_manager.py']",4,61e6211b902094f4d50d52787f93c34e16a1121f,," self._offline_node_count = 0 self._offline_node_count = db_hash_ring.count_offline_nodes( self.admin_ctx, constants.HASH_RING_NODES_TIMEOUT, self._group) LOG.debug(""Hash Ring loaded. %d active nodes. %d offline nodes"", len(nodes), self._offline_node_count) raise exceptions.HashRingIsEmpty( key=key, node_count=self._offline_node_count)", raise exceptions.HashRingIsEmpty(key=key),72,12
openstack%2Fneutron~stable%2Fyoga~If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd,openstack/neutron,stable/yoga,If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd,[OVN] Improve Hash Ring logs,MERGED,2023-06-29 12:56:59.000000000,2023-06-30 21:36:02.000000000,2023-06-30 21:34:42.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 12:56:59.000000000', 'files': ['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/common/ovn/exceptions.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/common/ovn/hash_ring_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/73ba302faf6f5007068c05b836a2e5654be908a7', 'message': '[OVN] Improve Hash Ring logs\n\nDebugging Hash Ring problems can be difficult challenge given that prior\nto this patch the logs were very limited.\n\nThis patch improves the logging for this feature as follow:\n\n1. Log when a node is added to the ring\n2. Log when nodes are removed from the ring\n3. Keep track the number of offline nodes and log it upon loading the\n   ring\n4. Improve the ""Hash Ring is empty"" exception with the number of offline\n   nodes found (if 0, means the ovn_hash_ring table has no entries)\n\nCloses-Bug: #2023670\nChange-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit afa20faec3c37bd06346360cadbad0d69e9925f0)\n\n[OVN] The all() and count() methods should be inside a DB txn\n\nThe ``ovn_hash_ring_db`` methods ``get_active_nodes`` and\n``count_offline_nodes`` are sending SQL requests that should be issued\nfrom inside a READER context.\n\nCloses-Bug: #2024447\nChange-Id: If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd\n(cherry picked from commit 0c66dfaed8e1ec00726c3e484e69174779678abd)\n'}]",1,887274,73ba302faf6f5007068c05b836a2e5654be908a7,9,3,1,6773,,,0,"[OVN] Improve Hash Ring logs

Debugging Hash Ring problems can be difficult challenge given that prior
to this patch the logs were very limited.

This patch improves the logging for this feature as follow:

1. Log when a node is added to the ring
2. Log when nodes are removed from the ring
3. Keep track the number of offline nodes and log it upon loading the
   ring
4. Improve the ""Hash Ring is empty"" exception with the number of offline
   nodes found (if 0, means the ovn_hash_ring table has no entries)

Closes-Bug: #2023670
Change-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit afa20faec3c37bd06346360cadbad0d69e9925f0)

[OVN] The all() and count() methods should be inside a DB txn

The ``ovn_hash_ring_db`` methods ``get_active_nodes`` and
``count_offline_nodes`` are sending SQL requests that should be issued
from inside a READER context.

Closes-Bug: #2024447
Change-Id: If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd
(cherry picked from commit 0c66dfaed8e1ec00726c3e484e69174779678abd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/887274/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/common/ovn/exceptions.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/common/ovn/hash_ring_manager.py']",4,73ba302faf6f5007068c05b836a2e5654be908a7,," self._offline_node_count = 0 self._offline_node_count = db_hash_ring.count_offline_nodes( self.admin_ctx, constants.HASH_RING_NODES_TIMEOUT, self._group) LOG.debug(""Hash Ring loaded. %d active nodes. %d offline nodes"", len(nodes), self._offline_node_count) raise exceptions.HashRingIsEmpty( key=key, node_count=self._offline_node_count)", raise exceptions.HashRingIsEmpty(key=key),72,12
openstack%2Fneutron~master~I53e11f558a6cd84a02041758badddfe87a10c95c,openstack/neutron,master,I53e11f558a6cd84a02041758badddfe87a10c95c,Do not query neutron-rpc for sg rules upon sg deletion,MERGED,2023-05-16 08:29:03.000000000,2023-06-30 21:35:57.000000000,2023-06-30 21:34:34.000000000,"[{'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11583}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-16 08:29:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d334b31cce0a57a4e89a1562322c51b335efe351', 'message': ""Do not query neutron-rpc for sg rules upon sg deletion\n\nThis makes _clear_child_sg_rules look into the local resource cache\nfor sg rules that have to be deleted instead of querying the\nneutron-rpc server.\n\nDeleting a security group results in each agent of the region running\na bulk_pull query for all the rules in the security group against the\nneutron-rpc. This is incurs a load on neutron-rpc, rabbitmq and the db\nproportional to the number of agents and the number of security group\nrules and has a noticeable impact on larger infrastructures.\n\nHowever, when the cache is properly populated, we already have the\nrules we should remove from the cache and don't need to ask neutron\nserver for them.\n\nChange-Id: I53e11f558a6cd84a02041758badddfe87a10c95c\n""}, {'number': 2, 'created': '2023-05-26 08:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c80a98ccec7ddd4352a5172b29b98484927e205', 'message': ""Do not query neutron-rpc for sg rules upon sg deletion\n\nThis makes _clear_child_sg_rules look into the local resource cache\nfor sg rules that have to be deleted instead of querying the\nneutron-rpc server.\n\nDeleting a security group results in each agent of the region running\na bulk_pull query for all the rules in the security group against the\nneutron-rpc. This is incurs a load on neutron-rpc, rabbitmq and the db\nproportional to the number of agents and the number of security group\nrules and has a noticeable impact on larger infrastructures.\n\nHowever, when the cache is properly populated, we already have the\nrules we should remove from the cache and don't need to ask neutron\nserver for them.\n\nChange-Id: I53e11f558a6cd84a02041758badddfe87a10c95c\n""}, {'number': 3, 'created': '2023-06-05 13:02:38.000000000', 'files': ['neutron/tests/unit/api/rpc/handlers/test_securitygroups_rpc.py', 'neutron/api/rpc/handlers/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce12b6ac195c83fad424ee35c5e92b1d12d040ae', 'message': ""Do not query neutron-rpc for sg rules upon sg deletion\n\nThis makes _clear_child_sg_rules look into the local resource cache\nfor sg rules that have to be deleted instead of querying the\nneutron-rpc server.\n\nDeleting a security group results in each agent of the region running\na bulk_pull query for all the rules in the security group against the\nneutron-rpc. This is incurs a load on neutron-rpc, rabbitmq and the db\nproportional to the number of agents and the number of security group\nrules and has a noticeable impact on larger infrastructures.\n\nHowever, when the cache is properly populated, we already have the\nrules we should remove from the cache and don't need to ask neutron\nserver for them.\n\nCloses-Bug: #2022360\nChange-Id: I53e11f558a6cd84a02041758badddfe87a10c95c\n""}]",20,883235,ce12b6ac195c83fad424ee35c5e92b1d12d040ae,49,9,3,9642,,,0,"Do not query neutron-rpc for sg rules upon sg deletion

This makes _clear_child_sg_rules look into the local resource cache
for sg rules that have to be deleted instead of querying the
neutron-rpc server.

Deleting a security group results in each agent of the region running
a bulk_pull query for all the rules in the security group against the
neutron-rpc. This is incurs a load on neutron-rpc, rabbitmq and the db
proportional to the number of agents and the number of security group
rules and has a noticeable impact on larger infrastructures.

However, when the cache is properly populated, we already have the
rules we should remove from the cache and don't need to ask neutron
server for them.

Closes-Bug: #2022360
Change-Id: I53e11f558a6cd84a02041758badddfe87a10c95c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/883235/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/api/rpc/handlers/securitygroups_rpc.py'],1,d334b31cce0a57a4e89a1562322c51b335efe351,bug/2022360," rules = self.rcache.match_resources_with_func( 'SecurityGroupRule', lambda rule: rule.security_group_id == existing.id) for rule in rules:"," filters = {'security_group_id': (existing.id, )} for rule in self.rcache.get_resources('SecurityGroupRule', filters):",6,2
openstack%2Fneutron~stable%2Fzed~If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd,openstack/neutron,stable/zed,If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd,[OVN] Improve Hash Ring logs,MERGED,2023-06-29 12:56:28.000000000,2023-06-30 21:35:54.000000000,2023-06-30 21:34:38.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 12:56:28.000000000', 'files': ['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/common/ovn/exceptions.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/common/ovn/hash_ring_manager.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b4f7c9dff4cac494299483c920a8f1822722380a', 'message': '[OVN] Improve Hash Ring logs\n\nDebugging Hash Ring problems can be difficult challenge given that prior\nto this patch the logs were very limited.\n\nThis patch improves the logging for this feature as follow:\n\n1. Log when a node is added to the ring\n2. Log when nodes are removed from the ring\n3. Keep track the number of offline nodes and log it upon loading the\n   ring\n4. Improve the ""Hash Ring is empty"" exception with the number of offline\n   nodes found (if 0, means the ovn_hash_ring table has no entries)\n\nCloses-Bug: #2023670\nChange-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit afa20faec3c37bd06346360cadbad0d69e9925f0)\n\n[OVN] The all() and count() methods should be inside a DB txn\n\nThe ``ovn_hash_ring_db`` methods ``get_active_nodes`` and\n``count_offline_nodes`` are sending SQL requests that should be issued\nfrom inside a READER context.\n\nCloses-Bug: #2024447\nChange-Id: If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd\n(cherry picked from commit 0c66dfaed8e1ec00726c3e484e69174779678abd)\n'}]",1,887272,b4f7c9dff4cac494299483c920a8f1822722380a,9,3,1,6773,,,0,"[OVN] Improve Hash Ring logs

Debugging Hash Ring problems can be difficult challenge given that prior
to this patch the logs were very limited.

This patch improves the logging for this feature as follow:

1. Log when a node is added to the ring
2. Log when nodes are removed from the ring
3. Keep track the number of offline nodes and log it upon loading the
   ring
4. Improve the ""Hash Ring is empty"" exception with the number of offline
   nodes found (if 0, means the ovn_hash_ring table has no entries)

Closes-Bug: #2023670
Change-Id: Ic90432b5ddea8cf176de159ec7eaafd5fd7bdd6e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit afa20faec3c37bd06346360cadbad0d69e9925f0)

[OVN] The all() and count() methods should be inside a DB txn

The ``ovn_hash_ring_db`` methods ``get_active_nodes`` and
``count_offline_nodes`` are sending SQL requests that should be issued
from inside a READER context.

Closes-Bug: #2024447
Change-Id: If06c372a9d5cb1dc1ec1af768abb61f52c2c5abd
(cherry picked from commit 0c66dfaed8e1ec00726c3e484e69174779678abd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/887272/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/common/ovn/exceptions.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/common/ovn/hash_ring_manager.py']",4,b4f7c9dff4cac494299483c920a8f1822722380a,," self._offline_node_count = 0 self._offline_node_count = db_hash_ring.count_offline_nodes( self.admin_ctx, constants.HASH_RING_NODES_TIMEOUT, self._group) LOG.debug(""Hash Ring loaded. %d active nodes. %d offline nodes"", len(nodes), self._offline_node_count) raise exceptions.HashRingIsEmpty( key=key, node_count=self._offline_node_count)", raise exceptions.HashRingIsEmpty(key=key),72,12
openstack%2Fdesignate~master~I7bf257f2cd39c74d0c3780dbea1ef4fa39d9ab0f,openstack/designate,master,I7bf257f2cd39c74d0c3780dbea1ef4fa39d9ab0f,Make FIPS job voting,ABANDONED,2022-08-16 11:51:04.000000000,2023-06-30 20:20:30.000000000,,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-16 11:51:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/1c1f3c28a096ca5429c04f263838b46317112274', 'message': 'Make FIPS job voting\n\nChange-Id: I7bf257f2cd39c74d0c3780dbea1ef4fa39d9ab0f\n'}]",2,853277,1c1f3c28a096ca5429c04f263838b46317112274,5,3,1,34120,,,0,"Make FIPS job voting

Change-Id: I7bf257f2cd39c74d0c3780dbea1ef4fa39d9ab0f
",git fetch https://review.opendev.org/openstack/designate refs/changes/77/853277/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1c1f3c28a096ca5429c04f263838b46317112274,, - designate-bind9-centos9stream-fips, - designate-bind9-centos9stream-fips: voting: false,1,2
openstack%2Fwhitebox-tempest-plugin~master~I98ac827feb4be77af9a482d8ce43d0f1d062e54d,openstack/whitebox-tempest-plugin,master,I98ac827feb4be77af9a482d8ce43d0f1d062e54d,[WIP] Add global nodes variable,NEW,2023-05-31 15:47:26.000000000,2023-06-30 19:59:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-31 15:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9fd33b7e509e6994d1cebc28cd08ec5c02e2d4ae', 'message': '[WIP] Add global nodes variable\n\nFor multi-rhel environments the container/service names are different\nbased on the RHEL version. Introduce the capacity to define the expected\ncontainer/service names for each of the compute nodes in a deployment.\n\nChange-Id: I98ac827feb4be77af9a482d8ce43d0f1d062e54d\n'}, {'number': 2, 'created': '2023-05-31 16:06:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/af75250d9562134bbe12418d27747b8c23eb2a46', 'message': ""[WIP] Add global nodes variable\n\nFor multi-rhel environments the container/service names are different\nbased on the RHEL version. Introduce the capacity to define the expected\ncontainer/service names for each of the compute nodes in a deployment.\n\nCurrent compute yaml file follows the below format:\ncomputesriov-1.localdomain:\n  libvirt_container_name: nova_virtqemud\n  libvirt_start_command: 'systemctl start tripleo_nova_virtqemud'\n  libvirt_stop_command: 'systemctl stop tripleo_nova_virtqemud'\n  compute_container_name: nova_compute\n  compute_config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'\n  compute_start_command: 'systemctl start tripleo_nova_compute'\n  compute_stop_command: 'systemctl stop tripleo_nova_compute'\ncomputesriov-0.localdomain:\n  libvirt_container_name: nova_virtqemud\n  libvirt_start_command: 'systemctl start tripleo_nova_virtqemud'\n  libvirt_stop_command: 'systemctl stop tripleo_nova_virtqemud'\n  compute_container_name: nova_compute\n  compute_config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'\n  compute_start_command: 'systemctl start tripleo_nova_compute'\n  compute_stop_command: 'systemctl stop tripleo_nova_compute'\n\nChange-Id: I98ac827feb4be77af9a482d8ce43d0f1d062e54d\n""}, {'number': 3, 'created': '2023-06-08 22:34:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/b4865b2c0a96e385448e17a956182018258db314', 'message': ""[WIP] Add global nodes variable\n\nFor multi-rhel environments the container/service names are different\nbased on the RHEL version. Introduce the capacity to define the expected\ncontainer/service names for each of the compute nodes in a deployment.\n\nCurrent compute yaml file follows the below format:\ncomputesriov-1.localdomain:\n  libvirt_container_name: nova_virtqemud\n  libvirt_start_command: 'systemctl start tripleo_nova_virtqemud'\n  libvirt_stop_command: 'systemctl stop tripleo_nova_virtqemud'\n  compute_container_name: nova_compute\n  compute_config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'\n  compute_start_command: 'systemctl start tripleo_nova_compute'\n  compute_stop_command: 'systemctl stop tripleo_nova_compute'\ncomputesriov-0.localdomain:\n  libvirt_container_name: nova_virtqemud\n  libvirt_start_command: 'systemctl start tripleo_nova_virtqemud'\n  libvirt_stop_command: 'systemctl stop tripleo_nova_virtqemud'\n  compute_container_name: nova_compute\n  compute_config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'\n  compute_start_command: 'systemctl start tripleo_nova_compute'\n  compute_stop_command: 'systemctl stop tripleo_nova_compute'\n\nChange-Id: I98ac827feb4be77af9a482d8ce43d0f1d062e54d\n""}, {'number': 4, 'created': '2023-06-21 18:53:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/9f686e3cb6cdfd2a6a6ef891798e80f77d547b27', 'message': ""[WIP] Add global nodes variable\n\nFor multi-rhel environments the container/service names are different\nbased on the RHEL version. Introduce the capacity to define the expected\ncontainer/service names for each of the compute nodes in a deployment.\n\nCurrent compute yaml file follows the below format:\ncomputerhel8-0.redhat.local:\n  services:\n    libvirt:\n      container_name: nova_libvirt\n      start_command: 'systemctl start tripleo_nova_libvirt'\n      stop_command: 'systemctl stop tripleo_nova_libvirt'\n    nova-compute:\n      container_name: nova_compute\n      config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'\n      start_command: 'systemctl start tripleo_nova_compute'\n      stop_command: 'systemctl stop tripleo_nova_compute'\ncompute-0.redhat.local:\n  services:\n    libvirt:\n      container_name: nova_virtqemud\n      start_command: 'systemctl start tripleo_nova_virtqemud'\n      stop_command: 'systemctl stop tripleo_nova_virtqemud'\n    nova-compute:\n      container_name: nova_compute\n      config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'\n      start_command: 'systemctl start tripleo_nova_compute'\n      stop_command: 'systemctl stop tripleo_nova_compute'\n\nChange-Id: I98ac827feb4be77af9a482d8ce43d0f1d062e54d\n""}, {'number': 5, 'created': '2023-06-21 20:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/87b0a179e0aea198166d8bc184fed5c3536cca42', 'message': ""[WIP] Add global nodes variable\n\nFor multi-rhel environments the container/service names are different\nbased on the RHEL version. Introduce the capacity to define the expected\ncontainer/service names for each of the compute nodes in a deployment.\n\nCurrent compute yaml file follows the below format:\ncomputerhel8-0.redhat.local:\n  services:\n    libvirt:\n      container_name: nova_libvirt\n      start_command: 'systemctl start tripleo_nova_libvirt'\n      stop_command: 'systemctl stop tripleo_nova_libvirt'\n    nova-compute:\n      container_name: nova_compute\n      config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'\n      start_command: 'systemctl start tripleo_nova_compute'\n      stop_command: 'systemctl stop tripleo_nova_compute'\ncompute-0.redhat.local:\n  services:\n    libvirt:\n      container_name: nova_virtqemud\n      start_command: 'systemctl start tripleo_nova_virtqemud'\n      stop_command: 'systemctl stop tripleo_nova_virtqemud'\n    nova-compute:\n      container_name: nova_compute\n      config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'\n      start_command: 'systemctl start tripleo_nova_compute'\n      stop_command: 'systemctl stop tripleo_nova_compute'\n\nChange-Id: I98ac827feb4be77af9a482d8ce43d0f1d062e54d\n""}, {'number': 6, 'created': '2023-06-30 18:48:17.000000000', 'files': ['whitebox_tempest_plugin/api/compute/test_rbd_direct_download.py', 'whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/config.py', 'whitebox_tempest_plugin/utils.py', 'whitebox_tempest_plugin/api/compute/test_volume_encryption.py', 'whitebox_tempest_plugin/api/compute/test_volume_negative.py'], 'web_link': 'https://opendev.org/openstack/whitebox-tempest-plugin/commit/55fa3cd7dfc5d52f076f066510e64a96edd1ae31', 'message': ""[WIP] Add global nodes variable\n\nFor multi-rhel environments the container/service names are different\nbased on the RHEL version. Introduce the capacity to define the expected\ncontainer/service names for each of the compute nodes in a deployment.\n\nCurrent compute yaml file follows the below format:\ncomputerhel8-0.redhat.local:\n  services:\n    libvirt:\n      container_name: nova_libvirt\n      start_command: 'systemctl start tripleo_nova_libvirt'\n      stop_command: 'systemctl stop tripleo_nova_libvirt'\n    nova-compute:\n      container_name: nova_compute\n      config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'\n      start_command: 'systemctl start tripleo_nova_compute'\n      stop_command: 'systemctl stop tripleo_nova_compute'\ncompute-0.redhat.local:\n  services:\n    libvirt:\n      container_name: nova_virtqemud\n      start_command: 'systemctl start tripleo_nova_virtqemud'\n      stop_command: 'systemctl stop tripleo_nova_virtqemud'\n    nova-compute:\n      container_name: nova_compute\n      config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'\n      start_command: 'systemctl start tripleo_nova_compute'\n      stop_command: 'systemctl stop tripleo_nova_compute'\n\nChange-Id: I98ac827feb4be77af9a482d8ce43d0f1d062e54d\n""}]",13,884903,55fa3cd7dfc5d52f076f066510e64a96edd1ae31,13,1,6,31033,,,0,"[WIP] Add global nodes variable

For multi-rhel environments the container/service names are different
based on the RHEL version. Introduce the capacity to define the expected
container/service names for each of the compute nodes in a deployment.

Current compute yaml file follows the below format:
computerhel8-0.redhat.local:
  services:
    libvirt:
      container_name: nova_libvirt
      start_command: 'systemctl start tripleo_nova_libvirt'
      stop_command: 'systemctl stop tripleo_nova_libvirt'
    nova-compute:
      container_name: nova_compute
      config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'
      start_command: 'systemctl start tripleo_nova_compute'
      stop_command: 'systemctl stop tripleo_nova_compute'
compute-0.redhat.local:
  services:
    libvirt:
      container_name: nova_virtqemud
      start_command: 'systemctl start tripleo_nova_virtqemud'
      stop_command: 'systemctl stop tripleo_nova_virtqemud'
    nova-compute:
      container_name: nova_compute
      config_path: '/var/lib/config-data/puppet-generated/nova_libvirt/etc/nova/nova.conf'
      start_command: 'systemctl start tripleo_nova_compute'
      stop_command: 'systemctl stop tripleo_nova_compute'

Change-Id: I98ac827feb4be77af9a482d8ce43d0f1d062e54d
",git fetch https://review.opendev.org/openstack/whitebox-tempest-plugin refs/changes/03/884903/1 && git format-patch -1 --stdout FETCH_HEAD,"['whitebox_tempest_plugin/services/clients.py', 'whitebox_tempest_plugin/api/compute/test_cpu_pinning.py', 'whitebox_tempest_plugin/api/compute/base.py', 'whitebox_tempest_plugin/config.py', 'whitebox_tempest_plugin/utils.py']",5,9fd33b7e509e6994d1cebc28cd08ec5c02e2d4ae,nodes_provider_yaml,"import yaml_nodes = None def get_host_details(host): global _nodes if _nodes is None: nodes_location = CONF.whitebox.computes_provider_yaml with open(nodes_location, ""r"") as f: _nodes = yaml.safe_load(f) return _nodes.get(host)",,27,16
openstack%2Ftempest~master~I53cbbaa5118eb8e883c36af8aeeca78c922cdcb3,openstack/tempest,master,I53cbbaa5118eb8e883c36af8aeeca78c922cdcb3,Updated waiter - wait_for_server_floating_ip,NEW,2022-08-10 14:49:03.000000000,2023-06-30 19:59:30.000000000,,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-08-10 14:49:03.000000000', 'files': ['tempest/api/compute/servers/test_server_actions.py', 'tempest/scenario/test_minimum_basic.py', 'tempest/common/waiters.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a209b2f88719ce574e5d08b0053944672535078', 'message': 'Updated waiter - wait_for_server_floating_ip\n\nNova gets its floating IP info from neutron.\nThe associations are stored in the neutron DB\nand we cache that info in nova\nnetwork_info_cache as part of the fixed IP object.\n\nBut the cache can take multiple minutes to update\npassive.Hence, when a floating ip is reported from\nnova, it does not gurarentee that flaoting ip is\nassociated with the port. Hence, retrieving this\ninfo from neutron directly can help us figure out\nthe actual problem\n\nRelated-bug: 1980255\nChange-Id: I53cbbaa5118eb8e883c36af8aeeca78c922cdcb3\n'}]",6,852745,1a209b2f88719ce574e5d08b0053944672535078,4,4,1,30742,,,0,"Updated waiter - wait_for_server_floating_ip

Nova gets its floating IP info from neutron.
The associations are stored in the neutron DB
and we cache that info in nova
network_info_cache as part of the fixed IP object.

But the cache can take multiple minutes to update
passive.Hence, when a floating ip is reported from
nova, it does not gurarentee that flaoting ip is
associated with the port. Hence, retrieving this
info from neutron directly can help us figure out
the actual problem

Related-bug: 1980255
Change-Id: I53cbbaa5118eb8e883c36af8aeeca78c922cdcb3
",git fetch https://review.opendev.org/openstack/tempest refs/changes/45/852745/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/servers/test_server_actions.py', 'tempest/scenario/test_minimum_basic.py', 'tempest/common/waiters.py']",3,1a209b2f88719ce574e5d08b0053944672535078,tempest_floating_ip,"from tempest.lib.services.network import ports_client ports_client, port_id, :param ports_client: The ports client to use when querying the port_details :param port_id: The id associated with the port server = servers_client.show_server(server['id'])['server'] device_id = ports_client.show_port(port_id)['device_id'] status = ports_client.show_port(port_id)['status'] if device_id == server and status == ""ACTIVE"": return address if status != ""ACTIVE"": msg = ('Floating ip %s failed to associate with port %s ' 'in time.' % (floating_ip, port['id'])) raise lib_exc.TimeoutException(msg)", server = servers_client.show_server(server['id'])['server'] return address,30,9
openstack%2Foctavia-lib~master~I3a97f526f9be38c814657a223125b398b5014122,openstack/octavia-lib,master,I3a97f526f9be38c814657a223125b398b5014122,Add support for HTTP Strict Transport Security,MERGED,2023-04-19 12:28:48.000000000,2023-06-30 19:54:04.000000000,2023-06-30 19:53:04.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-04-19 12:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/c246add16ee41b811d402ecac55e789c8c4764a9', 'message': 'Add support for HTTP Strict Transport Security\n\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 2, 'created': '2023-04-19 13:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/0737d6c404d8c8d9d6e950ef2b54264145f3ce99', 'message': 'Add support for HTTP Strict Transport Security\n\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 3, 'created': '2023-04-24 11:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/bcd6f66e30f99defcebac10870ff8459d7c045c4', 'message': 'Add support for HTTP Strict Transport Security\n\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 4, 'created': '2023-04-26 16:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/c53e470db269c6f5bed97d8c1683b8b8951f9de8', 'message': 'Add support for HTTP Strict Transport Security\n\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 5, 'created': '2023-04-27 08:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/76d618ad18692beb5f856d4f275de7ec21d6b180', 'message': 'Add support for HTTP Strict Transport Security\n\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 6, 'created': '2023-04-27 11:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/56237e11b3c2c9d728ccd555ef5cea05d5dfcee5', 'message': 'Add support for HTTP Strict Transport Security\n\nUpdates needed by Octavia for its HSTS support.\n\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 7, 'created': '2023-04-28 09:02:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/5f18a4df88eb9e17c7dd6c5217dab4666d2ae7dd', 'message': 'Add support for HTTP Strict Transport Security\n\nUpdates needed by Octavia for its HSTS support.\n\nPartial-Bug: #2017972\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 8, 'created': '2023-05-03 08:00:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/84d4675ff0757a7f456939d21925efa8dfbdbb44', 'message': 'Add support for HTTP Strict Transport Security\n\nUpdates needed by Octavia for its HSTS support.\n\nPartial-Bug: #2017972\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 9, 'created': '2023-05-04 10:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/967232e6ef97322d5978dfcfebcec650f7cc4878', 'message': 'Add support for HTTP Strict Transport Security\n\nUpdates needed by Octavia for its HSTS support.\n\nPartial-Bug: #2017972\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 10, 'created': '2023-05-04 10:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/05209a6f1bb08fac40968d4c5fbafb7b2c390c64', 'message': 'Add support for HTTP Strict Transport Security\n\nUpdates needed by Octavia for its HSTS support.\n\nPartial-Bug: #2017972\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 11, 'created': '2023-05-04 10:57:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/cc28b65f1f1b8cba1fa7ae09f85b59697c16ada9', 'message': 'Add support for HTTP Strict Transport Security\n\nUpdates needed by Octavia for its HSTS support.\n\nPartial-Bug: #2017972\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}, {'number': 12, 'created': '2023-06-28 16:12:22.000000000', 'files': ['octavia_lib/common/constants.py', 'releasenotes/notes/Added-HSTS-support-7d1fbfc35ee5dc29.yaml', 'octavia_lib/tests/unit/api/drivers/test_data_models.py', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/bad19004b09dd6daf1b6db0a6f96545790a08336', 'message': 'Add support for HTTP Strict Transport Security\n\nUpdates needed by Octavia for its HSTS support.\n\nPartial-Bug: #2017972\nChange-Id: I3a97f526f9be38c814657a223125b398b5014122\n'}]",4,880821,bad19004b09dd6daf1b6db0a6f96545790a08336,31,4,12,34429,,,0,"Add support for HTTP Strict Transport Security

Updates needed by Octavia for its HSTS support.

Partial-Bug: #2017972
Change-Id: I3a97f526f9be38c814657a223125b398b5014122
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/21/880821/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_lib/api/drivers/data_models.py'],1,c246add16ee41b811d402ecac55e789c8c4764a9,hsts-haproxy,"import typing as tp alpn_protocols=Unset, hsts_enabled=Unset, hsts_header_opts=Unset): self.hsts_enabled: tp.Union[bool, UnsetType] = hsts_enabled self.hsts_header_opts: tp.Union[str, UnsetType] = hsts_header_opts", alpn_protocols=Unset):,5,2
openstack%2Fdevstack-vagrant~master~I12e2ca5c550e82d880b0a4ccd8491bc57b6ae70d,openstack/devstack-vagrant,master,I12e2ca5c550e82d880b0a4ccd8491bc57b6ae70d,Update doc & comment about auth,MERGED,2023-02-27 09:48:05.000000000,2023-06-30 18:10:40.000000000,2023-06-30 18:10:40.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-27 09:48:05.000000000', 'files': ['config.yaml.sample', 'README.md'], 'web_link': 'https://opendev.org/openstack/devstack-vagrant/commit/0d166a8a32988b3fbec821844a9dacf1a5717424', 'message': 'Update doc & comment about auth\n\nChange-Id: I12e2ca5c550e82d880b0a4ccd8491bc57b6ae70d\n'}]",0,875373,0d166a8a32988b3fbec821844a9dacf1a5717424,6,2,1,35339,,,0,"Update doc & comment about auth

Change-Id: I12e2ca5c550e82d880b0a4ccd8491bc57b6ae70d
",git fetch https://review.opendev.org/openstack/devstack-vagrant refs/changes/73/875373/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml.sample', 'README.md']",2,0d166a8a32988b3fbec821844a9dacf1a5717424,password,"hostnames you want, and password, and sshkey for","hostnames you want, and password hash (not password), and sshkey for",3,3
openstack%2Fdevstack-vagrant~master~I4b5c69f57191628664450330a08248aae05c2813,openstack/devstack-vagrant,master,I4b5c69f57191628664450330a08248aae05c2813,"Add IP_VERSION in template, set default as ipv4 only",MERGED,2023-02-27 12:43:49.000000000,2023-06-30 18:09:43.000000000,2023-06-30 18:09:43.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-27 12:43:49.000000000', 'files': ['Vagrantfile', 'puppet/modules/devstack/templates/local.erb', 'config.yaml.sample'], 'web_link': 'https://opendev.org/openstack/devstack-vagrant/commit/315539410972def9a7cdc3d555451bf02b67e932', 'message': 'Add IP_VERSION in template, set default as ipv4 only\n\nFor some environments (include mine), ipv6 instructions in stack.sh does not work.\n\nChange-Id: I4b5c69f57191628664450330a08248aae05c2813\n'}]",0,875487,315539410972def9a7cdc3d555451bf02b67e932,6,2,1,35339,,,0,"Add IP_VERSION in template, set default as ipv4 only

For some environments (include mine), ipv6 instructions in stack.sh does not work.

Change-Id: I4b5c69f57191628664450330a08248aae05c2813
",git fetch https://review.opendev.org/openstack/devstack-vagrant refs/changes/87/875487/1 && git format-patch -1 --stdout FETCH_HEAD,"['Vagrantfile', 'puppet/modules/devstack/templates/local.erb', 'config.yaml.sample']",3,315539410972def9a7cdc3d555451bf02b67e932,ip_version,"# IP version to configure Neutron to create either an Pv4, IPv6, or dual-stack self-service project data-network by with either ip_version:4, ip_version:6, or ip_version:4+6 respectively. #ip_version: 4 ",,5,0
openstack%2Fkeystonemiddleware~master~Ib3edfdd087ed1d954f1ecf72a191138f8f1c46a1,openstack/keystonemiddleware,master,Ib3edfdd087ed1d954f1ecf72a191138f8f1c46a1,Remove six,MERGED,2023-06-27 17:03:42.000000000,2023-06-30 17:59:24.000000000,2023-06-30 17:58:31.000000000,"[{'_account_id': 597}, {'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 17:03:42.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_s3_token_middleware.py', 'keystonemiddleware/s3_token.py', 'keystonemiddleware/tests/unit/auth_token/test_memcache_crypt.py', 'keystonemiddleware/auth_token/_identity.py', 'keystonemiddleware/auth_token/_cache.py', 'keystonemiddleware/tests/unit/auth_token/base.py', 'keystonemiddleware/tests/unit/auth_token/test_connection_pool.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/tests/unit/test_oauth2_mtls_token_middleware.py', 'requirements.txt', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/tests/unit/test_oauth2_token_middleware.py', 'keystonemiddleware/auth_token/_memcache_crypt.py', 'keystonemiddleware/tests/unit/auth_token/test_auth.py', 'keystonemiddleware/audit/_api.py', 'keystonemiddleware/tests/unit/auth_token/test_cache.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/22408f8da0e8a14a1a24dc9237448e78a5673cf9', 'message': 'Remove six\n\nChange-Id: Ib3edfdd087ed1d954f1ecf72a191138f8f1c46a1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",3,887088,22408f8da0e8a14a1a24dc9237448e78a5673cf9,15,4,1,15334,,,0,"Remove six

Change-Id: Ib3edfdd087ed1d954f1ecf72a191138f8f1c46a1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/88/887088/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_s3_token_middleware.py', 'keystonemiddleware/s3_token.py', 'keystonemiddleware/tests/unit/auth_token/test_memcache_crypt.py', 'keystonemiddleware/auth_token/_identity.py', 'keystonemiddleware/auth_token/_cache.py', 'keystonemiddleware/tests/unit/auth_token/base.py', 'keystonemiddleware/tests/unit/auth_token/test_connection_pool.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/tests/unit/test_oauth2_mtls_token_middleware.py', 'requirements.txt', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/tests/unit/test_oauth2_token_middleware.py', 'keystonemiddleware/auth_token/_memcache_crypt.py', 'keystonemiddleware/tests/unit/auth_token/test_auth.py', 'keystonemiddleware/audit/_api.py', 'keystonemiddleware/tests/unit/auth_token/test_cache.py']",17,22408f8da0e8a14a1a24dc9237448e78a5673cf9,tox-4, token = uuid.uuid4().hex.encode() token = uuid.uuid4().hex.encode() token = uuid.uuid4().hex.encode() token = uuid.uuid4().hex.encode(),import six token = six.b(uuid.uuid4().hex) token = six.b(uuid.uuid4().hex) token = six.b(uuid.uuid4().hex) token = six.b(uuid.uuid4().hex),53,81
openstack%2Fcharm-neutron-api-plugin-ovn~master~Ia1f48d86330d6e357ae3b35ce28bbb036788ac4a,openstack/charm-neutron-api-plugin-ovn,master,Ia1f48d86330d6e357ae3b35ce28bbb036788ac4a,It sets “restart-trigger” key on neutron-plugin relation on upgrade-charm event.,MERGED,2023-06-29 09:14:02.000000000,2023-06-30 17:48:47.000000000,2023-06-30 17:48:47.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 09:14:02.000000000', 'files': ['unit_tests/test_lib_charm_openstack_ovn.py', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/84ec4ada233049b7e99f3ec929a2d0909116d0c7', 'message': 'It sets “restart-trigger” key on neutron-plugin relation on upgrade-charm event.\n\nWhen neutron-api-plugin-ovn charm is upgraded (juju refresh ...) some configuration parameters in ml2_conf.ini may have also updated.\nIt was observed that sometime those changes are not taken in to account by neutron service because it was not restarted after file content modification.\nThis change introduces rising of “restart-trigger” key on neutron-plugin relation databag when upgrade-charm event is generated.\nWith every new “charm-upgrade” event value for “restart-trigger” is updated: f.e. “restart-trigger cf2697c8-f5f0-44b5-8dae-32d893fb209c”.\nPrincipal charm “neutron-api” has implemented logic which triggers neutron service restart as soon as “restart-trigger” key value is changed.\n\nCloses-Bug: #2019798\nChange-Id: Ia1f48d86330d6e357ae3b35ce28bbb036788ac4a\n'}]",2,887258,84ec4ada233049b7e99f3ec929a2d0909116d0c7,9,3,1,36133,,,0,"It sets “restart-trigger” key on neutron-plugin relation on upgrade-charm event.

When neutron-api-plugin-ovn charm is upgraded (juju refresh ...) some configuration parameters in ml2_conf.ini may have also updated.
It was observed that sometime those changes are not taken in to account by neutron service because it was not restarted after file content modification.
This change introduces rising of “restart-trigger” key on neutron-plugin relation databag when upgrade-charm event is generated.
With every new “charm-upgrade” event value for “restart-trigger” is updated: f.e. “restart-trigger cf2697c8-f5f0-44b5-8dae-32d893fb209c”.
Principal charm “neutron-api” has implemented logic which triggers neutron service restart as soon as “restart-trigger” key value is changed.

Closes-Bug: #2019798
Change-Id: Ia1f48d86330d6e357ae3b35ce28bbb036788ac4a
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/58/887258/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_lib_charm_openstack_ovn.py', 'src/reactive/neutron_api_plugin_ovn_handlers.py', 'src/lib/charm/openstack/neutron_api_plugin_ovn.py', 'unit_tests/test_reactive_neutron_api_plugin_ovn_handlers.py']",4,84ec4ada233049b7e99f3ec929a2d0909116d0c7,bug/2019798," 'restart_neutron': ('restart-needed',), @mock.patch.object(handlers.reactive, 'endpoint_from_flag') @mock.patch.object(handlers.reactive, 'clear_flag') def test_restart_neutron(self, clear_flag, endpoint_from_flag): neutron_plugin = mock.MagicMock() endpoint_from_flag.return_value = neutron_plugin handlers.restart_neutron() neutron_plugin.request_restart.assert_called_once() neutron_plugin.request_restart.assert_called_once_with() clear_flag.assert_called_once() clear_flag.assert_called_once_with('restart-needed')",,45,0
openstack%2Fcharm-cinder~stable%2Fzed~Iaecae3c22db1f4f2309f73f8c6836e6c072b848b,openstack/charm-cinder,stable/zed,Iaecae3c22db1f4f2309f73f8c6836e6c072b848b,Render [service_user] only for identity-service relation,MERGED,2023-06-27 20:47:07.000000000,2023-06-30 17:45:49.000000000,2023-06-30 17:45:49.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 20:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/020fbeae36725c3c9d11dc5bb3b87f82ffa77b6a', 'message': 'Render [service_user] only for identity-service relation\n\nThe service token section [service_user] is not required when\ncinder-volume is deployed as a separate service. In other words\nit is not required for the identity-credentials relation.\n\nThe [service_user] section is nearly the same as the\n[keystone_authtoken] section, and the keystone_authtoken data\nis only produced for the IdentityServiceContext, therefore this\nchange will not render [service_user] for the\nIdentityCredentialsContext.\n\nCloses-Bug: #2024676\nChange-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b\n(cherry picked from commit ebbedcbf58660ce13823152d6943fee036af7e11)\n'}, {'number': 2, 'created': '2023-06-29 19:33:08.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/2356bf8967d657c9cf89993d0f8ab000d774c869', 'message': 'Render [service_user] only for identity-service relation\n\nThe service token section [service_user] is not required when\ncinder-volume is deployed as a separate service. In other words\nit is not required for the identity-credentials relation.\n\nThe [service_user] section is nearly the same as the\n[keystone_authtoken] section, and the keystone_authtoken data\nis only produced for the IdentityServiceContext, therefore this\nchange will not render [service_user] for the\nIdentityCredentialsContext.\n\nCloses-Bug: #2024676\nChange-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b\n(cherry picked from commit ebbedcbf58660ce13823152d6943fee036af7e11)\n'}]",1,887064,2356bf8967d657c9cf89993d0f8ab000d774c869,12,4,2,34275,,,0,"Render [service_user] only for identity-service relation

The service token section [service_user] is not required when
cinder-volume is deployed as a separate service. In other words
it is not required for the identity-credentials relation.

The [service_user] section is nearly the same as the
[keystone_authtoken] section, and the keystone_authtoken data
is only produced for the IdentityServiceContext, therefore this
change will not render [service_user] for the
IdentityCredentialsContext.

Closes-Bug: #2024676
Change-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b
(cherry picked from commit ebbedcbf58660ce13823152d6943fee036af7e11)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/64/887064/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,020fbeae36725c3c9d11dc5bb3b87f82ffa77b6a,bug/1992840,{% if keystone_authtoken -%}{% endif -%},,2,0
openstack%2Fnova~master~Ia03b8c864ac3f4a33ebbd8f94408336c77d3a284,openstack/nova,master,Ia03b8c864ac3f4a33ebbd8f94408336c77d3a284,Remove redundant check,NEW,2020-11-12 09:29:20.000000000,2023-06-30 17:43:32.000000000,,"[{'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-11-12 09:29:20.000000000', 'files': ['nova/conductor/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/85eccda249630dd29515a2cfa98d8155928e8958', 'message': ""Remove redundant check\n\n1. the comment is wrong, it's not the same host when rebuild\n2. the check between orig_image_ref and image_ref is done in compute\napi, we needn't check anymore\n\nChange-Id: Ia03b8c864ac3f4a33ebbd8f94408336c77d3a284\n""}]",6,762482,85eccda249630dd29515a2cfa98d8155928e8958,12,12,1,31412,,,0,"Remove redundant check

1. the comment is wrong, it's not the same host when rebuild
2. the check between orig_image_ref and image_ref is done in compute
api, we needn't check anymore

Change-Id: Ia03b8c864ac3f4a33ebbd8f94408336c77d3a284
",git fetch https://review.opendev.org/openstack/nova refs/changes/82/762482/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conductor/manager.py'],1,85eccda249630dd29515a2cfa98d8155928e8958,, # 1. Doing a rebuild (not evacuate) and specified a new image. if not evacuate: if orig_image_ref:, # 1. Doing a rebuild on the same host (not evacuate) and # specified a new image. if not evacuate and orig_image_ref != image_ref: if orig_image_ref and orig_image_ref != image_ref:,3,4
openstack%2Fcharm-cinder~stable%2Fyoga~Iaecae3c22db1f4f2309f73f8c6836e6c072b848b,openstack/charm-cinder,stable/yoga,Iaecae3c22db1f4f2309f73f8c6836e6c072b848b,Render [service_user] only for identity-service relation,MERGED,2023-06-27 20:47:31.000000000,2023-06-30 17:38:49.000000000,2023-06-30 17:38:49.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 20:47:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/d69027abca423365a82fd123e5c35ceaf5d81404', 'message': 'Render [service_user] only for identity-service relation\n\nThe service token section [service_user] is not required when\ncinder-volume is deployed as a separate service. In other words\nit is not required for the identity-credentials relation.\n\nThe [service_user] section is nearly the same as the\n[keystone_authtoken] section, and the keystone_authtoken data\nis only produced for the IdentityServiceContext, therefore this\nchange will not render [service_user] for the\nIdentityCredentialsContext.\n\nCloses-Bug: #2024676\nChange-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b\n(cherry picked from commit ebbedcbf58660ce13823152d6943fee036af7e11)\n'}, {'number': 2, 'created': '2023-06-29 19:33:34.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/6abdd75363b8b88d4d65de59f5eb31584998434b', 'message': 'Render [service_user] only for identity-service relation\n\nThe service token section [service_user] is not required when\ncinder-volume is deployed as a separate service. In other words\nit is not required for the identity-credentials relation.\n\nThe [service_user] section is nearly the same as the\n[keystone_authtoken] section, and the keystone_authtoken data\nis only produced for the IdentityServiceContext, therefore this\nchange will not render [service_user] for the\nIdentityCredentialsContext.\n\nCloses-Bug: #2024676\nChange-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b\n(cherry picked from commit ebbedcbf58660ce13823152d6943fee036af7e11)\n'}]",1,887065,6abdd75363b8b88d4d65de59f5eb31584998434b,12,4,2,34275,,,0,"Render [service_user] only for identity-service relation

The service token section [service_user] is not required when
cinder-volume is deployed as a separate service. In other words
it is not required for the identity-credentials relation.

The [service_user] section is nearly the same as the
[keystone_authtoken] section, and the keystone_authtoken data
is only produced for the IdentityServiceContext, therefore this
change will not render [service_user] for the
IdentityCredentialsContext.

Closes-Bug: #2024676
Change-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b
(cherry picked from commit ebbedcbf58660ce13823152d6943fee036af7e11)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/65/887065/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,d69027abca423365a82fd123e5c35ceaf5d81404,bug/1992840,{% if keystone_authtoken -%}{% endif -%},,2,0
openstack%2Fcharm-cinder~stable%2F2023.1~Iaecae3c22db1f4f2309f73f8c6836e6c072b848b,openstack/charm-cinder,stable/2023.1,Iaecae3c22db1f4f2309f73f8c6836e6c072b848b,Render [service_user] only for identity-service relation,MERGED,2023-06-27 20:48:54.000000000,2023-06-30 17:34:05.000000000,2023-06-30 17:34:05.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 20:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/92f9fa2287aac5e17abd1ea60143bb7c527ed3a6', 'message': 'Render [service_user] only for identity-service relation\n\nThe service token section [service_user] is not required when\ncinder-volume is deployed as a separate service. In other words\nit is not required for the identity-credentials relation.\n\nThe [service_user] section is nearly the same as the\n[keystone_authtoken] section, and the keystone_authtoken data\nis only produced for the IdentityServiceContext, therefore this\nchange will not render [service_user] for the\nIdentityCredentialsContext.\n\nCloses-Bug: #2024676\nChange-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b\n(cherry picked from commit ebbedcbf58660ce13823152d6943fee036af7e11)\n'}, {'number': 2, 'created': '2023-06-29 19:32:52.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/c29fcadd3454ded3eca0163a129f4afbb8efb7c6', 'message': 'Render [service_user] only for identity-service relation\n\nThe service token section [service_user] is not required when\ncinder-volume is deployed as a separate service. In other words\nit is not required for the identity-credentials relation.\n\nThe [service_user] section is nearly the same as the\n[keystone_authtoken] section, and the keystone_authtoken data\nis only produced for the IdentityServiceContext, therefore this\nchange will not render [service_user] for the\nIdentityCredentialsContext.\n\nCloses-Bug: #2024676\nChange-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b\n(cherry picked from commit ebbedcbf58660ce13823152d6943fee036af7e11)\n'}]",6,887066,c29fcadd3454ded3eca0163a129f4afbb8efb7c6,17,4,2,34275,,,0,"Render [service_user] only for identity-service relation

The service token section [service_user] is not required when
cinder-volume is deployed as a separate service. In other words
it is not required for the identity-credentials relation.

The [service_user] section is nearly the same as the
[keystone_authtoken] section, and the keystone_authtoken data
is only produced for the IdentityServiceContext, therefore this
change will not render [service_user] for the
IdentityCredentialsContext.

Closes-Bug: #2024676
Change-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b
(cherry picked from commit ebbedcbf58660ce13823152d6943fee036af7e11)
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/66/887066/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,92f9fa2287aac5e17abd1ea60143bb7c527ed3a6,bug/1992840,{% if keystone_authtoken -%}{% endif -%},,2,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ifffc043ce88de9e67b1fde4654ecaa97530687e2,openstack/tripleo-ansible,stable/wallaby,Ifffc043ce88de9e67b1fde4654ecaa97530687e2,Removed pin from pip and fixed testinfra package name,MERGED,2023-06-29 09:24:56.000000000,2023-06-30 17:27:18.000000000,2023-06-30 17:25:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}, {'_account_id': 34598}]","[{'number': 1, 'created': '2023-06-29 09:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0a9190add010c1df19b485c45026ff99df70daaf', 'message': 'Removed pin from pip and fixed testinfra package name\n\n* pin for pip version has been removed because it seems that the its ""old""\n  dependency resolver doesn\'t work as expected\n* testinfra package has been renamed to pytest-testinfra\n* replaced `--constraint` with `-r` during packages installation\n\nChange-Id: Ifffc043ce88de9e67b1fde4654ecaa97530687e2\nSigned-off-by: Roberto Alfieri <ralfieri@redhat.com>\n'}, {'number': 2, 'created': '2023-06-29 09:41:15.000000000', 'files': ['tests/test_molecule.py', 'zuul.d/playbooks/pre.yml', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ee5493709d40107e842cd1f53f2f96a3896c9d42', 'message': 'Removed pin from pip and fixed testinfra package name\n\n* pin for pip version has been removed because it seems that the its ""old""\n  dependency resolver doesn\'t work as expected\n* testinfra package has been renamed to pytest-testinfra\n* replaced `--constraint` with `-r` during packages installation\n* in `tests/test_molecule.py` removed redudant append in finally block\n\nChange-Id: Ifffc043ce88de9e67b1fde4654ecaa97530687e2\nSigned-off-by: Roberto Alfieri <ralfieri@redhat.com>\n'}]",2,887259,ee5493709d40107e842cd1f53f2f96a3896c9d42,12,4,2,35491,,,0,"Removed pin from pip and fixed testinfra package name

* pin for pip version has been removed because it seems that the its ""old""
  dependency resolver doesn't work as expected
* testinfra package has been renamed to pytest-testinfra
* replaced `--constraint` with `-r` during packages installation
* in `tests/test_molecule.py` removed redudant append in finally block

Change-Id: Ifffc043ce88de9e67b1fde4654ecaa97530687e2
Signed-off-by: Roberto Alfieri <ralfieri@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/887259/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/playbooks/pre.yml', 'molecule-requirements.txt']",2,0a9190add010c1df19b485c45026ff99df70daaf,fix-molecule-pip,pytest-testinfra,testinfra,3,3
openstack%2Fcharm-ceph-proxy~stable%2Fquincy.2~Ic4c19ccfc0ff42280634f5ba705c49ffb946799e,openstack/charm-ceph-proxy,stable/quincy.2,Ic4c19ccfc0ff42280634f5ba705c49ffb946799e,Add support for interim Ubuntu releases,MERGED,2023-04-25 16:59:46.000000000,2023-06-30 16:58:04.000000000,2023-06-30 16:58:04.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-25 16:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/33a27e5ba7725d3dc84bebf5d3d2e91bd2dd93de', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 2, 'created': '2023-04-25 17:05:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/62d3289071b7758e94564bafb0491e34ac6d8e4c', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 3, 'created': '2023-04-25 17:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/941088f691bba58c2121d5e0f50012ab4c480921', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 4, 'created': '2023-04-26 14:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/27dbfa74cbacdefb3c6ac0f6d0b38bc8aff7a253', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 5, 'created': '2023-04-26 16:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/ea880e86b163ea64f0074b65d3ca6994563fd86b', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 6, 'created': '2023-04-27 16:20:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/95d9727de1ee8e034daa9380c829b8df194d3305', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 7, 'created': '2023-04-27 22:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/c4101d474e2a27470bcd11a832e74bec7d5dc256', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 8, 'created': '2023-04-28 13:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/9a2a64095d20164b696d58a238b2e1f179ca44e7', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 9, 'created': '2023-06-01 15:09:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/ba815db2fbebaa5af2269510a269a56451767558', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 10, 'created': '2023-06-27 17:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/3f833050f44e37c3b1938e811eeb3e49e64f6529', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 11, 'created': '2023-06-27 18:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/be214fa5694a41a9a4f1e93fe251e54010e5a536', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}, {'number': 12, 'created': '2023-06-27 19:56:29.000000000', 'files': ['lib/charms_ceph/utils.py', 'osci.yaml', 'tests/bundles/lunar-antelope.yaml', '.gitreview', 'test-requirements.txt', 'config.yaml', 'tests/bundles/jammy-zed-ec.yaml', 'tests/bundles/jammy-zed.yaml', 'tests/bundles/kinetic-zed.yaml', 'charmhelpers/contrib/hahelpers/cluster.py', 'tests/bundles/lunar-antelope-ec.yaml', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/core/unitdata.py', 'pip.sh', 'charmhelpers/contrib/network/ip.py', 'tests/bundles/kinetic-zed-ec.yaml', 'tests/bundles/jammy-yoga.yaml', 'charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', '.zuul.yaml', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/ha/utils.py', 'charmhelpers/core/host_factory/ubuntu.py', 'charmhelpers/contrib/storage/linux/utils.py', 'tests/tests.yaml', 'charmhelpers/core/host.py', 'charmhelpers/contrib/openstack/ip.py', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'charmhelpers/contrib/charmsupport/nrpe.py', 'metadata.yaml', 'tox.ini', 'tests/bundles/jammy-yoga-ec.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/fc01acc7ea499b2aec848a925babdca0dbab4b47', 'message': 'Add support for interim Ubuntu releases\n\n- update bundles to include UCA pocket tests\n- update test configuration\n- update metadata to include kinetic and lunar\n- update snapcraft to allow run-on for kinetic and lunar\n\nChange-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e\n'}]",18,881494,fc01acc7ea499b2aec848a925babdca0dbab4b47,45,3,12,33717,,,0,"Add support for interim Ubuntu releases

- update bundles to include UCA pocket tests
- update test configuration
- update metadata to include kinetic and lunar
- update snapcraft to allow run-on for kinetic and lunar

Change-Id: Ic4c19ccfc0ff42280634f5ba705c49ffb946799e
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/94/881494/9 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/lunar-antelope-ec.yaml', 'tests/bundles/lunar-antelope.yaml', '.gitreview', 'test-requirements.txt', '.zuul.yaml', 'tests/bundles/jammy-antelope.yaml', 'charmcraft.yaml', 'config.yaml', 'metadata.yaml']",11,33a27e5ba7725d3dc84bebf5d3d2e91bd2dd93de,ceph-lunar,- kinetic - lunar,,657,5
openstack%2Fopenstack-ansible-os_neutron~master~I677494ad02d58f891b376b44230ce9d137ca34a9,openstack/openstack-ansible-os_neutron,master,I677494ad02d58f891b376b44230ce9d137ca34a9,Switch driver jobs to Jammy,MERGED,2023-05-25 11:38:46.000000000,2023-06-30 16:18:07.000000000,2023-06-30 16:16:11.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-25 11:38:46.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/542b22513fc137109a55cd42688a596d98b4629d', 'message': ""Switch driver jobs to Jammy\n\nWe're dropping Ubuntu Focal support early in 2023.2 release,\nso we need to switch all jobs to Jammy before this happens.\n\nChange-Id: I677494ad02d58f891b376b44230ce9d137ca34a9\n""}]",4,884361,542b22513fc137109a55cd42688a596d98b4629d,19,3,1,28619,,,0,"Switch driver jobs to Jammy

We're dropping Ubuntu Focal support early in 2023.2 release,
so we need to switch all jobs to Jammy before this happens.

Change-Id: I677494ad02d58f891b376b44230ce9d137ca34a9
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/61/884361/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,542b22513fc137109a55cd42688a596d98b4629d,osa/sunset-focal, name: openstack-ansible-deploy-aio_lxb_lxc-ubuntu-jammy nodeset: ubuntu-jammy name: openstack-ansible-deploy-aio_lxb_metal-ubuntu-jammy nodeset: ubuntu-jammy name: openstack-ansible-deploy-aio_ovs_lxc-ubuntu-jammy nodeset: ubuntu-jammy name: openstack-ansible-deploy-aio_metal_ovs-ubuntu-jammy nodeset: ubuntu-jammy, name: openstack-ansible-deploy-aio_lxb_lxc-ubuntu-focal nodeset: ubuntu-focal name: openstack-ansible-deploy-aio_lxb_metal-ubuntu-focal nodeset: ubuntu-focal name: openstack-ansible-deploy-aio_ovs_lxc-ubuntu-focal nodeset: ubuntu-focal name: openstack-ansible-deploy-aio_metal_ovs-ubuntu-focal nodeset: ubuntu-focal,16,16
openstack%2Fpython-manilaclient~master~I244a95b7133833eb4e9b298d17c297a5c43651eb,openstack/python-manilaclient,master,I244a95b7133833eb4e9b298d17c297a5c43651eb,Metadata for Share Access Rules,NEW,2022-06-23 17:37:55.000000000,2023-06-30 15:48:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 32594}]","[{'number': 1, 'created': '2022-06-23 17:37:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/077a894cdcc6098e2785249ee8b1bb9b5dea3afa', 'message': 'Metadata for Share Access Rules\n\nUses MetadataCapableResource and\nMetadataCapableManager (see [1]) to\nrefactor share access rules metadata/property\ncommands.\n\n[1] https://review.opendev.org/c/openstack/python-manilaclient/+/803424\n\nDepends-On: I412a92579fea8207a24e5d104cf1f9aec4d914d2\nPartially-Implements: bp/metadata-for-share-resources\nChange-Id: I244a95b7133833eb4e9b298d17c297a5c43651eb\n'}, {'number': 2, 'created': '2022-06-29 19:06:49.000000000', 'files': ['manilaclient/base.py', 'manilaclient/osc/v2/share_access_rules.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/unit/osc/v2/test_share_access_rules.py', 'manilaclient/tests/functional/base.py', 'manilaclient/v2/share_access_rules.py'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/d2a7b6c13621a9f36c31f28b170eaf5c6b216b60', 'message': 'Metadata for Share Access Rules\n\nUses MetadataCapableResource and\nMetadataCapableManager (see [1]) to\nrefactor share access rules metadata/property\ncommands.\n\n[1] https://review.opendev.org/c/openstack/python-manilaclient/+/803424\n\nDepends-On: I412a92579fea8207a24e5d104cf1f9aec4d914d2\nPartially-Implements: bp/metadata-for-share-resources\nChange-Id: I244a95b7133833eb4e9b298d17c297a5c43651eb\n'}]",1,847389,d2a7b6c13621a9f36c31f28b170eaf5c6b216b60,5,2,2,32594,,,0,"Metadata for Share Access Rules

Uses MetadataCapableResource and
MetadataCapableManager (see [1]) to
refactor share access rules metadata/property
commands.

[1] https://review.opendev.org/c/openstack/python-manilaclient/+/803424

Depends-On: I412a92579fea8207a24e5d104cf1f9aec4d914d2
Partially-Implements: bp/metadata-for-share-resources
Change-Id: I244a95b7133833eb4e9b298d17c297a5c43651eb
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/89/847389/2 && git format-patch -1 --stdout FETCH_HEAD,"['manilaclient/base.py', 'manilaclient/osc/v2/share_access_rules.py', 'manilaclient/v2/shell.py', 'manilaclient/tests/unit/osc/v2/test_share_access_rules.py', 'manilaclient/tests/functional/base.py', 'manilaclient/v2/share_access_rules.py']",6,077a894cdcc6098e2785249ee8b1bb9b5dea3afa,bp/metadata-for-share-resources,class ShareAccessRule(base.MetadataCapableResource):class ShareAccessRuleManager(base.MetadataCapableManager): resource_path = '/share-access-rules',"class ShareAccessRule(base.Resource):class ShareAccessRuleManager(base.ManagerWithFind): def set_metadata(self, access, metadata): """"""Set or update metadata for share access rule. :param share_access_rule: either share access rule object or text with its ID. :param metadata: A list of keys to be set. """""" body = {'metadata': metadata} access_id = base.getid(access) url = RESOURCES_METADATA_PATH % access_id return self._update(url, body, ""metadata"") @api_versions.wraps(""2.45"") def unset_metadata(self, access, keys): """"""Unset metadata on a share access rule. :param keys: A list of keys on this object to be unset :return: None if successful, else API response on failure """""" for k in keys: url = RESOURCE_METADATA_PATH % (base.getid(access), k) self._delete(url) @api_versions.wraps(""2.45"")",174,43
openstack%2Fmanila-tempest-plugin~master~Ibcf10922625a0c27af07098c92ce601cf0181189,openstack/manila-tempest-plugin,master,Ibcf10922625a0c27af07098c92ce601cf0181189,Add tempest tests for share access rules metadata,NEW,2022-06-23 14:39:00.000000000,2023-06-30 15:48:41.000000000,,"[{'_account_id': 22348}, {'_account_id': 32594}]","[{'number': 1, 'created': '2022-06-23 14:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/8e38218ccfe5419a5494bd2170d227d483972095', 'message': 'Add tempest tests for share access rules metadata\n\nRefactors positive and negative tests for share access rules  metadata api.\n\nPartially-implements: bp/metadata-for-share-resources\nDepends-On: I412a92579fea8207a24e5d104cf1f9aec4d914d2\nChange-Id: Ibcf10922625a0c27af07098c92ce601cf0181189\n'}, {'number': 2, 'created': '2022-06-23 20:38:32.000000000', 'files': ['manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/api/test_access_rules_metadata_negative.py', 'manila_tempest_tests/tests/api/test_access_rules_metadata.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/56fcb60b20f97119330d606fbbf93e6fce4837af', 'message': 'Add tempest tests for share access rules metadata\n\nRefactors positive and negative tests for share access rules  metadata api.\n\nPartially-implements: bp/metadata-for-share-resources\nDepends-On: I412a92579fea8207a24e5d104cf1f9aec4d914d2\nChange-Id: Ibcf10922625a0c27af07098c92ce601cf0181189\n'}]",2,847355,56fcb60b20f97119330d606fbbf93e6fce4837af,7,2,2,32594,,,0,"Add tempest tests for share access rules metadata

Refactors positive and negative tests for share access rules  metadata api.

Partially-implements: bp/metadata-for-share-resources
Depends-On: I412a92579fea8207a24e5d104cf1f9aec4d914d2
Change-Id: Ibcf10922625a0c27af07098c92ce601cf0181189
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/55/847355/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/scenario/manager_share.py', 'manila_tempest_tests/tests/api/test_access_rules_metadata_negative.py', 'manila_tempest_tests/tests/api/test_access_rules_metadata.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py']",4,8e38218ccfe5419a5494bd2170d227d483972095,bp/metadata-for-share-resources," ################# def _update_metadata(self, resource, resource_id, metadata=None, method=""post"", parent_resource=None, parent_id=None): if parent_resource is None: uri = ""%s/%s/metadata"" % (resource, resource_id) else: uri = (""%s/%s/%s/%s/metadata"" % (parent_resource, parent_id, resource, resource_id)) if metadata is None: metadata = {} post_body = {""metadata"": metadata} body = json.dumps(post_body) if method == ""post"": resp, body = self.post(uri, body) if method == ""put"": resp, body = self.put(uri, body) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) def set_metadata(self, resource_id, metadata=None, resource=None, parent_resource=None, parent_id=None): resource = 'shares' if resource is None else resource return self._update_metadata(resource, resource_id, metadata, method=""post"", parent_resource=parent_resource, parent_id=parent_id) def update_all_metadata(self, resource_id, metadata=None, resource=None, parent_resource=None, parent_id=None): resource = 'shares' if resource is None else resource return self._update_metadata(resource, resource_id, metadata, method=""put"", parent_resource=parent_resource, parent_id=parent_id) def delete_metadata(self, resource_id, key, resource=None, parent_resource=None, parent_id=None): resource = 'shares' if resource is None else resource if parent_resource is None: uri = ""%s/%s/metadata/%s"" % (resource, resource_id, key) else: uri = (""%s/%s/%s/%s/metadata/%s"" % (parent_resource, parent_id, resource, resource_id, key)) resp, body = self.delete(uri) self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body) def get_metadata(self, resource_id, resource=None, parent_resource=None, parent_id=None): resource = 'shares' if resource is None else resource if parent_resource is None: uri = ""%s/%s/metadata"" % (resource, resource_id) else: uri = (""%s/%s/%s/%s/metadata"" % (parent_resource, parent_id, resource, resource_id)) resp, body = self.get(uri) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) def get_metadata_item(self, resource_id, key, resource=None, parent_resource=None, parent_id=None): resource = 'shares' if resource is None else resource if parent_resource is None: uri = ""%s/%s/metadata/%s"" % (resource, resource_id, key) else: uri = (""%s/%s/%s/%s/metadata/%s"" % (parent_resource, parent_id, resource, resource_id, key)) resp, body = self.get(uri) self.expected_success(200, resp.status) return self._parse_resp(body)"," def update_access_metadata(self, access_id, metadata, version=LATEST_MICROVERSION): url = 'share-access-rules/%s/metadata' % access_id body = {""metadata"": metadata} resp, body = self.put(url, json.dumps(body), version=version) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body) def delete_access_metadata(self, access_id, key, version=LATEST_MICROVERSION): url = ""share-access-rules/%s/metadata/%s"" % (access_id, key) resp, body = self.delete(url, version=version) self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body) ",88,26
openstack%2Fmanila~master~I412a92579fea8207a24e5d104cf1f9aec4d914d2,openstack/manila,master,I412a92579fea8207a24e5d104cf1f9aec4d914d2,Metadata for Share Access Rules Resource,NEW,2022-06-22 19:22:01.000000000,2023-06-30 15:48:40.000000000,,"[{'_account_id': 22348}, {'_account_id': 32594}]","[{'number': 1, 'created': '2022-06-22 19:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e4ec6804ac30726c0a282db645d294b8fd55c518', 'message': 'Metadata for Share Access Rules Resource\n\nThis change adds metadata controller for Shares access rules resource.\nSome refactoring for metadata regarding router and policies.\n\nAPIImpact\nPartially-implements: bp/metadata-for-share-resources\n\nChange-Id: I412a92579fea8207a24e5d104cf1f9aec4d914d2\n'}, {'number': 2, 'created': '2022-06-23 14:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e775e3a77e6d9598327292f2bf35104004c4eae6', 'message': 'Metadata for Share Access Rules Resource\n\nThis change adds metadata controller for Shares access rules resource.\nSome refactoring for metadata regarding router and policies.\n\nAPIImpact\nPartially-implements: bp/metadata-for-share-resources\n\nChange-Id: I412a92579fea8207a24e5d104cf1f9aec4d914d2\n'}, {'number': 3, 'created': '2022-06-29 20:24:40.000000000', 'files': ['manila/db/api.py', 'manila/api/v2/router.py', 'manila/policies/share_access.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/api/v2/share_accesses.py', 'manila/api/v2/share_access_metadata.py', 'manila/api/v2/metadata.py', 'manila/exception.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/0d2b35dac808caffdc54c600d803c103f29a552b', 'message': 'Metadata for Share Access Rules Resource\n\nThis change adds metadata controller for Shares access rules resource.\nSome refactoring for metadata regarding router and policies.\n\nAPIImpact\nPartially-implements: bp/metadata-for-share-resources\n\nChange-Id: I412a92579fea8207a24e5d104cf1f9aec4d914d2\n'}]",0,847219,0d2b35dac808caffdc54c600d803c103f29a552b,26,2,3,32594,,,0,"Metadata for Share Access Rules Resource

This change adds metadata controller for Shares access rules resource.
Some refactoring for metadata regarding router and policies.

APIImpact
Partially-implements: bp/metadata-for-share-resources

Change-Id: I412a92579fea8207a24e5d104cf1f9aec4d914d2
",git fetch https://review.opendev.org/openstack/manila refs/changes/19/847219/3 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/api.py', 'manila/api/v2/router.py', 'manila/policies/share_access.py', 'manila/share/api.py', 'manila/tests/db/sqlalchemy/test_api.py', 'manila/db/sqlalchemy/api.py', 'manila/api/v2/share_accesses.py', 'manila/api/v2/share_access_metadata.py', 'manila/api/v2/metadata.py', 'manila/exception.py']",10,e4ec6804ac30726c0a282db645d294b8fd55c518,bp/metadata-for-share-resources,,"class ShareAccessMetadataNotFound(NotFound): message = _(""Share access rule metadata does not exist."") ",95,36
openstack%2Fmanila~master~I19558a7e3122ef3439c39c1e41661bdae1149944,openstack/manila,master,I19558a7e3122ef3439c39c1e41661bdae1149944,[WIP] Adds Multinode job with Ceph,ABANDONED,2023-01-04 16:13:03.000000000,2023-06-30 15:40:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-01-04 16:13:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fa5054fadfd4860a0a8730298a13a34c2d7f1220', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 2, 'created': '2023-01-04 18:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7f41cde977935abc49b2996a873d04d727b8566f', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 3, 'created': '2023-01-04 19:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b5f98c371f8bf395e19d724b9b30f9aed4a8128e', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 4, 'created': '2023-01-04 20:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4e325572f7d7959e7e70592a3808a8f00ff1a146', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 5, 'created': '2023-01-05 21:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/eb96a5ab7f95dac4b24a8ef7bd750201cf4cbf36', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 6, 'created': '2023-01-06 20:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6bf623f189e89374fad9728f1670f7beee87e5fd', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 7, 'created': '2023-01-11 20:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e6a8f87d9349323648dc986c7a7b45dba67a416a', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 8, 'created': '2023-01-11 20:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/117c306ef811fcf0afae0769c5c8292c6a88953d', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 9, 'created': '2023-01-11 20:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f7feeb5bc1273447ce94a18cc7208f7b5fb301fc', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 10, 'created': '2023-01-11 20:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/22c469f01b70720cd5d20e324e5d721f341ff2cc', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 11, 'created': '2023-01-11 20:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d105631beeaf3cf93d05541a871ef3f19f78e958', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 12, 'created': '2023-01-30 17:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1d8457b6a465100d885ffecb70127b43d2b6dc80', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 13, 'created': '2023-05-03 16:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/94f566808863fde1e0571712bd7770c328188cde', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 14, 'created': '2023-05-03 17:41:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/1ec82264de03139df559ed0d34fad7e3210bd003', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 15, 'created': '2023-05-03 19:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e5ef16d2044f01990dadbd8917db860fc4fec497', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 16, 'created': '2023-05-05 19:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/7463ed323e946bdc819b52e4a875f3e3f11c9f12', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 17, 'created': '2023-05-08 17:47:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/22752930315d892dd8b74874c84f8a0ed266c725', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 18, 'created': '2023-05-08 17:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c45cca25d90ea568a091e30bbccb189c0b0e2ab4', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 19, 'created': '2023-05-10 18:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/d2566f0a793d841a213dfbe52c8d2f48c783fe72', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 20, 'created': '2023-05-10 18:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/cc33c397eb0ddc6ab6040b4c868a705b14b30537', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 21, 'created': '2023-05-10 20:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5336da7e89c4c4e706c68e014ac7dfddf03cd460', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 22, 'created': '2023-05-11 14:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/5087f7a309c31dd0adf6fa21519f7764fe04a8bd', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 23, 'created': '2023-05-11 15:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c61f923e8357bb8f35d87418525d2d637fc700f3', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 24, 'created': '2023-05-11 18:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/bdb6987d06cf9b96dfed6b9e78ddeca5bce0cf3a', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 25, 'created': '2023-05-15 16:19:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e20cac71c4388d72144c7ccd77beb7d5089b4859', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 26, 'created': '2023-05-16 20:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/0c42f166dc34238d89eceeb8df9866e584901723', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 27, 'created': '2023-05-16 20:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8712944dfb8259ff3e64737b5c04198f332c4fd8', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 28, 'created': '2023-05-19 20:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6fbfc08491e1371e9081041517dc92ba112776b0', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 29, 'created': '2023-05-23 17:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4b86f83d629f37012cfdae3dfecfda23fbd5601e', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 30, 'created': '2023-05-23 17:44:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/91138cb7fe04fb2c2f2e9ff14afdbf620e9e032a', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}, {'number': 31, 'created': '2023-05-24 21:07:19.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/eb2e8133673c86fa32d02f213c5b2f96e63096cb', 'message': '[WIP] Adds Multinode job with Ceph\n\nAdds a multinode job to manila testing suite, with Ceph and manila on\nseparate nodes.\n\nDepends-On: I84249ae268dfe00a112c67e5170b679acb318a25\nChange-Id: I19558a7e3122ef3439c39c1e41661bdae1149944\n'}]",49,869235,eb2e8133673c86fa32d02f213c5b2f96e63096cb,171,1,31,32594,,,0,"[WIP] Adds Multinode job with Ceph

Adds a multinode job to manila testing suite, with Ceph and manila on
separate nodes.

Depends-On: I84249ae268dfe00a112c67e5170b679acb318a25
Change-Id: I19558a7e3122ef3439c39c1e41661bdae1149944
",git fetch https://review.opendev.org/openstack/manila refs/changes/35/869235/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,fa5054fadfd4860a0a8730298a13a34c2d7f1220,multinode-ceph, - manila-multinode-ceph: voting: false - job: name: manila-multinode-ceph parent: tempest-multinode-full-py3 timeout: 10800 vars: devstack_localrc: LIBS_FROM_GIT: python-manilaclient ENABLE_CEPH_MANILA: True MANILA_CEPH_DRIVER: cephfsnfs SHARE_DRIVER: manila.share.drivers.cephfs.driver.CephFSDriver MANILA_SERVICE_IMAGE_ENABLED: False MANILA_DEFAULT_SHARE_TYPE_EXTRA_SPECS: 'snapshot_support=True' MANILA_CONFIGURE_DEFAULT_TYPES: True MANILA_ALLOW_NAS_SERVER_PORTS_ON_HOST: True devstack_plugins: devstack-plugin-ceph: https://opendev.org/openstack/devstack-plugin-ceph manila: https://opendev.org/openstack/manila devstack_services: horizon: false tox_envlist: all tempest_plugins: - manila-tempest-plugin group-vars: subnode: devstack_localrc: REMOTE_CEPH: true,,29,0
openstack%2Fneutron~master~Ifd3a2a2e2009880a97a3dae1032670b720cbe52f,openstack/neutron,master,Ifd3a2a2e2009880a97a3dae1032670b720cbe52f,[OVN] Read the necessary configuration options in the OVN agent load,MERGED,2023-06-30 09:34:46.000000000,2023-06-30 15:27:27.000000000,2023-06-30 15:26:16.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-30 09:34:46.000000000', 'files': ['neutron/agent/ovn/ovn_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b92d133de66411b9444855cc97480891d7d7b7b2', 'message': '[OVN] Read the necessary configuration options in the OVN agent load\n\nIt is needed to load the configuarion options read in\n``register_core_common_config_opts``, that loads ""base_mac"", missing\nsince a previous commit.\n\nCloses-Bug: #2025466\nChange-Id: Ifd3a2a2e2009880a97a3dae1032670b720cbe52f\n'}]",0,887363,b92d133de66411b9444855cc97480891d7d7b7b2,10,6,1,16688,,,0,"[OVN] Read the necessary configuration options in the OVN agent load

It is needed to load the configuarion options read in
``register_core_common_config_opts``, that loads ""base_mac"", missing
since a previous commit.

Closes-Bug: #2025466
Change-Id: Ifd3a2a2e2009880a97a3dae1032670b720cbe52f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/887363/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/ovn_neutron_agent.py'],1,b92d133de66411b9444855cc97480891d7d7b7b2,bug/2025466, common_config.register_core_common_config_opts(),,1,0
openstack%2Fproject-config~master~I87adab91f84620434fb67b732cfb4cb73969f4f1,openstack/project-config,master,I87adab91f84620434fb67b732cfb4cb73969f4f1,Add repos for NebulOuS pilot cases,MERGED,2023-06-30 14:27:25.000000000,2023-06-30 15:25:48.000000000,2023-06-30 15:03:19.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-30 14:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/04827d05b558655210c9e93ec38a974872e21766', 'message': 'Add repos for NebulOuS pilot cases\n\nChange-Id: I87adab91f84620434fb67b732cfb4cb73969f4f1\n'}, {'number': 2, 'created': '2023-06-30 14:30:04.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/7b249612761e6e8e6b1caad6c92008257832f3bc', 'message': 'Add repos for NebulOuS pilot cases\n\nChange-Id: I87adab91f84620434fb67b732cfb4cb73969f4f1\n'}]",0,887391,7b249612761e6e8e6b1caad6c92008257832f3bc,8,2,2,30491,,,0,"Add repos for NebulOuS pilot cases

Change-Id: I87adab91f84620434fb67b732cfb4cb73969f4f1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/91/887391/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,04827d05b558655210c9e93ec38a974872e21766,nebulous-pilots,- project: nebulous/pilot-1-1-windmill description: >- Repository for publicly shared materials on NebulOuS pilot case 1.1: Windmill Maintenance. acl-config: /home/gerrit2/acls/nebulous/nebulous.config - project: nebulous/pilot-1-2-city description: >- Repository for publicly shared materials on NebulOuS pilot case 1.2: City Maintenance. acl-config: /home/gerrit2/acls/nebulous/nebulous.config - project: pilot-2-1-intralogistics description: >- Repository for publicly shared materials on NebulOuS pilot case 2.1: Intralogistics. acl-config: /home/gerrit2/acls/nebulous/nebulous.config - project: pilot-2-2-last-mile description: >- Repository for publicly shared materials on NebulOuS pilot case 2.2: Last Mile. acl-config: /home/gerrit2/acls/nebulous/nebulous.config - project: pilot-3-1-agriculture description: >- Repository for publicly shared materials on NebulOuS pilot case 3.1: Precision Agriculture. acl-config: /home/gerrit2/acls/nebulous/nebulous.config - project: pilot-4-1-emergency description: >- Repository for publicly shared materials on NebulOuS pilot case 4.1: Crisis Management. acl-config: /home/gerrit2/acls/nebulous/nebulous.config,,24,0
openstack%2Fkeystone~master~I99157759fe58df77d20cfc1c2b44f64fb31560a3,openstack/keystone,master,I99157759fe58df77d20cfc1c2b44f64fb31560a3,LDAP connection error handling,NEW,2022-10-03 18:51:30.000000000,2023-06-30 14:50:39.000000000,,"[{'_account_id': 597}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 32553}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-03 18:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/f5ba0a00db8687adff8da549002c27c0f6ffa712', 'message': 'Port LDAP error handling\n\nWith NC we have to handle our LDAP servers being less\nthan reliable, so this change ports over the connection pool\nerror handling from Train.\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\n'}, {'number': 2, 'created': '2022-10-03 20:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/a6c854f4dfd95d7522dcfe12d3a79aa622237fdc', 'message': 'Port LDAP error handling\n\nWith NC we have to handle our LDAP servers being less\nthan reliable, so this change ports over the connection pool\nerror handling from Train.\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\n'}, {'number': 3, 'created': '2022-10-04 14:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4cae1a9597f2bd155a2b7083dba6fd2cfc58f023', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\n'}, {'number': 4, 'created': '2022-10-07 16:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c706fe4bb108fafc867bf2e6f4495737fce7f5c4', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\n'}, {'number': 5, 'created': '2022-11-14 21:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/c6d7c2b5e8fdd8abb0907b00ef95654dd06ce3ac', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\n'}, {'number': 6, 'created': '2023-03-03 21:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/9732db3099a26032dbc9c5417a101853f81dfede', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\n'}, {'number': 7, 'created': '2023-03-04 02:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/84b18ed753227523513e14a0897daa90863d4ed5', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\n'}, {'number': 8, 'created': '2023-06-20 08:31:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/2035958d241ff4d13f38585c295c0936374ce1d0', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\n'}, {'number': 9, 'created': '2023-06-20 08:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e4a89a72c7018d04e31f2358766cc9093f10d46a', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nCloses-Bug: https://bugs.launchpad.net/keystone/+bug/1953627\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}, {'number': 10, 'created': '2023-06-20 08:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/15acff3a1cba0db19f2ef70a00a4ec27ccbfbaef', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nCloses-Bug: #1953627\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}, {'number': 11, 'created': '2023-06-20 09:22:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/572418eb8b7fee7829ce7508cad138abe5b6525d', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nCloses-Bug: #1953627\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}, {'number': 12, 'created': '2023-06-26 12:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e349cda941924a3bf7b78f25e38bdf9591559fab', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nCloses-Bug: #1953627\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}, {'number': 13, 'created': '2023-06-30 08:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ea8351aa19daad5dec8c119eefc17c2450db3546', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nCloses-Bug: #1953627\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}, {'number': 14, 'created': '2023-06-30 10:34:08.000000000', 'files': ['keystone/identity/backends/ldap/common.py', 'releasenotes/notes/handle-ldap-errors-10c03ce773ad1d59.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d2a9e97a362751e2351c4c857140748e3e10c8ca', 'message': 'LDAP connection error handling\n\nThis PS implements LDAP connection error handling.\n\nCloses-Bug: #1953627\n\nChange-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3\nSigned-off-by: Sven Kieske <kieske@osism.tech>\n'}]",28,860118,d2a9e97a362751e2351c4c857140748e3e10c8ca,63,9,14,34520,,,0,"LDAP connection error handling

This PS implements LDAP connection error handling.

Closes-Bug: #1953627

Change-Id: I99157759fe58df77d20cfc1c2b44f64fb31560a3
Signed-off-by: Sven Kieske <kieske@osism.tech>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/18/860118/12 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/backends/ldap/common.py', 'keystone/resource/core.py']",2,f5ba0a00db8687adff8da549002c27c0f6ffa712,fix_ldap_connection_pooling," 'connection_timeout',",,33,7
openstack%2Fdevstack-plugin-nfs~master~I5e94ec57c3cb1e48ab9518056227a0df6c76afaf,openstack/devstack-plugin-nfs,master,I5e94ec57c3cb1e48ab9518056227a0df6c76afaf,DNM: test jobs,NEW,2023-06-30 12:53:46.000000000,2023-06-30 14:42:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-30 12:53:46.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-nfs/commit/6116da24e0bbbd1b61003eaab0451c6e6e871c7e', 'message': 'DNM: test jobs\n\nChange-Id: I5e94ec57c3cb1e48ab9518056227a0df6c76afaf\n'}]",0,887375,6116da24e0bbbd1b61003eaab0451c6e6e871c7e,2,1,1,4523,,,0,"DNM: test jobs

Change-Id: I5e94ec57c3cb1e48ab9518056227a0df6c76afaf
",git fetch https://review.opendev.org/openstack/devstack-plugin-nfs refs/changes/75/887375/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,6116da24e0bbbd1b61003eaab0451c6e6e871c7e,,,,1,0
openstack%2Fironic~master~I483a2a913d030c9a05abdc17aa6250e790f8f68b,openstack/ironic,master,I483a2a913d030c9a05abdc17aa6250e790f8f68b,Disable irmc virtual media test_prepare_instance_with_secure_boot,ABANDONED,2023-06-30 04:24:01.000000000,2023-06-30 14:42:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-30 04:24:01.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3deba960af71b942a7c9ee7aba9eff5c84f0575', 'message': 'Disable irmc virtual media test_prepare_instance_with_secure_boot\n\nRelated-Bug: #2025424\nChange-Id: I483a2a913d030c9a05abdc17aa6250e790f8f68b\n'}]",1,887353,b3deba960af71b942a7c9ee7aba9eff5c84f0575,5,1,1,11655,,,0,"Disable irmc virtual media test_prepare_instance_with_secure_boot

Related-Bug: #2025424
Change-Id: I483a2a913d030c9a05abdc17aa6250e790f8f68b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/887353/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/irmc/test_boot.py'],1,b3deba960af71b942a7c9ee7aba9eff5c84f0575,," # NOTE(TheJulia): https://bugs.launchpad.net/ironic/+bug/2025424 # Disabling until we can figure out what exactly is going on. # @mock.patch.object(irmc_common, 'set_secure_boot_mode', spec_set=True, # autospec=True) # @mock.patch.object(irmc_boot.IRMCVirtualMediaBoot, # '_configure_vmedia_boot', spec_set=True, # autospec=True) # @mock.patch.object(irmc_boot, '_cleanup_vmedia_boot', spec_set=True, # autospec=True) # def test_prepare_instance_with_secure_boot(self, # mock_cleanup_vmedia_boot, # mock_configure_vmedia_boot, # mock_set_secure_boot_mode, # check_share_fs_mounted_mock): # self.node.driver_internal_info = {'root_uuid_or_disk_id': ""12312642""} # self.node.provision_state = states.DEPLOYING # self.node.target_provision_state = states.ACTIVE # self.node.deploy_interface = 'ramdisk' # self.node.instance_info = { # 'capabilities': { # ""secure_boot"": ""true"" # } # } # self.node.save() # with task_manager.acquire(self.context, self.node.uuid, # shared=False) as task: # task.driver.boot.prepare_instance(task) # mock_cleanup_vmedia_boot.assert_called_once_with(task) # mock_set_secure_boot_mode.assert_called_once_with(task.node, # enable=True) # mock_configure_vmedia_boot.assert_called_once_with(mock.ANY, task, # ""12312642"")"," @mock.patch.object(irmc_common, 'set_secure_boot_mode', spec_set=True, autospec=True) @mock.patch.object(irmc_boot.IRMCVirtualMediaBoot, '_configure_vmedia_boot', spec_set=True, autospec=True) @mock.patch.object(irmc_boot, '_cleanup_vmedia_boot', spec_set=True, autospec=True) def test_prepare_instance_with_secure_boot(self, mock_cleanup_vmedia_boot, mock_configure_vmedia_boot, mock_set_secure_boot_mode, check_share_fs_mounted_mock): self.node.driver_internal_info = {'root_uuid_or_disk_id': ""12312642""} self.node.provision_state = states.DEPLOYING self.node.target_provision_state = states.ACTIVE self.node.deploy_interface = 'ramdisk' self.node.instance_info = { 'capabilities': { ""secure_boot"": ""true"" } } self.node.save() with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: task.driver.boot.prepare_instance(task) mock_cleanup_vmedia_boot.assert_called_once_with(task) mock_set_secure_boot_mode.assert_called_once_with(task.node, enable=True) mock_configure_vmedia_boot.assert_called_once_with(mock.ANY, task, ""12312642"")",32,29
openstack%2Fironic~master~I84802be2e75751fe44ba2e1b60e60563cd276483,openstack/ironic,master,I84802be2e75751fe44ba2e1b60e60563cd276483,Fix multiple things in CI,MERGED,2023-06-30 12:46:00.000000000,2023-06-30 14:17:41.000000000,2023-06-30 14:15:49.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-30 12:46:00.000000000', 'files': ['ironic/tests/unit/db/base.py', 'ironic/tests/base.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f69e9da1d03494270c7855eeb89ff804106468c9', 'message': ""Fix multiple things in CI\n\nDisable irmc virtual media test_prepare_instance_with_secure_boot\nand test_clean_up_instance_with_secure_boot\nRelated-Bug: #2025424\n\nExplicitly close out test connection\nWhen creating a test database, we should follow the same\npattern we know to be good, where an orphaned handler is not\nleft in memory to close out a connection.\nChange connection style in dbTestBase to mirror how we do\ndatabase connections so they close out when we are done\nwith them.\n\nChange migrations timeout to be >60 seoncds\nIn local testing, I found the migrations tended to take an\naverage of 70 seconds. Granted, my test machine is old, and slow\nbut the performance is very similar to a busy cloud provider.\nAs such, increase the timeout to a larger value so we can enable\nthe double migration test again.\nAlso use BASE_TEST_TIMEOUT as time limit for unit tests, failing\nhard if that's passed.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: I84802be2e75751fe44ba2e1b60e60563cd276483\n""}]",1,887373,f69e9da1d03494270c7855eeb89ff804106468c9,13,3,1,23851,,,0,"Fix multiple things in CI

Disable irmc virtual media test_prepare_instance_with_secure_boot
and test_clean_up_instance_with_secure_boot
Related-Bug: #2025424

Explicitly close out test connection
When creating a test database, we should follow the same
pattern we know to be good, where an orphaned handler is not
left in memory to close out a connection.
Change connection style in dbTestBase to mirror how we do
database connections so they close out when we are done
with them.

Change migrations timeout to be >60 seoncds
In local testing, I found the migrations tended to take an
average of 70 seconds. Granted, my test machine is old, and slow
but the performance is very similar to a busy cloud provider.
As such, increase the timeout to a larger value so we can enable
the double migration test again.
Also use BASE_TEST_TIMEOUT as time limit for unit tests, failing
hard if that's passed.

Co-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>
Change-Id: I84802be2e75751fe44ba2e1b60e60563cd276483
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/887373/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/db/base.py', 'ironic/tests/base.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'tox.ini']",4,f69e9da1d03494270c7855eeb89ff804106468c9,fix-ci, BASE_TEST_TIMEOUT={env:BASE_TEST_TIMEOUT:60} MIGRATIONS_TIMEOUT={env:MIGRATIONS_TIMEOUT:180}, MIGRATIONS_TIMEOUT={env:MIGRATIONS_TIMEOUT:60} OS_TEST_TIMEOUT={env:OS_TEST_TIMEOUT:30},24,11
openstack%2Fneutron~master~I2f4f1f117febf15a67a3ee78e600aca5500dc66d,openstack/neutron,master,I2f4f1f117febf15a67a3ee78e600aca5500dc66d,Run FIPS functional and fullstack jobs on Centos 9 Stream,ABANDONED,2023-06-29 08:21:58.000000000,2023-06-30 13:30:58.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 08:21:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0cb5e6edc33d8b15b2612cf338216b3782c546cf', 'message': 'Run FIPS functional and fullstack jobs on Centos 9 Stream\n\nChange-Id: I2f4f1f117febf15a67a3ee78e600aca5500dc66d\n'}, {'number': 2, 'created': '2023-06-30 13:26:31.000000000', 'files': ['zuul.d/base.yaml', 'roles/configure_functional_tests/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/269c027f51e70eb4d48cf2772d109163f3925ca6', 'message': 'Run FIPS functional and fullstack jobs on Centos 9 Stream\n\nChange-Id: I2f4f1f117febf15a67a3ee78e600aca5500dc66d\n'}]",3,887254,269c027f51e70eb4d48cf2772d109163f3925ca6,8,2,2,11975,,,0,"Run FIPS functional and fullstack jobs on Centos 9 Stream

Change-Id: I2f4f1f117febf15a67a3ee78e600aca5500dc66d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/54/887254/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,0cb5e6edc33d8b15b2612cf338216b3782c546cf,fips-centos9, nodeset: devstack-single-node-centos-9-stream Functional testing for a FIPS enabled Centos 9 system nodeset: devstack-single-node-centos-9-stream Functional testing for a FIPS enabled Centos 9 system, nodeset: devstack-single-node-centos-8-stream Functional testing for a FIPS enabled Centos 8 system nodeset: devstack-single-node-centos-8-stream Functional testing for a FIPS enabled Centos 8 system,4,4
openstack%2Fopenstack-ansible-os_zun~stable%2Fzed~I3ee976062d9288536270f9b1d80750749174af22,openstack/openstack-ansible-os_zun,stable/zed,I3ee976062d9288536270f9b1d80750749174af22,Install kata containers from source,NEW,2023-05-21 20:10:51.000000000,2023-06-30 13:00:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-05-21 20:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/7b411ce788d486f3175fac1d3d1968260238412e', 'message': ""Install kata containers from source\n\nAt the moment there are no repositories exists for Ubuntu/Debian\nto install kata from. The only options are snap or source installation.\n\nTo avoid using snap, we're fetching kata release from github and\nproceeding with source installation.\n\nWith that we also update docker version to existing in the repos,\nas otherwise it get's 23.0.0 installed, which fails to startup\ndue to removal of standalone mode support.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/883194\nChange-Id: I3ee976062d9288536270f9b1d80750749174af22\n(cherry picked from commit 51e347dcb9905d8f6d1b85c38b72234fe8e49c94)\n""}, {'number': 2, 'created': '2023-05-22 07:49:08.000000000', 'files': ['tasks/zun_compute.yml', 'vars/redhat.yml', 'vars/debian-11.yml', 'vars/debian.yml', 'zuul.d/project.yaml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/856b8710f7961e846ced0d3bdffa0fecf911eca6', 'message': ""Install kata containers from source\n\nAt the moment there are no repositories exists for Ubuntu/Debian\nto install kata from. The only options are snap or source installation.\n\nTo avoid using snap, we're fetching kata release from github and\nproceeding with source installation.\n\nWith that we also update docker version to existing in the repos,\nas otherwise it get's 23.0.0 installed, which fails to startup\ndue to removal of standalone mode support.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/883715\nChange-Id: I3ee976062d9288536270f9b1d80750749174af22\n(cherry picked from commit 51e347dcb9905d8f6d1b85c38b72234fe8e49c94)\n""}]",4,883711,856b8710f7961e846ced0d3bdffa0fecf911eca6,16,3,2,28619,,,0,"Install kata containers from source

At the moment there are no repositories exists for Ubuntu/Debian
to install kata from. The only options are snap or source installation.

To avoid using snap, we're fetching kata release from github and
proceeding with source installation.

With that we also update docker version to existing in the repos,
as otherwise it get's 23.0.0 installed, which fails to startup
due to removal of standalone mode support.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/883715
Change-Id: I3ee976062d9288536270f9b1d80750749174af22
(cherry picked from commit 51e347dcb9905d8f6d1b85c38b72234fe8e49c94)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/11/883711/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/zun_compute.yml', 'vars/redhat.yml', 'vars/debian-11.yml', 'vars/debian.yml', 'zuul.d/project.yaml', 'defaults/main.yml']",6,7b411ce788d486f3175fac1d3d1968260238412e,,"zun_kata_package_version: ""3.1.0"" zun_kata_package_source: ""https://github.com/kata-containers/kata-containers/releases/download/{{ zun_kata_package_version }}/kata-static-{{ zun_kata_package_version }}-x86_64.tar.xz"" zun_kata_package_checksum: sha256:452cc850e021539c14359d016aba18ddba128f59aa9ab637738296d9b5cd78a0 zun_kata_enabled: ""True"" - ""/usr/bin/dockerd --group {{ zun_system_group_name }} -H tcp://{{ zun_docker_bind_host }}:{{ zun_docker_bind_port }} -H unix:///var/run/docker.sock --cluster-store etcd://{% for item in groups['zun_api'] %}{{ hostvars[item]['management_address'] }}:2379{% if not loop.last %},{% endif %}{% endfor %}{% if zun_kata_enabled %} --add-runtime kata=/opt/kata/bin/kata-runtime{% endif %}""","zun_kata_package_version: ""{{ _zun_kata_package_version }}"" zun_kata_enabled: ""{{ _zun_kata_enabled }}"" - ""/usr/bin/dockerd --group {{ zun_system_group_name }} -H tcp://{{ zun_docker_bind_host }}:{{ zun_docker_bind_port }} -H unix:///var/run/docker.sock --cluster-store etcd://{% for item in groups['zun_api'] %}{{ hostvars[item]['ansible_host'] }}:2379{% if not loop.last %},{% endif %}{% endfor %}{% if zun_kata_enabled %} --add-runtime kata=/usr/bin/kata-runtime{% endif %}""",68,105
openstack%2Fcharm-ceph-dashboard~master~I743e50663ee85c91af4962d7d100e2fd48efa48c,openstack/charm-ceph-dashboard,master,I743e50663ee85c91af4962d7d100e2fd48efa48c,Adds skip logic to non-leader units,MERGED,2023-06-01 10:28:22.000000000,2023-06-30 12:56:00.000000000,2023-06-30 12:56:00.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-01 10:28:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/2611ffb080c77623baa9b80b54f411dde6e111b2', 'message': 'Adds defer logic to non leader units until dashboard is enabled.\n\nPartial-Bug: #1952282\nChange-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c\n'}, {'number': 2, 'created': '2023-06-01 10:30:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/554b6314c5b9d71fbaed3892ea34751348e17362', 'message': 'Adds defer logic to non leader units until dashboard is enabled.\n\nPartial-Bug: #1952282\nChange-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 3, 'created': '2023-06-13 07:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/98c521ba82b11577de4d9de433354027797dfca7', 'message': 'Adds skip logic to non-leader units until dashboard is enabled from leader.\n\nPartial-Bug: #1952282\nChange-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 4, 'created': '2023-06-13 07:16:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/e35fc38e4c7d3ced31fa353535dc9a4e75eff5fa', 'message': 'Adds skip logic to non-leader units until dashboard is enabled by leader.\n\nPartial-Bug: #1952282\nChange-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 5, 'created': '2023-06-13 07:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/1b0ba9ea665b0407d5316ef67e96555832c254a4', 'message': 'Skip handle on non-leader units until dashboard is enabled by leader\n\nPartial-Bug: #1952282\nChange-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 6, 'created': '2023-06-13 07:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/8abcb4db31d77e366b778e21570697f2c21cce6f', 'message': 'Skip handling on non-leader units until dashboard is enabled\n\nPartial-Bug: #1952282\nChange-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 7, 'created': '2023-06-13 07:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/b8b5ca73efcd13aa1537a1cf63c8f050c5bb2856', 'message': 'Adds skip logic to non-leader units\n\nNon leader units will skip the event handling if Ceph dashboard\nis not enabled by the leader yet.\n\nPartial-Bug: #1952282\nChange-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 8, 'created': '2023-06-29 07:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/88782a1a87c5813f9509fe7dfcc2002a0dc2793a', 'message': 'Adds skip logic to non-leader units\n\nNon leader units will skip the event handling if Ceph dashboard\nis not enabled by the leader yet.\n\nPartial-Bug: #1952282\nChange-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 9, 'created': '2023-06-29 09:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/7756d42a3d0c592bfc603711210362d07f9d1ef5', 'message': 'Adds skip logic to non-leader units\n\nNon leader units will skip the event handling if Ceph dashboard\nis not enabled by the leader yet.\n\nSome test bundle fixes.\n\nPartial-Bug: #1952282\nChange-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c\n'}, {'number': 10, 'created': '2023-06-29 21:04:51.000000000', 'files': ['tests/bundles/kinetic-zed.yaml', 'tests/bundles/lunar-antelope.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/focal.yaml', 'tests/bundles/jammy-antelope.yaml', 'src/charm.py', 'tests/bundles/jammy-yoga.yaml', 'tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/f5684e545d5263552ee548507ddda4db6b6bf73b', 'message': 'Adds skip logic to non-leader units\n\nNon leader units will skip the event handling if Ceph dashboard\nis not enabled by the leader yet.\n\nSome test bundle fixes.\n\nPartial-Bug: #1952282\nChange-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c\n'}]",11,885009,f5684e545d5263552ee548507ddda4db6b6bf73b,37,3,10,34952,,,0,"Adds skip logic to non-leader units

Non leader units will skip the event handling if Ceph dashboard
is not enabled by the leader yet.

Some test bundle fixes.

Partial-Bug: #1952282
Change-Id: I743e50663ee85c91af4962d7d100e2fd48efa48c
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/09/885009/9 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,2611ffb080c77623baa9b80b54f411dde6e111b2,leanmean," def _configure_dashboard(self, event) -> None: if not ceph_utils.is_dashboard_enabled(): if self.unit.is_leader(): ceph_utils.mgr_enable_dashboard() else: logging.info(""Dashboard not enabled, deferring event."") return "," def _configure_dashboard(self, _) -> None: if self.unit.is_leader() and not ceph_utils.is_dashboard_enabled(): ceph_utils.mgr_enable_dashboard()",8,3
openstack%2Fswift~master~Ie63fdd8f3febe441963bc5755175878433a8c4c7,openstack/swift,master,Ie63fdd8f3febe441963bc5755175878433a8c4c7,Rename TestSource which is not a TestCase,MERGED,2023-06-30 10:32:33.000000000,2023-06-30 12:55:48.000000000,2023-06-30 12:54:42.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-30 10:32:33.000000000', 'files': ['test/unit/proxy/controllers/test_base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a82d9c58b6035dc3a69d4274919084d6ec6950c7', 'message': 'Rename TestSource which is not a TestCase\n\nHaving a class named TestSource that is not a TestCase causes pytest\nwarnings:\n\n  ""PytestCollectionWarning: cannot collect test class \'TestSource\'""\n\nChange-Id: Ie63fdd8f3febe441963bc5755175878433a8c4c7\nRelated-Change: Ie8e0560f90207eede1992c8665e4d8571a505580\n'}]",0,887365,a82d9c58b6035dc3a69d4274919084d6ec6950c7,8,2,1,7847,,,0,"Rename TestSource which is not a TestCase

Having a class named TestSource that is not a TestCase causes pytest
warnings:

  ""PytestCollectionWarning: cannot collect test class 'TestSource'""

Change-Id: Ie63fdd8f3febe441963bc5755175878433a8c4c7
Related-Change: Ie8e0560f90207eede1992c8665e4d8571a505580
",git fetch https://review.opendev.org/openstack/swift refs/changes/65/887365/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_base.py'],1,a82d9c58b6035dc3a69d4274919084d6ec6950c7,p-fix-test-source,"class FakeSource(object): source = FakeSource(( source1 = FakeSource([b'abcd', b'1234', None, source2 = FakeSource([b'efgh', b'5678', b'lots', None]) source3 = FakeSource([b'lots', b'more', b'data']) source1 = FakeSource([b'abcd', b'1234', b'abc', None], headers=headers) source2 = FakeSource([b'efgh5678'], headers=headers) source = FakeSource([], headers=headers, body=b'the cake is a lie')","class TestSource(object): source = TestSource(( source1 = TestSource([b'abcd', b'1234', None, source2 = TestSource([b'efgh', b'5678', b'lots', None]) source3 = TestSource([b'lots', b'more', b'data']) source1 = TestSource([b'abcd', b'1234', b'abc', None], headers=headers) source2 = TestSource([b'efgh5678'], headers=headers) source = TestSource([], headers=headers, body=b'the cake is a lie')",8,8
openstack%2Fcharm-ceph-rbd-mirror~master~I5bba54230febf09475dffef9c810a89dd542ac1a,openstack/charm-ceph-rbd-mirror,master,I5bba54230febf09475dffef9c810a89dd542ac1a,Bypass charm going into blocked due to a bug,NEW,2022-04-14 11:50:05.000000000,2023-06-30 12:55:00.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-14 11:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/4ce7bb9d5ba98da73b9704eaec277aa9f6b48b1a', 'message': 'Bypass charm going into blocked due to a bug\n\nAfter Octopus, the reporting about image states fails\nbecause of a permission issue in Ceph. This change\ndisables that status reporting to allow a deployment\nto be healthy even when some tools cannot query status.\n\nRelated-Bug: #1879749\nChange-Id: I5bba54230febf09475dffef9c810a89dd542ac1a\n'}, {'number': 2, 'created': '2022-04-14 11:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/e628224f99445d7199f4ba444ae5c254092fc830', 'message': 'Bypass charm going into blocked due to a bug\n\nAfter Octopus, the reporting about image states fails\nbecause of a permission issue in Ceph. This change\ndisables that status reporting to allow a deployment\nto be healthy even when some tools cannot query status.\n\nRelated-Bug: #1879749\nChange-Id: I5bba54230febf09475dffef9c810a89dd542ac1a\n'}, {'number': 3, 'created': '2022-04-14 12:05:06.000000000', 'files': ['unit_tests/test_lib_charm_openstack_ceph_rbd_mirror.py', 'src/lib/charm/openstack/ceph_rbd_mirror.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/30d92ecf01b512b61b5325325414cf3ec2cceb88', 'message': 'Bypass charm going into blocked due to a bug\n\nAfter Octopus, the reporting about image states fails\nbecause of a permission issue in Ceph. This change\ndisables that status reporting to allow a deployment\nto be healthy even when some tools cannot query status.\n\nRelated-Bug: #1879749\nChange-Id: I5bba54230febf09475dffef9c810a89dd542ac1a\n'}]",4,837857,30d92ecf01b512b61b5325325414cf3ec2cceb88,14,2,3,20634,,,0,"Bypass charm going into blocked due to a bug

After Octopus, the reporting about image states fails
because of a permission issue in Ceph. This change
disables that status reporting to allow a deployment
to be healthy even when some tools cannot query status.

Related-Bug: #1879749
Change-Id: I5bba54230febf09475dffef9c810a89dd542ac1a
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/57/837857/2 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/openstack/ceph_rbd_mirror.py'],1,4ce7bb9d5ba98da73b9704eaec277aa9f6b48b1a,," # Disabling blocked state until # https://bugs.launchpad.net/charm-ceph-rbd-mirror/+bug/1879749 # is resolved # for health, count in stats['pool_health'].items(): # if not pool_msg: # pool_msg = 'Pools ' # pool_msg += '{} ({}) '.format(health, count) # if health != 'OK': # status = 'blocked'"," for health, count in stats['pool_health'].items(): if not pool_msg: pool_msg = 'Pools ' pool_msg += '{} ({}) '.format(health, count) if health != 'OK': status = 'blocked'",10,6
openstack%2Fcharm-ceph-mon~master~Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947,openstack/charm-ceph-mon,master,Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947,Ensure broker requests are re-processed on upgrade-charm,MERGED,2022-06-29 20:08:22.000000000,2023-06-30 12:26:03.000000000,2023-06-30 12:26:03.000000000,"[{'_account_id': 2424}, {'_account_id': 15382}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-29 20:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a07123bd588a0536bfec8e58afbf8817e93a2e78', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nCloses-Bug: #1968369\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 2, 'created': '2022-06-29 20:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/5342a70bc7141efab66b8d3a78f6a06883898422', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nCloses-Bug: #1968369\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 3, 'created': '2022-06-30 16:00:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/00d2896222c2de8030fcd86dcfe0e4d74cdfb903', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nCloses-Bug: #1968369\nDepends-On: I475bd55117e3dc630514c92f6a76260e4f37ae0e\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 4, 'created': '2022-06-30 16:24:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/f2650ec1c526b862570e4120ccf9112119c11234', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nCloses-Bug: #1968369\nDepends-On: I475bd55117e3dc630514c92f6a76260e4f37ae0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/807\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 5, 'created': '2022-08-03 14:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/dfd212fa412056598d6662f49f4111539f8ddc98', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nCloses-Bug: #1968369\nDepends-On: I475bd55117e3dc630514c92f6a76260e4f37ae0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/807\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 6, 'created': '2022-08-23 14:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/2a846c2b17cac9b5fe25f98d8f25ab514754f466', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nDepends-On: https://review.opendev.org/c/openstack/charms.ceph/+/848311\nCloses-Bug: #1968369\nDepends-On: I475bd55117e3dc630514c92f6a76260e4f37ae0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/807\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 7, 'created': '2022-08-23 20:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/31730bdc38b54c085d9cafc42b89b8c618218469', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nDepends-On: https://review.opendev.org/c/openstack/charms.ceph/+/848311\nCloses-Bug: #1968369\nDepends-On: I475bd55117e3dc630514c92f6a76260e4f37ae0e\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/807\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 8, 'created': '2023-05-26 18:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/cdf261b05eeea64f77d81e098d878195392f7577', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nDepends-On: https://review.opendev.org/c/openstack/charms.ceph/+/848311\nDepends-On: I475bd55117e3dc630514c92f6a76260e4f37ae0e\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/807\nCloses-Bug: #1968369\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 9, 'created': '2023-05-26 20:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/6fc337148808211761660c9f9463810d34c72214', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nDepends-On: https://review.opendev.org/c/openstack/charms.ceph/+/848311\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/807\nCloses-Bug: #1968369\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 10, 'created': '2023-05-30 09:21:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/bdd93376e9a7aaae80d025cf1e4400c9dcfea75c', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nDepends-On: https://review.opendev.org/c/openstack/charms.ceph/+/848311\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1066\nCloses-Bug: #1968369\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 11, 'created': '2023-06-27 18:03:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/087d3cc448f76e285aa28e58c6c38145e86da926', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nDepends-On: https://review.opendev.org/c/openstack/charms.ceph/+/848311\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1066\nCloses-Bug: #1968369\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}, {'number': 12, 'created': '2023-06-29 22:58:57.000000000', 'files': ['src/ceph_hooks.py', 'tests/tests.yaml', 'unit_tests/test_ceph_hooks.py', 'src/ceph_client.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/88d37461dc6ce296af1a71ef5811844a4aee7073', 'message': 'Ensure broker requests are re-processed on upgrade-charm\n\nWhen broker-request caching was added, it broke functionality\nthat ensured that clients were updated on charm-upgrade, this\nchange enables a bypass of that cache functionality and uses\nit to re-process broker requests in the upgrade-charm hook.\n\nDepends-On: https://review.opendev.org/c/openstack/charms.ceph/+/848311\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1066\nCloses-Bug: #1968369\nChange-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947\n'}]",23,848186,88d37461dc6ce296af1a71ef5811844a4aee7073,65,5,12,20634,,,0,"Ensure broker requests are re-processed on upgrade-charm

When broker-request caching was added, it broke functionality
that ensured that clients were updated on charm-upgrade, this
change enables a bypass of that cache functionality and uses
it to re-process broker requests in the upgrade-charm hook.

Depends-On: https://review.opendev.org/c/openstack/charms.ceph/+/848311
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1066
Closes-Bug: #1968369
Change-Id: Ibdad1fd5976fdf2d5f3384f1b120b0d5dda34947
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/86/848186/4 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'unit_tests/test_ceph_hooks.py']",2,a07123bd588a0536bfec8e58afbf8817e93a2e78,bug/1968369," mock_notify_client.assert_called_once_with(reprocess_broker_requests=True) mock_notify_radosgws.assert_called_once_with(reprocess_broker_requests=True) 'arelid', 'aunit/0', add_legacy_response=True, force=False) _mds_relation_joined.assert_called_once_with( relid='arelid', unit='aunit/0', reprocess_broker_requests=False) mock_rbd_mirror_relation.assert_called_once_with( relid='arelid', unit='aunit', recurse=False, reprocess_broker_requests=False) 'rel1', 'glance/0', add_legacy_response=True, force=False) 'rbd-mirror:51', 'ceph-rbd-mirror/0', recurse=True, force=False)"," mock_notify_client.assert_called_once_with() mock_notify_radosgws.assert_called_once_with() 'arelid', 'aunit/0', add_legacy_response=True) _mds_relation_joined.assert_called_once_with(relid='arelid', unit='aunit/0') mock_rbd_mirror_relation.assert_called_once_with(relid='arelid', unit='aunit', recurse=False) 'rel1', 'glance/0', add_legacy_response=True) 'rbd-mirror:51', 'ceph-rbd-mirror/0', recurse=True)",59,37
openstack%2Fneutron~stable%2Fwallaby~I34bb6f178c314907bdf9f76789777f6736938b67,openstack/neutron,stable/wallaby,I34bb6f178c314907bdf9f76789777f6736938b67,[OVN][Trunk] Add port binding info on subport when parent is bound,MERGED,2023-06-27 08:26:46.000000000,2023-06-30 12:13:35.000000000,2023-06-30 12:12:10.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 08:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c9e3d5a48233f3e3c317edf90c93b73b9a8778d', 'message': ""[OVN][Trunk] Add port binding info on subport when parent is bound\n\nThe host ID and VIF details are added on the subport when the trunk is\ncreated, if it's created when it's not attached to any VM this fields\nwill remain empty and be filled on the parent port when it gets bound\nto a host, but there's no callback to add this info on the subport.\n\nConflicts:\n    neutron/services/trunk/drivers/ovn/trunk_driver.py\n\nCloses-Bug: #2018289\nCloses-Bug: #2024160\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n(cherry picked from commit 955e621167987626806128d259a29d4e62acf102)\n(cherry picked from commit 744d364141a8efc10590367a5071eebf34bb0827)\n""}, {'number': 2, 'created': '2023-06-27 15:53:40.000000000', 'files': ['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2341136694e379d140f2d68bf7d333b6fb3802f', 'message': ""[OVN][Trunk] Add port binding info on subport when parent is bound\n\nThe host ID and VIF details are added on the subport when the trunk is\ncreated, if it's created when it's not attached to any VM this fields\nwill remain empty and be filled on the parent port when it gets bound\nto a host, but there's no callback to add this info on the subport.\n\nConflicts:\n    neutron/services/trunk/drivers/ovn/trunk_driver.py\n\nCloses-Bug: #2018289\nCloses-Bug: #2024160\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n(cherry picked from commit 955e621167987626806128d259a29d4e62acf102)\n(cherry picked from commit 744d364141a8efc10590367a5071eebf34bb0827)\n""}]",2,887022,a2341136694e379d140f2d68bf7d333b6fb3802f,14,3,2,16688,,,0,"[OVN][Trunk] Add port binding info on subport when parent is bound

The host ID and VIF details are added on the subport when the trunk is
created, if it's created when it's not attached to any VM this fields
will remain empty and be filled on the parent port when it gets bound
to a host, but there's no callback to add this info on the subport.

Conflicts:
    neutron/services/trunk/drivers/ovn/trunk_driver.py

Closes-Bug: #2018289
Closes-Bug: #2024160
Change-Id: I34bb6f178c314907bdf9f76789777f6736938b67
(cherry picked from commit 955e621167987626806128d259a29d4e62acf102)
(cherry picked from commit 744d364141a8efc10590367a5071eebf34bb0827)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/22/887022/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']",3,0c9e3d5a48233f3e3c317edf90c93b73b9a8778d,bug/2018289,"from neutron_lib.api.definitions import portbindingsfrom neutron_lib.db import api as db_apifrom neutron.objects import ports as port_obj from neutron.services.trunk import plugin as trunk_plugin from neutron.tests.functional import base def setUp(self, **kwargs): super().setUp(**kwargs) with self.port(subnet=subnet, device_owner='compute:nova') as parent_port: def _verify_trunk_info(self, trunk, has_items, host=''): # Check the subport binding. pb = port_obj.PortBinding.get_object( self.context, port_id=subport['port_id'], host=host) self.assertEqual(n_consts.PORT_STATUS_ACTIVE, pb.status) self.assertEqual(host, pb.host) def _bind_port(self, port_id, host): with db_api.CONTEXT_WRITER.using(self.context): pb = port_obj.PortBinding.get_object(self.context, port_id=port_id, host='') pb.delete() port_obj.PortBinding(self.context, port_id=port_id, host=host, vif_type=portbindings.VIF_TYPE_OVS).create() # Bind parent port. That will trigger the binding of the # trunk subports too, using the same host ID. self._bind_port(trunk['port_id'], 'host1') self.mech_driver.set_port_status_up(trunk['port_id']) self._verify_trunk_info(new_trunk, has_items=True, host='host1') # Bind parent port. self._bind_port(trunk['port_id'], 'host1') self.mech_driver.set_port_status_up(trunk['port_id']) self._verify_trunk_info(trunk, has_items=True, host='host1') ","from neutron.services.trunk import plugin as trunk_plugin from neutron.tests.functional import basefrom neutron_lib.objects import registry as obj_reg def setUp(self): super(TestOVNTrunkDriver, self).setUp() with self.port(subnet=subnet) as parent_port: revision_number = row.external_ids[ ovn_const.OVN_REV_NUM_EXT_ID_KEY] 'revision_number': revision_number, def _verify_trunk_info(self, trunk, has_items): 'revision_number': '2', # Check that the subport has the binding is active. binding = obj_reg.load_class('PortBinding').get_object( self.context, port_id=subport['port_id'], host='') self.assertEqual(n_consts.PORT_STATUS_ACTIVE, binding['status'])",62,20
openstack%2Fnova~master~I4a6b56c5619fdf972193c5c78aa8ce5a417e532e,openstack/nova,master,I4a6b56c5619fdf972193c5c78aa8ce5a417e532e,Skip useless qemu-img convert when snapshotting,NEW,2022-08-02 12:55:25.000000000,2023-06-30 12:10:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-02 12:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b057072da2ec58f99df0703e432dcb8c928360e8', 'message': ""Skip useless qemu-img convert when snapshotting\n\nWhen a qcow2 snapshot is created from an instance running off a raw\ndisk image, the resulting .delta file is a qcow2 file that doesn't have\na backing file. In this case, and when no compression is needed, the\nqemu-img convert operation performed on the .delta file is not needed\n(in our tests, the qemu-img convert in this case reduces the size of the\nresulting image by a small fraction).\n\nWith this patch, if the image we extract a snapshot off doesn't have a\nbacking file and we don't want compression and the image input format is\nthe same as the image output format, the qemu-img convert call\nis replaced by a os.rename call to get the snapshot.\n\nChange-Id: I4a6b56c5619fdf972193c5c78aa8ce5a417e532e\n""}, {'number': 2, 'created': '2023-06-30 08:35:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/19e2a0b8667ca0a895f9be4d9cd506ca924f57ae', 'message': ""Skip useless qemu-img convert when snapshotting\n\nWhen a qcow2 snapshot is created from an instance running off a raw\ndisk image, the resulting .delta file is a qcow2 file that doesn't have\na backing file. In this case, and when no compression is needed, the\nqemu-img convert operation performed on the .delta file is not needed\n(in our tests, the qemu-img convert in this case reduces the size of the\nresulting image by a small fraction).\n\nWith this patch, if the image we extract a snapshot off doesn't have a\nbacking file and we don't want compression and the image input format is\nthe same as the image output format, the qemu-img convert call\nis replaced by a os.rename call to get the snapshot.\n\nChange-Id: I4a6b56c5619fdf972193c5c78aa8ce5a417e532e\n""}, {'number': 3, 'created': '2023-06-30 08:50:32.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/849f16d777646b7257e9c41af0394964e28fb9d4', 'message': ""Skip useless qemu-img convert when snapshotting\n\nWhen a qcow2 snapshot is created from an instance running off a raw\ndisk image, the resulting .delta file is a qcow2 file that doesn't have\na backing file. In this case, and when no compression is needed, the\nqemu-img convert operation performed on the .delta file is not needed\n(in our tests, the qemu-img convert in this case reduces the size of the\nresulting image by a small fraction).\n\nWith this patch, if the image we extract a snapshot off doesn't have a\nbacking file and we don't want compression and the image input format is\nthe same as the image output format, the qemu-img convert call\nis replaced by a shutil.move call to get the snapshot.\n\nChange-Id: I4a6b56c5619fdf972193c5c78aa8ce5a417e532e\n""}]",0,851854,849f16d777646b7257e9c41af0394964e28fb9d4,11,1,3,9642,,,0,"Skip useless qemu-img convert when snapshotting

When a qcow2 snapshot is created from an instance running off a raw
disk image, the resulting .delta file is a qcow2 file that doesn't have
a backing file. In this case, and when no compression is needed, the
qemu-img convert operation performed on the .delta file is not needed
(in our tests, the qemu-img convert in this case reduces the size of the
resulting image by a small fraction).

With this patch, if the image we extract a snapshot off doesn't have a
backing file and we don't want compression and the image input format is
the same as the image output format, the qemu-img convert call
is replaced by a shutil.move call to get the snapshot.

Change-Id: I4a6b56c5619fdf972193c5c78aa8ce5a417e532e
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/851854/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_utils.py', 'nova/virt/libvirt/utils.py']",2,b057072da2ec58f99df0703e432dcb8c928360e8,," has_backing_file = get_disk_backing_file(disk_path) if compress or has_backing_file or dest_fmt != source_fmt: images.convert_image(disk_path, out_path, source_fmt, dest_fmt, compress=compress) else: os.rename(disk_path, out_path)"," images.convert_image(disk_path, out_path, source_fmt, dest_fmt, compress=compress)",61,20
openstack%2Fpython-openstackclient~master~I2423fc31d94f85aeefc7b0a205dfb38829417a29,openstack/python-openstackclient,master,I2423fc31d94f85aeefc7b0a205dfb38829417a29,(wip) Refactor network fakes to sdk properties PART6,NEW,2022-06-24 09:20:23.000000000,2023-06-30 12:07:48.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-24 09:20:23.000000000', 'files': ['openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_network.py', 'openstackclient/tests/unit/network/v2/test_network_agent.py', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/security_group.py', 'openstackclient/network/v2/security_group_rule.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'openstackclient/tests/unit/network/v2/test_security_group_rule_network.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/tests/unit/network/v2/test_l3_conntrack_helper.py', 'openstackclient/tests/unit/network/v2/test_network_rbac.py', 'openstackclient/tests/unit/network/v2/test_router.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/cc99547e5ff0a37ac99fde143d4c8dee776ac438', 'message': '(wip) Refactor network fakes to sdk properties PART6\n\nIncluded resources:\nrouter\nsecurity_group\nsecurity_group_rule\n\nChange-Id: I2423fc31d94f85aeefc7b0a205dfb38829417a29\n'}]",1,847553,cc99547e5ff0a37ac99fde143d4c8dee776ac438,2,1,1,32667,,,0,"(wip) Refactor network fakes to sdk properties PART6

Included resources:
router
security_group
security_group_rule

Change-Id: I2423fc31d94f85aeefc7b0a205dfb38829417a29
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/53/847553/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/network/v2/router.py', 'openstackclient/tests/unit/network/v2/test_floating_ip_network.py', 'openstackclient/tests/unit/network/v2/test_network_agent.py', 'openstackclient/tests/unit/network/v2/test_port.py', 'openstackclient/network/v2/security_group.py', 'openstackclient/network/v2/security_group_rule.py', 'openstackclient/tests/unit/compute/v2/test_server.py', 'openstackclient/tests/unit/network/v2/test_security_group_network.py', 'openstackclient/tests/unit/network/v2/test_security_group_rule_network.py', 'openstackclient/tests/unit/network/v2/fakes.py', 'openstackclient/tests/unit/network/v2/test_l3_conntrack_helper.py', 'openstackclient/tests/unit/network/v2/test_network_rbac.py', 'openstackclient/tests/unit/network/v2/test_router.py']",13,cc99547e5ff0a37ac99fde143d4c8dee776ac438,rafactor-to-sdk-properties," _router = network_fakes.create_one_router(attrs={'port': _port.id}) _router = network_fakes.create_one_router(attrs={'subnet': _subnet.id}) new_router = network_fakes.create_one_router() 'created_at', 'flavor_id', 'revision_number', 'updated_at', router.AdminStateColumn(new_router.is_admin_state_up), new_router.created_at, new_router.is_distributed, new_router.flavor_id, new_router.is_ha, new_router.revision_number, new_router.updated_at, _routers = network_fakes.create_routers(count=2) network_fakes.get_routers(self._routers)) routers = network_fakes.create_routers(count=3) router.AdminStateColumn(r.is_admin_state_up), r.is_distributed, r.is_ha, _routers = network_fakes.create_routers({ _router = network_fakes.create_one_router(attrs={'port': _port.id}) _router = network_fakes.create_one_router(attrs={'subnet': _subnet.id}) _router = network_fakes.create_one_router() _router = network_fakes.create_one_router() _router = network_fakes.create_one_router( _testrouter = network_fakes.create_one_router( router = network_fakes.create_one_router() router = network_fakes.create_one_router() _router = network_fakes.create_one_router() 'created_at', 'flavor_id', 'revision_number', 'updated_at', router.AdminStateColumn(_router.is_admin_state_up), _router.created_at, _router.is_distributed, _router.flavor_id, _router.is_ha, _router.revision_number, _router.updated_at _router = network_fakes.create_one_router({ _router = network_fakes.create_one_router({'routes': None}) self._testrouter = network_fakes.create_one_router( router = network_fakes.create_one_router() router = network_fakes.create_one_router("," _router = network_fakes.FakeRouter.create_one_router( attrs={'port': _port.id}) _router = network_fakes.FakeRouter.create_one_router( attrs={'subnet': _subnet.id}) new_router = network_fakes.FakeRouter.create_one_router() router.AdminStateColumn(new_router.admin_state_up), new_router.distributed, new_router.ha, _routers = network_fakes.FakeRouter.create_routers(count=2) network_fakes.FakeRouter.get_routers(self._routers)) routers = network_fakes.FakeRouter.create_routers(count=3) router.AdminStateColumn(r.admin_state_up), r.distributed, r.ha, _routers = network_fakes.FakeRouter.create_routers({ _router = network_fakes.FakeRouter.create_one_router( attrs={'port': _port.id}) _router = network_fakes.FakeRouter.create_one_router( attrs={'subnet': _subnet.id}) _router = network_fakes.FakeRouter.create_one_router() _router = network_fakes.FakeRouter.create_one_router() _router = network_fakes.FakeRouter.create_one_router( _testrouter = network_fakes.FakeRouter.create_one_router( router = network_fakes.FakeRouter.create_one_router() router = network_fakes.FakeRouter.create_one_router() _router = network_fakes.FakeRouter.create_one_router() router.AdminStateColumn(_router.admin_state_up), _router.distributed, _router.ha, _router = network_fakes.FakeRouter.create_one_router({ _router = network_fakes.FakeRouter.create_one_router({'routes': None}) self._testrouter = network_fakes.FakeRouter.create_one_router( router = network_fakes.FakeRouter.create_one_router() router = network_fakes.FakeRouter.create_one_router(",337,338
openstack%2Fkolla~stable%2F2023.1~I9f40167fed9412b3f33f82e2f97f353275431292,openstack/kolla,stable/2023.1,I9f40167fed9412b3f33f82e2f97f353275431292,Use erlang-25 from copr on aarch64,MERGED,2023-06-27 12:02:03.000000000,2023-06-30 11:09:41.000000000,2023-06-30 11:08:42.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-27 12:02:03.000000000', 'files': ['docker/base/hrw-copr-erlang-for-rabbitmq.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/91a4079d84cec7ea384b301b5ba0cb79db495503', 'message': 'Use erlang-25 from copr on aarch64\n\nChange-Id: I9f40167fed9412b3f33f82e2f97f353275431292\n(cherry picked from commit 51675bb232f0c4826ff74351b68c1e16a1893545)\n'}]",6,886964,91a4079d84cec7ea384b301b5ba0cb79db495503,36,4,1,22629,,,0,"Use erlang-25 from copr on aarch64

Change-Id: I9f40167fed9412b3f33f82e2f97f353275431292
(cherry picked from commit 51675bb232f0c4826ff74351b68c1e16a1893545)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/886964/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/hrw-copr-erlang-for-rabbitmq.repo'],1,91a4079d84cec7ea384b301b5ba0cb79db495503,,baseurl=https://download.copr.fedorainfracloud.org/results/hrw/erlang-25-for-rabbitmq/centos-stream-$releasever-$basearch/gpgkey=https://download.copr.fedorainfracloud.org/results/hrw/erlang-25-for-rabbitmq/pubkey.gpg,baseurl=https://download.copr.fedorainfracloud.org/results/hrw/erlang-for-rabbitmq/centos-stream-$releasever-$basearch/gpgkey=https://download.copr.fedorainfracloud.org/results/hrw/erlang-for-rabbitmq/pubkey.gpg,2,2
openstack%2Fneutron~stable%2Fvictoria~I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5,openstack/neutron,stable/victoria,I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5,[OVN][FT] Mech driver stop accessing DB at exit,MERGED,2023-06-27 11:40:43.000000000,2023-06-30 10:26:59.000000000,2023-06-30 10:25:45.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 11:40:43.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1a9b5aca13bec67cc6d4d8a0dd7978044cb726a6', 'message': '[OVN][FT] Mech driver stop accessing DB at exit\n\n""OVNMechanismDriver._clean_hash_ring"" is called at exit. Because the\nSQL connection is already closed, an exception is logged. This patch\nmocks this method and avoids the OVN FTs to log this message.\n\nCloses-Bug: #1919352\n\nChange-Id: I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5\n(cherry picked from commit 92a4db01fefb3fe224be920abf372436b8e02c8e)\n(cherry picked from commit 0fb614046f7bede7f524f4ee85d26e3b0f087df2)\n'}]",4,886962,1a9b5aca13bec67cc6d4d8a0dd7978044cb726a6,15,4,1,13861,,,0,"[OVN][FT] Mech driver stop accessing DB at exit

""OVNMechanismDriver._clean_hash_ring"" is called at exit. Because the
SQL connection is already closed, an exception is logged. This patch
mocks this method and avoids the OVN FTs to log this message.

Closes-Bug: #1919352

Change-Id: I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5
(cherry picked from commit 92a4db01fefb3fe224be920abf372436b8e02c8e)
(cherry picked from commit 0fb614046f7bede7f524f4ee85d26e3b0f087df2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/886962/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,1a9b5aca13bec67cc6d4d8a0dd7978044cb726a6,bug/1919352-stable/victoria," # NOTE(ralonsoh): do not access to the DB at exit when the SQL # connection is already closed, to avoid useless exception messages. mock.patch.object(self.mech_driver, '_clean_hash_ring').start()",,3,0
openstack%2Fkolla-ansible~master~I20bd352479ee5562514084d0d11063e45e8b956a,openstack/kolla-ansible,master,I20bd352479ee5562514084d0d11063e45e8b956a,CI: drop ceph jobs ulimit config for EL9,MERGED,2023-05-26 12:37:35.000000000,2023-06-30 09:56:19.000000000,2023-06-30 09:55:20.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-26 12:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d82bec71b06dd61c47f6f5a1c59d22b190929ec', 'message': ""CI: drop ceph jobs ulimit config for EL9\n\nIt's not needed anymore, since both Ceph and ansible-collection-kolla\nare setting that by default.\n\nChange-Id: I20bd352479ee5562514084d0d11063e45e8b956a\n""}, {'number': 2, 'created': '2023-05-30 16:53:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4b58a0ab456c038e9c66cb93d56a5ba64911441f', 'message': ""CI: drop ceph jobs ulimit config for EL9\n\nIt's not needed anymore, since both Ceph and ansible-collection-kolla\nare setting that by default.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/884677\n\nChange-Id: I20bd352479ee5562514084d0d11063e45e8b956a\n""}, {'number': 3, 'created': '2023-05-31 07:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/475f7dcb121c2f57f03d91b439da1434d999c469', 'message': ""CI: drop ceph jobs ulimit config for EL9\n\nIt's not needed anymore, since both Ceph and ansible-collection-kolla\nare setting that by default.\n\nAlso fix test-core-openstack so it doesn't delete a server before\nvolume attachment test.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/884677\n\nChange-Id: I20bd352479ee5562514084d0d11063e45e8b956a\n""}, {'number': 4, 'created': '2023-06-28 09:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eb2628311474bd80403b082bc694900d5fae2ad3', 'message': ""CI: drop ceph jobs ulimit config for EL9\n\nIt's not needed anymore, since both Ceph and ansible-collection-kolla\nare setting that by default.\n\nAlso fix test-core-openstack so it doesn't delete a server before\nvolume attachment test.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/884677\n\nChange-Id: I20bd352479ee5562514084d0d11063e45e8b956a\n""}, {'number': 5, 'created': '2023-06-28 09:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9d6c077d184cf620ef4fb746b874a40c8a82951', 'message': ""CI: drop ceph jobs ulimit config for EL9\n\nIt's not needed anymore, since both Ceph and ansible-collection-kolla\nare setting that by default.\n\nAlso fix test-core-openstack so it doesn't delete a server before\nvolume attachment test.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/884677\n\nChange-Id: I20bd352479ee5562514084d0d11063e45e8b956a\n""}, {'number': 6, 'created': '2023-06-28 11:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/11e851ba031028d69aeaeef1a480d9d8d0015ce5', 'message': ""CI: drop ceph jobs ulimit config for EL9\n\nIt's not needed anymore, since both Ceph and ansible-collection-kolla\nare setting that by default.\n\nAlso fix test-core-openstack so it doesn't delete a server before\nvolume attachment test.\n\nChange-Id: I20bd352479ee5562514084d0d11063e45e8b956a\n""}, {'number': 7, 'created': '2023-06-29 13:30:08.000000000', 'files': ['tests/templates/globals-default.j2', 'tests/test-core-openstack.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/49d891e85f8b8db931822a194354f863618ae42b', 'message': ""CI: drop ceph jobs ulimit config for EL9\n\nIt's not needed anymore, since both Ceph and ansible-collection-kolla\nare setting that by default.\n\nAlso fix test-core-openstack so it doesn't delete a server before\nvolume attachment test.\n\nChange-Id: I20bd352479ee5562514084d0d11063e45e8b956a\n""}]",9,884488,49d891e85f8b8db931822a194354f863618ae42b,39,5,7,22629,,,0,"CI: drop ceph jobs ulimit config for EL9

It's not needed anymore, since both Ceph and ansible-collection-kolla
are setting that by default.

Also fix test-core-openstack so it doesn't delete a server before
volume attachment test.

Change-Id: I20bd352479ee5562514084d0d11063e45e8b956a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/88/884488/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,6d82bec71b06dd61c47f6f5a1c59d22b190929ec,,,"{% if ansible_facts.distribution == ""Rocky"" %} docker_custom_config: default-ulimits: nofile: Name: nofile Hard: 1048576 Soft: 1048576 {% endif %}",0,8
openstack%2Fci-log-processing~master~I061ea45ab20e2c23ff39febaede4dde8eece2f32,openstack/ci-log-processing,master,I061ea45ab20e2c23ff39febaede4dde8eece2f32,Check if directories is not too old even when it got match files,MERGED,2023-06-21 10:01:21.000000000,2023-06-30 09:04:31.000000000,2023-06-30 09:03:35.000000000,"[{'_account_id': 6889}, {'_account_id': 7186}, {'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 11810}, {'_account_id': 20676}, {'_account_id': 22348}, {'_account_id': 30674}]","[{'number': 1, 'created': '2023-06-21 10:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/04fe787b1bbe1649449a909918ff3adb5d80e9e9', 'message': 'Check if directories is not too old even when it got match files\n\nThis is very rary, but sometimes the job log results are empty, but\nthe Zuul build_info and inventory files are correct, so the logsender\ntries to send the files to the OpenSearch, but the log files are empty,\nso it is keeping the data for later parsing.\n\nChange-Id: I061ea45ab20e2c23ff39febaede4dde8eece2f32\n'}, {'number': 2, 'created': '2023-06-21 10:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/352e49060503fcb0bab905943dbe05b3bcc8b9ba', 'message': 'Check if directories is not too old even when it got match files\n\nThis is very rary, but sometimes the job log results are empty, but\nthe Zuul build_info and inventory files are correct, so the logsender\ntries to send the files to the OpenSearch, but the log files are empty,\nso it is keeping the data for later parsing.\n\nChange-Id: I061ea45ab20e2c23ff39febaede4dde8eece2f32\n'}, {'number': 3, 'created': '2023-06-21 11:32:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/226700fe9c010cbb2a56fd2172452aa3b8c7f9cb', 'message': 'Check if directories is not too old even when it got match files\n\nThis is very rary, but sometimes the job log results are empty, but\nthe Zuul build_info and inventory files are correct, so the logsender\ntries to send the files to the OpenSearch, but the log files are empty,\nso it is keeping the data for later parsing.\n\nChange-Id: I061ea45ab20e2c23ff39febaede4dde8eece2f32\n'}, {'number': 4, 'created': '2023-06-28 06:48:45.000000000', 'files': ['logscraper/tests/test_logsender.py', 'logscraper/logsender.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/7bf9245587fd958c9e44c0d47ac20abd74c628b1', 'message': 'Check if directories is not too old even when it got match files\n\nThis is very rary, but sometimes the job log results are empty, but\nthe Zuul build_info and inventory files are correct, so the logsender\ntries to send the files to the OpenSearch, but the log files are empty,\nso it is keeping the data for later parsing.\n\nChange-Id: I061ea45ab20e2c23ff39febaede4dde8eece2f32\n'}]",6,886587,7bf9245587fd958c9e44c0d47ac20abd74c628b1,23,8,4,20676,,,0,"Check if directories is not too old even when it got match files

This is very rary, but sometimes the job log results are empty, but
the Zuul build_info and inventory files are correct, so the logsender
tries to send the files to the OpenSearch, but the log files are empty,
so it is keeping the data for later parsing.

Change-Id: I061ea45ab20e2c23ff39febaede4dde8eece2f32
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/87/886587/4 && git format-patch -1 --stdout FETCH_HEAD,"['logscraper/tests/test_logsender.py', 'logscraper/logsender.py']",2,04fe787b1bbe1649449a909918ff3adb5d80e9e9,,"def remove_old_dir(build_dir_path, build_uuid): remove_old_dir(root, build_uuid) remove_old_dir(directory, build_uuid) logging.warning(""The document was not send. Keeping log dir %s"" % build_dir)","def remove_old_dir(build_dir_path, build_uuid, files): remove_old_dir(root, build_uuid, files) logging.warning(""The document was not send. Keeping log file"")",7,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I131ac4c195d8d739d2fddfe619eab358eb72e22a,openstack/tripleo-heat-templates,stable/train,I131ac4c195d8d739d2fddfe619eab358eb72e22a,Test excluding neutron haproxy containers when updating TLS certificates,ABANDONED,2023-06-30 07:41:49.000000000,2023-06-30 08:20:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 30126}]","[{'number': 1, 'created': '2023-06-30 07:41:49.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/abb0262ba381e0877ac6c4a4eade68d4a19fd931', 'message': 'Test excluding neutron haproxy containers when updating TLS certificates\n\nThe current implementation using:\n\n  command: ""{{ container_cli }} ps -q -f name=haproxy""\n\nwould return any container containing haproxy in the name, this\nincludes neutron-spawned containers named neutron-haproxy-qdhcp-XXX\nthat we probably want to exclude from this logic.\n\nChange-Id: I131ac4c195d8d739d2fddfe619eab358eb72e22a\n'}]",1,887359,abb0262ba381e0877ac6c4a4eade68d4a19fd931,4,2,1,30126,,,0,"Test excluding neutron haproxy containers when updating TLS certificates

The current implementation using:

  command: ""{{ container_cli }} ps -q -f name=haproxy""

would return any container containing haproxy in the name, this
includes neutron-spawned containers named neutron-haproxy-qdhcp-XXX
that we probably want to exclude from this logic.

Change-Id: I131ac4c195d8d739d2fddfe619eab358eb72e22a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/59/887359/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,abb0262ba381e0877ac6c4a4eade68d4a19fd931,," command: ""{{ container_cli }} ps -q -f name='^(\?\!neutron)*haproxy*'"""," command: ""{{ container_cli }} ps -q -f name=haproxy""",1,1
openstack%2Fpuppet-glance~master~I8220b646de922e44e08db49817b473789e2742f8,openstack/puppet-glance,master,I8220b646de922e44e08db49817b473789e2742f8,Fix undefined variable,MERGED,2023-06-26 07:06:47.000000000,2023-06-30 08:14:04.000000000,2023-06-30 08:14:04.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 07:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/38e7232512d2cb0dec1e308f33830d7ffd50757a', 'message': ""Fix undefined variable\n\nThe default_store_real variable is not defined in some code paths and\nthat is causing the following error when Puppet 8 is used.\n\n```\nEvaluation Error: Unknown variable: 'default_store_real'.\n```\n\nChange-Id: I8220b646de922e44e08db49817b473789e2742f8\n""}, {'number': 2, 'created': '2023-06-26 10:48:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/8257a9ce9962fa8175e537c29863d413cc7f44d3', 'message': ""Fix undefined variable\n\nThe default_store_real variable is not defined in some code paths and\nthat is causing the following error when Puppet 8 is used.\n\n```\nEvaluation Error: Unknown variable: 'default_store_real'.\n```\n\nChange-Id: I8220b646de922e44e08db49817b473789e2742f8\n""}, {'number': 3, 'created': '2023-06-26 13:05:31.000000000', 'files': ['manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/6e4402417a7f37cde6ccf21cbe3e41807d2bfb45', 'message': ""Fix undefined variable\n\nThe default_store_real variable is not defined in some code paths and\nthat is causing the following error when Puppet 8 is used.\n\n```\nEvaluation Error: Unknown variable: 'default_store_real'.\n```\n\nChange-Id: I8220b646de922e44e08db49817b473789e2742f8\n""}]",5,886946,6e4402417a7f37cde6ccf21cbe3e41807d2bfb45,27,3,3,9816,,,0,"Fix undefined variable

The default_store_real variable is not defined in some code paths and
that is causing the following error when Puppet 8 is used.

```
Evaluation Error: Unknown variable: 'default_store_real'.
```

Change-Id: I8220b646de922e44e08db49817b473789e2742f8
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/46/886946/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,38e7232512d2cb0dec1e308f33830d7ffd50757a,," $stores_real = any2array($stores) if !$default_store { } else { $default_store_real = $default_store $default_store_real = $default_store $stores_real = undef $default_store_real = undef 'glance_store/stores': value => join($stores_real, ',');"," if $default_store { $default_store_real = $default_store } if size(any2array($stores)) > 1 { $stores_real = join($stores, ',') } else { $stores_real = $stores[0] } if !$default_store_real { 'glance_store/stores': value => $stores_real;",9,10
openstack%2Fkolla~master~Ic86e6c22840f658bb68387aac688918d4db1f766,openstack/kolla,master,Ic86e6c22840f658bb68387aac688918d4db1f766,Fixed an issue with zun-cin-daemon building images in aarch64.,NEW,2023-06-09 08:34:25.000000000,2023-06-30 07:57:05.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-09 08:34:25.000000000', 'files': ['docker/zun/zun-cni-daemon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9a2ad5ebd63c0447591e6ea2f7563ebe7b644894', 'message': 'Fixed an issue with zun-cin-daemon building images in aarch64.\n\nIn the aarch64 image build,\nuse debian_arch to determine packages of different architectures.\n\nChange-Id: Ic86e6c22840f658bb68387aac688918d4db1f766\n'}]",1,885729,9a2ad5ebd63c0447591e6ea2f7563ebe7b644894,10,3,1,35025,,,0,"Fixed an issue with zun-cin-daemon building images in aarch64.

In the aarch64 image build,
use debian_arch to determine packages of different architectures.

Change-Id: Ic86e6c22840f658bb68387aac688918d4db1f766
",git fetch https://review.opendev.org/openstack/kolla refs/changes/29/885729/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/zun/zun-cni-daemon/Dockerfile.j2'],1,9a2ad5ebd63c0447591e6ea2f7563ebe7b644894,,ARG zun_cni_daemon_url=https://github.com/containernetworking/plugins/releases/download/v${zun_cni_daemon_version}/cni-plugins-{{debian_arch}}-v${zun_cni_daemon_version}.tgz,ARG zun_cni_daemon_url=https://github.com/containernetworking/plugins/releases/download/v${zun_cni_daemon_version}/cni-plugins-amd64-v${zun_cni_daemon_version}.tgz,1,1
openstack%2Fnetworking-bgpvpn~master~I1228a787ea7ca7f2cf6fcc9b0906c9fa5c02ce62,openstack/networking-bgpvpn,master,I1228a787ea7ca7f2cf6fcc9b0906c9fa5c02ce62,Remove tripleo related jobs,ABANDONED,2023-02-21 13:41:28.000000000,2023-06-30 07:43:04.000000000,,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-02-21 13:41:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/f25822e25aabe69eca7c02e899da1f4f23cee4df', 'message': 'Remove tripleo related jobs\n\nAfter TripleO team announced that it will most likely not be\nmaintained anymore and there will be no new releases there is\nno need to run Tripleo based job for bgpvpn.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-February/032083.html\n\nChange-Id: I1228a787ea7ca7f2cf6fcc9b0906c9fa5c02ce62\n'}, {'number': 2, 'created': '2023-06-29 12:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/0409273b20ecf1909036857ebb186ceb25c1683a', 'message': 'Remove tripleo related jobs\n\nAfter TripleO team announced that it will most likely not be\nmaintained anymore and there will be no new releases there is\nno need to run Tripleo based job for bgpvpn.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-February/032083.html\n\nChange-Id: I1228a787ea7ca7f2cf6fcc9b0906c9fa5c02ce62\n'}]",2,874582,0409273b20ecf1909036857ebb186ceb25c1683a,9,5,2,8313,,,0,"Remove tripleo related jobs

After TripleO team announced that it will most likely not be
maintained anymore and there will be no new releases there is
no need to run Tripleo based job for bgpvpn.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-February/032083.html

Change-Id: I1228a787ea7ca7f2cf6fcc9b0906c9fa5c02ce62
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/82/874582/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f25822e25aabe69eca7c02e899da1f4f23cee4df,tripleo-cleaning,," # TripleO jobs that deploy networking-bgpvpn. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-8-scenario004-standalone: voting: false",0,7
openstack%2Fcinder~master~Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac,openstack/cinder,master,Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac,Ceph: add option to keep only last n snapshots per backup,NEW,2021-09-22 15:42:47.000000000,2023-06-30 07:42:27.000000000,,"[{'_account_id': 1736}, {'_account_id': 4393}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-09-22 15:42:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/74fcf42785a387c5451e09185d3249e78981b6ee', 'message': 'Ceph: add option to keep only last n snapshots per backup\n\nAdd a new config option ""backup_ceph_keep_snapshots"" to only keep the\nlast n snapshots of a volume backup instead of all.\nBy default, the current behavior of keeping all snapshots is used, but\ncan now be adjusted as requested.\n\nIf enabled, the driver checks the number of snapshots of a volume backup\nafter successful creation of a new snapshot and removes older ones.\nAfter the operation, only the n most recent snapshots will be present.\n\nThat way, older snapshots can be removed automatically while keeping\nthe most recent ones, which saves disk space, dependent on\nexact usage.\n\nCommit bc9ab142da919087c71525978f960115ff0259b9 changed the previous\nbehavior of keeping only the last snapshot to keeping all snapshots of\na backup. Though, this can take up much more disk space if data\nchanges regularly and snapshots are held for a considerable\namount of time.\n\nThis commit changes the behavior so that the user can choose which\napproach to go with and also configure the number of snapshots to keep.\n\nChange-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n'}, {'number': 2, 'created': '2021-09-23 09:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6a940e872b207f69cab85c8a162efdf0bb5ab1e5', 'message': 'Ceph: add option to keep only last n snapshots per backup\n\nAdd a new config option ""backup_ceph_keep_snapshots"" to only keep the\nlast n snapshots of a volume backup instead of all.\nBy default, the current behavior of keeping all snapshots is used, but\ncan now be adjusted as requested.\n\nIf enabled, the driver checks the number of snapshots of a volume backup\nafter successful creation of a new snapshot and removes older ones.\nAfter the operation, only the n most recent snapshots will be present.\n\nThat way, older snapshots can be removed automatically while keeping\nthe most recent ones, which saves disk space, dependent on\nexact usage.\n\nCommit bc9ab142da919087c71525978f960115ff0259b9 changed the previous\nbehavior of keeping only the last snapshot to keeping all snapshots of\na backup. Though, this can take up much more disk space if data\nchanges regularly and snapshots are held for a considerable\namount of time.\n\nThis commit changes the behavior so that the user can choose which\napproach to go with and also configure the number of snapshots to keep.\n\nChange-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n'}, {'number': 3, 'created': '2021-09-23 09:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0684d43e0010e578a07071ef859cd3061c550e6', 'message': 'Ceph: add option to keep only last n snapshots per backup\n\nAdd a new config option ""backup_ceph_keep_snapshots_count"" to only keep the\nlast n snapshots of a volume backup instead of all.\nBy default, the current behavior of keeping all snapshots is used, but\ncan now be adjusted as requested.\n\nIf enabled, the driver checks the number of snapshots of a volume backup\nafter successful creation of a new snapshot and removes older ones.\nAfter the operation, only the n most recent snapshots will be present.\n\nThat way, older snapshots can be removed automatically while keeping\nthe most recent ones, which saves disk space, dependent on\nexact usage.\n\nCommit bc9ab142da919087c71525978f960115ff0259b9 changed the previous\nbehavior of keeping only the last snapshot to keeping all snapshots of\na backup. Though, this can take up much more disk space if data\nchanges regularly and snapshots are held for a considerable\namount of time.\n\nThis commit changes the behavior so that the user can choose which\napproach to go with and also configure the number of snapshots to keep.\n\nChange-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n'}, {'number': 4, 'created': '2021-11-15 14:18:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/12b70b1de641d60cd956d84e62c0d99502c0321f', 'message': 'Ceph: add option to keep only last n snapshots per backup\n\nAdd a new config option ""backup_ceph_keep_snapshots_count"" to only keep the\nlast n snapshots of a volume backup instead of all.\nBy default, the current behavior of keeping all snapshots is used, but\ncan now be adjusted as requested.\n\nIf enabled, the driver checks the number of snapshots of a volume backup\nafter successful creation of a new snapshot and removes older ones.\nAfter the operation, only the n most recent snapshots will be present.\n\nThat way, older snapshots can be removed automatically while keeping\nthe most recent ones, which saves disk space, dependent on\nexact usage.\n\nCommit bc9ab142da919087c71525978f960115ff0259b9 changed the previous\nbehavior of keeping only the last snapshot to keeping all snapshots of\na backup. Though, this can take up much more disk space if data\nchanges regularly and snapshots are held for a considerable\namount of time.\n\nThis commit changes the behavior so that the user can choose which\napproach to go with and also configure the number of snapshots to keep.\n\nChange-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac\nRelated-Bug: #1703011\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n'}, {'number': 5, 'created': '2021-12-06 16:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/384405801f8f77f1ccad91653ca877932eff7228', 'message': 'Ceph: add option to keep only last n snapshots per backup\n\nAdd a new config option ""backup_ceph_keep_snapshots_count"" to only keep\nthe last n snapshots of a volume backup instead of all.\nBy default, the current behavior of keeping all snapshots is used, but\ncan now be adjusted as requested.\n\nIf enabled, the driver checks the number of snapshots of a volume backup\nafter successful creation of a new snapshot and removes older ones.\nAfter the operation, only the n most recent snapshots will be present.\n\nThat way, older snapshots can be removed automatically while keeping\nthe most recent ones, which saves disk space, dependent on\nexact usage.\n\nCommit bc9ab142da919087c71525978f960115ff0259b9 changed the previous\nbehavior of keeping only the last snapshot to keeping all snapshots of\na backup. However, this can take up much more disk space if data\nchanges regularly and snapshots are held for a considerable\namount of time.\n\nThis commit changes the behavior so that the user can choose which\napproach to go with and also allows to configure the number of\nsnapshots to keep.\n\nChange-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac\nRelated-Bug: #1703011\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n'}, {'number': 6, 'created': '2021-12-07 09:20:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2175f851939813f022674a2bd13a4c1c84e28750', 'message': 'Ceph: add option to keep only last n snapshots per backup\n\nAdd a new config option ""backup_ceph_keep_snapshots_count"" to only keep\nthe last n snapshots of a volume backup instead of all.\nBy default, the current behavior of keeping all snapshots is used, but\ncan now be adjusted as requested.\n\nIf enabled, the driver checks the number of snapshots of a volume backup\nafter successful creation of a new snapshot and removes older ones.\nAfter the operation, only the n most recent snapshots will be present.\n\nThat way, older snapshots can be removed automatically while keeping\nthe most recent ones, which saves disk space, dependent on\nexact usage.\n\nCommit bc9ab142da919087c71525978f960115ff0259b9 changed the previous\nbehavior of keeping only the last snapshot to keeping all snapshots of\na backup. However, this can take up much more disk space if data\nchanges regularly and snapshots are held for a considerable\namount of time.\n\nThis commit changes the behavior so that the user can choose which\napproach to go with and also allows to configure the number of\nsnapshots to keep.\n\nChange-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac\nRelated-Bug: #1703011\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n'}, {'number': 7, 'created': '2022-02-22 15:38:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/754bbccdbf882925701168de94e78e1d3a2db004', 'message': 'Ceph: add option to keep only last n snapshots per backup\n\nAdd a new config option ""backup_ceph_keep_snapshots_count"" to only keep\nthe last n snapshots of a volume backup on the source volume storage\nto save disk space.\nBy default, the current behavior of keeping all snapshots is used, but\ncan now be adjusted as requested.\n\nCommit bc9ab142da919087c71525978f960115ff0259b9 changed the previous\nbehavior of keeping only the last snapshot to keeping all snapshots of\na backup. However, this can take up much more disk space on the\nsource volume storage.\n\nIf enabled, the driver checks the number of snapshots of a volume backup\nafter successful creation of a new snapshot and removes older ones, so\nthat only the n most recent snapshots are kept on the source storage.\n\nThis change also creates a new special case which was not present\nbefore: If a user deletes at least n backup snapshots, the next\nincremental snapshot creation would fail (due to how RBD works).\nThis will be handled by forcing a full backup instead.\n\nTherefore, this commit introduces a configurable tradeoff between\nrequired space on the source volume storage and a potentially longer\nbackup time.\n\nChange-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac\nRelated-Bug: #1703011\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n'}, {'number': 8, 'created': '2022-04-11 08:48:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0ccd6aeeee321e065b98f34ad5adf50095cf8e97', 'message': 'Ceph: add option to keep only last n snapshots per backup\n\nAdd a new config option ""backup_ceph_keep_snapshots_count"" to only keep\nthe last n snapshots of a volume backup on the source volume storage\nto save disk space.\nBy default, the current behavior of keeping all snapshots is used, but\ncan now be adjusted as requested.\n\nCommit bc9ab142da919087c71525978f960115ff0259b9 changed the previous\nbehavior of keeping only the last snapshot to keeping all snapshots of\na backup. However, this can take up much more disk space on the\nsource volume storage.\n\nIf enabled, the driver checks the number of snapshots of a volume backup\nafter successful creation of a new snapshot and removes older ones, so\nthat only the n most recent snapshots are kept on the source storage.\n\nThis change also creates a new special case which was not present\nbefore: If a user deletes at least n backup snapshots, the next\nincremental snapshot creation would fail (due to how RBD works).\nThis will be handled by forcing a full backup instead.\n\nTherefore, this commit introduces a configurable tradeoff between\nrequired space on the source volume storage and a potentially longer\nbackup time.\n\nChange-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac\nRelated-Bug: #1703011\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n'}, {'number': 9, 'created': '2022-05-10 14:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8afd4494240748497fd14791375e98cc8fe168a6', 'message': 'Ceph: add option to keep only last n snapshots per backup\n\nAdd a new config option ""backup_ceph_keep_snapshots_count"" to only keep\nthe last n snapshots of a volume backup on the source volume storage\nto save disk space.\nBy default, the current behavior of keeping all snapshots is used, but\ncan now be adjusted as requested.\n\nCommit bc9ab142da919087c71525978f960115ff0259b9 changed the previous\nbehavior of keeping only the last snapshot to keeping all snapshots of\na backup. However, this can take up much more disk space on the\nsource volume storage.\n\nIf enabled, the driver checks the number of snapshots of a volume backup\nafter successful creation of a new snapshot and removes older ones, so\nthat only the n most recent snapshots are kept on the source storage.\n\nThis change also creates a new special case which was not present\nbefore: If a user deletes at least n backup snapshots, the next\nincremental snapshot creation would fail (due to how RBD works).\nThis will be handled by forcing a full backup instead.\n\nTherefore, this commit introduces a configurable tradeoff between\nrequired space on the source volume storage and a potentially longer\nbackup time.\n\nChange-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac\nRelated-Bug: #1703011\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n'}, {'number': 10, 'created': '2022-06-22 15:46:05.000000000', 'files': ['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/message/message_field.py', 'doc/source/configuration/block-storage/backup/ceph-backup-driver.rst', 'cinder/backup/drivers/ceph.py', 'releasenotes/notes/ceph-add-option-to-keep-only-last-n-snapshots-89dc532656f453f4.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/903a93b464c5e057b526e023a52ddea96ca6cb53', 'message': 'Ceph: add option to keep only last n snapshots per backup\n\nAdd a new config option ""backup_ceph_keep_snapshots_count"" to only keep\nthe last n snapshots of a volume backup on the source volume storage\nto save disk space.\nBy default, the current behavior of keeping all snapshots is used, but\ncan now be adjusted as requested.\n\nCommit bc9ab142da919087c71525978f960115ff0259b9 changed the previous\nbehavior of keeping only the last snapshot to keeping all snapshots of\na backup. However, this can take up much more disk space on the\nsource volume storage.\n\nIf enabled, the driver checks the number of snapshots of a volume backup\nafter successful creation of a new snapshot and removes older ones, so\nthat only the n most recent snapshots are kept on the source storage.\n\nThis change also creates a new special case which was not present\nbefore: If a user deletes at least n backup snapshots, the next\nincremental snapshot creation would fail (due to how RBD works).\nThis will be handled by forcing a full backup instead.\n\nTherefore, this commit introduces a configurable tradeoff between\nrequired space on the source volume storage and a potentially longer\nbackup time.\n\nChange-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac\nRelated-Bug: #1703011\nSigned-off-by: Jan Hartkopf <jhartkopf@inovex.de>\n'}]",41,810457,903a93b464c5e057b526e023a52ddea96ca6cb53,254,11,10,33634,,,0,"Ceph: add option to keep only last n snapshots per backup

Add a new config option ""backup_ceph_keep_snapshots_count"" to only keep
the last n snapshots of a volume backup on the source volume storage
to save disk space.
By default, the current behavior of keeping all snapshots is used, but
can now be adjusted as requested.

Commit bc9ab142da919087c71525978f960115ff0259b9 changed the previous
behavior of keeping only the last snapshot to keeping all snapshots of
a backup. However, this can take up much more disk space on the
source volume storage.

If enabled, the driver checks the number of snapshots of a volume backup
after successful creation of a new snapshot and removes older ones, so
that only the n most recent snapshots are kept on the source storage.

This change also creates a new special case which was not present
before: If a user deletes at least n backup snapshots, the next
incremental snapshot creation would fail (due to how RBD works).
This will be handled by forcing a full backup instead.

Therefore, this commit introduces a configurable tradeoff between
required space on the source volume storage and a potentially longer
backup time.

Change-Id: Ief71e6e62ccc0654f4e1e71ccc53df66d5ffbfac
Related-Bug: #1703011
Signed-off-by: Jan Hartkopf <jhartkopf@inovex.de>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/57/810457/10 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/backup/drivers/test_backup_ceph.py', 'cinder/backup/drivers/ceph.py', 'releasenotes/notes/ceph-add-option-to-keep-only-last-n-snapshots-89dc532656f453f4.yaml']",3,74fcf42785a387c5451e09185d3249e78981b6ee,ceph_keep_snapshots,--- features: - | Ceph driver: Added config option to keep only the last n snapshots per backup ,,67,0
openstack%2Fnova~stable%2Fwallaby~I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,openstack/nova,stable/wallaby,I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527,Gracefull recovery when attaching volume fails,NEW,2022-02-16 08:57:39.000000000,2023-06-30 07:41:36.000000000,,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-16 08:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9ac82720466e0df0490b963e6d975bcb263f6191', 'message': 'Gracefull recovery when attaching volume fails\n\nWhen trying to attach a volume to an already running instance the nova-api\nrequests the nova-compute service to create a BlockDeviceMapping. If the\nnova-api does not receive a response within `rpc_response_timeout` it will\ntreat the request as failed and raise an exception.\n\nThere are multiple cases where nova-compute actually already processed the\nrequest and just the reply did not reach the nova-api in time (see bug report).\nAfter the failed request the database will contain a BlockDeviceMapping entry\nfor the volume + instance combination that will never be cleaned up again.\nThis entry also causes the nova-api to reject all future attachments of this\nvolume to this instance (as it assumes it is already attached).\n\nTo work around this we check if a BlockDeviceMapping has already been created\nwhen we see a messaging timeout. If this is the case we can safely delete it\nas the compute node has already finished processing and we will no longer pick\nit up.\nThis allows users to try the request again.\n\nA previous fix was abandoned but without a clear reason ([1]).\n\n[1]: https://review.opendev.org/c/openstack/nova/+/731804\n\nCloses-Bug: 1960401\nChange-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527\n(cherry picked from commit 9eb116b99ce32bc69c4abf8ec3b0179ef89a8860)\n'}, {'number': 2, 'created': '2022-08-02 11:36:52.000000000', 'files': ['releasenotes/notes/bug-1960401-504eb255253d966a.yaml', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f50ae3c614dbe04efbdbbdaead099982d1175169', 'message': 'Gracefull recovery when attaching volume fails\n\nWhen trying to attach a volume to an already running instance the nova-api\nrequests the nova-compute service to create a BlockDeviceMapping. If the\nnova-api does not receive a response within `rpc_response_timeout` it will\ntreat the request as failed and raise an exception.\n\nThere are multiple cases where nova-compute actually already processed the\nrequest and just the reply did not reach the nova-api in time (see bug report).\nAfter the failed request the database will contain a BlockDeviceMapping entry\nfor the volume + instance combination that will never be cleaned up again.\nThis entry also causes the nova-api to reject all future attachments of this\nvolume to this instance (as it assumes it is already attached).\n\nTo work around this we check if a BlockDeviceMapping has already been created\nwhen we see a messaging timeout. If this is the case we can safely delete it\nas the compute node has already finished processing and we will no longer pick\nit up.\nThis allows users to try the request again.\n\nA previous fix was abandoned but without a clear reason ([1]).\n\n[1]: https://review.opendev.org/c/openstack/nova/+/731804\n\nCloses-Bug: 1960401\nChange-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527\n(cherry picked from commit 9eb116b99ce32bc69c4abf8ec3b0179ef89a8860)\n(cherry picked from commit a46fc40aa4edde4d426c95999bdac1c315d0276d)\n'}]",16,829434,f50ae3c614dbe04efbdbbdaead099982d1175169,54,4,2,29074,,,0,"Gracefull recovery when attaching volume fails

When trying to attach a volume to an already running instance the nova-api
requests the nova-compute service to create a BlockDeviceMapping. If the
nova-api does not receive a response within `rpc_response_timeout` it will
treat the request as failed and raise an exception.

There are multiple cases where nova-compute actually already processed the
request and just the reply did not reach the nova-api in time (see bug report).
After the failed request the database will contain a BlockDeviceMapping entry
for the volume + instance combination that will never be cleaned up again.
This entry also causes the nova-api to reject all future attachments of this
volume to this instance (as it assumes it is already attached).

To work around this we check if a BlockDeviceMapping has already been created
when we see a messaging timeout. If this is the case we can safely delete it
as the compute node has already finished processing and we will no longer pick
it up.
This allows users to try the request again.

A previous fix was abandoned but without a clear reason ([1]).

[1]: https://review.opendev.org/c/openstack/nova/+/731804

Closes-Bug: 1960401
Change-Id: I17f4d7d2cb129c4ec1479cc4e5d723da75d3a527
(cherry picked from commit 9eb116b99ce32bc69c4abf8ec3b0179ef89a8860)
(cherry picked from commit a46fc40aa4edde4d426c95999bdac1c315d0276d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/829434/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1960401-504eb255253d966a.yaml', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",3,9ac82720466e0df0490b963e6d975bcb263f6191,fix_bdm_create_with_timeout-stable/wallaby," @mock.patch.object( objects.BlockDeviceMapping, 'get_by_volume_and_instance') @mock.patch.object(objects.BlockDeviceMappingList, 'get_by_volume') def test_attach_volume_reserve_bdm_timeout( self, mock_get_by_volume, mock_get_by_volume_and_instance, mock_reserve): mock_get_by_volume.side_effect = exception.VolumeBDMNotFound( volume_id='fake-volume-id') fake_bdm = mock.MagicMock(spec=objects.BlockDeviceMapping) mock_get_by_volume_and_instance.return_value = fake_bdm instance = self._create_instance_obj() volume = fake_volume.fake_volume(1, 'test-vol', 'test-vol', None, None, None, None, None) mock_reserve.side_effect = oslo_exceptions.MessagingTimeout() mock_volume_api = mock.patch.object(self.compute_api, 'volume_api', mock.MagicMock(spec=cinder.API)) with mock_volume_api as mock_v_api: mock_v_api.get.return_value = volume self.assertRaises(oslo_exceptions.MessagingTimeout, self.compute_api.attach_volume, self.context, instance, volume['id']) mock_get_by_volume_and_instance.assert_called_once_with( self.context, volume['id'], instance.uuid) fake_bdm.destroy.assert_called_once_with() @mock.patch.object(compute_rpcapi.ComputeAPI, 'reserve_block_device_name')",,56,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I555b9d2a276cfa1feb7b610f5768bbecaae666f2,openstack/tripleo-heat-templates,stable/wallaby,I555b9d2a276cfa1feb7b610f5768bbecaae666f2,Merge dict values no overwriting them,ABANDONED,2023-06-30 07:31:07.000000000,2023-06-30 07:37:03.000000000,,[],"[{'number': 1, 'created': '2023-06-30 07:31:07.000000000', 'files': ['tools/copy_role_params.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88ef05839acc570ef8c831d0ab35d0ecaa72e154', 'message': 'Merge dict values no overwriting them\n\nSome parameters were missing when the parameters were defined\nin several environment files.\n\nAlso remove unused function\ni\nResolves: rhbz#2218519\nChange-Id: Id338f1071e18536291d8ff46bea0a07dbba72d5c\n\nChange-Id: I555b9d2a276cfa1feb7b610f5768bbecaae666f2\n'}]",0,887357,88ef05839acc570ef8c831d0ab35d0ecaa72e154,2,0,1,22954,,,0,"Merge dict values no overwriting them

Some parameters were missing when the parameters were defined
in several environment files.

Also remove unused function
i
Resolves: rhbz#2218519
Change-Id: Id338f1071e18536291d8ff46bea0a07dbba72d5c

Change-Id: I555b9d2a276cfa1feb7b610f5768bbecaae666f2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/887357/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/copy_role_params.py'],1,88ef05839acc570ef8c831d0ab35d0ecaa72e154,rhbz_2218519,"def special_merge(dict_1, dict_2): dict_result = {**dict_1, **dict_2} for key, value in dict_result.items(): if key in dict_1 and key in dict_2: if (type(dict_1[key]) is list): dict_result[key] = dict_1[key] + [value] else: dict_result[key] = [value , dict_1[key]] return dict_result pd = {} rr = {} data = yaml.safe_load(env_file) par = data.get('parameter_defaults', {}) res = data.get('resource_registry', {}) rr = special_merge(rr, res) pd = special_merge(pd, par) if pd: for key, value in pd.items(): if key.startswith(rolename): n_role_params_def[key] = value if rr: for key, value in rr.items(): if key.startswith(""OS::TripleO::{}:"".format(rolename)): n_role_res_registry[key] = value","def copy_role_parameters(env_files, rolename, new_role_env_file): n_role_params_def = {} n_role_res_registry = {} for file in env_files: if os.path.exists(file): with open(file, 'r') as env_file: contents = yaml.safe_load(env_file) pd = contents.get('parameter_defaults', {}) if pd: for key, value in pd.items(): if key.startswith(rolename): n_role_params_def[key] = value rr = contents.get('resource_registry', {}) if rr: for key, value in rr.items(): if key.startswith(""OS::TripleO::{}:"".format(rolename)): n_role_res_registry[key] = value # We can have ComputeCount Compute1Count which # means we have picked on multiple roles and as we # cannot parse here for all role_specific tagged params # we simply pick on Count: to figure out if we don't happen # to have colision role_count = [] filter_out = [] role_count = dict(filter(filter_count, n_role_params_def.items())) if len(role_count) > 1: for key in role_count: if key != ""{}Count"".format(rolename): filter_out.append(key[:-5]) for role in filter_out: n_role_params_def = dict(filter( lambda seq: filter_out_f(seq, rolename=role), n_role_params_def.items())) for word in ['Count', 'HostnameFormat', 'NetworkConfigTemplate', 'ContainerImagePrepare', 'UpgradeInitCommand']: n_role_params_def = dict(filter( lambda seq: filter_out_f_2(seq, removeme=word), n_role_params_def.items())) n_role_res_registry = dict(filter( lambda seq: filter_out_reg(seq), n_role_res_registry.items())) with open(new_role_env_file, 'w') as new_file: # I don't think we can blindly dump here, if one is empty we skip dumping dump_var = {} if (n_role_params_def != {}): dump_var['parameter_defaults'] = n_role_params_def if (n_role_res_registry != {}): dump_var['resource_registry'] = n_role_res_registry if (dump_var != {}): yaml.dump(dump_var, new_file, default_flow_style=False) contents = yaml.safe_load(env_file) pd = contents.get('parameter_defaults', {}) if pd: for key, value in pd.items(): if key.startswith(rolename): n_role_params_def[key] = value rr = contents.get('resource_registry', {}) if rr: for key, value in rr.items(): if key.startswith(""OS::TripleO::{}:"".format(rolename)): n_role_res_registry[key] = value",24,72
openstack%2Fcinder~master~I0305156f970cdaceb0abc04994a530540c2065ce,openstack/cinder,master,I0305156f970cdaceb0abc04994a530540c2065ce,"Hitachi: check whether if ""remote unpack failed"" is occurred or not",ABANDONED,2023-01-05 02:43:33.000000000,2023-06-30 07:00:07.000000000,,"[{'_account_id': 7556}, {'_account_id': 27623}]","[{'number': 1, 'created': '2023-01-05 02:43:33.000000000', 'files': ['cinder/volume/drivers/hitachi/dummy.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9dec755c4399a3236c807768366797bec2245761', 'message': 'Hitachi: check whether if ""remote unpack failed"" is occurred or not\n\nThis patch is to check whether if\n ""remote unpack failed: error Missing tree""\nis issued or not.\nbecause I met the above error when uploading real patch.\nI\'ll ""abandon"" this patch soon.\n\nChange-Id: I0305156f970cdaceb0abc04994a530540c2065ce\n'}]",1,868989,9dec755c4399a3236c807768366797bec2245761,7,2,1,33473,,,0,"Hitachi: check whether if ""remote unpack failed"" is occurred or not

This patch is to check whether if
 ""remote unpack failed: error Missing tree""
is issued or not.
because I met the above error when uploading real patch.
I'll ""abandon"" this patch soon.

Change-Id: I0305156f970cdaceb0abc04994a530540c2065ce
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/868989/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/hitachi/dummy.txt'],1,9dec755c4399a3236c807768366797bec2245761,hitachi_vsp_test,,,0,0
openstack%2Fopenstack-helm-images~master~I92d9bc30ff265fe1e8a5dee2aac5993b006a6fdd,openstack/openstack-helm-images,master,I92d9bc30ff265fe1e8a5dee2aac5993b006a6fdd,Adding elasticsearch 8.7.1 image dockerfile,MERGED,2023-06-28 17:48:59.000000000,2023-06-30 06:21:11.000000000,2023-06-30 06:19:06.000000000,"[{'_account_id': 3009}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 17:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/45d5d2c5b20432ee832cd87c049a65c56ff2b1e5', 'message': 'Adding elasticsearch 8.7.1 image dockerfile\n\nChange-Id: I92d9bc30ff265fe1e8a5dee2aac5993b006a6fdd\n'}, {'number': 2, 'created': '2023-06-28 19:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/773d78e1f62fad611d2a37dc64f1d3131aed4046', 'message': 'Adding elasticsearch 8.7.1 image dockerfile\n\nChange-Id: I92d9bc30ff265fe1e8a5dee2aac5993b006a6fdd\n'}, {'number': 3, 'created': '2023-06-28 19:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/800ead61d9f6d8cbb5f162ff464032ba8ca91659', 'message': 'Adding elasticsearch 8.7.1 image dockerfile\n\nChange-Id: I92d9bc30ff265fe1e8a5dee2aac5993b006a6fdd\n'}, {'number': 4, 'created': '2023-06-29 17:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/e37fce9320330299b5ae2a40c426ab0595fd589c', 'message': 'Adding elasticsearch 8.7.1 image dockerfile\n\nChange-Id: I92d9bc30ff265fe1e8a5dee2aac5993b006a6fdd\n'}, {'number': 5, 'created': '2023-06-29 17:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9b200112528c8d9a153fee257a3a65f69598f7b8', 'message': 'Adding elasticsearch 8.7.1 image dockerfile\n\nChange-Id: I92d9bc30ff265fe1e8a5dee2aac5993b006a6fdd\n'}, {'number': 6, 'created': '2023-06-30 03:17:24.000000000', 'files': ['elasticsearch-s3/Dockerfile.8_7_1', 'zuul.d/elasticsearch-s3.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/9a3a0ad19a0dada9e3784a712185324976c7d97e', 'message': 'Adding elasticsearch 8.7.1 image dockerfile\n\nChange-Id: I92d9bc30ff265fe1e8a5dee2aac5993b006a6fdd\n'}]",0,887212,9a3a0ad19a0dada9e3784a712185324976c7d97e,16,2,6,36078,,,0,"Adding elasticsearch 8.7.1 image dockerfile

Change-Id: I92d9bc30ff265fe1e8a5dee2aac5993b006a6fdd
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/12/887212/1 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch-s3/Dockerfile.8_7_1'],1,45d5d2c5b20432ee832cd87c049a65c56ff2b1e5,,FROM docker.io/elasticsearch:8.7.1 USER root RUN curl -sL https://github.com/jqlang/jq/releases/download/jq-1.6/jq-linux64 -o /usr/local/bin/jq && \ chmod +x /usr/local/bin/jq && \ jq --version USER elasticsearch,,9,0
openstack%2Fkolla-ansible~master~I3e0237361278e3031cbaaa332dd34c7a046eafd2,openstack/kolla-ansible,master,I3e0237361278e3031cbaaa332dd34c7a046eafd2,zun: Use pause container from gcr.io,ABANDONED,2023-06-20 07:12:32.000000000,2023-06-30 05:47:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-20 07:12:32.000000000', 'files': ['ansible/roles/zun/templates/zun.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c922c27b681e1ac2e2f24ec92d3e05c938d8cb7b', 'message': 'zun: Use pause container from gcr.io\n\nThe one in zun defaults from docker hub does not have any tags\n\nChange-Id: I3e0237361278e3031cbaaa332dd34c7a046eafd2\n'}]",1,886448,c922c27b681e1ac2e2f24ec92d3e05c938d8cb7b,5,1,1,22629,,,0,"zun: Use pause container from gcr.io

The one in zun defaults from docker hub does not have any tags

Change-Id: I3e0237361278e3031cbaaa332dd34c7a046eafd2
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/48/886448/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/zun/templates/zun.conf.j2'],1,c922c27b681e1ac2e2f24ec92d3e05c938d8cb7b,,sanbox_image = gcr.io/google_containers/pause ,,2,0
openstack%2Ftrove~stable%2Fzed~I72e68d9e7df6a82b4635abac995299be770546ce,openstack/trove,stable/zed,I72e68d9e7df6a82b4635abac995299be770546ce,[CI]: Don't run periodic jobs on stable branchs,MERGED,2023-06-29 07:48:52.000000000,2023-06-30 03:43:27.000000000,2023-06-30 03:41:02.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-29 07:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/f5ed5154db6ffb3c7a20152d8b21c17699c94ceb', 'message': ""[CI]: Don't run periodic jobs on stable branchs\n\nwe don't need to pulish trove image with stable branches everyday.\n\nChange-Id: I72e68d9e7df6a82b4635abac995299be770546ce\n(cherry picked from commit 7a6666f4f301cd4a9a4d2b7380546893f0c1c6f8)\n""}, {'number': 2, 'created': '2023-06-29 07:49:23.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/9f8ed20e812942337936410d13fb0ef1fd90970f', 'message': ""[CI]: Don't run periodic jobs on stable branchs\n\nwe don't need to pulish trove image with stable branches everyday.\n\nChange-Id: I72e68d9e7df6a82b4635abac995299be770546ce\n(cherry picked from commit 7a6666f4f301cd4a9a4d2b7380546893f0c1c6f8)\n""}]",0,887176,9f8ed20e812942337936410d13fb0ef1fd90970f,10,2,2,26285,,,0,"[CI]: Don't run periodic jobs on stable branchs

we don't need to pulish trove image with stable branches everyday.

Change-Id: I72e68d9e7df6a82b4635abac995299be770546ce
(cherry picked from commit 7a6666f4f301cd4a9a4d2b7380546893f0c1c6f8)
",git fetch https://review.opendev.org/openstack/trove refs/changes/76/887176/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,f5ed5154db6ffb3c7a20152d8b21c17699c94ceb,,"<<<<<<< HEAD (b195a6 Fix ""create database"" failed for postgress) - publish-trove-guest-image-ubuntu-focal-dev ======= - publish-trove-guest-image-ubuntu-focal: branches: ^(?!stable/.*).*$ - publish-trove-guest-image-ubuntu-focal-dev: branches: ^(?!stable/.*).*$ - publish-trove-datastore-images: branches: ^(?!stable/.*).*$ >>>>>>> CHANGE (959e9c [CI]: Don't run periodic jobs on stable branchs) ", - publish-trove-guest-image-ubuntu-focal-dev,10,1
openstack%2Frequirements~master~I7c7167a9b6fc4cdefb06cbb21e050aee3bbe0259,openstack/requirements,master,I7c7167a9b6fc4cdefb06cbb21e050aee3bbe0259,update constraint for openstacksdk to new release 1.3.1,MERGED,2023-06-29 12:35:22.000000000,2023-06-30 02:25:30.000000000,2023-06-30 02:24:12.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 12:35:22.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3fb9d61cad09d96e2cf6c6ec8d6c9db5777b0d02', 'message': 'update constraint for openstacksdk to new release 1.3.1\n\nmeta: version: 1.3.1\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: ricolin <rlin@vexxhost.com>\nmeta: release:Commit: ricolin <rlin@vexxhost.com>\nmeta: release:Change-Id: Ie3d1379610058a1fec762ca1231d2c6ed89c72e1\nmeta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nChange-Id: I7c7167a9b6fc4cdefb06cbb21e050aee3bbe0259\n'}]",1,887269,3fb9d61cad09d96e2cf6c6ec8d6c9db5777b0d02,9,3,1,11131,,,0,"update constraint for openstacksdk to new release 1.3.1

meta: version: 1.3.1
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: ricolin <rlin@vexxhost.com>
meta: release:Commit: ricolin <rlin@vexxhost.com>
meta: release:Change-Id: Ie3d1379610058a1fec762ca1231d2c6ed89c72e1
meta: release:Code-Review+1: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
Change-Id: I7c7167a9b6fc4cdefb06cbb21e050aee3bbe0259
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/887269/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3fb9d61cad09d96e2cf6c6ec8d6c9db5777b0d02,new-release,openstacksdk===1.3.1,openstacksdk===1.3.0,1,1
openstack%2Ftempest~master~I3d5f84279859a5f6ca5ce9ab81041974fd0f6c2f,openstack/tempest,master,I3d5f84279859a5f6ca5ce9ab81041974fd0f6c2f,Increase concurrency for tempest-slow jobs,MERGED,2023-06-28 18:22:50.000000000,2023-06-30 01:12:37.000000000,2023-06-30 01:10:45.000000000,"[{'_account_id': 4690}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-28 18:22:50.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/integrated-gate.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/08329968e6e5eb172da2465a240f54d3d789b241', 'message': ""Increase concurrency for tempest-slow jobs\n\ntempest-slow jobs are set with concurrency 2 which\nmeans only two cpu are used to run the test. There\nis no reason to restrict the tempest slow job to\ntwo test runner worker. Maybe this is causing this\njob to take long time and now a days it is timeout\na lot\n- https://zuul.opendev.org/t/openstack/builds?job_name=tempest-slow-py3&skip=0\n\nLet's unset the concurrency and stestr distribute the tests\nto run by counting the number of cpu on test node.\n\nChange-Id: I3d5f84279859a5f6ca5ce9ab81041974fd0f6c2f\n""}]",5,887218,08329968e6e5eb172da2465a240f54d3d789b241,18,5,1,8556,,,0,"Increase concurrency for tempest-slow jobs

tempest-slow jobs are set with concurrency 2 which
means only two cpu are used to run the test. There
is no reason to restrict the tempest slow job to
two test runner worker. Maybe this is causing this
job to take long time and now a days it is timeout
a lot
- https://zuul.opendev.org/t/openstack/builds?job_name=tempest-slow-py3&skip=0

Let's unset the concurrency and stestr distribute the tests
to run by counting the number of cpu on test node.

Change-Id: I3d5f84279859a5f6ca5ce9ab81041974fd0f6c2f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/18/887218/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stable-jobs.yaml', 'zuul.d/integrated-gate.yaml']",2,08329968e6e5eb172da2465a240f54d3d789b241,job-timeout,, tempest_concurrency: 2,0,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I53e5a3d763aad116e4287949dcc6a155a5713f27,openstack/tripleo-heat-templates,stable/train,I53e5a3d763aad116e4287949dcc6a155a5713f27,[TRAIN-ONLY] Add more cases for container health check,MERGED,2023-01-14 23:44:41.000000000,2023-06-30 00:16:36.000000000,2023-06-30 00:16:36.000000000,"[{'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-01-14 23:44:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/94ea9ce9b20e9cb7fb635c077c77f6c932e0b21a', 'message': '[TRAIN-ONLY] Add more cases for container health check\n\nThis patch adds cases such as stopped container or failing to start\ncontainer or starting container to known states, so we report\ncontainer health more accurately.\n\nOnly on stable/train we have to use log parsing. Wallaby+ is using\npodman socker for fetchin container data.\n\nCloses: rhbz#2149002\nChange-Id: I53e5a3d763aad116e4287949dcc6a155a5713f27\n'}, {'number': 2, 'created': '2023-01-17 14:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33415fcdbc6d96ed9d985225b76d9669ce41ba28', 'message': '[TRAIN-ONLY] Add more cases for container health check\n\nThis patch adds cases such as stopped container or failing to start\ncontainer or starting container to known states, so we report\ncontainer health more accurately.\n\nsystemd also stops executing failing health checks so log record\nabout container down appears and is reported only once the container\ngoes down. This patch adds also a cron job to ensure all health checks\nare executed at least every 5 minutes.\n\nOnly on stable/train we have to use log parsing. Wallaby+ is using\npodman socker for fetchin container data.\n\nCloses: rhbz#2149002\nChange-Id: I53e5a3d763aad116e4287949dcc6a155a5713f27\n'}, {'number': 3, 'created': '2023-01-17 14:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e311d7a32f16708a88b2cf782f417c14b2170df3', 'message': '[TRAIN-ONLY] Add more cases for container health check\n\nThis patch adds cases such as stopped container or failing to start\ncontainer or starting container to known states, so we report\ncontainer health more accurately.\n\nsystemd also stops executing failing health checks so log record\nabout container down appears and is reported only once the container\ngoes down. This patch adds also a cron job to ensure all health checks\nare executed at least every 5 minutes.\n\nOnly on stable/train we have to use log parsing. Wallaby+ is using\npodman socket for fetching container data.\n\nCloses: rhbz#2149002\nChange-Id: I53e5a3d763aad116e4287949dcc6a155a5713f27\n'}, {'number': 4, 'created': '2023-02-09 14:19:57.000000000', 'files': ['container_config_scripts/monitoring/collectd_check_health.py', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34a12e27507b2616f0cff71a91847d1d199ab39a', 'message': '[TRAIN-ONLY] Add more cases for container health check\n\nThis patch adds cases such as stopped container or failing to start\ncontainer or starting container to known states, so we report\ncontainer health more accurately.\n\nsystemd also stops executing failing health checks so log record\nabout container down appears and is reported only once the container\ngoes down. This patch adds also a cron job to ensure all health checks\nare executed at least every 5 minutes.\n\nOnly on stable/train we have to use log parsing. Wallaby+ is using\npodman socket for fetching container data.\n\nCloses: rhbz#2149002\nChange-Id: I53e5a3d763aad116e4287949dcc6a155a5713f27\n'}]",3,870431,34a12e27507b2616f0cff71a91847d1d199ab39a,23,8,4,5241,,,0,"[TRAIN-ONLY] Add more cases for container health check

This patch adds cases such as stopped container or failing to start
container or starting container to known states, so we report
container health more accurately.

systemd also stops executing failing health checks so log record
about container down appears and is reported only once the container
goes down. This patch adds also a cron job to ensure all health checks
are executed at least every 5 minutes.

Only on stable/train we have to use log parsing. Wallaby+ is using
podman socket for fetching container data.

Closes: rhbz#2149002
Change-Id: I53e5a3d763aad116e4287949dcc6a155a5713f27
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/870431/4 && git format-patch -1 --stdout FETCH_HEAD,"['container_config_scripts/monitoring/collectd_check_health.py', 'deployment/metrics/collectd-container-puppet.yaml']",2,94ea9ce9b20e9cb7fb635c077c77f6c932e0b21a,hc-dead-container, if ($programname startswith 'podman' and $msg contains 'container') or ($programname startswith 'systemd' and ($msg contains 'healthcheck' or $msg contains 'container' or $msg contains 'tripleo_')) or ($programname startswith 'healthcheck_') then -/var/log/containers/collectd/healthchecks.log, if ($programname startswith 'podman' and $msg contains 'container exec') or ($programname startswith 'systemd' and $msg contains 'healthcheck') or ($programname startswith 'healthcheck_') then -/var/log/containers/collectd/healthchecks.log,32,12
openstack%2Fcinder~master~Ie48225660e9ea641b3f5197d18f20571687caabd,openstack/cinder,master,Ie48225660e9ea641b3f5197d18f20571687caabd,Remove six from dell_emc drivers,MERGED,2023-05-23 14:30:20.000000000,2023-06-30 00:05:38.000000000,2023-06-30 00:03:39.000000000,"[{'_account_id': 9236}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-05-23 14:30:20.000000000', 'files': ['cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_snapshot.py', 'cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/res_mock.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_volume_from_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/utils.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/mocks.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_manage_existing.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_cloned_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/fake_enum.py', 'cinder/volume/drivers/dell_emc/powerflex/driver.py', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/volume/drivers/dell_emc/powerflex/rest_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_extend_volume.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0d471a43ffde8c254c7785449119351d8bda7d23', 'message': 'Remove six from dell_emc drivers\n\nChange-Id: Ie48225660e9ea641b3f5197d18f20571687caabd\n'}]",7,883944,0d471a43ffde8c254c7785449119351d8bda7d23,53,5,1,4523,,,0,"Remove six from dell_emc drivers

Change-Id: Ie48225660e9ea641b3f5197d18f20571687caabd
",git fetch https://review.opendev.org/openstack/cinder refs/changes/44/883944/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_snapshot.py', 'cinder/volume/drivers/dell_emc/powermax/iscsi.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_api.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/res_mock.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/__init__.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_volume_from_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_migrate_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/utils.py', 'cinder/volume/drivers/dell_emc/powermax/metadata.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_utils.py', 'cinder/volume/drivers/dell_emc/vnx/adapter.py', 'cinder/volume/drivers/dell_emc/powermax/rest.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/mocks.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_manage_existing.py', 'cinder/volume/drivers/dell_emc/sc/storagecenter_common.py', 'cinder/volume/drivers/dell_emc/vnx/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_create_cloned_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_common.py', 'cinder/volume/drivers/dell_emc/powermax/utils.py', 'cinder/tests/unit/volume/drivers/dell_emc/test_xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/vnx/fake_enum.py', 'cinder/volume/drivers/dell_emc/powerflex/driver.py', 'cinder/volume/drivers/dell_emc/unity/utils.py', 'cinder/volume/drivers/dell_emc/powermax/masking.py', 'cinder/volume/drivers/dell_emc/powermax/common.py', 'cinder/volume/drivers/dell_emc/unity/driver.py', 'cinder/volume/drivers/dell_emc/powerflex/rest_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_volume.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_delete_snapshot.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerstore/test_client.py', 'cinder/tests/unit/volume/drivers/dell_emc/powerflex/test_extend_volume.py', 'cinder/volume/drivers/dell_emc/xtremio.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/test_powermax_replication.py', 'cinder/tests/unit/volume/drivers/dell_emc/powermax/powermax_data.py']",34,0d471a43ffde8c254c7785449119351d8bda7d23,," provider_location2 = {'array': str(array), provider_location3 = {'array': str(remote_array), provider_location4 = {'array': str(uni_array), 'replication_driver_data': str( provider_location=str(provider_location), replication_driver_data=str(provider_location3)) provider_location=str(provider_location), replication_driver_data=str(provider_location3), provider_location=str(provider_location), host=fake_host, replication_driver_data=str(provider_location3)) provider_location=str(legacy_provider_location), replication_driver_data=str(legacy_provider_location2), provider_location=str(provider_location2), provider_location=str(provider_location), replication_driver_data=str(provider_location4)) provider_location=str(snap_location), provider_location=str(legacy_provider_location), provider_location=str(snap_location), provider_location=str(snap_location), host=fake_host, provider_location=str(provider_location)) host=fake_host, provider_location=str(provider_location), provider_location=str(provider_location), replication_driver_data=str(provider_location3), {'provider_location': str(provider_location), {'provider_location': str(provider_location),","import six provider_location2 = {'array': six.text_type(array), provider_location3 = {'array': six.text_type(remote_array), provider_location4 = {'array': six.text_type(uni_array), 'replication_driver_data': six.text_type( provider_location=six.text_type(provider_location), replication_driver_data=six.text_type(provider_location3)) provider_location=six.text_type(provider_location), replication_driver_data=six.text_type(provider_location3), provider_location=six.text_type(provider_location), host=fake_host, replication_driver_data=six.text_type(provider_location3)) provider_location=six.text_type(legacy_provider_location), replication_driver_data=six.text_type(legacy_provider_location2), provider_location=six.text_type(provider_location2), provider_location=six.text_type(provider_location), replication_driver_data=six.text_type(provider_location4)) provider_location=six.text_type(snap_location), provider_location=six.text_type(legacy_provider_location), provider_location=six.text_type(snap_location), provider_location=six.text_type(snap_location), host=fake_host, provider_location=six.text_type(provider_location)) host=fake_host, provider_location=six.text_type(provider_location), provider_location=six.text_type(provider_location), replication_driver_data=six.text_type(provider_location3), {'provider_location': six.text_type(provider_location), {'provider_location': six.text_type(provider_location),",170,197
openstack%2Fcinder~master~I4763435723a77cd49015c8802164e5564cc5f157,openstack/cinder,master,I4763435723a77cd49015c8802164e5564cc5f157,Remove six from kaminario driver,MERGED,2023-05-30 13:14:44.000000000,2023-06-30 00:04:47.000000000,2023-06-30 00:03:36.000000000,"[{'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 29122}, {'_account_id': 32074}, {'_account_id': 32238}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-05-30 13:14:44.000000000', 'files': ['cinder/volume/drivers/kaminario/kaminario_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/93d042962f95735efb991047865c67fe4c1bef95', 'message': 'Remove six from kaminario driver\n\nChange-Id: I4763435723a77cd49015c8802164e5564cc5f157\n'}]",5,884693,93d042962f95735efb991047865c67fe4c1bef95,35,7,1,4523,,,0,"Remove six from kaminario driver

Change-Id: I4763435723a77cd49015c8802164e5564cc5f157
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/884693/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/kaminario/kaminario_common.py'],1,93d042962f95735efb991047865c67fe4c1bef95,, reason=str(err_msg)),import six reason=six.text_type(err_msg)),1,2
openstack%2Fcinder~master~Icb44fd5fe021d0da8a880e341a32686b9ae009b4,openstack/cinder,master,Icb44fd5fe021d0da8a880e341a32686b9ae009b4,Remove six from qnap driver,MERGED,2023-06-05 14:13:01.000000000,2023-06-29 23:43:13.000000000,2023-06-29 23:42:06.000000000,"[{'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-06-05 14:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/904cf3bddd77752a1e03e32f175da95be37faffe', 'message': 'Remove ""six"" from qnap driver\n\nDrop usage of python-six.\n\nChange-Id: Icb44fd5fe021d0da8a880e341a32686b9ae009b4\n'}, {'number': 2, 'created': '2023-06-06 12:03:56.000000000', 'files': ['cinder/volume/drivers/qnap.py', 'cinder/tests/unit/volume/drivers/test_qnap.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/141ff8865ec92b18ee2341896786bacb88b296ef', 'message': 'Remove six from qnap driver\n\nDrop usage of python-six.\n\nChange-Id: Icb44fd5fe021d0da8a880e341a32686b9ae009b4\n'}]",4,885289,141ff8865ec92b18ee2341896786bacb88b296ef,38,4,2,4523,,,0,"Remove six from qnap driver

Drop usage of python-six.

Change-Id: Icb44fd5fe021d0da8a880e341a32686b9ae009b4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/885289/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/qnap.py', 'cinder/tests/unit/volume/drivers/test_qnap.py']",2,904cf3bddd77752a1e03e32f175da95be37faffe,, sanitized = {_key: str(_value), sanitized = {_key: six.text_type(_value),12,13
openstack%2Fopenstack-helm-images~master~Ia9cbdd7395fb601804f6568d76c15e45de20018f,openstack/openstack-helm-images,master,Ia9cbdd7395fb601804f6568d76c15e45de20018f,Fix periodic weekly ovn promote job,MERGED,2023-06-29 21:50:17.000000000,2023-06-29 22:44:09.000000000,2023-06-29 22:42:24.000000000,"[{'_account_id': 22348}, {'_account_id': 33330}]","[{'number': 1, 'created': '2023-06-29 21:50:17.000000000', 'files': ['zuul.d/ovn.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/226ae06eccecbc5fd2f93e86f7dbec363bf9688a', 'message': 'Fix periodic weekly ovn promote job\n\nChange-Id: Ia9cbdd7395fb601804f6568d76c15e45de20018f\n'}]",1,887342,226ae06eccecbc5fd2f93e86f7dbec363bf9688a,7,2,1,3009,,,0,"Fix periodic weekly ovn promote job

Change-Id: Ia9cbdd7395fb601804f6568d76c15e45de20018f
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/42/887342/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ovn.yaml'],1,226ae06eccecbc5fd2f93e86f7dbec363bf9688a,, - openstack-helm-images-promote-ovn: dependencies: - name: openstack-helm-images-upload-ovn, - openstack-helm-images-promote-ovn,3,1
openstack%2Fneutron~master~Ic3640204449c56918e07ebb3d7e29b2165025602,openstack/neutron,master,Ic3640204449c56918e07ebb3d7e29b2165025602,Subnet now inherit the sRBAC perm. from the parent resource Network,MERGED,2023-06-29 14:14:23.000000000,2023-06-29 21:58:22.000000000,2023-06-29 21:56:43.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 14:14:23.000000000', 'files': ['neutron/tests/unit/extensions/test_expose_port_forwarding_in_fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c09dbdb2ab5d519bd918f7fc77b51865c2e58d9', 'message': 'Subnet now inherit the sRBAC perm. from the parent resource Network\n\nSince [1], that is going to be released in neutron-lib 3.7.0, the Subnet\nresource inherits the same permissions as the parent resource Network.\n\n[1]https://review.opendev.org/c/openstack/neutron-lib/+/886746\n\nCloses-Bug: #2025368\nChange-Id: Ic3640204449c56918e07ebb3d7e29b2165025602\n'}]",2,887287,0c09dbdb2ab5d519bd918f7fc77b51865c2e58d9,13,6,1,16688,,,0,"Subnet now inherit the sRBAC perm. from the parent resource Network

Since [1], that is going to be released in neutron-lib 3.7.0, the Subnet
resource inherits the same permissions as the parent resource Network.

[1]https://review.opendev.org/c/openstack/neutron-lib/+/886746

Closes-Bug: #2025368
Change-Id: Ic3640204449c56918e07ebb3d7e29b2165025602
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/887287/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/extensions/test_expose_port_forwarding_in_fip.py'],1,0c09dbdb2ab5d519bd918f7fc77b51865c2e58d9,bug/2025368," with self.subnet(network=extnet, cidr='200.0.0.0/22', as_admin=True),\"," with self.subnet(network=extnet, cidr='200.0.0.0/22'),\",2,1
openstack%2Fneutron~stable%2F2023.1~I36991328cabcbd6fa473b8d1d140ba88c774fb23,openstack/neutron,stable/2023.1,I36991328cabcbd6fa473b8d1d140ba88c774fb23,Delete network namespace on last port deletion,MERGED,2023-06-27 09:54:44.000000000,2023-06-29 21:57:56.000000000,2023-06-29 21:56:39.000000000,"[{'_account_id': 1131}, {'_account_id': 7730}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 09:54:44.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/31a79f155e105cb9b18e7724d95c73be0cd6aa56', 'message': 'Delete network namespace on last port deletion\n\nSince a DHCP agent can handle multiple networks, each with\ntheir own unique network namespace, we must track in-use\nports by network ID, so we delete the namespace when the\nlast port on that network is removed. If we group all the\nports together then we could have stale, empty namespaces\nuntil we either delete all the ports (unlikely) or the\ndhcp-agent is restarted and does cleanup.\n\nRegression introduced by\nhttps://review.opendev.org/c/openstack/neutron/+/840421\n\nCloses-bug: #2015388\nChange-Id: I36991328cabcbd6fa473b8d1d140ba88c774fb23\n(cherry picked from commit dfe29e676002da04d46314ec1aa22054664ad2b4)\n'}]",6,887026,31a79f155e105cb9b18e7724d95c73be0cd6aa56,25,4,1,16688,,,0,"Delete network namespace on last port deletion

Since a DHCP agent can handle multiple networks, each with
their own unique network namespace, we must track in-use
ports by network ID, so we delete the namespace when the
last port on that network is removed. If we group all the
ports together then we could have stale, empty namespaces
until we either delete all the ports (unlikely) or the
dhcp-agent is restarted and does cleanup.

Regression introduced by
https://review.opendev.org/c/openstack/neutron/+/840421

Closes-bug: #2015388
Change-Id: I36991328cabcbd6fa473b8d1d140ba88c774fb23
(cherry picked from commit dfe29e676002da04d46314ec1aa22054664ad2b4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/887026/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,31a79f155e105cb9b18e7724d95c73be0cd6aa56,bug/2015388," # Track running interfaces, indexed by network ID, for example, # {net-id-1: set(intf_1, intf_2), net-id-2: set(intf_3, intf_4), ...} _interfaces = collections.defaultdict(set) def _add_running_interface(cls, interface, network_id): """"""Safe method that adds a given interface"""""" cls._interfaces[network_id].add(interface) def _del_running_interface(cls, interface, network_id): """"""Safe method that removes a given interface"""""" if cls._interfaces.get(network_id): if interface in cls._interfaces[network_id]: cls._interfaces[network_id].remove(interface) # no entries, cleanup if not cls._interfaces[network_id]: del cls._interfaces[network_id] def _has_running_interfaces(cls, network_id): """"""Safe method that checks for interfaces"""""" bool(cls._interfaces.get(network_id)) self._add_running_interface(self.interface_name, self.network.id) self._del_running_interface(self.interface_name, self.network.id) # Delete namespace only if there are no running interfaces in it, # which covers the case where a network has multiple segmentation ids. if not self._has_running_interfaces(self.network.id):"," # Track running interfaces. _interfaces = set() def _add_running_interface(cls, interface): """"""Safe method that add running interface"""""" cls._interfaces.add(interface) def _del_running_interface(cls, interface): """"""Safe method that remove given interface"""""" if interface in cls._interfaces: cls._interfaces.remove(interface) def _has_running_interfaces(cls): """"""Safe method that remove given interface"""""" return bool(cls._interfaces) self._add_running_interface(self.interface_name) self._del_running_interface(self.interface_name) if not self._has_running_interfaces(): # Delete nm only if we don't serve different segmentation id.",65,16
openstack%2Fneutron-tempest-plugin~master~I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92,openstack/neutron-tempest-plugin,master,I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92,[Stateless SG] Add IPv6 and DHCP related tests,MERGED,2023-02-10 15:31:16.000000000,2023-06-29 21:56:48.000000000,2023-06-29 21:56:48.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2023-02-10 15:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4f093c808c9130e07902772a5476e4aaa725eb88', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nCurrently due to bug [1] those tests are skipped as they are failing.\n\n[1] https://bugs.launchpad.net/neutron/+bug/2006949\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 2, 'created': '2023-02-22 13:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/361139f21904b760f594c9708e448a11c4ce59f0', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nCurrently due to bug [1] those tests are skipped as they are failing.\n\n[1] https://bugs.launchpad.net/neutron/+bug/2006949\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 3, 'created': '2023-03-10 09:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/de227981e05f6b47f991cbafcfd92f531620830e', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/877049\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 4, 'created': '2023-03-15 11:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a89ac3ca3e0cd0bd06e29de5897cf85d47bd41c1', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/877049\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 5, 'created': '2023-03-20 09:35:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0fb6417b81504608fcf35cddb59e73ed33e283dc', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/877049\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 6, 'created': '2023-03-29 09:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/f7f6dbb368b550a315f9716a248f8984fc6578fc', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 7, 'created': '2023-03-30 09:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c5afe8ca6c6929579c1f3717de897598d66a94f9', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 8, 'created': '2023-03-30 12:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/661a7780c7aedd1fa75136efd8d4fa1c58a90ca0', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 9, 'created': '2023-04-04 07:27:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/b603927dbf539176a2e931ebad4aa0eee3ee188f', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 10, 'created': '2023-04-20 14:53:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e3575ba9a94c59be80cf7aef08a70e047e4186b2', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 11, 'created': '2023-05-04 10:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e32732da6230a53ddfaca28c6b115202966b5e9c', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\n'}, {'number': 12, 'created': '2023-05-04 20:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/0fa55f8b97ecf87cb44483b290128af369164e85', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\n'}, {'number': 13, 'created': '2023-05-04 20:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d21864a3d6b1357c9f8e7585ed8c16dee810ba7c', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\n'}, {'number': 14, 'created': '2023-05-09 19:52:19.000000000', 'files': ['neutron_tempest_plugin/scenario/test_security_groups.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5a9c67741274e49841091221e21365db810b81b1', 'message': '[Stateless SG] Add IPv6 and DHCP related tests\n\nWhen stateless SG are used RA packets may be blocked as there is no\nstateful connections in SG so it will not be by default accepted\nas related to the outgoing RS packets.\nTo confirm that this works fine, this patch adds new, dual stack cases\nfor the test ""test_default_sec_grp_scenarios"". This test is the same as\nexisting test_default_sec_grp_scenarios for stateful and stateless IPv4\nscenarios but additionally checks at the end if IPv6 addresses were\nconfigured properly in the guest VMs.\n\nChange-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\n'}]",56,873380,5a9c67741274e49841091221e21365db810b81b1,88,8,14,11975,,,0,"[Stateless SG] Add IPv6 and DHCP related tests

When stateless SG are used RA packets may be blocked as there is no
stateful connections in SG so it will not be by default accepted
as related to the outgoing RS packets.
To confirm that this works fine, this patch adds new, dual stack cases
for the test ""test_default_sec_grp_scenarios"". This test is the same as
existing test_default_sec_grp_scenarios for stateful and stateless IPv4
scenarios but additionally checks at the end if IPv6 addresses were
configured properly in the guest VMs.

Change-Id: I1595e5c2072f43e9c8fd7cbfe6fa25815f1ffd92
Depends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/80/873380/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_security_groups.py'],1,4f093c808c9130e07902772a5476e4aaa725eb88,I6d7f6f4fbabc6273b170dfb963a8a37200e9fbc2,"import collectionsfrom neutron_tempest_plugin.common import ip cls.reserve_external_subnet_cidrs() if cls.ipv6_mode: cls.subnet_v6 = cls.create_subnet( cls.network, ip_version=constants.IP_VERSION_6, ipv6_ra_mode=cls.ipv6_mode, ipv6_address_mode=cls.ipv6_mode) cls.create_router_interface(router['id'], cls.subnet_v6['id']) return server_ssh_clients, fips, servers ipv6_mode = Noneclass StatelessNetworkSecGroupIPv4Test(BaseNetworkSecGroupTest): ipv6_mode='slaac' class StatelessSecGroupDualStackSlaacTest(BaseNetworkSecGroupTest): required_extensions = ['security-group', 'stateful-security-group'] stateless_sg = True ipv6_mode='slaac' def _get_server_ipv6_configuration(self, server): configuration = collections.defaultdict(list) ports = self.client.list_ports(device_id=server['id'])['ports'] for port in ports: for fixed_ip in port['fixed_ips']: ip = netaddr.IPAddress(fixed_ip['ip_address']) if ip.version == constants.IP_VERSION_6: configuration[port['mac_address']].append(ip) return configuration def _get_port_cidrs(self, port): ips = [] subnet_cidrs = {} for fixed_ip in port['fixed_ips']: subnet_id = fixed_ip['subnet_id'] subnet_cidr = subnet_cidrs.get('subnet_id') if not subnet_cidr: subnet = self.client.show_subnet(subnet_id)['subnet'] subnet_cidr = netaddr.IPNetwork(subnet['cidr']) subnet_cidrs[subnet_id] = subnet_cidr ips.append( netaddr.IPNetwork( ""%s/%s"" % (fixed_ip['ip_address'], subnet_cidr.prefixlen))) return ips def _test_default_sec_grp_scenarios(self): server_ssh_clients, _, servers = self._test_default_sec_grp_scenarios() for i, server in enumerate(servers): ip_cmd = ip.IPCommand(ssh_client=server_ssh_clients[i]) expected_ips = [] ports = self.client.list_ports( device_id=server['server']['id'])['ports'] for port in ports: port_cidrs = self._get_port_cidrs(port) configured_cidrs = [ip.network for ip in ip_cmd.list_addresses(port=port)] for port_cidr in self._get_port_cidrs(port): self.assertIn(port_cidr, configured_cidrs) @decorators.idempotent_id('e7d64384-ea6a-40aa-b454-854f0990153c') def test_default_sec_grp_scenarios(self): self.skipTest(""bug 2006949"") self._test_default_sec_grp_scenarios() class StatelessSecGroupDualStackDHCPv6StatelessTest( StatelessSecGroupDualStackSlaacTest): required_extensions = ['security-group', 'stateful-security-group'] stateless_sg = True ipv6_mode='dhcpv6-stateless' @decorators.idempotent_id('c61c127c-e08f-4ddf-87a3-58b3c86e5476') def test_default_sec_grp_scenarios(self): self.skipTest(""bug 2006949"") self._test_default_sec_grp_scenarios()",class StatelessNetworkSecGroupTest(BaseNetworkSecGroupTest):,76,1
openstack%2Fneutron-tempest-plugin~master~I6d7f6f4fbabc6273b170dfb963a8a37200e9fbc2,openstack/neutron-tempest-plugin,master,I6d7f6f4fbabc6273b170dfb963a8a37200e9fbc2,gate: bump ovn to the latest LTS release (22.03),MERGED,2023-04-19 20:36:16.000000000,2023-06-29 21:56:46.000000000,2023-06-29 21:56:46.000000000,"[{'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-19 20:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/899c97c12cf69cc5562205bbd1ec79c04ccba9c8', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nChange-Id: I6d7f6f4fbabc6273b170dfb963a8a37200e9fbc2\n'}, {'number': 2, 'created': '2023-04-19 21:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3af85f3ea097056f234dba2e3985925c1dcedded', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\nChange-Id: I6d7f6f4fbabc6273b170dfb963a8a37200e9fbc2\n'}, {'number': 3, 'created': '2023-05-04 20:14:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4a0e8d8648a04d5b6e961f762fda31eb203b0458', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nDepends-On: Id1328d7cba418fa7c227ae9db4fe83c09fd06035\nChange-Id: I6d7f6f4fbabc6273b170dfb963a8a37200e9fbc2\n'}, {'number': 4, 'created': '2023-05-04 20:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/5b4f44c3631071be4bf6a824785cd047587badab', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nDepends-On: I2a633741d5e95f0e46a6b33198903f0f44d449b6\nChange-Id: I6d7f6f4fbabc6273b170dfb963a8a37200e9fbc2\n'}, {'number': 5, 'created': '2023-05-09 19:52:02.000000000', 'files': ['zuul.d/master_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/cb596489a73389b1817d32e8b478f606f3d7f1b8', 'message': 'gate: bump ovn to the latest LTS release (22.03)\n\n21.03 is no longer supported upstream. We should try to stick to LTS\nreleases of OVN if possible.\n\nThe patch locks the version as the latest git commit in branch-22.03\n(ovs is also locked to the corresponding submodule version). This is\ndone to include a just merged fix for protocols used for ipv6 address\nconfiguration (ra, na, mld*).\n\nOnce 22.03.3 is tagged in OVN repo, we can switch to it.\n\nDepends-On: I83fc9250ae5b7c1686938a0dd25d66b40fc6c6aa\nDepends-On: I2a633741d5e95f0e46a6b33198903f0f44d449b6\nChange-Id: I6d7f6f4fbabc6273b170dfb963a8a37200e9fbc2\n'}]",12,880889,cb596489a73389b1817d32e8b478f606f3d7f1b8,29,4,5,9656,,,0,"gate: bump ovn to the latest LTS release (22.03)

21.03 is no longer supported upstream. We should try to stick to LTS
releases of OVN if possible.

The patch locks the version as the latest git commit in branch-22.03
(ovs is also locked to the corresponding submodule version). This is
done to include a just merged fix for protocols used for ipv6 address
configuration (ra, na, mld*).

Once 22.03.3 is tagged in OVN repo, we can switch to it.

Depends-On: I83fc9250ae5b7c1686938a0dd25d66b40fc6c6aa
Depends-On: I2a633741d5e95f0e46a6b33198903f0f44d449b6
Change-Id: I6d7f6f4fbabc6273b170dfb963a8a37200e9fbc2
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/89/880889/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/master_jobs.yaml'],1,899c97c12cf69cc5562205bbd1ec79c04ccba9c8,," # TODO(ihrachys): switch back to a tagged version when it's released # OVN_BRANCH: ""v22.03.3"" OVN_BRANCH: ""36e3ab9b47e93af0599a818e9d6b2930e49473f0"" OVS_BRANCH: ""2410b95597fcec5f733caf77febdb46f4ffacd27"" # TODO(ihrachys): switch back to a tagged version when it's released # OVN_BRANCH: ""v22.03.3"" OVN_BRANCH: ""36e3ab9b47e93af0599a818e9d6b2930e49473f0"" OVS_BRANCH: ""2410b95597fcec5f733caf77febdb46f4ffacd27"""," OVN_BRANCH: ""v21.03.0"" OVS_BRANCH: ""8dc1733eaea866dce033b3c44853e1b09bf59fc7"" OVN_BRANCH: ""v21.06.0"" OVS_BRANCH: ""a4b04276ab5934d087669ff2d191a23931335c87""",8,4
openstack%2Fcharm-keystone~master~Ifd99ea307a6e4d1d034d7c1e494e2cd8abd894e9,openstack/charm-keystone,master,Ifd99ea307a6e4d1d034d7c1e494e2cd8abd894e9,Add package-upgrade action,MERGED,2022-01-07 15:33:11.000000000,2023-06-29 21:53:02.000000000,2023-06-29 21:53:02.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 15:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/9228940ab9bc39dec4defd6d96fb5940d558d94a', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ifd99ea307a6e4d1d034d7c1e494e2cd8abd894e9\n'}, {'number': 2, 'created': '2022-01-07 15:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/919e0ed7bbbb9d67839749644c4bb2d0106011e7', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ifd99ea307a6e4d1d034d7c1e494e2cd8abd894e9\n'}, {'number': 3, 'created': '2022-01-07 15:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/701b96796c94c8b9a61f05f9b363ba3f387cf425', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ifd99ea307a6e4d1d034d7c1e494e2cd8abd894e9\n'}, {'number': 4, 'created': '2022-01-07 21:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/17468fafee7dcebdc62ba425c1d5b8a398d49456', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ifd99ea307a6e4d1d034d7c1e494e2cd8abd894e9\n'}, {'number': 5, 'created': '2023-06-02 10:24:06.000000000', 'files': ['charmhelpers/fetch/ubuntu_apt_pkg.py', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'actions/package_upgrade.py', 'actions/package-upgrade', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/ac87b4bce5467d7e3cf3f9f870a3cc1436bd1dd2', 'message': 'Add package-upgrade action\n\nThe package-upgrade action performs package upgrades for the current\nOpenStack release.\n\nThe code path used is similar to the openstack-upgrade action, with the\ndifference being that package-upgrade will not execute if an openstack\nupgrade is available (based on the openstack-origin setting).\n\nThis change includes a charm-helpers sync.\n\nChange-Id: Ifd99ea307a6e4d1d034d7c1e494e2cd8abd894e9\n'}]",3,823819,ac87b4bce5467d7e3cf3f9f870a3cc1436bd1dd2,23,4,5,11805,,,0,"Add package-upgrade action

The package-upgrade action performs package upgrades for the current
OpenStack release.

The code path used is similar to the openstack-upgrade action, with the
difference being that package-upgrade will not execute if an openstack
upgrade is available (based on the openstack-origin setting).

This change includes a charm-helpers sync.

Change-Id: Ifd99ea307a6e4d1d034d7c1e494e2cd8abd894e9
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/19/823819/5 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/python.py', 'charmhelpers/core/services/helpers.py', 'charmhelpers/core/hookenv.py', 'charmhelpers/contrib/hardening/host/checks/sysctl.py', 'unit_tests/test_actions_package_upgrade.py', 'charmhelpers/contrib/openstack/keystone.py', 'actions/package-upgrade', 'charmhelpers/core/strutils.py', 'charmhelpers/contrib/hardening/harden.py', 'charmhelpers/contrib/hahelpers/cluster.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'charmhelpers/contrib/hardening/audits/apache.py', 'charmhelpers/contrib/openstack/policyd.py', 'charmhelpers/contrib/openstack/context.py', 'actions/package_upgrade.py', 'charmhelpers/contrib/network/ip.py', 'charmhelpers/core/templating.py', 'charmhelpers/fetch/archiveurl.py', 'charmhelpers/contrib/openstack/neutron.py', 'charmhelpers/contrib/storage/linux/loopback.py', 'actions.yaml', 'charmhelpers/__init__.py', 'charmhelpers/contrib/hardening/host/checks/login.py', 'charmhelpers/contrib/hardening/apache/checks/config.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/core/services/base.py', 'charmhelpers/fetch/__init__.py', 'charmhelpers/contrib/hardening/templating.py', 'charmhelpers/contrib/hardening/utils.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charmhelpers/fetch/python/debug.py', 'charmhelpers/fetch/python/packages.py', 'charmhelpers/contrib/hardening/mysql/checks/config.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/core/host.py', 'charmhelpers/contrib/hardening/audits/file.py', 'charmhelpers/contrib/hardening/audits/apt.py', 'charmhelpers/cli/__init__.py', 'charmhelpers/contrib/openstack/templating.py', 'charmhelpers/fetch/centos.py']",45,9228940ab9bc39dec4defd6d96fb5940d558d94a,package-upgrade-action," if isinstance(packages, str): if isinstance(packages, str): if isinstance(packages, str):","import six if isinstance(packages, six.string_types): if isinstance(packages, six.string_types): if isinstance(packages, six.string_types):",427,435
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I70b71d45a729e61ef58a04e061d8739c926b7700,openstack/tripleo-heat-templates,stable/wallaby,I70b71d45a729e61ef58a04e061d8739c926b7700,[ffwd3] Fix node_names variable for cell stacks,MERGED,2023-06-08 08:28:39.000000000,2023-06-29 20:03:22.000000000,2023-06-29 20:03:22.000000000,"[{'_account_id': 18002}, {'_account_id': 20775}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-06-08 08:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fd3b843180828fcc4ee4c4016d335a2693d7503', 'message': '[ffwd3] Fix node_names variable for cell stacks\n\nIn case we are upgrading cell stack the <service>_node_names\nvariable is not available to us. We need to use the variable:\n<service>_cell_node_names.\n\nChange-Id: I70b71d45a729e61ef58a04e061d8739c926b7700\nCloses-Bug: rhbz#2213458\n'}, {'number': 2, 'created': '2023-06-08 20:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/916f7bb155797cca81ddb5dc7976267b6cc27849', 'message': '[ffwd3] Fix node_names variable for cell stacks\n\nIn case we are upgrading cell stack the <service>_node_names\nvariable is not available to us. We need to use the variable:\n<service>_cell_node_names.\n\nChange-Id: I70b71d45a729e61ef58a04e061d8739c926b7700\nCloses-Bug: rhbz#2213458\n'}, {'number': 3, 'created': '2023-06-09 05:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c1a6e62ad460df86e1a899dce39eb7aba779884', 'message': '[ffwd3] Fix node_names variable for cell stacks\n\nIn case we are upgrading cell stack the <service>_node_names\nvariable is not available to us. We need to use the variable:\n<service>_cell_node_names.\n\nChange-Id: I70b71d45a729e61ef58a04e061d8739c926b7700\nCloses-Bug: rhbz#2213458\n'}, {'number': 4, 'created': '2023-06-11 22:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/401f696a65f99f4ce6c17d2dc7f9e7c970a2d974', 'message': '[ffwd3] Fix node_names variable for cell stacks\n\nIn case we are upgrading cell stack the <service>_node_names\nvariable is not available to us. We need to use the variable:\n<service>_cell_node_names.\n\nChange-Id: I70b71d45a729e61ef58a04e061d8739c926b7700\nCloses-Bug: rhbz#2213458\n'}, {'number': 5, 'created': '2023-06-17 22:23:39.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6044fea398f30840c8193eaf1117b5bf7f3d950', 'message': '[ffwd3] Fix node_names variable for cell stacks\n\nIn case we are upgrading cell stack the <service>_node_names\nvariable is not available to us. We need to use the variable:\n<service>_cell_node_names.\n\nChange-Id: I70b71d45a729e61ef58a04e061d8739c926b7700\nCloses-Bug: rhbz#2213458\n'}]",17,885576,e6044fea398f30840c8193eaf1117b5bf7f3d950,37,5,5,11166,,,0,"[ffwd3] Fix node_names variable for cell stacks

In case we are upgrading cell stack the <service>_node_names
variable is not available to us. We need to use the variable:
<service>_cell_node_names.

Change-Id: I70b71d45a729e61ef58a04e061d8739c926b7700
Closes-Bug: rhbz#2213458
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/76/885576/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",5,0fd3b843180828fcc4ee4c4016d335a2693d7503,cell," oslo_messaging_rpc_node_names_upgraded: ""{{ oslo_messaging_rpc_node_names if nova_additional_cell == false else oslo_messaging_rpc_cell_node_names }}"""," oslo_messaging_rpc_node_names_upgraded: ""{{ oslo_messaging_rpc_node_names }}""",5,5
openstack%2Fneutron~stable%2Fussuri~I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5,openstack/neutron,stable/ussuri,I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5,[OVN][FT] Mech driver stop accessing DB at exit,MERGED,2023-06-27 11:41:01.000000000,2023-06-29 18:59:56.000000000,2023-06-29 18:58:43.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 11:41:01.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b73d29d8a781d85a01583962957e971c50ddf46', 'message': '[OVN][FT] Mech driver stop accessing DB at exit\n\n""OVNMechanismDriver._clean_hash_ring"" is called at exit. Because the\nSQL connection is already closed, an exception is logged. This patch\nmocks this method and avoids the OVN FTs to log this message.\n\nCloses-Bug: #1919352\n\nChange-Id: I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5\n(cherry picked from commit 92a4db01fefb3fe224be920abf372436b8e02c8e)\n(cherry picked from commit 0fb614046f7bede7f524f4ee85d26e3b0f087df2)\n'}]",1,886963,7b73d29d8a781d85a01583962957e971c50ddf46,10,4,1,13861,,,0,"[OVN][FT] Mech driver stop accessing DB at exit

""OVNMechanismDriver._clean_hash_ring"" is called at exit. Because the
SQL connection is already closed, an exception is logged. This patch
mocks this method and avoids the OVN FTs to log this message.

Closes-Bug: #1919352

Change-Id: I6c68d15d0af644ab00467bea8e0cd3ca816f5cc5
(cherry picked from commit 92a4db01fefb3fe224be920abf372436b8e02c8e)
(cherry picked from commit 0fb614046f7bede7f524f4ee85d26e3b0f087df2)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/886963/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,7b73d29d8a781d85a01583962957e971c50ddf46,bug/1919352-stable/victoria-stable/ussuri," # NOTE(ralonsoh): do not access to the DB at exit when the SQL # connection is already closed, to avoid useless exception messages. mock.patch.object(self.mech_driver, '_clean_hash_ring').start()",,3,0
openstack%2Ftripleo-common~stable%2Fwallaby~Iceece3c382f7dad4de2208d40589cdb9ec30e09c,openstack/tripleo-common,stable/wallaby,Iceece3c382f7dad4de2208d40589cdb9ec30e09c,Add NovaLibvirtLegacy to tripleo_containers.yaml.j2,MERGED,2023-03-17 05:45:55.000000000,2023-06-29 18:46:09.000000000,2023-06-29 18:45:09.000000000,"[{'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-03-17 05:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/76a2e8c0fbdd355ff46f41c8909890fd3bbcb298', 'message': 'Add NovaLibvirtLegacy to tripleo_containers.yaml.j2\n\nWith the multi-os support, it is necessary to have two different\ncontainers for libvirt services depending on the OS version. This change\nadds the newly created NovaLibvirtLegacy service to the\ntripleo_containers.yaml.j2 file to support this functionality.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/873149\nChange-Id: Iceece3c382f7dad4de2208d40589cdb9ec30e09c\n'}, {'number': 2, 'created': '2023-03-17 05:47:09.000000000', 'files': ['container-images/tripleo_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d7c6061acbcfdcead0b3ba920ccf40db5259e8b7', 'message': 'Add NovaLibvirtLegacy to tripleo_containers.yaml.j2\n\nWith the multi-os support, it is necessary to have two different\ncontainers for libvirt services depending on the OS version. This change\nadds the newly created NovaLibvirtLegacy service to the\ntripleo_containers.yaml.j2 file to support this functionality.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/873149\nChange-Id: Iceece3c382f7dad4de2208d40589cdb9ec30e09c\n(cherry picked from commit dc5ddacf60ec073f56a12d21350021160c5456a1)\n'}]",1,877645,d7c6061acbcfdcead0b3ba920ccf40db5259e8b7,10,3,2,30073,,,0,"Add NovaLibvirtLegacy to tripleo_containers.yaml.j2

With the multi-os support, it is necessary to have two different
containers for libvirt services depending on the OS version. This change
adds the newly created NovaLibvirtLegacy service to the
tripleo_containers.yaml.j2 file to support this functionality.

Depends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/873149
Change-Id: Iceece3c382f7dad4de2208d40589cdb9ec30e09c
(cherry picked from commit dc5ddacf60ec073f56a12d21350021160c5456a1)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/877645/2 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_containers.yaml.j2'],1,76a2e8c0fbdd355ff46f41c8909890fd3bbcb298,, - OS::TripleO::Services::NovaLibvirtLegacy - OS::TripleO::Services::NovaLibvirtLegacy,,2,0
openstack%2Fopenstack-helm~master~Ia362fc27c2fc250e4747941400bfa82eead5e99c,openstack/openstack-helm,master,Ia362fc27c2fc250e4747941400bfa82eead5e99c,Remove duplicated argument when running a liveness check,MERGED,2023-06-28 05:55:21.000000000,2023-06-29 17:30:59.000000000,2023-06-29 17:29:47.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 05:55:21.000000000', 'files': ['neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'neutron/templates/bin/_neutron-openvswitch-agent-liveness.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83652f2e1ab62800fc42127d0a499477cbe99b1f', 'message': 'Remove duplicated argument when running a liveness check\n\nThis change removes duplicated argument from neutron-ovs-agent-liveness.sh in neutron when running health-probe.py\n\nstory: 2010803\ntask: 48286\nChange-Id: Ia362fc27c2fc250e4747941400bfa82eead5e99c\n'}]",0,886623,83652f2e1ab62800fc42127d0a499477cbe99b1f,8,3,1,35655,,,0,"Remove duplicated argument when running a liveness check

This change removes duplicated argument from neutron-ovs-agent-liveness.sh in neutron when running health-probe.py

story: 2010803
task: 48286
Change-Id: Ia362fc27c2fc250e4747941400bfa82eead5e99c
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/23/886623/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/Chart.yaml', 'neutron/templates/bin/_neutron-openvswitch-agent-liveness.sh.tpl', 'releasenotes/notes/neutron.yaml']",3,83652f2e1ab62800fc42127d0a499477cbe99b1f,, - 0.3.13 Remove duplicated argument when running a liveness check,,2,2
openstack%2Fblazar~master~I9803a7ee21011584263c83fb982d403fa605ae34,openstack/blazar,master,I9803a7ee21011584263c83fb982d403fa605ae34,WIP: Option to use flavor_id to request reservation,NEW,2023-06-29 16:29:46.000000000,2023-06-29 17:30:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-29 16:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/d57d435279a01dab088646d7515b68037e790d93', 'message': 'WIP: Option to use flavor_id to request reservation\n\nInstead of creating custom RAM and CPU ratios, we offer the option\nto reserve a specific number of a pre-defined flavor.\n\nWhen you specify the flavor, we still allow amount and affinity,\nbut we ignore resource_properties, vcpus, memory_mb and disk_gb,\nas these are all taken from the flavor instead.\n\nTODO: should we have the option to block non-flavor based instance\nreservation via a configuration option?\n\nChange-Id: I9803a7ee21011584263c83fb982d403fa605ae34\n'}, {'number': 2, 'created': '2023-06-29 16:30:24.000000000', 'files': ['blazar/plugins/instances/instance_plugin.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/717bf241cdf4f5367ed02e9863b8b7e2a458c323', 'message': 'WIP: Option to use flavor_id to request reservation\n\nInstead of creating custom RAM and CPU ratios, we offer the option\nto reserve a specific number of a pre-defined flavor.\n\nWhen you specify the flavor, we still allow amount and affinity,\nbut we ignore resource_properties, vcpus, memory_mb and disk_gb,\nas these are all taken from the flavor instead.\n\nTODO: should we have the option to block non-flavor based instance\nreservation via a configuration option?\n\nChange-Id: I9803a7ee21011584263c83fb982d403fa605ae34\n'}]",0,887300,717bf241cdf4f5367ed02e9863b8b7e2a458c323,3,1,2,782,,,0,"WIP: Option to use flavor_id to request reservation

Instead of creating custom RAM and CPU ratios, we offer the option
to reserve a specific number of a pre-defined flavor.

When you specify the flavor, we still allow amount and affinity,
but we ignore resource_properties, vcpus, memory_mb and disk_gb,
as these are all taken from the flavor instead.

TODO: should we have the option to block non-flavor based instance
reservation via a configuration option?

Change-Id: I9803a7ee21011584263c83fb982d403fa605ae34
",git fetch https://review.opendev.org/openstack/blazar refs/changes/00/887300/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'blazar/plugins/instances/instance_plugin.py']",2,d57d435279a01dab088646d7515b68037e790d93,flavor-based-reservation," # Look up flavor to get the reservation details flavor_id = values.get('flavor_id') if flavor_id: user_client = nova.NovaClientWrapper() flavor = user_client.nova.nova.flavor.get(flavor_id) flavor_details = flavor.to_dict() values['cpus'] = int(flavor_details['vcpus']) values['memory_mb'] = int(flavor_details['ram']) values['disk_gb'] = ( int(flavor_details['disk']) + int(flavor_details['OS-FLV-EXT-DATA:ephemeral'])) # TODO(johngarbutt) make use of extra_specs # extra_specs = flavor.get_keys() values['resource_properties'] = {} marshall_attributes = set(['amount', 'affinity']) # TODO(johngarbutt): do we want a config to require # flavor_id and reject other requests, or an enforcer? # if flavor_id is present, we ignore the components # if flavor_id is not present, we require the components if ""flavor_id"" not in values.keys(): marshall_attributes = marshall_attributes.union( ['vcpus', 'memory_mb', 'disk_gb', 'resource_properties']) "," marshall_attributes = set(['vcpus', 'memory_mb', 'disk_gb', 'amount', 'affinity', 'resource_properties'])",25,3
openstack%2Fkeystonemiddleware~stable%2F2023.1~I39dea68ca10266ac9d204a9b1d78d52d263b08e2,openstack/keystonemiddleware,stable/2023.1,I39dea68ca10266ac9d204a9b1d78d52d263b08e2,Add missing doc requirements and unblock the gate,NEW,2023-06-27 21:41:02.000000000,2023-06-29 17:27:31.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 21:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/cbf593a0bbc1178977ae4a6cca96cc8debb0ab77', 'message': ""Add missing doc requirements\n\nThis updates the test-requirements to fix No module error in\noslo_config.sphinxconfiggen when executing tox with doc env.\n\nBecause of a circular dependency in branch 2023.1, we disable\nthe check B113 until the next after next patch. The patch\nthat fixes B113 depends on this doc patch, so the gate is stuck.\n\nIn addition, we ended with duplicated Change-Id. See:\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/873382\n(master, merged)\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/877244\n(this, but uses a duplicated Change-Id and cannot be pushed)\n\nWe're going to add another review, which is literally this\nreview by Hiromu, but with a new Change-Id.\n\nChange-Id: I39dea68ca10266ac9d204a9b1d78d52d263b08e2\nCherry-Picked-From: I4bfe30b3517f4a6c5c536afa150c66ef8522a2d0\nRelated-Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n""}, {'number': 2, 'created': '2023-06-27 23:44:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/f493eac04cf9133c3a96dfcce82d5887ec23d3e0', 'message': ""Add missing doc requirements\n\nThis updates the test-requirements to fix No module error in\noslo_config.sphinxconfiggen when executing tox with doc env.\n\nBecause of a circular dependency in branch 2023.1, we disable\nthe check B113 until the next after next patch. The patch\nthat fixes B113 depends on this doc patch, so the gate is stuck.\n\nIn addition, we ended with duplicated Change-Id. See:\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/873382\n(master, merged)\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/877244\n(this, but uses a duplicated Change-Id and cannot be pushed)\n\nWe're going to add another review, which is literally this\nreview by Hiromu, but with a new Change-Id.\n\nChange-Id: I39dea68ca10266ac9d204a9b1d78d52d263b08e2\nCherry-Picked-From: I4bfe30b3517f4a6c5c536afa150c66ef8522a2d0\nRelated-Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n""}, {'number': 3, 'created': '2023-06-28 14:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/50a4538ca8146305c969e63419001b26be75c23d', 'message': ""DNM Add missing doc requirements\n\nThis updates the test-requirements to fix No module error in\noslo_config.sphinxconfiggen when executing tox with doc env.\n\nBecause of a circular dependency in branch 2023.1, we disable\nthe check B113 until the next after next patch. The patch\nthat fixes B113 depends on this doc patch, so the gate is stuck.\n\nIn addition, we ended with duplicated Change-Id. See:\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/873382\n(master, merged)\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/877244\n(this, but uses a duplicated Change-Id and cannot be pushed)\n\nSo, we're going to add another review, which is literally this\nreview by Hiromu, but with a new Change-Id.\n\nIn another addition, we're importing the branch constraints:\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/875108\n\nChange-Id: I39dea68ca10266ac9d204a9b1d78d52d263b08e2\nCherry-Picked-From: I4bfe30b3517f4a6c5c536afa150c66ef8522a2d0\nRelated-Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n""}, {'number': 4, 'created': '2023-06-28 23:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/dc7745ad7ed9fa43f8825299ad47e810808f2fc9', 'message': ""DNM Add missing doc requirements\n\nThis updates the test-requirements to fix No module error in\noslo_config.sphinxconfiggen when executing tox with doc env.\n\nBecause of a circular dependency in branch 2023.1, we disable\nthe check B113 until the next after next patch. The patch\nthat fixes B113 depends on this doc patch, so the gate is stuck.\n\nIn addition, we ended with duplicated Change-Id. See:\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/873382\n(master, merged)\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/877244\n(this, but uses a duplicated Change-Id and cannot be pushed)\n\nSo, we're going to add another review, which is literally this\nreview by Hiromu, but with a new Change-Id.\n\nIn another addition, we're importing the 2023.1 branch constraints:\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/875108\n\nChange-Id: I39dea68ca10266ac9d204a9b1d78d52d263b08e2\nCherry-Picked-From: I4bfe30b3517f4a6c5c536afa150c66ef8522a2d0\nRelated-Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n""}, {'number': 5, 'created': '2023-06-29 02:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/26f7be5272e757af42e5beedb012a3ee1c0fce91', 'message': ""DNM Add missing doc requirements\n\nThis updates the test-requirements to fix No module error in\noslo_config.sphinxconfiggen when executing tox with doc env.\n\nBecause of a circular dependency in branch 2023.1, we disable\nthe check B113 until the next after next patch. The patch\nthat fixes B113 depends on this doc patch, so the gate is stuck.\n\nIn addition, we ended with duplicated Change-Id. See:\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/873382\n(master, merged)\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/877244\n(this, but uses a duplicated Change-Id and cannot be pushed)\n\nSo, we're going to add another review, which is literally this\nreview by Hiromu, but with a new Change-Id.\n\nIn another addition, we're importing the 2023.1 branch constraints:\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/875108\n\nChange-Id: I39dea68ca10266ac9d204a9b1d78d52d263b08e2\nCherry-Picked-From: I4bfe30b3517f4a6c5c536afa150c66ef8522a2d0\nRelated-Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n""}, {'number': 6, 'created': '2023-06-29 04:17:58.000000000', 'files': ['.gitreview', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/9433b1d12c9e1dab68b3536a01c765a95c23b5b3', 'message': ""Add missing doc requirements and unblock the gate\n\nFirst, this updates the test-requirements to fix No module error\nin oslo_config.sphinxconfiggen when executing tox with doc env.\n\nBecause of a circular dependency in branch 2023.1, we disable\nthe check B113 until the next after next patch. The patch\nthat fixes B113 depends on this doc patch, so the gate is stuck.\n\nEven with that, we still fail tests driven by stevedore.\nFor it to work, the keystonemiddleware package has to be\nbuilt to an egg. The stevedore code parses the egg.\n\nIn addition, we ended with duplicated Change-Id. See:\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/873382\n(master, merged)\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/877244\n(this, but uses a duplicated Change-Id and cannot be pushed)\n\nSo, we're going to add another review, which is literally this\nreview by Hiromu, but with a new Change-Id.\n\nChange-Id: I39dea68ca10266ac9d204a9b1d78d52d263b08e2\nCherry-Picked-From: I4bfe30b3517f4a6c5c536afa150c66ef8522a2d0\nRelated-Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n""}]",5,887121,9433b1d12c9e1dab68b3536a01c765a95c23b5b3,15,2,6,597,,,0,"Add missing doc requirements and unblock the gate

First, this updates the test-requirements to fix No module error
in oslo_config.sphinxconfiggen when executing tox with doc env.

Because of a circular dependency in branch 2023.1, we disable
the check B113 until the next after next patch. The patch
that fixes B113 depends on this doc patch, so the gate is stuck.

Even with that, we still fail tests driven by stevedore.
For it to work, the keystonemiddleware package has to be
built to an egg. The stevedore code parses the egg.

In addition, we ended with duplicated Change-Id. See:

https://review.opendev.org/c/openstack/keystonemiddleware/+/873382
(master, merged)

https://review.opendev.org/c/openstack/keystonemiddleware/+/877244
(this, but uses a duplicated Change-Id and cannot be pushed)

So, we're going to add another review, which is literally this
review by Hiromu, but with a new Change-Id.

Change-Id: I39dea68ca10266ac9d204a9b1d78d52d263b08e2
Cherry-Picked-From: I4bfe30b3517f4a6c5c536afa150c66ef8522a2d0
Related-Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/21/887121/3 && git format-patch -1 --stdout FETCH_HEAD,"['.gitreview', 'doc/requirements.txt', 'tox.ini']",3,cbf593a0bbc1178977ae4a6cca96cc8debb0ab77,,# XXX We only do this because of a circular dependency. Remove promptly! [bandit] skips: B113 ,,9,0
openstack%2Frequirements~master~I6c561cbf2b3d22574e8d85d7884d927df202cbc2,openstack/requirements,master,I6c561cbf2b3d22574e8d85d7884d927df202cbc2,update constraint for oslo.db to new release 13.1.0,NEW,2023-06-29 09:38:04.000000000,2023-06-29 17:24:17.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 09:38:04.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/7185bad1dff7b170610cb059628e31ca8429d1b5', 'message': 'update constraint for oslo.db to new release 13.1.0\n\nmeta: version: 13.1.0\nmeta: diff-start: -\nmeta: series: bobcat\nmeta: branch: master\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <stephenfin@redhat.com>\nmeta: release:Change-Id: I1d747c8a2459cbc93e6fbde0e547b63577005910\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nChange-Id: I6c561cbf2b3d22574e8d85d7884d927df202cbc2\n'}]",1,887261,7185bad1dff7b170610cb059628e31ca8429d1b5,4,2,1,11131,,,0,"update constraint for oslo.db to new release 13.1.0

meta: version: 13.1.0
meta: diff-start: -
meta: series: bobcat
meta: branch: master
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <stephenfin@redhat.com>
meta: release:Change-Id: I1d747c8a2459cbc93e6fbde0e547b63577005910
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
Change-Id: I6c561cbf2b3d22574e8d85d7884d927df202cbc2
",git fetch https://review.opendev.org/openstack/requirements refs/changes/61/887261/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,7185bad1dff7b170610cb059628e31ca8429d1b5,new-release,oslo.db===13.1.0,oslo.db===12.3.1,1,1
openstack%2Fcinder~master~I40919bb4ef6aaac28d6c62d146934330260b8003,openstack/cinder,master,I40919bb4ef6aaac28d6c62d146934330260b8003,PowerStore driver - documentation update,MERGED,2023-02-22 21:52:31.000000000,2023-06-29 17:14:37.000000000,2023-06-27 19:24:28.000000000,"[{'_account_id': 597}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33473}, {'_account_id': 35063}]","[{'number': 1, 'created': '2023-02-22 21:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/61cd194304026e648a06969eb8a19bfe2cf5f4c0', 'message': 'PowerStore driver - documentation update\n\nUpdate of our PowerStore driver documentation to include\nImage Volume Caching\n\nChange-Id: I40919bb4ef6aaac28d6c62d146934330260b8003\n'}, {'number': 2, 'created': '2023-02-22 22:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/904767b715e28f1c12ce9a1939370145a2be84f0', 'message': 'PowerStore driver - documentation update\n\nUpdate of our PowerStore driver documentation to include\nImage Volume Caching\n\nChange-Id: I40919bb4ef6aaac28d6c62d146934330260b8003\n'}, {'number': 3, 'created': '2023-02-27 19:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8db4f12574cf5496f66d3aab4798a4c21e60e188', 'message': 'PowerStore driver - documentation update\n\nUpdate of our PowerStore driver documentation to include\nImage Volume Caching\n\nChange-Id: I40919bb4ef6aaac28d6c62d146934330260b8003\n'}, {'number': 4, 'created': '2023-04-07 13:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7960786abf1574c7f99ffcb51acee99bcbdd02e4', 'message': 'PowerStore driver - documentation update\n\nUpdate of our PowerStore driver documentation to include\nImage Volume Caching\n\nChange-Id: I40919bb4ef6aaac28d6c62d146934330260b8003\n'}, {'number': 5, 'created': '2023-06-21 17:28:37.000000000', 'files': ['doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/293f88127f98f0fd35feb4452679fcf18ec460b6', 'message': 'PowerStore driver - documentation update\n\nUpdate of the PowerStore driver documentation to include\nImage Volume Caching.\n\nChange-Id: I40919bb4ef6aaac28d6c62d146934330260b8003\n'}]",41,874813,293f88127f98f0fd35feb4452679fcf18ec460b6,126,7,5,35063,,,0,"PowerStore driver - documentation update

Update of the PowerStore driver documentation to include
Image Volume Caching.

Change-Id: I40919bb4ef6aaac28d6c62d146934330260b8003
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/874813/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/dell-emc-powerstore-driver.rst'],1,61cd194304026e648a06969eb8a19bfe2cf5f4c0,,"Image Volume Caching support ~~~~~~~~~~~ To enable Image Volume Caching, modify the following options in the ``cinder.conf`` file: .. code-block:: ini image_volume_cache_enabled = True By default, Image Volume Caching is disabled. If the ``image_volume_cache_enabled`` option is omitted, the system default to False ",,16,0
openstack%2Fironic~master~I07341a5e16264964f4d165b9b5ef80dc35293a17,openstack/ironic,master,I07341a5e16264964f4d165b9b5ef80dc35293a17,Use tox env variables in coverage tests,MERGED,2023-06-07 15:32:48.000000000,2023-06-29 16:56:50.000000000,2023-06-29 16:48:22.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-07 15:32:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/30b8f51ca4145a59b3b842f87c15ed9571e4dffa', 'message': 'Use tox env variables in coverage tests\n\nWe should try to run coverage tests in the same conditions as\nunit tests using the same tox environment.\n\nChange-Id: I07341a5e16264964f4d165b9b5ef80dc35293a17\n'}, {'number': 2, 'created': '2023-06-09 14:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca24e82734fdfde09c95f120470c75f1cd1bfd76', 'message': 'Use tox env variables in coverage tests\n\nWe should try to run coverage tests in the same conditions as\nunit tests using the same tox environment.\n\nChange-Id: I07341a5e16264964f4d165b9b5ef80dc35293a17\n'}, {'number': 3, 'created': '2023-06-12 07:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/778edf4dac871a76fdd47419a9c438a45144fe02', 'message': 'Use tox env variables in coverage tests\n\nWe should try to run coverage tests in the same conditions as\nunit tests using the same tox environment.\n\nChange-Id: I07341a5e16264964f4d165b9b5ef80dc35293a17\n'}, {'number': 4, 'created': '2023-06-12 07:17:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8ad474ccc07387dd6d3043f012d0a03ebb4f011e', 'message': 'Use tox env variables in coverage tests\n\nWe should try to run coverage tests in the same conditions as\nunit tests using the same tox environment.\n\nChange-Id: I07341a5e16264964f4d165b9b5ef80dc35293a17\n'}, {'number': 5, 'created': '2023-06-20 08:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7adbdf8ece98203077dd64a0a6fe757dc1bdca71', 'message': 'Use tox env variables in coverage tests\n\nWe should try to run coverage tests in the same conditions as\nunit tests using the same tox environment.\n\nChange-Id: I07341a5e16264964f4d165b9b5ef80dc35293a17\n'}, {'number': 6, 'created': '2023-06-20 21:42:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a41f9240a25b72917aad893aa55bed6d59d6c07', 'message': 'Use tox env variables in coverage tests\n\nWe should try to run coverage tests in the same conditions as\nunit tests using the same tox environment.\n\nChange-Id: I07341a5e16264964f4d165b9b5ef80dc35293a17\n'}, {'number': 7, 'created': '2023-06-29 15:53:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/048bff1dafb8d3ccb35a685e031bd2d2cab76c41', 'message': 'Use tox env variables in coverage tests\n\nWe should try to run coverage tests in the same conditions as\nunit tests using the same tox environment.\n\nChange-Id: I07341a5e16264964f4d165b9b5ef80dc35293a17\n'}]",11,885507,048bff1dafb8d3ccb35a685e031bd2d2cab76c41,61,5,7,23851,,,0,"Use tox env variables in coverage tests

We should try to run coverage tests in the same conditions as
unit tests using the same tox environment.

Change-Id: I07341a5e16264964f4d165b9b5ef80dc35293a17
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/885507/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,30b8f51ca4145a59b3b842f87c15ed9571e4dffa,toxenv-cover,setenv = {[testenv]setenv},setenv = VIRTUAL_ENV={envdir} LANGUAGE=en_US,1,2
openstack%2Fkolla~stable%2Fzed~I9f40167fed9412b3f33f82e2f97f353275431292,openstack/kolla,stable/zed,I9f40167fed9412b3f33f82e2f97f353275431292,Use erlang-25 from copr on aarch64,MERGED,2023-06-27 12:02:15.000000000,2023-06-29 16:49:56.000000000,2023-06-29 16:48:13.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-27 12:02:15.000000000', 'files': ['docker/base/hrw-copr-erlang-for-rabbitmq.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/13aaca13e460aff768aca41d3b7f4853bb2c82ca', 'message': 'Use erlang-25 from copr on aarch64\n\nChange-Id: I9f40167fed9412b3f33f82e2f97f353275431292\n(cherry picked from commit 51675bb232f0c4826ff74351b68c1e16a1893545)\n'}]",3,886965,13aaca13e460aff768aca41d3b7f4853bb2c82ca,18,3,1,22629,,,0,"Use erlang-25 from copr on aarch64

Change-Id: I9f40167fed9412b3f33f82e2f97f353275431292
(cherry picked from commit 51675bb232f0c4826ff74351b68c1e16a1893545)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/886965/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/hrw-copr-erlang-for-rabbitmq.repo'],1,13aaca13e460aff768aca41d3b7f4853bb2c82ca,,baseurl=https://download.copr.fedorainfracloud.org/results/hrw/erlang-25-for-rabbitmq/centos-stream-$releasever-$basearch/gpgkey=https://download.copr.fedorainfracloud.org/results/hrw/erlang-25-for-rabbitmq/pubkey.gpg,baseurl=https://download.copr.fedorainfracloud.org/results/hrw/erlang-for-rabbitmq/centos-stream-$releasever-$basearch/gpgkey=https://download.copr.fedorainfracloud.org/results/hrw/erlang-for-rabbitmq/pubkey.gpg,2,2
openstack%2Fkolla~stable%2Fzed~I9b69fff14507ad2d1838367bb8b81a3a73694071,openstack/kolla,stable/zed,I9b69fff14507ad2d1838367bb8b81a3a73694071,rabbitmq: Fix repo for ubuntu aarch64,MERGED,2023-06-29 08:04:08.000000000,2023-06-29 16:49:08.000000000,2023-06-29 16:48:11.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-29 08:04:08.000000000', 'files': ['kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9a7f57ad3a42cbbd546ce9fa8d34f9ff3787b31', 'message': 'rabbitmq: Fix repo for ubuntu aarch64\n\nThat has been omitted in the original patch.\n\nChange-Id: I9b69fff14507ad2d1838367bb8b81a3a73694071\n(cherry picked from commit 5bf088263c17f687dac1f78c1546b833c44116c8)\n'}]",1,887178,c9a7f57ad3a42cbbd546ce9fa8d34f9ff3787b31,12,3,1,22629,,,0,"rabbitmq: Fix repo for ubuntu aarch64

That has been omitted in the original patch.

Change-Id: I9b69fff14507ad2d1838367bb8b81a3a73694071
(cherry picked from commit 5bf088263c17f687dac1f78c1546b833c44116c8)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/887178/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/template/repos.yaml'],1,c9a7f57ad3a42cbbd546ce9fa8d34f9ff3787b31,," url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang-25/ubuntu"""," url: ""https://launchpad.net/~rabbitmq/+archive/ubuntu/rabbitmq-erlang-25""",1,1
openstack%2Foslo.serialization~master~Ib6ac2e4b62aa26dc9d5c5ff97844f0e7b61386e5,openstack/oslo.serialization,master,Ib6ac2e4b62aa26dc9d5c5ff97844f0e7b61386e5,Remove extra spaces in tox.ini,MERGED,2023-06-28 07:50:35.000000000,2023-06-29 16:46:10.000000000,2023-06-29 16:45:02.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-06-28 07:50:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/a0ba2d777cc3f96354bf3deab09a5b71a0f37b0a', 'message': ""Remove extra spaces in tox.ini\n\n'setenv' and 'commands' should be at the same level of indentation\notherwise it breaks some build tooling as we are hitting in\nRDO.\n\nChange-Id: Ib6ac2e4b62aa26dc9d5c5ff97844f0e7b61386e5\n""}]",1,887141,a0ba2d777cc3f96354bf3deab09a5b71a0f37b0a,12,3,1,31068,,,0,"Remove extra spaces in tox.ini

'setenv' and 'commands' should be at the same level of indentation
otherwise it breaks some build tooling as we are hitting in
RDO.

Change-Id: Ib6ac2e4b62aa26dc9d5c5ff97844f0e7b61386e5
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/41/887141/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a0ba2d777cc3f96354bf3deab09a5b71a0f37b0a,,commands = stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml, commands = stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml,5,5
openstack%2Floci~master~I956985410f55293c998e75c9fa8960e2b9106d45,openstack/loci,master,I956985410f55293c998e75c9fa8960e2b9106d45,Add more info to the /etc/image_info,MERGED,2023-06-14 17:45:06.000000000,2023-06-29 16:45:17.000000000,2023-06-29 16:45:17.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-14 17:45:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/a02274e9ed574bb09ef8917d1ec4255aac650bee', 'message': 'Add more info to the /etc/image_info\n\nChange-Id: I956985410f55293c998e75c9fa8960e2b9106d45\n'}, {'number': 2, 'created': '2023-06-15 01:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/08dd23b65fd1b9db04f6ca7d6c8b597175f30f5b', 'message': 'Add more info to the /etc/image_info\n\nChange-Id: I956985410f55293c998e75c9fa8960e2b9106d45\n'}, {'number': 3, 'created': '2023-06-15 01:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/81a3efc54e89a8028c96a47ea54eccf57785fae3', 'message': 'Add more info to the /etc/image_info\n\nChange-Id: I956985410f55293c998e75c9fa8960e2b9106d45\n'}, {'number': 4, 'created': '2023-06-15 04:00:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/45bee07f023e2cd131bfacf7fb082c7b3a4537c8', 'message': 'Add more info to the /etc/image_info\n\nChange-Id: I956985410f55293c998e75c9fa8960e2b9106d45\n'}, {'number': 5, 'created': '2023-06-16 17:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/95e279990e6e84a25ded6072c5f7d4e98fe1e6f2', 'message': 'Add more info to the /etc/image_info\n\nChange-Id: I956985410f55293c998e75c9fa8960e2b9106d45\n'}, {'number': 6, 'created': '2023-06-16 17:30:57.000000000', 'files': ['scripts/collect_info.sh', 'playbooks/setup-gate.yaml'], 'web_link': 'https://opendev.org/openstack/loci/commit/7c3c53c375777909664c17b760493cbf8a19e24f', 'message': 'Add more info to the /etc/image_info\n\nChange-Id: I956985410f55293c998e75c9fa8960e2b9106d45\n'}]",1,886115,7c3c53c375777909664c17b760493cbf8a19e24f,17,3,6,3009,,,0,"Add more info to the /etc/image_info

Change-Id: I956985410f55293c998e75c9fa8960e2b9106d45
",git fetch https://review.opendev.org/openstack/loci refs/changes/15/886115/3 && git format-patch -1 --stdout FETCH_HEAD,['scripts/collect_info.sh'],1,a02274e9ed574bb09ef8917d1ec4255aac650bee,more_image_info,"PROJECT_INFO=""${INFO_DIR}/project.txt""cat > ${PROJECT_INFO} <<EOF PROJECT=${PROJECT} PROJECT_REPO=${PROJECT_REPO} PROJECT_REF=${PROJECT_REF} PROJECT_RELEASE=${PROJECT_RELEASE} EOF pushd /tmp/${PROJECT} echo ""========"" git log -1 >> ${PROJECT_INFO} popd",,11,0
openstack%2Fsushy-tools~master~Ib3b0f2a863079d159c1b9f3de4003b77837f9651,openstack/sushy-tools,master,Ib3b0f2a863079d159c1b9f3de4003b77837f9651,"Add fake_ipa inspection, lookup and heartbeater to fake system",ABANDONED,2023-06-29 16:27:33.000000000,2023-06-29 16:35:39.000000000,,[],"[{'number': 1, 'created': '2023-06-29 16:27:33.000000000', 'files': ['sushy_tools/fake_ipa/base.py', 'sushy_tools/fake_ipa/encoding.py', 'sushy_tools/fake_ipa/utils.py', 'sushy_tools/fake_ipa/clean.py', 'sushy_tools/fake_ipa/main.py', 'sushy_tools/fake_ipa/__init__.py', 'sushy_tools/fake_ipa/fake_agent.py', 'sushy_tools/fake_ipa/error.py', 'sushy_tools/fake_ipa/deploy.py', 'sushy_tools/fake_ipa/inspector.py', 'setup.cfg', 'sushy_tools/fake_ipa/standby.py', 'sushy_tools/fake_ipa/heartbeater.py', 'sushy_tools/fake_ipa/ironic_api_client.py', 'sushy_tools/emulator/resources/systems/fakedriver.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e85087c62ae0fa4a8b44bdffb2d7bafafd3b4360', 'message': '        Add fake_ipa inspection, lookup and heartbeater to fake system\n\n        Co-authored-by: Furkat Gofurov <furkat.gofurov@est.tech>\n            Co-authored-by: Huy Mai <huy.mai@est.tech>\n\n    Change-Id: Ideede495d4c093c6f9ea544b4ad9206070832dba\n\nChange-Id: Ib3b0f2a863079d159c1b9f3de4003b77837f9651\n'}]",0,887299,e85087c62ae0fa4a8b44bdffb2d7bafafd3b4360,2,0,1,35777,,,0,"        Add fake_ipa inspection, lookup and heartbeater to fake system

        Co-authored-by: Furkat Gofurov <furkat.gofurov@est.tech>
            Co-authored-by: Huy Mai <huy.mai@est.tech>

    Change-Id: Ideede495d4c093c6f9ea544b4ad9206070832dba

Change-Id: Ib3b0f2a863079d159c1b9f3de4003b77837f9651
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/99/887299/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/fake_ipa/base.py', 'sushy_tools/fake_ipa/encoding.py', 'sushy_tools/fake_ipa/utils.py', 'sushy_tools/fake_ipa/clean.py', 'sushy_tools/fake_ipa/main.py', 'sushy_tools/fake_ipa/__init__.py', 'sushy_tools/fake_ipa/fake_agent.py', 'sushy_tools/fake_ipa/error.py', 'sushy_tools/fake_ipa/deploy.py', 'sushy_tools/fake_ipa/inspector.py', 'setup.cfg', 'sushy_tools/fake_ipa/standby.py', 'sushy_tools/fake_ipa/heartbeater.py', 'sushy_tools/fake_ipa/ironic_api_client.py', 'sushy_tools/emulator/resources/systems/fakedriver.py']",15,e85087c62ae0fa4a8b44bdffb2d7bafafd3b4360,Add-fake_ipa/mohammed,"import requests from sushy_tools.emulator import constants 'fake_ipa': 'disabled', { 'mac': '00:5c:52:31:3a:9c', 'ip': '172.22.0.100' } system = self._get(identity) power_state = system.get('power_state') fake_ipa = system.get('fake_ipa') self._logger.debug('Getting power state: node ""%s"" [power state: %s, \ fake_ipa: %s]', system.get('name'), power_state, fake_ipa) # if fake_ipa is in booting state boot fake_ipa then set it to enabled. if power_state in 'On' and fake_ipa and fake_ipa in 'booting': self._boot_ipa(system) return power_state self._logger.info('Setting power state ""%s"" in node %s', state, system.get('name')) fake_ipa = system.get('fake_ipa') if pending_state in 'On' and fake_ipa and fake_ipa in 'enabled': self._logger.info( 'Set fake_ipa state to booting in node %s', system.get('name')) self._update(system, fake_ipa='booting') if system['power_state'] != pending_state: # Check if powering off and fake_ipa is enabled then # remove the node from heartbeater threads if state not in 'On' and fake_ipa and fake_ipa in 'enabled': self._logger.info( 'Remove the node from heartbeater threads in node %s', system.get('name')) self._remove_from_heartbeater(system['uuid']) system = self._get(identity) if boot_source == constants.DEVICE_TYPE_HDD: self._logger.info('Disabling fake_ipa after set boot device: %s \ in node %s', boot_source, system.get('name')) self._update(identity, fake_ipa='disabled') else: self._logger.info('Enabling fake_ipa after set boot device: %s \ in node %s', boot_source, system.get('name')) self._update(identity, fake_ipa='enabled') return [{'id': nic.get('mac'), 'mac': nic.get('mac')} def _boot_ipa(self, system): fake_ipa_url = self._config.setdefault('FAKE_IPA_URL', 'http://localhost:9999') resp = requests.put(fake_ipa_url, json=system, headers={'Content-type': 'application/json'}) if resp.status_code >= 400: self._logger.error('Fake ipa (%s) in node %s request error %d: %s', fake_ipa_url, system.get('name'), resp.status_code, resp.text) return self._logger.info(""ipa enabled in node %s"", system.get('name')) self._update(system, fake_ipa='enabled') def _remove_from_heartbeater(self, uuid): fake_ipa_url = self._config['FAKE_IPA_URL'] delete_url = '{}/{}'.format(fake_ipa_url, uuid) resp = requests.delete(delete_url) if resp.status_code >= 400: self._logger.error('Fake ipa (%s) request error %d: %s', uuid, resp.status_code, resp.text)"," {'address': '00:5c:52:31:3a:9c'} return self._get(identity)['power_state'] if system['power_state'] != pending_state: return [{'id': nic.get('address'), 'mac': nic.get('address')}",1865,6
openstack%2Fkolla~stable%2Fyoga~I5b523231cf7e1be8ce41181dda08f05e30b873c3,openstack/kolla,stable/yoga,I5b523231cf7e1be8ce41181dda08f05e30b873c3,[DNM] Test yoga build horizon,NEW,2023-02-21 18:02:36.000000000,2023-06-29 16:27:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-21 18:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c79c131bba33efa67e526103809f980e188add06', 'message': '[DNM] Test yoga build horizon\n\nChange-Id: I5b523231cf7e1be8ce41181dda08f05e30b873c3\n'}, {'number': 2, 'created': '2023-02-21 19:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0630cc7cbea4e5ba8b966d00cdceee7e477a28e0', 'message': '[DNM] Test yoga build horizon\n\nChange-Id: I5b523231cf7e1be8ce41181dda08f05e30b873c3\n'}, {'number': 3, 'created': '2023-02-22 06:33:20.000000000', 'files': ['docker/horizon/Dockerfile.j2', 'docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1345ef2e670be8d7f5c2d6a60affa7970d9d7089', 'message': '[DNM] Test yoga build horizon\n\nChange-Id: I5b523231cf7e1be8ce41181dda08f05e30b873c3\n'}]",2,874684,1345ef2e670be8d7f5c2d6a60affa7970d9d7089,12,1,3,27339,,,0,"[DNM] Test yoga build horizon

Change-Id: I5b523231cf7e1be8ce41181dda08f05e30b873c3
",git fetch https://review.opendev.org/openstack/kolla refs/changes/84/874684/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,c79c131bba33efa67e526103809f980e188add06,yoga/setuptools, RUN echo 'just trigger build in zuul' ,,3,0
openstack%2Fironic~master~I5a65accfb7e2033690b2934d874141db7f4bf383,openstack/ironic,master,I5a65accfb7e2033690b2934d874141db7f4bf383,"Execute tests by class, not randomly",MERGED,2023-06-28 13:30:19.000000000,2023-06-29 16:14:04.000000000,2023-06-29 16:12:25.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-28 13:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1331637934fcc4f58210ffe95da181807cc45fca', 'message': 'DNM: Test class based test distribution\n\nChange-Id: I5a65accfb7e2033690b2934d874141db7f4bf383\n'}, {'number': 2, 'created': '2023-06-28 22:45:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/50291ffb19c0998543a0f89a4b45921c6b774b98', 'message': 'Execute tests by class, not randomly\n\nThe default test runner behavior is to distribute various classes\nacross many runners, which is fine. But when you have lots of setup\nto ensure an environment is correct for tests in a class, you\ngenerally want to execute that together instead of separately.\n\nAs such, set the --parallel-class execution option for stestr.\n\nChange-Id: I5a65accfb7e2033690b2934d874141db7f4bf383\n'}, {'number': 3, 'created': '2023-06-29 02:03:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a600895ba3fd392f7e3cf68752f6e810f3afd3a0', 'message': 'Execute tests by class, not randomly\n\nThe default test runner behavior is to distribute various classes\nacross many runners, which is fine. But when you have lots of setup\nto ensure an environment is correct for tests in a class, you\ngenerally want to execute that together instead of separately.\n\nAs such, set the --parallel-class execution option for stestr.\n\nChange-Id: I5a65accfb7e2033690b2934d874141db7f4bf383\n'}]",3,887166,a600895ba3fd392f7e3cf68752f6e810f3afd3a0,20,3,3,11655,,,0,"Execute tests by class, not randomly

The default test runner behavior is to distribute various classes
across many runners, which is fine. But when you have lots of setup
to ensure an environment is correct for tests in a class, you
generally want to execute that together instead of separately.

As such, set the --parallel-class execution option for stestr.

Change-Id: I5a65accfb7e2033690b2934d874141db7f4bf383
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/887166/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1331637934fcc4f58210ffe95da181807cc45fca,, stestr run --slowest --parallel-class {posargs} stestr run --parallel-class {posargs}, stestr run --slowest {posargs} stestr run {posargs},2,2
openstack%2Fcharm-octavia~stable%2Fvictoria~Ic8d59fe43fe18bf3ea94387ddba5f3c1aecc794c,openstack/charm-octavia,stable/victoria,Ic8d59fe43fe18bf3ea94387ddba5f3c1aecc794c,[DNM] Gate check with openvswitch 2.13.8-0ubuntu1.2,ABANDONED,2023-06-29 05:12:37.000000000,2023-06-29 16:05:24.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 05:12:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/f7eabf65969210273733f7751041810aa65500d1', 'message': '[DNM] Gate check with openvswitch 2.13.8-0ubuntu1.2\n\nChange-Id: Ic8d59fe43fe18bf3ea94387ddba5f3c1aecc794c\n'}, {'number': 2, 'created': '2023-06-29 05:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/2c845974a7e87ca033e15961ef90e3d0190f9a75', 'message': '[DNM] Gate check with openvswitch 2.13.8-0ubuntu1.2\n\nChange-Id: Ic8d59fe43fe18bf3ea94387ddba5f3c1aecc794c\n'}, {'number': 3, 'created': '2023-06-29 12:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/c1d40ab96712c6d4ee05f1a63e9216474c92de02', 'message': '[DNM] Gate check with openvswitch 2.13.8-0ubuntu1.2\n\nChange-Id: Ic8d59fe43fe18bf3ea94387ddba5f3c1aecc794c\n'}, {'number': 4, 'created': '2023-06-29 12:51:12.000000000', 'files': ['rebuild', 'osci.yaml', 'src/tests/bundles/focal-victoria-no-amphora.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/358cb32a3e37b9df195199cfb88af953f3c70f2b', 'message': '[DNM] Gate check with openvswitch 2.13.8-0ubuntu1.2\n\nChange-Id: Ic8d59fe43fe18bf3ea94387ddba5f3c1aecc794c\n'}]",0,887246,358cb32a3e37b9df195199cfb88af953f3c70f2b,12,3,4,13686,,,0,"[DNM] Gate check with openvswitch 2.13.8-0ubuntu1.2

Change-Id: Ic8d59fe43fe18bf3ea94387ddba5f3c1aecc794c
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/46/887246/4 && git format-patch -1 --stdout FETCH_HEAD,['rebuild'],1,f7eabf65969210273733f7751041810aa65500d1,,f05f8a81-811c-45a9-87e6-ffd4036f55f3,53e7e788-1178-11ec-b98d-03bb3d032abd,1,1
openstack%2Fneutron~master~Ic9a808da8819c0cdbb4af6570fade5be2a9dacba,openstack/neutron,master,Ic9a808da8819c0cdbb4af6570fade5be2a9dacba,Add neutron-tempest-plugin-linuxbridge job to the periodic queue,MERGED,2023-06-28 11:01:15.000000000,2023-06-29 15:53:52.000000000,2023-06-29 14:19:23.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 11:01:15.000000000', 'files': ['zuul.d/job-templates.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39e167ab275507924fd63ae5bb9a8330adad8005', 'message': ""Add neutron-tempest-plugin-linuxbridge job to the periodic queue\n\nIt was agreed on the Neutron CI meeting [1] that we will remove\nthis job from check and gate queues and add it to the periodic queue\nto run it once a day.\nLinuxbridge agent is marked as experimental since at least one cycle\nalready and this scenario job is getting less and less stable now so\nit's probably time to move it out from our gate.\n\n[1] https://meetings.opendev.org/meetings/neutron_ci/2023/neutron_ci.2023-06-27-15.00.log.html#l-127\n\nChange-Id: Ic9a808da8819c0cdbb4af6570fade5be2a9dacba\n""}]",1,887158,39e167ab275507924fd63ae5bb9a8330adad8005,11,3,1,11975,,,0,"Add neutron-tempest-plugin-linuxbridge job to the periodic queue

It was agreed on the Neutron CI meeting [1] that we will remove
this job from check and gate queues and add it to the periodic queue
to run it once a day.
Linuxbridge agent is marked as experimental since at least one cycle
already and this scenario job is getting less and less stable now so
it's probably time to move it out from our gate.

[1] https://meetings.opendev.org/meetings/neutron_ci/2023/neutron_ci.2023-06-27-15.00.log.html#l-127

Change-Id: Ic9a808da8819c0cdbb4af6570fade5be2a9dacba
",git fetch https://review.opendev.org/openstack/neutron refs/changes/58/887158/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/job-templates.yaml'],1,39e167ab275507924fd63ae5bb9a8330adad8005,remove-lb-scenario-jobs, - neutron-tempest-plugin-linuxbridge,,1,0
openstack%2Foperations-guide~master~Ic5a14192e39d2f9725b6d667be93f32832cb21a7,openstack/operations-guide,master,Ic5a14192e39d2f9725b6d667be93f32832cb21a7,Repair the link address of tox installation to open 404 BUG,MERGED,2023-06-29 07:16:50.000000000,2023-06-29 15:28:21.000000000,2023-06-29 15:27:21.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 07:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/877b012fa95bc10c61749c7907bd6016157517d4', 'message': 'Repair the link address of tox installation to open 404 BUG\n\nChange-Id: Ic5a14192e39d2f9725b6d667be93f32832cb21a7\n'}, {'number': 2, 'created': '2023-06-29 14:55:16.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/e4b01cee98a54a7a994815e70b7d33647e5ac208', 'message': 'Repair the link address of tox installation to open 404 BUG\n\nChange-Id: Ic5a14192e39d2f9725b6d667be93f32832cb21a7\n'}]",1,887247,e4b01cee98a54a7a994815e70b7d33647e5ac208,11,2,2,34377,,,0,"Repair the link address of tox installation to open 404 BUG

Change-Id: Ic5a14192e39d2f9725b6d667be93f32832cb21a7
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/47/887247/2 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,877b012fa95bc10c61749c7907bd6016157517d4,,<https://tox.wiki/en/latest/installation.html>`_.,<https://tox.readthedocs.io/en/latest/install.html>`_.,1,1
openstack%2Fopenstack-helm-infra~master~Iae041046fd6e7e7f991b4cd1aa101c97bcaa150c,openstack/openstack-helm-infra,master,Iae041046fd6e7e7f991b4cd1aa101c97bcaa150c,Add buffer to wait for ovs pid file,MERGED,2023-06-28 17:08:28.000000000,2023-06-29 15:23:49.000000000,2023-06-29 15:22:39.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2023-06-28 17:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8e214491480ccdbc3801f9d28d555544b8d29085', 'message': 'Add buffer to wait for ovs pid files\n\nThis fixes for cases files not yet generated from start(), but already\nrequired on poststart() or even stop() in openvswitch-vswitchd.sh.\n\nAdd wait condition until file exists.\n\nChange-Id: Iae041046fd6e7e7f991b4cd1aa101c97bcaa150c\n'}, {'number': 2, 'created': '2023-06-29 03:20:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/53f8866b8737d1ad2b3b8c63a77c614f067ae190', 'message': 'Add buffer to wait for ovs pid files\n\nThis fixes for cases files not yet generated from start(), but already\nrequired on poststart() or even stop() in openvswitch-vswitchd.sh.\n\nAdd wait condition until file exists.\n\nChange-Id: Iae041046fd6e7e7f991b4cd1aa101c97bcaa150c\n'}, {'number': 3, 'created': '2023-06-29 06:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/31d075afed53883dcb00a8185191aad43afaa7e5', 'message': 'Add buffer to wait for ovs pid file/dir\n\nThis fixes for cases file/dir not yet generated from start(), but already\nrequired on poststart() or even stop() in openvswitch-vswitchd.sh.\n\nAdd wait condition until file/dir exists.\n\nChange-Id: Iae041046fd6e7e7f991b4cd1aa101c97bcaa150c\n'}, {'number': 4, 'created': '2023-06-29 08:38:01.000000000', 'files': ['releasenotes/notes/openvswitch.yaml', 'openvswitch/Chart.yaml', 'openvswitch/templates/bin/_openvswitch-vswitchd.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e9a816672540cd34d452509eac84933f0ed3a9a6', 'message': 'Add buffer to wait for ovs pid file\n\nThis fixes for cases file not yet generated from start(), but already\nrequired on poststart() in openvswitch-vswitchd.sh.\n\nAdd wait condition until file exists.\n\nChange-Id: Iae041046fd6e7e7f991b4cd1aa101c97bcaa150c\n'}]",0,887203,e9a816672540cd34d452509eac84933f0ed3a9a6,14,3,4,12404,,,0,"Add buffer to wait for ovs pid file

This fixes for cases file not yet generated from start(), but already
required on poststart() in openvswitch-vswitchd.sh.

Add wait condition until file exists.

Change-Id: Iae041046fd6e7e7f991b4cd1aa101c97bcaa150c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/03/887203/4 && git format-patch -1 --stdout FETCH_HEAD,['openvswitch/templates/bin/_openvswitch-vswitchd.sh.tpl'],1,8e214491480ccdbc3801f9d28d555544b8d29085,fix-ovs," until [ -f $OVS_PID ] do echo ""Waiting for file $OVS_PID"" sleep 1 done until [ -f $OVS_CTL ] do echo ""Waiting for file $OVS_CTL"" sleep 1 done",,11,1
openstack%2Fcharm-guide~master~Iff7e58a7ad0197e5a360712da1814b2b3c4d40df,openstack/charm-guide,master,Iff7e58a7ad0197e5a360712da1814b2b3c4d40df,Update release cycle image,MERGED,2023-06-29 14:16:54.000000000,2023-06-29 15:11:38.000000000,2023-06-29 15:10:30.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 14:16:54.000000000', 'files': ['doc/source/media/ubuntu-openstack-release-cycle.png', 'doc/source/admin/upgrades/overview.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/0a5f27e35d0a1af9a791a12bf7a55cfbf0d4c98a', 'message': 'Update release cycle image\n\nThis change will get backported to 2023.1\n\nCloses-Bug: #2025354\nChange-Id: Iff7e58a7ad0197e5a360712da1814b2b3c4d40df\n'}]",1,887288,0a5f27e35d0a1af9a791a12bf7a55cfbf0d4c98a,7,2,1,30561,,,0,"Update release cycle image

This change will get backported to 2023.1

Closes-Bug: #2025354
Change-Id: Iff7e58a7ad0197e5a360712da1814b2b3c4d40df
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/88/887288/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/media/ubuntu-openstack-release-cycle.png', 'doc/source/admin/upgrades/overview.rst']",2,0a5f27e35d0a1af9a791a12bf7a55cfbf0d4c98a,update-release-cycle-image, :scale: 90%, :scale: 80%,1,1
openstack%2Foperations-guide~master~I8dcd06ac01c59fcacc17846e8e5f0cc08696ed16,openstack/operations-guide,master,I8dcd06ac01c59fcacc17846e8e5f0cc08696ed16,Update doc build dependencies,MERGED,2023-06-29 14:25:04.000000000,2023-06-29 14:56:01.000000000,2023-06-29 14:54:57.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 14:25:04.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/c356ac4c6f2d5a31e4f0998af4883001b1826f83', 'message': 'Update doc build dependencies\n\nOutdated tox settings were causing doc builds to fail. This updates the\nminimum version of tox and some of the requirements to more recent\nversion to get past some incompatibilities.\n\nChange-Id: I8dcd06ac01c59fcacc17846e8e5f0cc08696ed16\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,887289,c356ac4c6f2d5a31e4f0998af4883001b1826f83,7,2,1,11904,,,0,"Update doc build dependencies

Outdated tox settings were causing doc builds to fail. This updates the
minimum version of tox and some of the requirements to more recent
version to get past some incompatibilities.

Change-Id: I8dcd06ac01c59fcacc17846e8e5f0cc08696ed16
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/89/887289/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,c356ac4c6f2d5a31e4f0998af4883001b1826f83,tox-update,minversion = 4.0passenv = *_proxy *_PROXY ZUUL_*,minversion = 2.0passenv = *_proxy *_PROXY ZUUL_*,7,4
openstack%2Fkolla~master~I82dd0e8667e44250d2892538819c12e6c775618b,openstack/kolla,master,I82dd0e8667e44250d2892538819c12e6c775618b,base: Debian 12 uses new APT sources file,MERGED,2023-05-02 09:07:58.000000000,2023-06-29 14:13:09.000000000,2023-06-29 14:11:18.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-02 09:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c927688a14e83ca90b1d95a986448d66f146e525', 'message': 'base: Debian 12 uses new APT sources file\n\nFor start we will use same APT sources.list format as we used in past\n(and use with Ubuntu). But we need to remove what is in container to\nmake sure that CI jobs would use mirror only.\n\nChange-Id: I82dd0e8667e44250d2892538819c12e6c775618b\n'}, {'number': 2, 'created': '2023-05-02 09:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a7f8fffd444e98ca491887efb01c85e40669443a', 'message': 'base: Debian 12 uses new APT sources file\n\nFor start we will use same APT sources.list format as we used in past\n(and use with Ubuntu). But we need to remove what is in container to\nmake sure that CI jobs would use mirror only.\n\nChange-Id: I82dd0e8667e44250d2892538819c12e6c775618b\n'}, {'number': 3, 'created': '2023-06-14 12:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8bfc5bedc42b25ef504f8387f4f3366e0a05b396', 'message': 'base: Debian 12 uses new APT sources file\n\nFor start we will use same APT sources.list format as we used in past\n(and use with Ubuntu). But we need to remove what is in container to\nmake sure that CI jobs would use mirror only.\n\nChange-Id: I82dd0e8667e44250d2892538819c12e6c775618b\n'}, {'number': 4, 'created': '2023-06-22 09:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/abdd982a5397b4bbe5e6a1cda3881bc3431c07aa', 'message': 'base: Debian 12 uses new APT sources file\n\nFor start we will use same APT sources.list format as we used in past\n(and use with Ubuntu). But we need to remove what is in container to\nmake sure that CI jobs would use mirror only.\n\nChange-Id: I82dd0e8667e44250d2892538819c12e6c775618b\n'}, {'number': 5, 'created': '2023-06-22 09:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/382e1db8c60b2944a0361a25fa1e47fb4a8fb8b2', 'message': 'base: Debian 12 uses new APT sources file\n\nFor start we will use same APT sources.list format as we used in past\n(and use with Ubuntu). But we need to remove what is in container to\nmake sure that CI jobs would use mirror only.\n\nChange-Id: I82dd0e8667e44250d2892538819c12e6c775618b\n'}, {'number': 6, 'created': '2023-06-28 16:21:04.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3e4d291b12719e8ede9b2801847da987db2885dc', 'message': 'base: Debian 12 uses new APT sources file\n\nFor start we will use same APT sources.list format as we used in past\n(and use with Ubuntu). But we need to remove what is in container to\nmake sure that CI jobs would use mirror only.\n\nChange-Id: I82dd0e8667e44250d2892538819c12e6c775618b\n'}]",5,881950,3e4d291b12719e8ede9b2801847da987db2885dc,31,5,6,24072,,,0,"base: Debian 12 uses new APT sources file

For start we will use same APT sources.list format as we used in past
(and use with Ubuntu). But we need to remove what is in container to
make sure that CI jobs would use mirror only.

Change-Id: I82dd0e8667e44250d2892538819c12e6c775618b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/50/881950/3 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,c927688a14e83ca90b1d95a986448d66f146e525,for-debian-bookworm-upgrade,RUN rm -f /etc/apt/debian.sources,,1,0
openstack%2Fkolla~master~Ic06f3c0e42fb7854e5b198c9b868f10cd507cd24,openstack/kolla,master,Ic06f3c0e42fb7854e5b198c9b868f10cd507cd24,base: install adduser on Debian/Ubuntu,MERGED,2023-05-02 09:01:07.000000000,2023-06-29 14:12:17.000000000,2023-06-29 14:11:16.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-02 09:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e202c02bd4a49df2546e1ce5d5eafc5e5ae257f0', 'message': 'base: handle Debian bookworm adduser.conf\n\nIn Bookworm configuration file for adduser changed.\n\nChange-Id: Ic06f3c0e42fb7854e5b198c9b868f10cd507cd24\n'}, {'number': 2, 'created': '2023-05-02 09:50:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/eabc74d1541c0b24710ed3799fa8509dc8051fbc', 'message': 'base: handle Debian bookworm adduser.conf\n\nIn Bookworm configuration file for adduser changed.\n\nChange-Id: Ic06f3c0e42fb7854e5b198c9b868f10cd507cd24\n'}, {'number': 3, 'created': '2023-05-02 09:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f28d435cffc56be9bd28d3fd2d793aaec2e6d3ef', 'message': 'base: handle Debian bookworm adduser.conf\n\nIn Bookworm configuration file for adduser changed.\n\nChange-Id: Ic06f3c0e42fb7854e5b198c9b868f10cd507cd24\n'}, {'number': 4, 'created': '2023-06-14 12:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0ef3bde9192f623ee8fb92acfabf43650d77df97', 'message': ""base: install adduser on Debian/Ubuntu\n\nDebian:bookworm container does not have 'adduser' installed so\nwe need to do it before we touch /etc/adduser.conf file.\n\nIn Bookworm configuration file for adduser changed.\n\nChange-Id: Ic06f3c0e42fb7854e5b198c9b868f10cd507cd24\n""}, {'number': 5, 'created': '2023-06-22 09:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c4901c55a18a0d98b4a56b3e6be824a053ba7e1c', 'message': ""base: install adduser on Debian/Ubuntu\n\nDebian:bookworm container does not have 'adduser' installed so\nwe need to do it before we touch /etc/adduser.conf file.\n\nIn Bookworm configuration file for adduser changed.\n\nChange-Id: Ic06f3c0e42fb7854e5b198c9b868f10cd507cd24\n""}, {'number': 6, 'created': '2023-06-22 09:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/036d963d0edb47906aaf57515d4f7a65ef32e654', 'message': ""base: install adduser on Debian/Ubuntu\n\nDebian:bookworm container does not have 'adduser' installed so\nwe need to do it before we touch /etc/adduser.conf file.\n\nIn Bookworm configuration file for adduser changed.\n\nChange-Id: Ic06f3c0e42fb7854e5b198c9b868f10cd507cd24\n""}, {'number': 7, 'created': '2023-06-28 16:21:04.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3de04436fa0e497a08d5d4312e25bf4b1049cac2', 'message': ""base: install adduser on Debian/Ubuntu\n\nDebian:bookworm container does not have 'adduser' installed so\nwe need to do it before we touch /etc/adduser.conf file.\n\nIn Bookworm configuration file for adduser changed.\n\nChange-Id: Ic06f3c0e42fb7854e5b198c9b868f10cd507cd24\n""}]",10,881948,3de04436fa0e497a08d5d4312e25bf4b1049cac2,36,5,7,24072,,,0,"base: install adduser on Debian/Ubuntu

Debian:bookworm container does not have 'adduser' installed so
we need to do it before we touch /etc/adduser.conf file.

In Bookworm configuration file for adduser changed.

Change-Id: Ic06f3c0e42fb7854e5b198c9b868f10cd507cd24
",git fetch https://review.opendev.org/openstack/kolla refs/changes/48/881948/6 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,e202c02bd4a49df2546e1ce5d5eafc5e5ae257f0,for-debian-bookworm-upgrade,{% if base_distro == 'debian' %} RUN cat /tmp/kolla_bashrc >> /etc/bash.bashrc \ && sed -i -e s/#LAST_SYSTEM_UID=999/LAST_SYSTEM_UID=59999/g \ -e s/#LAST_SYSTEM_GID=999/LAST_SYSTEM_GID=59999/g /etc/adduser.conf {% else %}{% endif %},,6,0
openstack%2Fopenstack-ansible-haproxy_server~master~Iad345c75c10d5108f19268a8fcd1170ee4c45a54,openstack/openstack-ansible-haproxy_server,master,Iad345c75c10d5108f19268a8fcd1170ee4c45a54,Apply tags to PKI role,NEW,2023-06-29 10:48:56.000000000,2023-06-29 14:03:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-06-29 10:48:56.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-haproxy_server/commit/d198d188e2f2815ba7b99e71c423ee1effb98fc1', 'message': ""Apply tags to PKI role\n\nAt the moment it's not possible just to rotate certificates and\ncertificates are not touched when haproxy_server-config tag is used.\n\nWe add common tags to PKI role include to allow operators\nto better control what will be executed.\n\nChange-Id: Iad345c75c10d5108f19268a8fcd1170ee4c45a54\n""}]",0,887263,d198d188e2f2815ba7b99e71c423ee1effb98fc1,3,2,1,28619,,,0,"Apply tags to PKI role

At the moment it's not possible just to rotate certificates and
certificates are not touched when haproxy_server-config tag is used.

We add common tags to PKI role include to allow operators
to better control what will be executed.

Change-Id: Iad345c75c10d5108f19268a8fcd1170ee4c45a54
",git fetch https://review.opendev.org/openstack/openstack-ansible-haproxy_server refs/changes/63/887263/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,d198d188e2f2815ba7b99e71c423ee1effb98fc1,, apply: tags: - haproxy_server-config - pki tags: - always,,6,0
openstack%2Fnetworking-bagpipe~master~I7bcacd337a8d86ff49298db95dee936d5663ffb3,openstack/networking-bagpipe,master,I7bcacd337a8d86ff49298db95dee936d5663ffb3,Add os_ken_app to EVPN OVSDataplaneDriver,NEW,2023-05-30 13:23:43.000000000,2023-06-29 13:58:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-30 13:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/c6fcfe1edb9ffbef9cea15ec60244178e8f363b5', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}, {'number': 2, 'created': '2023-05-31 08:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/4c81b2668e251bdae87ad63108c5c3197e8b4aaa', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}, {'number': 3, 'created': '2023-06-29 12:24:11.000000000', 'files': ['networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/d88d04902181dce40a8cda625c2cbba21f0d75b2', 'message': 'Add os_ken_app to EVPN OVSDataplaneDriver\n\nChange-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3\n'}]",0,884695,d88d04902181dce40a8cda625c2cbba21f0d75b2,6,1,3,8313,,,0,"Add os_ken_app to EVPN OVSDataplaneDriver

Change-Id: I7bcacd337a8d86ff49298db95dee936d5663ffb3
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/95/884695/3 && git format-patch -1 --stdout FETCH_HEAD,['networking_bagpipe/bagpipe_bgp/vpn/evpn/ovs.py'],1,c6fcfe1edb9ffbef9cea15ec60244178e8f363b5,fix_ovs_evpn_driver," br_tun.OVSTunnelBridge(self.config.ovs_bridge, os_ken_app=self)", br_tun.OVSTunnelBridge(self.config.ovs_bridge),1,1
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I80afbe7a79fc6ce923061f0397fa71f431bad68e,openstack/tripleo-upgrade,stable/wallaby,I80afbe7a79fc6ce923061f0397fa71f431bad68e,Remove the systemd status command from the log collection.,MERGED,2023-06-26 17:23:46.000000000,2023-06-29 13:35:27.000000000,2023-06-29 13:35:27.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-06-26 17:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9bac1b3b20743dc84ac4679dce17dcb5dcdb45e7', 'message': 'Remove the systemd status command from the log collection.\n\nThe `status` command can returns code that just mean that a service is\nin transition, like for instance, when activating a service from a\ntimer. For instance:\n\n    Active: activating (start)\n\nwill return code 3, as do:\n\n   Active: failed\n\nSo, that mean that we should ignore this return in all case unless we\ndo a specific test for service in fail state.\n\nAs we get all the unit file with the previous log collection, which\nuse `list-units`, this `status` run is useless.\n\nIf we still want the check, we have to add another review which will\nexplicitely check for failed services:\n\n    systemctl status --failed tripleo*\n\nChange-Id: I80afbe7a79fc6ce923061f0397fa71f431bad68e\n'}, {'number': 2, 'created': '2023-06-26 18:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ba1186b19aa10d2b6e91c907ab76bafe8fc4c34f', 'message': 'Remove the systemd status command from the log collection.\n\nThe `status` command can return codes different than 0 that\njust mean that a service is in transition, like for instance, when activating a service from a timer. For instance:\n\n    Active: activating (start)\n\nwill return code 3, as do:\n\n   Active: failed\n\nSo, that means that we should ignore this return in all case unless we\ndo a specific test for service in fail state.\n\nAs we get all the unit files with the previous log collection, which\nuse `list-units`, this `status` run is useless.\n\nIf we still want the check, we have to add another review which will\nexplicitly check for failed services:\n\n    systemctl status --failed tripleo*\n\nChange-Id: I80afbe7a79fc6ce923061f0397fa71f431bad68e\n'}, {'number': 3, 'created': '2023-06-28 19:18:01.000000000', 'files': ['templates/collect_logs.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/310b59c8115b4b527f23a79db529e1748b2aafbb', 'message': 'Remove the systemd status command from the log collection.\n\nThe `status` command can return codes different than 0 that\njust mean that a service is in transition, like for instance, when activating a service from a timer. For instance:\n\n    Active: activating (start)\n\nwill return code 3, as do:\n\n   Active: failed\n\nSo, that means that we should ignore this return in all case unless we\ndo a specific test for service in fail state.\n\nAs we get all the unit files with the previous log collection, which\nuse `list-units`, this `status` run is useless.\n\nIf we still want the check, we have to add another review which will\nexplicitly check for failed services:\n\n    systemctl status --failed tripleo*\n\nChange-Id: I80afbe7a79fc6ce923061f0397fa71f431bad68e\n'}]",3,886998,310b59c8115b4b527f23a79db529e1748b2aafbb,15,3,3,8297,,,0,"Remove the systemd status command from the log collection.

The `status` command can return codes different than 0 that
just mean that a service is in transition, like for instance, when activating a service from a timer. For instance:

    Active: activating (start)

will return code 3, as do:

   Active: failed

So, that means that we should ignore this return in all case unless we
do a specific test for service in fail state.

As we get all the unit files with the previous log collection, which
use `list-units`, this `status` run is useless.

If we still want the check, we have to add another review which will
explicitly check for failed services:

    systemctl status --failed tripleo*

Change-Id: I80afbe7a79fc6ce923061f0397fa71f431bad68e
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/98/886998/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/collect_logs.yaml.j2'],1,9bac1b3b20743dc84ac4679dce17dcb5dcdb45e7,,," - name: get tripleo services information at this stage shell: | systemctl status 'tripleo*' &>> /var/log/extra/systemctl-tripleo-{% raw %}{{ current_stage }}{% endraw %}.txt register: systemctl_cmd failed_when: systemctl_cmd.rc not in [0,2] ",0,6
openstack%2Ftripleo-upgrade~stable%2Fwallaby~Ib4cfd083cddd13ce2f61ed8c202aa18f0d6288b7,openstack/tripleo-upgrade,stable/wallaby,Ib4cfd083cddd13ce2f61ed8c202aa18f0d6288b7,[ffwd3] fix inventory 16->17,MERGED,2023-06-10 08:15:35.000000000,2023-06-29 13:35:26.000000000,2023-06-29 13:35:26.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-06-10 08:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/cebb25f03b73099384383b0909be06b96b133571', 'message': '[ffwd3] fix inventory 16->17\n\nChange-Id: Ib4cfd083cddd13ce2f61ed8c202aa18f0d6288b7\n'}, {'number': 2, 'created': '2023-06-10 20:10:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c18c16f732770e467ec308139c1ddfbc87288310', 'message': '[ffwd3] fix inventory 16->17\n\nChange-Id: Ib4cfd083cddd13ce2f61ed8c202aa18f0d6288b7\n'}, {'number': 3, 'created': '2023-06-11 07:54:06.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml', 'tasks/common/create_workload.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/318bac7fbc5d12a2123cbae8d38e8c745e2f5749', 'message': '[ffwd3] fix inventory 16->17\n\nChange-Id: Ib4cfd083cddd13ce2f61ed8c202aa18f0d6288b7\n'}]",2,885814,318bac7fbc5d12a2123cbae8d38e8c745e2f5749,14,3,3,11166,,,0,"[ffwd3] fix inventory 16->17

Change-Id: Ib4cfd083cddd13ce2f61ed8c202aa18f0d6288b7
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/14/885814/3 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/load_roles_from_inventory.yaml'],1,cebb25f03b73099384383b0909be06b96b133571,,"- stat: path: ""{{ upgrade_validation_inventory }}"" register: inventory_stat - set_fact: upgrade_validation_inventory: ""/var/lib/mistral/{{ overcloud_stack_name }}/tripleo_ansible_inventory.yaml"" when: not inventory_stat.stat.exists",,6,0
openstack%2Fkolla-ansible~master~I8f96d4df49a22acbe41e6da7a646e76face6ef2d,openstack/kolla-ansible,master,I8f96d4df49a22acbe41e6da7a646e76face6ef2d,WIP: Add retries to mysql_db,ABANDONED,2023-03-30 06:35:18.000000000,2023-06-29 13:33:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-03-30 06:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6f84048af87e1ee3cd652f69a6585ebf4ccecbf1', 'message': 'WIP: Add retries to mysql_db\n\nChange-Id: I8f96d4df49a22acbe41e6da7a646e76face6ef2d\n'}, {'number': 2, 'created': '2023-03-30 10:35:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/62898bf6458afcb3c8ca5cd394a25730669cbcc1', 'message': 'WIP: Add retries to mysql_db\n\nChange-Id: I8f96d4df49a22acbe41e6da7a646e76face6ef2d\n'}, {'number': 3, 'created': '2023-03-30 10:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/81356e953808f5619b3b60bf9e768dbb736946b5', 'message': 'WIP: Add retries to mysql_db\n\nChange-Id: I8f96d4df49a22acbe41e6da7a646e76face6ef2d\n'}, {'number': 4, 'created': '2023-03-30 11:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/486106115ebd653715713d5ed0e1456df4af1219', 'message': 'WIP: Add retries to mysql_db\n\nChange-Id: I8f96d4df49a22acbe41e6da7a646e76face6ef2d\n'}, {'number': 5, 'created': '2023-04-06 14:45:57.000000000', 'files': ['ansible/roles/keystone/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/60e7ee0a64ead3b968f62ce7ac23a927271895c3', 'message': 'WIP: Add retries to mysql_db\n\nChange-Id: I8f96d4df49a22acbe41e6da7a646e76face6ef2d\n'}]",3,879022,60e7ee0a64ead3b968f62ce7ac23a927271895c3,19,2,5,22629,,,0,"WIP: Add retries to mysql_db

Change-Id: I8f96d4df49a22acbe41e6da7a646e76face6ef2d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/879022/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/keystone/tasks/bootstrap.yml'],1,6f84048af87e1ee3cd652f69a6585ebf4ccecbf1,," register: keystone_db until: keystone_db is not failed"" retries: 10 delay: 10",,4,0
openstack%2Fcinder~master~Ide8f124c3a7dddc9fb45f11673684bd705131a38,openstack/cinder,master,Ide8f124c3a7dddc9fb45f11673684bd705131a38,Imported Translations from Zanata,MERGED,2023-06-18 03:57:55.000000000,2023-06-29 13:23:23.000000000,2023-06-29 03:35:25.000000000,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-18 03:57:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6afc3ba55aae47d4e2638704d9c2b8a0fa8029a2', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ide8f124c3a7dddc9fb45f11673684bd705131a38\n'}, {'number': 2, 'created': '2023-06-21 04:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/59177c9d13c810b7c00f1abb02be66c12c1f627b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ide8f124c3a7dddc9fb45f11673684bd705131a38\n'}, {'number': 3, 'created': '2023-06-28 03:43:31.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f1569abd66bdccf5536e6cb258b5b7bbc2f30b59', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ide8f124c3a7dddc9fb45f11673684bd705131a38\n'}]",0,886333,f1569abd66bdccf5536e6cb258b5b7bbc2f30b59,50,2,3,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ide8f124c3a7dddc9fb45f11673684bd705131a38
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/886333/3 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,6afc3ba55aae47d4e2638704d9c2b8a0fa8029a2,zanata/translations,"""POT-Creation-Date: 2023-06-05 20:01+0000\n""""PO-Revision-Date: 2023-06-17 02:37+0000\n""msgid ""19.3.0-2"" msgstr ""19.3.0-2"" msgid ""20.3.0"" msgstr ""20.3.0"" msgid ""20.3.0-1"" msgstr ""20.3.0-1"" msgid ""21.3.0"" msgstr ""21.3.0"" msgid ""22.0.0.0rc1-62"" msgstr ""22.0.0.0rc1-62"" msgid ""22.1.0"" msgstr ""22.1.0"" msgid ""22.1.0-1"" msgstr ""22.1.0-1""""As part of the fix for `Bug #2004555 <https://bugs.launchpad.net/cinder/"" ""+bug/2004555>`_, cinder now rejects user attachment delete requests for "" ""attachments that are being used by nova instances to ensure that no leftover "" ""devices are produced on the compute nodes which could be used to access "" ""another project's volumes. Terminate connection, detach, and force detach "" ""volume actions (calls that are not usually made by users directly) are, in "" ""most cases, not allowed for users."" msgstr """" ""As part of the fix for `Bug #2004555 <https://bugs.launchpad.net/cinder/"" ""+bug/2004555>`_, Cinder now rejects user attachment delete requests for "" ""attachments that are being used by nova instances to ensure that no leftover "" ""devices are produced on the compute nodes which could be used to access "" ""another project's volumes. Terminate connection, detach, and force detach "" ""volume actions (calls that are not usually made by users directly) are, in "" ""most cases, not allowed for users."" msgid """" ""As part of the fix for `Bug #2004555 <https://bugs.launchpad.net/cinder/"" ""+bug/2004555>`_, cinder now rejects user attachment delete requests for "" ""attachments that are being used by nova instances to ensure that no leftover "" ""devices are produced on the compute nodes which could be used to access "" ""another project's volumes. Terminate connection, detach, and force detach "" ""volume actions are not allowed for users."" msgstr """" ""As part of the fix for `Bug #2004555 <https://bugs.launchpad.net/cinder/"" ""+bug/2004555>`_, Cinder now rejects user attachment delete requests for "" ""attachments that are being used by nova instances to ensure that no leftover "" ""devices are produced on the compute nodes which could be used to access "" ""another project's volumes. Terminate connection, detach, and force detach "" ""volume actions are not allowed for users."" msgid """"msgid ""Critical Issues"" msgstr ""Critical Issues"" ""Detaching volumes will fail if Nova is not `configured to send service "" ""tokens <https://docs.openstack.org/cinder/latest/configuration/block-storage/"" ""service-token.html>`_, please read the upgrade section for more information. "" ""(`Bug #2004555 <https://bugs.launchpad.net/cinder/+bug/2004555>`_)."" msgstr """" ""Detaching volumes will fail if Nova is not `configured to send service "" ""tokens <https://docs.openstack.org/cinder/latest/configuration/block-storage/"" ""service-token.html>`_, please read the upgrade section for more information. "" ""(`Bug #2004555 <https://bugs.launchpad.net/cinder/+bug/2004555>`_)."" msgid """"""For security reasons (`Bug #2004555 <https://bugs.launchpad.net/cinder/"" ""+bug/2004555>`_) manually deleting an attachment, manually doing the ``os-"" ""terminate_connection`` ``os-detach`` or ``os-force_detach`` actions will no "" ""longer be allowed unless the request is coming from another OpenStack "" ""service on behalf of a user."" msgstr """" ""For security reasons (`Bug #2004555 <https://bugs.launchpad.net/cinder/"" ""+bug/2004555>`_) manually deleting an attachment, manually doing the ``os-"" ""terminate_connection`` ``os-detach`` or ``os-force_detach`` actions will no "" ""longer be allowed unless the request is coming from another OpenStack "" ""service on behalf of a user."" msgid """" ""For security reasons (`Bug #2004555 <https://bugs.launchpad.net/cinder/"" ""+bug/2004555>`_) manually deleting an attachment, manually doing the ``os-"" ""terminate_connection``, ``os-detach`` or ``os-force_detach`` actions will no "" ""longer be allowed in most cases unless the request is coming from another "" ""OpenStack service on behalf of a user."" msgstr """" ""For security reasons, (`Bug #2004555 <https://bugs.launchpad.net/cinder/"" ""+bug/2004555>`_) manually deleting an attachment, manually doing the ``os-"" ""terminate_connection``, ``os-detach`` or ``os-force_detach`` actions will no "" ""longer be allowed in most cases unless the request is coming from another "" ""OpenStack service on behalf of a user."" msgid """"""HPE 3PAR driver `Bug #2015746 <https://bugs.launchpad.net/cinder/"" ""+bug/2015746>`_: Fixed: minor code changes to work with new wsapi."" msgstr """" ""HPE 3PAR driver `Bug #2015746 <https://bugs.launchpad.net/cinder/"" ""+bug/2015746>`_: Fixed: minor code changes to work with new wsapi."" msgid """"""HPE 3PAR driver `bug #2018994 <https://bugs.launchpad.net/cinder/"" ""+bug/2018994>`_: Fixed: use small QoS Latency value (less than 1)"" msgstr """" ""HPE 3PAR driver `bug #2018994 <https://bugs.launchpad.net/cinder/"" ""+bug/2018994>`_: Fixed: use small QoS Latency value (less than 1)"" msgid """"msgid """" ""Nova must be `configured to send service tokens <https://docs.openstack.org/"" ""cinder/latest/configuration/block-storage/service-token.html>`_ **and** "" ""cinder must be configured to recognize at least one of the roles that the "" ""nova service user has been assigned in keystone. By default, cinder will "" ""recognize the ``service`` role, so if the nova service user is assigned a "" ""differently named role in your cloud, you must adjust your cinder "" ""configuration file (``service_token_roles`` configuration option in the "" ""``keystone_authtoken`` section). If nova and cinder are not configured "" ""correctly in this regard, detaching volumes will no longer work (`Bug "" ""#2004555 <https://bugs.launchpad.net/cinder/+bug/2004555>`_)."" msgstr """" ""Nova must be `configured to send service tokens <https://docs.openstack.org/"" ""cinder/latest/configuration/block-storage/service-token.html>`_ **and** "" ""Cinder must be configured to recognize at least one of the roles that the "" ""nova service user has been assigned in keystone. By default, Cinder will "" ""recognise the ``service`` role, so if the nova service user is assigned a "" ""differently named role in your cloud, you must adjust your Cinder "" ""configuration file (``service_token_roles`` configuration option in the "" ""``keystone_authtoken`` section). If Nova and Cinder are not configured "" ""correctly in this regard, detaching volumes will no longer work (`Bug "" ""#2004555 <https://bugs.launchpad.net/cinder/+bug/2004555>`_)."" msgid """" ""The legacy ``sqlalchemy-migrate`` migrations, which have been deprecated "" ""since Xena, have been removed. There should be no end-user impact."" msgstr """" ""The legacy ``sqlalchemy-migrate`` migrations, which have been deprecated "" ""since Xena, have been removed. There should be no end-user impact."" ""`Bug #1945500 <https://bugs.launchpad.net/cinder/+bug/1945500>`_: The "" ""original attempt at fixing this bug did not account for differences in how "" ""glance and cinder store image metadata, and as a result some image "" ""properties were not filtered out. This new improved fix addresses those "" ""differences and makes the filtering more thorough."" msgstr """" ""`Bug #1945500 <https://bugs.launchpad.net/cinder/+bug/1945500>`_: The "" ""original attempt at fixing this bug did not account for differences in how "" ""Glance and Cinder store image metadata, and as a result some image "" ""properties were not filtered out. This new improved fix addresses those "" ""differences and makes the filtering more thorough."" msgid """"""`Bug #2004555 <https://bugs.launchpad.net/cinder/+bug/2004555>`_: Fixed "" ""issue where a user manually deleting an attachment, calling terminate "" ""connection, detach, or force detach, for a volume that is still used by a "" ""nova instance resulted in leftover devices on the compute node. These "" ""operations will now fail when it is believed to be a problem."" msgstr """" ""`Bug #2004555 <https://bugs.launchpad.net/cinder/+bug/2004555>`_: Fixed "" ""issue where a user manually deleting an attachment, calling terminate "" ""connection, detach, or force detach, for a volume that is still used by a "" ""Nova instance resulted in leftover devices on the compute node. These "" ""operations will now fail when it is believed to be a problem."" msgid """" ""`Bug #2004555 <https://bugs.launchpad.net/cinder/+bug/2004555>`_: Fixed "" ""issue where a user manually deleting an attachment, calling terminate "" ""connection, detach, or force detach, for a volume that is still used by a "" ""nova instance resulted in leftover devices on the compute node. These "" ""operations will now fail."" msgstr """" ""`Bug #2004555 <https://bugs.launchpad.net/cinder/+bug/2004555>`_: Fixed "" ""issue where a user manually deleting an attachment, calling terminate "" ""connection, detach, or force detach, for a volume that is still used by a "" ""Nova instance resulted in leftover devices on the compute node. These "" ""operations will now fail."" msgid """"","""POT-Creation-Date: 2023-05-04 07:54+0000\n""""PO-Revision-Date: 2023-05-08 10:03+0000\n""msgid ""22.0.0.0rc1-46"" msgstr ""22.0.0.0rc1-46""",177,4
openstack%2Fopenstack-ansible~master~I2168bbb93f60ce0fe6d3a292a2705a7753b26886,openstack/openstack-ansible,master,I2168bbb93f60ce0fe6d3a292a2705a7753b26886,Enable TLS on haproxy VIPs and backends by default,ABANDONED,2023-06-04 15:19:53.000000000,2023-06-29 13:13:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-04 15:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bf2d1aba2d14c0c574a1be6352992eefc33af947', 'message': '[WIP] Enable TLS on haproxy VIPs and backends by default\n\nThis patch enables TLS on haproxy frontends and backends by default.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885190\nChange-Id: I2168bbb93f60ce0fe6d3a292a2705a7753b26886\n'}, {'number': 2, 'created': '2023-06-08 04:55:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f918293456bc7efef9bd2b11ea2b8a855c093e49', 'message': '[WIP] Enable TLS on haproxy VIPs and backends by default\n\nThis patch enables TLS on haproxy frontends and backends by default.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885190\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/885337\nChange-Id: I2168bbb93f60ce0fe6d3a292a2705a7753b26886\n'}, {'number': 3, 'created': '2023-06-08 04:55:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dcba426337ed8e9bbe012244357200bd1b525f32', 'message': '[WIP] Enable TLS on haproxy VIPs and backends by default\n\nThis patch enables TLS on haproxy frontends and backends by default.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885190\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/885337\nChange-Id: I2168bbb93f60ce0fe6d3a292a2705a7753b26886\n'}, {'number': 4, 'created': '2023-06-21 08:48:24.000000000', 'files': ['inventory/group_vars/all/haproxy.yml', 'releasenotes/notes/enable-tls-on-haproxy-by-default-56f59c32f4884ff4.yaml', 'doc/source/admin/upgrades/major-upgrades.rst', 'inventory/group_vars/all/all.yml', 'scripts/run-upgrade.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/00e86be58a4c30d7dbd70a55f7e31673e09be15f', 'message': 'Enable TLS on haproxy VIPs and backends by default\n\nThis patch enables TLS on haproxy frontends and backends by default.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885190\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/885337\nChange-Id: I2168bbb93f60ce0fe6d3a292a2705a7753b26886\n'}]",2,885192,00e86be58a4c30d7dbd70a55f7e31673e09be15f,12,1,4,32666,,,0,"Enable TLS on haproxy VIPs and backends by default

This patch enables TLS on haproxy frontends and backends by default.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/885190
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/885337
Change-Id: I2168bbb93f60ce0fe6d3a292a2705a7753b26886
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/92/885192/4 && git format-patch -1 --stdout FETCH_HEAD,"['inventory/group_vars/all/haproxy.yml', 'releasenotes/notes/enable-tls-on-haproxy-by-default-56f59c32f4884ff4.yaml', 'doc/source/admin/upgrades/major-upgrades.rst', 'inventory/group_vars/all/all.yml', 'scripts/run-upgrade.sh']",5,bf2d1aba2d14c0c574a1be6352992eefc33af947,tls-backend," # TODO(damiandabrowski): Remove after 2023.2 release ('-e openstack_service_accept_both_protocols=True') RUN_TASKS+=(""setup-openstack.yml -e package_state=latest -e openstack_service_accept_both_protocols=True"") # TODO(damiandabrowski): Remove after 2023.2 release # run haproxy playbook to remove upgrade config to support HTTP and HTTPS RUN_TASKS+=(""setup-openstack.yml -t haproxy-service-config"")"," RUN_TASKS+=(""setup-openstack.yml -e package_state=latest"")",54,6
openstack%2Ftrove~stable%2Fwallaby~I48f3ddcdc523f8e5c5d65a89b9b1327fab7c8ef3,openstack/trove,stable/wallaby,I48f3ddcdc523f8e5c5d65a89b9b1327fab7c8ef3,[CI]: set voting to false for trove-tempest jobs,MERGED,2023-06-29 03:47:52.000000000,2023-06-29 13:04:07.000000000,2023-06-29 13:02:08.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-29 03:47:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/83ed66e225b3e1bc8dff286f615484837d44f24f', 'message': '[CI]: set voting to false for trove-tempest jobs\n\nAs nobody maintains this jobs, we need to set voting to false, so\nthat we can pass the zuul checks.\n\nChange-Id: I48f3ddcdc523f8e5c5d65a89b9b1327fab7c8ef3\n'}, {'number': 2, 'created': '2023-06-29 07:58:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/40d7df7d62446b5984c9cf0654e500276fa98c7a', 'message': '[CI]: set voting to false for trove-tempest jobs\n\nAs nobody maintains this jobs, we need to set voting to false, so\nthat we can pass the zuul checks.\n\nChange-Id: I48f3ddcdc523f8e5c5d65a89b9b1327fab7c8ef3\n'}]",0,887244,40d7df7d62446b5984c9cf0654e500276fa98c7a,12,2,2,26285,,,0,"[CI]: set voting to false for trove-tempest jobs

As nobody maintains this jobs, we need to set voting to false, so
that we can pass the zuul checks.

Change-Id: I48f3ddcdc523f8e5c5d65a89b9b1327fab7c8ef3
",git fetch https://review.opendev.org/openstack/trove refs/changes/44/887244/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,83ed66e225b3e1bc8dff286f615484837d44f24f,, - trove-tempest: voting: false #- trove-functional-mysql: # voting: false, - trove-tempest - trove-functional-mysql: voting: false,4,3
openstack%2Fopenstack-ansible~master~I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5,openstack/openstack-ansible,master,I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5,[DNM] Enable TLS backends by default,ABANDONED,2023-04-04 18:01:06.000000000,2023-06-29 13:01:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-04-04 18:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8d6442a6645aa2574f74651519d0db230c767650', 'message': '[DNM] Enable openstack_backend_service_https\n\nSet `openstack_backend_service_https` to true by default to check if all\nservice roles work fine if combined all together.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 2, 'created': '2023-04-05 17:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cf82c5aa19d70e4d37b44f9d1ad81ed9af95222b', 'message': '[DNM] Enable openstack_backend_service_https\n\nSet `openstack_backend_service_https` to true by default to check if all\nservice roles work fine if combined all together.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/875779\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 3, 'created': '2023-04-05 22:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2d57890b66344eb673247f529cc7dc916720aa47', 'message': '[DNM] Enable openstack_backend_service_https\n\nSet `openstack_backend_service_https` to true by default to check if all\nservice roles work fine if combined all together.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/875779\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 4, 'created': '2023-04-06 23:02:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bb29a270090a41ebd4a9dcdbb49ec5fdd24b481d', 'message': '[DNM] Enable openstack_backend_service_https\n\nSet `openstack_backend_service_https` to true by default to check if all\nservice roles work fine if combined all together.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/875779\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 5, 'created': '2023-04-06 23:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1ff7cb3ffdc2c4a55463969f611b276718b3aeb2', 'message': '[DNM] Enable openstack_service_backend_ssl\n\nSet `openstack_service_backend_ssl` to true by default to check if all\nservice roles work fine if combined all together.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-haproxy_server/+/875779\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 6, 'created': '2023-04-08 00:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7a70e80aee1a766cde3659ebe28846476d5364ea', 'message': 'Enable TLS backend for services that already have a support for it and\ncheck if it passes gating.\n\nNOTE: setting `openstack_service_backend_ssl` to true by default is not\npossible until all service have a support for it. Otherwise haproxy\nwill be configured to connect to backends over TLS but backends will\nnot be ready to handle TLS traffic.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 7, 'created': '2023-04-08 00:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cd5d6cc09bd826fe325542bf83cd99eecc555e1f', 'message': '[DNM] Enable TLS backends by default\n\nEnable TLS backend for services that already have a support for it and\ncheck if it passes gating.\n\nNOTE: setting `openstack_service_backend_ssl` to true by default is not\npossible until all service have a support for it. Otherwise haproxy\nwill be configured to connect to backends over TLS but backends will\nnot be ready to handle TLS traffic.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 8, 'created': '2023-04-08 00:18:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/028dc6211a78ccbfec420ecbaf509029702081d5', 'message': '[DNM] Enable TLS backends by default\n\nEnable TLS backend for services that already have a support for it and\ncheck if it passes gating.\n\nNOTE: setting `openstack_service_backend_ssl` to true by default is not\npossible until all service have a support for it. Otherwise haproxy\nwill be configured to connect to backends over TLS but backends will\nnot be ready to handle TLS traffic.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/879517\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 9, 'created': '2023-04-14 18:48:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/648faea0d47b55b129f275ac59611b7282717181', 'message': '[DNM] Enable TLS backends by default\n\nEnable TLS backend by default and check if it passes gating.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/879517\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 10, 'created': '2023-04-15 11:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/19846f646581cdeb19499ff0c9c1dcb7d0d95058', 'message': '[DNM] Enable TLS backends by default\n\nEnable TLS backend by default and check if it passes gating.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/879517\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 11, 'created': '2023-04-15 12:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ffa010481a4d1941fedc7b8d2ef79f4ee3d3e4cc', 'message': '[DNM] Enable TLS backends by default\n\nEnable TLS backend by default and check if it passes gating.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/879517\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 12, 'created': '2023-04-29 16:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eafd961e99fb1b775a0f4966b0ec1b6f6f77836b', 'message': '[DNM] Enable TLS backends by default\n\nEnable TLS backend by default and check if it passes gating.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/879517\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}, {'number': 13, 'created': '2023-04-29 16:57:17.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e44ef2f49a990bde5fe8739ad7e4e39731c4cd4a', 'message': '[DNM] Enable TLS backends by default\n\nEnable TLS backend by default and check if it passes gating.\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/879517\n\nChange-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5\n'}]",4,879501,e44ef2f49a990bde5fe8739ad7e4e39731c4cd4a,37,1,13,32666,,,0,"[DNM] Enable TLS backends by default

Enable TLS backend by default and check if it passes gating.

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-repo_server/+/876429
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_nova/+/874810
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_placement/+/879380
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_cinder/+/874966
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_neutron/+/873654
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_glance/+/821011
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_keystone/+/879379
Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_horizon/+/879517

Change-Id: I89d4fbc5d587d8fcea8ffbaf4e999b2d3928cad5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/01/879501/7 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,8d6442a6645aa2574f74651519d0db230c767650,tls-backend, openstack_backend_service_https: true,,2,0
openstack%2Fneutron~master~I052841c87651773c4988fcf39f9f978094297704,openstack/neutron,master,I052841c87651773c4988fcf39f9f978094297704,[OVN] Hash Ring: Set nodes as offline upon exit,MERGED,2023-06-16 15:10:47.000000000,2023-06-29 12:46:59.000000000,2023-06-29 12:45:42.000000000,"[{'_account_id': 8655}, {'_account_id': 9800}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 15:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3754f57127c49c915d522c763920b8efb9fb2cd0', 'message': ""[OVN] Hash Ring: Set nodes as offline upon exit\n\nThis patch implements the proposed solution from LP #2024205 where upon\na Neutron being killed, it could trigger the deletion of the entries\nfrom the ovn_hash_ring table that matches the server hostname. When\nthis happens on all controllers this could lead to the ovn_hash_ring\nbeing rendered empty which will result in ML2/OVN not processing any\nOVSDB events.\n\nInstead of removing the nodes from the ovn_hash_ring table at exit, this\npatch changes the code to just mark them as offline instead. That way,\nthe nodes will remain registered in the table and the heartbeat thread\nwill set them as online again on the next beat. If the service is\nstopped properly there won't be any heartbeat anymore and the nodes will\nbe seeing as offline by the Hash Ring Manager (same as if they were\ndeleted).\n\nFor more info see LP #2024205.\n\nCloses-Bug: #2024205\nChange-Id: I052841c87651773c4988fcf39f9f978094297704\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}, {'number': 2, 'created': '2023-06-21 14:21:07.000000000', 'files': ['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2e3ab380580df8c0ab33884f2e8797e2f5b0724', 'message': ""[OVN] Hash Ring: Set nodes as offline upon exit\n\nThis patch implements the proposed solution from LP #2024205 where upon\na Neutron being killed, it could trigger the deletion of the entries\nfrom the ovn_hash_ring table that matches the server hostname. When\nthis happens on all controllers this could lead to the ovn_hash_ring\nbeing rendered empty which will result in ML2/OVN not processing any\nOVSDB events.\n\nInstead of removing the nodes from the ovn_hash_ring table at exit, this\npatch changes the code to just mark them as offline instead. That way,\nthe nodes will remain registered in the table and the heartbeat thread\nwill set them as online again on the next beat. If the service is\nstopped properly there won't be any heartbeat anymore and the nodes will\nbe seeing as offline by the Hash Ring Manager (same as if they were\ndeleted).\n\nFor more info see LP #2024205.\n\nCloses-Bug: #2024205\nChange-Id: I052841c87651773c4988fcf39f9f978094297704\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n""}]",7,886279,f2e3ab380580df8c0ab33884f2e8797e2f5b0724,31,6,2,6773,,,0,"[OVN] Hash Ring: Set nodes as offline upon exit

This patch implements the proposed solution from LP #2024205 where upon
a Neutron being killed, it could trigger the deletion of the entries
from the ovn_hash_ring table that matches the server hostname. When
this happens on all controllers this could lead to the ovn_hash_ring
being rendered empty which will result in ML2/OVN not processing any
OVSDB events.

Instead of removing the nodes from the ovn_hash_ring table at exit, this
patch changes the code to just mark them as offline instead. That way,
the nodes will remain registered in the table and the heartbeat thread
will set them as online again on the next beat. If the service is
stopped properly there won't be any heartbeat anymore and the nodes will
be seeing as offline by the Hash Ring Manager (same as if they were
deleted).

For more info see LP #2024205.

Closes-Bug: #2024205
Change-Id: I052841c87651773c4988fcf39f9f978094297704
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/886279/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_ovn_hash_ring_db.py', 'neutron/db/ovn_hash_ring_db.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",5,3754f57127c49c915d522c763920b8efb9fb2cd0,bug/2024205-hash-ring-resilience," def _set_hash_ring_nodes_offline(self, *args, **kwargs): ovn_hash_ring_db.set_nodes_from_host_as_offline( admin_context, self.hash_ring_group) LOG.info('Hash Ring nodes from host ""%s"" marked as offline', cfg.CONF.host) atexit.register(self._set_hash_ring_nodes_offline) signal.signal(signal.SIGTERM, self._set_hash_ring_nodes_offline) # Clear existing entries ovn_hash_ring_db.remove_nodes_from_host(admin_context, self.hash_ring_group)"," def _clean_hash_ring(self, *args, **kwargs): ovn_hash_ring_db.remove_nodes_from_host(admin_context, self.hash_ring_group) atexit.register(self._clean_hash_ring) signal.signal(signal.SIGTERM, self._clean_hash_ring) self._clean_hash_ring()",40,13
openstack%2Fos-vif~stable%2Fyoga~Id9ef7074634a0f23d67a4401fa8fca363b51bb43,openstack/os-vif,stable/yoga,Id9ef7074634a0f23d67a4401fa8fca363b51bb43,set default qos policy,NEW,2023-06-22 05:45:48.000000000,2023-06-29 12:44:24.000000000,,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-06-22 05:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/00bd38a042b5665c24344eb746d51225961426ad', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n\nNOTE(auniyal):\nadded datapath and qos_type parameter in create_ovs_vif_port function\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n'}, {'number': 2, 'created': '2023-06-22 17:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/2af40e77a813e29e3066fe4188220d3a524e19c3', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\n  ovs.py: added _get_qos_type\n  ovsdb_lib.py: updated _set_mtu_request\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n'}, {'number': 3, 'created': '2023-06-27 14:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f09accea88da41c23273677ba976d78cb9fe3224', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(iauniyal):\nadded funtional test module test_plugin\novs.py: added _get_qos_type\novsdb_lib.py: updated _set_mtu_request\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n'}, {'number': 4, 'created': '2023-06-27 14:45:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/22ff6ac373892e13594e398d36ddee195b8113ed', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts: Zed to Yoga\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\novs.py: added _get_qos_type config option\novsdb_lib.py: updated delete_ovs_vif_port\nadded funtional test module test_plugin\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n'}, {'number': 5, 'created': '2023-06-27 15:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/57df00f746c9faf5416b02160fdfa277bc4ca388', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts: Zed to Yoga\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\novs.py: added _get_qos_type config option\novsdb_lib.py: updated delete_ovs_vif_port\nadded funtional test module test_plugin\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n'}, {'number': 6, 'created': '2023-06-29 07:12:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/34e507d0c86639554b9a29dfaf15cab73e1b08b6', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n    vif_plug_ovs/ovs.py\n    vif_plug_ovs/ovsdb/ovsdb_lib.py\n    vif_plug_ovs/tests/functional/base.py\n    vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal): Zed to Yoga\nConflicts and differences\n   The conflicts are due to changes\n   I7d834a0c31c801e96002f42f86409ba274c234e6: Delete trunk bridges to avoid race with Neutron\n\n   differences and changes:\n   vif_plug_ovs/tests/functional/test_plugin.py was not present in stable/yoga\n   added only tests and supporting items, which is almost everything, and removed trunk test and trunk attributes from setup.\n   vif_plug_ovs/tests/functional/base.py\xa0\n   manually added _del_bridge and _check_bridge from change I7d834a0c31c801e96002f42f86409ba274c234e6\n   because they were required to pass added functional tests.\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n'}, {'number': 7, 'created': '2023-06-29 07:57:35.000000000', 'files': ['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'releasenotes/notes/default-qos-policy-for-ovs-26f8806046a59c82.yaml', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/functional/base.py', 'vif_plug_ovs/ovsdb/impl_idl.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/cb8c2104e0505bad020738b17a9c69b7558cadab', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n    vif_plug_ovs/ovs.py\n    vif_plug_ovs/ovsdb/ovsdb_lib.py\n    vif_plug_ovs/tests/functional/base.py\n    vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal): Zed to Yoga\nConflicts and differences\n   The conflicts are due to changes\n   I7d834a0c31c801e96002f42f86409ba274c234e6: Delete trunk bridges to avoid race with Neutron\n\n   differences and changes:\n   vif_plug_ovs/tests/functional/test_plugin.py was not present in stable/yoga\n   added only tests and supporting items, which is almost everything, and removed trunk test and trunk attributes from setup.\n   vif_plug_ovs/tests/functional/base.py\n   manually added _del_bridge and _check_bridge from change I7d834a0c31c801e96002f42f86409ba274c234e6\n   because they were required to pass added functional tests.\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n'}]",11,886710,cb8c2104e0505bad020738b17a9c69b7558cadab,23,3,7,34860,,,0,"set default qos policy

This change modifies the os-vif ovs plugin to set a default
tc qdisc on ovs interface when the host os is not windows
and the system datapath is used.

This change fixes a ""silent"" bug in the functional test code due
to a change in an ovsdbapp function signiture to accpet a new paramater.

Conflicts:
    vif_plug_ovs/ovs.py
    vif_plug_ovs/ovsdb/ovsdb_lib.py
    vif_plug_ovs/tests/functional/base.py
    vif_plug_ovs/tests/functional/test_plugin.py

NOTE(auniyal): Zed to Yoga
Conflicts and differences
   The conflicts are due to changes
   I7d834a0c31c801e96002f42f86409ba274c234e6: Delete trunk bridges to avoid race with Neutron

   differences and changes:
   vif_plug_ovs/tests/functional/test_plugin.py was not present in stable/yoga
   added only tests and supporting items, which is almost everything, and removed trunk test and trunk attributes from setup.
   vif_plug_ovs/tests/functional/base.py
   manually added _del_bridge and _check_bridge from change I7d834a0c31c801e96002f42f86409ba274c234e6
   because they were required to pass added functional tests.

Closes-Bug: #2017868
Change-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43
(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)
(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/10/886710/3 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'releasenotes/notes/default-qos-policy-for-ovs-26f8806046a59c82.yaml', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/functional/base.py', 'vif_plug_ovs/ovsdb/impl_idl.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py']",9,00bd38a042b5665c24344eb746d51225961426ad,bug/2017868,import time # ensure that the device exists to prevent racing # with other ip commands for _ in range(10): if self.exist_device(device): return time.sleep(0.1),,446,28
openstack%2Freleases~master~I018ef5979b7a290118cd00830c0b8db00d053587,openstack/releases,master,I018ef5979b7a290118cd00830c0b8db00d053587,kolla: Add Bartosz Bezak as release liaison,MERGED,2023-06-26 10:45:05.000000000,2023-06-29 12:28:41.000000000,2023-06-29 12:28:41.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23084}]","[{'number': 1, 'created': '2023-06-26 10:45:05.000000000', 'files': ['data/release_liaisons.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9b20fc8aa7aae54696a9c2ba888082204fc4c5da', 'message': 'kolla: Add Bartosz Bezak as release liaison\n\nChange-Id: I018ef5979b7a290118cd00830c0b8db00d053587\n'}]",2,886979,9b20fc8aa7aae54696a9c2ba888082204fc4c5da,7,4,1,22629,,,0,"kolla: Add Bartosz Bezak as release liaison

Change-Id: I018ef5979b7a290118cd00830c0b8db00d053587
",git fetch https://review.opendev.org/openstack/releases refs/changes/79/886979/1 && git format-patch -1 --stdout FETCH_HEAD,['data/release_liaisons.yaml'],1,9b20fc8aa7aae54696a9c2ba888082204fc4c5da,, - name: 'Bartosz Bezak' irc: bbezak email: bartosz@stackhpc.com,,3,0
openstack%2Ftap-as-a-service~stable%2Frocky~Ie0418c8c267ad8581110f9251dff97feaa98c471,openstack/tap-as-a-service,stable/rocky,Ie0418c8c267ad8581110f9251dff97feaa98c471,"zuul,stable-only: Change taas to be in openstack namespace",ABANDONED,2022-04-08 08:52:42.000000000,2023-06-29 12:23:27.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-04-08 08:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/540f0aa782e309a8c09b39ba7fdfea4999e760ff', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job and\ntap-as-a-service-tempest-dsvm and releated playbooks.\n\nConflicts: .zuul.yaml\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n(cherry picked from commit Ie0418c8c267ad8581110f9251dff97feaa98c471)\n'}, {'number': 2, 'created': '2022-04-08 09:07:24.000000000', 'files': ['playbooks/legacy/tempest-dsvm-tap-as-a-service/post.yaml', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tap-as-a-service/commit/0b075e87ec2a32410a8a7c3e7d79fc35437b5cb7', 'message': 'zuul,stable-only: Change taas to be in openstack namespace\n\nAs an extra remove lower-constraints job and\ntap-as-a-service-tempest-dsvm and releated playbooks.\n\nConflicts: .zuul.yaml\n\nChange-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471\n(cherry picked from commit Ie0418c8c267ad8581110f9251dff97feaa98c471)\n'}]",3,837059,0b075e87ec2a32410a8a7c3e7d79fc35437b5cb7,15,1,2,8313,,,0,"zuul,stable-only: Change taas to be in openstack namespace

As an extra remove lower-constraints job and
tap-as-a-service-tempest-dsvm and releated playbooks.

Conflicts: .zuul.yaml

Change-Id: Ie0418c8c267ad8581110f9251dff97feaa98c471
(cherry picked from commit Ie0418c8c267ad8581110f9251dff97feaa98c471)
",git fetch https://review.opendev.org/openstack/tap-as-a-service refs/changes/59/837059/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/tempest-dsvm-tap-as-a-service/post.yaml', 'playbooks/legacy/tempest-dsvm-tap-as-a-service/run.yaml', '.zuul.yaml']",3,540f0aa782e309a8c09b39ba7fdfea4999e760ff,zuul_cfg_errors,"<<<<<<< HEAD (0eae0a OpenDev Migration Patch)======= - openstack-cover-jobs-neutron - tap-as-a-service-tempest-plugin-jobs >>>>>>> CHANGE (869207 zuul,stable-only: Change taas to be in openstack namespace)",,8,15
openstack%2Fos-ken~master~Ibc7e0e850c36644eb34026332760aeb616a47753,openstack/os-ken,master,Ibc7e0e850c36644eb34026332760aeb616a47753,BGP: Check IP version for BGPPathAttributeNextHop,ABANDONED,2023-06-13 13:31:49.000000000,2023-06-29 12:21:41.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 13:31:49.000000000', 'files': ['os_ken/lib/packet/bgp.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/35f6b2b49ff6440b60d91131d6df13e07b27698f', 'message': 'BGP: Check IP version for BGPPathAttributeNextHop\n\nChange-Id: Ibc7e0e850c36644eb34026332760aeb616a47753\nCloses-Bug: #2023632\n'}]",2,885998,35f6b2b49ff6440b60d91131d6df13e07b27698f,5,2,1,8313,,,0,"BGP: Check IP version for BGPPathAttributeNextHop

Change-Id: Ibc7e0e850c36644eb34026332760aeb616a47753
Closes-Bug: #2023632
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/98/885998/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/lib/packet/bgp.py'],1,35f6b2b49ff6440b60d91131d6df13e07b27698f,bug/2023632," if len(ip_addr) == 4: return { 'value': addrconv.ipv4.bin_to_text(ip_addr), } else: return { 'value': addrconv.ipv6.bin_to_text(ip_addr), }"," return { 'value': addrconv.ipv4.bin_to_text(ip_addr), }",8,3
openstack%2Freleases~master~I58610d2f84d57d199001ca316b0681be6b3a09fb,openstack/releases,master,I58610d2f84d57d199001ca316b0681be6b3a09fb,[vitrage-tempest-plugin] Tag xena-last,MERGED,2023-06-09 05:55:22.000000000,2023-06-29 12:21:39.000000000,2023-06-29 12:21:39.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-09 05:55:22.000000000', 'files': ['deliverables/xena/vitrage-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7e84bd952eab90813b3dbb282553a7449ab2f175', 'message': ""[vitrage-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' with the latest hash which is nothing but 6.1.1\ntag.\n\n[1] https://review.opendev.org/c/openstack/releases/+/881254\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I58610d2f84d57d199001ca316b0681be6b3a09fb\n""}]",2,885693,7e84bd952eab90813b3dbb282553a7449ab2f175,9,5,1,8556,,,0,"[vitrage-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' with the latest hash which is nothing but 6.1.1
tag.

[1] https://review.opendev.org/c/openstack/releases/+/881254
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I58610d2f84d57d199001ca316b0681be6b3a09fb
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/885693/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/vitrage-tempest-plugin.yaml'],1,7e84bd952eab90813b3dbb282553a7449ab2f175,xena-last, - version: xena-last projects: - repo: openstack/vitrage-tempest-plugin hash: 816b2350a1e7b05ec35b82546afb66d8255df76a,,4,0
openstack%2Freleases~master~I0e90376e2ac85884bd017e4ce93c3b37d7fc7d61,openstack/releases,master,I0e90376e2ac85884bd017e4ce93c3b37d7fc7d61,[kuryr-tempest-plugin] Tag xena-last,MERGED,2023-06-09 06:23:37.000000000,2023-06-29 12:21:37.000000000,2023-06-29 12:21:37.000000000,"[{'_account_id': 308}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-09 06:23:37.000000000', 'files': ['deliverables/bobcat/kuryr-tempest-plugin.yaml', 'deliverables/xena/kuryr-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/57c861c21607403a6ef415b28f97dfd80307aff5', 'message': ""[kuryr-tempest-plugin] Tag xena-last\n\nXena branch is in Extended Maintenance now[1]. Tempest and\ntempest plugins are branchless which means master version of\nTempest and its plugins is used to test the supported stable\nbranches.\n\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins compatible tag[2] needs to be released so that we can\nkeep testing the EM stable branches with that tag once master\nTempest and its plugins are not compatible[3].\n\nTagging 'xena-last' as well as a new version also with same hash.\n\n[1] https://releases.openstack.org/wallaby/index.html\n[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n\nChange-Id: I0e90376e2ac85884bd017e4ce93c3b37d7fc7d61\n""}]",1,885708,57c861c21607403a6ef415b28f97dfd80307aff5,10,5,1,8556,,,0,"[kuryr-tempest-plugin] Tag xena-last

Xena branch is in Extended Maintenance now[1]. Tempest and
tempest plugins are branchless which means master version of
Tempest and its plugins is used to test the supported stable
branches.

Once any stable branch is moved to EM state then, Tempest and
its plugins compatible tag[2] needs to be released so that we can
keep testing the EM stable branches with that tag once master
Tempest and its plugins are not compatible[3].

Tagging 'xena-last' as well as a new version also with same hash.

[1] https://releases.openstack.org/wallaby/index.html
[2] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[3] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html

Change-Id: I0e90376e2ac85884bd017e4ce93c3b37d7fc7d61
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/885708/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/bobcat/kuryr-tempest-plugin.yaml', 'deliverables/xena/kuryr-tempest-plugin.yaml']",2,57c861c21607403a6ef415b28f97dfd80307aff5,xena-last, - version: xena-last projects: - repo: openstack/kuryr-tempest-plugin hash: 4af87c6e91c99ac97e4721d5be109fbfcf3f89a6,,9,0
openstack%2Freleases~master~I765db5b9ebbcb685a8f4e3804105da64c3b8bf84,openstack/releases,master,I765db5b9ebbcb685a8f4e3804105da64c3b8bf84,Release neutron-lib 3.7.0,MERGED,2023-06-28 09:07:05.000000000,2023-06-29 12:21:35.000000000,2023-06-29 12:21:35.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 09:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cd369f97b0ca9f33e5d247b75adf1c74e1fcc3e6', 'message': 'Release neutron-lib 3.6.2\n\nThis new release includes new API definitions, fixes and a new\nOVO auxiliary class.\n\n$ git log --oneline --no-merges 3.6.1..d5acebbe7b\nc965b18 Add short warning about UUIDs in the SG rule templates api\na014720 Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING\nc4be8ca Add subnet onboard API ref\n972fbdd Add port hardware offload extension\n1763eee Remove unnecessary required extension for ""network_ha"" extension\n7da72b7 Add new SG rule ext. ``security-groups-rules-belongs-to-default-sg``\nfc68d74 Add FirewallGroupPortNotSupported exception\n9f72a47 api-ref: add api-ref for bindings\n4b9753d [API REF] Add api-ref documentation for default SG rules API\n829e970 Add a ""GROUP BY"" clause on queries with RBAC entries\n64cfdac Add FIPAssociated exception\n1ccebda Introduce ""HasProjectPrimaryUniqueKey"" class\n\nChange-Id: I765db5b9ebbcb685a8f4e3804105da64c3b8bf84\n'}, {'number': 2, 'created': '2023-06-28 16:29:51.000000000', 'files': ['deliverables/bobcat/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/83a9a1c6893b36f54d6e37be665af34162c2e111', 'message': 'Release neutron-lib 3.7.0\n\nThis new release includes new API definitions, fixes and a new\nOVO auxiliary class.\n\n$ git log --oneline --no-merges 3.6.1..d5acebbe7b\nc965b18 Add short warning about UUIDs in the SG rule templates api\na014720 Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING\nc4be8ca Add subnet onboard API ref\n972fbdd Add port hardware offload extension\n1763eee Remove unnecessary required extension for ""network_ha"" extension\n7da72b7 Add new SG rule ext. ``security-groups-rules-belongs-to-default-sg``\nfc68d74 Add FirewallGroupPortNotSupported exception\n9f72a47 api-ref: add api-ref for bindings\n4b9753d [API REF] Add api-ref documentation for default SG rules API\n829e970 Add a ""GROUP BY"" clause on queries with RBAC entries\n64cfdac Add FIPAssociated exception\n1ccebda Introduce ""HasProjectPrimaryUniqueKey"" class\n\nChange-Id: I765db5b9ebbcb685a8f4e3804105da64c3b8bf84\n'}]",6,887147,83a9a1c6893b36f54d6e37be665af34162c2e111,20,11,2,16688,,,0,"Release neutron-lib 3.7.0

This new release includes new API definitions, fixes and a new
OVO auxiliary class.

$ git log --oneline --no-merges 3.6.1..d5acebbe7b
c965b18 Add short warning about UUIDs in the SG rule templates api
a014720 Add ""network"" to the EXT_PARENT_RESOURCE_MAPPING
c4be8ca Add subnet onboard API ref
972fbdd Add port hardware offload extension
1763eee Remove unnecessary required extension for ""network_ha"" extension
7da72b7 Add new SG rule ext. ``security-groups-rules-belongs-to-default-sg``
fc68d74 Add FirewallGroupPortNotSupported exception
9f72a47 api-ref: add api-ref for bindings
4b9753d [API REF] Add api-ref documentation for default SG rules API
829e970 Add a ""GROUP BY"" clause on queries with RBAC entries
64cfdac Add FIPAssociated exception
1ccebda Introduce ""HasProjectPrimaryUniqueKey"" class

Change-Id: I765db5b9ebbcb685a8f4e3804105da64c3b8bf84
",git fetch https://review.opendev.org/openstack/releases refs/changes/47/887147/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/neutron-lib.yaml'],1,cd369f97b0ca9f33e5d247b75adf1c74e1fcc3e6,neutron-lib_3.7.0, - version: 3.6.2 projects: - repo: openstack/neutron-lib hash: d5acebbe7bf8f987cd06e93b1740a76c50e78af4,,4,0
openstack%2Freleases~master~Ie3d1379610058a1fec762ca1231d2c6ed89c72e1,openstack/releases,master,Ie3d1379610058a1fec762ca1231d2c6ed89c72e1,Release openstacksdk 1.3.1,MERGED,2023-06-29 03:14:20.000000000,2023-06-29 12:21:33.000000000,2023-06-29 12:21:33.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-06-29 03:14:20.000000000', 'files': ['deliverables/bobcat/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d452c7bb2d381a624c57f7b07fd433f54c6a7e0d', 'message': 'Release openstacksdk 1.3.1\n\nRelease openstacksdk 1.3.1 for fix python3.6 for openstacksdk.\n\nChange-Id: Ie3d1379610058a1fec762ca1231d2c6ed89c72e1\n'}]",1,887242,d452c7bb2d381a624c57f7b07fd433f54c6a7e0d,9,6,1,12404,,,0,"Release openstacksdk 1.3.1

Release openstacksdk 1.3.1 for fix python3.6 for openstacksdk.

Change-Id: Ie3d1379610058a1fec762ca1231d2c6ed89c72e1
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/887242/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/openstacksdk.yaml'],1,d452c7bb2d381a624c57f7b07fd433f54c6a7e0d,release-openstacksdk, - version: 1.3.1 projects: - repo: openstack/openstacksdk hash: 2da00af16014e16d447e28940742e381a0c9c1a6,,4,0
openstack%2Fos-vif~stable%2Fxena~Id9ef7074634a0f23d67a4401fa8fca363b51bb43,openstack/os-vif,stable/xena,Id9ef7074634a0f23d67a4401fa8fca363b51bb43,set default qos policy,NEW,2023-06-22 06:15:06.000000000,2023-06-29 11:49:48.000000000,,"[{'_account_id': 8864}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-22 06:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/417cc3d6e4ee1f31b508e223c1470ef847dae775', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n\nNOTE(auniyal):\nadded datapath and qos_type parameter in create_ovs_vif_port function\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 00bd38a042b5665c24344eb746d51225961426ad)\n'}, {'number': 2, 'created': '2023-06-22 18:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/9e5dd4062bff79a945b2ab8bacd93b2f2d3bb088', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\n  ovs.py: added _get_qos_type\n  ovsdb_lib.py: updated _set_mtu_request\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 2af40e77a813e29e3066fe4188220d3a524e19c3)\n'}, {'number': 3, 'created': '2023-06-27 14:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/936a7c8d06e1bec1200ddc5c76463084994fb1ac', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts: Zed to Yoga\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\novs.py: added _get_qos_type config option\novsdb_lib.py: updated delete_ovs_vif_port\nadded funtional test module test_plugin\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 22ff6ac373892e13594e398d36ddee195b8113ed)\n'}, {'number': 4, 'created': '2023-06-27 15:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/4490c4d97f397b99f1804b7dac564b8626d132a2', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts: Zed to Yoga\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\novs.py: added _get_qos_type config option\novsdb_lib.py: updated delete_ovs_vif_port\nadded funtional test module test_plugin\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 57df00f746c9faf5416b02160fdfa277bc4ca388)\n'}, {'number': 5, 'created': '2023-06-29 09:43:58.000000000', 'files': ['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'releasenotes/notes/default-qos-policy-for-ovs-26f8806046a59c82.yaml', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/functional/base.py', 'vif_plug_ovs/ovsdb/impl_idl.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/ddc08d59ef07bb7d40179e486af6a0b3b49db00e', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n    vif_plug_ovs/ovs.py\n    vif_plug_ovs/ovsdb/ovsdb_lib.py\n    vif_plug_ovs/tests/functional/base.py\n    vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal): Zed to Yoga\nConflicts and differences\n   The conflicts are due to changes\n   I7d834a0c31c801e96002f42f86409ba274c234e6: Delete trunk bridges to avoid race with Neutron\n\n   differences and changes:\n   vif_plug_ovs/tests/functional/test_plugin.py was not present in stable/yoga\n   added only tests and supporting items, which is almost everything, and removed trunk test and trunk attributes from setup.\n   vif_plug_ovs/tests/functional/base.py\n   manually added _del_bridge and _check_bridge from change I7d834a0c31c801e96002f42f86409ba274c234e6\n   because they were required to pass added functional tests.\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit cb8c2104e0505bad020738b17a9c69b7558cadab)\n'}]",0,886716,ddc08d59ef07bb7d40179e486af6a0b3b49db00e,10,2,5,34860,,,0,"set default qos policy

This change modifies the os-vif ovs plugin to set a default
tc qdisc on ovs interface when the host os is not windows
and the system datapath is used.

This change fixes a ""silent"" bug in the functional test code due
to a change in an ovsdbapp function signiture to accpet a new paramater.

Conflicts:
    vif_plug_ovs/ovs.py
    vif_plug_ovs/ovsdb/ovsdb_lib.py
    vif_plug_ovs/tests/functional/base.py
    vif_plug_ovs/tests/functional/test_plugin.py

NOTE(auniyal): Zed to Yoga
Conflicts and differences
   The conflicts are due to changes
   I7d834a0c31c801e96002f42f86409ba274c234e6: Delete trunk bridges to avoid race with Neutron

   differences and changes:
   vif_plug_ovs/tests/functional/test_plugin.py was not present in stable/yoga
   added only tests and supporting items, which is almost everything, and removed trunk test and trunk attributes from setup.
   vif_plug_ovs/tests/functional/base.py
   manually added _del_bridge and _check_bridge from change I7d834a0c31c801e96002f42f86409ba274c234e6
   because they were required to pass added functional tests.

Closes-Bug: #2017868
Change-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43
(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)
(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)
(cherry picked from commit cb8c2104e0505bad020738b17a9c69b7558cadab)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/16/886716/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'releasenotes/notes/default-qos-policy-for-ovs-26f8806046a59c82.yaml', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/functional/base.py', 'vif_plug_ovs/ovsdb/impl_idl.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py']",9,417cc3d6e4ee1f31b508e223c1470ef847dae775,bug/2017868,import time # ensure that the device exists to prevent racing # with other ip commands for _ in range(10): if self.exist_device(device): return time.sleep(0.1),,446,28
openstack%2Fneutron-tempest-plugin~master~If4233a01575dfc9ffc84295f032ed19e32c38a7b,openstack/neutron-tempest-plugin,master,If4233a01575dfc9ffc84295f032ed19e32c38a7b,Add neutron-tempest-plugin-linuxbridge job to the experimental queue,MERGED,2023-06-28 11:03:08.000000000,2023-06-29 11:24:33.000000000,2023-06-29 11:24:33.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 11:03:08.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/2d6c02992943706ce8611f5a530372fa0b43a54b', 'message': ""Add neutron-tempest-plugin-linuxbridge job to the experimental queue\n\nIt was agreed on the Neutron CI meeting [1] that we will remove\nthis job from check and gate queues and add it to the experimental\nqueue. It is also added to the periodic queue in Neutron with [2].\n\nLinuxbridge agent is marked as experimental since at least one cycle\nalready and this scenario job is getting less and less stable now so\nit's probably time to move it out from our gate.\n\n[1] https://meetings.opendev.org/meetings/neutron_ci/2023/neutron_ci.2023-06-27-15.00.log.html#l-127\n[2] https://review.opendev.org/c/openstack/neutron/+/887158\n\nChange-Id: If4233a01575dfc9ffc84295f032ed19e32c38a7b\n""}]",1,887159,2d6c02992943706ce8611f5a530372fa0b43a54b,7,3,1,11975,,,0,"Add neutron-tempest-plugin-linuxbridge job to the experimental queue

It was agreed on the Neutron CI meeting [1] that we will remove
this job from check and gate queues and add it to the experimental
queue. It is also added to the periodic queue in Neutron with [2].

Linuxbridge agent is marked as experimental since at least one cycle
already and this scenario job is getting less and less stable now so
it's probably time to move it out from our gate.

[1] https://meetings.opendev.org/meetings/neutron_ci/2023/neutron_ci.2023-06-27-15.00.log.html#l-127
[2] https://review.opendev.org/c/openstack/neutron/+/887158

Change-Id: If4233a01575dfc9ffc84295f032ed19e32c38a7b
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/59/887159/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2d6c02992943706ce8611f5a530372fa0b43a54b,remove-lb-scenario-jobs, - neutron-tempest-plugin-linuxbridge, - neutron-tempest-plugin-linuxbridge - neutron-tempest-plugin-linuxbridge,1,2
openstack%2Fneutron~stable%2Fxena~I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed,openstack/neutron,stable/xena,I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed,[qos] _validate_create_network_callback return in no network,MERGED,2023-06-27 12:56:43.000000000,2023-06-29 10:41:50.000000000,2023-06-29 10:40:29.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 12:56:43.000000000', 'files': ['neutron/services/qos/qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/caa7c07f4581c68ea96bb04281780bef2262ed67', 'message': '[qos] _validate_create_network_callback return in no network\n\nIt seems that _validate_create_network_callback notified without\nnetwork_id in payload, to avoid issues in such case return.\n\nChange-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed\nCloses-Bug: #2008912\n(cherry picked from commit ec4bfb91f0d3ae4aa4cbe8ba05c20cb00515b00d)\n'}]",3,887043,caa7c07f4581c68ea96bb04281780bef2262ed67,13,3,1,16688,,,0,"[qos] _validate_create_network_callback return in no network

It seems that _validate_create_network_callback notified without
network_id in payload, to avoid issues in such case return.

Change-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed
Closes-Bug: #2008912
(cherry picked from commit ec4bfb91f0d3ae4aa4cbe8ba05c20cb00515b00d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/887043/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/qos_plugin.py'],1,caa7c07f4581c68ea96bb04281780bef2262ed67,bug/2008912," if not network or not getattr(network, 'qos_policy_id', None): policy_id = network.qos_policy_id", policy_id = network.qos_policy_id if policy_id is None:,2,2
openstack%2Fkolla~stable%2Fyoga~Ibf800fe89715f65ca9ada25b4cd31f348944e506,openstack/kolla,stable/yoga,Ibf800fe89715f65ca9ada25b4cd31f348944e506,Update support matrix,MERGED,2023-02-27 06:54:38.000000000,2023-06-29 10:38:25.000000000,2023-06-29 10:37:12.000000000,"[{'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 35263}]","[{'number': 1, 'created': '2023-02-27 06:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ec5d90b73acb408a1843c12aa07392773b4e1db3', 'message': 'Update support matrix\n\nChange-Id: Ibf800fe89715f65ca9ada25b4cd31f348944e506\n(cherry picked from commit 27a768bfaed52516478887e1d0f8e10d066fd5be)\n'}, {'number': 2, 'created': '2023-02-27 07:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1faca65db01518bffc2a50cdef42c726bbdf3e2e', 'message': 'Update support matrix\n\nChange-Id: Ibf800fe89715f65ca9ada25b4cd31f348944e506\n(cherry picked from commit 27a768bfaed52516478887e1d0f8e10d066fd5be)\n'}, {'number': 3, 'created': '2023-05-09 09:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/16749d147001ee124569fff0a863fb9f95b2a380', 'message': 'Update support matrix\n\nChange-Id: Ibf800fe89715f65ca9ada25b4cd31f348944e506\n(cherry picked from commit 27a768bfaed52516478887e1d0f8e10d066fd5be)\n'}, {'number': 4, 'created': '2023-06-26 08:14:21.000000000', 'files': ['doc/source/support_matrix.rst', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'doc/source/ceph_versions.csv'], 'web_link': 'https://opendev.org/openstack/kolla/commit/482ebb999756bd2ed3fade8380a9a7fd4d3c1c0e', 'message': 'Update support matrix\n\nChange-Id: Ibf800fe89715f65ca9ada25b4cd31f348944e506\n(cherry picked from commit 27a768bfaed52516478887e1d0f8e10d066fd5be)\n'}]",1,875341,482ebb999756bd2ed3fade8380a9a7fd4d3c1c0e,17,5,4,22629,,,0,"Update support matrix

Change-Id: Ibf800fe89715f65ca9ada25b4cd31f348944e506
(cherry picked from commit 27a768bfaed52516478887e1d0f8e10d066fd5be)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/875341/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/matrix_x86.csv', 'doc/source/support_matrix.rst', 'doc/source/matrix_aarch64.csv', 'doc/source/ceph_versions.csv']",4,ec5d90b73acb408a1843c12aa07392773b4e1db3,kolla_yoga_rl9,"Rocky Linux,CentOS Storage SIG,Quincy Ubuntu,Ubuntu Cloud Archive,Quincy","CentOS,CentOS Storage SIG,Pacific Ubuntu,Ubuntu Cloud Archive,Pacific",153,6
openstack%2Fkolla~master~I849608a8b90f48912e102ddab395b1a229346c5a,openstack/kolla,master,I849608a8b90f48912e102ddab395b1a229346c5a,mariadb: Bump to current LTS (10.11),MERGED,2023-05-11 09:03:48.000000000,2023-06-29 10:38:14.000000000,2023-06-29 10:37:09.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-11 09:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d17e7526f8f7817d01152cfc105c82efe85d6033', 'message': 'mariadb: Bump to current LTS (10.11)\n\nChange-Id: I849608a8b90f48912e102ddab395b1a229346c5a\n'}, {'number': 2, 'created': '2023-05-11 11:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f75c8d904c138f8753cd0ac7a31e55012f0dd4ae', 'message': 'mariadb: Bump to current LTS (10.11)\n\nDepends-On: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\nChange-Id: I849608a8b90f48912e102ddab395b1a229346c5a\n'}, {'number': 3, 'created': '2023-05-24 13:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/56d430c4652747829f394efc3d4f015736af21a6', 'message': 'mariadb: Bump to current LTS (10.11)\n\nDepends-On: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\nChange-Id: I849608a8b90f48912e102ddab395b1a229346c5a\n'}, {'number': 4, 'created': '2023-06-20 11:09:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dc333a599cc03710831e8dde9e3e074009b6303a', 'message': 'mariadb: Bump to current LTS (10.11)\n\nDepends-On: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\nChange-Id: I849608a8b90f48912e102ddab395b1a229346c5a\n'}, {'number': 5, 'created': '2023-06-20 13:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ec389448cd2091a134bc1d21552f6fcd44ead2e1', 'message': 'mariadb: Bump to current LTS (10.11)\n\nDepends-On: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\nChange-Id: I849608a8b90f48912e102ddab395b1a229346c5a\n'}, {'number': 6, 'created': '2023-06-26 08:48:14.000000000', 'files': ['docker/base/mariadb.repo', 'docker/mariadb/mariadb-base/Dockerfile.j2', 'doc/source/contributor/versions.rst', 'kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/05f6fe8c30e6e737258a2d651334e27aa7b0f6c1', 'message': 'mariadb: Bump to current LTS (10.11)\n\nDepends-On: I2189dafca070accfd8efcd4b8cc4221c6decdc9f\nChange-Id: I849608a8b90f48912e102ddab395b1a229346c5a\n'}]",9,882924,05f6fe8c30e6e737258a2d651334e27aa7b0f6c1,39,6,6,22629,,,0,"mariadb: Bump to current LTS (10.11)

Depends-On: I2189dafca070accfd8efcd4b8cc4221c6decdc9f
Change-Id: I849608a8b90f48912e102ddab395b1a229346c5a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/24/882924/3 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/mariadb.repo', 'docker/mariadb/mariadb-base/Dockerfile.j2', 'doc/source/contributor/versions.rst', 'kolla/template/repos.yaml']",4,d17e7526f8f7817d01152cfc105c82efe85d6033,," url: ""https://dlm.mariadb.com/repo/mariadb-server/10.11/repo/debian"" url: ""https://dlm.mariadb.com/repo/mariadb-server/10.11/repo/debian"" url: ""https://dlm.mariadb.com/repo/mariadb-server/10.11/repo/ubuntu"" url: ""https://dlm.mariadb.com/repo/mariadb-server/10.11/repo/ubuntu"""," url: ""https://dlm.mariadb.com/repo/mariadb-server/10.6/repo/debian"" url: ""https://dlm.mariadb.com/repo/mariadb-server/10.6/repo/debian"" url: ""https://dlm.mariadb.com/repo/mariadb-server/10.6/repo/ubuntu"" url: ""https://dlm.mariadb.com/repo/mariadb-server/10.6/repo/ubuntu""",8,7
openstack%2Fhorizon~master~Ie4ef6ebffdb3d9076cbb44e8013744ae584887b9,openstack/horizon,master,Ie4ef6ebffdb3d9076cbb44e8013744ae584887b9,Django 4: fix CSRF reasons,NEW,2023-06-08 10:28:52.000000000,2023-06-29 10:15:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-06-08 10:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/3025fe3a9f9f845544418aac90761875927be196', 'message': 'Django 4: fix CSRF reasons\n\nThe csrf_reasons thingy has slightly changed in Django 4.\nThis fix it, so we can later move to a newer Django.\n\nChange-Id: Ie4ef6ebffdb3d9076cbb44e8013744ae584887b9\n'}, {'number': 2, 'created': '2023-06-26 13:58:32.000000000', 'files': ['openstack_auth/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/255ec54d3a4939e99c60de4572457c6c140745e9', 'message': 'Django 4: fix CSRF reasons\n\nThe csrf_reasons thingy has slightly changed in Django 4.\nThis fix it, so we can later move to a newer Django.\n\nChange-Id: Ie4ef6ebffdb3d9076cbb44e8013744ae584887b9\n'}]",2,885578,255ec54d3a4939e99c60de4572457c6c140745e9,5,2,2,6476,,,0,"Django 4: fix CSRF reasons

The csrf_reasons thingy has slightly changed in Django 4.
This fix it, so we can later move to a newer Django.

Change-Id: Ie4ef6ebffdb3d9076cbb44e8013744ae584887b9
",git fetch https://review.opendev.org/openstack/horizon refs/changes/78/885578/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack_auth/views.py'],1,3025fe3a9f9f845544418aac90761875927be196,django-4," if django.VERSION >= (4, 0): csrf_reasons = [csrf.REASON_BAD_ORIGIN, csrf.REASON_NO_REFERER, csrf.REASON_BAD_REFERER, csrf.REASON_NO_CSRF_COOKIE, csrf.REASON_CSRF_TOKEN_MISSING, csrf.REASON_MALFORMED_REFERER, csrf.REASON_INSECURE_REFERER] else: csrf_reasons = [csrf.REASON_NO_REFERER, csrf.REASON_BAD_REFERER, csrf.REASON_NO_CSRF_COOKIE, csrf.REASON_BAD_TOKEN, csrf.REASON_MALFORMED_REFERER, csrf.REASON_INSECURE_REFERER] if reason not in csrf_reasons:"," if reason not in [csrf.REASON_NO_REFERER, csrf.REASON_BAD_REFERER, csrf.REASON_NO_CSRF_COOKIE, csrf.REASON_BAD_TOKEN, csrf.REASON_MALFORMED_REFERER, csrf.REASON_INSECURE_REFERER]:",17,6
openstack%2Fneutron~stable%2Fzed~I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed,openstack/neutron,stable/zed,I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed,[qos] _validate_create_network_callback return in no network,MERGED,2023-06-27 12:56:28.000000000,2023-06-29 10:14:43.000000000,2023-06-29 10:12:56.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 12:56:28.000000000', 'files': ['neutron/services/qos/qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1d7dbc3e72dcce5628ecfde4de6824ee1757291', 'message': '[qos] _validate_create_network_callback return in no network\n\nIt seems that _validate_create_network_callback notified without\nnetwork_id in payload, to avoid issues in such case return.\n\nChange-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed\nCloses-Bug: #2008912\n(cherry picked from commit ec4bfb91f0d3ae4aa4cbe8ba05c20cb00515b00d)\n'}]",0,887041,f1d7dbc3e72dcce5628ecfde4de6824ee1757291,9,3,1,16688,,,0,"[qos] _validate_create_network_callback return in no network

It seems that _validate_create_network_callback notified without
network_id in payload, to avoid issues in such case return.

Change-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed
Closes-Bug: #2008912
(cherry picked from commit ec4bfb91f0d3ae4aa4cbe8ba05c20cb00515b00d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/887041/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/qos_plugin.py'],1,f1d7dbc3e72dcce5628ecfde4de6824ee1757291,bug/2008912," if not network or not getattr(network, 'qos_policy_id', None): policy_id = network.qos_policy_id", policy_id = network.qos_policy_id if policy_id is None:,2,2
openstack%2Fneutron~stable%2F2023.1~I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed,openstack/neutron,stable/2023.1,I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed,[qos] _validate_create_network_callback return in no network,MERGED,2023-06-27 12:56:17.000000000,2023-06-29 10:14:42.000000000,2023-06-29 10:12:52.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 12:56:17.000000000', 'files': ['neutron/services/qos/qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4462c1a3e03bb4ae0d5bb5d15ca3a45d3d4031db', 'message': '[qos] _validate_create_network_callback return in no network\n\nIt seems that _validate_create_network_callback notified without\nnetwork_id in payload, to avoid issues in such case return.\n\nChange-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed\nCloses-Bug: #2008912\n(cherry picked from commit ec4bfb91f0d3ae4aa4cbe8ba05c20cb00515b00d)\n'}]",0,887039,4462c1a3e03bb4ae0d5bb5d15ca3a45d3d4031db,9,3,1,16688,,,0,"[qos] _validate_create_network_callback return in no network

It seems that _validate_create_network_callback notified without
network_id in payload, to avoid issues in such case return.

Change-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed
Closes-Bug: #2008912
(cherry picked from commit ec4bfb91f0d3ae4aa4cbe8ba05c20cb00515b00d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/887039/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/qos_plugin.py'],1,4462c1a3e03bb4ae0d5bb5d15ca3a45d3d4031db,bug/2008912," if not network or not getattr(network, 'qos_policy_id', None): policy_id = network.qos_policy_id", policy_id = network.qos_policy_id if policy_id is None:,2,2
openstack%2Fneutron~stable%2Fyoga~I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed,openstack/neutron,stable/yoga,I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed,[qos] _validate_create_network_callback return in no network,MERGED,2023-06-27 12:56:37.000000000,2023-06-29 10:14:36.000000000,2023-06-29 10:13:00.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 12:56:37.000000000', 'files': ['neutron/services/qos/qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4764ed550a47d591e272ff2275659a3aee78cdf5', 'message': '[qos] _validate_create_network_callback return in no network\n\nIt seems that _validate_create_network_callback notified without\nnetwork_id in payload, to avoid issues in such case return.\n\nChange-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed\nCloses-Bug: #2008912\n(cherry picked from commit ec4bfb91f0d3ae4aa4cbe8ba05c20cb00515b00d)\n'}]",0,887042,4764ed550a47d591e272ff2275659a3aee78cdf5,9,3,1,16688,,,0,"[qos] _validate_create_network_callback return in no network

It seems that _validate_create_network_callback notified without
network_id in payload, to avoid issues in such case return.

Change-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed
Closes-Bug: #2008912
(cherry picked from commit ec4bfb91f0d3ae4aa4cbe8ba05c20cb00515b00d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/887042/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/qos_plugin.py'],1,4764ed550a47d591e272ff2275659a3aee78cdf5,bug/2008912," if not network or not getattr(network, 'qos_policy_id', None): policy_id = network.qos_policy_id", policy_id = network.qos_policy_id if policy_id is None:,2,2
openstack%2Fneutron~master~Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,openstack/neutron,master,Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers",MERGED,2023-06-09 17:30:49.000000000,2023-06-29 09:53:01.000000000,2023-06-29 09:51:45.000000000,"[{'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 28056}, {'_account_id': 32586}, {'_account_id': 34271}]","[{'number': 1, 'created': '2023-06-09 17:30:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27fa5bf77ccdfad30cb26344e782c94ef2c53ff1', 'message': 'WIP == [OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nTODO: finish testing, reno\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters\n\nCloses-Bug: #2016158\n\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n'}, {'number': 2, 'created': '2023-06-21 11:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5ecfbdd141171763c7e304a78c0c19b94bc919ca', 'message': '[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters\n\nCloses-Bug: #2016158\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n'}, {'number': 3, 'created': '2023-06-21 13:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/553c9af725fcea6134559c81b1e54d15ae3a0e7b', 'message': '[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters\n\nCloses-Bug: #2016158\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n'}, {'number': 4, 'created': '2023-06-22 09:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57da02d687dd9febf82436eacce0fa6cead30bfd', 'message': '[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters\n\nCloses-Bug: #2016158\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n'}, {'number': 5, 'created': '2023-06-22 13:08:32.000000000', 'files': ['releasenotes/notes/remove_duplicated_ovn_chassis-df12fb6233ea3d3e.yaml', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d9f47c20c6c269db264d656a1026e0926f390fd', 'message': '[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers\n\nA new OVN maintenance method is added. This method lists all existing\nOVN SB Chassis registers and checks if any of them has the same\nhostname. In case of having duplicated ""Chassis""/""Chassis_Private""\nregisters, the maintenance method will remove those with older\n(lower) timestamp, that is stored in\n""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.\n\nCloses-Bug: #2016158\nChange-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa\n'}]",15,885794,9d9f47c20c6c269db264d656a1026e0926f390fd,33,8,5,16688,,,0,"[OVN] Remove SB ""Chassis""/""Chassis_Private"" duplicated registers

A new OVN maintenance method is added. This method lists all existing
OVN SB Chassis registers and checks if any of them has the same
hostname. In case of having duplicated ""Chassis""/""Chassis_Private""
registers, the maintenance method will remove those with older
(lower) timestamp, that is stored in
""Chassis_Private.nb_cfg_timestamp"", leaving only the newer one.

Closes-Bug: #2016158
Change-Id: Ib3c6f0dc01efd31430691e720ba23ccb4ede65fa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/885794/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,27fa5bf77ccdfad30cb26344e782c94ef2c53ff1,bug/2016158," @periodics.periodic(spacing=600, run_immediately=True) def remove_duplicated_chassis_registers(self): """"""Remove the ""Chassis"" and ""Chassis_Private"" duplicated registers. When the ovn-controller service of a node is updated and the system-id is changed, if the old service is not stopped gracefully, it will leave a ""Chassis"" and a ""Chassis_Private"" registers on the OVN SB database. These leftovers must be removed. NOTE: this method can be executed only if the OVN SB has the ""Chassis_Private"" table. Otherwise, is not possible to find out which register is newer and thus must be kept in the database. """""" if not (self.has_lock and self._sb_idl.is_table_present('Chassis_Private')): return # dup_chassis_port_host = {host_name: [(ch1, ch_private1), # (ch2, ch_private2), ... ]} dup_chassis_port_host = {} chassis = self._sb_idl.chassis_list().execute(check_error=True) chassis_hostnames = {ch.hostname for ch in chassis} # Find the duplicated ""Chassis"" registers, comparing the hostname. for hostname in chassis_hostnames: ch_list = [] # Find these chassis matching the hostname and create a list. for ch in (ch for ch in chassis if ch.hostname == hostname): ch_private = self._sb_idl.lookup('Chassis_Private', ch.name) ch_list.append((ch, ch_private)) # If the chassis list > 1, then we have duplicated chassis. if len(ch_list) > 1: # Order ch_list by Chassis_Private.nb_cfg_timestamp, from newer # (greater value) to older. ch_list.sort(key=lambda x: x[1].nb_cfg_timestamp, reverse=True) dup_chassis_port_host[hostname] = ch_list if not dup_chassis_port_host: raise periodics.NeverAgain() # Remove the ""Chassis"" and ""Chassis_Private"" registers with the # older Chassis_Private.nb_cfg_timestamp. for ch_list in dup_chassis_port_host.values(): # The first item is skipped, this is the newest element. for ch, _ in ch_list[1:]: for table in ('Chassis_Private', 'Chassis'): self._sb_idl.db_destroy(table, ch.name) raise periodics.NeverAgain() ",,82,0
openstack%2Fovn-bgp-agent~master~I57775fdeaa3ea6dfa35c0ca44b226fa8b44e0cd3,openstack/ovn-bgp-agent,master,I57775fdeaa3ea6dfa35c0ca44b226fa8b44e0cd3,Avoid vlan device leaking,MERGED,2023-06-26 07:51:56.000000000,2023-06-29 09:24:55.000000000,2023-06-29 09:23:59.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-06-26 07:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/ac042dd5fcd45e8def619884673a432a2b928c72', 'message': 'Avoid vlan device leaking\n\nIf provider network are recreated the vlan devices created\nfor them are leaked. With this patch we ensure those devices\nare deleted as part of the resync action\n\nCloses-Bug: #2020653\nChange-Id: I57775fdeaa3ea6dfa35c0ca44b226fa8b44e0cd3\n'}, {'number': 2, 'created': '2023-06-26 13:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/798d3ac034b1a1aeb1ce5642634676fcf7362fb5', 'message': 'Avoid vlan device leaking\n\nIf provider network are recreated the vlan devices created\nfor them are leaked. With this patch we ensure those devices\nare deleted as part of the resync action\n\nCloses-Bug: #2020653\nChange-Id: I57775fdeaa3ea6dfa35c0ca44b226fa8b44e0cd3\n'}, {'number': 3, 'created': '2023-06-27 07:38:58.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/drivers/openstack/nb_ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py', 'ovn_bgp_agent/tests/functional/privileged/test_linux_net.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_nb_ovn_bgp_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/utils/test_ovn.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_ovn_bgp_driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/dbf0e7198f8b828ef3ceb848c936c473688b9155', 'message': 'Avoid vlan device leaking\n\nIf provider network are recreated the vlan devices created\nfor them are leaked. With this patch we ensure those devices\nare deleted as part of the resync action\n\nCloses-Bug: #2020653\nChange-Id: I57775fdeaa3ea6dfa35c0ca44b226fa8b44e0cd3\n'}]",5,886614,dbf0e7198f8b828ef3ceb848c936c473688b9155,18,3,3,23567,,,0,"Avoid vlan device leaking

If provider network are recreated the vlan devices created
for them are leaked. With this patch we ensure those devices
are deleted as part of the resync action

Closes-Bug: #2020653
Change-Id: I57775fdeaa3ea6dfa35c0ca44b226fa8b44e0cd3
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/14/886614/2 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/nb_ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/drivers/openstack/utils/ovn.py', 'ovn_bgp_agent/utils/linux_net.py', 'ovn_bgp_agent/privileged/linux_net.py']",6,ac042dd5fcd45e8def619884673a432a2b928c72,,"@ovn_bgp_agent.privileged.default.entrypoint def get_bridge_vlan_devices(device_name): index = _get_link_id(device_name, raise_exception=False) if not index: LOG.debug(""OVS Bridge %s deleted, no need to get information about "" ""associated vlan devices"", device_name) return get_link_devices(link=index) ",,56,5
openstack%2Fironic-python-agent~stable%2Ftrain~I3e25ce4997f5dd3df87caba753daced65838f85a,openstack/ironic-python-agent,stable/train,I3e25ce4997f5dd3df87caba753daced65838f85a,Use utf-16-le if BOM not present,MERGED,2022-10-13 16:02:37.000000000,2023-06-29 09:22:51.000000000,2023-06-29 09:21:46.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24245}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-10-13 16:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/cfa366653ca2552999e8deaa267eef6e5bf60399', 'message': ""Use utf-16-le if BOM not present\n\nIn case no BOM is present in the CSV file the utf-16 codec won't work.\nWe fail over to utf-16-le as Little Endian is commonly used.\n\nNOTE: The original change landed this fix in efi_utils.py, however\n      that was introduced after the Xena development cycle, so this\n      backport moves the original change to where the code originally\n      came from to populate the efi_utils.py file.\n\nAdditional NOTE: This change is modified to support python2 support\n                 which exists in the Train branch.\nChange-Id: I3e25ce4997f5dd3df87caba753daced65838f85a\n(cherry picked from commit 697fa6f3b6db10408eaadd57450456de87f13519)\n(cherry picked from commit 99b9d1403cacd3bbd489a6cf6913f32746ef6083)\n(cherry picked from commit b42a747eaa7690aed6314f54e9407aabaa105a9c)\n""}, {'number': 2, 'created': '2023-06-27 16:19:08.000000000', 'files': ['releasenotes/notes/detect-endianness-f53a6c4571aba3fe.yaml', 'ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/31cf0e14bf0d8a2a1f7ac8f055119796eee233f6', 'message': ""Use utf-16-le if BOM not present\n\nIn case no BOM is present in the CSV file the utf-16 codec won't work.\nWe fail over to utf-16-le as Little Endian is commonly used.\n\nNOTE: The original change landed this fix in efi_utils.py, however\n      that was introduced after the Xena development cycle, so this\n      backport moves the original change to where the code originally\n      came from to populate the efi_utils.py file.\n\nAdditional NOTE: This change is modified to support python2 support\n                 which exists in the Train branch.\nChange-Id: I3e25ce4997f5dd3df87caba753daced65838f85a\n(cherry picked from commit 697fa6f3b6db10408eaadd57450456de87f13519)\n(cherry picked from commit 99b9d1403cacd3bbd489a6cf6913f32746ef6083)\n(cherry picked from commit b42a747eaa7690aed6314f54e9407aabaa105a9c)\n""}]",1,861200,31cf0e14bf0d8a2a1f7ac8f055119796eee233f6,13,5,2,11655,,,0,"Use utf-16-le if BOM not present

In case no BOM is present in the CSV file the utf-16 codec won't work.
We fail over to utf-16-le as Little Endian is commonly used.

NOTE: The original change landed this fix in efi_utils.py, however
      that was introduced after the Xena development cycle, so this
      backport moves the original change to where the code originally
      came from to populate the efi_utils.py file.

Additional NOTE: This change is modified to support python2 support
                 which exists in the Train branch.
Change-Id: I3e25ce4997f5dd3df87caba753daced65838f85a
(cherry picked from commit 697fa6f3b6db10408eaadd57450456de87f13519)
(cherry picked from commit 99b9d1403cacd3bbd489a6cf6913f32746ef6083)
(cherry picked from commit b42a747eaa7690aed6314f54e9407aabaa105a9c)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/00/861200/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/detect-endianness-f53a6c4571aba3fe.yaml', 'ironic_python_agent/extensions/image.py']",2,cfa366653ca2552999e8deaa267eef6e5bf60399,," try: with open_call(mount_point + '/' + v_bl, 'r', encoding='utf-16') as csv: contents = str(csv.read()) csv_contents = contents.split(',') except UnicodeError: with open_call(mount_point + '/' + v_bl, 'r', encoding='utf-16-le') as csv: csv_contents = str(csv.read())"," with open_call(mount_point + '/' + v_bl, 'r', encoding='utf-16') as csv: contents = str(csv.read()) csv_contents = contents.split(',')",15,4
openstack%2Freleases~master~I1d747c8a2459cbc93e6fbde0e547b63577005910,openstack/releases,master,I1d747c8a2459cbc93e6fbde0e547b63577005910,oslo.db 13.1.0,MERGED,2023-06-26 10:04:27.000000000,2023-06-29 09:12:40.000000000,2023-06-29 09:12:40.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-06-26 10:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/932ed8bdea121f1dd07d511bb821b15b3116ecc8', 'message': 'oslo.db 13.0.2\n\nChange-Id: I1d747c8a2459cbc93e6fbde0e547b63577005910\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2023-06-27 17:06:03.000000000', 'files': ['deliverables/bobcat/oslo.db.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9bf6530c1676abb5102e4e63674783a9dea8e474', 'message': 'oslo.db 13.1.0\n\nChange-Id: I1d747c8a2459cbc93e6fbde0e547b63577005910\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",4,886973,9bf6530c1676abb5102e4e63674783a9dea8e474,13,4,2,15334,,,0,"oslo.db 13.1.0

Change-Id: I1d747c8a2459cbc93e6fbde0e547b63577005910
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/886973/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/bobcat/oslo.db.yaml'],1,932ed8bdea121f1dd07d511bb821b15b3116ecc8,oslo.db, - version: 13.0.2 projects: - repo: openstack/oslo.db hash: 6285f2b4e2ec9129b898ab2d5ad2117bc8ff3c73,,4,0
openstack%2Fheat-dashboard~master~I836405aeb9863b11630eedc3955e22e353ceee90,openstack/heat-dashboard,master,I836405aeb9863b11630eedc3955e22e353ceee90,Remove note about old pip behavior,NEW,2023-06-20 01:04:45.000000000,2023-06-29 08:39:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2023-06-20 01:04:45.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/7da98c0e3fc130d0e63c416066e6bc61ce2e8245', 'message': 'Remove note about old pip behavior\n\nThe note is no longer valid since pip 20.3 introduced the new\ndependency resolver.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034091.html\n\nChange-Id: I836405aeb9863b11630eedc3955e22e353ceee90\n'}]",0,886435,7da98c0e3fc130d0e63c416066e6bc61ce2e8245,3,2,1,9816,,,0,"Remove note about old pip behavior

The note is no longer valid since pip 20.3 introduced the new
dependency resolver.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-June/034091.html

Change-Id: I836405aeb9863b11630eedc3955e22e353ceee90
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/35/886435/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,7da98c0e3fc130d0e63c416066e6bc61ce2e8245,,," # The order of packages is significant, because pip processes them in the order # of appearance. Changing the order has an impact on the overall integration # process, which may cause wedges in the gate later. # Order matters to the pip dependency resolver, so sorting this file # changes how packages are installed. New dependencies should be # added in alphabetical order, however, some dependencies may need to # be installed in a specific order.",0,8
openstack%2Fkolla~master~I9b69fff14507ad2d1838367bb8b81a3a73694071,openstack/kolla,master,I9b69fff14507ad2d1838367bb8b81a3a73694071,rabbitmq: Fix repo for ubuntu aarch64,MERGED,2023-06-28 19:45:15.000000000,2023-06-29 07:59:09.000000000,2023-06-29 07:58:06.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2023-06-28 19:45:15.000000000', 'files': ['kolla/template/repos.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5bf088263c17f687dac1f78c1546b833c44116c8', 'message': 'rabbitmq: Fix repo for ubuntu aarch64\n\nThat has been omitted in the original patch.\n\nChange-Id: I9b69fff14507ad2d1838367bb8b81a3a73694071\n'}]",0,887223,5bf088263c17f687dac1f78c1546b833c44116c8,9,3,1,22629,,,0,"rabbitmq: Fix repo for ubuntu aarch64

That has been omitted in the original patch.

Change-Id: I9b69fff14507ad2d1838367bb8b81a3a73694071
",git fetch https://review.opendev.org/openstack/kolla refs/changes/23/887223/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/template/repos.yaml'],1,5bf088263c17f687dac1f78c1546b833c44116c8,," url: ""https://ppa.launchpadcontent.net/rabbitmq/rabbitmq-erlang-25/ubuntu"""," url: ""https://launchpad.net/~rabbitmq/+archive/ubuntu/rabbitmq-erlang-25""",1,1
openstack%2Ftrove~stable%2Fyoga~I3d8ebaac4ee5e13af83c305ce28b51e4442d8c8b,openstack/trove,stable/yoga,I3d8ebaac4ee5e13af83c305ce28b51e4442d8c8b,Fixes permission problem when restoring backup,ABANDONED,2023-03-23 13:38:43.000000000,2023-06-29 07:56:14.000000000,,[{'_account_id': 26285}],"[{'number': 1, 'created': '2023-03-23 13:38:43.000000000', 'files': ['trove/guestagent/datastore/mysql_common/manager.py', 'backup/Dockerfile'], 'web_link': 'https://opendev.org/openstack/trove/commit/4c79cca0a9d4f39f1e6542678a7f8a21d779fa85', 'message': 'Fixes permission problem when restoring backup\n\nThis PR changes the owner of the file used by the docker container that\nresets the mysql root password.\n\nOriginal problem is the failure to restore mysql:5.7.x backup. The error\noccurs because the container process tries to update the file that owned\nby the others.\n\nStory: 2010467\nTask: 47017\nChange-Id: I3d8ebaac4ee5e13af83c305ce28b51e4442d8c8b\n(cherry picked from commit 553c578923d30d0eb15ad5dbd0a2c583cae274a4)\n'}]",1,878346,4c79cca0a9d4f39f1e6542678a7f8a21d779fa85,5,1,1,26285,,,0,"Fixes permission problem when restoring backup

This PR changes the owner of the file used by the docker container that
resets the mysql root password.

Original problem is the failure to restore mysql:5.7.x backup. The error
occurs because the container process tries to update the file that owned
by the others.

Story: 2010467
Task: 47017
Change-Id: I3d8ebaac4ee5e13af83c305ce28b51e4442d8c8b
(cherry picked from commit 553c578923d30d0eb15ad5dbd0a2c583cae274a4)
",git fetch https://review.opendev.org/openstack/trove refs/changes/46/878346/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/mysql_common/manager.py', 'backup/Dockerfile']",2,4c79cca0a9d4f39f1e6542678a7f8a21d779fa85,story/2010467-stable/yoga,FROM ubuntu:20.04,FROM ubuntu:18.04,61,29
openstack%2Ftrove~master~I72e68d9e7df6a82b4635abac995299be770546ce,openstack/trove,master,I72e68d9e7df6a82b4635abac995299be770546ce,[CI]: Don't run periodic jobs on stable branchs,MERGED,2023-06-29 03:22:09.000000000,2023-06-29 07:41:17.000000000,2023-06-29 07:39:22.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-29 03:22:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/a470c114300783e41351f88fc9fc2a37627f6ae7', 'message': ""[CI]: Don't run periodic jobs on stable branchs\n\nwe don't need to pulish trove image with stable branches everyday.\n\nChange-Id: I72e68d9e7df6a82b4635abac995299be770546ce\n""}, {'number': 2, 'created': '2023-06-29 03:39:35.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/7a6666f4f301cd4a9a4d2b7380546893f0c1c6f8', 'message': ""[CI]: Don't run periodic jobs on stable branchs\n\nwe don't need to pulish trove image with stable branches everyday.\n\nChange-Id: I72e68d9e7df6a82b4635abac995299be770546ce\n""}]",0,887243,7a6666f4f301cd4a9a4d2b7380546893f0c1c6f8,11,2,2,26285,,,0,"[CI]: Don't run periodic jobs on stable branchs

we don't need to pulish trove image with stable branches everyday.

Change-Id: I72e68d9e7df6a82b4635abac995299be770546ce
",git fetch https://review.opendev.org/openstack/trove refs/changes/43/887243/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,a470c114300783e41351f88fc9fc2a37627f6ae7,, branches: ^(?!stable/.*).*$ branches: ^(?!stable/.*).*$ branches: ^(?!stable/.*).*$,,3,0
openstack%2Ftripleo-ansible~stable%2Fwallaby~Ic8cf0bbcbc02604e99fa65e2fa52f45f4637e607,openstack/tripleo-ansible,stable/wallaby,Ic8cf0bbcbc02604e99fa65e2fa52f45f4637e607,Fix positional arguments order in test-molecule.py,MERGED,2023-06-28 16:09:04.000000000,2023-06-29 07:36:38.000000000,2023-06-29 07:36:38.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-06-28 16:09:04.000000000', 'files': ['tests/test_molecule.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9858354c3895831b0ae8df1aa08c409f74091758', 'message': 'Fix positional arguments order in test-molecule.py\n\nChange-Id: Ic8cf0bbcbc02604e99fa65e2fa52f45f4637e607\nSigned-off-by: Roberto Alfieri <ralfieri@redhat.com>\n'}]",2,887197,9858354c3895831b0ae8df1aa08c409f74091758,7,3,1,35491,,,0,"Fix positional arguments order in test-molecule.py

Change-Id: Ic8cf0bbcbc02604e99fa65e2fa52f45f4637e607
Signed-off-by: Roberto Alfieri <ralfieri@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/97/887197/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_molecule.py'],1,9858354c3895831b0ae8df1aa08c409f74091758,fix-molecule-test,"BASECMD = ['python', '-m', 'molecule'] cmd = BASECMD cmd.extend(['--base-config', set_proper_molecule_config(os.getcwd())]) cmd = BASECMD cmd.append('destroy')"," cmd = ['python', '-m', 'molecule'] cmd.extend(['--base-config', set_proper_molecule_config(os.getcwd())]) cmd = ['python', '-m', 'molecule', 'destroy']",6,3
openstack%2Fovn-bgp-agent~master~I5d56801ae87d2640d9671aaef65bc94228c60f52,openstack/ovn-bgp-agent,master,I5d56801ae87d2640d9671aaef65bc94228c60f52,Ensure agent is protected again wrong/missing bridge mappings,MERGED,2023-06-26 12:41:31.000000000,2023-06-29 07:28:46.000000000,2023-06-29 07:27:51.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 12:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/565a297fba947b84fcf9bf4dbceaeaa360b89b84', 'message': 'Ensure agent is protected again wrong/missing bridge mappings\n\nIf the bridge mappings are changed to a wrong value, we should not\nexpose the previous IPs. This is needed to ensure the traffic is\nonly exposed in the right node.\n\nCloses-Bug: #2025057\nChange-Id: I5d56801ae87d2640d9671aaef65bc94228c60f52\n'}, {'number': 2, 'created': '2023-06-26 13:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/0dc7322c772cb079cca1c96d3b4d4d81d2d1fe49', 'message': 'Ensure agent is protected again wrong/missing bridge mappings\n\nIf the bridge mappings are changed to a wrong value, we should not\nexpose the previous IPs. This is needed to ensure the traffic is\nonly exposed in the right node.\n\nCloses-Bug: #2025057\nChange-Id: I5d56801ae87d2640d9671aaef65bc94228c60f52\n'}, {'number': 3, 'created': '2023-06-26 14:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/a666d5110269d5d157db25d382ab0702ea66aedc', 'message': 'Ensure agent is protected again wrong/missing bridge mappings\n\nIf the bridge mappings are changed to a wrong value, we should not\nexpose the previous IPs. This is needed to ensure the traffic is\nonly exposed in the right node.\n\nCloses-Bug: #2025057\nChange-Id: I5d56801ae87d2640d9671aaef65bc94228c60f52\n'}, {'number': 4, 'created': '2023-06-27 09:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/46622c28b870c69b86fa7d53b598b9bbfc045e40', 'message': 'Ensure agent is protected again wrong/missing bridge mappings\n\nIf the bridge mappings are changed to a wrong value, we should not\nexpose the previous IPs. This is needed to ensure the traffic is\nonly exposed in the right node.\n\nCloses-Bug: #2025057\nChange-Id: I5d56801ae87d2640d9671aaef65bc94228c60f52\n'}, {'number': 5, 'created': '2023-06-28 08:31:03.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/drivers/openstack/nb_ovn_bgp_driver.py', 'ovn_bgp_agent/utils/helpers.py', 'ovn_bgp_agent/drivers/openstack/ovn_evpn_driver.py', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_nb_ovn_bgp_driver.py', 'ovn_bgp_agent/tests/unit/utils/test_helpers.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/6c765fcd66e3f29c0120b5e07ade3d8da823ff2a', 'message': 'Ensure agent is protected again wrong/missing bridge mappings\n\nIf the bridge mappings are changed to a wrong value, we should not\nexpose the previous IPs. This is needed to ensure the traffic is\nonly exposed in the right node.\n\nCloses-Bug: #2025057\nChange-Id: I5d56801ae87d2640d9671aaef65bc94228c60f52\n'}]",12,886617,6c765fcd66e3f29c0120b5e07ade3d8da823ff2a,21,3,5,23567,,,0,"Ensure agent is protected again wrong/missing bridge mappings

If the bridge mappings are changed to a wrong value, we should not
expose the previous IPs. This is needed to ensure the traffic is
only exposed in the right node.

Closes-Bug: #2025057
Change-Id: I5d56801ae87d2640d9671aaef65bc94228c60f52
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/17/886617/5 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/nb_ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/wire.py', 'ovn_bgp_agent/drivers/openstack/ovn_evpn_driver.py']",4,565a297fba947b84fcf9bf4dbceaeaa360b89b84,," if len(bridge_mapping.split("":"")) != 2: LOG.warning(""Incorrect bridge mapping settings: %s"", bridge_mapping) continue",,21,2
openstack%2Fpuppet-watcher~master~I5fa76ea9c27c51d98f07274c071563251f5c0e4e,openstack/puppet-watcher,master,I5fa76ea9c27c51d98f07274c071563251f5c0e4e,replace validate_legacy with proper data types,MERGED,2023-06-20 13:30:24.000000000,2023-06-29 05:30:36.000000000,2023-06-29 05:30:36.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-20 13:30:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/9105e0de5648175a9e57c875cec3ac8ee6e271d5', 'message': 'replace validate_legacy with proper data types\n\nthe validate_legacy function is marked for deprecation in\nv9.0.0 from puppetlabs-stdlib.\n\nChange-Id: I5fa76ea9c27c51d98f07274c071563251f5c0e4e\n'}, {'number': 2, 'created': '2023-06-20 14:56:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/17cabb507e457d82f9ff8a01ebb03970748700d0', 'message': 'replace validate_legacy with proper data types\n\nthe validate_legacy function is marked for deprecation in\nv9.0.0 from puppetlabs-stdlib.\n\nChange-Id: I5fa76ea9c27c51d98f07274c071563251f5c0e4e\n'}, {'number': 3, 'created': '2023-06-23 01:19:20.000000000', 'files': ['manifests/decision_engine.pp', 'manifests/cron/db_purge.pp', 'manifests/db/mysql.pp', 'manifests/config.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/d8efb69c3d6c785918c857574dc4d019ed904f0a', 'message': 'replace validate_legacy with proper data types\n\nthe validate_legacy function is marked for deprecation in\nv9.0.0 from puppetlabs-stdlib.\n\nChange-Id: I5fa76ea9c27c51d98f07274c071563251f5c0e4e\n'}]",4,886492,d8efb69c3d6c785918c857574dc4d019ed904f0a,27,4,3,9816,,,0,"replace validate_legacy with proper data types

the validate_legacy function is marked for deprecation in
v9.0.0 from puppetlabs-stdlib.

Change-Id: I5fa76ea9c27c51d98f07274c071563251f5c0e4e
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/92/886492/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/decision_engine.pp', 'manifests/cron/db_purge.pp', 'manifests/db/mysql.pp', 'manifests/keystone/authtoken.pp', 'manifests/config.pp', 'manifests/policy.pp']",6,9105e0de5648175a9e57c875cec3ac8ee6e271d5,replace-validate_legacy," Hash $policies = {},"," $policies = {}, validate_legacy(Hash, 'validate_hash', $policies) ",17,31
openstack%2Felection~master~I1c0b9d58f41b25a51af00cc5c71f608e879345c8,openstack/election,master,I1c0b9d58f41b25a51af00cc5c71f608e879345c8,Adding dates for upcoming election to be displayed on the election page,MERGED,2023-06-21 17:22:10.000000000,2023-06-29 04:03:06.000000000,2023-06-29 04:02:04.000000000,"[{'_account_id': 8556}, {'_account_id': 10342}, {'_account_id': 12898}, {'_account_id': 14482}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-21 17:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/ee50baec72e93962740a5269e9a62116518e8763', 'message': 'Adding dates for upcoming election to be displayed on the election\npage\n\nChange-Id: I1c0b9d58f41b25a51af00cc5c71f608e879345c8\n'}, {'number': 2, 'created': '2023-06-21 17:42:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/4a356b497ce8ecb1d6063f35582db4c656ab016c', 'message': 'Adding dates for upcoming election to be displayed on the election\npage\n\nChange-Id: I1c0b9d58f41b25a51af00cc5c71f608e879345c8\n'}, {'number': 3, 'created': '2023-06-22 02:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/election/commit/4c815c47d72809dd0f0e9877ae05bea1c2d719b5', 'message': 'Adding dates for upcoming election to be displayed on the election\npage\n\nChange-Id: I1c0b9d58f41b25a51af00cc5c71f608e879345c8\n'}, {'number': 4, 'created': '2023-06-22 19:46:42.000000000', 'files': ['configuration.yaml'], 'web_link': 'https://opendev.org/openstack/election/commit/671c88aab34e06cdd09fc501f287edbd608cdb45', 'message': 'Adding dates for upcoming election to be displayed on the election\npage\n\nChange-Id: I1c0b9d58f41b25a51af00cc5c71f608e879345c8\n'}]",10,886653,671c88aab34e06cdd09fc501f287edbd608cdb45,21,6,4,15993,,,0,"Adding dates for upcoming election to be displayed on the election
page

Change-Id: I1c0b9d58f41b25a51af00cc5c71f608e879345c8
",git fetch https://review.opendev.org/openstack/election refs/changes/53/886653/4 && git format-patch -1 --stdout FETCH_HEAD,['configuration.yaml'],1,ee50baec72e93962740a5269e9a62116518e8763,,release: 2024.1tag: oct-2023-elections tc_seats: 4 timeframe: name: 2023.1-2023.2 start: 2022-09-16T00:00 end: 2023-08-30T00:00 email_deadline: 2023-08-30T00:00 timeline: - name: TC Nominations start: 2023-08-16T23:45 end: 2023-08-30T23:45 - name: PTL Nominations start: 2023-08-16T23:45 end: 2023-08-30T23:45 - name: TC Campaigning start: 2023-08-30T23:45 end: 2023-09-06T23:45 - name: TC Election start: 2023-09-06T23:45 end: 2023-09-20T23:45 - name: PTL Election start: 2023-09-06T23:45 end: 2023-09-20T23:45,release: bobcattag: 0.14.0 tc_seats: 5 timeframe: name: Zed-Antelope start: 2022-03-11T00:00 end: 2023-02-15T00:00 email_deadline: 2023-02-15T00:00 timeline: - name: TC Nominations start: 2023-02-01T23:45 end: 2023-02-15T23:45 - name: PTL Nominations start: 2023-02-01T23:45 end: 2023-02-15T23:45 - name: TC Campaigning start: 2023-02-15T23:45 end: 2023-02-22T23:45 - name: TC Election start: 2023-02-22T23:45 end: 2023-03-08T23:45 - name: PTL Election start: 2023-02-22T23:45 end: 2023-03-08T23:45,22,22
openstack%2Fironic~master~I5d73879cfb747c8357f823d1ac8fbcb08c5addaa,openstack/ironic,master,I5d73879cfb747c8357f823d1ac8fbcb08c5addaa,CI: minor fix to irmc driver clean_up_instance testing,MERGED,2023-06-29 00:31:17.000000000,2023-06-29 02:56:04.000000000,2023-06-29 02:35:56.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-29 00:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/10c1efec1a6335a2d317f2282f76fe2a01f81fea', 'message': 'CI: minor fix to irmc driver clean_up_instance testing\n\nChange-Id: I5d73879cfb747c8357f823d1ac8fbcb08c5addaa\n'}, {'number': 2, 'created': '2023-06-29 01:51:46.000000000', 'files': ['ironic/tests/unit/drivers/modules/irmc/test_boot.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cf49d54e6f72ef12ec2a78c4b09d20e8bed8c01d', 'message': 'CI: minor fix to irmc driver clean_up_instance testing\n\nChange-Id: I5d73879cfb747c8357f823d1ac8fbcb08c5addaa\n'}]",0,887239,cf49d54e6f72ef12ec2a78c4b09d20e8bed8c01d,12,3,2,11655,,,0,"CI: minor fix to irmc driver clean_up_instance testing

Change-Id: I5d73879cfb747c8357f823d1ac8fbcb08c5addaa
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/887239/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/irmc/test_boot.py'],1,10c1efec1a6335a2d317f2282f76fe2a01f81fea,," @mock.patch.object(irmc_boot, '_remove_share_file', autospec=True) mock_remove_share_file, mock_remove_share_file.assert_called_once_with( 'boot-%s.iso' % task.node.uuid)",,4,0
openstack%2Fcyborg~master~I0314a383a78eac354c4a41afaa1778f9e94efca6,openstack/cyborg,master,I0314a383a78eac354c4a41afaa1778f9e94efca6,Follow pep8 norm,MERGED,2023-06-28 07:29:48.000000000,2023-06-29 02:00:46.000000000,2023-06-29 01:59:43.000000000,"[{'_account_id': 22348}, {'_account_id': 31412}]","[{'number': 1, 'created': '2023-06-28 07:29:48.000000000', 'files': ['cyborg/accelerator/drivers/fpga/xilinx/sysinfo.py', 'cyborg/common/utils.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py', 'cyborg/api/controllers/v2/device_profiles.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ef5315e47af034f5b275acfd1048111c663da19b', 'message': 'Follow pep8 norm\n\nChange-Id: I0314a383a78eac354c4a41afaa1778f9e94efca6\n'}]",0,886624,ef5315e47af034f5b275acfd1048111c663da19b,7,2,1,33161,,,0,"Follow pep8 norm

Change-Id: I0314a383a78eac354c4a41afaa1778f9e94efca6
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/24/886624/1 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/accelerator/drivers/fpga/xilinx/sysinfo.py', 'cyborg/common/utils.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py', 'cyborg/api/controllers/v2/device_profiles.py']",4,ef5315e47af034f5b275acfd1048111c663da19b,, not inner_rc.startswith('CUSTOM_'):, not inner_rc.startswith('CUSTOM_'):,6,6
openstack%2Fswift~master~I2a5f3e3d841d52d013b481118f56f7a1f6ab3f98,openstack/swift,master,I2a5f3e3d841d52d013b481118f56f7a1f6ab3f98,Imported Translations from Zanata,MERGED,2023-06-22 03:37:36.000000000,2023-06-29 01:28:04.000000000,2023-06-29 01:27:03.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-22 03:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/0c88a737d5a7676c67d6fd863346fdf49feb7ca5', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2a5f3e3d841d52d013b481118f56f7a1f6ab3f98\n'}, {'number': 2, 'created': '2023-06-23 03:14:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/162a5ef0f9f338bdb1b06c03e71ded79be0a405d', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2a5f3e3d841d52d013b481118f56f7a1f6ab3f98\n'}, {'number': 3, 'created': '2023-06-24 03:33:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/95f22bbc3fdf15a62762de032d44381520d46fcf', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2a5f3e3d841d52d013b481118f56f7a1f6ab3f98\n'}, {'number': 4, 'created': '2023-06-27 02:24:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/827832ddc5e0558315a3b6a42c1b9c67e2ceba94', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2a5f3e3d841d52d013b481118f56f7a1f6ab3f98\n'}, {'number': 5, 'created': '2023-06-28 02:13:45.000000000', 'files': ['swift/locale/ko_KR/LC_MESSAGES/swift.po', 'swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/ru/LC_MESSAGES/swift.po', 'swift/locale/es/LC_MESSAGES/swift.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'swift/locale/it/LC_MESSAGES/swift.po', 'swift/locale/de/LC_MESSAGES/swift.po', 'swift/locale/tr_TR/LC_MESSAGES/swift.po', 'swift/locale/zh_TW/LC_MESSAGES/swift.po', 'swift/locale/fr/LC_MESSAGES/swift.po', 'swift/locale/ja/LC_MESSAGES/swift.po', 'swift/locale/en_GB/LC_MESSAGES/swift.po', 'swift/locale/pt_BR/LC_MESSAGES/swift.po'], 'web_link': 'https://opendev.org/openstack/swift/commit/5ef169b924895b383aca321a5c816db13d5d9f88', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2a5f3e3d841d52d013b481118f56f7a1f6ab3f98\n'}]",2,886694,5ef169b924895b383aca321a5c816db13d5d9f88,29,2,5,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2a5f3e3d841d52d013b481118f56f7a1f6ab3f98
",git fetch https://review.opendev.org/openstack/swift refs/changes/94/886694/5 && git format-patch -1 --stdout FETCH_HEAD,"['swift/locale/ko_KR/LC_MESSAGES/swift.po', 'swift/locale/zh_CN/LC_MESSAGES/swift.po', 'swift/locale/ru/LC_MESSAGES/swift.po', 'swift/locale/es/LC_MESSAGES/swift.po', 'releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po', 'swift/locale/it/LC_MESSAGES/swift.po', 'swift/locale/de/LC_MESSAGES/swift.po', 'swift/locale/tr_TR/LC_MESSAGES/swift.po', 'swift/locale/zh_TW/LC_MESSAGES/swift.po', 'swift/locale/fr/LC_MESSAGES/swift.po', 'swift/locale/ja/LC_MESSAGES/swift.po', 'swift/locale/en_GB/LC_MESSAGES/swift.po', 'swift/locale/pt_BR/LC_MESSAGES/swift.po']",13,0c88a737d5a7676c67d6fd863346fdf49feb7ca5,zanata/translations,"""POT-Creation-Date: 2023-06-14 12:31+0000\n""","""POT-Creation-Date: 2023-05-17 23:35+0000\n""msgid """" ""\n"" ""user quit"" msgstr """" ""\n"" ""encerramento do usuário"" #, python-format msgid ""%(success)s successes, %(failure)s failures"" msgstr ""%(success)s sucessos, %(failure)s falhas"" #, python-format msgid ""%s already started..."" msgstr ""%s já iniciado..."" #, python-format msgid ""%s does not exist"" msgstr ""%s não existe"" #, python-format msgid ""%s: Connection reset by peer"" msgstr ""%s: Reconfiguração da conexão por peer"" #, python-format msgid """" ""Attempted to replicate %(count)d dbs in %(time).5f seconds (%(rate).5f/s)"" msgstr """" ""Tentativa de replicação do %(count)d dbs em%(time).5f segundos (%(rate).5f/s)"" msgid ""Beginning replication run"" msgstr ""Começando execução de replicação"" msgid ""Broker error trying to rollback locked connection"" msgstr ""Erro do Broker ao tentar retroceder a conexão bloqueada"" msgid ""Connection refused"" msgstr ""Conexão recusada"" msgid ""Connection timeout"" msgstr ""Tempo limite de conexão"" msgid ""ERROR Failed to get my own IPs?"" msgstr ""ERRO Falha ao pegar meu próprio IPs?"" #, python-format msgid ""ERROR Remote drive not mounted %s"" msgstr ""ERRO Drive remoto não montado %s"" #, python-format msgid ""ERROR reading HTTP response from %s"" msgstr ""ERRO lendo resposta HTTP de %s"" #, python-format msgid ""ERROR reading db %s"" msgstr ""ERRO lendo db %s"" #, python-format msgid ""ERROR rsync failed with %(code)s: %(args)s"" msgstr ""ERRO rsync falhou com %(code)s: %(args)s"" #, python-format msgid ""ERROR syncing %(file)s with node %(node)s"" msgstr ""ERRO sincronizando %(file)s com nodo %(node)s"" msgid ""ERROR trying to replicate"" msgstr ""ERRO tentando replicar"" msgid ""Error: missing config path argument"" msgstr ""Erro: argumento do caminho de configuração ausente"" #, python-format msgid ""Error: unable to locate %s"" msgstr ""Erro: não é possível localizar %s"" msgid ""Found configs:"" msgstr ""Localizados arquivos de configuração:"" msgid ""Host unreachable"" msgstr ""Destino inalcançável"" #, python-format msgid ""Invalid X-Container-Sync-To format %r"" msgstr ""Formato X-Container-Sync-To inválido %r"" #, python-format msgid ""Invalid host %r in X-Container-Sync-To"" msgstr ""Host inválido %r em X-Container-Sync-To"" #, python-format msgid ""Invalid pending entry %(file)s: %(entry)s"" msgstr ""Entrada pendente inválida %(file)s: %(entry)s"" #, python-format msgid """" ""Invalid scheme %r in X-Container-Sync-To, must be \""//\"", \""http\"", or "" ""\""https\""."" msgstr """" ""Esquema inválido %r em X-Container-Sync-To, deve ser \"" // \"", \""http\"" ou "" ""\""https\""."" msgid ""No %s running"" msgstr ""Nenhum %s rodando"" #, python-format msgid ""No permission to signal PID %d"" msgstr ""Nenhuma permissão para PID do sinal %d"" #, python-format msgid ""No policy with index %s"" msgstr ""Nenhuma política com índice %s"" #, python-format msgid ""No realm key for %r"" msgstr ""Nenhuma chave do domínio para %r"" msgid ""Params, queries, and fragments not allowed in X-Container-Sync-To"" msgstr """" ""Parâmetros, consultas e fragmentos não permitidos em X-Container-Sync-To"" msgid ""Path required in X-Container-Sync-To"" msgstr ""Caminho necessário em X-Container-Sync-To"" #, python-formatmsgid ""Quarantining DB %s"" msgstr ""Quarentenando BD %s"" #, python-formatmsgid ""Removed %(remove)d dbs"" msgstr ""Dbs %(remove)d removido"" #, python-format msgid ""Removing pid file %(pid_file)s with wrong pid %(pid)d"" msgstr ""Removendo arquivo pid %(pid_file)s com pid errado %(pid)d"" #, python-format msgid ""Removing pid file %s with invalid pid"" msgstr ""Removendo o arquivo pid %s com pid inválido"" #, python-format msgid ""Removing stale pid file %s"" msgstr ""Removendo o arquivo pid %s antigo"" msgid ""Replication run OVER"" msgstr ""Execução de replicação TERMINADA"" #, python-format#, python-format msgid ""Running %s once"" msgstr ""Executando %s uma vez,"" #, python-format msgid ""Skipping %s as it is not mounted"" msgstr ""Pulando %s porque não está montado"" #, python-format msgid ""Starting %s"" msgstr ""Iniciando %s"" msgid ""UNCAUGHT EXCEPTION"" msgstr ""EXCEÇÃO NÃO CAPTURADA"" #, python-format msgid ""Unable to locate config for %s"" msgstr ""Não é possível localizar configuração para %s"" #, python-format msgid ""Unable to read config from %s"" msgstr ""Não é possível ler a configuração a partir de %s"" msgid """" ""WARNING: SSL should only be enabled for testing purposes. Use external SSL "" ""termination for a production deployment."" msgstr """" ""AVISO: SSL deve ser ativada somente para fins de teste. Use rescisão SSL "" ""externa para uma implementação de produção."" msgid ""WARNING: Unable to modify file descriptor limit. Running as non-root?"" msgstr """" ""AVISO: Não é possível modificar o limite do descritor de arquivo. Executar "" ""como não raiz?"" msgid ""WARNING: Unable to modify max process limit. Running as non-root?"" msgstr """" ""AVISO: Não é possível modificar o limite máximo do processo. Executar como "" ""não raiz?"" msgid ""WARNING: Unable to modify memory limit. Running as non-root?"" msgstr """" ""AVISO: Não é possível modificar o limite de memória. Executar como não raiz?"" ",133,2703
openstack%2Fswift~master~Idcc7cd7a41e225d1052c03ba846dff02851758f8,openstack/swift,master,Idcc7cd7a41e225d1052c03ba846dff02851758f8,Change getting major:minor of blkdev,MERGED,2023-06-27 08:07:34.000000000,2023-06-29 01:26:19.000000000,2023-06-29 01:25:16.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 08:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/62482514656893f84d5d4ce0b944434bb3fe4e13', 'message': 'Adjust column width\n\nChange-Id: Idcc7cd7a41e225d1052c03ba846dff02851758f8\n'}, {'number': 2, 'created': '2023-06-28 07:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/86dba5a047f04abdf61001f69f44afd8d2b4df01', 'message': ""Change getting major:minor of blkdev\n\nReplace method for determine major:minor of block device\nbecause stat can't detect major:minor in some cases.\n\nChange-Id: Idcc7cd7a41e225d1052c03ba846dff02851758f8\n""}, {'number': 3, 'created': '2023-06-28 07:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/969ceae7d64d69cd2ec131b67fcda14a39f590c2', 'message': ""Change getting major:minor of blkdev\n\nReplace method for determine major:minor of block device\nbecause stat can't detect major:minor in some cases.\n\nChange-Id: Idcc7cd7a41e225d1052c03ba846dff02851758f8\n""}, {'number': 4, 'created': '2023-06-28 08:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5e55364b7ea0c05891fe65bdfc9284da44126659', 'message': ""Change getting major:minor of blkdev\n\nReplace method for determine major:minor of block device\nbecause stat can't detect major:minor in some cases.\n\nChange-Id: Idcc7cd7a41e225d1052c03ba846dff02851758f8\n""}, {'number': 5, 'created': '2023-06-28 08:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/73a714d2ae5e907895b7ad12b355f68a7254526c', 'message': ""Change getting major:minor of blkdev\n\nReplace method for determine major:minor of block device\nbecause stat can't detect major:minor in some cases.\n\nChange-Id: Idcc7cd7a41e225d1052c03ba846dff02851758f8\n""}, {'number': 6, 'created': '2023-06-28 08:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/37dccc642f5cadd9780d73b9b148a4762220ac1c', 'message': ""Change getting major:minor of blkdev\n\nReplace method for determine major:minor of block device\nbecause stat can't detect major:minor in some cases.\n\nChange-Id: Idcc7cd7a41e225d1052c03ba846dff02851758f8\n""}, {'number': 7, 'created': '2023-06-28 08:35:25.000000000', 'files': ['bin/swift-drive-audit'], 'web_link': 'https://opendev.org/openstack/swift/commit/1c210d2e49f3d3dd5a44cba8f240e3315d4aa3fa', 'message': ""Change getting major:minor of blkdev\n\nReplace method for determine major:minor of block device\nbecause stat can't detect major:minor in some cases.\n\nChange-Id: Idcc7cd7a41e225d1052c03ba846dff02851758f8\n""}]",18,887021,1c210d2e49f3d3dd5a44cba8f240e3315d4aa3fa,26,2,7,36116,,,0,"Change getting major:minor of blkdev

Replace method for determine major:minor of block device
because stat can't detect major:minor in some cases.

Change-Id: Idcc7cd7a41e225d1052c03ba846dff02851758f8
",git fetch https://review.opendev.org/openstack/swift refs/changes/21/887021/5 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-drive-audit'],1,62482514656893f84d5d4ce0b944434bb3fe4e13,," # In this case, an error search in the Kernel logs must also # be carried out, and the device unmounted if necessary with os.scandir(""/dev/block"") as it: for ent in it: if ent.is_symlink(): dev_name = os.path.basename(os.readlink(ent.path)) if dev_name == os.path.basename(block_device): majmin = os.path.basename(ent.path).split(':') device['major'] = majmin[0] device['minor'] = majmin[1] devices.append(device) prev_ent_month = now_time.strftime('%b') log_time_ent = line.split()[:3] if log_time_ent[0] == 'Dec' and prev_ent_month == 'Jan': prev_ent_month = log_time_ent[0] log_time_string = '%d %s' % (year, ' '.join(log_time_ent))"," prev_entry_month = now_time.strftime('%b') log_time_entry = line.split()[:3] if log_time_entry[0] == 'Dec' and prev_entry_month == 'Jan': prev_entry_month = log_time_entry[0] log_time_string = '%d %s' % (year, ' '.join(log_time_entry))",16,5
openstack%2Fnova~master~Iddba10621389bb94a4fc3c2fe5da11835cc067ea,openstack/nova,master,Iddba10621389bb94a4fc3c2fe5da11835cc067ea,DNM: Test reimage-timeout change,NEW,2023-06-27 19:21:00.000000000,2023-06-28 23:57:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-27 19:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/23446b81d3427d933a734101cae1088f061ab24f', 'message': 'DNM: Test reimage-timeout change\n\nChange-Id: Iddba10621389bb94a4fc3c2fe5da11835cc067ea\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/887111\n'}, {'number': 2, 'created': '2023-06-28 21:13:59.000000000', 'files': ['nova/__init__.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c4afd47df70a419b581dbc839837a0c8a5acca13', 'message': 'DNM: Test reimage-timeout change\n\nChange-Id: Iddba10621389bb94a4fc3c2fe5da11835cc067ea\nDepends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/887111\n'}]",3,887112,c4afd47df70a419b581dbc839837a0c8a5acca13,12,1,2,4393,,,0,"DNM: Test reimage-timeout change

Change-Id: Iddba10621389bb94a4fc3c2fe5da11835cc067ea
Depends-On: https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/887111
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/887112/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/__init__.py'],1,23446b81d3427d933a734101cae1088f061ab24f,reimage-timeout,"# licensed under the Apache License, Version 2.0 (the ""License""); you may","# Licensed under the Apache License, Version 2.0 (the ""License""); you may",1,1
openstack%2Fopenstacksdk~master~I1c3f819a8f96d8de6f52a797fb46accf9e25d479,openstack/openstacksdk,master,I1c3f819a8f96d8de6f52a797fb46accf9e25d479,Fix broken python3.6 support,MERGED,2023-06-28 06:21:24.000000000,2023-06-28 22:43:08.000000000,2023-06-28 22:41:55.000000000,"[{'_account_id': 1004}, {'_account_id': 11975}, {'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 35264}]","[{'number': 1, 'created': '2023-06-28 06:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a2e17a7e3e5574c5c6aa1114c953a0712c6b42cf', 'message': 'Fix broken python3.6 support\n\nPropose to add error handling for import `__future__.annotations`.\n\nWe should drop this error handling when we dropped python3.6 or have\nbetter way to handle this case.\n\nChange-Id: I1c3f819a8f96d8de6f52a797fb46accf9e25d479\n'}, {'number': 2, 'created': '2023-06-28 07:54:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/10f6395ffb765401afe917099d2a83b2652f4f44', 'message': 'Fix broken python3.6 support\n\nPropose to add error handling for import `__future__.annotations`.\n\nWe should drop this error handling when we dropped python3.6 or have\nbetter way to handle this case.\n\nChange-Id: I1c3f819a8f96d8de6f52a797fb46accf9e25d479\n'}, {'number': 3, 'created': '2023-06-28 13:51:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e620afc4ae3ec848a5e803e8fb405bf455d22400', 'message': 'Fix broken python3.6 support\n\nThis propose to remove usage for annotations.\n\nWe should added it back when we dropped python3.6 or have\nbetter way to handle this case.\n\nChange-Id: I1c3f819a8f96d8de6f52a797fb46accf9e25d479\n'}, {'number': 4, 'created': '2023-06-28 13:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e4368bcce2d19b1d56c918ed4871876164876428', 'message': 'Fix broken python3.6 support\n\nThis propose to remove usage for annotations.\n\nWe should added it back when we dropped python3.6 or have\nbetter way to handle this case.\n\nChange-Id: I1c3f819a8f96d8de6f52a797fb46accf9e25d479\n'}, {'number': 5, 'created': '2023-06-28 14:19:40.000000000', 'files': ['openstack/utils.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2da00af16014e16d447e28940742e381a0c9c1a6', 'message': 'Fix broken python3.6 support\n\nThis propose to remove import for annotations.\n\nChange-Id: I1c3f819a8f96d8de6f52a797fb46accf9e25d479\n'}]",9,887137,2da00af16014e16d447e28940742e381a0c9c1a6,26,7,5,12404,,,0,"Fix broken python3.6 support

This propose to remove import for annotations.

Change-Id: I1c3f819a8f96d8de6f52a797fb46accf9e25d479
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/37/887137/5 && git format-patch -1 --stdout FETCH_HEAD,['openstack/utils.py'],1,a2e17a7e3e5574c5c6aa1114c953a0712c6b42cf,fix-python3.6,"# (ricolin) Currently we still support python3.6 which does not have # annotations in __future__ or any proper replacement. # Let's keep this error handling logic until we dropped python3.6 support. try: # `exec()` seems is the way to allow `__future__` lib stay in # this error handling logic. exec(""from __future__ import annotations"") # pylint: disable=W0122 except SyntaxError as e: import sys if sys.version_info[:2] == (3, 6): pass else: raise",from __future__ import annotations,13,1
openstack%2Fswift~master~I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6,openstack/swift,master,I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6,Support swift.proxy_logging_status in request env,NEW,2021-04-05 18:00:34.000000000,2023-06-28 22:42:39.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 18:00:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/261659aa85e8847251287a2dce8dd9fd31992230', 'message': 'log s3api rate-limit resp as 429\n\nChange-Id: I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6\n'}, {'number': 2, 'created': '2023-03-15 19:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/584926d0e924557ccb1d9164c62a51e9e20f9d81', 'message': 'Support swift.proxy_logging_status in request env\n\nWhen logging a request, if the request environ has a\nswift.proxy_logging_status item then use its value for the log\nmessage status int.\n\nThe swift.proxy_logging_status hint may be used by other middlewares\nwhen the desired logged status is different from the wire_status_int.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6\n'}, {'number': 3, 'created': '2023-03-15 19:38:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ac4b91b79766d5a9c3eef1331045e481aaf0d95b', 'message': 'Support swift.proxy_logging_status in request env\n\nWhen logging a request, if the request environ has a\nswift.proxy_logging_status item then use its value for the log\nmessage status int.\n\nThe swift.proxy_logging_status hint may be used by other middlewares\nwhen the desired logged status is different from the wire_status_int.\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6\n'}, {'number': 4, 'created': '2023-05-11 17:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/795193f406050f4f188ebae4546e2d58af2ab3c1', 'message': 'Support swift.proxy_logging_status in request env\n\nWhen logging a request, if the request environ has a\nswift.proxy_logging_status item then use its value for the log\nmessage status int.\n\nThe swift.proxy_logging_status hint may be used by other middlewares\nwhen the desired logged status is different from the wire_status_int.\n\nIf the proxy_logging middleware detects a client disconnect then any\nswift.proxy_logging_status item is ignored and a 499 status int is\nlogged, as per current behaviour. i.e.:\n\n  * client disconnect overrides swift.proxy_logging_status and the\n    response status\n  * swift.proxy_logging_status overrides the response status\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6\n'}, {'number': 5, 'created': '2023-05-17 16:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7b46fe05d8e42a5c8ad477c809ba3e488a368ff9', 'message': 'Support swift.proxy_logging_status in request env\n\nWhen logging a request, if the request environ has a\nswift.proxy_logging_status item then use its value for the log\nmessage status int.\n\nThe swift.proxy_logging_status hint may be used by other middlewares\nwhen the desired logged status is different from the wire_status_int.\n\nIf the proxy_logging middleware detects a client disconnect then any\nswift.proxy_logging_status item is ignored and a 499 status int is\nlogged, as per current behaviour. i.e.:\n\n  * client disconnect overrides swift.proxy_logging_status and the\n    response status\n  * swift.proxy_logging_status overrides the response status\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6\n'}, {'number': 6, 'created': '2023-06-28 12:35:02.000000000', 'files': ['doc/source/development_middleware.rst', 'swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/utils/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2dc7047bbdde8402ca014627101b5da62dd0d0b9', 'message': 'Support swift.proxy_logging_status in request env\n\nWhen logging a request, if the request environ has a\nswift.proxy_logging_status item then use its value for the log\nmessage status int.\n\nThe swift.proxy_logging_status hint may be used by other middlewares\nwhen the desired logged status is different from the wire_status_int.\n\nIf the proxy_logging middleware detects a client disconnect then any\nswift.proxy_logging_status item is ignored and a 499 status int is\nlogged, as per current behaviour. i.e.:\n\n  * client disconnect overrides swift.proxy_logging_status and the\n    response status\n  * swift.proxy_logging_status overrides the response status\n\nCo-Authored-By: Alistair Coles <alistairncoles@gmail.com>\nChange-Id: I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6\n'}]",15,784808,2dc7047bbdde8402ca014627101b5da62dd0d0b9,32,2,6,1179,,,0,"Support swift.proxy_logging_status in request env

When logging a request, if the request environ has a
swift.proxy_logging_status item then use its value for the log
message status int.

The swift.proxy_logging_status hint may be used by other middlewares
when the desired logged status is different from the wire_status_int.

If the proxy_logging middleware detects a client disconnect then any
swift.proxy_logging_status item is ignored and a 499 status int is
logged, as per current behaviour. i.e.:

  * client disconnect overrides swift.proxy_logging_status and the
    response status
  * swift.proxy_logging_status overrides the response status

Co-Authored-By: Alistair Coles <alistairncoles@gmail.com>
Change-Id: I9b5cc6d5fb69a2957b8c4846ce1feed8c115e6b6
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/784808/6 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'test/unit/common/middleware/s3api/test_obj.py', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/middleware/s3api/s3request.py']",5,261659aa85e8847251287a2dce8dd9fd31992230,s3api-429, self.environ['swift.proxy_logging_status'] = 429,,44,3
openstack%2Fkeystone~master~I1218e017f599f710c423db7fb8daa3f9da8391f0,openstack/keystone,master,I1218e017f599f710c423db7fb8daa3f9da8391f0,Add enforce_scope option to devstack,NEW,2023-06-28 19:52:27.000000000,2023-06-28 21:29:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-28 19:52:27.000000000', 'files': ['devstack/lib/scope.sh'], 'web_link': 'https://opendev.org/openstack/keystone/commit/2e08f9302a29bec987abc3432bd628f3eddfa7c0', 'message': 'Add enforce_scope option to devstack\n\nNeeded-By: I16786ad5b1cf596124fc623db2d9e05fa8a13535\nChange-Id: I1218e017f599f710c423db7fb8daa3f9da8391f0\n'}]",0,887224,2e08f9302a29bec987abc3432bd628f3eddfa7c0,3,1,1,7973,,,0,"Add enforce_scope option to devstack

Needed-By: I16786ad5b1cf596124fc623db2d9e05fa8a13535
Change-Id: I1218e017f599f710c423db7fb8daa3f9da8391f0
",git fetch https://review.opendev.org/openstack/keystone refs/changes/24/887224/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/scope.sh'],1,2e08f9302a29bec987abc3432bd628f3eddfa7c0,, iniset $TEMPEST_CONFIG identity-feature-enabled secure_rbac true,,1,0
openstack%2Fmanila~master~I589c218f2c1072e17e76a6a8d8d81541d5072ad1,openstack/manila,master,I589c218f2c1072e17e76a6a8d8d81541d5072ad1,Add exception for insufficient privilege when using security services to NetApp drive,NEW,2023-04-27 18:34:09.000000000,2023-06-28 21:09:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 35677}]","[{'number': 1, 'created': '2023-04-27 18:34:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f272c17510ec3288fbdc1c7a845907d2a180833c', 'message': 'Add exception for insufficient privilege when using security services to NetApp drive\n\nWhen trying create a share using CIFS protocol, active directory\nsecurity service and added this to the share network while provides\ncredentions with insufficitent privilleges or wrong credentials,\nNetApp drive doesn\'t raise the ""SecurityServiceFailedAuth"" error.\nAdded an exception for when this happens.\n\nCloses-Bug: #1900755\nChange-Id: I589c218f2c1072e17e76a6a8d8d81541d5072ad1\n'}, {'number': 2, 'created': '2023-04-28 12:58:52.000000000', 'files': ['manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode_rest.py', 'releasenotes/notes/bug-1900755-slug-goes-here-aaaa4391861fbefb.yaml', 'manila/share/drivers/netapp/dataontap/client/client_cmode_rest.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/7889f4147a8208b92b7cac8bd44cab992ab8d87b', 'message': 'Add exception for insufficient privilege when using security services to NetApp drive\n\nWhen trying create a share using CIFS protocol, active directory\nsecurity service and added this to the share network while provides\ncredentions with insufficitent privilleges or wrong credentials,\nNetApp drive doesn\'t raise the ""SecurityServiceFailedAuth"" error.\nAdded an exception for when this happens.\n\nCloses-Bug: #1900755\nChange-Id: I589c218f2c1072e17e76a6a8d8d81541d5072ad1\n'}]",3,881770,7889f4147a8208b92b7cac8bd44cab992ab8d87b,15,2,2,35049,,,0,"Add exception for insufficient privilege when using security services to NetApp drive

When trying create a share using CIFS protocol, active directory
security service and added this to the share network while provides
credentions with insufficitent privilleges or wrong credentials,
NetApp drive doesn't raise the ""SecurityServiceFailedAuth"" error.
Added an exception for when this happens.

Closes-Bug: #1900755
Change-Id: I589c218f2c1072e17e76a6a8d8d81541d5072ad1
",git fetch https://review.opendev.org/openstack/manila refs/changes/70/881770/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode_rest.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode_rest.py', 'manila/tests/share/drivers/netapp/dataontap/client/test_client_cmode.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",4,f272c17510ec3288fbdc1c7a845907d2a180833c,bug/1900755," credential_msg = ""FAILURE: Could not authenticate as"" if (e.code == netapp_api.EAPIERROR and credential_msg in e.message): auth_msg = _(""Failed to create CIFS server entry."" ""Please double check you user settings. %s"") raise exception.SecurityServiceFailedAuth(auth_msg % e.message)",,42,0
openstack%2Fkeystone-tempest-plugin~master~I16786ad5b1cf596124fc623db2d9e05fa8a13535,openstack/keystone-tempest-plugin,master,I16786ad5b1cf596124fc623db2d9e05fa8a13535,Refactor RBAC tests,NEW,2023-06-09 20:00:43.000000000,2023-06-28 20:58:48.000000000,,"[{'_account_id': 7414}, {'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 34637}]","[{'number': 1, 'created': '2023-06-09 20:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/528be18648970b9cb90a3c0b5d5b48a42285666b', 'message': 'Refactor RBAC tests\n\nThis patch adds a secure_rbac option to tempest.conf to enable RBAC\ntests when the deployment has Secure RBAC turned on, but enforce_scope\nis turned off i.e. when the deployment is done using TripleO and the\nenable-secure-rbac.yaml environment.\n\nCo-Authored-By: Dave Wilde <dwilde@redhat.com>\nChange-Id: I16786ad5b1cf596124fc623db2d9e05fa8a13535\n'}, {'number': 2, 'created': '2023-06-27 20:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/30da42498504a4e65278f22087a2a765446c139c', 'message': 'Refactor RBAC tests\n\nThis patch adds a secure_rbac option to tempest.conf to enable RBAC\ntests when the deployment has Secure RBAC turned on, but enforce_scope\nis turned off i.e. when the deployment is done using TripleO and the\nenable-secure-rbac.yaml environment.\n\nCo-Authored-By: Dave Wilde <dwilde@redhat.com>\nChange-Id: I16786ad5b1cf596124fc623db2d9e05fa8a13535\n'}, {'number': 3, 'created': '2023-06-28 19:53:09.000000000', 'files': ['keystone_tempest_plugin/tests/rbac/v3/test_consumer.py', 'keystone_tempest_plugin/config.py', 'keystone_tempest_plugin/tests/rbac/v3/test_application_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_access_rule.py', 'keystone_tempest_plugin/tests/rbac/v3/test_domain_config.py', 'keystone_tempest_plugin/tests/rbac/v3/test_endpoint_group.py', 'keystone_tempest_plugin/tests/rbac/v3/test_endpoint.py', 'keystone_tempest_plugin/tests/rbac/v3/test_domain.py', 'keystone_tempest_plugin/tests/rbac/v3/test_ec2_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/base.py'], 'web_link': 'https://opendev.org/openstack/keystone-tempest-plugin/commit/1e438452052a5f5cea81fe172f4365feb94449ad', 'message': 'Refactor RBAC tests\n\nThis patch adds a secure_rbac option to tempest.conf to enable RBAC\ntests when the deployment has Secure RBAC turned on, but enforce_scope\nis turned off i.e. when the deployment is done using TripleO and the\nenable-secure-rbac.yaml environment.\n\nCo-Authored-By: Dave Wilde <dwilde@redhat.com>\nDepends-On: I1218e017f599f710c423db7fb8daa3f9da8391f0\nChange-Id: I16786ad5b1cf596124fc623db2d9e05fa8a13535\n'}]",31,885799,1e438452052a5f5cea81fe172f4365feb94449ad,12,4,3,7414,,,0,"Refactor RBAC tests

This patch adds a secure_rbac option to tempest.conf to enable RBAC
tests when the deployment has Secure RBAC turned on, but enforce_scope
is turned off i.e. when the deployment is done using TripleO and the
enable-secure-rbac.yaml environment.

Co-Authored-By: Dave Wilde <dwilde@redhat.com>
Depends-On: I1218e017f599f710c423db7fb8daa3f9da8391f0
Change-Id: I16786ad5b1cf596124fc623db2d9e05fa8a13535
",git fetch https://review.opendev.org/openstack/keystone-tempest-plugin refs/changes/99/885799/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone_tempest_plugin/tests/rbac/v3/test_consumer.py', 'keystone_tempest_plugin/config.py', 'keystone_tempest_plugin/tests/rbac/v3/test_application_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/test_access_rule.py', 'keystone_tempest_plugin/tests/rbac/v3/test_domain_config.py', 'keystone_tempest_plugin/tests/rbac/v3/test_endpoint_group.py', 'keystone_tempest_plugin/tests/rbac/v3/test_endpoint.py', 'keystone_tempest_plugin/tests/rbac/v3/test_domain.py', 'keystone_tempest_plugin/tests/rbac/v3/test_ec2_credential.py', 'keystone_tempest_plugin/tests/rbac/v3/base.py']",11,528be18648970b9cb90a3c0b5d5b48a42285666b,," if not CONF.identity_feature_enabled.secure_rbac: raise cls.skipException(""secure_rbac is not enabled for "" class EnforceScopeMixin: @classmethod def skip_checks(cls): super().skip_checks() if not CONF.identity_feature_enabled.enforce_scope: msg = (""enforce_scope is not enabled for keystone, skipping "" ""{} tests"").format(cls.__name__) raise cls.skipException(msg)"," if not CONF.identity_feature_enabled.enforce_scope: raise cls.skipException(""enforce_scope is not enabled for """,657,145
openstack%2Fglance~master~Iec398ead178a60a318e6eb8d1487b74720eac72e,openstack/glance,master,Iec398ead178a60a318e6eb8d1487b74720eac72e,Bump eventlet to a version that fixes #632[1],MERGED,2023-05-10 15:38:54.000000000,2023-06-28 20:14:41.000000000,2023-06-28 20:13:27.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-10 15:38:54.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/bdb8b51539b8f84b709df324938bb10f0295e29f', 'message': 'Bump eventlet to a version that fixes #632[1]\n\nCloses-Bug: #1889664\n\n[1] https://github.com/eventlet/eventlet/issues/632\n\nChange-Id: Iec398ead178a60a318e6eb8d1487b74720eac72e\n'}]",2,882873,bdb8b51539b8f84b709df324938bb10f0295e29f,10,4,1,8122,,,0,"Bump eventlet to a version that fixes #632[1]

Closes-Bug: #1889664

[1] https://github.com/eventlet/eventlet/issues/632

Change-Id: Iec398ead178a60a318e6eb8d1487b74720eac72e
",git fetch https://review.opendev.org/openstack/glance refs/changes/73/882873/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,bdb8b51539b8f84b709df324938bb10f0295e29f,bug/1889664,eventlet>=0.33.3 # MIT,eventlet>=0.25.1 # MIT,1,1
openstack%2Fpuppet-openstack-integration~master~I2f1924be4954e3b22fc83cbffa7b29f38c4ba87f,openstack/puppet-openstack-integration,master,I2f1924be4954e3b22fc83cbffa7b29f38c4ba87f,Updated from Puppet OpenStack modules constraints,MERGED,2023-06-20 02:07:16.000000000,2023-06-28 20:11:17.000000000,2023-06-28 20:11:17.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-20 02:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/0ca744c54d2db8d65e0b07cc5fe1bad6c015582c', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I2f1924be4954e3b22fc83cbffa7b29f38c4ba87f\n'}, {'number': 2, 'created': '2023-06-21 02:22:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/3cd155d48ec1589c2666081aa9598ba885d545c8', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I2f1924be4954e3b22fc83cbffa7b29f38c4ba87f\n'}, {'number': 3, 'created': '2023-06-23 02:10:13.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/fe074fe2e576bbc0dc0dc3e9de30b7828fdbe049', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: I2f1924be4954e3b22fc83cbffa7b29f38c4ba87f\n'}]",3,886438,fe074fe2e576bbc0dc0dc3e9de30b7828fdbe049,18,3,3,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: I2f1924be4954e3b22fc83cbffa7b29f38c4ba87f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/38/886438/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,0ca744c54d2db8d65e0b07cc5fe1bad6c015582c,openstack/puppet/constraints, :ref => 'v15.0.0', :ref => 'v14.0.0',1,1
openstack%2Fproject-config~master~I4e317919292d7481b2ffd15b68473fff5b4b9aaf,openstack/project-config,master,I4e317919292d7481b2ffd15b68473fff5b4b9aaf,Fix release-id fetching for release job,MERGED,2023-06-28 18:49:17.000000000,2023-06-28 19:56:15.000000000,2023-06-28 19:56:15.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 18:49:17.000000000', 'files': ['roles/copy-release-tools-scripts/files/release-tools/process_release_requests.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5ded5656e8033311003a074a88fe411fbb0200f7', 'message': 'Fix release-id fetching for release job\n\nWith a recent patch a new release job error came up [1]:\nwhen fetching the release-id from the series_status.yaml the yaml\nparser resolves the new names (eg: 2023.1) as float, so we have to\nconvert it to string to be able to concatenate it to \'stable/\' string.\n\n[1]\nFile ""/home/zuul/scripts/release-tools/process_release_requests.py"", line 116, in get_branch\nbranch = ""stable/"" + series.get(""release-id"", series_name)\nTypeError: can only concatenate str (not ""float"") to str\n\nChange-Id: I4e317919292d7481b2ffd15b68473fff5b4b9aaf\n'}]",1,887222,5ded5656e8033311003a074a88fe411fbb0200f7,7,2,1,17685,,,0,"Fix release-id fetching for release job

With a recent patch a new release job error came up [1]:
when fetching the release-id from the series_status.yaml the yaml
parser resolves the new names (eg: 2023.1) as float, so we have to
convert it to string to be able to concatenate it to 'stable/' string.

[1]
File ""/home/zuul/scripts/release-tools/process_release_requests.py"", line 116, in get_branch
branch = ""stable/"" + series.get(""release-id"", series_name)
TypeError: can only concatenate str (not ""float"") to str

Change-Id: I4e317919292d7481b2ffd15b68473fff5b4b9aaf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/22/887222/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/copy-release-tools-scripts/files/release-tools/process_release_requests.py'],1,5ded5656e8033311003a074a88fe411fbb0200f7,release-id-as-branch-name," branch = ""stable/"" + str(series.get(""release-id"", series_name))"," branch = ""stable/"" + series.get(""release-id"", series_name)",1,1
openstack%2Ftripleo-upgrade~stable%2Fwallaby~I7295cd791634e0b4767e1e04572ead457dd3a8e3,openstack/tripleo-upgrade,stable/wallaby,I7295cd791634e0b4767e1e04572ead457dd3a8e3,Add tripleo-upgrades-wallaby-pipeline to tripleo-upgrade repo,MERGED,2023-05-19 12:05:53.000000000,2023-06-28 19:23:21.000000000,2023-06-28 16:47:28.000000000,"[{'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 31245}, {'_account_id': 32432}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-05-19 12:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ff1674d89c2096b74d6198cc84f89e7cdf5777b4', 'message': 'Add minor update job to tripleo-upgrade repo\n\nAdd minor update job to tripleo-upgrade for wallaby branch. Also enable\ncontainer update check if run in tripleo-ci to check if minor update is\nfully run.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/873125\nChange-Id: I7295cd791634e0b4767e1e04572ead457dd3a8e3\n'}, {'number': 2, 'created': '2023-05-25 18:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/a63cb6675603d09572e818efb4c4e531ea60f00e', 'message': 'Add minor update job to tripleo-upgrade repo\n\nAdd minor update job to tripleo-upgrade for wallaby branch.\n\nAlso enable container update check for multinode-oooq-container-updates\njobs, but disable check for mixed os update jobs. In mixed os jobs only\novercloud is updated and container test fails.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/873125\nChange-Id: I7295cd791634e0b4767e1e04572ead457dd3a8e3\n'}, {'number': 3, 'created': '2023-05-29 10:55:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b003990adce357453bf6028778d34d007b63993f', 'message': 'Add minor update job to tripleo-upgrade repo\n\nAdd minor update job to tripleo-upgrade for wallaby branch.\n\nAlso enable container update check for multinode-oooq-container-updates\njobs, but disable check for mixed os update jobs. In mixed os jobs only\novercloud is updated and container test always fails.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/873125\nChange-Id: I7295cd791634e0b4767e1e04572ead457dd3a8e3\n'}, {'number': 4, 'created': '2023-06-02 14:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7f598d79968363a10911a7f522ed5e47e8f6d06b', 'message': 'Add tripleo-upgrades-wallaby-pipeline to tripleo-upgrade repo\n\nAdd tripleo-upgrades-wallaby-pipeline to tripleo-upgrade for wallaby branch.\n\nAlso enable container update check for multinode-oooq-container-updates\njobs, but disable check for mixed os update jobs. In mixed os jobs only\novercloud is updated and container test always fails.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/873125\nChange-Id: I7295cd791634e0b4767e1e04572ead457dd3a8e3\n'}, {'number': 5, 'created': '2023-06-02 14:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7859eca3f7e8273791fd9386b2d426d8f4050f1d', 'message': 'Add tripleo-upgrades-wallaby-pipeline to tripleo-upgrade repo\n\nAdd tripleo-upgrades-wallaby-pipeline to tripleo-upgrade for wallaby branch.\n\nAlso enable container update check for multinode-oooq-container-updates\njobs, but disable check for mixed os update jobs. In mixed os jobs only\novercloud is updated and container test always fails.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/873125\nChange-Id: I7295cd791634e0b4767e1e04572ead457dd3a8e3\n'}, {'number': 6, 'created': '2023-06-02 14:26:16.000000000', 'files': ['templates/collect_logs.yaml.j2', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b44ffbedc4b9d1d3ad015b100332d1dc2d01bdda', 'message': 'Add tripleo-upgrades-wallaby-pipeline to tripleo-upgrade repo\n\nAdd tripleo-upgrades-wallaby-pipeline to tripleo-upgrade for wallaby branch.\n\nAlso enable container update check for multinode-oooq-container-updates\njobs, but disable check for mixed os update jobs. In mixed os jobs only\novercloud is updated and container test always fails.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/873125\nChange-Id: I7295cd791634e0b4767e1e04572ead457dd3a8e3\n'}]",25,883656,b44ffbedc4b9d1d3ad015b100332d1dc2d01bdda,63,10,6,33080,,,0,"Add tripleo-upgrades-wallaby-pipeline to tripleo-upgrade repo

Add tripleo-upgrades-wallaby-pipeline to tripleo-upgrade for wallaby branch.

Also enable container update check for multinode-oooq-container-updates
jobs, but disable check for mixed os update jobs. In mixed os jobs only
overcloud is updated and container test always fails.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/873125
Change-Id: I7295cd791634e0b4767e1e04572ead457dd3a8e3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/56/883656/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/collect_logs.yaml.j2', 'zuul.d/layout.yaml']",2,ff1674d89c2096b74d6198cc84f89e7cdf5777b4,minor-update-job, - tripleo-ci-centos-9-content-provider-current: *content_provider_deps - tripleo-ci-centos-9-content-provider-current - tripleo-ci-centos-9-content-provider-current: *content_provider_deps - tripleo-ci-centos-9-content-provider-current,,4,1
openstack%2Fkeystonemiddleware~master~I615be3453db37588edf98a46ce484efc5e051f11,openstack/keystonemiddleware,master,I615be3453db37588edf98a46ce484efc5e051f11,Bump hacking to 6.0.x,MERGED,2023-06-27 17:03:42.000000000,2023-06-28 19:15:27.000000000,2023-06-28 19:14:21.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 17:03:42.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'keystonemiddleware/tests/unit/audit/test_audit_oslo_messaging.py', 'keystonemiddleware/audit/_api.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/0f48ff3e8d3c7d3311a58442b8cf71d6e3658620', 'message': 'Bump hacking to 6.0.x\n\nA note about dependency ordering is removed from the requirements file:\nthis is no longer true with the dependency resolver introduced with pip\n20.3.\n\nChange-Id: I615be3453db37588edf98a46ce484efc5e051f11\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,887087,0f48ff3e8d3c7d3311a58442b8cf71d6e3658620,12,3,1,15334,,,0,"Bump hacking to 6.0.x

A note about dependency ordering is removed from the requirements file:
this is no longer true with the dependency resolver introduced with pip
20.3.

Change-Id: I615be3453db37588edf98a46ce484efc5e051f11
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/87/887087/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'test-requirements.txt', 'keystonemiddleware/tests/unit/audit/test_audit_oslo_messaging.py', 'keystonemiddleware/audit/_api.py']",4,0f48ff3e8d3c7d3311a58442b8cf71d6e3658620,tox-4, with open(cfg_file) as fh: map_conf.read_file(fh), map_conf.read_file(open(cfg_file)),6,16
openstack%2Fironic~master~Id7b1e2e9ca97aeff786e9df06f35eca67dd36b58,openstack/ironic,master,Id7b1e2e9ca97aeff786e9df06f35eca67dd36b58,CI: Fix PXE Ananconda cleanup test,MERGED,2023-06-28 16:39:12.000000000,2023-06-28 18:55:02.000000000,2023-06-28 18:53:29.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 16:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ce242155aa496725ccea06258d3fc2ef81aa48d9', 'message': ""CI: Fix PXE Ananconda cleanup test\n\nThe PXE Annaconda dhcp cleanup test triggers the dhcp_factory clean\nup code by default. Which is good! Problem is, if you don't have\ndnsmasq installed, things blow up.\n\nSpecifically becuase it was called in such a way where it was\ntrying to clean up dhcp records for nodes. Example:\n\nironic.common.exception.InstanceDeployFailure: An error occurred\n    after deployment, while preparing to reboot the node\n    1be26c0b-03f2-4d2e-ae87-c02d7f33c123: [Errno 2] No such file\n    or directory:\n    '/etc/dnsmasq.d/hostsdir.d/ironic-52:54:00:cf:2d:31.conf'\n\nInstead of executing that far, we just now check that we did, indeed\ncall for dhcp cleanup.\n\nThis was discovered while trying to fix unit test race conditions\nand random failures in CI.\n\nChange-Id: Id7b1e2e9ca97aeff786e9df06f35eca67dd36b58\n""}, {'number': 2, 'created': '2023-06-28 17:57:57.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_pxe.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c392814ca8efd735d716bb900f77ec91896eccc5', 'message': ""CI: Fix PXE Ananconda cleanup test\n\nThe PXE Annaconda dhcp cleanup test triggers the dhcp_factory clean\nup code by default. Which is good! Problem is, if you don't have\ndnsmasq installed, things blow up.\n\nSpecifically becuase it was called in such a way where it was\ntrying to clean up dhcp records for nodes. Example:\n\nironic.common.exception.InstanceDeployFailure: An error occurred\n    after deployment, while preparing to reboot the node\n    1be26c0b-03f2-4d2e-ae87-c02d7f33c123: [Errno 2] No such file\n    or directory:\n    '/etc/dnsmasq.d/hostsdir.d/ironic-52:54:00:cf:2d:31.conf'\n\nInstead of executing that far, we just now check that we did, indeed\ncall for dhcp cleanup.\n\nThis was discovered while trying to fix unit test race conditions\nand random failures in CI.\n\nChange-Id: Id7b1e2e9ca97aeff786e9df06f35eca67dd36b58\n""}]",2,887198,c392814ca8efd735d716bb900f77ec91896eccc5,15,2,2,11655,,,0,"CI: Fix PXE Ananconda cleanup test

The PXE Annaconda dhcp cleanup test triggers the dhcp_factory clean
up code by default. Which is good! Problem is, if you don't have
dnsmasq installed, things blow up.

Specifically becuase it was called in such a way where it was
trying to clean up dhcp records for nodes. Example:

ironic.common.exception.InstanceDeployFailure: An error occurred
    after deployment, while preparing to reboot the node
    1be26c0b-03f2-4d2e-ae87-c02d7f33c123: [Errno 2] No such file
    or directory:
    '/etc/dnsmasq.d/hostsdir.d/ironic-52:54:00:cf:2d:31.conf'

Instead of executing that far, we just now check that we did, indeed
call for dhcp cleanup.

This was discovered while trying to fix unit test race conditions
and random failures in CI.

Change-Id: Id7b1e2e9ca97aeff786e9df06f35eca67dd36b58
",git fetch https://review.opendev.org/openstack/ironic refs/changes/98/887198/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/test_pxe.py'],1,ce242155aa496725ccea06258d3fc2ef81aa48d9,," @mock.patch.object(dhcp_factory.DHCPFactory, 'clean_dhcp', autospec=True) mock_cleanup_pxe_env, mock_conf_sec_boot, mock_dhcp): mock_dhcp.assert_has_calls([ mock.call(mock.ANY, task)])"," mock_cleanup_pxe_env, mock_conf_sec_boot):",5,1
openstack%2Fpuppet-keystone~master~I093553dff189969eed9120d0475e7c636ca161fe,openstack/puppet-keystone,master,I093553dff189969eed9120d0475e7c636ca161fe,Validate inputs of boostrap class,MERGED,2023-06-23 03:48:48.000000000,2023-06-28 18:41:08.000000000,2023-06-28 18:41:08.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-23 03:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e804d083f3daae3af506a4f7ce17f0ff2e06ec69', 'message': 'Validate inputs of boostrap class\n\nThis ensures only valid string values are passed to the boostrap class,\nusing the typed parameters we recently introduced to our modules.\n\nChange-Id: I093553dff189969eed9120d0475e7c636ca161fe\n'}, {'number': 2, 'created': '2023-06-26 00:45:40.000000000', 'files': ['manifests/bootstrap.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/aa10bf756a3e3b1a79683810c6669849ca717692', 'message': 'Validate inputs of boostrap class\n\nThis ensures only valid string values are passed to the boostrap class,\nusing the typed parameters we recently introduced to our modules.\n\nChange-Id: I093553dff189969eed9120d0475e7c636ca161fe\n'}]",1,886800,aa10bf756a3e3b1a79683810c6669849ca717692,13,4,2,9816,,,0,"Validate inputs of boostrap class

This ensures only valid string values are passed to the boostrap class,
using the typed parameters we recently introduced to our modules.

Change-Id: I093553dff189969eed9120d0475e7c636ca161fe
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/00/886800/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/bootstrap.pp'],1,e804d083f3daae3af506a4f7ce17f0ff2e06ec69,," String[1] $password, String[1] $username = 'admin', String[1] $email = 'admin@localhost', String[1] $project_name = 'admin', String[1] $service_project_name = 'services', String[1] $role_name = 'admin', String[1] $service_name = 'keystone', Stdlib::HTTPUrl $admin_url = 'http://127.0.0.1:5000', Stdlib::HTTPUrl $public_url = 'http://127.0.0.1:5000', Optional[Stdlib::HTTPUrl] $internal_url = undef, String[1] $region = 'RegionOne', String[1] $interface = 'public', Boolean $bootstrap = true,"," $password, $username = 'admin', $email = 'admin@localhost', $project_name = 'admin', $service_project_name = 'services', $role_name = 'admin', $service_name = 'keystone', $admin_url = 'http://127.0.0.1:5000', $public_url = 'http://127.0.0.1:5000', $internal_url = undef, $region = 'RegionOne', $interface = 'public', Boolean $bootstrap = true,",13,13
openstack%2Fkolla~master~I2ebc8b0e35c67bf893deb89ea7fa0146dedd4640,openstack/kolla,master,I2ebc8b0e35c67bf893deb89ea7fa0146dedd4640,build: distutils.StrictVersion() is deprecated,NEW,2023-06-22 11:40:38.000000000,2023-06-28 18:27:20.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-22 11:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b4595156d4f19f0a67dab9bfee65526f2cc89371', 'message': 'build: distutils.StrictVersion() is deprecated\n\nkolla/tests/test_build.py::MainTest::test_run_build                                                                                                                                 [65/1834]\n  /home/marcin/devel/linaro/kolla/kolla/kolla/image/build.py:117: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.\n    StrictVersion(docker.__version__)\n\nChange-Id: I2ebc8b0e35c67bf893deb89ea7fa0146dedd4640\n'}, {'number': 2, 'created': '2023-06-28 16:40:40.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/bfb0777f612056204bca77cfa55525dd2be4d5cf', 'message': 'build: distutils.StrictVersion() is deprecated\n\nkolla/tests/test_build.py::MainTest::test_run_build                                                                                                                                 [65/1834]\n  /home/marcin/devel/linaro/kolla/kolla/kolla/image/build.py:117: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.\n    StrictVersion(docker.__version__)\n\nChange-Id: I2ebc8b0e35c67bf893deb89ea7fa0146dedd4640\n'}]",0,886741,bfb0777f612056204bca77cfa55525dd2be4d5cf,6,1,2,24072,,,0,"build: distutils.StrictVersion() is deprecated

kolla/tests/test_build.py::MainTest::test_run_build                                                                                                                                 [65/1834]
  /home/marcin/devel/linaro/kolla/kolla/kolla/image/build.py:117: DeprecationWarning: distutils Version classes are deprecated. Use packaging.version instead.
    StrictVersion(docker.__version__)

Change-Id: I2ebc8b0e35c67bf893deb89ea7fa0146dedd4640
",git fetch https://review.opendev.org/openstack/kolla refs/changes/41/886741/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,b4595156d4f19f0a67dab9bfee65526f2cc89371,,import packaging packaging.version(docker.__version__),from distutils.version import StrictVersion StrictVersion(docker.__version__),2,2
openstack%2Ftripleo-upgrade~stable%2Ftrain~I5b1384156e87e5c171f441e2ce357d59c23af249,openstack/tripleo-upgrade,stable/train,I5b1384156e87e5c171f441e2ce357d59c23af249,[DNM] Just testing if train container-update-job not impacted by change in quickstart,ABANDONED,2023-05-26 14:06:30.000000000,2023-06-28 18:08:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-26 14:06:30.000000000', 'files': ['tasks/update/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f61e62e050d4d014682d4c56b2f3b19ff96acf2c', 'message': '[DNM] Just testing if train container-update-job not impacted by change in quickstart\n\nTesting container-update job for train branch\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/873125\nChange-Id: I5b1384156e87e5c171f441e2ce357d59c23af249\n'}]",6,884506,f61e62e050d4d014682d4c56b2f3b19ff96acf2c,15,1,1,33080,,,0,"[DNM] Just testing if train container-update-job not impacted by change in quickstart

Testing container-update job for train branch

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/873125
Change-Id: I5b1384156e87e5c171f441e2ce357d59c23af249
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/06/884506/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/update/main.yml'],1,f61e62e050d4d014682d4c56b2f3b19ff96acf2c,minor-update-job, - name: run pre-update-run validations, - name: run pre-update-run validation,1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1e30b3c00a56cc244ee1c5730ba22e1e33788bca,openstack/tripleo-heat-templates,stable/wallaby,I1e30b3c00a56cc244ee1c5730ba22e1e33788bca,[ffwd3] Ability to run scripts before reboot,MERGED,2023-05-08 08:20:50.000000000,2023-06-28 17:45:24.000000000,2023-06-28 17:44:25.000000000,"[{'_account_id': 4571}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2023-05-08 08:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab2722e38589f2738d4446ce251a8218dfc7a64b', 'message': 'WIP - Fix Console issue on baremetal\n\nCo-Author: Lukas Bezdick <social@v3.sk>\n\nChange-Id: I1e30b3c00a56cc244ee1c5730ba22e1e33788bca\n'}, {'number': 2, 'created': '2023-06-08 08:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/424693cd0d49357db3480484877da03d47593bb8', 'message': '[ffwd3] Ability to run scripts before reboot\n\nIn some cases depending on the environments we need to run\nworkarounds right before rebooting into Leapp Upgrade. We\nnow provide LeappPreRebootCommand which can be fed shell\nscript do do so.\n\nExample on machine with nonworking console params user can\nset in system_upgrade.yaml:\nparameter_defaults:\n  LeappPreRebootCommand:\n    grubby --update-kernel=ALL --remove-args=console=ttyS0,115200n81\n    grubby --update-kernel=ALL --remove-args=console=ttyS0\n\nResolves: rhbz#2196288\nChange-Id: I1e30b3c00a56cc244ee1c5730ba22e1e33788bca\n'}, {'number': 3, 'created': '2023-06-11 22:30:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/60389dd84b7a0722ba08265bb8a0a525a08c4710', 'message': '[ffwd3] Ability to run scripts before reboot\n\nIn some cases depending on the environments we need to run\nworkarounds right before rebooting into Leapp Upgrade. We\nnow provide LeappPreRebootCommand which can be fed shell\nscript do do so.\n\nExample on machine with nonworking console params user can\nset in system_upgrade.yaml:\nparameter_defaults:\n  LeappPreRebootCommand:\n    grubby --update-kernel=ALL --remove-args=console=ttyS0,115200n81\n    grubby --update-kernel=ALL --remove-args=console=ttyS0\n\nResolves: rhbz#2196288\nChange-Id: I1e30b3c00a56cc244ee1c5730ba22e1e33788bca\n'}, {'number': 4, 'created': '2023-06-14 14:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/302f463a66d288355a7020f3a29b78c1d37391e8', 'message': '[ffwd3] Ability to run scripts before reboot\n\nIn some cases depending on the environments we need to run\nworkarounds right before rebooting into Leapp Upgrade. We\nnow provide LeappPreRebootCommand which can be fed shell\nscript do do so.\n\nExample on machine with nonworking console params user can\nset in system_upgrade.yaml:\nparameter_defaults:\n  LeappPreRebootCommand:\n    grubby --update-kernel=ALL --remove-args=console=ttyS0,115200n81\n    grubby --update-kernel=ALL --remove-args=console=ttyS0\n\nResolves: rhbz#2196288\nChange-Id: I1e30b3c00a56cc244ee1c5730ba22e1e33788bca\n'}, {'number': 5, 'created': '2023-06-20 13:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b11e6ad7b32973f5f64687774007dd7aac10260', 'message': '[ffwd3] Ability to run scripts before reboot\n\nIn some cases depending on the environments we need to run\nworkarounds right before rebooting into Leapp Upgrade. We\nnow provide LeappPreRebootCommand which can be fed shell\nscript do do so.\n\nExample on machine with nonworking console params user can\nset in system_upgrade.yaml:\nparameter_defaults:\n  LeappPreRebootCommand:\n    grubby --update-kernel=ALL --remove-args=console=ttyS0,115200n81\n    grubby --update-kernel=ALL --remove-args=console=ttyS0\n\nResolves: rhbz#2196288\nChange-Id: I1e30b3c00a56cc244ee1c5730ba22e1e33788bca\n'}, {'number': 6, 'created': '2023-06-20 13:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f8a2f8511f92c0890b1d30e3c32f727fd2347b32', 'message': '[ffwd3] Ability to run scripts before reboot\n\nIn some cases depending on the environments we need to run\nworkarounds right before rebooting into Leapp Upgrade. We\nnow provide LeappPreRebootCommand which can be fed shell\nscript do do so.\n\nExample on machine with nonworking console params user can\nset in system_upgrade.yaml:\nparameter_defaults:\n  LeappPreRebootCommand:\n    grubby --update-kernel=ALL --remove-args=console=ttyS0,115200n81\n    grubby --update-kernel=ALL --remove-args=console=ttyS0\n\nResolves: rhbz#2196288\nChange-Id: I1e30b3c00a56cc244ee1c5730ba22e1e33788bca\n'}, {'number': 7, 'created': '2023-06-22 09:57:34.000000000', 'files': ['releasenotes/notes/leapp-pre-reboot-command-7d7040d80ff132e4.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2c07f0526496678ce69949143bb99c79bc6a536', 'message': '[ffwd3] Ability to run scripts before reboot\n\nIn some cases depending on the environments we need to run\nworkarounds right before rebooting into Leapp Upgrade. We\nnow provide LeappPreRebootCommand which can be fed shell\nscript do do so.\n\nExample on machine with nonworking console params user can\nset in system_upgrade.yaml:\nparameter_defaults:\n  LeappPreRebootCommand:\n    grubby --update-kernel=ALL --remove-args=console=ttyS0,115200n81\n    grubby --update-kernel=ALL --remove-args=console=ttyS0\n\nResolves: rhbz#2196288\nChange-Id: I1e30b3c00a56cc244ee1c5730ba22e1e33788bca\n'}]",14,882506,a2c07f0526496678ce69949143bb99c79bc6a536,45,10,7,22954,,,0,"[ffwd3] Ability to run scripts before reboot

In some cases depending on the environments we need to run
workarounds right before rebooting into Leapp Upgrade. We
now provide LeappPreRebootCommand which can be fed shell
script do do so.

Example on machine with nonworking console params user can
set in system_upgrade.yaml:
parameter_defaults:
  LeappPreRebootCommand:
    grubby --update-kernel=ALL --remove-args=console=ttyS0,115200n81
    grubby --update-kernel=ALL --remove-args=console=ttyS0

Resolves: rhbz#2196288
Change-Id: I1e30b3c00a56cc244ee1c5730ba22e1e33788bca
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/882506/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml'],1,ab2722e38589f2738d4446ce251a8218dfc7a64b,console," - name: Remove console on kernel parameters shell: | grubby --update-kernel=ALL --remove-args=console=ttyS0 grubby --update-kernel=ALL --remove-args=console=ttyS0,115200n81",,4,0
openstack%2Fcharms.ceph~master~I475bd55117e3dc630514c92f6a76260e4f37ae0e,openstack/charms.ceph,master,I475bd55117e3dc630514c92f6a76260e4f37ae0e,Key capabilities should be kept up to date,MERGED,2022-06-30 15:58:55.000000000,2023-06-28 17:26:39.000000000,2023-06-28 17:26:39.000000000,"[{'_account_id': 8992}, {'_account_id': 15382}, {'_account_id': 22348}, {'_account_id': 34952}]","[{'number': 1, 'created': '2022-06-30 15:58:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/52e07ca25541650d94287d4b245faff3400d61fd', 'message': 'Key capabilities should be kept up to date\n\nWhen capabilities are only ever set on key-creation,\nthey can get out of date with what the services need\nor want over time as new Ceph versions are released,\nor as clients update their requirements.\n\nCloses-bug: #1968369\nChange-Id: I475bd55117e3dc630514c92f6a76260e4f37ae0e\n'}, {'number': 2, 'created': '2022-06-30 15:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/f91257a01913eb20b08a8b5564178a88cde64fff', 'message': 'Key capabilities should be kept up to date\n\nWhen capabilities are only ever set on key-creation,\nthey can get out of date with what the services need\nor want over time as new Ceph versions are released,\nor as clients update their requirements.\n\nCloses-Bug: #1968369\nChange-Id: I475bd55117e3dc630514c92f6a76260e4f37ae0e\n'}, {'number': 3, 'created': '2023-05-26 18:06:33.000000000', 'files': ['charms_ceph/utils.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/7cffb0b7a7115cdc5185016247b355b594c65341', 'message': 'Key capabilities should be kept up to date\n\nWhen capabilities are only ever set on key-creation,\nthey can get out of date with what the services need\nor want over time as new Ceph versions are released,\nor as clients update their requirements.\n\nCloses-Bug: #1968369\nChange-Id: I475bd55117e3dc630514c92f6a76260e4f37ae0e\n'}]",3,848311,7cffb0b7a7115cdc5185016247b355b594c65341,11,4,3,20634,,,0,"Key capabilities should be kept up to date

When capabilities are only ever set on key-creation,
they can get out of date with what the services need
or want over time as new Ceph versions are released,
or as clients update their requirements.

Closes-Bug: #1968369
Change-Id: I475bd55117e3dc630514c92f6a76260e4f37ae0e
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/11/848311/1 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/utils.py'],1,52e07ca25541650d94287d4b245faff3400d61fd,bug/1968369," caps = caps or _default_caps upgrade_key_caps(key_name, caps)", caps = caps or _default_caps,2,1
openstack%2Fpuppet-cinder~master~Ia7477bb08dca7ae409155c9beb982c376c86cbc1,openstack/puppet-cinder,master,Ia7477bb08dca7ae409155c9beb982c376c86cbc1,Ensure package_ensure takes a supported value,ABANDONED,2023-06-22 06:48:51.000000000,2023-06-28 17:15:50.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-22 06:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ac4b3dadb16745d3ddfb4b70fa0b3cae16d2c17e', 'message': 'Ensure package_ensure takes a supported value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: Ia7477bb08dca7ae409155c9beb982c376c86cbc1\n'}, {'number': 2, 'created': '2023-06-22 07:12:54.000000000', 'files': ['metadata.json', 'manifests/backend/emc_vnx.pp', 'manifests/scheduler.pp', 'manifests/api.pp', 'manifests/init.pp', 'manifests/backup.pp', 'manifests/client.pp', 'manifests/volume.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/a4e0d1772eb9e327b3721708cc280df834f8d1e2', 'message': 'Ensure package_ensure takes a supported value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: Ia7477bb08dca7ae409155c9beb982c376c86cbc1\n'}]",2,886718,a4e0d1772eb9e327b3721708cc280df834f8d1e2,6,2,2,9816,,,0,"Ensure package_ensure takes a supported value

puppetlabs-stdlib provides the type to validate a parameter which is
used to define ensure of a package resource. This adds validation using
that type.

Change-Id: Ia7477bb08dca7ae409155c9beb982c376c86cbc1
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/18/886718/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/emc_vnx.pp', 'manifests/scheduler.pp', 'manifests/api.pp', 'manifests/init.pp', 'manifests/backup.pp', 'manifests/client.pp', 'manifests/volume.pp']",7,ac4b3dadb16745d3ddfb4b70fa0b3cae16d2c17e,package-ensure," Stdlib::Ensure::Package $package_ensure = 'present', Boolean $enabled = true, Boolean $manage_service = true, $cluster = $facts['os_service_default'], $volume_clear = $facts['os_service_default'], $volume_clear_size = $facts['os_service_default'], $volume_clear_ionice = $facts['os_service_default'], $migration_create_volume_timeout_secs = $facts['os_service_default'], $volume_service_inithost_offload = $facts['os_service_default'], $reinit_driver_count = $facts['os_service_default'], $init_host_max_objects_retrieval = $facts['os_service_default'], $backend_stats_polling_interval = $facts['os_service_default'],"," $package_ensure = 'present', Boolean $enabled = true, Boolean $manage_service = true, $cluster = $facts['os_service_default'], $volume_clear = $facts['os_service_default'], $volume_clear_size = $facts['os_service_default'], $volume_clear_ionice = $facts['os_service_default'], $migration_create_volume_timeout_secs = $facts['os_service_default'], $volume_service_inithost_offload = $facts['os_service_default'], $reinit_driver_count = $facts['os_service_default'], $init_host_max_objects_retrieval = $facts['os_service_default'], $backend_stats_polling_interval = $facts['os_service_default'],",122,123
openstack%2Fpuppet-ceilometer~master~I04609c04ab15b613061ea60fd382293ce692a33e,openstack/puppet-ceilometer,master,I04609c04ab15b613061ea60fd382293ce692a33e,Ensure package_ensure takes a supported value,ABANDONED,2023-06-22 07:10:51.000000000,2023-06-28 17:15:10.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-22 07:10:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/52e63e307f4f97b8508daef40c9da37503dbb7c8', 'message': 'Ensure package_ensure takes a supported value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: I04609c04ab15b613061ea60fd382293ce692a33e\n'}, {'number': 2, 'created': '2023-06-22 07:15:48.000000000', 'files': ['manifests/agent/notification.pp', 'metadata.json', 'manifests/agent/polling.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/ec995a225dc62f777613a7ba02d11a01af944b92', 'message': 'Ensure package_ensure takes a supported value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: I04609c04ab15b613061ea60fd382293ce692a33e\n'}]",1,886719,ec995a225dc62f777613a7ba02d11a01af944b92,5,2,2,9816,,,0,"Ensure package_ensure takes a supported value

puppetlabs-stdlib provides the type to validate a parameter which is
used to define ensure of a package resource. This adds validation using
that type.

Change-Id: I04609c04ab15b613061ea60fd382293ce692a33e
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/19/886719/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/agent/notification.pp', 'manifests/agent/polling.pp', 'manifests/init.pp']",3,52e63e307f4f97b8508daef40c9da37503dbb7c8,package-ensure," $http_timeout = $facts['os_service_default'], $max_parallel_requests = $facts['os_service_default'], $telemetry_secret = false, $notification_topics = ['notifications'], $notification_driver = $facts['os_service_default'], Stdlib::Ensure::Package $package_ensure = 'present', $executor_thread_pool_size = $facts['os_service_default'], $default_transport_url = $facts['os_service_default'], $rpc_response_timeout = $facts['os_service_default'], $control_exchange = $facts['os_service_default'], $notification_transport_url = $facts['os_service_default'], $rabbit_ha_queues = $facts['os_service_default'], $rabbit_heartbeat_timeout_threshold = $facts['os_service_default'], $rabbit_heartbeat_rate = $facts['os_service_default'], $rabbit_heartbeat_in_pthread = $facts['os_service_default'], $rabbit_qos_prefetch_count = $facts['os_service_default'], $amqp_durable_queues = $facts['os_service_default'], $rabbit_use_ssl = $facts['os_service_default'], $kombu_ssl_ca_certs = $facts['os_service_default'], $kombu_ssl_certfile = $facts['os_service_default'], $kombu_ssl_keyfile = $facts['os_service_default'], $kombu_ssl_version = $facts['os_service_default'], $kombu_reconnect_delay = $facts['os_service_default'], $kombu_failover_strategy = $facts['os_service_default'], $kombu_compression = $facts['os_service_default'], $amqp_server_request_prefix = $facts['os_service_default'], $amqp_broadcast_prefix = $facts['os_service_default'], $amqp_group_request_prefix = $facts['os_service_default'], $amqp_container_name = $facts['os_service_default'], $amqp_idle_timeout = $facts['os_service_default'], $amqp_trace = $facts['os_service_default'], $amqp_rpc_address_prefix = $facts['os_service_default'], $amqp_notify_address_prefix = $facts['os_service_default'], $amqp_ssl_ca_file = $facts['os_service_default'], $amqp_ssl_cert_file = $facts['os_service_default'], $amqp_ssl_key_file = $facts['os_service_default'], $amqp_ssl_key_password = $facts['os_service_default'], $amqp_sasl_mechanisms = $facts['os_service_default'], $amqp_sasl_config_dir = $facts['os_service_default'], $amqp_sasl_config_name = $facts['os_service_default'], $amqp_username = $facts['os_service_default'], $amqp_password = $facts['os_service_default'], $purge_config = false, $host = $facts['os_service_default'],"," $http_timeout = $facts['os_service_default'], $max_parallel_requests = $facts['os_service_default'], $telemetry_secret = false, $notification_topics = ['notifications'], $notification_driver = $facts['os_service_default'], $package_ensure = 'present', $executor_thread_pool_size = $facts['os_service_default'], $default_transport_url = $facts['os_service_default'], $rpc_response_timeout = $facts['os_service_default'], $control_exchange = $facts['os_service_default'], $notification_transport_url = $facts['os_service_default'], $rabbit_ha_queues = $facts['os_service_default'], $rabbit_heartbeat_timeout_threshold = $facts['os_service_default'], $rabbit_heartbeat_rate = $facts['os_service_default'], $rabbit_heartbeat_in_pthread = $facts['os_service_default'], $rabbit_qos_prefetch_count = $facts['os_service_default'], $amqp_durable_queues = $facts['os_service_default'], $rabbit_use_ssl = $facts['os_service_default'], $kombu_ssl_ca_certs = $facts['os_service_default'], $kombu_ssl_certfile = $facts['os_service_default'], $kombu_ssl_keyfile = $facts['os_service_default'], $kombu_ssl_version = $facts['os_service_default'], $kombu_reconnect_delay = $facts['os_service_default'], $kombu_failover_strategy = $facts['os_service_default'], $kombu_compression = $facts['os_service_default'], $amqp_server_request_prefix = $facts['os_service_default'], $amqp_broadcast_prefix = $facts['os_service_default'], $amqp_group_request_prefix = $facts['os_service_default'], $amqp_container_name = $facts['os_service_default'], $amqp_idle_timeout = $facts['os_service_default'], $amqp_trace = $facts['os_service_default'], $amqp_rpc_address_prefix = $facts['os_service_default'], $amqp_notify_address_prefix = $facts['os_service_default'], $amqp_ssl_ca_file = $facts['os_service_default'], $amqp_ssl_cert_file = $facts['os_service_default'], $amqp_ssl_key_file = $facts['os_service_default'], $amqp_ssl_key_password = $facts['os_service_default'], $amqp_sasl_mechanisms = $facts['os_service_default'], $amqp_sasl_config_dir = $facts['os_service_default'], $amqp_sasl_config_name = $facts['os_service_default'], $amqp_username = $facts['os_service_default'], $amqp_password = $facts['os_service_default'], $purge_config = false, $host = $facts['os_service_default'],",62,62
openstack%2Fpuppet-barbican~master~Icd4592fa8b53f5b3c9224df5f1a866ae21c2b0d4,openstack/puppet-barbican,master,Icd4592fa8b53f5b3c9224df5f1a866ae21c2b0d4,Ensure package_ensure takes a supported value,ABANDONED,2023-06-22 06:37:42.000000000,2023-06-28 17:15:06.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-22 06:37:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/d82e091fb852f45a3972af3c1ae469c5333261db', 'message': 'Ensure package_ensure takes a support value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: Icd4592fa8b53f5b3c9224df5f1a866ae21c2b0d4\n'}, {'number': 2, 'created': '2023-06-22 06:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/7c37274b1441e5ce37abbfd0af35b73102bbda3c', 'message': 'Ensure package_ensure takes a supported value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: Icd4592fa8b53f5b3c9224df5f1a866ae21c2b0d4\n'}, {'number': 3, 'created': '2023-06-22 07:16:27.000000000', 'files': ['manifests/retry_scheduler.pp', 'manifests/keystone/notification.pp', 'metadata.json', 'manifests/worker.pp', 'manifests/api.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/2c746651c6410fc88b87633a9a04fc134428f235', 'message': 'Ensure package_ensure takes a supported value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: Icd4592fa8b53f5b3c9224df5f1a866ae21c2b0d4\n'}]",1,886717,2c746651c6410fc88b87633a9a04fc134428f235,6,2,3,9816,,,0,"Ensure package_ensure takes a supported value

puppetlabs-stdlib provides the type to validate a parameter which is
used to define ensure of a package resource. This adds validation using
that type.

Change-Id: Icd4592fa8b53f5b3c9224df5f1a866ae21c2b0d4
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/17/886717/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/retry_scheduler.pp', 'manifests/keystone/notification.pp', 'manifests/worker.pp', 'manifests/api.pp', 'manifests/init.pp']",5,d82e091fb852f45a3972af3c1ae469c5333261db,package-ensure," Stdlib::Ensure::Package $package_ensure = 'present', $purge_config = false,"," $package_ensure = 'present', $purge_config = false,",12,12
openstack%2Fpuppet-aodh~master~I7322e85c04d8bed2fcb843b626e88a848ecf866e,openstack/puppet-aodh,master,I7322e85c04d8bed2fcb843b626e88a848ecf866e,Ensure package_ensure takes a supported value,ABANDONED,2023-06-19 07:17:30.000000000,2023-06-28 17:14:57.000000000,,"[{'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-19 07:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d57c9d8bcdb6a5364b67011a41fb9fc996e5bef5', 'message': 'Ensure package ensure takes a support value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: I7322e85c04d8bed2fcb843b626e88a848ecf866e\n'}, {'number': 2, 'created': '2023-06-19 07:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/e62cfe1c9e883977d472642cc8af140bac96bb54', 'message': 'Ensure package_ensure takes a support value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: I7322e85c04d8bed2fcb843b626e88a848ecf866e\n'}, {'number': 3, 'created': '2023-06-22 06:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/f8e9da08b87fcd09e343f7b881000fe26ad263ac', 'message': 'Ensure package_ensure takes a supported value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: I7322e85c04d8bed2fcb843b626e88a848ecf866e\n'}, {'number': 4, 'created': '2023-06-22 07:13:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/c48a5394af3698587241afbb6c1b3ca990715d8c', 'message': 'Ensure package_ensure takes a supported value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: I7322e85c04d8bed2fcb843b626e88a848ecf866e\n'}, {'number': 5, 'created': '2023-06-22 07:18:54.000000000', 'files': ['metadata.json', 'manifests/notifier.pp', 'manifests/api.pp', 'manifests/listener.pp', 'manifests/expirer.pp', 'manifests/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/abf7eabaff9c6eab868b98fc376fef2c926d40c6', 'message': 'Ensure package_ensure takes a supported value\n\npuppetlabs-stdlib provides the type to validate a parameter which is\nused to define ensure of a package resource. This adds validation using\nthat type.\n\nChange-Id: I7322e85c04d8bed2fcb843b626e88a848ecf866e\n'}]",3,886367,abf7eabaff9c6eab868b98fc376fef2c926d40c6,13,2,5,9816,,,0,"Ensure package_ensure takes a supported value

puppetlabs-stdlib provides the type to validate a parameter which is
used to define ensure of a package resource. This adds validation using
that type.

Change-Id: I7322e85c04d8bed2fcb843b626e88a848ecf866e
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/67/886367/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/notifier.pp', 'manifests/api.pp', 'manifests/listener.pp', 'manifests/expirer.pp', 'manifests/evaluator.pp']",5,d57c9d8bcdb6a5364b67011a41fb9fc996e5bef5,package-ensure," Boolean $manage_service = true, Boolean $enabled = true, Stdlib::Ensure::Package $package_ensure = 'present', $workers = $facts['os_workers'], $evaluation_interval = $facts['os_service_default'], $event_alarm_cache_ttl = $facts['os_service_default'], $additional_ingestion_lag = $facts['os_service_default'],"," Boolean $manage_service = true, Boolean $enabled = true, $package_ensure = 'present', $workers = $facts['os_workers'], $evaluation_interval = $facts['os_service_default'], $event_alarm_cache_ttl = $facts['os_service_default'], $additional_ingestion_lag = $facts['os_service_default'],",40,40
openstack%2Fpuppet-tripleo~master~I1ff11ac234513b2ae6b7d6dd24896e4762facfc3,openstack/puppet-tripleo,master,I1ff11ac234513b2ae6b7d6dd24896e4762facfc3,WIP - Refresh credential only is is needed,ABANDONED,2023-06-28 17:10:19.000000000,2023-06-28 17:10:48.000000000,,[],"[{'number': 1, 'created': '2023-06-28 17:10:19.000000000', 'files': ['manifests/profile/base/nova/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/721b632f28b111f6a25c16b1aad7001558a8f74b', 'message': 'WIP - Refresh credential only is is needed\n\nChange-Id: I1ff11ac234513b2ae6b7d6dd24896e4762facfc3\n'}]",0,887204,721b632f28b111f6a25c16b1aad7001558a8f74b,2,0,1,22954,,,0,"WIP - Refresh credential only is is needed

Change-Id: I1ff11ac234513b2ae6b7d6dd24896e4762facfc3
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/04/887204/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/nova/libvirt.pp'],1,721b632f28b111f6a25c16b1aad7001558a8f74b,,"# [*refresh_credentials*] # (Optional) Refresh credentials # Defaults to true # $refresh_credentials = true, if $refresh_credentials { exec{ 'set libvirt sasl credentials': environment => [""TLS_PASSWORD=${tls_password}""], command => $libvirt_sasl_command, path => ['/sbin', '/usr/sbin', '/bin', '/usr/bin'], require => File['/etc/sasl2/libvirt.conf'], tag => ['libvirt_tls_password'] }"," exec{ 'set libvirt sasl credentials': environment => [""TLS_PASSWORD=${tls_password}""], command => $libvirt_sasl_command, path => ['/sbin', '/usr/sbin', '/bin', '/usr/bin'], require => File['/etc/sasl2/libvirt.conf'], tag => ['libvirt_tls_password']",13,6
openstack%2Fpython-glanceclient~master~I3a118b6f2e375ad60bd4170c5ce0ae284a0c9060,openstack/python-glanceclient,master,I3a118b6f2e375ad60bd4170c5ce0ae284a0c9060,"md-property-create: add a mandatory ""--type"" option",MERGED,2022-09-07 17:12:54.000000000,2023-06-28 16:43:01.000000000,2023-06-28 16:41:03.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-09-07 17:12:54.000000000', 'files': ['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/393e84d30a173e8a001a8c9d877726c37dec6c17', 'message': 'md-property-create: add a mandatory ""--type"" option\n\nThe ""type"" property is required when using md-property-create, so there\nshould be a mandatory option for it, as is the case for ""name"" and\n""title"".\n\nChange-Id: I3a118b6f2e375ad60bd4170c5ce0ae284a0c9060\nCloses-Bug: #1934626\n'}]",4,856303,393e84d30a173e8a001a8c9d877726c37dec6c17,13,4,1,8122,,,0,"md-property-create: add a mandatory ""--type"" option

The ""type"" property is required when using md-property-create, so there
should be a mandatory option for it, as is the case for ""name"" and
""title"".

Change-Id: I3a118b6f2e375ad60bd4170c5ce0ae284a0c9060
Closes-Bug: #1934626
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/03/856303/1 && git format-patch -1 --stdout FETCH_HEAD,"['glanceclient/tests/unit/v2/test_shell_v2.py', 'glanceclient/v2/shell.py']",2,393e84d30a173e8a001a8c9d877726c37dec6c17,bug/1934626,"@utils.arg('--type', metavar='<TYPE>', required=True, help=_('Type of the property')) fields = {'name': args.name, 'title': args.title, 'type': args.type}"," fields = {'name': args.name, 'title': args.title}",9,3
openstack%2Fpython-glanceclient~master~I8b6e19621fc989526b02319d88fcfde88a17eee0,openstack/python-glanceclient,master,I8b6e19621fc989526b02319d88fcfde88a17eee0,Bump the CHUNKSIZE to use CPU more efficiently,MERGED,2023-05-19 00:41:31.000000000,2023-06-28 16:42:11.000000000,2023-06-28 16:41:02.000000000,"[{'_account_id': 4393}, {'_account_id': 8122}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-19 00:41:31.000000000', 'files': ['glanceclient/common/http.py'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/7d78cc4b9d43f5abdf8c7fa05e37ab8c8122c325', 'message': 'Bump the CHUNKSIZE to use CPU more efficiently\n\nThe chunk size used for downloading images was 64KiB for some time. That\nis okay for relatively small images but the client side of CPU can be a\nbottleneck especially for large images. Bump the default chunk size from\n64KiB to 1MiB so we can use the client side CPU more efficiently.\n\n[64KiB chunk size - current]\nINFO cinder.image.image_utils Image download 1907.35 MB at 68.61 MB/s\n-> ~ 549 Mbps\n\n[1MiB chunk size - patched]\nINFO cinder.image.image_utils Image download 1907.35 MB at 132.10 MB/s\n-> 1,057 Mbps\n\nCloses-Bug: #2020139\nChange-Id: I8b6e19621fc989526b02319d88fcfde88a17eee0\n'}]",4,883599,7d78cc4b9d43f5abdf8c7fa05e37ab8c8122c325,14,4,1,8108,,,0,"Bump the CHUNKSIZE to use CPU more efficiently

The chunk size used for downloading images was 64KiB for some time. That
is okay for relatively small images but the client side of CPU can be a
bottleneck especially for large images. Bump the default chunk size from
64KiB to 1MiB so we can use the client side CPU more efficiently.

[64KiB chunk size - current]
INFO cinder.image.image_utils Image download 1907.35 MB at 68.61 MB/s
-> ~ 549 Mbps

[1MiB chunk size - patched]
INFO cinder.image.image_utils Image download 1907.35 MB at 132.10 MB/s
-> 1,057 Mbps

Closes-Bug: #2020139
Change-Id: I8b6e19621fc989526b02319d88fcfde88a17eee0
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/99/883599/1 && git format-patch -1 --stdout FETCH_HEAD,['glanceclient/common/http.py'],1,7d78cc4b9d43f5abdf8c7fa05e37ab8c8122c325,chunk_size_1MiB,CHUNKSIZE = 1024 * 1024 # 1MiB,CHUNKSIZE = 1024 * 64 # 64kB,1,1
openstack%2Fglance~master~I0758590e2286205c4f6dc441241dc32c0d840dd5,openstack/glance,master,I0758590e2286205c4f6dc441241dc32c0d840dd5,Specify a python executable for prlimits when using uwsgi,ABANDONED,2018-01-05 20:47:18.000000000,2023-06-28 16:09:29.000000000,,"[{'_account_id': 4257}, {'_account_id': 5196}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 14676}, {'_account_id': 22348}, {'_account_id': 27248}, {'_account_id': 27882}]","[{'number': 1, 'created': '2018-01-05 20:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9adc8bf850c599b8ba2a1e93bdeb9317dd3b6352', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nPartial-Bug: #1712463\n\nDepends-On: I0ae60f0b4cc3700c783f6018e837358f0e053a09\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 2, 'created': '2018-01-06 02:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7c3fc1c3587f76f07434b3f5b637b65822dc8a88', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nPartial-Bug: #1712463\n\nDepends-On: I0ae60f0b4cc3700c783f6018e837358f0e053a09\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 3, 'created': '2018-01-11 20:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/540f2915b6a990235b05647d1e04c61441ad6d2f', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I0ae60f0b4cc3700c783f6018e837358f0e053a09\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 4, 'created': '2018-01-15 21:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ca583f62b0b0175db867105c56717c919de8db8e', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I0ae60f0b4cc3700c783f6018e837358f0e053a09\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 5, 'created': '2018-01-15 21:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e3955037bc86bd7da3a9ae22c2c3147f78a7334b', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I2b2b0d865224413254051581b382ff206aae0180\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 6, 'created': '2018-01-16 15:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/66bc7c31dd9724c92860e76fbbc7359b5401e1ac', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I2b2b0d865224413254051581b382ff206aae0180\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 7, 'created': '2018-01-22 20:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ab3dec749c6e0f36d6f88a4e44ec7a41769fee6c', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I2b2b0d865224413254051581b382ff206aae0180\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 8, 'created': '2018-02-07 16:57:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e95155645a6fc0676d8b65e6ec35a019e9e7f7b5', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I2b2b0d865224413254051581b382ff206aae0180\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 9, 'created': '2018-02-07 21:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ae79b3fc12e0f4f3559a293e4ccfa0f853902a1f', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I2b2b0d865224413254051581b382ff206aae0180\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 10, 'created': '2018-02-09 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a9b696abbd73657e9b77a97c29fc8e029db38485', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I2b2b0d865224413254051581b382ff206aae0180\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 11, 'created': '2018-02-13 17:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6f778c44ca24ba4d733790264fd5dc4201af36c6', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I2b2b0d865224413254051581b382ff206aae0180\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 12, 'created': '2018-03-07 15:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b3ba6b8ba2639b7148f881d9fd009e6be8ce998f', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I2b2b0d865224413254051581b382ff206aae0180\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 13, 'created': '2022-07-04 21:06:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/aea6a2f1c166a0fc8e655ea9948d97fe2a4abeeb', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I2b2b0d865224413254051581b382ff206aae0180\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}, {'number': 14, 'created': '2022-07-04 23:25:15.000000000', 'files': ['glance/opts.py', 'glance/async_/flows/introspect.py', 'releasenotes/notes/add-python-exec-config-727559a18a5b10b3.yaml', 'doc/source/admin/apache-httpd.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/30c615892bb31ae2b93b117c39944bbdc1f42875', 'message': ""Specify a python executable for prlimits when using uwsgi\n\nThis commit address the prlimit issue when running taskflow executors\nunder uwsgi. The uwsgi server links libpython.so and the path to the\nuwsgi binary becomes the value for sys.executable so processutils can't\nfigure out whch python executable is actually being used when it needs\nto launch python for prlimits enforcement. An option to workaround this\nby specifing an executable was added to oslo.concurrency and this commit\nleverages it. By default glance will use /usr/bin/python{2,3} (based on\npython version) but a user can optionally specify a specific path to an\nexecutable to use for this.\n\nCloses-Bug: #1712463\n\nDepends-On: I2b2b0d865224413254051581b382ff206aae0180\nChange-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5\n""}]",18,531498,30c615892bb31ae2b93b117c39944bbdc1f42875,51,10,14,5196,,,0,"Specify a python executable for prlimits when using uwsgi

This commit address the prlimit issue when running taskflow executors
under uwsgi. The uwsgi server links libpython.so and the path to the
uwsgi binary becomes the value for sys.executable so processutils can't
figure out whch python executable is actually being used when it needs
to launch python for prlimits enforcement. An option to workaround this
by specifing an executable was added to oslo.concurrency and this commit
leverages it. By default glance will use /usr/bin/python{2,3} (based on
python version) but a user can optionally specify a specific path to an
executable to use for this.

Closes-Bug: #1712463

Depends-On: I2b2b0d865224413254051581b382ff206aae0180
Change-Id: I0758590e2286205c4f6dc441241dc32c0d840dd5
",git fetch https://review.opendev.org/openstack/glance refs/changes/98/531498/6 && git format-patch -1 --stdout FETCH_HEAD,"['glance/async/flows/introspect.py', 'glance/opts.py']",2,9adc8bf850c599b8ba2a1e93bdeb9317dd3b6352,bug/1712463,"import glance.async.flows.introspect glance.async.flows.convert.convert_task_opts, [glance.async.flows.python_version_opt]))),"," glance.async.flows.convert.convert_task_opts))),",25,2
openstack%2Ftripleo-ansible~master~I492cf812df42bb9f973eaa3a8a7ff45a6f74b1f8,openstack/tripleo-ansible,master,I492cf812df42bb9f973eaa3a8a7ff45a6f74b1f8,Fix positional arguments order in test-molecule.py,ABANDONED,2023-06-28 16:03:42.000000000,2023-06-28 16:07:39.000000000,,[],"[{'number': 1, 'created': '2023-06-28 16:03:42.000000000', 'files': ['tests/test_molecule.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2245ec664a6d4bf5188c9ef914c7114a0dc00563', 'message': 'Fix positional arguments order in test-molecule.py\n\nChange-Id: I492cf812df42bb9f973eaa3a8a7ff45a6f74b1f8\nSigned-off-by: Roberto Alfieri <ralfieri@redhat.com>\n'}]",0,887196,2245ec664a6d4bf5188c9ef914c7114a0dc00563,3,0,1,35491,,,0,"Fix positional arguments order in test-molecule.py

Change-Id: I492cf812df42bb9f973eaa3a8a7ff45a6f74b1f8
Signed-off-by: Roberto Alfieri <ralfieri@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/96/887196/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/test_molecule.py'],1,2245ec664a6d4bf5188c9ef914c7114a0dc00563,fix-molecule-test,"BASECMD = ['python', '-m', 'molecule'] def set_proper_molecule_config(role_path): if os.path.exists(os.path.join(role_path, 'molecule', 'default/molecule.yml')): molecule_path = os.path.join(role_path, 'molecule', 'default/molecule.yml')def test_molecule(pytestconfig): cmd = BASECMD cmd.extend(['--base-config', set_proper_molecule_config(os.getcwd())]) scenario = pytestconfig.getoption(""scenario"") cmd = BASECMD cmd.extend(['--base-config', set_proper_molecule_config(os.getcwd())]) cmd.append('destroy')"," def set_proper_molecule_config(role_path, scenario='default'): if os.path.exists(os.path.join(role_path, 'molecule', f'{scenario}/molecule.yml')): molecule_path = os.path.join( role_path, 'molecule', f'{scenario}/molecule.yml')def set_molecule_tags(role_path, scenario='default'): mol_tags = [] if os.path.exists(os.path.join(role_path, 'molecule', f'{scenario}/test_vars.yml')): test_vars_path = os.path.join(role_path, 'molecule', f'{scenario}/test_vars.yml') with open(test_vars_path) as content: data = yaml.safe_load(content) if not data: return [] if ('test_skip_tags' in data.keys() and data['test_skip_tags'] and data.get('molecule_skip_tags_enforce', True)): mol_tags.append('--skip-tags') if type(data['test_skip_tags']) == str: mol_tags.append(data['test_skip_tags']) elif type(data['test_skip_tags']) == list: mol_tags.append("","".join(data['test_skip_tags'])) if ('test_tags' in data.keys() and data['test_tags'] and data.get('molecule_tags_enforce', True)): mol_tags.append('--tags') if type(data['test_tags']) == str: mol_tags.append(data['test_tags']) elif type(data['test_tags']) == list: mol_tags.append("","".join(data['test_tags'])) return mol_tags def run_molecule(pytestconfig, scenario=None): cmd = ['python', '-m', 'molecule'] if not scenario: scenario = 'default' cmd.extend(['--base-config', set_proper_molecule_config(os.getcwd(), scenario)]) alltags = set_molecule_tags(os.getcwd(), scenario) if alltags: if '--' not in cmd: cmd.append('--') cmd.extend(alltags) cmd = ['python', '-m', 'molecule', 'destroy'] cmd.extend(['--base-config', set_proper_molecule_config(os.getcwd())]) def get_molecule_scenario(role_path): mol_scenario = [] if os.path.exists(os.path.join(role_path, 'molecule')): mol_dir = os.path.join(role_path, 'molecule') dirs = os.listdir(mol_dir) mol_scenario = [d for d in dirs if os.path.exists( os.path.join(mol_dir, d, 'molecule.yml'))] return mol_scenario def test_molcule(pytestconfig): scenarios = get_molecule_scenario(os.getcwd()) for scenario in scenarios: run_molecule(pytestconfig, scenario)",12,65
openstack%2Fpuppet-heat~master~Ie3d9c4d3dac3484051be3b9418e833454c0fbd2a,openstack/puppet-heat,master,Ie3d9c4d3dac3484051be3b9418e833454c0fbd2a,Validate status of cron resource,MERGED,2023-06-22 07:22:51.000000000,2023-06-28 15:42:58.000000000,2023-06-28 15:42:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-22 07:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/2ef80a0a13ece281a18158deabc7e3ee0c155312', 'message': 'Validate status of cron resource\n\nThis makes sure that the supported value is used for the parameters\nwhich determine the ensure property of a cron resource type.\n\nChange-Id: Ie3d9c4d3dac3484051be3b9418e833454c0fbd2a\n'}, {'number': 2, 'created': '2023-06-22 09:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/4f648510f51571b7914fca1f8e3541f63f3d0bb2', 'message': 'Validate status of cron resource\n\nThis makes sure that the supported value is used for the parameters\nwhich determine the ensure property of a cron resource type.\n\nChange-Id: Ie3d9c4d3dac3484051be3b9418e833454c0fbd2a\n'}, {'number': 3, 'created': '2023-06-22 09:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/402d63903e71211ceefb08f5795ac7a7120a0f8f', 'message': 'Validate status of cron resource\n\nThis makes sure that the supported value is used for the parameters\nwhich determine the ensure property of a cron resource type.\n\nChange-Id: Ie3d9c4d3dac3484051be3b9418e833454c0fbd2a\n'}, {'number': 4, 'created': '2023-06-26 13:08:47.000000000', 'files': ['spec/classes/heat_cron_purge_deleted_spec.rb', 'manifests/cron/purge_deleted.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/c62209b8e7439431834dacd1f2a0d58599ecf623', 'message': 'Validate status of cron resource\n\nThis makes sure that the supported value is used for the parameters\nwhich determine the ensure property of a cron resource type.\n\nThis also re-implements the validation of age_type parameter using\nthe native data type.\n\nChange-Id: Ie3d9c4d3dac3484051be3b9418e833454c0fbd2a\n'}]",5,886722,c62209b8e7439431834dacd1f2a0d58599ecf623,17,3,4,9816,,,0,"Validate status of cron resource

This makes sure that the supported value is used for the parameters
which determine the ensure property of a cron resource type.

This also re-implements the validation of age_type parameter using
the native data type.

Change-Id: Ie3d9c4d3dac3484051be3b9418e833454c0fbd2a
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/22/886722/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cron/purge_deleted.pp'],1,2ef80a0a13ece281a18158deabc7e3ee0c155312,cron-ensure," Enum['present', 'absent'] $ensure = present, $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0, $user = $::heat::params::user, $age = 1, Enum['days', 'hours', 'minutes', 'seconds'] $age_type = 'days', $destination = '/var/log/heat/heat-purge_deleted.log', $batch_size = undef,"," $ensure = present, $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0, $user = $::heat::params::user, $age = 1, $age_type = 'days', $destination = '/var/log/heat/heat-purge_deleted.log', $batch_size = undef, if ! member(['days', 'hours', 'minutes', 'seconds'], $age_type) { fail('age_type possible values are only days, hours, minutes, or seconds.') } ",13,16
openstack%2Fcharm-keystone~master~I6a9834d838803b6eea967e7c15be9fe7fe0ca052,openstack/charm-keystone,master,I6a9834d838803b6eea967e7c15be9fe7fe0ca052,Add docs key and point at Discourse,MERGED,2023-06-28 04:16:47.000000000,2023-06-28 15:40:31.000000000,2023-06-28 15:40:31.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 04:16:47.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/e9368e4b79259335f33291bd82a282c526046638', 'message': ""Add docs key and point at Discourse\n\nAdd the 'docs' key and point it at a Discourse topic\npreviously populated with the charm's README contents.\n\nWhen the new charm revision is released to the Charmhub,\nthis Discourse-based content will be displayed there. In\nthe absense of the this new key, the Charmhub's default\nbehaviour is to display the value of the charm's\n'description' key.\n\nChange-Id: I6a9834d838803b6eea967e7c15be9fe7fe0ca052\n""}]",0,887132,e9368e4b79259335f33291bd82a282c526046638,7,3,1,30561,,,0,"Add docs key and point at Discourse

Add the 'docs' key and point it at a Discourse topic
previously populated with the charm's README contents.

When the new charm revision is released to the Charmhub,
this Discourse-based content will be displayed there. In
the absense of the this new key, the Charmhub's default
behaviour is to display the value of the charm's
'description' key.

Change-Id: I6a9834d838803b6eea967e7c15be9fe7fe0ca052
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/32/887132/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.yaml'],1,e9368e4b79259335f33291bd82a282c526046638,charmhub-pop,docs: https://discourse.charmhub.io/t/keystone-docs-index/10527,,1,0
openstack%2Ftrove~stable%2F2023.1~I73ec6c659d8ad7216460055077737429c878df33,openstack/trove,stable/2023.1,I73ec6c659d8ad7216460055077737429c878df33,"Fix ""create database"" failed for postgress",MERGED,2023-06-26 05:50:14.000000000,2023-06-28 14:45:18.000000000,2023-06-28 14:43:44.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-26 05:50:14.000000000', 'files': ['trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/fix-postgress-create-database-75fbe03e3b4e296d.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/f62243a941d3f0f8eda35099361b20e706de357c', 'message': 'Fix ""create database"" failed for postgress\n\nThis PR stops using the psycopg2’s connections context manager\nbecause ""CREATE DATABASE"" command must be run outside any\ntransaction[1].\n[1]: https://www.psycopg.org/docs/usage.html#transactions-control\n\nCo-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>\nCo-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>\n\nStory: 2010761\nTask: 48059\nChange-Id: I73ec6c659d8ad7216460055077737429c878df33\n(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)\n'}]",0,886846,f62243a941d3f0f8eda35099361b20e706de357c,8,2,1,26285,,,0,"Fix ""create database"" failed for postgress

This PR stops using the psycopg2’s connections context manager
because ""CREATE DATABASE"" command must be run outside any
transaction[1].
[1]: https://www.psycopg.org/docs/usage.html#transactions-control

Co-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>
Co-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>

Story: 2010761
Task: 48059
Change-Id: I73ec6c659d8ad7216460055077737429c878df33
(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)
",git fetch https://review.opendev.org/openstack/trove refs/changes/46/886846/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/fix-postgress-create-database-75fbe03e3b4e296d.yaml']",2,f62243a941d3f0f8eda35099361b20e706de357c,fix-postgress-create-database-stable/2023.1,"--- fixes: - | Fix guest-agent failed to start postgres container due to execution of the ""CREATE DATABASE"" statement within the context manager of psycopg library. See the following for details `Stroy 2010761 <https://storyboard.openstack.org/#!/story/2010761>`__ ",,13,2
openstack%2Ftrove~stable%2Fzed~I73ec6c659d8ad7216460055077737429c878df33,openstack/trove,stable/zed,I73ec6c659d8ad7216460055077737429c878df33,"Fix ""create database"" failed for postgress",MERGED,2023-06-26 05:50:42.000000000,2023-06-28 14:45:15.000000000,2023-06-28 14:43:50.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-26 05:50:42.000000000', 'files': ['trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/fix-postgress-create-database-75fbe03e3b4e296d.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/b195a6ab06c15316be4cf4045550aefcbe4016d4', 'message': 'Fix ""create database"" failed for postgress\n\nThis PR stops using the psycopg2’s connections context manager\nbecause ""CREATE DATABASE"" command must be run outside any\ntransaction[1].\n[1]: https://www.psycopg.org/docs/usage.html#transactions-control\n\nCo-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>\nCo-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>\n\nStory: 2010761\nTask: 48059\nChange-Id: I73ec6c659d8ad7216460055077737429c878df33\n(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)\n'}]",0,886847,b195a6ab06c15316be4cf4045550aefcbe4016d4,7,2,1,26285,,,0,"Fix ""create database"" failed for postgress

This PR stops using the psycopg2’s connections context manager
because ""CREATE DATABASE"" command must be run outside any
transaction[1].
[1]: https://www.psycopg.org/docs/usage.html#transactions-control

Co-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>
Co-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>

Story: 2010761
Task: 48059
Change-Id: I73ec6c659d8ad7216460055077737429c878df33
(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)
",git fetch https://review.opendev.org/openstack/trove refs/changes/47/886847/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/fix-postgress-create-database-75fbe03e3b4e296d.yaml']",2,b195a6ab06c15316be4cf4045550aefcbe4016d4,fix-postgress-create-database-stable/zed,"--- fixes: - | Fix guest-agent failed to start postgres container due to execution of the ""CREATE DATABASE"" statement within the context manager of psycopg library. See the following for details `Stroy 2010761 <https://storyboard.openstack.org/#!/story/2010761>`__ ",,13,2
openstack%2Ftrove~stable%2Fxena~I73ec6c659d8ad7216460055077737429c878df33,openstack/trove,stable/xena,I73ec6c659d8ad7216460055077737429c878df33,"Fix ""create database"" failed for postgress",MERGED,2023-06-26 05:52:35.000000000,2023-06-28 14:45:08.000000000,2023-06-28 14:43:38.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-26 05:52:35.000000000', 'files': ['trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/fix-postgress-create-database-75fbe03e3b4e296d.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/8d43fe17a20f62c46146810458fb0fd283c77b2a', 'message': 'Fix ""create database"" failed for postgress\n\nThis PR stops using the psycopg2’s connections context manager\nbecause ""CREATE DATABASE"" command must be run outside any\ntransaction[1].\n[1]: https://www.psycopg.org/docs/usage.html#transactions-control\n\nCo-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>\nCo-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>\n\nStory: 2010761\nTask: 48059\nChange-Id: I73ec6c659d8ad7216460055077737429c878df33\n(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)\n'}]",0,886849,8d43fe17a20f62c46146810458fb0fd283c77b2a,7,2,1,26285,,,0,"Fix ""create database"" failed for postgress

This PR stops using the psycopg2’s connections context manager
because ""CREATE DATABASE"" command must be run outside any
transaction[1].
[1]: https://www.psycopg.org/docs/usage.html#transactions-control

Co-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>
Co-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>

Story: 2010761
Task: 48059
Change-Id: I73ec6c659d8ad7216460055077737429c878df33
(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)
",git fetch https://review.opendev.org/openstack/trove refs/changes/49/886849/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/fix-postgress-create-database-75fbe03e3b4e296d.yaml']",2,8d43fe17a20f62c46146810458fb0fd283c77b2a,fix-postgress-create-database-stable/zed-stable/yoga-stable/xena,"--- fixes: - | Fix guest-agent failed to start postgres container due to execution of the ""CREATE DATABASE"" statement within the context manager of psycopg library. See the following for details `Stroy 2010761 <https://storyboard.openstack.org/#!/story/2010761>`__ ",,13,2
openstack%2Ftrove~stable%2Fyoga~I73ec6c659d8ad7216460055077737429c878df33,openstack/trove,stable/yoga,I73ec6c659d8ad7216460055077737429c878df33,"Fix ""create database"" failed for postgress",MERGED,2023-06-26 05:51:03.000000000,2023-06-28 14:44:44.000000000,2023-06-28 14:43:33.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2023-06-26 05:51:03.000000000', 'files': ['trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/fix-postgress-create-database-75fbe03e3b4e296d.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/f07e85ded52abe31eaad6340d07f0d16c0a40c33', 'message': 'Fix ""create database"" failed for postgress\n\nThis PR stops using the psycopg2’s connections context manager\nbecause ""CREATE DATABASE"" command must be run outside any\ntransaction[1].\n[1]: https://www.psycopg.org/docs/usage.html#transactions-control\n\nCo-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>\nCo-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>\n\nStory: 2010761\nTask: 48059\nChange-Id: I73ec6c659d8ad7216460055077737429c878df33\n(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)\n'}]",0,886848,f07e85ded52abe31eaad6340d07f0d16c0a40c33,7,2,1,26285,,,0,"Fix ""create database"" failed for postgress

This PR stops using the psycopg2’s connections context manager
because ""CREATE DATABASE"" command must be run outside any
transaction[1].
[1]: https://www.psycopg.org/docs/usage.html#transactions-control

Co-Authored-By: hungnt1 <sudo.nguyenhung@gmail.com>
Co-Authored-By: Hirotaka Wakabayashi <hiwkby@yahoo.com>

Story: 2010761
Task: 48059
Change-Id: I73ec6c659d8ad7216460055077737429c878df33
(cherry picked from commit cd11d7677e80826d15d4a79935eb127e5129946c)
",git fetch https://review.opendev.org/openstack/trove refs/changes/48/886848/1 && git format-patch -1 --stdout FETCH_HEAD,"['trove/guestagent/datastore/postgres/service.py', 'releasenotes/notes/fix-postgress-create-database-75fbe03e3b4e296d.yaml']",2,f07e85ded52abe31eaad6340d07f0d16c0a40c33,fix-postgress-create-database-stable/zed-stable/yoga,"--- fixes: - | Fix guest-agent failed to start postgres container due to execution of the ""CREATE DATABASE"" statement within the context manager of psycopg library. See the following for details `Stroy 2010761 <https://storyboard.openstack.org/#!/story/2010761>`__ ",,13,2
openstack%2Fcharm-ceph-dashboard~master~I21d7865c41898551f3f1b1859388139b4cff2bd1,openstack/charm-ceph-dashboard,master,I21d7865c41898551f3f1b1859388139b4cff2bd1,Adds source for application in test bundles,MERGED,2023-06-21 12:18:33.000000000,2023-06-28 14:36:12.000000000,2023-06-28 14:36:12.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-06-21 12:18:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0db3b7fe72ce101843cdda074b8e0cdbe252eaf2', 'message': 'Adds source for application in test bundles\n\nChange-Id: I21d7865c41898551f3f1b1859388139b4cff2bd1\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 2, 'created': '2023-06-22 08:52:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/c00a1e3665fc24d49b40dd294867f8a2c1472a51', 'message': 'Adds source for application in test bundles\n\nChange-Id: I21d7865c41898551f3f1b1859388139b4cff2bd1\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 3, 'created': '2023-06-22 09:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0d25fb3f90d29b3b99a93138df21145808f81683', 'message': 'Adds source for application in test bundles\n\nChange-Id: I21d7865c41898551f3f1b1859388139b4cff2bd1\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 4, 'created': '2023-06-22 11:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/1a673deff2be2aa707d94eb2177b016dbca9a924', 'message': 'Adds source for application in test bundles\n\nChange-Id: I21d7865c41898551f3f1b1859388139b4cff2bd1\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 5, 'created': '2023-06-28 07:55:03.000000000', 'files': ['tests/bundles/kinetic-zed.yaml', 'tests/bundles/lunar-antelope.yaml', 'tests/bundles/focal-yoga.yaml', 'tests/bundles/jammy-yoga.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/f42b07f4bd00fc5f40395eda950381cbbd789dfc', 'message': 'Adds source for application in test bundles\n\nAlso set channels\n\nChange-Id: I21d7865c41898551f3f1b1859388139b4cff2bd1\n'}]",3,886632,f42b07f4bd00fc5f40395eda950381cbbd789dfc,22,3,5,34952,,,0,"Adds source for application in test bundles

Also set channels

Change-Id: I21d7865c41898551f3f1b1859388139b4cff2bd1
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/32/886632/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/kinetic-zed.yaml', 'tests/bundles/lunar-antelope.yaml', 'tests/bundles/focal-yoga.yaml']",3,0db3b7fe72ce101843cdda074b8e0cdbe252eaf2,testBundles, osd-devices: '/dev/test-non-existent' monitor-count: '3' source: *openstack-origin options: source: *openstack-origin options: source: *openstack-origin source: *openstack-origin, osd-devices: '/dev/test-non-existent' monitor-count: '3',32,2
openstack%2Freleases~master~Ie32a4b008e8e64b423a2e2799488559eb4bd1ef7,openstack/releases,master,Ie32a4b008e8e64b423a2e2799488559eb4bd1ef7,release oslo.messaging 14.2.1,MERGED,2023-06-26 14:50:31.000000000,2023-06-28 14:35:01.000000000,2023-06-28 14:35:01.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-06-26 14:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/f912d082ba3046b4e1fd4fa7d0527199779ff0a0', 'message': 'release oslo.messaging 14.2.1\n\nChange-Id: Ie32a4b008e8e64b423a2e2799488559eb4bd1ef7\n'}, {'number': 2, 'created': '2023-06-27 08:32:42.000000000', 'files': ['deliverables/antelope/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/63ae36a9fd6396f35f58f06b5f0c413fcfa0d0e4', 'message': 'release oslo.messaging 14.2.1\n\nChange-Id: Ie32a4b008e8e64b423a2e2799488559eb4bd1ef7\n'}]",2,886987,63ae36a9fd6396f35f58f06b5f0c413fcfa0d0e4,11,4,2,27339,,,0,"release oslo.messaging 14.2.1

Change-Id: Ie32a4b008e8e64b423a2e2799488559eb4bd1ef7
",git fetch https://review.opendev.org/openstack/releases refs/changes/87/886987/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/oslo.messaging.yaml'],1,f912d082ba3046b4e1fd4fa7d0527199779ff0a0,, - version: 14.2.1 projects: - repo: openstack/oslo.messaging hash: b4b49248bcfcb169f96ab2d47b5d207b1354ffa8 location: 14.2.1, location: 14.2.0,5,1
openstack%2Fcharm-masakari~stable%2Fussuri~I710990e8417bc3696c9d48b5ab86dfefd0f21ed5,openstack/charm-masakari,stable/ussuri,I710990e8417bc3696c9d48b5ab86dfefd0f21ed5,Specify series for subordinate charms,MERGED,2023-06-27 23:06:53.000000000,2023-06-28 14:29:07.000000000,2023-06-28 14:29:07.000000000,"[{'_account_id': 8992}, {'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 23:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/4acd1e718787e9ca2c5d28f6722058f571821ab2', 'message': 'Specify series for hacluster charm\n\nDue to bug #2025085, the functional tests fail when attempting\nto resolve the hacluster charm for the bionic series. This can\nbe worked-around by providing a series specifically for the\napplication specified in the bundle.\n\nRelated-bug: #2025085\nChange-Id: I710990e8417bc3696c9d48b5ab86dfefd0f21ed5\n'}, {'number': 2, 'created': '2023-06-27 23:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/d769a5b31d018fae3b12a83e3d78b66fef631405', 'message': 'Specify series for hacluster charm\n\nDue to bug #2025085, the functional tests fail when attempting\nto resolve the hacluster charm for the bionic series. This can\nbe worked-around by providing a series specifically for the\napplication specified in the bundle.\n\nRelated-bug: #2025085\nChange-Id: I710990e8417bc3696c9d48b5ab86dfefd0f21ed5\n'}, {'number': 3, 'created': '2023-06-27 23:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/a63b9df6d0bc41e119a8a7cc41805ca7c864db28', 'message': 'Specify series for subordinate charms\n\nDue to bug #2025085, the functional tests fail when attempting\nto resolve the hacluster and pacemaker-remote charms for the\nbionic series. This can be worked-around by providing a series\nspecifically for the application specified in the bundle.\n\nRelated-bug: #2025085\nChange-Id: I710990e8417bc3696c9d48b5ab86dfefd0f21ed5\n'}, {'number': 4, 'created': '2023-06-28 03:48:10.000000000', 'files': ['src/tests/bundles/bionic-train-pacemaker-remote-ssl.yaml', 'src/tests/bundles/bionic-ussuri-pacemaker-remote-ssl.yaml', 'src/tests/bundles/focal-ussuri-pacemaker-remote-ssl.yaml'], 'web_link': 'https://opendev.org/openstack/charm-masakari/commit/cb36a7163ed19d82170f1814bceb189f701de464', 'message': 'Specify series for subordinate charms\n\nDue to bug #2025085, the functional tests fail when attempting\nto resolve the hacluster and pacemaker-remote charms for the\nbionic series. This can be worked-around by providing a series\nspecifically for the application specified in the bundle.\n\nRelated-bug: #2025085\nChange-Id: I710990e8417bc3696c9d48b5ab86dfefd0f21ed5\n'}]",2,887122,cb36a7163ed19d82170f1814bceb189f701de464,17,5,4,8992,,,0,"Specify series for subordinate charms

Due to bug #2025085, the functional tests fail when attempting
to resolve the hacluster and pacemaker-remote charms for the
bionic series. This can be worked-around by providing a series
specifically for the application specified in the bundle.

Related-bug: #2025085
Change-Id: I710990e8417bc3696c9d48b5ab86dfefd0f21ed5
",git fetch https://review.opendev.org/openstack/charm-masakari refs/changes/22/887122/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/bionic-train-pacemaker-remote-ssl.yaml', 'src/tests/bundles/bionic-ussuri-pacemaker-remote-ssl.yaml', 'src/tests/bundles/focal-ussuri-pacemaker-remote-ssl.yaml']",3,4acd1e718787e9ca2c5d28f6722058f571821ab2,bug/ussuri/2025085, series: focal,,3,0
openstack%2Fglance~stable%2Fyoga~I0808dc0b1b34b527e38aa137c1dd25e1fc06409f,openstack/glance,stable/yoga,I0808dc0b1b34b527e38aa137c1dd25e1fc06409f,Enabled new defaults and scope checks by default,ABANDONED,2023-05-04 15:21:14.000000000,2023-06-28 14:23:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-04 15:21:14.000000000', 'files': ['glance/tests/unit/test_cache_middleware.py', '.zuul.yaml', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/v2/test_image_members_resource.py', 'releasenotes/notes/enable-enforce-scope-and-new-defaults-ef543183e6c2eabb.yaml', 'glance/tests/unit/test_policy.py', 'requirements.txt', 'glance/api/policy.py', 'glance/common/config.py', 'glance/tests/unit/utils.py', 'glance/tests/functional/__init__.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/366c727d6b15b32c42f7363917c4e3a1a82fe867', 'message': 'Enabled new defaults and scope checks by default\n\nEnabling the enforce scope and new defaults by default in glance\n\nRelated blueprint secure-rbac\n\nChange-Id: I0808dc0b1b34b527e38aa137c1dd25e1fc06409f\n'}]",0,882329,366c727d6b15b32c42f7363917c4e3a1a82fe867,3,1,1,8122,,,0,"Enabled new defaults and scope checks by default

Enabling the enforce scope and new defaults by default in glance

Related blueprint secure-rbac

Change-Id: I0808dc0b1b34b527e38aa137c1dd25e1fc06409f
",git fetch https://review.opendev.org/openstack/glance refs/changes/29/882329/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_cache_middleware.py', '.zuul.yaml', 'glance/tests/unit/v2/test_images_resource.py', 'glance/tests/unit/v2/test_image_data_resource.py', 'glance/tests/unit/v2/test_image_members_resource.py', 'releasenotes/notes/enable-enforce-scope-and-new-defaults-ef543183e6c2eabb.yaml', 'glance/tests/unit/test_policy.py', 'requirements.txt', 'glance/api/policy.py', 'glance/common/config.py', 'glance/tests/unit/utils.py', 'glance/tests/functional/__init__.py']",12,366c727d6b15b32c42f7363917c4e3a1a82fe867,dnm-debuggin-rbac-failures, self.enforce_secure_rbac = True self.enforce_new_defaults = True enforce_secure_rbac=%(enforce_secure_rbac)senforce_new_defaults=%(enforce_new_defaults)s,,177,44
openstack%2Fglance~stable%2Fyoga~I3ec5a33df20e1cfb6673f4ff1c7c91aacd065532,openstack/glance,stable/yoga,I3ec5a33df20e1cfb6673f4ff1c7c91aacd065532,Limit CaptureRegion sizes in format_inspector for VMDK and VHDX,ABANDONED,2023-03-14 05:16:42.000000000,2023-06-28 14:23:08.000000000,,"[{'_account_id': 8122}, {'_account_id': 19138}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-14 05:16:42.000000000', 'files': ['glance/tests/unit/common/test_format_inspector.py', 'glance/common/format_inspector.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/12c6d95e44311b452050755883d08dd7c59c8702', 'message': 'Limit CaptureRegion sizes in format_inspector for VMDK and VHDX\n\nVMDK:\nWhen parsing a VMDK file to calculate its size, the format_inspector\ndetermines the location of the Descriptor section by reading two\nuint64 from the headers of the file and uses them to create the\ndescriptor CaptureRegion.\n\nIt would be possible to craft a VMDK file that commands the\nformat_inspector to create a very big CaptureRegion, thus exhausting\nresources on the glance-api process.\n\nThis patch binds the beginning of the descriptor to 0x200 and limits\nthe size of the CaptureRegion to 1MB, similar to how the VMDK\ndescriptor is parsed by qemu.\n\nVHDX:\nIt is a bit more involved, but similar: when looking for the\nVIRTUAL_DISK_SIZE metadata, the format_inspector was creating an\nunbounded CaptureRegion.\n\nIn the same way as it seems to be done in Qemu, we now limit the upper\nbound of this CaptureRegion.\n\nCloses-Bug: #2006490\nChange-Id: I3ec5a33df20e1cfb6673f4ff1c7c91aacd065532\n(cherry picked from commit d4d33ee30f303f783c0640cd72acb31b313e1164)\n(cherry picked from commit 06a18202ab52c64803f044b8f848ed1c160905d2)\n'}]",1,877266,12c6d95e44311b452050755883d08dd7c59c8702,9,3,1,9303,,,0,"Limit CaptureRegion sizes in format_inspector for VMDK and VHDX

VMDK:
When parsing a VMDK file to calculate its size, the format_inspector
determines the location of the Descriptor section by reading two
uint64 from the headers of the file and uses them to create the
descriptor CaptureRegion.

It would be possible to craft a VMDK file that commands the
format_inspector to create a very big CaptureRegion, thus exhausting
resources on the glance-api process.

This patch binds the beginning of the descriptor to 0x200 and limits
the size of the CaptureRegion to 1MB, similar to how the VMDK
descriptor is parsed by qemu.

VHDX:
It is a bit more involved, but similar: when looking for the
VIRTUAL_DISK_SIZE metadata, the format_inspector was creating an
unbounded CaptureRegion.

In the same way as it seems to be done in Qemu, we now limit the upper
bound of this CaptureRegion.

Closes-Bug: #2006490
Change-Id: I3ec5a33df20e1cfb6673f4ff1c7c91aacd065532
(cherry picked from commit d4d33ee30f303f783c0640cd72acb31b313e1164)
(cherry picked from commit 06a18202ab52c64803f044b8f848ed1c160905d2)
",git fetch https://review.opendev.org/openstack/glance refs/changes/66/877266/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/common/test_format_inspector.py', 'glance/common/format_inspector.py']",2,12c6d95e44311b452050755883d08dd7c59c8702,fix_format_inspector_vmdk-stable/zed-stable/yoga," VHDX_METADATA_TABLE_MAX_SIZE = 32 * 2048 # From qemu item_length = min(item_length, self.VHDX_METADATA_TABLE_MAX_SIZE) # The beginning and max size of the descriptor is also hardcoded in Qemu # at 0x200 and 1MB - 1 DESC_OFFSET = 0x200 DESC_MAX_SIZE = (1 << 20) - 1 # Since we parse both desc_sec and desc_num (the location of the # VMDK's descriptor, expressed in 512 bytes sectors) we enforce a # check on the bounds to create a reasonable CaptureRegion. This # is similar to how it's done in qemu. desc_offset = desc_sec * 512 desc_size = min(desc_num * 512, self.DESC_MAX_SIZE) if desc_offset != self.DESC_OFFSET: raise ImageFormatError(""Wrong descriptor location"") desc_offset, desc_size))"," return return desc_sec * 512, desc_num * 512))",139,3
openstack%2Fglance~master~I2724e2cc0f6225ac2bec02061ced9d2e1cb71dd8,openstack/glance,master,I2724e2cc0f6225ac2bec02061ced9d2e1cb71dd8,Fix project_domain_name and user_domain_name in doc,NEW,2017-11-29 03:15:55.000000000,2023-06-28 14:15:16.000000000,,"[{'_account_id': 4393}, {'_account_id': 5202}, {'_account_id': 9414}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 27248}]","[{'number': 1, 'created': '2017-11-29 03:15:55.000000000', 'files': ['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/glance/commit/a4aa56f0eb474a45a3d83e53a53295b1d56a80b0', 'message': 'Fix project_domain_name and user_domain_name in doc\n\nChange-Id: I2724e2cc0f6225ac2bec02061ced9d2e1cb71dd8\nCloses-Bug: #1735051\n'}]",1,523666,a4aa56f0eb474a45a3d83e53a53295b1d56a80b0,6,6,1,9414,,,0,"Fix project_domain_name and user_domain_name in doc

Change-Id: I2724e2cc0f6225ac2bec02061ced9d2e1cb71dd8
Closes-Bug: #1735051
",git fetch https://review.opendev.org/openstack/glance refs/changes/66/523666/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/install-ubuntu.rst', 'doc/source/install/install-obs.rst', 'doc/source/install/install-rdo.rst']",3,a4aa56f0eb474a45a3d83e53a53295b1d56a80b0,bug/1735051, project_domain_id = default user_domain_id = default project_domain_id = default user_domain_id = default, project_domain_name = default user_domain_name = default project_domain_name = default user_domain_name = default,12,12
openstack%2Fkuryr~stable%2Fyoga~I9f988e485c1c19eca41175e29fc09c1e28d38b06,openstack/kuryr,stable/yoga,I9f988e485c1c19eca41175e29fc09c1e28d38b06,Fix tox4 error,MERGED,2023-06-26 05:25:51.000000000,2023-06-28 14:06:45.000000000,2023-06-28 14:04:51.000000000,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 05:25:51.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/d8cb765e69ee26fcd6293a5871093fb2397d96de', 'message': 'Fix tox4 error\n\ntox.ini started failing with Tox4 which had some\nincompatible changes. One of them is due to the\nskipsdist = True.\n\nFixing tox.ini for tox4 changes.\n\nAdditional changes:\n* zuul: Declare queue at top level\n* fix onflicting with base python error\n\nChange-Id: I9f988e485c1c19eca41175e29fc09c1e28d38b06\n(cherry picked from commit deaf2f4f810afda8bb7fd8e6cd99be9a8b1ab264)\n(cherry picked from commit 2719d659d97e57929752a4cc9757d79894afd06f)\n'}]",0,886836,d8cb765e69ee26fcd6293a5871093fb2397d96de,9,3,1,13252,,,0,"Fix tox4 error

tox.ini started failing with Tox4 which had some
incompatible changes. One of them is due to the
skipsdist = True.

Fixing tox.ini for tox4 changes.

Additional changes:
* zuul: Declare queue at top level
* fix onflicting with base python error

Change-Id: I9f988e485c1c19eca41175e29fc09c1e28d38b06
(cherry picked from commit deaf2f4f810afda8bb7fd8e6cd99be9a8b1ab264)
(cherry picked from commit 2719d659d97e57929752a4cc9757d79894afd06f)
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/36/886836/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,d8cb765e69ee26fcd6293a5871093fb2397d96de,fix-zuul-errors,,skipsdist = Truebasepython = python3,2,4
openstack%2Fneutron~master~I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea,openstack/neutron,master,I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea,Add default policy on device_id param create_port,NEW,2022-10-13 11:51:13.000000000,2023-06-28 13:53:15.000000000,,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11583}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-10-13 11:51:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e99d8c525c5c952b89704374e4ba3fd48a9864aa', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nbug #1986969\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 2, 'created': '2022-10-14 09:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4e42c3c70eae68e9e1cc5f67757eb0292f2e73f', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nbug #1986969\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 3, 'created': '2022-10-14 12:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c823a2c2901776706fe830b1e491a5cf3835465', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nbug #1986969\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 4, 'created': '2022-10-14 12:15:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/11d53124d84705f873c8285fc42fcec6f4109591', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 5, 'created': '2022-10-19 14:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c87b6fee337e5b60b680905e48ba38c91755cb03', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 6, 'created': '2022-11-28 14:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b8c5b84baf528da62fbb3b0ece412a03f78646ac', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 7, 'created': '2022-12-02 17:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d48785ed396d8d8d148ff9d925d37f2a14b2bf7', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 8, 'created': '2023-01-20 11:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f17e611f55af49855d344b44660470a87adb4df', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\nDepends-on: https://review.opendev.org/c/openstack/nova/+/861172\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 9, 'created': '2023-01-20 13:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a0bd6a65b98b14117919a260776e4bf4576f6cb1', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\nDepends-on: https://review.opendev.org/c/openstack/nova/+/861172\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 10, 'created': '2023-01-20 16:00:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cb2004bb01349a8b62f26b1f7ad40f2fe761c5b9', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\nDepends-on: https://review.opendev.org/c/openstack/nova/+/861172\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 11, 'created': '2023-01-23 08:43:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1cfe68abeb59dce7ddd1e2a247917b5a21b81ef7', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\nDepends-on: https://review.opendev.org/c/openstack/nova/+/861172\nDepends-on: https://review.opendev.org/c/openstack/rally-openstack/+/871452\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 12, 'created': '2023-06-19 08:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dec384ba012f58ceaa88713d2a762a3f06a469d4', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\nDepends-on: https://review.opendev.org/c/openstack/rally-openstack/+/871452\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 13, 'created': '2023-06-19 12:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0a286a1c329665be165ea4098aafa7d34dd04676', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\nDepends-on: https://review.opendev.org/c/openstack/rally-openstack/+/871452\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 14, 'created': '2023-06-22 12:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/95b1e45642b77d2eed05e7841345e64659faa033', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin.\n\nCloses-Bug: #1986969\nDepends-on: https://review.opendev.org/c/openstack/rally-openstack/+/871452\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 15, 'created': '2023-06-26 09:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7e3601425884e6c9ec9edb71940ba1bb889fef52', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin or service role.\n\nCloses-Bug: #1986969\nDepends-on: https://review.opendev.org/c/openstack/rally-openstack/+/871452\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}, {'number': 16, 'created': '2023-06-27 12:18:04.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'releasenotes/notes/add-default-policy-on-create_port-for-device_id-parameter-78d1d5230d8dd3a8.yaml', 'neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_resources.py', 'neutron/conf/policies/port.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/tests/unit/conf/policies/test_port.py', 'rally-jobs/task-neutron.yaml', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c114bfdfdd768386545a65d534d0dd1cdb3c70fd', 'message': 'Add default policy on device_id param create_port\n\nAdd default policy on create_port for device_id parameter. This\nparameter is only for admin or service role.\n\nCloses-Bug: #1986969\nDepends-on: https://review.opendev.org/c/openstack/nova/+/861172\nDepends-on: https://review.opendev.org/c/openstack/rally-openstack/+/871452\n\nChange-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea\n'}]",41,861169,c114bfdfdd768386545a65d534d0dd1cdb3c70fd,100,8,16,33607,,,0,"Add default policy on device_id param create_port

Add default policy on create_port for device_id parameter. This
parameter is only for admin or service role.

Closes-Bug: #1986969
Depends-on: https://review.opendev.org/c/openstack/nova/+/861172
Depends-on: https://review.opendev.org/c/openstack/rally-openstack/+/871452

Change-Id: I06f498bff7c6d619a396e66e7ce4d7ce48c5f8ea
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/861169/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/policies/port.py'],1,e99d8c525c5c952b89704374e4ba3fd48a9864aa,bug-1986969," name='create_port:device_id', check_str=base.ADMIN, scope_types=['project'], description='Specify ``device_id`` attribute when creating a port', operations=ACTION_POST, ), policy.DocumentedRuleDefault(",,7,0
openstack%2Fopenstacksdk~master~I7e1132895ee2b259fba38cb965a5235464a35270,openstack/openstacksdk,master,I7e1132895ee2b259fba38cb965a5235464a35270,"Revert ""utils: Add 'supports_version'""",ABANDONED,2023-06-28 13:09:46.000000000,2023-06-28 13:52:53.000000000,,"[{'_account_id': 15334}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-06-28 13:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/db8dfe84b75a0f9aabea23882146c8ff9380b253', 'message': 'Revert ""utils: Add \'supports_version\'""\n\nThis reverts commit 3cb5bc98573e8eb7d3487121b7b59ebd535035c5.\n\nReason for revert: This broken py3.6\n\nChange-Id: I7e1132895ee2b259fba38cb965a5235464a35270\n'}, {'number': 2, 'created': '2023-06-28 13:18:53.000000000', 'files': ['openstack/utils.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/6d3a340c943db2c208a393c3e1987852ce105d89', 'message': 'Revert ""utils: Add \'supports_version\'""\n\nThis reverts commit 3cb5bc98573e8eb7d3487121b7b59ebd535035c5.\n\nReason for revert: This broken py3.6\n\nChange-Id: I7e1132895ee2b259fba38cb965a5235464a35270\n'}]",2,887068,6d3a340c943db2c208a393c3e1987852ce105d89,6,4,2,12404,,,0,"Revert ""utils: Add 'supports_version'""

This reverts commit 3cb5bc98573e8eb7d3487121b7b59ebd535035c5.

Reason for revert: This broken py3.6

Change-Id: I7e1132895ee2b259fba38cb965a5235464a35270
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/68/887068/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/utils.py'],1,db8dfe84b75a0f9aabea23882146c8ff9380b253,fix-python3.6, Checks the min and max microversion asserted by the service and checks to make sure that ``min <= microversion <= max``. Current default microversion is taken into consideration if set and verifies that ``microversion <= default``. is not supported be the server side or is higher than the current default microversion. :returns: True if the service supports the microversion. :raises: :class:`~openstack.exceptions.SDKException` when requested microversion is not supported.," from __future__ import annotations from keystoneauth1 import adapter as ks_adapterdef supports_version( adapter: ks_adapter.Adapter, version: str, raise_exception: bool = False, ) -> bool: """"""Determine if the given adapter supports the given version. Checks the version asserted by the service and ensures this matches the provided version. ``version`` can be a major version of a major-minor version :param adapter: :class:`~keystoneauth1.adapter.Adapter` instance. :param version: String containing the desired version. :param raise_exception: Raise exception when requested version is not supported by the server. :returns: ``True`` if the service supports the version, else ``False``. :raises: :class:`~openstack.exceptions.SDKException` when ``raise_exception`` is ``True`` and requested version is not supported. """""" required = discover.normalize_version_number(version) if discover.version_match(required, adapter.get_api_major_version()): return True if raise_exception: raise exceptions.SDKException( f'Required version {version} is not supported by the server' ) return False Checks the min and max microversion asserted by the service and ensures ``min <= microversion <= max``. If set, the current default microversion is taken into consideration to ensure ``microversion <= default``. is not supported by the server or is higher than the current default microversion. :returns: True if the service supports the microversion, else False. :raises: :class:`~openstack.exceptions.SDKException` when ``raise_exception`` is ``True`` and requested microversion is not supported.",10,45
openstack%2Fnova~master~I9bbcfc0dd008162499e65437a689574b80e5c18a,openstack/nova,master,I9bbcfc0dd008162499e65437a689574b80e5c18a,Force refresh of instance info cache on event,ABANDONED,2020-01-14 11:13:19.000000000,2023-06-28 13:51:27.000000000,,"[{'_account_id': 4690}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11583}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-14 11:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0c6183b603f3797eb9257207de5c37481164e5c', 'message': 'Force refresh of instance info cache on event\n\nIf, for some reason, nova already have an info cache, then it would\nnot refresh it (even if it is wrong).\n\nSo, when nova receive an external event network-changed, I propose to\nrefresh the instance info cache, to be sure that what nova stores in\nits database is taken from neutron.\n\nThis will also help operators managing wrong info cache, by doing an\nhttp request against nova event API (admin only) in order to force\ntriggering this info cache update.\n\nChange-Id: I9bbcfc0dd008162499e65437a689574b80e5c18a\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 2, 'created': '2020-01-15 09:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c06ca27353649f4ea091b8d97c598273abc368e2', 'message': 'Force refresh of instance info cache on event\n\nIf, for some reason, nova already have an info cache, then it would\nnot refresh it (even if it is wrong).\n\nSo, when nova receive an external event network-changed, I propose to\nrefresh the instance info cache, to be sure that what nova stores in\nits database is taken from neutron.\n\nThis will also help operators managing wrong info cache, by doing an\nhttp request against nova event API (admin only) in order to force\ntriggering this info cache update.\n\nChange-Id: I9bbcfc0dd008162499e65437a689574b80e5c18a\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}, {'number': 3, 'created': '2020-02-06 12:37:11.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b22152da36455a30b4109c3eb3169da592887081', 'message': 'Force refresh of instance info cache on event\n\nIf, for some reason, nova already have an info cache, then it would\nnot refresh it (even if it is wrong).\n\nSo, when nova receive an external event network-changed, I propose to\nrefresh the instance info cache, to be sure that what nova stores in\nits database is taken from neutron.\n\nThis will also help operators managing wrong info cache, by doing an\nhttp request against nova event API (admin only) in order to force\ntriggering this info cache update.\n\nChange-Id: I9bbcfc0dd008162499e65437a689574b80e5c18a\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}]",6,702394,b22152da36455a30b4109c3eb3169da592887081,43,12,3,11583,,,0,"Force refresh of instance info cache on event

If, for some reason, nova already have an info cache, then it would
not refresh it (even if it is wrong).

So, when nova receive an external event network-changed, I propose to
refresh the instance info cache, to be sure that what nova stores in
its database is taken from neutron.

This will also help operators managing wrong info cache, by doing an
http request against nova event API (admin only) in order to force
triggering this info cache update.

Change-Id: I9bbcfc0dd008162499e65437a689574b80e5c18a
Signed-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/702394/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,e0c6183b603f3797eb9257207de5c37481164e5c,dev/am/force_refresh_on_network_changed," context, instance, refresh_vif_id=event.tag, force_refresh=True)"," context, instance, refresh_vif_id=event.tag)",6,3
openstack%2Fkeystonemiddleware~master~I8870cf849aec9d4bd1e59d911704ec2e4cabe09e,openstack/keystonemiddleware,master,I8870cf849aec9d4bd1e59d911704ec2e4cabe09e,tox: Trivial formatting changes,MERGED,2023-06-27 17:03:42.000000000,2023-06-28 13:40:40.000000000,2023-06-28 13:39:36.000000000,"[{'_account_id': 7414}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 17:03:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3f12bc6e3363f3c3898cb01217f3993e9c5dc0fe', 'message': 'tox: Trivial formatting changes\n\nChange-Id: I8870cf849aec9d4bd1e59d911704ec2e4cabe09e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,887086,3f12bc6e3363f3c3898cb01217f3993e9c5dc0fe,10,3,1,15334,,,0,"tox: Trivial formatting changes

Change-Id: I8870cf849aec9d4bd1e59d911704ec2e4cabe09e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/86/887086/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3f12bc6e3363f3c3898cb01217f3993e9c5dc0fe,tox-4,setenv = VIRTUAL_ENV={envdir} OS_STDOUT_NOCAPTURE=False OS_STDERR_NOCAPTURE=False -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt {[testenv]setenv} PYTHON=coverage run --source keystonemiddleware --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml[testenv:docs] deps = -r{toxinidir}/doc/requirements.txt commands= doc8 doc/source sphinx-build -W -b html doc/source doc/build/html [testenv:pdf-docs] envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} allowlist_externals = make rm commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf [testenv:releasenotes] envdir = {toxworkdir}/docs deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html keystonemiddleware.i18n,setenv = VIRTUAL_ENV={envdir} OS_STDOUT_NOCAPTURE=False OS_STDERR_NOCAPTURE=False -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt -r{toxinidir}/test-requirements.txt {[testenv]setenv} PYTHON=coverage run --source keystonemiddleware --parallel-mode stestr run {posargs} coverage combine coverage html -d cover coverage xml -o cover/coverage.xml[testenv:docs] deps = -r{toxinidir}/doc/requirements.txt commands= doc8 doc/source sphinx-build -W -b html doc/source doc/build/html [testenv:pdf-docs] envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} allowlist_externals = make rm commands = rm -rf doc/build/pdf sphinx-build -W -b latex doc/source doc/build/pdf make -C doc/build/pdf [testenv:releasenotes] deps = -r{toxinidir}/doc/requirements.txt commands = sphinx-build -a -E -W -d releasenotes/build/doctrees -b html releasenotes/source releasenotes/build/html keystonemiddleware.i18n,37,35
openstack%2Fos-net-config~stable%2Ftrain~Ia5e95daac6d8766a222d8bdde3e233475e203fa9,openstack/os-net-config,stable/train,Ia5e95daac6d8766a222d8bdde3e233475e203fa9,Add ethtool_opts config for sriov VF,MERGED,2023-06-15 07:14:17.000000000,2023-06-28 13:38:04.000000000,2023-06-28 13:36:56.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 07:14:17.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/schema.yaml', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/2d16218b03c4416fe14decaef782035ac2d23ab4', 'message': 'Add ethtool_opts config for sriov VF\n\nSR-IOV VFs used for NIC partitioning shall include ethtool_opts\nconfiguration as well.\n\nChange-Id: Ia5e95daac6d8766a222d8bdde3e233475e203fa9\n(cherry picked from commit c99f19ce78fb83518ddcbb00f6a187df9516b424)\n'}]",1,886133,2d16218b03c4416fe14decaef782035ac2d23ab4,12,3,1,18904,,,0,"Add ethtool_opts config for sriov VF

SR-IOV VFs used for NIC partitioning shall include ethtool_opts
configuration as well.

Change-Id: Ia5e95daac6d8766a222d8bdde3e233475e203fa9
(cherry picked from commit c99f19ce78fb83518ddcbb00f6a187df9516b424)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/33/886133/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/schema.yaml', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml']",4,2d16218b03c4416fe14decaef782035ac2d23ab4,," # Set ethtool options (optional) ethtool_opts: ""speed 1000 duplex full""",,12,4
openstack%2Ftripleo-quickstart-extras~master~I2829307d1013e96317338eccc7a4b16376fb1d2b,openstack/tripleo-quickstart-extras,master,I2829307d1013e96317338eccc7a4b16376fb1d2b,Add steps required to run minor update on overcloud,MERGED,2023-02-08 15:39:59.000000000,2023-06-28 13:36:59.000000000,2023-06-28 13:36:59.000000000,"[{'_account_id': 8297}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-02-08 15:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b931cbb06eb30c729252ccbc710c381c386d56f5', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 2, 'created': '2023-04-05 20:46:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a43a925587f698f352dc1f958d574cc36d1e8def', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 3, 'created': '2023-04-05 20:58:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8401ba8e5b88929700f2cd7102347a4b43ca9979', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 4, 'created': '2023-04-06 10:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bd594263c7d48d64a9c4b8d4a8a56d50d0c01252', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 5, 'created': '2023-04-06 16:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7cbcaa9fab527f207f10514a91525f18a75f2bd6', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 6, 'created': '2023-04-07 10:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/261952757ca5cd52d1f6b09ff611de4d447503c2', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 7, 'created': '2023-04-07 11:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f0b80f768a756be1edac70b851a5bfe12c852080', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 8, 'created': '2023-04-11 19:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/815c8fb4e89d381ac6913600b3638ea526dc17f6', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 9, 'created': '2023-04-12 07:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3b70d77aa12fb6763762ce2e7d7c5de29c059fa5', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 10, 'created': '2023-04-12 15:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f0edb9a2dfeb3cbdeb8e3d393db98c814de9bc14', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 11, 'created': '2023-04-13 07:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0dbee08ffcc06f4a30259ba1fe5a27355d0abfde', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 12, 'created': '2023-04-13 16:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a4014c99902a677094c29b02d6bffcfe5404c2c1', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 13, 'created': '2023-04-13 16:26:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/95b41e6ec07c1084dc7af8c6c13631c028797589', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 14, 'created': '2023-04-14 13:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2bf153b4269c4b1030b1c1eda32869b1f3bf7c41', 'message': ""Update containers for update jobs.\n\nWIP. Just checking what we're missing here.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 15, 'created': '2023-04-17 10:33:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3b75f99b39e6dd118af7f49f441a0f4a70e1abff', 'message': ""Update containers for update jobs\n\nWIP. Just checking what we're missing here.\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 16, 'created': '2023-04-17 21:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/68c451c42ce67f6401d216919a52f6f86a49db08', 'message': ""Update containers for update jobs\n\nWIP. Just checking what we're missing here.\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 17, 'created': '2023-05-08 07:14:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0bcd37a99b740770fdf504d929ffb56246b7df21', 'message': ""Update containers for update jobs\n\nWIP. Just checking what we're missing here.\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 18, 'created': '2023-05-11 20:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d25f70a729503e74be5dddd376e972fe8ed72bbd', 'message': ""Update containers for update jobs\n\nWIP. Just checking what we're missing here.\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 19, 'created': '2023-05-16 21:08:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/640c24d9493c853f614a5a2d9465fffb19b958cb', 'message': ""Update containers for update jobs\n\nWIP. Just checking what we're missing here.\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 20, 'created': '2023-05-17 10:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5934bfd2a850c2122d1e0df3f85d7dc9ca9376c3', 'message': ""Update containers for update jobs\n\nWIP. Just checking what we're missing here.\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 21, 'created': '2023-05-19 15:55:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/56a22ac4d9b0e1137ff834c09198c73719097045', 'message': ""Update containers for update jobs\n\nWIP. Just checking what we're missing here.\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 22, 'created': '2023-05-22 11:23:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3b45540ea8789f5592762f3b8f8c2ea3033f95e5', 'message': ""Update containers for update jobs\n\nWIP. Just checking what we're missing here.\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 23, 'created': '2023-05-23 18:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d358a480d3caf8b53b5de89e828425345eeae489', 'message': ""Update containers for update jobs\n\nWIP. Just checking what we're missing here.\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n""}, {'number': 24, 'created': '2023-05-25 06:38:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e05c4ec99c377a3ed649ee6bba93c865657fc7a5', 'message': 'Update containers in minor update jobs\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n'}, {'number': 25, 'created': '2023-05-25 12:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c2c3b532cc1cf7869a192e92d38010c00a9fa31f', 'message': 'Update containers in minor update jobs\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n'}, {'number': 26, 'created': '2023-05-26 12:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/536d92eef972946ffa7cce14b9caf4b858474bb9', 'message': 'Add steps required to run minor update on overcloud\n\nAdd steps to multinode-overcloud-update.yml playbook which are required\nbefore running overcloud update. The prerequisites for starting\novercloud update for tripleo-upgrade are:\n\n- updated dlrn repos definitions on overcloud nodes\n- updated containers-prepare-parameter.yaml file on undercloud\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n'}, {'number': 27, 'created': '2023-06-02 13:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c1754bd2d09d893dc1a5c595d9ef16523d2385b1', 'message': 'Add steps required to run minor update on overcloud\n\nAdd steps to multinode-overcloud-update.yml playbook which are required\nbefore running full minor update on overcloud. The prerequisites for\nstarting overcloud update for tripleo-upgrade are:\n\n- updated dlrn repos definitions on overcloud nodes\n- updated containers-prepare-parameter.yaml file on undercloud\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n'}, {'number': 28, 'created': '2023-06-02 13:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0313ba61836caa7b7071fa888764db8aeae99988', 'message': 'Add steps required to run minor update on overcloud\n\nAdd steps to multinode-overcloud-update.yml playbook which are required\nbefore running full minor update on overcloud. The prerequisites for\nstarting overcloud update for tripleo-upgrade are:\n\n- updated dlrn repos definitions on overcloud nodes\n- updated containers-prepare-parameter.yaml file on undercloud\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n'}, {'number': 29, 'created': '2023-06-02 14:05:52.000000000', 'files': ['playbooks/multinode-overcloud-update.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/5d0662d7354b0f074846a988da63a42537368713', 'message': 'Add steps required to run minor update on overcloud\n\nAdd steps to multinode-overcloud-update.yml playbook which are required\nbefore running full minor update on overcloud. The prerequisites for\nstarting overcloud update for tripleo-upgrade are:\n\n- updated dlrn repos definitions on overcloud nodes\n- updated containers-prepare-parameter.yaml file on undercloud\n\nResolves: #2015993\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307\n\nChange-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b\n'}]",46,873125,5d0662d7354b0f074846a988da63a42537368713,117,6,29,8297,,,0,"Add steps required to run minor update on overcloud

Add steps to multinode-overcloud-update.yml playbook which are required
before running full minor update on overcloud. The prerequisites for
starting overcloud update for tripleo-upgrade are:

- updated dlrn repos definitions on overcloud nodes
- updated containers-prepare-parameter.yaml file on undercloud

Resolves: #2015993
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/880162
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/883307

Change-Id: I2829307d1013e96317338eccc7a4b16376fb1d2b
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/25/873125/25 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/multinode-overcloud-update.yml'],1,b931cbb06eb30c729252ccbc710c381c386d56f5,minor-update-job,"# the yum repos ALWAYS need to change - name: Configure next release repository in the undercloud hosts: undercloud tags: - undercloud-upgrade vars: repo_setup_run_update: false # This should not be enabled because the updating of the packages occurs # durring the upgrade process. For general installation it's ok to have # this enabled, but this needs to be disabled for upgrades ib_gating_repo_update: false roles: - role: repo-setup # note: in upstream CI the gerrit change is built on the content-provider # this task will be skipped upstream - name: Build the gerrit changes on the relevant release for the upgrade hosts: undercloud tags: - build vars: repo_setup_run_update: false artg_compressed_gating_repo: ""${HOME}/gating_repo.tar.gz"" # This should not be enabled because the updating of the packages occurs # durring the upgrade process. For general installation it's ok to have # this enabled, but this needs to be disabled for upgrades ib_gating_repo_update: false roles: - role: build-test-packages - {role: install-built-repo, when: compressed_gating_repo is defined} - name: Prepare containers for Upgrade hosts: undercloud gather_facts: false tags: - overcloud-prep-containers roles: - role: overcloud-prep-containers # This need the new repo in place. update_containers: true # Do not overwrite the deployment log if any. overcloud_prep_containers_log: ""upgrade_overcloud_prep_containers.log"" overcloud_prep_containers_script: ""upgrade_overcloud_prep_containers.sh"" when: containerized_overcloud_upgrade|default(false)|bool ",,45,0
openstack%2Ftripleo-ci~master~Iea1167424dea0fb36862ae7ad73c5b1d8de54a88,openstack/tripleo-ci,master,Iea1167424dea0fb36862ae7ad73c5b1d8de54a88,Use the latest CentOS image for image build,MERGED,2023-06-28 03:09:26.000000000,2023-06-28 13:36:57.000000000,2023-06-28 13:36:57.000000000,"[{'_account_id': 8449}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-06-28 03:09:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/40dc1f48327f8e404bc93be16b146384fa99f1d1', 'message': ""Use the latest CentOS image for image build\n\nThe c9s image currently used no longer exists in the repository. Let's\nswitch to the latest to avoid updating the image name when old images\nare purged.\n\nChange-Id: Iea1167424dea0fb36862ae7ad73c5b1d8de54a88\n""}, {'number': 2, 'created': '2023-06-28 08:38:48.000000000', 'files': ['roles/oooci-build-images/vars/centos-9.yaml', 'roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f29a718924ba0b0726f78c4956334950314fb2a3', 'message': ""Use the latest CentOS image for image build\n\nThe c9s image currently used no longer exists in the repository. Let's\nswitch to the latest to avoid updating the image name when old images\nare purged.\n\nRelated-Bug: #2025224\nChange-Id: Iea1167424dea0fb36862ae7ad73c5b1d8de54a88\n""}]",1,887128,f29a718924ba0b0726f78c4956334950314fb2a3,11,4,2,9816,,,0,"Use the latest CentOS image for image build

The c9s image currently used no longer exists in the repository. Let's
switch to the latest to avoid updating the image name when old images
are purged.

Related-Bug: #2025224
Change-Id: Iea1167424dea0fb36862ae7ad73c5b1d8de54a88
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/28/887128/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oooci-build-images/vars/centos-9.yaml', 'roles/oooci-build-images/defaults/main.yaml']",2,40dc1f48327f8e404bc93be16b146384fa99f1d1,cs9-image,tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-latest.x86_64.qcow2,tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20230501.0.x86_64.qcow2,2,2
openstack%2Fopenstack-ansible~master~I5932e8b66bb4674fb1b39442fea467c075b30989,openstack/openstack-ansible,master,I5932e8b66bb4674fb1b39442fea467c075b30989,Pin version of setuptools,MERGED,2023-06-22 09:04:44.000000000,2023-06-28 13:31:32.000000000,2023-06-28 13:30:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-06-22 09:04:44.000000000', 'files': ['global-requirement-pins.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aa558cc368bb9e34d62c4d6c736d0aca9ea874a8', 'message': 'Pin version of setuptools\n\nWe used to pin version of setuptools in global-requirements-pins\nuntil it got defined in upper-constraints. Since setuptools no longer\nkept in u-c since Zed, it makes sense to return pinning back.\n\nOn top of that a major setuptools version was released recently with\nbreaking changes, that affect gnocchi at least [1]\n\n[1] https://github.com/gnocchixyz/gnocchi/issues/1304\n\nChange-Id: I5932e8b66bb4674fb1b39442fea467c075b30989\n'}]",4,886731,aa558cc368bb9e34d62c4d6c736d0aca9ea874a8,12,4,1,28619,,,0,"Pin version of setuptools

We used to pin version of setuptools in global-requirements-pins
until it got defined in upper-constraints. Since setuptools no longer
kept in u-c since Zed, it makes sense to return pinning back.

On top of that a major setuptools version was released recently with
breaking changes, that affect gnocchi at least [1]

[1] https://github.com/gnocchixyz/gnocchi/issues/1304

Change-Id: I5932e8b66bb4674fb1b39442fea467c075b30989
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/31/886731/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirement-pins.txt'],1,aa558cc368bb9e34d62c4d6c736d0aca9ea874a8,,setuptools==67.8.0,,1,0
openstack%2Ftripleo-heat-templates~master~I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09,openstack/tripleo-heat-templates,master,I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09,Added script to copy params from a role,ABANDONED,2023-03-06 16:31:34.000000000,2023-06-28 13:29:32.000000000,,"[{'_account_id': 6816}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 30073}, {'_account_id': 31245}]","[{'number': 1, 'created': '2023-03-06 16:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a92251cddd83aba3f963ae19a4cf667b23f43c55', 'message': 'Added script to copy params from a role\n\ncopy_role_params.py scrtip to help operators to copy\nparamaters from one role to another.\n\nThis aims for helping operators with the transition\nfrom minor rhel role to mayor rhel role with the same\nparamaters, filtering out the non needed parameters\n\nThe unkonw parameters are ignored.\n\nArguments:\n  --environment, -e environment files\n  --output-file, -o file to write the parameters\n  --rolename-src role source from the parameters are going\nto be copied\n  --rolename-dst role destination where the parameters are\ngoing to be copied\n\nExample:\n./copy_role_params.py --rolename-src ComputeHCI --rolename-dst ComputeHCIRHEL9 \\\n    -o new_file_paramsyaml \\\n    --stack qe-Cloud-0 \\\n    --templates /usr/share/openstack-tripleo-heat-templates \\\n    --debug \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cinder-backup.yaml \\\n    -e /home/stack/composable_roles/roles/nodes.yaml \\\n    -e /home/stack/composable_roles/internal.yaml \\\n    -e /home/stack/composable_roles/nodes_software_config.yaml \\\n    -e /home/stack/composable_roles/enable-tls.yaml \\\n    -e /home/stack/composable_roles/inject-trust-anchor.yaml \\\n    -e /home/stack/composable_roles/public_vip.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-endpoints-public-ip.yaml \\\n    -e /home/stack/composable_roles/hostnames.yml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-ansible.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/services/neutron-ovn-ha.yaml \\\n    -e /home/stack/composable_roles/hostnames.yaml \\\n    -e /home/stack/composable_roles/debug.yaml \\\n    -e /home/stack/composable_roles/ntp_pool.yaml \\\n    -e /home/stack/composable_roles/config_heat.yaml \\\n    -e /home/stack/composable_roles/firstboot.yaml \\\n    -e ~/containers-prepare-parameter.yaml \\\n    -e /home/stack/composable_roles/performance.yaml \\\n    -e /home/stack/composable_roles/l3_fip_qos.yaml \\\n    -e /home/stack/composable_roles/ovn-extras.yaml \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /home/stack/overcloud-deploy/qe-Cloud-0/qe-Cloud-0-network-environment.yaml \\\n    -e /home/stack/tmp/baremetal_deployment.yaml \\\n    -e /home/stack/tmp/generated-networks-deployed.yaml \\\n    -e /home/stack/tmp/generated-vip-deployed.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm-rbd-only.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/nova-hw-machine-type-upgrade.yaml \\\n    -e /home/stack/system_upgrade.yaml \\\n    -e /home/stack/containers-prepare-parameter.yaml \\\n    --roles-file /home/stack/composable_roles/roles/roles_data.yaml\n\nCo-authored-by: Lukas Bezdicka\nChange-Id: I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09\n'}, {'number': 2, 'created': '2023-03-07 04:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c2f111ea4a1c5cbdffae4d9fe9c264b4049e0e3', 'message': 'Added script to copy params from a role\n\ncopy_role_params.py scrtip to help operators to copy\nparamaters from one role to another.\n\nThis aims for helping operators with the transition\nfrom minor rhel role to mayor rhel role with the same\nparamaters, filtering out the non needed parameters\n\nThe unkonw parameters are ignored.\n\nArguments:\n  --environment, -e environment files\n  --output-file, -o file to write the parameters\n  --rolename-src role source from the parameters are going\nto be copied\n  --rolename-dst role destination where the parameters are\ngoing to be copied\n\nExample:\n./copy_role_params.py --rolename-src ComputeHCI --rolename-dst ComputeHCIRHEL9 \\\n    -o new_file_paramsyaml \\\n    --stack qe-Cloud-0 \\\n    --templates /usr/share/openstack-tripleo-heat-templates \\\n    --debug \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cinder-backup.yaml \\\n    -e /home/stack/composable_roles/roles/nodes.yaml \\\n    -e /home/stack/composable_roles/internal.yaml \\\n    -e /home/stack/composable_roles/nodes_software_config.yaml \\\n    -e /home/stack/composable_roles/enable-tls.yaml \\\n    -e /home/stack/composable_roles/inject-trust-anchor.yaml \\\n    -e /home/stack/composable_roles/public_vip.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-endpoints-public-ip.yaml \\\n    -e /home/stack/composable_roles/hostnames.yml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-ansible.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/services/neutron-ovn-ha.yaml \\\n    -e /home/stack/composable_roles/hostnames.yaml \\\n    -e /home/stack/composable_roles/debug.yaml \\\n    -e /home/stack/composable_roles/ntp_pool.yaml \\\n    -e /home/stack/composable_roles/config_heat.yaml \\\n    -e /home/stack/composable_roles/firstboot.yaml \\\n    -e ~/containers-prepare-parameter.yaml \\\n    -e /home/stack/composable_roles/performance.yaml \\\n    -e /home/stack/composable_roles/l3_fip_qos.yaml \\\n    -e /home/stack/composable_roles/ovn-extras.yaml \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /home/stack/overcloud-deploy/qe-Cloud-0/qe-Cloud-0-network-environment.yaml \\\n    -e /home/stack/tmp/baremetal_deployment.yaml \\\n    -e /home/stack/tmp/generated-networks-deployed.yaml \\\n    -e /home/stack/tmp/generated-vip-deployed.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm-rbd-only.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/nova-hw-machine-type-upgrade.yaml \\\n    -e /home/stack/system_upgrade.yaml \\\n    -e /home/stack/containers-prepare-parameter.yaml \\\n    --roles-file /home/stack/composable_roles/roles/roles_data.yaml\n\nCo-authored-by: Lukas Bezdicka\nChange-Id: I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09\n'}, {'number': 3, 'created': '2023-03-07 04:38:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/285d1f33272f1021ed88ccdfa0b830c4186f09b0', 'message': 'Added script to copy params from a role\n\ncopy_role_params.py scrtip to help operators to copy\nparamaters from one role to another.\n\nThis aims for helping operators with the transition\nfrom minor rhel role to mayor rhel role with the same\nparamaters, filtering out the non needed parameters\n\nThe unkonw parameters are ignored.\n\nArguments:\n  --environment, -e environment files\n  --output-file, -o file to write the parameters\n  --rolename-src role source from the parameters are going\nto be copied\n  --rolename-dst role destination where the parameters are\ngoing to be copied\n\nExample:\n./copy_role_params.py --rolename-src ComputeHCI --rolename-dst ComputeHCIRHEL9 \\\n    -o new_file_paramsyaml \\\n    --stack qe-Cloud-0 \\\n    --templates /usr/share/openstack-tripleo-heat-templates \\\n    --debug \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cinder-backup.yaml \\\n    -e /home/stack/composable_roles/roles/nodes.yaml \\\n    -e /home/stack/composable_roles/internal.yaml \\\n    -e /home/stack/composable_roles/nodes_software_config.yaml \\\n    -e /home/stack/composable_roles/enable-tls.yaml \\\n    -e /home/stack/composable_roles/inject-trust-anchor.yaml \\\n    -e /home/stack/composable_roles/public_vip.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-endpoints-public-ip.yaml \\\n    -e /home/stack/composable_roles/hostnames.yml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-ansible.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/services/neutron-ovn-ha.yaml \\\n    -e /home/stack/composable_roles/hostnames.yaml \\\n    -e /home/stack/composable_roles/debug.yaml \\\n    -e /home/stack/composable_roles/ntp_pool.yaml \\\n    -e /home/stack/composable_roles/config_heat.yaml \\\n    -e /home/stack/composable_roles/firstboot.yaml \\\n    -e ~/containers-prepare-parameter.yaml \\\n    -e /home/stack/composable_roles/performance.yaml \\\n    -e /home/stack/composable_roles/l3_fip_qos.yaml \\\n    -e /home/stack/composable_roles/ovn-extras.yaml \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /home/stack/overcloud-deploy/qe-Cloud-0/qe-Cloud-0-network-environment.yaml \\\n    -e /home/stack/tmp/baremetal_deployment.yaml \\\n    -e /home/stack/tmp/generated-networks-deployed.yaml \\\n    -e /home/stack/tmp/generated-vip-deployed.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm-rbd-only.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/nova-hw-machine-type-upgrade.yaml \\\n    -e /home/stack/system_upgrade.yaml \\\n    -e /home/stack/containers-prepare-parameter.yaml \\\n    --roles-file /home/stack/composable_roles/roles/roles_data.yaml\n\nCo-authored-by: Lukas Bezdicka\nChange-Id: I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09\n'}, {'number': 4, 'created': '2023-03-07 08:39:46.000000000', 'files': ['tools/copy_role_params.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5cfea3ff0d5408e0713ff6207c669e8f0f12318', 'message': 'Added script to copy params from a role\n\ncopy_role_params.py scrtip to help operators to copy\nparamaters from one role to another.\n\nThis aims for helping operators with the transition\nfrom minor rhel role to mayor rhel role with the same\nparamaters, filtering out the non needed parameters\n\nThe unkonw parameters are ignored.\n\nArguments:\n  --environment, -e environment files\n  --output-file, -o file to write the parameters\n  --rolename-src role source from the parameters are going\nto be copied\n  --rolename-dst role destination where the parameters are\ngoing to be copied\n\nExample:\n./copy_role_params.py --rolename-src ComputeHCI --rolename-dst ComputeHCIRHEL9 \\\n    -o new_file_paramsyaml \\\n    --stack qe-Cloud-0 \\\n    --templates /usr/share/openstack-tripleo-heat-templates \\\n    --debug \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cinder-backup.yaml \\\n    -e /home/stack/composable_roles/roles/nodes.yaml \\\n    -e /home/stack/composable_roles/internal.yaml \\\n    -e /home/stack/composable_roles/nodes_software_config.yaml \\\n    -e /home/stack/composable_roles/enable-tls.yaml \\\n    -e /home/stack/composable_roles/inject-trust-anchor.yaml \\\n    -e /home/stack/composable_roles/public_vip.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-endpoints-public-ip.yaml \\\n    -e /home/stack/composable_roles/hostnames.yml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-ansible.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/services/neutron-ovn-ha.yaml \\\n    -e /home/stack/composable_roles/hostnames.yaml \\\n    -e /home/stack/composable_roles/debug.yaml \\\n    -e /home/stack/composable_roles/ntp_pool.yaml \\\n    -e /home/stack/composable_roles/config_heat.yaml \\\n    -e /home/stack/composable_roles/firstboot.yaml \\\n    -e ~/containers-prepare-parameter.yaml \\\n    -e /home/stack/composable_roles/performance.yaml \\\n    -e /home/stack/composable_roles/l3_fip_qos.yaml \\\n    -e /home/stack/composable_roles/ovn-extras.yaml \\\n    -e /home/stack/overcloud-params.yaml \\\n    -e /home/stack/overcloud-deploy/qe-Cloud-0/qe-Cloud-0-network-environment.yaml \\\n    -e /home/stack/tmp/baremetal_deployment.yaml \\\n    -e /home/stack/tmp/generated-networks-deployed.yaml \\\n    -e /home/stack/tmp/generated-vip-deployed.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm-rbd-only.yaml \\\n    -e /usr/share/openstack-tripleo-heat-templates/environments/nova-hw-machine-type-upgrade.yaml \\\n    -e /home/stack/system_upgrade.yaml \\\n    -e /home/stack/containers-prepare-parameter.yaml \\\n    --roles-file /home/stack/composable_roles/roles/roles_data.yaml\n\nCo-authored-by: Lukas Bezdicka\nChange-Id: I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09\n'}]",39,876591,d5cfea3ff0d5408e0713ff6207c669e8f0f12318,11,6,4,22954,,,0,"Added script to copy params from a role

copy_role_params.py scrtip to help operators to copy
paramaters from one role to another.

This aims for helping operators with the transition
from minor rhel role to mayor rhel role with the same
paramaters, filtering out the non needed parameters

The unkonw parameters are ignored.

Arguments:
  --environment, -e environment files
  --output-file, -o file to write the parameters
  --rolename-src role source from the parameters are going
to be copied
  --rolename-dst role destination where the parameters are
going to be copied

Example:
./copy_role_params.py --rolename-src ComputeHCI --rolename-dst ComputeHCIRHEL9 \
    -o new_file_paramsyaml \
    --stack qe-Cloud-0 \
    --templates /usr/share/openstack-tripleo-heat-templates \
    --debug \
    -e /home/stack/overcloud-params.yaml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/cinder-backup.yaml \
    -e /home/stack/composable_roles/roles/nodes.yaml \
    -e /home/stack/composable_roles/internal.yaml \
    -e /home/stack/composable_roles/nodes_software_config.yaml \
    -e /home/stack/composable_roles/enable-tls.yaml \
    -e /home/stack/composable_roles/inject-trust-anchor.yaml \
    -e /home/stack/composable_roles/public_vip.yaml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/ssl/tls-endpoints-public-ip.yaml \
    -e /home/stack/composable_roles/hostnames.yml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/ceph-ansible/ceph-ansible.yaml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/services/neutron-ovn-ha.yaml \
    -e /home/stack/composable_roles/hostnames.yaml \
    -e /home/stack/composable_roles/debug.yaml \
    -e /home/stack/composable_roles/ntp_pool.yaml \
    -e /home/stack/composable_roles/config_heat.yaml \
    -e /home/stack/composable_roles/firstboot.yaml \
    -e ~/containers-prepare-parameter.yaml \
    -e /home/stack/composable_roles/performance.yaml \
    -e /home/stack/composable_roles/l3_fip_qos.yaml \
    -e /home/stack/composable_roles/ovn-extras.yaml \
    -e /home/stack/overcloud-params.yaml \
    -e /home/stack/overcloud-deploy/qe-Cloud-0/qe-Cloud-0-network-environment.yaml \
    -e /home/stack/tmp/baremetal_deployment.yaml \
    -e /home/stack/tmp/generated-networks-deployed.yaml \
    -e /home/stack/tmp/generated-vip-deployed.yaml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm-rbd-only.yaml \
    -e /usr/share/openstack-tripleo-heat-templates/environments/nova-hw-machine-type-upgrade.yaml \
    -e /home/stack/system_upgrade.yaml \
    -e /home/stack/containers-prepare-parameter.yaml \
    --roles-file /home/stack/composable_roles/roles/roles_data.yaml

Co-authored-by: Lukas Bezdicka
Change-Id: I7ad6c7f64c6a4fc3ec22de3c636d49c8f9163e09
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/91/876591/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/copy_role_params.py'],1,a92251cddd83aba3f963ae19a4cf667b23f43c55,multi_rhel,"#!/usr/bin/python3 # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os import re import yaml import argparse import sys def copy_role_parameters(env_files, rolename, new_role_env_file): n_role_params_def = {} n_role_res_registry = {} for file in env_files: if os.path.exists(file): with open(file, 'r') as env_file: contents = yaml.safe_load(env_file) pd = contents.get('parameter_defaults', {}) if pd: for key, value in pd.items(): if key.startswith(rolename): n_role_params_def[key] = value rr = contents.get('resource_registry', {}) if rr: for key, value in rr.items(): if key.startswith(""OS::TripleO::{}:"".format(rolename)): n_role_res_registry[key] = value # We can have ComputeCount Compute1Count which # means we have picked on multiple roles and as we # cannot parse here for all role_specific tagged params # we simply pick on Count: to figure out if we don't happen # to have colision role_count = [] filter_out = [] role_count = dict(filter(filter_count, n_role_params_def.items())) if len(role_count) > 1: for key in role_count: if key != ""{}Count"".format(rolename): filter_out.append(key[:-5]) for role in filter_out: n_role_params_def = dict(filter( lambda seq: filter_out_f(seq, rolename=role), n_role_params_def.items())) for word in ['Count', 'HostnameFormat', 'NetworkConfigTemplate', 'ContainerImagePrepare', 'UpgradeInitCommand' ]: n_role_params_def = dict(filter( lambda seq: filter_out_f_2(seq, removeme=word), n_role_params_def.items())) n_role_res_registry = dict(filter( lambda seq: filter_out_reg(seq), n_role_res_registry.items())) with open(new_role_env_file, 'w') as new_file: # I don't think we can blindly dump here, if one is empty we skip dumping dump_var = {} if (n_role_params_def != {}): dump_var['parameter_defaults'] = n_role_params_def if (n_role_res_registry != {}): dump_var['resource_registry'] = n_role_res_registry if (dump_var != {}): yaml.dump(dump_var, new_file, default_flow_style=False) def filter_role_parameters(env_files, rolename, new_role_env_file): def filter_count(pair): key, _ = pair if key.endswith('Count'): return True else: return False # We need to filter out roles with simillar name that our starts with picked up. # But we also want to filter out baremetal node provision provided params, ContainerImage,Prepare and so on. # Example to filter out: # resource_registry: # OS::TripleO::ComputeHCI::Net::SoftwareConfig: OS::Heat::None # OS::TripleO::ComputeHCI::Ports::InternalApiPort: /usr/share/openstack-tripleo-heat-templates/network/ports/deployed_internal_api.yaml # OS::TripleO::ComputeHCI::Ports::StorageMgmtPort: /usr/share/openstack-tripleo-heat-templates/network/ports/deployed_storage_mgmt.yaml # OS::TripleO::ComputeHCI::Ports::StoragePort: /usr/share/openstack-tripleo-heat-templates/network/ports/deployed_storage.yaml # OS::TripleO::ComputeHCI::Ports::TenantPort: /usr/share/openstack-tripleo-heat-templates/network/ports/deployed_tenant.yaml # This one specifically as it's OSP17.1 EL8.4 compatibility: # OS::TripleO::ComputeHCI::Services::NovaLibvirt: /usr/share/openstack-tripleo-heat-templates/deployment/deprecated/nova/nova-libvirt-container-puppet.yaml def filter_out_reg(pair): key, _ = pair if ( ""::Ports::"" in key and key.endswith(""Port"")): return False elif key.endswith(""Services::NovaLibvirt""): return False elif key.endswith(""Net::SoftwareConfig""): return False else: return True # parameter_defaults: # ComputeHCICount: 1 # ComputeHCIHostnameFormat: computehci-%index% # ComputeHCINetworkConfigTemplate: /home/stack/overcloud-deploy/qe-Cloud-0/nic-configs/osdcompute.j2 # ComputeHCIContainerImagePrepare: def filter_out_f(pair, rolename=''): key, _ = pair if key.startswith(rolename): return False elif ( ""::Ports::"" in key and key.endswith(""Port:"")): return False else: return True def filter_out_f_2(pair, removeme=''): key, _ = pair return False if key.endswith(removeme) else True n_role_params_def = {} n_role_res_registry = {} for file in env_files: if os.path.exists(file): with open(file, 'r') as env_file: contents = yaml.safe_load(env_file) pd = contents.get('parameter_defaults', {}) if pd: for key, value in pd.items(): if key.startswith(rolename): n_role_params_def[key] = value rr = contents.get('resource_registry', {}) if rr: for key, value in rr.items(): if key.startswith(""OS::TripleO::{}:"".format(rolename)): n_role_res_registry[key] = value # We can have ComputeCount Compute1Count which # means we have picked on multiple roles and as we # cannot parse here for all role_specific tagged params # we simply pick on Count: to figure out if we don't happen # to have colision role_count = [] filter_out = [] role_count = dict(filter(filter_count, n_role_params_def.items())) if len(role_count) > 1: for key in role_count: if key != ""{}Count"".format(rolename): filter_out.append(key[:-5]) for role in filter_out: n_role_params_def = dict(filter( lambda seq: filter_out_f(seq, rolename=role), n_role_params_def.items())) for word in ['Count', 'HostnameFormat', 'NetworkConfigTemplate', 'ContainerImagePrepare', 'UpgradeInitCommand' ]: n_role_params_def = dict(filter( lambda seq: filter_out_f_2(seq, removeme=word), n_role_params_def.items())) n_role_res_registry = dict(filter( lambda seq: filter_out_reg(seq), n_role_res_registry.items())) return (n_role_res_registry, n_role_params_def) def rename_parameters (parameters, role_src, role_dst): rr, pd = parameters new_rr = {} new_pd = {} for registry in rr.keys(): new_rr[registry.replace(role_src, role_dst)] = rr[registry] for parameter in pd.keys(): new_pd[parameter.replace(role_src,role_dst)] = pd[parameter] return (new_rr, new_pd) def write_parameters (parameters, new_role_env_file): rr, pd = parameters with open(new_role_env_file, 'w') as new_file: # I don't think we can blindly dump here, if one is empty we skip dumping dump_var = {} if (pd != {}): dump_var['parameter_defaults'] = pd if (rr != {}): dump_var['resource_registry'] = rr if (dump_var != {}): yaml.dump(dump_var, new_file, default_flow_style=False) def parse_opts(argv): parser = argparse.ArgumentParser() parser.add_argument('--environment', '-e', dest='e', help='envs', action = 'append') parser.add_argument('--output-file', '-o', dest='output_file', required=True, help='Output file where the outcome is written') parser.add_argument('--rolename-src', dest='rolename_src', required=True, help='The name of the role to copy') parser.add_argument('--rolename-dst', dest='rolename_dst', required=True, help='The name of the role with paramaters copied') opts = parser.parse_known_args(argv[1:]) return opts opts = parse_opts(sys.argv) parameters = filter_role_parameters(opts[0].e, opts[0].rolename_src, opts[0].output_file) parameters = rename_parameters (parameters, opts[0].rolename_src, opts[0].rolename_dst) write_parameters(parameters, opts[0].output_file) ",,233,0
openstack%2Fkolla-ansible~master~Iba62e76b3cf83f3ade6df81288d2d77129ffc725,openstack/kolla-ansible,master,Iba62e76b3cf83f3ade6df81288d2d77129ffc725,loadbalancer: Add option to not define track script,MERGED,2023-06-27 07:44:25.000000000,2023-06-28 13:14:18.000000000,2023-06-28 13:13:06.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 27339}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-27 07:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7d089fb908432d1818e2d59fbfec7fae00b5ca70', 'message': ""loadbalancer: Do not install keepalived check scripts on singlenode\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 2, 'created': '2023-06-27 09:03:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6ba96b0d733c070140a336f81c53d58ab1bbb659', 'message': ""loadbalancer: Do not install keepalived check scripts on singlenode\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/887025\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 3, 'created': '2023-06-27 10:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6560f4cbc23c04f6fc279e72858cdaddbb21e70b', 'message': ""loadbalancer: Do not install keepalived check scripts on singlenode\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/887025\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 4, 'created': '2023-06-27 12:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54aaf5a3bc7bc9b8f91eb92c14b99d0ce2cf4322', 'message': ""loadbalancer: Do not install keepalived check scripts on singlenode\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/887025\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 5, 'created': '2023-06-27 12:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37ecb0d879f6c5922d55ff2b772a4d72a9ffa946', 'message': ""loadbalancer: Add option to not define track script\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 6, 'created': '2023-06-27 20:10:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7cfa4c0add9623811063bf649721582bf4beb0e', 'message': ""loadbalancer: Add option to not define track script\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 7, 'created': '2023-06-27 20:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4053c8b4148ce0f2dda79e367f9602bd84f5d82f', 'message': ""loadbalancer: Add option to not define track script\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 8, 'created': '2023-06-28 05:45:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/206fe0c53eb93b13a51e18a1f326556002ed0ef5', 'message': ""loadbalancer: Add option to not define track script\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 9, 'created': '2023-06-28 06:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fc4fad500c5b73329529b3b49b0dcf03333a14e9', 'message': ""loadbalancer: Add option to not define track script\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 10, 'created': '2023-06-28 07:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6e15d7cf29879a2d512b5dc3ebbb769c3f61bfe', 'message': ""loadbalancer: Add option to not define track script\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nCloses-Bug: #2025219\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 11, 'created': '2023-06-28 08:58:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d93b27b61e8aac3af7abddf21dec8c91a60fadad', 'message': ""loadbalancer: Add option to not define track script\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nCloses-Bug: #2025219\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}, {'number': 12, 'created': '2023-06-28 08:58:51.000000000', 'files': ['ansible/roles/loadbalancer/tasks/config.yml', 'releasenotes/notes/keepalived_track_script-edfebb520f006647.yaml', 'tests/templates/globals-default.j2', 'ansible/roles/loadbalancer/templates/keepalived/keepalived.conf.j2', 'ansible/roles/loadbalancer/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0e614ee10937eb0930d1c5481293a6d2dc8d915', 'message': ""loadbalancer: Add option to not define track script\n\nWe've seen issues in CI when keepalived haproxy check script returns\nan error and keepalived is switching to backup and then again to primary\non a single node environment.\n\nCloses-Bug: #2025219\n\nChange-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725\n""}]",16,887020,a0e614ee10937eb0930d1c5481293a6d2dc8d915,41,5,12,22629,,,0,"loadbalancer: Add option to not define track script

We've seen issues in CI when keepalived haproxy check script returns
an error and keepalived is switching to backup and then again to primary
on a single node environment.

Closes-Bug: #2025219

Change-Id: Iba62e76b3cf83f3ade6df81288d2d77129ffc725
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/20/887020/12 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/loadbalancer/tasks/config.yml'],1,7d089fb908432d1818e2d59fbfec7fae00b5ca70,, - groups[service] | length > 1,,1,0
openstack%2Fopenstacksdk~master~I02fa4037b8119681379bb3c4b7bb667efff506ee,openstack/openstacksdk,master,I02fa4037b8119681379bb3c4b7bb667efff506ee,utils: Add 'supports_version',MERGED,2023-05-26 13:12:17.000000000,2023-06-28 13:09:46.000000000,2023-06-02 17:17:34.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-05-26 13:12:17.000000000', 'files': ['openstack/utils.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3cb5bc98573e8eb7d3487121b7b59ebd535035c5', 'message': ""utils: Add 'supports_version'\n\nNot all services use microversion (looking at you, Glance), meaning the\n'supports_microversion' helper is of no use to them. Add a\n'support_version' helper for these services. We will use this shortly in\nthe cloud layer.\n\nChange-Id: I02fa4037b8119681379bb3c4b7bb667efff506ee\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,884494,3cb5bc98573e8eb7d3487121b7b59ebd535035c5,8,3,1,15334,,,0,"utils: Add 'supports_version'

Not all services use microversion (looking at you, Glance), meaning the
'supports_microversion' helper is of no use to them. Add a
'support_version' helper for these services. We will use this shortly in
the cloud layer.

Change-Id: I02fa4037b8119681379bb3c4b7bb667efff506ee
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/94/884494/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/utils.py'],1,3cb5bc98573e8eb7d3487121b7b59ebd535035c5,cleanup," from __future__ import annotations from keystoneauth1 import adapter as ks_adapterdef supports_version( adapter: ks_adapter.Adapter, version: str, raise_exception: bool = False, ) -> bool: """"""Determine if the given adapter supports the given version. Checks the version asserted by the service and ensures this matches the provided version. ``version`` can be a major version of a major-minor version :param adapter: :class:`~keystoneauth1.adapter.Adapter` instance. :param version: String containing the desired version. :param raise_exception: Raise exception when requested version is not supported by the server. :returns: ``True`` if the service supports the version, else ``False``. :raises: :class:`~openstack.exceptions.SDKException` when ``raise_exception`` is ``True`` and requested version is not supported. """""" required = discover.normalize_version_number(version) if discover.version_match(required, adapter.get_api_major_version()): return True if raise_exception: raise exceptions.SDKException( f'Required version {version} is not supported by the server' ) return False Checks the min and max microversion asserted by the service and ensures ``min <= microversion <= max``. If set, the current default microversion is taken into consideration to ensure ``microversion <= default``. is not supported by the server or is higher than the current default microversion. :returns: True if the service supports the microversion, else False. :raises: :class:`~openstack.exceptions.SDKException` when ``raise_exception`` is ``True`` and requested microversion is not supported.", Checks the min and max microversion asserted by the service and checks to make sure that ``min <= microversion <= max``. Current default microversion is taken into consideration if set and verifies that ``microversion <= default``. is not supported be the server side or is higher than the current default microversion. :returns: True if the service supports the microversion. :raises: :class:`~openstack.exceptions.SDKException` when requested microversion is not supported.,45,10
openstack%2Fovn-bgp-agent~master~I9b5404e2290ffe5b2e2aa6c6a5fcd9761530e019,openstack/ovn-bgp-agent,master,I9b5404e2290ffe5b2e2aa6c6a5fcd9761530e019,[functional testing] enhance _get_device aux function,MERGED,2023-06-28 09:32:29.000000000,2023-06-28 12:44:16.000000000,2023-06-28 12:43:16.000000000,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 09:32:29.000000000', 'files': ['ovn_bgp_agent/tests/functional/utils/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/26df66bc8be6e6a364a560d8df02a2d6c1cf9d28', 'message': '[functional testing] enhance _get_device aux function\n\nEnsure we only get the device we are interested in, instead of a\nlist of all existing ones\n\nChange-Id: I9b5404e2290ffe5b2e2aa6c6a5fcd9761530e019\n'}]",0,886625,26df66bc8be6e6a364a560d8df02a2d6c1cf9d28,8,3,1,23567,,,0,"[functional testing] enhance _get_device aux function

Ensure we only get the device we are interested in, instead of a
list of all existing ones

Change-Id: I9b5404e2290ffe5b2e2aa6c6a5fcd9761530e019
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/25/886625/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/tests/functional/utils/test_linux_net.py'],1,26df66bc8be6e6a364a560d8df02a2d6c1cf9d28,improve_test_get_interface_address, device_index = linux_net.get_interface_index(device_name) devices = test_priv_linux_net.get_devices_info(index=device_index), devices = test_priv_linux_net.get_devices_info(),2,1
openstack%2Fovn-bgp-agent~master~I20820a6a2351e2eded5e352d2d82fbad1edf3080,openstack/ovn-bgp-agent,master,I20820a6a2351e2eded5e352d2d82fbad1edf3080,Explicitly define the MAC address when creating the interface,MERGED,2023-06-28 09:25:45.000000000,2023-06-28 12:43:30.000000000,2023-06-28 12:41:27.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2023-06-28 09:25:45.000000000', 'files': ['ovn_bgp_agent/tests/functional/utils/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/40541207e978aafc1801b45672f4ca55833cbfa0', 'message': 'Explicitly define the MAC address when creating the interface\n\nIn the test ``test_get_interface_address``, when the interface is\ncreated, the MAC address is defined too. This random MAC address is\ncompared with the result from the tested method.\n\nChange-Id: I20820a6a2351e2eded5e352d2d82fbad1edf3080\n'}]",1,887149,40541207e978aafc1801b45672f4ca55833cbfa0,8,3,1,16688,,,0,"Explicitly define the MAC address when creating the interface

In the test ``test_get_interface_address``, when the interface is
created, the MAC address is defined too. This random MAC address is
compared with the result from the tested method.

Change-Id: I20820a6a2351e2eded5e352d2d82fbad1edf3080
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/49/887149/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/tests/functional/utils/test_linux_net.py'],1,40541207e978aafc1801b45672f4ca55833cbfa0,improve_test_get_interface_address,"from neutron_lib.utils import net as net_utils mac_address = net_utils.get_random_mac( 'fa:16:3e:00:00:00'.split(':')) priv_linux_net.create_interface(dev_name, 'dummy', address=mac_address) self.assertEqual(mac_address, mac)"," priv_linux_net.create_interface(dev_name, 'dummy') device = self._get_device(dev_name) self.assertEqual(device['mac'], mac)",6,3
openstack%2Fcharm-ironic-api~stable%2F2023.1~I3b758d83ddbfa75e18df1e666604767232453462,openstack/charm-ironic-api,stable/2023.1,I3b758d83ddbfa75e18df1e666604767232453462,DNM: Test service tokens with security-proposed PPA,ABANDONED,2023-06-16 15:00:57.000000000,2023-06-28 12:31:42.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 15:00:57.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/33e442f5877421385532885f5fea15650e5d1fbf', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: I3b758d83ddbfa75e18df1e666604767232453462\n'}]",0,886265,33e442f5877421385532885f5fea15650e5d1fbf,5,2,1,11805,,,0,"DNM: Test service tokens with security-proposed PPA

Change-Id: I3b758d83ddbfa75e18df1e666604767232453462
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/65/886265/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-antelope.yaml']",4,33e442f5877421385532885f5fea15650e5d1fbf,dnm-2023-2088, source: &source cloud:jammy-antelope/proposed, source: &source cloud:jammy-antelope,5,3
openstack%2Fcharm-ironic-api~stable%2Fzed~Id69e0cd9979176fb9c29e14b4479dfb431918597,openstack/charm-ironic-api,stable/zed,Id69e0cd9979176fb9c29e14b4479dfb431918597,DNM: Test service tokens with security-proposed PPA,ABANDONED,2023-06-16 15:02:32.000000000,2023-06-28 12:31:38.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 15:02:32.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/f260b8e97e57aec691ecdab87e0a4e4fcd51a60c', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: Id69e0cd9979176fb9c29e14b4479dfb431918597\n'}]",0,886267,f260b8e97e57aec691ecdab87e0a4e4fcd51a60c,5,2,1,11805,,,0,"DNM: Test service tokens with security-proposed PPA

Change-Id: Id69e0cd9979176fb9c29e14b4479dfb431918597
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/67/886267/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/tests.yaml']",3,f260b8e97e57aec691ecdab87e0a4e4fcd51a60c,dnm-2023-2088, overlay_ppas: - ppa:ubuntu-security-proposed/ppa,,4,2
openstack%2Fcharm-ironic-conductor~master~Ic8bf76936d5f9821337d687c3c97e4ec24954f1f,openstack/charm-ironic-conductor,master,Ic8bf76936d5f9821337d687c3c97e4ec24954f1f,DNM: Test service tokens with security-proposed PPA,ABANDONED,2023-06-16 15:05:11.000000000,2023-06-28 12:31:36.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 15:05:11.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/a780ef7dcaa3d0ee4a0a751a96ac3eacfe0e4120', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: Ic8bf76936d5f9821337d687c3c97e4ec24954f1f\n'}]",0,886271,a780ef7dcaa3d0ee4a0a751a96ac3eacfe0e4120,5,2,1,11805,,,0,"DNM: Test service tokens with security-proposed PPA

Change-Id: Ic8bf76936d5f9821337d687c3c97e4ec24954f1f
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/71/886271/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/jammy-antelope.yaml']",4,a780ef7dcaa3d0ee4a0a751a96ac3eacfe0e4120,dnm-2023-2088, source: &source cloud:jammy-antelope/proposed, source: &source cloud:jammy-antelope,5,3
openstack%2Fcharm-ironic-conductor~stable%2F2023.1~Ib966655aba64af2f52ebb32f6e30a0d6f5187c2d,openstack/charm-ironic-conductor,stable/2023.1,Ib966655aba64af2f52ebb32f6e30a0d6f5187c2d,DNM: Test service tokens with security-proposed PPA,ABANDONED,2023-06-16 15:06:28.000000000,2023-06-28 12:31:29.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 15:06:28.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/7b87f9a97d6e63dbf57fa09c291e67f2a933b23c', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: Ib966655aba64af2f52ebb32f6e30a0d6f5187c2d\n'}]",0,886275,7b87f9a97d6e63dbf57fa09c291e67f2a933b23c,5,2,1,11805,,,0,"DNM: Test service tokens with security-proposed PPA

Change-Id: Ib966655aba64af2f52ebb32f6e30a0d6f5187c2d
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/75/886275/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-antelope.yaml']",4,7b87f9a97d6e63dbf57fa09c291e67f2a933b23c,dnm-2023-2088, source: &source cloud:jammy-antelope/proposed, source: &source cloud:jammy-antelope,5,3
openstack%2Fcharm-ironic-conductor~stable%2Fzed~Ie3d68beb7ffb07fee4a1b2d924c2171fde86e04c,openstack/charm-ironic-conductor,stable/zed,Ie3d68beb7ffb07fee4a1b2d924c2171fde86e04c,DNM: Test service tokens with security-proposed PPA,ABANDONED,2023-06-16 15:07:20.000000000,2023-06-28 12:31:25.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 15:07:20.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-zed.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/57621fa79b82c67908e9fc6ffbfcc16bd7d9948f', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: Ie3d68beb7ffb07fee4a1b2d924c2171fde86e04c\n'}]",0,886276,57621fa79b82c67908e9fc6ffbfcc16bd7d9948f,5,2,1,11805,,,0,"DNM: Test service tokens with security-proposed PPA

Change-Id: Ie3d68beb7ffb07fee4a1b2d924c2171fde86e04c
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/76/886276/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/tests.yaml']",3,57621fa79b82c67908e9fc6ffbfcc16bd7d9948f,dnm-2023-2088, overlay_ppas: - ppa:ubuntu-security-proposed/ppa,,4,2
openstack%2Fcharm-ironic-conductor~stable%2Fyoga~I6a91635fec5ace8d4898a88081d0270b11ae35b2,openstack/charm-ironic-conductor,stable/yoga,I6a91635fec5ace8d4898a88081d0270b11ae35b2,DNM: Test service tokens with security-proposed PPA,ABANDONED,2023-06-16 15:08:11.000000000,2023-06-28 12:31:22.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 15:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/1451a5590fbc26f3d72cec42549ac2e147edd5c4', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: I6a91635fec5ace8d4898a88081d0270b11ae35b2\n'}, {'number': 2, 'created': '2023-06-22 13:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/87dcf42e2f6c6e5134304d8b6824a109eba3dea8', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: I6a91635fec5ace8d4898a88081d0270b11ae35b2\n'}, {'number': 3, 'created': '2023-06-22 13:51:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/2e20ceed6c96a5d2ebb753fa87ab1368a352fa3a', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: I6a91635fec5ace8d4898a88081d0270b11ae35b2\n'}, {'number': 4, 'created': '2023-06-22 14:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/d4b84f68fb753b33b1986d95eb00e9dd89b3f55e', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: I6a91635fec5ace8d4898a88081d0270b11ae35b2\n'}, {'number': 5, 'created': '2023-06-22 14:48:44.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-conductor/commit/2b7d4577f0674cb4b39e0cd539bae9d76f09d924', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: I6a91635fec5ace8d4898a88081d0270b11ae35b2\n'}]",2,886278,2b7d4577f0674cb4b39e0cd539bae9d76f09d924,17,2,5,11805,,,0,"DNM: Test service tokens with security-proposed PPA

Change-Id: I6a91635fec5ace8d4898a88081d0270b11ae35b2
",git fetch https://review.opendev.org/openstack/charm-ironic-conductor refs/changes/78/886278/3 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml']",3,1451a5590fbc26f3d72cec42549ac2e147edd5c4,dnm-2023-2088, overlay_ppas: - ppa:ubuntu-security-proposed/ppa,,4,2
openstack%2Fcharm-ironic-api~stable%2Fyoga~I5130c9874b68d6cd439823af74ffa5b8cddb8292,openstack/charm-ironic-api,stable/yoga,I5130c9874b68d6cd439823af74ffa5b8cddb8292,DNM: Test service tokens with security-proposed PPA,ABANDONED,2023-06-16 15:03:46.000000000,2023-06-28 12:31:18.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 15:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/ef7d27b6e9e466e27268579644d3eb4651462cd1', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: I5130c9874b68d6cd439823af74ffa5b8cddb8292\n'}, {'number': 2, 'created': '2023-06-22 15:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/3c272db31dda48d3ef324dea3eda7f60b9449aa8', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: I5130c9874b68d6cd439823af74ffa5b8cddb8292\n'}, {'number': 3, 'created': '2023-06-22 20:56:18.000000000', 'files': ['src/tests/bundles/focal-yoga.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/9d9f52a5829ad297338ed585ba7f46b4c1db3039', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: I5130c9874b68d6cd439823af74ffa5b8cddb8292\n'}]",3,886268,9d9f52a5829ad297338ed585ba7f46b4c1db3039,16,2,3,11805,,,0,"DNM: Test service tokens with security-proposed PPA

Change-Id: I5130c9874b68d6cd439823af74ffa5b8cddb8292
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/68/886268/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-yoga.yaml', 'src/test-requirements.txt', 'src/tests/tests.yaml']",3,ef7d27b6e9e466e27268579644d3eb4651462cd1,dnm-2023-2088, overlay_ppas: - ppa:ubuntu-security-proposed/ppa,,4,2
openstack%2Fcharm-ironic-api~master~I9cec0dbe22f098bab83faadf8fac878328c28934,openstack/charm-ironic-api,master,I9cec0dbe22f098bab83faadf8fac878328c28934,DNM: Test service tokens with security-proposed PPA,ABANDONED,2023-06-16 14:57:49.000000000,2023-06-28 12:31:08.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-16 14:57:49.000000000', 'files': ['src/test-requirements.txt', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/bundles/jammy-antelope.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/3f4194cba00161ef0e83a6f4f584353752d38b33', 'message': 'DNM: Test service tokens with security-proposed PPA\n\nChange-Id: I9cec0dbe22f098bab83faadf8fac878328c28934\n'}]",0,886264,3f4194cba00161ef0e83a6f4f584353752d38b33,5,2,1,11805,,,0,"DNM: Test service tokens with security-proposed PPA

Change-Id: I9cec0dbe22f098bab83faadf8fac878328c28934
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/64/886264/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/test-requirements.txt', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/jammy-antelope.yaml']",4,3f4194cba00161ef0e83a6f4f584353752d38b33,dnm-2023-2088, source: &source cloud:jammy-antelope/proposed, source: &source cloud:jammy-antelope,5,3
openstack%2Fcharm-ceph-radosgw~master~I6f778f4b34e48c06d7ac4e9ef2f9c6633bf04ba0,openstack/charm-ceph-radosgw,master,I6f778f4b34e48c06d7ac4e9ef2f9c6633bf04ba0,Fixes testcase coverage for charm,NEW,2022-12-09 08:41:01.000000000,2023-06-28 11:08:59.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2022-12-09 08:41:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/a2b261e9fab1a70ee05732fb55e0deb08d9ec08e', 'message': 'Fixes testcase coverage for charm\n\nChange-Id: I6f778f4b34e48c06d7ac4e9ef2f9c6633bf04ba0\n'}, {'number': 2, 'created': '2023-01-06 10:13:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/4e7bdc62a6195bd22c527d99ddeb921b7c7cb87b', 'message': 'Fixes testcase coverage for charm\n\nChange-Id: I6f778f4b34e48c06d7ac4e9ef2f9c6633bf04ba0\n'}, {'number': 3, 'created': '2023-02-01 10:54:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/b129b98d99e550d1e334d182f8c802a44b7f6e22', 'message': 'Fixes testcase coverage for charm\n\nChange-Id: I6f778f4b34e48c06d7ac4e9ef2f9c6633bf04ba0\n'}, {'number': 4, 'created': '2023-02-01 11:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e759b6463a23144a8b7e4602497d4b60dd64e0c4', 'message': 'Fixes testcase coverage for charm\n\nChange-Id: I6f778f4b34e48c06d7ac4e9ef2f9c6633bf04ba0\n'}, {'number': 5, 'created': '2023-06-27 06:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/95fd0bc64945edee6ba90ea79a238b656e2f45cd', 'message': 'Fixes testcase coverage for charm\n\nChange-Id: I6f778f4b34e48c06d7ac4e9ef2f9c6633bf04ba0\n'}, {'number': 6, 'created': '2023-06-27 07:33:27.000000000', 'files': ['unit_tests/test_actions.py', '.coveragerc'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c8bc5bc80437f95ba2cb4403102e1869c1cfb5b2', 'message': 'Fixes testcase coverage for charm\n\nChange-Id: I6f778f4b34e48c06d7ac4e9ef2f9c6633bf04ba0\n'}]",7,867085,c8bc5bc80437f95ba2cb4403102e1869c1cfb5b2,29,3,6,34952,,,0,"Fixes testcase coverage for charm

Change-Id: I6f778f4b34e48c06d7ac4e9ef2f9c6633bf04ba0
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/85/867085/5 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_actions.py', '.coveragerc']",2,a2b261e9fab1a70ee05732fb55e0deb08d9ec08e,coverage,,[report] # Regexes for lines to exclude from consideration exclude_lines = if __name__ == .__main__.: include= hooks/ceph.py hooks/hooks.py ,1,7
openstack%2Fheat~master~I943b3c1ce021cc05445b73fbc342b8386cf5bf6a,openstack/heat,master,I943b3c1ce021cc05445b73fbc342b8386cf5bf6a,Isolate project scope and system scope,NEW,2022-02-22 09:17:27.000000000,2023-06-28 11:06:43.000000000,,"[{'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-22 09:17:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/60f6c7d6fce6649d8aa8d6a1927b1a64f5a74e6a', 'message': 'Isolate project scope and system scope\n\nThis change updates the default policies implemented in Heat, to follow\nthe updated guideline[1] to implement SRBAC.\n\nThe main change is that system users are no longer allowed to perform\nany operations about project-level resources like stacks, while project\nadmin is allowed to perform operations about project-level resources\nBEYOND project(like getting details of stacks in a different project).\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#direction-change\n\nChange-Id: I943b3c1ce021cc05445b73fbc342b8386cf5bf6a\n'}, {'number': 2, 'created': '2022-02-22 10:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/6d8d57a15523a4f2dbca7c4e56a537607d91c20f', 'message': 'Isolate project scope and system scope\n\nThis change updates the default policies implemented in Heat, to follow\nthe updated guideline[1] to implement SRBAC.\n\nThe main change is that system users are no longer allowed to perform\nany operations about project-level resources like stacks, while project\nadmin is allowed to perform operations about project-level resources\nBEYOND project(like getting details of stacks in a different project).\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#direction-change\n\nChange-Id: I943b3c1ce021cc05445b73fbc342b8386cf5bf6a\n'}, {'number': 3, 'created': '2022-02-28 01:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a83082ead80413fde062d9b315edd6b0f4260249', 'message': 'Isolate project scope and system scope\n\nThis change updates the default policies implemented in Heat, to follow\nthe updated guideline[1] to implement SRBAC.\n\nThe main change is that system users are no longer allowed to perform\nany operations about project-level resources like stacks, while project\nadmin is allowed to perform operations about project-level resources\nBEYOND project(like getting details of stacks in a different project).\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#direction-change\n\nChange-Id: I943b3c1ce021cc05445b73fbc342b8386cf5bf6a\n'}, {'number': 4, 'created': '2022-03-01 05:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/17721c28587ae2a37d375586b42f5e58bf5b9ba3', 'message': 'Isolate project scope and system scope\n\nThis change updates the default policies implemented in Heat, to follow\nthe updated guideline[1] to implement SRBAC.\n\nThe main change is that system users are no longer allowed to perform\nany operations about project-level resources like stacks, while project\nadmin(*1) is allowed to perform operations about project resources\nBEYOND project(like getting stacks for all projects by list stacks\nAPI).\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#direction-change\n\n(*1)\nIf Keystone has an admin project defined, Heat checks an additional\nrequirement that request context is scoped by that admin project.\n\nChange-Id: I943b3c1ce021cc05445b73fbc342b8386cf5bf6a\n'}, {'number': 5, 'created': '2022-03-01 05:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/00526836227181a17527c68a84640c5c854597bc', 'message': 'Isolate project scope and system scope\n\nThis change updates the default policies implemented in Heat, to follow\nthe updated guideline[1] to implement SRBAC.\n\nThe main change is that system users are no longer allowed to perform\nany operations about project-level resources like stacks, while project\nadmin(*1) is still allowed to perform operations about project-level\nresources BEYOND project (like getting stacks for all projects by list\nstacks API).\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#direction-change\n\n(*1)\nIf Keystone has an admin project defined, Heat checks an additional\nrequirement that request context is scoped by that admin project.\n\nChange-Id: I943b3c1ce021cc05445b73fbc342b8386cf5bf6a\n'}, {'number': 6, 'created': '2022-03-01 06:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/8391ec665e10ead702d84ccfd99699860158f774', 'message': 'Isolate project scope and system scope\n\nThis change updates the default policies implemented in Heat, to follow\nthe updated guideline[1] to implement SRBAC.\n\nThe main change is that system users are no longer allowed to perform\nany operations about project-level resources like stacks, while project\nadmin(*1) is still allowed to perform operations about project-level\nresources BEYOND project (like getting stacks for all projects by list\nstacks API).\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#direction-change\n\n(*1)\nIf Keystone has an admin project defined, Heat checks an additional\nrequirement that request context is scoped by that admin project.\n\nChange-Id: I943b3c1ce021cc05445b73fbc342b8386cf5bf6a\n'}, {'number': 7, 'created': '2023-06-28 06:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/601298a9e819eac46e4abc63bdfc84f033a5be65', 'message': 'Isolate project scope and system scope\n\nThis change updates the default policies implemented in Heat, to follow\nthe updated guideline[1] to implement SRBAC.\n\nThe main change is that system users are no longer allowed to perform\nany operations about project-level resources like stacks, while project\nadmin(*1) is still allowed to perform operations about project-level\nresources BEYOND project (like getting stacks for all projects by list\nstacks API).\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#direction-change\n\n(*1)\nIf Keystone has an admin project defined, Heat checks an additional\nrequirement that request context is scoped by that admin project.\n\nChange-Id: I943b3c1ce021cc05445b73fbc342b8386cf5bf6a\n'}, {'number': 8, 'created': '2023-06-28 07:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/42076260af4e7602dc07645667d7fec1ece4f178', 'message': 'Isolate project scope and system scope\n\nThis change updates the default policies implemented in Heat, to follow\nthe updated guideline[1] to implement SRBAC.\n\nThe main change is that system users are no longer allowed to perform\nany operations about project-level resources like stacks, while project\nadmin(*1) is still allowed to perform operations about project-level\nresources BEYOND project (like getting stacks for all projects by list\nstacks API).\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#direction-change\n\nThis also adds the test cases to validate reader role which was almost\nimplemented in heat.\n\n(*1)\nIf Keystone has an admin project defined, Heat checks an additional\nrequirement that request context is scoped by that admin project.\n\nChange-Id: I943b3c1ce021cc05445b73fbc342b8386cf5bf6a\n'}, {'number': 9, 'created': '2023-06-28 09:39:09.000000000', 'files': ['heat/tests/policy/test_new_acl_personas.yaml', 'heat/policies/resource_types.py', 'heat/policies/events.py', 'releasenotes/notes/policy-defaults-refresh-984844c65ae48599.yaml', 'heat/policies/build_info.py', 'heat/tests/test_common_policy.py', 'heat/api/openstack/v1/util.py', 'heat/common/policy.py', 'heat/policies/service.py', 'heat/policies/actions.py', 'heat/policies/base.py', 'heat/policies/cloudformation.py', 'heat/policies/software_deployments.py', 'heat/policies/stacks.py', 'heat/policies/resource.py', 'heat/policies/software_configs.py', 'heat/tests/policy/test_acl_personas.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/185f28a3b484b99f2a733ce3f4511d533f92d6bc', 'message': 'Isolate project scope and system scope\n\nThis change updates the default policies implemented in Heat, to follow\nthe updated guideline[1] to implement SRBAC.\n\nThe main change is that system users are no longer allowed to perform\nany operations about project-level resources like stacks, while project\nadmin(*1) is still allowed to perform operations about project-level\nresources BEYOND project (like getting stacks for all projects by list\nstacks API).\n\n[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#direction-change\n\nThis also adds the test cases to validate reader role which was almost\nimplemented in heat.\n\n(*1)\nIf Keystone has an admin project defined, Heat checks an additional\nrequirement that request context is scoped by that admin project.\n\nChange-Id: I943b3c1ce021cc05445b73fbc342b8386cf5bf6a\n'}]",11,830328,185f28a3b484b99f2a733ce3f4511d533f92d6bc,33,3,9,9816,,,0,"Isolate project scope and system scope

This change updates the default policies implemented in Heat, to follow
the updated guideline[1] to implement SRBAC.

The main change is that system users are no longer allowed to perform
any operations about project-level resources like stacks, while project
admin(*1) is still allowed to perform operations about project-level
resources BEYOND project (like getting stacks for all projects by list
stacks API).

[1] https://governance.openstack.org/tc/goals/selected/consistent-and-secure-rbac.html#direction-change

This also adds the test cases to validate reader role which was almost
implemented in heat.

(*1)
If Keystone has an admin project defined, Heat checks an additional
requirement that request context is scoped by that admin project.

Change-Id: I943b3c1ce021cc05445b73fbc342b8386cf5bf6a
",git fetch https://review.opendev.org/openstack/heat refs/changes/28/830328/5 && git format-patch -1 --stdout FETCH_HEAD,"['heat/policies/actions.py', 'heat/policies/base.py', 'heat/policies/cloudformation.py', 'heat/policies/events.py', 'heat/policies/software_deployments.py', 'heat/policies/stacks.py', 'heat/policies/resource.py', 'heat/policies/software_configs.py', 'releasenotes/notes/policy-defaults-refresh-984844c65ae48599.yaml', 'heat/policies/build_info.py', 'heat/api/openstack/v1/util.py']",11,60f6c7d6fce6649d8aa8d6a1927b1a64f5a74e6a,secure-rbac, if req.context.tenant_id != tenant_id and not req.context.is_admin: if req.context.tenant_id != tenant_id and not req.context.is_admin:, if req.context.tenant_id != tenant_id and not ( req.context.is_admin or req.context.system_scope == all): if req.context.tenant_id != tenant_id and not ( req.context.is_admin or req.context.system_scope == all):,148,156
openstack%2Fdevstack~stable%2Fxena~I83fc9250ae5b7c1686938a0dd25d66b40fc6c6aa,openstack/devstack,stable/xena,I83fc9250ae5b7c1686938a0dd25d66b40fc6c6aa,Fix installation of OVS/OVN from sources,MERGED,2023-05-09 19:51:34.000000000,2023-06-28 10:49:36.000000000,2023-06-28 10:48:28.000000000,"[{'_account_id': 4393}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-09 19:51:34.000000000', 'files': ['lib/neutron_plugins/ovn_agent', 'lib/neutron_plugins/ovs_source'], 'web_link': 'https://opendev.org/openstack/devstack/commit/9794f48abb7d21c8a7bd24ad398caf083bbca2c5', 'message': 'Fix installation of OVS/OVN from sources\n\nThis patch changes user who runs ovsdb-server and ovn-nortd services\nto root.\nIt also adds installation of the libssl dev package before compilation\nof the openvswitch if TLS service is enabled.\n\nCo-Authored-By: Fernando Royo <froyo@redhat.com>\n\nCloses-Bug: #1987832\nChange-Id: I83fc9250ae5b7c1686938a0dd25d66b40fc6c6aa\n(cherry picked from commit 3de92db6634a6d1455b7211ec869aed35508c58c)\n'}]",1,882770,9794f48abb7d21c8a7bd24ad398caf083bbca2c5,10,5,1,9656,,,0,"Fix installation of OVS/OVN from sources

This patch changes user who runs ovsdb-server and ovn-nortd services
to root.
It also adds installation of the libssl dev package before compilation
of the openvswitch if TLS service is enabled.

Co-Authored-By: Fernando Royo <froyo@redhat.com>

Closes-Bug: #1987832
Change-Id: I83fc9250ae5b7c1686938a0dd25d66b40fc6c6aa
(cherry picked from commit 3de92db6634a6d1455b7211ec869aed35508c58c)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/70/882770/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/ovn_agent', 'lib/neutron_plugins/ovs_source']",2,9794f48abb7d21c8a7bd24ad398caf083bbca2c5,bug/1987832-stable/xena, if is_service_enabled tls-proxy; then install_package openssl-devel fi if is_service_enabled tls-proxy; then install_package libssl-dev fi,,8,2
openstack%2Fnetworking-odl~stable%2F2023.1~Ie963699def51f6a56688ac1f2626781682b70512,openstack/networking-odl,stable/2023.1,Ie963699def51f6a56688ac1f2626781682b70512,[stable-only] Remove the periodic weekly queue,MERGED,2023-06-27 15:54:06.000000000,2023-06-28 10:31:33.000000000,2023-06-28 10:27:54.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 15:54:06.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/404db086fccf450f8e485301c8ddfe4191581299', 'message': '[stable-only] Remove the periodic weekly queue\n\nThis project has been deprecated and there is no need to consume\nCI resources periodically.\n\nChange-Id: Ie963699def51f6a56688ac1f2626781682b70512\n'}]",0,887077,404db086fccf450f8e485301c8ddfe4191581299,8,3,1,16688,,,0,"[stable-only] Remove the periodic weekly queue

This project has been deprecated and there is no need to consume
CI resources periodically.

Change-Id: Ie963699def51f6a56688ac1f2626781682b70512
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/77/887077/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,404db086fccf450f8e485301c8ddfe4191581299,remove_periodic_jobs,, periodic-weekly: jobs: - openstack-tox-py39 - networking-odl-functional-sodium,0,4
openstack%2Fnetworking-odl~stable%2Fzed~Ifeb7c9951d1915af8b7d294645b1bb392ef2129a,openstack/networking-odl,stable/zed,Ifeb7c9951d1915af8b7d294645b1bb392ef2129a,[stable-only] Remove the periodic weekly queue,MERGED,2023-06-27 15:54:13.000000000,2023-06-28 10:31:03.000000000,2023-06-28 10:27:53.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 15:54:13.000000000', 'files': ['.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/d02b482b197d592e1df9b77cdc9f1ac2ec1bc78f', 'message': '[stable-only] Remove the periodic weekly queue\n\nThis project has been deprecated and there is no need to consume\nCI resources periodically.\n\nChange-Id: Ifeb7c9951d1915af8b7d294645b1bb392ef2129a\n'}]",1,887080,d02b482b197d592e1df9b77cdc9f1ac2ec1bc78f,10,3,1,16688,,,0,"[stable-only] Remove the periodic weekly queue

This project has been deprecated and there is no need to consume
CI resources periodically.

Change-Id: Ifeb7c9951d1915af8b7d294645b1bb392ef2129a
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/80/887080/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,d02b482b197d592e1df9b77cdc9f1ac2ec1bc78f,remove_periodic_jobs,, periodic-weekly: jobs: - openstack-tox-py39 - networking-odl-functional-sodium,0,4
openstack%2Fcharm-horizon-k8s~main~Id7093588df3291ba9fcefd60624fdeb8c311867b,openstack/charm-horizon-k8s,main,Id7093588df3291ba9fcefd60624fdeb8c311867b,Change health check intervals,MERGED,2023-06-28 03:19:31.000000000,2023-06-28 10:09:18.000000000,2023-06-28 09:55:47.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 03:19:31.000000000', 'files': ['src/charm.py'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/16f73ae288e034dbbcb3c333761e7dbd4a64a567', 'message': 'Change health check intervals\n\nReady healthcheck for horizon service might take\nmore than 8s and so healthcheck will fail.\nAdd healthcheck period to 15s and increase http\nhealthcheck timeout to 12s.\n\nDepends-On: https://review.opendev.org/c/openstack/charm-ops-sunbeam/+/887129\nCloses-Bug: #2025201\nChange-Id: Id7093588df3291ba9fcefd60624fdeb8c311867b\n'}]",1,887130,16f73ae288e034dbbcb3c333761e7dbd4a64a567,8,3,1,10366,,,0,"Change health check intervals

Ready healthcheck for horizon service might take
more than 8s and so healthcheck will fail.
Add healthcheck period to 15s and increase http
healthcheck timeout to 12s.

Depends-On: https://review.opendev.org/c/openstack/charm-ops-sunbeam/+/887129
Closes-Bug: #2025201
Change-Id: Id7093588df3291ba9fcefd60624fdeb8c311867b
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/30/887130/1 && git format-patch -1 --stdout FETCH_HEAD,['src/charm.py'],1,16f73ae288e034dbbcb3c333761e7dbd4a64a567,healthcheck," def healthcheck_period(self) -> str: """"""Healthcheck period for horizon service."""""" return ""15s"" @property return ""12s"""," return ""8s""",6,1
openstack%2Fcharm-ceph-mon~master~Id1f52549774b2001faed6d76847b1854b32fc12d,openstack/charm-ceph-mon,master,Id1f52549774b2001faed6d76847b1854b32fc12d,fix the logic in check_for_upgrade(),ABANDONED,2023-06-28 09:19:49.000000000,2023-06-28 09:35:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-28 09:19:49.000000000', 'files': ['src/ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/9ffb8708a4c72690421e2f50a3d08dd47e0f1489', 'message': 'fix the logic in check_for_upgrade()\n\nCurrently the logic is inverted around checking if ceph is bootstrapped,\nmeaning that it will fail to install the charm or upgrading it.\n\nFixes: LP#2024253\n\nChange-Id: Id1f52549774b2001faed6d76847b1854b32fc12d\nSigned-off-by: David Negreira <david.negreira@canonical.com>\n'}]",0,887148,9ffb8708a4c72690421e2f50a3d08dd47e0f1489,3,1,1,32371,,,0,"fix the logic in check_for_upgrade()

Currently the logic is inverted around checking if ceph is bootstrapped,
meaning that it will fail to install the charm or upgrading it.

Fixes: LP#2024253

Change-Id: Id1f52549774b2001faed6d76847b1854b32fc12d
Signed-off-by: David Negreira <david.negreira@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/48/887148/1 && git format-patch -1 --stdout FETCH_HEAD,['src/ceph_hooks.py'],1,9ffb8708a4c72690421e2f50a3d08dd47e0f1489,lp2024253, if ceph.is_bootstrapped():, if not ceph.is_bootstrapped():,1,1
openstack%2Fovn-bgp-agent~master~If57082c9d1cf6fb41180a81bb2bb62fd0d846f08,openstack/ovn-bgp-agent,master,If57082c9d1cf6fb41180a81bb2bb62fd0d846f08,Make test_get_interface_address functional test more stable,ABANDONED,2023-06-27 08:03:56.000000000,2023-06-28 09:30:31.000000000,,"[{'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 08:03:56.000000000', 'files': ['ovn_bgp_agent/tests/functional/utils/test_linux_net.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/3625ad24f3926e700a65307609786e9bdc0915fd', 'message': 'Make test_get_interface_address functional test more stable\n\nThis test has been failing on the gates due to some resources\nnot yet being ready when the checkings are done. This patch\nadds some wait to avoid that\n\nChange-Id: If57082c9d1cf6fb41180a81bb2bb62fd0d846f08\n'}]",6,886618,3625ad24f3926e700a65307609786e9bdc0915fd,8,3,1,23567,,,0,"Make test_get_interface_address functional test more stable

This test has been failing on the gates due to some resources
not yet being ready when the checkings are done. This patch
adds some wait to avoid that

Change-Id: If57082c9d1cf6fb41180a81bb2bb62fd0d846f08
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/18/886618/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_bgp_agent/tests/functional/utils/test_linux_net.py'],1,3625ad24f3926e700a65307609786e9bdc0915fd,,import time # Ensure the interface is created before the next steps time.sleep(1),,3,0
openstack%2Fcharm-ops-sunbeam~main~I43ccfda7c89b5e70667fa148078fdf43db0c7aa0,openstack/charm-ops-sunbeam,main,I43ccfda7c89b5e70667fa148078fdf43db0c7aa0,Add property for healthcheck period,MERGED,2023-06-28 03:16:33.000000000,2023-06-28 09:21:12.000000000,2023-06-28 09:21:12.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 03:16:33.000000000', 'files': ['ops_sunbeam/charm.py', 'ops_sunbeam/container_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-sunbeam/commit/7cc208f9f4eea5a0bb7076b47652a04e8cbeaab5', 'message': 'Add property for healthcheck period\n\nAdd new property in charm for healthcheck period\nwith default value of 10s. This allows the charms\nto override the healthcheck period if required.\n\nPartial-Bug: #2025201\nChange-Id: I43ccfda7c89b5e70667fa148078fdf43db0c7aa0\n'}]",1,887129,7cc208f9f4eea5a0bb7076b47652a04e8cbeaab5,6,2,1,10366,,,0,"Add property for healthcheck period

Add new property in charm for healthcheck period
with default value of 10s. This allows the charms
to override the healthcheck period if required.

Partial-Bug: #2025201
Change-Id: I43ccfda7c89b5e70667fa148078fdf43db0c7aa0
",git fetch https://review.opendev.org/openstack/charm-ops-sunbeam refs/changes/29/887129/1 && git format-patch -1 --stdout FETCH_HEAD,"['ops_sunbeam/charm.py', 'ops_sunbeam/container_handlers.py']",2,7cc208f9f4eea5a0bb7076b47652a04e8cbeaab5,healthcheck," ""period"": self.charm.healthcheck_period,",,6,0
openstack%2Fnova~master~Iff49bb250924fea4d31edc16877947c03a295939,openstack/nova,master,Iff49bb250924fea4d31edc16877947c03a295939,Remove port creation with device_id,NEW,2022-10-13 12:04:39.000000000,2023-06-28 09:21:00.000000000,,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-10-13 12:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9e58bc981098d01e3a68a699f738442abe7c72d0', 'message': ""Use admin_client to allocate port for instance\n\nOn the neutron side, port creation will change to authorize admin only\nwith the parameter device_id. So now it's required to use admin_client\nto create the port.\n\nbug #1986969\n\nChange-Id: Iff49bb250924fea4d31edc16877947c03a295939\n""}, {'number': 2, 'created': '2023-06-27 12:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fb4e05f9ec86a894afc6c513e7a18b9b6fc2e42e', 'message': ""Use admin_client to allocate port for instance\n\nOn the neutron side, port creation will change to authorize admin only\nor service role with the parameter device_id. So now it's required to\nuse admin_client during creation of port with device_id.\n\nbug #1986969\n\nChange-Id: Iff49bb250924fea4d31edc16877947c03a295939\n""}, {'number': 3, 'created': '2023-06-28 07:11:16.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/146c629afccb553af8c0e07c48ac0e7b5109fab4', 'message': 'Remove port creation with device_id\n\nOn the neutron side, port creation will change to authorize admin only\nor service role with the parameter device_id. So now port creation do\nwithout device_id and this parameter is updated during port binding with\nadmin_client already need during this step.\n\nbug #1986969\n\nChange-Id: Iff49bb250924fea4d31edc16877947c03a295939\n'}]",20,861172,146c629afccb553af8c0e07c48ac0e7b5109fab4,29,8,3,33607,,,0,"Remove port creation with device_id

On the neutron side, port creation will change to authorize admin only
or service role with the parameter device_id. So now port creation do
without device_id and this parameter is updated during port binding with
admin_client already need during this step.

bug #1986969

Change-Id: Iff49bb250924fea4d31edc16877947c03a295939
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/861172/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutron.py'],1,9e58bc981098d01e3a68a699f738442abe7c72d0,bug-1986969," context, instance, ordered_networks, nets, admin_client,"," context, instance, ordered_networks, nets, neutron,",1,1
openstack%2Fkolla-ansible~master~I87a1c21bb589ecd0f66c7da1ed48fd324d23568c,openstack/kolla-ansible,master,I87a1c21bb589ecd0f66c7da1ed48fd324d23568c,DNM: Test ansible-core 2.14 on centos/rocky,ABANDONED,2023-05-19 08:59:55.000000000,2023-06-28 09:20:31.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 08:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a4b539a683e527faa35838205b2c18c671a786cb', 'message': 'DNM: Test ansible-core 2.14 on centos/rocky\n\nChange-Id: I87a1c21bb589ecd0f66c7da1ed48fd324d23568c\n'}, {'number': 2, 'created': '2023-05-19 12:28:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ffeb7e4ef1318a435f34604614415c7b95543cf8', 'message': 'DNM: Test ansible-core 2.14 on centos/rocky\n\nChange-Id: I87a1c21bb589ecd0f66c7da1ed48fd324d23568c\n'}, {'number': 3, 'created': '2023-05-19 12:57:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a4260d818ce08bb4844d33e4d02889916c9d0b7', 'message': 'DNM: Test ansible-core 2.14 on centos/rocky\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-collection-kolla/+/883054\n\nChange-Id: I87a1c21bb589ecd0f66c7da1ed48fd324d23568c\n'}, {'number': 4, 'created': '2023-05-20 05:27:36.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5b2cf84f6c6200822c4f7217847838ce80257942', 'message': 'DNM: Test ansible-core 2.14 on centos/rocky\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-collection-kolla/+/883053\n\nChange-Id: I87a1c21bb589ecd0f66c7da1ed48fd324d23568c\n'}]",0,883644,5b2cf84f6c6200822c4f7217847838ce80257942,11,1,4,22629,,,0,"DNM: Test ansible-core 2.14 on centos/rocky

Depends-On: https://review.opendev.org/c/openstack/ansible-collection-kolla/+/883053

Change-Id: I87a1c21bb589ecd0f66c7da1ed48fd324d23568c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/44/883644/4 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,a4b539a683e527faa35838205b2c18c671a786cb,, {{ ansible_version_min if is_upgrade else ansible_version_max }}, {{ ansible_version_min if is_upgrade or base_distro != 'ubuntu' else ansible_version_max }},1,1
openstack%2Fneutron-lib~master~I0c9863ff21f3dee6120f1c8424a69ded6c3612b1,openstack/neutron-lib,master,I0c9863ff21f3dee6120f1c8424a69ded6c3612b1,Add port hardware offload extension,MERGED,2023-05-09 16:12:15.000000000,2023-06-28 09:02:38.000000000,2023-06-28 09:01:27.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 16:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/27966d3d7be52c66523b8702986c7d59c15e747b', 'message': 'Add port hardware offload extension\n\nThis new new port extension allows to create ports with hardware\noffloaded capabilities.\n\nSpec: https://review.opendev.org/c/openstack/neutron-specs/+/882272\n\nChange-Id: I0c9863ff21f3dee6120f1c8424a69ded6c3612b1\nRelated-Bug: #2013228\n'}, {'number': 2, 'created': '2023-05-10 08:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/fe5ef55dbbdabc4e12b0114c59aa88160dfffc52', 'message': 'Add port hardware offload extension\n\nThis new new port extension allows to create ports with hardware\noffloaded capabilities.\n\nSpec: https://review.opendev.org/c/openstack/neutron-specs/+/882272\n\nChange-Id: I0c9863ff21f3dee6120f1c8424a69ded6c3612b1\nRelated-Bug: #2013228\n'}, {'number': 3, 'created': '2023-05-11 11:22:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/61340356198dbfd4c8b9889e353b558ff4ac028b', 'message': 'Add port hardware offload extension\n\nThis new new port extension allows to create ports with hardware\noffloaded capabilities.\n\nSpec: https://review.opendev.org/c/openstack/neutron-specs/+/882272\n\nRelated-Bug: #2013228\nChange-Id: I0c9863ff21f3dee6120f1c8424a69ded6c3612b1\n'}, {'number': 4, 'created': '2023-06-06 11:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/89cad5813c808b1461794416296ac6338bf5fca8', 'message': 'Add port hardware offload extension\n\nThis new new port extension allows to create ports with hardware\noffloaded capabilities.\n\nSpec: https://review.opendev.org/c/openstack/neutron-specs/+/882272\n\nRelated-Bug: #2013228\nChange-Id: I0c9863ff21f3dee6120f1c8424a69ded6c3612b1\n'}, {'number': 5, 'created': '2023-06-22 10:53:59.000000000', 'files': ['api-ref/source/v2/samples/ports/port-create-response.json', 'api-ref/source/v2/samples/ports/ports-bulk-create-response.json', 'api-ref/source/v2/samples/ports/port-remove-allowed-address-pairs-response.json', 'api-ref/source/v2/samples/ports/ports-bulk-create-request.json', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/ports/port-bind-update-response.json', 'api-ref/source/v2/samples/ports/port-create-request.json', 'api-ref/source/v2/samples/ports/port-bind-create-response.json', 'releasenotes/notes/port-hardware-offload-388906d9448426ad.yaml', 'api-ref/source/v2/samples/ports/port-update-response.json', 'neutron_lib/api/definitions/port_hardware_offload_type.py', 'neutron_lib/tests/unit/api/definitions/test_port_hardware_offload.py', 'api-ref/source/v2/ports.inc', 'neutron_lib/constants.py', 'api-ref/source/v2/samples/ports/ports-bind-list-response.json', 'api-ref/source/v2/samples/ports/port-bind-show-response.json', 'api-ref/source/v2/samples/ports/port-show-response.json'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/972fbdd4bee7ebd055b43fbf38925bd9f993e51f', 'message': 'Add port hardware offload extension\n\nThis new new port extension allows to create ports with hardware\noffloaded capabilities.\n\nSpec: https://review.opendev.org/c/openstack/neutron-specs/+/882272\n\nRelated-Bug: #2013228\nChange-Id: I0c9863ff21f3dee6120f1c8424a69ded6c3612b1\n'}]",42,882726,972fbdd4bee7ebd055b43fbf38925bd9f993e51f,34,5,5,16688,,,0,"Add port hardware offload extension

This new new port extension allows to create ports with hardware
offloaded capabilities.

Spec: https://review.opendev.org/c/openstack/neutron-specs/+/882272

Related-Bug: #2013228
Change-Id: I0c9863ff21f3dee6120f1c8424a69ded6c3612b1
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/26/882726/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v2/samples/ports/port-create-response.json', 'api-ref/source/v2/samples/ports/ports-bulk-create-response.json', 'api-ref/source/v2/samples/ports/port-remove-allowed-address-pairs-response.json', 'api-ref/source/v2/samples/ports/ports-bulk-create-request.json', 'neutron_lib/api/definitions/__init__.py', 'api-ref/source/v2/samples/ports/port-bind-update-response.json', 'api-ref/source/v2/samples/ports/port-create-request.json', 'api-ref/source/v2/samples/ports/port-bind-create-response.json', 'api-ref/source/v2/samples/ports/port-update-response.json', 'neutron_lib/api/definitions/port_hardware_offload.py', 'neutron_lib/tests/unit/api/definitions/test_port_hardware_offload.py', 'api-ref/source/v2/ports.inc', 'api-ref/source/v2/samples/ports/ports-bind-list-response.json', 'api-ref/source/v2/samples/ports/port-bind-show-response.json', 'api-ref/source/v2/samples/ports/port-show-response.json']",15,27966d3d7be52c66523b8702986c7d59c15e747b,bug/2013228," ""propagate_uplink_status"": false, """""," ""propagate_uplink_status"": false",105,12
openstack%2Ftripleo-ci~master~I5565437bbff73ae8345c35d4806cc7847534b85f,openstack/tripleo-ci,master,I5565437bbff73ae8345c35d4806cc7847534b85f,Update CS9 image for Wallaby,MERGED,2023-06-28 07:48:55.000000000,2023-06-28 08:47:19.000000000,2023-06-28 08:47:19.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 07:48:55.000000000', 'files': ['roles/oooci-build-images/vars/centos-9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4ba629c140fd9b2a6ea158729bb46e5b4462af7d', 'message': 'Update CS9 image for Wallaby\n\nChange-Id: I5565437bbff73ae8345c35d4806cc7847534b85f\nCloses-Bug: #2025224\n'}]",4,887140,4ba629c140fd9b2a6ea158729bb46e5b4462af7d,10,3,1,28223,,,0,"Update CS9 image for Wallaby

Change-Id: I5565437bbff73ae8345c35d4806cc7847534b85f
Closes-Bug: #2025224
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/40/887140/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/vars/centos-9.yaml'],1,4ba629c140fd9b2a6ea158729bb46e5b4462af7d,cs9-image,tripleo_image_source: http://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20230626.0.x86_64.qcow2,tripleo_image_source: http://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20230516.0.x86_64.qcow2,1,1
openstack%2Ftripleo-ci~master~I9a1a6c8131ad41a02ef8b224e774c46b0a35094d,openstack/tripleo-ci,master,I9a1a6c8131ad41a02ef8b224e774c46b0a35094d,Ensure we consume latest image for CS8 and CS9,ABANDONED,2023-06-28 08:35:59.000000000,2023-06-28 08:36:38.000000000,,[],"[{'number': 1, 'created': '2023-06-28 08:35:59.000000000', 'files': ['roles/oooci-build-images/vars/centos-9.yaml', 'roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/859273346ea6f670621fa51c42aa46c3d6cff5a2', 'message': 'Ensure we consume latest image for CS8 and CS9\n\nChange-Id: I9a1a6c8131ad41a02ef8b224e774c46b0a35094d\n'}]",0,887145,859273346ea6f670621fa51c42aa46c3d6cff5a2,2,0,1,28223,,,0,"Ensure we consume latest image for CS8 and CS9

Change-Id: I9a1a6c8131ad41a02ef8b224e774c46b0a35094d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/45/887145/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oooci-build-images/vars/centos-9.yaml', 'roles/oooci-build-images/defaults/main.yaml']",2,859273346ea6f670621fa51c42aa46c3d6cff5a2,cs-images/latest,tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-latest.x86_64.qcow2,tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20230501.0.x86_64.qcow2,2,2
openstack%2Fneutron~master~I36991328cabcbd6fa473b8d1d140ba88c774fb23,openstack/neutron,master,I36991328cabcbd6fa473b8d1d140ba88c774fb23,Delete network namespace on last port deletion,MERGED,2023-04-11 00:43:03.000000000,2023-06-28 07:55:07.000000000,2023-06-28 07:53:48.000000000,"[{'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-11 00:43:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7ee3d2f7480339548725214bb23fad18238363e6', 'message': 'Delete network namespace on last port deletion\n\nA recent change broke network namespace deletion, it\ncurrently will not happen until all DHCP ports an agent\nis hosting are deleted. Since an agent can handle multiple\nnetworks that correspond to a unique namespace, track\nports by network so we delete the namespace when the\nlast port on that network is removed.\n\nBroken by\nhttps://review.opendev.org/c/openstack/neutron/+/840421\n\nCloses-bug: #2015388\nChange-Id: I36991328cabcbd6fa473b8d1d140ba88c774fb23\n'}, {'number': 2, 'created': '2023-04-11 00:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fe2031e22520f9e30cdccc1f4b517c6b89e24382', 'message': 'Delete network namespace on last port deletion\n\nA recent change broke network namespace deletion, it\ncurrently will not happen until all DHCP ports an agent\nis hosting are deleted. Since an agent can handle multiple\nnetworks that correspond to a unique namespace, track\nports by network so we delete the namespace when the\nlast port on that network is removed.\n\nBroken by\nhttps://review.opendev.org/c/openstack/neutron/+/840421\n\nCloses-bug: #2015388\nChange-Id: I36991328cabcbd6fa473b8d1d140ba88c774fb23\n'}, {'number': 3, 'created': '2023-04-12 14:20:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ce7c73337de2ae7c44c88eda659f221370632727', 'message': 'Delete network namespace on last port deletion\n\nSince a DHCP agent can handle multiple networks, each with\ntheir own unique network namespace, we must track in-use\nports by network ID, so we delete the namespace when the\nlast port on that network is removed. If we group all the\nports together then we could have stale, empty namespaces\nuntil we either delete all the ports (unlikely) or the\ndhcp-agent is restarted and does cleanup.\n\nRegression introduced by\nhttps://review.opendev.org/c/openstack/neutron/+/840421\n\nCloses-bug: #2015388\nChange-Id: I36991328cabcbd6fa473b8d1d140ba88c774fb23\n'}, {'number': 4, 'created': '2023-06-22 15:55:35.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfe29e676002da04d46314ec1aa22054664ad2b4', 'message': 'Delete network namespace on last port deletion\n\nSince a DHCP agent can handle multiple networks, each with\ntheir own unique network namespace, we must track in-use\nports by network ID, so we delete the namespace when the\nlast port on that network is removed. If we group all the\nports together then we could have stale, empty namespaces\nuntil we either delete all the ports (unlikely) or the\ndhcp-agent is restarted and does cleanup.\n\nRegression introduced by\nhttps://review.opendev.org/c/openstack/neutron/+/840421\n\nCloses-bug: #2015388\nChange-Id: I36991328cabcbd6fa473b8d1d140ba88c774fb23\n'}]",28,880006,dfe29e676002da04d46314ec1aa22054664ad2b4,51,6,4,1131,,,0,"Delete network namespace on last port deletion

Since a DHCP agent can handle multiple networks, each with
their own unique network namespace, we must track in-use
ports by network ID, so we delete the namespace when the
last port on that network is removed. If we group all the
ports together then we could have stale, empty namespaces
until we either delete all the ports (unlikely) or the
dhcp-agent is restarted and does cleanup.

Regression introduced by
https://review.opendev.org/c/openstack/neutron/+/840421

Closes-bug: #2015388
Change-Id: I36991328cabcbd6fa473b8d1d140ba88c774fb23
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/880006/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,7ee3d2f7480339548725214bb23fad18238363e6,bug/2015388," # Track running interfaces, indexed by network ID. _interfaces = {} def _add_running_interface(cls, interface, network_id): """"""Safe method that adds a given interface"""""" if not cls._interfaces.get(network_id): cls._interfaces[network_id] = set() cls._interfaces[network_id].add(interface) def _del_running_interface(cls, interface, network_id): """"""Safe method that removes a given interface"""""" if cls._interfaces.get(network_id): if interface in cls._interfaces[network_id]: cls._interfaces[network_id].remove(interface) # no entries, cleanup if not cls._interfaces[network_id]: del cls._interfaces[network_id] def _has_running_interfaces(cls, network_id): """"""Safe method that checks for interfaces"""""" bool(cls._interfaces.get(network_id)) self._add_running_interface(self.interface_name, self.network.id) self._del_running_interface(self.interface_name, self.network.id) # Delete namespace only if there are no running interfaces in it, # which covers the case where a network has multiple segmentation ids. if not self._has_running_interfaces(self.network.id):"," # Track running interfaces. _interfaces = set() def _add_running_interface(cls, interface): """"""Safe method that add running interface"""""" cls._interfaces.add(interface) def _del_running_interface(cls, interface): """"""Safe method that remove given interface"""""" if interface in cls._interfaces: cls._interfaces.remove(interface) def _has_running_interfaces(cls): """"""Safe method that remove given interface"""""" return bool(cls._interfaces) self._add_running_interface(self.interface_name) self._del_running_interface(self.interface_name) if not self._has_running_interfaces(): # Delete nm only if we don't serve different segmentation id.",67,16
openstack%2Fcharm-rabbitmq-server~master~Ifd0ad1a1b39c32984670eb6e627d6a7a536c49c0,openstack/charm-rabbitmq-server,master,Ifd0ad1a1b39c32984670eb6e627d6a7a536c49c0,Migrate documentation to discourse,ABANDONED,2023-05-05 08:23:21.000000000,2023-06-28 07:15:50.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-05-05 08:23:21.000000000', 'files': ['metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/62f1436e855c5021916f9473a38e681989117ade', 'message': ""Migrate documentation to discourse\n\nDocumentation about this charm has been moved discourse to help improve\nuser experience by centralizing charm's documentations in a single\nplace.\n\nChange-Id: Ifd0ad1a1b39c32984670eb6e627d6a7a536c49c0\n""}]",1,882387,62f1436e855c5021916f9473a38e681989117ade,7,4,1,35761,,,0,"Migrate documentation to discourse

Documentation about this charm has been moved discourse to help improve
user experience by centralizing charm's documentations in a single
place.

Change-Id: Ifd0ad1a1b39c32984670eb6e627d6a7a536c49c0
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/87/882387/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.yaml', 'README.md']",2,62f1436e855c5021916f9473a38e681989117ade,migrate-documentation,"# RabbitMQ-server RabbitMQ is an implementation of AMQP, the emerging standard for high performance enterprise messaging. The RabbitMQ server is a robust and scalable implementation of an AMQP broker. The rabbitmq-server charm deploys RabbitMQ server and provides AMQP services to those charms that support the rabbitmq interface. The charm's documentation is viewed on [Charmhub][charm-docs] and its bugs are tracked on [Launchpad][charm-bugs].[charm-docs]: https://discourse.charmhub.io/t/rabbitmq-server-docs-index/10546 [charm-bugs]: https://bugs.launchpad.net/charm-rabbitmq-server/+filebug","# Overview RabbitMQ is an implementation of AMQP, the emerging standard for high performance enterprise messaging. The RabbitMQ server is a robust and scalable implementation of an AMQP broker. The rabbitmq-server charm deploys RabbitMQ server and provides AMQP services to those charms that support the rabbitmq interface. The current list of such charms can be obtained from the [Charm Store][charms-requires-rabbitmq] (the charms officially supported by the OpenStack Charms project are published by 'openstack-charmers'). # Usage ## Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `min-cluster-size` The `min-cluster-size` option sets the number of rabbitmq-server units required to form its cluster. It is best practice to use this option as doing so ensures that the charm will wait until the cluster is up before accepting relations from other client applications. #### `source` The `source` option sets an alternate software source and can be passed during or after deployment. The default behaviour is to use the Ubuntu package archive for the underlying machine series. The most common value is a [UCA][uca] cloud pocket (e.g. 'cloud:bionic-train'). In the case of a non-OpenStack project, there is no guarantee that a candidate will be found in the stated UCA pocket. > **Note:** Changing the value of this option post-deployment will trigger a software upgrade. See [OpenStack upgrade][cdg-upgrade-openstack] in the [OpenStack Charms Deployment Guide][cdg]. ## Deployment To deploy a single rabbitmq-server unit: juju deploy rabbitmq-server To make use of AMQP services, simply add a relation between rabbitmq-server and an application that supports the rabbitmq interface. For instance: juju add-relation rabbitmq-server:amqp nova-cloud-controller:amqp ## Monitoring To collect RabbitMQ metrics, add a relation between rabbitmq-server and an application that supports the `scrape` interface. For instance: juju add-relation rabbitmq-server:scrape prometheus:scrape > **Note:** The scrape relation is only supported when the RabbitMQ version is >= 3.8. The charm can be related to a dashboard charm like grafana to view visualization metrics: juju add-relation rabbitmq-server:dashboards grafana:dashboards To get alerts of RabbitMQ split-brain events, add a relation between rabbitmq-server and an application that supports the `prometheus-rules` interface. For instance: juju add-relation rabbitmq-server:prometheus-rules prometheus:prometheus-rules ## High availability When more than one unit is deployed the charm will bring up a native RabbitMQ HA active/active cluster. The ``min-cluster-size`` option should be used (see description above). See [Infrastructure high availability][cdg-ha-rabbitmq] in the [OpenStack Charms Deployment Guide][cdg] for details. ### TLS Communication between the AMQP message queue and client services (OpenStack applications) can be TLS-encrypted. There are two methods for managing keys and certificates: 1. with Vault 1. manually (via charm options) Vault can set up private keys and server certificates for an application. It also stores a central CA certificate for the cloud. See the [vault][vault-charm] charm for more information. Vault is the recommended method and is what will be covered here. The private key and server certificate (and its signing) are managed via a relation made to the vault application: juju add-relation rabbitmq-server:certificates vault:certificates ## Actions This section lists Juju [actions][juju-docs-actions] supported by the charm. Actions allow specific operations to be performed on a per-unit basis. * `check-queues` * `cluster-status` * `complete-cluster-series-upgrade` * `list-unconsumed-queues` * `pause` * `resume` To display action descriptions run `juju actions --schema rabbitmq-server`. If the charm is not deployed then see file ``actions.yaml``. # Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage information # Bugs For general charm questions refer to the [OpenStack Charm Guide][cg].[cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [cdg-upgrade-openstack]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/upgrade-openstack.html [lp-bugs-charm-rabbitmq-server]: https://bugs.launchpad.net/charm-rabbitmq-server/+filebug [juju-docs-actions]: https://jaas.ai/docs/actions [charms-requires-rabbitmq]: https://jaas.ai/search?requires=rabbitmq [vault-charm]: https://jaas.ai/vault [uca]: https://wiki.ubuntu.com/OpenStack/CloudArchive [cdg-ha-rabbitmq]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ha.html#rabbitmq [juju-docs-config-apps]: https://juju.is/docs/configuring-applications",7,131
openstack%2Fnova~stable%2Fxena~Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d,openstack/nova,stable/xena,Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d,Ironic: retry when node not available,NEW,2022-12-16 21:30:50.000000000,2023-06-28 06:45:15.000000000,,"[{'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-12-16 21:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/85e6aca53d7109e1dd1bd8fc04fe0642cf72093a', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)\n(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)\n'}, {'number': 2, 'created': '2022-12-16 21:33:02.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8aa6f4f6685279bd314b1b50d614d02188124dd4', 'message': 'Ironic: retry when node not available\n\nAfter a baremetal instance is deleted, and its allocation is removed\nin placement, the ironic node might start cleaning. Eventually nova\nwill notice and update the inventory to be reserved.\nDuring this window, a new instance may have already picked this\nironic node.\n\nWhen that race happens today the build fails with an error:\n""Failed to reserve node ...""\n\nThis change tries to ensure the remaining alternative hosts are\nattempted before aborting the build.\nClearly the race is still there, but this makes it less painful.\n\nRelated-Bug: #1974070\nChange-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d\n(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)\n(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)\n(cherry picked from commit b881dd25b4abb3c54934d8ebbccb2ac602c83177)\n'}]",2,868011,8aa6f4f6685279bd314b1b50d614d02188124dd4,9,4,2,6618,,,0,"Ironic: retry when node not available

After a baremetal instance is deleted, and its allocation is removed
in placement, the ironic node might start cleaning. Eventually nova
will notice and update the inventory to be reserved.
During this window, a new instance may have already picked this
ironic node.

When that race happens today the build fails with an error:
""Failed to reserve node ...""

This change tries to ensure the remaining alternative hosts are
attempted before aborting the build.
Clearly the race is still there, but this makes it less painful.

Related-Bug: #1974070
Change-Id: Ie5cdc17219c86927ab3769605808cb9d9fa9fa4d
(cherry picked from commit 8a476061c5e034016668cd9e5a20c4430ef6b68d)
(cherry picked from commit d71e9f6ec4933f9430db55537a36678b16ce895a)
(cherry picked from commit b881dd25b4abb3c54934d8ebbccb2ac602c83177)
",git fetch https://review.opendev.org/openstack/nova refs/changes/11/868011/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'nova/compute/manager.py']",4,85e6aca53d7109e1dd1bd8fc04fe0642cf72093a,bug1974070," exception.UnexpectedDeletingTaskStateError, exception.ComputeResourcesUnavailable):", exception.UnexpectedDeletingTaskStateError):,70,3
openstack%2Fnova~stable%2Fyoga~I2ba035c09ace20e9835d9d12a5c5bee17d616718,openstack/nova,stable/yoga,I2ba035c09ace20e9835d9d12a5c5bee17d616718,Fix failed count for anti-affinity check,NEW,2023-06-06 08:36:17.000000000,2023-06-28 06:16:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 34860}, {'_account_id': 34951}]","[{'number': 1, 'created': '2023-06-06 08:36:17.000000000', 'files': ['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/cd0403dd3b1099bd13da503500a50249db8e49ea', 'message': 'Fix failed count for anti-affinity check\n\nThe late anti-affinity check runs in the compute manager to avoid\nparallel scheduling requests to invalidate the anti-affinity server\ngroup policy. When the check fails the instance is re-scheduled.\nHowever this failure counted as a real instance boot failure of the\ncompute host and can lead to de-prioritization of the compute host\nin the scheduler via BuildFailureWeigher. As the late anti-affinity\ncheck does not indicate any fault of the compute host itself it\nshould not be counted towards the build failure counter.\nThis patch adds new build results to handle this case.\n\nCloses-Bug: #1996732\nChange-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718\nSigned-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>\n(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)\n(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)\n(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)\n'}]",1,885345,cd0403dd3b1099bd13da503500a50249db8e49ea,4,3,1,9708,,,0,"Fix failed count for anti-affinity check

The late anti-affinity check runs in the compute manager to avoid
parallel scheduling requests to invalidate the anti-affinity server
group policy. When the check fails the instance is re-scheduled.
However this failure counted as a real instance boot failure of the
compute host and can lead to de-prioritization of the compute host
in the scheduler via BuildFailureWeigher. As the late anti-affinity
check does not indicate any fault of the compute host itself it
should not be counted towards the build failure counter.
This patch adds new build results to handle this case.

Closes-Bug: #1996732
Change-Id: I2ba035c09ace20e9835d9d12a5c5bee17d616718
Signed-off-by: Yusuke Okada <okada.yusuke@fujitsu.com>
(cherry picked from commit 56d320a203a13f262a2e94e491af222032e453d3)
(cherry picked from commit 1b56714e9119ab4152e6f33985a499b2d83a491b)
(cherry picked from commit 2f1d65774fbcf5c25c4ba53583b6a802a03f4c4d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/45/885345/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_server_group.py', 'nova/tests/unit/compute/test_compute_mgr.py', 'nova/exception.py', 'nova/compute/manager.py', 'nova/compute/build_results.py']",5,cd0403dd3b1099bd13da503500a50249db8e49ea,bug/1996732,"# Instance failed by policy violation (such as affinity or anti-affinity) # and was not rescheduled. In this case, the node's failed count won't be # increased. FAILED_BY_POLICY = 'failed_by_policy' # Instance failed by policy violation (such as affinity or anti-affinity) # but was rescheduled. In this case, the node's failed count won't be # increased. RESCHEDULED_BY_POLICY = 'rescheduled_by_policy'",,265,14
openstack%2Fproject-config~master~Iade0f5cda4de8803204d45b9a1d49a27fa07a4db,openstack/project-config,master,Iade0f5cda4de8803204d45b9a1d49a27fa07a4db,Normalize projects.yaml,MERGED,2023-06-28 02:28:14.000000000,2023-06-28 06:03:51.000000000,2023-06-28 05:58:36.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-28 02:28:14.000000000', 'files': ['gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/6f84e98ac14b478a1ae026787a6ff8404c73214b', 'message': 'Normalize projects.yaml\n\nChange-Id: Iade0f5cda4de8803204d45b9a1d49a27fa07a4db\n'}]",1,887126,6f84e98ac14b478a1ae026787a6ff8404c73214b,7,2,1,11131,,,0,"Normalize projects.yaml

Change-Id: Iade0f5cda4de8803204d45b9a1d49a27fa07a4db
",git fetch https://review.opendev.org/openstack/project-config refs/changes/26/887126/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/projects.yaml'],1,6f84e98ac14b478a1ae026787a6ff8404c73214b,project-yaml-normalization,, upstream: https://github.com/dpanech-wr/stx-virtual-deployment.git,0,1
openstack%2Fswift~master~I11bd42c01cee299391b21c179a05e83e65dbb1f3,openstack/swift,master,I11bd42c01cee299391b21c179a05e83e65dbb1f3,Use statsd_client more directly,MERGED,2023-06-13 20:05:22.000000000,2023-06-28 05:58:07.000000000,2023-06-28 05:57:00.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-13 20:05:22.000000000', 'files': ['swift/common/utils/__init__.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4c986d97bc1eeb6eb25d6571cc2b9071513e70e7', 'message': ""Use statsd_client more directly\n\nIf you go and replace a logger's statsd_client with something that\ndoesn't inherit from StatsdClient, you could previously get some\nTypeErrors about how the unbound StatsdClient method must be called\nwith a StatsdClient instance.\n\nEven if the replacement *did* inherit from StatsdClient, you may get\nunexpected behaviors if it overrode any of the metrics functions.\n\nNow, pass through to the bound methods on the logger's statsd_client.\n\nChange-Id: I11bd42c01cee299391b21c179a05e83e65dbb1f3\n""}]",11,886028,4c986d97bc1eeb6eb25d6571cc2b9071513e70e7,15,4,1,15343,,,0,"Use statsd_client more directly

If you go and replace a logger's statsd_client with something that
doesn't inherit from StatsdClient, you could previously get some
TypeErrors about how the unbound StatsdClient method must be called
with a StatsdClient instance.

Even if the replacement *did* inherit from StatsdClient, you may get
unexpected behaviors if it overrode any of the metrics functions.

Now, pass through to the bound methods on the logger's statsd_client.

Change-Id: I11bd42c01cee299391b21c179a05e83e65dbb1f3
",git fetch https://review.opendev.org/openstack/swift refs/changes/28/886028/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/utils/__init__.py'],1,4c986d97bc1eeb6eb25d6571cc2b9071513e70e7,," func = getattr(self.logger.statsd_client, statsd_func_name) return func(*a, **kw)"," return func(self.logger.statsd_client, *a, **kw)",2,2
openstack%2Fnova~stable%2Fyoga~I5a35a45abfcfbbb858a94927853777f112e73e5b,openstack/nova,stable/yoga,I5a35a45abfcfbbb858a94927853777f112e73e5b,Handle zero pinned CPU in a cell with mixed policy,NEW,2023-05-08 08:59:14.000000000,2023-06-28 05:54:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-08 08:59:14.000000000', 'files': ['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c4e10fd7c1e928e94441b827504f49e94ad53676', 'message': 'Handle zero pinned CPU in a cell with mixed policy\n\nWhen cpu_policy is mixed the scheduler tries to find a valid CPU pinning\nfor each instance NUMA cell. However if there is an instance NUMA cell\nthat does not request any pinned CPUs then such logic will calculate\nempty pinning information for that cell. Then the scheduler logic\nwrongly assumes that an empty pinning result means there was no valid\npinning. However there is difference between a None result when no valid\npinning found, from an empty result [] which means there was nothing to\npin.\n\nThis patch makes sure that pinning == None is differentiated from\npinning == [].\n\nCloses-Bug: #1994526\nChange-Id: I5a35a45abfcfbbb858a94927853777f112e73e5b\n(cherry picked from commit cffe3971ce585a1ddc374a3ed067347857338831)\n(cherry picked from commit fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40)\n(cherry picked from commit 9d11b6ae82b9dc709f3b856e50587d9713a70495)\n'}]",1,882533,c4e10fd7c1e928e94441b827504f49e94ad53676,5,2,1,9708,,,0,"Handle zero pinned CPU in a cell with mixed policy

When cpu_policy is mixed the scheduler tries to find a valid CPU pinning
for each instance NUMA cell. However if there is an instance NUMA cell
that does not request any pinned CPUs then such logic will calculate
empty pinning information for that cell. Then the scheduler logic
wrongly assumes that an empty pinning result means there was no valid
pinning. However there is difference between a None result when no valid
pinning found, from an empty result [] which means there was nothing to
pin.

This patch makes sure that pinning == None is differentiated from
pinning == [].

Closes-Bug: #1994526
Change-Id: I5a35a45abfcfbbb858a94927853777f112e73e5b
(cherry picked from commit cffe3971ce585a1ddc374a3ed067347857338831)
(cherry picked from commit fa2ba3ab2c566337f5ad6ebd8fbcecc6aa930a40)
(cherry picked from commit 9d11b6ae82b9dc709f3b856e50587d9713a70495)
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/882533/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/hardware.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,c4e10fd7c1e928e94441b827504f49e94ad53676,bug/1994526," expected_usage = { 'DISK_GB': 20, 'MEMORY_MB': 1024, 'PCPU': 2, 'VCPU': 1, } server = self._run_build_test( flavor_id, expected_usage=expected_usage) # sanity check the instance topology inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(2, len(inst.numa_topology.cells)) self.assertEqual({0}, inst.numa_topology.cells[0].cpuset) self.assertEqual(set(), inst.numa_topology.cells[0].pcpuset) self.assertIsNone(inst.numa_topology.cells[0].cpu_pinning) self.assertEqual(set(), inst.numa_topology.cells[1].cpuset) self.assertEqual({1, 2}, inst.numa_topology.cells[1].pcpuset) self.assertEqual( {6, 7}, set(inst.numa_topology.cells[1].cpu_pinning.values()) )"," # This is bug 1994526 as the scheduling fails self._run_build_test(flavor_id, end_status='ERROR') # # After bug 1994526 is fixed, this should pass # expected_usage = { # 'DISK_GB': 20, 'MEMORY_MB': 1024, 'PCPU': 2, 'VCPU': 1, # } # server = self._run_build_test( # flavor_id, expected_usage=expected_usage) # # # sanity check the instance topology # inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) # self.assertEqual(2, len(inst.numa_topology.cells)) # # self.assertEqual({0}, inst.numa_topology.cells[0].cpuset) # self.assertEqual(set(), inst.numa_topology.cells[0].pcpuset) # self.assertEqual(None, inst.numa_topology.cells[0].cpu_pinning) # # self.assertEqual(set(), inst.numa_topology.cells[1].cpuset) # self.assertEqual({1, 2}, inst.numa_topology.cells[1].pcpuset) # self.assertEqual( # {6, 7}, # set(inst.numa_topology.cells[1].cpu_pinning.values()) # )",25,27
openstack%2Fnova~stable%2Fyoga~I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf,openstack/nova,stable/yoga,I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf,Reproduce asym NUMA mixed CPU policy bug,NEW,2023-05-08 08:59:14.000000000,2023-06-28 05:51:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-05-08 08:59:14.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a00f00a32af4072b37319fe82d36dbff7e59b355', 'message': 'Reproduce asym NUMA mixed CPU policy bug\n\nRelated-Bug: #1994526\nChange-Id: I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf\n(cherry picked from commit 182c5be122868d4fe910309a868b044b0e71316b)\n(cherry picked from commit 2cf835be82e11505ae8609deba83d61a34ecaa8d)\n(cherry picked from commit 4fd163f698cc4991f731adc06f3e8601f9fbdce9)\n'}]",1,882532,a00f00a32af4072b37319fe82d36dbff7e59b355,4,2,1,9708,,,0,"Reproduce asym NUMA mixed CPU policy bug

Related-Bug: #1994526
Change-Id: I52ee068377cc48ef4b4cdcb4b05fdc8d926faddf
(cherry picked from commit 182c5be122868d4fe910309a868b044b0e71316b)
(cherry picked from commit 2cf835be82e11505ae8609deba83d61a34ecaa8d)
(cherry picked from commit 4fd163f698cc4991f731adc06f3e8601f9fbdce9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/32/882532/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,a00f00a32af4072b37319fe82d36dbff7e59b355,bug/1994526," def test_create_server_with_mixed_policy_asymmetric_multi_numa(self): """"""Boot an instance stretched to two NUMA nodes requesting only shared CPUs in one NUMA and only dedicated in the other NUMA node. """""" # shared dedicated # NUMA0 pCPU | 0 | 2 3 # NUMA1 pCPU | | 6 7 self.flags( cpu_shared_set='0', cpu_dedicated_set='2,3,6,7', group='compute', ) self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo( cpu_nodes=2, cpu_sockets=1, cpu_cores=4, cpu_threads=1) self.start_compute(host_info=host_info, hostname='compute1') # sanity check the created host topology object; this is really just a # test of the fakelibvirt module host_numa = objects.NUMATopology.obj_from_db_obj( objects.ComputeNode.get_by_nodename( self.ctxt, 'compute1', ).numa_topology ) self.assertEqual(2, len(host_numa.cells)) self.assertEqual({0}, host_numa.cells[0].cpuset) self.assertEqual({2, 3}, host_numa.cells[0].pcpuset) self.assertEqual(set(), host_numa.cells[1].cpuset) self.assertEqual({6, 7}, host_numa.cells[1].pcpuset) # create a flavor with 1 shared and 2 dedicated CPUs stretched to # different NUMA nodes extra_spec = { 'hw:cpu_policy': 'mixed', 'hw:cpu_dedicated_mask': '^0', 'hw:numa_nodes': '2', 'hw:numa_cpus.0': '0', 'hw:numa_cpus.1': '1,2', 'hw:numa_mem.0': '256', 'hw:numa_mem.1': '768', } flavor_id = self._create_flavor( vcpu=3, memory_mb=1024, extra_spec=extra_spec) # The only possible solution (ignoring the order of vCPU1,2): # vCPU 0 => pCPU 0, NUMA0, shared # vCPU 1 => pCPU 6, NUMA1, dedicated # vCPU 2 => pCPU 7, NUMA1, dedicated # This is bug 1994526 as the scheduling fails self._run_build_test(flavor_id, end_status='ERROR') # # After bug 1994526 is fixed, this should pass # expected_usage = { # 'DISK_GB': 20, 'MEMORY_MB': 1024, 'PCPU': 2, 'VCPU': 1, # } # server = self._run_build_test( # flavor_id, expected_usage=expected_usage) # # # sanity check the instance topology # inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) # self.assertEqual(2, len(inst.numa_topology.cells)) # # self.assertEqual({0}, inst.numa_topology.cells[0].cpuset) # self.assertEqual(set(), inst.numa_topology.cells[0].pcpuset) # self.assertEqual(None, inst.numa_topology.cells[0].cpu_pinning) # # self.assertEqual(set(), inst.numa_topology.cells[1].cpuset) # self.assertEqual({1, 2}, inst.numa_topology.cells[1].pcpuset) # self.assertEqual( # {6, 7}, # set(inst.numa_topology.cells[1].cpu_pinning.values()) # ) ",,74,0
openstack%2Foctavia~stable%2Fwallaby~Ie5fb25e292461baca38499091e8f9b9a53e3ddcd,openstack/octavia,stable/wallaby,Ie5fb25e292461baca38499091e8f9b9a53e3ddcd,Fix pool creation with single LB create call,MERGED,2023-05-04 11:40:49.000000000,2023-06-28 05:44:03.000000000,2023-06-28 05:42:53.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-04 11:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6e8e67ec7992adc251864dde5dbaa715dbda385d', 'message': 'Fix pool creation with single LB create call\n\nSo far, creating a populated LB (or an LB tree) with non attached pools,\nleft the pools on PENDING_CREATE provisioning_state.\n\nThis patch adds the option of marking non attached pools to be active on\nthe MarkLBActiveInDB task.\n\nStory 2010426\nTask 46823\n\nConflicts:\n\toctavia/controller/worker/v1/flows/load_balancer_flows.py\n\toctavia/controller/worker/v2/flows/load_balancer_flows.py\n\toctavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py\n\nChange-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd\n(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)\n(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)\n(cherry picked from commit 396785dadd0e1c66fcc845799cdfc814faec7d84)\n(cherry picked from commit 9a40fa7e3c8b211812a04b3b02cc637cb0fa548f)\n'}, {'number': 2, 'created': '2023-05-04 11:54:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/077276469a1888a9ffe36b2720eeba2c67b78e52', 'message': 'Fix pool creation with single LB create call\n\nSo far, creating a populated LB (or an LB tree) with non attached pools,\nleft the pools on PENDING_CREATE provisioning_state.\n\nThis patch adds the option of marking non attached pools to be active on\nthe MarkLBActiveInDB task.\n\nStory 2010426\nTask 46823\n\nConflicts:\n\toctavia/controller/worker/v1/flows/load_balancer_flows.py\n\toctavia/controller/worker/v2/flows/load_balancer_flows.py\n\toctavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py\n\nChange-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd\n(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)\n(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)\n(cherry picked from commit 396785dadd0e1c66fcc845799cdfc814faec7d84)\n(cherry picked from commit 9a40fa7e3c8b211812a04b3b02cc637cb0fa548f)\n(cherry picked from commit f0df69df73b41440b9b3e6da3b094e87bbb154b6)\n'}, {'number': 3, 'created': '2023-05-08 11:16:53.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/fix-pool-prov-status-on-lb-single-create-897070aee0a42da6.yaml', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/152832af17e3b158279f88a39c801f998e0193f3', 'message': 'Fix pool creation with single LB create call\n\nSo far, creating a populated LB (or an LB tree) with non attached pools,\nleft the pools on PENDING_CREATE provisioning_state.\n\nThis patch adds the option of marking non attached pools to be active on\nthe MarkLBActiveInDB task.\n\nStory 2010426\nTask 46823\n\nConflicts:\n\toctavia/controller/worker/v1/flows/load_balancer_flows.py\n\toctavia/controller/worker/v2/flows/load_balancer_flows.py\n\toctavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py\n\nChange-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd\n(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)\n(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)\n(cherry picked from commit 396785dadd0e1c66fcc845799cdfc814faec7d84)\n(cherry picked from commit 9a40fa7e3c8b211812a04b3b02cc637cb0fa548f)\n(cherry picked from commit f0df69df73b41440b9b3e6da3b094e87bbb154b6)\n'}]",4,882278,152832af17e3b158279f88a39c801f998e0193f3,23,6,3,31664,,,0,"Fix pool creation with single LB create call

So far, creating a populated LB (or an LB tree) with non attached pools,
left the pools on PENDING_CREATE provisioning_state.

This patch adds the option of marking non attached pools to be active on
the MarkLBActiveInDB task.

Story 2010426
Task 46823

Conflicts:
	octavia/controller/worker/v1/flows/load_balancer_flows.py
	octavia/controller/worker/v2/flows/load_balancer_flows.py
	octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py
	octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py

Change-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd
(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)
(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)
(cherry picked from commit 396785dadd0e1c66fcc845799cdfc814faec7d84)
(cherry picked from commit 9a40fa7e3c8b211812a04b3b02cc637cb0fa548f)
(cherry picked from commit f0df69df73b41440b9b3e6da3b094e87bbb154b6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/78/882278/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/fix-pool-prov-status-on-lb-single-create-897070aee0a42da6.yaml', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py']",9,6e8e67ec7992adc251864dde5dbaa715dbda385d,fix_pool_create_single_lb_create_call," self.get_post_lb_amp_association_flow(post_amp_prefix, topology)) lb_create_flow.add( database_tasks.MarkLBActiveInDB( mark_subobjects=True, requires=constants.LOADBALANCER ) ) if CONF.controller_worker.event_notifications: lb_create_flow.add( notification_tasks.SendCreateNotification( requires=constants.LOADBALANCER ) ) def get_post_lb_amp_association_flow(self, prefix, topology):"," self.get_post_lb_amp_association_flow( post_amp_prefix, topology, mark_active=(not listeners))) flows.append( database_tasks.MarkLBActiveInDB( mark_subobjects=True, requires=constants.LOADBALANCER ) ) def get_post_lb_amp_association_flow(self, prefix, topology, mark_active=True): if mark_active: post_create_LB_flow.add(database_tasks.MarkLBActiveInDB( name=sf_name + '-' + constants.MARK_LB_ACTIVE_INDB, requires=constants.LOADBALANCER))",65,43
openstack%2Fglance~master~Ia9b251f0e48f69baa0c5c988b91b216a627ed028,openstack/glance,master,Ia9b251f0e48f69baa0c5c988b91b216a627ed028,Refactor pipeline definition,MERGED,2021-07-25 06:32:15.000000000,2023-06-28 05:16:52.000000000,2023-06-28 05:15:39.000000000,"[{'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 19138}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-07-25 06:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b568b6d1020ac6e4bab44f8cba3599a4dc35378f', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory to use a single entry to define\nmultiple pipelines, so that we can reduce number of sections in\napi-paste.ini .\n\nChange-Id: Ia9b251f0e48f69baa0c5c988b91b216a627ed028\n'}, {'number': 2, 'created': '2021-07-25 06:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e8a4c629d9f94afde1b48ee277e6e9432632c07d', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory to use a single entry to define\nmultiple pipelines, so that we can reduce number of sections in\napi-paste.ini .\n\nChange-Id: Ia9b251f0e48f69baa0c5c988b91b216a627ed028\n'}, {'number': 3, 'created': '2021-07-25 06:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/357546dab6a841761928bbf9859a9212a1319053', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory so that we can use a single\nentry to define pipeline for each deployment flavor.\n\nChange-Id: Ia9b251f0e48f69baa0c5c988b91b216a627ed028\n'}, {'number': 4, 'created': '2021-08-09 05:05:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8f3aa704f782cefd461286a310d5b069def6430b', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory so that we can use a single\nentry to define pipeline for each deployment flavor.\n\nChange-Id: Ia9b251f0e48f69baa0c5c988b91b216a627ed028\n'}, {'number': 5, 'created': '2022-02-03 01:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7baf37aa0439b2d615801a4a1bb148f0a5d4189d', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory so that we can use a single\nentry to define pipeline for each deployment flavor.\n\nChange-Id: Ia9b251f0e48f69baa0c5c988b91b216a627ed028\n'}, {'number': 6, 'created': '2023-05-10 03:36:14.000000000', 'files': ['glance/api/__init__.py', 'etc/glance-api-paste.ini'], 'web_link': 'https://opendev.org/openstack/glance/commit/7ab90017503807f5dc6e46a8f97cb24d566264d3', 'message': 'Refactor pipeline definition\n\nThis introduces a new pipeline_factory so that we can use a single\nentry to define pipeline for each deployment flavor.\n\nChange-Id: Ia9b251f0e48f69baa0c5c988b91b216a627ed028\n'}]",11,802180,7ab90017503807f5dc6e46a8f97cb24d566264d3,55,6,6,9816,,,0,"Refactor pipeline definition

This introduces a new pipeline_factory so that we can use a single
entry to define pipeline for each deployment flavor.

Change-Id: Ia9b251f0e48f69baa0c5c988b91b216a627ed028
",git fetch https://review.opendev.org/openstack/glance refs/changes/80/802180/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/api/__init__.py', 'etc/glance-api-paste.ini']",2,b568b6d1020ac6e4bab44f8cba3599a4dc35378f,bug/1937901,/: api/: api/: api/: api/: api /healthchetck: healthcheck/: api/: api[composite: api] paste.composite_factory = glance.api:pipeline_factory default = cors http_proxy_to_wsgi versionnegotiation osprofiler unauthenticated-context rootapp caching = cors http_proxy_to_wsgi versionnegotiation osprofiler unauthenticated-context cache rootapp cachemanagement = cors http_proxy_to_wsgi versionnegotiation osprofiler unauthenticated-context cache cachemanage rootapp keystone = cors http_proxy_to_wsgi versionnegotiation osprofiler authtoken context rootapp keystone+caching = cors http_proxy_to_wsgi versionnegotiation osprofiler authtoken context cache rootapp keystone+cachemanagement = cors http_proxy_to_wsgi versionnegotiation osprofiler authtoken context cache cachemanage rootapp trusted-auth = cors http_proxy_to_wsgi versionnegotiation osprofiler context rootapp trusted-auth+cachemanagement = cors http_proxy_to_wsgi versionnegotiation osprofiler context cache cachemanage rootapp,[pipeline: api] pipeline = cors http_proxy_to_wsgi versionnegotiation osprofiler unauthenticated-context rootapp /: api-caching[pipeline: api-caching] pipeline = cors http_proxy_to_wsgi versionnegotiation osprofiler unauthenticated-context cache rootapp /: api-cachemanagement[pipeline:api-cachemanagement] pipeline = cors http_proxy_to_wsgi versionnegotiation osprofiler unauthenticated-context cache cachemanage rootapp /: api-keystone[pipeline: api-keystone] pipeline = cors http_proxy_to_wsgi versionnegotiation osprofiler authtoken context rootapp /: api-keystone+caching[pipeline: api-keystone+caching] pipeline = cors http_proxy_to_wsgi versionnegotiation osprofiler authtoken context cache rootapp /: api-keystone+cachemanagement /healthcheck: healthcheck [pipeline: api-keystone+cachemanagement] pipeline = cors http_proxy_to_wsgi versionnegotiation osprofiler authtoken context cache cachemanage rootapp/: api-trusted-auth[pipeline:api-trusted-auth] pipeline = cors http_proxy_to_wsgi versionnegotiation osprofiler context rootapp /: api-trusted-auth+cachemanagement[pipeline: api-trusted-auth+cachemanagement] pipeline = cors http_proxy_to_wsgi versionnegotiation osprofiler context cache cachemanage rootapp,30,31
openstack%2Fkeystone~master~I95aac0b4ac4e887b79ef5b15ac5cb3d356c26735,openstack/keystone,master,I95aac0b4ac4e887b79ef5b15ac5cb3d356c26735,Fix presentation of OAuth2.0 user guides,NEW,2023-06-27 14:57:00.000000000,2023-06-28 05:01:26.000000000,,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 14:57:00.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/oauth2-usage-guide.rst', 'doc/source/admin/configure-https.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/f6ab28218e551db4ba8d9d3971c3ffff62bb6e38', 'message': 'Fix presentation of OAuth2.0 user guides\n\nApplied remining comments to the first OAuth2.0 documentation patch [1].\n\n[1] https://review.opendev.org/c/openstack/keystone/+/838108\n\nChange-Id: I95aac0b4ac4e887b79ef5b15ac5cb3d356c26735\n'}]",0,887071,f6ab28218e551db4ba8d9d3971c3ffff62bb6e38,2,3,1,33455,,,0,"Fix presentation of OAuth2.0 user guides

Applied remining comments to the first OAuth2.0 documentation patch [1].

[1] https://review.opendev.org/c/openstack/keystone/+/838108

Change-Id: I95aac0b4ac4e887b79ef5b15ac5cb3d356c26735
",git fetch https://review.opendev.org/openstack/keystone refs/changes/71/887071/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/oauth2-usage-guide.rst', 'doc/source/admin/configure-https.rst']",3,f6ab28218e551db4ba8d9d3971c3ffff62bb6e38,bp/oauth2-client-credentials-ext,"Configure HTTPS in Identity Service ----------------------------------- The following part describes steps to enable both HTTP and HTTPS with a self-signed certificate. 1. Generate an RSA private key. .. code-block:: console stack@oauth2-0-server:/$ openssl genrsa -out keystone.key 2048 Generating RSA private key, 2048 bit long modulus (2 primes) .........................................+++++ .........................+++++ e is 65537 (0x010001) 2. Create a certificate signing request. .. code-block:: console stack@oauth2-0-server:/$ openssl req -new -key keystone.key -out keystone.csr You are about to be asked to enter information that will be incorporated into your certificate request. What you are about to enter is what is called a Distinguished Name or a DN. There are quite a few fields but you can leave some blank For some fields there will be a default value, If you enter '.', the field will be left blank. ----- Country Name (2 letter code) [AU]: State or Province Name (full name) [Some-State]: Locality Name (eg, city) []: Organization Name (eg, company) [Internet Widgits Pty Ltd]: Organizational Unit Name (eg, section) []: Common Name (e.g. server FQDN or YOUR name) []:keystone.host Email Address []: Please enter the following 'extra' attributes to be sent with your certificate request A challenge password []: An optional company name []: 3. Generate a self-signed certificate. .. code-block:: console stack@oauth2-0-server:/$ openssl x509 -req -days 365 -in keystone.csr \ -signkey keystone.key -out keystone.host.crt Signature ok subject=C = , ST = , L = , O = , OU = , CN = keystone.host, emailAddress = Getting Private key 4. Append the configuration file for setting the HTTPS port service under the directory ``/etc/apache2/sites-enabled/``. .. code-block:: console stack@oauth2-0-server:/$ sudo ln -s \ /etc/apache2/sites-available/000-default.conf \ /etc/apache2/sites-enabled/000-default.conf 5. Modify the apache configuration file and add proxy rules to implement HTTPS support for the Keystone service. .. code-block:: console stack@oauth2-0-server:/$ vi 000-default.conf <VirtualHost *:443> DocumentRoot /var/www/html SSLCertificateFile /etc/ssl/certs/keystone.host.crt SSLCertificateKeyFile /etc/ssl/certs/keystone.key SSLEngine on SSLProtocol all -SSLv2 -SSLv3 SSLCipherSuite ECDH:AESGCM:HIGH:!RC4:!DH:!MD5:!aNULL:!eNULL SSLHonorCipherOrder on ProxyPass ""/identity"" ""unix:/var/run/uwsgi/keystone-wsgi-public.socket|uwsgi://uwsgi-uds-keystone-wsgi-public"" retry=0 </VirtualHost> 6. Restart apache service so that the modified configuration information takes effect. .. code-block:: console stack@oauth2-0-server:/$ systemctl restart apache2.service ==== AUTHENTICATING FOR org.freedesktop.systemd1.manage-units === Authentication is required to restart 'apache2.service'. Authenticating as: Ubuntu (ubuntu) Password: ==== AUTHENTICATION COMPLETE === .. _RFC6749: https://datatracker.ietf.org/doc/html/rfc6749",,122,160
openstack%2Fkolla~master~I589a5ae43ccf52104b8cbce327ab13248d3bbde0,openstack/kolla,master,I589a5ae43ccf52104b8cbce327ab13248d3bbde0,"Revert ""neutron-mlnx-agent: pin pyzmq at 21.*""",MERGED,2023-05-02 12:24:08.000000000,2023-06-28 03:16:03.000000000,2023-06-28 03:14:49.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-05-02 12:24:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/afcf8f4d4f0dde27575b3c4ff298e60fc4ce552e', 'message': 'Revert ""neutron-mlnx-agent: pin pyzmq at 21.*""\n\nThis reverts commit b2d5307a442994d1a9348926f0664bb94ef96248.\n\nReason for revert: Bobcat uses 25+ version\n\nChange-Id: I589a5ae43ccf52104b8cbce327ab13248d3bbde0\n'}, {'number': 2, 'created': '2023-05-02 12:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2c5efbb4178048f528d4299ea3bee653e132134f', 'message': 'Revert ""neutron-mlnx-agent: pin pyzmq at 21.*""\n\nThis reverts commit b2d5307a442994d1a9348926f0664bb94ef96248.\n\nReason for revert: Bobcat uses 25+ version\n\nChange-Id: I589a5ae43ccf52104b8cbce327ab13248d3bbde0\n'}, {'number': 3, 'created': '2023-06-14 11:45:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a27521b79524241c51477123ade253a49248ed3a', 'message': 'Revert ""neutron-mlnx-agent: pin pyzmq at 21.*""\n\nThis reverts commit b2d5307a442994d1a9348926f0664bb94ef96248.\n\nReason for revert: Bobcat uses 25+ version\n\nChange-Id: I589a5ae43ccf52104b8cbce327ab13248d3bbde0\n'}, {'number': 4, 'created': '2023-06-14 12:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6815f420acde00e3a383a930fbddccf583eef183', 'message': 'Revert ""neutron-mlnx-agent: pin pyzmq at 21.*""\n\nThis reverts commit b2d5307a442994d1a9348926f0664bb94ef96248.\n\nReason for revert: Bobcat uses 25+ version\n\nChange-Id: I589a5ae43ccf52104b8cbce327ab13248d3bbde0\n'}, {'number': 5, 'created': '2023-06-22 09:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/406022d0721b69dd7bf77182beab791f5dbcdc68', 'message': 'Revert ""neutron-mlnx-agent: pin pyzmq at 21.*""\n\nThis reverts commit b2d5307a442994d1a9348926f0664bb94ef96248.\n\nReason for revert: Bobcat uses 25+ version\n\nChange-Id: I589a5ae43ccf52104b8cbce327ab13248d3bbde0\n'}, {'number': 6, 'created': '2023-06-22 09:50:03.000000000', 'files': ['docker/neutron/neutron-mlnx-agent/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9abe6d7997ab578d536fd215d6571487de7a09c6', 'message': 'Revert ""neutron-mlnx-agent: pin pyzmq at 21.*""\n\nThis reverts commit b2d5307a442994d1a9348926f0664bb94ef96248.\n\nReason for revert: Bobcat uses 25+ version\n\nChange-Id: I589a5ae43ccf52104b8cbce327ab13248d3bbde0\n'}]",7,882051,9abe6d7997ab578d536fd215d6571487de7a09c6,47,7,6,24072,,,0,"Revert ""neutron-mlnx-agent: pin pyzmq at 21.*""

This reverts commit b2d5307a442994d1a9348926f0664bb94ef96248.

Reason for revert: Bobcat uses 25+ version

Change-Id: I589a5ae43ccf52104b8cbce327ab13248d3bbde0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/51/882051/6 && git format-patch -1 --stdout FETCH_HEAD,['docker/neutron/neutron-mlnx-agent/Dockerfile.j2'],1,afcf8f4d4f0dde27575b3c4ff298e60fc4ce552e,for-debian-bookworm-upgrade," 'networking-mlnx'RUN {{ macros.install_pip(neutron_mlnx_agent_pip_packages | customizable(""pip_packages"")) }}"," 'networking-mlnx',{# NOTE(hrw): pyzmq 20 fails to build while 19.* and 21.* build fine. #} RUN sed -e ""s/^pyzmq===20.0.0/pyzmq==21.*/g"" -i /requirements/upper-constraints.txt \ && {{ macros.install_pip(neutron_mlnx_agent_pip_packages | customizable(""pip_packages"")) }}",2,4
openstack%2Fos-net-config~stable%2Fwallaby~Ia5e95daac6d8766a222d8bdde3e233475e203fa9,openstack/os-net-config,stable/wallaby,Ia5e95daac6d8766a222d8bdde3e233475e203fa9,Add ethtool_opts config for sriov VF,MERGED,2023-06-15 07:13:55.000000000,2023-06-28 03:06:12.000000000,2023-06-28 03:04:51.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-15 07:13:55.000000000', 'files': ['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/schema.yaml', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/38b2fde86e921af46faa5ac3d8ac12d448d70a1b', 'message': 'Add ethtool_opts config for sriov VF\n\nSR-IOV VFs used for NIC partitioning shall include ethtool_opts\nconfiguration as well.\n\nChange-Id: Ia5e95daac6d8766a222d8bdde3e233475e203fa9\n(cherry picked from commit c99f19ce78fb83518ddcbb00f6a187df9516b424)\n'}]",2,886132,38b2fde86e921af46faa5ac3d8ac12d448d70a1b,12,3,1,18904,,,0,"Add ethtool_opts config for sriov VF

SR-IOV VFs used for NIC partitioning shall include ethtool_opts
configuration as well.

Change-Id: Ia5e95daac6d8766a222d8bdde3e233475e203fa9
(cherry picked from commit c99f19ce78fb83518ddcbb00f6a187df9516b424)
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/32/886132/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/os-net-config/samples/sriov_pf.json', 'os_net_config/schema.yaml', 'os_net_config/objects.py', 'etc/os-net-config/samples/sriov_pf.yaml']",4,38b2fde86e921af46faa5ac3d8ac12d448d70a1b,," # Set ethtool options (optional) ethtool_opts: ""speed 1000 duplex full""",,12,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id0cebaaf91745dd0d9c7cc66c676c6f9fdad413a,openstack/tripleo-heat-templates,stable/wallaby,Id0cebaaf91745dd0d9c7cc66c676c6f9fdad413a,Designate: conditionally force enable_new_defaults on,MERGED,2023-06-08 16:59:40.000000000,2023-06-28 03:04:49.000000000,2023-06-28 03:04:49.000000000,"[{'_account_id': 6796}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 24245}, {'_account_id': 32926}]","[{'number': 1, 'created': '2023-06-08 16:59:40.000000000', 'files': ['deployment/designate/designate-central-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbae5f8ce9a649c9f064880cd7488464ef748953', 'message': 'Designate: conditionally force enable_new_defaults on\n\nIf the DesignateApiPolicies is set (as per enable-secure-rbac.yaml),\ndesignate deployment and operations will fail unless\nenforce_new_defaults is set to true.\n\nSo far, the alternate solutions aren\'t great. This is a lightweight\nsolution and is expected to work except in unusual situations since we\nadded the DesignateApiPolicies variable in order to support secure\nrbac. Other solutions involve adding ""yet another variable"" or just\nanother variation of conditionally setting the param to true somewhere\nelse. This will also function properly once EnforceSecureRbac is set\nto true globally when it is supported.\n\nChange-Id: Id0cebaaf91745dd0d9c7cc66c676c6f9fdad413a\n'}]",10,885599,bbae5f8ce9a649c9f064880cd7488464ef748953,33,7,1,6681,,,0,"Designate: conditionally force enable_new_defaults on

If the DesignateApiPolicies is set (as per enable-secure-rbac.yaml),
designate deployment and operations will fail unless
enforce_new_defaults is set to true.

So far, the alternate solutions aren't great. This is a lightweight
solution and is expected to work except in unusual situations since we
added the DesignateApiPolicies variable in order to support secure
rbac. Other solutions involve adding ""yet another variable"" or just
another variation of conditionally setting the param to true somewhere
else. This will also function properly once EnforceSecureRbac is set
to true globally when it is supported.

Change-Id: Id0cebaaf91745dd0d9c7cc66c676c6f9fdad413a
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/99/885599/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/designate/designate-central-container-puppet.yaml', 'deployment/designate/designate-api-container-puppet.yaml']",2,bbae5f8ce9a649c9f064880cd7488464ef748953,designate-rbac," designate_has_policies: not: {equals : [{get_param: DesignateApiPolicies}, {}]} - if: - or: - {get_param: EnforceSecureRbac} - designate_has_policies - designate::policy::enforce_new_defaults: true ",,15,2
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I1611f23bf5525489327d38191a073bd53a6f6b08,openstack/tripleo-heat-templates,stable/wallaby,I1611f23bf5525489327d38191a073bd53a6f6b08,Ensure that Redis is running,MERGED,2023-06-20 16:05:55.000000000,2023-06-28 03:04:46.000000000,2023-06-28 03:04:46.000000000,"[{'_account_id': 9816}, {'_account_id': 11166}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2023-06-20 16:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b7ee79b3a03df0a8100c684a6db6414d4e57e219', 'message': 'Ensure that Redis is running\n\nBefore doing the upgrade, check that\nredis bundle resource exits on pacemaker to\navoid having designate or octavia environment without Redis\n\nChange-Id: I1611f23bf5525489327d38191a073bd53a6f6b08\n'}, {'number': 2, 'created': '2023-06-21 09:38:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/315f3845d5d152069531b4ed5dbe7e4c7630eae5', 'message': 'Ensure that Redis is running\n\nBefore doing the upgrade, check that\nredis bundle resource exits on pacemaker to\navoid having designate or octavia environment without Redis\n\nChange-Id: I1611f23bf5525489327d38191a073bd53a6f6b08\n'}, {'number': 3, 'created': '2023-06-21 09:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/781c7e230e9baeafcf776e611cbc0423887c568b', 'message': 'Ensure that Redis is running\n\nBefore doing the upgrade, check that\nredis bundle resource exits on pacemaker to\navoid having designate or octavia environment without Redis\n\nChange-Id: I1611f23bf5525489327d38191a073bd53a6f6b08\n'}, {'number': 4, 'created': '2023-06-22 07:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be0a957267bbcfba9c8f54b66c020819c512a4ff', 'message': 'Ensure that Redis is running\n\nBefore doing the upgrade, check that\nredis bundle resource exits on pacemaker to\navoid having designate or octavia environment without Redis\n\nChange-Id: I1611f23bf5525489327d38191a073bd53a6f6b08\n'}, {'number': 5, 'created': '2023-06-26 15:18:00.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'deployment/designate/designate-central-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2fc08f8ddb8af2a616185f84b8277f98294bea70', 'message': 'Ensure that Redis is running\n\nBefore doing the upgrade, check that\nredis bundle resource exits on pacemaker to\navoid having designate or octavia environment without Redis\n\nChange-Id: I1611f23bf5525489327d38191a073bd53a6f6b08\n'}]",6,886519,2fc08f8ddb8af2a616185f84b8277f98294bea70,26,5,5,22954,,,0,"Ensure that Redis is running

Before doing the upgrade, check that
redis bundle resource exits on pacemaker to
avoid having designate or octavia environment without Redis

Change-Id: I1611f23bf5525489327d38191a073bd53a6f6b08
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/886519/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/octavia/octavia-base.yaml', 'deployment/designate/designate-central-container-puppet.yaml']",2,b7ee79b3a03df0a8100c684a6db6414d4e57e219,check_redis," upgrade_tasks: # Since Wallaby, Redis is not deployed by defaut anymore - name: pre-check to ensure redis is removed if the service is disabled when: - step|int == 0 - '""redis"" not in enabled_services|list' - '""pacemaker' in enabled_services|list' become: true # prior to OS upgrade, don't assume the cluster is running, # probe the CIB file directly instead shell: | export CIB_file=/var/lib/pacemaker/cib/cib.xml if crm_resource -r redis-bundle -q &>/dev/null; then echo ""Redis resource present in pacemaker but disabled by default in TripleO"" >&2 echo ""Delete the resource in pacemaker or enable the redis service before upgrading"" >&2 exit 1 fi",,32,0
openstack%2Fglance~master~Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5,openstack/glance,master,Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5,Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate,NEW,2016-08-24 09:39:22.000000000,2023-06-28 02:55:13.000000000,,"[{'_account_id': 5314}, {'_account_id': 6484}, {'_account_id': 7665}, {'_account_id': 7764}, {'_account_id': 8122}, {'_account_id': 9622}, {'_account_id': 19136}, {'_account_id': 21722}, {'_account_id': 22348}, {'_account_id': 22834}, {'_account_id': 24248}]","[{'number': 1, 'created': '2016-08-24 09:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4b006d4cb09d6e998c619d45b2d71420f480343c', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of\nOS::Nova::HostAggregate in Glance.his doesn’t align with Heat [0]\nor Searchlight [1].It should be noted that Heat added the\nresource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 2, 'created': '2016-08-24 11:07:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/8cb73fadbaf133192611dbe33d3133d5641427d5', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of\nOS::Nova::HostAggregate in Glance.his doesn’t align with Heat\nor Searchlight.It should be noted that Heat added the\nresource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 3, 'created': '2016-08-24 11:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b00c3cc55036a25ebf73cb037c35e29258ce1bb6', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance,but does not align with Heat or Searchlight.It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 4, 'created': '2016-09-07 08:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e3a27a3e1f018ca8668574ef5f57051c1380e3ba', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance,but does not align with Heat or Searchlight.It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 5, 'created': '2016-09-08 06:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b793081ac3a32d19f1d51ea7a280346565ca4787', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance,but does not align with Heat or Searchlight.It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 6, 'created': '2016-09-08 06:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f95b22304c54ef2ab3be97274db118d293df460a', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance,but does not align with Heat or Searchlight.It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 7, 'created': '2016-09-20 03:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/a84954202ade874f97ba8414ee78fa1febf9968f', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance,but does not align with Heat or Searchlight.It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 8, 'created': '2016-09-27 02:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e9b53744b11630b06445443a43775ca6d26e11d4', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance,but does not align with Heat or Searchlight.It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 9, 'created': '2016-10-11 07:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/c4aa2ec66ec9ab2569873a7380388add3f140a2b', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance,but does not align with Heat or Searchlight.It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 10, 'created': '2016-10-19 02:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e0ec998701c940e589146ea6eab895d16e14a9a6', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance,but does not align with Heat or Searchlight.It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 11, 'created': '2016-10-27 08:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6ff6b4927aa1f48bf6e28fd14f9cfe535b0ce923', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance, but does not align with Heat or Searchlight. It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\nCloses-Bug:1612491\n'}, {'number': 12, 'created': '2017-01-10 07:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/53916ae070887897eb93ba09a6248fffc60cc58f', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance, but does not align with Heat or Searchlight. It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nCloses-Bug:1612491\n\nCo-Authored-By: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\n'}, {'number': 13, 'created': '2017-01-17 15:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6f29079976aef56610ae1b8b6a4ab8650f43e0fc', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance, but does not align with Heat or Searchlight. It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nCloses-Bug:1612491\n\nCo-Authored-By: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\n'}, {'number': 14, 'created': '2017-01-20 13:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ef9ad154ca8de82147104a62009bd66d4dc09623', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance, but does not align with Heat or Searchlight. It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nCloses-Bug:1612491\n\nCo-Authored-By: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\n'}, {'number': 15, 'created': '2017-01-26 03:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/7205f07eeb2d7486290ac6fad16c1a52ab61436f', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance, but does not align with Heat or Searchlight. It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nCloses-Bug:1612491\n\nCo-Authored-By: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\n'}, {'number': 16, 'created': '2023-06-28 00:47:27.000000000', 'files': ['etc/metadefs/cim-resource-allocation-setting-data.json', 'etc/metadefs/compute-host-capabilities.json', 'glance/db/sqlalchemy/alembic_migrations/versions/2023_2_contract01_update_nova_os_aggregate.py', 'etc/metadefs/compute-aggr-disk-filter.json', 'etc/metadefs/cim-processor-allocation-setting-data.json', 'etc/metadefs/compute-aggr-num-instances.json', 'etc/metadefs/cim-virtual-system-setting-data.json', 'etc/metadefs/cim-storage-allocation-setting-data.json', 'etc/metadefs/compute-aggr-iops-filter.json', 'api-ref/source/v2/samples/metadef-resource-types-list-response.json', 'doc/source/user/glancemetadefcatalogapi.rst', 'releasenotes/notes/bug-1612491-641ebe5b59a900e4.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/c869d96ca6430d4bb7e0a9e531a343571b8625e2', 'message': 'Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate\n\nThe metadata definitions in etc/metadefs allow each namespace\nto be associated with a resource type in OpenStack. We realized\nthat we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate\nin Glance, but does not align with Heat or Searchlight. It should\nbe noted that Heat added the resource type after Glance had metadefs.\n\nCloses-Bug:1612491\n\nCo-Authored-By: ChangBo Guo(gcb) <eric.guo@easystack.cn>\nChange-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5\n'}]",3,359742,c869d96ca6430d4bb7e0a9e531a343571b8625e2,52,11,16,22834,,,0,"Use OS::Nova::HostAggregate instead of OS::Nova::Aggregate

The metadata definitions in etc/metadefs allow each namespace
to be associated with a resource type in OpenStack. We realized
that we used OS::Nova::Aggregate instead of OS::Nova::HostAggregate
in Glance, but does not align with Heat or Searchlight. It should
be noted that Heat added the resource type after Glance had metadefs.

Closes-Bug:1612491

Co-Authored-By: ChangBo Guo(gcb) <eric.guo@easystack.cn>
Change-Id: Ic6d676fb6a3d91ccfbed56bfad31ab20559a78f5
",git fetch https://review.opendev.org/openstack/glance refs/changes/42/359742/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/metadefs/cim-resource-allocation-setting-data.json', 'etc/metadefs/compute-host-capabilities.json', 'etc/metadefs/compute-aggr-disk-filter.json', 'etc/metadefs/cim-processor-allocation-setting-data.json', 'etc/metadefs/compute-aggr-num-instances.json', 'etc/metadefs/cim-virtual-system-setting-data.json', 'etc/metadefs/cim-storage-allocation-setting-data.json', 'glance/db/sqlalchemy/migrate_repo/versions/045_update_metadef_os_nova_hostaggregate.py', 'etc/metadefs/compute-aggr-iops-filter.json', 'doc/source/glancemetadefcatalogapi.rst', 'api-ref/source/v2/samples/metadef-resource-types-list-response.json', 'glance/db/sqlalchemy/migrate_repo/versions/035_add_metadef_tables.py']",12,4b006d4cb09d6e998c619d45b2d71420f480343c,bug/1612491," u'OS::Nova::Flavor', u'OS::Nova::HostAggregate',"," u'OS::Nova::Flavor', u'OS::Nova::Aggregate',",43,12
openstack%2Fglance~master~Id24ff7da83ffb8a27767f5f74b12878ecf7bb426,openstack/glance,master,Id24ff7da83ffb8a27767f5f74b12878ecf7bb426,docs: hw_rng_model: Document that it has no effect since 'Ussuri',NEW,2020-01-21 17:24:27.000000000,2023-06-28 02:44:56.000000000,,"[{'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-01-21 17:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/3fb5b557ddb40744f52d6479f154c69fc1b4bfa0', 'message': 'docs: hw_rng_model: Document that it has no effect since Ussuri\n\nAlthough, ``hw_rng_model`` is no longer useful, as noted in the Nova\nChange-Id: I28e66c9640c38d23b8c0dbd0b05f5260bfcf6d30 (""libvirt: Add a\ndefault VirtIO-RNG device to guests""), we may extend it to take further\nvalues to enable other use cases (details in the Nova commit).\n\nHence we should not yet deprecate it.\n\nChange-Id: Id24ff7da83ffb8a27767f5f74b12878ecf7bb426\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 2, 'created': '2020-01-21 17:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/6618487da2bec6fc73bf141237bca81b2515c675', 'message': 'docs: hw_rng_model: Document that it has no effect since Ussuri\n\nAlthough, ``hw_rng_model`` is no longer useful, as noted in the Nova\nChange-Id: I28e66c9640c38d23b8c0dbd0b05f5260bfcf6d30 (""libvirt: Add a\ndefault VirtIO-RNG device to guests""), we may extend it to take further\nvalues to enable other use cases (details in the Nova commit).\n\nHence we should not yet deprecate it.\n\nChange-Id: Id24ff7da83ffb8a27767f5f74b12878ecf7bb426\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2020-01-21 17:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/9ac0a189caf71972adedf2daf32ffc5d7b11a7e4', 'message': 'docs: hw_rng_model: Document that it has no effect since \'Ussuri\'\n\nAlthough, ``hw_rng_model`` is no longer useful, as noted in the Nova\nChange-Id: I28e66c9640c38d23b8c0dbd0b05f5260bfcf6d30 (""libvirt: Add a\ndefault VirtIO-RNG device to guests""), we may extend it to take further\nvalues to enable other use cases (details in the Nova commit).\n\nHence we should not yet deprecate it.\n\nChange-Id: Id24ff7da83ffb8a27767f5f74b12878ecf7bb426\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 4, 'created': '2022-09-19 18:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/74b6a7c5a59ed6450265442db8c292894b43bb7d', 'message': 'docs: hw_rng_model: Document that it has no effect since \'Ussuri\'\n\nAlthough, ``hw_rng_model`` is no longer useful, as noted in the Nova\nChange-Id: I28e66c9640c38d23b8c0dbd0b05f5260bfcf6d30 (""libvirt: Add a\ndefault VirtIO-RNG device to guests""), we may extend it to take further\nvalues to enable other use cases (details in the Nova commit).\n\nHence we should not yet deprecate it.\n\nChange-Id: Id24ff7da83ffb8a27767f5f74b12878ecf7bb426\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 5, 'created': '2023-06-26 18:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/b12f5c97107f480f60b0ab52787f6b832b65b2b0', 'message': 'docs: hw_rng_model: Document that it has no effect since \'Ussuri\'\n\nAlthough, ``hw_rng_model`` is no longer useful, as noted in the Nova\nChange-Id: I28e66c9640c38d23b8c0dbd0b05f5260bfcf6d30 (""libvirt: Add a\ndefault VirtIO-RNG device to guests""), we may extend it to take further\nvalues to enable other use cases (details in the Nova commit).\n\nHence we should not yet deprecate it.\n\nChange-Id: Id24ff7da83ffb8a27767f5f74b12878ecf7bb426\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 6, 'created': '2023-06-26 18:39:35.000000000', 'files': ['doc/source/admin/useful-image-properties.rst', 'api-ref/source/v2/samples/metadef-properties-list-response.json', 'etc/metadefs/compute-libvirt-image.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/89f3fd694064bb0ba17f14d868d04e733372929b', 'message': 'docs: hw_rng_model: Document that it has no effect since \'Ussuri\'\n\nAlthough, ``hw_rng_model`` is no longer useful, as noted in the Nova\nChange-Id: I28e66c9640c38d23b8c0dbd0b05f5260bfcf6d30 (""libvirt: Add a\ndefault VirtIO-RNG device to guests""), we may extend it to take further\nvalues to enable other use cases (details in the Nova commit).\n\nHence we should not yet deprecate it.\n\nChange-Id: Id24ff7da83ffb8a27767f5f74b12878ecf7bb426\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}]",1,703657,89f3fd694064bb0ba17f14d868d04e733372929b,15,2,6,6962,,,0,"docs: hw_rng_model: Document that it has no effect since 'Ussuri'

Although, ``hw_rng_model`` is no longer useful, as noted in the Nova
Change-Id: I28e66c9640c38d23b8c0dbd0b05f5260bfcf6d30 (""libvirt: Add a
default VirtIO-RNG device to guests""), we may extend it to take further
values to enable other use cases (details in the Nova commit).

Hence we should not yet deprecate it.

Change-Id: Id24ff7da83ffb8a27767f5f74b12878ecf7bb426
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
",git fetch https://review.opendev.org/openstack/glance refs/changes/57/703657/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/useful-image-properties.rst'],1,3fb5b557ddb40744f52d6479f154c69fc1b4bfa0,Document_behaviour_of_hw_rng_model," - From Ussuri release onwards, this property has no longer any effect, because Nova, by default, will add a VirtIO-RNG (Random Number Generator) device, with ``virtio`` as the RNG model. Therefore ``hw_rng_model`` image property is likely to be deprecated, if no other compelling use cases show up. The cloud administrator can enable and control the source of the RNG device backend by configuring the instance's flavor. By default: - ``virtio``"," - Adds a random-number generator device to the image's instances. This image property by itself does not guarantee that a hardware RNG will be used; it expresses a preference that may or may not be satisfied depending upon Nova configuration. The cloud administrator can enable and control device behavior by configuring the instance's flavor. By default: * The generator device is disabled. - ``virtio``, or other supported device.",8,8
openstack%2Fironic~master~I5596008e4971a29c635c45b24cb85db2d0d13ed3,openstack/ironic,master,I5596008e4971a29c635c45b24cb85db2d0d13ed3,Handle SAWarning around allocations FK Constratins,MERGED,2023-06-23 19:53:47.000000000,2023-06-28 01:27:32.000000000,2023-06-28 01:26:22.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-23 19:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/572d703efd357429f91199e7ac7cfdc9034ce818', 'message': 'Handle SAWarning around allocations FK Constratins\n\nWe have started to notice an SAWarning from sqlalchemy indicating:\n\n  SAWarning: Cannot correctly sort tables; there are unresolvable\n      cycles between tables ""allocations, nodes"", which is usually\n      caused by mutually dependent foreign key constraints.\n      Foreign key constraints involving these tables will not be\n      considered; this warning may raise an error in a future release.\n\nHunting this down, it appears to be the two data consistency Foreign\nKey constraints in the ""allocations"" table where an allocation would\ntry to have a conductor_affinity value mapped to conductors.id\nand also have a direct association to a node, which *also* had the\nsame constraint.\n\nAnd then similarlly, mapping in reverse, asserting a fk constraint,\nwhen nodes also had it\'s own constraint back on allocations.\n\nSort of a circular loop.\n\nAnyhow, removes it, and adds a db migration to remove the two\nconstraints.\n\nChange-Id: I5596008e4971a29c635c45b24cb85db2d0d13ed3\n'}, {'number': 2, 'created': '2023-06-23 20:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3ec45f0c7a04d1f5ad0292bb029d471ea30fcf49', 'message': 'Handle SAWarning around allocations FK Constratins\n\nWe have started to notice an SAWarning from sqlalchemy indicating:\n\n  SAWarning: Cannot correctly sort tables; there are unresolvable\n      cycles between tables ""allocations, nodes"", which is usually\n      caused by mutually dependent foreign key constraints.\n      Foreign key constraints involving these tables will not be\n      considered; this warning may raise an error in a future release.\n\nHunting this down, it appears to be the two data consistency Foreign\nKey constraints in the ""allocations"" table where an allocation would\ntry to have a conductor_affinity value mapped to conductors.id\nand also have a direct association to a node, which *also* had the\nsame constraint.\n\nAnd then similarlly, mapping in reverse, asserting a fk constraint,\nwhen nodes also had it\'s own constraint back on allocations.\n\nSort of a circular loop.\n\nAnyhow, removes it, and adds a db migration to remove the two\nconstraints.\n\nChange-Id: I5596008e4971a29c635c45b24cb85db2d0d13ed3\n'}, {'number': 3, 'created': '2023-06-26 19:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/243dd6180e49b6f051cf76ad9f09fa2481288a0a', 'message': 'Handle SAWarning around allocations FK Constratins\n\nWe have started to notice an SAWarning from sqlalchemy indicating:\n\n  SAWarning: Cannot correctly sort tables; there are unresolvable\n      cycles between tables ""allocations, nodes"", which is usually\n      caused by mutually dependent foreign key constraints.\n      Foreign key constraints involving these tables will not be\n      considered; this warning may raise an error in a future release.\n\nHunting this down, it appears to be the two data consistency Foreign\nKey constraints in the ""allocations"" table where an allocation would\ntry to have a conductor_affinity value mapped to conductors.id\nand also have a direct association to a node, which *also* had the\nsame constraint.\n\nAnd then similarlly, mapping in reverse, asserting a fk constraint,\nwhen nodes also had it\'s own constraint back on allocations.\n\nSort of a circular loop.\n\nAnyhow, removes it, and adds a db migration to remove the two\nconstraints.\n\nChange-Id: I5596008e4971a29c635c45b24cb85db2d0d13ed3\n'}, {'number': 4, 'created': '2023-06-26 19:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/005930aa6452d5f0c0c41759786692b1142d9f29', 'message': 'Handle SAWarning around allocations FK Constratins\n\nWe have started to notice an SAWarning from sqlalchemy indicating:\n\n  SAWarning: Cannot correctly sort tables; there are unresolvable\n      cycles between tables ""allocations, nodes"", which is usually\n      caused by mutually dependent foreign key constraints.\n      Foreign key constraints involving these tables will not be\n      considered; this warning may raise an error in a future release.\n\nHunting this down, it appears to be the two data consistency Foreign\nKey constraints in the ""allocations"" table where an allocation would\ntry to have a conductor_affinity value mapped to conductors.id\nand also have a direct association to a node, which *also* had the\nsame constraint.\n\nAnd then similarlly, mapping in reverse, asserting a fk constraint,\nwhen nodes also had it\'s own constraint back on allocations.\n\nSort of a circular loop.\n\nAnyhow, removes it, and adds a db migration to remove the two\nconstraints.\n\nChange-Id: I5596008e4971a29c635c45b24cb85db2d0d13ed3\n'}, {'number': 5, 'created': '2023-06-26 21:29:06.000000000', 'files': ['releasenotes/notes/remove-excess-allocation-fk-constraints-0f59170f4d164a6e.yaml', 'ironic/db/sqlalchemy/alembic/versions/dd67b91a1981_add_allocations_table.py', 'ironic/db/sqlalchemy/models.py', 'ironic/db/sqlalchemy/alembic/versions/d163df1bab88_remove_extra_fk_constraint_in_.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/402c32094b8003db6186f17742a97925405657a6', 'message': 'Handle SAWarning around allocations FK Constratins\n\nWe have started to notice an SAWarning from sqlalchemy indicating:\n\n  SAWarning: Cannot correctly sort tables; there are unresolvable\n      cycles between tables ""allocations, nodes"", which is usually\n      caused by mutually dependent foreign key constraints.\n      Foreign key constraints involving these tables will not be\n      considered; this warning may raise an error in a future release.\n\nHunting this down, it appears to be the two data consistency Foreign\nKey constraints in the ""allocations"" table where an allocation would\ntry to have a conductor_affinity value mapped to conductors.id\nand also have a direct association to a node, which *also* had the\nsame constraint.\n\nAnd then similarlly, mapping in reverse, asserting a fk constraint,\nwhen nodes also had it\'s own constraint back on allocations.\n\nSort of a circular loop.\n\nAnyhow, removes it, and adds a db migration to remove the two\nconstraints.\n\nChange-Id: I5596008e4971a29c635c45b24cb85db2d0d13ed3\n'}]",2,886871,402c32094b8003db6186f17742a97925405657a6,21,4,5,11655,,,0,"Handle SAWarning around allocations FK Constratins

We have started to notice an SAWarning from sqlalchemy indicating:

  SAWarning: Cannot correctly sort tables; there are unresolvable
      cycles between tables ""allocations, nodes"", which is usually
      caused by mutually dependent foreign key constraints.
      Foreign key constraints involving these tables will not be
      considered; this warning may raise an error in a future release.

Hunting this down, it appears to be the two data consistency Foreign
Key constraints in the ""allocations"" table where an allocation would
try to have a conductor_affinity value mapped to conductors.id
and also have a direct association to a node, which *also* had the
same constraint.

And then similarlly, mapping in reverse, asserting a fk constraint,
when nodes also had it's own constraint back on allocations.

Sort of a circular loop.

Anyhow, removes it, and adds a db migration to remove the two
constraints.

Change-Id: I5596008e4971a29c635c45b24cb85db2d0d13ed3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/71/886871/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-excess-allocation-fk-constraints-0f59170f4d164a6e.yaml', 'ironic/db/sqlalchemy/alembic/versions/dd67b91a1981_add_allocations_table.py', 'ironic/db/sqlalchemy/models.py']",3,572d703efd357429f91199e7ac7cfdc9034ce818,," node_id = Column(Integer, nullable=True) conductor_affinity = Column(Integer, nullable=True)"," node_id = Column(Integer, ForeignKey('nodes.id'), nullable=True) conductor_affinity = Column(Integer, ForeignKey('conductors.id'), nullable=True)",20,5
openstack%2Fironic~master~I67bbdb158ad1c8350f1e613ac0afb861ccea00a0,openstack/ironic,master,I67bbdb158ad1c8350f1e613ac0afb861ccea00a0,Disable WAL Pragma for Unit Testing,MERGED,2023-06-23 17:57:38.000000000,2023-06-28 01:25:40.000000000,2023-06-28 01:24:01.000000000,"[{'_account_id': 4571}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-23 17:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/48b05ce653ef859669b8cebd0bf51dc1b9f1a0e1', 'message': ""Disable WAL Pragma for Unit Testing\n\nIn all the concern about the WAL pragma change with unit test issues,\nI've decided that maybe the path is to just turn it off for unit testing.\n\nChange-Id: I67bbdb158ad1c8350f1e613ac0afb861ccea00a0\n""}, {'number': 2, 'created': '2023-06-26 21:29:06.000000000', 'files': ['ironic/tests/unit/db/base.py', 'ironic/db/sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/46e4f447ffdf9ab258c672124f3561cdf419215b', 'message': ""Disable WAL Pragma for Unit Testing\n\nIn all the concern about the WAL pragma change with unit test issues,\nI've decided that maybe the path is to just turn it off for unit testing.\n\nChange-Id: I67bbdb158ad1c8350f1e613ac0afb861ccea00a0\n""}]",2,886865,46e4f447ffdf9ab258c672124f3561cdf419215b,20,3,2,11655,,,0,"Disable WAL Pragma for Unit Testing

In all the concern about the WAL pragma change with unit test issues,
I've decided that maybe the path is to just turn it off for unit testing.

Change-Id: I67bbdb158ad1c8350f1e613ac0afb861ccea00a0
",git fetch https://review.opendev.org/openstack/ironic refs/changes/65/886865/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/db/base.py', 'ironic/db/sqlalchemy/__init__.py']",2,48b05ce653ef859669b8cebd0bf51dc1b9f1a0e1,,# NOTE(TheJulia): Helper to enable us to prevent us from loading the # WAL mode with SQLite for unit testing. LOAD_JOURNAL_MODE = True if ('sqlite' in str(CONF.database.connection).lower() and LOAD_JOURNAL_MODE):, if 'sqlite' in str(CONF.database.connection).lower():,8,2
openstack%2Foctavia~stable%2Fzed~Ie5fb25e292461baca38499091e8f9b9a53e3ddcd,openstack/octavia,stable/zed,Ie5fb25e292461baca38499091e8f9b9a53e3ddcd,Fix pool creation with single LB create call,MERGED,2023-05-04 11:36:03.000000000,2023-06-28 00:11:42.000000000,2023-06-28 00:09:48.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-04 11:36:03.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/fix-pool-prov-status-on-lb-single-create-897070aee0a42da6.yaml', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/396785dadd0e1c66fcc845799cdfc814faec7d84', 'message': 'Fix pool creation with single LB create call\n\nSo far, creating a populated LB (or an LB tree) with non attached pools,\nleft the pools on PENDING_CREATE provisioning_state.\n\nThis patch adds the option of marking non attached pools to be active on\nthe MarkLBActiveInDB task.\n\nStory 2010426\nTask 46823\n\nConflicts:\n\toctavia/controller/worker/v1/flows/load_balancer_flows.py\n\toctavia/controller/worker/v2/flows/load_balancer_flows.py\n\toctavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py\n\nChange-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd\n(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)\n(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)\n'}]",2,882276,396785dadd0e1c66fcc845799cdfc814faec7d84,16,6,1,31664,,,0,"Fix pool creation with single LB create call

So far, creating a populated LB (or an LB tree) with non attached pools,
left the pools on PENDING_CREATE provisioning_state.

This patch adds the option of marking non attached pools to be active on
the MarkLBActiveInDB task.

Story 2010426
Task 46823

Conflicts:
	octavia/controller/worker/v1/flows/load_balancer_flows.py
	octavia/controller/worker/v2/flows/load_balancer_flows.py
	octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py
	octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py

Change-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd
(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)
(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/76/882276/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/fix-pool-prov-status-on-lb-single-create-897070aee0a42da6.yaml', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py']",9,396785dadd0e1c66fcc845799cdfc814faec7d84,fix_pool_create_single_lb_create_call," self.get_post_lb_amp_association_flow(post_amp_prefix, topology)) lb_create_flow.add( database_tasks.MarkLBActiveInDB( mark_subobjects=True, requires=constants.LOADBALANCER ) ) def get_post_lb_amp_association_flow(self, prefix, topology):"," self.get_post_lb_amp_association_flow( post_amp_prefix, topology, mark_active=(not listeners))) flows.append( database_tasks.MarkLBActiveInDB( mark_subobjects=True, requires=constants.LOADBALANCER ) ) def get_post_lb_amp_association_flow(self, prefix, topology, mark_active=True): if mark_active: post_create_LB_flow.add(database_tasks.MarkLBActiveInDB( name=sf_name + '-' + constants.MARK_LB_ACTIVE_INDB, requires=constants.LOADBALANCER))",58,43
openstack%2Foctavia~stable%2Fxena~Ie5fb25e292461baca38499091e8f9b9a53e3ddcd,openstack/octavia,stable/xena,Ie5fb25e292461baca38499091e8f9b9a53e3ddcd,Fix pool creation with single LB create call,MERGED,2023-05-04 11:43:01.000000000,2023-06-28 00:08:54.000000000,2023-06-28 00:07:34.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-04 11:43:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f0df69df73b41440b9b3e6da3b094e87bbb154b6', 'message': 'Fix pool creation with single LB create call\n\nSo far, creating a populated LB (or an LB tree) with non attached pools,\nleft the pools on PENDING_CREATE provisioning_state.\n\nThis patch adds the option of marking non attached pools to be active on\nthe MarkLBActiveInDB task.\n\nStory 2010426\nTask 46823\n\nConflicts:\n\toctavia/controller/worker/v1/flows/load_balancer_flows.py\n\toctavia/controller/worker/v2/flows/load_balancer_flows.py\n\toctavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py\n\nChange-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd\n(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)\n(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)\n(cherry picked from commit 396785dadd0e1c66fcc845799cdfc814faec7d84)\n(cherry picked from commit 9a40fa7e3c8b211812a04b3b02cc637cb0fa548f)\n'}, {'number': 2, 'created': '2023-05-08 11:10:41.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/fix-pool-prov-status-on-lb-single-create-897070aee0a42da6.yaml', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d179ce934532cb5904d61e635f5680dabb2bc83c', 'message': 'Fix pool creation with single LB create call\n\nSo far, creating a populated LB (or an LB tree) with non attached pools,\nleft the pools on PENDING_CREATE provisioning_state.\n\nThis patch adds the option of marking non attached pools to be active on\nthe MarkLBActiveInDB task.\n\nStory 2010426\nTask 46823\n\nConflicts:\n\toctavia/controller/worker/v1/flows/load_balancer_flows.py\n\toctavia/controller/worker/v2/flows/load_balancer_flows.py\n\toctavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py\n\nChange-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd\n(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)\n(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)\n(cherry picked from commit 396785dadd0e1c66fcc845799cdfc814faec7d84)\n(cherry picked from commit 9a40fa7e3c8b211812a04b3b02cc637cb0fa548f)\n'}]",3,882279,d179ce934532cb5904d61e635f5680dabb2bc83c,18,6,2,31664,,,0,"Fix pool creation with single LB create call

So far, creating a populated LB (or an LB tree) with non attached pools,
left the pools on PENDING_CREATE provisioning_state.

This patch adds the option of marking non attached pools to be active on
the MarkLBActiveInDB task.

Story 2010426
Task 46823

Conflicts:
	octavia/controller/worker/v1/flows/load_balancer_flows.py
	octavia/controller/worker/v2/flows/load_balancer_flows.py
	octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py
	octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py

Change-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd
(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)
(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)
(cherry picked from commit 396785dadd0e1c66fcc845799cdfc814faec7d84)
(cherry picked from commit 9a40fa7e3c8b211812a04b3b02cc637cb0fa548f)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/79/882279/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/fix-pool-prov-status-on-lb-single-create-897070aee0a42da6.yaml', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py']",9,f0df69df73b41440b9b3e6da3b094e87bbb154b6,fix_pool_create_single_lb_create_call," self.get_post_lb_amp_association_flow(post_amp_prefix, topology)) lb_create_flow.add( database_tasks.MarkLBActiveInDB( mark_subobjects=True, requires=constants.LOADBALANCER ) ) if CONF.controller_worker.event_notifications: lb_create_flow.add( notification_tasks.SendCreateNotification( requires=constants.LOADBALANCER ) ) def get_post_lb_amp_association_flow(self, prefix, topology):"," self.get_post_lb_amp_association_flow( post_amp_prefix, topology, mark_active=(not listeners))) flows.append( database_tasks.MarkLBActiveInDB( mark_subobjects=True, requires=constants.LOADBALANCER ) ) def get_post_lb_amp_association_flow(self, prefix, topology, mark_active=True): if mark_active: post_create_LB_flow.add(database_tasks.MarkLBActiveInDB( name=sf_name + '-' + constants.MARK_LB_ACTIVE_INDB, requires=constants.LOADBALANCER))",65,43
openstack%2Foctavia~stable%2Fyoga~Ie5fb25e292461baca38499091e8f9b9a53e3ddcd,openstack/octavia,stable/yoga,Ie5fb25e292461baca38499091e8f9b9a53e3ddcd,Fix pool creation with single LB create call,MERGED,2023-05-04 11:39:28.000000000,2023-06-28 00:08:48.000000000,2023-06-28 00:07:39.000000000,"[{'_account_id': 1131}, {'_account_id': 6737}, {'_account_id': 7249}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-04 11:39:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9a40fa7e3c8b211812a04b3b02cc637cb0fa548f', 'message': 'Fix pool creation with single LB create call\n\nSo far, creating a populated LB (or an LB tree) with non attached pools,\nleft the pools on PENDING_CREATE provisioning_state.\n\nThis patch adds the option of marking non attached pools to be active on\nthe MarkLBActiveInDB task.\n\nStory 2010426\nTask 46823\n\nConflicts:\n\toctavia/controller/worker/v1/flows/load_balancer_flows.py\n\toctavia/controller/worker/v2/flows/load_balancer_flows.py\n\toctavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py\n\nChange-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd\n(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)\n(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)\n(cherry picked from commit 396785dadd0e1c66fcc845799cdfc814faec7d84)\n'}, {'number': 2, 'created': '2023-05-08 11:06:00.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/fix-pool-prov-status-on-lb-single-create-897070aee0a42da6.yaml', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/dabd33aff6e868f30567a8de90cc218faa7e61b9', 'message': 'Fix pool creation with single LB create call\n\nSo far, creating a populated LB (or an LB tree) with non attached pools,\nleft the pools on PENDING_CREATE provisioning_state.\n\nThis patch adds the option of marking non attached pools to be active on\nthe MarkLBActiveInDB task.\n\nStory 2010426\nTask 46823\n\nConflicts:\n\toctavia/controller/worker/v1/flows/load_balancer_flows.py\n\toctavia/controller/worker/v2/flows/load_balancer_flows.py\n\toctavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py\n\nChange-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd\n(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)\n(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)\n(cherry picked from commit 396785dadd0e1c66fcc845799cdfc814faec7d84)\n'}]",4,882277,dabd33aff6e868f30567a8de90cc218faa7e61b9,18,7,2,31664,,,0,"Fix pool creation with single LB create call

So far, creating a populated LB (or an LB tree) with non attached pools,
left the pools on PENDING_CREATE provisioning_state.

This patch adds the option of marking non attached pools to be active on
the MarkLBActiveInDB task.

Story 2010426
Task 46823

Conflicts:
	octavia/controller/worker/v1/flows/load_balancer_flows.py
	octavia/controller/worker/v2/flows/load_balancer_flows.py
	octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py
	octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py

Change-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd
(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)
(cherry picked from commit 1f2aaaa7372f7527910615653c86b50165ff4317)
(cherry picked from commit 396785dadd0e1c66fcc845799cdfc814faec7d84)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/77/882277/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/fix-pool-prov-status-on-lb-single-create-897070aee0a42da6.yaml', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py']",9,9a40fa7e3c8b211812a04b3b02cc637cb0fa548f,fix_pool_create_single_lb_create_call," self.get_post_lb_amp_association_flow(post_amp_prefix, topology)) lb_create_flow.add( database_tasks.MarkLBActiveInDB( mark_subobjects=True, requires=constants.LOADBALANCER ) ) if CONF.controller_worker.event_notifications: lb_create_flow.add( notification_tasks.SendCreateNotification( requires=constants.LOADBALANCER ) ) def get_post_lb_amp_association_flow(self, prefix, topology):"," self.get_post_lb_amp_association_flow( post_amp_prefix, topology, mark_active=(not listeners))) flows.append( database_tasks.MarkLBActiveInDB( mark_subobjects=True, requires=constants.LOADBALANCER ) ) def get_post_lb_amp_association_flow(self, prefix, topology, mark_active=True): if mark_active: post_create_LB_flow.add(database_tasks.MarkLBActiveInDB( name=sf_name + '-' + constants.MARK_LB_ACTIVE_INDB, requires=constants.LOADBALANCER))",65,43
openstack%2Fcinder~master~I4fced65f362336aa035a7db9f1ad5514d9bb307d,openstack/cinder,master,I4fced65f362336aa035a7db9f1ad5514d9bb307d,Remove six from storwize driver,MERGED,2023-04-10 14:03:44.000000000,2023-06-28 00:00:08.000000000,2023-06-27 22:11:17.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-04-10 14:03:44.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/592e31d232e107ac3a8b91c415ddd8e99ad8faa3', 'message': 'Remove six from storwize driver\n\nChange-Id: I4fced65f362336aa035a7db9f1ad5514d9bb307d\n'}]",3,879966,592e31d232e107ac3a8b91c415ddd8e99ad8faa3,37,3,1,4523,,,0,"Remove six from storwize driver

Change-Id: I4fced65f362336aa035a7db9f1ad5514d9bb307d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/66/879966/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py']",3,592e31d232e107ac3a8b91c415ddd8e99ad8faa3,," str(cycle_period_seconds)]) '-clusterip', ip_v4, '-linkbandwidthmbits', str(bandwidth), '-backgroundcopyrate', str(backgroundcopyrate)] str(bandwidth), '-backgroundcopyrate', str(backgroundcopyrate), '""%s""' % pool, '-iogrp', str(opts['iogrp']), ['svctask', 'expandvdisksize', '-size', str(amount), ssh_cmd.extend(['-copyrate', str(copy_rate)]) if not isinstance(host_name, str): msg = _('create_host: Host name is not a string.') if isinstance(host_name, str): '%s%%' % str(opts['warning'])]) str(opts['grainsize'])]) self.ssh.mkvolume(vol_name, str(size), units, hyperpool, params) copyrate=str(new_flashcopy_rate)) if isinstance(v, str) or v is None: if isinstance(self.raw, str): rep_cps = str(rep_opts.get('cycle_period_seconds'))","import six six.text_type(cycle_period_seconds)]) '-clusterip', ip_v4, '-linkbandwidthmbits', six.text_type(bandwidth), '-backgroundcopyrate', six.text_type(backgroundcopyrate)] six.text_type(bandwidth), '-backgroundcopyrate', six.text_type(backgroundcopyrate), '""%s""' % pool, '-iogrp', six.text_type(opts['iogrp']), ['svctask', 'expandvdisksize', '-size', six.text_type(amount), ssh_cmd.extend(['-copyrate', six.text_type(copy_rate)]) if not isinstance(host_name, six.string_types): msg = _('create_host: Host name is not unicode or string.') if isinstance(host_name, six.text_type): '%s%%' % six.text_type(opts['warning'])]) six.text_type(opts['grainsize'])]) self.ssh.mkvolume(vol_name, six.text_type(size), units, hyperpool, params) copyrate=six.text_type(new_flashcopy_rate)) if isinstance(v, six.string_types) or v is None: if isinstance(self.raw, six.string_types): rep_cps = six.text_type(rep_opts.get('cycle_period_seconds'))",69,78
openstack%2Fironic~master~Ifa156d61329d61aac05b3f8c01f7c9c51bd386b1,openstack/ironic,master,Ifa156d61329d61aac05b3f8c01f7c9c51bd386b1,Fix SQLAlchemy engine connection listener,MERGED,2023-06-09 18:50:47.000000000,2023-06-27 23:46:30.000000000,2023-06-27 23:45:21.000000000,"[{'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-09 18:50:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fb186aecbfdd466a2a9b83cdb802440f76c57649', 'message': 'Fix SQLAlchemy engine connection listener\n\nChange-Id: Ifa156d61329d61aac05b3f8c01f7c9c51bd386b1\n'}, {'number': 2, 'created': '2023-06-09 19:19:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d74e7e63d8a17cac7a70510789dbb24ea64aef7', 'message': 'Fix SQLAlchemy engine connection listener\n\nChange-Id: Ifa156d61329d61aac05b3f8c01f7c9c51bd386b1\n'}, {'number': 3, 'created': '2023-06-20 16:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d4850e494298aaf92ec3159c5b33492d7164308', 'message': 'Fix SQLAlchemy engine connection listener\n\nChange-Id: Ifa156d61329d61aac05b3f8c01f7c9c51bd386b1\n'}, {'number': 4, 'created': '2023-06-23 17:57:38.000000000', 'files': ['ironic/db/sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9be84608f1da2cb3ad433554bdd3d8a395eab06f', 'message': 'Fix SQLAlchemy engine connection listener\n\nChange-Id: Ifa156d61329d61aac05b3f8c01f7c9c51bd386b1\n'}]",5,885797,9be84608f1da2cb3ad433554bdd3d8a395eab06f,33,4,4,11655,,,0,"Fix SQLAlchemy engine connection listener

Change-Id: Ifa156d61329d61aac05b3f8c01f7c9c51bd386b1
",git fetch https://review.opendev.org/openstack/ironic refs/changes/97/885797/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/__init__.py'],1,fb186aecbfdd466a2a9b83cdb802440f76c57649,,"@event.listens_for(ConnectionEvents, ""engine_connect"")","@event.listens_for(Engine, ""connect"")",1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ib51903746d0ec5fc981efecf3e68fc5399535fdb,openstack/tripleo-heat-templates,stable/wallaby,Ib51903746d0ec5fc981efecf3e68fc5399535fdb,Remove redis-bundle instead of warning the operator,MERGED,2023-05-31 17:38:13.000000000,2023-06-27 23:19:57.000000000,2023-06-27 23:19:57.000000000,"[{'_account_id': 9816}, {'_account_id': 11166}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 22954}]","[{'number': 1, 'created': '2023-05-31 17:38:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/819df66963747a83906300037c316a959fa1f83b', 'message': 'Remove redis-bundle instead of warning the operator\n\nCurrently the code does not remove redis-bundle\nit only shows a warning msg and fail. This first\ntry to remove the redis-bundle and if it could not\nbe removed fails.\n\nChange-Id: Ib51903746d0ec5fc981efecf3e68fc5399535fdb\n'}, {'number': 2, 'created': '2023-06-09 15:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ac43ee7604e0678b8f5ba4704ae327fbc570cb77', 'message': 'Remove redis-bundle instead of warning the operator\n\nCurrently the code does not remove redis-bundle\nit only shows a warning msg and fail. This first\ntry to remove the redis-bundle and if it could not\nbe removed fails.\n\nChange-Id: Ib51903746d0ec5fc981efecf3e68fc5399535fdb\n'}, {'number': 3, 'created': '2023-06-13 16:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8860b4aa72ee367827b42435884d5fdae5a0a7a4', 'message': 'Remove redis-bundle instead of warning the operator\n\nCurrently the code does not remove redis-bundle\nit only shows a warning msg and fail.\n\nThe FFU process upgrade openstack first and then the\nOs.\n\nRemove the redis bundle at the very end of the\nopenstack upgrade, to ensure pacemaker is up and\nruning.\n\nChange-Id: Ib51903746d0ec5fc981efecf3e68fc5399535fdb\n'}, {'number': 4, 'created': '2023-06-15 19:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3139446bf58c2d7be1eecc2752b7c4a26c7428d5', 'message': 'Remove redis-bundle instead of warning the operator\n\nCurrently the code does not remove redis-bundle\nit only shows a warning msg and fail.\n\nThe FFU process upgrade openstack first and then the\nOs.\n\nRemove the redis bundle at the very end of the\nopenstack upgrade, to ensure pacemaker is up and\nruning.\n\nChange-Id: Ib51903746d0ec5fc981efecf3e68fc5399535fdb\n'}, {'number': 5, 'created': '2023-06-16 06:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acb3ca30914bba1abe0c7f22b8dbbb29d97d4273', 'message': 'Remove redis-bundle instead of warning the operator\n\nCurrently the code does not remove redis-bundle\nit only shows a warning msg and fail.\n\nThe FFU process upgrade openstack first and then the\nOs.\n\nRemove the redis bundle at the very end of the\nopenstack upgrade, to ensure pacemaker is up and\nruning.\n\nChange-Id: Ib51903746d0ec5fc981efecf3e68fc5399535fdb\n'}, {'number': 6, 'created': '2023-06-16 07:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/11d438c2d3a16c0e3b2c4fddf1e15fbac3c375e7', 'message': 'Remove redis-bundle instead of warning the operator\n\nCurrently the code does not remove redis-bundle\nit only shows a warning msg and fail.\n\nThe FFU process upgrade openstack first and then the\nOs.\n\nRemove the redis bundle at the very end of the\nopenstack upgrade, to ensure pacemaker is up and\nruning.\n\nChange-Id: Ib51903746d0ec5fc981efecf3e68fc5399535fdb\n'}, {'number': 7, 'created': '2023-06-19 10:32:05.000000000', 'files': ['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0e2b7a1d58d94816425a9b927b968123a4968c00', 'message': 'Remove redis-bundle instead of warning the operator\n\nCurrently the code does not remove redis-bundle\nit only shows a warning msg and fail.\n\nThe FFU process upgrade openstack first and then the\nOs.\n\nRemove the redis bundle at the very end of the\nopenstack upgrade, to ensure pacemaker is up and\nruning.\n\nResolves: rhbz#2158159\nChange-Id: Ib51903746d0ec5fc981efecf3e68fc5399535fdb\n'}]",17,884912,0e2b7a1d58d94816425a9b927b968123a4968c00,40,5,7,22954,,,0,"Remove redis-bundle instead of warning the operator

Currently the code does not remove redis-bundle
it only shows a warning msg and fail.

The FFU process upgrade openstack first and then the
Os.

Remove the redis bundle at the very end of the
openstack upgrade, to ensure pacemaker is up and
runing.

Resolves: rhbz#2158159
Change-Id: Ib51903746d0ec5fc981efecf3e68fc5399535fdb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/12/884912/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/pacemaker/pacemaker-baremetal-puppet.yaml'],1,819df66963747a83906300037c316a959fa1f83b,remove_redis," - name: Ensure redis is removed otherwise fails # remove redis-bundle # prior to OS upgrade, don't assume the cluster is running pcs resource delete redis-bundle || true fi if crm_resource -r redis-bundle -q &>/dev/null; then"," - name: pre-check to ensure redis is removed if the service is disabled # prior to OS upgrade, don't assume the cluster is running,",6,2
openstack%2Fneutron~master~I9927ad6cc60752032c262f4a68e01285617e9ed9,openstack/neutron,master,I9927ad6cc60752032c262f4a68e01285617e9ed9,OVN agent: Stop registering unused options,MERGED,2023-03-25 00:35:36.000000000,2023-06-27 22:56:59.000000000,2023-06-27 22:55:40.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-03-25 00:35:36.000000000', 'files': ['neutron/agent/ovn/ovn_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c60d697c3c54b749cba99e75494e8ca140e1573', 'message': 'OVN agent: Stop registering unused options\n\nCurrently all common options are registered while startung up OVN agent\nbut these options include many unused ones such as oslo.messaging\noptions. These unused options appear in logs when the service starts up\nand this is confusing for operators.\n\nThis reduces and minimises options loaded, to avoid loading unused\nitems.\n\nChange-Id: I9927ad6cc60752032c262f4a68e01285617e9ed9\n'}]",3,878565,5c60d697c3c54b749cba99e75494e8ca140e1573,21,5,1,9816,,,0,"OVN agent: Stop registering unused options

Currently all common options are registered while startung up OVN agent
but these options include many unused ones such as oslo.messaging
options. These unused options appear in logs when the service starts up
and this is confusing for operators.

This reduces and minimises options loaded, to avoid loading unused
items.

Change-Id: I9927ad6cc60752032c262f4a68e01285617e9ed9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/878565/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/ovn_neutron_agent.py'],1,5c60d697c3c54b749cba99e75494e8ca140e1573,,from neutron.conf import common as common_config logging.register_options(cfg.CONF) common_config.register_cli_script_opts() , config.register_common_config_options(),4,1
openstack%2Fcinder~master~Ica387e62db0e9fbb8f13e82cefdc4b1e71fd047d,openstack/cinder,master,Ica387e62db0e9fbb8f13e82cefdc4b1e71fd047d,Remove six from solidfire driver,MERGED,2023-05-02 18:38:35.000000000,2023-06-27 22:13:43.000000000,2023-06-27 22:11:24.000000000,"[{'_account_id': 9236}, {'_account_id': 11904}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32238}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-05-02 18:38:35.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/fdeb013aca10c10d4205093582380929096ae0fc', 'message': 'Remove six from solidfire driver\n\nChange-Id: Ica387e62db0e9fbb8f13e82cefdc4b1e71fd047d\n'}]",3,882094,fdeb013aca10c10d4205093582380929096ae0fc,30,6,1,4523,,,0,"Remove six from solidfire driver

Change-Id: Ica387e62db0e9fbb8f13e82cefdc4b1e71fd047d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/94/882094/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py']",2,fdeb013aca10c10d4205093582380929096ae0fc,," self.assertCountEqual(expected, res)","import six six.assertCountEqual(self, expected, res)",3,4
openstack%2Fcinder~master~Ib6fe714248d3ff1cd50303ab04cb1f6d0ef8ce6c,openstack/cinder,master,Ib6fe714248d3ff1cd50303ab04cb1f6d0ef8ce6c,Remove six from ibm_storage drivers,MERGED,2023-04-10 14:03:44.000000000,2023-06-27 22:11:20.000000000,2023-06-27 22:11:20.000000000,"[{'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 29122}, {'_account_id': 32238}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-04-10 14:03:44.000000000', 'files': ['cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_replication.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/volume/drivers/ibm/flashsystem_iscsi.py', 'cinder/volume/drivers/ibm/flashsystem_fc.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem_iscsi.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ab81fb4c8a492b8dd79b2a1f00be19ab60f3bec5', 'message': 'Remove six from ibm_storage drivers\n\nChange-Id: Ib6fe714248d3ff1cd50303ab04cb1f6d0ef8ce6c\n'}]",6,879967,ab81fb4c8a492b8dd79b2a1f00be19ab60f3bec5,60,6,1,4523,,,0,"Remove six from ibm_storage drivers

Change-Id: Ib6fe714248d3ff1cd50303ab04cb1f6d0ef8ce6c
",git fetch https://review.opendev.org/openstack/cinder refs/changes/67/879967/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_helper.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_replication.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_proxy.py', 'cinder/volume/drivers/ibm/flashsystem_common.py', 'cinder/volume/drivers/ibm/flashsystem_iscsi.py', 'cinder/volume/drivers/ibm/flashsystem_fc.py', 'cinder/volume/drivers/ibm/ibm_storage/ds8k_restclient.py', 'cinder/tests/unit/volume/drivers/ibm/test_xiv_proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/proxy.py', 'cinder/volume/drivers/ibm/ibm_storage/xiv_replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_ds8k_proxy.py', 'cinder/tests/unit/volume/drivers/ibm/test_ibm_flashsystem_iscsi.py']",14,ab81fb4c8a492b8dd79b2a1f00be19ab60f3bec5,," rand_id = str(random.randint(10000, 99999)) rand_id = str(random.randint(10000, 99999))","import six rand_id = six.text_type(random.randint(10000, 99999)) rand_id = six.text_type(random.randint(10000, 99999))",174,195
openstack%2Fneutron~stable%2F2023.1~I34bb6f178c314907bdf9f76789777f6736938b67,openstack/neutron,stable/2023.1,I34bb6f178c314907bdf9f76789777f6736938b67,[OVN][Trunk] Add port binding info on subport when parent is bound,MERGED,2023-06-23 16:51:22.000000000,2023-06-27 22:06:44.000000000,2023-06-27 22:05:29.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32029}, {'_account_id': 34118}]","[{'number': 1, 'created': '2023-06-23 16:51:22.000000000', 'files': ['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5358eb0389d8def12faa9bdfe7db21b125fa3511', 'message': ""[OVN][Trunk] Add port binding info on subport when parent is bound\n\nThe host ID and VIF details are added on the subport when the trunk is\ncreated, if it's created when it's not attached to any VM this fields\nwill remain empty and be filled on the parent port when it gets bound\nto a host, but there's no callback to add this info on the subport.\n\nCloses-Bug: #2018289\nCloses-Bug: #2024160\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n(cherry picked from commit 955e621167987626806128d259a29d4e62acf102)\n""}]",8,886859,5358eb0389d8def12faa9bdfe7db21b125fa3511,26,5,1,16688,,,0,"[OVN][Trunk] Add port binding info on subport when parent is bound

The host ID and VIF details are added on the subport when the trunk is
created, if it's created when it's not attached to any VM this fields
will remain empty and be filled on the parent port when it gets bound
to a host, but there's no callback to add this info on the subport.

Closes-Bug: #2018289
Closes-Bug: #2024160
Change-Id: I34bb6f178c314907bdf9f76789777f6736938b67
(cherry picked from commit 955e621167987626806128d259a29d4e62acf102)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/886859/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']",3,5358eb0389d8def12faa9bdfe7db21b125fa3511,bug/2018289,"from neutron_lib.api.definitions import portbindingsfrom neutron_lib.db import api as db_apifrom neutron.objects import ports as port_obj from neutron.services.trunk import plugin as trunk_plugin from neutron.tests.functional import base def setUp(self, **kwargs): super().setUp(**kwargs) with self.port(subnet=subnet, device_owner='compute:nova') as parent_port: def _verify_trunk_info(self, trunk, has_items, host=''): # Check the subport binding. pb = port_obj.PortBinding.get_object( self.context, port_id=subport['port_id'], host=host) self.assertEqual(n_consts.PORT_STATUS_ACTIVE, pb.status) self.assertEqual(host, pb.host) def _bind_port(self, port_id, host): with db_api.CONTEXT_WRITER.using(self.context): pb = port_obj.PortBinding.get_object(self.context, port_id=port_id, host='') pb.delete() port_obj.PortBinding(self.context, port_id=port_id, host=host, vif_type=portbindings.VIF_TYPE_OVS).create() # Bind parent port. That will trigger the binding of the # trunk subports too, using the same host ID. self._bind_port(trunk['port_id'], 'host1') self.mech_driver.set_port_status_up(trunk['port_id']) self._verify_trunk_info(new_trunk, has_items=True, host='host1') # Bind parent port. self._bind_port(trunk['port_id'], 'host1') self.mech_driver.set_port_status_up(trunk['port_id']) self._verify_trunk_info(trunk, has_items=True, host='host1') ","from neutron.services.trunk import plugin as trunk_plugin from neutron.tests.functional import basefrom neutron_lib.objects import registry as obj_reg def setUp(self): super(TestOVNTrunkDriver, self).setUp() with self.port(subnet=subnet) as parent_port: revision_number = row.external_ids[ ovn_const.OVN_REV_NUM_EXT_ID_KEY] 'revision_number': revision_number, def _verify_trunk_info(self, trunk, has_items): 'revision_number': '2', # Check that the subport has the binding is active. binding = obj_reg.load_class('PortBinding').get_object( self.context, port_id=subport['port_id'], host='') self.assertEqual(n_consts.PORT_STATUS_ACTIVE, binding['status'])",62,20
openstack%2Fkeystonemiddleware~stable%2F2023.1~I6db444f75a16085df5eb0f0fd94ba197eb265657,openstack/keystonemiddleware,stable/2023.1,I6db444f75a16085df5eb0f0fd94ba197eb265657,Update TOX_CONSTRAINTS_FILE for stable/2023.1,NEW,2023-02-24 15:10:44.000000000,2023-06-27 22:01:21.000000000,,"[{'_account_id': 597}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-24 15:10:44.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/4faab570564223065b4786db054384ebc65d21ae', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/2023.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/2023.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I6db444f75a16085df5eb0f0fd94ba197eb265657\n'}]",3,875108,4faab570564223065b4786db054384ebc65d21ae,6,3,1,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/2023.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/2023.1 branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I6db444f75a16085df5eb0f0fd94ba197eb265657
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/08/875108/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4faab570564223065b4786db054384ebc65d21ae,create-2023.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/2023.1}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fneutron~stable%2Fzed~Ia494872b58f368581fb29fa40b7da17e1071db22,openstack/neutron,stable/zed,Ia494872b58f368581fb29fa40b7da17e1071db22,[S-RBAC] Fix policies for CUD subnets APIs,MERGED,2023-06-22 12:36:50.000000000,2023-06-27 21:51:09.000000000,2023-06-27 21:48:51.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 31746}]","[{'number': 1, 'created': '2023-06-22 12:36:50.000000000', 'files': ['neutron/tests/unit/conf/policies/test_subnet.py', 'neutron/conf/policies/subnet.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1559037f7fe2b240a69a252fda222d344bb6b71', 'message': '[S-RBAC] Fix policies for CUD subnets APIs\n\nIn new, secure RBAC policies for create subnet there was\nrule ""ADMIN_OR_PROJECT_MEMBER"" used and that was wrong as this rule is\nbasically allows any member (PROJECT_MEMBER) create subnet in networks\nvisible to them, not necessarily this project needs to be owner of that\nnetwork. So it allowed users to create new subnets in the shared or\nprovider networks as well.\nNow policy for create subnet is ADMIN OR NET_OWNER_MEMBER to avoid that.\n\nAdditionally this patch also fixes policies for update and delete subnet\nAPIs where there was rule NET_OWNER used and that effectively allowed to\nupdate or delete subnet to the network owner who has READER role only.\nNow this is also fixed by using NET_OWNER_MEMBER rule instead.\n\nConflicts:\n    neutron/conf/policies/subnet.py\n\nCloses-Bug: #2023679\n\nChange-Id: Ia494872b58f368581fb29fa40b7da17e1071db22\n(cherry picked from commit 6e3525188fdfbe7fabd665e21df2068280471689)\n'}]",5,886680,f1559037f7fe2b240a69a252fda222d344bb6b71,19,4,1,11975,,,0,"[S-RBAC] Fix policies for CUD subnets APIs

In new, secure RBAC policies for create subnet there was
rule ""ADMIN_OR_PROJECT_MEMBER"" used and that was wrong as this rule is
basically allows any member (PROJECT_MEMBER) create subnet in networks
visible to them, not necessarily this project needs to be owner of that
network. So it allowed users to create new subnets in the shared or
provider networks as well.
Now policy for create subnet is ADMIN OR NET_OWNER_MEMBER to avoid that.

Additionally this patch also fixes policies for update and delete subnet
APIs where there was rule NET_OWNER used and that effectively allowed to
update or delete subnet to the network owner who has READER role only.
Now this is also fixed by using NET_OWNER_MEMBER rule instead.

Conflicts:
    neutron/conf/policies/subnet.py

Closes-Bug: #2023679

Change-Id: Ia494872b58f368581fb29fa40b7da17e1071db22
(cherry picked from commit 6e3525188fdfbe7fabd665e21df2068280471689)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/886680/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/conf/policies/test_subnet.py', 'neutron/conf/policies/subnet.py']",2,f1559037f7fe2b240a69a252fda222d344bb6b71,bug/2023679-stable/2023.1-stable/zed,"# TODO(slaweq): remove it once network will be added to the # EXT_PARENT_RESOURCE_MAPPING in neutron_lib and rule base.PARENT_OWNER_MEMBER # will be possible to use instead of RULE_NET_OWNER_MEMBER RULE_NET_OWNER_MEMBER = 'role:member and ' + base.RULE_NET_OWNER base.ADMIN, RULE_NET_OWNER_MEMBER), RULE_NET_OWNER_MEMBER), RULE_NET_OWNER_MEMBER),"," base.ADMIN_OR_PROJECT_MEMBER, base.RULE_NET_OWNER), base.RULE_NET_OWNER), base.RULE_NET_OWNER),",26,7
openstack%2Fneutron~stable%2F2023.1~Iffab13b68bcd875cf3d3d1db2be2d44d96bf3663,openstack/neutron,stable/2023.1,Iffab13b68bcd875cf3d3d1db2be2d44d96bf3663,"Raise the timeout of ""neutron-ovn-rally-task"" to 9000",MERGED,2023-06-27 15:08:57.000000000,2023-06-27 21:51:07.000000000,2023-06-27 21:48:48.000000000,"[{'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 15:08:57.000000000', 'files': ['zuul.d/rally.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/669fcca4479e466d8b70a441010f9013f9b43d32', 'message': 'Raise the timeout of ""neutron-ovn-rally-task"" to 9000\n\nCloses-Bug: #2022070\nChange-Id: Iffab13b68bcd875cf3d3d1db2be2d44d96bf3663\n(cherry picked from commit b6ce7223244cd27cc620985ef88ada8ff8d48be5)\n'}]",1,887056,669fcca4479e466d8b70a441010f9013f9b43d32,9,4,1,16688,,,0,"Raise the timeout of ""neutron-ovn-rally-task"" to 9000

Closes-Bug: #2022070
Change-Id: Iffab13b68bcd875cf3d3d1db2be2d44d96bf3663
(cherry picked from commit b6ce7223244cd27cc620985ef88ada8ff8d48be5)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/887056/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/rally.yaml'],1,669fcca4479e466d8b70a441010f9013f9b43d32,bug/2022070-stable/2023.1, timeout: 9000, timeout: 7800,1,1
openstack%2Fnova~stable%2Fxena~I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,openstack/nova,stable/xena,I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9,Fix LM rollback w/o multi port bindings extension,MERGED,2022-05-25 18:51:48.000000000,2023-06-27 21:49:54.000000000,2023-06-27 21:48:42.000000000,"[{'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 18:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11855e5d0bebaab002cb443cf2d6d4c9edd18ca6', 'message': ""Fix LM rollback w/o multi port bindings extension\n\nPreviously, the libvirt driver's live migration rollback code would\nunconditionally refer to migrate_data.vifs. This field would only be\nset if the Neutron multiple port bindings extension was in use. When\nit is not in use, the reference would fail with a NotImplementedError.\nThis patch wraps the migrate_data.vifs reference in a conditional that\nchecks if the vifs field is actually set. This is the only way to do\nit, as in the libvirt driver we do not have access to the network\nAPI's has_port_binding_extension() helper.\n\nCloses-bug: 1969980\nChange-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9\n(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)\n(cherry picked from commit 5f086d437e8e467ab8c90605c904470c37098227)\n""}, {'number': 2, 'created': '2022-05-26 14:50:15.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1888395.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9dec7e2f528e67e7a062200ad6f4526158ad944', 'message': ""Fix LM rollback w/o multi port bindings extension\n\nPreviously, the libvirt driver's live migration rollback code would\nunconditionally refer to migrate_data.vifs. This field would only be\nset if the Neutron multiple port bindings extension was in use. When\nit is not in use, the reference would fail with a NotImplementedError.\nThis patch wraps the migrate_data.vifs reference in a conditional that\nchecks if the vifs field is actually set. This is the only way to do\nit, as in the libvirt driver we do not have access to the network\nAPI's has_port_binding_extension() helper.\n\nCloses-bug: 1969980\nChange-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9\n(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)\n(cherry picked from commit 5f086d437e8e467ab8c90605c904470c37098227)\n""}]",2,843337,f9dec7e2f528e67e7a062200ad6f4526158ad944,23,4,2,8864,,,0,"Fix LM rollback w/o multi port bindings extension

Previously, the libvirt driver's live migration rollback code would
unconditionally refer to migrate_data.vifs. This field would only be
set if the Neutron multiple port bindings extension was in use. When
it is not in use, the reference would fail with a NotImplementedError.
This patch wraps the migrate_data.vifs reference in a conditional that
checks if the vifs field is actually set. This is the only way to do
it, as in the libvirt driver we do not have access to the network
API's has_port_binding_extension() helper.

Closes-bug: 1969980
Change-Id: I48ca6a77de38e3afaa44630e6ae1fd41d2031ba9
(cherry picked from commit aa1b0a7ccb1fcf3644784125bfff6950993e1697)
(cherry picked from commit 5f086d437e8e467ab8c90605c904470c37098227)
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/843337/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/functional/regressions/test_bug_1888395.py']",2,11855e5d0bebaab002cb443cf2d6d4c9edd18ca6,bug/1969980," # NOTE(artom) The live migration will still fail (we fail it in # _migrate_stub()), but the server should correctly rollback to ACTIVE. self._live_migrate(self.server, migration_expected_state='failed', server_expected_state='ACTIVE')"," # FIXME(artom) Until bug 1969980 is fixed, this will fail with a # NotImplementedError. self._live_migrate(self.server, migration_expected_state='error', server_expected_state='ERROR') server = self.api.get_server(self.server['id']) self.assertIn( ""NotImplementedError: Cannot load 'vifs' in the base class"", server['fault']['details'] )",11,13
openstack%2Fcharm-ceph-mon~stable%2Fquincy.2~Ibf12a2b87736cb1d32788672fb390e027f15b936,openstack/charm-ceph-mon,stable/quincy.2,Ibf12a2b87736cb1d32788672fb390e027f15b936,Fix persistent config file not update bug,MERGED,2023-06-08 07:49:28.000000000,2023-06-27 21:45:00.000000000,2023-06-27 21:45:00.000000000,"[{'_account_id': 2424}, {'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2023-06-08 07:49:28.000000000', 'files': ['tests/tests.yaml', 'src/charm.py', 'unit_tests/test_charm.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/27837956a691885e74629d341b6cf34d20fa6be6', 'message': 'Fix persistent config file not update bug\n\nWhen ceph doing the version upgrade, it will check the previous ceph\nfrom the `source` config variable which store in persistent file.\nBut the persistent file update is broken. It is because we use hookenv.Config\nfrom ops framework, but the hookenv._run_atexit, which\nsave the change to file, is not been called.\n\nPartial-Bug: #2007976\nChange-Id: Ibf12a2b87736cb1d32788672fb390e027f15b936\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1047\n(cherry picked from commit e99c38ae4cc6c89aa7818d38990cc9b2dfb5060d)\n'}]",7,885477,27837956a691885e74629d341b6cf34d20fa6be6,15,5,1,34720,,,0,"Fix persistent config file not update bug

When ceph doing the version upgrade, it will check the previous ceph
from the `source` config variable which store in persistent file.
But the persistent file update is broken. It is because we use hookenv.Config
from ops framework, but the hookenv._run_atexit, which
save the change to file, is not been called.

Partial-Bug: #2007976
Change-Id: Ibf12a2b87736cb1d32788672fb390e027f15b936
func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/1047
(cherry picked from commit e99c38ae4cc6c89aa7818d38990cc9b2dfb5060d)
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/77/885477/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'src/charm.py', 'unit_tests/test_charm.py']",3,27837956a691885e74629d341b6cf34d20fa6be6,bug/2007976-stable/quincy.2," @patch(""charm.hooks"") def test_on_pre_commit(self, hooks): self.harness.charm.on.framework.on.pre_commit.emit() hooks.hookenv._run_atexit.assert_called()",,15,0
openstack%2Fkeystonemiddleware~master~I39dea68ca10266ac9d204a9b1d78d52d263b08e2,openstack/keystonemiddleware,master,I39dea68ca10266ac9d204a9b1d78d52d263b08e2,Add missing doc requirements,ABANDONED,2023-06-27 21:35:15.000000000,2023-06-27 21:41:45.000000000,,[],"[{'number': 1, 'created': '2023-06-27 21:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/21e44b247416889dec92951ddde1ee70595c9991', 'message': ""Add missing doc requirements\n\nThis updates the test-requirements to fix No module error in\noslo_config.sphinxconfiggen when executing tox with doc env.\n\nBecause of a circular dependency in branch 2023.1, we disable\nthe check B113 until the next after next patch. The patch\nthat fixes B113 depends on this doc patch, so the gate is stuck.\n\nIn addition, we ended with duplicated Change-Id. See:\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/873382\n(master, merged)\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/877244\n(this, but uses a duplicated Change-Id and cannot be pushed)\n\nWe're going to add another review, which is literally this\nreview by Hiromu, but with a new Change-Id.\n\nChange-Id: I39dea68ca10266ac9d204a9b1d78d52d263b08e2\nCherry-Picked-From: I4bfe30b3517f4a6c5c536afa150c66ef8522a2d0\nRelated-Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n""}, {'number': 2, 'created': '2023-06-27 21:38:44.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/defda5ff579cdbfd053deceb9693ce3f76933eb4', 'message': ""Add missing doc requirements\n\nThis updates the test-requirements to fix No module error in\noslo_config.sphinxconfiggen when executing tox with doc env.\n\nBecause of a circular dependency in branch 2023.1, we disable\nthe check B113 until the next after next patch. The patch\nthat fixes B113 depends on this doc patch, so the gate is stuck.\n\nIn addition, we ended with duplicated Change-Id. See:\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/873382\n(master, merged)\n\nhttps://review.opendev.org/c/openstack/keystonemiddleware/+/877244\n(this, but uses a duplicated Change-Id and cannot be pushed)\n\nWe're going to add another review, which is literally this\nreview by Hiromu, but with a new Change-Id.\n\nChange-Id: I39dea68ca10266ac9d204a9b1d78d52d263b08e2\nCherry-Picked-From: I4bfe30b3517f4a6c5c536afa150c66ef8522a2d0\nRelated-Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n""}]",0,887120,defda5ff579cdbfd053deceb9693ce3f76933eb4,4,0,2,597,,,0,"Add missing doc requirements

This updates the test-requirements to fix No module error in
oslo_config.sphinxconfiggen when executing tox with doc env.

Because of a circular dependency in branch 2023.1, we disable
the check B113 until the next after next patch. The patch
that fixes B113 depends on this doc patch, so the gate is stuck.

In addition, we ended with duplicated Change-Id. See:

https://review.opendev.org/c/openstack/keystonemiddleware/+/873382
(master, merged)

https://review.opendev.org/c/openstack/keystonemiddleware/+/877244
(this, but uses a duplicated Change-Id and cannot be pushed)

We're going to add another review, which is literally this
review by Hiromu, but with a new Change-Id.

Change-Id: I39dea68ca10266ac9d204a9b1d78d52d263b08e2
Cherry-Picked-From: I4bfe30b3517f4a6c5c536afa150c66ef8522a2d0
Related-Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/20/887120/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/requirements.txt', 'tox.ini']",2,21e44b247416889dec92951ddde1ee70595c9991,877808-stable/2023.1,# XXX We only do this because of a circular dependency. Remove promptly! [bandit] skips: B113 ,,8,0
openstack%2Fkeystonemiddleware~master~I3b8263afbf0ccee88ceaac2040d5ad274f22d74a,openstack/keystonemiddleware,master,I3b8263afbf0ccee88ceaac2040d5ad274f22d74a,Make tox.ini tox 4.0.0 compatible/fix gate,MERGED,2023-06-27 17:03:42.000000000,2023-06-27 21:36:01.000000000,2023-06-27 21:35:02.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 17:03:42.000000000', 'files': ['keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/626df3a5e9e9d4fbea2649a9cfa0048083bdb88b', 'message': ""Make tox.ini tox 4.0.0 compatible/fix gate\n\n* Removed skipsdist=True to make sure placement available in the virtual\n  env. Without this, our entrypoints are not available.\n\n* Removed basepython = python3 as we assume all developer switched to\n  python3 in their env already\n\n* Removed ignore_basepython_conflict = True as without the basepython\n  definition generative targets now work without conflict\n\nSee [1] for a similar change made to placement.\n\nIt is also necessary to fix issues with the gate. For reasons that I\nhave yet to grok, a mock of 'requests.request' used in some test is no\nlonger functioning as expected. My guess is that something is now\nimporting requests before us and interfering with the mock but never\nmind - we can easily bypass the issue by mocking 'requests.post'\ninstead.\n\n[1] https://review.opendev.org/c/openstack/placement/+/868418/\n\nChange-Id: I3b8263afbf0ccee88ceaac2040d5ad274f22d74a\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,887085,626df3a5e9e9d4fbea2649a9cfa0048083bdb88b,8,3,1,15334,,,0,"Make tox.ini tox 4.0.0 compatible/fix gate

* Removed skipsdist=True to make sure placement available in the virtual
  env. Without this, our entrypoints are not available.

* Removed basepython = python3 as we assume all developer switched to
  python3 in their env already

* Removed ignore_basepython_conflict = True as without the basepython
  definition generative targets now work without conflict

See [1] for a similar change made to placement.

It is also necessary to fix issues with the gate. For reasons that I
have yet to grok, a mock of 'requests.request' used in some test is no
longer functioning as expected. My guess is that something is now
importing requests before us and interfering with the mock but never
mind - we can easily bypass the issue by mocking 'requests.post'
instead.

[1] https://review.opendev.org/c/openstack/placement/+/868418/

Change-Id: I3b8263afbf0ccee88ceaac2040d5ad274f22d74a
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/85/887085/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'tox.ini']",2,626df3a5e9e9d4fbea2649a9cfa0048083bdb88b,tox-4,"minversion = 4.2.0 envlist = py3,pep8,releasenotescommands = stestr run {posargs}","minversion = 3.18.0 skipsdist = True envlist = py37,pep8,releasenotes ignore_basepython_conflict = Truecommands = stestr run {posargs} basepython = python3",24,24
openstack%2Fmanila~stable%2Fwallaby~I9b5eba9afe50994ecd5fe49662bcce10d1db46c8,openstack/manila,stable/wallaby,I9b5eba9afe50994ecd5fe49662bcce10d1db46c8,DNM - test manila wallaby,NEW,2023-06-27 18:42:43.000000000,2023-06-27 21:19:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-27 18:42:43.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/9c38d61dc11520e2618fd0596f10302a936c3138', 'message': 'DNM - test manila wallaby\n\nChange-Id: I9b5eba9afe50994ecd5fe49662bcce10d1db46c8\n'}]",0,887098,9c38d61dc11520e2618fd0596f10302a936c3138,3,1,1,33986,,,0,"DNM - test manila wallaby

Change-Id: I9b5eba9afe50994ecd5fe49662bcce10d1db46c8
",git fetch https://review.opendev.org/openstack/manila refs/changes/98/887098/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,9c38d61dc11520e2618fd0596f10302a936c3138,,,,0,0
openstack%2Fopenstack-ansible~stable%2Fzed~I71cb05063d7c1294d2ef19337d45b5cbf3583f3c,openstack/openstack-ansible,stable/zed,I71cb05063d7c1294d2ef19337d45b5cbf3583f3c,Add support for 'tls-transition' scenario,ABANDONED,2023-06-04 15:53:10.000000000,2023-06-27 21:13:41.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-04 15:53:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2005792c08acda7ab673f631eda041a9f91b9f0d', 'message': ""[WIP] Add support for 'tls-transition' scenario\n\nScenario 'tls-transition' should deploy source release with TLS fully\ndisabled. That is the reason why this patch needs to be merged to stable\nreleases.\n\nChange-Id: I71cb05063d7c1294d2ef19337d45b5cbf3583f3c\n""}, {'number': 2, 'created': '2023-06-21 08:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/46706342e1aa7ab0d9f61a758c421a1e0dc4ba22', 'message': ""Add support for 'tls-transition' scenario\n\nScenario 'tls-transition' should deploy source release with TLS fully\ndisabled. That is the reason why this patch needs to be merged to stable\nreleases.\n\nChange-Id: I71cb05063d7c1294d2ef19337d45b5cbf3583f3c\n""}, {'number': 3, 'created': '2023-06-25 10:14:00.000000000', 'files': ['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/templates/user_variables_tls-transition.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7ed63e5272f18634f447b5cf7abd1e5323a9cb8a', 'message': ""Add support for 'tls-transition' scenario\n\nScenario 'tls-transition' should deploy source release with TLS fully\ndisabled. That is the reason why this patch needs to be merged to stable\nreleases.\n\nChange-Id: I71cb05063d7c1294d2ef19337d45b5cbf3583f3c\n""}]",2,885196,7ed63e5272f18634f447b5cf7abd1e5323a9cb8a,11,1,3,32666,,,0,"Add support for 'tls-transition' scenario

Scenario 'tls-transition' should deploy source release with TLS fully
disabled. That is the reason why this patch needs to be merged to stable
releases.

Change-Id: I71cb05063d7c1294d2ef19337d45b5cbf3583f3c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/96/885196/3 && git format-patch -1 --stdout FETCH_HEAD,"['tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'tests/roles/bootstrap-host/templates/user_variables_tls-transition.yml.j2']",2,2005792c08acda7ab673f631eda041a9f91b9f0d,tls-backend,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # Make sure that source release has TLS fully disabled. openstack_service_public_proto: http openstack_service_adminuri_proto: http openstack_service_internaluri_proto: http haproxy_ssl: False haproxy_ssl_all_vips: False rabbitmq_management_ssl: False openstack_service_backend_ssl: False openstack_service_accept_both_protocols: False ",,24,0
openstack%2Foctavia~stable%2F2023.1~Ie5fb25e292461baca38499091e8f9b9a53e3ddcd,openstack/octavia,stable/2023.1,Ie5fb25e292461baca38499091e8f9b9a53e3ddcd,Fix pool creation with single LB create call,MERGED,2023-05-04 11:24:57.000000000,2023-06-27 20:52:38.000000000,2023-06-27 20:51:29.000000000,"[{'_account_id': 1131}, {'_account_id': 7249}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 34429}]","[{'number': 1, 'created': '2023-05-04 11:24:57.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/fix-pool-prov-status-on-lb-single-create-897070aee0a42da6.yaml', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/1f2aaaa7372f7527910615653c86b50165ff4317', 'message': 'Fix pool creation with single LB create call\n\nSo far, creating a populated LB (or an LB tree) with non attached pools,\nleft the pools on PENDING_CREATE provisioning_state.\n\nThis patch adds the option of marking non attached pools to be active on\nthe MarkLBActiveInDB task.\n\nStory 2010426\nTask 46823\n\nChange-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd\n(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)\n'}]",5,882273,1f2aaaa7372f7527910615653c86b50165ff4317,21,6,1,31664,,,0,"Fix pool creation with single LB create call

So far, creating a populated LB (or an LB tree) with non attached pools,
left the pools on PENDING_CREATE provisioning_state.

This patch adds the option of marking non attached pools to be active on
the MarkLBActiveInDB task.

Story 2010426
Task 46823

Change-Id: Ie5fb25e292461baca38499091e8f9b9a53e3ddcd
(cherry picked from commit 3a157c0216a4b9eca75978ce1e32790aeaa4ccab)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/73/882273/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v2/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/flows/load_balancer_flows.py', 'releasenotes/notes/fix-pool-prov-status-on-lb-single-create-897070aee0a42da6.yaml', 'octavia/tests/unit/controller/worker/v1/flows/test_load_balancer_flows.py', 'octavia/controller/worker/v2/flows/load_balancer_flows.py']",9,1f2aaaa7372f7527910615653c86b50165ff4317,fix_pool_create_single_lb_create_call," self.get_post_lb_amp_association_flow(post_amp_prefix, topology)) lb_create_flow.add( database_tasks.MarkLBActiveInDB( mark_subobjects=True, requires=constants.LOADBALANCER ) ) def get_post_lb_amp_association_flow(self, prefix, topology):"," self.get_post_lb_amp_association_flow( post_amp_prefix, topology, mark_active=not listeners)) flows.append( database_tasks.MarkLBActiveInDB( mark_subobjects=True, requires=constants.LOADBALANCER ) ) def get_post_lb_amp_association_flow(self, prefix, topology, mark_active=True): if mark_active: post_create_LB_flow.add(database_tasks.MarkLBActiveInDB( name=sf_name + '-' + constants.MARK_LB_ACTIVE_INDB, requires=constants.LOADBALANCER))",63,48
openstack%2Foctavia~master~I6ae8ac4521116af27670bba085b53d167bba5e95,openstack/octavia,master,I6ae8ac4521116af27670bba085b53d167bba5e95,DNM/WIP Testing tempest/devstack fix,NEW,2023-06-23 07:00:21.000000000,2023-06-27 20:51:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-23 07:00:21.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/af20c2ffaf1a3ad18061311a84a94da17b95c91d', 'message': 'DNM/WIP Testing tempest/devstack fix\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/886795\nChange-Id: I6ae8ac4521116af27670bba085b53d167bba5e95\n'}]",2,886807,af20c2ffaf1a3ad18061311a84a94da17b95c91d,6,1,1,29244,,,0,"DNM/WIP Testing tempest/devstack fix

Depends-On: https://review.opendev.org/c/openstack/devstack/+/886795
Change-Id: I6ae8ac4521116af27670bba085b53d167bba5e95
",git fetch https://review.opendev.org/openstack/octavia refs/changes/07/886807/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,af20c2ffaf1a3ad18061311a84a94da17b95c91d,, templates: [] - octavia-v2-dsvm-scenario-traffic-ops, templates: - check-requirements - periodic-stable-jobs-neutron - openstack-cover-jobs - openstack-python3-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - octavia-tox-tips - openstack-tox-pip-check-reqs: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py38: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py39: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py310: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ voting: false - octavia-v2-dsvm-noop-api: irrelevant-files: &irrelevant-files - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-scenario-traffic-ops: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-scenario-non-traffic-ops: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-scenario-traffic-ops-jobboard: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-scenario-non-traffic-ops-jobboard: irrelevant-files: *irrelevant-files - octavia-v2-dsvm-tls-barbican: irrelevant-files: *irrelevant-files - octavia-grenade: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^(test-|)requirements.txt$ - ^tox.ini$ - octavia-v2-dsvm-tls-barbican-fips: irrelevant-files: *irrelevant-files voting: false - octavia-v2-act-stdby-dsvm-scenario: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-cinder-amphora: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-two-node: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-ipv6-only: irrelevant-files: *irrelevant-files voting: false - octavia-v2-dsvm-scenario-centos-9-stream: irrelevant-files: *irrelevant-files voting: false,2,87
openstack%2Fkeystonemiddleware~stable%2F2023.1~I0c022c3cc57f30530ebdef6e434753ece2bdf912,openstack/keystonemiddleware,stable/2023.1,I0c022c3cc57f30530ebdef6e434753ece2bdf912,Add timeout for requests,NEW,2023-05-05 14:30:06.000000000,2023-06-27 20:49:10.000000000,,"[{'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-05 14:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/aa3c6eb3abbeae7feca0dadfbe12b307b0d831cc', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 2, 'created': '2023-05-26 14:36:10.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b34fcefd3c7d47a6c91277ac9ee5d2f266661e03', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}]",4,882401,b34fcefd3c7d47a6c91277ac9ee5d2f266661e03,12,3,2,7414,,,0,"Add timeout for requests

Bandit emits errors for request methods without the timeout parameter.
It's better to follow the instruction to avoid hanging.

Added timeout parameters and config options to set timeout.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912
(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/01/882401/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/s3_token.py']",2,aa3c6eb3abbeae7feca0dadfbe12b307b0d831cc,877808-stable/2023.1,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),17,4
openstack%2Fcinder~stable%2Fyoga~I06b8c363c4017adfa1ad134ad7a8a0954c005e62,openstack/cinder,stable/yoga,I06b8c363c4017adfa1ad134ad7a8a0954c005e62,Fix glance metadata properties filtering,MERGED,2023-06-10 09:45:14.000000000,2023-06-27 20:35:54.000000000,2023-06-27 20:34:14.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9236}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 35075}]","[{'number': 1, 'created': '2023-06-10 09:45:14.000000000', 'files': ['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'releasenotes/notes/bug1945500-e4df056b8be2e0ef.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f99ad21b5ba86ef2872955b47a43ccfaeed6af6c', 'message': 'Fix glance metadata properties filtering\n\nPrevious patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc\nimplemented filtering of glance ""os_glance..."" metadata\nbut its logic overlooked the fact that the glance metadata\nto be filtered are actually in a ""properties"" sub-dict\nas adjusted by the ""_merge_volume_image_meta"" method in\ncinder/volume/api.py.\n\nThis patch re-invokes the filtering loop on\nthe ""properties"" sub-dict when it is present.\n\nNew unit test covers filtering in both cases.\n\nCloses-bug: #1945500\nChange-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62\n(cherry picked from commit b3d3f31fa325533cf8130533e955ef43b8f38189)\n(cherry picked from commit f542dd07b07162f39325a83fae67cda166e36798)\n(cherry picked from commit 7dad93bff14c8966d81ea164f1c400b02747e1db)\n'}]",4,885822,f99ad21b5ba86ef2872955b47a43ccfaeed6af6c,19,6,1,14567,,,0,"Fix glance metadata properties filtering

Previous patch I79d70543856c01a45e2d8c083ab8df6b9c047ebc
implemented filtering of glance ""os_glance..."" metadata
but its logic overlooked the fact that the glance metadata
to be filtered are actually in a ""properties"" sub-dict
as adjusted by the ""_merge_volume_image_meta"" method in
cinder/volume/api.py.

This patch re-invokes the filtering loop on
the ""properties"" sub-dict when it is present.

New unit test covers filtering in both cases.

Closes-bug: #1945500
Change-Id: I06b8c363c4017adfa1ad134ad7a8a0954c005e62
(cherry picked from commit b3d3f31fa325533cf8130533e955ef43b8f38189)
(cherry picked from commit f542dd07b07162f39325a83fae67cda166e36798)
(cherry picked from commit 7dad93bff14c8966d81ea164f1c400b02747e1db)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/22/885822/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py', 'releasenotes/notes/bug1945500-e4df056b8be2e0ef.yaml']",3,f99ad21b5ba86ef2872955b47a43ccfaeed6af6c,,"--- fixes: - | `Bug #1945500 <https://bugs.launchpad.net/cinder/+bug/1945500>`_: The original attempt at fixing this bug did not account for differences in how glance and cinder store image metadata, and as a result some image properties were not filtered out. This new improved fix addresses those differences and makes the filtering more thorough. ",,90,6
openstack%2Fos-vif~stable%2Fwallaby~Id9ef7074634a0f23d67a4401fa8fca363b51bb43,openstack/os-vif,stable/wallaby,Id9ef7074634a0f23d67a4401fa8fca363b51bb43,set default qos policy,NEW,2023-06-22 18:30:20.000000000,2023-06-27 20:14:42.000000000,,"[{'_account_id': 8864}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2023-06-22 18:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/7c43ab06bef0e9b030c2cf3b424d7f0a609a1c85', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\n  ovs.py: added _get_qos_type\n  ovsdb_lib.py: updated _set_mtu_request\n\nConflicts Xena to wallaby:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py\n      vif_plug_ovs/tests/unit/test_plugin.py\n\nNOTE(auniyal):\nNo major changes because of conflicts, mostly addition of function in between\ntwo functions created conflicts\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 2af40e77a813e29e3066fe4188220d3a524e19c3)\n(cherry picked from commit 9e5dd4062bff79a945b2ab8bacd93b2f2d3bb088)\n'}, {'number': 2, 'created': '2023-06-23 06:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/1e46fe179248d345151aaa6bb52bad02221b8726', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\n  ovs.py: added _get_qos_type\n  ovsdb_lib.py: updated _set_mtu_request\n\nConflicts Xena to wallaby:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py\n      vif_plug_ovs/tests/unit/test_plugin.py\n\nNOTE(auniyal):\nNo major changes because of conflicts, mostly addition of function in between\ntwo functions created conflicts\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 2af40e77a813e29e3066fe4188220d3a524e19c3)\n(cherry picked from commit 9e5dd4062bff79a945b2ab8bacd93b2f2d3bb088)\n'}, {'number': 3, 'created': '2023-06-23 06:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/33ee3d9a7199403cd8a129ac7f03e648404530eb', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\n  ovs.py: added _get_qos_type\n  ovsdb_lib.py: updated _set_mtu_request\n\nConflicts Xena to wallaby:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py\n      vif_plug_ovs/tests/unit/test_plugin.py\n\nNOTE(auniyal):\nNo major changes because of conflicts, mostly addition of function in between\ntwo functions created conflicts\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 2af40e77a813e29e3066fe4188220d3a524e19c3)\n(cherry picked from commit 9e5dd4062bff79a945b2ab8bacd93b2f2d3bb088)\n'}, {'number': 4, 'created': '2023-06-27 05:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/611cbb26cbfc52e7aad4609e3a6ee9625feb757c', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\n  ovs.py: added _get_qos_type\n  ovsdb_lib.py: updated _set_mtu_request\n\nConflicts: Xena to Wallaby\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py\n      vif_plug_ovs/tests/unit/test_plugin.py\n\nNOTE(auniyal):\novs.py: adds config option default_qos_type\novsdb_lib.py: updated create ovs vif port\ntest_ovsdb_lib.py: added tests for vif port and qos\ntest_plugin.py: did not added tests for plug and unplug port bridge\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 2af40e77a813e29e3066fe4188220d3a524e19c3)\n(cherry picked from commit 9e5dd4062bff79a945b2ab8bacd93b2f2d3bb088)\n'}, {'number': 5, 'created': '2023-06-27 07:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f95b89917765ab9143d1efbe7c7e5be8ce365c96', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\n  ovs.py: added _get_qos_type\n  ovsdb_lib.py: updated _set_mtu_request\n\nConflicts: Xena to Wallaby\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py\n      vif_plug_ovs/tests/unit/test_plugin.py\n\nNOTE(auniyal):\novs.py: adds config option default_qos_type, did not added\nunplug_port_bridge function\novsdb_lib.py: updated create ovs vif port\ntest_ovsdb_lib.py: added tests for vif port and qos\ntest_plugin.py: did not added tests for plug and unplug port bridge\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 2af40e77a813e29e3066fe4188220d3a524e19c3)\n(cherry picked from commit 9e5dd4062bff79a945b2ab8bacd93b2f2d3bb088)\n'}, {'number': 6, 'created': '2023-06-27 10:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b17ab29fce429c6ce4e4a6731227cf7882fd788f', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts:\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\n  ovs.py: added _get_qos_type\n  ovsdb_lib.py: updated _set_mtu_request\n\nConflicts: Xena to Wallaby\n\t  vif_plug_ovs/ovs.py\n\t  vif_plug_ovs/ovsdb/ovsdb_lib.py\n\t  vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py\n\t  vif_plug_ovs/tests/unit/test_plugin.py\n\nNOTE(auniyal):\novs.py: adds config option default_qos_type\novsdb_lib.py: updated create ovs vif port\ntest_ovsdb_lib.py: added tests for vif port and qos\ntest_plugin.py: did not added tests for plug and unplug port bridge\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 2af40e77a813e29e3066fe4188220d3a524e19c3)\n(cherry picked from commit 9e5dd4062bff79a945b2ab8bacd93b2f2d3bb088)\n'}, {'number': 7, 'created': '2023-06-27 18:39:12.000000000', 'files': ['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'releasenotes/notes/default-qos-policy-for-ovs-26f8806046a59c82.yaml', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/functional/base.py', 'vif_plug_ovs/ovsdb/impl_idl.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/b68632a43fd7fa276bc1674da6861462c01127f8', 'message': 'set default qos policy\n\nThis change modifies the os-vif ovs plugin to set a default\ntc qdisc on ovs interface when the host os is not windows\nand the system datapath is used.\n\nThis change fixes a ""silent"" bug in the functional test code due\nto a change in an ovsdbapp function signiture to accpet a new paramater.\n\nConflicts: Zed to Yoga\n      vif_plug_ovs/ovs.py\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n      vif_plug_ovs/tests/functional/base.py\n      vif_plug_ovs/tests/functional/test_plugin.py\n\nNOTE(auniyal):\novs.py: added _get_qos_type config option\novsdb_lib.py: updated delete_ovs_vif_port\nadded funtional test module test_plugin\n\nConflicts: Xena to Wallaby\n\t  vif_plug_ovs/ovs.py\n\t  vif_plug_ovs/ovsdb/ovsdb_lib.py\n\t  vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py\n\t  vif_plug_ovs/tests/unit/test_plugin.py\n\nNOTE(auniyal):\novs.py: adds config option default_qos_type\novsdb_lib.py: updated create ovs vif port\ntest_ovsdb_lib.py: added tests for vif port and qos\n\nCloses-Bug: #2017868\nChange-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43\n(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)\n(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)\n(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)\n(cherry picked from commit 57df00f746c9faf5416b02160fdfa277bc4ca388)\n(cherry picked from commit 4490c4d97f397b99f1804b7dac564b8626d132a2)\n'}]",6,886778,b68632a43fd7fa276bc1674da6861462c01127f8,17,3,7,34860,,,0,"set default qos policy

This change modifies the os-vif ovs plugin to set a default
tc qdisc on ovs interface when the host os is not windows
and the system datapath is used.

This change fixes a ""silent"" bug in the functional test code due
to a change in an ovsdbapp function signiture to accpet a new paramater.

Conflicts: Zed to Yoga
      vif_plug_ovs/ovs.py
      vif_plug_ovs/ovsdb/ovsdb_lib.py
      vif_plug_ovs/tests/functional/base.py
      vif_plug_ovs/tests/functional/test_plugin.py

NOTE(auniyal):
ovs.py: added _get_qos_type config option
ovsdb_lib.py: updated delete_ovs_vif_port
added funtional test module test_plugin

Conflicts: Xena to Wallaby
	  vif_plug_ovs/ovs.py
	  vif_plug_ovs/ovsdb/ovsdb_lib.py
	  vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py
	  vif_plug_ovs/tests/unit/test_plugin.py

NOTE(auniyal):
ovs.py: adds config option default_qos_type
ovsdb_lib.py: updated create ovs vif port
test_ovsdb_lib.py: added tests for vif port and qos

Closes-Bug: #2017868
Change-Id: Id9ef7074634a0f23d67a4401fa8fca363b51bb43
(cherry picked from commit c0d101aa81cff200e1db2a0746598b72e26748e4)
(cherry picked from commit 7fff20c973b54aebcadd103ccae563e5d9793508)
(cherry picked from commit 84b68f5586ab70f29e4def020561b33932c82749)
(cherry picked from commit 57df00f746c9faf5416b02160fdfa277bc4ca388)
(cherry picked from commit 4490c4d97f397b99f1804b7dac564b8626d132a2)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/78/886778/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/tests/functional/test_plugin.py', 'vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'releasenotes/notes/default-qos-policy-for-ovs-26f8806046a59c82.yaml', 'vif_plug_ovs/constants.py', 'vif_plug_ovs/tests/unit/test_plugin.py', 'vif_plug_ovs/ovs.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/functional/base.py', 'vif_plug_ovs/ovsdb/impl_idl.py', 'os_vif/tests/functional/internal/command/ip/test_impl_pyroute2.py']",10,7c43ab06bef0e9b030c2cf3b424d7f0a609a1c85,bug/2017868,import time # ensure that the device exists to prevent racing # with other ip commands for _ in range(10): if self.exist_device(device): return time.sleep(0.1),,731,32
openstack%2Fos-vif~stable%2Fwallaby~I1acd74efc100c6f949b5c72525c455aebfa2c50e,openstack/os-vif,stable/wallaby,I1acd74efc100c6f949b5c72525c455aebfa2c50e,Move mtu update request into ovsdb transaction,NEW,2023-06-27 05:39:02.000000000,2023-06-27 20:13:24.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 05:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-vif/commit/e33db6cc431b71f24bdccd7a94ac1abb17737ec6', 'message': 'Move mtu update request into ovsdb transaction\n\nos-vif currently set the requested mtu as part of separate request\nto the port add command. As a result the port is initially created\nwith mbufer pool for the jumboframe size, which results in an\nerror in openvswitch-vswitch logs.\n\nThis change moves the mtu update request into ovsdb transaction.\n\nConflicts:\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n\nNOTE(auniyal):\nupdated update_device_mtu to accept transaction var to set mtu request\n\nCloses-Bug: #1959586\nChange-Id: I1acd74efc100c6f949b5c72525c455aebfa2c50e\n(cherry picked from commit 2f55e9ea06f975240e3ff5aff21195ec6af76193)\n(cherry picked from commit 51b7f486318d1b2d61f2079b615cc406dca10188)\n(cherry picked from commit cf9c15d034b534e50b456a8a2f6b6a4d5b89a24b)\n(cherry picked from commit 8d14a1c6a9eeaef0fdae9ea1210d3310a3498d78)\n'}, {'number': 2, 'created': '2023-06-27 18:39:12.000000000', 'files': ['vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/unit/ovsdb/test_ovsdb_lib.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/f816b9909364fa74bb965d1cc5a67c2283eb04c4', 'message': 'Move mtu update request into ovsdb transaction\n\nos-vif currently set the requested mtu as part of separate request\nto the port add command. As a result the port is initially created\nwith mbufer pool for the jumboframe size, which results in an\nerror in openvswitch-vswitch logs.\n\nThis change moves the mtu update request into ovsdb transaction.\n\nConflicts:\n      vif_plug_ovs/ovsdb/ovsdb_lib.py\n\nNOTE(auniyal):\nupdated update_device_mtu to accept transaction var to set mtu request\n\nCloses-Bug: #1959586\nChange-Id: I1acd74efc100c6f949b5c72525c455aebfa2c50e\n(cherry picked from commit 2f55e9ea06f975240e3ff5aff21195ec6af76193)\n(cherry picked from commit 51b7f486318d1b2d61f2079b615cc406dca10188)\n(cherry picked from commit cf9c15d034b534e50b456a8a2f6b6a4d5b89a24b)\n(cherry picked from commit 8d14a1c6a9eeaef0fdae9ea1210d3310a3498d78)\n'}]",1,887017,f816b9909364fa74bb965d1cc5a67c2283eb04c4,5,2,2,34860,,,0,"Move mtu update request into ovsdb transaction

os-vif currently set the requested mtu as part of separate request
to the port add command. As a result the port is initially created
with mbufer pool for the jumboframe size, which results in an
error in openvswitch-vswitch logs.

This change moves the mtu update request into ovsdb transaction.

Conflicts:
      vif_plug_ovs/ovsdb/ovsdb_lib.py

NOTE(auniyal):
updated update_device_mtu to accept transaction var to set mtu request

Closes-Bug: #1959586
Change-Id: I1acd74efc100c6f949b5c72525c455aebfa2c50e
(cherry picked from commit 2f55e9ea06f975240e3ff5aff21195ec6af76193)
(cherry picked from commit 51b7f486318d1b2d61f2079b615cc406dca10188)
(cherry picked from commit cf9c15d034b534e50b456a8a2f6b6a4d5b89a24b)
(cherry picked from commit 8d14a1c6a9eeaef0fdae9ea1210d3310a3498d78)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/17/887017/2 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/unit/ovsdb/test_ovsdb_lib.py']",3,e33db6cc431b71f24bdccd7a94ac1abb17737ec6,bug/2017868," self.br._set_mtu_request(self.mock_transaction, 'device', 1500) self.br.update_device_mtu( self.mock_transaction, 'device', 1500, 'not_vhost' ) self.br.update_device_mtu( self.mock_transaction, 'device', 1500, 'not_vhost' ) self.br.update_device_mtu( self.mock_transaction, 'device', 1500, constants.OVS_VHOSTUSER_INTERFACE_TYPE ) mock_set_mtu_request.assert_has_calls( [ mock.call( self.mock_transaction, 'device', 1500 ) ] ) self.br.update_device_mtu( self.mock_transaction, 'device', 1500, constants.OVS_VHOSTUSER_INTERFACE_TYPE ) with self.br._ovsdb.transaction() as txn: mock_update_device_mtu.assert_has_calls( [ mock.call( txn, device, mtu, interface_type=interface_type ) ] ) with self.br._ovsdb.transaction() as txn: mock_update_device_mtu.assert_has_calls( [ mock.call( txn, device, mtu, interface_type=interface_type ) ] ) with self.br._ovsdb.transaction() as txn: mock_update_device_mtu.assert_has_calls([mock.call( txn, 'device', 1500,"," self.br._set_mtu_request('device', 1500) self.br.update_device_mtu('device', 1500, 'not_vhost') self.br.update_device_mtu('device', 1500, 'not_vhost') self.br.update_device_mtu('device', 1500, constants.OVS_VHOSTUSER_INTERFACE_TYPE) mock_set_mtu_request.assert_has_calls([mock.call('device', 1500)]) self.br.update_device_mtu('device', 1500, constants.OVS_VHOSTUSER_INTERFACE_TYPE) mock_update_device_mtu.assert_has_calls( [mock.call(device, mtu, interface_type=interface_type)]) mock_update_device_mtu.assert_has_calls( [mock.call(device, mtu, interface_type=interface_type)]) mock_update_device_mtu.assert_has_calls( [mock.call( 'device', 1500,",62,24
openstack%2Ftripleo-upgrade~stable%2Fwallaby~Ia11c8047944c1f8b1495a42d3fe4c712097292d8,openstack/tripleo-upgrade,stable/wallaby,Ia11c8047944c1f8b1495a42d3fe4c712097292d8,Added tripleo-ci-centos-8-undercloud-ffu-wallaby to ci,ABANDONED,2023-06-19 07:25:19.000000000,2023-06-27 20:08:14.000000000,,"[{'_account_id': 22348}, {'_account_id': 33080}]","[{'number': 1, 'created': '2023-06-19 07:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/680c5955ba1930a25d569767fac13846ce4adb45', 'message': 'Added tripleo-ci-centos-8-undercloud-ffu-wallaby to ci\n\nRecently, the tripleo-ci-centos-8-undercloud-ffu-wallaby was broken\ndue to a patch on tripleo-upgrade, which affected the\ntripleo-ci-centos-8-undercloud-ffu-wallaby ci job.\nAs there is no ffu job tested on the tripleo-upgrade repo.\n\nChange-Id: Ia11c8047944c1f8b1495a42d3fe4c712097292d8\n'}, {'number': 2, 'created': '2023-06-19 07:26:34.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d32643ec3f3987ecc3cce113d9f87806e6a02880', 'message': 'Added tripleo-ci-centos-8-undercloud-ffu-wallaby to ci\n\nRecently, the tripleo-ci-centos-8-undercloud-ffu-wallaby was broken\ndue to a patch on tripleo-upgrade, which affected the\ntripleo-ci-centos-8-undercloud-ffu-wallaby ci job.\nAs there is no ffu job tested on the tripleo-upgrade repo.\n\nChange-Id: Ia11c8047944c1f8b1495a42d3fe4c712097292d8\n'}]",1,886369,d32643ec3f3987ecc3cce113d9f87806e6a02880,6,2,2,22954,,,0,"Added tripleo-ci-centos-8-undercloud-ffu-wallaby to ci

Recently, the tripleo-ci-centos-8-undercloud-ffu-wallaby was broken
due to a patch on tripleo-upgrade, which affected the
tripleo-ci-centos-8-undercloud-ffu-wallaby ci job.
As there is no ffu job tested on the tripleo-upgrade repo.

Change-Id: Ia11c8047944c1f8b1495a42d3fe4c712097292d8
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/69/886369/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,680c5955ba1930a25d569767fac13846ce4adb45,ffu_ci_job, - tripleo-ci-centos-8-undercloud-ffu-wallaby: vars: consumer_job: true build_container_images: false remove_tags: - build irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-train,,10,0
openstack%2Fcinder~master~I7994211a460d75d84d04740ae9e404de29550341,openstack/cinder,master,I7994211a460d75d84d04740ae9e404de29550341,[dov] Use openstack client commands to replace cinder client,ABANDONED,2018-07-09 02:26:42.000000000,2023-06-27 19:58:28.000000000,,"[{'_account_id': 5997}, {'_account_id': 9008}, {'_account_id': 9414}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14320}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 16834}, {'_account_id': 18883}, {'_account_id': 19844}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23083}, {'_account_id': 23613}, {'_account_id': 24230}, {'_account_id': 25243}, {'_account_id': 25695}, {'_account_id': 26537}]","[{'number': 1, 'created': '2018-07-09 02:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7608e9621e3f8fdd5f17029c3b277e3e35514b26', 'message': 'Use openstack client commands to replace cinder client\n\nChange-Id: I7994211a460d75d84d04740ae9e404de29550341\n'}, {'number': 2, 'created': '2018-07-13 02:47:33.000000000', 'files': ['doc/source/configuration/block-storage/drivers/ibm-storage-volume-driver.rst'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d49e3fbf47c6dd085a7719d8fad0ade96aca8c53', 'message': '[dov] Use openstack client commands to replace cinder client\n\nChange-Id: I7994211a460d75d84d04740ae9e404de29550341\n'}]",1,580889,d49e3fbf47c6dd085a7719d8fad0ade96aca8c53,56,27,2,14151,,,0,"[dov] Use openstack client commands to replace cinder client

Change-Id: I7994211a460d75d84d04740ae9e404de29550341
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/580889/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/block-storage/drivers/ibm-storage-volume-driver.rst'],1,7608e9621e3f8fdd5f17029c3b277e3e35514b26,, openstack volume qos create <class_name> --property bw=# --property iops=# openstack volume type create type_<qos_class_name> openstack volume qos associate <qos uuid> <type uuid> openstack volume type set <type_name or UUID> --property QoS_support=True openstack volume create <volume_name> --type <type_name> --size 1," cinder qos-create <class_name> <class_specs: bw=#, iops=#> cinder type-create type_<qos_class_name> cinder qos-associate <qos uuid> <type uuid> cinder type-key <type_name or UUID> set QoS_support=True cinder create 1 --volume-type <type_name>",5,5
openstack%2Fcharm-placement~master~Ic31f465ef01df8b4e170bc50d8d611c1e108976c,openstack/charm-placement,master,Ic31f465ef01df8b4e170bc50d8d611c1e108976c,Doc Workshop Prague 2023 This commit was prepared as part of the team doc workshop we did to  move documentation into Discourse.,NEW,2023-05-05 08:46:48.000000000,2023-06-27 19:43:49.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-05-05 08:46:48.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/4e5a1fed464f2a798a40e8f290941602270bfd8f', 'message': 'Doc Workshop Prague 2023\nThis commit was prepared as part of the team doc workshop we did to\n move documentation into Discourse.\n\nChange-Id: Ic31f465ef01df8b4e170bc50d8d611c1e108976c\n'}]",1,882389,4e5a1fed464f2a798a40e8f290941602270bfd8f,4,3,1,31203,,,0,"Doc Workshop Prague 2023
This commit was prepared as part of the team doc workshop we did to
 move documentation into Discourse.

Change-Id: Ic31f465ef01df8b4e170bc50d8d611c1e108976c
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/89/882389/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,4e5a1fed464f2a798a40e8f290941602270bfd8f,docs-workshop-prague-2023,"# Placement The Placement charm deploys Placement, the core OpenStack service for tracking resource provider inventories and usage. The charm works with other Charmed OpenStack services deployed using Juju. The charm's documentation can be viewed on [Charmhub][charm-docs] and its bugs are tracked on [Launchpad][charm-bugs].[charm-docs]: https://charmhub.io/placement [charm-bugs]: https://bugs.launchpad.net/charm-placement/+filebug","# Overview The placement charm deploys [Placement][upstream-placement], the core OpenStack API service that tracks the inventory and usage of various cloud resources (e.g. compute, storage, network addresses). The charm works alongside other Juju-deployed OpenStack services. > **Note**: The placement charm is supported starting with OpenStack Train. # Usage ## Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `openstack-origin` The `openstack-origin` option states the software sources. A common value is an OpenStack UCA release (e.g. 'cloud:bionic-ussuri' or 'cloud:focal-victoria'). See [Ubuntu Cloud Archive][wiki-uca]. The underlying host's existing apt sources will be used if this option is not specified (this behaviour can be explicitly chosen by using the value of 'distro'). ## Deployment Placement is often containerised. Here a single unit is deployed to a new container on machine '1': juju deploy --to lxd:1 placement Placement requires these applications to be present: keystone, nova-cloud-controller, and a cloud database. The database application is determined by the series. Prior to focal [percona-cluster][percona-cluster-charm] is used, otherwise it is [mysql-innodb-cluster][mysql-innodb-cluster-charm]. In the example deployment below mysql-innodb-cluster has been chosen. juju deploy mysql-router placement-mysql-router juju add-relation placement-mysql-router:db-router mysql-innodb-cluster:db-router juju add-relation placement-mysql-router:shared-db placement:shared-db Add relations to the remaining applications: juju add-relation placement:identity-service keystone:identity-service juju add-relation placement:placement nova-cloud-controller:placement ## Upgrading to OpenStack Train Prior to OpenStack Train, the placement API was managed by the nova-cloud-controller charm. Some extra steps are therefore needed when performing a Stein to Train upgrade. The documented procedure can be found on the [Special charm procedures][cdg-upgrade-special] page in the [OpenStack Charms Deployment Guide][cdg]. ## High availability When more than one unit is deployed with the [hacluster][hacluster-charm] application the charm will bring up an HA active/active cluster. There are two mutually exclusive high availability options: using virtual IP(s) or DNS. In both cases the hacluster subordinate charm is used to provide the Corosync and Pacemaker backend HA functionality. See [Infrastructure high availability][cdg-ha-apps] in the [OpenStack Charms Deployment Guide][cdg] for details. # Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage information # Bugs Please report bugs on [Launchpad][lp-bugs-charm-placement]. [cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [lp-bugs-charm-placement]: https://bugs.launchpad.net/charm-placement/+filebug [upstream-placement]: https://docs.openstack.org/placement [cdg-upgrade-special]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/upgrade-special.html [cdg-ha-apps]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ha.html#ha-applications [hacluster-charm]: https://jaas.ai/hacluster [wiki-uca]: https://wiki.ubuntu.com/OpenStack/CloudArchive [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [percona-cluster-charm]: https://jaas.ai/percona-cluster [mysql-innodb-cluster-charm]: https://jaas.ai/mysql-innodb-cluster",5,91
openstack%2Fcharm-nova-compute~master~Iaa064bb6c7c9ec68b9efa33b27a70a8a16896ef0,openstack/charm-nova-compute,master,Iaa064bb6c7c9ec68b9efa33b27a70a8a16896ef0,Adds discourse documentation,NEW,2023-05-05 08:22:21.000000000,2023-06-27 19:43:29.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-05-05 08:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/8d3dda3d799113ee8da35fbc4457adb002daf405', 'message': 'Adds discourse documentation\n\nChange-Id: Iaa064bb6c7c9ec68b9efa33b27a70a8a16896ef0\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}, {'number': 2, 'created': '2023-05-05 08:23:31.000000000', 'files': ['metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/04e66907ef3217c024b6821a1e5449f1b39e5968', 'message': 'Adds discourse documentation\n\nChange-Id: Iaa064bb6c7c9ec68b9efa33b27a70a8a16896ef0\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}]",1,882385,04e66907ef3217c024b6821a1e5449f1b39e5968,5,3,2,34952,,,0,"Adds discourse documentation

Change-Id: Iaa064bb6c7c9ec68b9efa33b27a70a8a16896ef0
Signed-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/85/882385/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.yaml', 'README.md']",2,8d3dda3d799113ee8da35fbc4457adb002daf405,discourse-doc,"The nova-compute charm deploys Nova Compute, the core OpenStack service that provisions virtual instances (VMs) and baremetal servers (via Ironic). The charm works alongside other Juju-deployed OpenStack services. The charm's documentation is viewed on [Charmhub][charm-docs] and its bugs are tracked on [Launchpad][charm-bugs].[charm-docs]: https://charmhub.io/nova-compute [charm-bugs]: https://bugs.launchpad.net/charm-nova-compute/+filebug","The nova-compute charm deploys [Nova Compute][upstream-compute], the core OpenStack service that provisions virtual instances (VMs) and baremetal servers (via [Ironic][cdg-ironic]). The charm works alongside other Juju-deployed OpenStack services. # Usage ## Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `config-flags` A comma-separated list of key=value configuration flags. These values will be placed in the [DEFAULT] section of the `nova.conf` file. #### `enable-live-migration` Allows the live migration of VMs. #### `enable-resize` Allows the resizing of VMs. #### `migration-auth-type` Selects the TCP authentication scheme to use for live migration. The only accepted value is 'ssh'. #### `customize-failure-domain` When MAAS is the backing cloud and this option is set to 'true' then all MAAS-defined zones will become available as Nova availability zones, and option `default-availability-zone` will be overridden. See section [Availability Zones][anchor-az]. #### `default-availability-zone` Sets a single default Nova availability zone. It is used when a VM is created without a Nova AZ being specified. The default value is 'nova'. A non-default Nova AZ must be created manually (i.e. `openstack aggregate create`). See section [Availability Zones][anchor-az]. #### `libvirt-image-backend` Specifies what image backend to use. Possible values are 'rbd', 'qcow2', 'raw', and 'flat'. The default behaviour is for Nova to use qcow2. #### `openstack-origin` States the software sources. A common value is an OpenStack UCA release (e.g. 'cloud:bionic-train' or 'cloud:focal-wallaby'). See [Ubuntu Cloud Archive][wiki-uca]. The underlying host's existing apt sources will be used if this option is not specified (this behaviour can be explicitly chosen by using the value of 'distro'). #### `pool-type` Dictates the Ceph storage pool type. See sections [Ceph pool type][anchor-ceph-pool-type] and [RBD Nova images][anchor-rbd-nova-images] for more information. ## Ceph pool type Ceph storage pools can be configured to ensure data resiliency either through replication or by erasure coding. This charm supports both types via the `pool-type` configuration option, which can take on the values of 'replicated' and 'erasure-coded'. The default value is 'replicated'. For this charm, the pool type will be associated with Nova-managed images. > **Note**: Erasure-coded pools are supported starting with Ceph Luminous. ### Replicated pools Replicated pools use a simple replication strategy in which each written object is copied, in full, to multiple OSDs within the cluster. The `ceph-osd-replication-count` option sets the replica count for any object stored within the 'nova' rbd pool. Increasing this value increases data resilience at the cost of consuming more real storage in the Ceph cluster. The default value is '3'. > **Important**: The `ceph-osd-replication-count` option must be set prior to adding the relation to the ceph-mon application. Otherwise, the pool's configuration will need to be set by interfacing with the cluster directly. ### Erasure coded pools Erasure coded pools use a technique that allows for the same resiliency as replicated pools, yet reduces the amount of space required. Written data is split into data chunks and error correction chunks, which are both distributed throughout the cluster. > **Note**: Erasure coded pools require more memory and CPU cycles than replicated pools do. When using erasure coding two pools will be created: a replicated pool (for storing RBD metadata) and an erasure coded pool (for storing the data written into the RBD). The `ceph-osd-replication-count` configuration option only applies to the metadata (replicated) pool. Erasure coded pools can be configured via options whose names begin with the `ec-` prefix. > **Important**: It is strongly recommended to tailor the `ec-profile-k` and `ec-profile-m` options to the needs of the given environment. These latter options have default values of '1' and '2' respectively, which result in the same space requirements as those of a replicated pool. See [Ceph Erasure Coding][cdg-ceph-erasure-coding] in the [OpenStack Charms Deployment Guide][cdg] for more information. ## Ceph BlueStore compression This charm supports [BlueStore inline compression][ceph-bluestore-compression] for its associated Ceph storage pool(s). The feature is enabled by assigning a compression mode via the `bluestore-compression-mode` configuration option. The default behaviour is to disable compression. The efficiency of compression depends heavily on what type of data is stored in the pool and the charm provides a set of configuration options to fine tune the compression behaviour. > **Note**: BlueStore compression is supported starting with Ceph Mimic. ## Deployment These deployment instructions assume that the following applications are present: glance, nova-cloud-controller, ovn-chassis, and rabbitmq-server. Storage backends used for VM disks and volumes are configured separately (see sections [Ceph backed storage][anchor-ceph-backed-storage] and [Local Cinder storage][anchor-local-cinder-storage]. Let file `nova-compute.yaml` contain the deployment configuration: ```yaml nova-compute: config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh openstack-origin: cloud:focal-wallaby ``` To deploy nova-compute to machine '5': juju deploy --to 5 --config nova-compute.yaml nova-compute juju add-relation nova-compute:image-service glance:image-service juju add-relation nova-compute:cloud-compute nova-cloud-controller:cloud-compute juju add-relation nova-compute:neutron-plugin ovn-chassis:nova-compute juju add-relation nova-compute:amqp rabbitmq-server:amqp ### Ceph backed storage Two concurrent Ceph backends are supported: RBD Nova images and RBD Cinder volumes. Each backend uses its own set of cephx credentials. The steps below assume a pre-existing Ceph cluster (see the [ceph-mon][ceph-mon-charm] and [ceph-osd][ceph-osd-charm] charms). #### RBD Nova images RBD Nova images are enabled by setting option `libvirt-image-backend` to 'rbd' and by adding a relation to the Ceph cluster: juju config nova-compute libvirt-image-backend=rbd juju add-relation nova-compute:ceph ceph-mon:client > **Warning**: Changing the value of option `libvirt-image-backend` will orphan any disks that were set up under a different setting. This will cause the restarting of associated VMs to fail. This solution will place both root and ephemeral disks in Ceph. > **Pro tip**: An alternative is to selectively store just root disks in Ceph by using Cinder as an intermediary. See section [RBD Cinder volumes][anchor-rbd-cinder] as well as [Launch an instance from a volume][upstream-volume-boot] in the Nova documentation. #### RBD Cinder volumes RBD Cinder volumes are enabled by adding a relation to Cinder via the cinder-ceph application. Assuming Cinder is already backed by Ceph (see the [cinder-ceph][cinder-ceph-charm] charm): juju add-relation nova-compute:ceph-access cinder-ceph:ceph-access > **Note**: The `nova-compute:ceph-access` relation is not needed for OpenStack releases older than Ocata. ### Local Cinder storage To use local storage, Cinder will need to be configured to use local block devices. See the [cinder][cinder-charm] charm for details. ## Availability Zones Nova AZs can be matched with MAAS zones depending on how options `default-availability-zone` and `customize-failure-domain` are configured. See [Availability Zones][cdg-ha-az] in the [OpenStack Charms Deployment Guide][cdg] for in-depth coverage of how this works. ## SSH keys and VM migration VM migration requires the sharing of public SSH keys (host and several select users) among the compute hosts. By design, only those hosts belonging to the same application group will get each other's keys. This means that VM migration cannot occur (without manual intervention) between hosts belonging to different groups. > **Note:** The policy of only sharing SSH keys amongst hosts of the same application group may be struck down. This is being tracked in bug [LP #1468871][lp-bug-1468871]. ## NFV support This charm (in conjunction with the nova-cloud-controller and neutron-api charms) supports NFV for Compute nodes that are deployed in Telco NFV environments. For more information on NFV see the [Network Functions Virtualization (NFV)][cdg-nfv] page in the [OpenStack Charms Deployment Guide][cdg]. ## Network spaces This charm supports the use of Juju [network spaces][juju-docs-spaces] (Juju `v.2.0`). This feature optionally allows specific types of the application's network traffic to be bound to subnets that the underlying hardware is connected to. > **Note**: Spaces must be configured in the backing cloud prior to deployment. In addition this charm declares two extra-bindings: * `internal`: used to determine the network space to use for console access to instances. * `migration`: used to determine which network space should be used for live and cold migrations between hypervisors. Note that the nova-cloud-controller application must have bindings to the same network spaces used for both 'internal' and 'migration' extra bindings. ## Scaling back Scaling back the nova-compute application implies the removal of one or more compute nodes. This is documented as a cloud operation in the [OpenStack Charms Deployment Guide][cdg]. See [Remove a Compute node][cdg-ops-scale-in-nova-compute]. ## Actions This section lists Juju [actions][juju-docs-actions] supported by the charm. Actions allow specific operations to be performed on a per-unit basis. To display action descriptions run `juju actions nova-compute`. If the charm is not deployed then see file `actions.yaml`. * `disable` * `enable` * `hugepagereport` * `instance-count` * `list-compute-nodes` * `node-name` * `openstack-upgrade` * `pause` * `register-to-cloud` * `remove-from-cloud` * `resume` * `security-checklist` # Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage information # Bugs Please report bugs on [Launchpad][lp-bugs-charm-nova-compute]. [cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [juju-docs-actions]: https://jaas.ai/docs/actions [juju-docs-spaces]: https://juju.is/docs/spaces [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [lp-bugs-charm-nova-compute]: https://bugs.launchpad.net/charm-nova-compute/+filebug [cdg-install-openstack]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/install-openstack.html [cloud-archive-ceph]: https://wiki.ubuntu.com/OpenStack/CloudArchive#Ceph_and_the_UCA [wiki-uca]: https://wiki.ubuntu.com/OpenStack/CloudArchive [cdg-ceph-erasure-coding]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-erasure-coding.html [ceph-bluestore-compression]: https://docs.ceph.com/en/latest/rados/configuration/bluestore-config-ref/#inline-compression [cdg-ops-scale-in-nova-compute]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/ops-scale-in-nova-compute.html [cdg-nfv]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/nfv.html [cdg-ironic]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/ironic.html [cinder-charm]: https://jaas.ai/cinder [cinder-ceph-charm]: https://jaas.ai/cinder-ceph [ceph-mon-charm]: https://jaas.ai/ceph-mon [ceph-osd-charm]: https://jaas.ai/ceph-osd [upstream-compute]: https://docs.openstack.org/nova/ [cdg-ha-az]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ha.html#availability-zones [anchor-az]: #availability-zones [anchor-ceph-pool-type]: #ceph-pool-type [anchor-ceph-backed-storage]: #ceph-backed-storage [anchor-local-cinder-storage]: #local-cinder-storage [anchor-rbd-nova-images]: #rbd-nova-images [anchor-rbd-cinder]: #rbd-cinder-volumes [upstream-volume-boot]: https://docs.openstack.org/nova/latest/user/launch-instance-from-volume.html [lp-bug-1468871]: https://bugs.launchpad.net/charms/+source/nova-cloud-controller/+bug/1468871",5,313
openstack%2Fcharm-glance~master~I7f6b7dc4b7d48e8f61621a32bfcee522cde3f01b,openstack/charm-glance,master,I7f6b7dc4b7d48e8f61621a32bfcee522cde3f01b,docs: switch to charmhub managed documentation,NEW,2023-05-05 08:22:53.000000000,2023-06-27 19:42:57.000000000,,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2023-05-05 08:22:53.000000000', 'files': ['metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/f1725c0c0547ecc178836502e6746f0bf4a9f85c', 'message': 'docs: switch to charmhub managed documentation\n\nRedux the README.md in the repository to refer to the charmhub\ndiscourse managed documentation.\n\nUpdate metadata to reference the discourse topic that references\nthe index of the charm documentation.\n\nChange-Id: I7f6b7dc4b7d48e8f61621a32bfcee522cde3f01b\n'}]",1,882386,f1725c0c0547ecc178836502e6746f0bf4a9f85c,5,4,1,12549,,,0,"docs: switch to charmhub managed documentation

Redux the README.md in the repository to refer to the charmhub
discourse managed documentation.

Update metadata to reference the discourse topic that references
the index of the charm documentation.

Change-Id: I7f6b7dc4b7d48e8f61621a32bfcee522cde3f01b
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/86/882386/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.yaml', 'README.md']",2,f1725c0c0547ecc178836502e6746f0bf4a9f85c,discourse-readme,"# glance The glance charm deploys Glance, the core OpenStack service that provides an image management service. The charm works alongside other Juju-deployed OpenStack services. The charm's documentation is viewed on [Charmhub][charm-docs] and its bugs are tracked on [Launchpad][charm-bugs].[charm-docs]: https://charmhub.io/glance [charm-bugs]: https://bugs.launchpad.net/charm-glance/+filebug","# Overview The glance charm deploys [Glance][upstream-glance], the core OpenStack service that acts as the central repository for virtual machine (VM) images. The charm works alongside other Juju-deployed OpenStack services. # Usage ## Configuration This section covers common and/or important configuration options. See file `config.yaml` for the full list of options, along with their descriptions and default values. See the [Juju documentation][juju-docs-config-apps] for details on configuring applications. #### `openstack-origin` The `openstack-origin` option states the software sources. A common value is an OpenStack UCA release (e.g. 'cloud:bionic-ussuri' or 'cloud:focal-victoria'). See [Ubuntu Cloud Archive][wiki-uca]. The underlying host's existing apt sources will be used if this option is not specified (this behaviour can be explicitly chosen by using the value of 'distro'). #### `pool-type` The `pool-type` option dictates the Ceph storage pool type. See sections 'Ceph pool type' and 'Ceph backed storage' for more information. ## Deployment This section includes five different deployment scenarios (with their respective backends). Each scenario requires these applications to be present: keystone, nova-cloud-controller, nova-compute, and a cloud database. > **Note**: The database application is determined by the series. Prior to focal [percona-cluster][percona-cluster-charm] is used, otherwise it is [mysql-innodb-cluster][mysql-innodb-cluster-charm]. In the example deployments below mysql-innodb-cluster has been chosen. ### Ceph-backed storage Ceph is the recommended storage backend solution for Glance. The steps below assume a pre-existing Ceph cluster (see the [ceph-mon][ceph-mon-charm] and [ceph-osd][ceph-osd-charm] charms). Here, Glance is deployed to a new container on machine '1' and related to the Ceph cluster via the ceph-mon charm: juju deploy --to lxd:1 glance juju add-relation glance:ceph ceph-mon:client Proceed with a group of commands common to all four scenarios: juju add-relation glance:identity-service keystone:identity-service juju add-relation glance:image-service nova-cloud-controller:image-service juju add-relation glance:image-service nova-compute:image-service juju deploy mysql-router glance-mysql-router juju add-relation glance-mysql-router:db-router mysql-innodb-cluster:db-router juju add-relation glance-mysql-router:shared-db glance:shared-db This configuration can be used to support Glance in HA/scale-out deployments. > **Note**: In this scenario Glance acts as a Ceph client, which requires L3 network connectivity to Ceph monitors and OSDs. For MAAS-based deployments this can be addressed with network spaces (see section 'Network spaces' below). ### Object storage-backed storage Glance can use Object storage as its storage backend. OpenStack Swift, Ceph RADOS Gateway, and external S3 are supported, and all resulting configurations can be used to support Glance in HA/scale-out deployments. #### Swift The steps below assume a pre-existing Swift deployment (see the [swift-proxy][swift-proxy-charm] and [swift-storage][swift-storage-charm] charms). Here, Glance is deployed to a new container on machine '1' and related to Swift via the swift-proxy charm: juju deploy --to lxd:1 glance juju add-relation glance:object-store swift-proxy:object-store Proceed with the common group of commands from the Ceph scenario. #### Ceph RADOS Gateway The steps below assume a pre-existing Ceph RADOS Gateway deployment (see the [ceph-radosgw][ceph-radosgw-charm] charm). Here, Glance is deployed to a new container on machine '1' and related to the ceph-radosgw application: juju deploy --to lxd:1 glance juju add-relation glance:object-store ceph-radosgw:object-store Proceed with the common group of commands from the Ceph scenario. #### External S3 The step below assumes an external and pre-existing S3 compatible server available. S3 server information can be passed via charm config options: juju config glance \ s3-store-host='http://my-object-storage.example.com:8080' \ s3-store-access-key='ACCESS_KEY' \ s3-store-secret-key='SECRET_KEY' \ s3-store-bucket='BUCKET_NAME' > **Note**: The S3 backend is supported starting with OpenStack Ussuri. Enabling S3 backend overrides `expose-image-locations` as false not to expose S3 credentials through Glance API. ### Cinder LVM-backed storage Glance can also use Cinder LVM-backed storage as its storage backend, the configuration option cinder-volume-types can be used to specify the volume types in Cinder. The steps below assume a pre-existing Cinder LVM-backed deployment (see the [cinder][cinder-charm] and [cinder-lvm][cinder-lvm-charm] charms). Here, Glance is deployed to machine '1' and related to Cinder: juju deploy --to 1 glance juju add-relation cinder:image-service glance:image-service juju add-relation cinder:cinder-volume-service glance:cinder-volume-service Proceed with the common group of commands from the Ceph scenario. > **Note**: To support Cinder LVM-backed storage, Glance unit should be deployed on a baremetal machine or a virtual machine. ### Local storage Glance can simply use the storage available on the application unit's machine to store image data. Here, Glance is deployed to a new container on machine '1': juju deploy --to lxd:1 glance Proceed with the common group of commands from the Ceph scenario. ## Multiple backends Multiple storage backend support allows for one backend of each type: * Ceph * Swift (includes Ceph RADOS Gateway) * S3 * Cinder * local With multiple backends configured, the cloud operator can specify, at image upload time, which backend will be used to store the image. This is done by using the `--store` option to the `glance` CLI client: glance image-create --store <backend-name> ... The default order of precedence is given by the following backend names: 'ceph', 'swift', 's3', 'cinder', and then 'local'. > **Important**: The backend name of 'swift' denotes both object storage solutions: Swift and Ceph RADOS Gateway. Only one of these solutions can therefore be used. ## Actions This section covers Juju [actions][juju-docs-actions] supported by the charm. Actions allow specific operations to be performed on a per-unit basis. To display action descriptions run `juju actions --schema glance`. If the charm is not deployed then see file `actions.yaml`. * `openstack-upgrade` * `pause` * `resume` * `security-checklist` ## Ceph pool type Ceph storage pools can be configured to ensure data resiliency either through replication or by erasure coding. This charm supports both types via the `pool-type` configuration option, which can take on the values of 'replicated' and 'erasure-coded'. The default value is 'replicated'. For this charm, the pool type will be associated with Glance images. > **Note**: Erasure-coded pools are supported starting with Ceph Luminous. ### Replicated pools Replicated pools use a simple replication strategy in which each written object is copied, in full, to multiple OSDs within the cluster. The `ceph-osd-replication-count` option sets the replica count for any object stored within the 'glance' rbd pool. Increasing this value increases data resilience at the cost of consuming more real storage in the Ceph cluster. The default value is '3'. > **Important**: The `ceph-osd-replication-count` option must be set prior to adding the relation to the ceph-mon (or ceph-proxy) application. Otherwise, the pool's configuration will need to be set by interfacing with the cluster directly. ### Erasure coded pools Erasure coded pools use a technique that allows for the same resiliency as replicated pools, yet reduces the amount of space required. Written data is split into data chunks and error correction chunks, which are both distributed throughout the cluster. > **Note**: Erasure coded pools require more memory and CPU cycles than replicated pools do. When using erasure coded pools for Glance images two pools will be created: a replicated pool (for storing RBD metadata) and an erasure coded pool (for storing the data written into the RBD). The `ceph-osd-replication-count` configuration option only applies to the metadata (replicated) pool. Erasure coded pools can be configured via options whose names begin with the `ec-` prefix. > **Important**: It is strongly recommended to tailor the `ec-profile-k` and `ec-profile-m` options to the needs of the given environment. These latter options have default values of '1' and '2' respectively, which result in the same space requirements as those of a replicated pool. See [Ceph Erasure Coding][cdg-ceph-erasure-coding] in the [OpenStack Charms Deployment Guide][cdg] for more information. ## Ceph BlueStore compression This charm supports [BlueStore inline compression][ceph-bluestore-compression] for its associated Ceph storage pool(s). The feature is enabled by assigning a compression mode via the `bluestore-compression-mode` configuration option. The default behaviour is to disable compression. The efficiency of compression depends heavily on what type of data is stored in the pool and the charm provides a set of configuration options to fine tune the compression behaviour. > **Note**: BlueStore compression is supported starting with Ceph Mimic. ## High availability When more than one unit is deployed with the [hacluster][hacluster-charm] application the charm will bring up an HA active/active cluster. There are two mutually exclusive high availability options: using virtual IP(s) or DNS. In both cases the hacluster subordinate charm is used to provide the Corosync and Pacemaker backend HA functionality. See [OpenStack high availability][cdg-ha-apps] in the [OpenStack Charms Deployment Guide][cdg] for details. > **Important**: Glance in an HA configuration must be backed by either Ceph or Swift. ## Glance metering Glance metering can be achieved with Ceilometer. The [rabbitmq-server][rabbitmq-server-charm] and [ceilometer-agent][ceilometer-agent-charm] applications are required to be present. Assuming Glance is deployed, add two relations: juju add-relation glance:amqp rabbitmq-server:amqp juju add-relation glance:amqp ceilometer-agent:amqp juju add-relation glance:juju-info ceilometer-agent:container ## Network spaces This charm supports the use of Juju [network spaces][juju-docs-spaces]. This feature optionally allows specific types of the application's network traffic to be bound to subnets that the underlying hardware is connected to. > **Note**: Spaces must be configured in the backing cloud prior to deployment. API endpoints can be bound to distinct network spaces supporting the network separation of public, internal and admin endpoints. Glance acts as a Ceph client and needs IP connectivity to Ceph monitors and OSDs. Binding the ceph endpoint to a space can solve this problem in case monitors and OSDs are located on a single L2 broadcast domain (if they are not, static or dynamic routes need to be used in addition to spaces). Access to the underlying MySQL instance can also be bound to a specific space using the shared-db relation. To use this feature, use the --bind option when deploying the charm: juju deploy glance --bind \ ""public=public-space \ internal=internal-space \ admin=admin-space \ shared-db=internal-space \ ceph=ceph-access-space"" Alternatively, these can also be provided as part of a juju native bundle configuration: ```yaml glance: charm: cs:xenial/glance num_units: 1 bindings: public: public-space admin: admin-space internal: internal-space shared-db: internal-space ceph: ceph-access-space ``` > **Note**: Existing glance units configured with the `os-admin-network`, `os-internal-network`, or `os-public-network` options will continue to honour them. Furthermore, these options override any space bindings, if set. ## Policy overrides Policy overrides is an advanced feature that allows an operator to override the default policy of an OpenStack service. The policies that the service supports, the defaults it implements in its code, and the defaults that a charm may include should all be clearly understood before proceeding. > **Caution**: It is possible to break the system (for tenants and other services) if policies are incorrectly applied to the service. Policy statements are placed in a YAML file. This file (or files) is then (ZIP) compressed into a single file and used as an application resource. The override is then enabled via a Boolean charm option. Here are the essential commands (filenames are arbitrary): zip overrides.zip override-file.yaml juju attach-resource glance policyd-override=overrides.zip juju config glance use-policyd-override=true See [Policy overrides][cdg-appendix-n] in the [OpenStack Charms Deployment Guide][cdg] for a thorough treatment of this feature. # Documentation The OpenStack Charms project maintains two documentation guides: * [OpenStack Charm Guide][cg]: for project information, including development and support notes * [OpenStack Charms Deployment Guide][cdg]: for charm usage information # Bugs Please report bugs on [Launchpad][lp-bugs-charm-glance].[cg]: https://docs.openstack.org/charm-guide [cdg]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide [cdg-appendix-n]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-policy-overrides.html [lp-bugs-charm-glance]: https://bugs.launchpad.net/charm-glance/+filebug [hacluster-charm]: https://jaas.ai/hacluster [ceph-mon-charm]: https://jaas.ai/ceph-mon [ceph-osd-charm]: https://jaas.ai/ceph-osd [ceph-radosgw-charm]: https://jaas.ai/ceph-radosgw [swift-proxy-charm]: https://jaas.ai/swift-proxy [swift-storage-charm]: https://jaas.ai/swift-storage [percona-cluster-charm]: https://jaas.ai/percona-cluster [mysql-innodb-cluster-charm]: https://jaas.ai/mysql-innodb-cluster [rabbitmq-server-charm]: https://jaas.ai/rabbitmq-server [ceilometer-agent-charm]: https://jaas.ai/ceilometer-agent [cdg-ha-apps]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-ha.html#ha-applications [juju-docs-spaces]: https://juju.is/docs/spaces [wiki-uca]: https://wiki.ubuntu.com/OpenStack/CloudArchive [juju-docs-config-apps]: https://juju.is/docs/configuring-applications [cdg-ceph-erasure-coding]: https://docs.openstack.org/project-deploy-guide/charm-deployment-guide/latest/app-erasure-coding.html [ceph-bluestore-compression]: https://docs.ceph.com/en/latest/rados/configuration/bluestore-config-ref/#inline-compression [upstream-glance]: https://docs.openstack.org/glance/latest/ [juju-docs-actions]: https://jaas.ai/docs/actions [cinder-charm]: https://jaas.ai/cinder [cinder-lvm-charm]: https://jaas.ai/cinder-lvm",6,378
openstack%2Fproject-config~master~I3612861349fb923806815eca1616d29529ba8385,openstack/project-config,master,I3612861349fb923806815eca1616d29529ba8385,Add starlingx/virtual-deployment,MERGED,2023-06-27 14:17:36.000000000,2023-06-27 19:37:10.000000000,2023-06-27 19:25:38.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 28739}]","[{'number': 1, 'created': '2023-06-27 14:17:36.000000000', 'files': ['gerrit/acls/starlingx/virtual-deployment.config', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3f43d30bd7af34c7970f6c0c25d390b7568b56dd', 'message': 'Add starlingx/virtual-deployment\n\nInitial repository code extracted from ""deployment/"" in starlingx/tools,\nwith git history.\n\nStory: 2010807\nTask: 48292\n\nChange-Id: I3612861349fb923806815eca1616d29529ba8385\nSigned-off-by: Davlet Panech <davlet.panech@windriver.com>\n'}]",6,887070,3f43d30bd7af34c7970f6c0c25d390b7568b56dd,15,4,1,31683,,,0,"Add starlingx/virtual-deployment

Initial repository code extracted from ""deployment/"" in starlingx/tools,
with git history.

Story: 2010807
Task: 48292

Change-Id: I3612861349fb923806815eca1616d29529ba8385
Signed-off-by: Davlet Panech <davlet.panech@windriver.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/887070/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/starlingx/virtual-deployment.config', 'gerrit/projects.yaml', 'zuul/main.yaml']",3,3f43d30bd7af34c7970f6c0c25d390b7568b56dd,stx-virtual-deployment, - starlingx/virtual-deployment,,25,0
openstack%2Fnova~stable%2Fxena~Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,openstack/nova,stable/xena,Ieef773453ed9f3ced564c1a352fbefbcc6a653ec,Reproduce live migration rollback w/o multi port bindings error,MERGED,2022-05-25 18:51:48.000000000,2023-06-27 19:25:38.000000000,2023-06-27 19:24:23.000000000,"[{'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-25 18:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db046f7947bdd25d2b6fdd2599374c62b4ac6dc3', 'message': 'Reproduce live migration rollback w/o multi port bindings error\n\nWhen the libvirt driver does live migration rollback of an instance\nwith network interfaces, it unconditionally refers to\nmigrate_data.vifs. These will only be set when Neutron has the\nmultiple port bindings extension. We don\'t handle the case of the\nextension not being present, and currently the rollback will fail with\na ""NotImplementedError: Cannot load \'vifs\' in the base class"" error.\n\nRelated-bug: 1969980\nChange-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec\n(cherry picked from commit 5181bae923bdae2b536affc87d39ddf2c5f7835d)\n(cherry picked from commit 2be1570c96697bdb917a086ccdc5a05d3d21e9db)\n'}, {'number': 2, 'created': '2022-05-26 14:50:15.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1888395.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/acd8edfb5a75c633b21ede56e2888691845d9113', 'message': 'Reproduce live migration rollback w/o multi port bindings error\n\nWhen the libvirt driver does live migration rollback of an instance\nwith network interfaces, it unconditionally refers to\nmigrate_data.vifs. These will only be set when Neutron has the\nmultiple port bindings extension. We don\'t handle the case of the\nextension not being present, and currently the rollback will fail with\na ""NotImplementedError: Cannot load \'vifs\' in the base class"" error.\n\nNOTE(artom) has_port_binding_extension() replaced with\nsupports_port_binding_extension to fit the stable/xena method name.\n\nRelated-bug: 1969980\nChange-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec\n(cherry picked from commit 5181bae923bdae2b536affc87d39ddf2c5f7835d)\n(cherry picked from commit 2be1570c96697bdb917a086ccdc5a05d3d21e9db)\n'}]",5,843336,acd8edfb5a75c633b21ede56e2888691845d9113,21,3,2,8864,,,0,"Reproduce live migration rollback w/o multi port bindings error

When the libvirt driver does live migration rollback of an instance
with network interfaces, it unconditionally refers to
migrate_data.vifs. These will only be set when Neutron has the
multiple port bindings extension. We don't handle the case of the
extension not being present, and currently the rollback will fail with
a ""NotImplementedError: Cannot load 'vifs' in the base class"" error.

NOTE(artom) has_port_binding_extension() replaced with
supports_port_binding_extension to fit the stable/xena method name.

Related-bug: 1969980
Change-Id: Ieef773453ed9f3ced564c1a352fbefbcc6a653ec
(cherry picked from commit 5181bae923bdae2b536affc87d39ddf2c5f7835d)
(cherry picked from commit 2be1570c96697bdb917a086ccdc5a05d3d21e9db)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/843336/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1888395.py'],1,db046f7947bdd25d2b6fdd2599374c62b4ac6dc3,bug/1969980,"class TestLiveMigrationWithoutMultiplePortBindingsBase( libvirt_base.ServersTestBase): class TestLiveMigrationWithoutMultiplePortBindings( TestLiveMigrationWithoutMultiplePortBindingsBase): """"""Regression test for bug 1888395. This regression test asserts that Live migration works when neutron does not support the binding-extended api extension and the legacy single port binding workflow is used. """""" class TestLiveMigrationRollbackWithoutMultiplePortBindings( TestLiveMigrationWithoutMultiplePortBindingsBase): def _migrate_stub(self, domain, destination, params, flags): source = self.computes['start_host'] conn = source.driver._host.get_connection() dom = conn.lookupByUUIDString(self.server['id']) dom.fail_job() def test_live_migration_rollback(self): self.server = self._create_server( host='start_host', networks=[{'port': self.neutron.port_1['id']}]) self.assertFalse( self.neutron_api.has_port_binding_extension(self.ctxt)) # FIXME(artom) Until bug 1969980 is fixed, this will fail with a # NotImplementedError. self._live_migrate(self.server, migration_expected_state='error', server_expected_state='ERROR') server = self.api.get_server(self.server['id']) self.assertIn( ""NotImplementedError: Cannot load 'vifs' in the base class"", server['fault']['details'] )","class TestLiveMigrationWithoutMultiplePortBindings( libvirt_base.ServersTestBase): """"""Regression test for bug 1888395. This regression test asserts that Live migration works when neutron does not support the binding-extended api extension and the legacy single port binding workflow is used. """"""",38,7
openstack%2Fneutron-lib~master~I9bad07d8ed11796047883f87b45a7da0799cdcb1,openstack/neutron-lib,master,I9bad07d8ed11796047883f87b45a7da0799cdcb1,Add short warning about UUIDs in the SG rule templates api,MERGED,2023-06-26 08:48:59.000000000,2023-06-27 18:52:04.000000000,2023-06-27 18:50:58.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 08:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/49fe8645a9c925f42aeb900a4fbbe3fd1c230166', 'message': ""Add short warning about UUIDs in the SG rule templates api\n\nSG rule template API accepts any string (any uuid) as remote group id or\nremote address group id. It may be something what's not existing in the\ntime of the creation of template and that's fine. But if it will be not\nexisting when regular SG will be created for project it will fail making\nSG for that project.\nThis patch adds small warning about this to the default SG rules\ntemplate api-ref.\n\nRelated-Bug: #1983053\nChange-Id: I9bad07d8ed11796047883f87b45a7da0799cdcb1\n""}, {'number': 2, 'created': '2023-06-27 12:52:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/493a92cf8ec1e2a46dd950334f9a652300f0be12', 'message': 'Add short warning about UUIDs in the SG rule templates api\n\nSG rule template API accepts any string (any uuid) as remote group id or\nremote address group id. It may be something what\'s not existing in the\ntime of the creation of template and that\'s fine. But if it will be not\nexisting when regular SG will be created for project it will fail making\nSG for that project.\nThis patch adds small warning about this to the default SG rules\ntemplate api-ref.\n\nAdditionally this patch updated some small issues in the ""create\ndefault security group rule"" section.\n\nRelated-Bug: #1983053\nChange-Id: I9bad07d8ed11796047883f87b45a7da0799cdcb1\n'}, {'number': 3, 'created': '2023-06-27 14:44:35.000000000', 'files': ['api-ref/source/v2/security_groups_default_rules.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c965b1892f71c286a8a1c9f1df25447aeef53943', 'message': 'Add short warning about UUIDs in the SG rule templates api\n\nSG rule template API accepts any string (any uuid) as remote group id or\nremote address group id. It may be something what\'s not existing in the\ntime of the creation of template and that\'s fine. But if it will be not\nexisting when regular SG will be created for project it will fail making\nSG for that project.\nThis patch adds small warning about this to the default SG rules\ntemplate api-ref.\n\nAdditionally this patch updated some small issues in the ""create\ndefault security group rule"" section.\n\nRelated-Bug: #1983053\nChange-Id: I9bad07d8ed11796047883f87b45a7da0799cdcb1\n'}]",10,886949,c965b1892f71c286a8a1c9f1df25447aeef53943,20,4,3,11975,,,0,"Add short warning about UUIDs in the SG rule templates api

SG rule template API accepts any string (any uuid) as remote group id or
remote address group id. It may be something what's not existing in the
time of the creation of template and that's fine. But if it will be not
existing when regular SG will be created for project it will fail making
SG for that project.
This patch adds small warning about this to the default SG rules
template api-ref.

Additionally this patch updated some small issues in the ""create
default security group rule"" section.

Related-Bug: #1983053
Change-Id: I9bad07d8ed11796047883f87b45a7da0799cdcb1
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/49/886949/3 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/security_groups_default_rules.inc'],1,49fe8645a9c925f42aeb900a4fbbe3fd1c230166,bug/1983053,".. warning:: Security rule templates API do not validate UUID of the resources like ``remote address group id`` or ``remote group ID``. Any string can be provided there but please note that it will be used to create real security group rules for projects and if uuid of the non existing ``security group`` or ``remote address group`` will be set there, it will cause errors during creation of the security groups. ",,9,0
openstack%2Fswift~master~I6501284e8b749be4efd4e3257945b56933c619d2,openstack/swift,master,I6501284e8b749be4efd4e3257945b56933c619d2,Fix sharder.sharding.completed timing metric,ABANDONED,2023-05-19 05:53:04.000000000,2023-06-27 18:19:16.000000000,,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 05:53:04.000000000', 'files': ['swift/common/utils/__init__.py', 'test/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/909052c881efac96c487ca7d3f11e126cf86c10c', 'message': 'Fix sharder.sharding.completed timing metric\n\nWhen a sharder finishes sharding it using the epoch Timestamp to\ncalculate how long it took to complete sharding. But the\nlogger.timing_since method takes a float (time.time()) not a timestamp.\nThis causes tracebacks with:\n\n  return self.timing(metric, (time.time() - orig_time) * 1000,#012\n  TypeError: unsupported operand type(s) for -: \'float\' and \'Timestamp\'\n\nIn a python shell we can see this:\n\n  from swift.common.utils import Timestamp\n  ts = Timestamp.now()\n  ts\n  1684474287.80183_0000000000000000\n  time.time() - ts\n  Traceback (most recent call last):\n    File ""<string>"", line 1, in <module>\n    TypeError: unsupported operand type(s) for -: \'float\' and \'Timestamp\'\n  time.time() - float(ts)\n  19.668439626693726\n\nThis patch makes the timing_since method support support Timestamp\nobjects.\n\nChange-Id: I6501284e8b749be4efd4e3257945b56933c619d2\n'}]",5,883636,909052c881efac96c487ca7d3f11e126cf86c10c,9,2,1,7233,,,0,"Fix sharder.sharding.completed timing metric

When a sharder finishes sharding it using the epoch Timestamp to
calculate how long it took to complete sharding. But the
logger.timing_since method takes a float (time.time()) not a timestamp.
This causes tracebacks with:

  return self.timing(metric, (time.time() - orig_time) * 1000,#012
  TypeError: unsupported operand type(s) for -: 'float' and 'Timestamp'

In a python shell we can see this:

  from swift.common.utils import Timestamp
  ts = Timestamp.now()
  ts
  1684474287.80183_0000000000000000
  time.time() - ts
  Traceback (most recent call last):
    File ""<string>"", line 1, in <module>
    TypeError: unsupported operand type(s) for -: 'float' and 'Timestamp'
  time.time() - float(ts)
  19.668439626693726

This patch makes the timing_since method support support Timestamp
objects.

Change-Id: I6501284e8b749be4efd4e3257945b56933c619d2
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/883636/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils/__init__.py', 'test/unit/common/test_utils.py']",2,909052c881efac96c487ca7d3f11e126cf86c10c,sharder.sharding.completed_as_float," # Timestamp objects work too self.assertStatMatches(r'pfx\.another\.op:\d+\.\d+\|ms|@0.972', self.logger.timing_since, 'another.op', utils.Timestamp.now(), sample_rate=0.972) # Timestamp objects work too self.assertStatMatches(r'pfx\.another\.op:\d+\.\d+\|ms|@0.9912', self.logger.timing_since, 'another.op', utils.Timestamp.now(), sample_rate=0.9912) # Timestamp objects work too self.assertStatMatches( r'alpha\.beta\.pfx\.another\.op:\d+\.\d+\|ms', self.logger.timing_since, 'another.op', utils.Timestamp.now()) # Timestamp objects work too self.assertStatMatches( r'alpha\.beta\.another\.op:\d+\.\d+\|ms|@0.9912', self.logger.timing_since, 'another.op', utils.Timestamp.now(), sample_rate=0.9912)",,19,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I3974fdc2c64b0bceb0afbab497b9540a4fff1b3b,openstack/tripleo-heat-templates,stable/wallaby,I3974fdc2c64b0bceb0afbab497b9540a4fff1b3b,Setup internal undercloud registry during external_deploy_tasks_step0,NEW,2023-06-14 15:19:43.000000000,2023-06-27 18:05:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 30126}]","[{'number': 1, 'created': '2023-06-14 15:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1eec28923767904a8425368dff64bc62bc24afe2', 'message': 'TEST DNM: test container-image-prepare at step0\n\nChange-Id: I3974fdc2c64b0bceb0afbab497b9540a4fff1b3b\n'}, {'number': 2, 'created': '2023-06-15 06:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6189912faa1037fda975921e245fb2267e6625e5', 'message': 'TEST DNM: container-image-prepare as host_prep_tasks\n\nChange-Id: I3974fdc2c64b0bceb0afbab497b9540a4fff1b3b\n'}, {'number': 3, 'created': '2023-06-15 09:27:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/be6518c4c947be2b1632d24ef92ba9bf475fc304', 'message': 'TEST DNM: container-image-prepare as host_prep_tasks\n\nChange-Id: I3974fdc2c64b0bceb0afbab497b9540a4fff1b3b\n'}, {'number': 4, 'created': '2023-06-15 13:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/332c975b31e1252b22249deee31455069e83e7d7', 'message': 'TEST DNM: container-image-prepare as host_prep_tasks\n\nChange-Id: I3974fdc2c64b0bceb0afbab497b9540a4fff1b3b\n'}, {'number': 5, 'created': '2023-06-27 12:48:01.000000000', 'files': ['deployment/image-serve/image-serve-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c3a0076d1b8bad1ca994093b27f2511aebb0776', 'message': 'Setup internal undercloud registry during external_deploy_tasks_step0\n\nThis change is needed to allow services like frr (deployed via\npre_deploy_step_tasks) to have their images automatically pulled\nand saved to the internal registry before their deployment.\n\nWithout this change the frr container is not pulled/pushed to the\nundercloud registry and we need to explicitly add the external location\nvia ContainerFrrImage for things to work as expected.\n\nChange-Id: I3974fdc2c64b0bceb0afbab497b9540a4fff1b3b\n'}]",0,886105,4c3a0076d1b8bad1ca994093b27f2511aebb0776,12,2,5,30126,,,0,"Setup internal undercloud registry during external_deploy_tasks_step0

This change is needed to allow services like frr (deployed via
pre_deploy_step_tasks) to have their images automatically pulled
and saved to the internal registry before their deployment.

Without this change the frr container is not pulled/pushed to the
undercloud registry and we need to explicitly add the external location
via ContainerFrrImage for things to work as expected.

Change-Id: I3974fdc2c64b0bceb0afbab497b9540a4fff1b3b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/886105/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/container-image-prepare/container-image-prepare-baremetal-ansible.j2.yaml'],1,1eec28923767904a8425368dff64bc62bc24afe2,, - (step | int) == 0, - (step | int) == 1,1,1
openstack%2Fopenstack-ansible-ceph_client~stable%2F2023.1~I711b32a5951357b726c4b4b64e534bcd72e6c4f4,openstack/openstack-ansible-ceph_client,stable/2023.1,I711b32a5951357b726c4b4b64e534bcd72e6c4f4,Fix permissions for ceph cache directories,MERGED,2023-06-20 09:46:37.000000000,2023-06-27 17:48:39.000000000,2023-06-27 17:46:57.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-20 09:46:37.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/2033641331875630624c0b3ddb005b1570d01946', 'message': 'Fix permissions for ceph cache directories\n\nThese difrectories very specific permissions to match up with the user\nand group membership.\n\nChange-Id: I711b32a5951357b726c4b4b64e534bcd72e6c4f4\n(cherry picked from commit e819854b0ff280c60f806c2e0e99eca50fea3110)\n'}]",0,886471,2033641331875630624c0b3ddb005b1570d01946,8,3,1,25023,,,0,"Fix permissions for ceph cache directories

These difrectories very specific permissions to match up with the user
and group membership.

Change-Id: I711b32a5951357b726c4b4b64e534bcd72e6c4f4
(cherry picked from commit e819854b0ff280c60f806c2e0e99eca50fea3110)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/71/886471/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,2033641331875630624c0b3ddb005b1570d01946,,"ceph_immutable_object_cache_mode: ""0775""ceph_persistent_write_log_cache_mode: ""0775""","ceph_immutable_object_cache_mode: ""0755""ceph_persistent_write_log_cache_mode: ""0755""",2,2
openstack%2Fopenstack-ansible-ceph_client~stable%2F2023.1~Icfc16ca25f0b6b45a0de0bcdf4eac71ab302a120,openstack/openstack-ansible-ceph_client,stable/2023.1,Icfc16ca25f0b6b45a0de0bcdf4eac71ab302a120,Fix retrievement keyrings from files,MERGED,2023-06-20 12:32:56.000000000,2023-06-27 17:47:54.000000000,2023-06-27 17:46:56.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-20 12:32:56.000000000', 'files': ['tasks/ceph_get_keyrings_from_files.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/d5ba1e95bc55a1ad88759b4d2cadd377b94a4abf', 'message': 'Fix retrievement keyrings from files\n\nWith [1] usage of custom owner/group has been introduced. It\nconverted client to be a list of mappings but it was missed in 1 place.\n\n[1] https://opendev.org/openstack/openstack-ansible-ceph_client/commit/fdd2aaa00b3753b393be5768f730f58d0a1e3b04\nCloses-Bug: #2024339\n\nChange-Id: Icfc16ca25f0b6b45a0de0bcdf4eac71ab302a120\n(cherry picked from commit d9c1289b7a88794e75b4e47aa7a54669be4b1dfa)\n'}]",0,886477,d5ba1e95bc55a1ad88759b4d2cadd377b94a4abf,8,3,1,25023,,,0,"Fix retrievement keyrings from files

With [1] usage of custom owner/group has been introduced. It
converted client to be a list of mappings but it was missed in 1 place.

[1] https://opendev.org/openstack/openstack-ansible-ceph_client/commit/fdd2aaa00b3753b393be5768f730f58d0a1e3b04
Closes-Bug: #2024339

Change-Id: Icfc16ca25f0b6b45a0de0bcdf4eac71ab302a120
(cherry picked from commit d9c1289b7a88794e75b4e47aa7a54669be4b1dfa)
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/77/886477/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/ceph_get_keyrings_from_files.yml'],1,d5ba1e95bc55a1ad88759b4d2cadd377b94a4abf,," client['name']: lookup('file', ceph_keyrings_dir ~ '/' ~ client['name'] ~ '.keyring')"," client: lookup('file', ceph_keyrings_dir ~ '/' ~ client['name'] ~ '.keyring')",1,1
openstack%2Fopenstack-ansible-galera_server~master~I28c6a0e0b41d4d29c3e79e601de45ea373dee4fb,openstack/openstack-ansible-galera_server,master,I28c6a0e0b41d4d29c3e79e601de45ea373dee4fb,Add optional compression to mariabackup,MERGED,2023-06-15 14:21:34.000000000,2023-06-27 17:35:41.000000000,2023-06-27 17:34:41.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2023-06-15 14:21:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/afa7049f789f823ca20a845d4a044c1b618c7533', 'message': 'Add optional compression to mariabackup\n\nAs database backups can grow substantially in size, compressing backups\nhelps to preserve disk space.\nWhile the mariabackup utility offers no compression by itself, we can\nstream the backup into a compression tool to create an archive [1].\nThe xtrabackup_checkpoints file, which contains metadata on a backup,\ngets stored alongside the archive, allowing to create incremental\nbackups from non-compressed backups and vice-versa [2].\nOne thing to note, is that compressed backups cannot be prepared in\nadvance, this step must be manually carried out by the user.\nBackup compression is disabled by default and different compressors\ncan be chosen (zstd, xz, ...), with gzip being the default.\n\n[1] https://mariadb.com/kb/en/using-encryption-and-compression-tools-with-mariabackup/\n[2] https://mariadb.com/kb/en/incremental-backup-and-restore-with-mariabackup/#combining-with-stream-output\n\nChange-Id: I28c6a0e0b41d4d29c3e79e601de45ea373dee4fb\nSigned-off-by: Simon Hensel <simon.hensel@inovex.de>\n'}, {'number': 2, 'created': '2023-06-20 09:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/8a372ff1b1b097c56461326e878fc8e31a9809af', 'message': 'Add optional compression to mariabackup\n\nAs database backups can grow substantially in size, compressing backups\nhelps to preserve disk space.\nWhile the mariabackup utility offers no compression by itself, we can\nstream the backup into a compression tool to create an archive [1].\nThe xtrabackup_checkpoints file, which contains metadata on a backup,\ngets stored alongside the archive, allowing to create incremental\nbackups from non-compressed backups and vice-versa [2].\nOne thing to note, is that compressed backups cannot be prepared in\nadvance, this step must be manually carried out by the user.\nBackup compression is disabled by default and different compressors\ncan be chosen (zstd, xz, ...), with gzip being the default.\n\n[1] https://mariadb.com/kb/en/using-encryption-and-compression-tools-with-mariabackup/\n[2] https://mariadb.com/kb/en/incremental-backup-and-restore-with-mariabackup/#combining-with-stream-output\n\nChange-Id: I28c6a0e0b41d4d29c3e79e601de45ea373dee4fb\nSigned-off-by: Simon Hensel <simon.hensel@inovex.de>\n'}, {'number': 3, 'created': '2023-06-20 13:35:22.000000000', 'files': ['tasks/galera_server_backups.yml', 'defaults/main.yml', 'releasenotes/notes/mariabackup-compression-337b04c68f370c1d.yaml', 'templates/mariabackup_script.py.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-galera_server/commit/60009ed7cebe9c082592fd564b1577068ef94b6c', 'message': 'Add optional compression to mariabackup\n\nAs database backups can grow substantially in size, compressing backups\nhelps to preserve disk space.\nWhile the mariabackup utility offers no compression by itself, we can\nstream the backup into a compression tool to create an archive [1].\nThe xtrabackup_checkpoints file, which contains metadata on a backup,\ngets stored alongside the archive, allowing to create incremental\nbackups from non-compressed backups and vice-versa [2].\nOne thing to note, is that compressed backups cannot be prepared in\nadvance, this step must be manually carried out by the user.\nBackup compression is disabled by default and different compressors\ncan be chosen (zstd, xz, ...), with gzip being the default.\n\n[1] https://mariadb.com/kb/en/using-encryption-and-compression-tools-with-mariabackup/\n[2] https://mariadb.com/kb/en/incremental-backup-and-restore-with-mariabackup/#combining-with-stream-output\n\nChange-Id: I28c6a0e0b41d4d29c3e79e601de45ea373dee4fb\nSigned-off-by: Simon Hensel <simon.hensel@inovex.de>\n'}]",17,886180,60009ed7cebe9c082592fd564b1577068ef94b6c,23,4,3,34150,,,0,"Add optional compression to mariabackup

As database backups can grow substantially in size, compressing backups
helps to preserve disk space.
While the mariabackup utility offers no compression by itself, we can
stream the backup into a compression tool to create an archive [1].
The xtrabackup_checkpoints file, which contains metadata on a backup,
gets stored alongside the archive, allowing to create incremental
backups from non-compressed backups and vice-versa [2].
One thing to note, is that compressed backups cannot be prepared in
advance, this step must be manually carried out by the user.
Backup compression is disabled by default and different compressors
can be chosen (zstd, xz, ...), with gzip being the default.

[1] https://mariadb.com/kb/en/using-encryption-and-compression-tools-with-mariabackup/
[2] https://mariadb.com/kb/en/incremental-backup-and-restore-with-mariabackup/#combining-with-stream-output

Change-Id: I28c6a0e0b41d4d29c3e79e601de45ea373dee4fb
Signed-off-by: Simon Hensel <simon.hensel@inovex.de>
",git fetch https://review.opendev.org/openstack/openstack-ansible-galera_server refs/changes/80/886180/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/galera_server_backups.yml', 'defaults/main.yml', 'templates/mariabackup_script.py.j2']",3,afa7049f789f823ca20a845d4a044c1b618c7533,mariabackup_compression,"from subprocess import Popen, PIPE, check_output, run ""--compress"", dest=""compress_flag"", default=False, type=eval, choices=[True, False], help=""Flag to compress created backups"", ) parser.add_argument( ""--compressor"", dest=""compressor"", default=""gzip"", type=str, help=""The compressor to use when compressing backups (default: gzip)"", ) parser.add_argument(def create_full_backup(dest, curtime, full_backup_filename, extra_mariabackup_args, compress, compressor): if compress: #Creating compressed full backup os.makedirs(dest+""/""+full_backup_filename+curtime, exist_ok=True) mariabackup_run = Popen( [""/usr/bin/mariabackup""] + extra_mariabackup_args + [""--backup"", ""--stream=xbstream"", ""--extra-lsndir=""+os.path.normpath(dest+""/""+full_backup_filename+curtime)], stdout=PIPE, stderr=err ) compressed_backup = open(os.path.normpath(dest+""/""+full_backup_filename+curtime+""/""+full_backup_filename+curtime), ""wb"") run([compressor], stdin=mariabackup_run.stdout, stdout=compressed_backup) mariabackup_run.wait() mariabackup_res = mariabackup_run.communicate() if mariabackup_run.returncode: print(mariabackup_res[1]) compressed_backup.close() else: err = open(os.path.normpath(dest+""/backup.log""), ""w"") #Creating full backup mariabackup_run = Popen( [""/usr/bin/mariabackup""] + extra_mariabackup_args + [""--backup"", ""--target-dir=""+os.path.normpath(dest+""/""+full_backup_filename+curtime)], stdout=None, stderr=err ) mariabackup_run.wait() mariabackup_res = mariabackup_run.communicate() if mariabackup_run.returncode: print(mariabackup_res[1]) #Preparing full backup err_p = open(os.path.normpath(dest+""/prepare.log""), ""w"") mariabackup_prep = Popen( [""/usr/bin/mariabackup""] + extra_mariabackup_args + [""--prepare"", ""--target-dir=""+os.path.normpath(dest+""/""+full_backup_filename+curtime)], stdout=None, stderr=err_p ) mariabackup_prep.wait() mariabackup_prep_res = mariabackup_prep.communicate() if mariabackup_prep.returncode: print(mariabackup_prep_res[1]) err_p.close()def create_increment_backup(dest, curtime, increment_backup_filename, extra_mariabackup_args, compress, compressor): if compress: #Creating compressed incremental backup os.makedirs(dest+""/""+increment_backup_filename+curtime, exist_ok=True) mariabackup_run = Popen( [""/usr/bin/mariabackup""] + extra_mariabackup_args + [""--backup"", ""--stream=xbstream"", ""--incremental-basedir=""+basedir, ""--extra-lsndir=""+os.path.normpath(dest+""/""+increment_backup_filename+curtime)], stdout=PIPE, stderr=err ) compressed_backup = open(os.path.normpath(dest+""/""+increment_backup_filename+curtime+""/""+increment_backup_filename+curtime), ""wb"") run([compressor], stdin=mariabackup_run.stdout, stdout=compressed_backup) mariabackup_run.wait() mariabackup_res = mariabackup_run.communicate() if mariabackup_run.returncode: print(mariabackup_res[1]) compressed_backup.close() else: err = open(os.path.normpath(dest+""/increment.err""), ""w"") #Creating incremental backup mariabackup_run = Popen( [""/usr/bin/mariabackup""] + extra_mariabackup_args + [""--backup"", ""--target-dir=""+os.path.normpath(dest+""/""+increment_backup_filename+curtime), ""--incremental-basedir=""+basedir], stdout=None, stderr=err ) mariabackup_run.wait() mariabackup_res = mariabackup_run.communicate() if mariabackup_run.returncode: print(mariabackup_res[1]) create_full_backup(opts.destdir, curtime, full_backup_filename, extra_mariabackup_args, opts.compress_flag, opts.compressor) create_increment_backup(opts.destdir, curtime, increment_backup_filename, extra_mariabackup_args, opts.compress_flag, opts.compressor)","from subprocess import Popen, PIPEimport socketdef create_full_backup(dest, curtime, full_backup_filename, extra_mariabackup_args): #Creating full backup mariabackup_run = Popen( [""/usr/bin/mariabackup""] + extra_mariabackup_args + [""--backup"", ""--target-dir=""+os.path.normpath(dest+""/""+full_backup_filename+curtime)], stdout=None, stderr=err ) mariabackup_run.wait() mariabackup_res = mariabackup_run.communicate() if mariabackup_run.returncode: print(mariabackup_res[1]) #Preparing full backup err_p = open(os.path.normpath(dest+""/prepare.log""), ""w"") mariabackup_prep = Popen( [""/usr/bin/mariabackup""] + extra_mariabackup_args + [""--prepare"", ""--target-dir=""+os.path.normpath(dest+""/""+full_backup_filename+curtime)], stdout=None, stderr=err_p ) mariabackup_prep.wait() mariabackup_prep_res = mariabackup_prep.communicate() if mariabackup_prep.returncode: print(mariabackup_prep_res[1]) err_p.close()def create_increment_backup(dest, curtime, increment_backup_filename, extra_mariabackup_args): #Creating incremental backup mariabackup_run = Popen( [""/usr/bin/mariabackup""] + extra_mariabackup_args + [""--backup"", ""--target-dir=""+os.path.normpath(dest+""/""+increment_backup_filename+curtime), ""--incremental-basedir=""+basedir], stdout=None, stderr=err ) mariabackup_run.wait() mariabackup_res = mariabackup_run.communicate() if mariabackup_run.returncode: print(mariabackup_res[1]) create_full_backup(opts.destdir, curtime, full_backup_filename, extra_mariabackup_args) create_increment_backup(opts.destdir, curtime, increment_backup_filename, extra_mariabackup_args)",80,32
openstack%2Fswift~master~I02591038a089ce43684f0245665349e40381d75a,openstack/swift,master,I02591038a089ce43684f0245665349e40381d75a,obj: Close replicator/reconstructor connections,NEW,2023-06-23 19:09:01.000000000,2023-06-27 17:33:15.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-23 19:09:01.000000000', 'files': ['swift/obj/replicator.py', 'swift/obj/reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/fa088eb72d17aa37e72ce479411a48ea70e4d92e', 'message': 'obj: Close replicator/reconstructor connections\n\nChange-Id: I02591038a089ce43684f0245665349e40381d75a\n'}]",2,886868,fa088eb72d17aa37e72ce479411a48ea70e4d92e,5,1,1,15343,,,0,"obj: Close replicator/reconstructor connections

Change-Id: I02591038a089ce43684f0245665349e40381d75a
",git fetch https://review.opendev.org/openstack/swift refs/changes/68/886868/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/replicator.py', 'swift/obj/reconstructor.py']",2,fa088eb72d17aa37e72ce479411a48ea70e4d92e,," conn = None conn = http_connect( '', headers=headers) resp = conn.getresponse() finally: if conn: conn.close()"," resp = http_connect( '', headers=headers).getresponse()",33,20
openstack%2Fkolla~master~I52c83428cf0c78b02e2ecd7921cf896acd6b0936,openstack/kolla,master,I52c83428cf0c78b02e2ecd7921cf896acd6b0936,keepalived: remove legacy check_alive.sh entry,MERGED,2023-06-27 09:01:01.000000000,2023-06-27 17:14:05.000000000,2023-06-27 17:12:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 27339}]","[{'number': 1, 'created': '2023-06-27 09:01:01.000000000', 'files': ['docker/keepalived/check_alive.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/89fafba669b6b8a130100b6ef1e20e26cabd5993', 'message': 'keepalived: remove legacy check_alive.sh entry\n\nChange-Id: I52c83428cf0c78b02e2ecd7921cf896acd6b0936\n'}]",2,887025,89fafba669b6b8a130100b6ef1e20e26cabd5993,14,3,1,22629,,,0,"keepalived: remove legacy check_alive.sh entry

Change-Id: I52c83428cf0c78b02e2ecd7921cf896acd6b0936
",git fetch https://review.opendev.org/openstack/kolla refs/changes/25/887025/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/keepalived/check_alive.sh'],1,89fafba669b6b8a130100b6ef1e20e26cabd5993,,,"else # Legacy single check of haproxy liveness # TODO(kevko): This can be removed after k-a part merges # https://review.opendev.org/c/openstack/kolla-ansible/+/770215 echo ""show info"" | socat unix-connect:/var/lib/kolla/haproxy/haproxy.sock stdio > /dev/null",0,5
openstack%2Fkolla-ansible~stable%2Fwallaby~Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7,openstack/kolla-ansible,stable/wallaby,Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7,Add keystone_authtoken.service_type,MERGED,2023-06-19 06:59:07.000000000,2023-06-27 16:42:26.000000000,2023-06-27 16:41:15.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-19 06:59:07.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'releasenotes/notes/fix-app-cred-access-rules-14b5dcfcd5a5669a.yaml', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9090418782e3df16c2753a06022f6de8fb4c20b7', 'message': ""Add keystone_authtoken.service_type\n\nFixes an issue where access rules failed to validate:\n\n    Cannot validate request with restricted access rules. Set\n    service_type in [keystone_authtoken] to allow access rule validation\n\nI've used the values from the endpoint. This was mostly a straight\nforward copy and paste, except:\n\n- versioned endpoints e.g cinderv3 where I stripped the version\n- monasca has multiple endpoints associated with a single service. For\n  this, I concatenated logging and monitoring to be logging-monitoring.\n\nCloses-Bug: #1965111\nChange-Id: Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7\n(cherry picked from commit 49006e56d99199b696bd762eb3167dbba42237e1)\n(cherry picked from commit 802fcb9ae939ce251304c2a41e7a76f7d3930fdf)\n""}]",5,886361,9090418782e3df16c2753a06022f6de8fb4c20b7,18,6,1,14200,,,0,"Add keystone_authtoken.service_type

Fixes an issue where access rules failed to validate:

    Cannot validate request with restricted access rules. Set
    service_type in [keystone_authtoken] to allow access rule validation

I've used the values from the endpoint. This was mostly a straight
forward copy and paste, except:

- versioned endpoints e.g cinderv3 where I stripped the version
- monasca has multiple endpoints associated with a single service. For
  this, I concatenated logging and monitoring to be logging-monitoring.

Closes-Bug: #1965111
Change-Id: Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7
(cherry picked from commit 49006e56d99199b696bd762eb3167dbba42237e1)
(cherry picked from commit 802fcb9ae939ce251304c2a41e7a76f7d3930fdf)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/61/886361/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'releasenotes/notes/fix-app-cred-access-rules-14b5dcfcd5a5669a.yaml', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",31,9090418782e3df16c2753a06022f6de8fb4c20b7,fix-app-cred-access-rules,service_type = key-manager,,36,0
openstack%2Fkolla-ansible~stable%2Fxena~Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7,openstack/kolla-ansible,stable/xena,Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7,Add keystone_authtoken.service_type,MERGED,2023-06-19 06:58:12.000000000,2023-06-27 16:42:20.000000000,2023-06-27 16:41:13.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 27339}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-19 06:58:12.000000000', 'files': ['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'releasenotes/notes/fix-app-cred-access-rules-14b5dcfcd5a5669a.yaml', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c9f1a6ec815c464e69d6fabede99f62e712bc710', 'message': ""Add keystone_authtoken.service_type\n\nFixes an issue where access rules failed to validate:\n\n    Cannot validate request with restricted access rules. Set\n    service_type in [keystone_authtoken] to allow access rule validation\n\nI've used the values from the endpoint. This was mostly a straight\nforward copy and paste, except:\n\n- versioned endpoints e.g cinderv3 where I stripped the version\n- monasca has multiple endpoints associated with a single service. For\n  this, I concatenated logging and monitoring to be logging-monitoring.\n\nCloses-Bug: #1965111\nChange-Id: Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7\n(cherry picked from commit 49006e56d99199b696bd762eb3167dbba42237e1)\n(cherry picked from commit 802fcb9ae939ce251304c2a41e7a76f7d3930fdf)\n""}]",0,886360,c9f1a6ec815c464e69d6fabede99f62e712bc710,10,6,1,14200,,,0,"Add keystone_authtoken.service_type

Fixes an issue where access rules failed to validate:

    Cannot validate request with restricted access rules. Set
    service_type in [keystone_authtoken] to allow access rule validation

I've used the values from the endpoint. This was mostly a straight
forward copy and paste, except:

- versioned endpoints e.g cinderv3 where I stripped the version
- monasca has multiple endpoints associated with a single service. For
  this, I concatenated logging and monitoring to be logging-monitoring.

Closes-Bug: #1965111
Change-Id: Ic4b3ab60abad8c3dd96cd4923a67f2a8f9d195d7
(cherry picked from commit 49006e56d99199b696bd762eb3167dbba42237e1)
(cherry picked from commit 802fcb9ae939ce251304c2a41e7a76f7d3930fdf)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/886360/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/tacker/templates/tacker.conf.j2', 'ansible/roles/ironic/templates/ironic.conf.j2', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/sahara/templates/sahara.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/heat/templates/heat.conf.j2', 'ansible/roles/masakari/templates/masakari.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/placement/templates/placement.conf.j2', 'ansible/roles/solum/templates/solum.conf.j2', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/nova/templates/nova.conf.j2', 'ansible/roles/senlin/templates/senlin.conf.j2', 'ansible/roles/mistral/templates/mistral.conf.j2', 'ansible/roles/glance/templates/glance-api.conf.j2', 'ansible/roles/monasca/templates/monasca-api/api.conf.j2', 'ansible/roles/zun/templates/zun.conf.j2', 'ansible/roles/murano/templates/murano.conf.j2', 'ansible/roles/vitrage/templates/vitrage.conf.j2', 'ansible/roles/watcher/templates/watcher.conf.j2', 'ansible/roles/magnum/templates/magnum.conf.j2', 'releasenotes/notes/fix-app-cred-access-rules-14b5dcfcd5a5669a.yaml', 'ansible/roles/ironic/templates/ironic-inspector.conf.j2', 'ansible/roles/neutron/templates/neutron.conf.j2', 'ansible/roles/trove/templates/trove.conf.j2', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/roles/octavia/templates/octavia.conf.j2', 'ansible/roles/manila/templates/manila.conf.j2', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2', 'ansible/roles/barbican/templates/barbican.conf.j2']",31,c9f1a6ec815c464e69d6fabede99f62e712bc710,fix-app-cred-access-rules,service_type = key-manager,,36,0
openstack%2Fcinder-tempest-plugin~master~If55723910a2afad93234ff7f0646ad8b3956e696,openstack/cinder-tempest-plugin,master,If55723910a2afad93234ff7f0646ad8b3956e696,DNM: Test cbak-ceph job,NEW,2023-06-23 14:18:25.000000000,2023-06-27 16:25:22.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-23 14:18:25.000000000', 'files': ['.zuul.yaml', 'cinder_tempest_plugin/api/volume/admin/test_volume_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/3f471594c876f862bf3e8d574417a6f9992d51f3', 'message': 'DNM: Test cbak-ceph job\n\nTrying to understand this failure:\nhttps://zuul.opendev.org/t/openstack/build/9ae84f5c86b54690925f26db290e713a\n\nChange-Id: If55723910a2afad93234ff7f0646ad8b3956e696\n'}]",6,886829,3f471594c876f862bf3e8d574417a6f9992d51f3,19,2,1,4523,,,0,"DNM: Test cbak-ceph job

Trying to understand this failure:
https://zuul.opendev.org/t/openstack/build/9ae84f5c86b54690925f26db290e713a

Change-Id: If55723910a2afad93234ff7f0646ad8b3956e696
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/29/886829/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'cinder_tempest_plugin/api/volume/admin/test_volume_backup.py']",2,3f471594c876f862bf3e8d574417a6f9992d51f3,," self.assertTrue(backup_usr['has_dependent_backups'], backup_usr)", self.assertTrue(backup_usr['has_dependent_backups']),1,25
openstack%2Fkeystone~master~I6ac5835fb64a4e81f34f7b8631d255b2bb7f66da,openstack/keystone,master,I6ac5835fb64a4e81f34f7b8631d255b2bb7f66da,Add doc of OAuth2.0 Client Credentials Grant Flow,MERGED,2022-04-15 09:56:53.000000000,2023-06-27 16:24:46.000000000,2023-06-27 16:23:30.000000000,"[{'_account_id': 2218}, {'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 31857}, {'_account_id': 32761}, {'_account_id': 33455}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-04-15 09:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/31f90ca8dde865ceae17aef6976ce9372f944f82', 'message': 'Add doc of OAuth2.0 Client Credentials Grant Flow\n\nThis patch provides Keystone documents for OAuth2.0 client\nauthorization. The specification about new API is added to API\nReference. Also OAuth2.0 client credentials grant flow is added to\nadmin guide.\n\nImplement: blueprint oauth2-client-credentials-ext\nChange-Id: I6ac5835fb64a4e81f34f7b8631d255b2bb7f66da\n'}, {'number': 2, 'created': '2022-06-28 00:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4b360836e30d77f27c1bbf213f1a7c0568e80c9d', 'message': 'Add doc of OAuth2.0 Client Credentials Grant Flow\n\nThis patch provides Keystone documents for OAuth2.0 client\nauthorization. The specification about new API is added to API\nReference. Also OAuth2.0 client credentials grant flow is added to\nadmin guide.\n\nImplement: blueprint oauth2-client-credentials-ext\nChange-Id: I6ac5835fb64a4e81f34f7b8631d255b2bb7f66da\n'}, {'number': 3, 'created': '2022-07-21 04:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/3fec3b863e144573dc4d9c17b541cf606d271561', 'message': 'Add doc of OAuth2.0 Client Credentials Grant Flow\n\nThis patch provides Keystone documents for OAuth2.0 client\nauthorization. The specification about new API is added to API\nReference. Also OAuth2.0 client credentials grant flow is added to\nadmin guide.\n\nImplement: blueprint oauth2-client-credentials-ext\nChange-Id: I6ac5835fb64a4e81f34f7b8631d255b2bb7f66da\n'}, {'number': 4, 'created': '2023-04-17 08:09:39.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/oauth2-usage-guide.rst', 'api-ref/source/v3-ext/oauth2.inc', 'api-ref/source/v3-ext/samples/OS-OAUTH2/token-create-request.txt', 'api-ref/source/v3-ext/samples/OS-OAUTH2/token-create-response.json', 'api-ref/source/v3-ext/index.rst', 'api-ref/source/v3-ext/parameters.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/b438bf1efe587fb57f2e92ee11779625f2f3da39', 'message': 'Add doc of OAuth2.0 Client Credentials Grant Flow\n\nThis patch provides Keystone documents for OAuth2.0 client\nauthorization. The specification about new API is added to API\nReference. Also OAuth2.0 client credentials grant flow is added to\nadmin guide.\n\nImplement: blueprint oauth2-client-credentials-ext\nChange-Id: I6ac5835fb64a4e81f34f7b8631d255b2bb7f66da\n'}]",51,838108,b438bf1efe587fb57f2e92ee11779625f2f3da39,28,11,4,33920,,,0,"Add doc of OAuth2.0 Client Credentials Grant Flow

This patch provides Keystone documents for OAuth2.0 client
authorization. The specification about new API is added to API
Reference. Also OAuth2.0 client credentials grant flow is added to
admin guide.

Implement: blueprint oauth2-client-credentials-ext
Change-Id: I6ac5835fb64a4e81f34f7b8631d255b2bb7f66da
",git fetch https://review.opendev.org/openstack/keystone refs/changes/08/838108/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/oauth2-usage-guide.rst', 'api-ref/source/v3-ext/oauth2.inc', 'api-ref/source/v3-ext/samples/OS-OAUTH2/token-create-request.txt', 'api-ref/source/v3-ext/samples/OS-OAUTH2/token-create-response.json', 'api-ref/source/v3-ext/index.rst', 'api-ref/source/v3-ext/parameters.yaml']",7,31f90ca8dde865ceae17aef6976ce9372f944f82,bp/oauth2-client-credentials-ext,"request_token_grant_type_body_required: description: | Value MUST be set to ""client_credentials"". in: body required: true type: string response_token_access_token_body: description: | The authentication token issued by the authorization server. in: body required: true type: string response_token_expires_in_body: description: | The lifetime in seconds of the access token. For example, the value ""3600"" denotes that the access token will expire in one hour from the time the response was generated. in: body required: true type: integer response_token_token_type_body: description: | The type of the token issued by the authorization server. Currently only the ""Bearer"" token type is supported. in: body required: true type: string",,370,1
openstack%2Fdevstack~stable%2Fyoga~I83fc9250ae5b7c1686938a0dd25d66b40fc6c6aa,openstack/devstack,stable/yoga,I83fc9250ae5b7c1686938a0dd25d66b40fc6c6aa,Fix installation of OVS/OVN from sources,MERGED,2023-05-09 19:51:04.000000000,2023-06-27 16:24:31.000000000,2023-06-27 16:23:28.000000000,"[{'_account_id': 4393}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-05-09 19:51:04.000000000', 'files': ['lib/neutron_plugins/ovn_agent', 'lib/neutron_plugins/ovs_source'], 'web_link': 'https://opendev.org/openstack/devstack/commit/31701cd0b5d6248dc15b0634b60bbc90eb964ad0', 'message': 'Fix installation of OVS/OVN from sources\n\nThis patch changes user who runs ovsdb-server and ovn-nortd services\nto root.\nIt also adds installation of the libssl dev package before compilation\nof the openvswitch if TLS service is enabled.\n\nCo-Authored-By: Fernando Royo <froyo@redhat.com>\n\nCloses-Bug: #1987832\nChange-Id: I83fc9250ae5b7c1686938a0dd25d66b40fc6c6aa\n(cherry picked from commit 3de92db6634a6d1455b7211ec869aed35508c58c)\n'}]",3,882529,31701cd0b5d6248dc15b0634b60bbc90eb964ad0,13,5,1,9656,,,0,"Fix installation of OVS/OVN from sources

This patch changes user who runs ovsdb-server and ovn-nortd services
to root.
It also adds installation of the libssl dev package before compilation
of the openvswitch if TLS service is enabled.

Co-Authored-By: Fernando Royo <froyo@redhat.com>

Closes-Bug: #1987832
Change-Id: I83fc9250ae5b7c1686938a0dd25d66b40fc6c6aa
(cherry picked from commit 3de92db6634a6d1455b7211ec869aed35508c58c)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/29/882529/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/neutron_plugins/ovn_agent', 'lib/neutron_plugins/ovs_source']",2,31701cd0b5d6248dc15b0634b60bbc90eb964ad0,bug/1987832-stable/yoga, if is_service_enabled tls-proxy; then install_package openssl-devel fi if is_service_enabled tls-proxy; then install_package libssl-dev fi,,8,2
openstack%2Fopenstack-ansible~stable%2F2023.1~I017d485f8efada23ffc35da635759ee0722f6dec,openstack/openstack-ansible,stable/2023.1,I017d485f8efada23ffc35da635759ee0722f6dec,Remove other releases from 2023.1 index page,MERGED,2023-05-31 18:07:08.000000000,2023-06-27 16:18:30.000000000,2023-06-27 16:16:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 32666}]","[{'number': 1, 'created': '2023-05-31 18:07:08.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2dffd36fa81f20464eddd77f4fbe3343eb7c79e8', 'message': 'Remove other releases from 2023.1 index page\n\nChange-Id: I017d485f8efada23ffc35da635759ee0722f6dec\n'}]",0,884921,2dffd36fa81f20464eddd77f4fbe3343eb7c79e8,8,3,1,28619,,,0,"Remove other releases from 2023.1 index page

Change-Id: I017d485f8efada23ffc35da635759ee0722f6dec
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/21/884921/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,2dffd36fa81f20464eddd77f4fbe3343eb7c79e8,,OpenStack-Ansible 2023.1 (Antelope) was first released with the 27.0.0 tag on 1 June 2023. Deployment guide <https://docs.openstack.org/project-deploy-guide/openstack-ansible/2023.1/> Release notes <https://docs.openstack.org/releasenotes/openstack-ansible/2023.1.html>,"Documentation for each of the following releases is available. 2023.1 (Antelope): Under Development ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible 2023.1 (Antelope) is currently Under Development. Deployment guide <https://docs.openstack.org/project-deploy-guide/openstack-ansible/latest/> Release notes <https://docs.openstack.org/releasenotes/openstack-ansible/unreleased.html> Zed: Maintained ~~~~~~~~~~~~~~~ OpenStack-Ansible Zed series was first released with the 26.0.0 tag on 14 December 2022. * `OpenStack-Ansible Zed Documentation`_ * `OpenStack-Ansible Zed series release notes`_ .. _OpenStack-Ansible Zed Documentation: https://docs.openstack.org/openstack-ansible/zed/ .. _OpenStack-Ansible Zed series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/zed.html Yoga: Maintained ~~~~~~~~~~~~~~~~ OpenStack-Ansible Yoga series was first released with the 25.0.0 tag on 27 June 2022. * `OpenStack-Ansible Yoga Documentation`_ * `OpenStack-Ansible Yoga series release notes`_ .. _OpenStack-Ansible Yoga Documentation: https://docs.openstack.org/openstack-ansible/yoga/ .. _OpenStack-Ansible Yoga series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/yoga.html Xena: Maintained ~~~~~~~~~~~~~~~~ OpenStack-Ansible Xena series was first released with the 24.0.0 tag on 10 December 2021. * `OpenStack-Ansible Xena Documentation`_ * `OpenStack-Ansible Xena series release notes`_ .. _OpenStack-Ansible Xena Documentation: https://docs.openstack.org/openstack-ansible/xena/ .. _OpenStack-Ansible Xena series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/xena.html Wallaby: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible Wallaby series was first released with the 23.0.0 tag on 02 July 2021. * `OpenStack-Ansible Wallaby Documentation`_ * `OpenStack-Ansible Wallaby series release notes`_ .. _OpenStack-Ansible Wallaby Documentation: https://docs.openstack.org/openstack-ansible/wallaby/ .. _OpenStack-Ansible Wallaby series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/wallaby.html Victoria: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible Victoria series was first released with the 22.0.0 tag on 21 January 2021. * `OpenStack-Ansible Victoria Documentation`_ * `OpenStack-Ansible Victoria series release notes`_ .. _OpenStack-Ansible Victoria Documentation: https://docs.openstack.org/openstack-ansible/victoria/ .. _OpenStack-Ansible Victoria series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/victoria.html Ussuri: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible Ussuri series was first released with the 21.0.0 tag on 14 August 2020. * `OpenStack-Ansible Ussuri Documentation`_ * `OpenStack-Ansible Ussuri series release notes`_ .. _OpenStack-Ansible Ussuri Documentation: https://docs.openstack.org/openstack-ansible/ussuri/ .. _OpenStack-Ansible Ussuri series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/ussuri.html Train: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible Train series was first released with the 20.0.0 tag on 16 December 2019. * `OpenStack-Ansible Train Documentation`_ * `OpenStack-Ansible Train series release notes`_ .. _OpenStack-Ansible Train Documentation: https://docs.openstack.org/openstack-ansible/train/ .. _OpenStack-Ansible Train series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/train.html Stein: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Stein series was first released with the 19.0.0 tag on 30 June 2019. * `OpenStack-Ansible Stein Documentation`_ * `OpenStack-Ansible Stein series release notes`_ .. _OpenStack-Ansible Stein Documentation: https://docs.openstack.org/openstack-ansible/stein/ .. _OpenStack-Ansible Stein series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/stein.html Rocky: Extended Maintenance ~~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Rocky series was first released with the 18.0.0 tag on 16 October 2018. * `OpenStack-Ansible Rocky Documentation`_ * `OpenStack-Ansible Rocky series release notes`_ .. _OpenStack-Ansible Rocky Documentation: https://docs.openstack.org/openstack-ansible/rocky/ .. _OpenStack-Ansible Rocky series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/rocky.html Queens: EOL (end-of-life) ~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Queens series was EOL'd on 19 October 2022. * `OpenStack-Ansible Queens Documentation`_ * `OpenStack-Ansible Queens series release notes`_ .. _OpenStack-Ansible Queens Documentation: https://docs.openstack.org/openstack-ansible/queens/ .. _OpenStack-Ansible Queens series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/queens.html Pike: EOL (end-of-life) ~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Pike series was EOL'd on 17 June 2022. * `OpenStack-Ansible Pike Documentation`_ * `OpenStack-Ansible Pike series release notes`_ .. _OpenStack-Ansible Pike Documentation: https://docs.openstack.org/openstack-ansible/pike/ .. _OpenStack-Ansible Pike series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/pike.html Ocata: EOL (end-of-life) ~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Ocata series was EOL'd on 21 December 2022. * `OpenStack-Ansible Ocata Documentation`_ * `OpenStack-Ansible Ocata series release notes`_ .. _OpenStack-Ansible Ocata Documentation: https://docs.openstack.org/openstack-ansible/ocata/ .. _OpenStack-Ansible Ocata series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/ocata.html Newton: EOL (end-of-life) ~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Newton series was EOL'd on 3 April 2018. To view the documentation only, see the `OpenStack-Ansible Newton Documentation <https://docs.openstack.org/openstack-ansible/newton/>`_. .. _OpenStack-Ansible Newton series timeline: https://launchpad.net/openstack-ansible/newton .. _OpenStack-Ansible Newton series release notes: https://docs.openstack.org/releasenotes/openstack-ansible/newton.html Mitaka: EOL (end-of-life) ~~~~~~~~~~~~~~~~~~~~~~~~~~ OpenStack-Ansible's Mitaka series was EOL'd on 10 April 2017. To view the documentation only, see the `OpenStack-Ansible Mitaka Documentation <https://docs.openstack.org/openstack-ansible/mitaka/>`_.",4,185
openstack%2Fneutron~master~Id438434c3ee5b46c9fa6c7df1a9276b2f9f5d8c2,openstack/neutron,master,Id438434c3ee5b46c9fa6c7df1a9276b2f9f5d8c2,[ovn][metadata] connect to any southbound database,ABANDONED,2021-08-20 05:46:22.000000000,2023-06-27 16:11:53.000000000,,"[{'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-20 05:46:22.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9b7ac0538e7357db1943b3defdb3556592440ece', 'message': '[ovn][metadata] connect to any southbound database\n\nWhen connecting to ovsdb cluster, by default the connection is established only\nagainst the current cluster leader, so that writes are not issued against\nfollowers. Additionally, when cluster leader changes all clients that have\nleader_only=true will then reconnect to the new leader. That puts an extra load\non the cluster, especially during leader change, and given that ovn metadata\nserver no longer writes anything to southbound db, we can switch leader_only to\nfalse, and accecpt any cluster member connection.\n\nCloses-Bug: #1940617\nChange-Id: Id438434c3ee5b46c9fa6c7df1a9276b2f9f5d8c2\n'}]",2,805335,9b7ac0538e7357db1943b3defdb3556592440ece,9,3,1,16036,,,0,"[ovn][metadata] connect to any southbound database

When connecting to ovsdb cluster, by default the connection is established only
against the current cluster leader, so that writes are not issued against
followers. Additionally, when cluster leader changes all clients that have
leader_only=true will then reconnect to the new leader. That puts an extra load
on the cluster, especially during leader change, and given that ovn metadata
server no longer writes anything to southbound db, we can switch leader_only to
false, and accecpt any cluster member connection.

Closes-Bug: #1940617
Change-Id: Id438434c3ee5b46c9fa6c7df1a9276b2f9f5d8c2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/805335/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/ovsdb.py'],1,9b7ac0538e7357db1943b3defdb3556592440ece,," # ovn metadata agent doesn't write to southbound database, so there # is no need to keep connection with cluster leader. self.leader_only = False",,3,0
openstack%2Fzun~stable%2Fxena~I3368603a380f9172b5816429ee8798bf363bf541,openstack/zun,stable/xena,I3368603a380f9172b5816429ee8798bf363bf541,zuul: Declare queue at top level,MERGED,2023-06-20 07:33:23.000000000,2023-06-27 16:11:40.000000000,2023-06-26 04:37:37.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-20 07:33:23.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zun/commit/755d679912e51383e3e5389ab57d0719fbc98877', 'message': 'zuul: Declare queue at top level\n\nZuul deprecated declaring shared queues at a pipeline level with\nrelease 4.1.0[1]. This updates the job definition to use the top level\ndeclaration instead.\n\nSee [2] for details.\n\n[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html\n\nChange-Id: I3368603a380f9172b5816429ee8798bf363bf541\n(cherry picked from commit b76a4e4453517cf5029783b416935baa7351ad1a)\n'}]",1,886319,755d679912e51383e3e5389ab57d0719fbc98877,7,2,1,13252,,,0,"zuul: Declare queue at top level

Zuul deprecated declaring shared queues at a pipeline level with
release 4.1.0[1]. This updates the job definition to use the top level
declaration instead.

See [2] for details.

[1] https://zuul-ci.org/docs/zuul/latest/releasenotes.html#relnotes-4-1-0-deprecation-notes
[2] http://lists.openstack.org/pipermail/openstack-discuss/2022-May/028603.html

Change-Id: I3368603a380f9172b5816429ee8798bf363bf541
(cherry picked from commit b76a4e4453517cf5029783b416935baa7351ad1a)
",git fetch https://review.opendev.org/openstack/zun refs/changes/19/886319/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,755d679912e51383e3e5389ab57d0719fbc98877,fix-zuul-errors, queue: zun, queue: zun,1,1
openstack%2Fkeystone~master~Ib3f9099160265c4eafea1b2e38537c58eadf9a5c,openstack/keystone,master,Ib3f9099160265c4eafea1b2e38537c58eadf9a5c,tests: Rework BannedDBSchemaOperations fixture,MERGED,2023-02-28 17:26:46.000000000,2023-06-27 16:04:29.000000000,2023-06-27 16:02:13.000000000,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 17:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/e0527b2f5c4b1703957fbc663a589c767b542919', 'message': ""tests: Rework BannedDBSchemaOperations fixture\n\nTwo issues here. The most pressing is that we are banning use of the\n'batch_alter_table' operation. There's no reason to do this as it isn't\nan operation per se, but rather a way of modifying how operations run.\n\nFixing this highlighted a weird error case, whereby the error message\nindicated that we were calling a different operation from the one we\nwere *actually* calling. This made fixing the issue far more time\nconsuming than it should have been. I think this is because of how\nPython is interpreting lambdas but I'm not certain. The function is\nrewritten to avoid the issue, simplifying it significantly in the\nprocess.\n\nChange-Id: Ib3f9099160265c4eafea1b2e38537c58eadf9a5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2023-02-28 17:55:18.000000000', 'files': ['keystone/tests/unit/test_sql_banned_operations.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5e9f32469e1ebf467e2713d733490b9ba623cd04', 'message': ""tests: Rework BannedDBSchemaOperations fixture\n\nTwo issues here. The most pressing is that we are banning use of the\n'batch_alter_table' operation. There's no reason to do this as it isn't\nan operation per se, but rather a way of modifying how operations run.\n\nFixing this highlighted a weird error case, whereby the error message\nwe'd see when we called a banned operation would indicate that we had\ncalled a different operation from the one we were *actually* calling.\nThis made fixing the issue far more time consuming than it should have\nbeen (I thought it was doing something else entirely!). Turns out this\nis due to late binding [1]. The fixture is rewritten to avoid the issue,\nsimplifying it significantly in the process.\n\n[1] https://stackoverflow.com/a/3431699/613428\n\nChange-Id: Ib3f9099160265c4eafea1b2e38537c58eadf9a5c\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",1,875765,5e9f32469e1ebf467e2713d733490b9ba623cd04,11,3,2,15334,,,0,"tests: Rework BannedDBSchemaOperations fixture

Two issues here. The most pressing is that we are banning use of the
'batch_alter_table' operation. There's no reason to do this as it isn't
an operation per se, but rather a way of modifying how operations run.

Fixing this highlighted a weird error case, whereby the error message
we'd see when we called a banned operation would indicate that we had
called a different operation from the one we were *actually* calling.
This made fixing the issue far more time consuming than it should have
been (I thought it was doing something else entirely!). Turns out this
is due to late binding [1]. The fixture is rewritten to avoid the issue,
simplifying it significantly in the process.

[1] https://stackoverflow.com/a/3431699/613428

Change-Id: Ib3f9099160265c4eafea1b2e38537c58eadf9a5c
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/65/875765/2 && git format-patch -1 --stdout FETCH_HEAD,['keystone/tests/unit/test_sql_banned_operations.py'],1,e0527b2f5c4b1703957fbc663a589c767b542919,sqlalchemy-20," def fail(*a, **kw): msg = ""Operation '%s' is not allowed in migration %s"" raise DBOperationNotAllowed(msg % (op, revision)) return fail fixtures.MonkeyPatch( 'alembic.op.%s' % op, self._explode(op, self._revision), )"," msg = ""Operation '%s' is not allowed in migration %s"" raise DBOperationNotAllowed(msg % (op, revision)) explode_lambda = { x: lambda *a, **k: self._explode(x, self._revision) for x in [ 'add_column', 'alter_column', 'batch_alter_table', 'bulk_insert', 'create_check_constraint', 'create_exclude_constraint', 'create_foreign_key', 'create_index', 'create_primary_key', 'create_table', 'create_table_comment', 'create_unique_constraint', 'drop_column', 'drop_constraint', 'drop_index', 'drop_table', 'drop_table_comment', # 'execute', 'rename_table', ] } fixtures.MonkeyPatch('alembic.op.%s' % op, explode_lambda[op]) 'batch_alter_table',",8,28
openstack%2Fkeystone~master~I277cb4d512ca6b4e4aca5aad60a97a78cdb961e3,openstack/keystone,master,I277cb4d512ca6b4e4aca5aad60a97a78cdb961e3,db: Replace use of reverse cascades,MERGED,2023-02-28 17:26:46.000000000,2023-06-27 16:03:30.000000000,2023-06-27 16:02:08.000000000,"[{'_account_id': 597}, {'_account_id': 14250}, {'_account_id': 16137}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-02-28 17:26:46.000000000', 'files': ['keystone/tests/unit/ksfixtures/warnings.py', 'keystone/application_credential/backends/sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/0bbaf63a5a730b0f0cb72c79c4715167e5d9187f', 'message': 'db: Replace use of reverse cascades\n\nResolve the following RemovedIn20Warning warning:\n\n  ""ApplicationCredentialRoleModel"" object is being merged into a Session\n  along the backref cascade path for relationship\n  ""ApplicationCredentialModel.roles""; in SQLAlchemy 2.0, this reverse\n  cascade will not take place.  Set cascade_backrefs to False in either\n  the relationship() or backref() function for the 2.0 behavior; or to\n  set globally for the whole Session, set the future=True flag\n\nThis also applies for ""ApplicationCredentialAccessRuleModel"" and\n""AccessRuleModel.application_credential"".\n\nChange-Id: I277cb4d512ca6b4e4aca5aad60a97a78cdb961e3\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,875763,0bbaf63a5a730b0f0cb72c79c4715167e5d9187f,11,5,1,15334,,,0,"db: Replace use of reverse cascades

Resolve the following RemovedIn20Warning warning:

  ""ApplicationCredentialRoleModel"" object is being merged into a Session
  along the backref cascade path for relationship
  ""ApplicationCredentialModel.roles""; in SQLAlchemy 2.0, this reverse
  cascade will not take place.  Set cascade_backrefs to False in either
  the relationship() or backref() function for the 2.0 behavior; or to
  set globally for the whole Session, set the future=True flag

This also applies for ""ApplicationCredentialAccessRuleModel"" and
""AccessRuleModel.application_credential"".

Change-Id: I277cb4d512ca6b4e4aca5aad60a97a78cdb961e3
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/63/875763/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/ksfixtures/warnings.py', 'keystone/application_credential/backends/sql.py']",2,0bbaf63a5a730b0f0cb72c79c4715167e5d9187f,sqlalchemy-20," cascade='all, delete-orphan', cascade_backrefs=False) cascade='all, delete-orphan', cascade_backrefs=False) backref=sqlalchemy.orm.backref('access_rule'), cascade_backrefs=False)"," cascade='all, delete-orphan') cascade='all, delete-orphan') backref=sqlalchemy.orm.backref('access_rule'))",6,13
openstack%2Fkeystone~master~I31ba9e4f129a7cc28744e814b5fd28eb284ae3de,openstack/keystone,master,I31ba9e4f129a7cc28744e814b5fd28eb284ae3de,db: Remove legacy migrations,MERGED,2023-02-28 17:26:46.000000000,2023-06-27 16:02:10.000000000,2023-06-27 16:02:10.000000000,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-28 17:26:46.000000000', 'files': ['keystone/common/sql/legacy_migrations/data_migration_repo/migrate.cfg', 'keystone/common/sql/legacy_migrations/expand_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/078_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/__init__.py', 'keystone/tests/unit/common/sql/test_upgrades.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/073_contract_initial_migration.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/legacy_migrations/contract_repo/migrate.cfg', 'keystone/common/sql/legacy_migrations/data_migration_repo/README.rst', 'keystone/common/sql/legacy_migrations/expand_repo/versions/073_expand_initial_migration.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/manage.py', 'keystone/common/sql/legacy_migrations/expand_repo/README.rst', 'keystone/common/sql/legacy_migrations/data_migration_repo/__init__.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/__init__.py', 'requirements.txt', 'keystone/common/sql/legacy_migrations/contract_repo/versions/078_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/079_migrate_update_local_id_limit.py', 'keystone/common/sql/legacy_migrations/expand_repo/migrate.cfg', 'keystone/common/sql/upgrades.py', 'tools/generate-schemas', 'keystone/common/sql/legacy_migrations/expand_repo/versions/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/manage.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/075_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/073_migrate_initial_migration.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/079_contract_update_local_id_limit.py', 'releasenotes/notes/remove-sqlalchemy-migrate-a4fa47685c7e28c6.yaml', 'keystone/common/sql/legacy_migrations/contract_repo/README.rst', 'keystone/common/sql/legacy_migrations/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/__init__.py', 'keystone/common/sql/legacy_migrations/expand_repo/manage.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/075_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/075_placeholder.py', 'keystone/cmd/cli.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/078_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/079_expand_update_local_id_limit.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/8c9462f6fa65fb615af4d4bfe8afae0d0143a644', 'message': 'db: Remove legacy migrations\n\nsqlalchemy-migrate does not (and will not) support sqlalchemy 2.0. We\nneed to drop these migrations to ensure we can upgrade our sqlalchemy\nversion.\n\nChange-Id: I31ba9e4f129a7cc28744e814b5fd28eb284ae3de\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,875764,8c9462f6fa65fb615af4d4bfe8afae0d0143a644,9,4,1,15334,,,0,"db: Remove legacy migrations

sqlalchemy-migrate does not (and will not) support sqlalchemy 2.0. We
need to drop these migrations to ensure we can upgrade our sqlalchemy
version.

Change-Id: I31ba9e4f129a7cc28744e814b5fd28eb284ae3de
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/64/875764/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/common/sql/legacy_migrations/data_migration_repo/migrate.cfg', 'keystone/common/sql/legacy_migrations/expand_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/078_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/__init__.py', 'keystone/tests/unit/common/sql/test_upgrades.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/073_contract_initial_migration.py', 'keystone/tests/unit/test_sql_upgrade.py', 'keystone/common/sql/legacy_migrations/contract_repo/migrate.cfg', 'keystone/common/sql/legacy_migrations/data_migration_repo/README.rst', 'keystone/common/sql/legacy_migrations/expand_repo/versions/073_expand_initial_migration.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/manage.py', 'keystone/common/sql/legacy_migrations/expand_repo/README.rst', 'keystone/common/sql/legacy_migrations/data_migration_repo/__init__.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/__init__.py', 'requirements.txt', 'keystone/common/sql/legacy_migrations/contract_repo/versions/078_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/079_migrate_update_local_id_limit.py', 'keystone/common/sql/legacy_migrations/expand_repo/migrate.cfg', 'keystone/common/sql/upgrades.py', 'tools/generate-schemas', 'keystone/common/sql/legacy_migrations/expand_repo/versions/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/manage.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/075_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/076_placeholder.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/077_placeholder.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/073_migrate_initial_migration.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/079_contract_update_local_id_limit.py', 'releasenotes/notes/remove-sqlalchemy-migrate-a4fa47685c7e28c6.yaml', 'keystone/common/sql/legacy_migrations/contract_repo/README.rst', 'keystone/common/sql/legacy_migrations/__init__.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/__init__.py', 'keystone/common/sql/legacy_migrations/expand_repo/manage.py', 'keystone/common/sql/legacy_migrations/contract_repo/versions/075_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/075_placeholder.py', 'keystone/cmd/cli.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/074_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/078_placeholder.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/079_expand_update_local_id_limit.py']",44,8c9462f6fa65fb615af4d4bfe8afae0d0143a644,sqlalchemy-20,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import sqlalchemy as sql def upgrade(migrate_engine): meta = sql.MetaData() # NOTE(stephenfin): This is not compatible with SQLAlchemy 2.0 but neither # is sqlalchemy-migrate which requires this. We'll remove these migrations # when dropping SQLAlchemy < 2.x support meta.bind = migrate_engine id_mapping_table = sql.Table( 'id_mapping', meta, autoload_with=migrate_engine, ) id_mapping_table.c.local_id.alter(type=sql.String(255)) ",8,2071
openstack%2Fkeystoneauth~master~I4b85bcfbfad1e34624b48ecd6476d01a4adba9eb,openstack/keystoneauth,master,I4b85bcfbfad1e34624b48ecd6476d01a4adba9eb,Add doc of OAuth 2.0 Mutual-TLS Authenticate,MERGED,2022-10-11 07:02:36.000000000,2023-06-27 15:50:45.000000000,2023-06-27 15:49:46.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 33455}, {'_account_id': 34712}]","[{'number': 1, 'created': '2022-10-11 07:02:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/08d70ee7072c8e6ef00866f847281c465d0437f6', 'message': ""Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nAdded a new OAuth2mTlsClientCredential plugin, accessible via the\n'v3oauth2mtlsclientcredential' entry point, making possible to\nauthenticate using an OAuth 2.0 Mutual-TLS client credentials.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: I4b85bcfbfad1e34624b48ecd6476d01a4adba9eb\n""}, {'number': 2, 'created': '2022-10-11 08:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/aff3cd75c426baf780335b911916225b190bc8d1', 'message': ""Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nAdded a new OAuth2mTlsClientCredential plugin, accessible via the\n'v3oauth2mtlsclientcredential' entry point, making possible to\nauthenticate using an OAuth 2.0 Mutual-TLS client credentials.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: I4b85bcfbfad1e34624b48ecd6476d01a4adba9eb\n""}, {'number': 3, 'created': '2022-10-11 08:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/a52f8b1ef2445e768d40baa802a02f8e237d60b0', 'message': ""Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nAdded a new OAuth2mTlsClientCredential plugin, accessible via the\n'v3oauth2mtlsclientcredential' entry point, making possible to\nauthenticate using an OAuth 2.0 Mutual-TLS client credentials.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: I4b85bcfbfad1e34624b48ecd6476d01a4adba9eb\n""}, {'number': 4, 'created': '2022-10-11 11:35:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/46d56e512ec12caacf5f470adab8a94d6ff1f470', 'message': ""[WIP]Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nAdded a new OAuth2mTlsClientCredential plugin, accessible via the\n'v3oauth2mtlsclientcredential' entry point, making possible to\nauthenticate using an OAuth 2.0 Mutual-TLS client credentials.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: I4b85bcfbfad1e34624b48ecd6476d01a4adba9eb\n""}, {'number': 5, 'created': '2022-10-24 02:46:56.000000000', 'files': ['doc/source/authentication-plugins.rst'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/ab0beab2c9997c2bd376324f57cbe89770108863', 'message': ""Add doc of OAuth 2.0 Mutual-TLS Authenticate\n\nAdded a new OAuth2mTlsClientCredential plugin, accessible via the\n'v3oauth2mtlsclientcredential' entry point, making possible to\nauthenticate using an OAuth 2.0 Mutual-TLS client credentials.\n\nImplements: blueprint support-oauth2-mtls\nChange-Id: I4b85bcfbfad1e34624b48ecd6476d01a4adba9eb\n""}]",2,860923,ab0beab2c9997c2bd376324f57cbe89770108863,17,8,5,34634,,,0,"Add doc of OAuth 2.0 Mutual-TLS Authenticate

Added a new OAuth2mTlsClientCredential plugin, accessible via the
'v3oauth2mtlsclientcredential' entry point, making possible to
authenticate using an OAuth 2.0 Mutual-TLS client credentials.

Implements: blueprint support-oauth2-mtls
Change-Id: I4b85bcfbfad1e34624b48ecd6476d01a4adba9eb
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/23/860923/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/authentication-plugins.rst'],1,08d70ee7072c8e6ef00866f847281c465d0437f6,bp/support-oauth2-mtls,"- :py:class:`~keystoneauth1.identity.v3.OAuth2mTlsClientCredential`: Authenticate against a V3 identity service using an OAuth2.0 Mutual-TLS client credentialsOAuth2.0 Mutual-TLS Client Credentials ====================================== .. warning:: The access token must be only added for the requests using mutual TLS according to `RFC8705`_ There is a specific authentication method for interacting with Identity servers that support OAuth 2.0 Mutual-TLS Client Authentication. The notable difference from the other authentication method is that, after passing the authentication, the ``session`` will add ""Authorization"" header with an OAuth2.0 Certificate-Bound Access Tokens to sent subsequent requests. The following method can be used to authenticate for a token using OAuth2.0 Mutual-TLS client credentials: .. _RFC8705: https://datatracker.ietf.org/doc/html/rfc8705 - :py:class:`~keystoneauth1.identity.v3.OAuth2mTlsClientCredential`: The following example shows the method usage with a session:: >>> from keystoneauth1 import session >>> from keystone.identity import v3 >>> auth = v3.OAuth2ClientCredential( auth_url='http://keystone.host:5000/v3' oauth2_endpoint='https://keystone.host/identity/v3/OS-OAUTH2/token' oauth2_client_id='f96a2fec117141a6b5fbaa0485632244' ) >>> sess = session.Session(auth=auth) - v3oauth2mtlsclientcredential: :py:class:`keystoneauth1.identity.v3.OAuth2mTlsClientCredential` ",,37,0
openstack%2Fkeystone~master~I30d0bccaddff6a1d91fcd5660f490f904e7c8965,openstack/keystone,master,I30d0bccaddff6a1d91fcd5660f490f904e7c8965,db: Replace use of Query.get(),MERGED,2023-02-28 17:26:46.000000000,2023-06-27 15:44:05.000000000,2023-06-27 15:41:55.000000000,"[{'_account_id': 7414}, {'_account_id': 16137}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-28 17:26:46.000000000', 'files': ['keystone/identity/mapping_backends/sql.py', 'keystone/credential/backends/sql.py', 'keystone/trust/backends/sql.py', 'keystone/policy/backends/sql.py', 'keystone/identity/shadow_backends/sql.py', 'keystone/tests/unit/identity/test_backend_sql.py', 'keystone/tests/unit/ksfixtures/warnings.py', 'keystone/identity/backends/sql.py', 'keystone/resource/backends/sql.py', 'keystone/oauth1/backends/sql.py', 'keystone/catalog/backends/sql.py', 'keystone/assignment/role_backends/sql.py', 'keystone/resource/config_backends/sql.py', 'keystone/federation/backends/sql.py', 'keystone/tests/unit/identity/shadow_users/test_backend.py', 'keystone/tests/unit/test_backend_sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/5d2ab6c63b5b943a5a8062b92daf2c198e21b714', 'message': 'db: Replace use of Query.get()\n\nResolve the following LegacyAPIWarning warning:\n\n  The Query.get() method is considered legacy as of the 1.x series of\n  SQLAlchemy and becomes a legacy construct in 2.0. The method is now\n  available as Session.get()\n\nChange-Id: I30d0bccaddff6a1d91fcd5660f490f904e7c8965\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,875762,5d2ab6c63b5b943a5a8062b92daf2c198e21b714,11,5,1,15334,,,0,"db: Replace use of Query.get()

Resolve the following LegacyAPIWarning warning:

  The Query.get() method is considered legacy as of the 1.x series of
  SQLAlchemy and becomes a legacy construct in 2.0. The method is now
  available as Session.get()

Change-Id: I30d0bccaddff6a1d91fcd5660f490f904e7c8965
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/62/875762/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/identity/mapping_backends/sql.py', 'keystone/credential/backends/sql.py', 'keystone/trust/backends/sql.py', 'keystone/policy/backends/sql.py', 'keystone/identity/shadow_backends/sql.py', 'keystone/tests/unit/identity/test_backend_sql.py', 'keystone/tests/unit/ksfixtures/warnings.py', 'keystone/identity/backends/sql.py', 'keystone/resource/backends/sql.py', 'keystone/oauth1/backends/sql.py', 'keystone/catalog/backends/sql.py', 'keystone/assignment/role_backends/sql.py', 'keystone/resource/config_backends/sql.py', 'keystone/federation/backends/sql.py', 'keystone/tests/unit/identity/shadow_users/test_backend.py', 'keystone/tests/unit/test_backend_sql.py']",16,5d2ab6c63b5b943a5a8062b92daf2c198e21b714,sqlalchemy-20," trust_ref = session.get(trust_sql.TrustModel, new_id)", trust_ref = session.query(trust_sql.TrustModel).get(new_id),36,43
openstack%2Fkeystone~master~I98e2b17debc509a8db5a424eb5d602c7c075d558,openstack/keystone,master,I98e2b17debc509a8db5a424eb5d602c7c075d558,db: Don't pass strings to 'Connection.execute',MERGED,2023-02-28 17:26:46.000000000,2023-06-27 15:43:07.000000000,2023-06-27 15:41:53.000000000,"[{'_account_id': 597}, {'_account_id': 7414}, {'_account_id': 16137}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-28 17:26:46.000000000', 'files': ['keystone/tests/unit/ksfixtures/warnings.py', 'keystone/tests/unit/ksfixtures/database.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/073_expand_initial_migration.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/9165c67c10a4aac562de84cb45b4f2872128d98a', 'message': ""db: Don't pass strings to 'Connection.execute'\n\nResolve the following RemovedIn20Warning warning:\n\n  Passing a string to Connection.execute() is deprecated and will be\n  removed in version 2.0.  Use the text() construct, or the\n  Connection.exec_driver_sql() method to invoke a driver-level SQL\n  string.\n\nChange-Id: I98e2b17debc509a8db5a424eb5d602c7c075d558\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,875761,9165c67c10a4aac562de84cb45b4f2872128d98a,12,6,1,15334,,,0,"db: Don't pass strings to 'Connection.execute'

Resolve the following RemovedIn20Warning warning:

  Passing a string to Connection.execute() is deprecated and will be
  removed in version 2.0.  Use the text() construct, or the
  Connection.exec_driver_sql() method to invoke a driver-level SQL
  string.

Change-Id: I98e2b17debc509a8db5a424eb5d602c7c075d558
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/61/875761/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/ksfixtures/warnings.py', 'keystone/tests/unit/ksfixtures/database.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/073_expand_initial_migration.py']",3,9165c67c10a4aac562de84cb45b4f2872128d98a,sqlalchemy-20, with migrate_engine.connect() as conn: conn.exec_driver_sql( 'ALTER TABLE migrate_version CONVERT TO CHARACTER SET utf8' ) # Set default DB charset to UTF8. conn.exec_driver_sql( 'ALTER DATABASE %s DEFAULT CHARACTER SET utf8' % migrate_engine.url.database ) with migrate_engine.connect() as conn: conn.exec_driver_sql(credential_update_trigger) conn.exec_driver_sql(identity_provider_insert_trigger) conn.exec_driver_sql(federated_user_insert_trigger) conn.exec_driver_sql(local_user_insert_trigger), migrate_engine.execute( 'ALTER TABLE migrate_version CONVERT TO CHARACTER SET utf8' ) # Set default DB charset to UTF8. migrate_engine.execute( 'ALTER DATABASE %s DEFAULT CHARACTER SET utf8' % migrate_engine.url.database ) migrate_engine.execute(credential_update_trigger) migrate_engine.execute(identity_provider_insert_trigger) migrate_engine.execute(federated_user_insert_trigger) migrate_engine.execute(local_user_insert_trigger),16,20
openstack%2Fcharm-cinder~master~Iaecae3c22db1f4f2309f73f8c6836e6c072b848b,openstack/charm-cinder,master,Iaecae3c22db1f4f2309f73f8c6836e6c072b848b,Render [service_user] only for identity-service relation,MERGED,2023-06-26 21:50:19.000000000,2023-06-27 15:38:09.000000000,2023-06-27 15:38:09.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 34275}]","[{'number': 1, 'created': '2023-06-26 21:50:19.000000000', 'files': ['templates/ussuri/cinder.conf'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/ebbedcbf58660ce13823152d6943fee036af7e11', 'message': 'Render [service_user] only for identity-service relation\n\nThe service token section [service_user] is not required when\ncinder-volume is deployed as a separate service. In other words\nit is not required for the identity-credentials relation.\n\nThe [service_user] section is nearly the same as the\n[keystone_authtoken] section, and the keystone_authtoken data\nis only produced for the IdentityServiceContext, therefore this\nchange will not render [service_user] for the\nIdentityCredentialsContext.\n\nCloses-Bug: #2024676\nChange-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b\n'}]",2,887009,ebbedcbf58660ce13823152d6943fee036af7e11,8,4,1,11805,,,0,"Render [service_user] only for identity-service relation

The service token section [service_user] is not required when
cinder-volume is deployed as a separate service. In other words
it is not required for the identity-credentials relation.

The [service_user] section is nearly the same as the
[keystone_authtoken] section, and the keystone_authtoken data
is only produced for the IdentityServiceContext, therefore this
change will not render [service_user] for the
IdentityCredentialsContext.

Closes-Bug: #2024676
Change-Id: Iaecae3c22db1f4f2309f73f8c6836e6c072b848b
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/09/887009/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/ussuri/cinder.conf'],1,ebbedcbf58660ce13823152d6943fee036af7e11,,{% if keystone_authtoken -%}{% endif -%},,2,0
openstack%2Fkuryr-kubernetes~master~I686cbd62020139d64dcf00a07c89e53d53d0eab2,openstack/kuryr-kubernetes,master,I686cbd62020139d64dcf00a07c89e53d53d0eab2,Update CNI to v0.8.1,MERGED,2023-06-27 11:20:14.000000000,2023-06-27 15:21:32.000000000,2023-06-27 15:20:30.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27032}]","[{'number': 1, 'created': '2023-06-27 11:20:14.000000000', 'files': ['kuryr_cni/vendor/modules.txt', 'kuryr_cni/go.mod', 'kuryr_cni/go.sum'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/74b41a9846d77ddc2dda22f9423aad0237b00da0', 'message': 'Update CNI to v0.8.1\n\nChange-Id: I686cbd62020139d64dcf00a07c89e53d53d0eab2\n'}]",0,887030,74b41a9846d77ddc2dda22f9423aad0237b00da0,8,3,1,11600,,,0,"Update CNI to v0.8.1

Change-Id: I686cbd62020139d64dcf00a07c89e53d53d0eab2
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/30/887030/1 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_cni/vendor/modules.txt', 'kuryr_cni/go.mod', 'kuryr_cni/go.sum']",3,74b41a9846d77ddc2dda22f9423aad0237b00da0,,github.com/containernetworking/cni v0.8.1 h1:7zpDnQ3T3s4ucOuJ/ZCLrYBxzkg0AELFfII3Epo9TmI= github.com/containernetworking/cni v0.8.1/go.mod h1:LGwApLUm2FpoOfxTDEeq8T9ipbpZ61X79hmU3w8FmsY=,github.com/containernetworking/cni v0.8.0 h1:BT9lpgGoH4jw3lFC7Odz2prU5ruiYKcgAjMCbgybcKI= github.com/containernetworking/cni v0.8.0/go.mod h1:LGwApLUm2FpoOfxTDEeq8T9ipbpZ61X79hmU3w8FmsY=,4,4
openstack%2Freleases~master~I0adb4535b87aa8c61c72a6b372731b2aed9a25b1,openstack/releases,master,I0adb4535b87aa8c61c72a6b372731b2aed9a25b1,[keystone] Transition Rocky to End of Life,MERGED,2023-04-26 18:15:20.000000000,2023-06-27 15:05:13.000000000,2023-06-27 15:05:13.000000000,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2023-04-26 18:15:20.000000000', 'files': ['deliverables/rocky/keystoneauth.yaml', 'deliverables/rocky/keystone.yaml', 'deliverables/rocky/pycadf.yaml', 'deliverables/rocky/python-keystoneclient.yaml', 'deliverables/rocky/keystonemiddleware.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/386c0946202e2ab6d245b4360ead4b888fac96f7', 'message': ""[keystone] Transition Rocky to End of Life\n\nAs discussed in the mail thread [1][2], this patch transition the Rocky\nbranch to End of Life. The last patch of the branch will be tagged with\nrocky-eol tag. stable/rocky branch cannot be used anymore and will be\ndeleted if this patch merges.\n\nThis is needed as stable/rocky is not actively maintained in recent\nperiod, thus gates are mostly broken due to job failures. Besides,\nby removing these branches, infra resources will be freed up, too.\n\nPlease try to identify any zuul job, that is defined outside of the\nrepositories in this patch (for example in openstack-zuul-jobs, etc.)\nand won't be used anymore if stable/rocky is deleted. Propose a job\nremoval patch for them.\n\nPlease +1 if the team is ready for us to proceed with this transition,\nor -1 if there are still some activity on the branch and the team wants\nto continue to maintain it.\n\n[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031922.html\n[2] https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033386.html\n\nChange-Id: I0adb4535b87aa8c61c72a6b372731b2aed9a25b1\n""}]",3,881617,386c0946202e2ab6d245b4360ead4b888fac96f7,10,5,1,17685,,,0,"[keystone] Transition Rocky to End of Life

As discussed in the mail thread [1][2], this patch transition the Rocky
branch to End of Life. The last patch of the branch will be tagged with
rocky-eol tag. stable/rocky branch cannot be used anymore and will be
deleted if this patch merges.

This is needed as stable/rocky is not actively maintained in recent
period, thus gates are mostly broken due to job failures. Besides,
by removing these branches, infra resources will be freed up, too.

Please try to identify any zuul job, that is defined outside of the
repositories in this patch (for example in openstack-zuul-jobs, etc.)
and won't be used anymore if stable/rocky is deleted. Propose a job
removal patch for them.

Please +1 if the team is ready for us to proceed with this transition,
or -1 if there are still some activity on the branch and the team wants
to continue to maintain it.

[1] https://lists.openstack.org/pipermail/openstack-discuss/2023-January/031922.html
[2] https://lists.openstack.org/pipermail/openstack-discuss/2023-April/033386.html

Change-Id: I0adb4535b87aa8c61c72a6b372731b2aed9a25b1
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/881617/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/rocky/keystoneauth.yaml', 'deliverables/rocky/keystone.yaml', 'deliverables/rocky/pycadf.yaml', 'deliverables/rocky/python-keystoneclient.yaml', 'deliverables/rocky/keystonemiddleware.yaml']",5,386c0946202e2ab6d245b4360ead4b888fac96f7,rocky-eol, - version: rocky-eol projects: - repo: openstack/keystonemiddleware hash: 7ab4a3e63cba8b4d94c7d8a528716532844febcb,,20,0
openstack%2Fkeystone~master~Ibb373f198b528a9aea3546f28545ee4470d9b37b,openstack/keystone,master,Ibb373f198b528a9aea3546f28545ee4470d9b37b,Fix outdated default catalog template,MERGED,2023-03-31 09:09:24.000000000,2023-06-27 14:51:01.000000000,2023-06-27 14:49:23.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-03-31 09:09:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/ad60aa31e47a98c13a46d7f78efb43f1c2f2dbe0', 'message': 'Fix outdated catalog template\n\nThe catalog template file is horribly outdated.\n - keystone v2 was removed long ago\n - cinder no longer provides v2 api\n - cinder and nova no longer requires tenant_id templates in url\n - telemetry endpoint was removed\n - now placement is required by nova\n - ec2 api was split out from nova and now is an independent project\n\nChange-Id: Ibb373f198b528a9aea3546f28545ee4470d9b37b\n'}, {'number': 2, 'created': '2023-03-31 09:13:30.000000000', 'files': ['etc/default_catalog.templates'], 'web_link': 'https://opendev.org/openstack/keystone/commit/c32bedb654d04176fdab9b3cb522dd3146cfea9c', 'message': 'Fix outdated default catalog template\n\nThe file has not been update and is horribly outdated. This updates\nthe file to adapt to recent API versions available.\n\nCloses-Bug: #2013473\nChange-Id: Ibb373f198b528a9aea3546f28545ee4470d9b37b\n'}]",0,879142,c32bedb654d04176fdab9b3cb522dd3146cfea9c,11,6,2,9816,,,0,"Fix outdated default catalog template

The file has not been update and is horribly outdated. This updates
the file to adapt to recent API versions available.

Closes-Bug: #2013473
Change-Id: Ibb373f198b528a9aea3546f28545ee4470d9b37b
",git fetch https://review.opendev.org/openstack/keystone refs/changes/42/879142/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/default_catalog.templates'],1,ad60aa31e47a98c13a46d7f78efb43f1c2f2dbe0,bug/2013473,catalog.RegionOne.identity.publicURL = http://localhost:$(public_port)s/v3 catalog.RegionOne.identity.adminURL = http://localhost:$(admin_port)s/v3 catalog.RegionOne.identity.internalURL = http://localhost:$(public_port)s/v3catalog.RegionOne.computev21.publicURL = http://localhost:8774/v2.1 catalog.RegionOne.computev21.adminURL = http://localhost:8774/v2.1 catalog.RegionOne.computev21.internalURL = http://localhost:8774/v2.1catalog.RegionOne.volumev3.publicURL = http://localhost:8776/v3 catalog.RegionOne.volumev3.adminURL = http://localhost:8776/v3 catalog.RegionOne.volumev3.internalURL = http://localhost:8776/v3 catalog.RegionOne.volumev3.name = Volume Service V3catalog.RegionOne.placement.publicURL = http://localhost:8778 catalog.RegionOne.placement.adminURL = http://localhost:8778 catalog.RegionOne.placement.internalURL = http://localhost:8778 catalog.RegionOne.placement.name = Placement Service ,catalog.RegionOne.identity.publicURL = http://localhost:$(public_port)s/v2.0 catalog.RegionOne.identity.adminURL = http://localhost:$(admin_port)s/v2.0 catalog.RegionOne.identity.internalURL = http://localhost:$(public_port)s/v2.0catalog.RegionOne.computev21.publicURL = http://localhost:8774/v2.1/$(tenant_id)s catalog.RegionOne.computev21.adminURL = http://localhost:8774/v2.1/$(tenant_id)s catalog.RegionOne.computev21.internalURL = http://localhost:8774/v2.1/$(tenant_id)scatalog.RegionOne.volumev2.publicURL = http://localhost:8776/v2/$(tenant_id)s catalog.RegionOne.volumev2.adminURL = http://localhost:8776/v2/$(tenant_id)s catalog.RegionOne.volumev2.internalURL = http://localhost:8776/v2/$(tenant_id)s catalog.RegionOne.volumev2.name = Volume Service V2 catalog.RegionOne.ec2.publicURL = http://localhost:8773/services/Cloud catalog.RegionOne.ec2.adminURL = http://localhost:8773/services/Admin catalog.RegionOne.ec2.internalURL = http://localhost:8773/services/Cloud catalog.RegionOne.ec2.name = EC2 Service catalog.RegionOne.image.publicURL = http://localhost:9292 catalog.RegionOne.image.adminURL = http://localhost:9292 catalog.RegionOne.image.internalURL = http://localhost:9292 catalog.RegionOne.image.name = Image Service catalog.RegionOne.metering.publicURL = http://localhost:8777 catalog.RegionOne.metering.adminURL = http://localhost:8777 catalog.RegionOne.metering.internalURL = http://localhost:8777 catalog.RegionOne.metering.name = Telemetry Service,15,25
openstack%2Fsushy-tools~master~I9a3f6a178978ef25efe5129d8bf5f94e031d9751,openstack/sushy-tools,master,I9a3f6a178978ef25efe5129d8bf5f94e031d9751,Add new ironic driver,NEW,2023-06-27 13:13:09.000000000,2023-06-27 14:40:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-27 13:13:09.000000000', 'files': ['sushy_tools/emulator/main.py', 'doc/source/user/index.rst', 'releasenotes/notes/add-ironic-6f446bf16276b4dd.yaml', 'doc/source/admin/emulator.conf', 'sushy_tools/tests/unit/emulator/resources/systems/test_ironic.py', 'doc/source/user/dynamic-emulator.rst', 'sushy_tools/emulator/resources/systems/ironicdriver.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0506b60db8b318ba6b57b95c820d58c63c18bfea', 'message': ""Add new ironic driver\n\nAdd a driver to provide a limited emulated redfish\nAPI to ironic nodes. This would be needed in cases\nwhere a redfish compatible endpoint is needed but\nbut don't have direct access to the BMC (you only\nhave access via Ironic) or the BMC doesn't support\nredfish.\n\nChange-Id: I9a3f6a178978ef25efe5129d8bf5f94e031d9751\n""}]",0,887046,0506b60db8b318ba6b57b95c820d58c63c18bfea,2,1,1,1926,,,0,"Add new ironic driver

Add a driver to provide a limited emulated redfish
API to ironic nodes. This would be needed in cases
where a redfish compatible endpoint is needed but
but don't have direct access to the BMC (you only
have access via Ironic) or the BMC doesn't support
redfish.

Change-Id: I9a3f6a178978ef25efe5129d8bf5f94e031d9751
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/46/887046/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'doc/source/user/index.rst', 'releasenotes/notes/add-ironic-6f446bf16276b4dd.yaml', 'doc/source/admin/emulator.conf', 'sushy_tools/tests/unit/emulator/resources/systems/test_ironic.py', 'doc/source/user/dynamic-emulator.rst', 'sushy_tools/emulator/resources/systems/ironicdriver.py']",7,0506b60db8b318ba6b57b95c820d58c63c18bfea,esi,"# Copyright 2018 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import math from sushy_tools.emulator import memoize from sushy_tools.emulator.resources.systems.base import AbstractSystemsDriver from sushy_tools import error try: import openstack except ImportError: openstack = None is_loaded = bool(openstack) class IronicDriver(AbstractSystemsDriver): """"""Ironic driver"""""" IRONIC_POWER_ON = ""power on"" IRONIC_POWER_OFF = ""power off"" IRONIC_POWER_OFF_SOFT = ""soft power off"" IRONIC_POWER_REBOOT = ""rebooting"" IRONIC_POWER_REBOOT_SOFT = ""soft rebooting"" BOOT_DEVICE_MAP = { 'Pxe': 'pxe', 'Hdd': 'disk', 'Cd': 'cdrom', } BOOT_DEVICE_MAP_REV = {v: k for k, v in BOOT_DEVICE_MAP.items()} BOOT_MODE_MAP = { 'Legacy': 'bios', 'UEFI': 'uefi', } BOOT_MODE_MAP_REV = {v: k for k, v in BOOT_MODE_MAP.items()} PERMANENT_CACHE = {} @classmethod def initialize(cls, config, logger, os_cloud, *args, **kwargs): cls._config = config cls._logger = logger cls._os_cloud = os_cloud if not hasattr(cls, ""_cc""): cls._cc = openstack.connect(cloud=cls._os_cloud) return cls @memoize.memoize() def _get_node(self, identity): node = self._cc.baremetal.get_node(identity) if node: return node msg = ('Error finding node by UUID ""%(identity)s"" at OS ' 'cloud %(os_cloud)s""' % {'identity': identity, 'os_cloud': self._os_cloud}) self._logger.debug(msg) raise error.NotFound(msg) @memoize.memoize(permanent_cache=PERMANENT_CACHE) def _get_properties(self, identity): node = self._get_node(identity) return node.properties @memoize.memoize(permanent_cache=PERMANENT_CACHE) def _get_driver_internal_info(self, identity): return self._get_node(identity).driver_internal_info @property def driver(self): """"""Return human-friendly driver description :returns: driver description as `str` """""" return '<OpenStack baremetal>' @property def systems(self): """"""Return available computer systems :returns: list of UUIDs representing the systems """""" return [node.id for node in self._cc.baremetal.nodes(fields=[""uuid""])] def uuid(self, identity): """"""Get computer system UUID by name :param identity: OpenStack node name or ID :returns: computer system UUID """""" node = self._get_node(identity) return node.id def name(self, identity): """"""Get computer system name by name :param identity: OpenStack node name or ID :returns: computer system name """""" node = self._get_node(identity) return node.name def get_power_state(self, identity): """"""Get computer system power state :param identity: OpenStack node name or ID :returns: *On* or *Off*`str` or `None` if power state can't be determined """""" try: node = self._get_node(identity) except error.FishyError: return if node.power_state == self.IRONIC_POWER_ON: return 'On' return 'Off' def set_power_state(self, identity, state): """"""Set computer system power state :param identity: OpenStack node name or ID :param state: string literal requesting power state transition. Valid values are: *On*, *ForceOn*, *ForceOff*, *GracefulShutdown*, *GracefulRestart*, *ForceRestart*, *Nmi*. :raises: `error.FishyError` if power state can't be set """""" node = self._get_node(identity) if state in ('On', 'ForceOn'): if node.power_state != self.IRONIC_POWER_ON: self._cc.baremetal.set_node_power_state( node.id, self.IRONIC_POWER_ON) elif state == 'ForceOff': if node.power_state == self.IRONIC_POWER_ON: self._cc.baremetal.set_node_power_state( node.id, self.IRONIC_POWER_OFF) elif state == 'GracefulShutdown': if node.power_state == self.IRONIC_POWER_ON: self._cc.baremetal.set_node_power_state( node.id, self.IRONIC_POWER_OFF_SOFT) elif state == 'GracefulRestart': if node.power_state == self.IRONIC_POWER_ON: self._cc.baremetal.set_node_power_state( node.id, self.IRONIC_POWER_REBOOT_SOFT) else: self._cc.baremetal.set_node_power_state( node.id, self.IRONIC_POWER_ON) elif state == 'ForceRestart': if node.power_state == self.IRONIC_POWER_ON: self._cc.baremetal.set_node_power_state( node.id, self.IRONIC_POWER_REBOOT) else: self._cc.baremetal.set_node_power_state( node.id, self.IRONIC_POWER_ON) # NOTE(etingof) can't support `state == ""Nmi""` as # openstacksdk does not seem to support that else: raise error.BadRequest( 'Unknown ResetType ""%(state)s""' % {'state': state}) def get_boot_device(self, identity): """"""Get computer system boot device name :param identity: OpenStack node name or ID :returns: boot device name as `str` or `None` if device name can't be determined. Valid values are: *Pxe*, *Hdd*, *Cd*. """""" try: node = self._get_node(identity) except error.FishyError: return bdevice = node.get_boot_device(self._cc.baremetal).get(""boot_device"") if bdevice == ""pxe"": return self.BOOT_DEVICE_MAP_REV['pxe'] else: return self.BOOT_DEVICE_MAP_REV['disk'] def set_boot_device(self, identity, boot_source): """"""Set computer system boot device name :param identity: OpenStack node name or ID :param boot_source: string literal requesting boot device change on the system. Valid values are: *Pxe*, *Hdd*, *Cd*. :raises: `error.FishyError` if boot device can't be set """""" try: target = self.BOOT_DEVICE_MAP[boot_source] except KeyError: msg = ('Unknown power state requested: ' '%(boot_source)s' % {'boot_source': boot_source}) raise error.BadRequest(msg) self._cc.baremetal.set_node_boot_device(identity, target) def get_boot_mode(self, identity): """"""Get computer system boot mode. :returns: either *UEFI* or *Legacy* as `str` or `None` if current boot mode can't be determined """""" driver_info = self._get_driver_internal_info(identity) boot_mode = driver_info.get(""deploy_boot_mode"", None) return self.BOOT_MODE_MAP_REV.get(boot_mode) def set_boot_mode(self, identity, boot_mode): """"""Set computer system boot mode. :param boot_mode: string literal requesting boot mode change on the system. Valid values are: *UEFI*, *Legacy*. :raises: `error.FishyError` if boot mode can't be set """""" # just to make sure passed identity exists self._get_node(identity) msg = ('The cloud driver %(driver)s does not allow changing boot ' 'mode through Redfish' % {'driver': self.driver}) raise error.NotSupportedError(msg) def get_secure_boot(self, identity): """"""Get computer system secure boot state for UEFI boot mode. :returns: boolean of the current secure boot state :raises: `FishyError` if the state can't be fetched """""" if self.get_boot_mode(identity) == 'Legacy': msg = 'Legacy boot mode does not support secure boot' raise error.NotSupportedError(msg) self._get_node(identity) # TODO(derekh): Use node.is_secure_boot ? return False def set_secure_boot(self, identity, secure): """"""Set computer system secure boot state for UEFI boot mode. :param secure: boolean requesting the secure boot state :raises: `FishyError` if the can't be set """""" msg = ('The cloud driver %(driver)s does not support changing secure ' 'boot mode through Redfish' % {'driver': self.driver}) # TODO(derekh): node.set_secure_boot raise error.NotSupportedError(msg) def get_total_memory(self, identity): """"""Get computer system total memory :param identity: OpenStack node name or ID :returns: available RAM in GiB as `int` """""" try: properties = self._get_properties(identity) except error.FishyError: return # memory_mb might not have been set, in this case return 32G return int(math.ceil(int(properties.get(""memory_mb"", 32768)) / 1024.)) def get_total_cpus(self, identity): """"""Get computer system total count of available CPUs :param identity: OpenStack node name or ID :returns: available CPU count as `int` """""" try: properties = self._get_properties(identity) except error.FishyError: return return int(properties.get(""vcpus"", 1)) def get_nics(self, identity): """"""Get node's network interfaces Use MAC address as network interface's id :param identity: OpenStack node name or ID :returns: list of dictionaries with NIC attributes (id and mac) """""" self._get_node(identity) macs = set() for port in self._cc.baremetal.ports(fields=[""address"", ""node_uuid""]): if port[""node_uuid""] == identity: macs.add(port[""address""]) return [{'id': mac, 'mac': mac} for mac in macs] ",,624,2
openstack%2Foslo.context~master~I0bab40e92e00f15a6cade62867fd309d26c73aa2,openstack/oslo.context,master,I0bab40e92e00f15a6cade62867fd309d26c73aa2,Bump bandit,NEW,2023-05-17 14:27:55.000000000,2023-06-27 14:28:27.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 14:27:55.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.context/commit/e70a618f331e4483a14aa7ec971bd97b22f2eae8', 'message': 'Bump bandit\n\nChange-Id: I0bab40e92e00f15a6cade62867fd309d26c73aa2\n'}]",1,883379,e70a618f331e4483a14aa7ec971bd97b22f2eae8,5,2,1,28522,,,0,"Bump bandit

Change-Id: I0bab40e92e00f15a6cade62867fd309d26c73aa2
",git fetch https://review.opendev.org/openstack/oslo.context refs/changes/79/883379/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e70a618f331e4483a14aa7ec971bd97b22f2eae8,oslo-bump-bandit,"bandit>=1.7.0,<1.8.0 # Apache-2.0","bandit>=1.6.0,<1.7.0 # Apache-2.0",1,1
openstack%2Foslo.reports~master~I15fd6db0c4910bc8af212289d77c38b2e9dc2a04,openstack/oslo.reports,master,I15fd6db0c4910bc8af212289d77c38b2e9dc2a04,Bump bandit,NEW,2023-05-17 13:28:36.000000000,2023-06-27 14:25:17.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 13:28:36.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.reports/commit/f35998a13e87781d5235c96da80d2ecb2f197e14', 'message': 'Bump bandit\n\nChange-Id: I15fd6db0c4910bc8af212289d77c38b2e9dc2a04\n'}]",1,883371,f35998a13e87781d5235c96da80d2ecb2f197e14,5,2,1,28522,,,0,"Bump bandit

Change-Id: I15fd6db0c4910bc8af212289d77c38b2e9dc2a04
",git fetch https://review.opendev.org/openstack/oslo.reports refs/changes/71/883371/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f35998a13e87781d5235c96da80d2ecb2f197e14,oslo-bump-bandit,"bandit>=1.7.0,<1.8.0 # Apache-2.0","bandit>=1.6.0,<1.7.0 # Apache-2.0",1,1
openstack%2Foslo.serialization~master~I3b222bb59260dff7a06a5ed48720df3dc8c74ea7,openstack/oslo.serialization,master,I3b222bb59260dff7a06a5ed48720df3dc8c74ea7,Fix compatibility with Python 3.8,MERGED,2023-05-15 09:02:08.000000000,2023-06-27 14:16:48.000000000,2023-06-27 14:15:44.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-15 09:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/707ad581feb7e0bffc7b5759ef183aa1f7b35821', 'message': 'Fix compatibility with Python 3.8\n\nWe removed compatibility with Python 3.8 once but it was added back to\ntested runtimes for 2023.2. Thus we have to make sure the code works\nwith Python 3.8, which was broken by [1].\n\nNote that pytz is added back to requirmenets.txt and is now required\nregardless of the python version. This is a short term solution until\nwe figure out the way to fix the requirement-check job (or we again\nremove python 3.8 support).\n\n[1] a326ec5eea86d7458953a229b4dbd887595f68f1\n\nChange-Id: I3b222bb59260dff7a06a5ed48720df3dc8c74ea7\n'}, {'number': 2, 'created': '2023-05-16 08:24:56.000000000', 'files': ['requirements.txt', 'oslo_serialization/tests/test_msgpackutils.py', 'releasenotes/notes/implement-zoneinfo-to-remove-pytz-c136b33bbfbfe59f.yaml', 'oslo_serialization/msgpackutils.py'], 'web_link': 'https://opendev.org/openstack/oslo.serialization/commit/61c460f3f27e00e080faad479342127e8442314d', 'message': 'Fix compatibility with Python 3.8\n\nWe removed compatibility with Python 3.8 once but it was added back to\ntested runtimes for 2023.2. Thus we have to make sure the code works\nwith Python 3.8, which was broken by [1].\n\nNote that pytz is added back to requirmenets.txt and is now required\nregardless of the python version. This is a short term solution until\nwe figure out the way to fix the requirement-check job (or we again\nremove python 3.8 support).\n\n[1] a326ec5eea86d7458953a229b4dbd887595f68f1\n\nChange-Id: I3b222bb59260dff7a06a5ed48720df3dc8c74ea7\n'}]",1,883145,61c460f3f27e00e080faad479342127e8442314d,9,2,2,28522,,,0,"Fix compatibility with Python 3.8

We removed compatibility with Python 3.8 once but it was added back to
tested runtimes for 2023.2. Thus we have to make sure the code works
with Python 3.8, which was broken by [1].

Note that pytz is added back to requirmenets.txt and is now required
regardless of the python version. This is a short term solution until
we figure out the way to fix the requirement-check job (or we again
remove python 3.8 support).

[1] a326ec5eea86d7458953a229b4dbd887595f68f1

Change-Id: I3b222bb59260dff7a06a5ed48720df3dc8c74ea7
",git fetch https://review.opendev.org/openstack/oslo.serialization refs/changes/45/883145/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'oslo_serialization/tests/test_msgpackutils.py', 'releasenotes/notes/implement-zoneinfo-to-remove-pytz-c136b33bbfbfe59f.yaml', 'oslo_serialization/msgpackutils.py']",4,707ad581feb7e0bffc7b5759ef183aa1f7b35821,fix-compat-py38, try: import zoneinfo except ImportError: # zoneinfo is available in Python >= 3.9 from pytz import timezone zoneinfo = None if zoneinfo: tz = str(dt.tzinfo) else: tz = dt.tzinfo.tzname(None) if zoneinfo: tzinfo = zoneinfo.ZoneInfo(dct['tz']) dt = dt.replace(tzinfo=tzinfo) else: tzinfo = timezone(dct['tz']) dt = tzinfo.localize(dt),import zoneinfo tz = str(dt.tzinfo) tzinfo = zoneinfo.ZoneInfo(dct['tz']) dt = dt.replace(tzinfo=tzinfo),46,16
openstack%2Foslo.i18n~master~I5ade4b39983998c1e159da6181292a3f3d229b26,openstack/oslo.i18n,master,I5ade4b39983998c1e159da6181292a3f3d229b26,Bump bandit,NEW,2023-05-17 15:32:04.000000000,2023-06-27 14:13:40.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 15:32:04.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.i18n/commit/05f9961e7adae0e7d96feccf8a5bb18173b10711', 'message': 'Bump bandit\n\nChange-Id: I5ade4b39983998c1e159da6181292a3f3d229b26\n'}]",1,883389,05f9961e7adae0e7d96feccf8a5bb18173b10711,5,2,1,28522,,,0,"Bump bandit

Change-Id: I5ade4b39983998c1e159da6181292a3f3d229b26
",git fetch https://review.opendev.org/openstack/oslo.i18n refs/changes/89/883389/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,05f9961e7adae0e7d96feccf8a5bb18173b10711,oslo-bump-bandit,"bandit>=1.7.0,<1.8.0 # Apache-2.0","bandit>=1.6.0,<1.7.0 # Apache-2.0",1,1
openstack%2Foslo.privsep~master~I818a0a186788cd219218687887d4145c41a92c7c,openstack/oslo.privsep,master,I818a0a186788cd219218687887d4145c41a92c7c,Bump bandit,NEW,2023-05-17 09:40:08.000000000,2023-06-27 14:13:12.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 09:40:08.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.privsep/commit/ee4c01ac437ba2a70edba7fe041f69bea331e46b', 'message': 'Bump bandit\n\nChange-Id: I818a0a186788cd219218687887d4145c41a92c7c\n'}]",1,883338,ee4c01ac437ba2a70edba7fe041f69bea331e46b,6,2,1,28522,,,0,"Bump bandit

Change-Id: I818a0a186788cd219218687887d4145c41a92c7c
",git fetch https://review.opendev.org/openstack/oslo.privsep refs/changes/38/883338/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ee4c01ac437ba2a70edba7fe041f69bea331e46b,oslo-bump-bandit,"bandit>=1.7.0,<1.8.0 # Apache-2.0","bandit>=1.6.0,<1.7.0 # Apache-2.0",1,1
openstack%2Foslo.utils~master~I3d594ef953b9d7bea0bad2b1459e1a30d58c20e6,openstack/oslo.utils,master,I3d594ef953b9d7bea0bad2b1459e1a30d58c20e6,Bump bandit,MERGED,2023-05-19 13:58:05.000000000,2023-06-27 14:11:47.000000000,2023-06-27 14:10:44.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 13:58:05.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.utils/commit/7281cb96c1b7f3c3fa8b97ceac4d4fa54e056535', 'message': 'Bump bandit\n\nChange-Id: I3d594ef953b9d7bea0bad2b1459e1a30d58c20e6\n'}]",1,883674,7281cb96c1b7f3c3fa8b97ceac4d4fa54e056535,9,2,1,28522,,,0,"Bump bandit

Change-Id: I3d594ef953b9d7bea0bad2b1459e1a30d58c20e6
",git fetch https://review.opendev.org/openstack/oslo.utils refs/changes/74/883674/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,7281cb96c1b7f3c3fa8b97ceac4d4fa54e056535,oslo-bump-bandit,"bandit>=1.7.0,<1.8.0 # Apache-2.0","bandit>=1.6.0,<1.7.0 # Apache-2.0",1,1
openstack%2Foslo.service~master~I55ca7b1197d8c0d93a1037f175db7671c2ccb400,openstack/oslo.service,master,I55ca7b1197d8c0d93a1037f175db7671c2ccb400,Bump bandit,MERGED,2023-05-17 09:38:07.000000000,2023-06-27 14:09:35.000000000,2023-06-27 14:07:40.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 09:38:07.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.service/commit/4bff0d2d8b6a9d353fb5778c90ef21076cab0db6', 'message': 'Bump bandit\n\nChange-Id: I55ca7b1197d8c0d93a1037f175db7671c2ccb400\n'}]",1,883337,4bff0d2d8b6a9d353fb5778c90ef21076cab0db6,7,2,1,28522,,,0,"Bump bandit

Change-Id: I55ca7b1197d8c0d93a1037f175db7671c2ccb400
",git fetch https://review.opendev.org/openstack/oslo.service refs/changes/37/883337/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,4bff0d2d8b6a9d353fb5778c90ef21076cab0db6,oslo-bump-bandit,"bandit>=1.7.0,<1.8.0 # Apache-2.0","bandit>=1.6.0,<1.7.0 # Apache-2.0",1,1
openstack%2Foslo.limit~master~I63e59cae564a369a104b00866bfc0e5cad10b221,openstack/oslo.limit,master,I63e59cae564a369a104b00866bfc0e5cad10b221,Bump bandit,MERGED,2023-05-19 12:43:59.000000000,2023-06-27 14:03:16.000000000,2023-06-27 14:02:10.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 12:43:59.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/c9ee0adcbd40914a30567e096fd5a7340c25166d', 'message': 'Bump bandit\n\nChange-Id: I63e59cae564a369a104b00866bfc0e5cad10b221\n'}]",1,883661,c9ee0adcbd40914a30567e096fd5a7340c25166d,7,2,1,28522,,,0,"Bump bandit

Change-Id: I63e59cae564a369a104b00866bfc0e5cad10b221
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/61/883661/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,c9ee0adcbd40914a30567e096fd5a7340c25166d,oslo-bump-bandit,"bandit>=1.7.0,<1.8.0 # Apache-2.0","bandit>=1.6.0,<1.7.0 # Apache-2.0",1,1
openstack%2Foslo.cache~master~I36c2cdc9ecbdbfb443c8780494531c84bc7793ca,openstack/oslo.cache,master,I36c2cdc9ecbdbfb443c8780494531c84bc7793ca,Bump bandit,MERGED,2023-05-17 14:03:34.000000000,2023-06-27 14:03:14.000000000,2023-06-27 14:02:09.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 14:03:34.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.cache/commit/8d856e1d17d12316ff6380052aa5316476cbd8e9', 'message': 'Bump bandit\n\nChange-Id: I36c2cdc9ecbdbfb443c8780494531c84bc7793ca\n'}]",1,883376,8d856e1d17d12316ff6380052aa5316476cbd8e9,7,2,1,28522,,,0,"Bump bandit

Change-Id: I36c2cdc9ecbdbfb443c8780494531c84bc7793ca
",git fetch https://review.opendev.org/openstack/oslo.cache refs/changes/76/883376/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8d856e1d17d12316ff6380052aa5316476cbd8e9,oslo-bump-bandit,"bandit>=1.7.0,<1.8.0 # Apache-2.0","bandit>=1.6.0,<1.7.0 # Apache-2.0",1,1
openstack%2Foslo.config~master~I9e3c1e5f98e2ecfb5564d8dbd608d19d4a66cfce,openstack/oslo.config,master,I9e3c1e5f98e2ecfb5564d8dbd608d19d4a66cfce,Bump bandit and make oslo.config compatible with latest rules,MERGED,2023-03-10 09:23:40.000000000,2023-06-27 14:02:10.000000000,2023-06-27 14:01:02.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-10 09:23:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/db3cafba18a00b49108e5f12e8f730a5d7e9a86a', 'message': 'Bump bandit and make oslo.config compatible with latest rules\n\nApply a timeout to requests calls to avoid uncontrolled\nresource consumption (CWE400) [1].\n\n[1] https://cwe.mitre.org/data/definitions/400.html\n\nChange-Id: I9e3c1e5f98e2ecfb5564d8dbd608d19d4a66cfce\n'}, {'number': 2, 'created': '2023-03-10 09:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/643f42f32c00dc3115c34c164f0c84a189953d05', 'message': 'Bump bandit and make oslo.config compatible with latest rules\n\nApply a timeout to requests calls to avoid uncontrolled\nresource consumption (CWE400) [1].\n\n[1] https://cwe.mitre.org/data/definitions/400.html\n\nChange-Id: I9e3c1e5f98e2ecfb5564d8dbd608d19d4a66cfce\n'}, {'number': 3, 'created': '2023-03-10 10:27:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/39d91cb6ee410528efcfd0757d5ca61e8dc6f123', 'message': 'Bump bandit and make oslo.config compatible with latest rules\n\nApply a timeout to requests calls to avoid uncontrolled\nresource consumption (CWE400) [1].\n\n[1] https://cwe.mitre.org/data/definitions/400.html\n\nChange-Id: I9e3c1e5f98e2ecfb5564d8dbd608d19d4a66cfce\n'}, {'number': 4, 'created': '2023-05-17 09:19:32.000000000', 'files': ['oslo_config/sources/_uri.py', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/3dff974eea1a509a63aeaccddbdc90b3695c90ef', 'message': 'Bump bandit and make oslo.config compatible with latest rules\n\nApply a timeout to requests calls to avoid uncontrolled\nresource consumption (CWE400) [1].\n\n[1] https://cwe.mitre.org/data/definitions/400.html\n\nChange-Id: I9e3c1e5f98e2ecfb5564d8dbd608d19d4a66cfce\n'}]",3,877084,3dff974eea1a509a63aeaccddbdc90b3695c90ef,13,3,4,28522,,,0,"Bump bandit and make oslo.config compatible with latest rules

Apply a timeout to requests calls to avoid uncontrolled
resource consumption (CWE400) [1].

[1] https://cwe.mitre.org/data/definitions/400.html

Change-Id: I9e3c1e5f98e2ecfb5564d8dbd608d19d4a66cfce
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/84/877084/3 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_config/sources/_uri.py', 'test-requirements.txt']",2,db3cafba18a00b49108e5f12e8f730a5d7e9a86a,oslo-bump-bandit,"bandit>=1.7.0,<1.8.0 # Apache-2.0","bandit>=1.6.0,<1.7.0 # Apache-2.0",3,2
openstack%2Foslo.metrics~master~Ie5ef0a86955c5d6876b2347ba4505e58d8c7c6dc,openstack/oslo.metrics,master,Ie5ef0a86955c5d6876b2347ba4505e58d8c7c6dc,Bump bandit and make oslo.metrics compatible with latest rules,MERGED,2023-05-19 13:13:16.000000000,2023-06-27 13:58:23.000000000,2023-06-27 13:57:19.000000000,"[{'_account_id': 308}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-19 13:13:16.000000000', 'files': ['test-requirements.txt', 'oslo_metrics/__main__.py'], 'web_link': 'https://opendev.org/openstack/oslo.metrics/commit/5b478403278e69ca9fd822cb117c3e2aa49a6cda', 'message': ""Bump bandit and make oslo.metrics compatible with latest rules\n\nChanges file permission to fix b103, restraint file's rights to owner\nonly [1].\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b103_set_bad_file_permissions.html\n\nChange-Id: Ie5ef0a86955c5d6876b2347ba4505e58d8c7c6dc\n""}]",1,883667,5b478403278e69ca9fd822cb117c3e2aa49a6cda,9,3,1,28522,,,0,"Bump bandit and make oslo.metrics compatible with latest rules

Changes file permission to fix b103, restraint file's rights to owner
only [1].

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b103_set_bad_file_permissions.html

Change-Id: Ie5ef0a86955c5d6876b2347ba4505e58d8c7c6dc
",git fetch https://review.opendev.org/openstack/oslo.metrics refs/changes/67/883667/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'oslo_metrics/__main__.py']",2,5b478403278e69ca9fd822cb117c3e2aa49a6cda,oslo-bump-bandit," default='/var/tmp/metrics_collector.sock', # nosec os.chmod(socket_path, 0o600)"," default='/var/tmp/metrics_collector.sock', os.chmod(socket_path, 0o660)",3,3
openstack%2Foslo.concurrency~master~I2432f5d6c9febfa3a579551f116692618982ecf3,openstack/oslo.concurrency,master,I2432f5d6c9febfa3a579551f116692618982ecf3,Bump bandit,MERGED,2023-05-17 14:24:43.000000000,2023-06-27 13:47:24.000000000,2023-06-27 13:46:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 14:24:43.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/oslo.concurrency/commit/b4aec262e3a7b5132f7b60fdfd7e4bc1249b74de', 'message': 'Bump bandit\n\nChange-Id: I2432f5d6c9febfa3a579551f116692618982ecf3\n'}]",1,883378,b4aec262e3a7b5132f7b60fdfd7e4bc1249b74de,7,2,1,28522,,,0,"Bump bandit

Change-Id: I2432f5d6c9febfa3a579551f116692618982ecf3
",git fetch https://review.opendev.org/openstack/oslo.concurrency refs/changes/78/883378/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,b4aec262e3a7b5132f7b60fdfd7e4bc1249b74de,oslo-bump-bandit,"bandit>=1.7.0,<1.8.0 # Apache-2.0","bandit>=1.6.0,<1.7.0 # Apache-2.0",1,1
openstack%2Foslo.middleware~master~I6a4701592e0b245b798fbe916f78a5e8114e92ef,openstack/oslo.middleware,master,I6a4701592e0b245b798fbe916f78a5e8114e92ef,Bump bandit and make oslo.middleware compatible with latest rules,MERGED,2023-03-10 10:21:29.000000000,2023-06-27 13:45:40.000000000,2023-06-27 13:44:33.000000000,"[{'_account_id': 9816}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-10 10:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/c3feafe6aad63ee75a2bf7e6950efab5a9f7e6e7', 'message': ""Bum bandit and make oslo.middleware compatible with latest rules\n\nApply a timeout to requests calls to avoid uncontrolled\nresource consumption (CWE-400) [1].\n\nHowever we should notice bandit didn't warned here.\nIt didn't detected the request without the configured timeout.\n\n[1] https://cwe.mitre.org/data/definitions/400.html\n\nChange-Id: I6a4701592e0b245b798fbe916f78a5e8114e92ef\n""}, {'number': 2, 'created': '2023-04-10 02:01:34.000000000', 'files': ['test-requirements.txt', 'oslo_middleware/tests/test_healthcheck.py'], 'web_link': 'https://opendev.org/openstack/oslo.middleware/commit/170e35a5b9c4e4bbaafaf7e805d54cac10c7dff8', 'message': ""Bump bandit and make oslo.middleware compatible with latest rules\n\nApply a timeout to requests calls to avoid uncontrolled\nresource consumption (CWE-400) [1].\n\nHowever we should notice bandit didn't warned here.\nIt didn't detected the request without the configured timeout.\n\n[1] https://cwe.mitre.org/data/definitions/400.html\n\nChange-Id: I6a4701592e0b245b798fbe916f78a5e8114e92ef\n""}]",0,877088,170e35a5b9c4e4bbaafaf7e805d54cac10c7dff8,10,3,2,28522,,,0,"Bump bandit and make oslo.middleware compatible with latest rules

Apply a timeout to requests calls to avoid uncontrolled
resource consumption (CWE-400) [1].

However we should notice bandit didn't warned here.
It didn't detected the request without the configured timeout.

[1] https://cwe.mitre.org/data/definitions/400.html

Change-Id: I6a4701592e0b245b798fbe916f78a5e8114e92ef
",git fetch https://review.opendev.org/openstack/oslo.middleware refs/changes/88/877088/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'oslo_middleware/tests/test_healthcheck.py']",2,c3feafe6aad63ee75a2bf7e6950efab5a9f7e6e7,oslo-bump-bandit," server.server_address[1]), timeout=10)", server.server_address[1])),2,2
openstack%2Fcharm-ceph-radosgw~master~Id74fa86d80e6e7bf16ee048bb6277f082705e8d7,openstack/charm-ceph-radosgw,master,Id74fa86d80e6e7bf16ee048bb6277f082705e8d7,Adds focal to charmcraft,MERGED,2023-06-27 07:32:59.000000000,2023-06-27 13:28:34.000000000,2023-06-27 13:28:34.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 07:32:59.000000000', 'files': ['charmcraft.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/7feab3a45b4ead1b175368e3ae9171605b4db26f', 'message': 'Adds focal to charmcraft\n\nChange-Id: Id74fa86d80e6e7bf16ee048bb6277f082705e8d7\nSigned-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>\n'}]",1,887019,7feab3a45b4ead1b175368e3ae9171605b4db26f,7,3,1,34952,,,0,"Adds focal to charmcraft

Change-Id: Id74fa86d80e6e7bf16ee048bb6277f082705e8d7
Signed-off-by: utkarshbhatthere <utkarsh.bhatt@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/19/887019/1 && git format-patch -1 --stdout FETCH_HEAD,['charmcraft.yaml'],1,7feab3a45b4ead1b175368e3ae9171605b4db26f,," channel: ""20.04"" architectures: [amd64, s390x, ppc64el, arm64] - name: ubuntu",,3,0
openstack%2Fneutron~master~I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed,openstack/neutron,master,I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed,[qos] _validate_create_network_callback return in no network,MERGED,2023-03-02 09:03:26.000000000,2023-06-27 13:11:52.000000000,2023-06-27 13:10:31.000000000,"[{'_account_id': 7730}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-02 09:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f33332aeec0e21c1b37f2f12205e8bbe0336e67d', 'message': '[qos] _validate_create_network_callback return in no network\n\nIt seems that _validate_create_network_callback notified without\nnetwork_id in payload, to avoid issues in such case return.\n\nChange-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed\nCloses-Bug: #2008912\n'}, {'number': 2, 'created': '2023-03-17 10:43:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d633c088000eaa8aa77532e1865c9acd7f5be37', 'message': '[qos] _validate_create_network_callback return in no network\n\nIt seems that _validate_create_network_callback notified without\nnetwork_id in payload, to avoid issues in such case return.\n\nChange-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed\nCloses-Bug: #2008912\n'}, {'number': 3, 'created': '2023-06-20 15:14:15.000000000', 'files': ['neutron/services/qos/qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ec4bfb91f0d3ae4aa4cbe8ba05c20cb00515b00d', 'message': '[qos] _validate_create_network_callback return in no network\n\nIt seems that _validate_create_network_callback notified without\nnetwork_id in payload, to avoid issues in such case return.\n\nChange-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed\nCloses-Bug: #2008912\n'}]",12,876040,ec4bfb91f0d3ae4aa4cbe8ba05c20cb00515b00d,48,6,3,8313,,,0,"[qos] _validate_create_network_callback return in no network

It seems that _validate_create_network_callback notified without
network_id in payload, to avoid issues in such case return.

Change-Id: I15d22e0e2b4bf3e4f882b521bcd6a13f84e4feed
Closes-Bug: #2008912
",git fetch https://review.opendev.org/openstack/neutron refs/changes/40/876040/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/qos/qos_plugin.py'],1,f33332aeec0e21c1b37f2f12205e8bbe0336e67d,bug/2008912," if network: policy_id = getattr(network, 'qos_policy_id', None) if policy_id is None: return else:", policy_id = network.qos_policy_id if policy_id is None:,5,2
openstack%2Fswift~master~Ic19964f1fc4e99f586364aefa1033800dd9bf143,openstack/swift,master,Ic19964f1fc4e99f586364aefa1033800dd9bf143,sharder: Fix completed metric emission,MERGED,2023-06-23 23:50:21.000000000,2023-06-27 13:11:49.000000000,2023-06-27 13:10:34.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-23 23:50:21.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/0e0db9003fec04056c6744793008a6cd8e9d26c2', 'message': 'sharder: Fix completed metric emission\n\nRelated-Change: Ie2a8e4eced6688e5a98aa37c3c7b0c13fd2ddeee\nChange-Id: Ic19964f1fc4e99f586364aefa1033800dd9bf143\n'}]",3,886883,0e0db9003fec04056c6744793008a6cd8e9d26c2,10,2,1,15343,,,0,"sharder: Fix completed metric emission

Related-Change: Ie2a8e4eced6688e5a98aa37c3c7b0c13fd2ddeee
Change-Id: Ic19964f1fc4e99f586364aefa1033800dd9bf143
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/886883/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,0e0db9003fec04056c6744793008a6cd8e9d26c2,, float(broker.get_own_shard_range().epoch)), broker.get_own_shard_range().epoch),7,1
openstack%2Fmanila~master~I737dbc5138c81e6708b9ebae7e7c11622e124a3d,openstack/manila,master,I737dbc5138c81e6708b9ebae7e7c11622e124a3d,skip periodic update on replicas in 'error_deleting',MERGED,2023-06-26 11:28:51.000000000,2023-06-27 12:52:04.000000000,2023-06-27 12:50:34.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 32919}]","[{'number': 1, 'created': '2023-06-26 11:28:51.000000000', 'files': ['manila/share/manager.py', 'releasenotes/notes/bug-2024556-skip-error-deleting-replicas-aa2ef4154d5e38f6.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/ca90c87c478e2edacc8bbe01be1e5c3c6e309baa', 'message': ""skip periodic update on replicas in 'error_deleting'\n\nChange-Id: I737dbc5138c81e6708b9ebae7e7c11622e124a3d\nCloses-Bug: #2024578\n""}]",3,886616,ca90c87c478e2edacc8bbe01be1e5c3c6e309baa,14,4,1,18816,,,0,"skip periodic update on replicas in 'error_deleting'

Change-Id: I737dbc5138c81e6708b9ebae7e7c11622e124a3d
Closes-Bug: #2024578
",git fetch https://review.opendev.org/openstack/manila refs/changes/16/886616/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/manager.py', 'releasenotes/notes/bug-2024556-skip-error-deleting-replicas-aa2ef4154d5e38f6.yaml']",2,ca90c87c478e2edacc8bbe01be1e5c3c6e309baa,bug/2024556,"--- fixes: - | Share replicas in state `error_deleting` are now skipped during periodic updates. For more details, please refer to `launchpad bug #2024556 <https://bugs.launchpad.net/manila/+bug/2024556>`_ ",,7,0
openstack%2Fpuppet-cinder~stable%2Fzed~Idca647a1c149d93f3c477ac448ddc69ac5bbb2b1,openstack/puppet-cinder,stable/zed,Idca647a1c149d93f3c477ac448ddc69ac5bbb2b1,Fix missing inclusion of cinder::params,MERGED,2023-06-27 01:22:51.000000000,2023-06-27 12:08:18.000000000,2023-06-27 12:08:18.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-27 01:22:51.000000000', 'files': ['manifests/backend/dellemc_powermax.pp', 'spec/defines/cinder_backend_dellemc_powermax_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f245ad46b9c9c5c27b77604e577000a4d65cf3e5', 'message': 'Fix missing inclusion of cinder::params\n\nThis fixes the missing inclusion of cinder::params, to ensure\nthe subsequent reference works properly.\n\nChange-Id: Idca647a1c149d93f3c477ac448ddc69ac5bbb2b1\n(cherry picked from commit 8d00e748ef3df3c4a5d92477df08a6bcc238a4d6)\n(cherry picked from commit ea76abebbb094e97ff0adc6afb5de65efcd04684)\n'}]",0,886959,f245ad46b9c9c5c27b77604e577000a4d65cf3e5,7,3,1,9816,,,0,"Fix missing inclusion of cinder::params

This fixes the missing inclusion of cinder::params, to ensure
the subsequent reference works properly.

Change-Id: Idca647a1c149d93f3c477ac448ddc69ac5bbb2b1
(cherry picked from commit 8d00e748ef3df3c4a5d92477df08a6bcc238a4d6)
(cherry picked from commit ea76abebbb094e97ff0adc6afb5de65efcd04684)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/59/886959/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_powermax.pp', 'spec/defines/cinder_backend_dellemc_powermax_spec.rb']",2,f245ad46b9c9c5c27b77604e577000a4d65cf3e5,," is_expected.to contain_package('pywbem').with( :ensure => 'installed', :name => platform_params[:pywbem_package_name], :tag => 'cinder-support-package', ) let :platform_params do case facts[:os]['family'] when 'Debian' { :pywbem_package_name => 'python-pywbem' } when 'RedHat' { :pywbem_package_name => 'pywbem' } end end ",,20,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I24049e1b2601583dcbae793f9ef8cb05f41f117f,openstack/tripleo-heat-templates,stable/wallaby,I24049e1b2601583dcbae793f9ef8cb05f41f117f,"Add parameter ""CeilometerEnableTenantDiscovery""",MERGED,2023-05-31 10:55:37.000000000,2023-06-27 11:59:01.000000000,2023-06-27 11:59:01.000000000,"[{'_account_id': 9816}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-31 10:55:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58874b74eb3fb0c1d0aa926c987296cde0577729', 'message': 'Add parameter ""CeilometerEnableTenantDiscovery""\n\nThis change is needed to populate/manage the puppet parameter\n""tenant_name_discovery"" in ceilometer configurations on the\ncompute nodes.\n\nDepends-On: https://review.opendev.org/884868\nChange-Id: I24049e1b2601583dcbae793f9ef8cb05f41f117f\n'}, {'number': 2, 'created': '2023-06-26 12:36:18.000000000', 'files': ['deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9b6cb2a057b07ff850e26ab4378dc581c92ec320', 'message': 'Add parameter ""CeilometerEnableTenantDiscovery""\n\nThis change is needed to populate/manage the puppet parameter\n""tenant_name_discovery"" in ceilometer configurations on the\ncompute nodes.\n\nChange-Id: I24049e1b2601583dcbae793f9ef8cb05f41f117f\n'}]",1,884874,9b6cb2a057b07ff850e26ab4378dc581c92ec320,11,3,2,32240,,,0,"Add parameter ""CeilometerEnableTenantDiscovery""

This change is needed to populate/manage the puppet parameter
""tenant_name_discovery"" in ceilometer configurations on the
compute nodes.

Change-Id: I24049e1b2601583dcbae793f9ef8cb05f41f117f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/884874/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml'],1,58874b74eb3fb0c1d0aa926c987296cde0577729,, CeilometerEnableTenantDiscovery: default: false description: Identify user and project names from polled metrics. type: boolean ceilometer::agent::polling::tenant_name_discovery: {get_param: CeilometerEnableTenantDiscovery},,5,0
openstack%2Fneutron~master~I4feab3e55f2e38a9eca70d4ca755b4c2974346d5,openstack/neutron,master,I4feab3e55f2e38a9eca70d4ca755b4c2974346d5,"Use ``TextClause`` to define the DB model ""server_default""",MERGED,2023-05-17 17:27:22.000000000,2023-06-27 11:36:06.000000000,2023-05-31 12:39:54.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 7730}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2023-05-17 17:27:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1d5a42daac3426bad3d51c8065900e8373107916', 'message': 'WIP Use SQL empty string\n\nChange-Id: I4feab3e55f2e38a9eca70d4ca755b4c2974346d5\n'}, {'number': 2, 'created': '2023-05-18 08:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/01b4b8001994f94403c41f36a2a632a70cd4fc44', 'message': 'Use ``TextClause`` to define the DB model ""server_default""\n\nThe alembic comparator needs the same class to compare the\ndatabase model with the loaded SQL schema.\n\nCloses-Bug: #2020050\nChange-Id: I4feab3e55f2e38a9eca70d4ca755b4c2974346d5\n'}, {'number': 3, 'created': '2023-05-18 09:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d458eaff727d43e67afd637eb4f3b2d39a2056ed', 'message': 'Use ``TextClause`` to define the DB model ""server_default""\n\nThe alembic comparator needs the same class to compare the\ndatabase model with the loaded SQL schema.\n\nCloses-Bug: #2020050\nChange-Id: I4feab3e55f2e38a9eca70d4ca755b4c2974346d5\n'}, {'number': 4, 'created': '2023-05-19 09:51:07.000000000', 'files': ['neutron/plugins/ml2/models.py', 'neutron/common/_constants.py', 'neutron/db/models_v2.py', 'neutron/db/models/dns.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fa3d8019ffd416ad3eb90e6e9a364d4b6e23e80', 'message': 'Use ``TextClause`` to define the DB model ""server_default""\n\nThe alembic comparator needs the same class to compare the\ndatabase model with the loaded SQL schema.\n\nCloses-Bug: #2020050\nChange-Id: I4feab3e55f2e38a9eca70d4ca755b4c2974346d5\n'}]",17,883421,6fa3d8019ffd416ad3eb90e6e9a364d4b6e23e80,50,10,4,16688,,,0,"Use ``TextClause`` to define the DB model ""server_default""

The alembic comparator needs the same class to compare the
database model with the loaded SQL schema.

Closes-Bug: #2020050
Change-Id: I4feab3e55f2e38a9eca70d4ca755b4c2974346d5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/883421/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/models.py', 'neutron/common/_constants.py', 'neutron/db/models_v2.py', 'neutron/db/models/dns.py', 'neutron/tests/functional/db/test_migrations.py']",5,1d5a42daac3426bad3d51c8065900e8373107916,bug/2020050,"def upgrade(engine, alembic_config, branch_name='heads'): cfg.CONF.set_override('connection', engine.url, group='database') cfg.CONF.set_override('connection', engine.url, group='database') cfg.CONF.set_override('connection', engine.url, group='database') cfg.CONF.set_override('connection', engine.url, group='database') config = self._get_alembic_config(engine.url)","def render_url_str(_url): """"""Render a ``URL`` instance as string and the password in clear text"""""" try: return _url.render_as_string(hide_password=False) except AttributeError: # NOTE(ralonsoh): ``URL`` objects from SQLAlchemy<2.0.0 don't have # ``render_as_string`` method but it is not necessary. return str(_url) def upgrade(engine, alembic_config, branch_name='heads'): url_str = render_url_str(engine.url) cfg.CONF.set_override('connection', url_str, group='database') url_str = render_url_str(engine.url) cfg.CONF.set_override('connection', url_str, group='database') url_str = render_url_str(engine.url) cfg.CONF.set_override('connection', url_str, group='database') url_str = render_url_str(engine.url) cfg.CONF.set_override('connection', url_str, group='database') url_str = render_url_str(engine.url) config = self._get_alembic_config(url_str)",21,26
openstack%2Fkolla~master~I9f40167fed9412b3f33f82e2f97f353275431292,openstack/kolla,master,I9f40167fed9412b3f33f82e2f97f353275431292,Use erlang-25 from copr on aarch64,MERGED,2023-06-26 08:37:13.000000000,2023-06-27 11:31:54.000000000,2023-06-27 11:30:50.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2023-06-26 08:37:13.000000000', 'files': ['docker/base/hrw-copr-erlang-for-rabbitmq.repo'], 'web_link': 'https://opendev.org/openstack/kolla/commit/51675bb232f0c4826ff74351b68c1e16a1893545', 'message': 'Use erlang-25 from copr on aarch64\n\nChange-Id: I9f40167fed9412b3f33f82e2f97f353275431292\n'}]",2,886948,51675bb232f0c4826ff74351b68c1e16a1893545,18,3,1,22629,,,0,"Use erlang-25 from copr on aarch64

Change-Id: I9f40167fed9412b3f33f82e2f97f353275431292
",git fetch https://review.opendev.org/openstack/kolla refs/changes/48/886948/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/hrw-copr-erlang-for-rabbitmq.repo'],1,51675bb232f0c4826ff74351b68c1e16a1893545,,baseurl=https://download.copr.fedorainfracloud.org/results/hrw/erlang-25-for-rabbitmq/centos-stream-$releasever-$basearch/gpgkey=https://download.copr.fedorainfracloud.org/results/hrw/erlang-25-for-rabbitmq/pubkey.gpg,baseurl=https://download.copr.fedorainfracloud.org/results/hrw/erlang-for-rabbitmq/centos-stream-$releasever-$basearch/gpgkey=https://download.copr.fedorainfracloud.org/results/hrw/erlang-for-rabbitmq/pubkey.gpg,2,2
openstack%2Ftripleo-heat-templates~stable%2Fzed~Ic22276ad14abdba7801bfbf93b3925bee723db20,openstack/tripleo-heat-templates,stable/zed,Ic22276ad14abdba7801bfbf93b3925bee723db20,HA: enable new container image name by default,ABANDONED,2023-02-27 13:48:26.000000000,2023-06-27 10:51:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-02-27 13:48:26.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f9823e75ce26e4b2b8d3ee2172a4c9908d4ef50', 'message': ""HA: enable new container image name by default\n\nMake ClusterFullTag the new default for pacemaker's\nintermediate container image name. With this new\ndefault, minor updates of pacemaker-managed services\nnow support all changes in container image name,\nwithout causing a service disruption.\n\nExisting environments can migrate to this new default\nby running specific update tasks [1] to orchestrate\nthe migration without service disruption.\n\n[1] Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n\nChange-Id: Ic22276ad14abdba7801bfbf93b3925bee723db20\nRelated-Bug: #1992988\n(cherry picked from commit 8b8f103906843ab25e5b97a76253b6120aea1de3)\n""}]",1,875510,0f9823e75ce26e4b2b8d3ee2172a4c9908d4ef50,4,1,1,20778,,,0,"HA: enable new container image name by default

Make ClusterFullTag the new default for pacemaker's
intermediate container image name. With this new
default, minor updates of pacemaker-managed services
now support all changes in container image name,
without causing a service disruption.

Existing environments can migrate to this new default
by running specific update tasks [1] to orchestrate
the migration without service disruption.

[1] Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3

Change-Id: Ic22276ad14abdba7801bfbf93b3925bee723db20
Related-Bug: #1992988
(cherry picked from commit 8b8f103906843ab25e5b97a76253b6120aea1de3)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/875510/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",10,0f9823e75ce26e4b2b8d3ee2172a4c9908d4ef50,ha_image_upd-stable/zed, default: true, default: false,10,10
openstack%2Ftripleo-ansible~master~Idb922e90028743c688eeb4e6d5fcae713cf14312,openstack/tripleo-ansible,master,Idb922e90028743c688eeb4e6d5fcae713cf14312,HA: Minor update with new container image name,ABANDONED,2022-10-12 17:45:01.000000000,2023-06-27 10:49:41.000000000,,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}, {'_account_id': 33080}, {'_account_id': 35080}]","[{'number': 1, 'created': '2022-10-12 17:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/792f053f20ab7f4cb356d14038e710ce2faaae80', 'message': 'WIP HA: minor update with new container image name\n\nChange-Id: Idb922e90028743c688eeb4e6d5fcae713cf14312\n'}, {'number': 2, 'created': '2022-10-14 15:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5a97ce6252e77e51bf92424b6b4d35ae7f335aeb', 'message': 'HA: Minor update with new container image name\n\nThis role encapsulates preparation steps that are required\nduring a minor update to change the container image name\nused by a HA service, without causing service disruption.\n\nRelated-Bug: #1992988\n\nChange-Id: Idb922e90028743c688eeb4e6d5fcae713cf14312\n'}, {'number': 3, 'created': '2022-10-18 20:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2f40be1b1dab23a69f114f5c35c1027f55d140c', 'message': 'HA: Minor update with new container image name\n\nThis role encapsulates preparation steps that are required\nduring a minor update to change the container image name\nused by a HA service, without causing service disruption.\n\nRelated-Bug: #1992988\n\nChange-Id: Idb922e90028743c688eeb4e6d5fcae713cf14312\n'}, {'number': 4, 'created': '2023-02-14 14:10:23.000000000', 'files': ['tripleo_ansible/roles/tripleo_ha_image_update/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ha_wrapper/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/meta/main.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ha_wrapper/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1c463d03ba405de9cb9c378fec2a5be771290aa8', 'message': 'HA: Minor update with new container image name\n\nThis role encapsulates preparation steps that are required\nduring a minor update to change the container image name\nused by a HA service, without causing service disruption.\n\nRelated-Bug: #1992988\n\nChange-Id: Idb922e90028743c688eeb4e6d5fcae713cf14312\n'}]",12,861101,1c463d03ba405de9cb9c378fec2a5be771290aa8,36,7,4,20778,,,0,"HA: Minor update with new container image name

This role encapsulates preparation steps that are required
during a minor update to change the container image name
used by a HA service, without causing service disruption.

Related-Bug: #1992988

Change-Id: Idb922e90028743c688eeb4e6d5fcae713cf14312
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/861101/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ha_image_update/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/meta/main.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ha_image_update/defaults/main.yml', 'tripleo_ansible/roles/tripleo_ha_image_update/molecule/default/prepare.yml']",7,792f053f20ab7f4cb356d14038e710ce2faaae80,ha_image_upd,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all roles: - role: test_deps post_tasks: - name: Create fake pcs script lineinfile: path: ""/usr/bin/pcs"" line: ""#!/bin/bash"" create: true mode: 0755 ",,272,0
openstack%2Fironic~bugfix%2F21.2~If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,openstack/ironic,bugfix/21.2,If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,Fix anaconda stage2_id loading from image properties,NEW,2023-05-19 10:32:08.000000000,2023-06-27 10:43:39.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 10:32:08.000000000', 'files': ['ironic/common/pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f44e396e2a70351bc97e0e4771942994867d3977', 'message': 'Fix anaconda stage2_id loading from image properties\n\nAnaconda stage2 location is not verified nor loaded when kernel\nand ramdisk instance info on a node is already populated, due\nto a condition removed by commit 4d653ac225.\nThis change implements a check based on stage2 label presence\nthat again allows stage2 to be processed separately from kernel\nand ramdisk.\n\nAnd changes incorrect parameter check_on_exit passed to\noslo_concurrency.processutils.execute() to the correct one,\ncheck_exit_code.\n\nChange-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5\n(cherry picked from commit 7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1)\n'}]",2,883573,f44e396e2a70351bc97e0e4771942994867d3977,10,1,1,35987,,,0,"Fix anaconda stage2_id loading from image properties

Anaconda stage2 location is not verified nor loaded when kernel
and ramdisk instance info on a node is already populated, due
to a condition removed by commit 4d653ac225.
This change implements a check based on stage2 label presence
that again allows stage2 to be processed separately from kernel
and ramdisk.

And changes incorrect parameter check_on_exit passed to
oslo_concurrency.processutils.execute() to the correct one,
check_exit_code.

Change-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5
(cherry picked from commit 7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/73/883573/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/pxe_utils.py'],1,f44e396e2a70351bc97e0e4771942994867d3977,fix-anaconda-stage2-bugfix/21.2," if 'stage2' in anaconda_labels: 'ksvalidator', ks_file.name, check_exit_code=[0], attempts=1"," 'ksvalidator', ks_file.name, check_on_exit=[0], attempts=1",2,1
openstack%2Fironic~stable%2Fzed~If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,openstack/ironic,stable/zed,If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,Fix anaconda stage2_id loading from image properties,NEW,2023-05-19 10:33:12.000000000,2023-06-27 10:40:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 10:33:12.000000000', 'files': ['ironic/common/pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8fd5268c1877afc5131c134e06693caf00802e05', 'message': 'Fix anaconda stage2_id loading from image properties\n\nAnaconda stage2 location is not verified nor loaded when kernel\nand ramdisk instance info on a node is already populated, due\nto a condition removed by commit 4d653ac225.\nThis change implements a check based on stage2 label presence\nthat again allows stage2 to be processed separately from kernel\nand ramdisk.\n\nAnd changes incorrect parameter check_on_exit passed to\noslo_concurrency.processutils.execute() to the correct one,\ncheck_exit_code.\n\nChange-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5\n(cherry picked from commit 7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1)\n'}]",2,883576,8fd5268c1877afc5131c134e06693caf00802e05,10,1,1,35987,,,0,"Fix anaconda stage2_id loading from image properties

Anaconda stage2 location is not verified nor loaded when kernel
and ramdisk instance info on a node is already populated, due
to a condition removed by commit 4d653ac225.
This change implements a check based on stage2 label presence
that again allows stage2 to be processed separately from kernel
and ramdisk.

And changes incorrect parameter check_on_exit passed to
oslo_concurrency.processutils.execute() to the correct one,
check_exit_code.

Change-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5
(cherry picked from commit 7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/883576/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/pxe_utils.py'],1,8fd5268c1877afc5131c134e06693caf00802e05,fix-anaconda-stage2-stable/zed," if 'stage2' in anaconda_labels: 'ksvalidator', ks_file.name, check_exit_code=[0], attempts=1"," 'ksvalidator', ks_file.name, check_on_exit=[0], attempts=1",2,1
openstack%2Fironic~bugfix%2F21.3~If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,openstack/ironic,bugfix/21.3,If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,Fix anaconda stage2_id loading from image properties,NEW,2023-05-19 10:32:19.000000000,2023-06-27 10:18:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 10:32:19.000000000', 'files': ['ironic/common/pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a103a9a1174ce40ff3a76220d4b1e1765cd19e73', 'message': 'Fix anaconda stage2_id loading from image properties\n\nAnaconda stage2 location is not verified nor loaded when kernel\nand ramdisk instance info on a node is already populated, due\nto a condition removed by commit 4d653ac225.\nThis change implements a check based on stage2 label presence\nthat again allows stage2 to be processed separately from kernel\nand ramdisk.\n\nAnd changes incorrect parameter check_on_exit passed to\noslo_concurrency.processutils.execute() to the correct one,\ncheck_exit_code.\n\nChange-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5\n(cherry picked from commit 7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1)\n'}]",2,883574,a103a9a1174ce40ff3a76220d4b1e1765cd19e73,10,1,1,35987,,,0,"Fix anaconda stage2_id loading from image properties

Anaconda stage2 location is not verified nor loaded when kernel
and ramdisk instance info on a node is already populated, due
to a condition removed by commit 4d653ac225.
This change implements a check based on stage2 label presence
that again allows stage2 to be processed separately from kernel
and ramdisk.

And changes incorrect parameter check_on_exit passed to
oslo_concurrency.processutils.execute() to the correct one,
check_exit_code.

Change-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5
(cherry picked from commit 7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/883574/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/pxe_utils.py'],1,a103a9a1174ce40ff3a76220d4b1e1765cd19e73,fix-anaconda-stage2-bugfix/21.3," if 'stage2' in anaconda_labels: 'ksvalidator', ks_file.name, check_exit_code=[0], attempts=1"," 'ksvalidator', ks_file.name, check_on_exit=[0], attempts=1",2,1
openstack%2Foslo.db~master~Ie019c9cae96e7065ff2e1203c40f464e61e55d40,openstack/oslo.db,master,Ie019c9cae96e7065ff2e1203c40f464e61e55d40,options: Remove deprecated option aliases,NEW,2021-06-25 17:19:56.000000000,2023-06-27 09:51:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-25 17:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/b524b4ee67461564cc233eb26e906e331f3f83ae', 'message': 'options: Remove deprecated option aliases\n\nThese have been deprecated for some time. Time to remove them.\n\nChange-Id: Ie019c9cae96e7065ff2e1203c40f464e61e55d40\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 2, 'created': '2021-07-28 14:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/90ed2ff6dafff11834e775e0de47d51d08a18b7a', 'message': 'options: Remove deprecated option aliases\n\nThese have been deprecated for some time. Time to remove them.\n\nChange-Id: Ie019c9cae96e7065ff2e1203c40f464e61e55d40\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 3, 'created': '2022-02-11 18:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/daf8344794a2346fb6ee1209db0d426144815089', 'message': 'options: Remove deprecated option aliases\n\nThese have been deprecated for some time. Time to remove them.\n\nChange-Id: Ie019c9cae96e7065ff2e1203c40f464e61e55d40\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 4, 'created': '2022-02-11 18:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/dce18e3d5177dbdc2c082664222af23a509bddfc', 'message': 'options: Remove deprecated option aliases\n\nThese have been deprecated for some time. Time to remove them.\n\nChange-Id: Ie019c9cae96e7065ff2e1203c40f464e61e55d40\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 5, 'created': '2022-07-20 14:57:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/3b16d02f8b5bba0171fcbab6dd445fe4dbb3bf66', 'message': 'options: Remove deprecated option aliases\n\nThese have been deprecated for some time. Time to remove them.\n\nChange-Id: Ie019c9cae96e7065ff2e1203c40f464e61e55d40\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}, {'number': 6, 'created': '2023-04-17 12:39:19.000000000', 'files': ['oslo_db/options.py', 'releasenotes/notes/remove-deprecated-opts-1d095911e82fee3b.yaml', 'oslo_db/tests/sqlalchemy/test_options.py'], 'web_link': 'https://opendev.org/openstack/oslo.db/commit/bf90aed0f7b19441644de2be807ec680ad86b1b1', 'message': 'options: Remove deprecated option aliases\n\nThese have been deprecated for some time. Time to remove them.\n\nChange-Id: Ie019c9cae96e7065ff2e1203c40f464e61e55d40\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,798141,bf90aed0f7b19441644de2be807ec680ad86b1b1,11,2,6,15334,,,0,"options: Remove deprecated option aliases

These have been deprecated for some time. Time to remove them.

Change-Id: Ie019c9cae96e7065ff2e1203c40f464e61e55d40
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/oslo.db refs/changes/41/798141/2 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_db/options.py', 'releasenotes/notes/remove-deprecated-opts-1d095911e82fee3b.yaml', 'oslo_db/tests/sqlalchemy/test_options.py']",3,b524b4ee67461564cc233eb26e906e331f3f83ae,cleanup,," def test_deprecated_session_parameters(self): path = self.create_tempfiles([[""tmp"", b""""""[DEFAULT] sql_connection=x://y.z sql_max_retries=30 sql_retry_interval=40 sql_max_overflow=50 sql_connection_debug=60 sql_connection_trace=True """"""]])[0] self.conf(['--config-file', path]) self.assertEqual('x://y.z', self.conf.database.connection) self.assertEqual(30, self.conf.database.max_retries) self.assertEqual(40, self.conf.database.retry_interval) self.assertEqual(50, self.conf.database.max_overflow) self.assertEqual(60, self.conf.database.connection_debug) self.assertEqual(True, self.conf.database.connection_trace) def test_dbapi_database_deprecated_parameters(self): path = self.create_tempfiles([['tmp', b'[DATABASE]\n' b'sql_connection=fake_connection\n' b'sql_max_retries=22\n' b'reconnect_interval=17\n' b'sqlalchemy_max_overflow=101\n' b'sqlalchemy_pool_timeout=5\n' ]])[0] self.conf(['--config-file', path]) self.assertEqual('fake_connection', self.conf.database.connection) self.assertEqual(22, self.conf.database.max_retries) self.assertEqual(17, self.conf.database.retry_interval) self.assertEqual(101, self.conf.database.max_overflow) self.assertEqual(5, self.conf.database.pool_timeout) def test_dbapi_database_deprecated_parameters_sql(self): path = self.create_tempfiles([['tmp', b'[sql]\n' b'connection=test_sql_connection\n' ]])[0] self.conf(['--config-file', path]) self.assertEqual('test_sql_connection', self.conf.database.connection) def test_deprecated_dbapi_parameters(self): path = self.create_tempfiles([['tmp', b'[DEFAULT]\n' b'db_backend=test_123\n' ]])[0] self.conf(['--config-file', path]) self.assertEqual('test_123', self.conf.database.backend) ",19,75
openstack%2Fpuppet-keystone~master~I1abe90a8f060804c6cc1660158360dfeac4495ad,openstack/puppet-keystone,master,I1abe90a8f060804c6cc1660158360dfeac4495ad,Validate status of cron resource,MERGED,2023-06-22 07:25:04.000000000,2023-06-27 09:44:11.000000000,2023-06-27 09:44:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-22 07:25:04.000000000', 'files': ['manifests/cron/trust_flush.pp', 'manifests/cron/fernet_rotate.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/91215fcb4699fd605df567614205cfa4b498e577', 'message': 'Validate status of cron resource\n\nThis makes sure that the supported value is used for the parameters\nwhich determine the ensure property of a cron resource type.\n\nChange-Id: I1abe90a8f060804c6cc1660158360dfeac4495ad\n'}]",2,886723,91215fcb4699fd605df567614205cfa4b498e577,13,3,1,9816,,,0,"Validate status of cron resource

This makes sure that the supported value is used for the parameters
which determine the ensure property of a cron resource type.

Change-Id: I1abe90a8f060804c6cc1660158360dfeac4495ad
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/23/886723/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/trust_flush.pp', 'manifests/cron/fernet_rotate.pp']",2,91215fcb4699fd605df567614205cfa4b498e577,cron-ensure," Enum['present', 'absent'] $ensure = present, $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0, $user = $::keystone::params::user,"," $ensure = present, $minute = 1, $hour = 0, $monthday = '*', $month = '*', $weekday = '*', $maxdelay = 0, $user = $::keystone::params::user,",18,18
openstack%2Fironic~bugfix%2F21.0~If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,openstack/ironic,bugfix/21.0,If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5,Fix anaconda stage2_id loading from image properties,NEW,2023-05-19 10:31:41.000000000,2023-06-27 09:37:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-19 10:31:41.000000000', 'files': ['ironic/common/pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/516d547c332a0ae675578e2a325bdf8053436dcf', 'message': 'Fix anaconda stage2_id loading from image properties\n\nAnaconda stage2 location is not verified nor loaded when kernel\nand ramdisk instance info on a node is already populated, due\nto a condition removed by commit 4d653ac225.\nThis change implements a check based on stage2 label presence\nthat again allows stage2 to be processed separately from kernel\nand ramdisk.\n\nAnd changes incorrect parameter check_on_exit passed to\noslo_concurrency.processutils.execute() to the correct one,\ncheck_exit_code.\n\nChange-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5\n(cherry picked from commit 7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1)\n'}]",1,883572,516d547c332a0ae675578e2a325bdf8053436dcf,5,1,1,35987,,,0,"Fix anaconda stage2_id loading from image properties

Anaconda stage2 location is not verified nor loaded when kernel
and ramdisk instance info on a node is already populated, due
to a condition removed by commit 4d653ac225.
This change implements a check based on stage2 label presence
that again allows stage2 to be processed separately from kernel
and ramdisk.

And changes incorrect parameter check_on_exit passed to
oslo_concurrency.processutils.execute() to the correct one,
check_exit_code.

Change-Id: If7bfc99f200fd0bfc9fbe2a4c8d039ba6ae8d0c5
(cherry picked from commit 7a5f80cec758526c6fff62cfdd511fd6d1ae0ea1)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/883572/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/pxe_utils.py'],1,516d547c332a0ae675578e2a325bdf8053436dcf,fix-anaconda-stage2-bugfix/21.0," if 'stage2' in anaconda_labels: 'ksvalidator', ks_file.name, check_exit_code=[0], attempts=1"," 'ksvalidator', ks_file.name, check_on_exit=[0], attempts=1",2,1
openstack%2Fnova-specs~master~I230ee696fdd6b6709144eda4f377617d4d998bb9,openstack/nova-specs,master,I230ee696fdd6b6709144eda4f377617d4d998bb9,Re-propose spec for ephemeral encryption for libvirt,MERGED,2023-06-26 23:14:31.000000000,2023-06-27 09:31:13.000000000,2023-06-27 09:29:48.000000000,"[{'_account_id': 7166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 23:14:31.000000000', 'files': ['specs/2023.2/approved/ephemeral-encryption-libvirt.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/554c30522b8587a9595cf6c181342e89e053ac46', 'message': 'Re-propose spec for ephemeral encryption for libvirt\n\nPreviously-approved: 2023.1, Zed, Yoga, Xena, Wallaby\n\nRelated to blueprint ephemeral-encryption-libvirt\n\nChange-Id: I230ee696fdd6b6709144eda4f377617d4d998bb9\n'}]",1,887012,554c30522b8587a9595cf6c181342e89e053ac46,7,2,1,4690,,,0,"Re-propose spec for ephemeral encryption for libvirt

Previously-approved: 2023.1, Zed, Yoga, Xena, Wallaby

Related to blueprint ephemeral-encryption-libvirt

Change-Id: I230ee696fdd6b6709144eda4f377617d4d998bb9
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/12/887012/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.2/approved/ephemeral-encryption-libvirt.rst'],1,554c30522b8587a9595cf6c181342e89e053ac46,bp/ephemeral-encryption-libvirt,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================================================================== libvirt driver support for flavor and image defined ephemeral encryption ======================================================================== https://blueprints.launchpad.net/nova/+spec/ephemeral-encryption-libvirt This spec outlines the specific libvirt virt driver implementation to support the Flavor and Image defined ephemeral storage encryption [1]_ spec. Problem description =================== The libvirt virt driver currently provides very limited support for ephemeral disk encryption through the ``LVM`` imagebackend and the use of the ``PLAIN`` encryption format provided by ``dm-crypt``. As outlined in the Flavor and Image defined ephemeral storage encryption [1]_ spec this current implementation is controlled through compute host configurables and is transparent to end users, unlike block storage volume encryption via Cinder. With the introduction of the Flavor and Image defined ephemeral storage encryption [1]_ spec we can now implement support for encrypting ephemeral disks via images and flavors, allowing support for newer encryption formats such as `LUKSv1`. This also has the benefit of being natively supported by `QEMU`, as already seen in the libvirt driver when attaching `LUKSv1` encrypted volumes provided by Cinder. Use Cases --------- * As a user of a cloud with libvirt based computes I want to request that all of my ephemeral storage be encrypted at rest through the selection of a specific flavor or image. * As a user of a cloud with libvirt based computes I want to be able to pick how my ephemeral storage be encrypted at rest through the selection of a specific flavor or image. * As a user I want each encrypted ephemeral disk attached to my instance to have a separate unique secret associated with it. * As an operator I want to allow users to request that the ephemeral storage of their instances is encrypted using the flexible ``LUKSv1`` encryption format. Proposed change =============== Deprecate the legacy implementation within the libvirt driver ------------------------------------------------------------- The legacy implementation using ``dm-crypt`` within the libvirt virt driver needs to be deprecated ahead of removal in a future release, this includes the following options: * ``[ephemeral_storage_encryption]/enabled`` * ``[ephemeral_storage_encryption]/cipher`` * ``[ephemeral_storage_encryption]/key_size`` Limited support for ``dm-crypt`` will be introduced using the new framework before this original implementation is removed. Populate disk_info with encryption properties --------------------------------------------- The libvirt driver has an additional ``disk_info`` dict built from the contents of the previously mentioned ``block_device_info`` and image metadata associated with an instance. With the introduction of the ``DriverImageBlockDevice`` within the Flavor and Image defined ephemeral storage encryption [1]_ spec we can now avoid the need to look again at image metadata while also adding some ephemeral encryption related metadata to the dict. This dict currently contains the following: ``disk_bus`` The default bus used by disks ``cdrom_bus`` The default bus used by cd-rom drives ``mapping`` A nested dict keyed by disk name including information about each disk. Each item within the ``mapping`` dict containing following keys: ``bus`` The bus for this disk ``dev`` The device name for this disk as known to libvirt ``type`` A type from the BlockDeviceType enum ('disk', 'cdrom','floppy', 'fs', or 'lun') It can also contain the following optional keys: ``format`` Used to format swap/ephemeral disks before passing to instance (e.g. 'swap', 'ext4') ``boot_index`` The 1-based boot index of the disk. In addition to the above this spec will also optionally add the following keys for encrypted disks: ``encryption_format`` The encryption format used by the disk ``encryption_options`` A dict of encryption options ``encryption_secret_uuid`` The UUID of the encryption secret associated with the disk Handle ephemeral disk encryption within imagebackend ---------------------------------------------------- With the above in place we can now add encryption support within each image backend. As highlighted at the start of this spec this initial support will only be for the ``LUKSv1`` encryption format. Generic key management code will be introduced into the base ``nova.virt.libvirt.imagebackend.Image`` class and used to create and store the encryption secret within the configured key manager. The initial ``LUKSv1`` support will store a passphrase for each disk within the key manager. This is unlike the current ephemeral storage encryption or encrypted volume implementations that currently store a symmetric key in the key manager. This remains a long running piece of technical debt in the encrypted volume implementation as ``LUKSv1`` does not directly encrypt data with the provided key. The base ``nova.virt.libvirt.imagebackend.Image`` class will also be extended to accept and store the optional encryption details provided by ``disk_info`` above including the format, options and secret UUID. Each backend will then be modified to encrypt disks during ``nova.virt.libvirt.imagebackend.Image.create_image`` using the provided format, options and secret. Enable the ``COMPUTE_EPHEMERAL_ENCRYPTION_LUKS`` trait ------------------------------------------------------ Finally, with the above support in place the ``COMPUTE_EPHEMERAL_ENCRYPTION`` and ``COMPUTE_EPHEMERAL_ENCRYPTION_LUKS`` traits can be enabled when using a backend that supports ``LUKSv1``. This will in turn enable scheduling to the compute of any user requests asking for ephemeral storage encryption using the format. Alternatives ------------ Continue to use the transparent host configurables and expand support to other encryption formats such as ``LUKS``. Data model impact ----------------- As discussed above the ephemeral encryption keys will be added to the disk_info for individual disks within the libvirt driver. REST API impact --------------- N/A Security impact --------------- This should hopefully be positive given the unique secret per disk and user visible choice regarding how their ephemeral storage is encrypted at rest. Notifications impact -------------------- N/A Other end user impact --------------------- Users will now need to opt-in to ephemeral storage encryption being used by their instances through their choice of image or flavors. Performance Impact ------------------ QEMU will natively decrypt these ``LUKSv1`` ephemeral disks for us using the ``libgcrypt`` library. While there have been performance issues with this in the past workarounds [2]_ can be implemented that use ``dm-crypt`` instead. Other deployer impact --------------------- N/A Developer impact ---------------- This spec will aim to implement ``LUKSv1`` support for all imagebackends but in the future any additional encryption formats supported by these backends will need to ensure matching traits are also enabled. Upgrade impact -------------- The legacy implementation is deprecated but will continue to work for the time being. As the new implementation is separate there is no further upgrade impact. Implementation ============== Assignee(s) ----------- Primary assignee: melwitt Other contributors: lyarwood Feature Liaison --------------- Feature liaison: melwitt Work Items ---------- * Populate the individual disk dicts within ``disk_info`` with any ephemeral encryption properties. * Provide these properties to the imagebackends when creating each disk. * Introduce support for ``LUKSv1`` based encryption within the imagebackends. * Enable the ``COMPUTE_EPHEMERAL_ENCRYPTION_LUKS`` trait when the selected imagebackend supports ``LUKSv1``. Dependencies ============ * Flavor and Image defined ephemeral storage encryption [1]_ Testing ======= Unlike the parent spec once imagebackends support ``LUKSv1`` and enable the required trait we can introduce Tempest based testing of this implementation in addition to extensive functional and unit based tests. Documentation Impact ==================== * New user documentation around the specific ``LUKSv1`` support for ephemeral encryption within the libvirt driver. * Reference documentation around the changes to the virt block device layer. * Document that for the ``raw`` imagebackend, both ``[libvirt]images_type = raw`` and ``[DEFAULT]use_cow_images = False`` must be configured in order for resize to work. This is also true without encryption but it may still be helpful to users. * Document that a user must have policy permission to create secrets in Barbican in order for encryption to work for that user. Secrets are created in Barbican using the user's auth token. Admins have permission to create secrets in Barbican by default. References ========== .. [1] https://specs.openstack.org/openstack/nova-specs/specs/2023.2/approved/ephemeral-encryption.html .. [2] https://docs.openstack.org/nova/victoria/configuration/config.html#workarounds.disable_native_luksv1 .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Wallaby - Introduced * - Yoga - Reproposed * - Zed - Reproposed * - 2023.1 Antelope - Reproposed * - 2023.2 Bobcat - Reproposed ",,298,0
openstack%2Fswift~master~I732d0984c84a12650b18652ea5051d23be4853e3,openstack/swift,master,I732d0984c84a12650b18652ea5051d23be4853e3,Adjust column width,ABANDONED,2023-06-22 04:45:46.000000000,2023-06-27 08:00:41.000000000,,"[{'_account_id': 597}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-22 04:45:46.000000000', 'files': ['bin/swift-drive-audit'], 'web_link': 'https://opendev.org/openstack/swift/commit/6da6b17f6e947a3a4ecde14afd2efb038d300ed3', 'message': 'Adjust column width\n\nChange-Id: I732d0984c84a12650b18652ea5051d23be4853e3\n'}]",3,886704,6da6b17f6e947a3a4ecde14afd2efb038d300ed3,5,2,1,36116,,,0,"Adjust column width

Change-Id: I732d0984c84a12650b18652ea5051d23be4853e3
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/886704/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-drive-audit'],1,6da6b17f6e947a3a4ecde14afd2efb038d300ed3,TOPIC-BRANCH," # In this case, an error search in the Kernel logs must also # be carried out, and the device unmounted if necessary devices.append(device)",,3,0
openstack%2Fswift~master~I8db8988b199708cf019bbb7d33405bf2ef09d4c9,openstack/swift,master,I8db8988b199708cf019bbb7d33405bf2ef09d4c9,Add Major:Minor detection,ABANDONED,2023-06-22 09:48:49.000000000,2023-06-27 08:00:28.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-22 09:48:49.000000000', 'files': ['bin/swift-drive-audit'], 'web_link': 'https://opendev.org/openstack/swift/commit/e65ca2f84ad2ee2968a7660b4eeb722130284603', 'message': 'Add Major:Minor detection\n\nChange-Id: I8db8988b199708cf019bbb7d33405bf2ef09d4c9\n'}]",2,886733,e65ca2f84ad2ee2968a7660b4eeb722130284603,4,1,1,36116,,,0,"Add Major:Minor detection

Change-Id: I8db8988b199708cf019bbb7d33405bf2ef09d4c9
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/886733/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-drive-audit'],1,e65ca2f84ad2ee2968a7660b4eeb722130284603,TOPIC-BRANCH," with os.scandir(""/dev/block"") as it: for entry in it: if entry.is_symlink(): dev_name = os.path.basename(os.readlink(entry.path)) if dev_name == os.path.basename(block_device): majmin = os.path.basename(entry.path).split(':') device['major'] = majmin[0] device['minor'] = majmin[1] devices.append(device)", devices.append(device),9,1
openstack%2Fswift~master~If36b428ac24b05a77a7fcd324256e6357d2ee410,openstack/swift,master,If36b428ac24b05a77a7fcd324256e6357d2ee410,Adjust column width,ABANDONED,2023-06-23 04:46:35.000000000,2023-06-27 07:59:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-06-23 04:46:35.000000000', 'files': ['bin/swift-drive-audit'], 'web_link': 'https://opendev.org/openstack/swift/commit/159ffe655d6f5f8b4e313d510e5218482cc3688a', 'message': 'Adjust column width\n\nChange-Id: If36b428ac24b05a77a7fcd324256e6357d2ee410\n'}]",1,886802,159ffe655d6f5f8b4e313d510e5218482cc3688a,5,1,1,36116,,,0,"Adjust column width

Change-Id: If36b428ac24b05a77a7fcd324256e6357d2ee410
",git fetch https://review.opendev.org/openstack/swift refs/changes/02/886802/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/swift-drive-audit'],1,159ffe655d6f5f8b4e313d510e5218482cc3688a,TOPIC-BRANCH," for ent in it: if ent.is_symlink(): dev_name = os.path.basename(os.readlink(ent.path)) if dev_name == os.path.basename(block_device): majmin = os.path.basename(ent.path).split(':') prev_ent_month = now_time.strftime('%b') log_time_ent = line.split()[:3] if log_time_ent[0] == 'Dec' and prev_ent_month == 'Jan': prev_ent_month = log_time_ent[0] log_time_string = '%d %s' % (year, ' '.join(log_time_ent))"," for entry in it: if entry.is_symlink(): dev_name = os.path.basename(os.readlink(entry.path)) if dev_name == os.path.basename(block_device): majmin = os.path.basename(entry.path).split(':') prev_entry_month = now_time.strftime('%b') log_time_entry = line.split()[:3] if log_time_entry[0] == 'Dec' and prev_entry_month == 'Jan': prev_entry_month = log_time_entry[0] log_time_string = '%d %s' % (year, ' '.join(log_time_entry))",9,9
openstack%2Ftripleo-heat-templates~master~Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3,openstack/tripleo-heat-templates,master,Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3,HA: minor update with new container image name,ABANDONED,2022-09-23 14:53:14.000000000,2023-06-27 06:56:12.000000000,,"[{'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}, {'_account_id': 33080}, {'_account_id': 35080}]","[{'number': 1, 'created': '2022-09-23 14:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e734e8a2716665cb41dd416da93a1e071295968c', 'message': 'WIP HA: minor update with new container image name\n\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 2, 'created': '2022-09-28 16:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/518b647d03a954c6bed39e4fda00647b06c6fc4d', 'message': 'WIP HA: minor update with new container image name\n\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 3, 'created': '2022-09-30 10:50:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30237e1303f49d43936bdef01e0756303587ba6b', 'message': 'WIP HA: minor update with new container image name\n\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 4, 'created': '2022-10-04 09:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9721d09e9007eb21af935a5c8b1c7e51dc26fbd7', 'message': 'WIP HA: minor update with new container image name\n\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 5, 'created': '2022-10-04 13:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14537032b5c74069d1f0b7a7f0e84ec8b6da128f', 'message': 'WIP HA: minor update with new container image name\n\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 6, 'created': '2022-10-14 15:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/641ba8e95440cb52b72b19c8431c16523c4fc17e', 'message': 'WIP HA: minor update with new container image name\n\nCloses-Bug: #1992988\n\nDepends-On: Idb922e90028743c688eeb4e6d5fcae713cf14312\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 7, 'created': '2022-10-17 20:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14b82ab816861be9677620fca97ce86cc0a75296', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: Idb922e90028743c688eeb4e6d5fcae713cf14312\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 8, 'created': '2022-11-29 13:00:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/acd50b0fe9fbab2c7b3e6841474b92ee71963fca', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: Idb922e90028743c688eeb4e6d5fcae713cf14312\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 9, 'created': '2023-01-27 17:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d512269e03c92e8f62fd4b546ac919d6e39ad14', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: Idb922e90028743c688eeb4e6d5fcae713cf14312\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 10, 'created': '2023-02-14 14:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ccac12b5310a4ddfd4338f8a2572a7875c0be8fa', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: Idb922e90028743c688eeb4e6d5fcae713cf14312\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}, {'number': 11, 'created': '2023-02-15 10:47:22.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/cinder/cinder-backup-pacemaker-puppet.yaml', 'deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/ovn/ovn-dbs-pacemaker-puppet.yaml', 'deployment/cinder/cinder-volume-pacemaker-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'releasenotes/notes/ha_image_update-f9d7054b9f07b125.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9360f8a598e05c6b6a844bc325023acd4da6d7d', 'message': 'HA: minor update with new container image name\n\nPacemaker-managed services use intermediate container\nimage names internally to implement minor updates without\nservice disruption. The naming scheme is configured at\ninitial deployment from Heat parameters ClusterCommonTag\nand ClusterFullTag.\n\nThis change makes it possible to change the configured\nnaming scheme during a minor update, without causing\nservice disruption. It works by running new external\nupdate tasks to prepare for the switch prior to the\nminor update.\n\nCloses-Bug: #1992988\n\nDepends-On: Idb922e90028743c688eeb4e6d5fcae713cf14312\nChange-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3\n'}]",10,859110,c9360f8a598e05c6b6a844bc325023acd4da6d7d,39,7,11,20778,,,0,"HA: minor update with new container image name

Pacemaker-managed services use intermediate container
image names internally to implement minor updates without
service disruption. The naming scheme is configured at
initial deployment from Heat parameters ClusterCommonTag
and ClusterFullTag.

This change makes it possible to change the configured
naming scheme during a minor update, without causing
service disruption. It works by running new external
update tasks to prepare for the switch prior to the
minor update.

Closes-Bug: #1992988

Depends-On: Idb922e90028743c688eeb4e6d5fcae713cf14312
Change-Id: Ic6da7d30105f14fb793c2e834ebf8dcdd7c719a3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/859110/11 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,e734e8a2716665cb41dd416da93a1e071295968c,ha_image_upd," - - block: &galera_container_image_facts - name: Get galera image from pacemaker register: xmllint_pcmk_galera_image # empty at initial deployment shell: 'xmllint --xpath ""string(//bundle[@id=''galera-bundle'']/podman/@image)"" /var/lib/pacemaker/cib/cib.xml' failed_when: xmllint_pcmk_galera_image.rc not in [0,1] - name: Get container galera image set_fact: # container image to use for deployment galera_image: {get_attr: [RoleParametersValue, value, ContainerMysqlImage]} # pacemaker bundle image name to use for deployment galera_image_latest: *mysql_image_pcmklatest # image currently configured in pacemaker bundle pcmk_galera_image: '{{xmllint_pcmk_galera_image.stdout}}' when: step|int in [1,2] - name: Initial MySQL container image tag for pacemaker when: - step|int == 1 - pcmk_galera_image == '' container_image: '{{galera_image}}' container_image_latest: '{{galera_image_latest}}' - name: MySQL temporary pacemaker container tag in case of image switch when: - step|int == 1 - (pcmk_galera_image != """") - (pcmk_galera_image != galera_image_latest) include_role: name: tripleo-container-tag vars: container_image: '{{pcmk_galera_image}}' container_image_latest: '{{galera_image_latest}}' tripleo_container_pull_image: false when: - step|int == 2 - (pcmk_galera_image == '') or ((tripleo_minor_update is not defined) and (pcmk_galera_image == galera_image_latest)) or ((tripleo_minor_update is defined) and (tripleo_minor_update == true)) - block: *galera_container_image_facts when: step|int in [2,5] - include_role: name: tripleo-container-tag name: Retag pcmklatest to latest galera image vars: container_image: '{{galera_image}}' container_image_latest: '{{galera_image_latest}}' - include_role: name: tripleo-container-tag name: Temporary retag current pacemaker image to latest galera image vars: container_image: '{{galera_image}}' container_image_latest: '{{pcmk_galera_image}}' when: - pcmk_galera_image != galera_image_latest - name: Check if the galera pacemaker resource requires a container image update when: - step|int == 5 - pcmk_galera_image != galera_image_latest block: - name: Check galera bootstrap node condition set_fact: is_mysql_bootstrap_node={{mysql_short_bootstrap_node_name|lower == ansible_facts['hostname']|lower}} - when: - is_mysql_bootstrap_node|bool block: # At this step, temporary tags have already been set up on other nodes by # the 'update prepare' step. So it's safe to modify the configured image # and keep the containers running - name: Wait for local galera to be fully restarted # note(dciabrin) parse the CIB until pacemaker_ansible can wait for local bundle replica shell: 'crm_mon -1X | xmllint --xpath ""//bundle[@id=''galera-bundle'']/replica/resource[@role=''Master'']/../resource/node[@name=''{{mysql_short_bootstrap_node_name}}'']"" -' retries: 6 delay: 10 register: wait until: wait.rc == 0 - name: Unmanage the galera resource pacemaker_resource: resource: galera-bundle state: unmanage - name: Update the galera bundle to use the new container image name command: ""pcs resource bundle update galera-bundle container image={{galera_image_latest}}"" - name: Refresh pacemaker status to pick up the container image config command: ""pcs resource refresh galera-bundle"" - name: Give back control of the galera resource to pacemaker pacemaker_resource: resource: galera-bundle state: manage - name: Remove old pacemaker container image tag command: '{{container_cli}} rmi {{pcmk_galera_image}}'"," - - name: MySQL tag container image for pacemaker when: step|int == 1 container_image: {get_attr: [RoleParametersValue, value, ContainerMysqlImage]} container_image_latest: *mysql_image_pcmklatest when: step|int == 2 - name: Get container galera image set_fact: galera_image: {get_attr: [RoleParametersValue, value, ContainerMysqlImage]} galera_image_latest: *mysql_image_pcmklatest - name: Pull latest galera images command: ""{{container_cli}} pull {{galera_image}}"" register: result retries: 3 delay: 3 until: result.rc == 0 - name: Get previous galera image id shell: ""{{container_cli}} inspect --format '{{'{{'}}.Id{{'}}'}}' {{galera_image_latest}}"" register: old_galera_image_id failed_when: false - name: Get new galera image id shell: ""{{container_cli}} inspect --format '{{'{{'}}.Id{{'}}'}}' {{galera_image}}"" register: new_galera_image_id - name: Retag pcmklatest to latest galera image include_role: name: tripleo_container_tag vars: container_image: ""{{galera_image}}"" container_image_latest: ""{{galera_image_latest}}"" when: - old_galera_image_id.stdout != new_galera_image_id.stdout",85,28
openstack%2Fswift~master~I2e0352bf8c0235438f92e202f403840b4aee337a,openstack/swift,master,I2e0352bf8c0235438f92e202f403840b4aee337a,WIP: Split the inter_shard_range interface into 2,ABANDONED,2023-05-09 07:02:36.000000000,2023-06-27 06:55:43.000000000,,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-09 07:02:36.000000000', 'files': ['swift/common/utils/__init__.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4c68b23e6234f6b71be01b2641c541de5f5fedc6', 'message': 'WIP: Split the inter_shard_range interface into 2\n\nChange-Id: I2e0352bf8c0235438f92e202f403840b4aee337a\n'}]",7,882671,4c68b23e6234f6b71be01b2641c541de5f5fedc6,8,2,1,7233,,,0,"WIP: Split the inter_shard_range interface into 2

Change-Id: I2e0352bf8c0235438f92e202f403840b4aee337a
",git fetch https://review.opendev.org/openstack/swift refs/changes/71/882671/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/utils/__init__.py', 'swift/common/internal_client.py']",2,4c68b23e6234f6b71be01b2641c541de5f5fedc6,listing_sr_cache,"from swift.common.utils import quote, close_if_possible, drain_and_close, \ Namespace states=[], include_deleted=False, override_deleted=False, params=None, acceptable_statuses=(2, HTTP_NOT_FOUND)): """""" Returns an iterator of shard range dicts from a container. This is an expensive request as it sends a request to all primaries to find the latest set of ranges, plus it'll always bypass any caching layer. :param account: The container's account. :param container: Container to iterate shards on. :param marker: restricts the returned list to shard ranges whose namespace includes or is greater than the marker value. :param end_marker: restricts the returned list to shard ranges whose namespace includes or is less than the end_marker value. :param includes: restricts the returned list to the shard range that includes the given value; if ``includes`` is specified then ``marker`` and ``end_marker`` are ignored. :param states: An optional list of either the string or integer representation of :data:`~swift.common.utils.ShardRange.STATES`. :param newest: Wait for a response from all primaries and return the latest/newest response. :param include_deleted: Include shardranges marked as deleted. :param override_deleted: Check a container even if it's marked as deleted. :param params: Dictionary of additional params to add to the request. :param acceptable_statuses: List of status for valid responses, defaults to (2, HTTP_NOT_FOUND). :raises UnexpectedResponse: Exception raised when requests fail to get a response with an acceptable status :raises Exception: Exception is raised when code fails in an unexpected way. """""" for item in self._iter_shard_ranges( account=account, container=container, marker=marker, end_marker=end_marker, includes=includes, states=states, newest=True, include_deleted=include_deleted, override_delete=override_deleted, params=params, acceptable_statuses=acceptable_statuses): yield item def iter_namespaces( self, account, container, marker='', end_marker='', includes=None, states=[], include_deleted=False, override_deleted=False, params=None, acceptable_statuses=(2, HTTP_NOT_FOUND)): """""" Returns an iterator of namespace dicts from a container. This will always return a namespace dict, either via the cache or container layer. if it's from a container the response will be cast into :Namespace:`~swift.common.utils.Namespace` object. :param account: The container's account. :param container: Container to iterate namespaces on. :param marker: restricts the returned list to namespaces whose namespace includes or is greater than the marker value. :param end_marker: restricts the returned list to namespaces whose namespace includes or is less than the end_marker value. :param includes: restricts the returned list to the namespace that includes the given value; if ``includes`` is specified then ``marker`` and ``end_marker`` are ignored. :param states: An optional list of either the string or integer representation of :data:`~swift.common.utils.ShardRange.STATES`. :param include_deleted: Include namespaces marked as deleted. :param override_deleted: Check a container even if it's marked as deleted. :param params: Dictionary of additional params to add to the request. :param acceptable_statuses: List of status for valid responses, defaults to (2, HTTP_NOT_FOUND). :raises UnexpectedResponse: Exception raised when requests fail to get a response with an acceptable status :raises Exception: Exception is raised when code fails in an unexpected way. """""" for item in self._iter_shard_ranges( account=account, container=container, marker=marker, end_marker=end_marker, includes=includes, states=states, newest=False, include_deleted=include_deleted, override_delete=override_deleted, params=params, acceptable_statuses=acceptable_statuses): yield dict(Namespace.from_dict(item)) def _iter_shard_ranges( self, account, container, marker='', end_marker='', includes=None,","from swift.common.utils import quote, close_if_possible, drain_and_close",103,1
openstack%2Fos-net-config~master~Ibe54b25486b1e68c56da03a5356c758b1ccf74b3,openstack/os-net-config,master,Ibe54b25486b1e68c56da03a5356c758b1ccf74b3,Add ovs bridge/bond support with nmstate,MERGED,2023-06-12 04:49:02.000000000,2023-06-27 05:09:37.000000000,2023-06-27 05:08:41.000000000,"[{'_account_id': 12398}, {'_account_id': 18575}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-12 04:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/fe65855a1f0c4f451da5d4acb8a66796e56ca719', 'message': 'Add ovs bridge/bond support with nmstate\n\nAdded support for ovs-bridge with nmstate. Nmstate requires an\nOvS interafce to be attached to the bridge where the settings like\nMTU, IP address could be applied. This interface is created internaly\nto accomodate the same. Also ovs_extra / ovs_options support is also\nadded along with.\n\nChange-Id: Ibe54b25486b1e68c56da03a5356c758b1ccf74b3\n'}, {'number': 2, 'created': '2023-06-12 05:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/df4d5e05f2bd1e49ca47ed025ef0d7163c89735a', 'message': 'Add ovs bridge/bond support with nmstate\n\nAdded support for ovs-bridge with nmstate. Nmstate requires an\nOvS interafce to be attached to the bridge where the settings like\nMTU, IP address could be applied. This interface is created internaly\nto accomodate the same. Also ovs_extra / ovs_options support is also\nadded along with.\n\nChange-Id: Ibe54b25486b1e68c56da03a5356c758b1ccf74b3\n'}, {'number': 3, 'created': '2023-06-22 04:47:07.000000000', 'files': ['os_net_config/impl_nmstate.py', 'os_net_config/tests/test_impl_nmstate.py', 'os_net_config/objects.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/24c8cd32662b8836f9c54779bdfa24622bdd6c57', 'message': 'Add ovs bridge/bond support with nmstate\n\nAdded support for ovs-bridge with nmstate. Nmstate requires an\nOvS interafce to be attached to the bridge where the settings like\nMTU, IP address could be applied. This interface is created internaly\nto accomodate the same. Also ovs_extra / ovs_options support is also\nadded along with.\n\nChange-Id: Ibe54b25486b1e68c56da03a5356c758b1ccf74b3\n'}]",4,885835,24c8cd32662b8836f9c54779bdfa24622bdd6c57,13,3,3,18904,,,0,"Add ovs bridge/bond support with nmstate

Added support for ovs-bridge with nmstate. Nmstate requires an
OvS interafce to be attached to the bridge where the settings like
MTU, IP address could be applied. This interface is created internaly
to accomodate the same. Also ovs_extra / ovs_options support is also
added along with.

Change-Id: Ibe54b25486b1e68c56da03a5356c758b1ccf74b3
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/35/885835/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_net_config/impl_nmstate.py', 'os_net_config/tests/test_impl_nmstate.py', 'os_net_config/objects.py']",3,fe65855a1f0c4f451da5d4acb8a66796e56ca719,," elif obj_type == ""ovs_interface"": return OvsInterface.from_json(json)class OvsInterface(_BaseOpts): """"""Base class for ovs interfaces."""""" def __init__(self, name, use_dhcp=False, use_dhcpv6=False, addresses=None, routes=None, rules=None, mtu=None, primary=False, nic_mapping=None, persist_mapping=False, defroute=True, dhclient_args=None, dns_servers=None, nm_controlled=False, onboot=True, domain=None): addresses = addresses or [] routes = routes or [] rules = rules or [] dns_servers = dns_servers or [] super(OvsInterface, self).__init__( name, use_dhcp, use_dhcpv6, addresses, routes, rules, mtu, primary, nic_mapping, persist_mapping, defroute, dhclient_args, dns_servers, nm_controlled, onboot, domain) @staticmethod def from_json(json): name = _get_required_field(json, 'name', 'OvsInterface') opts = _BaseOpts.base_opts_from_json(json) return OvsInterface(name, *opts) ",,757,0
openstack%2Fswift~master~Ibd405b79820cedaf9cb02906b8c13c8d34f4d7ec,openstack/swift,master,Ibd405b79820cedaf9cb02906b8c13c8d34f4d7ec,proxy: error limit the correct node when resuming GETs,MERGED,2023-06-23 17:23:49.000000000,2023-06-27 04:44:17.000000000,2023-06-27 04:42:02.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-23 17:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/594253fe03e19beb8d65c77b5e36e0eb3ef5dc40', 'message': 'proxy: error limit the correct node when resuming GETs\n\nPreviously, when resuming a get using a new source node, the new\nsource node would be error limited rather than the old node. This\npatch adds a helper method to unify all cases when an old node should\nbe error limited, and ensures that the old rather than new node is\nlimited.\n\nChange-Id: Ibd405b79820cedaf9cb02906b8c13c8d34f4d7ec\n'}, {'number': 2, 'created': '2023-06-26 11:12:36.000000000', 'files': ['test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/68e48c8684aa6a7f4673b1f8750b06d1e8109ebd', 'message': 'proxy: error limit the correct node when resuming GETs\n\nIn some cases, when resuming a get using a new source node, the new\nsource node would be error limited rather than the old node. One case\nwas previously fixed [1], but other erroneous cases remain.\n\nThis patch adds a helper method to unify handling of all cases when an\nold node should be error limited, and ensures that the old rather than\nnew node is limited.\n\n[1] Related-Change: I02f9c0ffd879423211b87f7ac5acde762933f47d\nChange-Id: Ibd405b79820cedaf9cb02906b8c13c8d34f4d7ec\n'}]",11,886864,68e48c8684aa6a7f4673b1f8750b06d1e8109ebd,12,2,2,7847,,,0,"proxy: error limit the correct node when resuming GETs

In some cases, when resuming a get using a new source node, the new
source node would be error limited rather than the old node. One case
was previously fixed [1], but other erroneous cases remain.

This patch adds a helper method to unify handling of all cases when an
old node should be error limited, and ensures that the old rather than
new node is limited.

[1] Related-Change: I02f9c0ffd879423211b87f7ac5acde762933f47d
Change-Id: Ibd405b79820cedaf9cb02906b8c13c8d34f4d7ec
",git fetch https://review.opendev.org/openstack/swift refs/changes/64/886864/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/controllers/test_obj.py', 'swift/proxy/controllers/obj.py', 'swift/proxy/controllers/base.py']",3,594253fe03e19beb8d65c77b5e36e0eb3ef5dc40,unify-get," self.source = self.node = None def _get_source_and_node(self): raise NotImplementedError() def _replace_source_and_node(self, err_msg): # be defensive against _get_source_and_node modifying self.source # or self.node... old_source = self.source old_node = self.node new_source, new_node = self._get_source_and_node() if not new_source: return False self.app.error_occurred(old_node, err_msg) # Close-out the connection as best as possible. if getattr(old_source, 'swift_conn', None): close_swift_conn(old_source) self.source = new_source self.node = new_node # This is safe; it sets up a generator but does # not call next() on it, so no IO is performed. self.source_parts_iter = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) return True if not self._replace_source_and_node( 'Trying to read object during GET (retrying)'): if self._replace_source_and_node( 'Trying to read object during GET (retrying)'):"," new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( self.node, 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(self.source, 'swift_conn', None): close_swift_conn(self.source) self.source = new_source self.node = new_node # This is safe; it sets up a generator but does # not call next() on it, so no IO is performed. self.source_parts_iter = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) else: new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( self.node, 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(self.source, 'swift_conn', None): close_swift_conn(self.source) self.source = new_source self.node = new_node # This is safe; it just sets up a generator but # does not call next() on it, so no IO is # performed. self.source_parts_iter = \ http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) ",89,72
openstack%2Fdevstack~master~I6fd6a718ce39d849342b30970ca39477ce285374,openstack/devstack,master,I6fd6a718ce39d849342b30970ca39477ce285374,Updated from generate-devstack-plugins-list,MERGED,2023-06-11 03:07:03.000000000,2023-06-27 04:43:10.000000000,2023-06-27 04:42:05.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-11 03:07:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c373cc4582a83b89cd46a8431968b340c691d598', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I6fd6a718ce39d849342b30970ca39477ce285374\n'}, {'number': 2, 'created': '2023-06-27 02:19:54.000000000', 'files': ['doc/source/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/27568ea33460b9ea4635a7d0a0bb06d32654150b', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I6fd6a718ce39d849342b30970ca39477ce285374\n'}]",0,885827,27568ea33460b9ea4635a7d0a0bb06d32654150b,9,2,2,11131,,,0,"Updated from generate-devstack-plugins-list

Change-Id: I6fd6a718ce39d849342b30970ca39477ce285374
",git fetch https://review.opendev.org/openstack/devstack refs/changes/27/885827/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin-registry.rst'],1,c373cc4582a83b89cd46a8431968b340c691d598,openstack/devstack/plugins,openstack/networking-hyperv `https://opendev.org/openstack/networking-hyperv <https://opendev.org/openstack/networking-hyperv>`__ openstack/networking-odl `https://opendev.org/openstack/networking-odl <https://opendev.org/openstack/networking-odl>`__ openstack/networking-powervm `https://opendev.org/openstack/networking-powervm <https://opendev.org/openstack/networking-powervm>`__ openstack/networking-sfc `https://opendev.org/openstack/networking-sfc <https://opendev.org/openstack/networking-sfc>`__,,4,0
openstack%2Fironic~master~Iff7943446741e499100561a79c9f4930beab3da2,openstack/ironic,master,Iff7943446741e499100561a79c9f4930beab3da2,Fix IRONIC_IMAGE_NAME=non-existent-image,MERGED,2023-06-23 01:05:49.000000000,2023-06-27 04:14:12.000000000,2023-06-23 09:01:20.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-23 01:05:49.000000000', 'files': ['devstack/common_settings'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2f8ee2cf40b594e3da10f883b453bd81bad6d0ab', 'message': 'Fix IRONIC_IMAGE_NAME=non-existent-image\n\nOur jobs started failling after a possible change in tempest\nthat introduced ""non-existent-image"" [1]\n\n[1] https://review.opendev.org/c/openstack/tempest/+/831018\n\nChange-Id: Iff7943446741e499100561a79c9f4930beab3da2\n'}]",1,886790,2f8ee2cf40b594e3da10f883b453bd81bad6d0ab,16,3,1,15519,,,0,"Fix IRONIC_IMAGE_NAME=non-existent-image

Our jobs started failling after a possible change in tempest
that introduced ""non-existent-image"" [1]

[1] https://review.opendev.org/c/openstack/tempest/+/831018

Change-Id: Iff7943446741e499100561a79c9f4930beab3da2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/90/886790/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/common_settings'],1,2f8ee2cf40b594e3da10f883b453bd81bad6d0ab,fix_ci,# TODO (iurygregory): change to the normal order after the discussion # with openstack-qa https://review.opendev.org/c/openstack/tempest/+/831018 IRONIC_IMAGE_NAME=${IRONIC_DEFAULT_IMAGE_NAME:-$DEFAULT_IMAGE_NAME},IRONIC_IMAGE_NAME=${DEFAULT_IMAGE_NAME:-$IRONIC_DEFAULT_IMAGE_NAME},3,1
openstack%2Fpuppet-sahara~master~I72b2d29962e82e9c254c2254663865da2b747e3b,openstack/puppet-sahara,master,I72b2d29962e82e9c254c2254663865da2b747e3b,Add per module policy service refresh,MERGED,2023-06-25 22:06:23.000000000,2023-06-27 03:27:28.000000000,2023-06-27 03:27:28.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-25 22:06:23.000000000', 'files': ['spec/classes/sahara_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/e2b1d99501500991b2ddfd9cf115b33fbd2dc2ea', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I72b2d29962e82e9c254c2254663865da2b747e3b\n'}]",1,886930,e2b1d99501500991b2ddfd9cf115b33fbd2dc2ea,11,3,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I72b2d29962e82e9c254c2254663865da2b747e3b
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/30/886930/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/sahara_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,e2b1d99501500991b2ddfd9cf115b33fbd2dc2ea,per-module-policy-refresh," tag => 'sahara',",,4,1
openstack%2Fpuppet-watcher~master~I41fc37c2697fa132757bf1490c0a45d1bee82c2d,openstack/puppet-watcher,master,I41fc37c2697fa132757bf1490c0a45d1bee82c2d,Remove logic dependent on the removed parameter,MERGED,2023-06-20 14:56:00.000000000,2023-06-27 03:09:14.000000000,2023-06-27 03:09:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-20 14:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/dcb8730565079f5c521b84598430b2badfa94353', 'message': 'Remove logic dependent on the removed parameter\n\nThe watcher::api::watcher_client_password parameter was removed a few\ncycles ago. Actually the logic was just useless because the parameter\nwas not really used in the logic within the authtoken class.\n\nChange-Id: I41fc37c2697fa132757bf1490c0a45d1bee82c2d\n'}, {'number': 2, 'created': '2023-06-23 01:19:20.000000000', 'files': ['manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/854d79fddb1416c82715155ca80d4c3480c1c1cb', 'message': 'Remove logic dependent on the removed parameter\n\nThe watcher::api::watcher_client_password parameter was removed a few\ncycles ago. Actually the logic was just useless because the parameter\nwas not really used in the logic within the authtoken class.\n\nChange-Id: I41fc37c2697fa132757bf1490c0a45d1bee82c2d\n'}]",5,886501,854d79fddb1416c82715155ca80d4c3480c1c1cb,21,3,2,9816,,,0,"Remove logic dependent on the removed parameter

The watcher::api::watcher_client_password parameter was removed a few
cycles ago. Actually the logic was just useless because the parameter
was not really used in the logic within the authtoken class.

Change-Id: I41fc37c2697fa132757bf1490c0a45d1bee82c2d
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/01/886501/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/keystone/authtoken.pp'],1,dcb8730565079f5c521b84598430b2badfa94353,,"# [*password*] # (Optional) Password to create for the service user # Defaults to $facts['os_service_default'] # $password = $facts['os_service_default'], if is_service_default($password) { fail('Please set password for Watcher service user') } ","# [*password*] # (Optional) Password to create for the service user # Defaults to $facts['os_service_default'] # $password = $facts['os_service_default'], if is_service_default($password) and ! $::watcher::api::watcher_client_password { fail('Please set password for watcher service user') } validate_legacy(String, 'validate_string', $password) ",7,9
openstack%2Fdevstack-plugin-ceph~master~Ica868be8ff0e1795d8de204640045691b0261b29,openstack/devstack-plugin-ceph,master,Ica868be8ff0e1795d8de204640045691b0261b29,Skip test_rebuild_volume_backed_server test for ceph job,MERGED,2023-06-26 18:35:21.000000000,2023-06-27 03:03:54.000000000,2023-06-27 03:02:50.000000000,"[{'_account_id': 4393}, {'_account_id': 5314}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2023-06-26 18:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/76947a02582f0b2bef943f70272e2173274833d7', 'message': 'Skip test_rebuild_volume_backed_server test for ceph job\n\nThere is some issue in ceph job while password injection\nduring rebuid and due to that test is failing 100% failure\n\n- https://b932a1446345e101b3ef-4740624f0848c8c3257f704064a4516f.ssl.cf5.rackcdn.com/883557/2/check/nova-ceph-multistore/d7db64f/testr_results.html\n\nSkip test to unblock the gate for now and we can unskip it once\nissue it fixed.\n\nChange-Id: Ica868be8ff0e1795d8de204640045691b0261b29\n'}, {'number': 2, 'created': '2023-06-26 20:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/8abf3203f883172b39ba7c681f84f3e19b41ecca', 'message': 'Skip test_rebuild_volume_backed_server test for ceph job\n\nThere is some issue in ceph job while password injection\nduring rebuid and due to that test is failing 100% failure\n\n- https://b932a1446345e101b3ef-4740624f0848c8c3257f704064a4516f.ssl.cf5.rackcdn.com/883557/2/check/nova-ceph-multistore/d7db64f/testr_results.html\n\nSkip test to unblock the gate for now and we can unskip it once\nissue it fixed.\n\nChange-Id: Ica868be8ff0e1795d8de204640045691b0261b29\n'}, {'number': 3, 'created': '2023-06-26 22:43:34.000000000', 'files': ['tempest_skiplist.txt'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/10670ac53245752a44b93b001094203b3d1cbd15', 'message': 'Skip test_rebuild_volume_backed_server test for ceph job\n\nThere is some issue in ceph job while password injection\nduring rebuid and due to that test is failing 100% failure\n\n- https://b932a1446345e101b3ef-4740624f0848c8c3257f704064a4516f.ssl.cf5.rackcdn.com/883557/2/check/nova-ceph-multistore/d7db64f/testr_results.html\n\nSkip test to unblock the gate for now and we can unskip it once\nissue it fixed.\n\nRelated-Bug: #2025096\nChange-Id: Ica868be8ff0e1795d8de204640045691b0261b29\n'}]",9,887003,10670ac53245752a44b93b001094203b3d1cbd15,15,5,3,8556,,,0,"Skip test_rebuild_volume_backed_server test for ceph job

There is some issue in ceph job while password injection
during rebuid and due to that test is failing 100% failure

- https://b932a1446345e101b3ef-4740624f0848c8c3257f704064a4516f.ssl.cf5.rackcdn.com/883557/2/check/nova-ceph-multistore/d7db64f/testr_results.html

Skip test to unblock the gate for now and we can unskip it once
issue it fixed.

Related-Bug: #2025096
Change-Id: Ica868be8ff0e1795d8de204640045691b0261b29
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/03/887003/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest_skiplist.txt'],1,76947a02582f0b2bef943f70272e2173274833d7,," # TODO: Due to password injection issue during rebuild, this test fail on ceph job 100%. # Remove it from here once it is fixed. Tempest.api.compute.servers.test_server_actions.ServerActionsV293TestJSON.test_rebuild_volume_backed_server",,4,0
openstack%2Ftacker~master~I6230ab56dec3a5c96cd123c62168a6495d8f7092,openstack/tacker,master,I6230ab56dec3a5c96cd123c62168a6495d8f7092,Refactor duplicate methods in functional tests,MERGED,2023-04-26 02:19:22.000000000,2023-06-27 02:37:45.000000000,2023-06-27 02:35:56.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31668}, {'_account_id': 31857}, {'_account_id': 32707}, {'_account_id': 33455}, {'_account_id': 34712}]","[{'number': 1, 'created': '2023-04-26 02:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/9fc3b0d3bfed12ff9d294943f93e3c34a919c7c4', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and BaseVnfLcmKubernetesV2Test.\n* Define a method to repeatedly execute delete_vnf_instance in BaseV2Test. And remove the method that repeatedly executes delete_vnf_instance from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 2, 'created': '2023-04-26 05:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8f2c31498ff35fe024ca4dbd923ab0f303a27152', 'message': '[WIP]Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and BaseVnfLcmKubernetesV2Test.\n* Define a method to repeatedly execute delete_vnf_instance in BaseV2Test. And remove the method that repeatedly executes delete_vnf_instance from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 3, 'created': '2023-04-26 08:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/ab8daf18098f45fa6a440db4c1f1a1ff918df5ac', 'message': '[WIP]Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a method to repeatedly execute delete_vnf_instance in\n  BaseV2Test. And remove the method that repeatedly executes\n  delete_vnf_instance from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 4, 'created': '2023-04-27 06:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/1aec66a2bac5664d574832af95b76a965814f9c1', 'message': '[WIP]Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a method to repeatedly execute delete_vnf_instance in\n  BaseV2Test. And remove the method that repeatedly executes\n  delete_vnf_instance from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 5, 'created': '2023-04-27 08:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/7bbb3d253b1d0b5ee17f62dc1ba791cb57eff314', 'message': '[WIP]Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a method to repeatedly execute delete_vnf_instance in\n  BaseV2Test. And remove the method that repeatedly executes\n  delete_vnf_instance from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 6, 'created': '2023-05-08 09:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/60edfe0fe3f8513bd2e78a38000d3ec4506bdc85', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a method to repeatedly retry delete_vnf_instance in\n  BaseV2Test. And remove the method that repeatedly retries\n  delete_vnf_instance from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 7, 'created': '2023-05-09 05:44:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5b980752f5689a5b0660cec9ff0676d97d9412ae', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a method to repeatedly retry delete_vnf_instance in\n  BaseV2Test. And remove the method that repeatedly retries\n  delete_vnf_instance from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 8, 'created': '2023-05-10 00:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/8ae6283ea459983949a158132e49d404cae37a7d', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a method to retry delete_vnf_instance in\n  BaseV2Test. And remove the method that retries\n  delete_vnf_instance from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 9, 'created': '2023-05-10 08:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/07c735424415bfa00851ed1c932ff4f17e59e751', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of lcm operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 10, 'created': '2023-05-31 08:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/62adaec9b4d544ee08dce0799104a688a70ec8eb', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of lcm operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 11, 'created': '2023-06-01 08:58:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/915cda21f40bf28f02dc9118c0159bb1f4e22280', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of lcm operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 12, 'created': '2023-06-05 00:36:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/638337d83f1a8366a6faa1d2708c831885a9ea80', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of lcm operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n* Constantize the version used in FT of v2 API as follows.\n   - VNFLCM_V2_VERSION = ""2.0.0""\n   - VNFFM_V1_VERSION = ""1.3.0""\n   - VNFPM_V2_VERSION = ""2.1.0""\n* Rename VNF Package and VNFD ID used in the FT of the v2 API\n  to something that is easy to understand.\n\nCo-Author: Ai Hamano <ai.hamano@ntt-at.co.jp>\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 13, 'created': '2023-06-07 06:33:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0ec3ddbdf9ae896bcb2967490f2a3430bf30e799', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseV2Test.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of lcm operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n* Change sleep times used in v2 API FT to the following constant.\n   - WAIT_LCMOCC_UPDATE_TIME\n   - WAIT_NOTIFICATION_TIME\n   - WAIT_TEST_NOTIFICATION_TIME\n   - WAIT_CREATE_THRESHOLD_TIME\n   - WAIT_AUTO_HEAL_TIME\n   - SERVER_NOTIFICATION_INTERVAL\n* Change versions used in v2 API FT to the following constant.\n   - VNFLCM_V2_VERSION = ""2.0.0""\n   - VNFFM_V1_VERSION = ""1.3.0""\n   - VNFPM_V2_VERSION = ""2.1.0""\n* Rename VNF Package and VNFD ID used in the FT of the v2 API\n  to something that is easy to understand.\n\nCo-Author: Ai Hamano <ai.hamano@ntt-at.co.jp>\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 14, 'created': '2023-06-12 00:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/da181ac729c3d2f96979efea7b421c64261839d6', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseTackerTestV2.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of LCM operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n* Change sleep times used in v2 API FT to the following constant.\n   - WAIT_LCMOCC_UPDATE_TIME\n   - WAIT_NOTIFICATION_TIME\n   - WAIT_TEST_NOTIFICATION_TIME\n   - WAIT_CREATE_THRESHOLD_TIME\n   - WAIT_AUTO_HEAL_TIME\n   - SERVER_NOTIFICATION_INTERVAL\n* Change versions used in v2 API FT to the following constant.\n   - VNFLCM_V2_VERSION = ""2.0.0""\n   - VNFFM_V1_VERSION = ""1.3.0""\n   - VNFPM_V2_VERSION = ""2.1.0""\n* Rename VNF Package and VNFD ID used in the FT of the v2 API\n  to something that is easy to understand.\n\nCo-Author: Ai Hamano <ai.hamano@ntt-at.co.jp>\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 15, 'created': '2023-06-12 00:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/88588d4379357e23866baa69496783cb6af26ed6', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseTackerTestV2.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of LCM operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n* Change sleep times used in v2 API FT to the following constant.\n   - WAIT_LCMOCC_UPDATE_TIME\n   - WAIT_NOTIFICATION_TIME\n   - WAIT_TEST_NOTIFICATION_TIME\n   - WAIT_CREATE_THRESHOLD_TIME\n   - WAIT_AUTO_HEAL_TIME\n   - SERVER_NOTIFICATION_INTERVAL\n* Change versions used in v2 API FT to the following constant.\n   - VNFLCM_V2_VERSION = ""2.0.0""\n   - VNFFM_V1_VERSION = ""1.3.0""\n   - VNFPM_V2_VERSION = ""2.1.0""\n* Rename VNF Package and VNFD ID used in the FT of the v2 API\n  to something that is easy to understand.\n\nCo-Author: Ai Hamano <ai.hamano@ntt-at.co.jp>\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 16, 'created': '2023-06-21 10:14:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/6d513bddf2ae73ac0bf4e824f6a6dafc6afa1430', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseTackerTestV2.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of LCM operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n* Change sleep times used in v2 API FT to the following constant.\n   - WAIT_LCMOCC_UPDATE_TIME\n   - WAIT_NOTIFICATION_TIME\n   - WAIT_TEST_NOTIFICATION_TIME\n   - WAIT_CREATE_THRESHOLD_TIME\n   - WAIT_AUTO_HEAL_TIME\n   - SERVER_NOTIFICATION_INTERVAL\n* Change versions used in v2 API FT to the following constant.\n   - VNFLCM_V2_VERSION = ""2.0.0""\n   - VNFFM_V1_VERSION = ""1.3.0""\n   - VNFPM_V2_VERSION = ""2.1.0""\n* Rename VNF Package and VNFD ID used in the FT of the v2 API\n  to something that is easy to understand.\n\nCo-Author: Ai Hamano <ai.hamano@ntt-at.co.jp>\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 17, 'created': '2023-06-21 10:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/79e247778cf68c8625343f0ae9451fd3d30ec166', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseTackerTestV2.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of LCM operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n* Change sleep times used in v2 API FT to the following constant.\n   - WAIT_LCMOCC_UPDATE_TIME\n   - WAIT_NOTIFICATION_TIME\n   - WAIT_TEST_NOTIFICATION_TIME\n   - WAIT_CREATE_THRESHOLD_TIME\n   - WAIT_AUTO_HEAL_TIME\n   - SERVER_NOTIFICATION_INTERVAL\n* Change versions used in v2 API FT to the following constant.\n   - VNFLCM_V2_VERSION = ""2.0.0""\n   - VNFFM_V1_VERSION = ""1.3.0""\n   - VNFPM_V2_VERSION = ""2.1.0""\n* Rename VNF Package and VNFD ID used in the FT of the v2 API\n  to something that is easy to understand.\n\nCo-Author: Ai Hamano <ai.hamano@ntt-at.co.jp>\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 18, 'created': '2023-06-21 23:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/4361b12bdecf0dac15a8d2ee53e1d48f8442e5a8', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes,\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseTackerTestV2.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of LCM operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n* Change sleep times used in v2 API FT to the following constant.\n   - WAIT_LCMOCC_UPDATE_TIME\n   - WAIT_NOTIFICATION_TIME\n   - WAIT_TEST_NOTIFICATION_TIME\n   - WAIT_CREATE_THRESHOLD_TIME\n   - WAIT_AUTO_HEAL_TIME\n   - SERVER_NOTIFICATION_INTERVAL\n* Change versions used in v2 API FT to the following constant.\n   - VNFLCM_V2_VERSION = ""2.0.0""\n   - VNFFM_V1_VERSION = ""1.3.0""\n   - VNFPM_V2_VERSION = ""2.1.0""\n* Rename VNF Package and VNFD ID used in the FT of the v2 API\n  to something that is easy to understand.\n\nCo-Author: Ai Hamano <ai.hamano@ntt-at.co.jp>\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}, {'number': 19, 'created': '2023-06-22 01:32:24.000000000', 'files': ['tacker/tests/functional/sol_kubernetes_v2/test_vnfpm_basic.py', 'tacker/tests/functional/sol_v2/test_vnflcm_basic.py', 'tacker/tests/functional/sol_kubernetes_oidc_auth/vnflcm_v2/test_kubernetes_oidc_auth.py', 'tacker/sol_refactored/test-tools/cli.py', 'tacker/tests/functional/sol_v2_common/test_vnflcm_basic_common.py', 'tacker/tests/functional/sol_kubernetes_v2/test_vnfpm_threshold_basic.py', 'tacker/tests/functional/sol_enhanced_policy/sol/test_policy_vnflcm_apis_v2.py', 'tacker/tests/functional/sol_enhanced_policy/sol_kubernetes/test_policy_cnflcm_apis_v2.py', 'tacker/tests/functional/sol_v2/test_individual_vnfc_mgmt.py', 'tacker/tests/functional/sol_kubernetes_v2/test_vnflcm_basic.py', 'tacker/tests/functional/sol_https_v2/test_vnffm_https_basic.py', 'tacker/tests/functional/sol_https_v2/test_vnflcm_https_basic.py', 'tacker/tests/functional/sol_v2_common/base_v2.py', 'tacker/tests/functional/sol_separated_nfvo_v2/fake_grant_v2.py', 'tacker/tests/functional/sol_v2/test_server_notification.py', 'tacker/tests/functional/sol_kubernetes_v2/test_change_vnfpkg.py', 'tacker/tests/functional/sol_v2_individual_vnfc_mgmt/test_individual_vnfc_mgmt_basic.py', 'tacker/tests/functional/sol_kubernetes_v2/test_vnffm_basic.py', 'tacker/tests/functional/sol_v2/test_prom_auto_scale_heal.py', 'tacker/tests/functional/base_v2.py', 'tacker/tests/functional/sol_kubernetes_v2/test_prom_auto_scale_heal.py', 'tacker/tests/functional/sol_kubernetes_v2/test_threshold_prometheus_plugin.py', 'tacker/tests/functional/sol_v2/test_change_vnfpkg.py', 'tacker/tests/functional/sol_v2/test_vnflcm_error_handling.py', 'tacker/tests/functional/sol_kubernetes_v2/base_v2.py', 'tacker/tests/functional/sol_https_v2/test_vnfpm_https_basic.py', 'tacker/tests/functional/sol_kubernetes_v2/test_helm.py', 'tacker/tests/functional/sol_v2_az_retry/test_az_retry.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/7eaf841525d7ead30d7883abbde6c4fb86ae2e4f', 'message': 'Refactor duplicate methods in functional tests\n\nThis patch includes the following changes.\n* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods\n  to BaseTackerTestV2.\n* Rename duplicate method names in BaseSolV2Test and\n  BaseVnfLcmKubernetesV2Test.\n* Define a repeat execution method of LCM operation in BaseTackerTestV2.\n  And remove this processing from each FT.\n* Change sleep times used in v2 API FT to the following constant.\n   - WAIT_LCMOCC_UPDATE_TIME\n   - WAIT_NOTIFICATION_TIME\n   - WAIT_TEST_NOTIFICATION_TIME\n   - WAIT_CREATE_THRESHOLD_TIME\n   - WAIT_AUTO_HEAL_TIME\n   - SERVER_NOTIFICATION_INTERVAL\n* Change versions used in v2 API FT to the following constant.\n   - VNFLCM_V2_VERSION = ""2.0.0""\n   - VNFFM_V1_VERSION = ""1.3.0""\n   - VNFPM_V2_VERSION = ""2.1.0""\n* Rename VNF Package and VNFD ID used in the FT of the v2 API\n  to something that is easy to understand.\n\nCo-Author: Ai Hamano <ai.hamano@ntt-at.co.jp>\nChange-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092\n'}]",239,881181,7eaf841525d7ead30d7883abbde6c4fb86ae2e4f,67,8,19,35476,,,0,"Refactor duplicate methods in functional tests

This patch includes the following changes.
* Move BaseSolV2Test and BaseVnfLcmKubernetesV2Test duplicate methods
  to BaseTackerTestV2.
* Rename duplicate method names in BaseSolV2Test and
  BaseVnfLcmKubernetesV2Test.
* Define a repeat execution method of LCM operation in BaseTackerTestV2.
  And remove this processing from each FT.
* Change sleep times used in v2 API FT to the following constant.
   - WAIT_LCMOCC_UPDATE_TIME
   - WAIT_NOTIFICATION_TIME
   - WAIT_TEST_NOTIFICATION_TIME
   - WAIT_CREATE_THRESHOLD_TIME
   - WAIT_AUTO_HEAL_TIME
   - SERVER_NOTIFICATION_INTERVAL
* Change versions used in v2 API FT to the following constant.
   - VNFLCM_V2_VERSION = ""2.0.0""
   - VNFFM_V1_VERSION = ""1.3.0""
   - VNFPM_V2_VERSION = ""2.1.0""
* Rename VNF Package and VNFD ID used in the FT of the v2 API
  to something that is easy to understand.

Co-Author: Ai Hamano <ai.hamano@ntt-at.co.jp>
Change-Id: I6230ab56dec3a5c96cd123c62168a6495d8f7092
",git fetch https://review.opendev.org/openstack/tacker refs/changes/81/881181/16 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/functional/sol_kubernetes_v2/test_vnfpm_basic.py', 'tacker/tests/functional/sol_v2/test_vnflcm_basic.py', 'tacker/tests/functional/sol_kubernetes_oidc_auth/vnflcm_v2/test_kubernetes_oidc_auth.py', 'tacker/tests/functional/sol_v2_common/test_vnflcm_basic_common.py', 'tacker/tests/functional/sol_kubernetes_v2/test_vnfpm_threshold_basic.py', 'tacker/tests/functional/sol_v2/test_individual_vnfc_mgmt.py', 'tacker/tests/functional/sol_kubernetes_v2/test_vnflcm_basic.py', 'tacker/tests/functional/sol_https_v2/test_vnffm_https_basic.py', 'tacker/tests/functional/sol_https_v2/test_vnflcm_https_basic.py', 'tacker/tests/functional/sol_v2_common/base_v2.py', 'tacker/tests/functional/sol_separated_nfvo_v2/fake_grant_v2.py', 'tacker/tests/functional/sol_v2/test_server_notification.py', 'tacker/tests/functional/sol_kubernetes_v2/test_change_vnfpkg.py', 'tacker/tests/functional/sol_v2_individual_vnfc_mgmt/test_individual_vnfc_mgmt_basic.py', 'tacker/tests/functional/sol_kubernetes_v2/test_vnffm_basic.py', 'tacker/tests/functional/sol_v2/test_prom_auto_scale_heal.py', 'tacker/tests/functional/base_v2.py', 'tacker/tests/functional/sol_kubernetes_v2/test_prom_auto_scale_heal.py', 'tacker/tests/functional/sol_kubernetes_v2/test_threshold_prometheus_plugin.py', 'tacker/tests/functional/sol_v2/test_change_vnfpkg.py', 'tacker/tests/functional/sol_v2/test_vnflcm_error_handling.py', 'tacker/tests/functional/sol_kubernetes_v2/base_v2.py', 'tacker/tests/functional/sol_https_v2/test_vnfpm_https_basic.py', 'tacker/tests/functional/sol_kubernetes_v2/test_helm.py', 'tacker/tests/functional/sol_v2_az_retry/test_az_retry.py']",25,9fc3b0d3bfed12ff9d294943f93e3c34a919c7c4,refactor-basev2, self.exec_delete_vnf_instance(inst_id),"import time def _delete_instance(self, inst_id): for _ in range(3): resp, body = self.delete_vnf_instance(inst_id) if resp.status_code == 204: # OK return elif resp.status_code == 409: # may happen. there is a bit time between lcmocc become # COMPLETED and lock of terminate is freed. time.sleep(3) else: break self.assertTrue(False) self._delete_instance(inst_id)",518,998
openstack%2Ftempest~master~I22f343c9d8ca8ec4044e2d6877378d29383e2890,openstack/tempest,master,I22f343c9d8ca8ec4044e2d6877378d29383e2890,Remove setting of DEFAULT_IMAGE_NAME to non exit image,MERGED,2023-06-23 02:21:26.000000000,2023-06-27 02:37:02.000000000,2023-06-27 02:33:09.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2023-06-23 02:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c1e33715fd84539e152c6c588922f11dc86e38ff', 'message': 'Remove setting of DEFAULT_IMAGE_NAME to non exit image\n\nDue to devstack logic of setting the two different images in\ntempest, we has to set the DEFAULT_IMAGE_NAME to non exit image\nwhich broke ironic. depends on patch fix the logic in devstack so\nwe do not need to set non exit image in DEFAULT_IMAGE_NAME\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/886795/\nChange-Id: I22f343c9d8ca8ec4044e2d6877378d29383e2890\n'}, {'number': 2, 'created': '2023-06-23 03:40:28.000000000', 'files': ['zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2038c895d9af89b281481b14bbdefeeeaa37044a', 'message': 'Remove setting of DEFAULT_IMAGE_NAME to non exit image\n\nDue to devstack logic of setting the two different images in\ntempest, we has to set the DEFAULT_IMAGE_NAME to non exit image\nwhich broke ironic. Below patch fix the logic in devstack so\nwe do not need to set non exit image in DEFAULT_IMAGE_NAME\n- https://review.opendev.org/c/openstack/devstack/+/886795/\n\nChange-Id: I22f343c9d8ca8ec4044e2d6877378d29383e2890\n'}]",11,886796,2038c895d9af89b281481b14bbdefeeeaa37044a,35,3,2,8556,,,0,"Remove setting of DEFAULT_IMAGE_NAME to non exit image

Due to devstack logic of setting the two different images in
tempest, we has to set the DEFAULT_IMAGE_NAME to non exit image
which broke ironic. Below patch fix the logic in devstack so
we do not need to set non exit image in DEFAULT_IMAGE_NAME
- https://review.opendev.org/c/openstack/devstack/+/886795/

Change-Id: I22f343c9d8ca8ec4044e2d6877378d29383e2890
",git fetch https://review.opendev.org/openstack/tempest refs/changes/96/886796/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,c1e33715fd84539e152c6c588922f11dc86e38ff,fix-default-image-name,," # When DEFAULT_IMAGE_NAME is set and the image exists in glance, # devstack sets both image_ref and image_ref_alt with same image # which we don't want here. DEFAULT_IMAGE_NAME: 'non-existent-image'",0,4
openstack%2Ftacker-specs~master~Iaa082354cdcefe01f9ae6a3cc22207c3b28eafab,openstack/tacker-specs,master,Iaa082354cdcefe01f9ae6a3cc22207c3b28eafab,"Fix Spec of ""Enhance Placement Process"" for Bobcat",MERGED,2023-06-16 05:48:37.000000000,2023-06-27 02:24:58.000000000,2023-06-27 02:23:36.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 31857}, {'_account_id': 34712}]","[{'number': 1, 'created': '2023-06-16 05:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/787768eb4d8d2bb9287e84c38a20c58ebeec50d1', 'message': 'Fix Spec of ""Enhance Placement Process"" for Bobcat\n\n""Enhance Placement Process"" has the following spec changes in Bobcat.\n* In AZ reselection, select AZ considering Anti-Affinity of\n  PlacementConstraint\n* Change Heat-API to get an error message when ""stack create/update""\n  fails from ""Show stack details"" to ""List resource events""\n  considering the use of rollback option\n\nThis patch fixes these changes.\n\nImplements: blueprint enhance-placement\nChange-Id: Iaa082354cdcefe01f9ae6a3cc22207c3b28eafab\n'}, {'number': 2, 'created': '2023-06-26 23:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/2f354f69b5fc6bb3b4cfa63ce90a11010e5f1fa5', 'message': 'Fix Spec of ""Enhance Placement Process"" for Bobcat\n\n""Enhance Placement Process"" has the following spec changes in Bobcat.\n* In AZ reselection, select AZ considering Anti-Affinity of\n  PlacementConstraint\n* Change Heat-API to get an error message when ""stack create/update""\n  fails from ""Show stack details"" to ""List resource events""\n  considering the use of rollback option\n\nThis patch fixes these changes.\n\nImplements: blueprint enhance-placement\nChange-Id: Iaa082354cdcefe01f9ae6a3cc22207c3b28eafab\n'}, {'number': 3, 'created': '2023-06-27 00:55:15.000000000', 'files': ['specs/2023.1/enhance_placement_process.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/c3db3d4d1af21375bfb5d8f30f4b4a0e6612c5ed', 'message': 'Fix Spec of ""Enhance Placement Process"" for Bobcat\n\n""Enhance Placement Process"" has the following spec changes in Bobcat.\n* In AZ reselection, select AZ considering Anti-Affinity of\n  PlacementConstraint\n* Change Heat-API to get an error message when ""stack create/update""\n  fails from ""Show stack details"" to ""List resource events""\n  considering the use of rollback option\n\nThis patch fixes these changes.\n\nImplements: blueprint enhance-placement\nChange-Id: Iaa082354cdcefe01f9ae6a3cc22207c3b28eafab\n'}]",11,886243,c3db3d4d1af21375bfb5d8f30f4b4a0e6612c5ed,22,5,3,31668,,,0,"Fix Spec of ""Enhance Placement Process"" for Bobcat

""Enhance Placement Process"" has the following spec changes in Bobcat.
* In AZ reselection, select AZ considering Anti-Affinity of
  PlacementConstraint
* Change Heat-API to get an error message when ""stack create/update""
  fails from ""Show stack details"" to ""List resource events""
  considering the use of rollback option

This patch fixes these changes.

Implements: blueprint enhance-placement
Change-Id: Iaa082354cdcefe01f9ae6a3cc22207c3b28eafab
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/43/886243/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/enhance_placement_process.rst'],1,787768eb4d8d2bb9287e84c38a20c58ebeec50d1,bp/enhance-placement,"candidates, and are reselected considering Anti-Affinity of PlacementConstraint. Resource states of availability zones are not considered during reselection. selected from availability zone candidates. If there are no availability zone candidate considering Anti-Affinity left, randomly select a reselection target from other than the failed availability zones.When ""stack create/update"" fails, it is detected from ""List resource events"" [#Heat-API]_ of Heat-API response whether the failure is due tofrom the parameter ""resource_status_reason"" in the response. create/update"" returns an acceptance response, so the ""List resource events"" response is used to detect the cause.""resource_status_reason"" when resources are insufficient... [#Heat-API] https://docs.openstack.org/api-ref/orchestration/v1/index.html?expanded=show-stack-details-detail#list-resource-events","candidates, and are reselected preferentially from unselected availability zones. Affinity/Anti-Affinity of PlacementConstraint and resource states of availability zones are not considered during reselection. selected from unselected availability zones. If there are no unselected availability zones left, randomly select a reselection target from the selected availability zones.When ""stack create/update"" fails, it is detected from ""Show stack details"" [#Heat-API]_ of Heat-API response whether the failure is due tofrom the parameter ""stack_status_reason"" in the response. create/update"" returns an acceptance response, so the ""Show stack details"" response is used to detect the cause.""stack_status_reason"" when resources are insufficient... [#Heat-API] https://docs.openstack.org/api-ref/orchestration/v1/index.html?expanded=show-stack-details-detail#show-stack-details",15,14
openstack%2Fswift~master~I50722f99cc73f4125a24bc376dbe16e28f16b44f,openstack/swift,master,I50722f99cc73f4125a24bc376dbe16e28f16b44f,refactor handler source attributes,ABANDONED,2023-05-22 21:06:45.000000000,2023-06-27 02:13:58.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-05-22 21:06:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/931a4e67a05b03196cee7d1fa41fab94c923b9f4', 'message': 'refactor handler source attributes\n\nChange-Id: I50722f99cc73f4125a24bc376dbe16e28f16b44f\n'}, {'number': 2, 'created': '2023-05-22 21:35:58.000000000', 'files': ['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_base.py', 'swift/common/request_helpers.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/53214d86c272bdb4e7f58c62e2bf51400607109f', 'message': 'refactor handler source attributes\n\nChange-Id: I50722f99cc73f4125a24bc376dbe16e28f16b44f\n'}]",7,883878,53214d86c272bdb4e7f58c62e2bf51400607109f,8,1,2,1179,,,0,"refactor handler source attributes

Change-Id: I50722f99cc73f4125a24bc376dbe16e28f16b44f
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/883878/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/proxy/test_server.py', 'test/unit/proxy/controllers/test_base.py', 'swift/common/request_helpers.py', 'swift/proxy/controllers/base.py']",4,931a4e67a05b03196cee7d1fa41fab94c923b9f4,refac," if not src: return self.source = { 'resp': None, 'swift_conn': None, 'node': None, 'parts_iter': None, } self.source['parts_iter']) # Close-out the connection as best as possible. close_swift_conn(self.source['swift_conn']) self.app.error_occurred( self.source['node'], 'Trying to read object during ' 'GET (retrying)') success = self._find_and_set_source() if not success: self.app.error_occurred( self.source['node'], 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. close_swift_conn(self.source['swift_conn']) success = self._find_and_set_source() if success: self.app.exception_occurred(self.source['node'], 'Object', close_swift_conn(self.source['swift_conn']) def _set_source(self, source, node): self.source = { 'resp': source, 'node': node, # See NOTE: swift_conn at top of file about this. 'swift_conn': source.swift_conn, # This is safe; it sets up a generator but does # not call next() on it, so no IO is performed. 'parts_iter': http_response_to_document_iters( source, read_chunk_size=self.app.object_chunk_size) } def _find_and_set_source(self): self._set_source(source, node) return True return False ct = self.source['resp'].getheader('Content-Type') success = self._find_and_set_source() if success: res.status = self.source['resp'].status update_headers(res, self.source['resp'].getheaders()) if req.method == 'GET' and self.source['resp'].status in ( HTTP_OK, HTTP_PARTIAL_CONTENT): res.environ['swift_x_timestamp'] = self.source['resp'].getheader( 'x-timestamp') res.content_length = self.source['resp'].getheader( 'Content-Length') if self.source['resp'].getheader('Content-Type'): res.content_type = self.source['resp'].getheader( 'Content-Type')"," self.node = None self.source = None self.source_parts_iter = None self.source_parts_iter) new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( self.node, 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(self.source, 'swift_conn', None): close_swift_conn(self.source) self.source = new_source self.node = new_node # This is safe; it sets up a generator but does # not call next() on it, so no IO is performed. self.source_parts_iter = http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) else: new_source, new_node = self._get_source_and_node() if new_source: self.app.error_occurred( self.node, 'Trying to read object during ' 'GET (retrying)') # Close-out the connection as best as possible. if getattr(self.source, 'swift_conn', None): close_swift_conn(self.source) self.source = new_source self.node = new_node # This is safe; it just sets up a generator but # does not call next() on it, so no IO is # performed. self.source_parts_iter = \ http_response_to_document_iters( new_source, read_chunk_size=self.app.object_chunk_size) # This is safe; it sets up a generator but does not call next() # on it, so no IO is performed. self.source_parts_iter = http_response_to_document_iters( self.source, read_chunk_size=self.app.object_chunk_size) self.app.exception_occurred(self.node, 'Object', if getattr(self.source, 'swift_conn', None): close_swift_conn(self.source) def _get_source_and_node(self): self.node = node return source, node return None, None ct = self.source.getheader('Content-Type') source, node = self._get_source_and_node() if source: res.status = source.status update_headers(res, source.getheaders()) if req.method == 'GET' and \ source.status in (HTTP_OK, HTTP_PARTIAL_CONTENT): self.source = source self.node = node # See NOTE: swift_conn at top of file about this. res.swift_conn = source.swift_conn res.environ['swift_x_timestamp'] = source.getheader('x-timestamp') res.content_length = source.getheader('Content-Length') if source.getheader('Content-Type'): res.content_type = source.getheader('Content-Type')",67,82
openstack%2Fironic~master~I9f124b005d346f961f9c95c917d5014988a7f45e,openstack/ironic,master,I9f124b005d346f961f9c95c917d5014988a7f45e,Skip tests that fail occassionally in CI,MERGED,2023-06-25 21:54:24.000000000,2023-06-27 00:58:12.000000000,2023-06-27 00:56:51.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-25 21:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42004d963881ab997da4b763540a9f118b414f83', 'message': 'Skip tests that fail occassionally in CI\n\nThese tests fail in CI some 5-10% of the time, leading to unneeded CI\nchurn and rechecks.\n\nThe problem with the intermittant failure is related to how the test\nis constructed, not to the code itself.\n\nhttps://bugs.launchpad.net/ironic/+bug/2024994 has been filed to track\ntrue resolution of this issue, but until then, we should not abuse CI\nresources by continuing to run tests.\n\nRelated-Bug: https://bugs.launchpad.net/ironic/+bug/2024994\nChange-Id: I9f124b005d346f961f9c95c917d5014988a7f45e\n'}, {'number': 2, 'created': '2023-06-25 21:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eaa25bbe835528cbad7dbd33d82d06155c35e97f', 'message': 'Skip tests that fail occassionally in CI\n\nThese tests fail in CI some 5-10% of the time, leading to unneeded CI\nchurn and rechecks.\n\nThe problem with the intermittant failure is related to how the test\nis constructed, not to the code itself.\n\nhttps://bugs.launchpad.net/ironic/+bug/2024994 has been filed to track\ntrue resolution of this issue, but until then, we should not abuse CI\nresources by continuing to run tests.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/886881\nRelated-Bug: https://bugs.launchpad.net/ironic/+bug/2024994\nChange-Id: I9f124b005d346f961f9c95c917d5014988a7f45e\n'}, {'number': 3, 'created': '2023-06-25 22:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7746aebc18f11ccf9f47b88ae509dfe7deba2a72', 'message': 'Skip tests that fail occassionally in CI\n\nThese tests fail in CI some 5-10% of the time, leading to unneeded CI\nchurn and rechecks.\n\nThe problem with the intermittant failure is related to how the test\nis constructed, not to the code itself.\n\nhttps://bugs.launchpad.net/ironic/+bug/2024994 has been filed to track\ntrue resolution of this issue, but until then, we should not abuse CI\nresources by continuing to run tests.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/886881\nRelated-Bug: https://bugs.launchpad.net/ironic/+bug/2024994\nChange-Id: I9f124b005d346f961f9c95c917d5014988a7f45e\n'}, {'number': 4, 'created': '2023-06-26 15:30:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2ac6065461b62a64b6ce2f23729696cf1246fc76', 'message': 'Skip tests that fail occassionally in CI\n\nThese tests fail in CI some 5-10% of the time, leading to unneeded CI\nchurn and rechecks.\n\nThe problem with the intermittant failure is related to how the test\nis constructed, not to the code itself.\n\nhttps://bugs.launchpad.net/ironic/+bug/2024994 has been filed to track\ntrue resolution of this issue, but until then, we should not abuse CI\nresources by continuing to run tests.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/886881\nRelated-Bug: https://bugs.launchpad.net/ironic/+bug/2024994\nChange-Id: I9f124b005d346f961f9c95c917d5014988a7f45e\n'}, {'number': 5, 'created': '2023-06-26 22:33:07.000000000', 'files': ['ironic/tests/unit/drivers/modules/network/test_common.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5e4f013c8bd7888b032b05fe875ccf9ea0e622c', 'message': 'Skip tests that fail occassionally in CI\n\nThese tests fail in CI some 5-10% of the time, leading to unneeded CI\nchurn and rechecks.\n\nThe problem with the intermittant failure is related to how the test\nis constructed, not to the code itself.\n\nhttps://bugs.launchpad.net/ironic/+bug/2024994 has been filed to track\ntrue resolution of this issue, but until then, we should not abuse CI\nresources by continuing to run tests.\n\nDepends-On: https://review.opendev.org/c/openstack/ironic/+/886881\nRelated-Bug: https://bugs.launchpad.net/ironic/+bug/2024994\nChange-Id: I9f124b005d346f961f9c95c917d5014988a7f45e\n'}]",5,886911,d5e4f013c8bd7888b032b05fe875ccf9ea0e622c,20,3,5,10342,,,0,"Skip tests that fail occassionally in CI

These tests fail in CI some 5-10% of the time, leading to unneeded CI
churn and rechecks.

The problem with the intermittant failure is related to how the test
is constructed, not to the code itself.

https://bugs.launchpad.net/ironic/+bug/2024994 has been filed to track
true resolution of this issue, but until then, we should not abuse CI
resources by continuing to run tests.

Depends-On: https://review.opendev.org/c/openstack/ironic/+/886881
Related-Bug: https://bugs.launchpad.net/ironic/+bug/2024994
Change-Id: I9f124b005d346f961f9c95c917d5014988a7f45e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/11/886911/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/network/test_common.py'],1,42004d963881ab997da4b763540a9f118b414f83,,"from unittest import mock, skip @skip(""https://bugs.launchpad.net/ironic/+bug/2024994"") @skip(""https://bugs.launchpad.net/ironic/+bug/2024994"") @skip(""https://bugs.launchpad.net/ironic/+bug/2024994"") @skip(""https://bugs.launchpad.net/ironic/+bug/2024994"") @skip(""https://bugs.launchpad.net/ironic/+bug/2024994"")",from unittest import mock,6,1
openstack%2Ftripleo-ansible~stable%2Fwallaby~I687244e4c12253a8a589a7a8cde6f9395f368ee1,openstack/tripleo-ansible,stable/wallaby,I687244e4c12253a8a589a7a8cde6f9395f368ee1,"Pin molecule to version <5.0.0, remove pin of ansible-compat",MERGED,2023-06-26 10:30:47.000000000,2023-06-27 00:20:39.000000000,2023-06-27 00:19:15.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 34598}]","[{'number': 1, 'created': '2023-06-26 10:30:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/325e2ab6aaebcd5bfabe85eb581370cc32f122f9', 'message': ""Pin molecule to version <5.0.0, remove pin of ansible-compat\n\nMolecule version is bounded to specific version of ansible-core as well\nas other packages.\n\nMolecule version 5.0.0 requires ansible-core 2.12.10 and since we use version\n2.11.12 we need to pin the package.\n\nThe pin of ansible-compat isn't required anymore since we will pull the\ncorrect version as dependency of molecule.\n\nCloses-Bug: 2025024\nChange-Id: I687244e4c12253a8a589a7a8cde6f9395f368ee1\nSigned-off-by: Roberto Alfieri <ralfieri@redhat.com>\n""}, {'number': 2, 'created': '2023-06-26 12:12:17.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/863e18691d48858acf1bbe0ca73698cd5ceef8ae', 'message': ""Pin molecule to version <5.0.0, remove pin of ansible-compat\n\nMolecule version is bounded to specific version of ansible-core as well\nas other packages.\n\nMolecule version 5.0.0 requires ansible-core 2.12.10 and since we use version\n2.11.12 we need to pin the package.\n\nThe pin of ansible-compat isn't required anymore since we will pull the\ncorrect version as dependency of molecule.\n\nCloses-Bug: 2025024\nChange-Id: I687244e4c12253a8a589a7a8cde6f9395f368ee1\nSigned-off-by: Roberto Alfieri <ralfieri@redhat.com>\n""}]",0,886976,863e18691d48858acf1bbe0ca73698cd5ceef8ae,11,4,2,35491,,,0,"Pin molecule to version <5.0.0, remove pin of ansible-compat

Molecule version is bounded to specific version of ansible-core as well
as other packages.

Molecule version 5.0.0 requires ansible-core 2.12.10 and since we use version
2.11.12 we need to pin the package.

The pin of ansible-compat isn't required anymore since we will pull the
correct version as dependency of molecule.

Closes-Bug: 2025024
Change-Id: I687244e4c12253a8a589a7a8cde6f9395f368ee1
Signed-off-by: Roberto Alfieri <ralfieri@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/886976/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,325e2ab6aaebcd5bfabe85eb581370cc32f122f9,fix-openstacksdk-py36,molecule<5.0.0,molecule>=3.3.4# LP#2018311 workaround # More: https://github.com/ansible-community/molecule/issues/3903 ansible-compat<=4.0.0,1,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I8265747f77fb39da9377aa9dfebdc896c555fffe,openstack/tripleo-heat-templates,stable/wallaby,I8265747f77fb39da9377aa9dfebdc896c555fffe,"Ensure podman,sock ACL survives reboot",MERGED,2023-05-17 21:08:26.000000000,2023-06-27 00:19:12.000000000,2023-06-27 00:19:12.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 16515}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-17 21:08:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b25403952e6fb07afe17aeb9ffad3e08a5298841', 'message': 'Ensure podman,sock ACL survives reboot\n\nOvercloud node reboot clears file ACL for podman.sock created for sensubility purposes.\nThis patch creates systemd service which ensures ACL stays the same after reboot.\n\nResolves: rhbz#2203785\nChange-Id: I8265747f77fb39da9377aa9dfebdc896c555fffe\n'}, {'number': 2, 'created': '2023-05-17 21:19:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/65d31ef847e6c692e77d3c8a81cdc00851f75782', 'message': '[WIP] Ensure podman,sock ACL survives reboot\n\nOvercloud node reboot clears file ACL for podman.sock created for sensubility purposes.\nThis patch creates systemd service which ensures ACL stays the same after reboot.\n\nResolves: rhbz#2203785\nChange-Id: I8265747f77fb39da9377aa9dfebdc896c555fffe\n'}, {'number': 3, 'created': '2023-05-18 09:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3cd99072c48e55af132cce8c954c583b3abd03e9', 'message': 'Ensure podman,sock ACL survives reboot\n\nOvercloud node reboot clears file ACL for podman.sock created for sensubility purposes.\nThis patch creates systemd service which ensures ACL stays the same after reboot.\n\nResolves: rhbz#2203785\nChange-Id: I8265747f77fb39da9377aa9dfebdc896c555fffe\n'}, {'number': 4, 'created': '2023-05-22 10:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f663ee34db1a3007ea8752a04deb846465d115f', 'message': 'Ensure podman,sock ACL survives reboot\n\nOvercloud node reboot clears file ACL for podman.sock created for sensubility purposes.\nThis patch creates systemd service which ensures ACL stays the same after reboot.\n\nResolves: rhbz#2203785\nChange-Id: I8265747f77fb39da9377aa9dfebdc896c555fffe\n'}, {'number': 5, 'created': '2023-06-07 18:27:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a6631322df8f2cd48a8d79016f977fae4c5c68e', 'message': 'Ensure podman,sock ACL survives reboot\n\nOvercloud node reboot clears file ACL for podman.sock created for sensubility purposes.\nThis patch creates systemd service which ensures ACL stays the same after reboot.\n\nResolves: rhbz#2203785\nChange-Id: I8265747f77fb39da9377aa9dfebdc896c555fffe\n'}, {'number': 6, 'created': '2023-06-11 18:19:01.000000000', 'files': ['deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aaf4b7a90abd86143dc84c31805a8f1f52ffc206', 'message': 'Ensure podman,sock ACL survives reboot\n\nOvercloud node reboot clears file ACL for podman.sock created for sensubility purposes.\nThis patch creates systemd service which ensures ACL stays the same after reboot.\n\nResolves: rhbz#2203785\nChange-Id: I8265747f77fb39da9377aa9dfebdc896c555fffe\n'}]",6,883447,aaf4b7a90abd86143dc84c31805a8f1f52ffc206,29,5,6,5241,,,0,"Ensure podman,sock ACL survives reboot

Overcloud node reboot clears file ACL for podman.sock created for sensubility purposes.
This patch creates systemd service which ensures ACL stays the same after reboot.

Resolves: rhbz#2203785
Change-Id: I8265747f77fb39da9377aa9dfebdc896c555fffe
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/883447/6 && git format-patch -1 --stdout FETCH_HEAD,['deployment/metrics/collectd-container-puppet.yaml'],1,b25403952e6fb07afe17aeb9ffad3e08a5298841,bz2203785," block: - name: create podman socket and appropriate systemd service include_role: name: tripleo_podman tasks_from: tripleo_podman_service vars: tripleo_podman_socket_path: /var/lib/tripleo-podman/collectd/podman.sock - name: create systemd service for ensuring socket file ACL contains collectd become: true ansible.builtin.copy: content: | [Unit] Description=ACL setting for /var/lib/tripleo-podman/collectd/podman.sock Requires=tripleo_collectd.service Before=tripleo_podman.service [Service] Type=oneshot ExecStart=/usr/bin/podman exec -it collectd setfacl -R -m u:collectd:rwx /run/podman ExecStart=/usr/bin/podman exec -it collectd setfacl -d -m u:collectd:rwx /run/podman [Install] WantedBy=multi-user.target dest: ""/etc/systemd/system/tripleo_podman_collecd_acl.service"" mode: 0644 - name: enable podman.sock ACL service ansible.builtin.service: name: tripleo_podman_collecd_acl.service enabled: yes", include_role: name: tripleo_podman tasks_from: tripleo_podman_service vars: tripleo_podman_socket_path: /var/lib/tripleo-podman/collectd/podman.sock,29,5
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ifebfbbb9610a8f71ee5001bcf911d4cd6cf26f2b,openstack/tripleo-heat-templates,stable/wallaby,Ifebfbbb9610a8f71ee5001bcf911d4cd6cf26f2b,[OSP=17.1] Use older rsyslog puppet class,MERGED,2023-05-30 15:20:13.000000000,2023-06-27 00:19:09.000000000,2023-06-27 00:19:09.000000000,"[{'_account_id': 16515}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-30 15:20:13.000000000', 'files': ['deployment/logging/rsyslog-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce0e3a9a94a4fce84dd70b6098867db1c86477fb', 'message': '[OSP=17.1] Use older rsyslog puppet class\n\nWe use rsyslog::server class with older puppet-rsyslog, so we need to adapt\nparameter in Wallaby.\n\nFixes: rhbz#2180883\nChange-Id: Ifebfbbb9610a8f71ee5001bcf911d4cd6cf26f2b\n'}]",0,884714,ce0e3a9a94a4fce84dd70b6098867db1c86477fb,7,3,1,5241,,,0,"[OSP=17.1] Use older rsyslog puppet class

We use rsyslog::server class with older puppet-rsyslog, so we need to adapt
parameter in Wallaby.

Fixes: rhbz#2180883
Change-Id: Ifebfbbb9610a8f71ee5001bcf911d4cd6cf26f2b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/884714/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logging/rsyslog-container-puppet.yaml'],1,ce0e3a9a94a4fce84dd70b6098867db1c86477fb,rhbz2180883, - rsyslog::server::global_config:, - rsyslog::config::global_config:,1,1
openstack%2Fpuppet-tripleo~stable%2Fwallaby~If09cf0d68edea9f0291eed7e81674e5383624349,openstack/puppet-tripleo,stable/wallaby,If09cf0d68edea9f0291eed7e81674e5383624349,[OSP-17.1] Deprecate collectd-sensubility,MERGED,2023-04-25 13:45:51.000000000,2023-06-26 23:02:31.000000000,2023-06-26 23:02:31.000000000,"[{'_account_id': 4264}, {'_account_id': 16515}, {'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-04-25 13:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a56097d5deac3211edcfb0b45c2df6164e8702cb', 'message': '[OSP-17.1] Deprecate collectd-sensubility\n\nAdds deprecation warning when sensubility is enabled.\n\nChange-Id: If09cf0d68edea9f0291eed7e81674e5383624349\n'}, {'number': 2, 'created': '2023-05-04 19:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/519e3e06eb0be2614ededa0b61b112dee470c60b', 'message': '[OSP-17.1] Deprecate collectd-sensubility\n\nAdds deprecation warning when sensubility is enabled.\n\nChange-Id: If09cf0d68edea9f0291eed7e81674e5383624349\n'}, {'number': 3, 'created': '2023-06-11 18:19:18.000000000', 'files': ['manifests/profile/base/metrics/collectd.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8ec2f581784249bfdc4ddc952c8efd53478bb590', 'message': '[OSP-17.1] Deprecate collectd-sensubility\n\nAdds deprecation warning when sensubility is enabled.\n\nChange-Id: If09cf0d68edea9f0291eed7e81674e5383624349\n'}]",7,881478,8ec2f581784249bfdc4ddc952c8efd53478bb590,25,4,3,5241,,,0,"[OSP-17.1] Deprecate collectd-sensubility

Adds deprecation warning when sensubility is enabled.

Change-Id: If09cf0d68edea9f0291eed7e81674e5383624349
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/78/881478/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/metrics/collectd.pp'],1,a56097d5deac3211edcfb0b45c2df6164e8702cb,rhbz2136445,"# DEPRECATED PARAMETERS # # [*enable_sensubility*] # (Optional) Boolean. Set to true if sensubility should be executed by exec plugin. # Defaults to false. # warning(""The collectd-sensubility is being deprecated and won't be available in next OpenStack release."")",# [*enable_sensubility*] # (Optional) Boolean. Set to true if sensubility should be executed by exec plugin. # Defaults to false. #,7,4
openstack%2Fnova-specs~master~I1a4be0f07d96a81ed37d0481ea3f762d1ac87c62,openstack/nova-specs,master,I1a4be0f07d96a81ed37d0481ea3f762d1ac87c62,fix count_blueprints.py to work with new release naming,NEW,2023-03-08 18:40:26.000000000,2023-06-26 22:54:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2023-03-08 18:40:26.000000000', 'files': ['tools/count_blueprints.py', 'tools/lib.py'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b3d86cf02961f242d0e71ce3f8111c591acb4563', 'message': 'fix count_blueprints.py to work with new release naming\n\nIn Launchpad, we track the releases by their names instead of their numbers\nwhile in here, we use the official release identifier. Adding a workaround\nfor translating the number into the release unofficial name.\n\nChange-Id: I1a4be0f07d96a81ed37d0481ea3f762d1ac87c62\n'}]",5,876888,b3d86cf02961f242d0e71ce3f8111c591acb4563,7,1,1,7166,,,0,"fix count_blueprints.py to work with new release naming

In Launchpad, we track the releases by their names instead of their numbers
while in here, we use the official release identifier. Adding a workaround
for translating the number into the release unofficial name.

Change-Id: I1a4be0f07d96a81ed37d0481ea3f762d1ac87c62
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/88/876888/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/count_blueprints.py', 'tools/lib.py']",2,b3d86cf02961f242d0e71ce3f8111c591acb4563,count_bp_fix_for_antelope,"# Add the release name corresponding to the release number once it's known. # NOTE(sbauza) : Historic releases before 2023.1 don't have release numbers. RELEASE_NAME_MAPPING = { '2023.1': 'antelope', '2023.2': 'bobcat', } def get_release_name_from_number(release_number): return RELEASE_NAME_MAPPING.get(release_number, release_number) ",,13,1
openstack%2Fironic~master~Ifd66444f73355d912c52905a0f04748284b25c1b,openstack/ironic,master,Ifd66444f73355d912c52905a0f04748284b25c1b,Fully ensure counts are out of scope of cxtmgr,MERGED,2023-06-26 21:29:40.000000000,2023-06-26 22:32:51.000000000,2023-06-26 22:31:23.000000000,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 21:29:40.000000000', 'files': ['ironic/tests/unit/db/sqlalchemy/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4a570042c93b4892088818b57e7463a678680d58', 'message': 'Fully ensure counts are out of scope of cxtmgr\n\nWith counts declared outside the context manager, it means values\nin counts that come from the sqlalchemy results object are still in\nscope when the context manager exits! Oh no!\n\nCo-Authored-By: Clif Houck <me@clifhouck.com>\nRelated-Bug: https://bugs.launchpad.net/ironic/+bug/2023316\nChange-Id: Ifd66444f73355d912c52905a0f04748284b25c1b\n'}]",1,887008,4a570042c93b4892088818b57e7463a678680d58,10,3,1,10342,,,0,"Fully ensure counts are out of scope of cxtmgr

With counts declared outside the context manager, it means values
in counts that come from the sqlalchemy results object are still in
scope when the context manager exits! Oh no!

Co-Authored-By: Clif Houck <me@clifhouck.com>
Related-Bug: https://bugs.launchpad.net/ironic/+bug/2023316
Change-Id: Ifd66444f73355d912c52905a0f04748284b25c1b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/887008/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/db/sqlalchemy/test_migrations.py'],1,4a570042c93b4892088818b57e7463a678680d58,, with engine.begin() as connection: counts = collections.defaultdict(int), counts = collections.defaultdict(int) with engine.begin() as connection:,1,1
openstack%2Fpuppet-tripleo~stable%2Ftrain~I5a8e4b3598d5e5a30ec967fba504bac91c7f51ec,openstack/puppet-tripleo,stable/train,I5a8e4b3598d5e5a30ec967fba504bac91c7f51ec,Correct TLS cert permission,MERGED,2022-11-22 19:21:02.000000000,2023-06-26 22:27:03.000000000,2023-06-26 22:27:03.000000000,"[{'_account_id': 7144}, {'_account_id': 7294}, {'_account_id': 9816}, {'_account_id': 16515}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-22 19:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/518045d26a7441ea4401dd299fbd1d2e54647fc1', 'message': 'Correct TLS cert permission\n\nThis patch corrects file permission of cert directory and certificates\nfor QDR.\n\nChange-Id: I5a8e4b3598d5e5a30ec967fba504bac91c7f51ec\n(cherry picked from commit 109a62a61e06b44e4764258082cb47c57409afeb)\n'}, {'number': 2, 'created': '2023-03-14 11:15:22.000000000', 'files': ['spec/classes/tripleo_profile_base_metrics_qdr_spec.rb', 'manifests/profile/base/metrics/qdr.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e0687aa02bbdfe8697bea405d8a763f5903a6fa2', 'message': 'Correct TLS cert permission\n\nThis patch corrects file permission of cert directory and certificates\nfor QDR.\n\nDepends-On: If75c8d42891efa87ca1922e2189027b077e37fd9\n\nChange-Id: I5a8e4b3598d5e5a30ec967fba504bac91c7f51ec\n(cherry picked from commit 109a62a61e06b44e4764258082cb47c57409afeb)\n'}]",9,865168,e0687aa02bbdfe8697bea405d8a763f5903a6fa2,30,7,2,5241,,,0,"Correct TLS cert permission

This patch corrects file permission of cert directory and certificates
for QDR.

Depends-On: If75c8d42891efa87ca1922e2189027b077e37fd9

Change-Id: I5a8e4b3598d5e5a30ec967fba504bac91c7f51ec
(cherry picked from commit 109a62a61e06b44e4764258082cb47c57409afeb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/865168/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_metrics_qdr_spec.rb', 'manifests/profile/base/metrics/qdr.pp']",2,518045d26a7441ea4401dd299fbd1d2e54647fc1,tls-cert-perm-stable/zed-stable/wallaby-stable/train," mode => '0755' mode => '0644',"," mode => '0700' mode => '0600',",5,5
openstack%2Fkeystone~master~I2e523a31e322c19512e3666aec1597fd088eb53f,openstack/keystone,master,I2e523a31e322c19512e3666aec1597fd088eb53f,db: Replace use of 'autoload' parameter,MERGED,2023-02-28 17:26:46.000000000,2023-06-26 21:47:20.000000000,2023-06-26 21:45:59.000000000,"[{'_account_id': 14250}, {'_account_id': 16137}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-02-28 17:26:46.000000000', 'files': ['keystone/tests/unit/ksfixtures/warnings.py', 'keystone/tests/unit/backend/core_sql.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/073_migrate_initial_migration.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/079_expand_update_local_id_limit.py', 'keystone/tests/unit/test_backend_sql.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/d9b447bacd45e8adec4b8ca226273c0967cd63dc', 'message': ""db: Replace use of 'autoload' parameter\n\nResolve the following RemovedIn20Warning warnings:\n\n  The autoload parameter is deprecated and will be removed in version\n  2.0.  Please use the autoload_with parameter, passing an engine or\n  connection.\n\nChange-Id: I2e523a31e322c19512e3666aec1597fd088eb53f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,875760,d9b447bacd45e8adec4b8ca226273c0967cd63dc,11,5,1,15334,,,0,"db: Replace use of 'autoload' parameter

Resolve the following RemovedIn20Warning warnings:

  The autoload parameter is deprecated and will be removed in version
  2.0.  Please use the autoload_with parameter, passing an engine or
  connection.

Change-Id: I2e523a31e322c19512e3666aec1597fd088eb53f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/60/875760/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/ksfixtures/warnings.py', 'keystone/tests/unit/backend/core_sql.py', 'keystone/common/sql/legacy_migrations/data_migration_repo/versions/073_migrate_initial_migration.py', 'keystone/common/sql/legacy_migrations/expand_repo/versions/079_expand_update_local_id_limit.py', 'keystone/tests/unit/test_backend_sql.py']",5,d9b447bacd45e8adec4b8ca226273c0967cd63dc,sqlalchemy-20," super().setUp() self.database_fixture = self.useFixture(database.Database()) table = sqlalchemy.Table( name, sql.ModelBase.metadata, autoload_with=self.database_fixture.engine, )"," super(SqlTests, self).setUp() self.useFixture(database.Database()) table = sqlalchemy.Table(name, sql.ModelBase.metadata, autoload=True)",16,19
openstack%2Fneutron~stable%2Fyoga~I34bb6f178c314907bdf9f76789777f6736938b67,openstack/neutron,stable/yoga,I34bb6f178c314907bdf9f76789777f6736938b67,[OVN][Trunk] Add port binding info on subport when parent is bound,MERGED,2023-06-23 16:51:54.000000000,2023-06-26 21:47:14.000000000,2023-06-26 21:45:56.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34118}]","[{'number': 1, 'created': '2023-06-23 16:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3dd7dc4a561c6a8993af18bb8370830cd5595c3', 'message': ""[OVN][Trunk] Add port binding info on subport when parent is bound\n\nThe host ID and VIF details are added on the subport when the trunk is\ncreated, if it's created when it's not attached to any VM this fields\nwill remain empty and be filled on the parent port when it gets bound\nto a host, but there's no callback to add this info on the subport.\n\nCloses-Bug: #2018289\nCloses-Bug: #2024160\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n(cherry picked from commit 955e621167987626806128d259a29d4e62acf102)\n""}, {'number': 2, 'created': '2023-06-23 16:52:18.000000000', 'files': ['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cd4f345f60c29900f8c7ca64ae7a1f396d98d28d', 'message': ""[OVN][Trunk] Add port binding info on subport when parent is bound\n\nThe host ID and VIF details are added on the subport when the trunk is\ncreated, if it's created when it's not attached to any VM this fields\nwill remain empty and be filled on the parent port when it gets bound\nto a host, but there's no callback to add this info on the subport.\n\nCloses-Bug: #2018289\nCloses-Bug: #2024160\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n(cherry picked from commit 955e621167987626806128d259a29d4e62acf102)\n""}]",3,886861,cd4f345f60c29900f8c7ca64ae7a1f396d98d28d,19,4,2,16688,,,0,"[OVN][Trunk] Add port binding info on subport when parent is bound

The host ID and VIF details are added on the subport when the trunk is
created, if it's created when it's not attached to any VM this fields
will remain empty and be filled on the parent port when it gets bound
to a host, but there's no callback to add this info on the subport.

Closes-Bug: #2018289
Closes-Bug: #2024160
Change-Id: I34bb6f178c314907bdf9f76789777f6736938b67
(cherry picked from commit 955e621167987626806128d259a29d4e62acf102)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/886861/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py']",3,e3dd7dc4a561c6a8993af18bb8370830cd5595c3,bug/2018289,"from neutron_lib.api.definitions import portbindingsfrom neutron_lib.db import api as db_apifrom neutron.objects import ports as port_obj from neutron.services.trunk import plugin as trunk_plugin from neutron.tests.functional import base def setUp(self, **kwargs): super().setUp(**kwargs) with self.port(subnet=subnet, device_owner='compute:nova') as parent_port: def _verify_trunk_info(self, trunk, has_items, host=''): # Check the subport binding. pb = port_obj.PortBinding.get_object( self.context, port_id=subport['port_id'], host=host) self.assertEqual(n_consts.PORT_STATUS_ACTIVE, pb.status) self.assertEqual(host, pb.host) def _bind_port(self, port_id, host): with db_api.CONTEXT_WRITER.using(self.context): pb = port_obj.PortBinding.get_object(self.context, port_id=port_id, host='') pb.delete() port_obj.PortBinding(self.context, port_id=port_id, host=host, vif_type=portbindings.VIF_TYPE_OVS).create() # Bind parent port. That will trigger the binding of the # trunk subports too, using the same host ID. self._bind_port(trunk['port_id'], 'host1') self.mech_driver.set_port_status_up(trunk['port_id']) self._verify_trunk_info(new_trunk, has_items=True, host='host1') # Bind parent port. self._bind_port(trunk['port_id'], 'host1') self.mech_driver.set_port_status_up(trunk['port_id']) self._verify_trunk_info(trunk, has_items=True, host='host1') ","from neutron.services.trunk import plugin as trunk_plugin from neutron.tests.functional import basefrom neutron_lib.objects import registry as obj_reg def setUp(self): super(TestOVNTrunkDriver, self).setUp() with self.port(subnet=subnet) as parent_port: revision_number = row.external_ids[ ovn_const.OVN_REV_NUM_EXT_ID_KEY] 'revision_number': revision_number, def _verify_trunk_info(self, trunk, has_items): 'revision_number': '2', # Check that the subport has the binding is active. binding = obj_reg.load_class('PortBinding').get_object( self.context, port_id=subport['port_id'], host='') self.assertEqual(n_consts.PORT_STATUS_ACTIVE, binding['status'])",62,20
openstack%2Fneutron~master~I34bb6f178c314907bdf9f76789777f6736938b67,openstack/neutron,master,I34bb6f178c314907bdf9f76789777f6736938b67,[OVN][Trunk] Add port binding info on subport when parent is bound,MERGED,2023-05-08 16:01:18.000000000,2023-06-26 21:47:08.000000000,2023-06-26 21:45:50.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}, {'_account_id': 34118}]","[{'number': 1, 'created': '2023-05-08 16:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/97cf55270031b5f1197ea1232b1ef92706c33767', 'message': ""[OVN trunk][WIP] Add bound info on subport when parent is bound\n\nThe host-id and vif_details are added on the subport when the\ntrunk is created, if it's created when it's not attached to any\nVM this fields will remain empty and be filled on the parent port\nwhen it gets binded to a host, but there's no callback to add\nthis info on the subport.\n\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n""}, {'number': 2, 'created': '2023-05-10 08:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/58d6940e7a7e194f01c5ba1236d7b3bca6ed306b', 'message': ""[OVN trunk][WIP] Add bound info on subport when parent is bound\n\nThe host-id and vif_details are added on the subport when the\ntrunk is created, if it's created when it's not attached to any\nVM this fields will remain empty and be filled on the parent port\nwhen it gets binded to a host, but there's no callback to add\nthis info on the subport.\n\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n""}, {'number': 3, 'created': '2023-05-15 11:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c7e6f8b154397a2667d9653dded2299c703fad1', 'message': ""[OVN trunk][WIP] Add bound info on subport when parent is bound\n\nThe host-id and vif_details are added on the subport when the\ntrunk is created, if it's created when it's not attached to any\nVM this fields will remain empty and be filled on the parent port\nwhen it gets binded to a host, but there's no callback to add\nthis info on the subport.\n\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n""}, {'number': 4, 'created': '2023-05-15 14:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8355011a023bf320a95f480aefa0a3dfa8df5d70', 'message': ""[OVN trunk][WIP] Add bound info on subport when parent is bound\n\nThe host-id and vif_details are added on the subport when the\ntrunk is created, if it's created when it's not attached to any\nVM this fields will remain empty and be filled on the parent port\nwhen it gets binded to a host, but there's no callback to add\nthis info on the subport.\n\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n""}, {'number': 5, 'created': '2023-05-19 10:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0f3b659c0716e004c0e89264451e50f043bdbc37', 'message': ""[OVN trunk] Add bound info on subport when parent is bound\n\nThe host-id and vif_details are added on the subport when the\ntrunk is created, if it's created when it's not attached to any\nVM this fields will remain empty and be filled on the parent port\nwhen it gets binded to a host, but there's no callback to add\nthis info on the subport.\n\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n""}, {'number': 6, 'created': '2023-06-21 16:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b58e12a4e4eadf86f1b225428775610e26cf89e4', 'message': ""[OVN trunk] Add bound info on subport when parent is bound\n\nThe host-id and vif_details are added on the subport when the\ntrunk is created, if it's created when it's not attached to any\nVM this fields will remain empty and be filled on the parent port\nwhen it gets binded to a host, but there's no callback to add\nthis info on the subport.\n\nCloses-Bug: #2018289\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n""}, {'number': 7, 'created': '2023-06-21 16:47:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a017672d330bed2a97534b9415ec35d77a21e754', 'message': ""[OVN[[Trunk] Add bound info on subport when parent is bound\n\nThe host-id and vif_details are added on the subport when the\ntrunk is created, if it's created when it's not attached to any\nVM this fields will remain empty and be filled on the parent port\nwhen it gets binded to a host, but there's no callback to add\nthis info on the subport.\n\nCloses-Bug: #2018289\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n""}, {'number': 8, 'created': '2023-06-22 08:00:22.000000000', 'files': ['neutron/tests/unit/services/trunk/drivers/ovn/test_trunk_driver.py', 'neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/tests/functional/services/trunk/drivers/ovn/test_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/955e621167987626806128d259a29d4e62acf102', 'message': ""[OVN][Trunk] Add port binding info on subport when parent is bound\n\nThe host ID and VIF details are added on the subport when the trunk is\ncreated, if it's created when it's not attached to any VM this fields\nwill remain empty and be filled on the parent port when it gets bound\nto a host, but there's no callback to add this info on the subport.\n\nCloses-Bug: #2018289\nCloses-Bug: #2024160\nChange-Id: I34bb6f178c314907bdf9f76789777f6736938b67\n""}]",25,882581,955e621167987626806128d259a29d4e62acf102,66,7,8,34118,,,0,"[OVN][Trunk] Add port binding info on subport when parent is bound

The host ID and VIF details are added on the subport when the trunk is
created, if it's created when it's not attached to any VM this fields
will remain empty and be filled on the parent port when it gets bound
to a host, but there's no callback to add this info on the subport.

Closes-Bug: #2018289
Closes-Bug: #2024160
Change-Id: I34bb6f178c314907bdf9f76789777f6736938b67
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/882581/8 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/services/trunk/drivers/ovn/trunk_driver.py', 'neutron/services/trunk/plugin.py']",2,97cf55270031b5f1197ea1232b1ef92706c33767,bug/2024160,"from neutron_lib.plugins import constants as plugin_constantsfrom neutron.common.ovn import constants as ovn_constfrom neutron.objects import ports as port_objects def _get_subport(self, context, subport_id): """"""Return the trunk object or raise if not found."""""" obj = port_objects.Port.get_object(context, id=subport_id) if obj is None: raise trunk_exc.SubPortNotFound(port_id=subport_id) return obj def bound_subport(self, context, subport_id, vif_type, vif_details, parent_host): l3plugin = directory.get_plugin(plugin_constants.L3) if not l3plugin: return ovn_client = l3plugin._ovn_client db_subport = self._get_subport(context, subport_id) options = {} check_rev_cmd = ovn_client._nb_idl.check_revision_number( subport_id, db_subport, ovn_const.TYPE_PORTS) with ovn_client._nb_idl.transaction(check_error=True, revision_mismatch_raise=True) as txn: txn.add(check_rev_cmd) options[portbindings.HOST_ID] = parent_host options[portbindings.VIF_TYPE] = vif_type options[ovn_const.LSP_OPTIONS_REQUESTED_CHASSIS_KEY] = parent_host # new_options[portbindings.VIF_DETAILS] = vif_details txn.add(ovn_client._nb_idl.set_lswitch_port( lport_name=subport_id, if_exists=False, options=options,)) @db_base_plugin_common.convert_result_to_dict vif_has_been_bound = True if vif_type_changed and \ new_vif_type != (portbindings.VIF_TYPE_UNBOUND or portbindings.VIF_TYPE_BINDING_FAILED) else False if vif_type_changed and vif_has_been_bound: vif_details = updated_port.get(portbindings.VIF_DETAILS) # Bound the subport on the same host than the parent for subport_id in trunk_details['sub_ports']: self.bound_subport( context, subport_id['port_id'], new_vif_type, vif_details, updated_port.get(portbindings.HOST_ID))",,52,2
openstack%2Fglance~master~I1534457c90fc7f7df34803e41c17089948458a37,openstack/glance,master,I1534457c90fc7f7df34803e41c17089948458a37,Imported Translations from Zanata,MERGED,2023-06-18 02:20:24.000000000,2023-06-26 21:47:00.000000000,2023-06-26 21:45:54.000000000,"[{'_account_id': 8122}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-18 02:20:24.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/glance/commit/076c06e1d8e0776e374e5d5bf7f889aad83f28b1', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I1534457c90fc7f7df34803e41c17089948458a37\n'}]",0,886308,076c06e1d8e0776e374e5d5bf7f889aad83f28b1,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I1534457c90fc7f7df34803e41c17089948458a37
",git fetch https://review.opendev.org/openstack/glance refs/changes/08/886308/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,076c06e1d8e0776e374e5d5bf7f889aad83f28b1,zanata/translations,"""POT-Creation-Date: 2023-06-16 12:05+0000\n""""PO-Revision-Date: 2023-06-17 02:38+0000\n""msgid ""27.0.0.0b1"" msgstr ""27.0.0.0b1"" msgid ""Bug 2007354_: duplicate values in compute-host-capabilities.json"" msgstr ""Bug 2007354_: duplicate values in compute-host-capabilities.json"" ","""POT-Creation-Date: 2023-05-10 02:06+0000\n""""PO-Revision-Date: 2023-05-08 10:15+0000\n""",8,2
openstack%2Fcinder~master~I0f77e5541a758b56630370c61cf895990151c833,openstack/cinder,master,I0f77e5541a758b56630370c61cf895990151c833,Addressed review comments.,ABANDONED,2023-06-26 06:02:46.000000000,2023-06-26 21:00:08.000000000,,[],"[{'number': 1, 'created': '2023-06-26 06:02:46.000000000', 'files': ['cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/e7c2e338021471eae802bb15bfde598356164948', 'message': 'Addressed review comments.\n\nChange-Id: I0f77e5541a758b56630370c61cf895990151c833\n'}]",0,886613,e7c2e338021471eae802bb15bfde598356164948,8,0,1,35949,,,0,"Addressed review comments.

Change-Id: I0f77e5541a758b56630370c61cf895990151c833
",git fetch https://review.opendev.org/openstack/cinder refs/changes/13/886613/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/dell_emc/sc/storagecenter_api.py'],1,e7c2e338021471eae802bb15bfde598356164948,DSM_WWN_string_changes," if hbaname.upper() in list( map(lambda x: x.upper(), initiators) ):"," #if hbaname in initiators: if hbaname.upper() in list(map(lambda x:x.upper(), initiators)):",3,2
openstack%2Fswift~master~I7b9d0057bad6c9507ec92315749b4d87d3f0a911,openstack/swift,master,I7b9d0057bad6c9507ec92315749b4d87d3f0a911,Cleanup cleave dbs empty part dirs as we go,ABANDONED,2022-02-14 22:15:11.000000000,2023-06-26 20:41:14.000000000,,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-02-14 22:15:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/7ab0e0ed7783c89040461a6d20c239ed41d09d29', 'message': 'Cleanup cleave dbs empty part dirs as we go\n\nChange-Id: I7b9d0057bad6c9507ec92315749b4d87d3f0a911\n'}, {'number': 2, 'created': '2022-02-17 15:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/12a4e607ebc4a8b2592395cb862fe2aaa84e1dfe', 'message': 'Cleanup cleave dbs empty part dirs as we go\n\nChange-Id: I7b9d0057bad6c9507ec92315749b4d87d3f0a911\n'}, {'number': 3, 'created': '2022-02-18 10:11:50.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f202eea3527f84b573fedd5ca02a926994446def', 'message': 'Cleanup cleave dbs empty part dirs as we go\n\nChange-Id: I7b9d0057bad6c9507ec92315749b4d87d3f0a911\n'}]",28,829136,f202eea3527f84b573fedd5ca02a926994446def,20,4,3,1179,,,0,"Cleanup cleave dbs empty part dirs as we go

Change-Id: I7b9d0057bad6c9507ec92315749b4d87d3f0a911
",git fetch https://review.opendev.org/openstack/swift refs/changes/36/829136/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,7ab0e0ed7783c89040461a6d20c239ed41d09d29,p-sharder-cleanup," 'Replicating new shard container %s (%s) for %s', quote(shard_broker.path), shard_broker.db_file, own_shard_range) handoff_path = shard_broker.db_file.rsplit('/', 3)[0] self.logger.debug('cleaning up handoff path: %s', handoff_path) try: os.rmdir(handoff_path) except (OSError, IOError) as e: if e.errno not in (errno.ENOENT, errno.ENOTEMPTY): raise "," 'Replicating new shard container %s for %s', quote(shard_broker.path), own_shard_range)",65,3
openstack%2Fkeystonemiddleware~stable%2Fzed~I0c022c3cc57f30530ebdef6e434753ece2bdf912,openstack/keystonemiddleware,stable/zed,I0c022c3cc57f30530ebdef6e434753ece2bdf912,Add timeout for requests,MERGED,2023-03-21 16:51:42.000000000,2023-06-26 20:30:47.000000000,2023-06-26 20:29:48.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-03-21 16:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/a1acf130e67a758fec7ef83bd542dcc640e9c77e', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 2, 'created': '2023-03-27 14:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e24accaeb91923c10300536c0c9ef70ff8336f09', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 3, 'created': '2023-03-27 19:58:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/3fc842038cc0cdd0d9188518def6108f0878670a', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}, {'number': 4, 'created': '2023-03-27 21:32:20.000000000', 'files': ['keystonemiddleware/ec2_token.py', 'keystonemiddleware/tests/unit/test_ec2_token_middleware.py', 'keystonemiddleware/s3_token.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b61d3125f270b1c3da17cacb443034e1e9a8ce50', 'message': ""Add timeout for requests\n\nBandit emits errors for request methods without the timeout parameter.\nIt's better to follow the instruction to avoid hanging.\n\nAdded timeout parameters and config options to set timeout.\n\n[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html\n\nChange-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912\n(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)\n""}]",2,878023,b61d3125f270b1c3da17cacb443034e1e9a8ce50,18,4,4,34275,,,0,"Add timeout for requests

Bandit emits errors for request methods without the timeout parameter.
It's better to follow the instruction to avoid hanging.

Added timeout parameters and config options to set timeout.

[1] https://bandit.readthedocs.io/en/1.7.5/plugins/b113_request_without_timeout.html

Change-Id: I0c022c3cc57f30530ebdef6e434753ece2bdf912
(cherry picked from commit 92cdf8a0a5df0a7862eaa950060794a43b8ad4ec)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/23/878023/2 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/ec2_token.py', 'keystonemiddleware/s3_token.py']",2,a1acf130e67a758fec7ef83bd542dcc640e9c77e,877808-stable/zed,"from oslo_config import cfgs3_opts = [ cfg.IntOpt('timeout', default=60, help='Timeout to obtain token.'), ] CONF = cfg.CONF CONF.register_opts(s3_opts, group='s3_token') verify=self._verify, timeout=CONF.s3_token.timeout)", verify=self._verify),17,4
openstack%2Ftripleo-ansible~stable%2Fwallaby~I0b3691cdd34e54dc6795f18bb3bfc03b98648be0,openstack/tripleo-ansible,stable/wallaby,I0b3691cdd34e54dc6795f18bb3bfc03b98648be0,Pin openstacksdk version to <1.3.0 when python 3.6 is used,MERGED,2023-06-26 09:18:19.000000000,2023-06-26 20:16:43.000000000,2023-06-26 20:15:40.000000000,"[{'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2023-06-26 09:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7235043385057c53fb0cdd6cdbdcc17599716d5a', 'message': 'Pin openstacksdk version to <1.3.0 when python 3.6 is used\n\nChange-Id: I0b3691cdd34e54dc6795f18bb3bfc03b98648be0\nSigned-off-by: Roberto Alfieri <ralfieri@redhat.com>\n'}, {'number': 2, 'created': '2023-06-26 09:19:10.000000000', 'files': ['ansible-requirements.txt', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c9b98976af808b9f1b99c4149194fa439d5845ad', 'message': 'Pin openstacksdk version to <1.3.0 when python 3.6 is used\n\nChange-Id: I0b3691cdd34e54dc6795f18bb3bfc03b98648be0\nCloses-Bug: #2025025\nSigned-off-by: Roberto Alfieri <ralfieri@redhat.com>\n'}]",2,886971,c9b98976af808b9f1b99c4149194fa439d5845ad,10,3,2,35491,,,0,"Pin openstacksdk version to <1.3.0 when python 3.6 is used

Change-Id: I0b3691cdd34e54dc6795f18bb3bfc03b98648be0
Closes-Bug: #2025025
Signed-off-by: Roberto Alfieri <ralfieri@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/71/886971/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', 'molecule-requirements.txt']",2,7235043385057c53fb0cdd6cdbdcc17599716d5a,fix-openstacksdk-py36,"openstacksdk<1.3.0;python_version<""3.7""",,2,0
openstack%2Fkeystonemiddleware~master~I87c818dc9c8d8eabef71ef9c4a7a3982e91fd9c4,openstack/keystonemiddleware,master,I87c818dc9c8d8eabef71ef9c4a7a3982e91fd9c4,Fix the gate,ABANDONED,2023-06-26 19:28:58.000000000,2023-06-26 19:39:40.000000000,,[],"[{'number': 1, 'created': '2023-06-26 19:28:58.000000000', 'files': ['keystonemiddleware/tests/unit/test_opts.py', 'keystonemiddleware/tests/unit/test_entry_points.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/a916283ecb0a0ec28af50fca390b63b49a0cda3f', 'message': ""Fix the gate\n\nThese tests seem to be very problematic and are transient.  I am\nhaving a very difficult time reproducing them locally as they are\npassing fine.  I'm removing them for now to get the gate to a point\nwhere we can merge some important fixes and will return to these\ntests once keystonemiddleware has the essential fixes merged.\n\nChange-Id: I87c818dc9c8d8eabef71ef9c4a7a3982e91fd9c4\n""}]",0,887005,a916283ecb0a0ec28af50fca390b63b49a0cda3f,2,0,1,7414,,,0,"Fix the gate

These tests seem to be very problematic and are transient.  I am
having a very difficult time reproducing them locally as they are
passing fine.  I'm removing them for now to get the gate to a point
where we can merge some important fixes and will return to these
tests once keystonemiddleware has the essential fixes merged.

Change-Id: I87c818dc9c8d8eabef71ef9c4a7a3982e91fd9c4
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/05/887005/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/tests/unit/test_opts.py', 'keystonemiddleware/tests/unit/test_entry_points.py']",2,a916283ecb0a0ec28af50fca390b63b49a0cda3f,,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import stevedore from testtools import matchers from keystonemiddleware.tests.unit import utils class TestPasteDeploymentEntryPoints(utils.BaseTestCase): def test_entry_points(self): expected_factory_names = [ 'audit', 'auth_token', 'ec2_token', 's3_token', ] em = stevedore.ExtensionManager('paste.filter_factory') exp_factories = set(['keystonemiddleware.' + name + ':filter_factory' for name in expected_factory_names]) actual_factories = set(['{0.__module__}:{0.__name__}'.format( extension.plugin) for extension in em]) # Ensure that all factories are defined by their names self.assertThat(actual_factories, matchers.ContainsAll(exp_factories)) ",0,45
openstack%2Fironic~master~I3626a12bad3299ace2991550cafd92f4f0142434,openstack/ironic,master,I3626a12bad3299ace2991550cafd92f4f0142434,Ensure all sqla objects descoped before ending txn,MERGED,2023-06-26 17:33:26.000000000,2023-06-26 19:14:08.000000000,2023-06-26 19:13:01.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 17:33:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5cd944fe30cf1b3584cbffb2a1b11558ae6f00f3', 'message': 'Ensure all sqla objects descoped before ending txn\n\nAnother of our continuing attempts to find the magic stop sign plaguing\nour CI runs.\n\nRelated-bug: https://bugs.launchpad.net/ironic/+bug/2024941\nChange-Id: I3626a12bad3299ace2991550cafd92f4f0142434\n'}, {'number': 2, 'created': '2023-06-26 17:47:09.000000000', 'files': ['ironic/tests/unit/db/sqlalchemy/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/dd79ae5e248c8f70bff0b8b59a442db23b62d6ae', 'message': 'Ensure all sqla objects descoped before ending txn\n\nAnother of our continuing attempts to find the magic stop sign plaguing\nour CI runs.\n\nRelated-bug: https://bugs.launchpad.net/ironic/+bug/2024941\nChange-Id: I3626a12bad3299ace2991550cafd92f4f0142434\n'}]",2,887000,dd79ae5e248c8f70bff0b8b59a442db23b62d6ae,12,2,2,10342,,,0,"Ensure all sqla objects descoped before ending txn

Another of our continuing attempts to find the magic stop sign plaguing
our CI runs.

Related-bug: https://bugs.launchpad.net/ironic/+bug/2024941
Change-Id: I3626a12bad3299ace2991550cafd92f4f0142434
",git fetch https://review.opendev.org/openstack/ironic refs/changes/00/887000/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/db/sqlalchemy/test_migrations.py'],1,5cd944fe30cf1b3584cbffb2a1b11558ae6f00f3,," # using default config values, we should have 2 flat and one neutron self.assertEqual(2, counts['flat']) self.assertEqual(1, counts['neutron']) self.assertEqual(0, counts[None]) for row in result: self.assertEqual(CONF.default_portgroup_mode, row['mode'])"," # using default config values, we should have 2 flat and one neutron self.assertEqual(2, counts['flat']) self.assertEqual(1, counts['neutron']) self.assertEqual(0, counts[None]) for row in result: self.assertEqual(CONF.default_portgroup_mode, row['mode'])",6,6
openstack%2Fopenstacksdk~master~I6c413cdb9001373d2f73ad9df56bb86dd51566ef,openstack/openstacksdk,master,I6c413cdb9001373d2f73ad9df56bb86dd51566ef,Add missing `force` parameter,MERGED,2023-06-21 13:31:18.000000000,2023-06-26 19:07:48.000000000,2023-06-26 19:06:43.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2023-06-21 13:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d04d474fbf12eaef3a5446ca4cb75d0050d8a302', 'message': 'Add missing `force` parameter\n\nChange-Id: I6c413cdb9001373d2f73ad9df56bb86dd51566ef\n'}, {'number': 2, 'created': '2023-06-21 14:16:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/35b8235f1c75258436553c7f0b4e6834437ffaeb', 'message': 'Add missing `force` parameter\n\nChange-Id: I6c413cdb9001373d2f73ad9df56bb86dd51566ef\n'}, {'number': 3, 'created': '2023-06-22 07:32:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/760e0175d2093994180a9a8cdb46fd7e25263c4a', 'message': 'Add missing `force` parameter\n\nChange-Id: I6c413cdb9001373d2f73ad9df56bb86dd51566ef\n'}, {'number': 4, 'created': '2023-06-22 09:53:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bce6563fea0d8633588d5fe1f5c39cc248b17c5e', 'message': 'Add missing `force` parameter\n\nChange-Id: I6c413cdb9001373d2f73ad9df56bb86dd51566ef\n'}, {'number': 5, 'created': '2023-06-23 07:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/34344689bb40e094aa29b0604e21e8cffbd638d6', 'message': 'Add missing `force` parameter\n\nChange-Id: I6c413cdb9001373d2f73ad9df56bb86dd51566ef\n'}, {'number': 6, 'created': '2023-06-23 08:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/33552536dcbb0125d2515ca94c77b77ad2a07e65', 'message': 'Add missing `force` parameter\n\nChange-Id: I6c413cdb9001373d2f73ad9df56bb86dd51566ef\n'}, {'number': 7, 'created': '2023-06-23 09:19:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/a1196bdc0ef0e951b5b9d9c4d27848fe9e83ed9d', 'message': 'Add missing `force` parameter\n\nChange-Id: I6c413cdb9001373d2f73ad9df56bb86dd51566ef\n'}, {'number': 8, 'created': '2023-06-23 09:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8862996b4483ab6b6416b1224e68983e988e16c3', 'message': 'Add missing `force` parameter\n\nChange-Id: I6c413cdb9001373d2f73ad9df56bb86dd51566ef\n'}, {'number': 9, 'created': '2023-06-23 10:30:01.000000000', 'files': ['openstack/tests/fakes.py', 'openstack/tests/unit/cloud/test_create_volume_snapshot.py', 'openstack/tests/functional/cloud/test_compute.py', 'openstack/cloud/_block_storage.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9fc4b9f26aeee0ed157d21c47aaad600199b4dd4', 'message': 'Add missing `force` parameter\n\nChange-Id: I6c413cdb9001373d2f73ad9df56bb86dd51566ef\n'}]",13,886637,9fc4b9f26aeee0ed157d21c47aaad600199b4dd4,31,3,9,32670,,,0,"Add missing `force` parameter

Change-Id: I6c413cdb9001373d2f73ad9df56bb86dd51566ef
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/37/886637/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_block_storage.py'],1,d04d474fbf12eaef3a5446ca4cb75d0050d8a302,bs-body-force," payload = {'volume_id': volume_id, 'force': force}", payload = {'volume_id': volume_id},1,1
openstack%2Fpython-ironicclient~master~I7cd21f247239cd4b5406392860b81869a99eaf10,openstack/python-ironicclient,master,I7cd21f247239cd4b5406392860b81869a99eaf10,Convert mac addresses to lowercase to avoid mismatch,NEW,2021-11-25 16:40:23.000000000,2023-06-26 18:39:49.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 16:40:23.000000000', 'files': ['ironicclient/osc/v1/baremetal_port.py'], 'web_link': 'https://opendev.org/openstack/python-ironicclient/commit/c36ae7c678615bba254c8b372825a772de976d8b', 'message': 'Convert mac addresses to lowercase to avoid mismatch\n\nConvert mac addresses to lowercase to avoid mismatch\n\nChange-Id: I7cd21f247239cd4b5406392860b81869a99eaf10\n'}]",5,819358,c36ae7c678615bba254c8b372825a772de976d8b,7,2,1,7130,,,0,"Convert mac addresses to lowercase to avoid mismatch

Convert mac addresses to lowercase to avoid mismatch

Change-Id: I7cd21f247239cd4b5406392860b81869a99eaf10
",git fetch https://review.opendev.org/openstack/python-ironicclient refs/changes/58/819358/1 && git format-patch -1 --stdout FETCH_HEAD,['ironicclient/osc/v1/baremetal_port.py'],1,c36ae7c678615bba254c8b372825a772de976d8b,mac_loewr," address = [""address=%s"" % parsed_args.address.lower()] params['address'] = parsed_args.address.lower()"," address = [""address=%s"" % parsed_args.address] params['address'] = parsed_args.address",2,2
openstack%2Fglance~master~Ia67f9d74ae0d52111af4b0ddd2a034df7fbc5233,openstack/glance,master,Ia67f9d74ae0d52111af4b0ddd2a034df7fbc5233,Add numa specific image properties,NEW,2019-09-23 02:58:26.000000000,2023-06-26 17:58:52.000000000,,"[{'_account_id': 6873}, {'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-23 02:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f42562ebddc559a6c265dc51c42ac601d8039192', 'message': 'Add numa specific image properties\n\nAdd ``hw_numa_nodes`` to useful image properties list.\n\nChange-Id: Ia67f9d74ae0d52111af4b0ddd2a034df7fbc5233\nCloses-Bug: #1763761\n'}, {'number': 2, 'created': '2023-06-23 20:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/f8ca068448e382eef5d92291b0870a260c222af0', 'message': 'Add numa specific image properties\n\nAdd hw_numa_{nodes,cpus,mem} to useful image properties list.\n\nCo-Authored-By: Cyril Roelandt <cyril@redhat.com>\nChange-Id: Ia67f9d74ae0d52111af4b0ddd2a034df7fbc5233\n'}, {'number': 3, 'created': '2023-06-24 00:45:03.000000000', 'files': ['doc/source/admin/useful-image-properties.rst', 'etc/metadefs/compute-libvirt-image.json'], 'web_link': 'https://opendev.org/openstack/glance/commit/5120a932298a9f7226bce91074c124d119627775', 'message': 'Add numa specific image properties\n\nAdd hw_numa_{nodes,cpus,mem} to useful image properties list.\n\nCo-Authored-By: Cyril Roelandt <cyril@redhat.com>\nChange-Id: Ia67f9d74ae0d52111af4b0ddd2a034df7fbc5233\n'}]",9,683838,5120a932298a9f7226bce91074c124d119627775,15,4,3,19779,,,0,"Add numa specific image properties

Add hw_numa_{nodes,cpus,mem} to useful image properties list.

Co-Authored-By: Cyril Roelandt <cyril@redhat.com>
Change-Id: Ia67f9d74ae0d52111af4b0ddd2a034df7fbc5233
",git fetch https://review.opendev.org/openstack/glance refs/changes/38/683838/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/useful-image-properties.rst'],1,f42562ebddc559a6c265dc51c42ac601d8039192,bug/1763761, - ``hw_numa_nodes`` - Number of guest NUMA nodes. - Integer. * - libvirt API driver,,4,0
openstack%2Fkolla-ansible~stable%2F2023.1~I5a12670d07077d24047aaff57ce8d33ccf7156ff,openstack/kolla-ansible,stable/2023.1,I5a12670d07077d24047aaff57ce8d33ccf7156ff,Refactor MariaDB and RabbitMQ restart procedure,MERGED,2023-06-21 12:32:43.000000000,2023-06-26 17:38:17.000000000,2023-06-26 17:37:11.000000000,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 32553}]","[{'number': 1, 'created': '2023-06-21 12:32:43.000000000', 'files': ['ansible/mariadb.yml', 'ansible/roles/rabbitmq/tasks/upgrade.yml', 'tests/run.yml', 'ansible/roles/rabbitmq/handlers/main.yml', 'ansible/site.yml', 'doc/source/user/quickstart.rst', 'ansible/roles/mariadb/tasks/upgrade.yml', 'ansible/roles/mariadb/tasks/post-upgrade.yml', 'ansible/roles/rabbitmq/tasks/post-deploy.yml', 'ansible/roles/prechecks/vars/main.yml', 'ansible/roles/mariadb/handlers/main.yml', 'releasenotes/notes/mariadb-restart-refactor-529502bf5d12b0f4.yaml', 'ansible/roles/rabbitmq/tasks/deploy.yml', 'ansible/roles/mariadb/tasks/deploy.yml', 'ansible/roles/mariadb/tasks/post-deploy.yml', 'doc/source/user/virtual-environments.rst', 'ansible/rabbitmq.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7790a9a56f4c0c8b3016ea39fa0c626c24c970a', 'message': ""Refactor MariaDB and RabbitMQ restart procedure\n\nAnsible 2.14.3 introduced a change that broke the method used for\nrestarting MariaDB and RabbitMQ serially [1][2]. In\nI57425680a4cdbf0daeb9b2cc35920f1b933aa4a8 we limited to 2.14.2 to work\naround this. Ansible upstream claim this behaviour was unintentional,\nand will not fix it.\n\nThis change moves to a different approach where we use separate plays\nwith a 'serial' keyword to execute the restart.\n\nThis change also removes the restriction on the maximum supported\nversion of 2.14.2 on ansible-core - any 2.14 release is now supported.\n\n[1] https://github.com/ansible/ansible/commit/65366f663de7d044f42ae6dd53368fd4c1f88b35\n[2] https://github.com/ansible/ansible/issues/80848\n\nDepends-On: https://review.opendev.org/c/openstack/kolla/+/884208\n\nChange-Id: I5a12670d07077d24047aaff57ce8d33ccf7156ff\n(cherry picked from commit 6c037790f2802d626902d377486ec2f8ce2c8cda)\n""}]",0,886485,f7790a9a56f4c0c8b3016ea39fa0c626c24c970a,11,5,1,22629,,,0,"Refactor MariaDB and RabbitMQ restart procedure

Ansible 2.14.3 introduced a change that broke the method used for
restarting MariaDB and RabbitMQ serially [1][2]. In
I57425680a4cdbf0daeb9b2cc35920f1b933aa4a8 we limited to 2.14.2 to work
around this. Ansible upstream claim this behaviour was unintentional,
and will not fix it.

This change moves to a different approach where we use separate plays
with a 'serial' keyword to execute the restart.

This change also removes the restriction on the maximum supported
version of 2.14.2 on ansible-core - any 2.14 release is now supported.

[1] https://github.com/ansible/ansible/commit/65366f663de7d044f42ae6dd53368fd4c1f88b35
[2] https://github.com/ansible/ansible/issues/80848

Depends-On: https://review.opendev.org/c/openstack/kolla/+/884208

Change-Id: I5a12670d07077d24047aaff57ce8d33ccf7156ff
(cherry picked from commit 6c037790f2802d626902d377486ec2f8ce2c8cda)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/85/886485/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/mariadb.yml', 'ansible/roles/rabbitmq/tasks/upgrade.yml', 'tests/run.yml', 'ansible/roles/rabbitmq/handlers/main.yml', 'ansible/site.yml', 'doc/source/user/quickstart.rst', 'ansible/roles/mariadb/tasks/upgrade.yml', 'ansible/roles/mariadb/tasks/post-upgrade.yml', 'ansible/roles/rabbitmq/tasks/post-deploy.yml', 'ansible/roles/prechecks/vars/main.yml', 'ansible/roles/mariadb/handlers/main.yml', 'releasenotes/notes/mariadb-restart-refactor-529502bf5d12b0f4.yaml', 'ansible/roles/rabbitmq/tasks/deploy.yml', 'ansible/roles/mariadb/tasks/deploy.yml', 'ansible/roles/mariadb/tasks/post-deploy.yml', 'doc/source/user/virtual-environments.rst', 'ansible/rabbitmq.yml']",17,f7790a9a56f4c0c8b3016ea39fa0c626c24c970a,,"--- # For RabbitMQ we need to be careful about restarting services, to avoid losing quorum. - name: Apply role rabbitmq gather_facts: false hosts: - rabbitmq - '&enable_rabbitmq_True' tags: - rabbitmq tasks: - import_role: name: rabbitmq vars: role_rabbitmq_cluster_cookie: '{{ rabbitmq_cluster_cookie }}' role_rabbitmq_cluster_port: '{{ rabbitmq_cluster_port }}' role_rabbitmq_epmd_port: '{{ rabbitmq_epmd_port }}' role_rabbitmq_groups: rabbitmq role_rabbitmq_management_port: '{{ rabbitmq_management_port }}' role_rabbitmq_monitoring_password: '{{ rabbitmq_monitoring_password }}' role_rabbitmq_monitoring_user: '{{ rabbitmq_monitoring_user }}' role_rabbitmq_password: '{{ rabbitmq_password }}' role_rabbitmq_port: '{{ rabbitmq_port }}' role_rabbitmq_prometheus_port: '{{ rabbitmq_prometheus_port }}' role_rabbitmq_user: '{{ rabbitmq_user }}' - name: Restart rabbitmq services gather_facts: false hosts: - rabbitmq_restart - '&enable_rabbitmq_True' # Restart in batches serial: ""33%"" tags: - rabbitmq tasks: - import_role: name: rabbitmq tasks_from: restart_services.yml vars: role_rabbitmq_cluster_cookie: '{{ rabbitmq_cluster_cookie }}' role_rabbitmq_groups: rabbitmq - name: Apply rabbitmq post-configuration gather_facts: false hosts: - rabbitmq - '&enable_rabbitmq_True' tags: - rabbitmq tasks: - name: Include rabbitmq post-deploy.yml include_role: name: rabbitmq tasks_from: post-deploy.yml when: kolla_action in ['deploy', 'reconfigure'] vars: role_rabbitmq_cluster_cookie: '{{ rabbitmq_cluster_cookie }}' role_rabbitmq_groups: rabbitmq - name: Apply role rabbitmq (outward) gather_facts: false hosts: - outward-rabbitmq - '&enable_outward_rabbitmq_True' tags: - rabbitmq tasks: - import_role: name: rabbitmq vars: project_name: outward_rabbitmq role_rabbitmq_cluster_cookie: '{{ outward_rabbitmq_cluster_cookie }}' role_rabbitmq_cluster_port: '{{ outward_rabbitmq_cluster_port }}' role_rabbitmq_epmd_port: '{{ outward_rabbitmq_epmd_port }}' role_rabbitmq_groups: outward-rabbitmq role_rabbitmq_management_port: '{{ outward_rabbitmq_management_port }}' role_rabbitmq_password: '{{ outward_rabbitmq_password }}' role_rabbitmq_port: '{{ outward_rabbitmq_port }}' role_rabbitmq_prometheus_port: '{{ outward_rabbitmq_prometheus_port }}' role_rabbitmq_user: '{{ outward_rabbitmq_user }}' - name: Restart rabbitmq (outward) services gather_facts: false hosts: - outward_rabbitmq_restart - '&enable_outward_rabbitmq_True' # Restart in batches serial: ""33%"" tags: - rabbitmq tasks: - import_role: name: rabbitmq tasks_from: restart_services.yml vars: project_name: outward_rabbitmq role_rabbitmq_cluster_cookie: '{{ outward_rabbitmq_cluster_cookie }}' role_rabbitmq_groups: outward-rabbitmq - name: Apply rabbitmq (outward) post-configuration gather_facts: false hosts: - outward-rabbitmq - '&enable_outward_rabbitmq_True' tags: - rabbitmq tasks: - name: Include rabbitmq (outward) post-deploy.yml include_role: name: rabbitmq when: kolla_action in ['deploy', 'reconfigure'] vars: project_name: outward_rabbitmq role_rabbitmq_cluster_cookie: '{{ outward_rabbitmq_cluster_cookie }}' role_rabbitmq_groups: outward-rabbitmq ",,246,132
openstack%2Fmanila~master~Icc37b55bf17063eb3796d2934c35e53cd34011b2,openstack/manila,master,Icc37b55bf17063eb3796d2934c35e53cd34011b2,[Doc] Annotate max api microversion in Antelope,MERGED,2023-03-23 23:30:13.000000000,2023-06-26 17:35:04.000000000,2023-06-26 17:34:01.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30407}]","[{'number': 1, 'created': '2023-03-23 23:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/3b5200f7208f521672580425876600577109208e', 'message': '[Doc] Annotate max api microversion in Antelope\n\nChange-Id: Icc37b55bf17063eb3796d2934c35e53cd34011b2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 2, 'created': '2023-06-24 00:31:11.000000000', 'files': ['manila/api/openstack/rest_api_version_history.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/4351805302f06df79105a1a8650ce73e43b9f244', 'message': '[Doc] Annotate max api microversion in Antelope\n\nChange-Id: Icc37b55bf17063eb3796d2934c35e53cd34011b2\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",2,878491,4351805302f06df79105a1a8650ce73e43b9f244,18,4,2,16643,,,0,"[Doc] Annotate max api microversion in Antelope

Change-Id: Icc37b55bf17063eb3796d2934c35e53cd34011b2
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/91/878491/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/api/openstack/rest_api_version_history.rst'],1,3b5200f7208f521672580425876600577109208e,doc,2.78 (Maximum in 2023.1/Antelope) ---------------------------------,2.78 ----,2,2
openstack%2Fpuppet-watcher~master~I9c4804116384465fbefa419c1158a87ab8b2c872,openstack/puppet-watcher,master,I9c4804116384465fbefa419c1158a87ab8b2c872,Add per module policy service refresh,MERGED,2023-06-25 22:06:49.000000000,2023-06-26 16:30:29.000000000,2023-06-26 16:30:29.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-25 22:06:49.000000000', 'files': ['spec/classes/watcher_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/df8733d486a9c87ad5e8103c45d5b7011e41935e', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: I9c4804116384465fbefa419c1158a87ab8b2c872\n'}]",0,886933,df8733d486a9c87ad5e8103c45d5b7011e41935e,7,3,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: I9c4804116384465fbefa419c1158a87ab8b2c872
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/33/886933/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/watcher_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,df8733d486a9c87ad5e8103c45d5b7011e41935e,per-module-policy-refresh," tag => 'watcher',",,4,1
openstack%2Fkeystonemiddleware~stable%2Fxena~Ifb9dc54424256d5cffe557894b2d26b2401ebf92,openstack/keystonemiddleware,stable/xena,Ifb9dc54424256d5cffe557894b2d26b2401ebf92,Drop lower-constraints.txt and its testing,MERGED,2023-05-26 14:36:42.000000000,2023-06-26 16:22:34.000000000,2023-06-26 16:20:20.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-05-26 14:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/059025f5febf4461dd68c1913b183678f4961b1d', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92\n(cherry picked from commit d60ccd46b9d11a3127f20dd6da69d2faedb50269)\n(cherry picked from commit 67756adbb9cb7210fda08a2a40172a78699d0d09)\n'}, {'number': 2, 'created': '2023-06-02 14:35:41.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/8de54a8193985a33d6e7524010e85fde727fe0d2', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\nChange-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92\n(cherry picked from commit d60ccd46b9d11a3127f20dd6da69d2faedb50269)\n(cherry picked from commit 67756adbb9cb7210fda08a2a40172a78699d0d09)\n'}]",2,884389,8de54a8193985a33d6e7524010e85fde727fe0d2,16,5,2,7973,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

Change-Id: Ifb9dc54424256d5cffe557894b2d26b2401ebf92
(cherry picked from commit d60ccd46b9d11a3127f20dd6da69d2faedb50269)
(cherry picked from commit 67756adbb9cb7210fda08a2a40172a78699d0d09)
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/89/884389/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,059025f5febf4461dd68c1913b183678f4961b1d,drop-l-c-stable/yoga-stable/xena,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,94
openstack%2Fneutron-lib~master~I949cbd7e27b2183200b58878b45ed7c1d7b3d7a7,openstack/neutron-lib,master,I949cbd7e27b2183200b58878b45ed7c1d7b3d7a7,"Remove unnecessary required extension for ""network_ha"" extension",MERGED,2023-06-21 10:37:31.000000000,2023-06-26 16:18:02.000000000,2023-06-26 16:16:50.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2023-06-21 10:37:31.000000000', 'files': ['neutron_lib/api/definitions/network_ha.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/1763eeeb06eb5319ae591e7e13a3b1cb2063647b', 'message': 'Remove unnecessary required extension for ""network_ha"" extension\n\nThe L3 ""router"" extension is not needed for ""network_ha"". Furthemore,\nthis L3 ""router"" extension cannot be used with all ML2 plugins (for\nexample ML2/OVN uses ""ovn-router"" instead)\n\nRelated-Bug: #2016198\nChange-Id: I949cbd7e27b2183200b58878b45ed7c1d7b3d7a7\n'}]",2,886598,1763eeeb06eb5319ae591e7e13a3b1cb2063647b,10,5,1,16688,,,0,"Remove unnecessary required extension for ""network_ha"" extension

The L3 ""router"" extension is not needed for ""network_ha"". Furthemore,
this L3 ""router"" extension cannot be used with all ML2 plugins (for
example ML2/OVN uses ""ovn-router"" instead)

Related-Bug: #2016198
Change-Id: I949cbd7e27b2183200b58878b45ed7c1d7b3d7a7
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/98/886598/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/definitions/network_ha.py'],1,1763eeeb06eb5319ae591e7e13a3b1cb2063647b,bug/2016198,REQUIRED_EXTENSIONS = [],from neutron_lib.api.definitions import l3REQUIRED_EXTENSIONS = [l3.ALIAS],1,2
openstack%2Fpuppet-swift~master~I2bf7240f8c52aef8b4dd74ce5af12056377ab227,openstack/puppet-swift,master,I2bf7240f8c52aef8b4dd74ce5af12056377ab227,Expose hosts_allow/deny for rsyncd configuration.,MERGED,2023-06-05 12:10:46.000000000,2023-06-26 16:17:22.000000000,2023-06-26 16:16:10.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-05 12:10:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/fdcea61d3ad87aa87bb11e82bd9d25541774d452', 'message': 'Expose hosts_allow for rsyncd configuration.\n\nExpose hosts_allow for rsync configuration.\n\nChange-Id: I2bf7240f8c52aef8b4dd74ce5af12056377ab227\n'}, {'number': 2, 'created': '2023-06-05 12:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/c436db7ca5f461a0dcd6b3e08621729b2cd39afa', 'message': 'Expose hosts_allow for rsyncd configuration.\n\nExpose hosts_allow for rsync configuration.\n\nChange-Id: I2bf7240f8c52aef8b4dd74ce5af12056377ab227\n'}, {'number': 3, 'created': '2023-06-05 14:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/67e9a16d6fe51182564f1f782bf4e8f4995ccdf1', 'message': 'Expose hosts_allow for rsyncd configuration.\n\nExpose hosts_allow for rsync configuration.\n\nChange-Id: I2bf7240f8c52aef8b4dd74ce5af12056377ab227\n'}, {'number': 4, 'created': '2023-06-26 02:15:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/8e0f0f3d3d4841b9303c4a7c274840c4a7aedd5a', 'message': 'Expose hosts_allow/deny for rsyncd configuration.\n\nThis introduces the hosts_allow parameter and the hosts_deny parameter\nso that users can limit access to the rsync server.\n\nChange-Id: I2bf7240f8c52aef8b4dd74ce5af12056377ab227\n'}, {'number': 5, 'created': '2023-06-26 08:48:54.000000000', 'files': ['manifests/storage/all.pp', 'releasenotes/notes/hosts_allow-7795d5f8f9ccd24e.yaml', 'spec/defines/swift_storage_server_spec.rb', 'manifests/storage/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/de05151b9c8f058d164294b6951d2e30fd27e7a4', 'message': 'Expose hosts_allow/deny for rsyncd configuration.\n\nThis introduces the hosts_allow parameter and the hosts_deny parameter\nso that users can limit access to the rsync server.\n\nChange-Id: I2bf7240f8c52aef8b4dd74ce5af12056377ab227\n'}]",8,885280,de05151b9c8f058d164294b6951d2e30fd27e7a4,25,4,5,7130,,,0,"Expose hosts_allow/deny for rsyncd configuration.

This introduces the hosts_allow parameter and the hosts_deny parameter
so that users can limit access to the rsync server.

Change-Id: I2bf7240f8c52aef8b4dd74ce5af12056377ab227
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/80/885280/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/storage/server.pp'],1,fdcea61d3ad87aa87bb11e82bd9d25541774d452,rsync-hosts,"# [*hosts_allow*] # (optional) If not set, allows all hosts to connect to rsync. # Defaults to undef. # $hosts_allow = undef, hosts_allow => $hosts_allow, hosts_allow => $hosts_allow,",,7,0
openstack%2Fpuppet-swift~master~I0938d0525e0639d1647c4a86998240c41b7140f6,openstack/puppet-swift,master,I0938d0525e0639d1647c4a86998240c41b7140f6,Refactor unit tests of swift::storage::all,MERGED,2023-06-26 02:15:08.000000000,2023-06-26 16:16:08.000000000,2023-06-26 16:16:08.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 02:15:08.000000000', 'files': ['spec/classes/swift_storage_all_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/209a71a0163ad881d3169d4f3767bac1db3e2a86', 'message': 'Refactor unit tests of swift::storage::all\n\nChange-Id: I0938d0525e0639d1647c4a86998240c41b7140f6\n'}]",0,886938,209a71a0163ad881d3169d4f3767bac1db3e2a86,8,3,1,9816,,,0,"Refactor unit tests of swift::storage::all

Change-Id: I0938d0525e0639d1647c4a86998240c41b7140f6
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/38/886938/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/swift_storage_all_spec.rb'],1,209a71a0163ad881d3169d4f3767bac1db3e2a86,," :splice => false, [ { :storage_local_net_ip => '127.0.0.1' }, { :devices => '/tmp/node', :storage_local_net_ip => '10.0.0.1', :object_port => ""7000"", :container_port => ""7001"", :account_port => ""7002"", :object_pipeline => ['healthcheck', 'object-server'], :container_pipeline => ['healthcheck', 'container-server'], :account_pipeline => ['healthcheck', 'account-server'], :splice => true, :log_facility => 'LOG_LOCAL3', :max_connections => 20, :incoming_chmod => '0644', :outgoing_chmod => '0644', :log_requests => false, :rsync_timeout => 3600, :rsync_bwlimit => 1024 } :provider => nil, :ensure => 'running', :enable => true, :hasstatus => true )} :provider => nil, :ensure => 'running', :enable => true, :hasstatus => true :ensure => 'directory' :type => 'account', :config_file_path => 'account-server.conf', :incoming_chmod => param_hash[:incoming_chmod], :outgoing_chmod => param_hash[:outgoing_chmod], :pipeline => param_hash[:account_pipeline] || ['account-server'] :type => 'object', :config_file_path => 'object-server.conf', :incoming_chmod => param_hash[:incoming_chmod], :outgoing_chmod => param_hash[:outgoing_chmod], :pipeline => param_hash[:object_pipeline] || ['object-server'], :splice => param_hash[:splice], :rsync_timeout => param_hash[:rsync_timeout], :rsync_bwlimit => param_hash[:rsync_bwlimit], :type => 'container', :config_file_path => 'container-server.conf', :incoming_chmod => param_hash[:incoming_chmod], :outgoing_chmod => param_hash[:outgoing_chmod], :pipeline => param_hash[:container_pipeline] || ['container-server'] [ { :storage_local_net_ip => '127.0.0.1' }, { :devices => '/tmp/node', :storage_local_net_ip => '10.0.0.1', :object_port => '7000', :container_port => '7001', :account_port => '7002' } :provider => nil, :ensure => 'running', :enable => true, :hasstatus => true )} it { is_expected.to contain_service(""swift-#{type}-replicator"").with( :provider => nil, :ensure => 'running', :enable => true, :hasstatus => true )}"," [{ :storage_local_net_ip => '127.0.0.1' }, { :devices => '/tmp/node', :storage_local_net_ip => '10.0.0.1', :object_port => ""7000"", :container_port => ""7001"", :account_port => ""7002"", :object_pipeline => ['healthcheck', 'object-server'], :container_pipeline => ['healthcheck', 'container-server'], :account_pipeline => ['healthcheck', 'account-server'], :splice => true, :log_facility => ['LOG_LOCAL2', 'LOG_LOCAL3'], :incoming_chmod => '0644', :outgoing_chmod => '0644', :log_requests => false, :max_connections => 20, :rsync_timeout => 3600, :rsync_bwlimit => 1024 } {:provider => nil, :ensure => 'running', :enable => true, :hasstatus => true })} {:provider => nil, :ensure => 'running', :enable => true, :hasstatus => true } {:ensure => 'directory'} let :storage_server_defaults do {:devices => param_hash[:devices], :storage_local_net_ip => param_hash[:storage_local_net_ip], :incoming_chmod => param_hash[:incoming_chmod], :outgoing_chmod => param_hash[:outgoing_chmod], :log_facility => param_hash[:log_facility], :max_connections => param_hash[:max_connections] } end {:type => 'account', :config_file_path => 'account-server.conf', :incoming_chmod => param_hash[:incoming_chmod], :outgoing_chmod => param_hash[:outgoing_chmod], :pipeline => param_hash[:account_pipeline] || ['account-server'] }.merge(storage_server_defaults) {:type => 'object', :config_file_path => 'object-server.conf', :incoming_chmod => param_hash[:incoming_chmod], :outgoing_chmod => param_hash[:outgoing_chmod], :pipeline => param_hash[:object_pipeline] || ['object-server'], :splice => param_hash[:splice] || false }.merge(storage_server_defaults), :rsync_timeout => param_hash[:rsync_timeout], :rsync_bwlimit => param_hash[:rsync_bwlimit], {:type => 'container', :config_file_path => 'container-server.conf', :incoming_chmod => param_hash[:incoming_chmod], :outgoing_chmod => param_hash[:outgoing_chmod], :pipeline => param_hash[:container_pipeline] || ['container-server'] }.merge(storage_server_defaults) [{ :storage_local_net_ip => '127.0.0.1' }, { :devices => '/tmp/node', :storage_local_net_ip => '10.0.0.1', :object_port => '7000', :container_port => '7001', :account_port => '7002' } {:provider => nil, :ensure => 'running', :enable => true, :hasstatus => true })} it { is_expected.to contain_service(""swift-#{type}-replicator"").with( {:provider => nil, :ensure => 'running', :enable => true, :hasstatus => true } )}",69,78
openstack%2Fpuppet-swift~master~I8fa8f89b71a5a128bc7a01a7356498f023073e5a,openstack/puppet-swift,master,I8fa8f89b71a5a128bc7a01a7356498f023073e5a,Fix wrong indent for rsync_module_per_device tests,MERGED,2023-06-26 02:15:08.000000000,2023-06-26 16:16:07.000000000,2023-06-26 16:16:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 02:15:08.000000000', 'files': ['spec/defines/swift_storage_server_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/6a998659f0fbcdefec1b814145c110da36df8600', 'message': 'Fix wrong indent for rsync_module_per_device tests\n\nChange-Id: I8fa8f89b71a5a128bc7a01a7356498f023073e5a\n'}]",0,886937,6a998659f0fbcdefec1b814145c110da36df8600,8,3,1,9816,,,0,"Fix wrong indent for rsync_module_per_device tests

Change-Id: I8fa8f89b71a5a128bc7a01a7356498f023073e5a
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/37/886937/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/swift_storage_server_spec.rb'],1,6a998659f0fbcdefec1b814145c110da36df8600,," it { is_expected.to contain_rsync__server__module('account_sda').with( :path => '/srv/node', :lock_file => '/var/lock/account_sda.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_rsync__server__module('account_sdb').with( :path => '/srv/node', :lock_file => '/var/lock/account_sdb.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_swift_account_config('account-replicator/rsync_module').with_value('{replication_ip}::account_{device}') } it { is_expected.to contain_rsync__server__module('container_sda').with( :path => '/srv/node', :lock_file => '/var/lock/container_sda.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_rsync__server__module('container_sdb').with( :path => '/srv/node', :lock_file => '/var/lock/container_sdb.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_swift_container_config('container-replicator/rsync_module').with_value('{replication_ip}::container_{device}') } it { is_expected.to contain_rsync__server__module('object_sda').with( :path => '/srv/node', :lock_file => '/var/lock/object_sda.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_rsync__server__module('object_sdb').with( :path => '/srv/node', :lock_file => '/var/lock/object_sdb.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_swift_object_config('object-replicator/rsync_module').with_value('{replication_ip}::object_{device}') }"," it { is_expected.to contain_rsync__server__module('account_sda').with( :path => '/srv/node', :lock_file => '/var/lock/account_sda.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_rsync__server__module('account_sdb').with( :path => '/srv/node', :lock_file => '/var/lock/account_sdb.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_swift_account_config('account-replicator/rsync_module').with_value('{replication_ip}::account_{device}') } it { is_expected.to contain_rsync__server__module('container_sda').with( :path => '/srv/node', :lock_file => '/var/lock/container_sda.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_rsync__server__module('container_sdb').with( :path => '/srv/node', :lock_file => '/var/lock/container_sdb.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_swift_container_config('container-replicator/rsync_module').with_value('{replication_ip}::container_{device}') } it { is_expected.to contain_rsync__server__module('object_sda').with( :path => '/srv/node', :lock_file => '/var/lock/object_sda.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_rsync__server__module('object_sdb').with( :path => '/srv/node', :lock_file => '/var/lock/object_sdb.lock', :uid => 'swift', :gid => 'swift', :incoming_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :outgoing_chmod => 'Du=rwx,g=rx,o=rx,Fu=rw,g=r,o=r', :max_connections => 25, :read_only => false, )} it { is_expected.to contain_swift_object_config('object-replicator/rsync_module').with_value('{replication_ip}::object_{device}') }",66,66
openstack%2Fpuppet-swift~master~Ie0aa3dbf18de4fdd831a0c7c89647193815ac9a8,openstack/puppet-swift,master,Ie0aa3dbf18de4fdd831a0c7c89647193815ac9a8,Fix inconsistent parameter order,MERGED,2023-06-26 01:43:48.000000000,2023-06-26 16:16:06.000000000,2023-06-26 16:16:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 01:43:48.000000000', 'files': ['manifests/storage/all.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/21e198acbba8ca87afe2e1263fd95084289f68b7', 'message': 'Fix inconsistent parameter order\n\nChange-Id: Ie0aa3dbf18de4fdd831a0c7c89647193815ac9a8\n'}]",0,886936,21e198acbba8ca87afe2e1263fd95084289f68b7,7,3,1,9816,,,0,"Fix inconsistent parameter order

Change-Id: Ie0aa3dbf18de4fdd831a0c7c89647193815ac9a8
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/36/886936/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/storage/all.pp'],1,21e198acbba8ca87afe2e1263fd95084289f68b7,,"# [*account_pipeline*] # (optional) Specify the account pipeline # Defaults to undef # $mount_check = true,","# [*account_pipeline*] # (optional) Specify the account pipeline # Defaults to undef # $mount_check = true,",5,5
openstack%2Fpuppet-zaqar~master~Id77056322ad610006ac0f216870d679b250ab702,openstack/puppet-zaqar,master,Id77056322ad610006ac0f216870d679b250ab702,Add per module policy service refresh,MERGED,2023-06-25 22:06:58.000000000,2023-06-26 15:58:02.000000000,2023-06-26 15:58:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-25 22:06:58.000000000', 'files': ['spec/classes/zaqar_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/7d5258c9a9182e7789d25e6524dfbad4f32d7f26', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Id77056322ad610006ac0f216870d679b250ab702\n'}]",0,886934,7d5258c9a9182e7789d25e6524dfbad4f32d7f26,7,3,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Id77056322ad610006ac0f216870d679b250ab702
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/34/886934/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/zaqar_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,7d5258c9a9182e7789d25e6524dfbad4f32d7f26,per-module-policy-refresh," tag => 'zaqar',",,4,1
openstack%2Fironic~master~I3d29f347cd943858df0d85358073daf5575a07ad,openstack/ironic,master,I3d29f347cd943858df0d85358073daf5575a07ad,"Revert ""Disabling test_upgrade_twice temporarily for CI fix""",MERGED,2023-06-15 17:13:17.000000000,2023-06-26 15:51:09.000000000,2023-06-26 15:49:58.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2023-06-15 17:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a83cbcba881f291007da2c085d26888e020a98be', 'message': 'Revert ""Disabling test_upgrade_twice temporarily for CI fix""\n\nThis reverts commit b4f8209b99af32d8d2a646591af9b62436aad3d8.\n\nChange-Id: I3d29f347cd943858df0d85358073daf5575a07ad\n'}, {'number': 2, 'created': '2023-06-23 23:33:50.000000000', 'files': ['ironic/tests/unit/db/sqlalchemy/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ee963d3f0d831bb07c9549491c4c0bd690034935', 'message': 'Revert ""Disabling test_upgrade_twice temporarily for CI fix""\n\nThis reverts commit b4f8209b99af32d8d2a646591af9b62436aad3d8.\n\nChange-Id: I3d29f347cd943858df0d85358073daf5575a07ad\nDepends-on: https://review.opendev.org/c/openstack/ironic/+/886881\n'}]",5,886196,ee963d3f0d831bb07c9549491c4c0bd690034935,28,5,2,10342,,,0,"Revert ""Disabling test_upgrade_twice temporarily for CI fix""

This reverts commit b4f8209b99af32d8d2a646591af9b62436aad3d8.

Change-Id: I3d29f347cd943858df0d85358073daf5575a07ad
Depends-on: https://review.opendev.org/c/openstack/ironic/+/886881
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/886196/2 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/db/sqlalchemy/test_migrations.py'],1,a83cbcba881f291007da2c085d26888e020a98be,," def test_upgrade_twice(self): with patch_with_engine(self.engine): self.migration_api.upgrade('31baaf680d2b') v1 = self.migration_api.version() self.migration_api.upgrade('head') v2 = self.migration_api.version() self.assertNotEqual(v1, v2)","# NOTE(JayF): bug2023316 means we need to disable this for now. We need # to fix the hangs in this test then re-enable it as quickly # as possible # def test_upgrade_twice(self): # with patch_with_engine(self.engine): # self.migration_api.upgrade('31baaf680d2b') # v1 = self.migration_api.version() # self.migration_api.upgrade('head') # v2 = self.migration_api.version() # self.assertNotEqual(v1, v2)",7,10
openstack%2Fpuppet-cinder~stable%2F2023.1~Idca647a1c149d93f3c477ac448ddc69ac5bbb2b1,openstack/puppet-cinder,stable/2023.1,Idca647a1c149d93f3c477ac448ddc69ac5bbb2b1,Fix missing inclusion of cinder::params,MERGED,2023-06-26 02:18:40.000000000,2023-06-26 15:45:19.000000000,2023-06-26 15:45:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-26 02:18:40.000000000', 'files': ['manifests/backend/dellemc_powermax.pp', 'spec/defines/cinder_backend_dellemc_powermax_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/ea76abebbb094e97ff0adc6afb5de65efcd04684', 'message': 'Fix missing inclusion of cinder::params\n\nThis fixes the missing inclusion of cinder::params, to ensure\nthe subsequent reference works properly.\n\nChange-Id: Idca647a1c149d93f3c477ac448ddc69ac5bbb2b1\n(cherry picked from commit 8d00e748ef3df3c4a5d92477df08a6bcc238a4d6)\n'}]",0,886835,ea76abebbb094e97ff0adc6afb5de65efcd04684,7,3,1,9816,,,0,"Fix missing inclusion of cinder::params

This fixes the missing inclusion of cinder::params, to ensure
the subsequent reference works properly.

Change-Id: Idca647a1c149d93f3c477ac448ddc69ac5bbb2b1
(cherry picked from commit 8d00e748ef3df3c4a5d92477df08a6bcc238a4d6)
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/35/886835/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_powermax.pp', 'spec/defines/cinder_backend_dellemc_powermax_spec.rb']",2,ea76abebbb094e97ff0adc6afb5de65efcd04684,," is_expected.to contain_package('pywbem').with( :ensure => 'installed', :name => platform_params[:pywbem_package_name], :tag => 'cinder-support-package', ) let :platform_params do case facts[:os]['family'] when 'Debian' { :pywbem_package_name => 'python-pywbem' } when 'RedHat' { :pywbem_package_name => 'pywbem' } end end ",,20,0
openstack%2Fpuppet-placement~master~Iaf0bae66224d568a2a05f4ac5281c36bde2705e0,openstack/puppet-placement,master,Iaf0bae66224d568a2a05f4ac5281c36bde2705e0,Add per module policy service refresh,MERGED,2023-06-25 22:06:13.000000000,2023-06-26 15:38:34.000000000,2023-06-26 15:38:34.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2023-06-25 22:06:13.000000000', 'files': ['spec/classes/placement_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/11e694b010b26dd1b9065f52b759366dc24ca7b8', 'message': 'Add per module policy service refresh\n\nUpdating the policies for this project should only\nrefresh the services that reads it.\n\nChange-Id: Iaf0bae66224d568a2a05f4ac5281c36bde2705e0\n'}]",0,886929,11e694b010b26dd1b9065f52b759366dc24ca7b8,7,3,1,16137,,,0,"Add per module policy service refresh

Updating the policies for this project should only
refresh the services that reads it.

Change-Id: Iaf0bae66224d568a2a05f4ac5281c36bde2705e0
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/29/886929/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/placement_policy_spec.rb', 'manifests/deps.pp', 'manifests/policy.pp']",3,11e694b010b26dd1b9065f52b759366dc24ca7b8,per-module-policy-refresh," tag => 'placement',",,4,1
